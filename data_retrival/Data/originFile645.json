{"items":[{"tags":["java","arrays","multidimensional-array","random"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1676492271,"post_id":75464938,"comment_id":133150011,"body_markdown":"arrSize is 2d array that mean it&#39;s array of arrays so`arrSize[index]` will return the array on index `index` so `arrSize[index] = Integer.MIN_VALUE` it complain here that you tried to put int value inside that array which is array of int not an int thi the error you get","body":"arrSize is 2d array that mean it&#39;s array of arrays so<code>arrSize[index]</code> will return the array on index <code>index</code> so <code>arrSize[index] = Integer.MIN_VALUE</code> it complain here that you tried to put int value inside that array which is array of int not an int thi the error you get"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676497401,"post_id":75464938,"comment_id":133151291,"body_markdown":"Don&#39;t you already have helpful or usable answers in your earlier question? [I need to find the top 5 numbers in a 2D array of random numbers](https://stackoverflow.com/q/75461466/12567365) Instead of repeating much of the same code, you could write a [mre] here - just enough code to recreate this new (very specific) problem - but no extra irrelevant code.","body":"Don&#39;t you already have helpful or usable answers in your earlier question? <a href=\"https://stackoverflow.com/q/75461466/12567365\">I need to find the top 5 numbers in a 2D array of random numbers</a> Instead of repeating much of the same code, you could write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here - just enough code to recreate this new (very specific) problem - but no extra irrelevant code."}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676492623,"creation_date":1676492623,"answer_id":75465108,"question_id":75464938,"body_markdown":"You declare your `arrSize` here\r\n```java\r\nint[][] arrSize = new int [4][5];\r\n```\r\n\r\nand try to set it&#39;s value here\r\n```java\r\narrSize[index] = Integer.MIN_VALUE;\r\n```\r\n\r\nThe Object at `arrSize[index]` is an array.\r\n\r\nRemember that a 2D array basically looks like this:\r\n```\r\narrSize\r\n  - arrSize[0]\r\n    - arrSize[0][0]\r\n    - arrSize[0][1]\r\n  - arrSize[1]\r\n    - arrSize[1][0]\r\n    - arrSize[1][1]\r\n  - arrSize[2]\r\n    - arrSize[2][0]\r\n    - arrSize[2][1]\r\n  - arrSize[3]\r\n    - arrSize[3][0]\r\n    - arrSize[3][1]\r\n```\r\nBecause index is a single int, you are assentially calling arrSize[0], which contains `arrSize[0][0]` and `arrSize[0][1]`.  \r\n\r\nThe [`Integer.MIN_VALUE`](https://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MIN_VALUE) is not an array of integers.  It is an `int`.  You cannot assign `int` to `int[]`.","title":"How to get the top 5 numbers from a 2D array of random numbers","body":"<p>You declare your <code>arrSize</code> here</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] arrSize = new int [4][5];\n</code></pre>\n<p>and try to set it's value here</p>\n<pre class=\"lang-java prettyprint-override\"><code>arrSize[index] = Integer.MIN_VALUE;\n</code></pre>\n<p>The Object at <code>arrSize[index]</code> is an array.</p>\n<p>Remember that a 2D array basically looks like this:</p>\n<pre><code>arrSize\n  - arrSize[0]\n    - arrSize[0][0]\n    - arrSize[0][1]\n  - arrSize[1]\n    - arrSize[1][0]\n    - arrSize[1][1]\n  - arrSize[2]\n    - arrSize[2][0]\n    - arrSize[2][1]\n  - arrSize[3]\n    - arrSize[3][0]\n    - arrSize[3][1]\n</code></pre>\n<p>Because index is a single int, you are assentially calling arrSize[0], which contains <code>arrSize[0][0]</code> and <code>arrSize[0][1]</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MIN_VALUE\" rel=\"nofollow noreferrer\"><code>Integer.MIN_VALUE</code></a> is not an array of integers.  It is an <code>int</code>.  You cannot assign <code>int</code> to <code>int[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":24235543,"reputation":51,"user_id":18188725,"display_name":"kyrond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676492922,"creation_date":1676492854,"answer_id":75465137,"question_id":75464938,"body_markdown":"As you can see in other parts of the code, to access values in 2D array arrSize, you need 2 indexes in your case (and usually) `i` and `j`. \r\n\r\nYou need to save both `i` and `j` after you find the highest number.\r\n\r\n```\r\nif (max &lt; arrSize[i][j]) {\r\n   max = arrSize[i][j];\r\n   indexI = i;\r\n   indexJ = j;\r\n}\r\n```\r\n\r\nand then\r\n\r\n```\r\narrSize[indexI][indexJ] = Integer.MIN_VALUE;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nAs to why you got the error, `arrSize[i]` gets you a 1D array. It&#39;s still an array and you cannot set an array to an integer (`Integer.MIN_VALUE`). in Java represented as `int[]` in the error message.\r\n\r\n\r\n----------\r\n\r\n\r\nThe algorithm could be improved, instead of using a single integer `max` for saving the highest value, you could use a `maxArr` of the same size as the number of highest numbers you want (in your case 5) and check against all of the numbers in `maxArr` using a for in place of \r\n\r\n```\r\nif (max &lt; arrSize[i][j]) {\r\n   max = arrSize[i][j];\r\n   index = i;\r\n}\r\n```\r\n\r\nThat would mean you could remove the index (or indexI and indexJ) and topmost `for` cycle (`for (int p = 0; p &lt; 5; p++)`). But that&#39;s another topic, and one you should learn yourself.","title":"How to get the top 5 numbers from a 2D array of random numbers","body":"<p>As you can see in other parts of the code, to access values in 2D array arrSize, you need 2 indexes in your case (and usually) <code>i</code> and <code>j</code>.</p>\n<p>You need to save both <code>i</code> and <code>j</code> after you find the highest number.</p>\n<pre><code>if (max &lt; arrSize[i][j]) {\n   max = arrSize[i][j];\n   indexI = i;\n   indexJ = j;\n}\n</code></pre>\n<p>and then</p>\n<pre><code>arrSize[indexI][indexJ] = Integer.MIN_VALUE;\n</code></pre>\n<hr />\n<p>As to why you got the error, <code>arrSize[i]</code> gets you a 1D array. It's still an array and you cannot set an array to an integer (<code>Integer.MIN_VALUE</code>). in Java represented as <code>int[]</code> in the error message.</p>\n<hr />\n<p>The algorithm could be improved, instead of using a single integer <code>max</code> for saving the highest value, you could use a <code>maxArr</code> of the same size as the number of highest numbers you want (in your case 5) and check against all of the numbers in <code>maxArr</code> using a for in place of</p>\n<pre><code>if (max &lt; arrSize[i][j]) {\n   max = arrSize[i][j];\n   index = i;\n}\n</code></pre>\n<p>That would mean you could remove the index (or indexI and indexJ) and topmost <code>for</code> cycle (<code>for (int p = 0; p &lt; 5; p++)</code>). But that's another topic, and one you should learn yourself.</p>\n"}],"owner":{"display_name":"user21220101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75465137,"answer_count":2,"score":-1,"last_activity_date":1676492922,"creation_date":1676491532,"question_id":75464938,"body_markdown":"I am pretty new to java and am just learning 2D arrays. I am trying to get the top 5 numbers to display from a random list. I think this could work but am not sure why I am getting an error. One other thing is that I cannot use the sort function.\r\n\r\n\r\n\r\nCode here: \r\n```\r\npublic static void main(String[] args) {\r\n //Random Number stuff\r\n\t\tRandom rand = new Random();\r\n\t\t\r\n\t\tint[] large = new int [5];\r\n\t\t\r\n\t\tint max = 0, index;\r\n\r\n\t\tint[][] arrSize = new int [4][5];\r\n\t\t\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; arrSize.length; i++) {\r\n\t\t\tfor (int j=0; j&lt; arrSize[i].length; j++) {\r\n\t\t\t\tarrSize[i][j] = rand.nextInt(89) + 10;\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(arrSize[i][j] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t}\r\n\t\t// Top 5\r\n\t\tfor (int p = 0; p &lt; 5; p++) {\r\n\t\tmax = arrSize [0][0];\r\n\t\tindex = 0;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; arrSize.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; arrSize[i].length; j++) {\r\n\t\t\t\t\r\n\t\t\t\tif (max &lt; arrSize[i][j]) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tmax = arrSize[i][j];\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tlarge[p] = max;\r\n\t\tarrSize[index] = Integer.MIN_VALUE;  //Error here\r\n\t\t\r\n\t\t\tSystem.out.println(&quot;Highest Number: &quot; + large[p]);\r\n\t}\r\n \r\n}\r\n}\r\n```\r\nError text:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tType mismatch: cannot convert from int to int[]\r\n\r\n\tat secondAssignment.BiggestNumbersRectangular.main(BiggestNumbersRectangular.java:47)\r\n\r\n```\r\n\r\n\r\nI am not sure why I am getting an error, any help would appreciated. If anyone else has any answers for how I could get the top 5 in a different way that would also be appreciated.\r\n","title":"How to get the top 5 numbers from a 2D array of random numbers","body":"<p>I am pretty new to java and am just learning 2D arrays. I am trying to get the top 5 numbers to display from a random list. I think this could work but am not sure why I am getting an error. One other thing is that I cannot use the sort function.</p>\n<p>Code here:</p>\n<pre><code>public static void main(String[] args) {\n //Random Number stuff\n        Random rand = new Random();\n        \n        int[] large = new int [5];\n        \n        int max = 0, index;\n\n        int[][] arrSize = new int [4][5];\n        \n        \n        for (int i = 0; i &lt; arrSize.length; i++) {\n            for (int j=0; j&lt; arrSize[i].length; j++) {\n                arrSize[i][j] = rand.nextInt(89) + 10;\n                \n                System.out.print(arrSize[i][j] + &quot; &quot;);\n            }\n                \n            System.out.println();\n            \n        }\n        // Top 5\n        for (int p = 0; p &lt; 5; p++) {\n        max = arrSize [0][0];\n        index = 0;\n        \n        for (int i = 0; i &lt; arrSize.length; i++) {\n            for (int j = 0; j &lt; arrSize[i].length; j++) {\n                \n                if (max &lt; arrSize[i][j]) {\n                    \n                    max = arrSize[i][j];\n                    index = i;\n                    \n                }\n        }\n        }\n        \n        \n        large[p] = max;\n        arrSize[index] = Integer.MIN_VALUE;  //Error here\n        \n            System.out.println(&quot;Highest Number: &quot; + large[p]);\n    }\n \n}\n}\n</code></pre>\n<p>Error text:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    Type mismatch: cannot convert from int to int[]\n\n    at secondAssignment.BiggestNumbersRectangular.main(BiggestNumbersRectangular.java:47)\n\n</code></pre>\n<p>I am not sure why I am getting an error, any help would appreciated. If anyone else has any answers for how I could get the top 5 in a different way that would also be appreciated.</p>\n"},{"tags":["java","sockets","wireshark"],"comments":[{"owner":{"account_id":1746734,"reputation":3001,"user_id":1596750,"display_name":"Ross Jacobs"},"score":0,"creation_date":1588884147,"post_id":61660681,"comment_id":109080794,"body_markdown":"It&#39;s unclear what your question is. Is wireshark able to detect desired traffic but your code does not?","body":"It&#39;s unclear what your question is. Is wireshark able to detect desired traffic but your code does not?"},{"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"score":0,"creation_date":1588894813,"post_id":61660681,"comment_id":109084632,"body_markdown":"wireshark can catch tcp data but my java code can not read byte","body":"wireshark can catch tcp data but my java code can not read byte"},{"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"score":0,"creation_date":1596117091,"post_id":61660681,"comment_id":111713437,"body_markdown":"The problem was caused by someone config my computer.It was solved when I patch","body":"The problem was caused by someone config my computer.It was solved when I patch"}],"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676492710,"creation_date":1588862647,"question_id":61660681,"body_markdown":"Recently，I code a simple demo of socket to connect my server,which support sftp service.\r\n```\r\nSocket soc = new Socket(&quot;172.16.195.250&quot;,22); // ip:172.16.195.250 port:22\r\nboolean isConnect = soc.isConnect(); //return true when project run\r\nint b = 0;\r\nInputStream is = soc.getInputStream();\r\nwhile((b=is.read())!=-1){\r\n    if(b==13){\r\n        break;\r\n    }\r\n    System.out.println(b);\r\n}\r\n```\r\nThe demo will run normally in many people&#39;s computers including mine，The ASCII of SSH version can be output on the console，but the demo block at the &#39;read()&#39; running at some people&#39;s computer.\r\n\r\nWhat my know is that the package of tcp has been arrived the net card,for the reason that I can catch the tcp package which from 172.16.195.250:22 to my client with tool named &#39;wireshark&#39;.\r\n\r\nMy firewall has shutdowned,but I don&#39;t konw it is completely.\r\n\r\nSome people who encountered such a situation can give me help ~\r\nI am a newbie and my English is poor ，hoping u to understanding my problem. Thanks~","title":"wireshark can catch tcp package，but my socket can not recieve data","body":"<p>Recently，I code a simple demo of socket to connect my server,which support sftp service.</p>\n\n<pre><code>Socket soc = new Socket(\"172.16.195.250\",22); // ip:172.16.195.250 port:22\nboolean isConnect = soc.isConnect(); //return true when project run\nint b = 0;\nInputStream is = soc.getInputStream();\nwhile((b=is.read())!=-1){\n    if(b==13){\n        break;\n    }\n    System.out.println(b);\n}\n</code></pre>\n\n<p>The demo will run normally in many people's computers including mine，The ASCII of SSH version can be output on the console，but the demo block at the 'read()' running at some people's computer.</p>\n\n<p>What my know is that the package of tcp has been arrived the net card,for the reason that I can catch the tcp package which from 172.16.195.250:22 to my client with tool named 'wireshark'.</p>\n\n<p>My firewall has shutdowned,but I don't konw it is completely.</p>\n\n<p>Some people who encountered such a situation can give me help ~\nI am a newbie and my English is poor ，hoping u to understanding my problem. Thanks~</p>\n"},{"tags":["java","apache-spark","hbase"],"owner":{"account_id":5422321,"reputation":922,"user_id":4315608,"accept_rate":33,"display_name":"Sudarsana Kasireddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676492518,"creation_date":1676492192,"question_id":75465049,"body_markdown":"I&#39;m new to Spark. I need to compare two JavaRDD streams from hbase clusters using spark and export the differences to files. Data will be in billions of records. is there any way I can compare 2 JavaRDD using java?\r\n","title":"How to compare two JavaRDDs?","body":"<p>I'm new to Spark. I need to compare two JavaRDD streams from hbase clusters using spark and export the differences to files. Data will be in billions of records. is there any way I can compare 2 JavaRDD using java?</p>\n"},{"tags":["java","android","android-bluetooth"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1676498834,"post_id":75465089,"comment_id":133151609,"body_markdown":"Just a quick shot - are you granting runtime permissions (or did this manually on the &quot;running&quot; phone) ?","body":"Just a quick shot - are you granting runtime permissions (or did this manually on the &quot;running&quot; phone) ?"},{"owner":{"account_id":27796864,"reputation":1,"user_id":21222156,"display_name":"Martinator"},"score":0,"creation_date":1676543094,"post_id":75465089,"comment_id":133159548,"body_markdown":"yes, I am granting runtime permissions. Location permission in this case.","body":"yes, I am granting runtime permissions. Location permission in this case."}],"owner":{"account_id":27796864,"reputation":1,"user_id":21222156,"display_name":"Martinator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676492464,"creation_date":1676492464,"question_id":75465089,"body_markdown":"I am working on a bluetooth application. When I run the app on my phone and press the button that is supposed to run the startDiscovery() method, it works fine for me. But when I try the same thing on another phone, it doesn&#39;t work. It does not start searching for devices. Both phones run Android 11.\r\nThis is the code I have:\r\n\r\n```\r\n        btnSearch.setOnClickListener(new View.OnClickListener() {\r\n            @SuppressLint(&quot;MissingPermission&quot;)\r\n            @Override\r\n            public void onClick(View v) {\r\n                enableBt();\r\n                txtStatus.setText(&quot;Searching...&quot;);\r\n                btnSearch.setEnabled(false);\r\n                btnCancel.setVisibility(View.VISIBLE);\r\n                pbLoading.setVisibility(View.VISIBLE);\r\n                deviceList.clear();\r\n                addresses.clear();\r\n                setAdapter();\r\n                bluetoothAdapter.startDiscovery();\r\n            }\r\n        });\r\n```\r\nI have all the necessary permissions written in the AndroidManifest file:\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n```\r\n\r\nI request from user for ACCESS_FINE_LOCATION permission in MainActivity.java. Which should also automatically allow ACCESS_COARSE_LOCATION.(right?). Both phones get location permission request, and both phones get bluetooth enable request, but only one scans for other bluetooth devices when the btnSearch is pressed.\r\n\r\n\r\n\r\nI tried to ask for BLUETOOTH_SCAN which isn&#39;t required for android 11 if I&#39;m right. And I am pretty much out of ideas.","title":"BluetoothAdapter.startDiscovery() works on one phone and not on the other, both are android 11 (api 30)","body":"<p>I am working on a bluetooth application. When I run the app on my phone and press the button that is supposed to run the startDiscovery() method, it works fine for me. But when I try the same thing on another phone, it doesn't work. It does not start searching for devices. Both phones run Android 11.\nThis is the code I have:</p>\n<pre><code>        btnSearch.setOnClickListener(new View.OnClickListener() {\n            @SuppressLint(&quot;MissingPermission&quot;)\n            @Override\n            public void onClick(View v) {\n                enableBt();\n                txtStatus.setText(&quot;Searching...&quot;);\n                btnSearch.setEnabled(false);\n                btnCancel.setVisibility(View.VISIBLE);\n                pbLoading.setVisibility(View.VISIBLE);\n                deviceList.clear();\n                addresses.clear();\n                setAdapter();\n                bluetoothAdapter.startDiscovery();\n            }\n        });\n</code></pre>\n<p>I have all the necessary permissions written in the AndroidManifest file:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n</code></pre>\n<p>I request from user for ACCESS_FINE_LOCATION permission in MainActivity.java. Which should also automatically allow ACCESS_COARSE_LOCATION.(right?). Both phones get location permission request, and both phones get bluetooth enable request, but only one scans for other bluetooth devices when the btnSearch is pressed.</p>\n<p>I tried to ask for BLUETOOTH_SCAN which isn't required for android 11 if I'm right. And I am pretty much out of ideas.</p>\n"},{"tags":["java","couchbase-lite"],"answers":[{"tags":[],"owner":{"account_id":911472,"reputation":6655,"user_id":945226,"accept_rate":70,"display_name":"G. Blake Meike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676492315,"creation_date":1676492315,"answer_id":75465067,"question_id":75445597,"body_markdown":"I don&#39;t think you can do this with the QueryBuilder interface.  SQL+, however, has a function: &quot;IFMISSINGORNULL(arg1, arg2)&quot; whose value is its first argument, if ISMISSINGORNULL is false for that argument and its second argument otherwise.  You should be able to use the query:\r\n\r\n&quot;select * from _ order by IFMISSINGORNULL(birthname, lastname)&quot;\r\n\r\nFWIW, the ResultSet produced by Query.execute() should be closed.  It is `AutoClosable` so you might do something like this:\r\n\r\n    final Query query = db.createQuery(&quot;select * from _ order by IFMISSINGORNULL(birthname, lastname)&quot;);\r\n    try (ResultSet results = query.execute()) {\r\n        // parse the results...\r\n    }","title":"Couchbase Lite - use coalesce / ifNullOrMissing in order by clause","body":"<p>I don't think you can do this with the QueryBuilder interface.  SQL+, however, has a function: &quot;IFMISSINGORNULL(arg1, arg2)&quot; whose value is its first argument, if ISMISSINGORNULL is false for that argument and its second argument otherwise.  You should be able to use the query:</p>\n<p>&quot;select * from _ order by IFMISSINGORNULL(birthname, lastname)&quot;</p>\n<p>FWIW, the ResultSet produced by Query.execute() should be closed.  It is <code>AutoClosable</code> so you might do something like this:</p>\n<pre><code>final Query query = db.createQuery(&quot;select * from _ order by IFMISSINGORNULL(birthname, lastname)&quot;);\ntry (ResultSet results = query.execute()) {\n    // parse the results...\n}\n</code></pre>\n"}],"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676492315,"creation_date":1676365905,"question_id":75445597,"body_markdown":"I have documents stored in a **couchbase lite** database. I use the [query builder](https://docs.couchbase.com/couchbase-lite/current/java/querybuilder.html) to request these documents in **Java**.\r\n\r\nI would like to to order the retrieved documents given two properties: **if one is missing, I&#39;d like to use the value of another** for the ordering.\r\n\r\nFor example, considering these data stored in the couchbase lite:\r\n\r\n```json\r\n{\r\n    &quot;firstname&quot;:&quot;Russell&quot;,\r\n    &quot;lastname&quot;:&quot;Macdonald&quot;\r\n},\r\n{\r\n    &quot;firstname&quot;:&quot;Brielle&quot;\r\n    &quot;birthname&quot;:&quot;Vaughn&quot;\r\n    &quot;lastname&quot;:&quot;Bates&quot;\r\n},\r\n{\r\n    &quot;firstname&quot;:&quot;Molly&quot;\r\n    &quot;birthname&quot;:&quot;Arellano&quot;\r\n    &quot;lastname&quot;:&quot;Nichols&quot;\r\n}\r\n```\r\n\r\nI would like to order by birthname. But if the birthname is missing, the lastname should be used instead. The resulting order would be:\r\n\r\n- Molly **Arellano** (married Nichols)\r\n- Russell **Macdonald**\r\n- Brielle **Vaughn** (married Bates)\r\n\r\nI tried passing the two successive properties to the order by clause. But, unsurprisingly, it did not work:\r\n\r\n```java\r\nList&lt;Result&gt; results = select(all())\r\n    .from(database(myDatabase))\r\n    .orderBy(Ordering.property(&quot;birthname&quot;), Ordering.property(&quot;lastname&quot;))\r\n    .execute().allResults()\r\n```","title":"Couchbase Lite - use coalesce / ifNullOrMissing in order by clause","body":"<p>I have documents stored in a <strong>couchbase lite</strong> database. I use the <a href=\"https://docs.couchbase.com/couchbase-lite/current/java/querybuilder.html\" rel=\"nofollow noreferrer\">query builder</a> to request these documents in <strong>Java</strong>.</p>\n<p>I would like to to order the retrieved documents given two properties: <strong>if one is missing, I'd like to use the value of another</strong> for the ordering.</p>\n<p>For example, considering these data stored in the couchbase lite:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;firstname&quot;:&quot;Russell&quot;,\n    &quot;lastname&quot;:&quot;Macdonald&quot;\n},\n{\n    &quot;firstname&quot;:&quot;Brielle&quot;\n    &quot;birthname&quot;:&quot;Vaughn&quot;\n    &quot;lastname&quot;:&quot;Bates&quot;\n},\n{\n    &quot;firstname&quot;:&quot;Molly&quot;\n    &quot;birthname&quot;:&quot;Arellano&quot;\n    &quot;lastname&quot;:&quot;Nichols&quot;\n}\n</code></pre>\n<p>I would like to order by birthname. But if the birthname is missing, the lastname should be used instead. The resulting order would be:</p>\n<ul>\n<li>Molly <strong>Arellano</strong> (married Nichols)</li>\n<li>Russell <strong>Macdonald</strong></li>\n<li>Brielle <strong>Vaughn</strong> (married Bates)</li>\n</ul>\n<p>I tried passing the two successive properties to the order by clause. But, unsurprisingly, it did not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Result&gt; results = select(all())\n    .from(database(myDatabase))\n    .orderBy(Ordering.property(&quot;birthname&quot;), Ordering.property(&quot;lastname&quot;))\n    .execute().allResults()\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676495279,"post_id":75465061,"comment_id":133150783,"body_markdown":"Sounds like the column doesn&#39;t exist. Did you change the class schema for this after already creating the DB?","body":"Sounds like the column doesn&#39;t exist. Did you change the class schema for this after already creating the DB?"},{"owner":{"account_id":27796990,"reputation":11,"user_id":21222248,"display_name":"murdered"},"score":0,"creation_date":1676495531,"post_id":75465061,"comment_id":133150832,"body_markdown":"no, in pgadmin the same error btw, in tables are correct columns","body":"no, in pgadmin the same error btw, in tables are correct columns"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676496194,"post_id":75465061,"comment_id":133151010,"body_markdown":"User is a reserved word in most databases, so I&#39;d suggest NOT using it as your table name to avoid issues (maybe this one). What do you mean &quot;in PGAdmin the same error&quot;, or that the tables are correct? How have you created the tables exactly?","body":"User is a reserved word in most databases, so I&#39;d suggest NOT using it as your table name to avoid issues (maybe this one). What do you mean &quot;in PGAdmin the same error&quot;, or that the tables are correct? How have you created the tables exactly?"},{"owner":{"account_id":8811874,"reputation":153,"user_id":6584664,"accept_rate":75,"display_name":"Youri C."},"score":0,"creation_date":1683193208,"post_id":75465061,"comment_id":134330102,"body_markdown":"If your table is not in the default schema you need to specify it by setting `@Table(name = &quot;user&quot;, schema = &quot;your_schema&quot;)`","body":"If your table is not in the default schema you need to specify it by setting <code>@Table(name = &quot;user&quot;, schema = &quot;your_schema&quot;)</code>"}],"owner":{"account_id":27796990,"reputation":11,"user_id":21222248,"display_name":"murdered"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676492270,"creation_date":1676492270,"question_id":75465061,"body_markdown":"Try to learn hibernate + jpa, don`t know what to do with this. Error when getting by id.\r\n\r\nJDBC exception executing SQL [select u1_0.id,u1_0.email,u1_0.login,u1_0.password,r1_0.id,r1_0.name from user u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?]\r\n\r\nCaused by: org.postgresql.util.PSQLException: ERROR: column u1_0.role_id doesn`t exist\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String login;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;role_id&quot;)\r\n    private UserRole role;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;role&quot;)\r\npublic class UserRole {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n}\r\n```\r\n[enter image description here](https://i.stack.imgur.com/aOQ92.png)\r\n\r\n\r\nTried to debug but no results","title":"Column doesn`t exist","body":"<p>Try to learn hibernate + jpa, don`t know what to do with this. Error when getting by id.</p>\n<p>JDBC exception executing SQL [select u1_0.id,u1_0.email,u1_0.login,u1_0.password,r1_0.id,r1_0.name from user u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?]</p>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: column u1_0.role_id doesn`t exist</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(nullable = false, unique = true)\n    private String login;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;role_id&quot;)\n    private UserRole role;\n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;role&quot;)\npublic class UserRole {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(nullable = false)\n    private String name;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aOQ92.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Tried to debug but no results</p>\n"},{"tags":["java","reactjs","spring","spring-boot","vite"],"comments":[{"owner":{"account_id":7915360,"reputation":438,"user_id":5977966,"display_name":"jouhami"},"score":0,"creation_date":1693325759,"post_id":75465057,"comment_id":135744605,"body_markdown":"Did you solve your problem ? I&#39;m interested in your solutiono if you have any","body":"Did you solve your problem ? I&#39;m interested in your solutiono if you have any"}],"owner":{"account_id":14039126,"reputation":31,"user_id":10141032,"display_name":"numbersgoup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676492253,"creation_date":1676492253,"question_id":75465057,"body_markdown":"I have a Java Spring Boot backend, with a Tomcat server configured.\r\n\r\nI have a React frontend, packaged using Vite, with &quot;vite build&quot; sending everything to a &quot;dist&quot; directory.\r\n\r\nI move this &quot;dist&quot; directory to my &quot;src/main/resources/static/&quot; directory to be served automatically by Spring. This is running in a Docker container.\r\n\r\nI&#39;m able to pull up my home page. However, the front-end isn&#39;t picking up any CSS packaged by Vite, despite the fact I can see it in the `dist` folder under `dist/assets/*`, and the path in my `dist/index.html` to that `assets/index-${HASH}.css` file is correct.\r\n\r\n**This is only happening on sub-routes from index.html in my app.** It&#39;s worth noting that when I refresh the page, I get a **&quot;Whitelabel Error Page&quot;**. It&#39;s like my app doesn&#39;t recognize that, for example, `https://localhost/route/routetwo` is supposed to be a persistent path from the entrypoint `index.html`.\r\n\r\nWhat&#39;s weird about this, and making it hard to troubleshoot, is that everything works correctly when running `vite preview` in a different Docker container. I&#39;m able to see the child routes with the correct CSS, refreshing the page with no issue, etc.\r\n\r\nIn &quot;Developer Tools -&gt; Sources&quot; I see the contents of `index.html` for the sub-route when running `vite preview`, but not when trying to serve it as part of Spring. It&#39;s something about how Spring is interacting with my vite build.\r\n\r\nAny ideas?\r\n\r\nI&#39;ve tried numerous things, including but not limited to:\r\n\r\n- Pulling the dist out of the `vite preview` container, pasting it into my backend `src/main/resources/static` directory and serving it that way rather than building dynamically with each Docker container. No dice, still not finding my `/assets/index-${HASH}.css`\r\n- Doing the same as the above, but moving `assets/*` out of the assets directory and into the same directory as `src/main/resources/static/index.html`, changing the pathing in `index.html`. No result.\r\n- Considerable testing to make sure it&#39;s not a directory issue with my Docker builds. Confirmed there&#39;s basically no difference between the successful container and the unsuccessful except one is using `vite preview` and the other is using Spring static asset serving.\r\n","title":"Spring Boot not serving Vite dist/prod build assets, only index.html","body":"<p>I have a Java Spring Boot backend, with a Tomcat server configured.</p>\n<p>I have a React frontend, packaged using Vite, with &quot;vite build&quot; sending everything to a &quot;dist&quot; directory.</p>\n<p>I move this &quot;dist&quot; directory to my &quot;src/main/resources/static/&quot; directory to be served automatically by Spring. This is running in a Docker container.</p>\n<p>I'm able to pull up my home page. However, the front-end isn't picking up any CSS packaged by Vite, despite the fact I can see it in the <code>dist</code> folder under <code>dist/assets/*</code>, and the path in my <code>dist/index.html</code> to that <code>assets/index-${HASH}.css</code> file is correct.</p>\n<p><strong>This is only happening on sub-routes from index.html in my app.</strong> It's worth noting that when I refresh the page, I get a <strong>&quot;Whitelabel Error Page&quot;</strong>. It's like my app doesn't recognize that, for example, <code>https://localhost/route/routetwo</code> is supposed to be a persistent path from the entrypoint <code>index.html</code>.</p>\n<p>What's weird about this, and making it hard to troubleshoot, is that everything works correctly when running <code>vite preview</code> in a different Docker container. I'm able to see the child routes with the correct CSS, refreshing the page with no issue, etc.</p>\n<p>In &quot;Developer Tools -&gt; Sources&quot; I see the contents of <code>index.html</code> for the sub-route when running <code>vite preview</code>, but not when trying to serve it as part of Spring. It's something about how Spring is interacting with my vite build.</p>\n<p>Any ideas?</p>\n<p>I've tried numerous things, including but not limited to:</p>\n<ul>\n<li>Pulling the dist out of the <code>vite preview</code> container, pasting it into my backend <code>src/main/resources/static</code> directory and serving it that way rather than building dynamically with each Docker container. No dice, still not finding my <code>/assets/index-${HASH}.css</code></li>\n<li>Doing the same as the above, but moving <code>assets/*</code> out of the assets directory and into the same directory as <code>src/main/resources/static/index.html</code>, changing the pathing in <code>index.html</code>. No result.</li>\n<li>Considerable testing to make sure it's not a directory issue with my Docker builds. Confirmed there's basically no difference between the successful container and the unsuccessful except one is using <code>vite preview</code> and the other is using Spring static asset serving.</li>\n</ul>\n"},{"tags":["java","jar","classloader","classnotfoundexception"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1676459011,"post_id":75458697,"comment_id":133139383,"body_markdown":"Could you provide particular stacktrace containing missing class name? System classloader has to set parents e.g. bootstrap and extension classloaders.","body":"Could you provide particular stacktrace containing missing class name? System classloader has to set parents e.g. bootstrap and extension classloaders."},{"owner":{"account_id":192462,"reputation":1686,"user_id":433618,"accept_rate":38,"display_name":"Erhard Dinhobl"},"score":0,"creation_date":1676459224,"post_id":75458697,"comment_id":133139458,"body_markdown":"i would assume that CCLoader is yours? are you providing the CCLoader class in your jar file?","body":"i would assume that CCLoader is yours? are you providing the CCLoader class in your jar file?"},{"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676460618,"post_id":75458697,"comment_id":133139820,"body_markdown":"I have edited my post please have a look. Just now i found out that using `javac -J-Djava.class.path=&lt;path to app jar&gt;.jar -J-Djava.system.class.loader=org.example.CCL.CCLoader \n` the CCLoader is getting triggered. but i don&#39;t know whether this is right or not.","body":"I have edited my post please have a look. Just now i found out that using <code>javac -J-Djava.class.path=&lt;path to app jar&gt;.jar -J-Djava.system.class.loader=org.example.CCL.CCLoader  </code> the CCLoader is getting triggered. but i don&#39;t know whether this is right or not."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1676469197,"post_id":75458697,"comment_id":133142479,"body_markdown":"At first, fully qualified classname is different in the example ```-Djava.system.class.loader=org.example.loader.CCLoade``` and the stacktrace ```/org/example/CCL/CC_Loader```. Finally Java is case sensitive, so capital package names are not the good choice.","body":"At first, fully qualified classname is different in the example <code>-Djava.system.class.loader=org.example.loader.CCLoade</code> and the stacktrace <code>&#47;org&#47;example&#47;CCL&#47;CC_Loader</code>. Finally Java is case sensitive, so capital package names are not the good choice."},{"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676492286,"post_id":75458697,"comment_id":133150015,"body_markdown":"my bad, i wrote the package name, it has been corrected now. Please suggest some solution. Thanks!","body":"my bad, i wrote the package name, it has been corrected now. Please suggest some solution. Thanks!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676646897,"post_id":75458697,"comment_id":133185094,"body_markdown":"It doesn’t help to change the command line options in the question on Stackoverflow. To the JVM only what you actually specified to the command matters. According to the exception, it was `/Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class` instead of `org.example.loader.CCL.CCLoader`.","body":"It doesn’t help to change the command line options in the question on Stackoverflow. To the JVM only what you actually specified to the command matters. According to the exception, it was <code>&#47;Users&#47;gouravkumar&#47;Desktop&#47;KPOCs&#47;Class_Isolation_Loading&#47;set&zwnj;&#8203;CustomCL&#47;target&#47;clas&zwnj;&#8203;ses&#47;org&#47;example&#47;CCL&#47;&zwnj;&#8203;CC_Loader.class</code> instead of <code>org.example.loader.CCL.CCLoader</code>."}],"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676492170,"creation_date":1676458280,"question_id":75458697,"body_markdown":"I am working on some usecase where i want that my custom classloader should be used instead of the default system classloader. For this i tried many ways\r\n\r\n 1. `java -Djava.system.class.loader=org.example.loader.CCLoader -jar &lt;path to app jar&gt;.jar`\r\n\r\n\r\n 2. `java -Djava.system.class.loader=&lt;complete path to compiled CCLoader&gt;.class -jar &lt;path to app jar&gt;.jar`\r\n\r\n 3. `java -Djava.system.class.loader=&lt;complete path to CCLoader&gt;.java -jar &lt;path to app jar&gt;.jar`\r\n\r\n 4. `java -Djava.system.class.loader=org.example.loader.CCL.CCLoader -cp &lt;path to app jar&gt;.jar org.example.App`\r\n\r\n\r\n Again and again i am getting `Caused by: java.lang.ClassNotFoundException:` on **CCLoader**.\r\n\r\nEven after unzipping the app.jar, i could find the CCLoader.\r\n\r\nI don&#39;t know where i am getting this wrong.\r\n\r\n**Edit**: Added stacktrace for reference, And yes the CCLoader is in the same jar as of now just to check but later i will move the CCLoader in some other jar and use it from there.\r\n\r\n**Edit2**: corrected path of the CCLoader.\r\n\r\n\r\n```\r\nError occurred during initialization of VM\r\njava.lang.Error: java.lang.ClassNotFoundException: /Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class\r\n        at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1462)\r\n        at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1429)\r\nCaused by: java.lang.ClassNotFoundException: /Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at java.lang.SystemClassLoaderAction.run(ClassLoader.java:2202)\r\n        at java.lang.SystemClassLoaderAction.run(ClassLoader.java:2188)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1449)\r\n        at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1429)\r\n```\r\n","title":"Unable to set Custom Classloader as default classloader in java","body":"<p>I am working on some usecase where i want that my custom classloader should be used instead of the default system classloader. For this i tried many ways</p>\n<ol>\n<li><p><code>java -Djava.system.class.loader=org.example.loader.CCLoader -jar &lt;path to app jar&gt;.jar</code></p>\n</li>\n<li><p><code>java -Djava.system.class.loader=&lt;complete path to compiled CCLoader&gt;.class -jar &lt;path to app jar&gt;.jar</code></p>\n</li>\n<li><p><code>java -Djava.system.class.loader=&lt;complete path to CCLoader&gt;.java -jar &lt;path to app jar&gt;.jar</code></p>\n</li>\n<li><p><code>java -Djava.system.class.loader=org.example.loader.CCL.CCLoader -cp &lt;path to app jar&gt;.jar org.example.App</code></p>\n</li>\n</ol>\n<p>Again and again i am getting <code>Caused by: java.lang.ClassNotFoundException:</code> on <strong>CCLoader</strong>.</p>\n<p>Even after unzipping the app.jar, i could find the CCLoader.</p>\n<p>I don't know where i am getting this wrong.</p>\n<p><strong>Edit</strong>: Added stacktrace for reference, And yes the CCLoader is in the same jar as of now just to check but later i will move the CCLoader in some other jar and use it from there.</p>\n<p><strong>Edit2</strong>: corrected path of the CCLoader.</p>\n<pre><code>Error occurred during initialization of VM\njava.lang.Error: java.lang.ClassNotFoundException: /Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class\n        at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1462)\n        at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1429)\nCaused by: java.lang.ClassNotFoundException: /Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at java.lang.SystemClassLoaderAction.run(ClassLoader.java:2202)\n        at java.lang.SystemClassLoaderAction.run(ClassLoader.java:2188)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1449)\n        at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1429)\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1676406130,"post_id":75452852,"comment_id":133129904,"body_markdown":"You may need to bring in other libraries such as this one https://www.qoppa.com/pdfoptimizer/ (it is paid). I&#39;m not sure that you can do what you want with pdfbox itself.","body":"You may need to bring in other libraries such as this one <a href=\"https://www.qoppa.com/pdfoptimizer/\" rel=\"nofollow noreferrer\">qoppa.com/pdfoptimizer</a> (it is paid). I&#39;m not sure that you can do what you want with pdfbox itself."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676406653,"post_id":75452852,"comment_id":133130018,"body_markdown":"Thank you for response, is it not possible to optimize or compress the size of splitted documents with pdf box? As of now, I am trying with non commercial libraries. If you suggest any, would be helpful","body":"Thank you for response, is it not possible to optimize or compress the size of splitted documents with pdf box? As of now, I am trying with non commercial libraries. If you suggest any, would be helpful"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1676407742,"post_id":75452852,"comment_id":133130288,"body_markdown":"Looking into the documentation it seems there is a way to do it using pdfbox features, you will need to experiment to see if the result will still meet your requirements though. Here is one example of it: https://stackoverflow.com/a/53544377/460557 and there is also   PreflightConfiguration which you can tweak to your needs","body":"Looking into the documentation it seems there is a way to do it using pdfbox features, you will need to experiment to see if the result will still meet your requirements though. Here is one example of it: <a href=\"https://stackoverflow.com/a/53544377/460557\">stackoverflow.com/a/53544377/460557</a> and there is also   PreflightConfiguration which you can tweak to your needs"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":3,"creation_date":1676411044,"post_id":75452852,"comment_id":133131067,"body_markdown":"To answer your question for PDFBox we&#39;d need to know why the size explodes like that. There actually are several possible reasons. E.g. your original PDF might contain an image used on all the pages; after splitting each page document will include a copy of that image. In that case you can hardly optimize...","body":"To answer your question for PDFBox we&#39;d need to know why the size explodes like that. There actually are several possible reasons. E.g. your original PDF might contain an image used on all the pages; after splitting each page document will include a copy of that image. In that case you can hardly optimize..."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676438069,"post_id":75452852,"comment_id":133134793,"body_markdown":"@JorgeCampos, I had already tried the mentioned approach. It is optimizing when we perform merge operation but some issue with split operation. Can you please elaborate little bit more on Preflight configuration it would be helpful?","body":"@JorgeCampos, I had already tried the mentioned approach. It is optimizing when we perform merge operation but some issue with split operation. Can you please elaborate little bit more on Preflight configuration it would be helpful?"},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676438339,"post_id":75452852,"comment_id":133134822,"body_markdown":"@mkl no it is a simple pdf only. Thank you for response, I will check the same.","body":"@mkl no it is a simple pdf only. Thank you for response, I will check the same."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676472716,"post_id":75452852,"comment_id":133143792,"body_markdown":"@life888888  It is helpful but the answer is explained in theoretical manner.","body":"@life888888  It is helpful but the answer is explained in theoretical manner."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1676482798,"post_id":75452852,"comment_id":133147379,"body_markdown":"And add to @KJ comment, it is likely that your PDF have images (that&#39;s the OCR part) on it which is causing the size to this big. Like I mentioned before, I just read the documentation I was not even aware it is possible. Looked on google and here is one example: https://www.tabnine.com/code/java/classes/org.apache.pdfbox.preflight.PreflightConfiguration\nYou also might want to try other approaches if the case is PDF with images, there are free tool for linux (assuming your server is a linux) you could generate the PDF splits and then go through the OS level to reduce its size using some tool.","body":"And add to @KJ comment, it is likely that your PDF have images (that&#39;s the OCR part) on it which is causing the size to this big. Like I mentioned before, I just read the documentation I was not even aware it is possible. Looked on google and here is one example: <a href=\"https://www.tabnine.com/code/java/classes/org.apache.pdfbox.preflight.PreflightConfiguration\" rel=\"nofollow noreferrer\">tabnine.com/code/java/classes/&hellip;</a> You also might want to try other approaches if the case is PDF with images, there are free tool for linux (assuming your server is a linux) you could generate the PDF splits and then go through the OS level to reduce its size using some tool."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1676482807,"post_id":75452852,"comment_id":133147381,"body_markdown":"Here is a thread with such tools: https://askubuntu.com/questions/113544/how-can-i-reduce-the-file-size-of-a-scanned-pdf-file","body":"Here is a thread with such tools: <a href=\"https://askubuntu.com/questions/113544/how-can-i-reduce-the-file-size-of-a-scanned-pdf-file\" title=\"how can i reduce the file size of a scanned pdf file\">askubuntu.com/questions/113544/&hellip;</a>"},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676525556,"post_id":75452852,"comment_id":133155234,"body_markdown":"@KJ you can try with any pdf document. I can&#39;t share the actual document due to security reasons. For example: https://freeditorial.com/en/books/50-shades-of-grey/downloadbookepub?format2=pdf The actual size of pdf is 2 mb but the split pages occupying 30 mb of space as combine in the disk. I hope you get my question. I am trying to optimize the split documents, so it occupies less space in disk.","body":"@KJ you can try with any pdf document. I can&#39;t share the actual document due to security reasons. For example: <a href=\"https://freeditorial.com/en/books/50-shades-of-grey/downloadbookepub?format2=pdf\" rel=\"nofollow noreferrer\">freeditorial.com/en/books/50-shades-of-grey/&hellip;</a> The actual size of pdf is 2 mb but the split pages occupying 30 mb of space as combine in the disk. I hope you get my question. I am trying to optimize the split documents, so it occupies less space in disk."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676525731,"post_id":75452852,"comment_id":133155262,"body_markdown":"Thank you @JorgeCampos I will check into it.","body":"Thank you @JorgeCampos I will check into it."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676553889,"post_id":75452852,"comment_id":133162750,"body_markdown":"For 50 shades of grey.pdf it is working little bit different 585 Files occupying 32,100,000 bytes but for 16k pages pdf mentioned in my post it is working exactly same as you mentioned.","body":"For 50 shades of grey.pdf it is working little bit different 585 Files occupying 32,100,000 bytes but for 16k pages pdf mentioned in my post it is working exactly same as you mentioned."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676554513,"post_id":75452852,"comment_id":133162945,"body_markdown":"Thank you everyone for your suggestions and help. I had searched a lot and found that pdfbox lacking somewhere in compression related things, itext library can be better alternate for the same problem but the only problem is it cannot be used as open source as of now.  If anyone still found any solution with pdfbox can share it here. It would be helpful for others.","body":"Thank you everyone for your suggestions and help. I had searched a lot and found that pdfbox lacking somewhere in compression related things, itext library can be better alternate for the same problem but the only problem is it cannot be used as open source as of now.  If anyone still found any solution with pdfbox can share it here. It would be helpful for others."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1676977598,"post_id":75452852,"comment_id":133241416,"body_markdown":"There are embedded fonts in your example file that are copied into each split file again and again. Thus, the size is very likely to explode upon splitting.","body":"There are embedded fonts in your example file that are copied into each split file again and again. Thus, the size is very likely to explode upon splitting."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676978472,"post_id":75452852,"comment_id":133241652,"body_markdown":"Thank you @mkl for update. Is there any way to optimize it as each document consist of single page? I had tried with the answer you had given here stackoverflow.com/a/53544377/460557. It is working good while performing merge operation.","body":"Thank you @mkl for update. Is there any way to optimize it as each document consist of single page? I had tried with the answer you had given here stackoverflow.com/a/53544377/460557. It is working good while performing merge operation."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1676979159,"post_id":75452852,"comment_id":133241868,"body_markdown":"The results could be improved by reducing the embedded fonts copied to the single page PDFs to the glyphs actually used on the respective page. There are no high-level methods in PDFBox for that but there are the low level methods you&#39;d need to implement such a high level method. You&#39;d have to walk all the content streams used for that page and determine the character codes used there and then rebuild the embedded font accordingly.","body":"The results could be improved by reducing the embedded fonts copied to the single page PDFs to the glyphs actually used on the respective page. There are no high-level methods in PDFBox for that but there are the low level methods you&#39;d need to implement such a high level method. You&#39;d have to walk all the content streams used for that page and determine the character codes used there and then rebuild the embedded font accordingly."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676979838,"post_id":75452852,"comment_id":133242091,"body_markdown":"Yeah, Thank you. I will try it. If you have any sample code for reference, you can add it here.","body":"Yeah, Thank you. I will try it. If you have any sample code for reference, you can add it here."}],"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676472925,"answer_count":0,"score":0,"last_activity_date":1676492151,"creation_date":1676405628,"question_id":75452852,"body_markdown":"I am using Apache PDFBox to split the pages of documents into multiple documents. But the size of the split document is very large.\r\n\r\nFor example, I am performing split operation on 16k pages PDF and splitting it into 16k documents and each document contains one page. The size of each page document is 289kb. So, overall it is occupying around 4gb of space to store all the split documents on disk.\r\n\r\n```java\r\nimport org.apache.pdfbox.multipdf.Splitter; \r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\n\r\nimport java.io.File; \r\nimport java.io.IOException; \r\nimport java.util.List; \r\nimport java.util.Iterator;\r\n  \r\npublic class SplitPages {\r\n   public static void main(String[] args) throws IOException {\r\n\r\n      //Loading an existing PDF document\r\n      File file = new File(&quot;sample.pdf&quot;);\r\n      PDDocument document = PDDocument.load(file); \r\n\r\n      //Instantiating Splitter class\r\n      Splitter splitter = new Splitter();\r\n\r\n      //splitting the pages of a PDF document\r\n      List&lt;PDDocument&gt; Pages = splitter.split(document);\r\n\r\n      //Creating an iterator \r\n      Iterator&lt;PDDocument&gt; iterator = Pages.listIterator();\r\n\r\n      //Saving each page as an individual document\r\n      int i = 1;\r\n      while(iterator.hasNext()) {\r\n         PDDocument pd = iterator.next();\r\n         pd.save(&quot;sample&quot;+ i++ +&quot;.pdf&quot;);\r\n      }\r\n      System.out.println(&quot;Multiple PDF’s created&quot;);\r\n      document.close();\r\n   }\r\n}\r\n```\r\nHow to optimize the splitted documents so that it will occupy less space on disk?\r\n\r\nNote: I want to optimize the document while performing the split operation as mentioned in the code sample.\r\n\r\n","title":"How to reduce the size of split PDF document in PDFBox?","body":"<p>I am using Apache PDFBox to split the pages of documents into multiple documents. But the size of the split document is very large.</p>\n<p>For example, I am performing split operation on 16k pages PDF and splitting it into 16k documents and each document contains one page. The size of each page document is 289kb. So, overall it is occupying around 4gb of space to store all the split documents on disk.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.pdfbox.multipdf.Splitter; \nimport org.apache.pdfbox.pdmodel.PDDocument;\n\nimport java.io.File; \nimport java.io.IOException; \nimport java.util.List; \nimport java.util.Iterator;\n  \npublic class SplitPages {\n   public static void main(String[] args) throws IOException {\n\n      //Loading an existing PDF document\n      File file = new File(&quot;sample.pdf&quot;);\n      PDDocument document = PDDocument.load(file); \n\n      //Instantiating Splitter class\n      Splitter splitter = new Splitter();\n\n      //splitting the pages of a PDF document\n      List&lt;PDDocument&gt; Pages = splitter.split(document);\n\n      //Creating an iterator \n      Iterator&lt;PDDocument&gt; iterator = Pages.listIterator();\n\n      //Saving each page as an individual document\n      int i = 1;\n      while(iterator.hasNext()) {\n         PDDocument pd = iterator.next();\n         pd.save(&quot;sample&quot;+ i++ +&quot;.pdf&quot;);\n      }\n      System.out.println(&quot;Multiple PDF’s created&quot;);\n      document.close();\n   }\n}\n</code></pre>\n<p>How to optimize the splitted documents so that it will occupy less space on disk?</p>\n<p>Note: I want to optimize the document while performing the split operation as mentioned in the code sample.</p>\n"},{"tags":["javascript","java","json","angularjs","bigdecimal"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1676487246,"post_id":75464223,"comment_id":133148636,"body_markdown":"For exhaustive details see [What Every Computer Scientist Should Know About Floating Point Arithmetic](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html). If you need it to be exact don&#39;t use (regular) numbers.","body":"For exhaustive details see <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating Point Arithmetic</a>. If you need it to be exact don&#39;t use (regular) numbers."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676490417,"post_id":75464223,"comment_id":133149504,"body_markdown":"For what purpose do you need finer precision than 17 significant digits?","body":"For what purpose do you need finer precision than 17 significant digits?"}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676489223,"creation_date":1676489223,"answer_id":75464582,"question_id":75464223,"body_markdown":"Javascript floating point numbers hold 64 bits of precision, similar to a `double` in Java.  If you have to use BigDecimal in Java to extend beyond that level of precision, you&#39;ll need to do something similar in Javascript to extend beyond its similar boundary.  The NPM package js-big-decimal is probably your best bet and you can transfer the values as strings in JSON to prevent JSON.parse from interpreting them as Number.","title":"BigDecimal from json loses precision","body":"<p>Javascript floating point numbers hold 64 bits of precision, similar to a <code>double</code> in Java.  If you have to use BigDecimal in Java to extend beyond that level of precision, you'll need to do something similar in Javascript to extend beyond its similar boundary.  The NPM package js-big-decimal is probably your best bet and you can transfer the values as strings in JSON to prevent JSON.parse from interpreting them as Number.</p>\n"},{"tags":[],"owner":{"account_id":8154894,"reputation":63,"user_id":6140795,"display_name":"Han"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676491941,"creation_date":1676490865,"answer_id":75464835,"question_id":75464223,"body_markdown":"Thanks for the help. I found that adding \r\n```\r\n@JsonSerialize(using = ToStringSerializer.class)\r\npublic getQty(){\r\n   return this.qty;\r\n}\r\n```\r\nto the java domain object solves the issue.","title":"BigDecimal from json loses precision","body":"<p>Thanks for the help. I found that adding</p>\n<pre><code>@JsonSerialize(using = ToStringSerializer.class)\npublic getQty(){\n   return this.qty;\n}\n</code></pre>\n<p>to the java domain object solves the issue.</p>\n"}],"owner":{"account_id":8154894,"reputation":63,"user_id":6140795,"display_name":"Han"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676491941,"creation_date":1676486940,"question_id":75464223,"body_markdown":"The network call shows that the backend is sending this:\r\n\r\n    &quot;uom&quot; : &quot;EA&quot;,\r\n    &quot;qty&quot; : 1.123456789012345678\r\n\r\nbut when it reaches the frontend, using console.log:\r\n\r\n    { \r\n      qty: 1.1234567890123457, \r\n      uom: &quot;EA&quot;\r\n    }\r\n\r\nwhy is the javascript losing the last digit or truncating the number?\r\n\r\nThe number is represented using a BigDecimal in java. The frontend use AngularJs framework, makes a GET call to the backend requesting a JSON.","title":"BigDecimal from json loses precision","body":"<p>The network call shows that the backend is sending this:</p>\n<pre><code>&quot;uom&quot; : &quot;EA&quot;,\n&quot;qty&quot; : 1.123456789012345678\n</code></pre>\n<p>but when it reaches the frontend, using console.log:</p>\n<pre><code>{ \n  qty: 1.1234567890123457, \n  uom: &quot;EA&quot;\n}\n</code></pre>\n<p>why is the javascript losing the last digit or truncating the number?</p>\n<p>The number is represented using a BigDecimal in java. The frontend use AngularJs framework, makes a GET call to the backend requesting a JSON.</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1676490031,"post_id":75464670,"comment_id":133149408,"body_markdown":"Can you please post the whole code for `Day` class?","body":"Can you please post the whole code for <code>Day</code> class?"},{"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"score":0,"creation_date":1676490193,"post_id":75464670,"comment_id":133149445,"body_markdown":"Log.d is inside of 2 conditionals (the for() loop and an if statement).  Have you run it under the debugger?  My guess is one of those two conditionals are not doing what you think they are or possibly enoughTimeChecker is not really getting called.  Whatever, the answer is in the debugger.","body":"Log.d is inside of 2 conditionals (the for() loop and an if statement).  Have you run it under the debugger?  My guess is one of those two conditionals are not doing what you think they are or possibly enoughTimeChecker is not really getting called.  Whatever, the answer is in the debugger."},{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":0,"creation_date":1676490808,"post_id":75464670,"comment_id":133149602,"body_markdown":"Can you elaborate on how I would go about debugging it, there are no technical errors and I&#39;m quite new to Android Studio","body":"Can you elaborate on how I would go about debugging it, there are no technical errors and I&#39;m quite new to Android Studio"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676490918,"post_id":75464670,"comment_id":133149634,"body_markdown":"Is `newTask` supposed to execute `Day.enoughTimeChecker(...)`? If so, you haven&#39;t written your code so that happens. What is the package name for `Task`?","body":"Is <code>newTask</code> supposed to execute <code>Day.enoughTimeChecker(...)</code>? If so, you haven&#39;t written your code so that happens. What is the package name for <code>Task</code>?"},{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":0,"creation_date":1676491168,"post_id":75464670,"comment_id":133149693,"body_markdown":"new task isn&#39;t meant to execute Day.enoughTimeChecker(), it just creates an object from the Java Class &quot;task&quot;, Day.enoughTimeChecker() is simply meant to be executed using some of the attributes of  the newtask","body":"new task isn&#39;t meant to execute Day.enoughTimeChecker(), it just creates an object from the Java Class &quot;task&quot;, Day.enoughTimeChecker() is simply meant to be executed using some of the attributes of  the newtask"},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1676491801,"post_id":75464670,"comment_id":133149879,"body_markdown":"Add a log statement to the start and/or end of `enoughTimeChecker` to narrow down and confirm the source of the problem.","body":"Add a log statement to the start and/or end of <code>enoughTimeChecker</code> to narrow down and confirm the source of the problem."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1676492807,"post_id":75464670,"comment_id":133150128,"body_markdown":"`listOfDayObjects()` is returning a new empty list on each call, `enoughTimeChecker()` will never do anything since iterating (or not iterating at all)  over this **empty**  list (`listOfDayObjects().size()` will always return `0`)","body":"<code>listOfDayObjects()</code> is returning a new empty list on each call, <code>enoughTimeChecker()</code> will never do anything since iterating (or not iterating at all)  over this <b>empty</b>  list (<code>listOfDayObjects().size()</code> will always return <code>0</code>)"},{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":1,"creation_date":1676498704,"post_id":75464670,"comment_id":133151587,"body_markdown":"I did your suggestion with the log statements, it returns the log at the beginning when the function is called but won&#39;t after the for loop so the problem lies around there.","body":"I did your suggestion with the log statements, it returns the log at the beginning when the function is called but won&#39;t after the for loop so the problem lies around there."},{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":1,"creation_date":1676499162,"post_id":75464670,"comment_id":133151674,"body_markdown":"@user16320675, you were correct, it returns an empty list. Thank you very much","body":"@user16320675, you were correct, it returns an empty list. Thank you very much"}],"answers":[{"tags":[],"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676491578,"creation_date":1676491261,"answer_id":75464892,"question_id":75464670,"body_markdown":"Use [`Object#equals(Object)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) instead of `==` to compare objects; the problem is on this line:\r\n\r\n```\r\nlistOfDayObjects().get(i).getDate() == date\r\n```\r\n\r\nSee https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java for more information.","title":"I am calling this function from another function in a separate file, however it simply does nothing when it gets called","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object#equals(Object)</code></a> instead of <code>==</code> to compare objects; the problem is on this line:</p>\n<pre><code>listOfDayObjects().get(i).getDate() == date\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java\">What is the difference between == and equals() in Java?</a> for more information.</p>\n"}],"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676491578,"creation_date":1676489794,"question_id":75464670,"body_markdown":"I have a method in Java class file &quot;Day&quot; called enoughTimeChecker.\r\nHere is the code for the class\r\n\r\n```\r\npackage com.example.calendarviewexample;\r\n\r\nimport android.app.Application;\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\n\r\npublic class Day extends AppCompatActivity\r\n{\r\n    private LocalDate date;\r\n    private int totalTime;\r\n\r\n\r\n\r\n\r\n    public Day(LocalDate date, int totalTime)\r\n    {\r\n        this.date = date;\r\n        this.totalTime = totalTime;\r\n    }\r\n\r\n    public static ArrayList&lt;Day&gt; listOfDayObjects()\r\n    {\r\n        ArrayList&lt;Day&gt; listOfDayObjects = new ArrayList&lt;&gt;();\r\n        return listOfDayObjects;\r\n    }\r\n\r\n\r\n\r\n    public static void enoughTimeChecker(LocalDate date, int addedTime)\r\n    {\r\n        for(int i =0; i&lt;listOfDayObjects().size(); i++)\r\n        {\r\n            if (listOfDayObjects().get(i).getDate() == date)\r\n            {\r\n                int x = listOfDayObjects().get(i).getTotalTime();\r\n                listOfDayObjects().get(i).setTotalTime(x + addedTime);\r\n                Log.d(&quot;addedTime&quot;, &quot;total time of &quot; + String.valueOf(listOfDayObjects().get(i).getDate()) + &quot;is&quot; + String.valueOf(x + addedTime));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static void setDayClass(LocalDate currentDate)\r\n    {\r\n        currentDate = LocalDate.now();\r\n        for (int i =0;  i&lt;366; i++)\r\n        {\r\n            Day newDay = new Day(currentDate, 0);\r\n            listOfDayObjects().add(newDay);\r\n            currentDate = currentDate.plusDays(1);\r\n            Log.d(&quot;DayClazz&quot;, &quot;Class created &quot; + String.valueOf(currentDate) );\r\n        }\r\n\r\n    }\r\n\r\n    public LocalDate getDate()\r\n    {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(LocalDate date)\r\n    {\r\n        this.date = date;\r\n    }\r\n\r\n    public int getTotalTime()\r\n    {\r\n        return totalTime;\r\n    }\r\n\r\n    public void setTotalTime(int totalTime)\r\n    {\r\n        this.totalTime = totalTime;\r\n    }\r\n}\r\n```\r\n\r\nIn the file &quot;EventEditActivity&quot;, &quot;enoughTimeChecker&quot; is called from method &quot;Save Action&quot;.\r\nHere is the Save Action function\r\n\r\n```\r\npublic void SaveAction(View view)\r\n    {\r\n        String taskName = eventNameET.getText().toString();\r\n        Task newTask = new Task(taskName, CalendarUtils.selectedDate, time, calculatedTime);\r\n        /// this is where the attributes of the task are set\r\n        Day.enoughTimeChecker(CalendarUtils.selectedDate, calculatedTime);\r\n        Task.taskList.add(newTask);\r\n\r\n        \r\n        finish();\r\n\r\n\r\n    }\r\n```\r\n\r\nIt should output in the logcat when a task is added but it just doesn&#39;t - there&#39;s no error message when enoughTimeChecker is called.\r\n\r\nI have no idea what the error is, I think there might be something wrong with the array perhaps. I made the array in the Day class file here\r\n\r\n```\r\npublic static ArrayList&lt;Day&gt; listOfDayObjects()\r\n    {\r\n        ArrayList&lt;Day&gt; listOfDayObjects = new ArrayList&lt;&gt;();\r\n        return listOfDayObjects;\r\n    }\r\n```\r\n\r\nand I made the list of objects here\r\n\r\n```\r\nfor (int i =0;  i&lt;366; i++)\r\n{\r\n    Day newDay = new Day(currentDate, 0);\r\n    listOfDayObjects().add(newDay);\r\n    currentDate = currentDate.plusDays(1);\r\n}\r\n```\r\n\r\nany help would be appreciated","title":"I am calling this function from another function in a separate file, however it simply does nothing when it gets called","body":"<p>I have a method in Java class file &quot;Day&quot; called enoughTimeChecker.\nHere is the code for the class</p>\n<pre><code>package com.example.calendarviewexample;\n\nimport android.app.Application;\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\n\npublic class Day extends AppCompatActivity\n{\n    private LocalDate date;\n    private int totalTime;\n\n\n\n\n    public Day(LocalDate date, int totalTime)\n    {\n        this.date = date;\n        this.totalTime = totalTime;\n    }\n\n    public static ArrayList&lt;Day&gt; listOfDayObjects()\n    {\n        ArrayList&lt;Day&gt; listOfDayObjects = new ArrayList&lt;&gt;();\n        return listOfDayObjects;\n    }\n\n\n\n    public static void enoughTimeChecker(LocalDate date, int addedTime)\n    {\n        for(int i =0; i&lt;listOfDayObjects().size(); i++)\n        {\n            if (listOfDayObjects().get(i).getDate() == date)\n            {\n                int x = listOfDayObjects().get(i).getTotalTime();\n                listOfDayObjects().get(i).setTotalTime(x + addedTime);\n                Log.d(&quot;addedTime&quot;, &quot;total time of &quot; + String.valueOf(listOfDayObjects().get(i).getDate()) + &quot;is&quot; + String.valueOf(x + addedTime));\n            }\n        }\n\n    }\n\n    public static void setDayClass(LocalDate currentDate)\n    {\n        currentDate = LocalDate.now();\n        for (int i =0;  i&lt;366; i++)\n        {\n            Day newDay = new Day(currentDate, 0);\n            listOfDayObjects().add(newDay);\n            currentDate = currentDate.plusDays(1);\n            Log.d(&quot;DayClazz&quot;, &quot;Class created &quot; + String.valueOf(currentDate) );\n        }\n\n    }\n\n    public LocalDate getDate()\n    {\n        return date;\n    }\n\n    public void setDate(LocalDate date)\n    {\n        this.date = date;\n    }\n\n    public int getTotalTime()\n    {\n        return totalTime;\n    }\n\n    public void setTotalTime(int totalTime)\n    {\n        this.totalTime = totalTime;\n    }\n}\n</code></pre>\n<p>In the file &quot;EventEditActivity&quot;, &quot;enoughTimeChecker&quot; is called from method &quot;Save Action&quot;.\nHere is the Save Action function</p>\n<pre><code>public void SaveAction(View view)\n    {\n        String taskName = eventNameET.getText().toString();\n        Task newTask = new Task(taskName, CalendarUtils.selectedDate, time, calculatedTime);\n        /// this is where the attributes of the task are set\n        Day.enoughTimeChecker(CalendarUtils.selectedDate, calculatedTime);\n        Task.taskList.add(newTask);\n\n        \n        finish();\n\n\n    }\n</code></pre>\n<p>It should output in the logcat when a task is added but it just doesn't - there's no error message when enoughTimeChecker is called.</p>\n<p>I have no idea what the error is, I think there might be something wrong with the array perhaps. I made the array in the Day class file here</p>\n<pre><code>public static ArrayList&lt;Day&gt; listOfDayObjects()\n    {\n        ArrayList&lt;Day&gt; listOfDayObjects = new ArrayList&lt;&gt;();\n        return listOfDayObjects;\n    }\n</code></pre>\n<p>and I made the list of objects here</p>\n<pre><code>for (int i =0;  i&lt;366; i++)\n{\n    Day newDay = new Day(currentDate, 0);\n    listOfDayObjects().add(newDay);\n    currentDate = currentDate.plusDays(1);\n}\n</code></pre>\n<p>any help would be appreciated</p>\n"},{"tags":["java","spring","spring-boot","api","validation"],"comments":[{"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"score":0,"creation_date":1676479642,"post_id":75462913,"comment_id":133146348,"body_markdown":"The errors you&#39;re getting are coming from the validation of the request object (`OrderDto`) - can you include the request body you&#39;re sending via Postman?","body":"The errors you&#39;re getting are coming from the validation of the request object (<code>OrderDto</code>) - can you include the request body you&#39;re sending via Postman?"}],"answers":[{"tags":[],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676490983,"creation_date":1676490983,"answer_id":75464855,"question_id":75462913,"body_markdown":"It&#39;s a validation error.\r\n1. You don&#39;t pass `block` in your post method, but in DTO this field annotated with @NotBlack\r\n2. You didn&#39;t provide eligible setter for `doorNumber`. As a result, this field is `null` in your DTO object, but again, is annotated with @NotBlack. The setter name must be `setDoorNumber(String value)` for that field","title":"Spring boot validation error request bad 400","body":"<p>It's a validation error.</p>\n<ol>\n<li>You don't pass <code>block</code> in your post method, but in DTO this field annotated with @NotBlack</li>\n<li>You didn't provide eligible setter for <code>doorNumber</code>. As a result, this field is <code>null</code> in your DTO object, but again, is annotated with @NotBlack. The setter name must be <code>setDoorNumber(String value)</code> for that field</li>\n</ol>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75464855,"answer_count":1,"score":-1,"last_activity_date":1676490983,"creation_date":1676479449,"question_id":75462913,"body_markdown":"I&#39;m developing a crud API with a post method, when testing this method in my postman it returns the error\r\n\r\n```\r\n2023-02-15T13:34:35.528-03:00  WARN 8792 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.api.order_control.controllers.OrderController.saveOrder(com.api.order_control.dtos.OrderDto) with 2 errors: [Field error in object &#39;orderDto&#39; on field &#39;doorNumber&#39;: rejected value [null]; codes [NotBlank.orderDto.doorNumber,NotBlank.doorNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [orderDto.doorNumber,doorNumber]; arguments []; default message [doorNumber]]; default message [must not be blank]] [Field error in object &#39;orderDto&#39; on field &#39;block&#39;: rejected value [null]; codes [NotBlank.orderDto.block,NotBlank.block,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [orderDto.block,block]; arguments []; default message [block]]; default message [must not be blank]] ]\r\n\r\n```\r\nI couldn&#39;t understand why my blank cannot work with this method and why this error. can anybody help me?\r\n\r\nmodel\r\n\r\n```\r\npackage com.api.order_control.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;restaurant_orders&quot;)\r\npublic class OrderModel implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @Column(nullable = false, length = 11)\r\n    private String customerName;\r\n    @Column(nullable = false, length = 15)\r\n    private String phoneNumber;\r\n    @Column(nullable = false, length = 25)\r\n    private String address;\r\n    @Column(nullable = false, length = 10)\r\n    private String doorNumber;\r\n    @Column(length = 5)\r\n    private String block;\r\n    @Column(nullable = false, length = 30)\r\n    private String orderNote;\r\n    @Column(nullable = false)\r\n    private Float price;\r\n    @Column(nullable = false)\r\n    private LocalDateTime registrationDate;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getDoorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void setDoorNumber(String doorNumber) {\r\n        this.doorNumber = doorNumber;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrderNote() {\r\n        return orderNote;\r\n    }\r\n\r\n    public void setOrderNote(String order) {\r\n        this.orderNote = orderNote;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public LocalDateTime getRegistrationDate() {\r\n        return registrationDate;\r\n    }\r\n\r\n    public void setRegistrationDate(LocalDateTime registrationDate) {\r\n        this.registrationDate = registrationDate;\r\n    }\r\n}\r\n```\r\n\r\ndto pack\r\n\r\n```\r\npackage com.api.order_control.dtos;\r\n\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\npublic class OrderDto {\r\n    @NotBlank\r\n    private String customerName;\r\n    @NotBlank\r\n    private String phoneNumber;\r\n    @NotBlank\r\n    private String address;\r\n    @NotBlank\r\n    private String doorNumber;\r\n    @NotBlank\r\n    private String block;\r\n    @NotBlank\r\n    private String orderNote;\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String doorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void doorNumber(String doorName) {\r\n        this.doorNumber = doorName;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrderNote() {\r\n        return orderNote;\r\n    }\r\n\r\n    public void setOrderNote(String orderNote) {\r\n        this.orderNote = orderNote;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\ncontroller with post\r\n\r\n```\r\npackage com.api.order_control.controllers;\r\n\r\n\r\nimport com.api.order_control.dtos.OrderDto;\r\nimport com.api.order_control.models.OrderModel;\r\nimport com.api.order_control.services.OrderService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/orders&quot;)\r\npublic class OrderController {\r\n\r\n    final OrderService orderService;\r\n\r\n    public OrderController(OrderService orderService) {\r\n        this.orderService = orderService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\r\n        var orderModel = new OrderModel();\r\n        BeanUtils.copyProperties(orderDto, orderModel);\r\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\r\n        orderModel.setPrice(70.8f);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\r\n    }\r\n}\r\n\r\n```\r\n\r\nI had already had a blank error because I was using a float, but in this case &quot;numberDoor&quot; is just a string. What is the reason for this error?\r\n\r\nPostman request\r\n\r\n```\r\n{\r\n    &quot;customerName&quot;: &quot;Ryan&quot;,\r\n    &quot;phoneNumber&quot;: &quot;1 99859 5854&quot;,\r\n    &quot;address&quot;: &quot;St Street Vl 190&quot;,\r\n    &quot;doorNumber&quot;: &quot;5&quot;,\r\n    &quot;orderNote&quot;: &quot;Pepperoni Pizza&quot;\r\n}\r\n```","title":"Spring boot validation error request bad 400","body":"<p>I'm developing a crud API with a post method, when testing this method in my postman it returns the error</p>\n<pre><code>2023-02-15T13:34:35.528-03:00  WARN 8792 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.api.order_control.controllers.OrderController.saveOrder(com.api.order_control.dtos.OrderDto) with 2 errors: [Field error in object 'orderDto' on field 'doorNumber': rejected value [null]; codes [NotBlank.orderDto.doorNumber,NotBlank.doorNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [orderDto.doorNumber,doorNumber]; arguments []; default message [doorNumber]]; default message [must not be blank]] [Field error in object 'orderDto' on field 'block': rejected value [null]; codes [NotBlank.orderDto.block,NotBlank.block,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [orderDto.block,block]; arguments []; default message [block]]; default message [must not be blank]] ]\n\n</code></pre>\n<p>I couldn't understand why my blank cannot work with this method and why this error. can anybody help me?</p>\n<p>model</p>\n<pre><code>package com.api.order_control.models;\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;restaurant_orders&quot;)\npublic class OrderModel implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @Column(nullable = false, length = 11)\n    private String customerName;\n    @Column(nullable = false, length = 15)\n    private String phoneNumber;\n    @Column(nullable = false, length = 25)\n    private String address;\n    @Column(nullable = false, length = 10)\n    private String doorNumber;\n    @Column(length = 5)\n    private String block;\n    @Column(nullable = false, length = 30)\n    private String orderNote;\n    @Column(nullable = false)\n    private Float price;\n    @Column(nullable = false)\n    private LocalDateTime registrationDate;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDoorNumber() {\n        return doorNumber;\n    }\n\n    public void setDoorNumber(String doorNumber) {\n        this.doorNumber = doorNumber;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrderNote() {\n        return orderNote;\n    }\n\n    public void setOrderNote(String order) {\n        this.orderNote = orderNote;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public LocalDateTime getRegistrationDate() {\n        return registrationDate;\n    }\n\n    public void setRegistrationDate(LocalDateTime registrationDate) {\n        this.registrationDate = registrationDate;\n    }\n}\n</code></pre>\n<p>dto pack</p>\n<pre><code>package com.api.order_control.dtos;\n\nimport jakarta.validation.constraints.NotBlank;\n\npublic class OrderDto {\n    @NotBlank\n    private String customerName;\n    @NotBlank\n    private String phoneNumber;\n    @NotBlank\n    private String address;\n    @NotBlank\n    private String doorNumber;\n    @NotBlank\n    private String block;\n    @NotBlank\n    private String orderNote;\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String doorNumber() {\n        return doorNumber;\n    }\n\n    public void doorNumber(String doorName) {\n        this.doorNumber = doorName;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrderNote() {\n        return orderNote;\n    }\n\n    public void setOrderNote(String orderNote) {\n        this.orderNote = orderNote;\n    }\n\n}\n\n</code></pre>\n<p>controller with post</p>\n<pre><code>package com.api.order_control.controllers;\n\n\nimport com.api.order_control.dtos.OrderDto;\nimport com.api.order_control.models.OrderModel;\nimport com.api.order_control.services.OrderService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/orders&quot;)\npublic class OrderController {\n\n    final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\n        var orderModel = new OrderModel();\n        BeanUtils.copyProperties(orderDto, orderModel);\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\n        orderModel.setPrice(70.8f);\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\n    }\n}\n\n</code></pre>\n<p>I had already had a blank error because I was using a float, but in this case &quot;numberDoor&quot; is just a string. What is the reason for this error?</p>\n<p>Postman request</p>\n<pre><code>{\n    &quot;customerName&quot;: &quot;Ryan&quot;,\n    &quot;phoneNumber&quot;: &quot;1 99859 5854&quot;,\n    &quot;address&quot;: &quot;St Street Vl 190&quot;,\n    &quot;doorNumber&quot;: &quot;5&quot;,\n    &quot;orderNote&quot;: &quot;Pepperoni Pizza&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","kerberos","spring-security-kerberos"],"answers":[{"tags":[],"owner":{"account_id":5756682,"reputation":224,"user_id":4544353,"accept_rate":100,"display_name":"mugua"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1676490712,"creation_date":1448656162,"answer_id":33964447,"question_id":33927316,"body_markdown":"It seems that I had conflicts with existing Service Principal Mappings. Once I cleaned it up, the error stopped happening.  [This link][1] helped me find the solution.\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-13996","title":"Spring Security Kerberos + AD, Checksum Fail","body":"<p>It seems that I had conflicts with existing Service Principal Mappings. Once I cleaned it up, the error stopped happening.  <a href=\"https://developer.jboss.org/docs/DOC-13996\" rel=\"nofollow noreferrer\">This link</a> helped me find the solution.</p>\n"},{"tags":[],"owner":{"account_id":11530374,"reputation":967,"user_id":8449478,"display_name":"cecunami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585813493,"creation_date":1585813493,"answer_id":60986562,"question_id":33927316,"body_markdown":"I hit this issue recently.\r\n\r\nThe DNS of the service must match the service principal name.\r\nThe principal name must start with HTTP/\r\n\r\nExample:\r\nService DNS: www.ala-bala.com\r\nPrincipal name must be: HTTP/ala-bala.com@REALM\r\n\r\nThe realm doesn&#39;t have to match the DNS.\r\n\r\nIf running locally, the DNS obviously will not match the principal.\r\n\r\nYou can work around it by adding a line to /etc/hosts:\r\n127.0.0.1    ala-bala.com\r\n\r\nYou can also use a client which allows you to override the kerberos host/principal name like requests_kerberos in Python.\r\n\r\n\r\n\r\n\r\n","title":"Spring Security Kerberos + AD, Checksum Fail","body":"<p>I hit this issue recently.</p>\n\n<p>The DNS of the service must match the service principal name.\nThe principal name must start with HTTP/</p>\n\n<p>Example:\nService DNS: www.ala-bala.com\nPrincipal name must be: HTTP/ala-bala.com@REALM</p>\n\n<p>The realm doesn't have to match the DNS.</p>\n\n<p>If running locally, the DNS obviously will not match the principal.</p>\n\n<p>You can work around it by adding a line to /etc/hosts:\n127.0.0.1    ala-bala.com</p>\n\n<p>You can also use a client which allows you to override the kerberos host/principal name like requests_kerberos in Python.</p>\n"}],"owner":{"account_id":5756682,"reputation":224,"user_id":4544353,"accept_rate":100,"display_name":"mugua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15565,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33964447,"answer_count":2,"score":5,"last_activity_date":1676490712,"creation_date":1448489582,"question_id":33927316,"body_markdown":"I&#39;m trying to do a Spring Security Kerberos with Active Directory credentials as stated in http://docs.spring.io/spring-security-kerberos/docs/1.0.1.RELEASE/reference/htmlsingle/#samples-sec-server-win-auth. I&#39;d like to say that I&#39;ve got most of the things down (SPN, keytabs, etc.). Now I&#39;ve got a checksum fail. Supposing I change my principal name, I get an AES encryption error. \r\n\r\nI&#39;m using Spring Boot on RHEL 6 with Oracle Java 1.8 + JCE\r\nSample from https://github.com/spring-projects/spring-security-kerberos/tree/master/spring-security-kerberos-samples/sec-server-win-auth\r\n\r\nHere is what I get when run the jar\r\n\r\n------------------------------------------------------------------------\r\n\r\n&gt;Debug is  true \r\nstoreKey true \r\nuseTicketCache false \r\nuseKeyTab true \r\ndoNotPrompt true \r\nticketCache is null \r\nisInitiator false \r\nKeyTab is /home/boss/webdev125-3.keytab \r\nrefreshKrb5Config is false \r\nprincipal is http/webdev@EXAMPLE.ORG \r\ntryFirstPass is false \r\nuseFirstPass is false \r\nstorePass is false \r\nclearPass is false\r\n\r\n&gt;principal is http/webdev@EXAMPLE.ORG\r\nWill use keytab\r\nCommit Succeeded\r\n\r\n....\r\n\r\n&gt;2015-11-25 11:29:09.631 DEBUG 5559 --- [nio-8080-exec-3] .a.KerberosServiceAuthenticationProvider : Try to validate Kerberos Token\r\n2015-11-25 11:29:10.003  WARN 5559 --- [nio-8080-exec-3] w.a.SpnegoAuthenticationProcessingFilter : Negotiate Header was invalid:\r\n\r\n...\r\n\r\n&gt;org.springframework.security.authentication.BadCredentialsException: Kerberos validation not successful\r\n        at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator.validateTicket(SunJaasKerberosTicketValidator.java:71)\r\n        at org.springframework.security.kerberos.authentication.KerberosServiceAuthenticationProvider.authenticate(KerberosServiceAuthenticationProvider.java:64)\r\n        at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:156)\r\n\r\n...\r\n\r\n\r\n&gt;Caused by: org.ietf.jgss.GSSException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed)\r\n\r\n        at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:856)\r\n        at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\r\n        at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\r\n        at sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(SpNegoContext.java:906)\r\n        at sun.security.jgss.spnego.SpNegoContext.acceptSecContext(SpNegoContext.java:556)\r\n        at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\r\n        at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\r\n        at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator$KerberosValidateAction.run(SunJaasKerberosTicketValidator.java:170)\r\n        at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator$KerberosValidateAction.run(SunJaasKerberosTicketValidator.java:153)\r\n        ... 48 common frames omitted\r\n\r\n&gt;Caused by: sun.security.krb5.KrbCryptoException: Checksum failed\r\n\r\n        at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:102)\r\n        at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:94)\r\n        at sun.security.krb5.EncryptedData.decrypt(EncryptedData.java:175)\r\n        at sun.security.krb5.KrbApReq.authenticate(KrbApReq.java:281)\r\n        at sun.security.krb5.KrbApReq.&lt;init&gt;(KrbApReq.java:149)\r\n        at sun.security.jgss.krb5.InitSecContextToken.&lt;init&gt;(InitSecContextToken.java:108)\r\n        at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:829)\r\n        ... 56 common frames omitted\r\n\r\n&gt;Caused by: java.security.GeneralSecurityException: Checksum failed\r\n\r\n        at sun.security.krb5.internal.crypto.dk.AesDkCrypto.decryptCTS(AesDkCrypto.java:451)\r\n        at sun.security.krb5.internal.crypto.dk.AesDkCrypto.decrypt(AesDkCrypto.java:272)\r\n        at sun.security.krb5.internal.crypto.Aes256.decrypt(Aes256.java:76)\r\n        at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:100)\r\n        ... 62 common frames omitted\r\n\r\n\r\n-----------------------------------------------\r\n Some other details:\r\n\r\n- /etc/krb5.conf does have default_tgs_enctypes, default_tkt_enctypes to include aes256-cts-hmac-sha1-96\r\n- default keytab location is matching between the application and krb5.conf\r\n- keytabs are being generated on a windows server, then copied to RHEL","title":"Spring Security Kerberos + AD, Checksum Fail","body":"<p>I'm trying to do a Spring Security Kerberos with Active Directory credentials as stated in <a href=\"http://docs.spring.io/spring-security-kerberos/docs/1.0.1.RELEASE/reference/htmlsingle/#samples-sec-server-win-auth\" rel=\"noreferrer\">http://docs.spring.io/spring-security-kerberos/docs/1.0.1.RELEASE/reference/htmlsingle/#samples-sec-server-win-auth</a>. I'd like to say that I've got most of the things down (SPN, keytabs, etc.). Now I've got a checksum fail. Supposing I change my principal name, I get an AES encryption error. </p>\n\n<p>I'm using Spring Boot on RHEL 6 with Oracle Java 1.8 + JCE\nSample from <a href=\"https://github.com/spring-projects/spring-security-kerberos/tree/master/spring-security-kerberos-samples/sec-server-win-auth\" rel=\"noreferrer\">https://github.com/spring-projects/spring-security-kerberos/tree/master/spring-security-kerberos-samples/sec-server-win-auth</a></p>\n\n<p>Here is what I get when run the jar</p>\n\n<hr>\n\n<blockquote>\n  <p>Debug is  true \n  storeKey true \n  useTicketCache false \n  useKeyTab true \n  doNotPrompt true \n  ticketCache is null \n  isInitiator false \n  KeyTab is /home/boss/webdev125-3.keytab \n  refreshKrb5Config is false \n  principal is http/webdev@EXAMPLE.ORG \n  tryFirstPass is false \n  useFirstPass is false \n  storePass is false \n  clearPass is false</p>\n  \n  <p>principal is http/webdev@EXAMPLE.ORG\n  Will use keytab\n  Commit Succeeded</p>\n</blockquote>\n\n<p>....</p>\n\n<blockquote>\n  <p>2015-11-25 11:29:09.631 DEBUG 5559 --- [nio-8080-exec-3] .a.KerberosServiceAuthenticationProvider : Try to validate Kerberos Token\n  2015-11-25 11:29:10.003  WARN 5559 --- [nio-8080-exec-3] w.a.SpnegoAuthenticationProcessingFilter : Negotiate Header was invalid:</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>org.springframework.security.authentication.BadCredentialsException: Kerberos validation not successful\n          at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator.validateTicket(SunJaasKerberosTicketValidator.java:71)\n          at org.springframework.security.kerberos.authentication.KerberosServiceAuthenticationProvider.authenticate(KerberosServiceAuthenticationProvider.java:64)\n          at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:156)</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>Caused by: org.ietf.jgss.GSSException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed)</p>\n</blockquote>\n\n<pre><code>    at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:856)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\n    at sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(SpNegoContext.java:906)\n    at sun.security.jgss.spnego.SpNegoContext.acceptSecContext(SpNegoContext.java:556)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\n    at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator$KerberosValidateAction.run(SunJaasKerberosTicketValidator.java:170)\n    at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator$KerberosValidateAction.run(SunJaasKerberosTicketValidator.java:153)\n    ... 48 common frames omitted\n</code></pre>\n\n<blockquote>\n  <p>Caused by: sun.security.krb5.KrbCryptoException: Checksum failed</p>\n</blockquote>\n\n<pre><code>    at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:102)\n    at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:94)\n    at sun.security.krb5.EncryptedData.decrypt(EncryptedData.java:175)\n    at sun.security.krb5.KrbApReq.authenticate(KrbApReq.java:281)\n    at sun.security.krb5.KrbApReq.&lt;init&gt;(KrbApReq.java:149)\n    at sun.security.jgss.krb5.InitSecContextToken.&lt;init&gt;(InitSecContextToken.java:108)\n    at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:829)\n    ... 56 common frames omitted\n</code></pre>\n\n<blockquote>\n  <p>Caused by: java.security.GeneralSecurityException: Checksum failed</p>\n</blockquote>\n\n<pre><code>    at sun.security.krb5.internal.crypto.dk.AesDkCrypto.decryptCTS(AesDkCrypto.java:451)\n    at sun.security.krb5.internal.crypto.dk.AesDkCrypto.decrypt(AesDkCrypto.java:272)\n    at sun.security.krb5.internal.crypto.Aes256.decrypt(Aes256.java:76)\n    at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:100)\n    ... 62 common frames omitted\n</code></pre>\n\n<hr>\n\n<p>Some other details:</p>\n\n<ul>\n<li>/etc/krb5.conf does have default_tgs_enctypes, default_tkt_enctypes to include aes256-cts-hmac-sha1-96</li>\n<li>default keytab location is matching between the application and krb5.conf</li>\n<li>keytabs are being generated on a windows server, then copied to RHEL</li>\n</ul>\n"},{"tags":["java","javafx","icons","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1566732680,"creation_date":1566732680,"answer_id":57645621,"question_id":57641108,"body_markdown":"Since you are using Java and JavaFX 12, you should use a valid FontAwesomeFX version: 11.0.0.\r\n\r\nYou can find it here: https://bintray.com/jerady/maven/FontAwesomeFX/11.0.0\r\n\r\nIf you are using Maven or Gradle, you can just include the FontAwesome dependency:\r\n\r\n```\r\ndependencies {\r\n    implementation &quot;de.jensd:fontawesomefx-fontawesome:4.7.0-11&quot;\r\n}\r\n```\r\n\r\nThat will also include `de.jensd:fontawesomefx-commons:11.0`.\r\n\r\nIf you don&#39;t use Maven/Gradle, you will have to download them from [here](https://bintray.com/jerady/maven/download_file?file_path=de%2Fjensd%2Ffontawesomefx-commons%2F11.0%2Ffontawesomefx-commons-11.0.jar) and [here](https://bintray.com/jerady/maven/download_file?file_path=de%2Fjensd%2Ffontawesomefx-fontawesome%2F4.7.0-11%2Ffontawesomefx-fontawesome-4.7.0-11.jar), and include them in your project.\r\n\r\nNext step: since you have a modular application, your module descriptor should contain all the modules that your project _requires_. \r\n\r\nTherefore your `module-info` should include the `fontawesome` module:\r\n\r\n```\r\nmodule Practice {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires de.jensd.fx.fontawesomefx.fontawesome;\r\n\r\n    opens sample to javafx.fxml;\r\n    exports sample;\r\n}\r\n```\r\n\r\nNow your project will have all the required dependencies and will work.","title":"How to add AwesomeFontFX Icon Pack to JavaFX Project in IntelliJ IDEA?","body":"<p>Since you are using Java and JavaFX 12, you should use a valid FontAwesomeFX version: 11.0.0.</p>\n\n<p>You can find it here: <a href=\"https://bintray.com/jerady/maven/FontAwesomeFX/11.0.0\" rel=\"noreferrer\">https://bintray.com/jerady/maven/FontAwesomeFX/11.0.0</a></p>\n\n<p>If you are using Maven or Gradle, you can just include the FontAwesome dependency:</p>\n\n<pre><code>dependencies {\n    implementation \"de.jensd:fontawesomefx-fontawesome:4.7.0-11\"\n}\n</code></pre>\n\n<p>That will also include <code>de.jensd:fontawesomefx-commons:11.0</code>.</p>\n\n<p>If you don't use Maven/Gradle, you will have to download them from <a href=\"https://bintray.com/jerady/maven/download_file?file_path=de%2Fjensd%2Ffontawesomefx-commons%2F11.0%2Ffontawesomefx-commons-11.0.jar\" rel=\"noreferrer\">here</a> and <a href=\"https://bintray.com/jerady/maven/download_file?file_path=de%2Fjensd%2Ffontawesomefx-fontawesome%2F4.7.0-11%2Ffontawesomefx-fontawesome-4.7.0-11.jar\" rel=\"noreferrer\">here</a>, and include them in your project.</p>\n\n<p>Next step: since you have a modular application, your module descriptor should contain all the modules that your project <em>requires</em>. </p>\n\n<p>Therefore your <code>module-info</code> should include the <code>fontawesome</code> module:</p>\n\n<pre><code>module Practice {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires de.jensd.fx.fontawesomefx.fontawesome;\n\n    opens sample to javafx.fxml;\n    exports sample;\n}\n</code></pre>\n\n<p>Now your project will have all the required dependencies and will work.</p>\n"}],"owner":{"account_id":16568235,"reputation":43,"user_id":11972194,"display_name":"Trileo Stark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10465,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57645621,"answer_count":1,"score":4,"last_activity_date":1676490364,"creation_date":1566676424,"question_id":57641108,"body_markdown":"I am creating a mini-JavaFX project and wanted to use the Awesome Font Icon Pack.I loaded the fontawesomefx-8.9 using the Scenebuilder and opened the FXML in it and loaded two icons in it, also added the JAR file in External Libraries in IntelliJ but when I run the code it gives a ClassNotFoundException for de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView. What should I do?\r\n\r\nI removed the two Icons and the code runs fine. I searched many places but it only showed to add the JAR files to external libraries and nothing. I am using JDK 12 , JavaFX 12 and Scenebuilder 11.0.\r\n\r\nFXML File \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    \r\n    &lt;fx:root alignment=&quot;center&quot; hgap=&quot;10&quot; type=&quot;GridPane&quot; vgap=&quot;10&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sample.Controller&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Click Me!!!&quot;&gt;\r\n             &lt;opaqueInsets&gt;\r\n                &lt;Insets left=&quot;5.0&quot; /&gt;\r\n             &lt;/opaqueInsets&gt;&lt;/Button&gt;\r\n          &lt;FontAwesomeIconView glyphName=&quot;CIRCLE&quot; /&gt;\r\n       &lt;/children&gt;\r\n       &lt;columnConstraints&gt;\r\n          &lt;ColumnConstraints /&gt;\r\n       &lt;/columnConstraints&gt;\r\n       &lt;rowConstraints&gt;\r\n          &lt;RowConstraints /&gt;\r\n       &lt;/rowConstraints&gt;\r\n    &lt;/fx:root&gt;\r\n\r\nController Class\r\n\r\n    package sample;\r\n    \r\n    import javafx.fxml.Initializable;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class Controller implements Initializable {\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n    \r\n        }\r\n\r\n    Module-Info.java\r\n    \r\n    module Practice {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n    \r\n        opens sample;\r\n    }\r\n\r\n\r\nMain Class\r\n\r\n    package sample;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n            primaryStage.setTitle(&quot;Hello World&quot;);\r\n            primaryStage.setScene(new Scene(root, 300, 275));\r\n            primaryStage.show();\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nError\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-12.0.2\\bin\\java.exe&quot; --add-modules javafx.base,javafx.graphics --add-reads javafx.base=ALL-UNNAMED --add-reads javafx.graphics=ALL-UNNAMED &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2.1\\lib\\idea_rt.jar=7604:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2.1\\bin&quot; -Dfile.encoding=UTF-8 -p &quot;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.base.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.graphics.jar;E:\\Java Programs\\JavaFX\\Practice\\out\\production\\Practice;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx-swt.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.controls.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.fxml.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.media.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.swing.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.web.jar;E:\\Java Programs\\JavaFX\\fontawesomefx-8.9.jar&quot; -m Practice/sample.Main\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:835)\r\n    Caused by: javafx.fxml.LoadException: \r\n    /E:/Java%20Programs/JavaFX/Practice/out/production/Practice/sample/sample.fxml\r\n    \r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2863)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.processImport(FXMLLoader.java:2707)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.processProcessingInstruction(FXMLLoader.java:2676)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2542)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n    \tat Practice/sample.Main.start(Main.java:13)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:389)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n    \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n    \t... 1 more\r\n    Caused by: java.lang.ClassNotFoundException: de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadTypeForPackage(FXMLLoader.java:2931)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadType(FXMLLoader.java:2920)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2861)\r\n    \t... 20 more\r\n    Exception running application sample.Main\r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\n","title":"How to add AwesomeFontFX Icon Pack to JavaFX Project in IntelliJ IDEA?","body":"<p>I am creating a mini-JavaFX project and wanted to use the Awesome Font Icon Pack.I loaded the fontawesomefx-8.9 using the Scenebuilder and opened the FXML in it and loaded two icons in it, also added the JAR file in External Libraries in IntelliJ but when I run the code it gives a ClassNotFoundException for de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView. What should I do?</p>\n\n<p>I removed the two Icons and the code runs fine. I searched many places but it only showed to add the JAR files to external libraries and nothing. I am using JDK 12 , JavaFX 12 and Scenebuilder 11.0.</p>\n\n<p>FXML File </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n\n&lt;fx:root alignment=\"center\" hgap=\"10\" type=\"GridPane\" vgap=\"10\" xmlns=\"http://javafx.com/javafx/8.0.171\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"sample.Controller\"&gt;\n   &lt;children&gt;\n      &lt;Button mnemonicParsing=\"false\" text=\"Click Me!!!\"&gt;\n         &lt;opaqueInsets&gt;\n            &lt;Insets left=\"5.0\" /&gt;\n         &lt;/opaqueInsets&gt;&lt;/Button&gt;\n      &lt;FontAwesomeIconView glyphName=\"CIRCLE\" /&gt;\n   &lt;/children&gt;\n   &lt;columnConstraints&gt;\n      &lt;ColumnConstraints /&gt;\n   &lt;/columnConstraints&gt;\n   &lt;rowConstraints&gt;\n      &lt;RowConstraints /&gt;\n   &lt;/rowConstraints&gt;\n&lt;/fx:root&gt;\n</code></pre>\n\n<p>Controller Class</p>\n\n<pre><code>package sample;\n\nimport javafx.fxml.Initializable;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class Controller implements Initializable {\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n    }\n\nModule-Info.java\n\nmodule Practice {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    opens sample;\n}\n</code></pre>\n\n<p>Main Class</p>\n\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(\"sample.fxml\"));\n        primaryStage.setTitle(\"Hello World\");\n        primaryStage.setScene(new Scene(root, 300, 275));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>Error</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-12.0.2\\bin\\java.exe\" --add-modules javafx.base,javafx.graphics --add-reads javafx.base=ALL-UNNAMED --add-reads javafx.graphics=ALL-UNNAMED \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2.1\\lib\\idea_rt.jar=7604:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2.1\\bin\" -Dfile.encoding=UTF-8 -p \"E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.base.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.graphics.jar;E:\\Java Programs\\JavaFX\\Practice\\out\\production\\Practice;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx-swt.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.controls.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.fxml.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.media.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.swing.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.web.jar;E:\\Java Programs\\JavaFX\\fontawesomefx-8.9.jar\" -m Practice/sample.Main\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: javafx.fxml.LoadException: \n/E:/Java%20Programs/JavaFX/Practice/out/production/Practice/sample/sample.fxml\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\n    at javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2863)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processImport(FXMLLoader.java:2707)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processProcessingInstruction(FXMLLoader.java:2676)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2542)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\n    at Practice/sample.Main.start(Main.java:13)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:389)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more\nCaused by: java.lang.ClassNotFoundException: de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadTypeForPackage(FXMLLoader.java:2931)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadType(FXMLLoader.java:2920)\n    at javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2861)\n    ... 20 more\nException running application sample.Main\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":975963,"reputation":16736,"user_id":997162,"accept_rate":69,"display_name":"Mike Doe"},"score":1,"creation_date":1523607626,"post_id":49811225,"comment_id":86639085,"body_markdown":"AWS SDK for which language?","body":"AWS SDK for which language?"},{"owner":{"account_id":196973,"reputation":2901,"user_id":440732,"accept_rate":61,"display_name":"krackoder"},"score":0,"creation_date":1523633085,"post_id":49811225,"comment_id":86655771,"body_markdown":"@emix Java. I updated the post","body":"@emix Java. I updated the post"}],"answers":[{"tags":[],"owner":{"account_id":141042,"reputation":9130,"user_id":347777,"display_name":"Viccari"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1676490315,"creation_date":1523634070,"answer_id":49820694,"question_id":49811225,"body_markdown":"Looking at the code, the `doesObjectExist()` method internally calls `getObjectMetadata` ([link](https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1321), [link](https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1243)).\r\n\r\nIf you go [a little deeper](https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1261) into the code, the actual HTTP request is a `HEAD` request, so I strongly suspect they are just doing a `HEAD` on the object itself.\r\n\r\nThe description of [`GetObjectMetadataRequest`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/GetObjectMetadataRequest.html) and the [`HEAD` call on the REST API](https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectHEAD.html) are also similar.\r\n\r\nRegarding permissions, you are correct (the excerpt below also comes from the `HEAD` request on the REST API): \r\n\r\n&gt; You need the s3:GetObject permission for this operation.  For more information, go to Specifying Permissions in a Policy in the Amazon Simple Storage Service Developer Guide. If the object you request does not exist, the error Amazon S3 returns depends on whether you also have the s3:ListBucket permission.","title":"AWS S3 doesObjectExist costs","body":"<p>Looking at the code, the <code>doesObjectExist()</code> method internally calls <code>getObjectMetadata</code> (<a href=\"https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1321\" rel=\"nofollow noreferrer\">link</a>, <a href=\"https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1243\" rel=\"nofollow noreferrer\">link</a>).</p>\n<p>If you go <a href=\"https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1261\" rel=\"nofollow noreferrer\">a little deeper</a> into the code, the actual HTTP request is a <code>HEAD</code> request, so I strongly suspect they are just doing a <code>HEAD</code> on the object itself.</p>\n<p>The description of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/GetObjectMetadataRequest.html\" rel=\"nofollow noreferrer\"><code>GetObjectMetadataRequest</code></a> and the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectHEAD.html\" rel=\"nofollow noreferrer\"><code>HEAD</code> call on the REST API</a> are also similar.</p>\n<p>Regarding permissions, you are correct (the excerpt below also comes from the <code>HEAD</code> request on the REST API):</p>\n<blockquote>\n<p>You need the s3:GetObject permission for this operation.  For more information, go to Specifying Permissions in a Policy in the Amazon Simple Storage Service Developer Guide. If the object you request does not exist, the error Amazon S3 returns depends on whether you also have the s3:ListBucket permission.</p>\n</blockquote>\n"}],"owner":{"account_id":196973,"reputation":2901,"user_id":440732,"accept_rate":61,"display_name":"krackoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10164,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49820694,"answer_count":1,"score":9,"last_activity_date":1676490315,"creation_date":1523603284,"question_id":49811225,"body_markdown":"AWS S3 Java SDK provides a method `doesObjectExist()` to check if an object exists in S3. What operation does it use internally? Is it `GET`, `LIST`, or `HEAD` ?\r\n\r\nMy concern is mainly related to its costs. From S3 documentation the costs of US west Oregon are-\r\nPUT, COPY, POST, or LIST Requests\t$0.005 per 1,000 requests\r\n\r\nGET, SELECT and all other Requests\t$0.0004 per 1,000 requests\r\n\r\n\r\nDoes the cost of `doesObjectExist()` fall under 1st or 2nd category? Also I was reading somewhere that this operation requires `ListBucket` and `GetObject` permissions. So does that mean this operation incurs cost of both the above categories?\r\n","title":"AWS S3 doesObjectExist costs","body":"<p>AWS S3 Java SDK provides a method <code>doesObjectExist()</code> to check if an object exists in S3. What operation does it use internally? Is it <code>GET</code>, <code>LIST</code>, or <code>HEAD</code> ?</p>\n\n<p>My concern is mainly related to its costs. From S3 documentation the costs of US west Oregon are-\nPUT, COPY, POST, or LIST Requests   $0.005 per 1,000 requests</p>\n\n<p>GET, SELECT and all other Requests  $0.0004 per 1,000 requests</p>\n\n<p>Does the cost of <code>doesObjectExist()</code> fall under 1st or 2nd category? Also I was reading somewhere that this operation requires <code>ListBucket</code> and <code>GetObject</code> permissions. So does that mean this operation incurs cost of both the above categories?</p>\n"},{"tags":["java","multithreading","concurrency","synchronization","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675982391,"creation_date":1675982391,"answer_id":75405186,"question_id":75398838,"body_markdown":"Atomic values don&#39;t allow blocking.  In some cases, this is good, but in your case (if understand it correctly), it is not.  As i understand it, you want to cache an access token.  If it doesn&#39;t exist yet, or is expired, you want a new token to be created.  Ultimately, you want any caller accessing the cache to get a valid token.\r\n\r\nYou can achieve this in a performant manner using (the valid form of) double checked locking.\r\n\r\nThe basic pattern is:\r\n\r\n    private volatile Token _currentToken;\r\n\r\n    public Token getValidToken() {\r\n      Token token = _currentToken;\r\n      if(!isValidToken(token)) {\r\n        token = loadToken();\r\n      }\r\n      return token;\r\n    }\r\n\r\n    private synchronized Token loadToken() {\r\n      Token token = _currentToken;\r\n      if(!isValidToken(token)) {\r\n        token = // ... get valid token here ...\r\n        _currentToken = token;\r\n      }\r\n      return token;\r\n    }\r\n\r\n    private boolean isValidToken(Token token) {\r\n      // .. validate that token is not null or expired ...\r\n    }\r\n\r\nfor callers who call getValidToken() when there is already a valid token, they won&#39;t encounter any locking.  note that reading a volatile incurs a similar performance hit without _actually_ blocking, but this about the best you can get for concurrent code (without doing something with ThreadLocal and potentially an access token per thread).\r\n\r\nfor callers who encounter a missing or expired token, they will all block until a single caller gets a new, valid token.\r\n\r\nnote, there are probably good cache implementations in either google guava or apache commons which would handle this logic for you.","title":"AutomicReference compareAndSet usage","body":"<p>Atomic values don't allow blocking.  In some cases, this is good, but in your case (if understand it correctly), it is not.  As i understand it, you want to cache an access token.  If it doesn't exist yet, or is expired, you want a new token to be created.  Ultimately, you want any caller accessing the cache to get a valid token.</p>\n<p>You can achieve this in a performant manner using (the valid form of) double checked locking.</p>\n<p>The basic pattern is:</p>\n<pre><code>private volatile Token _currentToken;\n\npublic Token getValidToken() {\n  Token token = _currentToken;\n  if(!isValidToken(token)) {\n    token = loadToken();\n  }\n  return token;\n}\n\nprivate synchronized Token loadToken() {\n  Token token = _currentToken;\n  if(!isValidToken(token)) {\n    token = // ... get valid token here ...\n    _currentToken = token;\n  }\n  return token;\n}\n\nprivate boolean isValidToken(Token token) {\n  // .. validate that token is not null or expired ...\n}\n</code></pre>\n<p>for callers who call getValidToken() when there is already a valid token, they won't encounter any locking.  note that reading a volatile incurs a similar performance hit without <em>actually</em> blocking, but this about the best you can get for concurrent code (without doing something with ThreadLocal and potentially an access token per thread).</p>\n<p>for callers who encounter a missing or expired token, they will all block until a single caller gets a new, valid token.</p>\n<p>note, there are probably good cache implementations in either google guava or apache commons which would handle this logic for you.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676489381,"creation_date":1676413774,"answer_id":75453843,"question_id":75398838,"body_markdown":"&gt; lets say `AccessTokenWithExpirationDate` has initial value and now Thread1 arrives to method `putAccessTokenToCache()` and run: accessTokenWithExpirationDate.compareAndSet(...), and at the same time other threads try to run: accessTokenWithExpirationDate.get() in getAccessTokenFromCache method, will all threads calling get() will wait for compareAndSet() to finish to get the value after or not guaranteed ?\r\n\r\nWhenever `accessTokenWithExpirationDate.get()` is called, the guarantee is that the most recently set value of `accessTokenWithExpirationDate` is returned.  Period.  There is no locking.  If the get is called before the set then the old value is returned.  If the get is called after the set then the new value is returned.\r\n\r\n&gt; if not, can the class be changed in a way that will allow it? some other use in AutomicReference that can promise that?\r\n\r\nYou can certainly add locking but I&#39;m not sure what it buys you.  Either the other threads call `get()` before or after the `set()` has completed.  If you added locking then the same race conditions would happen but you would make the getting and setting of the value a lot more expensive.  In your case, each thread has to cross memory barriers to ensure the correct publishing of the `accessTokenWithExpirationDate` value but there is no blocking.\r\n\r\nFull locking is necessary when there are multiple values being updated in an object or if you need to ensure a _single_ thread is accessing a resource at a time.  If you need to set a single value, in your case `accessTokenWithExpirationDate`, then an `AtomicReference` is the right tool for the job.\r\n","title":"AutomicReference compareAndSet usage","body":"<blockquote>\n<p>lets say <code>AccessTokenWithExpirationDate</code> has initial value and now Thread1 arrives to method <code>putAccessTokenToCache()</code> and run: accessTokenWithExpirationDate.compareAndSet(...), and at the same time other threads try to run: accessTokenWithExpirationDate.get() in getAccessTokenFromCache method, will all threads calling get() will wait for compareAndSet() to finish to get the value after or not guaranteed ?</p>\n</blockquote>\n<p>Whenever <code>accessTokenWithExpirationDate.get()</code> is called, the guarantee is that the most recently set value of <code>accessTokenWithExpirationDate</code> is returned.  Period.  There is no locking.  If the get is called before the set then the old value is returned.  If the get is called after the set then the new value is returned.</p>\n<blockquote>\n<p>if not, can the class be changed in a way that will allow it? some other use in AutomicReference that can promise that?</p>\n</blockquote>\n<p>You can certainly add locking but I'm not sure what it buys you.  Either the other threads call <code>get()</code> before or after the <code>set()</code> has completed.  If you added locking then the same race conditions would happen but you would make the getting and setting of the value a lot more expensive.  In your case, each thread has to cross memory barriers to ensure the correct publishing of the <code>accessTokenWithExpirationDate</code> value but there is no blocking.</p>\n<p>Full locking is necessary when there are multiple values being updated in an object or if you need to ensure a <em>single</em> thread is accessing a resource at a time.  If you need to set a single value, in your case <code>accessTokenWithExpirationDate</code>, then an <code>AtomicReference</code> is the right tool for the job.</p>\n"}],"owner":{"account_id":14173479,"reputation":81,"user_id":10239441,"display_name":"user10239441"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676489381,"creation_date":1675946957,"question_id":75398838,"body_markdown":"I have this class containing AccessTokenWithExpirationDate object wrapped in AutomicReference which I want it to be thread safe:\r\n\r\n```\r\npublic class MyClass {\r\n\r\n    private AtomicReference&lt;AccessTokenWithExpirationDate&gt; accessTokenWithExpirationDate = new AtomicReference&lt;&gt;();\r\n\r\n    private AccessTokenWithExpirationDate putAccessTokenToCache(AccessTokenDto accessTokenDto) {\r\n        AccessTokenWithExpirationDate currentValue = this.accessTokenWithExpirationDate.get();\r\n        AccessTokenWithExpirationDate accessTokenWithExpirationDate\r\n                = new AccessTokenWithExpirationDate(accessTokenDto);\r\n        \r\n        // if currentValue the same, update.\r\n        // if currentValue not the same - another thread already updated it. continue.\r\n        this.accessTokenWithExpirationDate.compareAndSet(currentValue, accessTokenWithExpirationDate);\r\n        \r\n        return accessTokenWithExpirationDate;\r\n    }\r\n\r\n    private Optional&lt;String&gt; getAccessTokenFromCache() {\r\n        Optional&lt;AccessTokenWithExpirationDate&gt; accessTokenWithExpirationDate = Optional.ofNullable(this.accessTokenWithExpirationDate.get());\r\n        if (accessTokenWithExpirationDate.isPresent() &amp;&amp; isTokenNotExpired(accessTokenWithExpirationDate.get())) {\r\n            return accessTokenWithExpirationDate\r\n                    .map(AccessTokenWithExpirationDate::getTokenDto)\r\n                    .map(AccessTokenDto::getAccessToken);\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n1. lets say AccessTokenWithExpirationDate has initial value and now Thread1 arrives to  method putAccessTokenToCache and run: accessTokenWithExpirationDate.compareAndSet,\r\nand at the same time other threads try to run:\r\naccessTokenWithExpirationDate.get() in getAccessTokenFromCache method,\r\nwill all threads calling get() will wait for compareAndSet() to finish to get the value after or not guarantied ? \r\n\r\n2. if not, can the class be changed in a way that will allow it? some other use in AutomicReference that can promise that?\r\n\r\nthank you !\r\n","title":"AutomicReference compareAndSet usage","body":"<p>I have this class containing AccessTokenWithExpirationDate object wrapped in AutomicReference which I want it to be thread safe:</p>\n<pre><code>public class MyClass {\n\n    private AtomicReference&lt;AccessTokenWithExpirationDate&gt; accessTokenWithExpirationDate = new AtomicReference&lt;&gt;();\n\n    private AccessTokenWithExpirationDate putAccessTokenToCache(AccessTokenDto accessTokenDto) {\n        AccessTokenWithExpirationDate currentValue = this.accessTokenWithExpirationDate.get();\n        AccessTokenWithExpirationDate accessTokenWithExpirationDate\n                = new AccessTokenWithExpirationDate(accessTokenDto);\n        \n        // if currentValue the same, update.\n        // if currentValue not the same - another thread already updated it. continue.\n        this.accessTokenWithExpirationDate.compareAndSet(currentValue, accessTokenWithExpirationDate);\n        \n        return accessTokenWithExpirationDate;\n    }\n\n    private Optional&lt;String&gt; getAccessTokenFromCache() {\n        Optional&lt;AccessTokenWithExpirationDate&gt; accessTokenWithExpirationDate = Optional.ofNullable(this.accessTokenWithExpirationDate.get());\n        if (accessTokenWithExpirationDate.isPresent() &amp;&amp; isTokenNotExpired(accessTokenWithExpirationDate.get())) {\n            return accessTokenWithExpirationDate\n                    .map(AccessTokenWithExpirationDate::getTokenDto)\n                    .map(AccessTokenDto::getAccessToken);\n        } else {\n            return Optional.empty();\n        }\n    }\n}\n</code></pre>\n<ol>\n<li><p>lets say AccessTokenWithExpirationDate has initial value and now Thread1 arrives to  method putAccessTokenToCache and run: accessTokenWithExpirationDate.compareAndSet,\nand at the same time other threads try to run:\naccessTokenWithExpirationDate.get() in getAccessTokenFromCache method,\nwill all threads calling get() will wait for compareAndSet() to finish to get the value after or not guarantied ?</p>\n</li>\n<li><p>if not, can the class be changed in a way that will allow it? some other use in AutomicReference that can promise that?</p>\n</li>\n</ol>\n<p>thank you !</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1676682510,"post_id":75464607,"comment_id":133193171,"body_markdown":"You should probably `return &quot;main&quot;;` from the controller methods (remove the slash).","body":"You should probably <code>return &quot;main&quot;;</code> from the controller methods (remove the slash)."}],"owner":{"account_id":27480071,"reputation":19,"user_id":20967337,"display_name":"Andrew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676489368,"creation_date":1676489368,"question_id":75464607,"body_markdown":"I&#39;ve been trying to configure Spring without Spring Boot.\r\n\r\n\r\n \r\n\r\n\r\nI added a Tomcat, created the MainController class, and configured the Dispatcher Servlet\r\n\r\nbut in an endpoint &#39;http://localhost:8080/main/hello I receive 404.\r\n\r\nI think it is problem in the ServletDispatcherConfig.\r\n\r\n\r\nThis is my &#160;ServletDispatcherConfig&#160; class\r\n\r\n```\r\n@Component\r\npublic class ServletDispatcherConfig extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[] {SpringConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[] {&quot;/&quot;};\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nand this is my SpringConfig class\r\n\r\n```\r\n\r\n@Configuration\r\n@ComponentScan(&quot;example.test&quot;)\r\n@EnableWebMvc\r\npublic class SpringConfig {\r\n\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    @Autowired\r\n    public SpringConfig(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        var resolver = new SpringResourceTemplateResolver();\r\n        resolver.setCacheable(true);\r\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        resolver.setApplicationContext(applicationContext);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        return resolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n        var engine = new SpringTemplateEngine();\r\n        engine.setTemplateResolver(templateResolver());\r\n        engine.setEnableSpringELCompiler(true); // delete if any bugs will be\r\n        return engine;\r\n    }\r\n\r\n    @Bean\r\n    public ThymeleafViewResolver viewResolver() {\r\n        var templateResolver = new ThymeleafViewResolver();\r\n        templateResolver.setTemplateEngine(templateEngine());\r\n        return templateResolver;\r\n    }\r\n}\r\n```\r\n\r\n\r\nmy MainController class\r\n\r\n```\r\n\r\n@Controller\r\n@RequestMapping(&quot;/main&quot;)\r\npublic class MainController {\r\n\r\n    @GetMapping(&quot;/first&quot;)\r\n    public String main() {\r\n        return &quot;/main&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;/main&quot;;\r\n    }\r\n}\r\n```\r\n","title":"Spring configuration without Spring Boot","body":"<p>I've been trying to configure Spring without Spring Boot.</p>\n<p>I added a Tomcat, created the MainController class, and configured the Dispatcher Servlet</p>\n<p>but in an endpoint 'http://localhost:8080/main/hello I receive 404.</p>\n<p>I think it is problem in the ServletDispatcherConfig.</p>\n<p>This is my  ServletDispatcherConfig  class</p>\n<pre><code>@Component\npublic class ServletDispatcherConfig extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] {SpringConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] {&quot;/&quot;};\n    }\n}\n</code></pre>\n<p>and this is my SpringConfig class</p>\n<pre><code>\n@Configuration\n@ComponentScan(&quot;example.test&quot;)\n@EnableWebMvc\npublic class SpringConfig {\n\n\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        var resolver = new SpringResourceTemplateResolver();\n        resolver.setCacheable(true);\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setApplicationContext(applicationContext);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        return resolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        var engine = new SpringTemplateEngine();\n        engine.setTemplateResolver(templateResolver());\n        engine.setEnableSpringELCompiler(true); // delete if any bugs will be\n        return engine;\n    }\n\n    @Bean\n    public ThymeleafViewResolver viewResolver() {\n        var templateResolver = new ThymeleafViewResolver();\n        templateResolver.setTemplateEngine(templateEngine());\n        return templateResolver;\n    }\n}\n</code></pre>\n<p>my MainController class</p>\n<pre><code>\n@Controller\n@RequestMapping(&quot;/main&quot;)\npublic class MainController {\n\n    @GetMapping(&quot;/first&quot;)\n    public String main() {\n        return &quot;/main&quot;;\n    }\n\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;/main&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner","joptionpane"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676489104,"post_id":75464506,"comment_id":133149184,"body_markdown":"Also, remove the JOptionPane statements. Replace with `System.out.println()` to echo the result: `System.out.println(checkPerfectSquare(number) ? &quot;Perfect!&quot; : &quot;Not perfect.&quot;);`","body":"Also, remove the JOptionPane statements. Replace with <code>System.out.println()</code> to echo the result: <code>System.out.println(checkPerfectSquare(number) ? &quot;Perfect!&quot; : &quot;Not perfect.&quot;);</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1676489267,"post_id":75464506,"comment_id":133149214,"body_markdown":"First, some suggestions on improving your code: Enter an `int`, not a `double`.  In `static boolean checkPerfectSquare`, change `number` to `int` type. Change the `for` loop so `i` is initialized with `2` instead of `1`.  Now, when `number % i == 0`, then `i` is a factor. At that  point, you can print it out, or save it in a `Collection`.  P.S. To find all the factors, the loop should proceed up to and including `number / 2`.","body":"First, some suggestions on improving your code: Enter an <code>int</code>, not a <code>double</code>.  In <code>static boolean checkPerfectSquare</code>, change <code>number</code> to <code>int</code> type. Change the <code>for</code> loop so <code>i</code> is initialized with <code>2</code> instead of <code>1</code>.  Now, when <code>number % i == 0</code>, then <code>i</code> is a factor. At that  point, you can print it out, or save it in a <code>Collection</code>.  P.S. To find all the factors, the loop should proceed up to and including <code>number &#47; 2</code>."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":2,"creation_date":1676489268,"post_id":75464506,"comment_id":133149215,"body_markdown":"Why are you working with doubles for an integer problem?","body":"Why are you working with doubles for an integer problem?"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1676489665,"post_id":75464506,"comment_id":133149310,"body_markdown":"A little more simply put, `if (i*i == number) { return true; }`.","body":"A little more simply put, <code>if (i*i == number) { return true; }</code>."},{"owner":{"account_id":27796472,"reputation":1,"user_id":21221861,"display_name":"Josh Andrew"},"score":0,"creation_date":1676490423,"post_id":75464506,"comment_id":133149506,"body_markdown":"I fixed the code already but still having problems on how I can display the factors when it&#39;s false, I&#39;m still new to this so I haven&#39;t really studied that far yet.","body":"I fixed the code already but still having problems on how I can display the factors when it&#39;s false, I&#39;m still new to this so I haven&#39;t really studied that far yet."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1676490849,"post_id":75464506,"comment_id":133149613,"body_markdown":"Factorizing is similar, but you will divide `number` by each factor you discover.  One hint is to try multiple times with each factor, because some factors can get multiple hits.","body":"Factorizing is similar, but you will divide <code>number</code> by each factor you discover.  One hint is to try multiple times with each factor, because some factors can get multiple hits."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676492151,"post_id":75464506,"comment_id":133149978,"body_markdown":"By the way, although your code uses `Scanner` and `JOptionPane`, the question really is unrelated to either of those.","body":"By the way, although your code uses <code>Scanner</code> and <code>JOptionPane</code>, the question really is unrelated to either of those."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676492262,"post_id":75464506,"comment_id":133150008,"body_markdown":"Are you familiar with Java [`Collection`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html) API? Are you allowed to use a `List` ?","body":"Are you familiar with Java <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a> API? Are you allowed to use a <code>List</code> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676492345,"post_id":75464506,"comment_id":133150025,"body_markdown":"It might help if you were to edit the question to include a copy of the assignment.","body":"It might help if you were to edit the question to include a copy of the assignment."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676682423,"post_id":75464506,"comment_id":133193159,"body_markdown":"The loop in your code is useful for finding factors. (See preceding comments.) But, you don&#39;t really need to use a loop to discover if a positive integer is a perfect square or not. A basic, obvious way is `int temp = (int) (Math.sqrt ((double) number); boolean isSquare = temp * temp == number;`","body":"The loop in your code is useful for finding factors. (See preceding comments.) But, you don&#39;t really need to use a loop to discover if a positive integer is a perfect square or not. A basic, obvious way is <code>int temp = (int) (Math.sqrt ((double) number); boolean isSquare = temp * temp == number;</code>"}],"owner":{"account_id":27796472,"reputation":1,"user_id":21221861,"display_name":"Josh Andrew"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676489244,"creation_date":1676488638,"question_id":75464506,"body_markdown":"How do I Write a Java program that identifies whether a number is a perfect square number and if its not it will display instead its factors?  \r\n\r\nI already tried on getting if it is a perfect square or not but I&#39;m stuck with displaying the factors when the number inputted is not a perfect square.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class Labor1\r\n{\r\n    public static void main(String[] args)   \r\n    {\r\n        Scanner sc = new Scanner(System.in);  \r\n        System.out.println(&quot;Enter a number: &quot;);   \r\n        double number = sc.nextDouble(); \r\n\r\n        if (checkPerfectSquare(number))\r\n            JOptionPane.showMessageDialog(null,&quot;PERFECT&quot;,&quot;ANSWER&quot;,JOptionPane.QUESTION_MESSAGE);  \r\n        else\r\n            JOptionPane.showMessageDialog(null,&quot;NOT PERFECT&quot;,&quot;ANSWER&quot;,JOptionPane.QUESTION_MESSAGE);   \r\n    }\r\n\r\n    static boolean checkPerfectSquare(double number)   \r\n    {\r\n        for(int i = 1; i * i &lt;= number; i++)   \r\n        {\r\n            if((number % i == 0) &amp;&amp; (number / i == i))   \r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;  \r\n    }\r\n}\r\n```","title":"How do I Write a Java program that identifies whether a number is a perfect square number, if not a perfect number the factors should pop out instead","body":"<p>How do I Write a Java program that identifies whether a number is a perfect square number and if its not it will display instead its factors?</p>\n<p>I already tried on getting if it is a perfect square or not but I'm stuck with displaying the factors when the number inputted is not a perfect square.</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class Labor1\n{\n    public static void main(String[] args)   \n    {\n        Scanner sc = new Scanner(System.in);  \n        System.out.println(&quot;Enter a number: &quot;);   \n        double number = sc.nextDouble(); \n\n        if (checkPerfectSquare(number))\n            JOptionPane.showMessageDialog(null,&quot;PERFECT&quot;,&quot;ANSWER&quot;,JOptionPane.QUESTION_MESSAGE);  \n        else\n            JOptionPane.showMessageDialog(null,&quot;NOT PERFECT&quot;,&quot;ANSWER&quot;,JOptionPane.QUESTION_MESSAGE);   \n    }\n\n    static boolean checkPerfectSquare(double number)   \n    {\n        for(int i = 1; i * i &lt;= number; i++)   \n        {\n            if((number % i == 0) &amp;&amp; (number / i == i))   \n            {\n                return true;\n            }\n        }\n\n        return false;  \n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","progress-bar"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1676448699,"post_id":75456866,"comment_id":133136643,"body_markdown":"Please [edit] your question to make the code a [mre]. What you&#39;ve shown us is the right idea. But if the `ProgressBar` is not updating, then the problem is in code you aren&#39;t showing us.","body":"Please <a href=\"https://stackoverflow.com/posts/75456866/edit\">edit</a> your question to make the code a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What you&#39;ve shown us is the right idea. But if the <code>ProgressBar</code> is not updating, then the problem is in code you aren&#39;t showing us."},{"owner":{"account_id":27181047,"reputation":3,"user_id":20716286,"display_name":"Armaan Malik"},"score":0,"creation_date":1676452405,"post_id":75456866,"comment_id":133137587,"body_markdown":"Progress Bar is updating if I define the Task in ProgressBarController, but I want to update the progressBar with my for loop but i am not getting any idea how to do this","body":"Progress Bar is updating if I define the Task in ProgressBarController, but I want to update the progressBar with my for loop but i am not getting any idea how to do this"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1676455074,"post_id":75456866,"comment_id":133138304,"body_markdown":"Absent more context, it&#39;s hard to offer more specific guidance, but you may be able to adapt this [approach](https://stackoverflow.com/a/45718846/230513) using a `BiConsumer`.","body":"Absent more context, it&#39;s hard to offer more specific guidance, but you may be able to adapt this <a href=\"https://stackoverflow.com/a/45718846/230513\">approach</a> using a <code>BiConsumer</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676456780,"post_id":75456866,"comment_id":133138809,"body_markdown":"Then you need to adapt the code so that `function` has a way to report progress. It doesn&#39;t need to directly be aware of the `Task` class; as noted, you could use a `BiConsumer` as a callback that `function` invokes periodically, where the callback implementation calls `updateProgress`. That of course means that `function` would need to be called from within a `Task` implementation. And the `ProgressBarController` _instance_ needs some sort of access to the `Task` so that it can bind the progress bar&#39;s property.","body":"Then you need to adapt the code so that <code>function</code> has a way to report progress. It doesn&#39;t need to directly be aware of the <code>Task</code> class; as noted, you could use a <code>BiConsumer</code> as a callback that <code>function</code> invokes periodically, where the callback implementation calls <code>updateProgress</code>. That of course means that <code>function</code> would need to be called from within a <code>Task</code> implementation. And the <code>ProgressBarController</code> <i>instance</i> needs some sort of access to the <code>Task</code> so that it can bind the progress bar&#39;s property."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1676458465,"post_id":75456866,"comment_id":133139231,"body_markdown":"Please create a [mre].","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1676478934,"post_id":75456866,"comment_id":133146121,"body_markdown":"This is just a guess based on your limited code. Do not try to update the `ProgressBar` in the `Task`. Use the `Task&#39;s` `setOnSucceeded` to update the `ProgressBar`.","body":"This is just a guess based on your limited code. Do not try to update the <code>ProgressBar</code> in the <code>Task</code>. Use the <code>Task&#39;s</code> <code>setOnSucceeded</code> to update the <code>ProgressBar</code>."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676489197,"creation_date":1676489197,"answer_id":75464576,"question_id":75456866,"body_markdown":"Here is an example that shows how to update the `ProgressBar` for a list of `Tasks`. My guess is that What I have in the `Button` is similar to what you should have in `for(Invoice invoiceModel : invoiceList)`.\r\n\r\n\r\n**Key Code**\r\n```\r\ntask.setOnSucceeded((event) -&gt; {\r\n    System.out.println(&quot;finished working on url &quot; + t.toString());                    \r\n    bar.setProgress(((float)counter.incrementAndGet()) / urlsList.size());\r\n    System.out.println(&quot;Counter: &quot; + counter    + &quot;\\t list size: &quot; + urlsList.size());\r\n});\r\n```\r\n\r\n**Full Code**\r\n```\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport javafx.application.Application;\r\nimport javafx.concurrent.Task;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ProgressBar;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * Creates a FlowPane and adds some rectangles inside. A LayoutAnimator is set\r\n * to observe the contents of the FlowPane for layout changes.\r\n */\r\npublic class App extends Application {\r\n\r\n    private final ExecutorService exec = Executors.newSingleThreadExecutor(r -&gt; {\r\n        Thread t = new Thread(r);\r\n        t.setDaemon(true);\r\n        return t;\r\n    });\r\n    \r\n    AtomicInteger counter = new AtomicInteger(0);\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        List&lt;URL&gt; urlsList = getURLs();\r\n\r\n        ProgressBar bar = new ProgressBar(0);\r\n        \r\n        Button btnProcessUrls = new Button(&quot;Process URLs&quot;);\r\n        btnProcessUrls.setOnAction((onAction) -&gt; {\r\n            List&lt;Task&gt; taskList = new ArrayList();\r\n\r\n            urlsList.forEach((t) -&gt; {\r\n                Task task = new Task&lt;Void&gt;() {\r\n                    @Override\r\n                    public Void call() {\r\n                        System.out.println(&quot;I starting working on URL &quot; + t.toString());\r\n                        //Simulate long running task\r\n                        for (int i = 0; i &lt; 1000000000 ;i++) {\r\n                            //System.out.print(&quot;working on url &quot; + t.toString() + &quot;\\r&quot;);\r\n                        }\r\n                        return null;\r\n                    }\r\n                };\r\n\r\n                task.setOnSucceeded((event) -&gt; {\r\n                    System.out.println(&quot;finished working on url &quot; + t.toString());                    \r\n                    bar.setProgress(((float)counter.incrementAndGet()) / urlsList.size());\r\n                    System.out.println(&quot;Counter: &quot; + counter    + &quot;\\t list size: &quot; + urlsList.size());\r\n                });\r\n                \r\n                taskList.add(task);\r\n            });\r\n            \r\n            taskList.forEach(exec::submit);\r\n        });\r\n\r\n        VBox root = new VBox(bar, btnProcessUrls);\r\n        Scene scene = new Scene(root, 300, 250);\r\n\r\n        primaryStage.setTitle(&quot;Flow Layout Test&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public List&lt;URL&gt; getURLs() {\r\n        List&lt;URL&gt; urls = new ArrayList();\r\n        simulateQueringDbForUrlStrings().forEach((t) -&gt; {\r\n            try {\r\n                urls.add(new URL(t));\r\n            } catch (MalformedURLException ex) {\r\n                System.out.println(ex.toString());\r\n            }\r\n        });\r\n\r\n        return urls;\r\n    }\r\n\r\n    public List&lt;String&gt; simulateQueringDbForUrlStrings() {\r\n        String dbResults = &quot;&quot;&quot;\r\n                           http://www.youtube.com\r\n                           http://www.facebook.com\r\n                           http://www.baidu.com\r\n                           http://www.yahoo.com\r\n                           http://www.amazon.com\r\n                           http://www.wikipedia.org\r\n                           http://www.qq.com\r\n                           http://www.google.co.in\r\n                           http://www.twitter.com\r\n                           http://www.live.com\r\n                           http://www.taobao.com\r\n                           http://www.bing.com\r\n                           http://www.instagram.com\r\n                           http://www.weibo.com\r\n                           http://www.sina.com.cn\r\n                           http://www.linkedin.com\r\n                           http://www.yahoo.co.jp\r\n                           http://www.msn.com\r\n                           http://www.vk.com\r\n                           http://www.google.de\r\n                           http://www.yandex.ru\r\n                           http://www.hao123.com\r\n                           http://www.google.co.uk\r\n                           http://www.reddit.com\r\n                           http://www.ebay.com\r\n                           http://www.google.fr\r\n                           http://www.t.co\r\n                           http://www.tmall.com\r\n                           http://www.google.com.br\r\n                           http://www.360.cn\r\n                           http://www.sohu.com\r\n                           http://www.amazon.co.jp\r\n                           http://www.pinterest.com\r\n                           http://www.netflix.com\r\n                           http://www.google.it\r\n                           http://www.google.ru\r\n                           http://www.microsoft.com\r\n                           http://www.google.es\r\n                           http://www.wordpress.com\r\n                           http://www.gmw.cn\r\n                           http://www.tumblr.com\r\n                           http://www.paypal.com\r\n                           http://www.blogspot.com\r\n                           http://www.imgur.com\r\n                           http://www.stackoverflow.com\r\n                           http://www.aliexpress.com\r\n                           http://www.naver.com\r\n                           http://www.ok.ru\r\n                           http://www.apple.com\r\n                           http://www.github.com\r\n                           http://www.chinadaily.com.cn\r\n                           http://www.imdb.com\r\n                           http://www.google.co.kr\r\n                           http://www.fc2.com\r\n                           http://www.jd.com\r\n                           http://www.blogger.com\r\n                           http://www.163.com\r\n                           http://www.google.ca\r\n                           http://www.whatsapp.com\r\n                           http://www.amazon.in\r\n                           http://www.office.com\r\n                           http://www.tianya.cn\r\n                           http://www.google.co.id\r\n                           http://www.youku.com\r\n                           http://www.rakuten.co.jp\r\n                           http://www.craigslist.org\r\n                           http://www.amazon.de\r\n                           http://www.nicovideo.jp\r\n                           http://www.google.pl\r\n                           http://www.soso.com\r\n                           http://www.bilibili.com\r\n                           http://www.dropbox.com\r\n                           http://www.xinhuanet.com\r\n                           http://www.outbrain.com\r\n                           http://www.pixnet.net\r\n                           http://www.alibaba.com\r\n                           http://www.alipay.com\r\n                           http://www.microsoftonline.com\r\n                           http://www.booking.com\r\n                           http://www.googleusercontent.com\r\n                           http://www.google.com.au\r\n                           http://www.popads.net\r\n                           http://www.cntv.cn\r\n                           http://www.zhihu.com\r\n                           http://www.amazon.co.uk\r\n                           http://www.diply.com\r\n                           http://www.coccoc.com\r\n                           http://www.cnn.com\r\n                           http://www.bbc.co.uk\r\n                           http://www.twitch.tv\r\n                           http://www.wikia.com\r\n                           http://www.google.co.th\r\n                           http://www.go.com\r\n                           http://www.google.com.ph\r\n                           http://www.doubleclick.net\r\n                           http://www.onet.pl\r\n                           http://www.googleadservices.com\r\n                           http://www.accuweather.com\r\n                           http://www.googleweblight.com\r\n                           http://www.answers.yahoo.com\r\n                           http://www.youtube.com\r\n                           http://www.facebook.com\r\n                           http://www.baidu.com\r\n                           http://www.yahoo.com\r\n                           http://www.amazon.com\r\n                           http://www.wikipedia.org\r\n                           http://www.qq.com\r\n                           http://www.google.co.in\r\n                           http://www.twitter.com\r\n                           http://www.live.com\r\n                           http://www.taobao.com\r\n                           http://www.bing.com\r\n                           http://www.instagram.com\r\n                           http://www.weibo.com\r\n                           http://www.sina.com.cn\r\n                           http://www.linkedin.com\r\n                           http://www.yahoo.co.jp\r\n                           http://www.msn.com\r\n                           http://www.vk.com\r\n                           http://www.google.de\r\n                           http://www.yandex.ru\r\n                           http://www.hao123.com\r\n                           http://www.google.co.uk\r\n                           http://www.reddit.com\r\n                           http://www.ebay.com\r\n                           http://www.google.fr\r\n                           http://www.t.co\r\n                           http://www.tmall.com\r\n                           http://www.google.com.br\r\n                           http://www.360.cn\r\n                           http://www.sohu.com\r\n                           http://www.amazon.co.jp\r\n                           http://www.pinterest.com\r\n                           http://www.netflix.com\r\n                           http://www.google.it\r\n                           http://www.google.ru\r\n                           http://www.microsoft.com\r\n                           http://www.google.es\r\n                           http://www.wordpress.com\r\n                           http://www.gmw.cn\r\n                           http://www.tumblr.com\r\n                           http://www.paypal.com\r\n                           http://www.blogspot.com\r\n                           http://www.imgur.com\r\n                           http://www.stackoverflow.com\r\n                           http://www.aliexpress.com\r\n                           http://www.naver.com\r\n                           http://www.ok.ru\r\n                           http://www.apple.com\r\n                           http://www.github.com\r\n                           http://www.chinadaily.com.cn\r\n                           http://www.imdb.com\r\n                           http://www.google.co.kr\r\n                           http://www.fc2.com\r\n                           http://www.jd.com\r\n                           http://www.blogger.com\r\n                           http://www.163.com\r\n                           http://www.google.ca\r\n                           &quot;&quot;&quot;;\r\n\r\n        String[] urls = dbResults.split(&quot;\\n&quot;);\r\n\r\n        List&lt;String&gt; urlsStringList = new ArrayList();\r\n        for (String url : urls) {\r\n            urlsStringList.add(url.strip());\r\n        }\r\n\r\n        return urlsStringList;\r\n    }\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KHK1A.gif","title":"I want to loop through a list and want to show a progressBar while looping through that list","body":"<p>Here is an example that shows how to update the <code>ProgressBar</code> for a list of <code>Tasks</code>. My guess is that What I have in the <code>Button</code> is similar to what you should have in <code>for(Invoice invoiceModel : invoiceList)</code>.</p>\n<p><strong>Key Code</strong></p>\n<pre><code>task.setOnSucceeded((event) -&gt; {\n    System.out.println(&quot;finished working on url &quot; + t.toString());                    \n    bar.setProgress(((float)counter.incrementAndGet()) / urlsList.size());\n    System.out.println(&quot;Counter: &quot; + counter    + &quot;\\t list size: &quot; + urlsList.size());\n});\n</code></pre>\n<p><strong>Full Code</strong></p>\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport javafx.application.Application;\nimport javafx.concurrent.Task;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ProgressBar;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n/**\n * Creates a FlowPane and adds some rectangles inside. A LayoutAnimator is set\n * to observe the contents of the FlowPane for layout changes.\n */\npublic class App extends Application {\n\n    private final ExecutorService exec = Executors.newSingleThreadExecutor(r -&gt; {\n        Thread t = new Thread(r);\n        t.setDaemon(true);\n        return t;\n    });\n    \n    AtomicInteger counter = new AtomicInteger(0);\n    \n    @Override\n    public void start(Stage primaryStage) {\n        List&lt;URL&gt; urlsList = getURLs();\n\n        ProgressBar bar = new ProgressBar(0);\n        \n        Button btnProcessUrls = new Button(&quot;Process URLs&quot;);\n        btnProcessUrls.setOnAction((onAction) -&gt; {\n            List&lt;Task&gt; taskList = new ArrayList();\n\n            urlsList.forEach((t) -&gt; {\n                Task task = new Task&lt;Void&gt;() {\n                    @Override\n                    public Void call() {\n                        System.out.println(&quot;I starting working on URL &quot; + t.toString());\n                        //Simulate long running task\n                        for (int i = 0; i &lt; 1000000000 ;i++) {\n                            //System.out.print(&quot;working on url &quot; + t.toString() + &quot;\\r&quot;);\n                        }\n                        return null;\n                    }\n                };\n\n                task.setOnSucceeded((event) -&gt; {\n                    System.out.println(&quot;finished working on url &quot; + t.toString());                    \n                    bar.setProgress(((float)counter.incrementAndGet()) / urlsList.size());\n                    System.out.println(&quot;Counter: &quot; + counter    + &quot;\\t list size: &quot; + urlsList.size());\n                });\n                \n                taskList.add(task);\n            });\n            \n            taskList.forEach(exec::submit);\n        });\n\n        VBox root = new VBox(bar, btnProcessUrls);\n        Scene scene = new Scene(root, 300, 250);\n\n        primaryStage.setTitle(&quot;Flow Layout Test&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public List&lt;URL&gt; getURLs() {\n        List&lt;URL&gt; urls = new ArrayList();\n        simulateQueringDbForUrlStrings().forEach((t) -&gt; {\n            try {\n                urls.add(new URL(t));\n            } catch (MalformedURLException ex) {\n                System.out.println(ex.toString());\n            }\n        });\n\n        return urls;\n    }\n\n    public List&lt;String&gt; simulateQueringDbForUrlStrings() {\n        String dbResults = &quot;&quot;&quot;\n                           http://www.youtube.com\n                           http://www.facebook.com\n                           http://www.baidu.com\n                           http://www.yahoo.com\n                           http://www.amazon.com\n                           http://www.wikipedia.org\n                           http://www.qq.com\n                           http://www.google.co.in\n                           http://www.twitter.com\n                           http://www.live.com\n                           http://www.taobao.com\n                           http://www.bing.com\n                           http://www.instagram.com\n                           http://www.weibo.com\n                           http://www.sina.com.cn\n                           http://www.linkedin.com\n                           http://www.yahoo.co.jp\n                           http://www.msn.com\n                           http://www.vk.com\n                           http://www.google.de\n                           http://www.yandex.ru\n                           http://www.hao123.com\n                           http://www.google.co.uk\n                           http://www.reddit.com\n                           http://www.ebay.com\n                           http://www.google.fr\n                           http://www.t.co\n                           http://www.tmall.com\n                           http://www.google.com.br\n                           http://www.360.cn\n                           http://www.sohu.com\n                           http://www.amazon.co.jp\n                           http://www.pinterest.com\n                           http://www.netflix.com\n                           http://www.google.it\n                           http://www.google.ru\n                           http://www.microsoft.com\n                           http://www.google.es\n                           http://www.wordpress.com\n                           http://www.gmw.cn\n                           http://www.tumblr.com\n                           http://www.paypal.com\n                           http://www.blogspot.com\n                           http://www.imgur.com\n                           http://www.stackoverflow.com\n                           http://www.aliexpress.com\n                           http://www.naver.com\n                           http://www.ok.ru\n                           http://www.apple.com\n                           http://www.github.com\n                           http://www.chinadaily.com.cn\n                           http://www.imdb.com\n                           http://www.google.co.kr\n                           http://www.fc2.com\n                           http://www.jd.com\n                           http://www.blogger.com\n                           http://www.163.com\n                           http://www.google.ca\n                           http://www.whatsapp.com\n                           http://www.amazon.in\n                           http://www.office.com\n                           http://www.tianya.cn\n                           http://www.google.co.id\n                           http://www.youku.com\n                           http://www.rakuten.co.jp\n                           http://www.craigslist.org\n                           http://www.amazon.de\n                           http://www.nicovideo.jp\n                           http://www.google.pl\n                           http://www.soso.com\n                           http://www.bilibili.com\n                           http://www.dropbox.com\n                           http://www.xinhuanet.com\n                           http://www.outbrain.com\n                           http://www.pixnet.net\n                           http://www.alibaba.com\n                           http://www.alipay.com\n                           http://www.microsoftonline.com\n                           http://www.booking.com\n                           http://www.googleusercontent.com\n                           http://www.google.com.au\n                           http://www.popads.net\n                           http://www.cntv.cn\n                           http://www.zhihu.com\n                           http://www.amazon.co.uk\n                           http://www.diply.com\n                           http://www.coccoc.com\n                           http://www.cnn.com\n                           http://www.bbc.co.uk\n                           http://www.twitch.tv\n                           http://www.wikia.com\n                           http://www.google.co.th\n                           http://www.go.com\n                           http://www.google.com.ph\n                           http://www.doubleclick.net\n                           http://www.onet.pl\n                           http://www.googleadservices.com\n                           http://www.accuweather.com\n                           http://www.googleweblight.com\n                           http://www.answers.yahoo.com\n                           http://www.youtube.com\n                           http://www.facebook.com\n                           http://www.baidu.com\n                           http://www.yahoo.com\n                           http://www.amazon.com\n                           http://www.wikipedia.org\n                           http://www.qq.com\n                           http://www.google.co.in\n                           http://www.twitter.com\n                           http://www.live.com\n                           http://www.taobao.com\n                           http://www.bing.com\n                           http://www.instagram.com\n                           http://www.weibo.com\n                           http://www.sina.com.cn\n                           http://www.linkedin.com\n                           http://www.yahoo.co.jp\n                           http://www.msn.com\n                           http://www.vk.com\n                           http://www.google.de\n                           http://www.yandex.ru\n                           http://www.hao123.com\n                           http://www.google.co.uk\n                           http://www.reddit.com\n                           http://www.ebay.com\n                           http://www.google.fr\n                           http://www.t.co\n                           http://www.tmall.com\n                           http://www.google.com.br\n                           http://www.360.cn\n                           http://www.sohu.com\n                           http://www.amazon.co.jp\n                           http://www.pinterest.com\n                           http://www.netflix.com\n                           http://www.google.it\n                           http://www.google.ru\n                           http://www.microsoft.com\n                           http://www.google.es\n                           http://www.wordpress.com\n                           http://www.gmw.cn\n                           http://www.tumblr.com\n                           http://www.paypal.com\n                           http://www.blogspot.com\n                           http://www.imgur.com\n                           http://www.stackoverflow.com\n                           http://www.aliexpress.com\n                           http://www.naver.com\n                           http://www.ok.ru\n                           http://www.apple.com\n                           http://www.github.com\n                           http://www.chinadaily.com.cn\n                           http://www.imdb.com\n                           http://www.google.co.kr\n                           http://www.fc2.com\n                           http://www.jd.com\n                           http://www.blogger.com\n                           http://www.163.com\n                           http://www.google.ca\n                           &quot;&quot;&quot;;\n\n        String[] urls = dbResults.split(&quot;\\n&quot;);\n\n        List&lt;String&gt; urlsStringList = new ArrayList();\n        for (String url : urls) {\n            urlsStringList.add(url.strip());\n        }\n\n        return urlsStringList;\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KHK1A.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KHK1A.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27181047,"reputation":3,"user_id":20716286,"display_name":"Armaan Malik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75464576,"answer_count":1,"score":-1,"last_activity_date":1676489197,"creation_date":1676447658,"question_id":75456866,"body_markdown":"i have two different classes into two different files\r\nOne class is for ProgressBar\r\n```\r\npublic class ProgressBarController implements Initializable {\r\n\r\n    @FXML\r\n    public ProgressBar progressBar;\r\n    \r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n    }\r\n\r\n}\r\n```\r\n\r\nand another class is where i want to loop through the list and want to update the progress on the basis of that list\r\n\r\n```\r\npublic class AnotherClass {\r\n    public Envelope function(List&lt;Invoice&gt; invoiceList) throws IOException {\r\n        for(Invoice invoiceModel : invoiceList) {\r\n            // update the progressBar and do some work\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to create a new thread\r\n\r\n```\r\nTask&lt;Void&gt; task = new Task&lt;&gt;() {\r\n     @Override\r\n     public Void call() {\r\n        for (int i = 0; i &lt; 100; i++) {\r\n           // do some work\r\n           updateProgress(i + 1, 100);\r\n       \t   try {\r\n\t      Thread.sleep(200);\r\n\t   } catch (InterruptedException e) {\r\n\t      e.printStackTrace();\r\n\t   }\r\n        }\r\n        return null;\r\n     }\r\n};\r\nprogressBar.progressProperty().bind(task.progressProperty());\r\nThread thread = new Thread(task);\r\nthread.start();\r\n```\r\n\r\n\r\nbut this was not working either my progress bar is not updating and if it is then it is updating after complete all other task.\r\n\r\nI want to update the progressBar on the basis of data in for loop.","title":"I want to loop through a list and want to show a progressBar while looping through that list","body":"<p>i have two different classes into two different files\nOne class is for ProgressBar</p>\n<pre><code>public class ProgressBarController implements Initializable {\n\n    @FXML\n    public ProgressBar progressBar;\n    \n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    }\n\n}\n</code></pre>\n<p>and another class is where i want to loop through the list and want to update the progress on the basis of that list</p>\n<pre><code>public class AnotherClass {\n    public Envelope function(List&lt;Invoice&gt; invoiceList) throws IOException {\n        for(Invoice invoiceModel : invoiceList) {\n            // update the progressBar and do some work\n\n\n        }\n    }\n}\n</code></pre>\n<p>I tried to create a new thread</p>\n<pre><code>Task&lt;Void&gt; task = new Task&lt;&gt;() {\n     @Override\n     public Void call() {\n        for (int i = 0; i &lt; 100; i++) {\n           // do some work\n           updateProgress(i + 1, 100);\n           try {\n          Thread.sleep(200);\n       } catch (InterruptedException e) {\n          e.printStackTrace();\n       }\n        }\n        return null;\n     }\n};\nprogressBar.progressProperty().bind(task.progressProperty());\nThread thread = new Thread(task);\nthread.start();\n</code></pre>\n<p>but this was not working either my progress bar is not updating and if it is then it is updating after complete all other task.</p>\n<p>I want to update the progressBar on the basis of data in for loop.</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676490735,"post_id":75464550,"comment_id":133149588,"body_markdown":"I hate [Yoda conditions](https://en.wikipedia.org/wiki/Yoda_conditions).","body":"I hate <a href=\"https://en.wikipedia.org/wiki/Yoda_conditions\" rel=\"nofollow noreferrer\">Yoda conditions</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676495946,"post_id":75464550,"comment_id":133150939,"body_markdown":"I find it hard to believe that text with hyphens is being read by Java as slash characters. Provide an [MCVE](https://stackoverflow.com/help/mcve).","body":"I find it hard to believe that text with hyphens is being read by Java as slash characters. Provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1676496192,"post_id":75464550,"comment_id":133151009,"body_markdown":"By the way, more readable syntax: `if ( Objects.nonNull( exp ) &amp;&amp; ! exp.isBlank() ) {…}`. Better yet would be validating arguments at the top of the method, before any logic.","body":"By the way, more readable syntax: <code>if ( Objects.nonNull( exp ) &amp;&amp; ! exp.isBlank() ) {…}</code>. Better yet would be validating arguments at the top of the method, before any logic."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676496462,"post_id":75464550,"comment_id":133151075,"body_markdown":"Tip: When communicating date-time values textually, use only standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats.","body":"Tip: When communicating date-time values textually, use only standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats."}],"owner":{"account_id":11175433,"reputation":329,"user_id":8201193,"display_name":"spa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676496035,"answer_count":0,"score":0,"last_activity_date":1676488933,"creation_date":1676488933,"question_id":75464550,"body_markdown":"i am trying to read CSV file .In CSV file expiry date column is  &quot;23-Feb-23&quot;  \r\n\r\nbut when it is read using buffered reader or any method it is read as &quot;23/FEB/23&quot; . And when i tried to parse it it&#39;s not at all possible and is giving\r\n\r\n Caused by: java.time.format.DateTimeParseException: Text &#39;23/FEB/23&#39; could not be parsed at index 3\r\n\r\nbelow is code i used:\r\n\r\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yy&quot;);               \r\n                 String exp = record.get(&quot;expiry&quot;);                   \r\n                    LocalDate expiry = null;\r\n                    if (null != exp &amp;&amp; !&quot;&quot;.equals(exp)) {\r\n                        expiry = LocalDate.parse(exp, dateTimeFormatter);\r\n                    }\r\n\r\ni also tried pattern dd/MMM/yy and that also didn&#39;t worked.","title":"Failed to parse date(expiry) data read from CSV file","body":"<p>i am trying to read CSV file .In CSV file expiry date column is  &quot;23-Feb-23&quot;</p>\n<p>but when it is read using buffered reader or any method it is read as &quot;23/FEB/23&quot; . And when i tried to parse it it's not at all possible and is giving</p>\n<p>Caused by: java.time.format.DateTimeParseException: Text '23/FEB/23' could not be parsed at index 3</p>\n<p>below is code i used:</p>\n<pre><code>    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yy&quot;);               \n             String exp = record.get(&quot;expiry&quot;);                   \n                LocalDate expiry = null;\n                if (null != exp &amp;&amp; !&quot;&quot;.equals(exp)) {\n                    expiry = LocalDate.parse(exp, dateTimeFormatter);\n                }\n</code></pre>\n<p>i also tried pattern dd/MMM/yy and that also didn't worked.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676488683,"creation_date":1507640099,"answer_id":46667343,"question_id":46667342,"body_markdown":"I quickly tried using `java.net.URI`, `javax.ws.rs.core.UriBuilder`, and `org.apache.http.client.utils.URIBuilder`, and none of them seemed to get the idea of a host header possibly including a port, so they all needed some extra logic from what I could see to make it happen correctly, without the port being &quot;doubled up&quot; at times, and not replaced correctly at other times.\r\n\r\nSince `java.net.URL` doesnt require any extra libs, I used it. I do know that if I was using `URL.equals` somewhere, that could be a problem as it does DNS lookups possibly, but I&#39;m not so I think it&#39;s good, as this covers my use cases, as displayed by the pseudo unit test. \r\n\r\nI put together this way of doing it, which you can [test it out online here at repl.it](https://replit.com/@BradParks2/WoefulTurquoiseVelvetcrab#Main.java) !\r\n\r\n\r\n    import java.net.URL;\r\n    import java.net.MalformedURLException;\r\n    \r\n    class Main \r\n    {\r\n      public static void main(String[] args) \r\n      {\r\n        testReplaceHostInUrl();\r\n      }\r\n\r\n      public static void testReplaceHostInUrl()\r\n      {\r\n        assertEquals(&quot;http://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \r\n        assertEquals(&quot;http://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost:19000/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \r\n        assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost:19000/me/out?it=5&quot;,&quot;super&quot;)); \r\n        assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com/me/out?it=5&quot;,&quot;super&quot;)); \r\n        assertEquals(&quot;https://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;https://localhost/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \r\n        assertEquals(&quot;https://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;https://localhost:19000/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \r\n        assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com/me/out?it=5&quot;,&quot;super&quot;)); \r\n        assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super&quot;)); \r\n        assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super:443&quot;)); \r\n        assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:4300/me/out?it=5&quot;,&quot;super:80&quot;)); \r\n        assertEquals(&quot;http://super:8080/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:80/me/out?it=5&quot;,&quot;super:8080&quot;)); \r\n        assertEquals(&quot;http://super/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;http://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:80&quot;)); \r\n        assertEquals(&quot;https://super:80/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;https://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:80&quot;)); \r\n        assertEquals(&quot;https://super/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;https://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \r\n        assertEquals(&quot;http://super:443/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;http://www.test.com:443/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \r\n        assertEquals(&quot;http://super:443/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;HTTP://www.test.com:443/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \r\n        assertEquals(&quot;http://SUPERDUPER:443/ME/OUT?IT=5&amp;TEST=5&quot;, replaceHostInUrl(&quot;HTTP://WWW.TEST.COM:443/ME/OUT?IT=5&amp;TEST=5&quot;,&quot;SUPERDUPER:443&quot;)); \r\n        assertEquals(&quot;https://SUPERDUPER:23/ME/OUT?IT=5&amp;TEST=5&quot;, replaceHostInUrl(&quot;HTTPS://WWW.TEST.COM:22/ME/OUT?IT=5&amp;TEST=5&quot;,&quot;SUPERDUPER:23&quot;)); \r\n        assertEquals(null, replaceHostInUrl(null, null));\r\n      }\r\n    \r\n      public static String replaceHostInUrl(String url, String newHost)\r\n      {\r\n        if (url == null || newHost == null)\r\n        {\r\n          return url;\r\n        }\r\n    \r\n        try\r\n        {\r\n          URL originalURL = new URL(url);\r\n    \r\n          boolean hostHasPort = newHost.indexOf(&quot;:&quot;) != -1;\r\n          int newPort = originalURL.getPort();\r\n          if (hostHasPort)\r\n          {\r\n            URL hostURL = new URL(&quot;http://&quot; + newHost);\r\n            newHost = hostURL.getHost();\r\n            newPort = hostURL.getPort();\r\n          }\r\n          else\r\n          {\r\n            newPort = -1;\r\n          }\r\n    \r\n          // Use implicit port if it&#39;s a default port\r\n          boolean isHttps = originalURL.getProtocol().equals(&quot;https&quot;);\r\n          boolean useDefaultPort = (newPort == 443 &amp;&amp; isHttps) || (newPort == 80 &amp;&amp; !isHttps);\r\n          newPort = useDefaultPort ? -1 : newPort;\r\n    \r\n          URL newURL = new URL(originalURL.getProtocol(), newHost, newPort, originalURL.getFile());\r\n          String result = newURL.toString();\r\n    \r\n          return result;\r\n        }\r\n        catch (MalformedURLException e)\r\n        {\r\n          throw new RuntimeException(&quot;Couldnt replace host in url, originalUrl=&quot; + url + &quot;, newHost=&quot; + newHost);\r\n        }\r\n      }\r\n    \r\n      public static void assertEquals(String expected, String actual)\r\n      {\r\n        if (expected == null &amp;&amp; actual == null)\r\n        {\r\n          System.out.println(&quot;TEST PASSED, expected:&quot; + expected + &quot;, actual:&quot; + actual);\r\n          return;\r\n        }\r\n          \r\n        if (! expected.equals(actual))\r\n          throw new RuntimeException(&quot;Not equal! expected:&quot; + expected + &quot;, actual:&quot; + actual);\r\n          \r\n        System.out.println(&quot;TEST PASSED, expected:&quot; + expected + &quot;, actual:&quot; + actual);\r\n      }\r\n    }\r\n\r\n","title":"Java - Replace host in url?","body":"<p>I quickly tried using <code>java.net.URI</code>, <code>javax.ws.rs.core.UriBuilder</code>, and <code>org.apache.http.client.utils.URIBuilder</code>, and none of them seemed to get the idea of a host header possibly including a port, so they all needed some extra logic from what I could see to make it happen correctly, without the port being &quot;doubled up&quot; at times, and not replaced correctly at other times.</p>\n<p>Since <code>java.net.URL</code> doesnt require any extra libs, I used it. I do know that if I was using <code>URL.equals</code> somewhere, that could be a problem as it does DNS lookups possibly, but I'm not so I think it's good, as this covers my use cases, as displayed by the pseudo unit test.</p>\n<p>I put together this way of doing it, which you can <a href=\"https://replit.com/@BradParks2/WoefulTurquoiseVelvetcrab#Main.java\" rel=\"nofollow noreferrer\">test it out online here at repl.it</a> !</p>\n<pre><code>import java.net.URL;\nimport java.net.MalformedURLException;\n\nclass Main \n{\n  public static void main(String[] args) \n  {\n    testReplaceHostInUrl();\n  }\n\n  public static void testReplaceHostInUrl()\n  {\n    assertEquals(&quot;http://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \n    assertEquals(&quot;http://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost:19000/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \n    assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost:19000/me/out?it=5&quot;,&quot;super&quot;)); \n    assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com/me/out?it=5&quot;,&quot;super&quot;)); \n    assertEquals(&quot;https://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;https://localhost/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \n    assertEquals(&quot;https://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;https://localhost:19000/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \n    assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com/me/out?it=5&quot;,&quot;super&quot;)); \n    assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super&quot;)); \n    assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super:443&quot;)); \n    assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:4300/me/out?it=5&quot;,&quot;super:80&quot;)); \n    assertEquals(&quot;http://super:8080/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:80/me/out?it=5&quot;,&quot;super:8080&quot;)); \n    assertEquals(&quot;http://super/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;http://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:80&quot;)); \n    assertEquals(&quot;https://super:80/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;https://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:80&quot;)); \n    assertEquals(&quot;https://super/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;https://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \n    assertEquals(&quot;http://super:443/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;http://www.test.com:443/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \n    assertEquals(&quot;http://super:443/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;HTTP://www.test.com:443/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \n    assertEquals(&quot;http://SUPERDUPER:443/ME/OUT?IT=5&amp;TEST=5&quot;, replaceHostInUrl(&quot;HTTP://WWW.TEST.COM:443/ME/OUT?IT=5&amp;TEST=5&quot;,&quot;SUPERDUPER:443&quot;)); \n    assertEquals(&quot;https://SUPERDUPER:23/ME/OUT?IT=5&amp;TEST=5&quot;, replaceHostInUrl(&quot;HTTPS://WWW.TEST.COM:22/ME/OUT?IT=5&amp;TEST=5&quot;,&quot;SUPERDUPER:23&quot;)); \n    assertEquals(null, replaceHostInUrl(null, null));\n  }\n\n  public static String replaceHostInUrl(String url, String newHost)\n  {\n    if (url == null || newHost == null)\n    {\n      return url;\n    }\n\n    try\n    {\n      URL originalURL = new URL(url);\n\n      boolean hostHasPort = newHost.indexOf(&quot;:&quot;) != -1;\n      int newPort = originalURL.getPort();\n      if (hostHasPort)\n      {\n        URL hostURL = new URL(&quot;http://&quot; + newHost);\n        newHost = hostURL.getHost();\n        newPort = hostURL.getPort();\n      }\n      else\n      {\n        newPort = -1;\n      }\n\n      // Use implicit port if it's a default port\n      boolean isHttps = originalURL.getProtocol().equals(&quot;https&quot;);\n      boolean useDefaultPort = (newPort == 443 &amp;&amp; isHttps) || (newPort == 80 &amp;&amp; !isHttps);\n      newPort = useDefaultPort ? -1 : newPort;\n\n      URL newURL = new URL(originalURL.getProtocol(), newHost, newPort, originalURL.getFile());\n      String result = newURL.toString();\n\n      return result;\n    }\n    catch (MalformedURLException e)\n    {\n      throw new RuntimeException(&quot;Couldnt replace host in url, originalUrl=&quot; + url + &quot;, newHost=&quot; + newHost);\n    }\n  }\n\n  public static void assertEquals(String expected, String actual)\n  {\n    if (expected == null &amp;&amp; actual == null)\n    {\n      System.out.println(&quot;TEST PASSED, expected:&quot; + expected + &quot;, actual:&quot; + actual);\n      return;\n    }\n      \n    if (! expected.equals(actual))\n      throw new RuntimeException(&quot;Not equal! expected:&quot; + expected + &quot;, actual:&quot; + actual);\n      \n    System.out.println(&quot;TEST PASSED, expected:&quot; + expected + &quot;, actual:&quot; + actual);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":282040,"reputation":1920,"user_id":578700,"accept_rate":83,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1507641456,"creation_date":1507641456,"answer_id":46667783,"question_id":46667342,"body_markdown":"The Spring Framework provides the `UriComponentsBuilder`. You can use it like this:\r\n\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    String initialUri = &quot;http://localhost/me/out?it=5&quot;;\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(initialUri);\r\n    String modifiedUri = builder.host(&quot;myserver&quot;).port(&quot;20000&quot;).toUriString();\r\n    System.out.println(modifiedUri);\r\n    // ==&gt; http://myserver:20000/me/out?it=5\r\n\r\nHere you need to provide hostname and port in separate calls to get right encoding.\r\n    ","title":"Java - Replace host in url?","body":"<p>The Spring Framework provides the <code>UriComponentsBuilder</code>. You can use it like this:</p>\n\n<pre><code>import org.springframework.web.util.UriComponentsBuilder;\n\nString initialUri = \"http://localhost/me/out?it=5\";\nUriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(initialUri);\nString modifiedUri = builder.host(\"myserver\").port(\"20000\").toUriString();\nSystem.out.println(modifiedUri);\n// ==&gt; http://myserver:20000/me/out?it=5\n</code></pre>\n\n<p>Here you need to provide hostname and port in separate calls to get right encoding.</p>\n"},{"tags":[],"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1507643543,"creation_date":1507643147,"answer_id":46668404,"question_id":46667342,"body_markdown":"Or using some regex magic:\r\n\r\n    public static String replaceHostInUrl(String url, String newHost) {\r\n        if (url == null || newHost == null) {\r\n            return null;\r\n        }\r\n        String s = url.replaceFirst(&quot;(?i)(?&lt;=(https?)://)(www.)?\\\\w*(.com)?(:\\\\d*)?&quot;, newHost);\r\n        if (s.contains(&quot;http://&quot;)) {\r\n            s = s.replaceFirst(&quot;:80(?=/)&quot;, &quot;&quot;);\r\n        } else if (s.contains(&quot;https://&quot;)) {\r\n            s = s.replaceFirst(&quot;:443(?=/)&quot;, &quot;&quot;);\r\n        }\r\n        Matcher m = Pattern.compile(&quot;HTTPS?&quot;).matcher(s);\r\n        if (m.find()) {\r\n            s = s.replaceFirst(m.group(), m.group().toLowerCase());\r\n        }\r\n        return s;\r\n    }","title":"Java - Replace host in url?","body":"<p>Or using some regex magic:</p>\n\n<pre><code>public static String replaceHostInUrl(String url, String newHost) {\n    if (url == null || newHost == null) {\n        return null;\n    }\n    String s = url.replaceFirst(\"(?i)(?&lt;=(https?)://)(www.)?\\\\w*(.com)?(:\\\\d*)?\", newHost);\n    if (s.contains(\"http://\")) {\n        s = s.replaceFirst(\":80(?=/)\", \"\");\n    } else if (s.contains(\"https://\")) {\n        s = s.replaceFirst(\":443(?=/)\", \"\");\n    }\n    Matcher m = Pattern.compile(\"HTTPS?\").matcher(s);\n    if (m.find()) {\n        s = s.replaceFirst(m.group(), m.group().toLowerCase());\n    }\n    return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1507728287,"creation_date":1507645379,"answer_id":46669187,"question_id":46667342,"body_markdown":"You were right to use java.net.URI.  The host and port (and user/password, if they exist) are collectively known as the *authority* component of the URI:\r\n\r\n    public static String replaceHostInUrl(String originalURL,\r\n                                          String newAuthority)\r\n    throws URISyntaxException {\r\n\r\n        URI uri = new URI(originalURL);\r\n        uri = new URI(uri.getScheme().toLowerCase(Locale.US), newAuthority,\r\n            uri.getPath(), uri.getQuery(), uri.getFragment());\r\n\r\n        return uri.toString();\r\n    }\r\n\r\n(A URI’s scheme is [required to be lowercase](https://www.rfc-editor.org/rfc/rfc2396#section-3.1), so while the above code can be said not to perfectly preserve all of the original URL’s non-authority parts, an uppercase scheme was never actually legal in the first place.  And, of course, it won’t affect the functionality of the URL connections.)\r\n\r\nNote that some of your tests are in error.  For instance:\r\n\r\n    assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super:443&quot;)); \r\n    assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:4300/me/out?it=5&quot;,&quot;super:80&quot;)); \r\n\r\nAlthough `https://super/me/out?it=5` is functionally identical to `https://super:443/me/out?it=5` (since the default port for https is 443), if you specify an explicit port in a URI, then the URI has a port specified in its authority and that’s how it should stay.\r\n\r\n**Update:**\r\n\r\nIf you want an explicit but unnecessary port number to be stripped, you can use URL.getDefaultPort() to check for it:\r\n\r\n    public static String replaceHostInUrl(String originalURL,\r\n                                          String newAuthority)\r\n    throws URISyntaxException,\r\n           MalformedURLException {\r\n\r\n        URI uri = new URI(originalURL);\r\n        uri = new URI(uri.getScheme().toLowerCase(Locale.US), newAuthority,\r\n            uri.getPath(), uri.getQuery(), uri.getFragment());\r\n\r\n        int port = uri.getPort();\r\n        if (port &gt; 0 &amp;&amp; port == uri.toURL().getDefaultPort()) {\r\n            uri = new URI(uri.getScheme(), uri.getUserInfo(),\r\n                uri.getHost(), -1, uri.getPath(),\r\n                uri.getQuery(), uri.getFragment());\r\n        }\r\n\r\n        return uri.toString();\r\n    }\r\n","title":"Java - Replace host in url?","body":"<p>You were right to use java.net.URI.  The host and port (and user/password, if they exist) are collectively known as the <em>authority</em> component of the URI:</p>\n<pre><code>public static String replaceHostInUrl(String originalURL,\n                                      String newAuthority)\nthrows URISyntaxException {\n\n    URI uri = new URI(originalURL);\n    uri = new URI(uri.getScheme().toLowerCase(Locale.US), newAuthority,\n        uri.getPath(), uri.getQuery(), uri.getFragment());\n\n    return uri.toString();\n}\n</code></pre>\n<p>(A URI’s scheme is <a href=\"https://www.rfc-editor.org/rfc/rfc2396#section-3.1\" rel=\"noreferrer\">required to be lowercase</a>, so while the above code can be said not to perfectly preserve all of the original URL’s non-authority parts, an uppercase scheme was never actually legal in the first place.  And, of course, it won’t affect the functionality of the URL connections.)</p>\n<p>Note that some of your tests are in error.  For instance:</p>\n<pre><code>assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super:443&quot;)); \nassertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:4300/me/out?it=5&quot;,&quot;super:80&quot;)); \n</code></pre>\n<p>Although <code>https://super/me/out?it=5</code> is functionally identical to <code>https://super:443/me/out?it=5</code> (since the default port for https is 443), if you specify an explicit port in a URI, then the URI has a port specified in its authority and that’s how it should stay.</p>\n<p><strong>Update:</strong></p>\n<p>If you want an explicit but unnecessary port number to be stripped, you can use URL.getDefaultPort() to check for it:</p>\n<pre><code>public static String replaceHostInUrl(String originalURL,\n                                      String newAuthority)\nthrows URISyntaxException,\n       MalformedURLException {\n\n    URI uri = new URI(originalURL);\n    uri = new URI(uri.getScheme().toLowerCase(Locale.US), newAuthority,\n        uri.getPath(), uri.getQuery(), uri.getFragment());\n\n    int port = uri.getPort();\n    if (port &gt; 0 &amp;&amp; port == uri.toURL().getDefaultPort()) {\n        uri = new URI(uri.getScheme(), uri.getUserInfo(),\n            uri.getHost(), -1, uri.getPath(),\n            uri.getQuery(), uri.getFragment());\n    }\n\n    return uri.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":317167,"reputation":221,"user_id":633696,"display_name":"Saad Nawaz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1568251617,"creation_date":1568251617,"answer_id":57898611,"question_id":46667342,"body_markdown":"I realize this is a pretty old question; but posting a simpler solution in case someone else needs it. \r\n\r\n    String newUrl = new URIBuilder(URI.create(originalURL)).setHost(newHost).build().toString();","title":"Java - Replace host in url?","body":"<p>I realize this is a pretty old question; but posting a simpler solution in case someone else needs it. </p>\n\n<pre><code>String newUrl = new URIBuilder(URI.create(originalURL)).setHost(newHost).build().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571985876,"creation_date":1571985876,"answer_id":58553490,"question_id":46667342,"body_markdown":"I&#39;ve added a method to do this in the [RawHTTP](https://github.com/renatoathaydes/rawhttp) library, so you can simply do this:\r\n\r\n    URI uri = RawHttp.replaceHost(oldUri, &quot;new-host&quot;);\r\n\r\nAdded in this commit: https://github.com/renatoathaydes/rawhttp/commit/cbe439f2511f7afcb89b5a0338ed9348517b9163#diff-ff0fec3bc023897ae857b07cc3522366\r\n\r\nFeeback welcome, will release it soon.","title":"Java - Replace host in url?","body":"<p>I've added a method to do this in the <a href=\"https://github.com/renatoathaydes/rawhttp\" rel=\"nofollow noreferrer\">RawHTTP</a> library, so you can simply do this:</p>\n\n<pre><code>URI uri = RawHttp.replaceHost(oldUri, \"new-host\");\n</code></pre>\n\n<p>Added in this commit: <a href=\"https://github.com/renatoathaydes/rawhttp/commit/cbe439f2511f7afcb89b5a0338ed9348517b9163#diff-ff0fec3bc023897ae857b07cc3522366\" rel=\"nofollow noreferrer\">https://github.com/renatoathaydes/rawhttp/commit/cbe439f2511f7afcb89b5a0338ed9348517b9163#diff-ff0fec3bc023897ae857b07cc3522366</a></p>\n\n<p>Feeback welcome, will release it soon.</p>\n"}],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22789,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":46667783,"answer_count":6,"score":20,"last_activity_date":1676488683,"creation_date":1507640099,"question_id":46667342,"body_markdown":"In java, I&#39;d like to replace the `Host` part of an url with a new `Host`, where both the host and url are supplied as a string. \r\n\r\nThis should take into account the fact that the host could have a port in it, as [defined in the RFC](https://stackoverflow.com/q/3364144/26510)\r\n\r\n### So for example, given the following inputs\r\n\r\n- url:  http://localhost/me/out?it=5\r\n- host: myserver:20000\r\n\r\n### I should get the following output from a function that did this correctly\r\n- http://myserver:20000/me/out?it=5\r\n\r\nDoes anyone know of any libraries or routines that do `Host` replacement in an url correctly?\r\n\r\nEDIT: For my use case, I want my host replacement to match what a java servlet would respond with. I tried this out by running a local java web server, and then tested it using `curl -H &#39;Host:superduper.com:80&#39; &#39;http://localhost:8000/testurl&#39;` and having that endpoint simply return the url from `request.getRequestURL().toString()`, where request is a `HttpServletRequest`. It returned `http://superduper.com/testurl`, so it removed the default port for http, so that&#39;s what I&#39;m striving for as well.","title":"Java - Replace host in url?","body":"<p>In java, I'd like to replace the <code>Host</code> part of an url with a new <code>Host</code>, where both the host and url are supplied as a string. </p>\n\n<p>This should take into account the fact that the host could have a port in it, as <a href=\"https://stackoverflow.com/q/3364144/26510\">defined in the RFC</a></p>\n\n<h3>So for example, given the following inputs</h3>\n\n<ul>\n<li>url:  <a href=\"http://localhost/me/out?it=5\" rel=\"noreferrer\">http://localhost/me/out?it=5</a></li>\n<li>host: myserver:20000</li>\n</ul>\n\n<h3>I should get the following output from a function that did this correctly</h3>\n\n<ul>\n<li><a href=\"http://myserver:20000/me/out?it=5\" rel=\"noreferrer\">http://myserver:20000/me/out?it=5</a></li>\n</ul>\n\n<p>Does anyone know of any libraries or routines that do <code>Host</code> replacement in an url correctly?</p>\n\n<p>EDIT: For my use case, I want my host replacement to match what a java servlet would respond with. I tried this out by running a local java web server, and then tested it using <code>curl -H 'Host:superduper.com:80' 'http://localhost:8000/testurl'</code> and having that endpoint simply return the url from <code>request.getRequestURL().toString()</code>, where request is a <code>HttpServletRequest</code>. It returned <code>http://superduper.com/testurl</code>, so it removed the default port for http, so that's what I'm striving for as well.</p>\n"},{"tags":["java","spring","rest","crud","mapstruct"],"comments":[{"owner":{"account_id":1150899,"reputation":1984,"user_id":1132644,"display_name":"Jeroen Peeters"},"score":0,"creation_date":1582553859,"post_id":60377689,"comment_id":106806787,"body_markdown":"You&#39;re only declaring an interface of type MapperDTO. You are missing an implementing class for this interface.","body":"You&#39;re only declaring an interface of type MapperDTO. You are missing an implementing class for this interface."},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1582554072,"post_id":60377689,"comment_id":106806912,"body_markdown":"does the call to Mappers.getMapper (DeviceTokensMapper.class) not generate an implementation?\nhow can i solve it?","body":"does the call to Mappers.getMapper (DeviceTokensMapper.class) not generate an implementation? how can i solve it?"},{"owner":{"account_id":1150899,"reputation":1984,"user_id":1132644,"display_name":"Jeroen Peeters"},"score":0,"creation_date":1582554209,"post_id":60377689,"comment_id":106806988,"body_markdown":"Apparently it should. Read this; https://www.baeldung.com/mapstruct","body":"Apparently it should. Read this; <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">baeldung.com/mapstruct</a>"},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1582554649,"post_id":60377689,"comment_id":106807226,"body_markdown":"I&#39;m trying to avoid mapping for every field of an object ...  how can i solve it?","body":"I&#39;m trying to avoid mapping for every field of an object ...  how can i solve it?"},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1582554746,"post_id":60377689,"comment_id":106807277,"body_markdown":"if I had a class that implemented the mapping between two objects for each field of the object it would not make sense to use mapstruct","body":"if I had a class that implemented the mapping between two objects for each field of the object it would not make sense to use mapstruct"},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1582634387,"post_id":60377689,"comment_id":106838056,"body_markdown":"I solved it by adding @Mapper (implementationName = &quot;&lt;CLASS_NAME&gt; V1Impl&quot;) to the MapperDTO INTERFACE","body":"I solved it by adding @Mapper (implementationName = &quot;&lt;CLASS_NAME&gt; V1Impl&quot;) to the MapperDTO INTERFACE"},{"owner":{"account_id":1150899,"reputation":1984,"user_id":1132644,"display_name":"Jeroen Peeters"},"score":0,"creation_date":1582796906,"post_id":60377689,"comment_id":106903512,"body_markdown":"add your solution as an answer to your own question. Then it&#39;s immediately clear to others with a similar issue what the solution was.","body":"add your solution as an answer to your own question. Then it&#39;s immediately clear to others with a similar issue what the solution was."},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1583266416,"post_id":60377689,"comment_id":107056376,"body_markdown":"MapStruct is a code generator. During compilation it generates an implementation for the interface you specified. Defining an Implementation name should not be required.","body":"MapStruct is a code generator. During compilation it generates an implementation for the interface you specified. Defining an Implementation name should not be required."},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1583266511,"post_id":60377689,"comment_id":107056413,"body_markdown":"You can either use `Mappers.getMapper` (plain component model) or `@Autowired` (sprint component model) and inject your generated implementation.","body":"You can either use <code>Mappers.getMapper</code> (plain component model) or <code>@Autowired</code> (sprint component model) and inject your generated implementation."},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1584294587,"post_id":60377689,"comment_id":107386483,"body_markdown":"hi, i thought i had solved my problem but i was wrong .. i still have the same error","body":"hi, i thought i had solved my problem but i was wrong .. i still have the same error"}],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583266776,"creation_date":1583266776,"answer_id":60514905,"question_id":60377689,"body_markdown":"MapStruct is a code generator. For some reason your code is not generated. Check the maven build log to see what happens there.\r\n\r\nAlso, you could remove:\r\n\r\n```xml\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n```\r\nfrom your `pom.xml`\r\n","title":"java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO","body":"<p>MapStruct is a code generator. For some reason your code is not generated. Check the maven build log to see what happens there.</p>\n\n<p>Also, you could remove:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n\n</code></pre>\n\n<p>from your <code>pom.xml</code></p>\n"},{"tags":[],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676488398,"creation_date":1676488398,"answer_id":75464471,"question_id":60377689,"body_markdown":"I stumbled upon the same problem, I was using latest spring boot - Java 17, Gradle 7.8, lombok 1.18.26 and mapstruct 1.5.3.Final in eclipse\r\n\r\nBelow is what I tried and worked for me\r\n\r\n 1. Set up annotation processor path in eclipse - gradle.\r\n\r\nRight click project, Run As -&gt; Run Configuration -&gt; Gradle -&gt; Add below task\r\n```\r\neclipseJdtApt \r\neclipseFactorypath \r\neclipseJdt\r\n```\r\n 2. Refresh gradle project\r\n 3. Enable annotation processing as below \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zVEy4.png\r\n 4. For gradle, add below dependencies\r\n```\r\nimplementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n   \r\nannotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;, &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\r\n   \r\n```\r\n 5. Refresh gradle project. \r\n 6. Make sure lombok dependency is first and then mapstruct in your **Java Compiler -&gt; AnnotationProcessing -&gt; FactoryPath**\r\n\r\nHope it helps! :)","title":"java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO","body":"<p>I stumbled upon the same problem, I was using latest spring boot - Java 17, Gradle 7.8, lombok 1.18.26 and mapstruct 1.5.3.Final in eclipse</p>\n<p>Below is what I tried and worked for me</p>\n<ol>\n<li>Set up annotation processor path in eclipse - gradle.</li>\n</ol>\n<p>Right click project, Run As -&gt; Run Configuration -&gt; Gradle -&gt; Add below task</p>\n<pre><code>eclipseJdtApt \neclipseFactorypath \neclipseJdt\n</code></pre>\n<ol start=\"2\">\n<li>Refresh gradle project</li>\n<li>Enable annotation processing as below\n<a href=\"https://i.stack.imgur.com/zVEy4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zVEy4.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>4. For gradle, add below dependencies</p>\n<pre><code>implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n   \nannotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;, &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\n   \n</code></pre>\n<ol start=\"5\">\n<li>Refresh gradle project.</li>\n<li>Make sure lombok dependency is first and then mapstruct in your <strong>Java Compiler -&gt; AnnotationProcessing -&gt; FactoryPath</strong></li>\n</ol>\n<p>Hope it helps! :)</p>\n"}],"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676488398,"creation_date":1582553434,"question_id":60377689,"body_markdown":"I&#39;m building a crud application with the use of api rest and I&#39;m going to use the mapstruct library but I can&#39;t. when I try to map the data returned by reading on the database with a custom object I get the following error\r\n\r\ncould you help me solve this problem?\r\nI get the following error\r\n\r\n\r\n    java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO\r\n    \tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\r\n    \tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\r\n    \tat com.howtodoinjava.demo.mapper.MapperDTO.&lt;clinit&gt;(MapperDTO.java:14)\r\n    \tat com.howtodoinjava.demo.service.CustomerServiceImpl.getCustomerById(CustomerServiceImpl.java:35)\r\n    \tat com.howtodoinjava.demo.controller.CutomerController.getUtentiEntityById(CutomerController.java:74)\r\n\r\nmy file\r\n\r\npom.xml\r\n\r\n\r\n\r\n \r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \r\n          4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n        \t&lt;groupId&gt;com.howtodoinjava&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;name&gt;demo&lt;/name&gt;\r\n        \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n        \t&lt;/parent&gt;\r\n        \r\n        \t&lt;properties&gt;\r\n        \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t\t&lt;org.mapstruct.version&gt;1.3.1.Final&lt;/org.mapstruct.version&gt;\r\n        \t\t&lt;org.projectlombok.version&gt;1.18.10&lt;/org.projectlombok.version&gt;\r\n        \t\t&lt;m2e.apt.activation&gt;jdt_apt&lt;/m2e.apt.activation&gt;\r\n        \t&lt;/properties&gt;\r\n        \r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;!-- &lt;dependency&gt; --&gt;\r\n        \t\t&lt;!-- &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt; --&gt;\r\n        \t\t&lt;!-- &lt;artifactId&gt;json-path&lt;/artifactId&gt; --&gt;\r\n        \t\t&lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\r\n        \t\t&lt;!-- &lt;/dependency&gt; --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jcc&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;11.5.0.0&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;!-- lombok --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- Map strunct --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-jdk8 --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- json logback --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- swagger --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- Utility --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- Test --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;de.bwaldvogel&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mongo-java-server&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.16.0&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t&lt;/dependencies&gt;\r\n        \r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n        \t\t\t\t\t\t&lt;path&gt;\r\n        \t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        \t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        \t\t\t\t\t\t\t&lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n        \t\t\t\t\t\t&lt;/path&gt;\r\n        \t\t\t\t\t\t&lt;path&gt;\r\n        \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t\t\t\t\t&lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n        \t\t\t\t\t\t&lt;/path&gt;\r\n        \t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n        &lt;!-- \t\t\t\t\t&lt;compilerArgs&gt; --&gt;\r\n        &lt;!-- \t\t\t\t\t\t&lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt; --&gt;\r\n        &lt;!-- \t\t\t\t\t&lt;/compilerArgs&gt; --&gt;\r\n        \t\t\t\t&lt;/configuration&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;\r\n        \r\n        &lt;/project&gt;\r\n\r\n\r\nMapperDTO.java\r\n\r\n\r\n    @Mapper(componentModel=&quot;spring&quot;)\r\n    /*Durante la compilazione, MapStruct generer&#224; un&#39;implementazione di questa interfaccia.*/\r\n    public interface MapperDTO {\r\n    \r\n    \tMapperDTO INSTANCE = Mappers.getMapper(MapperDTO.class);\r\n    \r\n    \tCustomer customerDTOtoCustomer(CustomerDTO customerDTO);\r\n    \r\n    \tCustomerDTO customertoCustomerDTO(Customer customer);\r\n    }\r\n\t \r\n\r\nserviceimpl.java\r\n\r\n\r\n\r\n        @Override\r\n        public Customer getCustomerById(Integer id) throws RecordNotFoundException {\r\n        \tOptional&lt;CustomerDTO&gt; utentiEntity = repository.findById(id);\r\n        \t\ttry {\r\n        \t\t\tif (utentiEntity.isPresent()) {\r\n        \t\t\t\treturn MapperDTO.INSTANCE.customerDTOtoCustomer(utentiEntity.get());\r\n        \t\t\t} else {\r\n        \t\t\t\tthrow new RecordNotFoundException(&quot;No entity record exist for given id&quot;);\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\tcatch (Exception e ) {\r\n        \t\t\tlog.error(&quot; message  &quot; +e.getMessage(),e);\r\n        \t\t}\r\n        \t\treturn null;\r\n        }\r\n    \r\nDemoApplication.java\r\n    \r\n    @SpringBootApplication(scanBasePackages=&quot;com.howtodoinjava.demo&quot;)\r\n    @EnableJpaRepositories (basePackages=&quot;com.howtodoinjava.demo.repository&quot;)\r\n    @EntityScan(basePackages=&quot;com.howtodoinjava.demo.modelDTO&quot;)\r\n    @ComponentScan({&quot;com.howtodoinjava.demo.service&quot;,&quot;com.howtodoinjava.demo.controller&quot;})\r\n    \r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO","body":"<p>I'm building a crud application with the use of api rest and I'm going to use the mapstruct library but I can't. when I try to map the data returned by reading on the database with a custom object I get the following error</p>\n\n<p>could you help me solve this problem?\nI get the following error</p>\n\n<pre><code>java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\n    at com.howtodoinjava.demo.mapper.MapperDTO.&lt;clinit&gt;(MapperDTO.java:14)\n    at com.howtodoinjava.demo.service.CustomerServiceImpl.getCustomerById(CustomerServiceImpl.java:35)\n    at com.howtodoinjava.demo.controller.CutomerController.getUtentiEntityById(CutomerController.java:74)\n</code></pre>\n\n<p>my file</p>\n\n<p>pom.xml</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \n      4.0.0.xsd\"&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n        &lt;groupId&gt;com.howtodoinjava&lt;/groupId&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;demo&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;/parent&gt;\n\n        &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n            &lt;org.mapstruct.version&gt;1.3.1.Final&lt;/org.mapstruct.version&gt;\n            &lt;org.projectlombok.version&gt;1.18.10&lt;/org.projectlombok.version&gt;\n            &lt;m2e.apt.activation&gt;jdt_apt&lt;/m2e.apt.activation&gt;\n        &lt;/properties&gt;\n\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!-- &lt;dependency&gt; --&gt;\n            &lt;!-- &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt; --&gt;\n            &lt;!-- &lt;artifactId&gt;json-path&lt;/artifactId&gt; --&gt;\n            &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\n            &lt;!-- &lt;/dependency&gt; --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n                &lt;artifactId&gt;jcc&lt;/artifactId&gt;\n                &lt;version&gt;11.5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!-- lombok --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Map strunct --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-jdk8 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- json logback --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n                &lt;version&gt;0.1.5&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n                &lt;version&gt;0.1.5&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- swagger --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Utility --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Test --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;de.bwaldvogel&lt;/groupId&gt;\n                &lt;artifactId&gt;mongo-java-server&lt;/artifactId&gt;\n                &lt;version&gt;1.16.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                        &lt;/annotationProcessorPaths&gt;\n    &lt;!--                    &lt;compilerArgs&gt; --&gt;\n    &lt;!--                        &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt; --&gt;\n    &lt;!--                    &lt;/compilerArgs&gt; --&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n\n<p>MapperDTO.java</p>\n\n<pre><code>@Mapper(componentModel=\"spring\")\n/*Durante la compilazione, MapStruct genererà un'implementazione di questa interfaccia.*/\npublic interface MapperDTO {\n\n    MapperDTO INSTANCE = Mappers.getMapper(MapperDTO.class);\n\n    Customer customerDTOtoCustomer(CustomerDTO customerDTO);\n\n    CustomerDTO customertoCustomerDTO(Customer customer);\n}\n</code></pre>\n\n<p>serviceimpl.java</p>\n\n<pre><code>    @Override\n    public Customer getCustomerById(Integer id) throws RecordNotFoundException {\n        Optional&lt;CustomerDTO&gt; utentiEntity = repository.findById(id);\n            try {\n                if (utentiEntity.isPresent()) {\n                    return MapperDTO.INSTANCE.customerDTOtoCustomer(utentiEntity.get());\n                } else {\n                    throw new RecordNotFoundException(\"No entity record exist for given id\");\n                }\n            }\n            catch (Exception e ) {\n                log.error(\" message  \" +e.getMessage(),e);\n            }\n            return null;\n    }\n</code></pre>\n\n<p>DemoApplication.java</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages=\"com.howtodoinjava.demo\")\n@EnableJpaRepositories (basePackages=\"com.howtodoinjava.demo.repository\")\n@EntityScan(basePackages=\"com.howtodoinjava.demo.modelDTO\")\n@ComponentScan({\"com.howtodoinjava.demo.service\",\"com.howtodoinjava.demo.controller\"})\n\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1583402916,"post_id":60542698,"comment_id":107107314,"body_markdown":"If you have no entities, there are no tables to be created, so of course you will not see any SQL statements printed.","body":"If you have no entities, there are no tables to be created, so of course you will not see any SQL statements printed."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1583403073,"post_id":60542698,"comment_id":107107410,"body_markdown":"Ditch the `DbConfiguration` (you don&#39;t need it)` as well as the `@Import` and `@PropertySource`. Make sure the `application.properties` is in `src/main/resources` and not in `src/main/java` or in the `src/test` tree.","body":"Ditch the <code>DbConfiguration</code> (you don&#39;t need it)` as well as the <code>@Import</code> and <code>@PropertySource</code>. Make sure the <code>application.properties</code> is in <code>src&#47;main&#47;resources</code> and not in <code>src&#47;main&#47;java</code> or in the <code>src&#47;test</code> tree."},{"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"score":0,"creation_date":1583405259,"post_id":60542698,"comment_id":107108668,"body_markdown":"There are entities, they are simple POJOs therefore I have not added them to my post. Property file is actually under src/main/resources.","body":"There are entities, they are simple POJOs therefore I have not added them to my post. Property file is actually under src/main/resources."}],"answers":[{"tags":[],"owner":{"account_id":16600054,"reputation":111,"user_id":11995989,"display_name":"UFO_Rider"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583403360,"creation_date":1583403360,"answer_id":60542971,"question_id":60542698,"body_markdown":"Delete the DbConfiguration. Write those properties in application.properties file which is located in resource folder. then use @EnableAutoConfiguration annotation on SpringBoothibernateApplication class.","title":"SpringBoot does not read application.properties","body":"<p>Delete the DbConfiguration. Write those properties in application.properties file which is located in resource folder. then use @EnableAutoConfiguration annotation on SpringBoothibernateApplication class.</p>\n"},{"tags":[],"owner":{"account_id":6153660,"reputation":11,"user_id":4797345,"display_name":"Rahul Sudhanaboina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676488394,"creation_date":1676488394,"answer_id":75464468,"question_id":60542698,"body_markdown":"Restarting STS/Eclipse has solved the problem for me. After restart, it is taking the updated values from application.properties. ","title":"SpringBoot does not read application.properties","body":"<p>Restarting STS/Eclipse has solved the problem for me. After restart, it is taking the updated values from application.properties.</p>\n"}],"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676488394,"creation_date":1583402590,"question_id":60542698,"body_markdown":"I am trying to do simple CRUD application by using Hibernate and SpringBoot. I want hibernate to create db automatically and show the sql statements therefore I added some properties in application.properties.\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.hibernate.ddl-auto = create-drop\r\n\r\nBut all of them seems unused property. I tried to create configuration class and also added `@PropertySource(&quot;classpath:application.properties&quot;)` but it did not help.\r\n\r\nHere my configuration class:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    @EnableJpaRepositories\r\n    public class DBConfiguration {\r\n    }\r\n\r\nHere is my main class:\r\n\r\n\r\n    @SpringBootApplication\r\n    @Import({DBConfiguration.class})\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class SpringboothibernateApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringboothibernateApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nWhat I am doing wrong why application.properties file is unused at all.\r\n\r\n","title":"SpringBoot does not read application.properties","body":"<p>I am trying to do simple CRUD application by using Hibernate and SpringBoot. I want hibernate to create db automatically and show the sql statements therefore I added some properties in application.properties.</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.ddl-auto = create-drop\n</code></pre>\n\n<p>But all of them seems unused property. I tried to create configuration class and also added <code>@PropertySource(\"classpath:application.properties\")</code> but it did not help.</p>\n\n<p>Here my configuration class:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\n@EnableJpaRepositories\npublic class DBConfiguration {\n}\n</code></pre>\n\n<p>Here is my main class:</p>\n\n<pre><code>@SpringBootApplication\n@Import({DBConfiguration.class})\n@PropertySource(\"classpath:application.properties\")\npublic class SpringboothibernateApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringboothibernateApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>What I am doing wrong why application.properties file is unused at all.</p>\n"},{"tags":["java","android","sms","send","android-contacts"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1676489287,"post_id":75463714,"comment_id":133149222,"body_markdown":"The code you&#39;ve provided doesn&#39;t appear relevant to the question. What are your two activities, and what data are you trying to send between them, and what action should trigger this behaviour?","body":"The code you&#39;ve provided doesn&#39;t appear relevant to the question. What are your two activities, and what data are you trying to send between them, and what action should trigger this behaviour?"},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1676490194,"post_id":75463714,"comment_id":133149446,"body_markdown":"instead of sending an sms to one predefined number, i want to send it to all numbers that the user has been saved.  First code is for send sms Activity and the seconde one is for saving contact number Activity..","body":"instead of sending an sms to one predefined number, i want to send it to all numbers that the user has been saved.  First code is for send sms Activity and the seconde one is for saving contact number Activity.."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1676491837,"post_id":75463714,"comment_id":133149890,"body_markdown":"The second code sample doesn&#39;t appear to be an activity. An activity is a class that extends `Activity` or `FragmentActivity` or similar and is invoked via a method like `startActivity(...)`. It looks like your activity needs a list of `ContactModel` objects, and should iterate over them to retrieve the numbers you want send an SMS to.","body":"The second code sample doesn&#39;t appear to be an activity. An activity is a class that extends <code>Activity</code> or <code>FragmentActivity</code> or similar and is invoked via a method like <code>startActivity(...)</code>. It looks like your activity needs a list of <code>ContactModel</code> objects, and should iterate over them to retrieve the numbers you want send an SMS to."},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1676557977,"post_id":75463714,"comment_id":133164112,"body_markdown":"yes that&#39;s what i want.","body":"yes that&#39;s what i want."},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1676557991,"post_id":75463714,"comment_id":133164121,"body_markdown":"Can you help me with it?","body":"Can you help me with it?"}],"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676488272,"creation_date":1676483801,"question_id":75463714,"body_markdown":"I want to send an SMS with location to the contact that the user has been saved. But I don&#39;t know how to do it. I am totally new to Android Studio, so I don&#180;t know how to write my code that it will work the way I want it.\r\nPlease, can you help me to do that?\r\n\r\nThis is the code of sending SMS:\r\n  \r\n\r\n    Button sendBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        sendBtn = (Button) findViewById(R.id.btnSendSMS);\r\n        sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                sendSMSMessage();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    protected void sendSMSMessage() {\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.SEND_SMS)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.SEND_SMS)) {\r\n                // fixme: show explanation\r\n                // before requesting the permission again\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.SEND_SMS},\r\n                        MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n            } else {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.SEND_SMS},\r\n                        MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n            }\r\n        } else {\r\n            sendSmsImpl();\r\n        }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_SEND_SMS: {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    sendSmsImpl();\r\n                } else {\r\n                    // fixme: explain that it can&#39;t send SMS without the permission\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n                // !!! NOTE: you still need break inside switch/case\r\n                // even with curly braces\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private void sendSmsImpl() {\r\n        SmsManager smsManager = SmsManager.getDefault();\r\n        smsManager.sendTextMessage(&quot;+212xxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://www.google.com/maps/search/?api=1&amp;query=&lt;lat&gt;,&lt;lng&gt;&quot;, null, null);\r\n        //todo: use sentIntent argument of sendTextMessage to detect success/error\r\n        Toast.makeText(getApplicationContext(),\r\n                &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n\r\nAnd this the code of saving contact:\r\n\r\n    private int id;\r\n\r\n    private String phoneNo;\r\n\r\n    private String name;\r\n\r\n    // constructor\r\n    public ContactModel(int id, String name, String phoneNo) {\r\n        this.id = id;\r\n        this.phoneNo = validate(phoneNo);\r\n        this.name = name;\r\n    }\r\n\r\n    // validate the phone number, and reformat is necessary\r\n    private String validate(String phone) {\r\n\r\n        // creating StringBuilder for both the cases\r\n        StringBuilder case1 = new StringBuilder(&quot;+212&quot;);\r\n        StringBuilder case2 = new StringBuilder(&quot;&quot;);\r\n\r\n        // check if the string already has a &quot;+&quot;\r\n        if (phone.charAt(0) != &#39;+&#39;) {\r\n            for (int i = 0; i &lt; phone.length(); i++) {\r\n                // remove any spaces or &quot;-&quot;\r\n                if (phone.charAt(i) != &#39;-&#39; &amp;&amp; phone.charAt(i) != &#39; &#39;) {\r\n                    case1.append(phone.charAt(i));\r\n                }\r\n            }\r\n            return case1.toString();\r\n        } else {\r\n            for (int i = 0; i &lt; phone.length(); i++) {\r\n                // remove any spaces or &quot;-&quot;\r\n                if (phone.charAt(i) != &#39;-&#39; || phone.charAt(i) != &#39; &#39;) {\r\n                    case2.append(phone.charAt(i));\r\n                }\r\n            }\r\n            return case2.toString();\r\n        }\r\n\r\n    }\r\n\r\n    public String getPhoneNo() {\r\n        return phoneNo;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}","title":"How can I use the data of an activity in another activity?","body":"<p>I want to send an SMS with location to the contact that the user has been saved. But I don't know how to do it. I am totally new to Android Studio, so I don´t know how to write my code that it will work the way I want it.\nPlease, can you help me to do that?</p>\n<p>This is the code of sending SMS:</p>\n<pre><code>Button sendBtn;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    sendBtn = (Button) findViewById(R.id.btnSendSMS);\n    sendBtn.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View view) {\n            sendSMSMessage();\n        }\n    });\n\n}\n\nprotected void sendSMSMessage() {\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS)\n            != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.SEND_SMS)) {\n            // fixme: show explanation\n            // before requesting the permission again\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        }\n    } else {\n        sendSmsImpl();\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                sendSmsImpl();\n            } else {\n                // fixme: explain that it can't send SMS without the permission\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n            // !!! NOTE: you still need break inside switch/case\n            // even with curly braces\n            break;\n        }\n    }\n}\n\nprivate void sendSmsImpl() {\n    SmsManager smsManager = SmsManager.getDefault();\n    smsManager.sendTextMessage(&quot;+212xxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://www.google.com/maps/search/?api=1&amp;query=&lt;lat&gt;,&lt;lng&gt;&quot;, null, null);\n    //todo: use sentIntent argument of sendTextMessage to detect success/error\n    Toast.makeText(getApplicationContext(),\n            &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>And this the code of saving contact:</p>\n<pre><code>private int id;\n\nprivate String phoneNo;\n\nprivate String name;\n\n// constructor\npublic ContactModel(int id, String name, String phoneNo) {\n    this.id = id;\n    this.phoneNo = validate(phoneNo);\n    this.name = name;\n}\n\n// validate the phone number, and reformat is necessary\nprivate String validate(String phone) {\n\n    // creating StringBuilder for both the cases\n    StringBuilder case1 = new StringBuilder(&quot;+212&quot;);\n    StringBuilder case2 = new StringBuilder(&quot;&quot;);\n\n    // check if the string already has a &quot;+&quot;\n    if (phone.charAt(0) != '+') {\n        for (int i = 0; i &lt; phone.length(); i++) {\n            // remove any spaces or &quot;-&quot;\n            if (phone.charAt(i) != '-' &amp;&amp; phone.charAt(i) != ' ') {\n                case1.append(phone.charAt(i));\n            }\n        }\n        return case1.toString();\n    } else {\n        for (int i = 0; i &lt; phone.length(); i++) {\n            // remove any spaces or &quot;-&quot;\n            if (phone.charAt(i) != '-' || phone.charAt(i) != ' ') {\n                case2.append(phone.charAt(i));\n            }\n        }\n        return case2.toString();\n    }\n\n}\n\npublic String getPhoneNo() {\n    return phoneNo;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","callback","android-handler"],"answers":[{"tags":[],"owner":{"account_id":89296,"reputation":62915,"user_id":246461,"accept_rate":96,"display_name":"devunwired"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1304520278,"creation_date":1304513887,"answer_id":5883776,"question_id":5883635,"body_markdown":"For any specific `Runnable` instance, call `Handler.removeCallbacks()`.  Note that it uses the `Runnable` instance itself to determine which callbacks to unregister, so if you are creating a new instance each time a post is made, you need to make sure you have references to the exact `Runnable` to cancel.  Example:\r\n\r\n    Handler myHandler = new Handler();\r\n    Runnable myRunnable = new Runnable() {\r\n        public void run() {\r\n            //Some interesting task\r\n        }\r\n    };\r\n\r\nYou can call `myHandler.postDelayed(myRunnable, x)` to post another callback to the message queue at other places in your code, and remove all pending callbacks with `myHandler.removeCallbacks(myRunnable)`\r\n\r\nUnfortunately, you cannot simply &quot;clear&quot; the entire `MessageQueue` for a `Handler`, even if you make a request for the `MessageQueue` object associated with it because the methods for adding and removing items are package protected (only classes within the android.os package can call them).  You may have to create a thin `Handler` subclass to manage a list of `Runnable`s as they are posted/executed...or look at another paradigm for passing your messages between each `Activity`\r\n\r\nHope that Helps!","title":"How to remove all callbacks from a Handler?","body":"<p>For any specific <code>Runnable</code> instance, call <code>Handler.removeCallbacks()</code>.  Note that it uses the <code>Runnable</code> instance itself to determine which callbacks to unregister, so if you are creating a new instance each time a post is made, you need to make sure you have references to the exact <code>Runnable</code> to cancel.  Example:</p>\n\n<pre><code>Handler myHandler = new Handler();\nRunnable myRunnable = new Runnable() {\n    public void run() {\n        //Some interesting task\n    }\n};\n</code></pre>\n\n<p>You can call <code>myHandler.postDelayed(myRunnable, x)</code> to post another callback to the message queue at other places in your code, and remove all pending callbacks with <code>myHandler.removeCallbacks(myRunnable)</code></p>\n\n<p>Unfortunately, you cannot simply \"clear\" the entire <code>MessageQueue</code> for a <code>Handler</code>, even if you make a request for the <code>MessageQueue</code> object associated with it because the methods for adding and removing items are package protected (only classes within the android.os package can call them).  You may have to create a thin <code>Handler</code> subclass to manage a list of <code>Runnable</code>s as they are posted/executed...or look at another paradigm for passing your messages between each <code>Activity</code></p>\n\n<p>Hope that Helps!</p>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1304515025,"creation_date":1304515025,"answer_id":5884027,"question_id":5883635,"body_markdown":"If you don&#39;t have the Runnable references, on the first callback, get the obj of the message, and use [removeCallbacksAndMessages()][1] to remove all related callbacks.\r\n\r\n  [1]: http://developer.android.com/reference/android/os/Handler.html#removeCallbacksAndMessages%28java.lang.Object%29","title":"How to remove all callbacks from a Handler?","body":"<p>If you don't have the Runnable references, on the first callback, get the obj of the message, and use <a href=\"http://developer.android.com/reference/android/os/Handler.html#removeCallbacksAndMessages%28java.lang.Object%29\" rel=\"noreferrer\">removeCallbacksAndMessages()</a> to remove all related callbacks.</p>\n"},{"tags":[],"owner":{"account_id":1179597,"reputation":6981,"user_id":1154836,"display_name":"josh527"},"down_vote_count":0,"up_vote_count":586,"is_accepted":true,"score":586,"last_activity_date":1477171291,"creation_date":1334338694,"answer_id":10145615,"question_id":5883635,"body_markdown":"In my experience calling this worked great!\r\n\r\n    handler.removeCallbacksAndMessages(null);\r\n\r\nIn the docs for removeCallbacksAndMessages it says...\r\n\r\n&gt;Remove any pending posts of callbacks and sent messages whose obj is token. **If token is `null`, all callbacks and messages will be removed.**","title":"How to remove all callbacks from a Handler?","body":"<p>In my experience calling this worked great!</p>\n\n<pre><code>handler.removeCallbacksAndMessages(null);\n</code></pre>\n\n<p>In the docs for removeCallbacksAndMessages it says...</p>\n\n<blockquote>\n  <p>Remove any pending posts of callbacks and sent messages whose obj is token. <strong>If token is <code>null</code>, all callbacks and messages will be removed.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1699302,"reputation":11792,"user_id":1559852,"accept_rate":100,"display_name":"savepopulation"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1421764947,"creation_date":1421764947,"answer_id":28048111,"question_id":5883635,"body_markdown":"Define a new handler and runnable:\r\n\r\n    private Handler handler = new Handler(Looper.getMainLooper());\r\n    private Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // Do what ever you want\r\n            }\r\n        };\r\n\r\nCall post delayed:\r\n\r\n    handler.postDelayed(runnable, sleep_time);\r\n\r\nRemove your callback from your handler:\r\n\r\n    handler.removeCallbacks(runnable);","title":"How to remove all callbacks from a Handler?","body":"<p>Define a new handler and runnable:</p>\n\n<pre><code>private Handler handler = new Handler(Looper.getMainLooper());\nprivate Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            // Do what ever you want\n        }\n    };\n</code></pre>\n\n<p>Call post delayed:</p>\n\n<pre><code>handler.postDelayed(runnable, sleep_time);\n</code></pre>\n\n<p>Remove your callback from your handler:</p>\n\n<pre><code>handler.removeCallbacks(runnable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4066266,"reputation":2101,"user_id":3341089,"display_name":"oguzhan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1569420395,"creation_date":1481744883,"answer_id":41150974,"question_id":5883635,"body_markdown":"Please note that one should define a `Handler` and a `Runnable` in class scope, so that it is created once.`removeCallbacks(Runnable)` works correctly unless one defines them multiple times. Please look at following examples for better understanding: \r\n\r\nIncorrect way :\r\n\r\n        public class FooActivity extends Activity {\r\n               private void handleSomething(){\r\n                    Handler handler = new Handler();\r\n                    Runnable runnable = new Runnable() {\r\n                       @Override\r\n                       public void run() {\r\n                          doIt();\r\n                      }\r\n                   };\r\n                  if(shouldIDoIt){\r\n                      //doIt() works after 3 seconds.\r\n                      handler.postDelayed(runnable, 3000);\r\n                  } else {\r\n                      handler.removeCallbacks(runnable);\r\n                  }\r\n               }\r\n    \r\n              public void onClick(View v){\r\n                  handleSomething();\r\n              }\r\n        } \r\n\r\nIf you call `onClick(..)` method, you never stop `doIt()` method calling before it call. Because each time creates `new Handler` and `new Runnable` instances. In this way, you lost necessary references which belong to *handler* and *runnable* instances.    \r\n\r\nCorrect way :\r\n\r\n     public class FooActivity extends Activity {\r\n            Handler handler = new Handler();\r\n            Runnable runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    doIt();\r\n                }\r\n            };\r\n            private void handleSomething(){\r\n                if(shouldIDoIt){\r\n                    //doIt() works after 3 seconds.\r\n                    handler.postDelayed(runnable, 3000);\r\n                } else {\r\n                    handler.removeCallbacks(runnable);\r\n                }\r\n           }\r\n    \r\n           public void onClick(View v){\r\n               handleSomething();\r\n           }\r\n     } \r\n\r\nIn this way, you don&#39;t lost actual references and `removeCallbacks(runnable)` works successfully.\r\n\r\nKey sentence is that **&#39;define them as global in your `Activity` or `Fragment` what you use&#39;**.","title":"How to remove all callbacks from a Handler?","body":"<p>Please note that one should define a <code>Handler</code> and a <code>Runnable</code> in class scope, so that it is created once.<code>removeCallbacks(Runnable)</code> works correctly unless one defines them multiple times. Please look at following examples for better understanding: </p>\n\n<p>Incorrect way :</p>\n\n<pre><code>    public class FooActivity extends Activity {\n           private void handleSomething(){\n                Handler handler = new Handler();\n                Runnable runnable = new Runnable() {\n                   @Override\n                   public void run() {\n                      doIt();\n                  }\n               };\n              if(shouldIDoIt){\n                  //doIt() works after 3 seconds.\n                  handler.postDelayed(runnable, 3000);\n              } else {\n                  handler.removeCallbacks(runnable);\n              }\n           }\n\n          public void onClick(View v){\n              handleSomething();\n          }\n    } \n</code></pre>\n\n<p>If you call <code>onClick(..)</code> method, you never stop <code>doIt()</code> method calling before it call. Because each time creates <code>new Handler</code> and <code>new Runnable</code> instances. In this way, you lost necessary references which belong to <em>handler</em> and <em>runnable</em> instances.    </p>\n\n<p>Correct way :</p>\n\n<pre><code> public class FooActivity extends Activity {\n        Handler handler = new Handler();\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                doIt();\n            }\n        };\n        private void handleSomething(){\n            if(shouldIDoIt){\n                //doIt() works after 3 seconds.\n                handler.postDelayed(runnable, 3000);\n            } else {\n                handler.removeCallbacks(runnable);\n            }\n       }\n\n       public void onClick(View v){\n           handleSomething();\n       }\n } \n</code></pre>\n\n<p>In this way, you don't lost actual references and <code>removeCallbacks(runnable)</code> works successfully.</p>\n\n<p>Key sentence is that <strong>'define them as global in your <code>Activity</code> or <code>Fragment</code> what you use'</strong>.</p>\n"},{"tags":[],"owner":{"account_id":8456588,"reputation":51,"user_id":6343641,"display_name":"JamesRobert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543459606,"creation_date":1543459606,"answer_id":53531111,"question_id":5883635,"body_markdown":"As `josh527` said, `handler.removeCallbacksAndMessages(null);` can work.&lt;br&gt;\r\nBut why?&lt;br&gt;\r\nIf you have a look at the source code, you can understand it more clearly.\r\nThere are 3 type of method to remove callbacks/messages from handler(the MessageQueue):\r\n\r\n 1. remove by callback (and token)\r\n 2. remove by message.what (and token)\r\n 3. remove by token\r\n\r\nHandler.java (leave some overload method）\r\n\r\n    /**\r\n     * Remove any pending posts of Runnable &lt;var&gt;r&lt;/var&gt; with Object\r\n     * &lt;var&gt;token&lt;/var&gt; that are in the message queue.  If &lt;var&gt;token&lt;/var&gt; is null,\r\n     * all callbacks will be removed.\r\n     */\r\n    public final void removeCallbacks(Runnable r, Object token)\r\n    {\r\n        mQueue.removeMessages(this, r, token);\r\n    }\r\n\r\n    /**\r\n     * Remove any pending posts of messages with code &#39;what&#39; and whose obj is\r\n     * &#39;object&#39; that are in the message queue.  If &lt;var&gt;object&lt;/var&gt; is null,\r\n     * all messages will be removed.\r\n     */\r\n    public final void removeMessages(int what, Object object) {\r\n        mQueue.removeMessages(this, what, object);\r\n    }\r\n\r\n    /**\r\n     * Remove any pending posts of callbacks and sent messages whose\r\n     * &lt;var&gt;obj&lt;/var&gt; is &lt;var&gt;token&lt;/var&gt;.  If &lt;var&gt;token&lt;/var&gt; is null,\r\n     * all callbacks and messages will be removed.\r\n     */\r\n    public final void removeCallbacksAndMessages(Object token) {\r\n        mQueue.removeCallbacksAndMessages(this, token);\r\n    }\r\n\r\nMessageQueue.java do the real work:\r\n\r\n    void removeMessages(Handler h, int what, Object object) {\r\n        if (h == null) {\r\n            return;\r\n        }\r\n\r\n        synchronized (this) {\r\n            Message p = mMessages;\r\n\r\n            // Remove all messages at front.\r\n            while (p != null &amp;&amp; p.target == h &amp;&amp; p.what == what\r\n                   &amp;&amp; (object == null || p.obj == object)) {\r\n                Message n = p.next;\r\n                mMessages = n;\r\n                p.recycleUnchecked();\r\n                p = n;\r\n            }\r\n\r\n            // Remove all messages after front.\r\n            while (p != null) {\r\n                Message n = p.next;\r\n                if (n != null) {\r\n                    if (n.target == h &amp;&amp; n.what == what\r\n                        &amp;&amp; (object == null || n.obj == object)) {\r\n                        Message nn = n.next;\r\n                        n.recycleUnchecked();\r\n                        p.next = nn;\r\n                        continue;\r\n                    }\r\n                }\r\n                p = n;\r\n            }\r\n        }\r\n    }\r\n\r\n    void removeMessages(Handler h, Runnable r, Object object) {\r\n        if (h == null || r == null) {\r\n            return;\r\n        }\r\n\r\n        synchronized (this) {\r\n            Message p = mMessages;\r\n\r\n            // Remove all messages at front.\r\n            while (p != null &amp;&amp; p.target == h &amp;&amp; p.callback == r\r\n                   &amp;&amp; (object == null || p.obj == object)) {\r\n                Message n = p.next;\r\n                mMessages = n;\r\n                p.recycleUnchecked();\r\n                p = n;\r\n            }\r\n\r\n            // Remove all messages after front.\r\n            while (p != null) {\r\n                Message n = p.next;\r\n                if (n != null) {\r\n                    if (n.target == h &amp;&amp; n.callback == r\r\n                        &amp;&amp; (object == null || n.obj == object)) {\r\n                        Message nn = n.next;\r\n                        n.recycleUnchecked();\r\n                        p.next = nn;\r\n                        continue;\r\n                    }\r\n                }\r\n                p = n;\r\n            }\r\n        }\r\n    }\r\n\r\n    void removeCallbacksAndMessages(Handler h, Object object) {\r\n        if (h == null) {\r\n            return;\r\n        }\r\n\r\n        synchronized (this) {\r\n            Message p = mMessages;\r\n\r\n            // Remove all messages at front.\r\n            while (p != null &amp;&amp; p.target == h\r\n                    &amp;&amp; (object == null || p.obj == object)) {\r\n                Message n = p.next;\r\n                mMessages = n;\r\n                p.recycleUnchecked();\r\n                p = n;\r\n            }\r\n\r\n            // Remove all messages after front.\r\n            while (p != null) {\r\n                Message n = p.next;\r\n                if (n != null) {\r\n                    if (n.target == h &amp;&amp; (object == null || n.obj == object)) {\r\n                        Message nn = n.next;\r\n                        n.recycleUnchecked();\r\n                        p.next = nn;\r\n                        continue;\r\n                    }\r\n                }\r\n                p = n;\r\n            }\r\n        }\r\n    }","title":"How to remove all callbacks from a Handler?","body":"<p>As <code>josh527</code> said, <code>handler.removeCallbacksAndMessages(null);</code> can work.<br>\nBut why?<br>\nIf you have a look at the source code, you can understand it more clearly.\nThere are 3 type of method to remove callbacks/messages from handler(the MessageQueue):</p>\n\n<ol>\n<li>remove by callback (and token)</li>\n<li>remove by message.what (and token)</li>\n<li>remove by token</li>\n</ol>\n\n<p>Handler.java (leave some overload method）</p>\n\n<pre><code>/**\n * Remove any pending posts of Runnable &lt;var&gt;r&lt;/var&gt; with Object\n * &lt;var&gt;token&lt;/var&gt; that are in the message queue.  If &lt;var&gt;token&lt;/var&gt; is null,\n * all callbacks will be removed.\n */\npublic final void removeCallbacks(Runnable r, Object token)\n{\n    mQueue.removeMessages(this, r, token);\n}\n\n/**\n * Remove any pending posts of messages with code 'what' and whose obj is\n * 'object' that are in the message queue.  If &lt;var&gt;object&lt;/var&gt; is null,\n * all messages will be removed.\n */\npublic final void removeMessages(int what, Object object) {\n    mQueue.removeMessages(this, what, object);\n}\n\n/**\n * Remove any pending posts of callbacks and sent messages whose\n * &lt;var&gt;obj&lt;/var&gt; is &lt;var&gt;token&lt;/var&gt;.  If &lt;var&gt;token&lt;/var&gt; is null,\n * all callbacks and messages will be removed.\n */\npublic final void removeCallbacksAndMessages(Object token) {\n    mQueue.removeCallbacksAndMessages(this, token);\n}\n</code></pre>\n\n<p>MessageQueue.java do the real work:</p>\n\n<pre><code>void removeMessages(Handler h, int what, Object object) {\n    if (h == null) {\n        return;\n    }\n\n    synchronized (this) {\n        Message p = mMessages;\n\n        // Remove all messages at front.\n        while (p != null &amp;&amp; p.target == h &amp;&amp; p.what == what\n               &amp;&amp; (object == null || p.obj == object)) {\n            Message n = p.next;\n            mMessages = n;\n            p.recycleUnchecked();\n            p = n;\n        }\n\n        // Remove all messages after front.\n        while (p != null) {\n            Message n = p.next;\n            if (n != null) {\n                if (n.target == h &amp;&amp; n.what == what\n                    &amp;&amp; (object == null || n.obj == object)) {\n                    Message nn = n.next;\n                    n.recycleUnchecked();\n                    p.next = nn;\n                    continue;\n                }\n            }\n            p = n;\n        }\n    }\n}\n\nvoid removeMessages(Handler h, Runnable r, Object object) {\n    if (h == null || r == null) {\n        return;\n    }\n\n    synchronized (this) {\n        Message p = mMessages;\n\n        // Remove all messages at front.\n        while (p != null &amp;&amp; p.target == h &amp;&amp; p.callback == r\n               &amp;&amp; (object == null || p.obj == object)) {\n            Message n = p.next;\n            mMessages = n;\n            p.recycleUnchecked();\n            p = n;\n        }\n\n        // Remove all messages after front.\n        while (p != null) {\n            Message n = p.next;\n            if (n != null) {\n                if (n.target == h &amp;&amp; n.callback == r\n                    &amp;&amp; (object == null || n.obj == object)) {\n                    Message nn = n.next;\n                    n.recycleUnchecked();\n                    p.next = nn;\n                    continue;\n                }\n            }\n            p = n;\n        }\n    }\n}\n\nvoid removeCallbacksAndMessages(Handler h, Object object) {\n    if (h == null) {\n        return;\n    }\n\n    synchronized (this) {\n        Message p = mMessages;\n\n        // Remove all messages at front.\n        while (p != null &amp;&amp; p.target == h\n                &amp;&amp; (object == null || p.obj == object)) {\n            Message n = p.next;\n            mMessages = n;\n            p.recycleUnchecked();\n            p = n;\n        }\n\n        // Remove all messages after front.\n        while (p != null) {\n            Message n = p.next;\n            if (n != null) {\n                if (n.target == h &amp;&amp; (object == null || n.obj == object)) {\n                    Message nn = n.next;\n                    n.recycleUnchecked();\n                    p.next = nn;\n                    continue;\n                }\n            }\n            p = n;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665038485,"creation_date":1650450177,"answer_id":71937992,"question_id":5883635,"body_markdown":"To **remove specific runnable** \r\n\r\n    handler.removeCallbacks(yourRunnable)\r\n\r\nTo **remove all runnables**\r\n\r\n    handler.removeCallbacksAndMessages(null)","title":"How to remove all callbacks from a Handler?","body":"<p>To <strong>remove specific runnable</strong></p>\n<pre><code>handler.removeCallbacks(yourRunnable)\n</code></pre>\n<p>To <strong>remove all runnables</strong></p>\n<pre><code>handler.removeCallbacksAndMessages(null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18888620,"reputation":21,"user_id":13779414,"display_name":"A P Harivignesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655847111,"creation_date":1655663762,"answer_id":72679429,"question_id":5883635,"body_markdown":"None of the solutions worked for me. But I found a solution that worked.\r\n\r\nThe runnables already added in the handler queue got executed even after calling `handler.removeCallbacksAndMessages(null)`. When I tried to stop the thread, it resulted in the error: \r\n\r\n*W/MessageQueue(6436): java.lang.RuntimeException: Handler (android.os.Handler) {416659f0} **sending message to a Handler on a dead thread***\r\n\r\n**My solution:**\r\n\r\n - To remove all the callbacks. you need the reference for all the\r\n   runnables which can be stored in an ArrayList.\r\n\r\n        private ArrayList&lt;Runnable&gt; runnableQueue=new ArrayList&lt;Runnable&gt;();\r\n    \r\n- Then every time u want to post a runnable, store it in the array, then post the array item using handler.post().  \r\n\r\n      private void postInHandler(){\r\n        @override\r\n        runnableQueue.add(new Runnable() {\r\n            public void run() {   \r\n                //your code \r\n            }\r\n        });\r\n        //Post the last item in the array \r\n        handler.post(runnableQueue.get(runnableQueue.size()-1));\r\n        }\r\n\r\n - Then to remove all the callbacks use this method which will remove each callback by iterating through the array.\r\n   \r\n\r\n         private void removeHandlerCallbacks(){\r\n            for(Runnable runnable:runnableQueue){\r\n                networkHandler.removeCallbacks(runnable,null);\r\n            }\r\n            runnableQueue.clear();\r\n        }\r\n\r\n - Hurray! the queue is cleared.  **But wait**. After clearing the array we have to make sure that **no more runnable is posted** in the handler before you stop the thread. So you have to declare:\r\n\r\n   `boolean allowPosting=true;`\r\n\r\nso include this:\r\n\r\n    private void removeHandlerCallbacks(){           \r\n        allowPosting=false;//add this line to stop posting after clearing the array\r\n        for(Runnable runnable:runnableQueue){\r\n            handler.removeCallbacks(runnable,null);\r\n        }\r\n         //Dont forget to clear the array\r\n         runnableQueue.clear();\r\n    }\r\n\r\nThen check the condition before posting in the handler:\r\n\r\n    if(allowPosting){\r\n        postInHandler();\r\n    }\r\n\r\nThat&#39;s all, now the queue is cleared and we are sure that no more runnable is posted after clearing the queue. So it is safe to stop the thread.\r\n","title":"How to remove all callbacks from a Handler?","body":"<p>None of the solutions worked for me. But I found a solution that worked.</p>\n<p>The runnables already added in the handler queue got executed even after calling <code>handler.removeCallbacksAndMessages(null)</code>. When I tried to stop the thread, it resulted in the error:</p>\n<p><em>W/MessageQueue(6436): java.lang.RuntimeException: Handler (android.os.Handler) {416659f0} <strong>sending message to a Handler on a dead thread</strong></em></p>\n<p><strong>My solution:</strong></p>\n<ul>\n<li><p>To remove all the callbacks. you need the reference for all the\nrunnables which can be stored in an ArrayList.</p>\n<pre><code> private ArrayList&lt;Runnable&gt; runnableQueue=new ArrayList&lt;Runnable&gt;();\n</code></pre>\n</li>\n<li><p>Then every time u want to post a runnable, store it in the array, then post the array item using handler.post().</p>\n<pre><code>private void postInHandler(){\n  @override\n  runnableQueue.add(new Runnable() {\n      public void run() {   \n          //your code \n      }\n  });\n  //Post the last item in the array \n  handler.post(runnableQueue.get(runnableQueue.size()-1));\n  }\n</code></pre>\n</li>\n<li><p>Then to remove all the callbacks use this method which will remove each callback by iterating through the array.</p>\n<pre><code>  private void removeHandlerCallbacks(){\n     for(Runnable runnable:runnableQueue){\n         networkHandler.removeCallbacks(runnable,null);\n     }\n     runnableQueue.clear();\n }\n</code></pre>\n</li>\n<li><p>Hurray! the queue is cleared.  <strong>But wait</strong>. After clearing the array we have to make sure that <strong>no more runnable is posted</strong> in the handler before you stop the thread. So you have to declare:</p>\n<p><code>boolean allowPosting=true;</code></p>\n</li>\n</ul>\n<p>so include this:</p>\n<pre><code>private void removeHandlerCallbacks(){           \n    allowPosting=false;//add this line to stop posting after clearing the array\n    for(Runnable runnable:runnableQueue){\n        handler.removeCallbacks(runnable,null);\n    }\n     //Dont forget to clear the array\n     runnableQueue.clear();\n}\n</code></pre>\n<p>Then check the condition before posting in the handler:</p>\n<pre><code>if(allowPosting){\n    postInHandler();\n}\n</code></pre>\n<p>That's all, now the queue is cleared and we are sure that no more runnable is posted after clearing the queue. So it is safe to stop the thread.</p>\n"},{"tags":[],"owner":{"account_id":9888762,"reputation":750,"user_id":7918717,"display_name":"antaki93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676488247,"creation_date":1676488247,"answer_id":75464451,"question_id":5883635,"body_markdown":"The [documentation][1] says that `removeCallbacksAndMessages(null)` removes all callbacks, but it is not always true. Try this:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n        handler.removeCallbacksAndMessages(&quot;ACTION_NAME&quot;)\r\n        handler.postDelayed(runnable, &quot;ACTION_NAME&quot;, 10_000) //if you want restart runnable\r\n    } else {\r\n        handler.removeCallbacksAndMessages(null)\r\n        handler.postDelayed(runnable, 10_000) //if you want restart runnable\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Handler#removeCallbacksAndMessages(java.lang.Object)","title":"How to remove all callbacks from a Handler?","body":"<p>The <a href=\"https://developer.android.com/reference/android/os/Handler#removeCallbacksAndMessages(java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a> says that <code>removeCallbacksAndMessages(null)</code> removes all callbacks, but it is not always true. Try this:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n    handler.removeCallbacksAndMessages(&quot;ACTION_NAME&quot;)\n    handler.postDelayed(runnable, &quot;ACTION_NAME&quot;, 10_000) //if you want restart runnable\n} else {\n    handler.removeCallbacksAndMessages(null)\n    handler.postDelayed(runnable, 10_000) //if you want restart runnable\n}\n</code></pre>\n"}],"owner":{"account_id":329756,"reputation":18637,"user_id":653457,"accept_rate":89,"display_name":"Luke Vo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138797,"favorite_count":0,"down_vote_count":0,"up_vote_count":255,"accepted_answer_id":10145615,"answer_count":9,"score":255,"last_activity_date":1676488247,"creation_date":1304513308,"question_id":5883635,"body_markdown":"I have a [Handler][1] from my sub-Activity that was called by the main [Activity][2]. This Handler is used by sub-classes to [`postDelay`][3] some Runnables, and I can&#39;t manage them. Now, in the `onStop` event, I need to remove them before finishing the Activity (somehow I called `finish()`, but it still call again and again). Is there anyway to remove all callbacks from a Handler?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/Handler.html\r\n  [2]: http://developer.android.com/reference/android/app/Activity.html\r\n  [3]: http://developer.android.com/reference/android/os/Handler.html#postDelayed%28java.lang.Runnable,%20long%29","title":"How to remove all callbacks from a Handler?","body":"<p>I have a <a href=\"http://developer.android.com/reference/android/os/Handler.html\" rel=\"noreferrer\">Handler</a> from my sub-Activity that was called by the main <a href=\"http://developer.android.com/reference/android/app/Activity.html\" rel=\"noreferrer\">Activity</a>. This Handler is used by sub-classes to <a href=\"http://developer.android.com/reference/android/os/Handler.html#postDelayed%28java.lang.Runnable,%20long%29\" rel=\"noreferrer\"><code>postDelay</code></a> some Runnables, and I can't manage them. Now, in the <code>onStop</code> event, I need to remove them before finishing the Activity (somehow I called <code>finish()</code>, but it still call again and again). Is there anyway to remove all callbacks from a Handler?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24428149,"reputation":66,"user_id":18353450,"display_name":"Emirhan Naneli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676483456,"creation_date":1676483456,"answer_id":75463666,"question_id":75463242,"body_markdown":"you cannot prevent this. The only part you can control is the host value in the header, but they can manipulate the host value.","title":"Spring cloud gateway to forward request if its coming from whitelisted domain","body":"<p>you cannot prevent this. The only part you can control is the host value in the header, but they can manipulate the host value.</p>\n"}],"owner":{"account_id":15570558,"reputation":129,"user_id":11233137,"display_name":"Shivam Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676488190,"creation_date":1676481143,"question_id":75463242,"body_markdown":"I have zuul already in place to route the services i am stuck with domain filtering \r\n\r\nI want a request to go through my endpoint only if its coming through whitelisted domain\r\n\r\n**Ex\r\npass request if its coming from https://example.com\r\nBlock it : if its coming from any other domain (https://example1.com**)\r\n\r\nCan we do it through cloud gateway or is there any other way to achieve this.\r\n\r\n\r\n","title":"Spring cloud gateway to forward request if its coming from whitelisted domain","body":"<p>I have zuul already in place to route the services i am stuck with domain filtering</p>\n<p>I want a request to go through my endpoint only if its coming through whitelisted domain</p>\n<p><strong>Ex\npass request if its coming from <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>\nBlock it : if its coming from any other domain (<a href=\"https://example1.com\" rel=\"nofollow noreferrer\">https://example1.com</a></strong>)</p>\n<p>Can we do it through cloud gateway or is there any other way to achieve this.</p>\n"},{"tags":["java","spring-boot","keycloak","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675463856,"creation_date":1675463856,"answer_id":75341663,"question_id":75338738,"body_markdown":"The simplest way to do it is to consider that the job of storing users will be delegated to your Keycloak server. But you can implement some roles and checks manually with in-memory or any database of your preference too.\r\n\r\nI invite you to follow some documentation about OAuth 2 and Keycloak, to make requests to get a valid token for a time period and to make others request inside that time period to get datas. You can use CURL to make requests or web/software tools like Postman.\r\n\r\nBe careful, a lot of Keycloak Adapters are deprecated ones since some months.","title":"Keycloak and SpringBoot","body":"<p>The simplest way to do it is to consider that the job of storing users will be delegated to your Keycloak server. But you can implement some roles and checks manually with in-memory or any database of your preference too.</p>\n<p>I invite you to follow some documentation about OAuth 2 and Keycloak, to make requests to get a valid token for a time period and to make others request inside that time period to get datas. You can use CURL to make requests or web/software tools like Postman.</p>\n<p>Be careful, a lot of Keycloak Adapters are deprecated ones since some months.</p>\n"},{"tags":[],"owner":{"account_id":2143029,"reputation":1542,"user_id":1901261,"accept_rate":100,"display_name":"cneller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676061327,"creation_date":1676061327,"answer_id":75415889,"question_id":75338738,"body_markdown":"I would echo BendaThierry&#39;s comments. Look into OAuth2 and Keycloak. The Bearer token you receive from Keycloak will have user information in it (typically in the Claims). This way you can have user preferences or features in your backend without needing to manage the authorization and authentication that Keycloak does.\r\n\r\nThere are lots of great resource include Spring&#39;s website tutorials (like https://spring.io/guides/tutorials/spring-boot-oauth2/) and Baeldung (https://www.baeldung.com/).","title":"Keycloak and SpringBoot","body":"<p>I would echo BendaThierry's comments. Look into OAuth2 and Keycloak. The Bearer token you receive from Keycloak will have user information in it (typically in the Claims). This way you can have user preferences or features in your backend without needing to manage the authorization and authentication that Keycloak does.</p>\n<p>There are lots of great resource include Spring's website tutorials (like <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/spring-boot-oauth2/</a>) and Baeldung (<a href=\"https://www.baeldung.com/\" rel=\"nofollow noreferrer\">https://www.baeldung.com/</a>).</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676487651,"creation_date":1676074244,"answer_id":75417249,"question_id":75338738,"body_markdown":"# OpenID tokens are rich\r\nKeycloak is an OpenID provider and emits JWTs. You already have the standard OpenID info about user identity in the token (matching requested scopes), plus some Keycloak specific stuff like roles plus whatever you add with &quot;mappers&quot;.\r\n\r\nAll the data required for **U**ser **A**uthentication (identity) and **A**uthorization (access-control) should be embedded in access-tokens.\r\n\r\n# How to bind user data between Keycloak and your backend\r\nIn my opinion, the best option is to leave user management to Keycloak (do not duplicate what is already provided by Keycloak). An exception is if you already have a large user database, then you should read the doc or [blog posts][1] to bind Keycloak to this DB instead of using its own.\r\n\r\n# Spring clients and resource-servers configuration\r\nI have detailed that for Spring Boot 3 in this other answer: [Use Keycloak Spring Adapter with Spring Boot 3][2]\r\n\r\nIn addition to explaining configuration with Spring Boot client and resource-server starters, it links to alternate Spring Boot starters which are probably easier to use and more portable (while building on top of `spring-boot-starter-oauth2-resource-server`).\r\n\r\n\r\nI Also have a set of tutorials from most basic RBAC to advanced access-control involving the accessed resource itself as well as standard and private OpenID claims from the token (user details) [there][3].\r\n\r\n# Tokens private claims \r\nFor performance reason, it is a waste to query a DB (or call a web-service) when evaluating access-control rules after decoding a JWT: this happens for each request.\r\n\r\nIt is much more efficient to put this data in the tokens as private claims: this happens only once for each access-token issuance.\r\n\r\nKeycloak provides with quite a few &quot;mappers&quot; you can configure to enrich tokens and also allows you to write your own. Sample project with a custom Keycloak mapper [here][4]. This is a multi-module maven project composed of:\r\n- a custom &quot;mapper&quot; responsible for adding a private claim to the tokens\r\n- a web-service which exposes the data used to set the value of this claim\r\n- a resource-server reading this private claim to take access-control decisions\r\n\r\n\r\n  [1]: https://medium.com/javarevisited/keycloak-integration-with-existing-database-587c119db3ae\r\n  [2]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [4]: https://github.com/ch4mpy/user-proxies/tree/main/api","title":"Keycloak and SpringBoot","body":"<h1>OpenID tokens are rich</h1>\n<p>Keycloak is an OpenID provider and emits JWTs. You already have the standard OpenID info about user identity in the token (matching requested scopes), plus some Keycloak specific stuff like roles plus whatever you add with &quot;mappers&quot;.</p>\n<p>All the data required for <strong>U</strong>ser <strong>A</strong>uthentication (identity) and <strong>A</strong>uthorization (access-control) should be embedded in access-tokens.</p>\n<h1>How to bind user data between Keycloak and your backend</h1>\n<p>In my opinion, the best option is to leave user management to Keycloak (do not duplicate what is already provided by Keycloak). An exception is if you already have a large user database, then you should read the doc or <a href=\"https://medium.com/javarevisited/keycloak-integration-with-existing-database-587c119db3ae\" rel=\"nofollow noreferrer\">blog posts</a> to bind Keycloak to this DB instead of using its own.</p>\n<h1>Spring clients and resource-servers configuration</h1>\n<p>I have detailed that for Spring Boot 3 in this other answer: <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">Use Keycloak Spring Adapter with Spring Boot 3</a></p>\n<p>In addition to explaining configuration with Spring Boot client and resource-server starters, it links to alternate Spring Boot starters which are probably easier to use and more portable (while building on top of <code>spring-boot-starter-oauth2-resource-server</code>).</p>\n<p>I Also have a set of tutorials from most basic RBAC to advanced access-control involving the accessed resource itself as well as standard and private OpenID claims from the token (user details) <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">there</a>.</p>\n<h1>Tokens private claims</h1>\n<p>For performance reason, it is a waste to query a DB (or call a web-service) when evaluating access-control rules after decoding a JWT: this happens for each request.</p>\n<p>It is much more efficient to put this data in the tokens as private claims: this happens only once for each access-token issuance.</p>\n<p>Keycloak provides with quite a few &quot;mappers&quot; you can configure to enrich tokens and also allows you to write your own. Sample project with a custom Keycloak mapper <a href=\"https://github.com/ch4mpy/user-proxies/tree/main/api\" rel=\"nofollow noreferrer\">here</a>. This is a multi-module maven project composed of:</p>\n<ul>\n<li>a custom &quot;mapper&quot; responsible for adding a private claim to the tokens</li>\n<li>a web-service which exposes the data used to set the value of this claim</li>\n<li>a resource-server reading this private claim to take access-control decisions</li>\n</ul>\n"}],"owner":{"account_id":27696519,"reputation":3,"user_id":21142120,"display_name":"Flatron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75417249,"answer_count":3,"score":0,"last_activity_date":1676487651,"creation_date":1675442895,"question_id":75338738,"body_markdown":"I started playing with Keycloak, but I have a question. While reading articles, I always found examples where a client (let&#39;s say Angular) is logging in on Keycloak, it gets a bearer and then it send the bearer to the SpringBoot application. The backend, so, validates that the bearer is valid and, if so, it allows you accessing the desired endpoint. \r\n\r\nBut it&#39;s not enough in my opinion. I don&#39;t need just to login, I would need the entire functionality - let&#39;s say I have a backend application and I need a user. I could have a basic todo-application, how do I know for which backend user I am actually accesing an endpoint?\r\n\r\nStraight question: how can I bind my own backend user (stored in the DB from backend) to the one from Keycloak? \r\n\r\nWhat is the best way to do it? The only thing that I found online and into the Keycloack documenation is that I could move the logic of logging in from client (Angular) to backend (SpringBoot). Is this the way to go? \r\n\r\n\r\nImagine like I&#39;m creating my manual /login endpoint on backend on which I would then call the Keycloak server (Keycloak REST client?) and I would pass myself (as a backend) the bearer to the client.\r\n\r\nPlease help me with an explanation if I&#39;m right or wrong, what&#39;s the best practice, maybe help me with an online example, because I just found out the too easy ones.","title":"Keycloak and SpringBoot","body":"<p>I started playing with Keycloak, but I have a question. While reading articles, I always found examples where a client (let's say Angular) is logging in on Keycloak, it gets a bearer and then it send the bearer to the SpringBoot application. The backend, so, validates that the bearer is valid and, if so, it allows you accessing the desired endpoint.</p>\n<p>But it's not enough in my opinion. I don't need just to login, I would need the entire functionality - let's say I have a backend application and I need a user. I could have a basic todo-application, how do I know for which backend user I am actually accesing an endpoint?</p>\n<p>Straight question: how can I bind my own backend user (stored in the DB from backend) to the one from Keycloak?</p>\n<p>What is the best way to do it? The only thing that I found online and into the Keycloack documenation is that I could move the logic of logging in from client (Angular) to backend (SpringBoot). Is this the way to go?</p>\n<p>Imagine like I'm creating my manual /login endpoint on backend on which I would then call the Keycloak server (Keycloak REST client?) and I would pass myself (as a backend) the bearer to the client.</p>\n<p>Please help me with an explanation if I'm right or wrong, what's the best practice, maybe help me with an online example, because I just found out the too easy ones.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user2858650"},"score":0,"creation_date":1676485969,"post_id":75463815,"comment_id":133148256,"body_markdown":"JavaDocs are going to be your best friend here... take a look at the documentation to see what the library is capable of (here are the docs for [Java 17](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics2D.html) but you can Google if you are using a different version of Java). I&#39;m seeing a couple methods that look promising.","body":"JavaDocs are going to be your best friend here... take a look at the documentation to see what the library is capable of (here are the docs for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics2D.html\" rel=\"nofollow noreferrer\">Java 17</a> but you can Google if you are using a different version of Java). I&#39;m seeing a couple methods that look promising."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1676487202,"post_id":75463815,"comment_id":133148617,"body_markdown":"1) Check out: https://stackoverflow.com/a/75405991/131872 for an example showing how to draw the line at different angles of rotation. 2) Next you would need to add a property to your class to set the current angle of rotation. 3) Then you will need to use a Swing Timer to schedule the animation. Every time the Timer fires you would set the new angle of rotation and then invoke repaint() on your components  Check out: https://stackoverflow.com/a/30417857/131872 for a simple example of using a Timer.","body":"1) Check out: <a href=\"https://stackoverflow.com/a/75405991/131872\">stackoverflow.com/a/75405991/131872</a> for an example showing how to draw the line at different angles of rotation. 2) Next you would need to add a property to your class to set the current angle of rotation. 3) Then you will need to use a Swing Timer to schedule the animation. Every time the Timer fires you would set the new angle of rotation and then invoke repaint() on your components  Check out: <a href=\"https://stackoverflow.com/a/30417857/131872\">stackoverflow.com/a/30417857/131872</a> for a simple example of using a Timer."}],"answers":[{"tags":[],"owner":{"account_id":25735523,"reputation":11,"user_id":21113013,"display_name":"A1iMansour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676487554,"creation_date":1676487523,"answer_id":75464334,"question_id":75463815,"body_markdown":"you can add a method that adjusts the coordinates of the hand, and this method might contain some if statement so say if the hand reached specific x it will subtract from x to go to the other direction. And then call this method inside the draw function","title":"How could I make my Snowmans arms wave using Graphics 2D?","body":"<p>you can add a method that adjusts the coordinates of the hand, and this method might contain some if statement so say if the hand reached specific x it will subtract from x to go to the other direction. And then call this method inside the draw function</p>\n"}],"owner":{"account_id":27604656,"reputation":1,"user_id":21069066,"display_name":"TeeDot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676487554,"creation_date":1676484370,"question_id":75463815,"body_markdown":"So I am currently creating a drawing that creates a Snowman, as well as some other objects in the background. I got the drawing part down, it looks just as it should, but I wanted to add a little bit of movement within it. I used Graphics2D to draw all my shapes, lines, ellipses, etc., but I&#39;m not sure how/if I can make the Snowmans arms wave back and forth with the drawLine method. \r\n\r\nI provided the code for the entire Snowman here. It&#39;s very simple, as I said it just uses Graphics2D to draw everything. The arm1 and arm2 are near the bottom.\r\n\r\n\r\n    public class Snowman {\r\n\t\tprivate int x; \r\n\t\tprivate int y;\r\n\t\tprivate int width;\r\n\t\tprivate int height;\r\n\t\t\r\n\tpublic Snowman(int x, int y, int width, int height) {\r\n\t\tthis.x=x; \r\n\t\tthis.y=y;\r\n\t\tthis.width=width;\r\n\t\tthis.height=height;\r\n\t}\r\n\tpublic void draw(Graphics g) \r\n\t{\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\t\r\n\t\t // the body of the snowman\r\n        g2.setColor(Color.WHITE);\r\n        g2.fillOval(x+125, y+40, 200, 200);\r\n        g2.fillOval(x+75, y+140, 300, 300);\r\n        g2.fillOval(x+25, y+290, 400, 400);\r\n\r\n        // the buttons\r\n        g2.setColor(Color.BLACK);\r\n        g2.fillOval(x+210, y+210, 40, 40);\r\n        g2.fillOval(x+210, y+270, 40, 40);\r\n        g2.fillOval(x+210, y+330, 40, 40);\r\n\r\n        // the eyes and mouth\r\n        g2.fillOval(x+190, y+98, 20, 20);\r\n        g2.fillOval(x+245, y+98, 20, 20);\r\n        g2.drawArc(x+180, y+120, 100, 50, 200, 140);\r\n\r\n        // arm1\r\n        g2.drawLine(x+75, y+270, x, y+90);\r\n       \r\n        //arm2\r\n        g2.drawLine(x+375, y+270, x+450, y+90);\r\n        \r\n        // the hat\r\n        g2.setColor(Color.BLACK);\r\n        g2.fillRect(x+177, y+40, 100, 30);\r\n        g2.fillRect(x+202, y, 50, 50);\r\n\r\n      }\r\n    }\r\n\r\nIs there a way I can implement something to make them move? Or would I have to draw these another way?","title":"How could I make my Snowmans arms wave using Graphics 2D?","body":"<p>So I am currently creating a drawing that creates a Snowman, as well as some other objects in the background. I got the drawing part down, it looks just as it should, but I wanted to add a little bit of movement within it. I used Graphics2D to draw all my shapes, lines, ellipses, etc., but I'm not sure how/if I can make the Snowmans arms wave back and forth with the drawLine method.</p>\n<p>I provided the code for the entire Snowman here. It's very simple, as I said it just uses Graphics2D to draw everything. The arm1 and arm2 are near the bottom.</p>\n<pre><code>public class Snowman {\n    private int x; \n    private int y;\n    private int width;\n    private int height;\n    \npublic Snowman(int x, int y, int width, int height) {\n    this.x=x; \n    this.y=y;\n    this.width=width;\n    this.height=height;\n}\npublic void draw(Graphics g) \n{\n    Graphics2D g2 = (Graphics2D) g;\n    \n     // the body of the snowman\n    g2.setColor(Color.WHITE);\n    g2.fillOval(x+125, y+40, 200, 200);\n    g2.fillOval(x+75, y+140, 300, 300);\n    g2.fillOval(x+25, y+290, 400, 400);\n\n    // the buttons\n    g2.setColor(Color.BLACK);\n    g2.fillOval(x+210, y+210, 40, 40);\n    g2.fillOval(x+210, y+270, 40, 40);\n    g2.fillOval(x+210, y+330, 40, 40);\n\n    // the eyes and mouth\n    g2.fillOval(x+190, y+98, 20, 20);\n    g2.fillOval(x+245, y+98, 20, 20);\n    g2.drawArc(x+180, y+120, 100, 50, 200, 140);\n\n    // arm1\n    g2.drawLine(x+75, y+270, x, y+90);\n   \n    //arm2\n    g2.drawLine(x+375, y+270, x+450, y+90);\n    \n    // the hat\n    g2.setColor(Color.BLACK);\n    g2.fillRect(x+177, y+40, 100, 30);\n    g2.fillRect(x+202, y, 50, 50);\n\n  }\n}\n</code></pre>\n<p>Is there a way I can implement something to make them move? Or would I have to draw these another way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"score":0,"creation_date":1639987905,"post_id":70418023,"comment_id":124479015,"body_markdown":"Note. The source code line who throws the exception is https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L244","body":"Note. The source code line who throws the exception is <a href=\"https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L244\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639988519,"creation_date":1639988519,"answer_id":70419081,"question_id":70418023,"body_markdown":"Ah, please try to search the log, it is possible a `ExceptionInInitializerError` was happened before, so this time the JVM throws `NoClassDefFoundError` directly because it was failed last time.\r\n\r\nNeed to get the call stack of the original `ExceptionInInitializerError` (if it exists) in order to fix this issue.\r\n\r\nRelated codes and links\r\n\r\n- https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L308 - the class `ProviderConfig$ProviderLoader` was defined inside OpenJDK 11 so it is not likely to a Java `classpath` issue \r\n- https://stackoverflow.com/a/5756989/2412606 - See definition of `NoClassDefFoundError` here. thanks to [@oldpeculier][1] and [@jared][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/358475/oldpeculier\r\n  [2]: https://stackoverflow.com/users/44757/jared","title":"Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader","body":"<p>Ah, please try to search the log, it is possible a <code>ExceptionInInitializerError</code> was happened before, so this time the JVM throws <code>NoClassDefFoundError</code> directly because it was failed last time.</p>\n<p>Need to get the call stack of the original <code>ExceptionInInitializerError</code> (if it exists) in order to fix this issue.</p>\n<p>Related codes and links</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L308\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L308</a> - the class <code>ProviderConfig$ProviderLoader</code> was defined inside OpenJDK 11 so it is not likely to a Java <code>classpath</code> issue</li>\n<li><a href=\"https://stackoverflow.com/a/5756989/2412606\">https://stackoverflow.com/a/5756989/2412606</a> - See definition of <code>NoClassDefFoundError</code> here. thanks to <a href=\"https://stackoverflow.com/users/358475/oldpeculier\">@oldpeculier</a> and <a href=\"https://stackoverflow.com/users/44757/jared\">@jared</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8404485,"reputation":11,"user_id":6308383,"display_name":"James Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640742935,"creation_date":1640742935,"answer_id":70514389,"question_id":70418023,"body_markdown":"For this problem not very clear why occur. in order to fix the problem. we can  manual use Security.addSecurity method to load jca or analogous component again. like BouncyCastle. now it work fine for me.","title":"Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader","body":"<p>For this problem not very clear why occur. in order to fix the problem. we can  manual use Security.addSecurity method to load jca or analogous component again. like BouncyCastle. now it work fine for me.</p>\n"},{"tags":[],"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676487522,"creation_date":1676487522,"answer_id":75464333,"question_id":70418023,"body_markdown":"I was using Java 11 and the project was build using Java 1.8. Once I switched to Java 1.8 it worked fine","title":"Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader","body":"<p>I was using Java 11 and the project was build using Java 1.8. Once I switched to Java 1.8 it worked fine</p>\n"}],"owner":{"account_id":8404485,"reputation":11,"user_id":6308383,"display_name":"James Yang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676487522,"creation_date":1639981197,"question_id":70418023,"body_markdown":"Springboot occassionally occur following errors:\r\n\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader\r\n\r\n    at java.base/sun.security.jca.ProviderConfig$3.run(ProviderConfig.java:244)\r\n\r\n    at java.base/sun.security.jca.ProviderConfig$3.run(ProviderConfig.java:238)\r\n\r\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\r\n    at java.base/sun.security.jca.ProviderConfig.doLoadProvider(ProviderConfig.java:238)\r\n\r\n    at java.base/sun.security.jca.ProviderConfig.getProvider(ProviderConfig.java:218)\r\n\r\n    at java.base/sun.security.jca.ProviderList.getProvider(ProviderList.java:266)\r\n\r\n    at java.base/sun.security.jca.ProviderList$ServiceList.tryGet(ProviderList.java:511)\r\n\r\n    at java.base/sun.security.jca.ProviderList$ServiceList$1.hasNext(ProviderList.java:565)\r\n\r\n    at java.base/javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:301)\r\n\r\n    at java.base/javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:121)\r\n\r\n    at java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:168)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:155)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)\r\n\r\nJDK information as following:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8EA35.png","title":"Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader","body":"<p>Springboot occassionally occur following errors:</p>\n<p>Caused by: java.lang.NoClassDefFoundError: Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader</p>\n<pre><code>at java.base/sun.security.jca.ProviderConfig$3.run(ProviderConfig.java:244)\n\nat java.base/sun.security.jca.ProviderConfig$3.run(ProviderConfig.java:238)\n\nat java.base/java.security.AccessController.doPrivileged(Native Method)\n\nat java.base/sun.security.jca.ProviderConfig.doLoadProvider(ProviderConfig.java:238)\n\nat java.base/sun.security.jca.ProviderConfig.getProvider(ProviderConfig.java:218)\n\nat java.base/sun.security.jca.ProviderList.getProvider(ProviderList.java:266)\n\nat java.base/sun.security.jca.ProviderList$ServiceList.tryGet(ProviderList.java:511)\n\nat java.base/sun.security.jca.ProviderList$ServiceList$1.hasNext(ProviderList.java:565)\n\nat java.base/javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:301)\n\nat java.base/javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:121)\n\nat java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:168)\n\nat com.kingbase8.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:155)\n\nat com.kingbase8.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)\n\nat com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196)\n\nat com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163)\n\nat com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)\n</code></pre>\n<p>JDK information as following:</p>\n<p><a href=\"https://i.stack.imgur.com/8EA35.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","excel","vba","pivot-table","aspose-cells"],"answers":[{"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676487484,"creation_date":1676487484,"answer_id":75464326,"question_id":75446495,"body_markdown":"You can format specific data area values in the Pivot Table via Aspose.Cells for Java. See the following example for your reference. You can apply formatting via both ways (i.e., use directly apply formatting and via pivot format condition).\r\n\r\ne.g.\r\n\r\n**Sample code:**\r\n```java \r\n        //Instantiating a Workbook object\r\n        Workbook workbook = new Workbook();\r\n\r\n        //Obtaining the reference of the newly added worksheet\r\n        int sheetIndex = workbook.getWorksheets().add();\r\n        Worksheet sheet = workbook.getWorksheets().get(sheetIndex);\r\n        Cells cells = sheet.getCells();\r\n\r\n        //Setting the value to the cells\r\n        Cell cell = cells.get(&quot;A1&quot;);\r\n        cell.setValue(&quot;Sport&quot;);\r\n        cell = cells.get(&quot;B1&quot;);\r\n        cell.setValue(&quot;Quarter&quot;);\r\n        cell = cells.get(&quot;C1&quot;);\r\n        cell.setValue(&quot;Sales&quot;);\r\n\r\n        cell = cells.get(&quot;A2&quot;);\r\n        cell.setValue(&quot;Golf&quot;);\r\n        cell = cells.get(&quot;A3&quot;);\r\n        cell.setValue(&quot;Golf&quot;);\r\n        cell = cells.get(&quot;A4&quot;);\r\n        cell.setValue(&quot;Tennis&quot;);\r\n        cell = cells.get(&quot;A5&quot;);\r\n        cell.setValue(&quot;Tennis&quot;);\r\n        cell = cells.get(&quot;A6&quot;);\r\n        cell.setValue(&quot;Tennis&quot;);\r\n        cell = cells.get(&quot;A7&quot;);\r\n        cell.setValue(&quot;Tennis&quot;);\r\n        cell = cells.get(&quot;A8&quot;);\r\n        cell.setValue(&quot;Golf&quot;);\r\n\r\n        cell = cells.get(&quot;B2&quot;);\r\n        cell.setValue(&quot;Qtr3&quot;);\r\n        cell = cells.get(&quot;B3&quot;);\r\n        cell.setValue(&quot;Qtr4&quot;);\r\n        cell = cells.get(&quot;B4&quot;);\r\n        cell.setValue(&quot;Qtr3&quot;);\r\n        cell = cells.get(&quot;B5&quot;);\r\n        cell.setValue(&quot;Qtr4&quot;);\r\n        cell = cells.get(&quot;B6&quot;);\r\n        cell.setValue(&quot;Qtr3&quot;);\r\n        cell = cells.get(&quot;B7&quot;);\r\n        cell.setValue(&quot;Qtr4&quot;);\r\n        cell = cells.get(&quot;B8&quot;);\r\n        cell.setValue(&quot;Qtr3&quot;);\r\n\r\n        cell = cells.get(&quot;C2&quot;);\r\n        cell.setValue(1500);\r\n        cell = cells.get(&quot;C3&quot;);\r\n        cell.setValue(2000);\r\n        cell = cells.get(&quot;C4&quot;);\r\n        cell.setValue(600);\r\n        cell = cells.get(&quot;C5&quot;);\r\n        cell.setValue(1500);\r\n        cell = cells.get(&quot;C6&quot;);\r\n        cell.setValue(4070);\r\n        cell = cells.get(&quot;C7&quot;);\r\n        cell.setValue(5000);\r\n        cell = cells.get(&quot;C8&quot;);\r\n        cell.setValue(6430);\r\n\r\n        PivotTableCollection pivotTables = sheet.getPivotTables();\r\n\r\n        //Adding a PivotTable to the worksheet\r\n        int index = pivotTables.add(&quot;=A1:C8&quot;, &quot;E3&quot;, &quot;PivotTable2&quot;);\r\n\r\n        //Accessing the instance of the newly added PivotTable\r\n        PivotTable pivotTable = pivotTables.get(index);\r\n\r\n        //Unshowing grand totals for rows.\r\n        pivotTable.setRowGrand(false);\r\n\r\n        //Dragging the first field to the row area.\r\n        pivotTable.addFieldToArea(PivotFieldType.ROW, 0);\r\n\r\n        //Dragging the second field to the column area.\r\n        pivotTable.addFieldToArea(PivotFieldType.COLUMN, 1);\r\n\r\n        //Dragging the third field to the data area.\r\n        pivotTable.addFieldToArea(PivotFieldType.DATA, 2);\r\n\r\n        pivotTable.refreshData();\r\n        pivotTable.calculateData();\r\n\r\n        /*\r\n        //Apply formatting to specific data area values via Pivot format condition.\r\n        PivotFormatConditionCollection pfcc = pivotTable.getPivotFormatConditions();\r\n        int pIndex = pfcc.add();\r\n        PivotFormatCondition pfc = pfcc.get(pIndex);\r\n        FormatConditionCollection fcc = pfc.getFormatConditions();\r\n        CellArea dataBodyRange = pivotTable.getDataBodyRange();\r\n        fcc.addArea(dataBodyRange);\r\n        int idx = fcc.addCondition(FormatConditionType.CELL_VALUE);\r\n        FormatCondition fc = fcc.get(idx);\r\n        fc.setFormula1(&quot;6000&quot;);\r\n        fc.setOperator(OperatorType.GREATER_OR_EQUAL);\r\n        //fc.getStyle().setBackgroundColor(com.aspose.cells.Color.getRed());\r\n        fc.getStyle().setBorder(BorderType.LEFT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n        fc.getStyle().setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n        fc.getStyle().setBorder(BorderType.RIGHT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n        fc.getStyle().setBorder(BorderType.BOTTOM_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n        */\r\n        ///*\r\n        //Apply formatting directly to specific data fields. \r\n        CellArea dataArea = pivotTable.getDataBodyRange();\r\n        for(int dataRowNum = dataArea.StartRow; dataRowNum &lt;= dataArea.EndRow;dataRowNum++){\r\n            for(int dataColNum = dataArea.StartColumn;dataColNum &lt;= dataArea.EndColumn;dataColNum++){\r\n                cell = cells.get(dataRowNum,dataColNum);\r\n                int value = cell.getIntValue();\r\n                System.out.println(value);\r\n                if (value &gt; 6000) {\r\n                Style style = cell.getStyle();\r\n                com.aspose.cells.Font font = style.getFont();\r\n                font.setColor(com.aspose.cells.Color.getBlue());\r\n                style.setBorder(BorderType.LEFT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n                style.setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n                style.setBorder(BorderType.RIGHT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n                style.setBorder(BorderType.BOTTOM_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n                pivotTable.format(dataRowNum, dataColNum, style);\r\n\r\n                }\r\n            }\r\n        }\r\n        workbook.save(&quot;f:\\\\files\\\\out1.xlsx&quot;);\r\n```\r\nYou may also post your queries in the dedicated [forum][1].\r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.\r\n\r\n\r\n  [1]: https://forum.aspose.com/c/cells/9","title":"Select specific range/scope of a pivot table to apply format on (Aspose.Cells for Java)","body":"<p>You can format specific data area values in the Pivot Table via Aspose.Cells for Java. See the following example for your reference. You can apply formatting via both ways (i.e., use directly apply formatting and via pivot format condition).</p>\n<p>e.g.</p>\n<p><strong>Sample code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>        //Instantiating a Workbook object\n        Workbook workbook = new Workbook();\n\n        //Obtaining the reference of the newly added worksheet\n        int sheetIndex = workbook.getWorksheets().add();\n        Worksheet sheet = workbook.getWorksheets().get(sheetIndex);\n        Cells cells = sheet.getCells();\n\n        //Setting the value to the cells\n        Cell cell = cells.get(&quot;A1&quot;);\n        cell.setValue(&quot;Sport&quot;);\n        cell = cells.get(&quot;B1&quot;);\n        cell.setValue(&quot;Quarter&quot;);\n        cell = cells.get(&quot;C1&quot;);\n        cell.setValue(&quot;Sales&quot;);\n\n        cell = cells.get(&quot;A2&quot;);\n        cell.setValue(&quot;Golf&quot;);\n        cell = cells.get(&quot;A3&quot;);\n        cell.setValue(&quot;Golf&quot;);\n        cell = cells.get(&quot;A4&quot;);\n        cell.setValue(&quot;Tennis&quot;);\n        cell = cells.get(&quot;A5&quot;);\n        cell.setValue(&quot;Tennis&quot;);\n        cell = cells.get(&quot;A6&quot;);\n        cell.setValue(&quot;Tennis&quot;);\n        cell = cells.get(&quot;A7&quot;);\n        cell.setValue(&quot;Tennis&quot;);\n        cell = cells.get(&quot;A8&quot;);\n        cell.setValue(&quot;Golf&quot;);\n\n        cell = cells.get(&quot;B2&quot;);\n        cell.setValue(&quot;Qtr3&quot;);\n        cell = cells.get(&quot;B3&quot;);\n        cell.setValue(&quot;Qtr4&quot;);\n        cell = cells.get(&quot;B4&quot;);\n        cell.setValue(&quot;Qtr3&quot;);\n        cell = cells.get(&quot;B5&quot;);\n        cell.setValue(&quot;Qtr4&quot;);\n        cell = cells.get(&quot;B6&quot;);\n        cell.setValue(&quot;Qtr3&quot;);\n        cell = cells.get(&quot;B7&quot;);\n        cell.setValue(&quot;Qtr4&quot;);\n        cell = cells.get(&quot;B8&quot;);\n        cell.setValue(&quot;Qtr3&quot;);\n\n        cell = cells.get(&quot;C2&quot;);\n        cell.setValue(1500);\n        cell = cells.get(&quot;C3&quot;);\n        cell.setValue(2000);\n        cell = cells.get(&quot;C4&quot;);\n        cell.setValue(600);\n        cell = cells.get(&quot;C5&quot;);\n        cell.setValue(1500);\n        cell = cells.get(&quot;C6&quot;);\n        cell.setValue(4070);\n        cell = cells.get(&quot;C7&quot;);\n        cell.setValue(5000);\n        cell = cells.get(&quot;C8&quot;);\n        cell.setValue(6430);\n\n        PivotTableCollection pivotTables = sheet.getPivotTables();\n\n        //Adding a PivotTable to the worksheet\n        int index = pivotTables.add(&quot;=A1:C8&quot;, &quot;E3&quot;, &quot;PivotTable2&quot;);\n\n        //Accessing the instance of the newly added PivotTable\n        PivotTable pivotTable = pivotTables.get(index);\n\n        //Unshowing grand totals for rows.\n        pivotTable.setRowGrand(false);\n\n        //Dragging the first field to the row area.\n        pivotTable.addFieldToArea(PivotFieldType.ROW, 0);\n\n        //Dragging the second field to the column area.\n        pivotTable.addFieldToArea(PivotFieldType.COLUMN, 1);\n\n        //Dragging the third field to the data area.\n        pivotTable.addFieldToArea(PivotFieldType.DATA, 2);\n\n        pivotTable.refreshData();\n        pivotTable.calculateData();\n\n        /*\n        //Apply formatting to specific data area values via Pivot format condition.\n        PivotFormatConditionCollection pfcc = pivotTable.getPivotFormatConditions();\n        int pIndex = pfcc.add();\n        PivotFormatCondition pfc = pfcc.get(pIndex);\n        FormatConditionCollection fcc = pfc.getFormatConditions();\n        CellArea dataBodyRange = pivotTable.getDataBodyRange();\n        fcc.addArea(dataBodyRange);\n        int idx = fcc.addCondition(FormatConditionType.CELL_VALUE);\n        FormatCondition fc = fcc.get(idx);\n        fc.setFormula1(&quot;6000&quot;);\n        fc.setOperator(OperatorType.GREATER_OR_EQUAL);\n        //fc.getStyle().setBackgroundColor(com.aspose.cells.Color.getRed());\n        fc.getStyle().setBorder(BorderType.LEFT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n        fc.getStyle().setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n        fc.getStyle().setBorder(BorderType.RIGHT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n        fc.getStyle().setBorder(BorderType.BOTTOM_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n        */\n        ///*\n        //Apply formatting directly to specific data fields. \n        CellArea dataArea = pivotTable.getDataBodyRange();\n        for(int dataRowNum = dataArea.StartRow; dataRowNum &lt;= dataArea.EndRow;dataRowNum++){\n            for(int dataColNum = dataArea.StartColumn;dataColNum &lt;= dataArea.EndColumn;dataColNum++){\n                cell = cells.get(dataRowNum,dataColNum);\n                int value = cell.getIntValue();\n                System.out.println(value);\n                if (value &gt; 6000) {\n                Style style = cell.getStyle();\n                com.aspose.cells.Font font = style.getFont();\n                font.setColor(com.aspose.cells.Color.getBlue());\n                style.setBorder(BorderType.LEFT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n                style.setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n                style.setBorder(BorderType.RIGHT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n                style.setBorder(BorderType.BOTTOM_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n                pivotTable.format(dataRowNum, dataColNum, style);\n\n                }\n            }\n        }\n        workbook.save(&quot;f:\\\\files\\\\out1.xlsx&quot;);\n</code></pre>\n<p>You may also post your queries in the dedicated <a href=\"https://forum.aspose.com/c/cells/9\" rel=\"nofollow noreferrer\">forum</a>.</p>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":23525864,"reputation":3,"user_id":17572412,"display_name":"GVA32156"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676487484,"creation_date":1676370454,"question_id":75446495,"body_markdown":"Is there an equivalent of this VBA function **PivotTable.PivotSelect** in Aspose.Cells product ?\r\nI am looking for a way to create a border on a whole selection of cells containing specific data field values, or on a specific scope as you prefer. \r\n\r\nThe VBA macro to perform this action is the following, by giving only the data field name parameter :\r\n```\r\n\r\nv_wbx.Sheets(v_SheetName).**PivotTables(v_CurrentPivotName).PivotSelect **DataFieldName**, xlDataAndLabel, True**\r\n            Selection.Borders(xlDiagonalDown).LineStyle = xlNone\r\n            Selection.Borders(xlDiagonalUp).LineStyle = xlNone\r\n            With Selection.Borders(xlEdgeLeft)\r\n                .LineStyle = xlContinuous\r\n                .Color = v_Color\r\n                .TintAndShade = 0\r\n                .Weight = v_Weight\r\n            End With\r\n            With Selection.Borders(xlEdgeTop)\r\n                .LineStyle = xlContinuous\r\n                .Color = v_Color\r\n                .TintAndShade = 0\r\n                .Weight = v_Weight\r\n            End With\r\n            With Selection.Borders(xlEdgeBottom)\r\n                .LineStyle = xlContinuous\r\n                .Color = v_Color\r\n                .TintAndShade = 0\r\n                .Weight = v_Weight\r\n            End With\r\n            With Selection.Borders(xlEdgeRight)\r\n                .LineStyle = xlContinuous\r\n                .Color = v_Color\r\n                .TintAndShade = 0\r\n                .Weight = v_Weight\r\n            End With\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIs this covered by Aspose.Cells ? I looked into documentation but haven&#39;t found any solution.\r\nI&#39;m aware that the &quot;scope&quot; selection is available with the Aspose conditional formatting, but here I want to create the border around the WHOLE selection of cells by specifying the data field name, and NOT use any Conditional Format rule. \r\nThis is done via VBA using this enum : https://learn.microsoft.com/en-us/office/vba/api/excel.xlptselectionmode and the function mentioned before.\r\n\r\nI precise I&#39;m using the trial version of the product to evaluate the range of features.\r\nPlease share your positive or negative feedback on this topic, thank you","title":"Select specific range/scope of a pivot table to apply format on (Aspose.Cells for Java)","body":"<p>Is there an equivalent of this VBA function <strong>PivotTable.PivotSelect</strong> in Aspose.Cells product ?\nI am looking for a way to create a border on a whole selection of cells containing specific data field values, or on a specific scope as you prefer.</p>\n<p>The VBA macro to perform this action is the following, by giving only the data field name parameter :</p>\n<pre><code>\nv_wbx.Sheets(v_SheetName).**PivotTables(v_CurrentPivotName).PivotSelect **DataFieldName**, xlDataAndLabel, True**\n            Selection.Borders(xlDiagonalDown).LineStyle = xlNone\n            Selection.Borders(xlDiagonalUp).LineStyle = xlNone\n            With Selection.Borders(xlEdgeLeft)\n                .LineStyle = xlContinuous\n                .Color = v_Color\n                .TintAndShade = 0\n                .Weight = v_Weight\n            End With\n            With Selection.Borders(xlEdgeTop)\n                .LineStyle = xlContinuous\n                .Color = v_Color\n                .TintAndShade = 0\n                .Weight = v_Weight\n            End With\n            With Selection.Borders(xlEdgeBottom)\n                .LineStyle = xlContinuous\n                .Color = v_Color\n                .TintAndShade = 0\n                .Weight = v_Weight\n            End With\n            With Selection.Borders(xlEdgeRight)\n                .LineStyle = xlContinuous\n                .Color = v_Color\n                .TintAndShade = 0\n                .Weight = v_Weight\n            End With\n</code></pre>\n<p>Is this covered by Aspose.Cells ? I looked into documentation but haven't found any solution.\nI'm aware that the &quot;scope&quot; selection is available with the Aspose conditional formatting, but here I want to create the border around the WHOLE selection of cells by specifying the data field name, and NOT use any Conditional Format rule.\nThis is done via VBA using this enum : <a href=\"https://learn.microsoft.com/en-us/office/vba/api/excel.xlptselectionmode\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/office/vba/api/excel.xlptselectionmode</a> and the function mentioned before.</p>\n<p>I precise I'm using the trial version of the product to evaluate the range of features.\nPlease share your positive or negative feedback on this topic, thank you</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-datastore","objectify"],"comments":[{"owner":{"account_id":25423833,"reputation":1324,"user_id":19229284,"display_name":"Chanpols"},"score":0,"creation_date":1676480969,"post_id":75429761,"comment_id":133146845,"body_markdown":"This might be related to your concern: [Google cloud datastore slow (&gt;800ms) with simple query from compute engine](https://stackoverflow.com/questions/40454958/google-cloud-datastore-slow-800ms-with-simple-query-from-compute-engine/40684933#40684933) and [Google Cloud - Datastore is too slow compared to local machine](https://stackoverflow.com/questions/60077218/google-cloud-datastore-is-too-slow-compared-to-local-machine).","body":"This might be related to your concern: <a href=\"https://stackoverflow.com/questions/40454958/google-cloud-datastore-slow-800ms-with-simple-query-from-compute-engine/40684933#40684933\">Google cloud datastore slow (&gt;800ms) with simple query from compute engine</a> and <a href=\"https://stackoverflow.com/questions/60077218/google-cloud-datastore-is-too-slow-compared-to-local-machine\">Google Cloud - Datastore is too slow compared to local machine</a>."},{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":1,"creation_date":1676487297,"post_id":75429761,"comment_id":133148653,"body_markdown":"@ChristianPaulAndaya : thanks for your comments, but it seems to be the VPN that is crippling my local desktop performance. I disconnected from that, and we&#39;re back to a very quick response time again. ( That&#39;s two days of research and a couple of sleepless nights I&#39;m not getting back! )","body":"@ChristianPaulAndaya : thanks for your comments, but it seems to be the VPN that is crippling my local desktop performance. I disconnected from that, and we&#39;re back to a very quick response time again. ( That&#39;s two days of research and a couple of sleepless nights I&#39;m not getting back! )"}],"answers":[{"tags":[],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676487141,"creation_date":1676487141,"answer_id":75464272,"question_id":75429761,"body_markdown":"I&#39;m leaving this here in case another poor soul comes along ....\r\n\r\nIt seems the problem was my NordLayer VPN\r\n\r\nLog out of that and the response time falls to 68 milliseconds!","title":"GAE Datastore - Objectify Read Performance","body":"<p>I'm leaving this here in case another poor soul comes along ....</p>\n<p>It seems the problem was my NordLayer VPN</p>\n<p>Log out of that and the response time falls to 68 milliseconds!</p>\n"}],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676487141,"creation_date":1676231429,"question_id":75429761,"body_markdown":"I&#39;m more used to SQL databases than Google DataStore, but I&#39;m finding that my read performance is much slower than I expected. I just want to check if either I&#39;ve structured my data incorrectly, or if my performance expectations are unreasonable.\r\n\r\nI have a DataStore entity called assessment, and on that entity I have added a property Client. This is modelling a master-detail relationship where client is the master and assessment is the detail.\r\n\r\nIn the GCP console, my entity looks like this : [![enter image description here][1]][1]\r\n\r\nThere are 112 occurrences of this entity, and to query this entity by client takes just under 3 seconds.\r\n\r\nI use Objectify to retrieve the data, with the following statement :\r\n\r\n    List&lt;Assessment&gt; assessments = ofy().load()\r\n                                     .type(Assessment.class)\r\n                                     .filter(&quot;client = &quot;, Key.create(Client.class, clientId))\r\n                                     .list();\r\n\r\n\r\nComing from an SQL background, 3 seconds to read from 112 a row table via an index seems unreasonably slow to me. Are my expectations of DataStore wrong, or am I doing something stupid in either the way I&#39;ve chosen to store the data, or the way that I&#39;m reading it?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y9Fbj.png","title":"GAE Datastore - Objectify Read Performance","body":"<p>I'm more used to SQL databases than Google DataStore, but I'm finding that my read performance is much slower than I expected. I just want to check if either I've structured my data incorrectly, or if my performance expectations are unreasonable.</p>\n<p>I have a DataStore entity called assessment, and on that entity I have added a property Client. This is modelling a master-detail relationship where client is the master and assessment is the detail.</p>\n<p>In the GCP console, my entity looks like this : <a href=\"https://i.stack.imgur.com/Y9Fbj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9Fbj.png\" alt=\"enter image description here\" /></a></p>\n<p>There are 112 occurrences of this entity, and to query this entity by client takes just under 3 seconds.</p>\n<p>I use Objectify to retrieve the data, with the following statement :</p>\n<pre><code>List&lt;Assessment&gt; assessments = ofy().load()\n                                 .type(Assessment.class)\n                                 .filter(&quot;client = &quot;, Key.create(Client.class, clientId))\n                                 .list();\n</code></pre>\n<p>Coming from an SQL background, 3 seconds to read from 112 a row table via an index seems unreasonably slow to me. Are my expectations of DataStore wrong, or am I doing something stupid in either the way I've chosen to store the data, or the way that I'm reading it?</p>\n"},{"tags":["java","maven","opensearch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669131050,"post_id":74535047,"comment_id":131571483,"body_markdown":"What makes you think that there is a 3.0.0-SNAPSHOT version? Looking at the project there is a 0.1.0 version.","body":"What makes you think that there is a 3.0.0-SNAPSHOT version? Looking at the project there is a 0.1.0 version."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1669131294,"post_id":74535047,"comment_id":131571588,"body_markdown":"As per [this issue on their tracker](https://github.com/opensearch-project/spring-data-opensearch/issues/61), they have not published the library anywhere yet. So the readme is just misleading crap. You can build from source or wait","body":"As per <a href=\"https://github.com/opensearch-project/spring-data-opensearch/issues/61\" rel=\"nofollow noreferrer\">this issue on their tracker</a>, they have not published the library anywhere yet. So the readme is just misleading crap. You can build from source or wait"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669133904,"post_id":74535047,"comment_id":131572667,"body_markdown":"Building from source seemed to be the only option at the moment...","body":"Building from source seemed to be the only option at the moment..."},{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1669146702,"post_id":74535047,"comment_id":131577029,"body_markdown":"Thanks a lot for answers. Can you please say how to build it add to my java maven app?","body":"Thanks a lot for answers. Can you please say how to build it add to my java maven app?"}],"answers":[{"tags":[],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676487014,"creation_date":1676487014,"answer_id":75464240,"question_id":74535047,"body_markdown":"`spring-data-opensearch` 1.0.0 is [released][1].\r\n\r\nQuoting from the [README][2]\r\n\r\n&gt; At the moment, Spring Data OpenSearch provides the possibility to use\r\n&gt; the RestHighLevelCLient to connect to OpenSearch clusters.\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;     \t&lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n&gt;     \t&lt;artifactId&gt;spring-data-opensearch&lt;/artifactId&gt;\r\n&gt;     \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt; \r\n&gt; To use Spring Boot 3.x auto configuration support:\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;     \t&lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n&gt;     \t&lt;artifactId&gt;spring-data-opensearch-starter&lt;/artifactId&gt;\r\n&gt;     \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt; \r\n&gt; To use Spring Boot 3.x auto configuration support for testing:\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;     \t&lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n&gt;     \t&lt;artifactId&gt;spring-data-opensearch-test-autoconfigure&lt;/artifactId&gt;\r\n&gt;     \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n&gt;     \t&lt;scope&gt;test&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://central.sonatype.com/artifact/org.opensearch.client/spring-data-opensearch/1.0.0\r\n  [2]: https://github.com/opensearch-project/spring-data-opensearch#opensearch-2x--1x-client-libraries","title":"How to add spring data opensearch to java maven project","body":"<p><code>spring-data-opensearch</code> 1.0.0 is <a href=\"https://central.sonatype.com/artifact/org.opensearch.client/spring-data-opensearch/1.0.0\" rel=\"nofollow noreferrer\">released</a>.</p>\n<p>Quoting from the <a href=\"https://github.com/opensearch-project/spring-data-opensearch#opensearch-2x--1x-client-libraries\" rel=\"nofollow noreferrer\">README</a></p>\n<blockquote>\n<p>At the moment, Spring Data OpenSearch provides the possibility to use\nthe RestHighLevelCLient to connect to OpenSearch clusters.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-opensearch&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To use Spring Boot 3.x auto configuration support:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-opensearch-starter&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To use Spring Boot 3.x auto configuration support for testing:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-opensearch-test-autoconfigure&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2000,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75464240,"answer_count":1,"score":0,"last_activity_date":1676487014,"creation_date":1669130584,"question_id":74535047,"body_markdown":"I want to add this library https://github.com/opensearch-project/spring-data-opensearch to my project\r\n\r\nI added dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-opensearch&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd add repo:\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;opensearch-libs-snapshot&lt;/id&gt;\r\n            &lt;name&gt;AWS Snapshot Repository&lt;/name&gt;\r\n            &lt;url&gt;https://aws.oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nI see this error:\r\n\r\n    Failure to find org.opensearch.client:spring-data-opensearch:jar:3.0.0-SNAPSHOT in https://aws.oss.sonatype.org/content/repositories/snapshots/ was cached in the local repository, resolution will not be reattempted until the update interval of opensearch-libs-snapshot has elapsed or updates are forced","title":"How to add spring data opensearch to java maven project","body":"<p>I want to add this library <a href=\"https://github.com/opensearch-project/spring-data-opensearch\" rel=\"nofollow noreferrer\">https://github.com/opensearch-project/spring-data-opensearch</a> to my project</p>\n<p>I added dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-opensearch&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And add repo:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;opensearch-libs-snapshot&lt;/id&gt;\n        &lt;name&gt;AWS Snapshot Repository&lt;/name&gt;\n        &lt;url&gt;https://aws.oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>I see this error:</p>\n<pre><code>Failure to find org.opensearch.client:spring-data-opensearch:jar:3.0.0-SNAPSHOT in https://aws.oss.sonatype.org/content/repositories/snapshots/ was cached in the local repository, resolution will not be reattempted until the update interval of opensearch-libs-snapshot has elapsed or updates are forced\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676487084,"post_id":75464166,"comment_id":133148579,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27795436,"reputation":1,"user_id":21221057,"display_name":"Kashif Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676486576,"creation_date":1676486576,"question_id":75464166,"body_markdown":"I am having a issue with recyclerview which is whenever i load app it run accurately as i fetching data from \r\ndatabase by using room library but whenever i close my application and re-open it then previous added items automatically removed and not showing in recyclerview\r\nHow to solve it please ?\r\n\r\nResult is good but previous items are removed when i reopen app","title":"Recyclerview is not showing previous added items when application reopen or even change activity","body":"<p>I am having a issue with recyclerview which is whenever i load app it run accurately as i fetching data from\ndatabase by using room library but whenever i close my application and re-open it then previous added items automatically removed and not showing in recyclerview\nHow to solve it please ?</p>\n<p>Result is good but previous items are removed when i reopen app</p>\n"},{"tags":["java","spring","spring-boot","tomcat10","embedded-tomcat"],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1676486370,"creation_date":1676486370,"answer_id":75464137,"question_id":75460562,"body_markdown":"You can create a `WebServerFactoryCustomer` as shown in the [Spring Boot documentation][1]. \r\n\r\nFor your use case, that would look something like this: \r\n\r\n```\r\n\t@Component\r\n\tpublic class TomcatCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic void customize(TomcatServletWebServerFactory server) {\r\n\t\t\tserver.addConnectorCustomizers((connector) -&gt; {\r\n\t\t\t\tProtocolHandler handler = connector.getProtocolHandler();\r\n\t\t\t\tif (handler instanceof AbstractHttp11Protocol&lt;?&gt; protocol) {\r\n\t\t\t\t\tprotocol.setMaxHttpResponseHeaderSize(x);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\nSpring Boot 3.1.0 will introduce a property `server.tomcat.maxHttpResponseHeaderSize` to make this easier to configure. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.customizing.programmatic","title":"how to set maxHttpHeaderSize in spring-boot 3.x","body":"<p>You can create a <code>WebServerFactoryCustomer</code> as shown in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.customizing.programmatic\" rel=\"noreferrer\">Spring Boot documentation</a>.</p>\n<p>For your use case, that would look something like this:</p>\n<pre><code>    @Component\n    public class TomcatCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n        @Override\n        public void customize(TomcatServletWebServerFactory server) {\n            server.addConnectorCustomizers((connector) -&gt; {\n                ProtocolHandler handler = connector.getProtocolHandler();\n                if (handler instanceof AbstractHttp11Protocol&lt;?&gt; protocol) {\n                    protocol.setMaxHttpResponseHeaderSize(x);\n                }\n            });\n        }\n\n    }\n</code></pre>\n<p>Spring Boot 3.1.0 will introduce a property <code>server.tomcat.maxHttpResponseHeaderSize</code> to make this easier to configure.</p>\n"}],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5575,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75464137,"answer_count":1,"score":5,"last_activity_date":1676486370,"creation_date":1676467977,"question_id":75460562,"body_markdown":"As stated in the [Spring Boot 3 Migration Guide][1] the **server.max-http-header-size** property has been deprecated. You can use the **server.max-http-request-header-size** property to set the max http request header size **only**. \r\n\r\nI get the following Exception:\r\n\r\n    org.apache.coyote.http11.HeadersTooLargeException: An attempt was made to write \r\n    more data to the response headers than there was room available in the buffer. \r\n    Increase maxHttpHeaderSize on the connector \r\n    or write less data into the response headers.\r\n\r\n\r\nI need to increase the max http response header size in an embedded Tomcat 10. [Tomcat 10][2] supports both the **maxHttpHeaderSize** and the **maxHttpResponseHeaderSize** attributes. \r\n\r\nHow I can set these in spring boot 3.x with a `WebServerFactoryCustomizer`?\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\r\n  [2]: https://tomcat.apache.org/tomcat-10.0-doc/config/http.html","title":"how to set maxHttpHeaderSize in spring-boot 3.x","body":"<p>As stated in the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"noreferrer\">Spring Boot 3 Migration Guide</a> the <strong>server.max-http-header-size</strong> property has been deprecated. You can use the <strong>server.max-http-request-header-size</strong> property to set the max http request header size <strong>only</strong>.</p>\n<p>I get the following Exception:</p>\n<pre><code>org.apache.coyote.http11.HeadersTooLargeException: An attempt was made to write \nmore data to the response headers than there was room available in the buffer. \nIncrease maxHttpHeaderSize on the connector \nor write less data into the response headers.\n</code></pre>\n<p>I need to increase the max http response header size in an embedded Tomcat 10. <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/http.html\" rel=\"noreferrer\">Tomcat 10</a> supports both the <strong>maxHttpHeaderSize</strong> and the <strong>maxHttpResponseHeaderSize</strong> attributes.</p>\n<p>How I can set these in spring boot 3.x with a <code>WebServerFactoryCustomizer</code>?</p>\n"},{"tags":["java","rest","jersey","jersey-2.0","jersey-client"],"answers":[{"tags":[],"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676485849,"creation_date":1676485849,"answer_id":75464064,"question_id":75463668,"body_markdown":"It appears that the problem was how the `HttpAuthenticationFeature` was constructed.  Adding `.nonPreemptive()` caused a two-part request, where the BASIC auth header was only sent when it failed with a 401 on the first attempt.  Although removing this fixed the request issue, leaving it in place should have worked, too, as the second attempt succeeded in the single request.  Perhaps this is a bug with Jersey client.\r\n\r\nOld:\r\n```java\r\nHttpAuthenticationFeature.basicBuilder().nonPreemptive().credentials(username, password).build();\r\n```\r\n\r\nNew:\r\n```java\r\nHttpAuthenticationFeature.basicBuilder().credentials(username, password).build();\r\n```\r\n\r\nSauce: https://web.archive.org/web/20230204034859/https://howtodoinjava.com/jersey/jersey-rest-client-authentication/","title":"Jersey client &quot;pre-flight&quot; 401s on BASIC auth GET request","body":"<p>It appears that the problem was how the <code>HttpAuthenticationFeature</code> was constructed.  Adding <code>.nonPreemptive()</code> caused a two-part request, where the BASIC auth header was only sent when it failed with a 401 on the first attempt.  Although removing this fixed the request issue, leaving it in place should have worked, too, as the second attempt succeeded in the single request.  Perhaps this is a bug with Jersey client.</p>\n<p>Old:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpAuthenticationFeature.basicBuilder().nonPreemptive().credentials(username, password).build();\n</code></pre>\n<p>New:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpAuthenticationFeature.basicBuilder().credentials(username, password).build();\n</code></pre>\n<p>Sauce: <a href=\"https://web.archive.org/web/20230204034859/https://howtodoinjava.com/jersey/jersey-rest-client-authentication/\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20230204034859/https://howtodoinjava.com/jersey/jersey-rest-client-authentication/</a></p>\n"}],"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676485849,"creation_date":1676483476,"question_id":75463668,"body_markdown":"Perhaps someone here has run into this working with Payara 5.2022.3 and/or Payara 4/Jersey-2.25.1. \r\n\r\nI&#39;ve got a REST endpoint protected with BASIC auth.  This was working, and then it stopped.  I&#39;m not sure what happened here, as the code didn&#39;t change.  Perhaps a system update to Java?\r\n\r\nIt looks like there is a pre-flight that&#39;s not sending the BASIC auth header.  If I run the same request with `curl`, it works fine.  So, this is a Jersey client issue.\r\n\r\nThe following code is a slimmed down version, for brevity, just to give you an idea of what I&#39;m going:\r\n\r\nServer code:\r\n```java\r\n@BasicAuthenticationMechanismDefinition(\r\n        realmName = &quot;appSearch&quot;\r\n)\r\n@DatabaseIdentityStoreDefinition(\r\n        dataSourceLookup = &quot;jdbc/MyDB&quot;,\r\n        callerQuery = &quot;select passhash from User where username = ?&quot;,\r\n        groupsQuery = &quot;select groupname from Group where username = ?&quot;,\r\n        hashAlgorithm = javax.security.enterprise.identitystore.Pbkdf2PasswordHash.class,\r\n        priority = 30)\r\n@DeclareRoles({&quot;SOME_GROUP&quot;})\r\n@Singleton\r\n@Startup\r\npublic class ApplicationSettingsBean implements ApplicationSettingsBeanLocal {\r\n\r\n```\r\n\r\n```java\r\n\r\n@RolesAllowed({&quot;SOME_GROUP&quot;})\r\n@Path(&quot;search&quot;)\r\npublic class SearchRequestFacade {\r\n\r\n    @GET\r\n    @Path(&quot;file-number/{uuid: [a-zA-F0-9]{8}-([a-zA-F0-9]{4}-){3}[a-zA-F0-9]{12}}&quot;)\r\n    @Produces({MediaType.TEXT_PLAIN})\r\n    public Response request(\r\n            @PathParam(&quot;uuid&quot;) String uuid\r\n    ) {\r\n        return Response.ok(search.fileNumber(uuid)).build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nJersey Client (from Payara 4 application):\r\n```java\r\nClientConfig clientConfig = new ClientConfig();\r\nclientConfig.register(GsonProvider.GsonFeature.class);\r\nclientConfig.property(&quot;jersey.config.server.disableMoxyJson&quot;, Boolean.TRUE);\r\nclientConfig.property(&quot;jersey.config.client.disableMoxyJson&quot;, Boolean.TRUE);\r\nclientConfig.property(&quot;com.sun.jersey.api.json.POJOMappingFeature&quot;, Boolean.TRUE);\r\n\r\nclientConfig.register(HttpAuthenticationFeature.basicBuilder().nonPreemptive().credentials(username, password).build());\r\n           \r\nclientConfig.register(new LoggingFeature(Logger.getLogger(getClass().getName()), Level.INFO, null, null));\r\n\r\nclientConfig.register(MultiPartFeature.class);\r\nint timeout = Math.toIntExact(TimeUnit.SECONDS.toMillis(10));\r\nclientConfig.property(&quot;jersey.config.client.connectTimeout&quot;, timeout);\r\nclientConfig.property(&quot;jersey.config.client.readTimeout&quot;, timeout);\r\nClient client = ClientBuilder.newClient(clientConfig);\r\nWebTarget webTarget = client.target(url).path(urlPath);\r\n\r\nInvocation.Builder invocationBuilder = webTarget.request(MediaType.TEXT_PLAIN_TYPE);\r\nResponse response = invocationBuilder.get();\r\n\r\nString fileNumber = response.readEntity(String.class)\r\n            \r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nJersey Client logging (notice the two requests/responses that occur as part of my single GET request - first one fails, second one succeeds.  This leads me to believe it&#39;s a pre-flight happening with Jersey client, but not with curl):\r\n```\r\nINFO:   1 * Sending client request on thread http-thread-pool::http-listener-1(2)\r\n1 &gt; GET http://127.0.0.1:8080/app/api/v1/search/file-number/0c6c437e-e459-43d3-a8e6-942e128f2b80\r\n1 &gt; Accept: text/plain\r\n\r\nINFO:   1 * Client response received on thread http-thread-pool::http-listener-1(2)\r\n1 &lt; 401\r\n1 &lt; Content-Language: \r\n1 &lt; Content-Length: 1076\r\n1 &lt; Content-Type: text/html\r\n1 &lt; Server: Payara Server  5.2022.3 #badassfish\r\n1 &lt; WWW-Authenticate: Basic realm=&quot;appSearch&quot;\r\n1 &lt; X-Frame-Options: SAMEORIGIN\r\n1 &lt; X-Powered-By: Servlet/4.0 JSP/2.3 (Payara Server  5.2022.3 #badassfish Java/Ubuntu/11)\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;title&gt;Payara Server  5.2022.3 #badassfish - Error report&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;&lt;!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}HR {color : #525D76;}--&gt;&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 401 - Unauthorized&lt;/h1&gt;&lt;hr/&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Status report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt;Unauthorized&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt;This request requires HTTP authentication.&lt;/p&gt;&lt;hr/&gt;&lt;h3&gt;Payara Server  5.2022.3 #badassfish&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\nINFO:   2 * Sending client request on thread http-thread-pool::http-listener-1(2)\r\n2 &gt; GET http://127.0.0.1:8080/app/api/v1/search/file-number/0c6c437e-e459-43d3-a8e6-942e128f2b80\r\n2 &gt; Accept: text/plain\r\n2 &gt; Authorization: Basic SOMEBASE64USERPASS\r\n2 &gt; User-Agent: Jersey/2.25.1 (HttpUrlConnection 1.8.0_352)\r\n\r\nINFO:   2 * Client response received on thread http-thread-pool::http-listener-1(2)\r\n2 &lt; 200\r\n2 &lt; Content-Length: 0\r\n2 &lt; Content-Type: text/plain\r\n2 &lt; Server: Payara Server  5.2022.3 #badassfish\r\n2 &lt; X-Frame-Options: SAMEORIGIN\r\n2 &lt; X-Powered-By: Servlet/4.0 JSP/2.3 (Payara Server  5.2022.3 #badassfish Java/Ubuntu/11)\r\n1234567890\r\n```\r\n\r\nUsing curl:\r\n```\r\n$ curl -k --ssl --basic -i http://127.0.0.1:8080/app/api/v1/search/file-number/FD36C98C-6A37-47FA-BBDD-3388CB79010B?user-id=test -u username:password\r\nHTTP/1.1 200 OK\r\nServer: Payara Server  5.2022.3 #badassfish\r\nX-Powered-By: Servlet/4.0 JSP/2.3 (Payara Server  5.2022.3 #badassfish Java/Ubuntu/11)\r\nContent-Type: text/plain\r\nContent-Length: 0\r\nX-Frame-Options: SAMEORIGIN\r\n1234567890\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KlxAw.png","title":"Jersey client &quot;pre-flight&quot; 401s on BASIC auth GET request","body":"<p>Perhaps someone here has run into this working with Payara 5.2022.3 and/or Payara 4/Jersey-2.25.1.</p>\n<p>I've got a REST endpoint protected with BASIC auth.  This was working, and then it stopped.  I'm not sure what happened here, as the code didn't change.  Perhaps a system update to Java?</p>\n<p>It looks like there is a pre-flight that's not sending the BASIC auth header.  If I run the same request with <code>curl</code>, it works fine.  So, this is a Jersey client issue.</p>\n<p>The following code is a slimmed down version, for brevity, just to give you an idea of what I'm going:</p>\n<p>Server code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BasicAuthenticationMechanismDefinition(\n        realmName = &quot;appSearch&quot;\n)\n@DatabaseIdentityStoreDefinition(\n        dataSourceLookup = &quot;jdbc/MyDB&quot;,\n        callerQuery = &quot;select passhash from User where username = ?&quot;,\n        groupsQuery = &quot;select groupname from Group where username = ?&quot;,\n        hashAlgorithm = javax.security.enterprise.identitystore.Pbkdf2PasswordHash.class,\n        priority = 30)\n@DeclareRoles({&quot;SOME_GROUP&quot;})\n@Singleton\n@Startup\npublic class ApplicationSettingsBean implements ApplicationSettingsBeanLocal {\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RolesAllowed({&quot;SOME_GROUP&quot;})\n@Path(&quot;search&quot;)\npublic class SearchRequestFacade {\n\n    @GET\n    @Path(&quot;file-number/{uuid: [a-zA-F0-9]{8}-([a-zA-F0-9]{4}-){3}[a-zA-F0-9]{12}}&quot;)\n    @Produces({MediaType.TEXT_PLAIN})\n    public Response request(\n            @PathParam(&quot;uuid&quot;) String uuid\n    ) {\n        return Response.ok(search.fileNumber(uuid)).build();\n    }\n\n}\n</code></pre>\n<p>Jersey Client (from Payara 4 application):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClientConfig clientConfig = new ClientConfig();\nclientConfig.register(GsonProvider.GsonFeature.class);\nclientConfig.property(&quot;jersey.config.server.disableMoxyJson&quot;, Boolean.TRUE);\nclientConfig.property(&quot;jersey.config.client.disableMoxyJson&quot;, Boolean.TRUE);\nclientConfig.property(&quot;com.sun.jersey.api.json.POJOMappingFeature&quot;, Boolean.TRUE);\n\nclientConfig.register(HttpAuthenticationFeature.basicBuilder().nonPreemptive().credentials(username, password).build());\n           \nclientConfig.register(new LoggingFeature(Logger.getLogger(getClass().getName()), Level.INFO, null, null));\n\nclientConfig.register(MultiPartFeature.class);\nint timeout = Math.toIntExact(TimeUnit.SECONDS.toMillis(10));\nclientConfig.property(&quot;jersey.config.client.connectTimeout&quot;, timeout);\nclientConfig.property(&quot;jersey.config.client.readTimeout&quot;, timeout);\nClient client = ClientBuilder.newClient(clientConfig);\nWebTarget webTarget = client.target(url).path(urlPath);\n\nInvocation.Builder invocationBuilder = webTarget.request(MediaType.TEXT_PLAIN_TYPE);\nResponse response = invocationBuilder.get();\n\nString fileNumber = response.readEntity(String.class)\n            \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KlxAw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KlxAw.png\" alt=\"enter image description here\" /></a></p>\n<p>Jersey Client logging (notice the two requests/responses that occur as part of my single GET request - first one fails, second one succeeds.  This leads me to believe it's a pre-flight happening with Jersey client, but not with curl):</p>\n<pre><code>INFO:   1 * Sending client request on thread http-thread-pool::http-listener-1(2)\n1 &gt; GET http://127.0.0.1:8080/app/api/v1/search/file-number/0c6c437e-e459-43d3-a8e6-942e128f2b80\n1 &gt; Accept: text/plain\n\nINFO:   1 * Client response received on thread http-thread-pool::http-listener-1(2)\n1 &lt; 401\n1 &lt; Content-Language: \n1 &lt; Content-Length: 1076\n1 &lt; Content-Type: text/html\n1 &lt; Server: Payara Server  5.2022.3 #badassfish\n1 &lt; WWW-Authenticate: Basic realm=&quot;appSearch&quot;\n1 &lt; X-Frame-Options: SAMEORIGIN\n1 &lt; X-Powered-By: Servlet/4.0 JSP/2.3 (Payara Server  5.2022.3 #badassfish Java/Ubuntu/11)\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;title&gt;Payara Server  5.2022.3 #badassfish - Error report&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;&lt;!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}HR {color : #525D76;}--&gt;&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 401 - Unauthorized&lt;/h1&gt;&lt;hr/&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Status report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt;Unauthorized&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt;This request requires HTTP authentication.&lt;/p&gt;&lt;hr/&gt;&lt;h3&gt;Payara Server  5.2022.3 #badassfish&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;\n\nINFO:   2 * Sending client request on thread http-thread-pool::http-listener-1(2)\n2 &gt; GET http://127.0.0.1:8080/app/api/v1/search/file-number/0c6c437e-e459-43d3-a8e6-942e128f2b80\n2 &gt; Accept: text/plain\n2 &gt; Authorization: Basic SOMEBASE64USERPASS\n2 &gt; User-Agent: Jersey/2.25.1 (HttpUrlConnection 1.8.0_352)\n\nINFO:   2 * Client response received on thread http-thread-pool::http-listener-1(2)\n2 &lt; 200\n2 &lt; Content-Length: 0\n2 &lt; Content-Type: text/plain\n2 &lt; Server: Payara Server  5.2022.3 #badassfish\n2 &lt; X-Frame-Options: SAMEORIGIN\n2 &lt; X-Powered-By: Servlet/4.0 JSP/2.3 (Payara Server  5.2022.3 #badassfish Java/Ubuntu/11)\n1234567890\n</code></pre>\n<p>Using curl:</p>\n<pre><code>$ curl -k --ssl --basic -i http://127.0.0.1:8080/app/api/v1/search/file-number/FD36C98C-6A37-47FA-BBDD-3388CB79010B?user-id=test -u username:password\nHTTP/1.1 200 OK\nServer: Payara Server  5.2022.3 #badassfish\nX-Powered-By: Servlet/4.0 JSP/2.3 (Payara Server  5.2022.3 #badassfish Java/Ubuntu/11)\nContent-Type: text/plain\nContent-Length: 0\nX-Frame-Options: SAMEORIGIN\n1234567890\n</code></pre>\n"},{"tags":["java","multithreading","tomcat","interrupt"],"owner":{"account_id":13538059,"reputation":1,"user_id":9766601,"display_name":"Nobita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676485453,"creation_date":1676484932,"question_id":75463908,"body_markdown":"i was trying to understand what happens when a tomcat request thread is interrupted.\r\nSo let&#39;s say client sends a request to my tomcat server and some blocking operation(like future.get()), wrapped inside try-catch, throws an InterruptedException which is catched in the catch block. Inside catch block the interrupt flag is set(using Thread.currentThread().interrupt()) and a runtimeException is thrown.\r\nAfter this the request is completed, which throws this runtimeException to the client. Now my question is when some other request is scheduled on same thread will the interrupt flag still remain true? or tomcat resets the flag after every request is processed? \r\n\r\nActually when I added Thread.currentThread.interrupt() after catching interruptedException in my API, unit tests started failing. Reason being testNg reuses same thread across multiple tests without resetting the interrupt flag which some how is causing the test failure. Not exactly sure why... So wanted to know how tomcat handles interrupt status and why keeping interrupt flag set is causing test failure","title":"What happens when a tomcat server&#39;s request thread interrupt flag is set","body":"<p>i was trying to understand what happens when a tomcat request thread is interrupted.\nSo let's say client sends a request to my tomcat server and some blocking operation(like future.get()), wrapped inside try-catch, throws an InterruptedException which is catched in the catch block. Inside catch block the interrupt flag is set(using Thread.currentThread().interrupt()) and a runtimeException is thrown.\nAfter this the request is completed, which throws this runtimeException to the client. Now my question is when some other request is scheduled on same thread will the interrupt flag still remain true? or tomcat resets the flag after every request is processed?</p>\n<p>Actually when I added Thread.currentThread.interrupt() after catching interruptedException in my API, unit tests started failing. Reason being testNg reuses same thread across multiple tests without resetting the interrupt flag which some how is causing the test failure. Not exactly sure why... So wanted to know how tomcat handles interrupt status and why keeping interrupt flag set is causing test failure</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1484218656,"post_id":41611228,"comment_id":70424047,"body_markdown":"That is the context you are in. the main methods is a static methods meaning there is no instance of `Flavor1Demo`. If you set `d` as non-static, it will only exist in an instance of `Flavor1Demo` so it can&#39;t be access from the `main` unless you build a instance first (new `Flavor1Demo().d.show();`","body":"That is the context you are in. the main methods is a static methods meaning there is no instance of <code>Flavor1Demo</code>. If you set <code>d</code> as non-static, it will only exist in an instance of <code>Flavor1Demo</code> so it can&#39;t be access from the <code>main</code> unless you build a instance first (new <code>Flavor1Demo().d.show();</code>"},{"owner":{"account_id":8597860,"reputation":2575,"user_id":6440372,"display_name":"Ashish Kamble"},"score":0,"creation_date":1582610870,"post_id":41611228,"comment_id":106826739,"body_markdown":"How you directly access to d, it must be Flavor1Demo.d","body":"How you directly access to d, it must be Flavor1Demo.d"}],"answers":[{"tags":[],"owner":{"account_id":5610323,"reputation":35021,"user_id":4443323,"accept_rate":74,"display_name":"Tomasz Mularczyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484218431,"creation_date":1484218431,"answer_id":41611300,"question_id":41611228,"body_markdown":"Thats because you try to use `d` that belongs to object in static method.\r\n\r\n\r\nYou would then have to create that object in main method.\r\n\r\nstatic belongs to class, not object itself.\r\n\r\n\r\nhttps://stackoverflow.com/questions/3903537/i-want-to-know-the-difference-between-static-method-and-non-static-method","title":"What is the purpose of creating static object in Java?","body":"<p>Thats because you try to use <code>d</code> that belongs to object in static method.</p>\n\n<p>You would then have to create that object in main method.</p>\n\n<p>static belongs to class, not object itself.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3903537/i-want-to-know-the-difference-between-static-method-and-non-static-method\">I want to know the difference between static method and non-static method</a></p>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484218759,"creation_date":1484218759,"answer_id":41611416,"question_id":41611228,"body_markdown":"That depends on the context you are in. \r\n\r\nThe `main(String[])` methods is a static methods.\r\n\r\nTo stay simple, that means it doesn&#39;t exist in an instance of `Flavor1Demo`, there is no `this` here. If you set `d` as non-static, it will only exist in an instance of `Flavor1Demo` so it can&#39;t be access from the `main` unless you build a instance first (new `Flavor1Demo().d.show();`\r\n\r\nBut a static variable will be link to the class an not an instance, Meaning you can access it from a static context. In you case, the main method.","title":"What is the purpose of creating static object in Java?","body":"<p>That depends on the context you are in. </p>\n\n<p>The <code>main(String[])</code> methods is a static methods.</p>\n\n<p>To stay simple, that means it doesn't exist in an instance of <code>Flavor1Demo</code>, there is no <code>this</code> here. If you set <code>d</code> as non-static, it will only exist in an instance of <code>Flavor1Demo</code> so it can't be access from the <code>main</code> unless you build a instance first (new <code>Flavor1Demo().d.show();</code></p>\n\n<p>But a static variable will be link to the class an not an instance, Meaning you can access it from a static context. In you case, the main method.</p>\n"},{"tags":[],"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484219132,"creation_date":1484218832,"answer_id":41611436,"question_id":41611228,"body_markdown":"You get an error by removing `static` keyword from `static Demo d = new Demo()` because you are using that object `d` of class `Demo` in `main` method which is `static`. When you remove `static` keyword from `static Demo d = new Demo()`, you are making object `d` of your `Demo` class `non-static` and `non-static`object cannot be referenced from a `static` context.\r\n\r\nIf you remove `d.show();` from `main` method and also remove `static` keyword from `static Demo d = new Demo()`, you won&#39;t get the error. \r\n\r\nNow if you want to call the `show` method of `Demo` class, you would have to create an object of your `Demo` class inside `main` method.\r\n\r\n    public static void main(String[] args){\r\n         Demo d = new Demo(); \r\n         d.show();\r\n     }\r\n\r\n","title":"What is the purpose of creating static object in Java?","body":"<p>You get an error by removing <code>static</code> keyword from <code>static Demo d = new Demo()</code> because you are using that object <code>d</code> of class <code>Demo</code> in <code>main</code> method which is <code>static</code>. When you remove <code>static</code> keyword from <code>static Demo d = new Demo()</code>, you are making object <code>d</code> of your <code>Demo</code> class <code>non-static</code> and <code>non-static</code>object cannot be referenced from a <code>static</code> context.</p>\n\n<p>If you remove <code>d.show();</code> from <code>main</code> method and also remove <code>static</code> keyword from <code>static Demo d = new Demo()</code>, you won't get the error. </p>\n\n<p>Now if you want to call the <code>show</code> method of <code>Demo</code> class, you would have to create an object of your <code>Demo</code> class inside <code>main</code> method.</p>\n\n<pre><code>public static void main(String[] args){\n     Demo d = new Demo(); \n     d.show();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6259924,"reputation":745,"user_id":4867374,"display_name":"Sourav Purakayastha"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1484218979,"creation_date":1484218979,"answer_id":41611496,"question_id":41611228,"body_markdown":"The static keyword in Java means that the variable or function is shared between all instances of that class, not the actual objects themselves.\r\n\r\nIn your case, you try to access a resource in a `static` method,\r\n   \r\n\r\n    public static void main(String[] args)\r\n\r\nThus anything we access here without creating an instance of the class `Flavor1Demo` has to be a `static` resource.\r\n\r\nIf you want to remove the `static` keyword from `Demo` class, your code should look like:\r\n\r\n    class Flavor1Demo {\r\n\r\n\t// An anonymous class with Demo as base class\r\n\tDemo d = new Demo() {\r\n\t\tvoid show() {\r\n\t\t\tsuper.show();\r\n\t\t\tSystem.out.println(&quot;i am in Flavor1Demo class&quot;);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tFlavor1Demo flavor1Demo =  new Flavor1Demo();\r\n\t\tflavor1Demo.d.show();\r\n\t}\r\n    }\r\n\r\nHere you see, we have created an instance of `Flavor1Demo ` and then get the `non-static` resource `d`\r\nThe above code wont complain of compilation errors.\r\n\r\nHope it helps!","title":"What is the purpose of creating static object in Java?","body":"<p>The static keyword in Java means that the variable or function is shared between all instances of that class, not the actual objects themselves.</p>\n\n<p>In your case, you try to access a resource in a <code>static</code> method,</p>\n\n<pre><code>public static void main(String[] args)\n</code></pre>\n\n<p>Thus anything we access here without creating an instance of the class <code>Flavor1Demo</code> has to be a <code>static</code> resource.</p>\n\n<p>If you want to remove the <code>static</code> keyword from <code>Demo</code> class, your code should look like:</p>\n\n<pre><code>class Flavor1Demo {\n\n// An anonymous class with Demo as base class\nDemo d = new Demo() {\n    void show() {\n        super.show();\n        System.out.println(\"i am in Flavor1Demo class\");\n    }\n};\n\npublic static void main(String[] args) {\n\n    Flavor1Demo flavor1Demo =  new Flavor1Demo();\n    flavor1Demo.d.show();\n}\n}\n</code></pre>\n\n<p>Here you see, we have created an instance of <code>Flavor1Demo</code> and then get the <code>non-static</code> resource <code>d</code>\nThe above code wont complain of compilation errors.</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":8773711,"reputation":1,"user_id":6559614,"display_name":"Amarthya Sai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563876477,"creation_date":1563876477,"answer_id":57161656,"question_id":41611228,"body_markdown":"In order to access methods or variables in main class without creating object in it,here we are defining anonymous inner class where we create object of static type so that its directly accessed from main class without creating the object.","title":"What is the purpose of creating static object in Java?","body":"<p>In order to access methods or variables in main class without creating object in it,here we are defining anonymous inner class where we create object of static type so that its directly accessed from main class without creating the object.</p>\n"},{"tags":[],"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676485409,"creation_date":1676485409,"answer_id":75463982,"question_id":41611228,"body_markdown":"There is no such thing as a static object in Java. The variable that points to the object can be static, but the idea of an object being static has no meaning.\r\n\r\nThe purpose of a static variable or any other static type member is to attach the member to the type itself rather than to an instance of the type.","title":"What is the purpose of creating static object in Java?","body":"<p>There is no such thing as a static object in Java. The variable that points to the object can be static, but the idea of an object being static has no meaning.</p>\n<p>The purpose of a static variable or any other static type member is to attach the member to the type itself rather than to an instance of the type.</p>\n"}],"owner":{"account_id":9365119,"reputation":455,"user_id":6950291,"accept_rate":100,"display_name":"Ajay Khetan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41159,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41611496,"answer_count":6,"score":8,"last_activity_date":1676485409,"creation_date":1484218222,"question_id":41611228,"body_markdown":"    class Demo {\r\n       void show() {\r\n          System.out.println(&quot;i am in show method of super class&quot;);\r\n       }\r\n    }\r\n    class Flavor1Demo {\r\n     \r\n       //  An anonymous class with Demo as base class\r\n       static Demo d = new Demo() {\r\n           void show() {\r\n               super.show();\r\n               System.out.println(&quot;i am in Flavor1Demo class&quot;);\r\n           }\r\n       };\r\n       public static void main(String[] args){\r\n           d.show();\r\n       }\r\n    }\r\n\r\nIn the above code,  I do not understand the use of creating object d of Demo class with static keyword preceding it. If I eliminate the static keyword, it shows an error. Actually, I was going through anonymous inner class concept and got stuck here. Need help.... Can anyone please explain it?","title":"What is the purpose of creating static object in Java?","body":"<pre><code>class Demo {\n   void show() {\n      System.out.println(\"i am in show method of super class\");\n   }\n}\nclass Flavor1Demo {\n\n   //  An anonymous class with Demo as base class\n   static Demo d = new Demo() {\n       void show() {\n           super.show();\n           System.out.println(\"i am in Flavor1Demo class\");\n       }\n   };\n   public static void main(String[] args){\n       d.show();\n   }\n}\n</code></pre>\n\n<p>In the above code,  I do not understand the use of creating object d of Demo class with static keyword preceding it. If I eliminate the static keyword, it shows an error. Actually, I was going through anonymous inner class concept and got stuck here. Need help.... Can anyone please explain it?</p>\n"},{"tags":["java","linked-list","nodes"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676408218,"post_id":75453179,"comment_id":133130408,"body_markdown":"Link to the problem at LeetCode: https://leetcode.com/problems/swap-nodes-in-pairs/","body":"Link to the problem at LeetCode: <a href=\"https://leetcode.com/problems/swap-nodes-in-pairs/\" rel=\"nofollow noreferrer\">leetcode.com/problems/swap-nodes-in-pairs</a>"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676485356,"creation_date":1676474117,"answer_id":75461860,"question_id":75453179,"body_markdown":"Your code will perform the pairwise swaps correctly, but the `head` reference is never updated, yet it is clear that after this pairwise swapping the head should now be what was the second node in the original ordering.\r\n\r\nSo add this line, just before the loop:\r\n\r\n        head = head.next;\r\n\r\nA visualisation may help. Let&#39;s take the example of input list 1,2,3,4:\r\n\r\n```none\r\nhead\r\n  ↓\r\n┌───────────┐   ┌───────────┐   ┌───────────┐   ┌───────────┐\r\n│ data: 1   │   │ data: 2   │   │ data: 3   │   │ data: 4   │\r\n│ next: ──────► │ next: ──────► │ next: ──────► │ next: null│\r\n│           │   │           │   │           │   │           │\r\n└───────────┘   └───────────┘   └───────────┘   └───────────┘\r\n```\r\n\r\nOnce the `next` references have been updated with your code, we get this:\r\n\r\n```none\r\nhead\r\n  ↓\r\n┌───────────┐   ┌───────────┐   ┌───────────┐   ┌───────────┐\r\n│ data: 1   │   │ data: 2   │   │ data: 3   │   │ data: 4   │\r\n│ next: ┐   │   │ next: ┐   │   │ next: null│   │ next: ┐   │\r\n│       │   │◄──────────┘   │   │           │◄──────────┘   │\r\n└───────│───┘   └───────────┘   └───────────┘ ┌►└───────────┘\r\n        └─────────────────────────────────────┘\r\n```\r\n\r\nThe nodes have been rewired as expected. If we start at the second node and follow the arrows (the `next` references), we see the nodes are chained in the desired order. But, because `head` still references the node with value 1, we will not see the node with value 2 anymore, as it is now ordered *before* that node.\r\n\r\nBefore the rewiring process starts we should therefore make the `head` reference the node with value 2. ","title":"Swapping Nodes in pairs","body":"<p>Your code will perform the pairwise swaps correctly, but the <code>head</code> reference is never updated, yet it is clear that after this pairwise swapping the head should now be what was the second node in the original ordering.</p>\n<p>So add this line, just before the loop:</p>\n<pre><code>    head = head.next;\n</code></pre>\n<p>A visualisation may help. Let's take the example of input list 1,2,3,4:</p>\n<pre class=\"lang-none prettyprint-override\"><code>head\n  ↓\n┌───────────┐   ┌───────────┐   ┌───────────┐   ┌───────────┐\n│ data: 1   │   │ data: 2   │   │ data: 3   │   │ data: 4   │\n│ next: ──────► │ next: ──────► │ next: ──────► │ next: null│\n│           │   │           │   │           │   │           │\n└───────────┘   └───────────┘   └───────────┘   └───────────┘\n</code></pre>\n<p>Once the <code>next</code> references have been updated with your code, we get this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>head\n  ↓\n┌───────────┐   ┌───────────┐   ┌───────────┐   ┌───────────┐\n│ data: 1   │   │ data: 2   │   │ data: 3   │   │ data: 4   │\n│ next: ┐   │   │ next: ┐   │   │ next: null│   │ next: ┐   │\n│       │   │◄──────────┘   │   │           │◄──────────┘   │\n└───────│───┘   └───────────┘   └───────────┘ ┌►└───────────┘\n        └─────────────────────────────────────┘\n</code></pre>\n<p>The nodes have been rewired as expected. If we start at the second node and follow the arrows (the <code>next</code> references), we see the nodes are chained in the desired order. But, because <code>head</code> still references the node with value 1, we will not see the node with value 2 anymore, as it is now ordered <em>before</em> that node.</p>\n<p>Before the rewiring process starts we should therefore make the <code>head</code> reference the node with value 2.</p>\n"}],"owner":{"account_id":20151863,"reputation":103,"user_id":14779007,"display_name":"Strange Alchemist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75461860,"answer_count":1,"score":0,"last_activity_date":1676485356,"creation_date":1676408058,"question_id":75453179,"body_markdown":"I am trying to solve the following leetcode problem :\r\n\r\nGiven a linked list, swap every two adjacent nodes and return its head. You must solve the problem without modifying the values in the list&#39;s nodes (i.e., only nodes themselves may be changed.)\r\n\r\nFor example: Input: head = [1,2,3,4]\r\n             Output: [2,1,4,3]\r\n\r\nI am a newbie to linked lists and have written following code for the above problem: \r\n\r\n```\r\npublic void swapPairs() {\r\n        if(head == null || head.next == null) {\r\n            return;\r\n        }\r\n\r\n        Node prev = head;\r\n        Node firstNode = head;\r\n        Node secondNode = head.next;\r\n\r\n        while(secondNode != null) {\r\n            Node nxt = secondNode.next;\r\n\r\n            prev.next = secondNode;\r\n            firstNode.next = nxt;\r\n            secondNode.next= firstNode;\r\n\r\n            if(nxt == null) {\r\n                break;\r\n            }\r\n\r\n            prev = firstNode;\r\n            firstNode = nxt;\r\n            secondNode = firstNode.next;\r\n        }\r\n\r\n    }\r\n```\r\nThe output above code returning is [1, 4, 3]. I am unable to understand why 2 is not there in the list at the beginning.","title":"Swapping Nodes in pairs","body":"<p>I am trying to solve the following leetcode problem :</p>\n<p>Given a linked list, swap every two adjacent nodes and return its head. You must solve the problem without modifying the values in the list's nodes (i.e., only nodes themselves may be changed.)</p>\n<p>For example: Input: head = [1,2,3,4]\nOutput: [2,1,4,3]</p>\n<p>I am a newbie to linked lists and have written following code for the above problem:</p>\n<pre><code>public void swapPairs() {\n        if(head == null || head.next == null) {\n            return;\n        }\n\n        Node prev = head;\n        Node firstNode = head;\n        Node secondNode = head.next;\n\n        while(secondNode != null) {\n            Node nxt = secondNode.next;\n\n            prev.next = secondNode;\n            firstNode.next = nxt;\n            secondNode.next= firstNode;\n\n            if(nxt == null) {\n                break;\n            }\n\n            prev = firstNode;\n            firstNode = nxt;\n            secondNode = firstNode.next;\n        }\n\n    }\n</code></pre>\n<p>The output above code returning is [1, 4, 3]. I am unable to understand why 2 is not there in the list at the beginning.</p>\n"},{"tags":["java","tomcat","jar"],"comments":[{"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"score":0,"creation_date":1676476595,"post_id":75462076,"comment_id":133145308,"body_markdown":"Have you looked at ServletContext.getResource()?","body":"Have you looked at ServletContext.getResource()?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1676520449,"post_id":75462076,"comment_id":133154616,"body_markdown":"Try `this.getClass().getClassLoader().getResourceAsStream(&quot;testProps.properties&quot;)`. The `classes` directory is already on the class path, so the resource name should be relative to that.","body":"Try <code>this.getClass().getClassLoader().getResourceAsStream(&quot;testPr&zwnj;&#8203;ops.properties&quot;)</code>. The <code>classes</code> directory is already on the class path, so the resource name should be relative to that."},{"owner":{"account_id":12418319,"reputation":33,"user_id":9046591,"display_name":"AlterEchoes"},"score":0,"creation_date":1676538044,"post_id":75462076,"comment_id":133157967,"body_markdown":"It doesn&#39;t work, still getting a NullPointerException. I even tried to restart the web container.","body":"It doesn&#39;t work, still getting a NullPointerException. I even tried to restart the web container."}],"owner":{"account_id":12418319,"reputation":33,"user_id":9046591,"display_name":"AlterEchoes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676485262,"creation_date":1676475283,"question_id":75462076,"body_markdown":"I&#39;m trying to access a simple **.properties** file from a JAR that is added to an unpacked **.war** file in Apache Tomcat. This is the approach I tried so far:\r\n\r\n    InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;../classes/testProps.properties&quot;);\r\n    Properties props = new Properties();\r\n    props.load(inputStream);\r\n    System.out.println(props.get(&quot;test&quot;));\r\n\r\nBut this doesn&#39;t do the trick as I keep getting a `null` on the inputStream.\r\n\r\nFor context, I need to put the properties file under the **WEB-INF/classes** folder and the jar file in **WEB-INF/lib**.\r\n\r\n","title":"Read external properties file from jar added to an unpacked WAR deployed under Tomcat","body":"<p>I'm trying to access a simple <strong>.properties</strong> file from a JAR that is added to an unpacked <strong>.war</strong> file in Apache Tomcat. This is the approach I tried so far:</p>\n<pre><code>InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;../classes/testProps.properties&quot;);\nProperties props = new Properties();\nprops.load(inputStream);\nSystem.out.println(props.get(&quot;test&quot;));\n</code></pre>\n<p>But this doesn't do the trick as I keep getting a <code>null</code> on the inputStream.</p>\n<p>For context, I need to put the properties file under the <strong>WEB-INF/classes</strong> folder and the jar file in <strong>WEB-INF/lib</strong>.</p>\n"},{"tags":["java","ms-word","format","apache-poi"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1676472060,"post_id":75461377,"comment_id":133143560,"body_markdown":"Please share the complete stacktrace","body":"Please share the complete stacktrace"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1676475116,"post_id":75461377,"comment_id":133144707,"body_markdown":"The stack trace has been provided above.","body":"The stack trace has been provided above."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676480602,"post_id":75461377,"comment_id":133146731,"body_markdown":"Just to confirm: Are you saying the complete stack trace is only 4 lines long?","body":"Just to confirm: Are you saying the complete stack trace is only 4 lines long?"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676484701,"creation_date":1676480489,"answer_id":75463132,"question_id":75461377,"body_markdown":"Not able to reproduce the issue. The provided code is incomplete. Also the provided stack trace is incomplete. But the code line `at org.apache.poi.xwpf.usermodel.XWPFTableCell.insertNewTbl(XWPFTableCell.java:328)` would must point to a `ArrayList.add` statement. That is true for [Apache POI 4.0.0](https://svn.apache.org/viewvc/poi/tags/REL_4_0_0_FINAL/src/ooxml/java/org/apache/poi/xwpf/usermodel/XWPFTableCell.java?view=markup#l328). And this is not the current Apache POI version.\r\n\r\nFollowing **complete** example works for me using **current** Apache POI version 5.2.3:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class CreateWordTableInTable1 {\r\n        \r\n     static void setAllBorders(XWPFTable table, XWPFTable.XWPFBorderType borderType, int size, int space, java.lang.String rgbColor) {\r\n       table.setTopBorder(borderType, size, space, rgbColor);\r\n       table.setRightBorder(borderType, size, space, rgbColor);\r\n       table.setBottomBorder(borderType, size, space, rgbColor);\r\n       table.setLeftBorder(borderType, size, space, rgbColor);\r\n       table.setInsideHBorder(borderType, size, space, rgbColor);\r\n       table.setInsideVBorder(borderType, size, space, rgbColor);    \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n        XWPFDocument document = new XWPFDocument();\r\n    \r\n        XWPFTable tableOne = document.createTable(2,2);\r\n        \r\n        tableOne.setWidth(&quot;100%&quot;);\r\n        \r\n        XWPFTableRow tablerow = tableOne.getRow(0);\r\n        \r\n        tablerow.getCell(0).setWidth(&quot;40%&quot;);\r\n        tablerow.getCell(1).setWidth(&quot;60%&quot;);\r\n        \r\n        tablerow.getCell(0).setText(&quot;Test&quot;);\r\n        tablerow.getCell(1).setText(&quot;Test&quot;);\r\n    \r\n        tablerow = tableOne.getRow(1);\r\n        tablerow.getCell(0).setText(&quot;Test&quot;);\r\n    \r\n        //XWPFParagraph paragraph = tablerow.getCell(1).getParagraphArray(0);\r\n        \r\n        XWPFParagraph paragraph;\r\n        XWPFRun run;\r\n        \r\n        //first paragraph is already present in table cell\r\n        paragraph = tablerow.getCell(1).getParagraphArray(0);\r\n        run = paragraph.createRun();\r\n        run.setText(&quot;Paragraph 0&quot;);\r\n       \r\n        //create some more paragraphs in table cell\r\n        for (int i = 1; i &lt;= 5; i++) {\r\n         paragraph = tablerow.getCell(1).addParagraph();\r\n         run = paragraph.createRun();\r\n         run.setText(&quot;Paragraph &quot; + i);\r\n        }\r\n        \r\n        paragraph = tablerow.getCell(1).addParagraph();\r\n        run = paragraph.createRun();\r\n        run.setText(&quot;Produkte:&quot;); //below this the inner table has to be created\r\n    \r\n        //need an empty paragraph to start the table\r\n        paragraph = tablerow.getCell(1).addParagraph();\r\n        XWPFTable tableTwo = tablerow.getCell(1).insertNewTbl(paragraph.getCTP().newCursor());\r\n    \r\n        tableTwo.setWidth(0); // This is necessary because a XWPFTable created by insertNewTbl seems not to have full internally structure. It lacks the cell width field in this case.\r\n        tableTwo.setWidth(&quot;100%&quot;);\r\n        \r\n        setAllBorders(tableTwo, XWPFTable.XWPFBorderType.SINGLE, 4, 0, &quot;000000&quot;);\r\n        \r\n        tablerow = tableTwo.createRow();\r\n        tablerow.createCell().setText(&quot;aaaaaaaaaa&quot;);\r\n        tablerow.createCell().setText(&quot;jjjjjjjj&quot;); \r\n        tablerow = tableTwo.createRow(); \r\n        tablerow.getCell(0).setText(&quot;bbbbbbbbbb&quot;); \r\n        tablerow.getCell(1).setText(&quot;gggggggggg&quot;);\r\n    \r\n        try (FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableInTable.docx&quot;)) {\r\n         document.write(out);\r\n        }\r\n        document.close();\r\n    \r\n     }\r\n    }\r\n\r\nMaybe your problem is with the `XmlCursor`. Using your code it points to the begin of the paragraph containing the text &quot;Produkte:&quot;. But it should point to a position after that text, shouldn&#39;t it? Microsoft Word itself will always use a own empty paragraph to start the table after.\r\n\r\nMy code produces:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n____________________________________________\r\n\r\nJust tested. It is a bug in Apache POI version 4. And it is because `XWPFTableCell.addParagraph` adds a paragraph to the table cell but lacks adding that paragraph to the `ArrayList` `bodyElements`. So while trying to add the new table to the  `ArrayList` `bodyElements` (`bodyElements.add(i, newT);` in codeline 328 in XWPFTableCell.java) it fails since the `ArrayList` `bodyElements` lacks all the paragraphs added using `XWPFTableCell.addParagraph`.\r\n\r\nThis bug was fixed in Apache POI version 5.\r\n\r\nSolution: **Always** use current Apache POI version. **Never** use old Apache POI versions.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OYgK2.png","title":"How to solve Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 6, Size: 1 with apache poi table creation?","body":"<p>Not able to reproduce the issue. The provided code is incomplete. Also the provided stack trace is incomplete. But the code line <code>at org.apache.poi.xwpf.usermodel.XWPFTableCell.insertNewTbl(XWPFTableCell.java:328)</code> would must point to a <code>ArrayList.add</code> statement. That is true for <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_4_0_0_FINAL/src/ooxml/java/org/apache/poi/xwpf/usermodel/XWPFTableCell.java?view=markup#l328\" rel=\"nofollow noreferrer\">Apache POI 4.0.0</a>. And this is not the current Apache POI version.</p>\n<p>Following <strong>complete</strong> example works for me using <strong>current</strong> Apache POI version 5.2.3:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class CreateWordTableInTable1 {\n    \n static void setAllBorders(XWPFTable table, XWPFTable.XWPFBorderType borderType, int size, int space, java.lang.String rgbColor) {\n   table.setTopBorder(borderType, size, space, rgbColor);\n   table.setRightBorder(borderType, size, space, rgbColor);\n   table.setBottomBorder(borderType, size, space, rgbColor);\n   table.setLeftBorder(borderType, size, space, rgbColor);\n   table.setInsideHBorder(borderType, size, space, rgbColor);\n   table.setInsideVBorder(borderType, size, space, rgbColor);    \n }\n\n public static void main(String[] args) throws Exception {\n\n    XWPFDocument document = new XWPFDocument();\n\n    XWPFTable tableOne = document.createTable(2,2);\n    \n    tableOne.setWidth(&quot;100%&quot;);\n    \n    XWPFTableRow tablerow = tableOne.getRow(0);\n    \n    tablerow.getCell(0).setWidth(&quot;40%&quot;);\n    tablerow.getCell(1).setWidth(&quot;60%&quot;);\n    \n    tablerow.getCell(0).setText(&quot;Test&quot;);\n    tablerow.getCell(1).setText(&quot;Test&quot;);\n\n    tablerow = tableOne.getRow(1);\n    tablerow.getCell(0).setText(&quot;Test&quot;);\n\n    //XWPFParagraph paragraph = tablerow.getCell(1).getParagraphArray(0);\n    \n    XWPFParagraph paragraph;\n    XWPFRun run;\n    \n    //first paragraph is already present in table cell\n    paragraph = tablerow.getCell(1).getParagraphArray(0);\n    run = paragraph.createRun();\n    run.setText(&quot;Paragraph 0&quot;);\n   \n    //create some more paragraphs in table cell\n    for (int i = 1; i &lt;= 5; i++) {\n     paragraph = tablerow.getCell(1).addParagraph();\n     run = paragraph.createRun();\n     run.setText(&quot;Paragraph &quot; + i);\n    }\n    \n    paragraph = tablerow.getCell(1).addParagraph();\n    run = paragraph.createRun();\n    run.setText(&quot;Produkte:&quot;); //below this the inner table has to be created\n\n    //need an empty paragraph to start the table\n    paragraph = tablerow.getCell(1).addParagraph();\n    XWPFTable tableTwo = tablerow.getCell(1).insertNewTbl(paragraph.getCTP().newCursor());\n\n    tableTwo.setWidth(0); // This is necessary because a XWPFTable created by insertNewTbl seems not to have full internally structure. It lacks the cell width field in this case.\n    tableTwo.setWidth(&quot;100%&quot;);\n    \n    setAllBorders(tableTwo, XWPFTable.XWPFBorderType.SINGLE, 4, 0, &quot;000000&quot;);\n    \n    tablerow = tableTwo.createRow();\n    tablerow.createCell().setText(&quot;aaaaaaaaaa&quot;);\n    tablerow.createCell().setText(&quot;jjjjjjjj&quot;); \n    tablerow = tableTwo.createRow(); \n    tablerow.getCell(0).setText(&quot;bbbbbbbbbb&quot;); \n    tablerow.getCell(1).setText(&quot;gggggggggg&quot;);\n\n    try (FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableInTable.docx&quot;)) {\n     document.write(out);\n    }\n    document.close();\n\n }\n}\n</code></pre>\n<p>Maybe your problem is with the <code>XmlCursor</code>. Using your code it points to the begin of the paragraph containing the text &quot;Produkte:&quot;. But it should point to a position after that text, shouldn't it? Microsoft Word itself will always use a own empty paragraph to start the table after.</p>\n<p>My code produces:</p>\n<p><a href=\"https://i.stack.imgur.com/OYgK2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OYgK2.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Just tested. It is a bug in Apache POI version 4. And it is because <code>XWPFTableCell.addParagraph</code> adds a paragraph to the table cell but lacks adding that paragraph to the <code>ArrayList</code> <code>bodyElements</code>. So while trying to add the new table to the  <code>ArrayList</code> <code>bodyElements</code> (<code>bodyElements.add(i, newT);</code> in codeline 328 in XWPFTableCell.java) it fails since the <code>ArrayList</code> <code>bodyElements</code> lacks all the paragraphs added using <code>XWPFTableCell.addParagraph</code>.</p>\n<p>This bug was fixed in Apache POI version 5.</p>\n<p>Solution: <strong>Always</strong> use current Apache POI version. <strong>Never</strong> use old Apache POI versions.</p>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75463132,"answer_count":1,"score":-1,"last_activity_date":1676484701,"creation_date":1676471933,"question_id":75461377,"body_markdown":"I am creating a table within a table cell. The table cell +has many paragraphs. Few paragraphs have text and the table will be created at a certain paragraph. The code I have written is as follows. I debugged the code and I have seen that the *index 6* is present and all the values exists. There is no Null value anywhere. \r\n\r\n    XWPFTableRow mainTableRowThree = tableitem.getRow(2);\r\n    mainTableRowThree.getCell(0).removeParagraph(0);\r\n    XWPFParagraph p000 = mainTableRowThree.getCell(0).addParagraph();\r\n    XWPFRun run20=p000.createRun();\r\n    run20.setText(&quot;Beschreibung:&quot;);\r\n\t\r\n\tXWPFRun run21=p000.createRun();\r\n    run21.setText(item.getDescription());\r\n\t\r\n\tXWPFParagraph p001 = mainTableRowThree.getCell(0).addParagraph();\r\n    XWPFRun run22=p001.createRun();\r\n    run22.setText(&quot;Ansprechpartner:&quot;);\r\n        \r\n\tXWPFRun run23=p001.createRun();\r\n    run23.setText(item.getperson());\r\n\t\r\n\tXWPFParagraph p002 = mainTableRowThree.getCell(0).addParagraph();\r\n    XWPFRun run24=p002.createRun();\r\n    run24.setText(&quot;L&#246;sung:&quot;);\r\n\t\r\n\tXWPFRun run25=p002.createRun();\r\n    run25.setText(item.getSolution());\r\n\t\r\n\t.........\r\n\t.........//Similarly for Paragraph p003,p004\r\n\t\r\n\tXWPFParagraph p005 = mainTableRowThree.getCell(0).addParagraph();\r\n    XWPFRun run32=p005.createRun();\r\n    run32.setText(&quot;Produkte:&quot;); //Below this the innertable has to be created\r\n\t\r\n\tXWPFParagraph p0001 = mainTableRowThree.getCell(0).addParagraph(); //created a new paragraph for the nested table\r\n    generateNestedtable(item.getProducts(),document,p0001,mainTableRowThree); // A seperate method for the nested table creation\r\n\t\r\n\tprivate void generateNestedtable(String towrite,XWPFDocument document,XWPFParagraph paragraph,XWPFTableRow tablerow)\r\n      throws XmlException { \r\n\t  \r\n\t  XWPFTable tableTwo = tablerow.getCell(0).insertNewTbl(paragraph.getCTP().newCursor()); //In this line there is the exception\r\n\t  //The paragraph object here is not null and that I have already debugged.\r\n\t  \r\n\t     tableTwo.getCTTbl().addNewTblPr().addNewTblBorders().addNewLeft().setVal(\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\r\n    tableTwo.getCTTbl().getTblPr().getTblBorders().addNewRight().setVal(\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\r\n    tableTwo.getCTTbl().getTblPr().getTblBorders().addNewTop().setVal(\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\r\n    tableTwo.getCTTbl().getTblPr().getTblBorders().addNewBottom().setVal(\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\r\n    tableTwo.getCTTbl().getTblPr().getTblBorders().addNewInsideH().setVal(\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\r\n    tableTwo.getCTTbl().getTblPr().getTblBorders().addNewInsideV().setVal(\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\r\n\t  }\r\n\r\n  I believe that the exception is due to `*insertNewTble(paragraph.getCTP().newCursor())*`. Is it because that after so many paragraphs before this table creation, the nested table is not created due to space constraints?\r\n\r\nThe stack trace is as follows \r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 6, Size: 1\r\n    \tat java.base/java.util.ArrayList.rangeCheckForAdd(ArrayList.java:756)\r\n    \tat java.base/java.util.ArrayList.add(ArrayList.java:481)\r\n    \tat org.apache.poi.xwpf.usermodel.XWPFTableCell.insertNewTbl(XWPFTableCell.java:328)","title":"How to solve Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 6, Size: 1 with apache poi table creation?","body":"<p>I am creating a table within a table cell. The table cell +has many paragraphs. Few paragraphs have text and the table will be created at a certain paragraph. The code I have written is as follows. I debugged the code and I have seen that the <em>index 6</em> is present and all the values exists. There is no Null value anywhere.</p>\n<pre><code>XWPFTableRow mainTableRowThree = tableitem.getRow(2);\nmainTableRowThree.getCell(0).removeParagraph(0);\nXWPFParagraph p000 = mainTableRowThree.getCell(0).addParagraph();\nXWPFRun run20=p000.createRun();\nrun20.setText(&quot;Beschreibung:&quot;);\n\nXWPFRun run21=p000.createRun();\nrun21.setText(item.getDescription());\n\nXWPFParagraph p001 = mainTableRowThree.getCell(0).addParagraph();\nXWPFRun run22=p001.createRun();\nrun22.setText(&quot;Ansprechpartner:&quot;);\n    \nXWPFRun run23=p001.createRun();\nrun23.setText(item.getperson());\n\nXWPFParagraph p002 = mainTableRowThree.getCell(0).addParagraph();\nXWPFRun run24=p002.createRun();\nrun24.setText(&quot;Lösung:&quot;);\n\nXWPFRun run25=p002.createRun();\nrun25.setText(item.getSolution());\n\n.........\n.........//Similarly for Paragraph p003,p004\n\nXWPFParagraph p005 = mainTableRowThree.getCell(0).addParagraph();\nXWPFRun run32=p005.createRun();\nrun32.setText(&quot;Produkte:&quot;); //Below this the innertable has to be created\n\nXWPFParagraph p0001 = mainTableRowThree.getCell(0).addParagraph(); //created a new paragraph for the nested table\ngenerateNestedtable(item.getProducts(),document,p0001,mainTableRowThree); // A seperate method for the nested table creation\n\nprivate void generateNestedtable(String towrite,XWPFDocument document,XWPFParagraph paragraph,XWPFTableRow tablerow)\n  throws XmlException { \n  \n  XWPFTable tableTwo = tablerow.getCell(0).insertNewTbl(paragraph.getCTP().newCursor()); //In this line there is the exception\n  //The paragraph object here is not null and that I have already debugged.\n  \n     tableTwo.getCTTbl().addNewTblPr().addNewTblBorders().addNewLeft().setVal(\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\ntableTwo.getCTTbl().getTblPr().getTblBorders().addNewRight().setVal(\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\ntableTwo.getCTTbl().getTblPr().getTblBorders().addNewTop().setVal(\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\ntableTwo.getCTTbl().getTblPr().getTblBorders().addNewBottom().setVal(\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\ntableTwo.getCTTbl().getTblPr().getTblBorders().addNewInsideH().setVal(\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\ntableTwo.getCTTbl().getTblPr().getTblBorders().addNewInsideV().setVal(\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.STBorder.SINGLE);\n  }\n</code></pre>\n<p>I believe that the exception is due to <code>*insertNewTble(paragraph.getCTP().newCursor())*</code>. Is it because that after so many paragraphs before this table creation, the nested table is not created due to space constraints?</p>\n<p>The stack trace is as follows</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 6, Size: 1\n    at java.base/java.util.ArrayList.rangeCheckForAdd(ArrayList.java:756)\n    at java.base/java.util.ArrayList.add(ArrayList.java:481)\n    at org.apache.poi.xwpf.usermodel.XWPFTableCell.insertNewTbl(XWPFTableCell.java:328)\n</code></pre>\n"},{"tags":["java","nio","exists"],"answers":[{"tags":[],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676484604,"creation_date":1676484604,"answer_id":75463860,"question_id":75463762,"body_markdown":"Try to create a directory and a file as follows:\r\n\r\n            try {\r\n                Path examples = Paths.get(&quot;examples&quot;);\r\n                if (Files.notExists(examples)) // if path not exists\r\n                    Files.createDirectories(examples); // create as directory\r\n\r\n                Path path = examples.resolve(&quot;test.txt&quot;); // resolve file\r\n                if (Files.notExists(path)) // if not exists\r\n                    Files.createFile(path); // create file\r\n\r\n                System.out.println(&quot;path = &quot; + path);\r\n                System.out.println(&quot;Files.exists(path) = &quot; + Files.exists(path));\r\n\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }","title":"Files.exists() returning false when a regular file is tested and true when a directory is tested","body":"<p>Try to create a directory and a file as follows:</p>\n<pre><code>        try {\n            Path examples = Paths.get(&quot;examples&quot;);\n            if (Files.notExists(examples)) // if path not exists\n                Files.createDirectories(examples); // create as directory\n\n            Path path = examples.resolve(&quot;test.txt&quot;); // resolve file\n            if (Files.notExists(path)) // if not exists\n                Files.createFile(path); // create file\n\n            System.out.println(&quot;path = &quot; + path);\n            System.out.println(&quot;Files.exists(path) = &quot; + Files.exists(path));\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":20979872,"reputation":3,"user_id":15414953,"display_name":"Mohammed lilo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75463860,"answer_count":1,"score":0,"last_activity_date":1676484604,"creation_date":1676484070,"question_id":75463762,"body_markdown":"I created a directory called &quot;examples&quot; inside my current working directory (C) and inside it I created a .txt file called &quot;test.txt&quot;, but when I test the file using Files.exists(), it returns false.\r\n\r\n\r\n`\tSystem.out.println(Files.exists(Path.of(&quot;\\\\examples\\\\test.txt&quot;)));\r\n`\r\n\t\r\n\r\n\r\nSo, I replaced the text file &quot;test.txt&quot; with a directory with the same name, ie, &quot;test.txt&quot;. Now Files.exists() returns true.\r\nThis might mean that the path is correct but something is wrong with my regular file.\r\n\r\n why is&#39;nt exists() returning true in both cases?\r\n","title":"Files.exists() returning false when a regular file is tested and true when a directory is tested","body":"<p>I created a directory called &quot;examples&quot; inside my current working directory (C) and inside it I created a .txt file called &quot;test.txt&quot;, but when I test the file using Files.exists(), it returns false.</p>\n<p><code>  System.out.println(Files.exists(Path.of(&quot;\\\\examples\\\\test.txt&quot;)));</code></p>\n<p>So, I replaced the text file &quot;test.txt&quot; with a directory with the same name, ie, &quot;test.txt&quot;. Now Files.exists() returns true.\nThis might mean that the path is correct but something is wrong with my regular file.</p>\n<p>why is'nt exists() returning true in both cases?</p>\n"},{"tags":["java","type-erasure"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1676482759,"post_id":75463496,"comment_id":133147366,"body_markdown":"&quot;*..but if you extend a generic type and provide a concrete type in place of T, the type is available at runtime. It seems to be the only time that the type isn&#39;t erased.*&quot; not *only*, if `List&lt;Integer&gt;` would be for instance class field, or method parameter or method return type we could also read it at runtime. Related: [Get generic type of java.util.List](https://stackoverflow.com/q/1942644)","body":"&quot;<i>..but if you extend a generic type and provide a concrete type in place of T, the type is available at runtime. It seems to be the only time that the type isn&#39;t erased.</i>&quot; not <i>only</i>, if <code>List&lt;Integer&gt;</code> would be for instance class field, or method parameter or method return type we could also read it at runtime. Related: <a href=\"https://stackoverflow.com/q/1942644\">Get generic type of java.util.List</a>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1676482989,"post_id":75463496,"comment_id":133147431,"body_markdown":"&quot;*Why doesn&#39;t the type get erased when implemented via inheritance?*&quot; Simple answer: because reified types are good. The better question is why they didn&#39;t do it *more*, not less. The answer to that is: compatibility reasons.","body":"&quot;<i>Why doesn&#39;t the type get erased when implemented via inheritance?</i>&quot; Simple answer: because reified types are good. The better question is why they didn&#39;t do it <i>more</i>, not less. The answer to that is: compatibility reasons."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1676483783,"post_id":75463496,"comment_id":133147646,"body_markdown":"Why? Because that information must be saved in the classfile, otherwise the compiler would need the source code if that class is used somewhere else (e.g. when compiling `List&lt;String&gt; example = new IntegerList()` in a third class and only having no source for `IntegerList` [just from a JAR file?] ) or it would not be possible to check if the assignment is valid (at compile time)","body":"Why? Because that information must be saved in the classfile, otherwise the compiler would need the source code if that class is used somewhere else (e.g. when compiling <code>List&lt;String&gt; example = new IntegerList()</code> in a third class and only having no source for <code>IntegerList</code> [just from a JAR file?] ) or it would not be possible to check if the assignment is valid (at compile time)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676484682,"post_id":75463496,"comment_id":133147877,"body_markdown":"Your `IntegerList` is not generic. Broadly speaking there is no type to erase.","body":"Your <code>IntegerList</code> is not generic. Broadly speaking there is no type to erase."}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676484281,"creation_date":1676484281,"answer_id":75463804,"question_id":75463496,"body_markdown":"&gt;But, the moment the implementation is no longer generic ...\r\n\r\nThat&#39;s the answer. Type erasure occurs for generic types. The subclass `IntegerList` is not generic. Non-generic types are reifiable, which means that the types are available at runtime. \r\n\r\nFrom the [Java Language Specification, 4.7: Reifiable Types][1]:\r\n\r\n&gt; 4.7 Reifiable Types \r\n&gt;\r\n&gt;Because some type information is erased during compilation, not all types are available at run time. Types that are\r\n&gt; completely available at run time are known as reifiable types. \r\n&gt;\r\n&gt;A type is reifiable if and only if one of the following holds:\r\n&gt;\r\n&gt;• It refers to a non-generic class or interface type declaration.\r\n&gt;\r\n&gt;...\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.7","title":"Why doesn&#39;t Java erase types in an inheritance chain?","body":"<blockquote>\n<p>But, the moment the implementation is no longer generic ...</p>\n</blockquote>\n<p>That's the answer. Type erasure occurs for generic types. The subclass <code>IntegerList</code> is not generic. Non-generic types are reifiable, which means that the types are available at runtime.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.7\" rel=\"nofollow noreferrer\">Java Language Specification, 4.7: Reifiable Types</a>:</p>\n<blockquote>\n<p>4.7 Reifiable Types</p>\n<p>Because some type information is erased during compilation, not all types are available at run time. Types that are\ncompletely available at run time are known as reifiable types.</p>\n<p>A type is reifiable if and only if one of the following holds:</p>\n<p>• It refers to a non-generic class or interface type declaration.</p>\n<p>...</p>\n</blockquote>\n"}],"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75463804,"answer_count":1,"score":1,"last_activity_date":1676484281,"creation_date":1676482447,"question_id":75463496,"body_markdown":"Type erasure only seems to occur when instantiating a generic type, but if you extend a generic type and provide a concrete type in place of `T`, the type is available at runtime. It seems to be the only time that the type isn&#39;t erased.\r\n\r\nIn the following example, `String` will be erased:\r\n```java\r\nList&lt;String&gt; text = new ArrayList&lt;&gt;();\r\n```\r\n\r\nIn the following example, as the implementation is still generic, any usage of it will erase whatever is in place of `T`.\r\n```java\r\npublic final class ArrayList&lt;T&gt; implements List&lt;T&gt; { ... }\r\n```\r\n\r\nBut, the moment the implementation is no longer generic, where `T` has been replaced by a concrete type in the inheritance chain, it&#39;s discoverable via reflection.\r\n```java\r\npublic final class IntegerList implements List&lt;Integer&gt; { ... }\r\n```\r\n\r\nWhy doesn&#39;t the type get erased when implemented via inheritance?","title":"Why doesn&#39;t Java erase types in an inheritance chain?","body":"<p>Type erasure only seems to occur when instantiating a generic type, but if you extend a generic type and provide a concrete type in place of <code>T</code>, the type is available at runtime. It seems to be the only time that the type isn't erased.</p>\n<p>In the following example, <code>String</code> will be erased:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; text = new ArrayList&lt;&gt;();\n</code></pre>\n<p>In the following example, as the implementation is still generic, any usage of it will erase whatever is in place of <code>T</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class ArrayList&lt;T&gt; implements List&lt;T&gt; { ... }\n</code></pre>\n<p>But, the moment the implementation is no longer generic, where <code>T</code> has been replaced by a concrete type in the inheritance chain, it's discoverable via reflection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class IntegerList implements List&lt;Integer&gt; { ... }\n</code></pre>\n<p>Why doesn't the type get erased when implemented via inheritance?</p>\n"},{"tags":["java","image-processing","awt","bufferedimage","imagej"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1350964936,"creation_date":1350964094,"answer_id":13023272,"question_id":13023248,"body_markdown":"From the docs for [`ImagePlus(String,java.awt.Image)`](http://rsb.info.nih.gov/ij/developer/api/ij/ImagePlus.html#ImagePlus%28java.lang.String,%20java.awt.Image%29).\r\n\r\n&gt; Constructs an ImagePlus from an Image **or BufferedImage.** ..\r\n\r\n**Result:**  Create an `ImagePlus` using that constructor whenever needed.","title":"ImageJ compatibility with BufferedImage","body":"<p>From the docs for <a href=\"http://rsb.info.nih.gov/ij/developer/api/ij/ImagePlus.html#ImagePlus%28java.lang.String,%20java.awt.Image%29\" rel=\"nofollow\"><code>ImagePlus(String,java.awt.Image)</code></a>.</p>\n\n<blockquote>\n  <p>Constructs an ImagePlus from an Image <strong>or BufferedImage.</strong> ..</p>\n</blockquote>\n\n<p><strong>Result:</strong>  Create an <code>ImagePlus</code> using that constructor whenever needed.</p>\n"},{"tags":[],"owner":{"account_id":26152735,"reputation":1,"user_id":19840434,"display_name":"Iv&#225;n AG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676484266,"creation_date":1676484266,"answer_id":75463803,"question_id":13023248,"body_markdown":"    public static void processImage(InputStream inputFile, String outputFilePath, double scaleFactor, int interpolationMethod, double sigmaFactor) {\r\n        try {\r\n            BufferedImage bi = ImageIO.read(inputFile);\r\n            ImageProcessor ip = new ColorProcessor(bi);\r\n            ip.blurGaussian(sigmaFactor / scaleFactor);\r\n            ip.setInterpolationMethod(interpolationMethod);\r\n            ImageProcessor outputProcessor = ip.resize((int) (ip.getWidth() * scaleFactor), (int) (ip.getHeight() * scaleFactor));\r\n            IJ.saveAs(new ImagePlus(&quot;&quot;, outputProcessor), outputFilePath.substring(outputFilePath.lastIndexOf(&#39;.&#39;) + 1), outputFilePath);\r\n        } catch (Exception e) {\r\n             System.out.println(&quot;Error al comrpimir la imagen: &quot;+e);\r\n        }\r\n    }","title":"ImageJ compatibility with BufferedImage","body":"<pre><code>public static void processImage(InputStream inputFile, String outputFilePath, double scaleFactor, int interpolationMethod, double sigmaFactor) {\n    try {\n        BufferedImage bi = ImageIO.read(inputFile);\n        ImageProcessor ip = new ColorProcessor(bi);\n        ip.blurGaussian(sigmaFactor / scaleFactor);\n        ip.setInterpolationMethod(interpolationMethod);\n        ImageProcessor outputProcessor = ip.resize((int) (ip.getWidth() * scaleFactor), (int) (ip.getHeight() * scaleFactor));\n        IJ.saveAs(new ImagePlus(&quot;&quot;, outputProcessor), outputFilePath.substring(outputFilePath.lastIndexOf('.') + 1), outputFilePath);\n    } catch (Exception e) {\n         System.out.println(&quot;Error al comrpimir la imagen: &quot;+e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1863565,"reputation":191,"user_id":1687610,"accept_rate":88,"display_name":"buwaneka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3392,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13023272,"answer_count":2,"score":3,"last_activity_date":1676484266,"creation_date":1350963806,"question_id":13023248,"body_markdown":"Can I use `BufferedImage` objects from `java.awt.image.BufferedImage` with ImageJ class instances?  For example can I use `BufferedImage` object *instead of* an `ImagePlus` object?","title":"ImageJ compatibility with BufferedImage","body":"<p>Can I use <code>BufferedImage</code> objects from <code>java.awt.image.BufferedImage</code> with ImageJ class instances?  For example can I use <code>BufferedImage</code> object <em>instead of</em> an <code>ImagePlus</code> object?</p>\n"},{"tags":["java","spring","spring-boot","netty","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642325231,"post_id":70727609,"comment_id":125036665,"body_markdown":"it depends, if you are writing a pure webflux application then blocking is very very bad for performance, and you get the exception because it is not allowed. `I need the operation to be blocking because I will be using the result later in the code` could you please update your code to elaborate on this statement, why do you need the result later. We need more context to give you a proper answer.","body":"it depends, if you are writing a pure webflux application then blocking is very very bad for performance, and you get the exception because it is not allowed. <code>I need the operation to be blocking because I will be using the result later in the code</code> could you please update your code to elaborate on this statement, why do you need the result later. We need more context to give you a proper answer."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642349842,"post_id":70727609,"comment_id":125041994,"body_markdown":"Its still very little context, plese put in some effort if you expect us to do the same, which means my answer will be very short. Use the `flatMap` function, if you dont know what that means i suggest you read the reactor documentation since  `flatMap` is the absolut basic of reactive programming.","body":"Its still very little context, plese put in some effort if you expect us to do the same, which means my answer will be very short. Use the <code>flatMap</code> function, if you dont know what that means i suggest you read the reactor documentation since  <code>flatMap</code> is the absolut basic of reactive programming."},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":1,"creation_date":1642361467,"post_id":70727609,"comment_id":125045014,"body_markdown":"the important question is, as @Toerktumlare asked before, &quot;is this a purely webflux application?&quot; If so, you should not be blocking ever.","body":"the important question is, as @Toerktumlare asked before, &quot;is this a purely webflux application?&quot; If so, you should not be blocking ever."},{"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"score":0,"creation_date":1642366618,"post_id":70727609,"comment_id":125046211,"body_markdown":"@MichaelMcFadyen This is actually not a purely webflux application. I need both blocking and non-blocking. But instead of using RestTemplate for blocking, I wanted to use WebClient because I already have the WebClient configuration and RestTemplate will be deprecated in the future.","body":"@MichaelMcFadyen This is actually not a purely webflux application. I need both blocking and non-blocking. But instead of using RestTemplate for blocking, I wanted to use WebClient because I already have the WebClient configuration and RestTemplate will be deprecated in the future."},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1642366940,"post_id":70727609,"comment_id":125046265,"body_markdown":"@MA1 thanks for responding. It may be helpful to add that piece of information into the question.","body":"@MA1 thanks for responding. It may be helpful to add that piece of information into the question."},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1642369160,"post_id":70727609,"comment_id":125046737,"body_markdown":"I believe you can use `.toFuture().get()` instead of .`block()`","body":"I believe you can use <code>.toFuture().get()</code> instead of .<code>block()</code>"},{"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"score":0,"creation_date":1642391751,"post_id":70727609,"comment_id":125050117,"body_markdown":"@MichaelMcFadyen When I use `.toFuture().get()`, the application gets stuck at that line of code and never execute the next line (something similar to the infinite loop)","body":"@MichaelMcFadyen When I use <code>.toFuture().get()</code>, the application gets stuck at that line of code and never execute the next line (something similar to the infinite loop)"},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1642413817,"post_id":70727609,"comment_id":125055476,"body_markdown":"maybe you have an issue where your `Mono` is never emitting a value causing the `Future` to never complete. You can pass in a timeout into the `get()` method ie. `.toFuture().get(1, TimeUnit.SECONDS)`","body":"maybe you have an issue where your <code>Mono</code> is never emitting a value causing the <code>Future</code> to never complete. You can pass in a timeout into the <code>get()</code> method ie. <code>.toFuture().get(1, TimeUnit.SECONDS)</code>"}],"answers":[{"tags":[],"owner":{"account_id":14898237,"reputation":1,"user_id":10757824,"display_name":"Mukesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658209070,"creation_date":1658171450,"answer_id":73027451,"question_id":70727609,"body_markdown":"Reactive apis/processes are not supposed to operate outside the publisher pipelines which are to be subscribed by the client or the browser. If you need to access a publisher&#39;s data in your api, you can use flatMap to integrate it in your publisher pipeline and drive your business logic with this which will be executed after the client subscribes to the publisher.\r\n\r\nYou can use something like this if you want to use an integer value to drive your business logic\r\n\r\n```\r\n    Mono&lt;Void&gt; useValFromMono() {\r\n        return getMono().flatMap(valFromMono -&gt; getPublisherBasedOnVal(valFromMono));\r\n    }\r\n\r\n    Mono&lt;Integer&gt; getMono() {\r\n        return Mono.fromSupplier(() -&gt; getInteger());\r\n    }\r\n\r\n    private Integer getInteger() {\r\n        return new Random().nextInt(10);\r\n    }\r\n\r\n    Mono&lt;Void&gt; getPublisherBasedOnVal(Integer integer) {\r\n        if(integer == 2) {\r\n            return Mono.fromRunnable(() -&gt; System.out.println(&quot;Its 2!&quot;));\r\n        }\r\n        return Mono.empty();\r\n    }\r\n```\r\n\r\nIn your case you could do\r\n```\r\n  return webClient.get()\r\n           .uri(&quot;MY_URL&quot;)\r\n           .accept(MediaType.APPLICATION_JSON)\r\n           .retrieve()\r\n           .bodyToMono(Student.class)\r\n           .flatMap(student -&gt; verifyStudentInfo(student) ? Mono.fromRunnable(() -&gt; method1()) : Mono.fromRunnable((() -&gt; method2())));\r\n```","title":"block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5","body":"<p>Reactive apis/processes are not supposed to operate outside the publisher pipelines which are to be subscribed by the client or the browser. If you need to access a publisher's data in your api, you can use flatMap to integrate it in your publisher pipeline and drive your business logic with this which will be executed after the client subscribes to the publisher.</p>\n<p>You can use something like this if you want to use an integer value to drive your business logic</p>\n<pre><code>    Mono&lt;Void&gt; useValFromMono() {\n        return getMono().flatMap(valFromMono -&gt; getPublisherBasedOnVal(valFromMono));\n    }\n\n    Mono&lt;Integer&gt; getMono() {\n        return Mono.fromSupplier(() -&gt; getInteger());\n    }\n\n    private Integer getInteger() {\n        return new Random().nextInt(10);\n    }\n\n    Mono&lt;Void&gt; getPublisherBasedOnVal(Integer integer) {\n        if(integer == 2) {\n            return Mono.fromRunnable(() -&gt; System.out.println(&quot;Its 2!&quot;));\n        }\n        return Mono.empty();\n    }\n</code></pre>\n<p>In your case you could do</p>\n<pre><code>  return webClient.get()\n           .uri(&quot;MY_URL&quot;)\n           .accept(MediaType.APPLICATION_JSON)\n           .retrieve()\n           .bodyToMono(Student.class)\n           .flatMap(student -&gt; verifyStudentInfo(student) ? Mono.fromRunnable(() -&gt; method1()) : Mono.fromRunnable((() -&gt; method2())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676484111,"creation_date":1676484111,"answer_id":75463769,"question_id":70727609,"body_markdown":"It looks like you code is called from some WebFlux controller and there is no reason to block here. You could just continue the flow and return `Mono&lt;T&gt;` from the controller.\r\n\r\nConsider something like\r\n\r\n```\r\nMono&lt;Student&gt; getStudent() {\r\n    return webClient.get()\r\n            .uri(&quot;MY_URL&quot;)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .retrieve()\r\n            .bodyToMono(Student.class)\r\n            .map(student -&gt; {\r\n                boolean isValid = verifyStudentInfo(student);\r\n                if (isValid) {\r\n                    return method1();\r\n                } else {\r\n                    return method2();\r\n                }\r\n            });\r\n```\r\n\r\nSome people suggested `toFuture().get()` but it is technically the same as `block()`. It will not result in exception `block()/blockFirst()/blockLast() are blocking, which is not supported in thread ...` because it&#39;s out of Reactor API control but problem is still the same because this operation is blocking and you just hide the issue.\r\n\r\n\r\nIf you really need to call blocking code (for example, some legacy code that is still using `RestTemplate`) from the reactive flow, wrap it into `Runnable` or `Callable` and schedule on a separate `Scheduler`. Check [How Do I Wrap a Synchronous, Blocking Call?](https://projectreactor.io/docs/core/release/reference/index.html#faq.wrap-blocking) for details.\r\n\r\n  ","title":"block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5","body":"<p>It looks like you code is called from some WebFlux controller and there is no reason to block here. You could just continue the flow and return <code>Mono&lt;T&gt;</code> from the controller.</p>\n<p>Consider something like</p>\n<pre><code>Mono&lt;Student&gt; getStudent() {\n    return webClient.get()\n            .uri(&quot;MY_URL&quot;)\n            .accept(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .bodyToMono(Student.class)\n            .map(student -&gt; {\n                boolean isValid = verifyStudentInfo(student);\n                if (isValid) {\n                    return method1();\n                } else {\n                    return method2();\n                }\n            });\n</code></pre>\n<p>Some people suggested <code>toFuture().get()</code> but it is technically the same as <code>block()</code>. It will not result in exception <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread ...</code> because it's out of Reactor API control but problem is still the same because this operation is blocking and you just hide the issue.</p>\n<p>If you really need to call blocking code (for example, some legacy code that is still using <code>RestTemplate</code>) from the reactive flow, wrap it into <code>Runnable</code> or <code>Callable</code> and schedule on a separate <code>Scheduler</code>. Check <a href=\"https://projectreactor.io/docs/core/release/reference/index.html#faq.wrap-blocking\" rel=\"nofollow noreferrer\">How Do I Wrap a Synchronous, Blocking Call?</a> for details.</p>\n"}],"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2662,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676484111,"creation_date":1642310640,"question_id":70727609,"body_markdown":"I&#39;m using spring boot version &#39;2.4.5&#39; and &#39;org.springframework.boot:spring-boot-starter-webflux&#39;. When I try to execute the code below, I get the following error `block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5`\r\nI tried to use toFuture() and share() methods, but they didn&#39;t work. \r\n\r\n\r\n        String Student = webClient.get()\r\n                .uri(&quot;MY_URL&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(Student.class)\r\n                .block();\r\n        \r\n        boolean isValid = verifyStudentInfo(student);\r\n        \r\n        if (isValid) {\r\n            method1();\r\n        } else {\r\n            method2();\r\n        }\r\n\r\n\r\nIn my case, I need the operation to be blocking because I will be using the result later in the code. I didn&#39;t want to use RestTemplate because it will be deprecated and I already have WebClient configuration in my project including ReactiveClientRegistrationRepository.\r\n\r\nIs there anyway I can enable blocking operations? ","title":"block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5","body":"<p>I'm using spring boot version '2.4.5' and 'org.springframework.boot:spring-boot-starter-webflux'. When I try to execute the code below, I get the following error <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5</code>\nI tried to use toFuture() and share() methods, but they didn't work.</p>\n<pre><code>    String Student = webClient.get()\n            .uri(&quot;MY_URL&quot;)\n            .accept(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .bodyToMono(Student.class)\n            .block();\n    \n    boolean isValid = verifyStudentInfo(student);\n    \n    if (isValid) {\n        method1();\n    } else {\n        method2();\n    }\n</code></pre>\n<p>In my case, I need the operation to be blocking because I will be using the result later in the code. I didn't want to use RestTemplate because it will be deprecated and I already have WebClient configuration in my project including ReactiveClientRegistrationRepository.</p>\n<p>Is there anyway I can enable blocking operations?</p>\n"},{"tags":["java","apache-kafka","apache-storm"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676486661,"post_id":75463744,"comment_id":133148455,"body_markdown":"&quot;Clearly&quot;? Based on what?","body":"&quot;Clearly&quot;? Based on what?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676486703,"post_id":75463744,"comment_id":133148467,"body_markdown":"What Kafka server version are you actually using? 0.8 is almost 7+ years old! You never upgraded?","body":"What Kafka server version are you actually using? 0.8 is almost 7+ years old! You never upgraded?"},{"owner":{"account_id":23413680,"reputation":1,"user_id":21221465,"display_name":"goodname"},"score":0,"creation_date":1676486806,"post_id":75463744,"comment_id":133148495,"body_markdown":"@OneCricketeer Yes, and  I can not upgrade kafka  for now for legacy reasons.","body":"@OneCricketeer Yes, and  I can not upgrade kafka  for now for legacy reasons."},{"owner":{"account_id":23413680,"reputation":1,"user_id":21221465,"display_name":"goodname"},"score":0,"creation_date":1676486878,"post_id":75463744,"comment_id":133148519,"body_markdown":"@OneCricketeer I did checked the class file exists in the topology jars. And not all the supervisor hosts are failling, some of them is working correctly, this is another proof","body":"@OneCricketeer I did checked the class file exists in the topology jars. And not all the supervisor hosts are failling, some of them is working correctly, this is another proof"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676487466,"post_id":75463744,"comment_id":133148713,"body_markdown":"I dont use Strom, but I know in Hadoop/Spark, there is a config like `user.classpath.first`. Without this, it&#39;ll always use the JARs on the servers **before**  any of those added in the &quot;user JAR&quot;","body":"I dont use Strom, but I know in Hadoop/Spark, there is a config like <code>user.classpath.first</code>. Without this, it&#39;ll always use the JARs on the servers <b>before</b>  any of those added in the &quot;user JAR&quot;"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1676544566,"post_id":75463744,"comment_id":133160004,"body_markdown":"java.lang.NoClassDefFoundError This exception indicates that the JVM looked in its internal class definition data structure for the definition of a class and did not find it. This is different than saying that it could not be loaded from the classpath. Here you can expand information: https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java/5756989#5756989","body":"java.lang.NoClassDefFoundError This exception indicates that the JVM looked in its internal class definition data structure for the definition of a class and did not find it. This is different than saying that it could not be loaded from the classpath. Here you can expand information: <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java/5756989#5756989\" title=\"why am i getting a noclassdeffounderror in java\">stackoverflow.com/questions/34413/&hellip;</a>"}],"owner":{"account_id":23413680,"reputation":1,"user_id":21221465,"display_name":"goodname"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676483950,"creation_date":1676483950,"question_id":75463744,"body_markdown":"I am running a topology to read from 100 kafka topics using 100 storm spouts and then 50 bolts emitting the data to my own data processing class, consisting of 10 instances/threads for each bolt. I am getting the following errors now and then(not always) only on some of the supervisor hosts(not always the same). I clearly have `com.yammer.metrics.Metrics` in my classpath.   \r\nHowever the error keeps bugging me:\r\n\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class com.yammer.metrics.Metrics\r\n\tat kafka.metrics.KafkaMetricsGroup$class.newTimer(KafkaMetricsGroup.scala:52)\r\n\tat kafka.consumer.FetchRequestAndResponseMetrics.newTimer(FetchRequestAndResponseStats.scala:25)\r\n\tat kafka.consumer.FetchRequestAndResponseMetrics.&lt;init&gt;(FetchRequestAndResponseStats.scala:26)\r\n\tat kafka.consumer.FetchRequestAndResponseStats.&lt;init&gt;(FetchRequestAndResponseStats.scala:37)\r\n\tat kafka.consumer.FetchRequestAndResponseStatsRegistry$$anonfun$2.apply(FetchRequestAndResponseStats.scala:50)\r\n\tat kafka.consumer.FetchRequestAndResponseStatsRegistry$$anonfun$2.apply(FetchRequestAndResponseStats.scala:50)\r\n\tat kafka.utils.Pool.getAndMaybePut(Pool.scala:61)\r\n\tat kafka.consumer.FetchRequestAndResponseStatsRegistry$.getFetchRequestAndResponseStats(FetchRequestAndResponseStats.scala:54)\r\n\tat kafka.consumer.SimpleConsumer.&lt;init&gt;(SimpleConsumer.scala:39)\r\n\tat kafka.javaapi.consumer.SimpleConsumer.&lt;init&gt;(SimpleConsumer.scala:34)\r\n\tat storm.kafka.DynamicPartitionConnections.register(DynamicPartitionConnections.java:43)\r\n\tat storm.kafka.PartitionManager.&lt;init&gt;(PartitionManager.java:58)\r\n\tat storm.kafka.ZkCoordinator.refresh(ZkCoordinator.java:78)\r\n\tat storm.kafka.ZkCoordinator.getMyManagedPartitions(ZkCoordinator.java:45)\r\n\tat storm.kafka.KafkaSpoutWrapper.nextTuple(KafkaSpoutWrapper.java:74)\r\n\tat backtype.storm.daemon.executor$fn__8840$fn__8855$fn__8886.invoke(executor.clj:577)\r\n\tat backtype.storm.util$async_loop$fn__551.invoke(util.clj:491)\r\n\tat clojure.lang.AFn.run(AFn.java:22)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nAny one having any ideas about this would be greatly appreciated! Thanks!\r\nThe storm version I am using: 0.10.2\r\nThe kafka version I am using: kafka_2.10-0.8.2.1\r\n\r\n\r\n\r\nThe error is weird because it is not always happening and also not always happening for the same supervisor host, not for all the supervisor hosts. I dont know where to begin with","title":"NoClassDefFoundError: Could not initialize class com.yammer.metrics.Metrics on storm supervisors when trying to read topics from kafka","body":"<p>I am running a topology to read from 100 kafka topics using 100 storm spouts and then 50 bolts emitting the data to my own data processing class, consisting of 10 instances/threads for each bolt. I am getting the following errors now and then(not always) only on some of the supervisor hosts(not always the same). I clearly have <code>com.yammer.metrics.Metrics</code> in my classpath.<br />\nHowever the error keeps bugging me:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class com.yammer.metrics.Metrics\n    at kafka.metrics.KafkaMetricsGroup$class.newTimer(KafkaMetricsGroup.scala:52)\n    at kafka.consumer.FetchRequestAndResponseMetrics.newTimer(FetchRequestAndResponseStats.scala:25)\n    at kafka.consumer.FetchRequestAndResponseMetrics.&lt;init&gt;(FetchRequestAndResponseStats.scala:26)\n    at kafka.consumer.FetchRequestAndResponseStats.&lt;init&gt;(FetchRequestAndResponseStats.scala:37)\n    at kafka.consumer.FetchRequestAndResponseStatsRegistry$$anonfun$2.apply(FetchRequestAndResponseStats.scala:50)\n    at kafka.consumer.FetchRequestAndResponseStatsRegistry$$anonfun$2.apply(FetchRequestAndResponseStats.scala:50)\n    at kafka.utils.Pool.getAndMaybePut(Pool.scala:61)\n    at kafka.consumer.FetchRequestAndResponseStatsRegistry$.getFetchRequestAndResponseStats(FetchRequestAndResponseStats.scala:54)\n    at kafka.consumer.SimpleConsumer.&lt;init&gt;(SimpleConsumer.scala:39)\n    at kafka.javaapi.consumer.SimpleConsumer.&lt;init&gt;(SimpleConsumer.scala:34)\n    at storm.kafka.DynamicPartitionConnections.register(DynamicPartitionConnections.java:43)\n    at storm.kafka.PartitionManager.&lt;init&gt;(PartitionManager.java:58)\n    at storm.kafka.ZkCoordinator.refresh(ZkCoordinator.java:78)\n    at storm.kafka.ZkCoordinator.getMyManagedPartitions(ZkCoordinator.java:45)\n    at storm.kafka.KafkaSpoutWrapper.nextTuple(KafkaSpoutWrapper.java:74)\n    at backtype.storm.daemon.executor$fn__8840$fn__8855$fn__8886.invoke(executor.clj:577)\n    at backtype.storm.util$async_loop$fn__551.invoke(util.clj:491)\n    at clojure.lang.AFn.run(AFn.java:22)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Any one having any ideas about this would be greatly appreciated! Thanks!\nThe storm version I am using: 0.10.2\nThe kafka version I am using: kafka_2.10-0.8.2.1</p>\n<p>The error is weird because it is not always happening and also not always happening for the same supervisor host, not for all the supervisor hosts. I dont know where to begin with</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"score":0,"creation_date":1642497043,"post_id":65907728,"comment_id":125079698,"body_markdown":"Were you able to find out the resolution, even am facing the same!","body":"Were you able to find out the resolution, even am facing the same!"}],"answers":[{"tags":[],"owner":{"account_id":9147241,"reputation":11,"user_id":6802948,"display_name":"Chien.Tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676483894,"creation_date":1676262963,"answer_id":75431929,"question_id":65907728,"body_markdown":"How about `open-in-view`, did u set it to `false`?","title":"Spring @Transactional not returning connection to Hikari pool","body":"<p>How about <code>open-in-view</code>, did u set it to <code>false</code>?</p>\n"}],"owner":{"account_id":1380999,"reputation":1065,"user_id":1313990,"accept_rate":22,"display_name":"Mike Cooper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676483894,"creation_date":1611688144,"question_id":65907728,"body_markdown":"I have a REST based application server built on embedded jetty, spring boot, and hibernate. It uses an MS SQL backend database.\r\n\r\nMy @Transactional methods work but do not appear to close the db connection eventually resulting in no available hikari pool members:\r\n\r\n    java.sql.SQLTransientConnectionException: HikariPoolProduct - Connection is not available, request timed out after 30003ms.\r\n\r\nShortly after the above I will see the following hikari stats:\r\n\r\n    10:29:24.774 [HikariPoolProduct housekeeper] DEBUG HikariPoolProduct - Pool stats (total=50, active=49, idle=1, waiting=0)\r\n    10:29:24.774 [HikariPoolProduct housekeeper] DEBUG HikariPoolProduct - Fill pool skipped, pool is at sufficient level.\r\n\r\nI would expect active to be 1 or 0.\r\n\r\nIn my test case I have my hikari pool size set to 50. When I repeatedly have my client call the server CertificatePolicyEntityResource.get() via REST it works fine until it tries #51 and then it fails as indicated above.\r\n\r\nI&#39;m using @Transactional methods and I&#39;m pretty sure the wrapper/proxy is suppose to free the hikari pool member (via a db virtual/proxy close) before returning.  This doesn&#39;t seem to be happening.\r\n\r\nMy code call tree:\r\n\r\n    client -&gt; [REST] -&gt; CertificatePolicyEntityResource.get() -&gt;\r\n    CertificatePolicyEntityServletAdapter.get() -&gt;\r\n    DomainRegistryModelProxy.certificatePolicyService() // Use spring ApplicationContext to retrieve CertificatePolicyServiceRepositoryImpl\r\n    CertificatePolicyServiceRepositoryImpl.size() and .allCertificatePolicies() // These are @Transactional\r\n\r\nHere is my service class CertificatePolicyServiceRepositoryImpl which has the @Transactional methods:\r\n\r\n    package cmb.domain.model.certpolicy;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    @Service\r\n    @Accessors( fluent = true )\r\n    public class CertificatePolicyServiceRepositoryImpl implements CertificatePolicyService {\r\n            @Getter\r\n            private CertificatePolicyRepository             certificatePolicyRepository;\r\n    \r\n            public CertificatePolicyServiceRepositoryImpl(CertificatePolicyRepository certificatePolicyRepository) {\r\n                    this.certificatePolicyRepository = certificatePolicyRepository;\r\n            }\r\n    \r\n            @Override\r\n            @Transactional\r\n            public CertificatePolicy certificatePolicyOfId(String id) {\r\n                    return certificatePolicyRepository().certificatePolicyOfId(id);\r\n            }\r\n    \r\n            @Override\r\n            @Transactional\r\n            public List&lt;CertificatePolicy&gt; allCertificatePolicies() {\r\n                    return certificatePolicyRepository().allCertificatePolicies();\r\n            }\r\n    \r\n        @Override\r\n            @Transactional\r\n            public List&lt;CertificatePolicy&gt; allActiveCertificatePolicies() {\r\n                    return certificatePolicyRepository().allActiveCertificatePolicies();\r\n            }\r\n    \r\n            @Override\r\n            @Transactional(readOnly = true)\r\n            public int size() {\r\n                    return certificatePolicyRepository().size();\r\n            }\r\n    \r\n    }\r\n\r\nCertificatePolicyEntityResource.java:\r\n\r\n    package cmb.cabridge.port.servlet.resource;\r\n    \r\n    import javax.ws.rs.BeanParam;\r\n    import javax.ws.rs.Consumes;\r\n    import javax.ws.rs.DELETE;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.QueryParam;\r\n        \r\n    @Path(CaBridgeCommandValues.RESOURCE_CERTIFICATEPOLICYENTITY)\r\n    public class CertificatePolicyEntityResource extends AbstractCaBridgeResource {\r\n            @BeanParam\r\n            private NetworkRequestContext                                   requestContext;\r\n    \r\n            @GET\r\n            @Path(CaBridgeCommandValues.SUBRESOURCE_CERTIFICATEPOLICYENTITY_GET + &quot;/{id}&quot;)\r\n            public CertificatePolicyEntityResponse get(@PathParam(&quot;id&quot;) String idList,\r\n                            @QueryParam(CertificatePolicyRequestFlags.FLAG_MINIENTITY) boolean miniEntityEnabled) {\r\n                    final String function = &quot;Get by ID&quot;;\r\n                    ResponseHandler handler = createResponseHandler(m, function);\r\n    \r\n                    try {\r\n                            processRequest(requestContext,\r\n                                            CaBridgeCommand.getInstance().create(CaBridgeCommandValues.CertificatePolicyEntityGet));\r\n                            CertificatePolicyEntityResponse response = new CertificatePolicyEntityServletAdapter(caBridgeSessionContext())\r\n                                            .get(idList, miniEntityEnabled);\r\n    \r\n                            handler.succeeded(response);\r\n                            return response;\r\n                    } catch (Throwable e) {\r\n                            CertificatePolicyEntityResponse response = new CertificatePolicyEntityResponse();\r\n                            handler.failed(e, response);\r\n                            return response;\r\n                    }\r\n            }\r\n    \r\n    }\r\n\r\nAdapter:\r\n\r\n    package cmb.cabridge.port.servlet.adapter;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Service;\r\n        \r\n    @Component\r\n    public class CertificatePolicyEntityServletAdapter extends AbstractCaBridgeCommonServletAdapter {\r\n    \r\n            private CertificatePolicyService certificatePolicyService() {\r\n                /*\r\n                 * Retrieve bean using Spring ApplicationContext\r\n                 */\r\n                    return DomainRegistryModelProxy.certificatePolicyService();\r\n            }\r\n    \r\n            public CertificatePolicyEntityResponse get(String searchValue, boolean miniEntityEnabled) {\r\n                    List&lt;CertificatePolicyEntity&gt; results = new ArrayList&lt;&gt;();\r\n                    entityConverter().setMiniEntityEnabled(miniEntityEnabled);\r\n    \r\n                    if (searchValue == null || searchValue.equalsIgnoreCase(GlobalConstantStandard.ALL)) {\r\n                            if (certificatePolicyService().size() &gt; 0)\r\n                                    certificatePolicyService().allCertificatePolicies().stream().forEach(\r\n                                                    item -&gt; results.add(entityConverter.toEntity(item))\r\n                                                                    );\r\n                    } else {\r\n                            List&lt;String&gt; ids = StringTool.splitAsList(searchValue, &quot;,&quot;);\r\n                            for (String id : ids) {\r\n                                    CertificatePolicy item = certificatePolicyService()\r\n                                                                                            .certificatePolicyOfIdOrName(id);\r\n                                    if (item != null)\r\n                                            results.add(entityConverter.toEntity(item));\r\n                            }\r\n                    }\r\n    \r\n                    CertificatePolicyEntityResponse response = new CertificatePolicyEntityResponse();\r\n                    if (results.size() == 0) {\r\n                            String message = &quot;No &quot; + what + &quot; found for ID/Name(s) &quot; + searchValue;\r\n                            log.info(&quot;%s&quot;, message);\r\n                            response.setMessage(message);\r\n                            response.setResult(Result.FAILED);\r\n                            response.setFailureType(FailureType.NOTFOUND);\r\n                    } else {\r\n                            response.setEntities( results );\r\n                            response.setResult(Result.SUCCEEDED);\r\n                    }\r\n    \r\n                    return response;\r\n            }\r\n    }\r\n\r\nDatasource class:\r\n\r\n    package cmb.cabridge.infrastructure.persistence.hibernate;\r\n    \r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import com.zaxxer.hikari.HikariConfig;\r\n    import com.zaxxer.hikari.HikariDataSource;\r\n    \r\n    import cmb.common.infrastructure.DatabaseConfigurationTool;\r\n    import cmb.domain.model.CmbDomainModelMarker;\r\n    import cmb.product.domain.model.CmbProductDomainModelMarker;\r\n    \r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.util.Properties;\r\n    \r\n    /**\r\n     * CAB Hibernate Product Database Configuration\r\n     */\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n        entityManagerFactoryRef = HibernateProductDatabaseConfiguration.PRODUCT_ENTITY_MANAGER,\r\n        transactionManagerRef = HibernateProductDatabaseConfiguration.PRODUCT_TX_MANAGER\r\n    )\r\n    @EnableTransactionManagement\r\n    public class HibernateProductDatabaseConfiguration {\r\n            private Trace                                                                   log = TraceFactory.create(this);\r\n            /*\r\n             * Packages that Spring should scan to find @Entity classes\r\n             */\r\n            private static final String [] PACKAGES_TO_SCAN = {\r\n                            MangoDomainModelMarker.class.getPackage().getName(),\r\n                            CmbDomainModelMarker.class.getPackage().getName(),\r\n                            CmbProductDomainModelMarker.class.getPackage().getName()\r\n            };\r\n    \r\n            public static final String                                              PRODUCT_ENTITY_MANAGER = &quot;productEntityManager&quot;;\r\n            public static final String                                              PRODUCT_TX_MANAGER = &quot;productTransactionManager&quot;;\r\n            public static final String                                              SESSION_FACTORY_PRODUCT = &quot;sessionFactoryProduct&quot;;\r\n            // Default size of 10 is too small for CAB\r\n            private static final int                                                MAX_POOL_SIZE = 250;\r\n            private static final int                                                MAX_LIFETIME_SECONDS = 2 * 60; // XXX debug value\r\n            //private static final int                                              MAX_LIFETIME_SECONDS = 60 * 60; // 1 hour\r\n            private static final int                                                IDLE_TIMEOUT_SECONDS = 15 * 60;\r\n            private static final int                                                LEAK_DETECTION_THRESHOLD_SECONDS = 30;\r\n            private static final int                                                CONNECTION_TIMEOUT_SECONDS = 30;\r\n    \r\n            @Bean(name = SESSION_FACTORY_PRODUCT)\r\n            @Primary\r\n            public SessionFactory sessionFactoryProduct() {\r\n                    return sessionFactoryProductBean().getObject();\r\n            }\r\n    \r\n            @Bean\r\n            @Primary\r\n        public LocalSessionFactoryBean sessionFactoryProductBean() {\r\n            LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n            sessionFactory.setDataSource(productDataSource());\r\n            sessionFactory.setPackagesToScan( PACKAGES_TO_SCAN );\r\n            sessionFactory.setHibernateProperties(hibernateProperties());\r\n    \r\n            return sessionFactory;\r\n        }\r\n    \r\n        @Bean\r\n            @Primary\r\n        public DataSource productDataSource() {\r\n            /*\r\n             * Get the PersistenceConfiguration from persistconfig.properties and\r\n             * then build Creator to format the configuration data as needed.\r\n             */\r\n            PersistenceConfiguration cf = ProductConfig.getPersistenceConfiguration();\r\n            if (cf == null || cf.getDataBaseName() == null)\r\n                    throw new ConfigurationException(&quot;Failed to load persistence configuration&quot;);\r\n            HibernatePropertiesCreator propCreator = new HibernatePropertiesCreator(cf);\r\n    \r\n            log.info(&quot;Creating Product DataSource with url %s&quot;, propCreator.createUrl());\r\n    \r\n            /*\r\n             * Use Hikari specific config so we can configure maximumPoolSize which\r\n             * is critical to having a large enough pool.\r\n             */\r\n            HikariConfig config = new HikariConfig();\r\n            config.setPoolName(&quot;HikariPool&quot; + &quot;Product&quot;);\r\n            config.setJdbcUrl( propCreator.createUrl() );\r\n            config.setUsername( cf.getUserName() );\r\n            config.setPassword( cf.getUserPassword() );\r\n            config.setDriverClassName( propCreator.getDriverClass() );\r\n            config.setMaximumPoolSize( DatabaseConfigurationTool.maxPoolSize(&quot;product&quot;, MAX_POOL_SIZE) );\r\n            config.setConnectionTimeout(CONNECTION_TIMEOUT_SECONDS * 1000);\r\n            config.setMaxLifetime(MAX_LIFETIME_SECONDS * 1000);\r\n    //      config.setIdleTimeout(IDLE_TIMEOUT_SECONDS * 1000);\r\n            // Report connection leaks with stacktrace\r\n            config.setLeakDetectionThreshold( LEAK_DETECTION_THRESHOLD_SECONDS * 1000 );\r\n    \r\n            return new HikariDataSource( config );\r\n        }\r\n    \r\n        @Bean\r\n            @Primary\r\n        public PlatformTransactionManager productTransactionManager() {\r\n            HibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n            transactionManager.setSessionFactory(sessionFactoryProduct());\r\n            return transactionManager;\r\n        }\r\n    \r\n        private final Properties hibernateProperties() {\r\n            Properties hibernateProperties = new Properties();\r\n            hibernateProperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n            //hibernateProperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\r\n            // Use new IdentifierGenerator\r\n            hibernateProperties.setProperty(&quot;hibernate.id.new_generator_mappings&quot;, &quot;true&quot;);\r\n    \r\n            return hibernateProperties;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Spring @Transactional not returning connection to Hikari pool","body":"<p>I have a REST based application server built on embedded jetty, spring boot, and hibernate. It uses an MS SQL backend database.</p>\n<p>My @Transactional methods work but do not appear to close the db connection eventually resulting in no available hikari pool members:</p>\n<pre><code>java.sql.SQLTransientConnectionException: HikariPoolProduct - Connection is not available, request timed out after 30003ms.\n</code></pre>\n<p>Shortly after the above I will see the following hikari stats:</p>\n<pre><code>10:29:24.774 [HikariPoolProduct housekeeper] DEBUG HikariPoolProduct - Pool stats (total=50, active=49, idle=1, waiting=0)\n10:29:24.774 [HikariPoolProduct housekeeper] DEBUG HikariPoolProduct - Fill pool skipped, pool is at sufficient level.\n</code></pre>\n<p>I would expect active to be 1 or 0.</p>\n<p>In my test case I have my hikari pool size set to 50. When I repeatedly have my client call the server CertificatePolicyEntityResource.get() via REST it works fine until it tries #51 and then it fails as indicated above.</p>\n<p>I'm using @Transactional methods and I'm pretty sure the wrapper/proxy is suppose to free the hikari pool member (via a db virtual/proxy close) before returning.  This doesn't seem to be happening.</p>\n<p>My code call tree:</p>\n<pre><code>client -&gt; [REST] -&gt; CertificatePolicyEntityResource.get() -&gt;\nCertificatePolicyEntityServletAdapter.get() -&gt;\nDomainRegistryModelProxy.certificatePolicyService() // Use spring ApplicationContext to retrieve CertificatePolicyServiceRepositoryImpl\nCertificatePolicyServiceRepositoryImpl.size() and .allCertificatePolicies() // These are @Transactional\n</code></pre>\n<p>Here is my service class CertificatePolicyServiceRepositoryImpl which has the @Transactional methods:</p>\n<pre><code>package cmb.domain.model.certpolicy;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Accessors( fluent = true )\npublic class CertificatePolicyServiceRepositoryImpl implements CertificatePolicyService {\n        @Getter\n        private CertificatePolicyRepository             certificatePolicyRepository;\n\n        public CertificatePolicyServiceRepositoryImpl(CertificatePolicyRepository certificatePolicyRepository) {\n                this.certificatePolicyRepository = certificatePolicyRepository;\n        }\n\n        @Override\n        @Transactional\n        public CertificatePolicy certificatePolicyOfId(String id) {\n                return certificatePolicyRepository().certificatePolicyOfId(id);\n        }\n\n        @Override\n        @Transactional\n        public List&lt;CertificatePolicy&gt; allCertificatePolicies() {\n                return certificatePolicyRepository().allCertificatePolicies();\n        }\n\n    @Override\n        @Transactional\n        public List&lt;CertificatePolicy&gt; allActiveCertificatePolicies() {\n                return certificatePolicyRepository().allActiveCertificatePolicies();\n        }\n\n        @Override\n        @Transactional(readOnly = true)\n        public int size() {\n                return certificatePolicyRepository().size();\n        }\n\n}\n</code></pre>\n<p>CertificatePolicyEntityResource.java:</p>\n<pre><code>package cmb.cabridge.port.servlet.resource;\n\nimport javax.ws.rs.BeanParam;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.DELETE;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.QueryParam;\n    \n@Path(CaBridgeCommandValues.RESOURCE_CERTIFICATEPOLICYENTITY)\npublic class CertificatePolicyEntityResource extends AbstractCaBridgeResource {\n        @BeanParam\n        private NetworkRequestContext                                   requestContext;\n\n        @GET\n        @Path(CaBridgeCommandValues.SUBRESOURCE_CERTIFICATEPOLICYENTITY_GET + &quot;/{id}&quot;)\n        public CertificatePolicyEntityResponse get(@PathParam(&quot;id&quot;) String idList,\n                        @QueryParam(CertificatePolicyRequestFlags.FLAG_MINIENTITY) boolean miniEntityEnabled) {\n                final String function = &quot;Get by ID&quot;;\n                ResponseHandler handler = createResponseHandler(m, function);\n\n                try {\n                        processRequest(requestContext,\n                                        CaBridgeCommand.getInstance().create(CaBridgeCommandValues.CertificatePolicyEntityGet));\n                        CertificatePolicyEntityResponse response = new CertificatePolicyEntityServletAdapter(caBridgeSessionContext())\n                                        .get(idList, miniEntityEnabled);\n\n                        handler.succeeded(response);\n                        return response;\n                } catch (Throwable e) {\n                        CertificatePolicyEntityResponse response = new CertificatePolicyEntityResponse();\n                        handler.failed(e, response);\n                        return response;\n                }\n        }\n\n}\n</code></pre>\n<p>Adapter:</p>\n<pre><code>package cmb.cabridge.port.servlet.adapter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n    \n@Component\npublic class CertificatePolicyEntityServletAdapter extends AbstractCaBridgeCommonServletAdapter {\n\n        private CertificatePolicyService certificatePolicyService() {\n            /*\n             * Retrieve bean using Spring ApplicationContext\n             */\n                return DomainRegistryModelProxy.certificatePolicyService();\n        }\n\n        public CertificatePolicyEntityResponse get(String searchValue, boolean miniEntityEnabled) {\n                List&lt;CertificatePolicyEntity&gt; results = new ArrayList&lt;&gt;();\n                entityConverter().setMiniEntityEnabled(miniEntityEnabled);\n\n                if (searchValue == null || searchValue.equalsIgnoreCase(GlobalConstantStandard.ALL)) {\n                        if (certificatePolicyService().size() &gt; 0)\n                                certificatePolicyService().allCertificatePolicies().stream().forEach(\n                                                item -&gt; results.add(entityConverter.toEntity(item))\n                                                                );\n                } else {\n                        List&lt;String&gt; ids = StringTool.splitAsList(searchValue, &quot;,&quot;);\n                        for (String id : ids) {\n                                CertificatePolicy item = certificatePolicyService()\n                                                                                        .certificatePolicyOfIdOrName(id);\n                                if (item != null)\n                                        results.add(entityConverter.toEntity(item));\n                        }\n                }\n\n                CertificatePolicyEntityResponse response = new CertificatePolicyEntityResponse();\n                if (results.size() == 0) {\n                        String message = &quot;No &quot; + what + &quot; found for ID/Name(s) &quot; + searchValue;\n                        log.info(&quot;%s&quot;, message);\n                        response.setMessage(message);\n                        response.setResult(Result.FAILED);\n                        response.setFailureType(FailureType.NOTFOUND);\n                } else {\n                        response.setEntities( results );\n                        response.setResult(Result.SUCCEEDED);\n                }\n\n                return response;\n        }\n}\n</code></pre>\n<p>Datasource class:</p>\n<pre><code>package cmb.cabridge.infrastructure.persistence.hibernate;\n\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\n\nimport cmb.common.infrastructure.DatabaseConfigurationTool;\nimport cmb.domain.model.CmbDomainModelMarker;\nimport cmb.product.domain.model.CmbProductDomainModelMarker;\n\nimport org.hibernate.SessionFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\nimport java.util.Properties;\n\n/**\n * CAB Hibernate Product Database Configuration\n */\n@Configuration\n@EnableJpaRepositories(\n    entityManagerFactoryRef = HibernateProductDatabaseConfiguration.PRODUCT_ENTITY_MANAGER,\n    transactionManagerRef = HibernateProductDatabaseConfiguration.PRODUCT_TX_MANAGER\n)\n@EnableTransactionManagement\npublic class HibernateProductDatabaseConfiguration {\n        private Trace                                                                   log = TraceFactory.create(this);\n        /*\n         * Packages that Spring should scan to find @Entity classes\n         */\n        private static final String [] PACKAGES_TO_SCAN = {\n                        MangoDomainModelMarker.class.getPackage().getName(),\n                        CmbDomainModelMarker.class.getPackage().getName(),\n                        CmbProductDomainModelMarker.class.getPackage().getName()\n        };\n\n        public static final String                                              PRODUCT_ENTITY_MANAGER = &quot;productEntityManager&quot;;\n        public static final String                                              PRODUCT_TX_MANAGER = &quot;productTransactionManager&quot;;\n        public static final String                                              SESSION_FACTORY_PRODUCT = &quot;sessionFactoryProduct&quot;;\n        // Default size of 10 is too small for CAB\n        private static final int                                                MAX_POOL_SIZE = 250;\n        private static final int                                                MAX_LIFETIME_SECONDS = 2 * 60; // XXX debug value\n        //private static final int                                              MAX_LIFETIME_SECONDS = 60 * 60; // 1 hour\n        private static final int                                                IDLE_TIMEOUT_SECONDS = 15 * 60;\n        private static final int                                                LEAK_DETECTION_THRESHOLD_SECONDS = 30;\n        private static final int                                                CONNECTION_TIMEOUT_SECONDS = 30;\n\n        @Bean(name = SESSION_FACTORY_PRODUCT)\n        @Primary\n        public SessionFactory sessionFactoryProduct() {\n                return sessionFactoryProductBean().getObject();\n        }\n\n        @Bean\n        @Primary\n    public LocalSessionFactoryBean sessionFactoryProductBean() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(productDataSource());\n        sessionFactory.setPackagesToScan( PACKAGES_TO_SCAN );\n        sessionFactory.setHibernateProperties(hibernateProperties());\n\n        return sessionFactory;\n    }\n\n    @Bean\n        @Primary\n    public DataSource productDataSource() {\n        /*\n         * Get the PersistenceConfiguration from persistconfig.properties and\n         * then build Creator to format the configuration data as needed.\n         */\n        PersistenceConfiguration cf = ProductConfig.getPersistenceConfiguration();\n        if (cf == null || cf.getDataBaseName() == null)\n                throw new ConfigurationException(&quot;Failed to load persistence configuration&quot;);\n        HibernatePropertiesCreator propCreator = new HibernatePropertiesCreator(cf);\n\n        log.info(&quot;Creating Product DataSource with url %s&quot;, propCreator.createUrl());\n\n        /*\n         * Use Hikari specific config so we can configure maximumPoolSize which\n         * is critical to having a large enough pool.\n         */\n        HikariConfig config = new HikariConfig();\n        config.setPoolName(&quot;HikariPool&quot; + &quot;Product&quot;);\n        config.setJdbcUrl( propCreator.createUrl() );\n        config.setUsername( cf.getUserName() );\n        config.setPassword( cf.getUserPassword() );\n        config.setDriverClassName( propCreator.getDriverClass() );\n        config.setMaximumPoolSize( DatabaseConfigurationTool.maxPoolSize(&quot;product&quot;, MAX_POOL_SIZE) );\n        config.setConnectionTimeout(CONNECTION_TIMEOUT_SECONDS * 1000);\n        config.setMaxLifetime(MAX_LIFETIME_SECONDS * 1000);\n//      config.setIdleTimeout(IDLE_TIMEOUT_SECONDS * 1000);\n        // Report connection leaks with stacktrace\n        config.setLeakDetectionThreshold( LEAK_DETECTION_THRESHOLD_SECONDS * 1000 );\n\n        return new HikariDataSource( config );\n    }\n\n    @Bean\n        @Primary\n    public PlatformTransactionManager productTransactionManager() {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(sessionFactoryProduct());\n        return transactionManager;\n    }\n\n    private final Properties hibernateProperties() {\n        Properties hibernateProperties = new Properties();\n        hibernateProperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        //hibernateProperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\n        // Use new IdentifierGenerator\n        hibernateProperties.setProperty(&quot;hibernate.id.new_generator_mappings&quot;, &quot;true&quot;);\n\n        return hibernateProperties;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-httpcomponents","socket-timeout-exception","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":25055403,"reputation":1,"user_id":18910846,"display_name":"Maitreyee Mehta"},"score":0,"creation_date":1650747297,"post_id":71972879,"comment_id":127195931,"body_markdown":"Thanks will do. Turns out it was because I was using InputStreamEntity. Using BufferedHttpEntity resolved the issue","body":"Thanks will do. Turns out it was because I was using InputStreamEntity. Using BufferedHttpEntity resolved the issue"}],"answers":[{"tags":[],"owner":{"account_id":1610121,"reputation":31,"user_id":1489404,"display_name":"Joseph.Chambers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676483793,"creation_date":1676483793,"answer_id":75463713,"question_id":71972879,"body_markdown":"The Default retry strategy tests if the call is Idempotent (can make multiple calls with the same result as if it had made 1) most likely your call fails this test.  I am working with the 5 version not the 4 but should be similar.  In 5 you need a custom HttpRequestRetryStrategy class that implements HttpRequestRetryStrategy, if you base this off the DefaultHttpRequestRetryStrategy you can update the function handleAsIdempotent to return true for cases you want to retry.\r\n\r\nThere may be a better way but this is what I found tracing through the library code to fix an issue after not finding a solution posted somewhere. ","title":"Apache 5 HttpClient Retry Strategy Not Working","body":"<p>The Default retry strategy tests if the call is Idempotent (can make multiple calls with the same result as if it had made 1) most likely your call fails this test.  I am working with the 5 version not the 4 but should be similar.  In 5 you need a custom HttpRequestRetryStrategy class that implements HttpRequestRetryStrategy, if you base this off the DefaultHttpRequestRetryStrategy you can update the function handleAsIdempotent to return true for cases you want to retry.</p>\n<p>There may be a better way but this is what I found tracing through the library code to fix an issue after not finding a solution posted somewhere.</p>\n"}],"owner":{"account_id":25055403,"reputation":1,"user_id":18910846,"display_name":"Maitreyee Mehta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676483793,"creation_date":1650650258,"question_id":71972879,"body_markdown":"I am trying to add a custom retry strategy to my HttpClient such that it retries on SocketTimeoutException and NoHttpResponseException. However, the custom retry strategy is not getting invoked in case of these errors.\r\nPlease find the code snippets below:\r\n\r\nCreating HttpClient:\r\n\r\n```\r\n    val requestConfig = RequestConfig.custom()\r\n        .setConnectTimeout(Timeout.ofMilliseconds(20))\r\n        .setResponseTimeout(Timeout.ofMilliseconds(1000))\r\n        .setConnectionRequestTimeout(Timeout.ofMilliseconds(200))\r\n        .build()\r\n\r\n    val retryStrategy = CustomRetryStrategy(\r\n        3, // Retry 3 times\r\n        TimeValue.ofMilliseconds(10) // Retry very quickly\r\n    )\r\n    \r\n\r\n    val client = HttpClientBuilder.create()\r\n        .setDefaultRequestConfig(requestConfig)\r\n        .setRetryStrategy(retryStrategy)\r\n        .build()\r\n\r\n```\r\n\r\nRetry Strategy Code:\r\n\r\n```\r\n\r\nclass CustomRetryStrategy(private val maxRetries: Int, private val defaultRetryInterval: TimeValue) :\r\n    DefaultHttpRequestRetryStrategy(maxRetries, defaultRetryInterval) {\r\n\r\n    override fun retryRequest(request: HttpRequest, exception: IOException, execCount: Int, context: HttpContext?): Boolean {\r\n        if (execCount &gt; this.maxRetries) {\r\n            // Do not retry if over max retries\r\n            return false\r\n        }\r\n\r\n        if (exception is SocketTimeoutException ||\r\n            exception.cause is SocketTimeoutException ||\r\n            exception.cause is NoHttpResponseException ||\r\n            exception is NoHttpResponseException\r\n        ) {\r\n            println(&quot;Retryable Exception Encountered. Retrying&quot;)\r\n            return true\r\n        }\r\n        return super.retryRequest(request, exception, execCount, context)\r\n    }\r\n}\r\n\r\n```\r\n\r\nExecute Request Code:\r\n\r\n```\r\nval response = client.execute(request)\r\n```\r\n\r\nMay I know what am I missing or doing wrong which is leading to retries not getting executed?","title":"Apache 5 HttpClient Retry Strategy Not Working","body":"<p>I am trying to add a custom retry strategy to my HttpClient such that it retries on SocketTimeoutException and NoHttpResponseException. However, the custom retry strategy is not getting invoked in case of these errors.\nPlease find the code snippets below:</p>\n<p>Creating HttpClient:</p>\n<pre><code>    val requestConfig = RequestConfig.custom()\n        .setConnectTimeout(Timeout.ofMilliseconds(20))\n        .setResponseTimeout(Timeout.ofMilliseconds(1000))\n        .setConnectionRequestTimeout(Timeout.ofMilliseconds(200))\n        .build()\n\n    val retryStrategy = CustomRetryStrategy(\n        3, // Retry 3 times\n        TimeValue.ofMilliseconds(10) // Retry very quickly\n    )\n    \n\n    val client = HttpClientBuilder.create()\n        .setDefaultRequestConfig(requestConfig)\n        .setRetryStrategy(retryStrategy)\n        .build()\n\n</code></pre>\n<p>Retry Strategy Code:</p>\n<pre><code>\nclass CustomRetryStrategy(private val maxRetries: Int, private val defaultRetryInterval: TimeValue) :\n    DefaultHttpRequestRetryStrategy(maxRetries, defaultRetryInterval) {\n\n    override fun retryRequest(request: HttpRequest, exception: IOException, execCount: Int, context: HttpContext?): Boolean {\n        if (execCount &gt; this.maxRetries) {\n            // Do not retry if over max retries\n            return false\n        }\n\n        if (exception is SocketTimeoutException ||\n            exception.cause is SocketTimeoutException ||\n            exception.cause is NoHttpResponseException ||\n            exception is NoHttpResponseException\n        ) {\n            println(&quot;Retryable Exception Encountered. Retrying&quot;)\n            return true\n        }\n        return super.retryRequest(request, exception, execCount, context)\n    }\n}\n\n</code></pre>\n<p>Execute Request Code:</p>\n<pre><code>val response = client.execute(request)\n</code></pre>\n<p>May I know what am I missing or doing wrong which is leading to retries not getting executed?</p>\n"},{"tags":["java","scala","maven","maven-release-plugin","artifact"],"comments":[{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1635795144,"post_id":69790966,"comment_id":123383904,"body_markdown":"As you already noticed, the maven-metadata.xml is the closest and official approach you&#39;ll get. You haven&#39;t explain the need for it. In general a timestamp doesn&#39;t add value; more important is the comparison of versions. Are they expected to be backwards compatible?","body":"As you already noticed, the maven-metadata.xml is the closest and official approach you&#39;ll get. You haven&#39;t explain the need for it. In general a timestamp doesn&#39;t add value; more important is the comparison of versions. Are they expected to be backwards compatible?"},{"owner":{"account_id":195782,"reputation":24748,"user_id":438886,"accept_rate":53,"display_name":"Roberto Tyley"},"score":0,"creation_date":1635805862,"post_id":69790966,"comment_id":123386917,"body_markdown":"thanks @robert-scholte! I&#39;ve added a use-case to the question. I understand that for dependency resolution the main thing really is version-comparison, but for automated dependency updates (like that performed by Scala Steward) the artifact age really would very helpful!","body":"thanks @robert-scholte! I&#39;ve added a use-case to the question. I understand that for dependency resolution the main thing really is version-comparison, but for automated dependency updates (like that performed by Scala Steward) the artifact age really would very helpful!"}],"answers":[{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676483549,"creation_date":1676483549,"answer_id":75463676,"question_id":69790966,"body_markdown":"Thanks for this question-which-is-basically-an-answer, with a thorough discussion of the options. I&#39;ve had success with variant of your third option, accessing the raw directory listing. As well as the file-level timestamp information, there may be a `last-modified` header. (This is definitely there for maven central, for example.) It&#39;s a string, so I assume there&#39;s no guarantees on the format, but it should be parseable with most modern date-time libraries. \r\n\r\nFor example, given the maven central url https://search.maven.org/artifact/io.quarkiverse.renarde/quarkus-renarde/3.0.0/jar, there&#39;s a &#39;browse&#39; link on the right-hand side which takes you to https://repo1.maven.org/maven2/io/quarkiverse/renarde/quarkus-renarde/3.0.0/. Doing a `HEAD` call on that endpoint gives you the headers (or you could just do a normal `GET` call and then look at the headers).\r\n\r\nThe timestamp returned in the json from the Maven API and the timestamp in the header differ by a few hours, but normally for releases we don&#39;t care about the exact hour. \r\n\r\nIn javascript (just as an example), given an object with the maven gav information, that logic would look like this: \r\n\r\n```\r\nconst url = `https://repo1.maven.org/maven2/${coordinates.groupId?.replace(/\\./g, &quot;/&quot;)}/${coordinates.artifactId}/${coordinates.version}/`\r\nconst listingHeaders = await axios.head(mavenArtifactsUrl)\r\nconst lastModified = listingHeaders.headers[&quot;last-modified&quot;]\r\nreturn Date.parse(lastModified)\r\n```","title":"API/Metadata to find the release date of a Maven artifact?","body":"<p>Thanks for this question-which-is-basically-an-answer, with a thorough discussion of the options. I've had success with variant of your third option, accessing the raw directory listing. As well as the file-level timestamp information, there may be a <code>last-modified</code> header. (This is definitely there for maven central, for example.) It's a string, so I assume there's no guarantees on the format, but it should be parseable with most modern date-time libraries.</p>\n<p>For example, given the maven central url <a href=\"https://search.maven.org/artifact/io.quarkiverse.renarde/quarkus-renarde/3.0.0/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/io.quarkiverse.renarde/quarkus-renarde/3.0.0/jar</a>, there's a 'browse' link on the right-hand side which takes you to <a href=\"https://repo1.maven.org/maven2/io/quarkiverse/renarde/quarkus-renarde/3.0.0/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/io/quarkiverse/renarde/quarkus-renarde/3.0.0/</a>. Doing a <code>HEAD</code> call on that endpoint gives you the headers (or you could just do a normal <code>GET</code> call and then look at the headers).</p>\n<p>The timestamp returned in the json from the Maven API and the timestamp in the header differ by a few hours, but normally for releases we don't care about the exact hour.</p>\n<p>In javascript (just as an example), given an object with the maven gav information, that logic would look like this:</p>\n<pre><code>const url = `https://repo1.maven.org/maven2/${coordinates.groupId?.replace(/\\./g, &quot;/&quot;)}/${coordinates.artifactId}/${coordinates.version}/`\nconst listingHeaders = await axios.head(mavenArtifactsUrl)\nconst lastModified = listingHeaders.headers[&quot;last-modified&quot;]\nreturn Date.parse(lastModified)\n</code></pre>\n"}],"owner":{"account_id":195782,"reputation":24748,"user_id":438886,"accept_rate":53,"display_name":"Roberto Tyley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1676483549,"creation_date":1635718082,"question_id":69790966,"body_markdown":"Given the Maven coordinates  (group, artifact, version) of an arbitrary released artifact that you&#39;re capable of resolving, (an artifact which may or may not have been sent to Maven Central - could have been released to another artifact repository, public or private), **what is the best way to determine the release date of that artifact?**\r\n\r\n### Use case\r\n\r\n[Scala Steward][1] is a bot that helps keep project library dependencies up to date, automatically opening PRs to update dependencies. However, some dependencies - like AWS Java SDK - are updated too frequently, [leading to excessive numbers of PRs][2]. In order for Scala Steward to [deal with that][3], it would be helpful for Scala Steward to know the release dates of the artifacts it&#39;s considering updating.\r\n\r\n### ...some available  sources of data\r\n\r\n* search.maven.org [exposes a REST API][4] that has a `timestamp` field for each artifact (see eg https://search.maven.org/solrsearch/select?q=g:software.amazon.awssdk%20AND%20a:s3%20AND%20v:2.17.71&amp;rows=20&amp;wt=json), which is great, but unfortunately only useful for artifacts that have been published to Maven Central.\r\n* There&#39;s a `&lt;lastUpdated&gt;` field in the [`maven-metadata.xml`][5] file that&#39;s published with each _artifact_ (see, eg https://repo1.maven.org/maven2/software/amazon/awssdk/s3/maven-metadata.xml), but that&#39;s not specific to an artifact _version_ - it just relates to the _latest_ published version of that artifact, no good if you want to know about an older one. [Here&#39;s the code][6] that creates that file.\r\n* [Coursier API](https://get-coursier.io/docs/api) has a [Versions#lastUpdated][7] field which I presume is just the data from the `&lt;lastUpdated&gt;` field in the `maven-metadata.xml` file?\r\n* The raw directory listing of an artifact version folder - assuming you can access it - will often give a timestamp against each file- however, this has no standard format, and it&#39;s position and datetime format will vary depending on how the webserver is set up:\r\n  * https://repo1.maven.org/maven2/software/amazon/awssdk/s3/2.17.71/ gives a raw text grid, with `2021-10-29 20:53` in the 2nd column\r\n  * https://repo.clojars.org/Hermes/Hermes/0.1.0-SNAPSHOT/ gives `2020-02-09T14:36:26.000Z` in the 1st column\r\n\r\n\r\nSome resources:\r\n\r\n* https://www.deps.co/guides/public-maven-repositories/\r\n* https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Layout+-+Final ...a document from 2005 describing the final design of Maven 2&#39;s repository layout. Also:\r\n  * https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Metadata\r\n\r\n\r\nSee also https://stackoverflow.com/questions/51860997/retrieving-artifact-release-date-using-aether-eclipse, which asked this question specific to just the Aether Eclipse library ([now known][8] as [Maven Artifact Resolver][9]), whereas I&#39;m interested to know if there is _anything_ that works reliably for obtaining this information.\r\n\r\n\r\n  [1]: https://www.scala-lang.org/blog/2019/07/10/announcing-scala-steward.html\r\n  [2]: https://github.com/scala-steward-org/scala-steward/issues/1581\r\n  [3]: https://github.com/scala-steward-org/scala-steward/pull/2322\r\n  [4]: https://search.maven.org/classic/#api\r\n  [5]: https://maven.apache.org/ref/3.8.3/maven-repository-metadata/\r\n  [6]: https://github.com/apache/maven/blob/712199a004663ef15d6cffb19fa2e87dbe2a02fa/maven-resolver-provider/src/main/java/org/apache/maven/repository/internal/VersionsMetadata.java#L54-L74\r\n  [7]: https://github.com/coursier/coursier/blob/525e0a52014ab1229199b820f374b4b4669b9084/modules/core/shared/src/main/scala/coursier/core/Versions.scala#L9\r\n  [8]: http://maven.apache.org/aether.html\r\n  [9]: https://maven.apache.org/resolver/","title":"API/Metadata to find the release date of a Maven artifact?","body":"<p>Given the Maven coordinates  (group, artifact, version) of an arbitrary released artifact that you're capable of resolving, (an artifact which may or may not have been sent to Maven Central - could have been released to another artifact repository, public or private), <strong>what is the best way to determine the release date of that artifact?</strong></p>\n<h3>Use case</h3>\n<p><a href=\"https://www.scala-lang.org/blog/2019/07/10/announcing-scala-steward.html\" rel=\"nofollow noreferrer\">Scala Steward</a> is a bot that helps keep project library dependencies up to date, automatically opening PRs to update dependencies. However, some dependencies - like AWS Java SDK - are updated too frequently, <a href=\"https://github.com/scala-steward-org/scala-steward/issues/1581\" rel=\"nofollow noreferrer\">leading to excessive numbers of PRs</a>. In order for Scala Steward to <a href=\"https://github.com/scala-steward-org/scala-steward/pull/2322\" rel=\"nofollow noreferrer\">deal with that</a>, it would be helpful for Scala Steward to know the release dates of the artifacts it's considering updating.</p>\n<h3>...some available  sources of data</h3>\n<ul>\n<li>search.maven.org <a href=\"https://search.maven.org/classic/#api\" rel=\"nofollow noreferrer\">exposes a REST API</a> that has a <code>timestamp</code> field for each artifact (see eg <a href=\"https://search.maven.org/solrsearch/select?q=g:software.amazon.awssdk%20AND%20a:s3%20AND%20v:2.17.71&amp;rows=20&amp;wt=json\" rel=\"nofollow noreferrer\">https://search.maven.org/solrsearch/select?q=g:software.amazon.awssdk%20AND%20a:s3%20AND%20v:2.17.71&amp;rows=20&amp;wt=json</a>), which is great, but unfortunately only useful for artifacts that have been published to Maven Central.</li>\n<li>There's a <code>&lt;lastUpdated&gt;</code> field in the <a href=\"https://maven.apache.org/ref/3.8.3/maven-repository-metadata/\" rel=\"nofollow noreferrer\"><code>maven-metadata.xml</code></a> file that's published with each <em>artifact</em> (see, eg <a href=\"https://repo1.maven.org/maven2/software/amazon/awssdk/s3/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/software/amazon/awssdk/s3/maven-metadata.xml</a>), but that's not specific to an artifact <em>version</em> - it just relates to the <em>latest</em> published version of that artifact, no good if you want to know about an older one. <a href=\"https://github.com/apache/maven/blob/712199a004663ef15d6cffb19fa2e87dbe2a02fa/maven-resolver-provider/src/main/java/org/apache/maven/repository/internal/VersionsMetadata.java#L54-L74\" rel=\"nofollow noreferrer\">Here's the code</a> that creates that file.</li>\n<li><a href=\"https://get-coursier.io/docs/api\" rel=\"nofollow noreferrer\">Coursier API</a> has a <a href=\"https://github.com/coursier/coursier/blob/525e0a52014ab1229199b820f374b4b4669b9084/modules/core/shared/src/main/scala/coursier/core/Versions.scala#L9\" rel=\"nofollow noreferrer\">Versions#lastUpdated</a> field which I presume is just the data from the <code>&lt;lastUpdated&gt;</code> field in the <code>maven-metadata.xml</code> file?</li>\n<li>The raw directory listing of an artifact version folder - assuming you can access it - will often give a timestamp against each file- however, this has no standard format, and it's position and datetime format will vary depending on how the webserver is set up:\n<ul>\n<li><a href=\"https://repo1.maven.org/maven2/software/amazon/awssdk/s3/2.17.71/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/software/amazon/awssdk/s3/2.17.71/</a> gives a raw text grid, with <code>2021-10-29 20:53</code> in the 2nd column</li>\n<li><a href=\"https://repo.clojars.org/Hermes/Hermes/0.1.0-SNAPSHOT/\" rel=\"nofollow noreferrer\">https://repo.clojars.org/Hermes/Hermes/0.1.0-SNAPSHOT/</a> gives <code>2020-02-09T14:36:26.000Z</code> in the 1st column</li>\n</ul>\n</li>\n</ul>\n<p>Some resources:</p>\n<ul>\n<li><a href=\"https://www.deps.co/guides/public-maven-repositories/\" rel=\"nofollow noreferrer\">https://www.deps.co/guides/public-maven-repositories/</a></li>\n<li><a href=\"https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Layout+-+Final\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Layout+-+Final</a> ...a document from 2005 describing the final design of Maven 2's repository layout. Also:\n<ul>\n<li><a href=\"https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Metadata\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Metadata</a></li>\n</ul>\n</li>\n</ul>\n<p>See also <a href=\"https://stackoverflow.com/questions/51860997/retrieving-artifact-release-date-using-aether-eclipse\">Retrieving artifact release date using Aether Eclipse</a>, which asked this question specific to just the Aether Eclipse library (<a href=\"http://maven.apache.org/aether.html\" rel=\"nofollow noreferrer\">now known</a> as <a href=\"https://maven.apache.org/resolver/\" rel=\"nofollow noreferrer\">Maven Artifact Resolver</a>), whereas I'm interested to know if there is <em>anything</em> that works reliably for obtaining this information.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","microservices","google-kubernetes-engine"],"comments":[{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":1,"creation_date":1629701879,"post_id":68816320,"comment_id":121746242,"body_markdown":"Just a side-note: &quot;*preferred way*&quot; is almost always opinion-based.","body":"Just a side-note: &quot;<i>preferred way</i>&quot; is almost always opinion-based."}],"answers":[{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629878408,"creation_date":1629701721,"answer_id":68888413,"question_id":68816320,"body_markdown":"In Cloud environment generally the safest and best option with least administrative overhead is to use the corresponding service from the Cloud provider - in your case it would be [Secret Manager][1]. Of course if you are planning to not tie your applications with a specific cloud provider or cater to on-prem environment as well then you can use third party Secret management providers like [HashiCorp Vault][2].\r\n\r\nHowever even with Secret Manager if you interact with the API directly you will have to provide keys to call the API somewhere which creates another problem. The general recommended solution is to to use application authenticating as Service accounts and interacting with Secret manager directly as outlined [here][3]. Or there are alternative ways of mounting Secrets from Secret Manager on the GKE Volume using CSI Driver as explained [here][4].\r\n\r\nRunning a secure cluster and container applications is a critical requirement and [here][5] are further recommendations for GKE security hardening which covers Secret management as well. More specifically you can check the recommendation in section &quot;CIS GKE Benchmark Recommendation: 6.3.1&quot;\r\n\r\n\r\n  [1]: https://cloud.google.com/secret-manager\r\n  [2]: https://www.vaultproject.io/\r\n  [3]: https://cloud.google.com/docs/authentication/production\r\n  [4]: https://github.com/GoogleCloudPlatform/secrets-store-csi-driver-provider-gcp\r\n  [5]: https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster","title":"What is the preferred way to configure GCP credentials in Spring boot application","body":"<p>In Cloud environment generally the safest and best option with least administrative overhead is to use the corresponding service from the Cloud provider - in your case it would be <a href=\"https://cloud.google.com/secret-manager\" rel=\"nofollow noreferrer\">Secret Manager</a>. Of course if you are planning to not tie your applications with a specific cloud provider or cater to on-prem environment as well then you can use third party Secret management providers like <a href=\"https://www.vaultproject.io/\" rel=\"nofollow noreferrer\">HashiCorp Vault</a>.</p>\n<p>However even with Secret Manager if you interact with the API directly you will have to provide keys to call the API somewhere which creates another problem. The general recommended solution is to to use application authenticating as Service accounts and interacting with Secret manager directly as outlined <a href=\"https://cloud.google.com/docs/authentication/production\" rel=\"nofollow noreferrer\">here</a>. Or there are alternative ways of mounting Secrets from Secret Manager on the GKE Volume using CSI Driver as explained <a href=\"https://github.com/GoogleCloudPlatform/secrets-store-csi-driver-provider-gcp\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Running a secure cluster and container applications is a critical requirement and <a href=\"https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster\" rel=\"nofollow noreferrer\">here</a> are further recommendations for GKE security hardening which covers Secret management as well. More specifically you can check the recommendation in section &quot;CIS GKE Benchmark Recommendation: 6.3.1&quot;</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630076395,"creation_date":1629811412,"answer_id":68908436,"question_id":68816320,"body_markdown":"Although @Shailendra gives you a good solution, as you are using GKE, you can store sensitive information as [Kubernetes secrets](https://kubernetes.io/docs/concepts/configuration/secret/).\r\n\r\nBoth the [Kubernetes](https://kubernetes.io/docs/concepts/configuration/secret/#creating-a-secret) and [GKE](https://cloud.google.com/kubernetes-engine/docs/concepts/secret#creating_a_secret) documentation provide several examples of creating secrets.\r\n\r\nYou can later use the configured secrets in [multiple ways](https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets), in the simple use case, as [environment variables](https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-environment-variables) that can be consumed in the application. Please, see as well [this article](https://www.baeldung.com/spring-cloud-kubernetes#secrets_springcloudk8).\r\n\r\nTh Spring Cloud Kubernetes project provides support for consuming this secrets as [property sources](https://cloud.spring.io/spring-cloud-static/spring-cloud-kubernetes/2.1.0.RC1/single/spring-cloud-kubernetes.html#_secrets_propertysource).\r\n\r\nThis approach allows you to test your application deployment locally, with `minikube` or `kind`, and later deploy the same artifacts to the cloud provider. In addition, it is cloud provider _agnostic_ as you are using out-of-the-box Kubernetes artifacts. \r\n\r\n------\r\n\r\nI am afraid that we were so focused in provide you further alternatives that at the end we do not actually answer your question.\r\n\r\nPreviously, I will give you the advice of use Kubernetes Secrets, and it is still perfectly fine, but please, allow me to come back to it later.\r\n\r\nAccording to the [different properties](https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.BUILD-SNAPSHOT/reference/htmlsingle/#_credentials) you are trying setting, you are trying configuring the credentials on behalf your application with interact with other services deployed in GCP.\r\n\r\nFor that purpose the first thing you need is a [service account](https://cloud.google.com/iam/docs/service-accounts).\r\n\r\nIn a nutshell, a service account is a software artifact that agglutinates several permissions.\r\n\r\nThis service account can be later assigned to a certain GCP resource, to a certain GCP service, and it will allow that resource to _inherit_ or _act on behalf of_ the configured permissions when interacting with other GCP resources and services.\r\n\r\nEvery service account will have an associated set of keys which identify the service account - the information you are trying to keep safe.\r\n\r\nThere are different types of service accounts, mainly, _default service accounts_, created by GCP when you enable or use some Google Cloud services - one for Compute Engine and one for App Engine - and _user defined_ ones.\r\n\r\nYou can modify the permissions associated with these service accounts: the important thing to keep in mind is always follow the [principle of least privilege](https://en.wikipedia.org/wiki/Principle_of_least_privilege), only grant the service account the necessary permissions for performing its task, nothing else.\r\n\r\nBy default, your GKE cluster will use the [default Compute Engine service account](https://cloud.google.com/compute/docs/access/service-accounts#compute_engine_default_service_account) and the [scopes for it defined](https://cloud.google.com/compute/docs/access/service-accounts#associating_a_service_account_to_an_instance). These permissions will be inherited by your pods when contacting other services.\r\n\r\nAs a consequence, one possible option is just configuring an appropriate service account for GKE and use these permissions in your code.\r\n\r\nYou can use the default Compute Engine service account, but, as indicated in the [GCP docs](https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster#use_least_privilege_sa) when describing how to harden the cluster security:\r\n\r\n&gt; Each GKE node has an Identity and Access Management (IAM) Service Account associated with it. By default, nodes are given the Compute Engine default service account, which you can find by navigating to the IAM section of the Cloud Console. This account has broad access by default, making it useful to wide variety of applications, but it has more permissions than are required to run your Kubernetes Engine cluster. **You should create and use a minimally privileged service account to run your GKE cluster instead of using the Compute Engine default service account.**\r\n\r\nSo probably you will need to create a service account with the minimum permissions to run your cluster (and) application. The aforementioned [link](https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster#use_least_privilege_sa) provides all the necessary information.\r\n\r\nAs an alternative, you can configure a different service account for your application and this is where, as a possible alternative, you can use Kubernetes Secrets.\r\n\r\nPlease:\r\n\r\n- Do not directly provide your own implementation of `CredentialsProvider`, I think it will not provide you any additional benefit compared with the rest of solutions.\r\n\r\n- If you want to use the `spring.cloud.gcp.credentials.location` configuration property, create a Kubernetes secret and [expose it as a file](https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-files-from-a-pod), and set the value of this property to that file location.\r\n\r\n- In a very similar way, using Kubernetes Secrets, and as exemplified for instance in [this article](https://blog.realkinetic.com/using-google-cloud-service-accounts-on-gke-e0ca4b81b9a2), you can expose the service account credentials under the environment variable `GOOGLE_APPLICATION_CREDENTIALS`, both [Spring GCP](https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.BUILD-SNAPSHOT/reference/htmlsingle/#_credentials) and the different [GCP client libraries](https://cloud.google.com/docs/authentication/production#obtaining_credentials_on_compute_engine_kubernetes_engine_app_engine_flexible_environment_and_cloud_functions) will look for this variable in order to obtain the required credentials.\r\n\r\n- I would not use the configuration property `spring.cloud.gcp.credentials.encoded-key`, in my opinion this approach makes the key more suitable for threats - probably you have to deal with VCS problems, etc.\r\n\r\n- Secret Manager... as I told, it is a suitable solution as indicated by @Shailendra in his answer.\r\n\r\n- The options provided by Guillaume are very good as well.\r\n\r\n\r\n\r\n ","title":"What is the preferred way to configure GCP credentials in Spring boot application","body":"<p>Although @Shailendra gives you a good solution, as you are using GKE, you can store sensitive information as <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/\" rel=\"nofollow noreferrer\">Kubernetes secrets</a>.</p>\n<p>Both the <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#creating-a-secret\" rel=\"nofollow noreferrer\">Kubernetes</a> and <a href=\"https://cloud.google.com/kubernetes-engine/docs/concepts/secret#creating_a_secret\" rel=\"nofollow noreferrer\">GKE</a> documentation provide several examples of creating secrets.</p>\n<p>You can later use the configured secrets in <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets\" rel=\"nofollow noreferrer\">multiple ways</a>, in the simple use case, as <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-environment-variables\" rel=\"nofollow noreferrer\">environment variables</a> that can be consumed in the application. Please, see as well <a href=\"https://www.baeldung.com/spring-cloud-kubernetes#secrets_springcloudk8\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>Th Spring Cloud Kubernetes project provides support for consuming this secrets as <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-kubernetes/2.1.0.RC1/single/spring-cloud-kubernetes.html#_secrets_propertysource\" rel=\"nofollow noreferrer\">property sources</a>.</p>\n<p>This approach allows you to test your application deployment locally, with <code>minikube</code> or <code>kind</code>, and later deploy the same artifacts to the cloud provider. In addition, it is cloud provider <em>agnostic</em> as you are using out-of-the-box Kubernetes artifacts.</p>\n<hr />\n<p>I am afraid that we were so focused in provide you further alternatives that at the end we do not actually answer your question.</p>\n<p>Previously, I will give you the advice of use Kubernetes Secrets, and it is still perfectly fine, but please, allow me to come back to it later.</p>\n<p>According to the <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.BUILD-SNAPSHOT/reference/htmlsingle/#_credentials\" rel=\"nofollow noreferrer\">different properties</a> you are trying setting, you are trying configuring the credentials on behalf your application with interact with other services deployed in GCP.</p>\n<p>For that purpose the first thing you need is a <a href=\"https://cloud.google.com/iam/docs/service-accounts\" rel=\"nofollow noreferrer\">service account</a>.</p>\n<p>In a nutshell, a service account is a software artifact that agglutinates several permissions.</p>\n<p>This service account can be later assigned to a certain GCP resource, to a certain GCP service, and it will allow that resource to <em>inherit</em> or <em>act on behalf of</em> the configured permissions when interacting with other GCP resources and services.</p>\n<p>Every service account will have an associated set of keys which identify the service account - the information you are trying to keep safe.</p>\n<p>There are different types of service accounts, mainly, <em>default service accounts</em>, created by GCP when you enable or use some Google Cloud services - one for Compute Engine and one for App Engine - and <em>user defined</em> ones.</p>\n<p>You can modify the permissions associated with these service accounts: the important thing to keep in mind is always follow the <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_privilege\" rel=\"nofollow noreferrer\">principle of least privilege</a>, only grant the service account the necessary permissions for performing its task, nothing else.</p>\n<p>By default, your GKE cluster will use the <a href=\"https://cloud.google.com/compute/docs/access/service-accounts#compute_engine_default_service_account\" rel=\"nofollow noreferrer\">default Compute Engine service account</a> and the <a href=\"https://cloud.google.com/compute/docs/access/service-accounts#associating_a_service_account_to_an_instance\" rel=\"nofollow noreferrer\">scopes for it defined</a>. These permissions will be inherited by your pods when contacting other services.</p>\n<p>As a consequence, one possible option is just configuring an appropriate service account for GKE and use these permissions in your code.</p>\n<p>You can use the default Compute Engine service account, but, as indicated in the <a href=\"https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster#use_least_privilege_sa\" rel=\"nofollow noreferrer\">GCP docs</a> when describing how to harden the cluster security:</p>\n<blockquote>\n<p>Each GKE node has an Identity and Access Management (IAM) Service Account associated with it. By default, nodes are given the Compute Engine default service account, which you can find by navigating to the IAM section of the Cloud Console. This account has broad access by default, making it useful to wide variety of applications, but it has more permissions than are required to run your Kubernetes Engine cluster. <strong>You should create and use a minimally privileged service account to run your GKE cluster instead of using the Compute Engine default service account.</strong></p>\n</blockquote>\n<p>So probably you will need to create a service account with the minimum permissions to run your cluster (and) application. The aforementioned <a href=\"https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster#use_least_privilege_sa\" rel=\"nofollow noreferrer\">link</a> provides all the necessary information.</p>\n<p>As an alternative, you can configure a different service account for your application and this is where, as a possible alternative, you can use Kubernetes Secrets.</p>\n<p>Please:</p>\n<ul>\n<li><p>Do not directly provide your own implementation of <code>CredentialsProvider</code>, I think it will not provide you any additional benefit compared with the rest of solutions.</p>\n</li>\n<li><p>If you want to use the <code>spring.cloud.gcp.credentials.location</code> configuration property, create a Kubernetes secret and <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-files-from-a-pod\" rel=\"nofollow noreferrer\">expose it as a file</a>, and set the value of this property to that file location.</p>\n</li>\n<li><p>In a very similar way, using Kubernetes Secrets, and as exemplified for instance in <a href=\"https://blog.realkinetic.com/using-google-cloud-service-accounts-on-gke-e0ca4b81b9a2\" rel=\"nofollow noreferrer\">this article</a>, you can expose the service account credentials under the environment variable <code>GOOGLE_APPLICATION_CREDENTIALS</code>, both <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.BUILD-SNAPSHOT/reference/htmlsingle/#_credentials\" rel=\"nofollow noreferrer\">Spring GCP</a> and the different <a href=\"https://cloud.google.com/docs/authentication/production#obtaining_credentials_on_compute_engine_kubernetes_engine_app_engine_flexible_environment_and_cloud_functions\" rel=\"nofollow noreferrer\">GCP client libraries</a> will look for this variable in order to obtain the required credentials.</p>\n</li>\n<li><p>I would not use the configuration property <code>spring.cloud.gcp.credentials.encoded-key</code>, in my opinion this approach makes the key more suitable for threats - probably you have to deal with VCS problems, etc.</p>\n</li>\n<li><p>Secret Manager... as I told, it is a suitable solution as indicated by @Shailendra in his answer.</p>\n</li>\n<li><p>The options provided by Guillaume are very good as well.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629963693,"creation_date":1629963693,"answer_id":68934476,"question_id":68816320,"body_markdown":"The preferred way is hard to answer. Depends on your wishes...\r\n\r\nPersonally, I prefer to keep a high level of security, it&#39;s related to service account authentication and a breach can be a disaster. \r\n\r\nTherefore, too keep the secrets secret, I prefer not having secrets. Neither in K8S secret nor in secret manager! Problem solved!!\r\n\r\nYou can achieve that with [ADC (application default credential)](https://cloud.google.com/docs/authentication/production). But like that, out of the box, the ADC use the Node identity. The problem here is if you run several pods on the same node, all will have the same identity and thus the same permissions.\r\n\r\nA cool feature is to use [Workload Identity](https://cloud.google.com/kubernetes-engine/docs/how-to/workload-identity). It allows you to bind a service account with your K8S deployment. The ADC principle is the same, except that it&#39;s bind at the pods level and not at the node level (a proxy is created that intercept the ADC requests)","title":"What is the preferred way to configure GCP credentials in Spring boot application","body":"<p>The preferred way is hard to answer. Depends on your wishes...</p>\n<p>Personally, I prefer to keep a high level of security, it's related to service account authentication and a breach can be a disaster.</p>\n<p>Therefore, too keep the secrets secret, I prefer not having secrets. Neither in K8S secret nor in secret manager! Problem solved!!</p>\n<p>You can achieve that with <a href=\"https://cloud.google.com/docs/authentication/production\" rel=\"nofollow noreferrer\">ADC (application default credential)</a>. But like that, out of the box, the ADC use the Node identity. The problem here is if you run several pods on the same node, all will have the same identity and thus the same permissions.</p>\n<p>A cool feature is to use <a href=\"https://cloud.google.com/kubernetes-engine/docs/how-to/workload-identity\" rel=\"nofollow noreferrer\">Workload Identity</a>. It allows you to bind a service account with your K8S deployment. The ADC principle is the same, except that it's bind at the pods level and not at the node level (a proxy is created that intercept the ADC requests)</p>\n"},{"tags":[],"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630037655,"creation_date":1630037655,"answer_id":68947964,"question_id":68816320,"body_markdown":"If your application is running on GCP the preferred way would be to use default credentials provided by the Google GCP clients. When using the default credentials provider the clients will use the service account that is associated with you application.  ","title":"What is the preferred way to configure GCP credentials in Spring boot application","body":"<p>If your application is running on GCP the preferred way would be to use default credentials provided by the Google GCP clients. When using the default credentials provider the clients will use the service account that is associated with you application.</p>\n"}],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3342,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1676483051,"creation_date":1629198717,"question_id":68816320,"body_markdown":"I am in process of writing a spring boot based microservice, which will be deployed on GKE. To configure service account credentials i do see there are multiple options available . What is the most preferred and possibly safer option available. I have tried below approaches, kindly suggest other ways\r\n1) CredentialsProvider interface with spring.cloud.gcp.credentials.location\r\n2) spring.cloud.gcp.credentials.encoded-key\r\n3) GCP secrete manager","title":"What is the preferred way to configure GCP credentials in Spring boot application","body":"<p>I am in process of writing a spring boot based microservice, which will be deployed on GKE. To configure service account credentials i do see there are multiple options available . What is the most preferred and possibly safer option available. I have tried below approaches, kindly suggest other ways</p>\n<ol>\n<li>CredentialsProvider interface with spring.cloud.gcp.credentials.location</li>\n<li>spring.cloud.gcp.credentials.encoded-key</li>\n<li>GCP secrete manager</li>\n</ol>\n"},{"tags":["java","reactive-programming","apache-commons-httpclient","reactor"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1571748358,"post_id":58504527,"comment_id":103337601,"body_markdown":"Can you show the code that is blocking? Maybe it&#39;s not `toFuture` but another call that blocks?","body":"Can you show the code that is blocking? Maybe it&#39;s not <code>toFuture</code> but another call that blocks?"},{"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"score":0,"creation_date":1571749624,"post_id":58504527,"comment_id":103338293,"body_markdown":"@Sweeper I&#39;ve added sample code snippet, please check.","body":"@Sweeper I&#39;ve added sample code snippet, please check."}],"answers":[{"tags":[],"owner":{"account_id":15968321,"reputation":490,"user_id":11523207,"display_name":"Joost Lambregts"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659640053,"creation_date":1658737829,"answer_id":73106152,"question_id":58504527,"body_markdown":"-- EDIT: I was wrong. mono.toFuture() doesn&#39;t block --\r\n\r\nmono.toFuture() isn&#39;t blocking. Look at this test:\r\n```\r\n    @Test\r\n    void testMonoToFuture() throws ExecutionException, InterruptedException {\r\n        System.out.println(LocalTime.now() + &quot;: start&quot;);\r\n        Mono&lt;String&gt; mono = Mono.just(&quot;hello StackOverflow&quot;)\r\n            .delayElement(Duration.ofMillis(500))\r\n            .doOnNext((s) -&gt; System.out.println(LocalTime.now() + &quot;: mono completed&quot;));\r\n        Future&lt;String&gt; future = mono.toFuture();\r\n        System.out.println(LocalTime.now() + &quot;: future created&quot;);\r\n        String result = future.get();\r\n        System.out.println(LocalTime.now() + &quot;: future completed&quot;);\r\n        assertThat(result).isEqualTo(&quot;hello StackOverflow&quot;);\r\n    }\r\n```\r\nThis is the result:\r\n```\r\n20:18:49.557: start\r\n20:18:49.575: future created\r\n20:18:50.088: mono completed\r\n20:18:50.088: future completed\r\n```\r\nThe future is created almost immediately. Half a second later, the mono completes and immediately after that, the future completes. This is exactly what I would expect to happen.\r\n\r\n\r\nSo why does the mono seem blocking in the example provided in the question? It&#39;s because of the way mono.fromCallable() works. When and where does that callable actually run? mono.fromCallable() doesn&#39;t spawn an extra thread to do the work. From my tests it seems that the callable runs when you first call subscribe() or block() or something similar on the mono, and it will run in the thread that does that. \r\n\r\nHere is a test that shows that if you create a mono with fromCallable(), subscribe will cause the callable to be executed in the main thread and even the subscribe() method will seem blocking.\r\n\r\n```\r\n    @Test\r\n    void testMonoToFuture() throws ExecutionException, InterruptedException {\r\n        System.out.println(LocalTime.now() + &quot;: start&quot;);\r\n        System.out.println(&quot;main thread: &quot; + Thread.currentThread().getName());\r\n        Mono&lt;String&gt; mono = Mono.fromCallable(() -&gt; {\r\n                System.out.println(&quot;callabel running in thread: &quot; + Thread.currentThread().getName());\r\n            Thread.sleep(1000);\r\n            return &quot;Hello StackOverflow&quot;;\r\n            })\r\n            .doOnNext((s) -&gt; System.out.println(LocalTime.now() + &quot;: mono completed&quot;));\r\n        System.out.println(&quot;before subscribe&quot;);\r\n        mono.subscribe(System.out::println);\r\n        System.out.println(LocalTime.now() + &quot;: after subscribe&quot;);\r\n    }\r\n```\r\nresult:\r\n```\r\n20:53:37.071: start\r\nmain thread: main\r\nbefore subscribe\r\ncallabel running in thread: main\r\n20:53:38.099: mono completed\r\nHello StackOverflow\r\n20:53:38.100: after subscribe\r\n```\r\n\r\nConclusion: mono.toFuture() isn&#39;t any more blocking than mono.subscribe(). If you want to execute some piece of code asynchronously, you shouldn&#39;t be using Mono.fromCallable(). You could consider using Executors.newSingleThreadExecutor().submit(someCallable)\r\n\r\nFor reference, here is my original (wrong) answer where I belittle the mono.block() method that was assuredly written by people who know a lot more about Java and coding than I do. A personal lesson in humility, I guess.\r\n\r\nEVERYTHING BELOW THIS IS NONSENSE\r\n\r\nI wanted to verify exactly how this works so I wrote some tests. Unfortunately, it turns out that mono.toFuture() is indeed blocking and the result is evaluated synchronously. I honestly don&#39;t know why you would ever use this feature. The whole point of a Future is to hold the result of an asynchronous evaluation.\r\n\r\nHere is my test:\r\n```\r\n@Test\r\n  void testMonoToFuture() throws ExecutionException, InterruptedException {\r\n    Mono&lt;Integer&gt; mono = Mono.fromCallable(() -&gt; {\r\n      System.out.println(&quot;start mono&quot;);\r\n      Thread.sleep(1000);\r\n      System.out.println(&quot;mono completed&quot;);\r\n      return 0;\r\n    });\r\n    Future&lt;Integer&gt; future = mono.toFuture();\r\n    System.out.println(&quot;future created&quot;);\r\n    future.get();\r\n    System.out.println(&quot;future completed&quot;);\r\n  }\r\n```\r\nResult:\r\n```\r\nstart mono\r\nmono completed\r\nfuture created\r\nfuture completed\r\n```\r\n\r\nHere is an implementation of monoToFuture() that works the way that I would expect it to:\r\n\r\n```\r\n@Test\r\n  void testMonoToFuture() throws ExecutionException, InterruptedException {\r\n    Mono&lt;Integer&gt; mono = Mono.fromCallable(() -&gt; {\r\n      System.out.println(&quot;start mono&quot;);\r\n      Thread.sleep(1000);\r\n      System.out.println(&quot;mono completed&quot;);\r\n      return 0;\r\n    });\r\n    Future&lt;Integer&gt; future = monoToFuture(mono, Executors.newSingleThreadExecutor());\r\n    System.out.println(&quot;future created&quot;);\r\n    future.get();\r\n    System.out.println(&quot;future completed&quot;);\r\n  }\r\n\r\n  private &lt;T&gt; Future&lt;T&gt; monoToFuture(Mono&lt;T&gt; mono, ExecutorService executorService){\r\n    return executorService.submit((Callable&lt;T&gt;) mono::block);\r\n  }\r\n```\r\nResult:\r\n```\r\nfuture created\r\nstart mono\r\nmono completed\r\nfuture completed\r\n```","title":"Is Mono.toFuture() blocking?","body":"<p>-- EDIT: I was wrong. mono.toFuture() doesn't block --</p>\n<p>mono.toFuture() isn't blocking. Look at this test:</p>\n<pre><code>    @Test\n    void testMonoToFuture() throws ExecutionException, InterruptedException {\n        System.out.println(LocalTime.now() + &quot;: start&quot;);\n        Mono&lt;String&gt; mono = Mono.just(&quot;hello StackOverflow&quot;)\n            .delayElement(Duration.ofMillis(500))\n            .doOnNext((s) -&gt; System.out.println(LocalTime.now() + &quot;: mono completed&quot;));\n        Future&lt;String&gt; future = mono.toFuture();\n        System.out.println(LocalTime.now() + &quot;: future created&quot;);\n        String result = future.get();\n        System.out.println(LocalTime.now() + &quot;: future completed&quot;);\n        assertThat(result).isEqualTo(&quot;hello StackOverflow&quot;);\n    }\n</code></pre>\n<p>This is the result:</p>\n<pre><code>20:18:49.557: start\n20:18:49.575: future created\n20:18:50.088: mono completed\n20:18:50.088: future completed\n</code></pre>\n<p>The future is created almost immediately. Half a second later, the mono completes and immediately after that, the future completes. This is exactly what I would expect to happen.</p>\n<p>So why does the mono seem blocking in the example provided in the question? It's because of the way mono.fromCallable() works. When and where does that callable actually run? mono.fromCallable() doesn't spawn an extra thread to do the work. From my tests it seems that the callable runs when you first call subscribe() or block() or something similar on the mono, and it will run in the thread that does that.</p>\n<p>Here is a test that shows that if you create a mono with fromCallable(), subscribe will cause the callable to be executed in the main thread and even the subscribe() method will seem blocking.</p>\n<pre><code>    @Test\n    void testMonoToFuture() throws ExecutionException, InterruptedException {\n        System.out.println(LocalTime.now() + &quot;: start&quot;);\n        System.out.println(&quot;main thread: &quot; + Thread.currentThread().getName());\n        Mono&lt;String&gt; mono = Mono.fromCallable(() -&gt; {\n                System.out.println(&quot;callabel running in thread: &quot; + Thread.currentThread().getName());\n            Thread.sleep(1000);\n            return &quot;Hello StackOverflow&quot;;\n            })\n            .doOnNext((s) -&gt; System.out.println(LocalTime.now() + &quot;: mono completed&quot;));\n        System.out.println(&quot;before subscribe&quot;);\n        mono.subscribe(System.out::println);\n        System.out.println(LocalTime.now() + &quot;: after subscribe&quot;);\n    }\n</code></pre>\n<p>result:</p>\n<pre><code>20:53:37.071: start\nmain thread: main\nbefore subscribe\ncallabel running in thread: main\n20:53:38.099: mono completed\nHello StackOverflow\n20:53:38.100: after subscribe\n</code></pre>\n<p>Conclusion: mono.toFuture() isn't any more blocking than mono.subscribe(). If you want to execute some piece of code asynchronously, you shouldn't be using Mono.fromCallable(). You could consider using Executors.newSingleThreadExecutor().submit(someCallable)</p>\n<p>For reference, here is my original (wrong) answer where I belittle the mono.block() method that was assuredly written by people who know a lot more about Java and coding than I do. A personal lesson in humility, I guess.</p>\n<p>EVERYTHING BELOW THIS IS NONSENSE</p>\n<p>I wanted to verify exactly how this works so I wrote some tests. Unfortunately, it turns out that mono.toFuture() is indeed blocking and the result is evaluated synchronously. I honestly don't know why you would ever use this feature. The whole point of a Future is to hold the result of an asynchronous evaluation.</p>\n<p>Here is my test:</p>\n<pre><code>@Test\n  void testMonoToFuture() throws ExecutionException, InterruptedException {\n    Mono&lt;Integer&gt; mono = Mono.fromCallable(() -&gt; {\n      System.out.println(&quot;start mono&quot;);\n      Thread.sleep(1000);\n      System.out.println(&quot;mono completed&quot;);\n      return 0;\n    });\n    Future&lt;Integer&gt; future = mono.toFuture();\n    System.out.println(&quot;future created&quot;);\n    future.get();\n    System.out.println(&quot;future completed&quot;);\n  }\n</code></pre>\n<p>Result:</p>\n<pre><code>start mono\nmono completed\nfuture created\nfuture completed\n</code></pre>\n<p>Here is an implementation of monoToFuture() that works the way that I would expect it to:</p>\n<pre><code>@Test\n  void testMonoToFuture() throws ExecutionException, InterruptedException {\n    Mono&lt;Integer&gt; mono = Mono.fromCallable(() -&gt; {\n      System.out.println(&quot;start mono&quot;);\n      Thread.sleep(1000);\n      System.out.println(&quot;mono completed&quot;);\n      return 0;\n    });\n    Future&lt;Integer&gt; future = monoToFuture(mono, Executors.newSingleThreadExecutor());\n    System.out.println(&quot;future created&quot;);\n    future.get();\n    System.out.println(&quot;future completed&quot;);\n  }\n\n  private &lt;T&gt; Future&lt;T&gt; monoToFuture(Mono&lt;T&gt; mono, ExecutorService executorService){\n    return executorService.submit((Callable&lt;T&gt;) mono::block);\n  }\n</code></pre>\n<p>Result:</p>\n<pre><code>future created\nstart mono\nmono completed\nfuture completed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676482830,"creation_date":1676482830,"answer_id":75463568,"question_id":58504527,"body_markdown":"**TL;DR** \r\n`Mono.toFuture()` is not blocking but `Mono.toFuture().get()` is blocking. `block()` is technically the same as `toFuture().get()` and both are blocking.\r\n\r\n`Mono.toFuture()` just transforms `Mono` into a `CompletableFuture` by subscribing to it and resolving immediately. But it doesn&#39;t mean that you can access result (in your case `String`) of the corresponding `Mono` after this. `CompletableFuture` is still async and you can use methods like `thenApply()`, `thenCompose()`, `thenCombine()`, ... to continue async processing.\r\n\r\n\r\n```\r\nCompletableFuture&lt;Double&gt; result = getUserDetail(userId)\r\n    .toFuture()\r\n    .thenCompose(user -&gt; getCreditRating(user));\r\n```\r\n\r\nwhere `getUserDetail` is defined as \r\n```\r\nMono&lt;User&gt; getUserDetail(String userId);\r\n```\r\n\r\n`Mono.toFuture` is useful when you need to combine different async APIs. For example, AWS Java v2 API is async but based on `CompletableFuture` but we can combine APIs using `Mono.toFuture` or `Mono.fromFuture`.\r\n\r\n\r\n\r\n","title":"Is Mono.toFuture() blocking?","body":"<p><strong>TL;DR</strong>\n<code>Mono.toFuture()</code> is not blocking but <code>Mono.toFuture().get()</code> is blocking. <code>block()</code> is technically the same as <code>toFuture().get()</code> and both are blocking.</p>\n<p><code>Mono.toFuture()</code> just transforms <code>Mono</code> into a <code>CompletableFuture</code> by subscribing to it and resolving immediately. But it doesn't mean that you can access result (in your case <code>String</code>) of the corresponding <code>Mono</code> after this. <code>CompletableFuture</code> is still async and you can use methods like <code>thenApply()</code>, <code>thenCompose()</code>, <code>thenCombine()</code>, ... to continue async processing.</p>\n<pre><code>CompletableFuture&lt;Double&gt; result = getUserDetail(userId)\n    .toFuture()\n    .thenCompose(user -&gt; getCreditRating(user));\n</code></pre>\n<p>where <code>getUserDetail</code> is defined as</p>\n<pre><code>Mono&lt;User&gt; getUserDetail(String userId);\n</code></pre>\n<p><code>Mono.toFuture</code> is useful when you need to combine different async APIs. For example, AWS Java v2 API is async but based on <code>CompletableFuture</code> but we can combine APIs using <code>Mono.toFuture</code> or <code>Mono.fromFuture</code>.</p>\n"}],"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9125,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75463568,"answer_count":2,"score":6,"last_activity_date":1676482830,"creation_date":1571747958,"question_id":58504527,"body_markdown":"From the [Official Documentation of Mono#block()][1] it is said that:\r\n\r\n&gt; Subscribe to this Mono and **block indefinitely** until a next signal is received. Returns that value, or null if the Mono completes empty. In case the Mono errors, the original exception is thrown (wrapped in a RuntimeException if it was a checked exception).\r\n\r\nSo it is sure that block() method is blocking and it will not execute the next line untill `block()` resolved.\r\n\r\nBut my confusion is while I was using `toFuture()` expecting it will be non-blocking but it is behaving exactly like `block` method. And in the [Documentation of Mono#toFuture()][3] it is stated:\r\n\r\n&gt; Transform this Mono into a CompletableFuture completing on onNext or onComplete and failing on onError.\r\n\r\n[![Mono#toFuture()][2]][2]\r\n\r\nNot much clear. Nowhere in this doc said **`Mono#toFuture()` is blocking**. \r\n\r\n 1. Please confirm me if `toFuture()` method blocking or non-blocking?\r\n 2. Also If it is **non-blocking** then, which thread will responsible to execute the code inside `CompletableFuture`?\r\n\r\n**Update: added code snippet**\r\n\r\nusing **`Mono.block()`** method:\r\n\r\n\t\tlong time = System.currentTimeMillis();\r\n\t\tString block = Mono.fromCallable(() -&gt; {\r\n\t\t\tlogger.debug(&quot;inside in fromCallable() block()&quot;);\r\n\t\t\t//Upstream httpcall with apache httpClient().\r\n\t\t\t// which takes atleast 1sec to complete.\r\n\t\t\treturn &quot;Http response as string&quot;;\r\n\t\t}).block();\r\n\t\tlogger.info(&quot;total time needed {}&quot;, (System.currentTimeMillis()-time));\r\n\r\n\t\treturn CompletableFuture.completedFuture(block);\r\n\r\n-----\r\nUsing **`Mono.ToFuture()`** method:\r\n\r\n\t\tlong time = System.currentTimeMillis();\r\n\t\tCompletableFuture&lt;String&gt; toFuture = Mono.fromCallable(() -&gt; {\r\n\t\t\tlogger.debug(&quot;inside in fromCallable() block()&quot;);\r\n\t\t\t//Upstream httpcall with apache httpClient().\r\n\t\t\t// which takes atleast 1sec to complete.\r\n\t\t\treturn &quot;Http response as string&quot;;\r\n\t\t}).toFuture();\r\n\t\tlogger.info(&quot;total time needed {}&quot;, (System.currentTimeMillis()-time));\r\n\t\treturn toFuture;\r\n\r\n\r\n**these two code snippets behaves exactly same.**\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--\r\n  [2]: https://i.stack.imgur.com/gAJSR.png\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--","title":"Is Mono.toFuture() blocking?","body":"<p>From the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--\" rel=\"noreferrer\">Official Documentation of Mono#block()</a> it is said that:</p>\n\n<blockquote>\n  <p>Subscribe to this Mono and <strong>block indefinitely</strong> until a next signal is received. Returns that value, or null if the Mono completes empty. In case the Mono errors, the original exception is thrown (wrapped in a RuntimeException if it was a checked exception).</p>\n</blockquote>\n\n<p>So it is sure that block() method is blocking and it will not execute the next line untill <code>block()</code> resolved.</p>\n\n<p>But my confusion is while I was using <code>toFuture()</code> expecting it will be non-blocking but it is behaving exactly like <code>block</code> method. And in the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--\" rel=\"noreferrer\">Documentation of Mono#toFuture()</a> it is stated:</p>\n\n<blockquote>\n  <p>Transform this Mono into a CompletableFuture completing on onNext or onComplete and failing on onError.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/gAJSR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gAJSR.png\" alt=\"Mono#toFuture()\"></a></p>\n\n<p>Not much clear. Nowhere in this doc said <strong><code>Mono#toFuture()</code> is blocking</strong>. </p>\n\n<ol>\n<li>Please confirm me if <code>toFuture()</code> method blocking or non-blocking?</li>\n<li>Also If it is <strong>non-blocking</strong> then, which thread will responsible to execute the code inside <code>CompletableFuture</code>?</li>\n</ol>\n\n<p><strong>Update: added code snippet</strong></p>\n\n<p>using <strong><code>Mono.block()</code></strong> method:</p>\n\n<pre><code>    long time = System.currentTimeMillis();\n    String block = Mono.fromCallable(() -&gt; {\n        logger.debug(\"inside in fromCallable() block()\");\n        //Upstream httpcall with apache httpClient().\n        // which takes atleast 1sec to complete.\n        return \"Http response as string\";\n    }).block();\n    logger.info(\"total time needed {}\", (System.currentTimeMillis()-time));\n\n    return CompletableFuture.completedFuture(block);\n</code></pre>\n\n<hr>\n\n<p>Using <strong><code>Mono.ToFuture()</code></strong> method:</p>\n\n<pre><code>    long time = System.currentTimeMillis();\n    CompletableFuture&lt;String&gt; toFuture = Mono.fromCallable(() -&gt; {\n        logger.debug(\"inside in fromCallable() block()\");\n        //Upstream httpcall with apache httpClient().\n        // which takes atleast 1sec to complete.\n        return \"Http response as string\";\n    }).toFuture();\n    logger.info(\"total time needed {}\", (System.currentTimeMillis()-time));\n    return toFuture;\n</code></pre>\n\n<p><strong>these two code snippets behaves exactly same.</strong></p>\n"},{"tags":["java","mysql","workbench"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676402635,"post_id":75452358,"comment_id":133128972,"body_markdown":"I don&#39;t see the advantage of this. What if you delete the 3rd user? The IDs are then 1,2,4,5,6,7,8. Do you want to identify and reuse 3 again? You are going to be causing some serious performance issues in your database.","body":"I don&#39;t see the advantage of this. What if you delete the 3rd user? The IDs are then 1,2,4,5,6,7,8. Do you want to identify and reuse 3 again? You are going to be causing some serious performance issues in your database."},{"owner":{"account_id":24951619,"reputation":66,"user_id":18816352,"display_name":"NickP"},"score":0,"creation_date":1676403132,"post_id":75452358,"comment_id":133129128,"body_markdown":"There is not a way to do that. Using Auto Increment or Identity makes a value no longer usable once it is used.\n\nSo a user with an ID of 1 will always have an ID of 1. A possible workaround is to not delete users, but instead put in a column of TinyInt(1) labeled &#39;Deleted&#39;\n\nNew Users will have Deleted set to 0. When a user is deleted, their record gets set to 1. It will keep your IDs in order and then you just need to account for querying users who are not deleted.","body":"There is not a way to do that. Using Auto Increment or Identity makes a value no longer usable once it is used.  So a user with an ID of 1 will always have an ID of 1. A possible workaround is to not delete users, but instead put in a column of TinyInt(1) labeled &#39;Deleted&#39;  New Users will have Deleted set to 0. When a user is deleted, their record gets set to 1. It will keep your IDs in order and then you just need to account for querying users who are not deleted."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676409059,"post_id":75452358,"comment_id":133130635,"body_markdown":"@NickP Of course you can do it, you don&#39;t have the Id auto generated but defined as the result of a sub select on max(id)+1, but it is a ludicrous solution. As I said, before, does the OP want to start filling holes too?","body":"@NickP Of course you can do it, you don&#39;t have the Id auto generated but defined as the result of a sub select on max(id)+1, but it is a ludicrous solution. As I said, before, does the OP want to start filling holes too?"},{"owner":{"account_id":24951619,"reputation":66,"user_id":18816352,"display_name":"NickP"},"score":1,"creation_date":1676579561,"post_id":75452358,"comment_id":133170920,"body_markdown":"@BillMair I meant there is no way to reuse numbers when using Auto Increment. But I agree, manually assigning ids will also work.","body":"@BillMair I meant there is no way to reuse numbers when using Auto Increment. But I agree, manually assigning ids will also work."}],"answers":[{"tags":[],"owner":{"account_id":27788083,"reputation":44,"user_id":21215081,"display_name":"Nantodou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676415978,"creation_date":1676415978,"answer_id":75454062,"question_id":75452358,"body_markdown":"I&#39;m not familiar with MYSQL Workbench, but I think you might be able to alter your table and to change the value of the AUTO_INCREMENT. \r\n\r\nHere&#39;s a link that talk about it in more details and even has an example:[https://www.w3schools.com/mysql/mysql_autoincrement.asp][1] \r\n\r\nI hope this help you.\r\n\r\n\r\n  [1]: https://www.w3schools.com/mysql/mysql_autoincrement.asp","title":"MYSQL Workbench - indexes after delete (Java)","body":"<p>I'm not familiar with MYSQL Workbench, but I think you might be able to alter your table and to change the value of the AUTO_INCREMENT.</p>\n<p>Here's a link that talk about it in more details and even has an example:<a href=\"https://www.w3schools.com/mysql/mysql_autoincrement.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/mysql/mysql_autoincrement.asp</a></p>\n<p>I hope this help you.</p>\n"},{"tags":[],"owner":{"account_id":24951619,"reputation":66,"user_id":18816352,"display_name":"NickP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676482771,"creation_date":1676482771,"answer_id":75463560,"question_id":75452358,"body_markdown":"There is not a way to do that. Using Auto Increment or Identity makes a value no longer usable once it is used.\r\n\r\nSo a user with an ID of 1 will always have an ID of 1. A possible workaround is to not delete users, but instead put in a column of TinyInt(1) labeled &#39;Deleted&#39;\r\n\r\nNew Users will have Deleted set to 0. When a user is deleted, their record gets set to 1. It will keep your IDs in order and then you just need to account for querying users who are not deleted.","title":"MYSQL Workbench - indexes after delete (Java)","body":"<p>There is not a way to do that. Using Auto Increment or Identity makes a value no longer usable once it is used.</p>\n<p>So a user with an ID of 1 will always have an ID of 1. A possible workaround is to not delete users, but instead put in a column of TinyInt(1) labeled 'Deleted'</p>\n<p>New Users will have Deleted set to 0. When a user is deleted, their record gets set to 1. It will keep your IDs in order and then you just need to account for querying users who are not deleted.</p>\n"}],"owner":{"account_id":27767204,"reputation":25,"user_id":21198312,"display_name":"ShadyRaso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676482771,"creation_date":1676402253,"question_id":75452358,"body_markdown":"I have a problem with MYSQL Workbench. Let&#39;s say I have this table, the user &#39;x&#39; has index 8. Let&#39;s say I delete this user, so now I have only 7 users. If I create a new user with Java Console, the new user will be created with ID 9 because it&#39;s in auto increment. Is there a way to tell Workbench to start from where it is the last number? in that specific case, start creating the new user from 8 and not 9?\r\n\r\nI tried to check everywhere on the web, but found only some query to recreate the table, but its not what I want because I have some foreign keys linked to that table, so I can&#39;t just delete the table and recreate another one.","title":"MYSQL Workbench - indexes after delete (Java)","body":"<p>I have a problem with MYSQL Workbench. Let's say I have this table, the user 'x' has index 8. Let's say I delete this user, so now I have only 7 users. If I create a new user with Java Console, the new user will be created with ID 9 because it's in auto increment. Is there a way to tell Workbench to start from where it is the last number? in that specific case, start creating the new user from 8 and not 9?</p>\n<p>I tried to check everywhere on the web, but found only some query to recreate the table, but its not what I want because I have some foreign keys linked to that table, so I can't just delete the table and recreate another one.</p>\n"},{"tags":["java","android"],"owner":{"account_id":2160535,"reputation":8860,"user_id":1914781,"accept_rate":80,"display_name":"lucky1928"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676482544,"creation_date":1676482544,"question_id":75463515,"body_markdown":"I have a android A.jar file deployed at system path.\r\n\r\n    /product/framework/A.jar\r\n\r\nit has dependency to B.jar. but looks like if use A.jar as dependency in D project, it will expose B.jar file to D as well.\r\n\r\nD project use A.jar and B.jar as below:\r\n\r\n    complieOnly A.jar\r\n    implementation B.jar\r\n\r\nI found this since when I add B.jar to D as dependency, it actually use the version from A.jar file.\r\n\r\nThat&#39;s very weird since the version of B.jar maybe different, how to prevent A.jar expose it&#39;s dependency?","title":"android jar file exposed dependency libs unexpectly","body":"<p>I have a android A.jar file deployed at system path.</p>\n<pre><code>/product/framework/A.jar\n</code></pre>\n<p>it has dependency to B.jar. but looks like if use A.jar as dependency in D project, it will expose B.jar file to D as well.</p>\n<p>D project use A.jar and B.jar as below:</p>\n<pre><code>complieOnly A.jar\nimplementation B.jar\n</code></pre>\n<p>I found this since when I add B.jar to D as dependency, it actually use the version from A.jar file.</p>\n<p>That's very weird since the version of B.jar maybe different, how to prevent A.jar expose it's dependency?</p>\n"},{"tags":["java","android","android-listview","android-viewpager"],"comments":[{"owner":{"account_id":26355370,"reputation":1,"user_id":20012438,"display_name":"matmirowski"},"score":0,"creation_date":1676549652,"post_id":75463458,"comment_id":133161416,"body_markdown":"fixed it lol, i just changed FragmentPagerAdapter class to FragmentStatePagerAdapter","body":"fixed it lol, i just changed FragmentPagerAdapter class to FragmentStatePagerAdapter"}],"owner":{"account_id":26355370,"reputation":1,"user_id":20012438,"display_name":"matmirowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676482240,"creation_date":1676482240,"question_id":75463458,"body_markdown":"I have navigation drawer used to navigate through my application.\r\nWhen I switch to fragment with ViewPagers containing three ListViews, everything is displayed normally.\r\nThe problem appears when I switch to another fragment, and then go back to my ListViews. Everything is empty.\r\nVideo with a problem:\r\nhttps://youtu.be/hsZAGaAG_vs\r\n\r\nCode of my Fragment containing ViewPagers:\r\n\r\n```java\r\npublic class PlayerListFragment extends Fragment {\r\n\r\n    private class RolePagerAdapter extends FragmentPagerAdapter {\r\n\r\n        public RolePagerAdapter(FragmentManager fm) {\r\n            super(fm);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            switch (position) {\r\n                case 0:\r\n                    return new SniperFragment();\r\n                case 1:\r\n                    return new RiflerFragment();\r\n                case 2:\r\n                    return new IglFragment();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() { // 3 pages\r\n            return 3;\r\n        }\r\n\r\n        @Nullable\r\n        @Override\r\n        public CharSequence getPageTitle(int position) {\r\n            switch (position) {\r\n                case 0:\r\n                    return getActivity().getResources().getText(R.string.sniper_tab);\r\n                case 1:\r\n                    return getActivity().getResources().getText(R.string.riflers_tab);\r\n                case 2:\r\n                    return getActivity().getResources().getText(R.string.igls_tab);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        return inflater.inflate(R.layout.fragment_player_list, container, false);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // setup viewpager\r\n        RolePagerAdapter adapter = new RolePagerAdapter(getActivity().getSupportFragmentManager());\r\n        ViewPager pager = getActivity().findViewById(R.id.pager);\r\n        pager.setAdapter(adapter);\r\n\r\n        // setup tablayout\r\n        TabLayout tabLayout = getActivity().findViewById(R.id.tabs);\r\n        tabLayout.setupWithViewPager(pager);\r\n\r\n        // hide default toolbar and set new\r\n        ((AppCompatActivity)getActivity()).getSupportActionBar().hide();\r\n        Toolbar listToolbar = getActivity().findViewById(R.id.player_list_toolbar);\r\n        ((AppCompatActivity) getActivity()).setSupportActionBar(listToolbar);\r\n        DrawerLayout drawerLayout = getActivity().findViewById(R.id.drawer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                getActivity(),\r\n                drawerLayout,\r\n                listToolbar,\r\n                R.string.nav_open_drawer,\r\n                R.string.nav_close_drawer);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n    }\r\n```\r\n\r\nCode of my fragment containing listview:\r\n```\r\n\r\npublic class SniperFragment extends AbstractRoleListFragment {\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        return super.onCreateView(inflater, container, savedInstanceState);\r\n    }\r\n    \r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        new SetupAdapterTask().execute(Role.Sniper);\r\n    }\r\n\r\n}\r\n```\r\n\r\nCode of parent class of that fragment:\r\n\r\n```\r\npublic abstract class AbstractRoleListFragment extends ListFragment {\r\n    SQLiteDatabase db;\r\n    Cursor cursor;\r\n\r\n    protected class SetupAdapterTask extends AsyncTask&lt;Role, Void, SimpleCursorAdapter&gt; {\r\n\r\n        @Override\r\n        protected SimpleCursorAdapter doInBackground(Role... role) {\r\n            SQLiteOpenHelper helper = new MyDatabaseHelper(getActivity());\r\n            try {\r\n                db = helper.getReadableDatabase();\r\n                cursor = db.query(&quot;PLAYERS&quot;,\r\n                        new String[]{&quot;_id&quot;, &quot;NAME&quot;}, &quot;ROLE = ?&quot;,\r\n                        new String[]{role[0].toString()},\r\n                        null, null, null);\r\n                return new SimpleCursorAdapter(getActivity(),\r\n                        android.R.layout.simple_list_item_1,\r\n                        cursor,\r\n                        new String[]{&quot;NAME&quot;},\r\n                        new int[] {android.R.id.text1},\r\n                        0);\r\n            } catch (SQLiteException e) {\r\n                Log.e(&quot;ERR&quot;, &quot;Error while setting up adapter in SniperFragment&quot;, e);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(SimpleCursorAdapter adapter) {\r\n            if (adapter != null) {\r\n                setListAdapter(adapter);\r\n            } else {\r\n                Toast.makeText(getActivity(), &quot;Database unavailable&quot;, Toast.LENGTH_SHORT)\r\n                        .show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        cursor.close();\r\n        db.close();\r\n    }\r\n}\r\n```\r\n\r\nI tried to change code filling my listview with data to another method like onResume, onStart but none worked","title":"ListView content not displaying after switching to another fragment","body":"<p>I have navigation drawer used to navigate through my application.\nWhen I switch to fragment with ViewPagers containing three ListViews, everything is displayed normally.\nThe problem appears when I switch to another fragment, and then go back to my ListViews. Everything is empty.\nVideo with a problem:\n<a href=\"https://youtu.be/hsZAGaAG_vs\" rel=\"nofollow noreferrer\">https://youtu.be/hsZAGaAG_vs</a></p>\n<p>Code of my Fragment containing ViewPagers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayerListFragment extends Fragment {\n\n    private class RolePagerAdapter extends FragmentPagerAdapter {\n\n        public RolePagerAdapter(FragmentManager fm) {\n            super(fm);\n        }\n\n        @Override\n        public Fragment getItem(int position) {\n            switch (position) {\n                case 0:\n                    return new SniperFragment();\n                case 1:\n                    return new RiflerFragment();\n                case 2:\n                    return new IglFragment();\n            }\n            return null;\n        }\n\n        @Override\n        public int getCount() { // 3 pages\n            return 3;\n        }\n\n        @Nullable\n        @Override\n        public CharSequence getPageTitle(int position) {\n            switch (position) {\n                case 0:\n                    return getActivity().getResources().getText(R.string.sniper_tab);\n                case 1:\n                    return getActivity().getResources().getText(R.string.riflers_tab);\n                case 2:\n                    return getActivity().getResources().getText(R.string.igls_tab);\n            }\n            return null;\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        return inflater.inflate(R.layout.fragment_player_list, container, false);\n\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // setup viewpager\n        RolePagerAdapter adapter = new RolePagerAdapter(getActivity().getSupportFragmentManager());\n        ViewPager pager = getActivity().findViewById(R.id.pager);\n        pager.setAdapter(adapter);\n\n        // setup tablayout\n        TabLayout tabLayout = getActivity().findViewById(R.id.tabs);\n        tabLayout.setupWithViewPager(pager);\n\n        // hide default toolbar and set new\n        ((AppCompatActivity)getActivity()).getSupportActionBar().hide();\n        Toolbar listToolbar = getActivity().findViewById(R.id.player_list_toolbar);\n        ((AppCompatActivity) getActivity()).setSupportActionBar(listToolbar);\n        DrawerLayout drawerLayout = getActivity().findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                getActivity(),\n                drawerLayout,\n                listToolbar,\n                R.string.nav_open_drawer,\n                R.string.nav_close_drawer);\n        drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n    }\n</code></pre>\n<p>Code of my fragment containing listview:</p>\n<pre><code>\npublic class SniperFragment extends AbstractRoleListFragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        return super.onCreateView(inflater, container, savedInstanceState);\n    }\n    \n    @Override\n    public void onResume() {\n        super.onResume();\n        new SetupAdapterTask().execute(Role.Sniper);\n    }\n\n}\n</code></pre>\n<p>Code of parent class of that fragment:</p>\n<pre><code>public abstract class AbstractRoleListFragment extends ListFragment {\n    SQLiteDatabase db;\n    Cursor cursor;\n\n    protected class SetupAdapterTask extends AsyncTask&lt;Role, Void, SimpleCursorAdapter&gt; {\n\n        @Override\n        protected SimpleCursorAdapter doInBackground(Role... role) {\n            SQLiteOpenHelper helper = new MyDatabaseHelper(getActivity());\n            try {\n                db = helper.getReadableDatabase();\n                cursor = db.query(&quot;PLAYERS&quot;,\n                        new String[]{&quot;_id&quot;, &quot;NAME&quot;}, &quot;ROLE = ?&quot;,\n                        new String[]{role[0].toString()},\n                        null, null, null);\n                return new SimpleCursorAdapter(getActivity(),\n                        android.R.layout.simple_list_item_1,\n                        cursor,\n                        new String[]{&quot;NAME&quot;},\n                        new int[] {android.R.id.text1},\n                        0);\n            } catch (SQLiteException e) {\n                Log.e(&quot;ERR&quot;, &quot;Error while setting up adapter in SniperFragment&quot;, e);\n                return null;\n            }\n        }\n\n        @Override\n        protected void onPostExecute(SimpleCursorAdapter adapter) {\n            if (adapter != null) {\n                setListAdapter(adapter);\n            } else {\n                Toast.makeText(getActivity(), &quot;Database unavailable&quot;, Toast.LENGTH_SHORT)\n                        .show();\n            }\n        }\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        cursor.close();\n        db.close();\n    }\n}\n</code></pre>\n<p>I tried to change code filling my listview with data to another method like onResume, onStart but none worked</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1676483973,"post_id":75463313,"comment_id":133147692,"body_markdown":"because `30 * 24 * 60 *60 * 1000` is being evaluated as an `int`... and it is overflowing, returning a negative value in this case... should have used `long` literal(s) instead (`30L * 24 * 60 *60 * 1000`)","body":"because <code>30 * 24 * 60 *60 * 1000</code> is being evaluated as an <code>int</code>... and it is overflowing, returning a negative value in this case... should have used <code>long</code> literal(s) instead (<code>30L * 24 * 60 *60 * 1000</code>)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1676484500,"post_id":75463313,"comment_id":133147832,"body_markdown":"BTW it is highly recommended not to use the `Date` class anymore... outdated since Java 8 by the `java.time` package","body":"BTW it is highly recommended not to use the <code>Date</code> class anymore... outdated since Java 8 by the <code>java.time</code> package"}],"answers":[{"tags":[],"owner":{"account_id":199665,"reputation":17566,"user_id":445123,"display_name":"scartag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676482076,"creation_date":1676482076,"answer_id":75463432,"question_id":75463313,"body_markdown":"You can use the actual value of the milliseconds you want. Convert from days to milliseconds for instance, in a clearer way.\r\n\r\n    long millis = date.getTime() + TimeUnit.MILLISECONDS.convert(30, TimeUnit.DAYS);\r\n    //this will add 30 days\r\n\r\nYou can change the 30 to whatever days you&#39;d prefer.","title":"Change the session time","body":"<p>You can use the actual value of the milliseconds you want. Convert from days to milliseconds for instance, in a clearer way.</p>\n<pre><code>long millis = date.getTime() + TimeUnit.MILLISECONDS.convert(30, TimeUnit.DAYS);\n//this will add 30 days\n</code></pre>\n<p>You can change the 30 to whatever days you'd prefer.</p>\n"}],"owner":{"account_id":13508756,"reputation":29,"user_id":9745849,"display_name":"Mahdi Esmaili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75463432,"answer_count":1,"score":1,"last_activity_date":1676482076,"creation_date":1676481476,"question_id":75463313,"body_markdown":"i need to add more time session life time . but cant add more 10-12 days\r\n\r\n     /**\r\n     * Logs in the user by saving user details and setting session\r\n     *\r\n     * @param username\r\n     * @param fullName\r\n     */\r\n    public void loginUser(String username, String fullName) {\r\n        mEditor.putString(KEY_USERNAME, username);\r\n        mEditor.putString(KEY_FULL_NAME, fullName);\r\n        Date date = new Date();\r\n\r\n        //Set user session for next 7 days\r\n        long millis = date.getTime() + (30 * 24 * 60 *60 * 1000);\r\n        mEditor.putLong(KEY_EXPIRES, millis);\r\n        mEditor.commit();\r\n    }","title":"Change the session time","body":"<p>i need to add more time session life time . but cant add more 10-12 days</p>\n<pre><code> /**\n * Logs in the user by saving user details and setting session\n *\n * @param username\n * @param fullName\n */\npublic void loginUser(String username, String fullName) {\n    mEditor.putString(KEY_USERNAME, username);\n    mEditor.putString(KEY_FULL_NAME, fullName);\n    Date date = new Date();\n\n    //Set user session for next 7 days\n    long millis = date.getTime() + (30 * 24 * 60 *60 * 1000);\n    mEditor.putLong(KEY_EXPIRES, millis);\n    mEditor.commit();\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","licensing"],"comments":[{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676061224,"post_id":75414813,"comment_id":133068850,"body_markdown":"I cannot understand what is happening with the answer to my question ... What is happening? why have them erased it? The answer seemed to make sense, and the replier seemed to be able to help me with that ... but ... what now ? nothing ? Why have you removed that answer?","body":"I cannot understand what is happening with the answer to my question ... What is happening? why have them erased it? The answer seemed to make sense, and the replier seemed to be able to help me with that ... but ... what now ? nothing ? Why have you removed that answer?"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676061311,"post_id":75414813,"comment_id":133068869,"body_markdown":"Who is responsible of having erased that answer? Can I know it?","body":"Who is responsible of having erased that answer? Can I know it?"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676061387,"post_id":75414813,"comment_id":133068891,"body_markdown":"Or it was simply the black hand ?","body":"Or it was simply the black hand ?"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676062093,"post_id":75414813,"comment_id":133069046,"body_markdown":"Los poderes f&#225;cticos contra el piltrafilla ... qu&#233; grande ...","body":"Los poderes f&#225;cticos contra el piltrafilla ... qu&#233; grande ..."},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676062413,"post_id":75414813,"comment_id":133069128,"body_markdown":"do you know you are aligned with assassins?","body":"do you know you are aligned with assassins?"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676063147,"post_id":75414813,"comment_id":133069293,"body_markdown":"I am only asking ... as I think you do not know the details of the situation ...","body":"I am only asking ... as I think you do not know the details of the situation ..."},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676063894,"post_id":75414813,"comment_id":133069460,"body_markdown":"I suffer from harassment in my real life and it seems that this harassment has reached this far","body":"I suffer from harassment in my real life and it seems that this harassment has reached this far"}],"answers":[{"tags":[],"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676481990,"creation_date":1676481990,"answer_id":75463413,"question_id":75414813,"body_markdown":" - create a shared scope in &quot;Preferences | Appearance &amp; Behavior | Scopes&quot; and include the desired module into it\r\n - create a profile in &quot;Preferences | Editor | Copyright | Copyright Profiles&quot;\r\n - assign profile to a scope in &quot;Preferences | Editor | Copyright&quot;","title":"Configure a different Copyright profile for different Java (maven) modules in Intellij Idea","body":"<ul>\n<li>create a shared scope in &quot;Preferences | Appearance &amp; Behavior | Scopes&quot; and include the desired module into it</li>\n<li>create a profile in &quot;Preferences | Editor | Copyright | Copyright Profiles&quot;</li>\n<li>assign profile to a scope in &quot;Preferences | Editor | Copyright&quot;</li>\n</ul>\n"}],"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676481990,"creation_date":1676053541,"question_id":75414813,"body_markdown":"I am using Intellij Idea 2022.3.2, Community Edition, and I wonder if I can set a different Copyright Profile to different (maven) modules of my project.\r\n\r\n(Note that I have not been able to add the copyright header to my existing source files that did not have that header)\r\n\r\nI have been looking for it on the internet, but I have not been successful with that ...\r\n\r\nSo the questions are two:\r\n * How can I add a Copyright profile (header) to my existing files without that header ?\r\n * Can diferent (maven) modules be configured with different Copyright profiles?\r\n\r\nCan anyone help me, please?\r\n","title":"Configure a different Copyright profile for different Java (maven) modules in Intellij Idea","body":"<p>I am using Intellij Idea 2022.3.2, Community Edition, and I wonder if I can set a different Copyright Profile to different (maven) modules of my project.</p>\n<p>(Note that I have not been able to add the copyright header to my existing source files that did not have that header)</p>\n<p>I have been looking for it on the internet, but I have not been successful with that ...</p>\n<p>So the questions are two:</p>\n<ul>\n<li>How can I add a Copyright profile (header) to my existing files without that header ?</li>\n<li>Can diferent (maven) modules be configured with different Copyright profiles?</li>\n</ul>\n<p>Can anyone help me, please?</p>\n"},{"tags":["java","regex","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":20401440,"reputation":1,"user_id":14967070,"display_name":"amit kumar Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676481603,"creation_date":1676481603,"answer_id":75463337,"question_id":75462657,"body_markdown":"Can you explain more about what you are exactly trying to do...?\r\n\r\nBecause as per my understanding u don&#39;t wanna use @pathvariable annotation.\r\n\r\nAlso, you can do the same thing with @Requestparam annotation.\r\n\r\nLike below:\r\n/customer?id=1234&amp;whatever=xyz\r\n\r\nAnd in the controller you can use as @RequestParam(name = &quot;id&quot; int id) and @RequestParam(name = &quot;whatever&quot; String whatever)","title":"Match request path against @PathVariable string?","body":"<p>Can you explain more about what you are exactly trying to do...?</p>\n<p>Because as per my understanding u don't wanna use @pathvariable annotation.</p>\n<p>Also, you can do the same thing with @Requestparam annotation.</p>\n<p>Like below:\n/customer?id=1234&amp;whatever=xyz</p>\n<p>And in the controller you can use as @RequestParam(name = &quot;id&quot; int id) and @RequestParam(name = &quot;whatever&quot; String whatever)</p>\n"},{"tags":[],"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676481693,"creation_date":1676481693,"answer_id":75463351,"question_id":75462657,"body_markdown":"I tried to solve it with regular expressions but I think it is not very stable and will fail for special cases:\r\n\r\n```\r\nprotected static Map&lt;String, String&gt; matchPath(String pathPattern, String path) {\r\n    final Matcher matcher = Pattern.compile(&quot;\\\\{([^\\\\/\\\\}]+)\\\\}&quot;).matcher(pathPattern);\r\n    List&lt;String&gt; keys = matcher.results().map(x -&gt; x.group(1)).toList();\r\n    final String newRegex = matcher.replaceAll(&quot;([^\\\\/\\\\}]+)&quot;);\r\n\r\n    final Matcher newMatcher = Pattern.compile(newRegex).matcher(path);\r\n    newMatcher.find();\r\n    final List&lt;String&gt; values = IntStream.rangeClosed(1, newMatcher.groupCount()).mapToObj(i -&gt; newMatcher.group(i)).toList();\r\n\r\n    return IntStream.range(0, keys.size()).boxed().collect(Collectors.toMap(keys::get, values::get));\r\n}\r\n\r\n```\r\n\r\nTest:\r\n```\r\n@Test\r\nvoid matchPath() {\r\n    final Map&lt;String, String&gt; results = matchPath(&quot;/customer/{id}/{whatever}&quot;, &quot;/customer/1234/xyz&quot;);\r\n    \r\n    assertThat(results.size(), is(2));\r\n    assertThat(results.get(&quot;id&quot;), is(&quot;1234&quot;));\r\n    assertThat(results.get(&quot;whatever&quot;), is(&quot;xyz&quot;));\r\n}\r\n```\r\n\r\nFirst I find all &quot;keys&quot; and replace the {...} placeholders with the `&quot;([^\\\\/\\\\}]+)&quot;` expression.\r\nThis gives me a new regular expression which I use to match find the values.\r\n\r\nBut I am not very happy with this handmade solution...","title":"Match request path against @PathVariable string?","body":"<p>I tried to solve it with regular expressions but I think it is not very stable and will fail for special cases:</p>\n<pre><code>protected static Map&lt;String, String&gt; matchPath(String pathPattern, String path) {\n    final Matcher matcher = Pattern.compile(&quot;\\\\{([^\\\\/\\\\}]+)\\\\}&quot;).matcher(pathPattern);\n    List&lt;String&gt; keys = matcher.results().map(x -&gt; x.group(1)).toList();\n    final String newRegex = matcher.replaceAll(&quot;([^\\\\/\\\\}]+)&quot;);\n\n    final Matcher newMatcher = Pattern.compile(newRegex).matcher(path);\n    newMatcher.find();\n    final List&lt;String&gt; values = IntStream.rangeClosed(1, newMatcher.groupCount()).mapToObj(i -&gt; newMatcher.group(i)).toList();\n\n    return IntStream.range(0, keys.size()).boxed().collect(Collectors.toMap(keys::get, values::get));\n}\n\n</code></pre>\n<p>Test:</p>\n<pre><code>@Test\nvoid matchPath() {\n    final Map&lt;String, String&gt; results = matchPath(&quot;/customer/{id}/{whatever}&quot;, &quot;/customer/1234/xyz&quot;);\n    \n    assertThat(results.size(), is(2));\n    assertThat(results.get(&quot;id&quot;), is(&quot;1234&quot;));\n    assertThat(results.get(&quot;whatever&quot;), is(&quot;xyz&quot;));\n}\n</code></pre>\n<p>First I find all &quot;keys&quot; and replace the {...} placeholders with the <code>&quot;([^\\\\/\\\\}]+)&quot;</code> expression.\nThis gives me a new regular expression which I use to match find the values.</p>\n<p>But I am not very happy with this handmade solution...</p>\n"}],"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676481693,"creation_date":1676478201,"question_id":75462657,"body_markdown":"On my controller class I have a typical `@RequestMapping` annotation with placeholders for `@PathVariable` annotations:\r\n\r\n```\r\n@RequestMapping(&quot;/customer/{id}/{whatever}&quot;)\r\npublic class CustomerController {\r\n    @GetMapping\r\n    public Customer getCustomer(@PathVariable final int id, @PathVariable final String whatever) {...}\r\n}\r\n```\r\n\r\n**Now I need to match a `@RequestMapping` pattern-string like `/customer/{id}/{whatever}` against a real path like `/customer/1234/xyz`. As a result I need to know that `id` is `1234` and `whatever` is `xyz`.**\r\n\r\nAre there any utility methods which can do this? (I need a generic solution, not the regular expression for the path above.)\r\n","title":"Match request path against @PathVariable string?","body":"<p>On my controller class I have a typical <code>@RequestMapping</code> annotation with placeholders for <code>@PathVariable</code> annotations:</p>\n<pre><code>@RequestMapping(&quot;/customer/{id}/{whatever}&quot;)\npublic class CustomerController {\n    @GetMapping\n    public Customer getCustomer(@PathVariable final int id, @PathVariable final String whatever) {...}\n}\n</code></pre>\n<p><strong>Now I need to match a <code>@RequestMapping</code> pattern-string like <code>/customer/{id}/{whatever}</code> against a real path like <code>/customer/1234/xyz</code>. As a result I need to know that <code>id</code> is <code>1234</code> and <code>whatever</code> is <code>xyz</code>.</strong></p>\n<p>Are there any utility methods which can do this? (I need a generic solution, not the regular expression for the path above.)</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":16810116,"reputation":1186,"user_id":12153321,"display_name":"Javlon"},"score":0,"creation_date":1676482778,"post_id":75463330,"comment_id":133147375,"body_markdown":"You can pass `VERSION_CODE` to your base module. Take a look at this https://stackoverflow.com/a/21405744/12153321","body":"You can pass <code>VERSION_CODE</code> to your base module. Take a look at this <a href=\"https://stackoverflow.com/a/21405744/12153321\">stackoverflow.com/a/21405744/12153321</a>"},{"owner":{"account_id":16404440,"reputation":11,"user_id":11849408,"display_name":"Ansab"},"score":0,"creation_date":1676573573,"post_id":75463330,"comment_id":133169282,"body_markdown":"Thanks, @Javlon. This answer is helpful.","body":"Thanks, @Javlon. This answer is helpful."}],"owner":{"account_id":16404440,"reputation":11,"user_id":11849408,"display_name":"Ansab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676481583,"creation_date":1676481583,"question_id":75463330,"body_markdown":"I have two different app in one android project, as they both use similar components. One is client app and other is admin app. I also have an base module which constis of common util classes, ui components and other shared code.\r\nLet say App1, App2 and BaseModule. Now I want to access `BuildConfig.VERSION_CODE` of App1 or App2 depending on which app is build, in base module. How to access it. Do I need some gradle script to transfer current app version_code to base mode?\r\n\r\nI am trying to use shared preferances to share version code. But is there any to use it like `BuildConfig.VERSION_CODE`","title":"Android get top level module details in base module in android project","body":"<p>I have two different app in one android project, as they both use similar components. One is client app and other is admin app. I also have an base module which constis of common util classes, ui components and other shared code.\nLet say App1, App2 and BaseModule. Now I want to access <code>BuildConfig.VERSION_CODE</code> of App1 or App2 depending on which app is build, in base module. How to access it. Do I need some gradle script to transfer current app version_code to base mode?</p>\n<p>I am trying to use shared preferances to share version code. But is there any to use it like <code>BuildConfig.VERSION_CODE</code></p>\n"},{"tags":["java","postgresql","spring-boot","printwriter","stringwriter"],"comments":[{"owner":{"account_id":101001,"reputation":119798,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1676040882,"post_id":75412657,"comment_id":133063172,"body_markdown":"What is lakhs? Please use metric names","body":"What is lakhs? Please use metric names"},{"owner":{"account_id":12978900,"reputation":75,"user_id":9382034,"display_name":"Himanshu Arya"},"score":0,"creation_date":1676040985,"post_id":75412657,"comment_id":133063195,"body_markdown":"edited. Apologies for that","body":"edited. Apologies for that"},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1676044433,"post_id":75412657,"comment_id":133064353,"body_markdown":"Do you need to create the sql string inside the loop? \n\n    String sql = null;\n                                    sql = &quot;SELECT &quot; + table.getAttributeList() + &quot; FROM &quot; + table.getSchemaName().trim() + &quot;.&quot;\n                                            + table.getTableName().trim() + &quot; WHERE &quot; + &quot;modified_ts&quot; + &quot; &gt; &quot; + &quot;&#39;&quot; + dateTime + &quot;&#39;&quot;\n                                            + &quot; OFFSET &quot; + OFFSET + &quot; LIMIT &quot; + LIMIT;\n            \n            ?","body":"Do you need to create the sql string inside the loop?       String sql = null;                                     sql = &quot;SELECT &quot; + table.getAttributeList() + &quot; FROM &quot; + table.getSchemaName().trim() + &quot;.&quot;                                             + table.getTableName().trim() + &quot; WHERE &quot; + &quot;modified_ts&quot; + &quot; &gt; &quot; + &quot;&#39;&quot; + dateTime + &quot;&#39;&quot;                                             + &quot; OFFSET &quot; + OFFSET + &quot; LIMIT &quot; + LIMIT;                          ?"},{"owner":{"account_id":12978900,"reputation":75,"user_id":9382034,"display_name":"Himanshu Arya"},"score":0,"creation_date":1676057329,"post_id":75412657,"comment_id":133067963,"body_markdown":"I can remove that for sure.","body":"I can remove that for sure."},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1676479291,"post_id":75412657,"comment_id":133146236,"body_markdown":"In Spring/hibernate/postgresql I created a temp view with ids of the entities. After that I could retrieve them all at once, and slice the huge list into sublists. And process each sublist freeing it&#39;s memory after that.","body":"In Spring/hibernate/postgresql I created a temp view with ids of the entities. After that I could retrieve them all at once, and slice the huge list into sublists. And process each sublist freeing it&#39;s memory after that."}],"answers":[{"tags":[],"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676242673,"creation_date":1676242673,"answer_id":75430697,"question_id":75412657,"body_markdown":"There are no magics with memory mgmt., and it seems you need to find the balance: either expand the Xmx of the heap, or reduce the *LIMIT* (which is quite large). Assuming you can leave the CopyManager, iterate the ResultSet, and remove the element once you have converted it to text (otherwise you have the data twice in memory). This approach allows the Garbage-Collector to reclaim the memory as you move the results from sql to text (and having the data in memory one time). So, basic idea is\r\n\r\n\t   List&lt;Object[]&gt; resultValues = query.getResultList();\r\n       Iterator&lt;Object[]&gt; it = resultValues.iterator();\r\n       while (it.hasNext()) {\r\n           Object[] result = it.next();\r\n           ... // the conversion to text\r\n           it.remove();\r\n        }","title":"Fetch Millions of Records using CopyManager throwing OutOfMemoryError","body":"<p>There are no magics with memory mgmt., and it seems you need to find the balance: either expand the Xmx of the heap, or reduce the <em>LIMIT</em> (which is quite large). Assuming you can leave the CopyManager, iterate the ResultSet, and remove the element once you have converted it to text (otherwise you have the data twice in memory). This approach allows the Garbage-Collector to reclaim the memory as you move the results from sql to text (and having the data in memory one time). So, basic idea is</p>\n<pre><code>   List&lt;Object[]&gt; resultValues = query.getResultList();\n   Iterator&lt;Object[]&gt; it = resultValues.iterator();\n   while (it.hasNext()) {\n       Object[] result = it.next();\n       ... // the conversion to text\n       it.remove();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12978900,"reputation":75,"user_id":9382034,"display_name":"Himanshu Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676481521,"creation_date":1676481521,"answer_id":75463316,"question_id":75412657,"body_markdown":"The issue was with the following line:\r\n\r\n    while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\r\n    \r\n    // some code\r\n    i = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\r\n    }\r\n\r\nI was iterating the  loop and was copying the result set of the query to the printwriter. It store as much records as possible but in the end, ran out of memory.\r\n\r\nTo resolve this, I simply used the data inside the printwriter in every iteration.\r\nThe basic idea which solved this was:\r\n\r\n    while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\r\n    printwriter = new PrintWriter(out);\r\n    // some code\r\n    i = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\r\n    /* Used printwriter data to create a file or append the data if file exists. Closed the printwriter.*/\r\n    }\r\n\r\nHope this clarifies the problem and the solution. Let me know if more clarification is needed.\r\n ","title":"Fetch Millions of Records using CopyManager throwing OutOfMemoryError","body":"<p>The issue was with the following line:</p>\n<pre><code>while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\n\n// some code\ni = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\n}\n</code></pre>\n<p>I was iterating the  loop and was copying the result set of the query to the printwriter. It store as much records as possible but in the end, ran out of memory.</p>\n<p>To resolve this, I simply used the data inside the printwriter in every iteration.\nThe basic idea which solved this was:</p>\n<pre><code>while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\nprintwriter = new PrintWriter(out);\n// some code\ni = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\n/* Used printwriter data to create a file or append the data if file exists. Closed the printwriter.*/\n}\n</code></pre>\n<p>Hope this clarifies the problem and the solution. Let me know if more clarification is needed.</p>\n"}],"owner":{"account_id":12978900,"reputation":75,"user_id":9382034,"display_name":"Himanshu Arya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75463316,"answer_count":2,"score":0,"last_activity_date":1676481521,"creation_date":1676040589,"question_id":75412657,"body_markdown":"When I tried running my code in tables with rows in thousands, it worked fine but as a performance testing, I tried it with tables having millions of records and then I encountered this issue.\r\n\r\nI have tried the above approach. I can try an alternate approach without the copymanager but it would be great if I can use this piece of code. Any suggestions are welcome.\r\n\r\n    OFFSET is 0;\r\n    LIMIT is 3 million\r\n\r\nHere is the code:\r\n\r\n```\r\nConnection connection = null;\r\n            \r\n            \t\ttry(StringWriter out = new StringWriter(); Writer printWriter = new PrintWriter(out, true)) {\r\n            \t\t\tconnection = dataSource.getConnection();\r\n            \t\t\tOFFSET = 0;\r\n    // totalRecords is the total rows in the table\r\n            \t\t\twhile (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\r\n            \r\n            \t\t\t\tif (connection != null &amp;&amp; connection.isWrapperFor(PGConnection.class)) {\r\n            \r\n            \t\t\t\t\tPGConnection pgConnection = connection.unwrap(PGConnection.class);\r\n            \t\t\t\t\tCopyManager copyManager = null;\r\n            \t\t\t\t\tcopyManager = pgConnection.getCopyAPI();\r\n            \r\n            \t\t\t\t\tString sql = null;\r\n            \t\t\t\t\t\tsql = &quot;SELECT &quot; + table.getAttributeList() + &quot; FROM &quot; + table.getSchemaName().trim() + &quot;.&quot;\r\n            \t\t\t\t\t\t\t\t+ table.getTableName().trim() + &quot; WHERE &quot; + &quot;modified_ts&quot; + &quot; &gt; &quot; + &quot;&#39;&quot; + dateTime + &quot;&#39;&quot;\r\n            \t\t\t\t\t\t\t\t+ &quot; OFFSET &quot; + OFFSET + &quot; LIMIT &quot; + LIMIT;\r\n            \r\n            \r\n            \t\t\t\t\tLOGGER.info(sql);\r\n            \r\n            \t\t\t\t\tlong i;\r\n    // Here I am trying to copy the Result into the printwriter\r\n            \t\t\t\t\ti = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\r\n            \t\t\t\t\tLOGGER.info(&quot;Total no of records in {} : {}&quot;, table.getTableName(), i);\r\n            \t\t\t\t\tprintWriter.flush();\r\n            \t\t\t\t\tOFFSET = OFFSET + LIMIT;\r\n            \t\t\t\t\t\r\n            \r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tString now = LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)).replace(&quot;/&quot;, &quot;&quot;);\r\n            \t\t\tString localFileName = table.getTableName() + &quot;_&quot; + now + &quot;.csv&quot;;\r\n            \t\t\tInputStream inputStream = new ByteArrayInputStream(out.toString().getBytes(UTF8));\r\n            \t\t\tpostObjectToS3.uploadFile(saveFilePath + localFileName, inputStream);\r\n            \t\t\t\r\n            \t\t\tinputStream.close();\r\n            \t\t}\r\n```\r\n\r\nand here is the stacktrace:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method)\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt;         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;         at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt;         at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n&gt;         at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n&gt;         at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n&gt;         at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n&gt;         Caused by: java.lang.OutOfMemoryError: Java heap space\r\n&gt;         at java.base/java.util.Arrays.copyOf(Arrays.java:3745)\r\n&gt;         at java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:172)\r\n&gt;         at java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:633)\r\n&gt;         at java.base/java.lang.StringBuffer.append(StringBuffer.java:397)\r\n&gt;         at java.base/java.io.StringWriter.write(StringWriter.java:122)\r\n&gt;         at java.base/java.io.PrintWriter.write(PrintWriter.java:542)\r\n&gt;         at java.base/java.io.PrintWriter.write(PrintWriter.java:559)\r\n&gt;         at org.postgresql.copy.CopyManager.copyOut(CopyManager.java:92)\r\n","title":"Fetch Millions of Records using CopyManager throwing OutOfMemoryError","body":"<p>When I tried running my code in tables with rows in thousands, it worked fine but as a performance testing, I tried it with tables having millions of records and then I encountered this issue.</p>\n<p>I have tried the above approach. I can try an alternate approach without the copymanager but it would be great if I can use this piece of code. Any suggestions are welcome.</p>\n<pre><code>OFFSET is 0;\nLIMIT is 3 million\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>Connection connection = null;\n            \n                    try(StringWriter out = new StringWriter(); Writer printWriter = new PrintWriter(out, true)) {\n                        connection = dataSource.getConnection();\n                        OFFSET = 0;\n    // totalRecords is the total rows in the table\n                        while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\n            \n                            if (connection != null &amp;&amp; connection.isWrapperFor(PGConnection.class)) {\n            \n                                PGConnection pgConnection = connection.unwrap(PGConnection.class);\n                                CopyManager copyManager = null;\n                                copyManager = pgConnection.getCopyAPI();\n            \n                                String sql = null;\n                                    sql = &quot;SELECT &quot; + table.getAttributeList() + &quot; FROM &quot; + table.getSchemaName().trim() + &quot;.&quot;\n                                            + table.getTableName().trim() + &quot; WHERE &quot; + &quot;modified_ts&quot; + &quot; &gt; &quot; + &quot;'&quot; + dateTime + &quot;'&quot;\n                                            + &quot; OFFSET &quot; + OFFSET + &quot; LIMIT &quot; + LIMIT;\n            \n            \n                                LOGGER.info(sql);\n            \n                                long i;\n    // Here I am trying to copy the Result into the printwriter\n                                i = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\n                                LOGGER.info(&quot;Total no of records in {} : {}&quot;, table.getTableName(), i);\n                                printWriter.flush();\n                                OFFSET = OFFSET + LIMIT;\n                                \n            \n                            }\n                        }\n                        String now = LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)).replace(&quot;/&quot;, &quot;&quot;);\n                        String localFileName = table.getTableName() + &quot;_&quot; + now + &quot;.csv&quot;;\n                        InputStream inputStream = new ByteArrayInputStream(out.toString().getBytes(UTF8));\n                        postObjectToS3.uploadFile(saveFilePath + localFileName, inputStream);\n                        \n                        inputStream.close();\n                    }\n</code></pre>\n<p>and here is the stacktrace:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\nCaused by: java.lang.OutOfMemoryError: Java heap space\nat java.base/java.util.Arrays.copyOf(Arrays.java:3745)\nat java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:172)\nat java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:633)\nat java.base/java.lang.StringBuffer.append(StringBuffer.java:397)\nat java.base/java.io.StringWriter.write(StringWriter.java:122)\nat java.base/java.io.PrintWriter.write(PrintWriter.java:542)\nat java.base/java.io.PrintWriter.write(PrintWriter.java:559)\nat org.postgresql.copy.CopyManager.copyOut(CopyManager.java:92)</p>\n</blockquote>\n"},{"tags":["java","android","printing","itext"],"owner":{"account_id":27288952,"reputation":7,"user_id":20807685,"display_name":"Sara Iorgulescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676480878,"creation_date":1676478107,"question_id":75462640,"body_markdown":"The ItextPdf library is being used by the Android app to develop a customizable review which may be printed using the Android silkscreen driver, however the printer refuses to accept it and shows the notice &quot;The type of file is not supported by this device.&quot; When printing a conventional PDF on a PC, nevertheless, all appears to be working perfectly.\r\n\r\nI tried and failed to convert the data type of PrintDocumentInfo to PrintDocumentInfo.CONTENT_TYPE_PDF. Any advice or assistance would be much received.\r\n\r\n\r\n```\r\n// Get the PrintManager system service\r\nPrintManager printManager = (PrintManager) getSystemService(Context.PRINT_SERVICE);\r\n\r\n// Set the job name for the print job\r\nString jobName = &quot;MyReport&quot;;\r\n\r\n// Get the path to the app&#39;s internal files directory\r\nFile path = context.getFilesDir();\r\n\r\n// Create a File object for the PDF file to be printed\r\nFile file = new File(path, &quot;report.pdf&quot;);\r\n\r\n// Create a FileOutputStream to write the PDF file\r\nFileOutputStream os = new FileOutputStream(file);\r\n\r\n// Use ItextPdf library to create the PDF file\r\nAdisyon a = new Adisyon(os);\r\na.createFile();\r\n\r\n// Create a FileInputStream to read the PDF file\r\nFileInputStream is = new FileInputStream(file);\r\n\r\n// Create a new PrintDocumentAdapter to handle the printing process\r\nPrintDocumentAdapter adapter = new MyPrintAdapter(this, is);\r\n\r\n// Start the print job\r\nprintManager.print(jobName, adapter, null);\r\n\r\n// Define a custom PrintDocumentAdapter class\r\npublic class MyPrintAdapter extends PrintDocumentAdapter {\r\n    private Context mContext;\r\n    private InputStream mInputStream;\r\n\r\n    public MyPrintAdapter(Context context, InputStream inputStream) {\r\n        mContext = context;\r\n        mInputStream = inputStream;\r\n    }\r\n\r\n    @Override\r\n    public void onLayout(PrintAttributes oldAttributes, PrintAttributes newAttributes, CancellationSignal cancellationSignal, LayoutResultCallback callback, Bundle extras) {\r\n        // If the print job has been cancelled, notify the callback and return\r\n        if (cancellationSignal.isCanceled()) {\r\n            callback.onLayoutCancelled();\r\n            return;\r\n        }\r\n\r\n        // Create a new PrintDocumentInfo object to describe the document to be printed\r\n        PrintDocumentInfo pdi = new PrintDocumentInfo.Builder(&quot;report.pdf&quot;)\r\n                .setContentType(PrintDocumentInfo.CONTENT_TYPE_DOCUMENT)\r\n                .build();\r\n\r\n        // Notify the callback that the layout has finished\r\n        callback.onLayoutFinished(pdi, true);\r\n    }\r\n\r\n    @Override\r\n    public void onWrite(PageRange[] pages, ParcelFileDescriptor destination, CancellationSignal cancellationSignal, WriteResultCallback callback) {\r\n        InputStream input = null;\r\n        OutputStream output = null;\r\n\r\n        try {\r\n            // Open an InputStream to read the PDF file\r\n            input = mInputStream;\r\n\r\n            // Open an OutputStream to write to the printer\r\n            output = new FileOutputStream(destination.getFileDescriptor());\r\n\r\n            // Create a buffer to hold the data being read from the PDF file\r\n            byte[] buf = new byte[1024];\r\n            int bytesRead;\r\n\r\n            // Read the PDF file and write it to the printer\r\n            while ((bytesRead = input.read(buf)) &gt; 0) {\r\n                output.write(buf, 0, bytesRead);\r\n            }\r\n\r\n            // Notify the callback that the write operation has finished\r\n            callback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});\r\n\r\n        } catch (FileNotFoundException e) {\r\n            // Catch any exceptions that may occur\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            // Catch any exceptions that may occur\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                // Close the input and output streams\r\n                input.close();\r\n                output.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis software utilizes the PrintManager service and the ItextPdf library for publish a PDF file in an Android app. It contains a special PrintDocumentAdapter class for managing the printing process as well as document formatting and printing techniques.\r\n\r\n----\r\n\r\n# Explanation for a 14yo young man\r\n\r\n&gt; The code uses Android PrintManager to print an item. It launches the print job, displays a print interface for controlling the printing process, and creates a PDF file with ItextPdf. The MyPrintAdapter handles document formatting and printing.\r\n\r\n# Please accept my gratitude for your time and advice. Be at peace!\r\n\r\n","title":"How can an Android app print a PDF file made by the Java iTextPdf library?","body":"<p>The ItextPdf library is being used by the Android app to develop a customizable review which may be printed using the Android silkscreen driver, however the printer refuses to accept it and shows the notice &quot;The type of file is not supported by this device.&quot; When printing a conventional PDF on a PC, nevertheless, all appears to be working perfectly.</p>\n<p>I tried and failed to convert the data type of PrintDocumentInfo to PrintDocumentInfo.CONTENT_TYPE_PDF. Any advice or assistance would be much received.</p>\n<pre><code>// Get the PrintManager system service\nPrintManager printManager = (PrintManager) getSystemService(Context.PRINT_SERVICE);\n\n// Set the job name for the print job\nString jobName = &quot;MyReport&quot;;\n\n// Get the path to the app's internal files directory\nFile path = context.getFilesDir();\n\n// Create a File object for the PDF file to be printed\nFile file = new File(path, &quot;report.pdf&quot;);\n\n// Create a FileOutputStream to write the PDF file\nFileOutputStream os = new FileOutputStream(file);\n\n// Use ItextPdf library to create the PDF file\nAdisyon a = new Adisyon(os);\na.createFile();\n\n// Create a FileInputStream to read the PDF file\nFileInputStream is = new FileInputStream(file);\n\n// Create a new PrintDocumentAdapter to handle the printing process\nPrintDocumentAdapter adapter = new MyPrintAdapter(this, is);\n\n// Start the print job\nprintManager.print(jobName, adapter, null);\n\n// Define a custom PrintDocumentAdapter class\npublic class MyPrintAdapter extends PrintDocumentAdapter {\n    private Context mContext;\n    private InputStream mInputStream;\n\n    public MyPrintAdapter(Context context, InputStream inputStream) {\n        mContext = context;\n        mInputStream = inputStream;\n    }\n\n    @Override\n    public void onLayout(PrintAttributes oldAttributes, PrintAttributes newAttributes, CancellationSignal cancellationSignal, LayoutResultCallback callback, Bundle extras) {\n        // If the print job has been cancelled, notify the callback and return\n        if (cancellationSignal.isCanceled()) {\n            callback.onLayoutCancelled();\n            return;\n        }\n\n        // Create a new PrintDocumentInfo object to describe the document to be printed\n        PrintDocumentInfo pdi = new PrintDocumentInfo.Builder(&quot;report.pdf&quot;)\n                .setContentType(PrintDocumentInfo.CONTENT_TYPE_DOCUMENT)\n                .build();\n\n        // Notify the callback that the layout has finished\n        callback.onLayoutFinished(pdi, true);\n    }\n\n    @Override\n    public void onWrite(PageRange[] pages, ParcelFileDescriptor destination, CancellationSignal cancellationSignal, WriteResultCallback callback) {\n        InputStream input = null;\n        OutputStream output = null;\n\n        try {\n            // Open an InputStream to read the PDF file\n            input = mInputStream;\n\n            // Open an OutputStream to write to the printer\n            output = new FileOutputStream(destination.getFileDescriptor());\n\n            // Create a buffer to hold the data being read from the PDF file\n            byte[] buf = new byte[1024];\n            int bytesRead;\n\n            // Read the PDF file and write it to the printer\n            while ((bytesRead = input.read(buf)) &gt; 0) {\n                output.write(buf, 0, bytesRead);\n            }\n\n            // Notify the callback that the write operation has finished\n            callback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});\n\n        } catch (FileNotFoundException e) {\n            // Catch any exceptions that may occur\n            e.printStackTrace();\n        } catch (Exception e) {\n            // Catch any exceptions that may occur\n            e.printStackTrace();\n        } finally {\n            try {\n                // Close the input and output streams\n                input.close();\n                output.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>This software utilizes the PrintManager service and the ItextPdf library for publish a PDF file in an Android app. It contains a special PrintDocumentAdapter class for managing the printing process as well as document formatting and printing techniques.</p>\n<hr />\n<h1>Explanation for a 14yo young man</h1>\n<blockquote>\n<p>The code uses Android PrintManager to print an item. It launches the print job, displays a print interface for controlling the printing process, and creates a PDF file with ItextPdf. The MyPrintAdapter handles document formatting and printing.</p>\n</blockquote>\n<h1>Please accept my gratitude for your time and advice. Be at peace!</h1>\n"},{"tags":["java","ms-word","formatting","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676480662,"creation_date":1676444950,"answer_id":75456494,"question_id":75448967,"body_markdown":"The question you linked was about how to **insert** a table into a table cell in a Word-table using  Apache POI. Nothing about how to set  column widths. And, since it is from 2017, it answers this using Apache POI versions of 2017. But Apache POI is highly in development. So current versions will have more straightforward methods to do things.\r\n\r\nEspecially to set widths of `XWPFTable` and/or `XWPFTableCell`, current Apache POI version 5.2.3 provides `setWidth` methods in [XWPFTable](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTable.html) as well as in [XWPFTableCell](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTableCell.html). The most straightforward is `public void setWidth(java.lang.String widthValue)`. There the `String widthValue` may be the width to the value &quot;auto&quot;, an integer value (20ths of a point), or a percentage (&quot;nn.nn%&quot;).\r\n\r\nAlso setting borders is much more straightforward now as there are `XWPFTable.set*Border` methods now.\r\n\r\nSo the code should look like so now using current Apache POI.\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class CreateWordTableInTable {\r\n    \t\r\n     static void setAllBorders(XWPFTable table, XWPFTable.XWPFBorderType borderType, int size, int space, java.lang.String rgbColor) {\r\n       table.setTopBorder(borderType, size, space, rgbColor);\r\n       table.setRightBorder(borderType, size, space, rgbColor);\r\n       table.setBottomBorder(borderType, size, space, rgbColor);\r\n       table.setLeftBorder(borderType, size, space, rgbColor);\r\n       table.setInsideHBorder(borderType, size, space, rgbColor);\r\n       table.setInsideVBorder(borderType, size, space, rgbColor);\t \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n        XWPFDocument document = new XWPFDocument();\r\n    \r\n        XWPFTable tableOne = document.createTable(2,2);\r\n    \t\r\n    \ttableOne.setWidth(&quot;100%&quot;);\r\n    \t\r\n        XWPFTableRow tablerow = tableOne.getRow(0);\r\n    \t\r\n    \ttablerow.getCell(0).setWidth(&quot;40%&quot;);\r\n    \ttablerow.getCell(1).setWidth(&quot;60%&quot;);\r\n    \t\r\n        tablerow.getCell(0).setText(&quot;Test&quot;);\r\n        tablerow.getCell(1).setText(&quot;Test&quot;);\r\n    \r\n        tablerow = tableOne.getRow(1);\r\n        tablerow.getCell(0).setText(&quot;Test&quot;);\r\n    \r\n        XWPFParagraph paragraph = tablerow.getCell(1).getParagraphArray(0);\r\n        XWPFTable tableTwo = tablerow.getCell(1).insertNewTbl(paragraph.getCTP().newCursor());\r\n    \r\n    \ttableTwo.setWidth(0); // This is necessary because a XWPFTable created by insertNewTbl seems not to have full internally structure. It lacks the cell width field in this case.\r\n    \ttableTwo.setWidth(&quot;100%&quot;);\r\n    \t\r\n    \tsetAllBorders(tableTwo, XWPFTable.XWPFBorderType.SINGLE, 4, 0, &quot;000000&quot;);\r\n    \t\r\n        tablerow = tableTwo.createRow();\r\n        tablerow.createCell().setText(&quot;aaaaaaaaaa&quot;);\r\n        tablerow.createCell().setText(&quot;jjjjjjjj&quot;); \r\n        tablerow = tableTwo.createRow(); \r\n        tablerow.getCell(0).setText(&quot;bbbbbbbbbb&quot;); \r\n        tablerow.getCell(1).setText(&quot;gggggggggg&quot;);\r\n    \r\n        try (FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableInTable.docx&quot;)) {\r\n         document.write(out);\r\n        }\r\n        document.close();\r\n    \r\n     }\r\n    }\r\n\r\n\r\nNote: A `XWPFTable` created by `insertNewTbl` seems not to have full internally structure. It has no default border setting for example and it lacks the internally cell width field. That&#39;s why explicit border setting is necessary. And calling `setWidth(int width)` is necessary before calling `setWidth(java.lang.String widthValue)` as the first sets the internally cell width field while the second relies on the presence of that field and fails if it is not present.\r\n\r\nResult looks like so for me:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n0ORX.png","title":"How to fix the width of the columns in a table that is within the cell of another table with apache poi and Java?","body":"<p>The question you linked was about how to <strong>insert</strong> a table into a table cell in a Word-table using  Apache POI. Nothing about how to set  column widths. And, since it is from 2017, it answers this using Apache POI versions of 2017. But Apache POI is highly in development. So current versions will have more straightforward methods to do things.</p>\n<p>Especially to set widths of <code>XWPFTable</code> and/or <code>XWPFTableCell</code>, current Apache POI version 5.2.3 provides <code>setWidth</code> methods in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTable.html\" rel=\"nofollow noreferrer\">XWPFTable</a> as well as in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTableCell.html\" rel=\"nofollow noreferrer\">XWPFTableCell</a>. The most straightforward is <code>public void setWidth(java.lang.String widthValue)</code>. There the <code>String widthValue</code> may be the width to the value &quot;auto&quot;, an integer value (20ths of a point), or a percentage (&quot;nn.nn%&quot;).</p>\n<p>Also setting borders is much more straightforward now as there are <code>XWPFTable.set*Border</code> methods now.</p>\n<p>So the code should look like so now using current Apache POI.</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class CreateWordTableInTable {\n    \n static void setAllBorders(XWPFTable table, XWPFTable.XWPFBorderType borderType, int size, int space, java.lang.String rgbColor) {\n   table.setTopBorder(borderType, size, space, rgbColor);\n   table.setRightBorder(borderType, size, space, rgbColor);\n   table.setBottomBorder(borderType, size, space, rgbColor);\n   table.setLeftBorder(borderType, size, space, rgbColor);\n   table.setInsideHBorder(borderType, size, space, rgbColor);\n   table.setInsideVBorder(borderType, size, space, rgbColor);    \n }\n\n public static void main(String[] args) throws Exception {\n\n    XWPFDocument document = new XWPFDocument();\n\n    XWPFTable tableOne = document.createTable(2,2);\n    \n    tableOne.setWidth(&quot;100%&quot;);\n    \n    XWPFTableRow tablerow = tableOne.getRow(0);\n    \n    tablerow.getCell(0).setWidth(&quot;40%&quot;);\n    tablerow.getCell(1).setWidth(&quot;60%&quot;);\n    \n    tablerow.getCell(0).setText(&quot;Test&quot;);\n    tablerow.getCell(1).setText(&quot;Test&quot;);\n\n    tablerow = tableOne.getRow(1);\n    tablerow.getCell(0).setText(&quot;Test&quot;);\n\n    XWPFParagraph paragraph = tablerow.getCell(1).getParagraphArray(0);\n    XWPFTable tableTwo = tablerow.getCell(1).insertNewTbl(paragraph.getCTP().newCursor());\n\n    tableTwo.setWidth(0); // This is necessary because a XWPFTable created by insertNewTbl seems not to have full internally structure. It lacks the cell width field in this case.\n    tableTwo.setWidth(&quot;100%&quot;);\n    \n    setAllBorders(tableTwo, XWPFTable.XWPFBorderType.SINGLE, 4, 0, &quot;000000&quot;);\n    \n    tablerow = tableTwo.createRow();\n    tablerow.createCell().setText(&quot;aaaaaaaaaa&quot;);\n    tablerow.createCell().setText(&quot;jjjjjjjj&quot;); \n    tablerow = tableTwo.createRow(); \n    tablerow.getCell(0).setText(&quot;bbbbbbbbbb&quot;); \n    tablerow.getCell(1).setText(&quot;gggggggggg&quot;);\n\n    try (FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableInTable.docx&quot;)) {\n     document.write(out);\n    }\n    document.close();\n\n }\n}\n</code></pre>\n<p>Note: A <code>XWPFTable</code> created by <code>insertNewTbl</code> seems not to have full internally structure. It has no default border setting for example and it lacks the internally cell width field. That's why explicit border setting is necessary. And calling <code>setWidth(int width)</code> is necessary before calling <code>setWidth(java.lang.String widthValue)</code> as the first sets the internally cell width field while the second relies on the presence of that field and fails if it is not present.</p>\n<p>Result looks like so for me:</p>\n<p><a href=\"https://i.stack.imgur.com/n0ORX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0ORX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75456494,"answer_count":1,"score":0,"last_activity_date":1676480662,"creation_date":1676383507,"question_id":75448967,"body_markdown":"I am parsing a XML that has HTML tags in it. After parsing the XML I am trying to create a table that is within the cell of another table and create a word document with these contents. I implemented the table within a table with the help of the answer of this [Question][1]. However, I am unable to set the width of the columns of the nested table. When the word document is generated the generated nested table is so ugly with super narrow columns that has to be manually adjusted to have a desired column width. I would like to set some default values as the desired column width. The generated word document with the nested table has been provided in the picture. I am using the following code to set the column width but no luck so far. [![enter image description here][2]][2]\r\n\r\n      for (int i = 0; i &lt; nestedtable.getNumberOfRows(); i++) {\r\n      XWPFTableRow row = nestedtable.getRow(i);\r\n      int numCells = row.getTableCells().size();\r\n      for (int j = 0; j &lt; numCells; j++) {\r\n        XWPFTableCell cell = row.getCell(j);\r\n        CTTblWidth cellWidth = cell.getCTTc().addNewTcPr().addNewTcW();\r\n        CTTcPr pr = cell.getCTTc().addNewTcPr();\r\n        pr.addNewNoWrap();\r\n        cellWidth.setW(BigInteger.valueOf(400));\r\n      }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/43271689/how-to-insert-a-table-into-a-cell-in-poi-word\r\n  [2]: https://i.stack.imgur.com/AcrFP.png\r\n\r\nHow should I get out of this problem? The generated word document is looking so ugly due to this nested table structure.","title":"How to fix the width of the columns in a table that is within the cell of another table with apache poi and Java?","body":"<p>I am parsing a XML that has HTML tags in it. After parsing the XML I am trying to create a table that is within the cell of another table and create a word document with these contents. I implemented the table within a table with the help of the answer of this <a href=\"https://stackoverflow.com/questions/43271689/how-to-insert-a-table-into-a-cell-in-poi-word\">Question</a>. However, I am unable to set the width of the columns of the nested table. When the word document is generated the generated nested table is so ugly with super narrow columns that has to be manually adjusted to have a desired column width. I would like to set some default values as the desired column width. The generated word document with the nested table has been provided in the picture. I am using the following code to set the column width but no luck so far. <a href=\"https://i.stack.imgur.com/AcrFP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AcrFP.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>  for (int i = 0; i &lt; nestedtable.getNumberOfRows(); i++) {\n  XWPFTableRow row = nestedtable.getRow(i);\n  int numCells = row.getTableCells().size();\n  for (int j = 0; j &lt; numCells; j++) {\n    XWPFTableCell cell = row.getCell(j);\n    CTTblWidth cellWidth = cell.getCTTc().addNewTcPr().addNewTcW();\n    CTTcPr pr = cell.getCTTc().addNewTcPr();\n    pr.addNewNoWrap();\n    cellWidth.setW(BigInteger.valueOf(400));\n  }\n}\n</code></pre>\n<p>How should I get out of this problem? The generated word document is looking so ugly due to this nested table structure.</p>\n"},{"tags":["java","spring-data-jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":2076966,"reputation":3921,"user_id":1850043,"accept_rate":71,"display_name":"krzakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1525937536,"creation_date":1525937536,"answer_id":50267851,"question_id":50211090,"body_markdown":"I solved it myself:\r\n\r\n`GROUP BY &quot;DATE_FORMAT(...)&quot;`\r\n\r\nIn case of query DSL\r\n\r\n`DateTemplate formattedDate = Expressions.dateTemplate(LocalDateTime.class, &quot;DATE_FORMAT({0}, {1})&quot;, queryItem.timestamp, &quot;%d/%m/%Y&quot;);`\r\n\r\n    query.select(...).groupBy(formattedDate);\r\n","title":"QueryDSL 4.1.4, Jpa GROUP BY Date","body":"<p>I solved it myself:</p>\n\n<p><code>GROUP BY \"DATE_FORMAT(...)\"</code></p>\n\n<p>In case of query DSL</p>\n\n<p><code>DateTemplate formattedDate = Expressions.dateTemplate(LocalDateTime.class, \"DATE_FORMAT({0}, {1})\", queryItem.timestamp, \"%d/%m/%Y\");</code></p>\n\n<pre><code>query.select(...).groupBy(formattedDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5626834,"reputation":1,"user_id":8722734,"display_name":"Jallow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676480649,"creation_date":1675787957,"answer_id":75376414,"question_id":50211090,"body_markdown":"Thanks @krzakov\r\n\r\nInspired by you, i got to do it in QueryDSL version 4.4.0 with:\r\n\r\n    Expressions.stringTemplate(&quot;DATE_FORMAT({0}, &#39;%d/%m/%Y&#39;)&quot;, queryItem.date)\r\n\r\n`dateTemplate` didn&#39;t workout for me.","title":"QueryDSL 4.1.4, Jpa GROUP BY Date","body":"<p>Thanks @krzakov</p>\n<p>Inspired by you, i got to do it in QueryDSL version 4.4.0 with:</p>\n<pre><code>Expressions.stringTemplate(&quot;DATE_FORMAT({0}, '%d/%m/%Y')&quot;, queryItem.date)\n</code></pre>\n<p><code>dateTemplate</code> didn't workout for me.</p>\n"}],"owner":{"account_id":2076966,"reputation":3921,"user_id":1850043,"accept_rate":71,"display_name":"krzakov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50267851,"answer_count":2,"score":0,"last_activity_date":1676480649,"creation_date":1525685800,"question_id":50211090,"body_markdown":"I have troubles on grouping my query by date. I need to consolidate some data in daily manner in `QueryDSL 4.1.4`. There is almost none of documentation and examples since Query DSL got an update `4.X`\r\n\r\nDesired output \r\n\r\n    2018-02-02   |   SUM(some_field)\r\n    2018-02-03   |   SUM(some_field)\r\n\r\n`.groupBy(qItem.dateField.dayOfMonth())` is not an option. \r\n\r\nMaybe I should parse row sql somehow into `queryDSL`. Any ideas?\r\n","title":"QueryDSL 4.1.4, Jpa GROUP BY Date","body":"<p>I have troubles on grouping my query by date. I need to consolidate some data in daily manner in <code>QueryDSL 4.1.4</code>. There is almost none of documentation and examples since Query DSL got an update <code>4.X</code></p>\n\n<p>Desired output </p>\n\n<pre><code>2018-02-02   |   SUM(some_field)\n2018-02-03   |   SUM(some_field)\n</code></pre>\n\n<p><code>.groupBy(qItem.dateField.dayOfMonth())</code> is not an option. </p>\n\n<p>Maybe I should parse row sql somehow into <code>queryDSL</code>. Any ideas?</p>\n"},{"tags":["java","aem"],"answers":[{"tags":[],"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553263593,"creation_date":1553263095,"answer_id":55301231,"question_id":55298293,"body_markdown":"Disclaimer:\r\n\r\nI am only going to mention the &quot;old&quot; Asset API in `com.day.cq.dam.api`. There is a newer API in `com.adobe.granite.asset.api` which is different and lacks some features, which is why I usually prefer to use the &quot;old&quot; API.\r\n\r\n----------\r\n\r\nThere are several ways to get renditions in AEM and all of them come with advantages and disadvantages.\r\n\r\nBefore I start to explain a few ways to get renditions, there are two rules you should follow to make your live easier:\r\n\r\n1. Never expect thumbnail or web renditions to exist.\r\n2. Never use the original rendition except for downloads.\r\n\r\nYou wrote:\r\n\r\n&gt; Need to increase the resolution or get original image.\r\n\r\nIf you just want to get the original rendition, you can simply use:\r\n\r\n    Rendition rendition = asset.getOriginal();\r\n\r\nBut if you want to get _a_ thumbnail or web rendition you should use one of the `RenditionPicker`.\r\n\r\nTo get a thumbnail rendition you can use:\r\n\r\n    PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_THUMBNAIL, true)\r\n    Rendition rendition = picker.getRendition(asset);\r\n\r\nThis will give you the _first_ thumbnail rendition that the picker will find. In theory you could force a certain thumbnail rendition by extending the code like this:\r\n\r\n    PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_THUMBNAIL + &quot;.319&quot;, true)\r\n    Rendition rendition = picker.getRendition(asset);\r\n\r\nThis would return the `319px` thumbnail rendition with the name `cq5dam.thumbnail.319.319.png`. But remember, there is no guarantee that this rendition exists. If there is no rendition with this name the `RenditionPicker` from above will simply return the `original` rendition (because we used `true` as second parameter).\r\n\r\nThe same process can be used to get the web rendition. You can either use the rendition picker from above and just use another constant:\r\n\r\n    PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_WEB, true)\r\n    Rendition rendition = picker.getRendition(asset);\r\n\r\nOr you use the the dedicated `WCMRenditionPicker`:\r\n\r\n    WCMRenditionPicker picker = new WCMRenditionPicker();\r\n    Rendition rendition = picker.getRendition(asset);\r\n\r\nBut as before, this will return the _first_ rendition that is found or _null_ if none is found.\r\n\r\nDepending on your use case you might want to create your own `RenditionPicker` by implementing the following interface:\r\n\r\n    com.day.cq.dam.api.RenditionPicker\r\n\r\nThere is also another API I want to mention which is `com.day.cq.dam.commons.util.UIHelper`. This class contains a few interesting methods like:\r\n\r\n    getBestfitRendition(Asset asset, int width)\r\n\r\nThis method would allow you to specify a desired `width` and it will try to find the _nearest_ best fitting rendition. This can be also quite handy in certain situations.\r\n\r\nLinks:\r\n\r\n 1. [Asset Javadoc][1]\r\n 2. [Rendition Javadoc][2]\r\n 3. [PrefixRenditionPicker Javadoc][3]\r\n 4. [WCMRenditionPicker Javadoc][4]\r\n 5. [PREFIX_ASSET_THUMBNAIL constant Javadoc][5]\r\n 6. [PREFIX_ASSET_WEB constant Javadoc][6]\r\n 7. [UIHelper Javadoc][7]\r\n\r\n\r\n  [1]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/Asset.html\r\n  [2]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/RenditionPicker.html\r\n  [3]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/commons/util/PrefixRenditionPicker.html\r\n  [4]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/foundation/WCMRenditionPicker.html\r\n  [5]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/DamConstants.html#PREFIX_ASSET_THUMBNAIL\r\n  [6]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/DamConstants.html#PREFIX_ASSET_WEB\r\n  [7]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/commons/util/UIHelper.html","title":"DAM Asset Renditions - Getting cq5dam.thumbnail.48.48.png rendition but need the original rendition","body":"<p>Disclaimer:</p>\n\n<p>I am only going to mention the \"old\" Asset API in <code>com.day.cq.dam.api</code>. There is a newer API in <code>com.adobe.granite.asset.api</code> which is different and lacks some features, which is why I usually prefer to use the \"old\" API.</p>\n\n<hr>\n\n<p>There are several ways to get renditions in AEM and all of them come with advantages and disadvantages.</p>\n\n<p>Before I start to explain a few ways to get renditions, there are two rules you should follow to make your live easier:</p>\n\n<ol>\n<li>Never expect thumbnail or web renditions to exist.</li>\n<li>Never use the original rendition except for downloads.</li>\n</ol>\n\n<p>You wrote:</p>\n\n<blockquote>\n  <p>Need to increase the resolution or get original image.</p>\n</blockquote>\n\n<p>If you just want to get the original rendition, you can simply use:</p>\n\n<pre><code>Rendition rendition = asset.getOriginal();\n</code></pre>\n\n<p>But if you want to get <em>a</em> thumbnail or web rendition you should use one of the <code>RenditionPicker</code>.</p>\n\n<p>To get a thumbnail rendition you can use:</p>\n\n<pre><code>PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_THUMBNAIL, true)\nRendition rendition = picker.getRendition(asset);\n</code></pre>\n\n<p>This will give you the <em>first</em> thumbnail rendition that the picker will find. In theory you could force a certain thumbnail rendition by extending the code like this:</p>\n\n<pre><code>PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_THUMBNAIL + \".319\", true)\nRendition rendition = picker.getRendition(asset);\n</code></pre>\n\n<p>This would return the <code>319px</code> thumbnail rendition with the name <code>cq5dam.thumbnail.319.319.png</code>. But remember, there is no guarantee that this rendition exists. If there is no rendition with this name the <code>RenditionPicker</code> from above will simply return the <code>original</code> rendition (because we used <code>true</code> as second parameter).</p>\n\n<p>The same process can be used to get the web rendition. You can either use the rendition picker from above and just use another constant:</p>\n\n<pre><code>PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_WEB, true)\nRendition rendition = picker.getRendition(asset);\n</code></pre>\n\n<p>Or you use the the dedicated <code>WCMRenditionPicker</code>:</p>\n\n<pre><code>WCMRenditionPicker picker = new WCMRenditionPicker();\nRendition rendition = picker.getRendition(asset);\n</code></pre>\n\n<p>But as before, this will return the <em>first</em> rendition that is found or <em>null</em> if none is found.</p>\n\n<p>Depending on your use case you might want to create your own <code>RenditionPicker</code> by implementing the following interface:</p>\n\n<pre><code>com.day.cq.dam.api.RenditionPicker\n</code></pre>\n\n<p>There is also another API I want to mention which is <code>com.day.cq.dam.commons.util.UIHelper</code>. This class contains a few interesting methods like:</p>\n\n<pre><code>getBestfitRendition(Asset asset, int width)\n</code></pre>\n\n<p>This method would allow you to specify a desired <code>width</code> and it will try to find the <em>nearest</em> best fitting rendition. This can be also quite handy in certain situations.</p>\n\n<p>Links:</p>\n\n<ol>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/Asset.html\" rel=\"nofollow noreferrer\">Asset Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/RenditionPicker.html\" rel=\"nofollow noreferrer\">Rendition Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/commons/util/PrefixRenditionPicker.html\" rel=\"nofollow noreferrer\">PrefixRenditionPicker Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/foundation/WCMRenditionPicker.html\" rel=\"nofollow noreferrer\">WCMRenditionPicker Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/DamConstants.html#PREFIX_ASSET_THUMBNAIL\" rel=\"nofollow noreferrer\">PREFIX_ASSET_THUMBNAIL constant Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/DamConstants.html#PREFIX_ASSET_WEB\" rel=\"nofollow noreferrer\">PREFIX_ASSET_WEB constant Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/commons/util/UIHelper.html\" rel=\"nofollow noreferrer\">UIHelper Javadoc</a></li>\n</ol>\n"}],"owner":{"account_id":15190760,"reputation":35,"user_id":10961529,"display_name":"Rashmi Ks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676480476,"creation_date":1553252765,"question_id":55298293,"body_markdown":"    String itemPath = &quot;/content/dam/global-abc/mcos/benefra/nl/custom/product-images/25-nl-107855/fact3.jpg&quot;;\r\n    \r\n    String thumbnailUrl = itemPath;\r\n    \r\n    if (assetManager != null) {                        \r\n       Asset asset = assetManager.getAsset(itemPath);\r\n    \r\n       thumbnailUrl = asset.listRenditions().hasNext() ?\r\n                      asset.listRenditions().next().getPath() : itemPath;\r\n       \r\n    }\r\n\r\n**asset.listRenditions().next().getPath() gives /content/dam/global-abc/mcos/benefra/nl/custom/product-images/25-nl-107855/fact3.jpg/jcr:content/renditions/cq5dam.thumbnail.48.48.png which will reduce the clarity of the image at UI end. Need to increase the resolution or get original image**\r\n","title":"DAM Asset Renditions - Getting cq5dam.thumbnail.48.48.png rendition but need the original rendition","body":"<pre><code>String itemPath = \"/content/dam/global-abc/mcos/benefra/nl/custom/product-images/25-nl-107855/fact3.jpg\";\n\nString thumbnailUrl = itemPath;\n\nif (assetManager != null) {                        \n   Asset asset = assetManager.getAsset(itemPath);\n\n   thumbnailUrl = asset.listRenditions().hasNext() ?\n                  asset.listRenditions().next().getPath() : itemPath;\n\n}\n</code></pre>\n\n<p><strong>asset.listRenditions().next().getPath() gives /content/dam/global-abc/mcos/benefra/nl/custom/product-images/25-nl-107855/fact3.jpg/jcr:content/renditions/cq5dam.thumbnail.48.48.png which will reduce the clarity of the image at UI end. Need to increase the resolution or get original image</strong></p>\n"},{"tags":["javascript","java","facebook","facebook-graph-api","htmlunit"],"comments":[{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1676531985,"post_id":75463088,"comment_id":133156353,"body_markdown":"Trying to mess around with the image URL itself is not going to work. The _other_ answer in that thread you mentioned is the way to go.","body":"Trying to mess around with the image URL itself is not going to work. The <i>other</i> answer in that thread you mentioned is the way to go."}],"owner":{"account_id":15387165,"reputation":23,"user_id":14521298,"display_name":"Jade Kush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676480267,"creation_date":1676480267,"question_id":75463088,"body_markdown":"I am trying to get the larger version from the thumbnail of a profile picture on Facebook.  \r\nIs this still achievable?  \r\nI have found an old solution but no longer works: https://stackoverflow.com/questions/26877568/how-to-get-larger-version-of-facebooks-thumbnail-images  \r\nWhen I try to simply change the size in the url (like old times) I get the following: \r\n\r\n```\r\nURL signature mismatch\r\n```\r\n\r\nFor instance, this is the inner element I have inspecting the thumbnail: \r\n\r\n```\r\n&lt;image x=&quot;0&quot; y=&quot;0&quot; height=&quot;100%&quot; preserveAspectRatio=&quot;xMidYMid slice&quot; width=&quot;100%&quot; xlink:href=&quot;https://scontent.fbri2-1.fna.fbcdn.net/v/t39.30808-1/311117637_10228232448266995_8684249587025903653_n.jpg?stp=cp0_dst-jpg_p60x60&amp;amp;_nc_cat=108&amp;amp;ccb=1-7&amp;amp;_nc_sid=7206a8&amp;amp;_nc_ohc=atKyZ3_RwVoAX8QrTbc&amp;amp;_nc_ht=scontent.fbri2-1.fna&amp;amp;oh=00_AfDr6aLZTybVIlYpRScHNxNi-RzWcNPmGabEnOLvT_wL8Q&amp;amp;oe=63F1CAE0&quot; style=&quot;height: 60px; width: 60px;&quot;&gt;&lt;/image&gt;\r\n```\r\n\r\nHowever I have no idea how to get the larger size from that link.  \r\nIf it&#39;s not possible, I guess the only way would be to programatically visit each profile and get the link of the larger profile picture.","title":"Getting larger version of Facebook&#39;s thumbnail images?","body":"<p>I am trying to get the larger version from the thumbnail of a profile picture on Facebook.<br />\nIs this still achievable?<br />\nI have found an old solution but no longer works: <a href=\"https://stackoverflow.com/questions/26877568/how-to-get-larger-version-of-facebooks-thumbnail-images\">How to get larger version of Facebook&#39;s thumbnail images?</a><br />\nWhen I try to simply change the size in the url (like old times) I get the following:</p>\n<pre><code>URL signature mismatch\n</code></pre>\n<p>For instance, this is the inner element I have inspecting the thumbnail:</p>\n<pre><code>&lt;image x=&quot;0&quot; y=&quot;0&quot; height=&quot;100%&quot; preserveAspectRatio=&quot;xMidYMid slice&quot; width=&quot;100%&quot; xlink:href=&quot;https://scontent.fbri2-1.fna.fbcdn.net/v/t39.30808-1/311117637_10228232448266995_8684249587025903653_n.jpg?stp=cp0_dst-jpg_p60x60&amp;amp;_nc_cat=108&amp;amp;ccb=1-7&amp;amp;_nc_sid=7206a8&amp;amp;_nc_ohc=atKyZ3_RwVoAX8QrTbc&amp;amp;_nc_ht=scontent.fbri2-1.fna&amp;amp;oh=00_AfDr6aLZTybVIlYpRScHNxNi-RzWcNPmGabEnOLvT_wL8Q&amp;amp;oe=63F1CAE0&quot; style=&quot;height: 60px; width: 60px;&quot;&gt;&lt;/image&gt;\n</code></pre>\n<p>However I have no idea how to get the larger size from that link.<br />\nIf it's not possible, I guess the only way would be to programatically visit each profile and get the link of the larger profile picture.</p>\n"},{"tags":["java","caching","redis-cache"],"owner":{"account_id":16899073,"reputation":1,"user_id":12220953,"display_name":"Pavlo Khomiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676480216,"creation_date":1676478249,"question_id":75462667,"body_markdown":"I configure first_cache and it works fine.\r\nBut when I want add second_cache in FirstCasheResolver CacheOperationInvocationContext has only one cache while RedisCacheManager has two caches.\r\nAlso SecondCacheResolver even not triggered. \r\nPlease help me. \r\n\r\nHere is my CacheConfiguration class\r\n\r\n```\r\n@EnableCaching\r\n@Configuration\r\npublic class CacheConfiguration {\r\n    public static final String FIRST_CACHE_NAME = &quot;first_cache&quot;;\r\n    public static final String SECOND_CACHE_NAME = &quot;second_cache&quot;;\r\n    private int defaultTokenExpirationTime = 1000;\r\n\r\n    @Bean\r\n    public RedisCacheManager redisCacheManager(RedisConnectionFactory redisConnectionFactory) {\r\n        return RedisCacheManager.builder(redisConnectionFactory)\r\n                .cacheDefaults(getDefaultRedisCacheConfiguration())\r\n                .withCacheConfiguration(FIRST_CACHE_NAME, getCustomRedisCacheConfiguration())\r\n                .withCacheConfiguration(SECOND_CACHE_NAME, getCustomRedisCacheConfiguration())\r\n                .build();\r\n    }\r\n\r\n    private RedisCacheConfiguration getDefaultRedisCacheConfiguration() {\r\n        return RedisCacheConfiguration.defaultCacheConfig().disableCachingNullValues();\r\n    }\r\n\r\n    private RedisCacheConfiguration getCustomRedisCacheConfiguration() {\r\n        return RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofSeconds(defaultTokenExpirationTime));\r\n    }\r\n\r\n    @Bean(&quot;firstCacheResolver&quot;)\r\n    public CacheResolver firstCacheResolver(RedisCacheManager redisCacheManager) {\r\n        return new FirstCacheResolver(redisCacheManager);\r\n    }\r\n\r\n    @Bean(&quot;secondCacheResolver&quot;)\r\n    public CacheResolver secondCacheResolver(RedisCacheManager redisCacheManager) {\r\n        return new SecondCacheResolver(redisCacheManager);\r\n    }\r\n}\r\n```\r\n\r\nHere is my FirstCacheResolver class\r\n\r\n```\r\npublic class FirstCacheResolver extends SimpleCacheResolver {\r\n\r\n    public FirstCacheResolver(CacheManager cacheManager) {\r\n        super(cacheManager);\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends Cache&gt; resolveCaches(CacheOperationInvocationContext&lt;?&gt; context) {\r\n        return super.resolveCaches(context).stream().toList();\r\n    }\r\n}\r\n```\r\nhere super.resolveCaches(context) returns list only one first_cache but CacheManager has first_cache and second_cache\r\n\r\nHere is my SecondCacheResolver class\r\n\r\n```\r\npublic class SecondCacheResolver extends SimpleCacheResolver {\r\n\r\n    public SecondCacheResolver(CacheManager cacheManager) {\r\n        super(cacheManager);\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends Cache&gt; resolveCaches(CacheOperationInvocationContext&lt;?&gt; context) {\r\n        return super.resolveCaches(context).stream().toList();\r\n    }\r\n}\r\n```\r\nthis resolveCaches() method even not triggered\r\n\r\nhere is usage of both caches. They\r\n\r\n```\r\npublic class FirstClass {\r\n    @Cacheable(\r\n            cacheNames = {CacheConfiguration.FIRST_CACHE_NAME},\r\n            key = &quot;#params.get(&#39;first&#39;).get(0)&quot;,\r\n            cacheResolver = &quot;firstCacheResolver&quot;\r\n    )\r\n    public int getFirst(MultiValueMap&lt;String, Object&gt; params) {\r\n        // some logic\r\n    }\r\n}\r\n\r\n\r\n\r\npublic class SecondClass {\r\n    @Cacheable(\r\n            cacheNames = {CacheConfiguration.SECOND_CACHE_NAME},\r\n            key = &quot;#params.get(&#39;second&#39;).get(0)&quot;,\r\n            cacheResolver = &quot;secondCacheResolver&quot;\r\n    )\r\n    public int getSecond(MultiValueMap&lt;String, Object&gt; params) {\r\n        // some logic\r\n    }\r\n}\r\n\r\n```\r\n[cacheManager in debug][1]\r\n\r\nI try implement two caches with custom CacheResolvers.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n6aRb.png","title":"Why triggered only one cache? (RedisCacheManager and CacheOperationInvocationContext issue)","body":"<p>I configure first_cache and it works fine.\nBut when I want add second_cache in FirstCasheResolver CacheOperationInvocationContext has only one cache while RedisCacheManager has two caches.\nAlso SecondCacheResolver even not triggered.\nPlease help me.</p>\n<p>Here is my CacheConfiguration class</p>\n<pre><code>@EnableCaching\n@Configuration\npublic class CacheConfiguration {\n    public static final String FIRST_CACHE_NAME = &quot;first_cache&quot;;\n    public static final String SECOND_CACHE_NAME = &quot;second_cache&quot;;\n    private int defaultTokenExpirationTime = 1000;\n\n    @Bean\n    public RedisCacheManager redisCacheManager(RedisConnectionFactory redisConnectionFactory) {\n        return RedisCacheManager.builder(redisConnectionFactory)\n                .cacheDefaults(getDefaultRedisCacheConfiguration())\n                .withCacheConfiguration(FIRST_CACHE_NAME, getCustomRedisCacheConfiguration())\n                .withCacheConfiguration(SECOND_CACHE_NAME, getCustomRedisCacheConfiguration())\n                .build();\n    }\n\n    private RedisCacheConfiguration getDefaultRedisCacheConfiguration() {\n        return RedisCacheConfiguration.defaultCacheConfig().disableCachingNullValues();\n    }\n\n    private RedisCacheConfiguration getCustomRedisCacheConfiguration() {\n        return RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofSeconds(defaultTokenExpirationTime));\n    }\n\n    @Bean(&quot;firstCacheResolver&quot;)\n    public CacheResolver firstCacheResolver(RedisCacheManager redisCacheManager) {\n        return new FirstCacheResolver(redisCacheManager);\n    }\n\n    @Bean(&quot;secondCacheResolver&quot;)\n    public CacheResolver secondCacheResolver(RedisCacheManager redisCacheManager) {\n        return new SecondCacheResolver(redisCacheManager);\n    }\n}\n</code></pre>\n<p>Here is my FirstCacheResolver class</p>\n<pre><code>public class FirstCacheResolver extends SimpleCacheResolver {\n\n    public FirstCacheResolver(CacheManager cacheManager) {\n        super(cacheManager);\n    }\n\n    @Override\n    public Collection&lt;? extends Cache&gt; resolveCaches(CacheOperationInvocationContext&lt;?&gt; context) {\n        return super.resolveCaches(context).stream().toList();\n    }\n}\n</code></pre>\n<p>here super.resolveCaches(context) returns list only one first_cache but CacheManager has first_cache and second_cache</p>\n<p>Here is my SecondCacheResolver class</p>\n<pre><code>public class SecondCacheResolver extends SimpleCacheResolver {\n\n    public SecondCacheResolver(CacheManager cacheManager) {\n        super(cacheManager);\n    }\n\n    @Override\n    public Collection&lt;? extends Cache&gt; resolveCaches(CacheOperationInvocationContext&lt;?&gt; context) {\n        return super.resolveCaches(context).stream().toList();\n    }\n}\n</code></pre>\n<p>this resolveCaches() method even not triggered</p>\n<p>here is usage of both caches. They</p>\n<pre><code>public class FirstClass {\n    @Cacheable(\n            cacheNames = {CacheConfiguration.FIRST_CACHE_NAME},\n            key = &quot;#params.get('first').get(0)&quot;,\n            cacheResolver = &quot;firstCacheResolver&quot;\n    )\n    public int getFirst(MultiValueMap&lt;String, Object&gt; params) {\n        // some logic\n    }\n}\n\n\n\npublic class SecondClass {\n    @Cacheable(\n            cacheNames = {CacheConfiguration.SECOND_CACHE_NAME},\n            key = &quot;#params.get('second').get(0)&quot;,\n            cacheResolver = &quot;secondCacheResolver&quot;\n    )\n    public int getSecond(MultiValueMap&lt;String, Object&gt; params) {\n        // some logic\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/n6aRb.png\" rel=\"nofollow noreferrer\">cacheManager in debug</a></p>\n<p>I try implement two caches with custom CacheResolvers.</p>\n"},{"tags":["java","maven","intellij-idea","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1676478254,"post_id":75462287,"comment_id":133145890,"body_markdown":"*“There are similar questions asked but none of them helped me.”* -&gt; edit the question, link them. Follow a pattern from the [eden JavaFX resource guide](https://edencoding.com/where-to-put-resource-files-in-javafx/).  You don’t need (should not have) a resources section in your pom.xml. No useful guide would have done that.","body":"<i>“There are similar questions asked but none of them helped me.”</i> -&gt; edit the question, link them. Follow a pattern from the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">eden JavaFX resource guide</a>.  You don’t need (should not have) a resources section in your pom.xml. No useful guide would have done that."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1676478804,"post_id":75462287,"comment_id":133146069,"body_markdown":"It&#39;s not the cause of the problem, but specifying multiple resource directories, some of which are subdirectories of others, is highly confusing, and I&#39;m not sure how this will be handled. Specifying just the top-level directory (`src/main/resources`) will include all subdirectories, so just the first `&lt;resource&gt;` entry should suffice. Since that is the default, omitting the `&lt;resources&gt;` entirely from the pom.xml will produce the correct results.","body":"It&#39;s not the cause of the problem, but specifying multiple resource directories, some of which are subdirectories of others, is highly confusing, and I&#39;m not sure how this will be handled. Specifying just the top-level directory (<code>src&#47;main&#47;resources</code>) will include all subdirectories, so just the first <code>&lt;resource&gt;</code> entry should suffice. Since that is the default, omitting the <code>&lt;resources&gt;</code> entirely from the pom.xml will produce the correct results."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1676479600,"post_id":75462287,"comment_id":133146337,"body_markdown":"*&quot;I&#39;m not sure how this will be handled. &quot;* Actually, looking at your screenshots, this is simply being taken literally. Note that the content of all the directories you specified are being copied into the root of the classpath. This means elements will be duplicated (or worse): you have `sign-up-logo.png` in the root of the classpath (from `src/main/resources/com/app/converter/fxml/images`), in `images/sign-up-logo.png` (from `src/main/resources/com/app/converter/fxml`), and in the correct place, `com/app/converter/fxml/images/sign-up-logo.png` (from `/src/main/resources`).","body":"<i>&quot;I&#39;m not sure how this will be handled. &quot;</i> Actually, looking at your screenshots, this is simply being taken literally. Note that the content of all the directories you specified are being copied into the root of the classpath. This means elements will be duplicated (or worse): you have <code>sign-up-logo.png</code> in the root of the classpath (from <code>src&#47;main&#47;resources&#47;com&#47;app&#47;converter&#47;fxml&#47;images</code>), in <code>images&#47;sign-up-logo.png</code> (from <code>src&#47;main&#47;resources&#47;com&#47;app&#47;converter&#47;fxml</code>), and in the correct place, <code>com&#47;app&#47;converter&#47;fxml&#47;images&#47;sign-up-logo.png</code> (from <code>&#47;src&#47;main&#47;resources</code>)."},{"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"score":0,"creation_date":1676482838,"post_id":75462287,"comment_id":133147386,"body_markdown":"I have implemented your suggestions and everything (except files under config folder) is working fine with no duplicates files either. I am unable to obtain URL object for files under config folder whereas fxml files under fxml folder are being recognized.","body":"I have implemented your suggestions and everything (except files under config folder) is working fine with no duplicates files either. I am unable to obtain URL object for files under config folder whereas fxml files under fxml folder are being recognized."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676489074,"post_id":75462287,"comment_id":133149174,"body_markdown":"Config handing is a different issue, you can ask a new question (with a custom, complete and specific [mcve]) specifically about that if needed.  Also there are various questions on StackOverflow on options for dealing with config.  Often config needs to be modified post deployment, which means the default config needs to be extracted from a jar or packaged separately and read from an external read/write location rather than a read only location in a jar.","body":"Config handing is a different issue, you can ask a new question (with a custom, complete and specific <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) specifically about that if needed.  Also there are various questions on StackOverflow on options for dealing with config.  Often config needs to be modified post deployment, which means the default config needs to be extracted from a jar or packaged separately and read from an external read/write location rather than a read only location in a jar."},{"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"score":0,"creation_date":1676565078,"post_id":75462287,"comment_id":133166664,"body_markdown":"I understand. I have followed the guide you provided and it was very helpful. I recommend future visitors to follow the guide for solving related issues.","body":"I understand. I have followed the guide you provided and it was very helpful. I recommend future visitors to follow the guide for solving related issues."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676480200,"creation_date":1676478586,"answer_id":75462729,"question_id":75462287,"body_markdown":"&gt; Why the image fails to load with `getResourcesAsStream()` method but works fine using `getResources()` method?\r\n\r\n\r\nUsing URL [location resolution](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#location_resolution) in the FXML file:\r\n\r\n    &lt;Image url=&quot;@images/sign-up-logo.png&quot; /&gt;\r\n\r\nwill attempt to resolve the URL relative to the location of the FXML file being parsed.\r\n\r\nThat location is only set if you use one of the FXML loading methods specifying a location, e.g. \r\n\r\n    URL url = ... ;\r\n    FMXLLoader.load(url);\r\n\r\nor\r\n\r\n    URL url = ... ;\r\n    FXMLLoader loader = new FXMLLoader(url);\r\n    loader.load();\r\n\r\netc.\r\n\r\nIf you load the FXML [specifying an `InputStream`](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/FXMLLoader.html#load(java.io.InputStream)), such as is returned by `getClass().getResourceAsStream()`, then the `FXMLLoader` will not have a `location` specified and will not be able to resolve any URLs specified in there. (In theory, the stream could even be dynamically generated, and might not even correspond to a location at all.)\r\n\r\nYou can see this from part of the stack trace:\r\n\r\n    null/images/sign-up-logo.png\r\n\r\n\r\nHere the `FXMLLoader` is appending `/images/sign-up-logo.png` to the location of the FXML; since that location is `null` (because you are loading by specifying a stream), the location makes no sense and the image cannot be loaded.\r\n\r\nThe solution is just to specify the URL (e.g. with `getClass().getResource()`), instead of a stream (e.g. with `getClass().getResourceAsStream()`).\r\n\r\nIf you really need to pass a stream, for some reason, and you are using location resolution in the FXML file, then the following should work:\r\n\r\n    String loc = ... ;\r\n    URL location = getClass().getResource(loc);\r\n    InputStream stream = getClass().getResourceAsStream(loc);\r\n    FXMLLoader loader = new FXMLLoader();\r\n    loader.setLocation(location);\r\n    Parent root = loader.load(stream);\r\n\r\nHowever, this is a strange usage. The code above is equivalent to\r\n\r\n    String loc = ... ;\r\n    URL location = getClass().getResource(loc);\r\n    FXMLLoader loader = new FXMLLoader(loc);\r\n    Parent root = loader.load();\r\n\r\nwhich I think is far preferable.\r\n\r\n","title":"IllegalArgumentException: Invalid URL or resource not found while loading FXML file in JavaFX","body":"<blockquote>\n<p>Why the image fails to load with <code>getResourcesAsStream()</code> method but works fine using <code>getResources()</code> method?</p>\n</blockquote>\n<p>Using URL <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#location_resolution\" rel=\"nofollow noreferrer\">location resolution</a> in the FXML file:</p>\n<pre><code>&lt;Image url=&quot;@images/sign-up-logo.png&quot; /&gt;\n</code></pre>\n<p>will attempt to resolve the URL relative to the location of the FXML file being parsed.</p>\n<p>That location is only set if you use one of the FXML loading methods specifying a location, e.g.</p>\n<pre><code>URL url = ... ;\nFMXLLoader.load(url);\n</code></pre>\n<p>or</p>\n<pre><code>URL url = ... ;\nFXMLLoader loader = new FXMLLoader(url);\nloader.load();\n</code></pre>\n<p>etc.</p>\n<p>If you load the FXML <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/FXMLLoader.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\">specifying an <code>InputStream</code></a>, such as is returned by <code>getClass().getResourceAsStream()</code>, then the <code>FXMLLoader</code> will not have a <code>location</code> specified and will not be able to resolve any URLs specified in there. (In theory, the stream could even be dynamically generated, and might not even correspond to a location at all.)</p>\n<p>You can see this from part of the stack trace:</p>\n<pre><code>null/images/sign-up-logo.png\n</code></pre>\n<p>Here the <code>FXMLLoader</code> is appending <code>/images/sign-up-logo.png</code> to the location of the FXML; since that location is <code>null</code> (because you are loading by specifying a stream), the location makes no sense and the image cannot be loaded.</p>\n<p>The solution is just to specify the URL (e.g. with <code>getClass().getResource()</code>), instead of a stream (e.g. with <code>getClass().getResourceAsStream()</code>).</p>\n<p>If you really need to pass a stream, for some reason, and you are using location resolution in the FXML file, then the following should work:</p>\n<pre><code>String loc = ... ;\nURL location = getClass().getResource(loc);\nInputStream stream = getClass().getResourceAsStream(loc);\nFXMLLoader loader = new FXMLLoader();\nloader.setLocation(location);\nParent root = loader.load(stream);\n</code></pre>\n<p>However, this is a strange usage. The code above is equivalent to</p>\n<pre><code>String loc = ... ;\nURL location = getClass().getResource(loc);\nFXMLLoader loader = new FXMLLoader(loc);\nParent root = loader.load();\n</code></pre>\n<p>which I think is far preferable.</p>\n"}],"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676480200,"creation_date":1676476351,"question_id":75462287,"body_markdown":"For context, I have a [Maven Project Structure](https://i.stack.imgur.com/sZVHG.png) in Intellij and also the [/target/classes/](https://i.stack.imgur.com/jAuhl.png)\r\n\r\nThe code where I am getting error:\r\n\r\n\r\n```\r\n@Override\r\n    public void start(Stage stage) throws IOException {\r\n\r\n        Parent root;\r\n        FXMLLoader fxmlLoader = new FXMLLoader();\r\n\r\n        // Below line has the problem of loading image inside fxml file.\r\n        root = fxmlLoader.load(getClass().getClassLoader().getResourceAsStream(&quot;AuthorizationPage.fxml&quot;));\r\n\r\n        // not used in code but below line returns inputstream object which is not null so the image loads fine\r\n           when independently verified.\r\n        // System.out.println(Objects.isNull(getClass().getClassLoader().getResourceAsStream(&quot;sign-up-logo.png&quot;)));\r\n\r\n        //Below Line works fine and loads fxml file correctly with images.\r\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;/AuthorizationPage.fxml&quot;)));\r\n\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n\r\n        SceneManager sceneManager = SceneManager.getInstance(stage);\r\n        sceneManager.addScene(&quot;/AuthorizationPage.fxml&quot;, &quot;User Authorization&quot;);\r\n\r\n        if (!SessionManager.hasUserSessionFromLocalFileExpired()) {\r\n\r\n            sceneManager = SceneManager.getInstance(stage);\r\n            sceneManager.addScene(&quot;/convertor.fxml&quot;, &quot;Convert Pdf Documents&quot;);\r\n            sceneManager.activateScene(&quot;Convert Pdf Documents&quot;, &quot;Convert Pdf Documents&quot;, true, true);\r\n        } else {\r\n\r\n            sceneManager.activateScene(&quot;User Authorization&quot;, &quot;User Authorization&quot;, false, false);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThe stacktrace for the exception:\r\n\r\n```\r\nnull/images/sign-up-logo.png\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javafx.fxml.LoadException: \r\nunknown path:33\r\n\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2714)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2692)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2539)\r\n\tat com.javafxapp.javafxapplication/com.app.convertor.authorization.Main.start(Main.java:39)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19.0.2/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n\tat javafx.graphics@19.0.2/javafx.scene.image.Image.validateUrl(Image.java:1138)\r\n\tat javafx.graphics@19.0.2/javafx.scene.image.Image.&lt;init&gt;(Image.java:695)\r\n\tat javafx.fxml@19.0.2/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:47)\r\n\tat javafx.fxml@19.0.2/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:37)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:774)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2961)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2646)\r\n\t... 11 more\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\r\n\tat javafx.graphics@19.0.2/javafx.scene.image.Image.validateUrl(Image.java:1123)\r\n\t... 17 more\r\nException running application com.app.convertor.authorization.Main\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nfxml snippet:\r\n\r\n\r\n```\r\n&lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                           &lt;children&gt;\r\n                              &lt;ImageView fitHeight=&quot;108.0&quot; fitWidth=&quot;101.0&quot; layoutX=&quot;270.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                                 &lt;image&gt;\r\n                                    &lt;Image url=&quot;@images/sign-up-logo.png&quot; /&gt;\r\n                                 &lt;/image&gt;\r\n                              &lt;/ImageView&gt;\r\n                           &lt;/children&gt;\r\n                        &lt;/AnchorPane&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/HBox&gt;\r\n```\r\nMaven pom file snippet:\r\n\r\n\r\n```\r\n&lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/com/app/convertor/config&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/com/app/convertor/fxml/images&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/com/app/convertor/fxml&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\n\r\nWhy the image fails to load with `getResourcesAsStream()` method but works fine using `getResources()` method? I checked if `getResourcesAsStream()` returns `null`, but it identifies fxml file correctly from resource folder. What I am getting wrong and what should I do to load fxml file correctly? There are similar questions asked but none of them helped me.","title":"IllegalArgumentException: Invalid URL or resource not found while loading FXML file in JavaFX","body":"<p>For context, I have a <a href=\"https://i.stack.imgur.com/sZVHG.png\" rel=\"nofollow noreferrer\">Maven Project Structure</a> in Intellij and also the <a href=\"https://i.stack.imgur.com/jAuhl.png\" rel=\"nofollow noreferrer\">/target/classes/</a></p>\n<p>The code where I am getting error:</p>\n<pre><code>@Override\n    public void start(Stage stage) throws IOException {\n\n        Parent root;\n        FXMLLoader fxmlLoader = new FXMLLoader();\n\n        // Below line has the problem of loading image inside fxml file.\n        root = fxmlLoader.load(getClass().getClassLoader().getResourceAsStream(&quot;AuthorizationPage.fxml&quot;));\n\n        // not used in code but below line returns inputstream object which is not null so the image loads fine\n           when independently verified.\n        // System.out.println(Objects.isNull(getClass().getClassLoader().getResourceAsStream(&quot;sign-up-logo.png&quot;)));\n\n        //Below Line works fine and loads fxml file correctly with images.\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;/AuthorizationPage.fxml&quot;)));\n\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n\n        SceneManager sceneManager = SceneManager.getInstance(stage);\n        sceneManager.addScene(&quot;/AuthorizationPage.fxml&quot;, &quot;User Authorization&quot;);\n\n        if (!SessionManager.hasUserSessionFromLocalFileExpired()) {\n\n            sceneManager = SceneManager.getInstance(stage);\n            sceneManager.addScene(&quot;/convertor.fxml&quot;, &quot;Convert Pdf Documents&quot;);\n            sceneManager.activateScene(&quot;Convert Pdf Documents&quot;, &quot;Convert Pdf Documents&quot;, true, true);\n        } else {\n\n            sceneManager.activateScene(&quot;User Authorization&quot;, &quot;User Authorization&quot;, false, false);\n        }\n    }\n</code></pre>\n<p>The stacktrace for the exception:</p>\n<pre><code>null/images/sign-up-logo.png\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javafx.fxml.LoadException: \nunknown path:33\n\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2714)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2692)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2539)\n    at com.javafxapp.javafxapplication/com.app.convertor.authorization.Main.start(Main.java:39)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19.0.2/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\n    at javafx.graphics@19.0.2/javafx.scene.image.Image.validateUrl(Image.java:1138)\n    at javafx.graphics@19.0.2/javafx.scene.image.Image.&lt;init&gt;(Image.java:695)\n    at javafx.fxml@19.0.2/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:47)\n    at javafx.fxml@19.0.2/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:37)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:774)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2961)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2646)\n    ... 11 more\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\n    at javafx.graphics@19.0.2/javafx.scene.image.Image.validateUrl(Image.java:1123)\n    ... 17 more\nException running application com.app.convertor.authorization.Main\n\nProcess finished with exit code 1\n</code></pre>\n<p>fxml snippet:</p>\n<pre><code>&lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n                           &lt;children&gt;\n                              &lt;ImageView fitHeight=&quot;108.0&quot; fitWidth=&quot;101.0&quot; layoutX=&quot;270.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                                 &lt;image&gt;\n                                    &lt;Image url=&quot;@images/sign-up-logo.png&quot; /&gt;\n                                 &lt;/image&gt;\n                              &lt;/ImageView&gt;\n                           &lt;/children&gt;\n                        &lt;/AnchorPane&gt;\n                     &lt;/children&gt;\n                  &lt;/HBox&gt;\n</code></pre>\n<p>Maven pom file snippet:</p>\n<pre><code>&lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/com/app/convertor/config&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/com/app/convertor/fxml/images&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/com/app/convertor/fxml&lt;/directory&gt;\n            &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Why the image fails to load with <code>getResourcesAsStream()</code> method but works fine using <code>getResources()</code> method? I checked if <code>getResourcesAsStream()</code> returns <code>null</code>, but it identifies fxml file correctly from resource folder. What I am getting wrong and what should I do to load fxml file correctly? There are similar questions asked but none of them helped me.</p>\n"},{"tags":["java","pdf","itext","base64"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1676480453,"post_id":75463020,"comment_id":133146673,"body_markdown":"*Converting the Base64 to a byte array and writing that to the outputStream* - yes, that&#39;s basically what you have to do. If this doesn&#39;t work, the next question would be what does the Base64 look like?","body":"<i>Converting the Base64 to a byte array and writing that to the outputStream</i> - yes, that&#39;s basically what you have to do. If this doesn&#39;t work, the next question would be what does the Base64 look like?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676481755,"post_id":75463020,"comment_id":133147076,"body_markdown":"`Base64.Decoder.wrap` would be better (there&#39;s no need to read the whole file into memory)","body":"<code>Base64.Decoder.wrap</code> would be better (there&#39;s no need to read the whole file into memory)"},{"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"score":0,"creation_date":1676482614,"post_id":75463020,"comment_id":133147328,"body_markdown":"Doing so leaves a corrupted pdf saying &#39;We can&#39;t open this file&#39;. I am able to decode and save it to a .tiff fine. Just not PDF. The Base64 is a report so it contains some image formatting as well besides text.","body":"Doing so leaves a corrupted pdf saying &#39;We can&#39;t open this file&#39;. I am able to decode and save it to a .tiff fine. Just not PDF. The Base64 is a report so it contains some image formatting as well besides text."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676491341,"post_id":75463020,"comment_id":133149743,"body_markdown":"Well it would be useful to see a small example of one of these base64 strings","body":"Well it would be useful to see a small example of one of these base64 strings"},{"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"score":0,"creation_date":1676565046,"post_id":75463020,"comment_id":133166656,"body_markdown":"Unfortunately I can&#39;t paste the Base64 here but when I try to decode it through base64decode.org it gives me some special characters hinting something is wierd with this incoming Base64. Uploaded snippet snapshot here: https://ibb.co/9yz4D45","body":"Unfortunately I can&#39;t paste the Base64 here but when I try to decode it through base64decode.org it gives me some special characters hinting something is wierd with this incoming Base64. Uploaded snippet snapshot here: <a href=\"https://ibb.co/9yz4D45\" rel=\"nofollow noreferrer\">ibb.co/9yz4D45</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676567902,"post_id":75463020,"comment_id":133167598,"body_markdown":"That&#39;s not really helpful at all, since there&#39;s no knowing what you told that site about how to decode it. It *looks* as though you might have told it to decode it *as a string*. That&#39;s not going to work if it&#39;s a pdf file. You should paste *a* pdf file that reproduces the problem but with no sensitive info","body":"That&#39;s not really helpful at all, since there&#39;s no knowing what you told that site about how to decode it. It <i>looks</i> as though you might have told it to decode it <i>as a string</i>. That&#39;s not going to work if it&#39;s a pdf file. You should paste <i>a</i> pdf file that reproduces the problem but with no sensitive info"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676570773,"post_id":75463020,"comment_id":133168429,"body_markdown":"Actually I&#39;m getting confused: *I have a use-case where I am sent Base64 encoded String that needs to be saved as PDF.* If it&#39;s an encoded *string* why is it base64-encoded? Base64 is for binary content","body":"Actually I&#39;m getting confused: <i>I have a use-case where I am sent Base64 encoded String that needs to be saved as PDF.</i> If it&#39;s an encoded <i>string</i> why is it base64-encoded? Base64 is for binary content"},{"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"score":0,"creation_date":1676581184,"post_id":75463020,"comment_id":133171301,"body_markdown":"I get it as a part of an interface. It starts with this `^IM^TIFF^Base64^JVBERi0xLjcNC.....blah`. I am able to decode and save it as .tiff however I would like that option to save as a PDF if it has multiple pages in the same report.","body":"I get it as a part of an interface. It starts with this <code>^IM^TIFF^Base64^JVBERi0xLjcNC.....blah</code>. I am able to decode and save it as .tiff however I would like that option to save as a PDF if it has multiple pages in the same report."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676637201,"post_id":75463020,"comment_id":133182201,"body_markdown":"You can&#39;t &quot;save as&quot; a pdf. You need to take the tif and encapsulate the image(s) in a pdf document you created","body":"You can&#39;t &quot;save as&quot; a pdf. You need to take the tif and encapsulate the image(s) in a pdf document you created"}],"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676479912,"creation_date":1676479912,"question_id":75463020,"body_markdown":"I am exploring usage of iText maven dependency to generate a pdf from the below code.   \r\n\r\n    try {\r\n         \r\n\tDocument document = new Document();\r\n \tOutputStream outputStream = \r\n\t\tnew FileOutputStream(new File(&quot;C:\\\\ImageTester\\\\samplePDF.pdf&quot;));\r\n        \r\n        PdfWriter.getInstance(document, outputStream);\r\n        //Open the document\r\n        document.open();\r\n        document.add(new Paragraph(&quot;Hello world &quot;);\r\n \r\n        //Close document and outputStream.\r\n        document.close();\r\n        outputStream.close();\r\n \r\n        System.out.println(&quot;Pdf created successfully.&quot;);\r\n    } catch (Exception e) {\r\n\te.printStackTrace();\r\n    }  \r\nMaven:  \r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n                &lt;version&gt;5.5.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThis above works fine and generate the PDF. However, I have a use-case where I am sent Base64 encoded String that needs to be saved as PDF. How do I this? Converting the Base64 to a byte array and writing that to the outputStream generates the a corrupted PDF.    \r\n  \r\n\r\n    byte[] bytes = Base64.getDecoder().decode(b64String);\r\n\toutputStream.write(bytes);\r\n\tPdfWriter.getInstance(document, outputStream);\r\n\r\n","title":"Create pdf java from base64","body":"<p>I am exploring usage of iText maven dependency to generate a pdf from the below code.</p>\n<pre><code>try {\n     \nDocument document = new Document();\nOutputStream outputStream = \n    new FileOutputStream(new File(&quot;C:\\\\ImageTester\\\\samplePDF.pdf&quot;));\n    \n    PdfWriter.getInstance(document, outputStream);\n    //Open the document\n    document.open();\n    document.add(new Paragraph(&quot;Hello world &quot;);\n\n    //Close document and outputStream.\n    document.close();\n    outputStream.close();\n\n    System.out.println(&quot;Pdf created successfully.&quot;);\n} catch (Exception e) {\ne.printStackTrace();\n}  \n</code></pre>\n<p>Maven:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This above works fine and generate the PDF. However, I have a use-case where I am sent Base64 encoded String that needs to be saved as PDF. How do I this? Converting the Base64 to a byte array and writing that to the outputStream generates the a corrupted PDF.</p>\n<pre><code>byte[] bytes = Base64.getDecoder().decode(b64String);\noutputStream.write(bytes);\nPdfWriter.getInstance(document, outputStream);\n</code></pre>\n"},{"tags":["java","apache-commons-csv","apache-commons-dbutils"],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676479629,"creation_date":1676479629,"question_id":75462956,"body_markdown":"    public List&lt;Map&lt;String, Object&gt;&gt; getReport()\r\n    {\r\n        Connection connection = createConnection();\r\n        List&lt;Map&lt;String, Object&gt;&gt; sqlReport = new ArrayList&lt;&gt;();\r\n        if (connection == null)\r\n        {\r\n            return sqlReport;\r\n        }\r\n\r\n        try\r\n        {\r\n\r\n            sqlReport = new QueryRunner().query(connection, &quot;SELECT * FROM TABLE&quot;, new MapListHandler());\r\n\r\n        } catch (SQLException ex)\r\n        {\r\n            Logger.getLogger(SQLManager.class.getName()).log(Level.SEVERE, null, ex);\r\n\r\n        } finally\r\n        {\r\n\r\n            try\r\n            {\r\n                DbUtils.close(connection);\r\n\r\n            } catch (SQLException ex)\r\n            {\r\n                Logger.getLogger(SQLManager.class.getName()).log(Level.SEVERE, null, ex);\r\n\r\n            }\r\n\r\n        }\r\n        return sqlReport;\r\n    }\r\n\r\n\r\n\r\nThis code will return an `Array` of `HashMap`s.  The issue is, I want to save this to CSV (using Apache Commons CSV), but the key values in a `Hashmap` are not ensured to retain order. How do I retain ordering of the columns? I know using a `LinkedHashMap` will do it... but I don&#39;t think dbutils will convert it to this.","title":"Apache Commons DBUtils MapListHandler to get List&lt;Map&lt;String,Object&gt;&gt; How do you save to CSV using Apache Commons CSV","body":"<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; getReport()\n{\n    Connection connection = createConnection();\n    List&lt;Map&lt;String, Object&gt;&gt; sqlReport = new ArrayList&lt;&gt;();\n    if (connection == null)\n    {\n        return sqlReport;\n    }\n\n    try\n    {\n\n        sqlReport = new QueryRunner().query(connection, &quot;SELECT * FROM TABLE&quot;, new MapListHandler());\n\n    } catch (SQLException ex)\n    {\n        Logger.getLogger(SQLManager.class.getName()).log(Level.SEVERE, null, ex);\n\n    } finally\n    {\n\n        try\n        {\n            DbUtils.close(connection);\n\n        } catch (SQLException ex)\n        {\n            Logger.getLogger(SQLManager.class.getName()).log(Level.SEVERE, null, ex);\n\n        }\n\n    }\n    return sqlReport;\n}\n</code></pre>\n<p>This code will return an <code>Array</code> of <code>HashMap</code>s.  The issue is, I want to save this to CSV (using Apache Commons CSV), but the key values in a <code>Hashmap</code> are not ensured to retain order. How do I retain ordering of the columns? I know using a <code>LinkedHashMap</code> will do it... but I don't think dbutils will convert it to this.</p>\n"},{"tags":["java","android","firebase","crashlytics"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":1,"creation_date":1676464846,"post_id":75459758,"comment_id":133141060,"body_markdown":"`// When using the BoM, you don&#39;t specify versions in Firebase library dependencies` -  Also from [firebase bom](https://firebase.google.com/support/release-notes/android#2023-02-10) release notes it seems support for `18.3.4` was added in latest version, Try using latest versions or compatible versions of library","body":"<code>&#47;&#47; When using the BoM, you don&#39;t specify versions in Firebase library dependencies</code> -  Also from <a href=\"https://firebase.google.com/support/release-notes/android#2023-02-10\" rel=\"nofollow noreferrer\">firebase bom</a> release notes it seems support for <code>18.3.4</code> was added in latest version, Try using latest versions or compatible versions of library"},{"owner":{"account_id":25966661,"reputation":49,"user_id":19682526,"display_name":"Katlego"},"score":0,"creation_date":1676478847,"post_id":75459758,"comment_id":133146086,"body_markdown":"@Nitish Oh I see, actually that did solve the issue, I upgraded the BoM version and removed the version of the firebase products and the application built and ran successfully","body":"@Nitish Oh I see, actually that did solve the issue, I upgraded the BoM version and removed the version of the firebase products and the application built and ran successfully"}],"answers":[{"tags":[],"owner":{"account_id":25966661,"reputation":49,"user_id":19682526,"display_name":"Katlego"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676479546,"creation_date":1676479546,"answer_id":75462936,"question_id":75459758,"body_markdown":"As commented by @Nitish, the BoM version did not support that version of Crashlytics. So I have updated the BoM version and removed the versions on the specific product version. My app build.gradle dependencies now look like this:\r\n\r\n    dependencies { ....\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.0&#39;)\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-database&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39; ....\r\n\r\nIn line with the latest release by the time of writing taken from [Firebase][1] and the app now builds and runs without crashing on start up. [Firebase][2] also shows here that I did not have to specify the version for the specific firebase products.\r\n\r\n\r\n  [1]: https://firebase.google.com/support/release-notes/android#2023-02-10\r\n  [2]: https://firebase.google.com/docs/android/learn-more","title":"Android application crashing when updating from firebase-crashlytics 18.3.3 to 18.3.4","body":"<p>As commented by @Nitish, the BoM version did not support that version of Crashlytics. So I have updated the BoM version and removed the versions on the specific product version. My app build.gradle dependencies now look like this:</p>\n<pre><code>dependencies { ....\nimplementation platform('com.google.firebase:firebase-bom:31.2.0')\n\nimplementation 'com.google.firebase:firebase-analytics'\nimplementation 'com.google.firebase:firebase-database'\nimplementation 'com.google.firebase:firebase-messaging'\nimplementation 'com.google.firebase:firebase-crashlytics' ....\n</code></pre>\n<p>In line with the latest release by the time of writing taken from <a href=\"https://firebase.google.com/support/release-notes/android#2023-02-10\" rel=\"nofollow noreferrer\">Firebase</a> and the app now builds and runs without crashing on start up. <a href=\"https://firebase.google.com/docs/android/learn-more\" rel=\"nofollow noreferrer\">Firebase</a> also shows here that I did not have to specify the version for the specific firebase products.</p>\n"}],"owner":{"account_id":25966661,"reputation":49,"user_id":19682526,"display_name":"Katlego"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676479546,"creation_date":1676463839,"question_id":75459758,"body_markdown":"It seems that changing from\r\n`&#39;implementation com.google.firebase:firebase-crashlytics:18.3.3&#39;`\r\nto\r\n`&#39;implementation com.google.firebase:firebase-crashlytics:18.3.4&#39;`\r\nproduces the following crashlog when the app initialises. Is there any dependencies I could be missing? \r\n\r\n\r\n```\r\n2023-02-14 23:43:27.026 13135-13135/ I/MultiDex: VM has multidex support, MultiDex support library is disabled.\r\n2023-02-14 23:43:27.052 13135-13135/ D/AndroidRuntime: Shutting down VM\r\n2023-02-14 23:43:27.054 13135-13135/ E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: , PID: 13135\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/annotations/concurrent/Background;\r\n        at com.google.firebase.installations.FirebaseInstallationsRegistrar.getComponents(FirebaseInstallationsRegistrar.java:45)\r\n        at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)\r\n        at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)\r\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)\r\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)\r\n        at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)\r\n        at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:437)\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:303)\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271)\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256)\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374)\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45)\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710)\r\n        at android.app.ActivityThread.access$1500(ActivityThread.java:247)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.firebase.annotations.concurrent.Background&quot; on path: DexPathList[[zip file &quot;/data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/lib/x86_64, /data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/base.apk!/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at com.google.firebase.installations.FirebaseInstallationsRegistrar.getComponents(FirebaseInstallationsRegistrar.java:45)&#160;\r\n        at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)&#160;\r\n        at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)&#160;\r\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)&#160;\r\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)&#160;\r\n        at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)&#160;\r\n        at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:437)&#160;\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:303)&#160;\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271)&#160;\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256)&#160;\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51)&#160;\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404)&#160;\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374)&#160;\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45)&#160;\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422)&#160;\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939)&#160;\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710)&#160;\r\n        at android.app.ActivityThread.access$1500(ActivityThread.java:247)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)&#160;\r\n2023-02-14 23:43:28.677 13135-13147/ W/System: A resource failed to call close. \r\n\r\n```\r\n\r\n\r\nmy module build.gradle has these dependencies \r\n\r\n```\r\ndependencies {\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:30.4.1&#39;)\r\n\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n    implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;androidx.core:core:1.9.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.1.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:18.3.4&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-analytics:18.0.2&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.4.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth-api-phone:18.0.1&#39;\r\n\r\n    implementation &quot;com.github.parse-community.Parse-SDK-Android:parse:1.26.0&quot;\r\n\r\n    implementation &#39;androidx.camera:camera-camera2:1.3.0-alpha02&#39;\r\n    implementation &quot;androidx.camera:camera-lifecycle:1.2.1&quot;\r\n    implementation &#39;androidx.camera:camera-view:1.3.0-alpha02&#39;\r\n\r\n    implementation &#39;com.google.zxing:core:3.5.0&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.9.1&#39;\r\n}\r\n\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\n```\r\n\r\nand my project project build.gradle has the following dependencies\r\n\r\n```\r\n dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.9.4&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI am aware that I could just stay with version 18.3.3 but I am trying to understand why this crash is occuring.","title":"Android application crashing when updating from firebase-crashlytics 18.3.3 to 18.3.4","body":"<p>It seems that changing from\n<code>'implementation com.google.firebase:firebase-crashlytics:18.3.3'</code>\nto\n<code>'implementation com.google.firebase:firebase-crashlytics:18.3.4'</code>\nproduces the following crashlog when the app initialises. Is there any dependencies I could be missing?</p>\n<pre><code>2023-02-14 23:43:27.026 13135-13135/ I/MultiDex: VM has multidex support, MultiDex support library is disabled.\n2023-02-14 23:43:27.052 13135-13135/ D/AndroidRuntime: Shutting down VM\n2023-02-14 23:43:27.054 13135-13135/ E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: , PID: 13135\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/annotations/concurrent/Background;\n        at com.google.firebase.installations.FirebaseInstallationsRegistrar.getComponents(FirebaseInstallationsRegistrar.java:45)\n        at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)\n        at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)\n        at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)\n        at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:437)\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:303)\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271)\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256)\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374)\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45)\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422)\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710)\n        at android.app.ActivityThread.access$1500(ActivityThread.java:247)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.google.firebase.annotations.concurrent.Background&quot; on path: DexPathList[[zip file &quot;/data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/lib/x86_64, /data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/base.apk!/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.firebase.installations.FirebaseInstallationsRegistrar.getComponents(FirebaseInstallationsRegistrar.java:45) \n        at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28) \n        at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117) \n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99) \n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46) \n        at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387) \n        at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:437) \n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:303) \n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271) \n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256) \n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51) \n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404) \n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374) \n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45) \n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422) \n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939) \n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710) \n        at android.app.ActivityThread.access$1500(ActivityThread.java:247) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loopOnce(Looper.java:201) \n        at android.os.Looper.loop(Looper.java:288) \n        at android.app.ActivityThread.main(ActivityThread.java:7839) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003) \n2023-02-14 23:43:28.677 13135-13147/ W/System: A resource failed to call close. \n\n</code></pre>\n<p>my module build.gradle has these dependencies</p>\n<pre><code>dependencies {\n    implementation platform('com.google.firebase:firebase-bom:30.4.1')\n\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'androidx.preference:preference:1.2.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'androidx.core:core:1.9.0'\n\n    implementation 'com.google.firebase:firebase-analytics:21.2.0'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-messaging:23.1.1'\n    implementation 'com.google.firebase:firebase-crashlytics:18.3.4'\n\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\n    implementation 'com.google.android.gms:play-services-analytics:18.0.2'\n    implementation 'com.google.android.gms:play-services-location:21.0.1'\n\n    implementation 'com.google.android.gms:play-services-auth:20.4.1'\n    implementation 'com.google.android.gms:play-services-auth-api-phone:18.0.1'\n\n    implementation &quot;com.github.parse-community.Parse-SDK-Android:parse:1.26.0&quot;\n\n    implementation 'androidx.camera:camera-camera2:1.3.0-alpha02'\n    implementation &quot;androidx.camera:camera-lifecycle:1.2.1&quot;\n    implementation 'androidx.camera:camera-view:1.3.0-alpha02'\n\n    implementation 'com.google.zxing:core:3.5.0'\n    implementation 'com.google.code.gson:gson:2.9.1'\n}\n\napply plugin: 'com.google.firebase.crashlytics'\n\n</code></pre>\n<p>and my project project build.gradle has the following dependencies</p>\n<pre><code> dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.2'\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.4'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n\n</code></pre>\n<p>I am aware that I could just stay with version 18.3.3 but I am trying to understand why this crash is occuring.</p>\n"},{"tags":["java","android-studio","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":14519185,"reputation":184,"user_id":10487304,"display_name":"Hussein Nasereddine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676479459,"creation_date":1676479459,"answer_id":75462915,"question_id":75458814,"body_markdown":"There&#39;s a method I personally use in my `RecyclerView&#39;s` `Adapter` and `ViewHolder` is to set the `width` and `height` of your item&#39;s `ViewGroup` to `0`.\r\n\r\nHere&#39;s the method you can add to your adapter class which takes item position that you want to hide:\r\n\r\n```\r\npublic void hideFeedItem(int position){\r\n        RecyclerView.ViewHolder holder = getViewHolderAtPosition(position);\r\n        if(holder != null){\r\n            ViewGroup.LayoutParams params = holder.itemView.getLayoutParams();\r\n            params.height=0;\r\n            params.width= 0;\r\n            holder.itemView.setLayoutParams(params);\r\n        }\r\n}\r\n```\r\n\r\nWhere `itemview` is the root `ViewGroup` that should be already defined in your `ViewHolder` in your case should be  `buttonHolder`.","title":"How can I show/hide a layout in the main activity from a RecyclerView in android studio java?","body":"<p>There's a method I personally use in my <code>RecyclerView's</code> <code>Adapter</code> and <code>ViewHolder</code> is to set the <code>width</code> and <code>height</code> of your item's <code>ViewGroup</code> to <code>0</code>.</p>\n<p>Here's the method you can add to your adapter class which takes item position that you want to hide:</p>\n<pre><code>public void hideFeedItem(int position){\n        RecyclerView.ViewHolder holder = getViewHolderAtPosition(position);\n        if(holder != null){\n            ViewGroup.LayoutParams params = holder.itemView.getLayoutParams();\n            params.height=0;\n            params.width= 0;\n            holder.itemView.setLayoutParams(params);\n        }\n}\n</code></pre>\n<p>Where <code>itemview</code> is the root <code>ViewGroup</code> that should be already defined in your <code>ViewHolder</code> in your case should be  <code>buttonHolder</code>.</p>\n"}],"owner":{"account_id":11462096,"reputation":15,"user_id":8401453,"display_name":"Nacho Novoa Mayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676479459,"creation_date":1676458887,"question_id":75458814,"body_markdown":"I have an activity which consists of a recycler view for generating buttons (from a different layout file) and a layout with elements for confirmation.\r\n\r\nI want to make it so when I click on the button &quot;NEW GAME&quot; (in the Recyclerview class), the confirmationLayout (in the MainMenu Activity) shows. But I can&#39;t, can someone help me?\r\n\r\n\r\nMainMenu Class\r\n\r\n```\r\npublic class MainMenu extends AppCompatActivity {\r\n\r\n    private ImageView profileIcon;\r\n    private TextView username;\r\n\r\n    private RelativeLayout newGameConfirmationLayout;\r\n    private TextView yesButton, noButton;\r\n\r\n    private RecyclerView buttonRecyclerView;\r\n    private ButtonRecyclerAdapter adapter;\r\n\r\n    private DataHandler dataHandler;\r\n\r\n    private ArrayList&lt;String&gt; buttonNames = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main_menu);\r\n\r\n        newGameConfirmationLayout = findViewById(R.id.newGameConfirmationLayout);\r\n        yesButton = findViewById(R.id.yesButton);\r\n        noButton = findViewById(R.id.noButton);\r\n\r\n        buttonRecyclerView = findViewById(R.id.buttonRecyclerView);\r\n        buttonRecyclerView.setLayoutManager(new LinearLayoutManager(MainMenu.this));\r\n\r\n\r\n        if(General.infoSaved){buttonNames.add(&quot;CONTINUE GAME&quot;);}\r\n\r\n        buttonNames.add(&quot;NEW GAME&quot;);\r\n        buttonNames.add(&quot;CHANGE USER&quot;);\r\n        buttonNames.add(&quot;PRACTICE&quot;);\r\n        buttonNames.add(&quot;EXERCISE LIST&quot;);\r\n\r\n        adapter = new ButtonRecyclerAdapter(buttonNames, MainMenu.this);\r\n        buttonRecyclerView.setAdapter(adapter);\r\n\r\n        yesButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                \r\n                startGame();\r\n            }\r\n        });\r\n\r\n        noButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                newGameConfirmationLayout.setVisibility(View.INVISIBLE);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void startGame(){}\r\n\r\n    public void show_confirmationLayout(){\r\n        newGameConfirmationLayout.setVisibility(View.VISIBLE);\r\n    }\r\n```\r\n\r\n\r\n\r\nRecyclerView Class\r\n\r\n```\r\npublic class ButtonRecyclerAdapter extends RecyclerView.Adapter&lt;ButtonRecyclerAdapter.buttonHolder&gt;{\r\n\r\n    private ArrayList&lt;String&gt; buttonNames;\r\n    private Context context;\r\n \r\n\r\n    public ButtonRecyclerAdapter(ArrayList&lt;String&gt; loginButtonNames, Context context) {\r\n        this.buttonNames = loginButtonNames;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public buttonHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.button_block,parent,false);\r\n        return new buttonHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull buttonHolder holder, int position) {\r\n\r\n        holder.button.setText(buttonNames.get(position));\r\n\r\n        holder.button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String buttonName = holder.button.getText().toString();\r\n\r\n                switch (buttonName){\r\n\r\n                    case &quot;NEW GAME&quot;:\r\n                        \r\n                        MainMenu mainMenu = new MainMenu();\r\n                        mainMenu.show_confirmationLayout();\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return buttonNames.size();\r\n    }\r\n\r\n    public class buttonHolder extends RecyclerView.ViewHolder{\r\n        private Button button;\r\n\r\n        public buttonHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            button = itemView.findViewById(R.id.buttonblock);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried adding it as a class (as above) but I get the error that the layout is a null object / However when I try to write the ame line of code directly in the activity it works.","title":"How can I show/hide a layout in the main activity from a RecyclerView in android studio java?","body":"<p>I have an activity which consists of a recycler view for generating buttons (from a different layout file) and a layout with elements for confirmation.</p>\n<p>I want to make it so when I click on the button &quot;NEW GAME&quot; (in the Recyclerview class), the confirmationLayout (in the MainMenu Activity) shows. But I can't, can someone help me?</p>\n<p>MainMenu Class</p>\n<pre><code>public class MainMenu extends AppCompatActivity {\n\n    private ImageView profileIcon;\n    private TextView username;\n\n    private RelativeLayout newGameConfirmationLayout;\n    private TextView yesButton, noButton;\n\n    private RecyclerView buttonRecyclerView;\n    private ButtonRecyclerAdapter adapter;\n\n    private DataHandler dataHandler;\n\n    private ArrayList&lt;String&gt; buttonNames = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main_menu);\n\n        newGameConfirmationLayout = findViewById(R.id.newGameConfirmationLayout);\n        yesButton = findViewById(R.id.yesButton);\n        noButton = findViewById(R.id.noButton);\n\n        buttonRecyclerView = findViewById(R.id.buttonRecyclerView);\n        buttonRecyclerView.setLayoutManager(new LinearLayoutManager(MainMenu.this));\n\n\n        if(General.infoSaved){buttonNames.add(&quot;CONTINUE GAME&quot;);}\n\n        buttonNames.add(&quot;NEW GAME&quot;);\n        buttonNames.add(&quot;CHANGE USER&quot;);\n        buttonNames.add(&quot;PRACTICE&quot;);\n        buttonNames.add(&quot;EXERCISE LIST&quot;);\n\n        adapter = new ButtonRecyclerAdapter(buttonNames, MainMenu.this);\n        buttonRecyclerView.setAdapter(adapter);\n\n        yesButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                \n                startGame();\n            }\n        });\n\n        noButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                newGameConfirmationLayout.setVisibility(View.INVISIBLE);\n            }\n        });\n    }\n\n    private void startGame(){}\n\n    public void show_confirmationLayout(){\n        newGameConfirmationLayout.setVisibility(View.VISIBLE);\n    }\n</code></pre>\n<p>RecyclerView Class</p>\n<pre><code>public class ButtonRecyclerAdapter extends RecyclerView.Adapter&lt;ButtonRecyclerAdapter.buttonHolder&gt;{\n\n    private ArrayList&lt;String&gt; buttonNames;\n    private Context context;\n \n\n    public ButtonRecyclerAdapter(ArrayList&lt;String&gt; loginButtonNames, Context context) {\n        this.buttonNames = loginButtonNames;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public buttonHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.button_block,parent,false);\n        return new buttonHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull buttonHolder holder, int position) {\n\n        holder.button.setText(buttonNames.get(position));\n\n        holder.button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String buttonName = holder.button.getText().toString();\n\n                switch (buttonName){\n\n                    case &quot;NEW GAME&quot;:\n                        \n                        MainMenu mainMenu = new MainMenu();\n                        mainMenu.show_confirmationLayout();\n                        break;\n                }\n            }\n        });\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return buttonNames.size();\n    }\n\n    public class buttonHolder extends RecyclerView.ViewHolder{\n        private Button button;\n\n        public buttonHolder(@NonNull View itemView) {\n            super(itemView);\n            button = itemView.findViewById(R.id.buttonblock);\n        }\n    }\n}\n\n</code></pre>\n<p>I tried adding it as a class (as above) but I get the error that the layout is a null object / However when I try to write the ame line of code directly in the activity it works.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1523970386,"post_id":49878929,"comment_id":86773484,"body_markdown":"I&#39;m confused. It sounds like you want the condition to be true only if it matches the string exactly, but you don&#39;t want to look at all the string? How do you expect it to know the string matches exactly it it doesn&#39;t look at the whole string?","body":"I&#39;m confused. It sounds like you want the condition to be true only if it matches the string exactly, but you don&#39;t want to look at all the string? How do you expect it to know the string matches exactly it it doesn&#39;t look at the whole string?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1523970390,"post_id":49878929,"comment_id":86773487,"body_markdown":"What *exactly* do you mean by &quot;exact that part exist not longer not shorter&quot;? That string occurs twice within your string - which one to you want to trigger it? Should it trigger if it&#39;s in the middle of the path? If you could provide a [mcve] with various cases that you want to match and not match?","body":"What <i>exactly</i> do you mean by &quot;exact that part exist not longer not shorter&quot;? That string occurs twice within your string - which one to you want to trigger it? Should it trigger if it&#39;s in the middle of the path? If you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with various cases that you want to match and not match?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1523970544,"post_id":49878929,"comment_id":86773601,"body_markdown":"I believe he wants to match exactly `NCC_joh` and not something like `NCC_johjon`(which would be longer)","body":"I believe he wants to match exactly <code>NCC_joh</code> and not something like <code>NCC_johjon</code>(which would be longer)"},{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":1,"creation_date":1523970827,"post_id":49878929,"comment_id":86773836,"body_markdown":"Just include the open bracket in the contains? `if (oysters.contains(&quot;NCC_joh (&quot;)) {`","body":"Just include the open bracket in the contains? <code>if (oysters.contains(&quot;NCC_joh (&quot;)) {</code>"},{"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"score":0,"creation_date":1523971197,"post_id":49878929,"comment_id":86774098,"body_markdown":"exactly as @XtremeBaumer says i want it to be exactly for example NCC_joh. i will try Mr Spoon solution","body":"exactly as @XtremeBaumer says i want it to be exactly for example NCC_joh. i will try Mr Spoon solution"},{"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"score":0,"creation_date":1523971343,"post_id":49878929,"comment_id":86774225,"body_markdown":"@MrSpoon Thanks that helped me cause it will always be an ( after the string i check!","body":"@MrSpoon Thanks that helped me cause it will always be an ( after the string i check!"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523971564,"creation_date":1523971564,"answer_id":49879388,"question_id":49878929,"body_markdown":"Use regular expressions.\r\n\r\n    if (oysters.matches(&quot;(?s).*\\\\bNCC_joh\\\\b.*&quot;)) {\r\n\r\nwhere\r\n\r\n- `(?s)` = single line mode, DOT-ALL, so `.` will match a newline too.\r\n- `.` = any char\r\n- `.*` = zero or more occurrences of `.` (any char)\r\n- `\\b` = word boundary\r\n\r\n`String.matches` does a match of the pattern over the _entire_ string, hence the need for `.*` at begin and end.\r\n\r\n(Word boundaries of course means, that between them a _word_ has to be placed.)","title":"String equal/contain none of them gets what I want","body":"<p>Use regular expressions.</p>\n\n<pre><code>if (oysters.matches(\"(?s).*\\\\bNCC_joh\\\\b.*\")) {\n</code></pre>\n\n<p>where</p>\n\n<ul>\n<li><code>(?s)</code> = single line mode, DOT-ALL, so <code>.</code> will match a newline too.</li>\n<li><code>.</code> = any char</li>\n<li><code>.*</code> = zero or more occurrences of <code>.</code> (any char)</li>\n<li><code>\\b</code> = word boundary</li>\n</ul>\n\n<p><code>String.matches</code> does a match of the pattern over the <em>entire</em> string, hence the need for <code>.*</code> at begin and end.</p>\n\n<p>(Word boundaries of course means, that between them a <em>word</em> has to be placed.)</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523972020,"creation_date":1523972020,"answer_id":49879553,"question_id":49878929,"body_markdown":"This is similar to https://stackoverflow.com/a/49879388/2735286, but I would suggest to use the `find` method using this regular expression:\r\n\r\n    \\bNCC_joh\\b\r\n\r\nUsing the find method will simplify the regular expression and you will exclusively search for what is relevant.\r\n\r\nHere is the corresponding method you can use:\r\n\r\n    public static boolean superExactMatch(String expression) {\r\n        Pattern p = Pattern.compile(&quot;\\\\bNCC_joh\\\\b&quot;, Pattern.MULTILINE);\r\n        final Matcher matcher = p.matcher(expression);\r\n        final boolean found = matcher.find();\r\n        if(found) {\r\n            // For debugging purposes to see where the match happened in the expression\r\n            System.out.println(matcher.start() + &quot; &quot; + matcher.end());\r\n        }\r\n        return found;\r\n    }\r\n\r\n","title":"String equal/contain none of them gets what I want","body":"<p>This is similar to <a href=\"https://stackoverflow.com/a/49879388/2735286\">https://stackoverflow.com/a/49879388/2735286</a>, but I would suggest to use the <code>find</code> method using this regular expression:</p>\n\n<pre><code>\\bNCC_joh\\b\n</code></pre>\n\n<p>Using the find method will simplify the regular expression and you will exclusively search for what is relevant.</p>\n\n<p>Here is the corresponding method you can use:</p>\n\n<pre><code>public static boolean superExactMatch(String expression) {\n    Pattern p = Pattern.compile(\"\\\\bNCC_joh\\\\b\", Pattern.MULTILINE);\n    final Matcher matcher = p.matcher(expression);\n    final boolean found = matcher.find();\n    if(found) {\n        // For debugging purposes to see where the match happened in the expression\n        System.out.println(matcher.start() + \" \" + matcher.end());\n    }\n    return found;\n}\n</code></pre>\n"}],"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":49879388,"answer_count":2,"score":0,"last_activity_date":1676479420,"creation_date":1523970226,"question_id":49878929,"body_markdown":"I have a string that can look somewhat like:\r\n\r\n    NCC_johjon (\\users\\johanjo\\tomcattest\\oysters\\NCC_johjon, port 16001), utv_johjon (\\users\\johanjo\\tomcattest\\oysters\\utv_johjon, port 16000)\r\n\r\nand there could be like a lot of NCC_etskys, NCC_homyis and so on and I want to check if somewhere in the string there is an part that says &quot;NCC_joh&quot; already existing. I tried with like  \r\n\r\n    if(oysters.contains(&quot;NCC_joh&quot;)){\r\n            System.out.println(&quot;HEJ HEJ HEJ HALL&#197; HALL&#197; HALL&#197;&quot;);\r\n        }\r\n\r\nbut if there is an NCC_johjon in there it will go in the if case, but I only want to go in if exact that part exist not longer not shorter and .equal it needs to look like the whole String which is not what I want either. anyone got any idea? would be better if what I worked with were a list of Strings but I don&#39;t have that.\r\nthe oysterPaths is an Collection at first\r\n\r\n    Collection&lt;TomcatResource&gt; oysterPaths = TomcatResource.listCats(Paths.get(tomcatsPath));","title":"String equal/contain none of them gets what I want","body":"<p>I have a string that can look somewhat like:</p>\n<pre><code>NCC_johjon (\\users\\johanjo\\tomcattest\\oysters\\NCC_johjon, port 16001), utv_johjon (\\users\\johanjo\\tomcattest\\oysters\\utv_johjon, port 16000)\n</code></pre>\n<p>and there could be like a lot of NCC_etskys, NCC_homyis and so on and I want to check if somewhere in the string there is an part that says &quot;NCC_joh&quot; already existing. I tried with like</p>\n<pre><code>if(oysters.contains(&quot;NCC_joh&quot;)){\n        System.out.println(&quot;HEJ HEJ HEJ HALLÅ HALLÅ HALLÅ&quot;);\n    }\n</code></pre>\n<p>but if there is an NCC_johjon in there it will go in the if case, but I only want to go in if exact that part exist not longer not shorter and .equal it needs to look like the whole String which is not what I want either. anyone got any idea? would be better if what I worked with were a list of Strings but I don't have that.\nthe oysterPaths is an Collection at first</p>\n<pre><code>Collection&lt;TomcatResource&gt; oysterPaths = TomcatResource.listCats(Paths.get(tomcatsPath));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1676363823,"post_id":75445157,"comment_id":133117047,"body_markdown":"&quot;High value item&quot; isn&#39;t printed when shipping - it&#39;s printed by this constructor call: `Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);`. That happens before `book.ship()` is called.","body":"&quot;High value item&quot; isn&#39;t printed when shipping - it&#39;s printed by this constructor call: <code>Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);</code>. That happens before <code>book.ship()</code> is called."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676364040,"post_id":75445157,"comment_id":133117091,"body_markdown":"One way you can verify what Jon said is to put a `System.out.println(&quot;Constructors are done&quot;);` after the line that creates the `chemistrySet`, then it will be more obvious which parts print which statement.","body":"One way you can verify what Jon said is to put a <code>System.out.println(&quot;Constructors are done&quot;);</code> after the line that creates the <code>chemistrySet</code>, then it will be more obvious which parts print which statement."}],"answers":[{"tags":[],"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676479055,"creation_date":1676366659,"answer_id":75445750,"question_id":75445157,"body_markdown":"The first thing happening here is the main() method, which is where the program starts:\r\n\r\n    public static void main(String[] args) {\r\n        // do not alter the main method!\r\n        Order book = new Order(true, 9.99, &quot;Express&quot;);            //(1)\r\n        Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);  //(2)\r\n        \r\n        book.ship();                                              //(3)\r\n        chemistrySet.ship();                                      //(4)\r\n        \r\n    }\r\n\r\n1. You call the constructor method of the class for &quot;book&quot;:\r\n    ```\r\n    public Order(boolean filled, double cost, String shippingMethod) {\r\n        if (cost &gt; 24.00) {\r\n          System.out.println(&quot;High value item!&quot;);\r\n        }\r\n        isFilled = filled;\r\n        billAmount = cost;\r\n        shipping = shippingMethod;\r\n    }\r\n    ```\r\n\r\n    And nothing is printed because *cost &lt;  24.00*.\r\n\r\n2. Now you call the constructor again for &quot;chemistrySet&quot;, but this time it prints &quot;High value item!&quot; because its *cost &gt; 24.00*\r\n\r\n3. You call `book.ship()` and, since `filled == true`, it prints: *Shipping* and *Shipping cost: 1.75*\r\n\r\n3. Now you call `chemistrySet.ship()`, but this time `isFilled` equals false, so it prints *Order not ready*\r\n","title":"How to understand the order of this code running","body":"<p>The first thing happening here is the main() method, which is where the program starts:</p>\n<pre><code>public static void main(String[] args) {\n    // do not alter the main method!\n    Order book = new Order(true, 9.99, &quot;Express&quot;);            //(1)\n    Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);  //(2)\n    \n    book.ship();                                              //(3)\n    chemistrySet.ship();                                      //(4)\n    \n}\n</code></pre>\n<ol>\n<li><p>You call the constructor method of the class for &quot;book&quot;:</p>\n<pre><code>public Order(boolean filled, double cost, String shippingMethod) {\n    if (cost &gt; 24.00) {\n      System.out.println(&quot;High value item!&quot;);\n    }\n    isFilled = filled;\n    billAmount = cost;\n    shipping = shippingMethod;\n}\n</code></pre>\n<p>And nothing is printed because <em>cost &lt;  24.00</em>.</p>\n</li>\n<li><p>Now you call the constructor again for &quot;chemistrySet&quot;, but this time it prints &quot;High value item!&quot; because its <em>cost &gt; 24.00</em></p>\n</li>\n<li><p>You call <code>book.ship()</code> and, since <code>filled == true</code>, it prints: <em>Shipping</em> and <em>Shipping cost: 1.75</em></p>\n</li>\n<li><p>Now you call <code>chemistrySet.ship()</code>, but this time <code>isFilled</code> equals false, so it prints <em>Order not ready</em></p>\n</li>\n</ol>\n"}],"owner":{"account_id":22857930,"reputation":21,"user_id":17002498,"display_name":"Aris Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1676479055,"creation_date":1676363684,"question_id":75445157,"body_markdown":"As I know, the order of code running is top down. So when call 2 method book.ship(), chemistrySet.ship() at the bottom, I think the 1st one should be called first. So why the result shows as below:\r\n\r\n```none\r\nHigh value item!\r\nShipping\r\nShipping cost: 1.75\r\nOrder not ready\r\n```\r\nFor the book instance, the cost = 9.99, but it still shows `High value item!`. How can I figure this out?\r\n \r\n```\r\npublic class Order {\r\n  boolean isFilled; //true\r\n  double billAmount; //9.99\r\n  String shipping;   //Express\r\n  \r\n  public Order(boolean filled, double cost, String shippingMethod) {\r\n\t\tif (cost &gt; 24.00) {\r\n      System.out.println(&quot;High value item!&quot;);\r\n    }\r\n    isFilled = filled;\r\n    billAmount = cost;\r\n    shipping = shippingMethod;\r\n  }\r\n  \r\n  public void ship() {\r\n    if (isFilled) {\r\n      System.out.println(&quot;Shipping&quot;);\r\n      System.out.println(&quot;Shipping cost: &quot; + calculateShipping());\r\n    } else {\r\n      System.out.println(&quot;Order not ready&quot;);\r\n    }\r\n  }\r\n  \r\n  public double calculateShipping() {\r\n\t \t// declare conditional statement here\r\n      if (shipping.equals(&quot;Regular&quot;)) {\r\n        return 0;\r\n      } else if (shipping.equals(&quot;Express&quot;)){\r\n        return 1.75;\r\n      } else {return .50;}\r\n \t}\r\n  \r\n  public static void main(String[] args) {\r\n    // do not alter the main method!\r\n    Order book = new Order(true, 9.99, &quot;Express&quot;);\r\n    Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);\r\n    \r\n    book.ship();\r\n    chemistrySet.ship();\r\n    \r\n  }\r\n}\r\n\r\n```","title":"How to understand the order of this code running","body":"<p>As I know, the order of code running is top down. So when call 2 method book.ship(), chemistrySet.ship() at the bottom, I think the 1st one should be called first. So why the result shows as below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>High value item!\nShipping\nShipping cost: 1.75\nOrder not ready\n</code></pre>\n<p>For the book instance, the cost = 9.99, but it still shows <code>High value item!</code>. How can I figure this out?</p>\n<pre><code>public class Order {\n  boolean isFilled; //true\n  double billAmount; //9.99\n  String shipping;   //Express\n  \n  public Order(boolean filled, double cost, String shippingMethod) {\n        if (cost &gt; 24.00) {\n      System.out.println(&quot;High value item!&quot;);\n    }\n    isFilled = filled;\n    billAmount = cost;\n    shipping = shippingMethod;\n  }\n  \n  public void ship() {\n    if (isFilled) {\n      System.out.println(&quot;Shipping&quot;);\n      System.out.println(&quot;Shipping cost: &quot; + calculateShipping());\n    } else {\n      System.out.println(&quot;Order not ready&quot;);\n    }\n  }\n  \n  public double calculateShipping() {\n        // declare conditional statement here\n      if (shipping.equals(&quot;Regular&quot;)) {\n        return 0;\n      } else if (shipping.equals(&quot;Express&quot;)){\n        return 1.75;\n      } else {return .50;}\n    }\n  \n  public static void main(String[] args) {\n    // do not alter the main method!\n    Order book = new Order(true, 9.99, &quot;Express&quot;);\n    Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);\n    \n    book.ship();\n    chemistrySet.ship();\n    \n  }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1676478239,"post_id":75462476,"comment_id":133145886,"body_markdown":"If you look at the micrometer code, it incorrectly maps to the load count (https://github.com/micrometer-metrics/micrometer/issues/2215 and follow ups). It’s not a core metric of the cache and incorrectly captured in their adapter.","body":"If you look at the micrometer code, it incorrectly maps to the load count (<a href=\"https://github.com/micrometer-metrics/micrometer/issues/2215\" rel=\"nofollow noreferrer\">github.com/micrometer-metrics/micrometer/issues/2215</a> and follow ups). It’s not a core metric of the cache and incorrectly captured in their adapter."}],"owner":{"account_id":27794938,"reputation":11,"user_id":21220675,"display_name":"pesto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676478675,"creation_date":1676477284,"question_id":75462476,"body_markdown":"I am using Spring Boot 2.7.2 and Caffeine 2.8.5. I have verified the cache is working correctly and all of the other manage/metrics endpoints for cache give the correct counts (cache.eviction.weight, cache.evictions, cache.gets, cache.size), but the count for cache.puts is always 0, even when there are many items put into the cache.\r\n\r\n\r\n\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;importantcache&quot;)\r\npublic class CaffeineCacheConfig {\r\n\r\n   private Long maxSize;\r\n   private Duration expire;\r\n   \r\n  public Long getMaxSize() {\r\n    return maxSize;\r\n  }\r\n  public void setMaxSize(Long maxSize) {\r\n    this.maxSize = maxSize;\r\n  }\r\n  public Duration getExpire() {\r\n    return expire;\r\n  }\r\n  public void setExpire(Duration expire) {\r\n    this.expire = expire;\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Component\r\n@EnableCaching\r\npublic class CaffeineCache {\r\n\r\n  private final CaffeineCacheConfig caffeineCacheConfig;\r\n  \r\n  @Autowired\r\n  public CaffeineCache(CaffeineCacheConfig caffeineCacheConfig) {\r\n      this.caffeineCacheConfig = caffeineCacheConfig;\r\n  }\r\n  \r\n @Bean \r\n public CacheManager cacheManager() {\r\n  CaffeineCacheManager cacheManager = new CaffeineCacheManager(\r\n          &quot;cache1&quot;,\r\n          &quot;cache2&quot;,\r\n          &quot;cache3&quot;\r\n  );\r\n  cacheManager.setCaffeine(caffeineCacheBuilder());\r\n  \r\n  return cacheManager;\r\n }\r\n\r\n Caffeine&lt;Object, Object&gt; caffeineCacheBuilder() {\r\n   Long size = 1000L;\r\n   Duration expire =  Duration.parse(&quot;PT1H&quot;); \r\n   \r\n   if (caffeineCacheConfig.getMaxSize() != null) {\r\n     size = caffeineCacheConfig.getMaxSize();\r\n   }\r\n   if (caffeineCacheConfig.getExpire() != null) {\r\n     expire = caffeineCacheConfig.getExpire();\r\n   }\r\n\r\n   return Caffeine.newBuilder()\r\n     .maximumSize(size)\r\n     .expireAfterWrite(expire)\r\n     .recordStats();\r\n }\r\n}\r\n```\r\n\r\nI have also tried this alternative method in the above class for cacheManager() from [this related question](https://stackoverflow.com/questions/74393289/caffeine-cache-metrics-only-report-cache-size-but-not-hit-miss-ratio-with-microm)\r\n\r\n\r\n```\r\n@Bean\r\n  public CacheManager cacheManager(MeterRegistry meterRegistry) {\r\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager() {\r\n      protected com.github.benmanes.caffeine.cache.Cache&lt;Object, Object&gt; createNativeCaffeineCache(String name) {\r\n        return CaffeineCacheMetrics.monitor(meterRegistry, super.createNativeCaffeineCache(name), name);\r\n      }\r\n\r\n    };\r\n    caffeineCacheManager.setCaffeine(caffeineCacheBuilder());\r\n\r\n    return caffeineCacheManager;\r\n  }\r\n```\r\n\r\nAny ideas on what else to try to make the cache.puts endpoint accurate?","title":"Using Caffeine Cache, why is the count for cache.puts on manage/metrics endpoint always 0?","body":"<p>I am using Spring Boot 2.7.2 and Caffeine 2.8.5. I have verified the cache is working correctly and all of the other manage/metrics endpoints for cache give the correct counts (cache.eviction.weight, cache.evictions, cache.gets, cache.size), but the count for cache.puts is always 0, even when there are many items put into the cache.</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;importantcache&quot;)\npublic class CaffeineCacheConfig {\n\n   private Long maxSize;\n   private Duration expire;\n   \n  public Long getMaxSize() {\n    return maxSize;\n  }\n  public void setMaxSize(Long maxSize) {\n    this.maxSize = maxSize;\n  }\n  public Duration getExpire() {\n    return expire;\n  }\n  public void setExpire(Duration expire) {\n    this.expire = expire;\n  }\n\n}\n</code></pre>\n<pre><code>@Component\n@EnableCaching\npublic class CaffeineCache {\n\n  private final CaffeineCacheConfig caffeineCacheConfig;\n  \n  @Autowired\n  public CaffeineCache(CaffeineCacheConfig caffeineCacheConfig) {\n      this.caffeineCacheConfig = caffeineCacheConfig;\n  }\n  \n @Bean \n public CacheManager cacheManager() {\n  CaffeineCacheManager cacheManager = new CaffeineCacheManager(\n          &quot;cache1&quot;,\n          &quot;cache2&quot;,\n          &quot;cache3&quot;\n  );\n  cacheManager.setCaffeine(caffeineCacheBuilder());\n  \n  return cacheManager;\n }\n\n Caffeine&lt;Object, Object&gt; caffeineCacheBuilder() {\n   Long size = 1000L;\n   Duration expire =  Duration.parse(&quot;PT1H&quot;); \n   \n   if (caffeineCacheConfig.getMaxSize() != null) {\n     size = caffeineCacheConfig.getMaxSize();\n   }\n   if (caffeineCacheConfig.getExpire() != null) {\n     expire = caffeineCacheConfig.getExpire();\n   }\n\n   return Caffeine.newBuilder()\n     .maximumSize(size)\n     .expireAfterWrite(expire)\n     .recordStats();\n }\n}\n</code></pre>\n<p>I have also tried this alternative method in the above class for cacheManager() from <a href=\"https://stackoverflow.com/questions/74393289/caffeine-cache-metrics-only-report-cache-size-but-not-hit-miss-ratio-with-microm\">this related question</a></p>\n<pre><code>@Bean\n  public CacheManager cacheManager(MeterRegistry meterRegistry) {\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager() {\n      protected com.github.benmanes.caffeine.cache.Cache&lt;Object, Object&gt; createNativeCaffeineCache(String name) {\n        return CaffeineCacheMetrics.monitor(meterRegistry, super.createNativeCaffeineCache(name), name);\n      }\n\n    };\n    caffeineCacheManager.setCaffeine(caffeineCacheBuilder());\n\n    return caffeineCacheManager;\n  }\n</code></pre>\n<p>Any ideas on what else to try to make the cache.puts endpoint accurate?</p>\n"},{"tags":["java","postgresql","moqui"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656413459,"post_id":72784970,"comment_id":128560851,"body_markdown":"The error suggest that moqui doesn&#39;t support your Java version. Recent versions of Java have tightened things down. You probably need an earlier Java version (e.g. Java 11, maybe even Java 8).","body":"The error suggest that moqui doesn&#39;t support your Java version. Recent versions of Java have tightened things down. You probably need an earlier Java version (e.g. Java 11, maybe even Java 8)."},{"owner":{"account_id":3828929,"reputation":1731,"user_id":3175061,"display_name":"David E. Jones"},"score":0,"creation_date":1656611986,"post_id":72784970,"comment_id":128621527,"body_markdown":"You didn&#39;t mention adding the Postgres JDBC driver... is that on the classpath (in runtime/lib or elsewhere)?","body":"You didn&#39;t mention adding the Postgres JDBC driver... is that on the classpath (in runtime/lib or elsewhere)?"}],"answers":[{"tags":[],"owner":{"account_id":13459592,"reputation":53,"user_id":9712109,"display_name":"M.A.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676478350,"creation_date":1676478350,"answer_id":75462688,"question_id":72784970,"body_markdown":"your connection configuration is wrong, use this config\r\n\r\n    &lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;postgres&quot; schema-name=&quot;public&quot; startup-add-missing=&quot;true&quot; runtime-add-missing=&quot;false&quot;&gt;\r\n            &lt;inline-jdbc jdbc-uri=&quot;jdbc:postgresql://localhost/moqui&quot; jdbc-username=&quot;dbUsername&quot; jdbc-password=&quot;dbPassword&quot;/&gt;\r\n&lt;/datasource&gt;\r\n\r\nReplace moqui with your database name,\r\n\r\nReplace dbUsername with your database username,\r\n\r\nReplace dbPassword with your database password\r\n\r\n","title":"Some errors when I start Moqui","body":"<p>your connection configuration is wrong, use this config</p>\n<pre><code>&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;postgres&quot; schema-name=&quot;public&quot; startup-add-missing=&quot;true&quot; runtime-add-missing=&quot;false&quot;&gt;\n        &lt;inline-jdbc jdbc-uri=&quot;jdbc:postgresql://localhost/moqui&quot; jdbc-username=&quot;dbUsername&quot; jdbc-password=&quot;dbPassword&quot;/&gt;\n</code></pre>\n\n<p>Replace moqui with your database name,</p>\n<p>Replace dbUsername with your database username,</p>\n<p>Replace dbPassword with your database password</p>\n"}],"owner":{"account_id":24645342,"reputation":1,"user_id":18543060,"display_name":"Đ&#236;nh Hiếu L&#234;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676478350,"creation_date":1656412791,"question_id":72784970,"body_markdown":"I am new to Moqui. I start moqui with these commands:\r\n```none\r\n$ git clone https://github.com/moqui/moqui-framework.git moqui\r\n$ cd moqui\r\n$ ./gradlew getComponent -Pcomponent=PopCommerce\r\n$ ./gradlew getComponent -Pcomponent=HiveMind\r\n$ ./gradlew downloadElasticSearch\r\n$ ./gradlew load\r\n```\r\nAnd I have some problems:\r\n```none\r\n20:33:03.043 ERROR main .moqui.i.e.EntityDatasourceFactoryImpl Error connecting to DataSource transactional (postgres), try 4 of 5: java.lang.ExceptionInInitializerError: Exception bitronix.tm.internal.BitronixRuntimeException: error initializing JdbcProxyFactory [in thread &quot;main&quot;]\r\n\r\n20:32:52.683  WARN c-jmx-worker b.tm.u.ManagementRegistrar Cannot execute ManagementRegisterCommand on object with name bitronix.tm:type=JDBC,UniqueName=transactional_DS,Id=4\r\n\r\n20:32:36.567 ERROR  main .moqui.i.e.EntityDatasourceFactoryImpl Error connecting to DataSource transactional (postgres), try 1 of 5: java.lang.reflect.InaccessibleObjectException: \r\nUnable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @56620197\r\n```\r\nHere is my file MoquiDefaultConf.xml:\r\n```xml\r\n&lt;default-property name=&quot;instance_purpose&quot; value=&quot;production&quot;/&gt;\r\n\r\n&lt;!-- Locale and Time Zone Properties --&gt;\r\n&lt;default-property name=&quot;default_locale&quot; value=&quot;en_US&quot;/&gt;\r\n&lt;default-property name=&quot;default_time_zone&quot; value=&quot;US/Pacific&quot;/&gt;\r\n&lt;default-property name=&quot;database_time_zone&quot; value=&quot;US/Pacific&quot;/&gt;\r\n\r\n&lt;!-- Web App Properties --&gt;\r\n&lt;default-property name=&quot;webapp_http_host&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_http_port&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_https_port&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_https_enabled&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_allow_origins&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_handle_cors&quot; value=&quot;true&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_status_ips&quot; value=&quot;127.0.0.1&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_require_session_token&quot; value=&quot;true&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_upload_executable_allow&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_client_ip_header&quot; value=&quot;&quot;/&gt;\r\n\r\n&lt;!-- Properties for the primary (transactional group) datasource --&gt;\r\n&lt;default-property name=&quot;entity_ds_db_conf&quot; value=&quot;postgres&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_host&quot; value=&quot;127.0.0.1&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_port&quot; value=&quot;5432&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_database&quot; value=&quot;h2&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_url&quot; value=&quot;jdbc:h2:${moqui_runtime}/db/h2/${entity_ds_database};lock_timeout=30000&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_schema&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_user&quot; value=&quot;postgres&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_password&quot; value=&quot;trunghung0804&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_crypt_pass&quot; value=&quot;MoquiDefaultPassword:CHANGEME&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_crypt_pass_old&quot; value=&quot;MoquiDefaultPassword:CHANGEME&quot;/&gt;\r\n&lt;default-property name=&quot;entity_add_missing_runtime&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;entity_add_missing_startup&quot; value=&quot;true&quot;/&gt;\r\n&lt;default-property name=&quot;entity_lock_track&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;entity_statement_timeout&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;entity_empty_db_load&quot; value=&quot;seed,seed-initial,install&quot;/&gt;\r\n```\r\nAnd my datasource configuration in MoquiDefaultConf.xml:\r\n```xml\r\n&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;${entity_ds_db_conf}&quot; schema-name=&quot;${entity_ds_schema}&quot;\r\n        runtime-add-missing=&quot;${entity_add_missing_runtime}&quot; startup-add-missing=&quot;${entity_add_missing_startup}&quot;&gt;\r\n    &lt;!-- by default no inline-jdbc or jndi-jdbc elements, use default from database conf --&gt;\r\n&lt;/datasource&gt;\r\n&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;postgres&quot; schema-name=&quot;&quot;&gt;\r\n    &lt;inline-jdbc pool-minsize=&quot;5&quot; pool-maxsize=&quot;50&quot;&gt;\r\n        &lt;xa-properties user=&quot;postgres&quot; password=&quot;trunghung0804&quot; pinGlobalTxToPhysicalConnection=&quot;true&quot;\r\n                       serverName=&quot;127.0.0.1&quot; port=&quot;5432&quot; databaseName=&quot;moqui&quot; autoReconnectForPools=&quot;true&quot;\r\n                       useUnicode=&quot;true&quot; encoding=&quot;UTF-8&quot;/&gt;\r\n    &lt;/inline-jdbc&gt;\r\n&lt;/datasource&gt;\r\n```\r\nAnd here is database I connect to:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AtcEK.png","title":"Some errors when I start Moqui","body":"<p>I am new to Moqui. I start moqui with these commands:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ git clone https://github.com/moqui/moqui-framework.git moqui\n$ cd moqui\n$ ./gradlew getComponent -Pcomponent=PopCommerce\n$ ./gradlew getComponent -Pcomponent=HiveMind\n$ ./gradlew downloadElasticSearch\n$ ./gradlew load\n</code></pre>\n<p>And I have some problems:</p>\n<pre class=\"lang-none prettyprint-override\"><code>20:33:03.043 ERROR main .moqui.i.e.EntityDatasourceFactoryImpl Error connecting to DataSource transactional (postgres), try 4 of 5: java.lang.ExceptionInInitializerError: Exception bitronix.tm.internal.BitronixRuntimeException: error initializing JdbcProxyFactory [in thread &quot;main&quot;]\n\n20:32:52.683  WARN c-jmx-worker b.tm.u.ManagementRegistrar Cannot execute ManagementRegisterCommand on object with name bitronix.tm:type=JDBC,UniqueName=transactional_DS,Id=4\n\n20:32:36.567 ERROR  main .moqui.i.e.EntityDatasourceFactoryImpl Error connecting to DataSource transactional (postgres), try 1 of 5: java.lang.reflect.InaccessibleObjectException: \nUnable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @56620197\n</code></pre>\n<p>Here is my file MoquiDefaultConf.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;default-property name=&quot;instance_purpose&quot; value=&quot;production&quot;/&gt;\n\n&lt;!-- Locale and Time Zone Properties --&gt;\n&lt;default-property name=&quot;default_locale&quot; value=&quot;en_US&quot;/&gt;\n&lt;default-property name=&quot;default_time_zone&quot; value=&quot;US/Pacific&quot;/&gt;\n&lt;default-property name=&quot;database_time_zone&quot; value=&quot;US/Pacific&quot;/&gt;\n\n&lt;!-- Web App Properties --&gt;\n&lt;default-property name=&quot;webapp_http_host&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;webapp_http_port&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;webapp_https_port&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;webapp_https_enabled&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;webapp_allow_origins&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;webapp_handle_cors&quot; value=&quot;true&quot;/&gt;\n&lt;default-property name=&quot;webapp_status_ips&quot; value=&quot;127.0.0.1&quot;/&gt;\n&lt;default-property name=&quot;webapp_require_session_token&quot; value=&quot;true&quot;/&gt;\n&lt;default-property name=&quot;webapp_upload_executable_allow&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;webapp_client_ip_header&quot; value=&quot;&quot;/&gt;\n\n&lt;!-- Properties for the primary (transactional group) datasource --&gt;\n&lt;default-property name=&quot;entity_ds_db_conf&quot; value=&quot;postgres&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_host&quot; value=&quot;127.0.0.1&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_port&quot; value=&quot;5432&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_database&quot; value=&quot;h2&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_url&quot; value=&quot;jdbc:h2:${moqui_runtime}/db/h2/${entity_ds_database};lock_timeout=30000&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_schema&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_user&quot; value=&quot;postgres&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_password&quot; value=&quot;trunghung0804&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_crypt_pass&quot; value=&quot;MoquiDefaultPassword:CHANGEME&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_crypt_pass_old&quot; value=&quot;MoquiDefaultPassword:CHANGEME&quot;/&gt;\n&lt;default-property name=&quot;entity_add_missing_runtime&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;entity_add_missing_startup&quot; value=&quot;true&quot;/&gt;\n&lt;default-property name=&quot;entity_lock_track&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;entity_statement_timeout&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;entity_empty_db_load&quot; value=&quot;seed,seed-initial,install&quot;/&gt;\n</code></pre>\n<p>And my datasource configuration in MoquiDefaultConf.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;${entity_ds_db_conf}&quot; schema-name=&quot;${entity_ds_schema}&quot;\n        runtime-add-missing=&quot;${entity_add_missing_runtime}&quot; startup-add-missing=&quot;${entity_add_missing_startup}&quot;&gt;\n    &lt;!-- by default no inline-jdbc or jndi-jdbc elements, use default from database conf --&gt;\n&lt;/datasource&gt;\n&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;postgres&quot; schema-name=&quot;&quot;&gt;\n    &lt;inline-jdbc pool-minsize=&quot;5&quot; pool-maxsize=&quot;50&quot;&gt;\n        &lt;xa-properties user=&quot;postgres&quot; password=&quot;trunghung0804&quot; pinGlobalTxToPhysicalConnection=&quot;true&quot;\n                       serverName=&quot;127.0.0.1&quot; port=&quot;5432&quot; databaseName=&quot;moqui&quot; autoReconnectForPools=&quot;true&quot;\n                       useUnicode=&quot;true&quot; encoding=&quot;UTF-8&quot;/&gt;\n    &lt;/inline-jdbc&gt;\n&lt;/datasource&gt;\n</code></pre>\n<p>And here is database I connect to:\n<a href=\"https://i.stack.imgur.com/AtcEK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","exception","try-catch","runtimeexception"],"comments":[{"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"score":1,"creation_date":1627991152,"post_id":68635149,"comment_id":121297691,"body_markdown":"Yes, but you don&#39;t have this information anymore in `catch` block. So all is known there is that I am throwing an `Exception`.","body":"Yes, but you don&#39;t have this information anymore in <code>catch</code> block. So all is known there is that I am throwing an <code>Exception</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1627992881,"post_id":68635149,"comment_id":121298350,"body_markdown":"Section 14.18 of the JLS seems relevant. Throwing is fine on compile-time when *The type of the Expression is an unchecked exception class (&#167;11.1.1) …* It doesn’t say directly whether it means the declared type or some inferred runtime type, though, …","body":"Section 14.18 of the JLS seems relevant. Throwing is fine on compile-time when <i>The type of the Expression is an unchecked exception class (&#167;11.1.1) …</i> It doesn’t say directly whether it means the declared type or some inferred runtime type, though, …"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1627992980,"post_id":68635149,"comment_id":121298390,"body_markdown":"Your code compiles and runs on Java 7.","body":"Your code compiles and runs on Java 7."},{"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"score":1,"creation_date":1628000090,"post_id":68635149,"comment_id":121301764,"body_markdown":"It doesn&#39;t compile with Java 6 though. I&#39;ve update d the question.","body":"It doesn&#39;t compile with Java 6 though. I&#39;ve update d the question."}],"answers":[{"tags":[],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628001791,"creation_date":1628001791,"answer_id":68638157,"question_id":68635149,"body_markdown":"It looks like that this is one of the effects of the enhancement in Java 7: [Catching Multiple Exception Types and Rethrowing Exceptions with Improved Type Checking][1]. See section **&quot;Rethrowing Exceptions with More Inclusive Type Checking.&quot;**\r\n\r\n&gt; The Java SE 7 compiler can determine that the exception thrown by the statement throw e must have come from the try block, and the only exceptions thrown by the try block can be FirstException and SecondException. Even though the exception parameter of the catch clause, e, is type Exception, the compiler can determine that it is an instance of either FirstException or SecondException.\r\n\r\nPlease note, that the following will not compile though even in Java 7 and above:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        try {\r\n            throw new RuntimeException();\r\n        } catch (Exception e) {\r\n\t        Exception e1 = e;\r\n            throw e1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBecause:\r\n&gt; This analysis is disabled if the catch parameter is assigned to another value in the catch block.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html","title":"Rethrowing RuntimeException as Exception","body":"<p>It looks like that this is one of the effects of the enhancement in Java 7: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow noreferrer\">Catching Multiple Exception Types and Rethrowing Exceptions with Improved Type Checking</a>. See section <strong>&quot;Rethrowing Exceptions with More Inclusive Type Checking.&quot;</strong></p>\n<blockquote>\n<p>The Java SE 7 compiler can determine that the exception thrown by the statement throw e must have come from the try block, and the only exceptions thrown by the try block can be FirstException and SecondException. Even though the exception parameter of the catch clause, e, is type Exception, the compiler can determine that it is an instance of either FirstException or SecondException.</p>\n</blockquote>\n<p>Please note, that the following will not compile though even in Java 7 and above:</p>\n<pre><code>public class Test {\n    public static void main(String[] args){\n        try {\n            throw new RuntimeException();\n        } catch (Exception e) {\n            Exception e1 = e;\n            throw e1;\n        }\n    }\n}\n</code></pre>\n<p>Because:</p>\n<blockquote>\n<p>This analysis is disabled if the catch parameter is assigned to another value in the catch block.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676478071,"creation_date":1676478071,"answer_id":75462634,"question_id":68635149,"body_markdown":"The part of the Java Language Specification that governs this can be found in [JLS 11.2.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-11.html#jls-11.2.2)\r\n\r\n&gt; 11.2.2. Exception Analysis of Statements \r\n&gt; ---------------------\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; A `throw` statement whose thrown expression is a final or effectively\r\n&gt; final exception parameter of a `catch` clause C can throw an exception\r\n&gt; class E *iff*:\r\n&gt; \r\n&gt; - E is an exception class that the try block of the `try` statement which declares C can throw; and\r\n&gt; \r\n&gt; - E is assignment compatible with any of C&#39;s catchable exception classes; and\r\n&gt; \r\n&gt; - E is not assignment compatible with any of the catchable exception classes of the `catch` clauses declared to the left of C in the same `try`\r\n&gt; statement.\r\n\r\nWhen E is `RuntimeException` 1) E can be thrown in the try block, 2) the catch clause can catch it, and 3) there are no catch clauses &quot;to the left&quot;.  Therefore the `throw` in the catch clause **can** throw `RuntimeException`.\r\n\r\nOn the other hand, E is `Exception`, E cannot be thrown in the try block.  Therefore the `throw` in the catch clause **cannot** throw `Exception`.\r\n\r\n\r\n\r\n","title":"Rethrowing RuntimeException as Exception","body":"<p>The part of the Java Language Specification that governs this can be found in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-11.html#jls-11.2.2\" rel=\"nofollow noreferrer\">JLS 11.2.2</a></p>\n<blockquote>\n<h2>11.2.2. Exception Analysis of Statements</h2>\n<p>...</p>\n<p>A <code>throw</code> statement whose thrown expression is a final or effectively\nfinal exception parameter of a <code>catch</code> clause C can throw an exception\nclass E <em>iff</em>:</p>\n<ul>\n<li><p>E is an exception class that the try block of the <code>try</code> statement which declares C can throw; and</p>\n</li>\n<li><p>E is assignment compatible with any of C's catchable exception classes; and</p>\n</li>\n<li><p>E is not assignment compatible with any of the catchable exception classes of the <code>catch</code> clauses declared to the left of C in the same <code>try</code>\nstatement.</p>\n</li>\n</ul>\n</blockquote>\n<p>When E is <code>RuntimeException</code> 1) E can be thrown in the try block, 2) the catch clause can catch it, and 3) there are no catch clauses &quot;to the left&quot;.  Therefore the <code>throw</code> in the catch clause <strong>can</strong> throw <code>RuntimeException</code>.</p>\n<p>On the other hand, E is <code>Exception</code>, E cannot be thrown in the try block.  Therefore the <code>throw</code> in the catch clause <strong>cannot</strong> throw <code>Exception</code>.</p>\n"}],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68638157,"answer_count":2,"score":2,"last_activity_date":1676478071,"creation_date":1627989764,"question_id":68635149,"body_markdown":"Java allows me to compile the following code without any issues:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        try {\r\n            throw new RuntimeException();\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEven though [java.lang.Exception][1] is a checked exception. Meaning that I am rethrowing unchecked exception as checked and get away with that.\r\n\r\nMost likely Java compiler is able to figure out that no checked exception is thrown in the try block, but I can&#39;t find the section in the specification that backups that.\r\n\r\nCan one rely on this behavior and starting from which JDK version?\r\n\r\nUpdate:\r\nThis class doesn&#39;t compile with Java 1.6.0_38 with the following message:\r\n```\r\nTest.java:6: unreported exception java.lang.Exception; must be caught or declared to be thrown\r\n            throw e;\r\n            ^\r\n1 error\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html","title":"Rethrowing RuntimeException as Exception","body":"<p>Java allows me to compile the following code without any issues:</p>\n<pre><code>public class Test {\n    public static void main(String[] args){\n        try {\n            throw new RuntimeException();\n        } catch (Exception e) {\n            throw e;\n        }\n    }\n}\n</code></pre>\n<p>Even though <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html\" rel=\"nofollow noreferrer\">java.lang.Exception</a> is a checked exception. Meaning that I am rethrowing unchecked exception as checked and get away with that.</p>\n<p>Most likely Java compiler is able to figure out that no checked exception is thrown in the try block, but I can't find the section in the specification that backups that.</p>\n<p>Can one rely on this behavior and starting from which JDK version?</p>\n<p>Update:\nThis class doesn't compile with Java 1.6.0_38 with the following message:</p>\n<pre><code>Test.java:6: unreported exception java.lang.Exception; must be caught or declared to be thrown\n            throw e;\n            ^\n1 error\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-jvm","cucumber-java","testng-dataprovider"],"owner":{"account_id":6205834,"reputation":1451,"user_id":4833874,"accept_rate":50,"display_name":"Alok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676477633,"creation_date":1676477633,"question_id":75462545,"body_markdown":"I am trying to run my Cucumber scenarios in parallel using the TestNG. \r\nBut when I run it `&#39;parallel=true&#39;` it executes the test cases in thread count=10 (testng default). \r\n\r\nI want to customise the thread count to say 2 or 3. How do I do that.?\r\nI want to run this through IntelliJ as well as through the command line (terminal)\r\nTried using the `&#39;jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])&#39;`\r\n\r\n**CucumberTestNGRunner**\r\n    \r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.testng.CucumberOptions;\r\n    import io.cucumber.testng.AbstractTestNGCucumberTests;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.junit.runner.RunWith;\r\n    import org.testng.annotations.AfterSuite;\r\n    import org.testng.annotations.DataProvider;\r\n     \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;path/to/features&quot;},\r\n            glue = {&quot;path.to.stepdep.package&quot;},\r\n            plugin = {&quot;pretty&quot;},\r\n            tags = &quot;@smoke&quot;,\r\n            dryRun = false,\r\n            monochrome = true\r\n    )\r\n    public class CucumberTestNGRunner extends AbstractTestNGCucumberTests {\r\n    \r\n        @Override\r\n        @DataProvider(parallel = true)\r\n        public Object[][] scenarios() {\r\n            return super.scenarios();\r\n        }\r\n    }\r\n\r\n\r\n**build.gradle (snippet) :**\r\n\r\n    test {\r\n    \tuseTestNG()\r\n        //jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])\r\n    \tscanForTestClasses = false\r\n    \ttestLogging.showStandardStreams = true\r\n    \tsystemProperties = System.properties\r\n    }","title":"Cucumber TestNG Gradle Parallel Execution ThreadCount","body":"<p>I am trying to run my Cucumber scenarios in parallel using the TestNG.\nBut when I run it <code>'parallel=true'</code> it executes the test cases in thread count=10 (testng default).</p>\n<p>I want to customise the thread count to say 2 or 3. How do I do that.?\nI want to run this through IntelliJ as well as through the command line (terminal)\nTried using the <code>'jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])'</code></p>\n<p><strong>CucumberTestNGRunner</strong></p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.testng.CucumberOptions;\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.junit.runner.RunWith;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.DataProvider;\n \n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;path/to/features&quot;},\n        glue = {&quot;path.to.stepdep.package&quot;},\n        plugin = {&quot;pretty&quot;},\n        tags = &quot;@smoke&quot;,\n        dryRun = false,\n        monochrome = true\n)\npublic class CucumberTestNGRunner extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n}\n</code></pre>\n<p><strong>build.gradle (snippet) :</strong></p>\n<pre><code>test {\n    useTestNG()\n    //jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])\n    scanForTestClasses = false\n    testLogging.showStandardStreams = true\n    systemProperties = System.properties\n}\n</code></pre>\n"},{"tags":["java","docker","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1667510698,"post_id":74309482,"comment_id":131190261,"body_markdown":"when running testcontainers it will be using the docker in your host machine and in your case, the container is where you are building the image and doesn&#39;t have a socker. See this documentation https://www.testcontainers.org/supported_docker_environment/continuous_integration/dind_patterns/#docker-only-example","body":"when running testcontainers it will be using the docker in your host machine and in your case, the container is where you are building the image and doesn&#39;t have a socker. See this documentation <a href=\"https://www.testcontainers.org/supported_docker_environment/continuous_integration/dind_patterns/#docker-only-example\" rel=\"nofollow noreferrer\">testcontainers.org/supported_docker_environment/&hellip;</a>"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1667511233,"post_id":74309482,"comment_id":131190391,"body_markdown":"The build sequence can&#39;t usually mount anything or call across to other containers.  Can you modify your tests to have pure unit tests without dependencies on external resources, or modify your build sequence to not run these tests during the image build?","body":"The build sequence can&#39;t usually mount anything or call across to other containers.  Can you modify your tests to have pure unit tests without dependencies on external resources, or modify your build sequence to not run these tests during the image build?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1667511294,"post_id":74309482,"comment_id":131190411,"body_markdown":"(Also remember that anyone who can access the Docker socket can very easily root the host it&#39;s running on.  My local security team is a little uncomfortable with Testcontainers for all but giving developers unrestricted root access on the CI systems.)","body":"(Also remember that anyone who can access the Docker socket can very easily root the host it&#39;s running on.  My local security team is a little uncomfortable with Testcontainers for all but giving developers unrestricted root access on the CI systems.)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667513777,"post_id":74309482,"comment_id":131191062,"body_markdown":"For the security aspect podman can be a solution. It would limit the impact, but if a CI/CD system is running everything with the same user it almost shows the same problem.","body":"For the security aspect podman can be a solution. It would limit the impact, but if a CI/CD system is running everything with the same user it almost shows the same problem."},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1667831930,"post_id":74309482,"comment_id":131255211,"body_markdown":"You can use Testcontainers with a remote Docker host as well, so there is no need to give &quot;root access&quot; to the CI system. In a similar way, you can also use rootless Docker. Regarding the original question, using Testcontainers as part of the Docker build is more complicated and works probably best when using a remote Docker daemon from outside the build process, using `DOCKER_HOST`.","body":"You can use Testcontainers with a remote Docker host as well, so there is no need to give &quot;root access&quot; to the CI system. In a similar way, you can also use rootless Docker. Regarding the original question, using Testcontainers as part of the Docker build is more complicated and works probably best when using a remote Docker daemon from outside the build process, using <code>DOCKER_HOST</code>."}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676477422,"creation_date":1667509140,"question_id":74309482,"body_markdown":"I want to build an application. For testing it uses testcontainers. The build will run on [CI][1] and on the developers&#39; machines. The Dockerfile is more or less:\r\n\r\n```lang-yaml\r\nFROM amazoncorretto:17-alpine as builder\r\nadd . .\r\nrun ./gradlew build\r\n\r\nfrom amazoncorretto:17-alpine\r\ncopy --from=builder build/libs/*.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nAnd I run the build using `docker build .`\r\n\r\nPart of the `./gradlew build` runs tests with Testscontainers and uses\r\n\r\n```\r\nval sftpDocker = GenericContainer(DockerImageName.parse(&quot;atmoz/sftp:alpine&quot;))\r\n```\r\n\r\nAnd it returns\r\n\r\n&gt; java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n\r\nI know that:\r\n\r\n* Testcontainers has its own docker API client and doesn&#39;t requires installed docker inside the [Alpine][2] container [3]\r\n* Someone made it using `&quot;docker:20.10.14-dind&quot;` image. But I don&#39;t know how it fits in my problem [4]\r\n* I can mount the `/var/run/docker.sock` during `docker run ...` but I&#39;m using `RUN` command inside dockerfile and `docker build ...` instead\r\n* I can expose `DOCKER_HOST` and testcontainers should use the default gateway&#39;s IP address. But it&#39;s way less secure than using socket\r\n\r\nSo is there a way to use a socket in this setup? If not, how should I run my host Docker to expose TCP instead of a socket?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Continuous_integration\r\n  [2]: https://en.wikipedia.org/wiki/Alpine_Linux\r\n  [3]: https://stackoverflow.com/questions/59579845/testcontainers-running-testcontainers-tests-inside-docker-running-docker-ins#comment106017149_59934439\r\n  [4]: https://stackoverflow.com/a/71779583/1100135\r\n\r\n\r\n","title":"How can I use Testcontainers to build a Dockerfile?","body":"<p>I want to build an application. For testing it uses testcontainers. The build will run on <a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" rel=\"nofollow noreferrer\">CI</a> and on the developers' machines. The Dockerfile is more or less:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>FROM amazoncorretto:17-alpine as builder\nadd . .\nrun ./gradlew build\n\nfrom amazoncorretto:17-alpine\ncopy --from=builder build/libs/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>And I run the build using <code>docker build .</code></p>\n<p>Part of the <code>./gradlew build</code> runs tests with Testscontainers and uses</p>\n<pre><code>val sftpDocker = GenericContainer(DockerImageName.parse(&quot;atmoz/sftp:alpine&quot;))\n</code></pre>\n<p>And it returns</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration</p>\n</blockquote>\n<p>I know that:</p>\n<ul>\n<li>Testcontainers has its own docker API client and doesn't requires installed docker inside the <a href=\"https://en.wikipedia.org/wiki/Alpine_Linux\" rel=\"nofollow noreferrer\">Alpine</a> container <a href=\"https://stackoverflow.com/questions/59579845/testcontainers-running-testcontainers-tests-inside-docker-running-docker-ins#comment106017149_59934439\">3</a></li>\n<li>Someone made it using <code>&quot;docker:20.10.14-dind&quot;</code> image. But I don't know how it fits in my problem <a href=\"https://stackoverflow.com/a/71779583/1100135\">4</a></li>\n<li>I can mount the <code>/var/run/docker.sock</code> during <code>docker run ...</code> but I'm using <code>RUN</code> command inside dockerfile and <code>docker build ...</code> instead</li>\n<li>I can expose <code>DOCKER_HOST</code> and testcontainers should use the default gateway's IP address. But it's way less secure than using socket</li>\n</ul>\n<p>So is there a way to use a socket in this setup? If not, how should I run my host Docker to expose TCP instead of a socket?</p>\n"},{"tags":["java","android","flutter","android-management-api","android-device-manager"],"answers":[{"tags":[],"owner":{"account_id":20029066,"reputation":71,"user_id":14682276,"display_name":"Gautam Bhateja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668435398,"creation_date":1668435398,"answer_id":74433062,"question_id":74241302,"body_markdown":"This thing can be done by implementing pub/sub in which I can subscribe every enterprise to a certain topic and allow ENROLLMENT notification which listens for such notifications.","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>This thing can be done by implementing pub/sub in which I can subscribe every enterprise to a certain topic and allow ENROLLMENT notification which listens for such notifications.</p>\n"},{"tags":[],"owner":{"account_id":17124311,"reputation":356,"user_id":12391896,"display_name":"Rey V. Aquino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676477087,"creation_date":1676477087,"answer_id":75462434,"question_id":74241302,"body_markdown":"To identify which enrollment token an admin used during device provisioning, you can use the [devices.get][1] method. When using this method, the following fields will provide relevant information about the token:\r\n\r\n - The [enrollmentTokenName][2] field contains the token&#39;s name.\r\n - The [enrollmentTokenData][3] field - if an enrollment token provides additional data, this field contains that data.\r\n\r\nAdditionally, you can also use [enrollmentTokens.get][4] to get more information about the enrollment used. This method gets an *active, unexpired enrollment token*, and only a partial view of EnrollmentToken is returned (all the fields but `name` and `expirationTimestamp` are empty).\r\n\r\n\r\n  [1]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices/get\r\n  [2]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:~:text=contains%20that%20data.-,enrollmentTokenName,-string\r\n  [3]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:~:text=on%20the%20device.-,enrollmentTokenData,-string\r\n  [4]: https://developers.google.com/android/management/reference/rest/v1/enterprises.enrollmentTokens/get","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>To identify which enrollment token an admin used during device provisioning, you can use the <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices/get\" rel=\"nofollow noreferrer\">devices.get</a> method. When using this method, the following fields will provide relevant information about the token:</p>\n<ul>\n<li>The <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:%7E:text=contains%20that%20data.-,enrollmentTokenName,-string\" rel=\"nofollow noreferrer\">enrollmentTokenName</a> field contains the token's name.</li>\n<li>The <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:%7E:text=on%20the%20device.-,enrollmentTokenData,-string\" rel=\"nofollow noreferrer\">enrollmentTokenData</a> field - if an enrollment token provides additional data, this field contains that data.</li>\n</ul>\n<p>Additionally, you can also use <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.enrollmentTokens/get\" rel=\"nofollow noreferrer\">enrollmentTokens.get</a> to get more information about the enrollment used. This method gets an <em>active, unexpired enrollment token</em>, and only a partial view of EnrollmentToken is returned (all the fields but <code>name</code> and <code>expirationTimestamp</code> are empty).</p>\n"}],"owner":{"account_id":20029066,"reputation":71,"user_id":14682276,"display_name":"Gautam Bhateja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74433062,"answer_count":2,"score":1,"last_activity_date":1676477087,"creation_date":1666994337,"question_id":74241302,"body_markdown":"I enroll a fully-managed device with Android Management API using qrCode.\r\n\r\nAfter enrollment, **I want to get any kind of detail of enrolmentToken or qrCode that was used to enroll the device**, so I can ping my server of the details and update the database accordingly.\r\n\r\nI want to implement this in flutter framework.","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>I enroll a fully-managed device with Android Management API using qrCode.</p>\n<p>After enrollment, <strong>I want to get any kind of detail of enrolmentToken or qrCode that was used to enroll the device</strong>, so I can ping my server of the details and update the database accordingly.</p>\n<p>I want to implement this in flutter framework.</p>\n"},{"tags":["java","aws-sdk","amazon-kinesis","amazon-kinesis-kpl"],"owner":{"account_id":27418311,"reputation":33,"user_id":20917163,"display_name":"Govind Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676477031,"creation_date":1673891921,"question_id":75137975,"body_markdown":"I am sending data to kinesis data stream using **putRecords** request **asynchronously** (500 records every time). There are 4 shards in the stream in which multiple putRecords requests continuously sends data using a for loop. But when I checked the stream metrics the Incoming data - sum (count) and Incoming data - sum (MB/s) are showing consumption very less comparatively (check screenshot). For example, The incoming data count can hold upto 1,200,000 but showing only 42,183 records being produced. I am expecting the consumption to be at-least half of the limits. \r\n\r\n**What can be reason for this behaviour?**\r\n\r\nAnd\r\n\r\n**How can I utilize the maximum capacity in the Kinesis Stream (At least half the maximum limit)**\r\n\r\nNote: There is no delay while sending the records from application\r\n\r\nCode:\r\n```\r\nAmazonKinesisAsync kinesisClient = AmazonKinesisAsyncClientBuilder.standard() // async cleint\r\n                        .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\r\n                        .withRegion(kinesisServiceConfig.getAwsRegion())\r\n                        .build();\r\n\r\nfor(long j=0; j&lt;1000000000; j++) {\r\n    PutRecordsRequest putRecordsRequest  = new PutRecordsRequest();\r\n    putRecordsRequest.setStreamName(streamName);\r\n    List &lt;PutRecordsRequestEntry&gt; putRecordsRequestEntryList  = new ArrayList&lt;&gt;(); \r\n    for (int i = 0; i &lt; 500; i++) { // 500 records kinesis limit for putRecords\r\n        PutRecordsRequestEntry putRecordsRequestEntry  = new PutRecordsRequestEntry();\r\n        putRecordsRequestEntry.setData(ByteBuffer.wrap(String.valueOf(i).getBytes()));\r\n        putRecordsRequestEntry.setPartitionKey(String.format(&quot;partitionKey-%d&quot;, i));\r\n        putRecordsRequestEntryList.add(putRecordsRequestEntry); \r\n    }\r\n\r\n    putRecordsRequest.setRecords(putRecordsRequestEntryList);\r\n    PutRecordsResult putRecordsResult  = kinesisClient.putRecords(putRecordsRequest);\r\n}\r\n    \r\n```\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WP17g.png\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/Xg2xN.png","title":"Not utilising the full capacity of Amazon Kinesis Data Stream","body":"<p>I am sending data to kinesis data stream using <strong>putRecords</strong> request <strong>asynchronously</strong> (500 records every time). There are 4 shards in the stream in which multiple putRecords requests continuously sends data using a for loop. But when I checked the stream metrics the Incoming data - sum (count) and Incoming data - sum (MB/s) are showing consumption very less comparatively (check screenshot). For example, The incoming data count can hold upto 1,200,000 but showing only 42,183 records being produced. I am expecting the consumption to be at-least half of the limits.</p>\n<p><strong>What can be reason for this behaviour?</strong></p>\n<p>And</p>\n<p><strong>How can I utilize the maximum capacity in the Kinesis Stream (At least half the maximum limit)</strong></p>\n<p>Note: There is no delay while sending the records from application</p>\n<p>Code:</p>\n<pre><code>AmazonKinesisAsync kinesisClient = AmazonKinesisAsyncClientBuilder.standard() // async cleint\n                        .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\n                        .withRegion(kinesisServiceConfig.getAwsRegion())\n                        .build();\n\nfor(long j=0; j&lt;1000000000; j++) {\n    PutRecordsRequest putRecordsRequest  = new PutRecordsRequest();\n    putRecordsRequest.setStreamName(streamName);\n    List &lt;PutRecordsRequestEntry&gt; putRecordsRequestEntryList  = new ArrayList&lt;&gt;(); \n    for (int i = 0; i &lt; 500; i++) { // 500 records kinesis limit for putRecords\n        PutRecordsRequestEntry putRecordsRequestEntry  = new PutRecordsRequestEntry();\n        putRecordsRequestEntry.setData(ByteBuffer.wrap(String.valueOf(i).getBytes()));\n        putRecordsRequestEntry.setPartitionKey(String.format(&quot;partitionKey-%d&quot;, i));\n        putRecordsRequestEntryList.add(putRecordsRequestEntry); \n    }\n\n    putRecordsRequest.setRecords(putRecordsRequestEntryList);\n    PutRecordsResult putRecordsResult  = kinesisClient.putRecords(putRecordsRequest);\n}\n    \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WP17g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WP17g.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Xg2xN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xg2xN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-bytecode-asm"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1676285463,"post_id":75434619,"comment_id":133099774,"body_markdown":"Why would you need that? This sounds like an [XY Problem](http://xyproblem.info/). It&#39;s not like there is a contiguous section of the class file that you can just take out and say &quot;this is all the bytes for the method `foo`&quot;. Sure, there is the `method_info` structure that you can get, but the information in it will not make sense unless you also have the constant pool.","body":"Why would you need that? This sounds like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. It&#39;s not like there is a contiguous section of the class file that you can just take out and say &quot;this is all the bytes for the method <code>foo</code>&quot;. Sure, there is the <code>method_info</code> structure that you can get, but the information in it will not make sense unless you also have the constant pool."},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676290597,"post_id":75434619,"comment_id":133101138,"body_markdown":"i&#39;m trying to get all methods that contains a byte pattern","body":"i&#39;m trying to get all methods that contains a byte pattern"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676291242,"post_id":75434619,"comment_id":133101318,"body_markdown":"And *why* are you doing that? What does the byte pattern mean?","body":"And <i>why</i> are you doing that? What does the byte pattern mean?"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676292438,"post_id":75434619,"comment_id":133101700,"body_markdown":"malware signature","body":"malware signature"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676370963,"post_id":75434619,"comment_id":133119178,"body_markdown":"Would it be too vague if you just searched for that byte sequence in the inputstream? or would you expect false positives?","body":"Would it be too vague if you just searched for that byte sequence in the inputstream? or would you expect false positives?"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676371455,"post_id":75434619,"comment_id":133119312,"body_markdown":"not sure i understand, somehow ASM reads the .class and knows how to split into methods, i need raw bytes of a method (for all methods)","body":"not sure i understand, somehow ASM reads the .class and knows how to split into methods, i need raw bytes of a method (for all methods)"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676379876,"creation_date":1676372488,"answer_id":75446881,"question_id":75434619,"body_markdown":"I was curios, so I inspected the [code of the ASM `ClassReader` class][1].\r\n\r\nObviously, the library understands the class file structure and &quot;knows&quot; where the actual bytecode lives.\r\n\r\nHowever, it doesn&#39;t seem to expose that raw information to the caller, but only allows visiting individual bytecode instructions.\r\n\r\nThe relevant (internal) method is [`ClassReader.readCode`][2]. As far as I know after\r\n\r\n\r\n    final int bytecodeStartOffset = currentOffset;\r\n    final int bytecodeEndOffset = currentOffset + codeLength;\r\n\r\n`bytecodeStartOffset` and `bytecodeEndOffset` hold the limits of the code attribute you seem to be interested in, but those (and the underlying `byte[]`) don&#39;t get exposed to the caller directly.\r\n\r\nYou could try to patch the method to invoke some kind new of `visitRawCode` method on the visitor and/or request such a feature from the project. But as it stands, that doesn&#39;t seem to be a supported feature.\r\n\r\n  [1]: https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java\r\n  [2]: https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java#L1535","title":"Extract method raw bytes","body":"<p>I was curios, so I inspected the <a href=\"https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java\" rel=\"nofollow noreferrer\">code of the ASM <code>ClassReader</code> class</a>.</p>\n<p>Obviously, the library understands the class file structure and &quot;knows&quot; where the actual bytecode lives.</p>\n<p>However, it doesn't seem to expose that raw information to the caller, but only allows visiting individual bytecode instructions.</p>\n<p>The relevant (internal) method is <a href=\"https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java#L1535\" rel=\"nofollow noreferrer\"><code>ClassReader.readCode</code></a>. As far as I know after</p>\n<pre><code>final int bytecodeStartOffset = currentOffset;\nfinal int bytecodeEndOffset = currentOffset + codeLength;\n</code></pre>\n<p><code>bytecodeStartOffset</code> and <code>bytecodeEndOffset</code> hold the limits of the code attribute you seem to be interested in, but those (and the underlying <code>byte[]</code>) don't get exposed to the caller directly.</p>\n<p>You could try to patch the method to invoke some kind new of <code>visitRawCode</code> method on the visitor and/or request such a feature from the project. But as it stands, that doesn't seem to be a supported feature.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676477017,"creation_date":1676474114,"answer_id":75461858,"question_id":75434619,"body_markdown":"The ASM library is not designed to provide you raw bytes. But it’s not so hard to write a dedicated class file parser for such an extraction task using the [documentation of the class file format].\r\n\r\nThe bigger problem is the idea of performing a malware signature check on the method’s raw bytecode itself.\r\n\r\nConsider the following self-contained example:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.ByteBuffer;\r\nimport java.util.HexFormat;\r\n\r\npublic class BytecodeSignature {\r\n    static class Example1 extends BytecodeSignature {\r\n        void method() throws IOException {\r\n            Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\r\n        }\r\n    }\r\n    static class Example2 extends BytecodeSignature {\r\n        void method() throws IOException {\r\n            System.console().printf(&quot;hello&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String methodName = &quot;method&quot;;\r\n\r\n        for(Class&lt;?&gt; c: BytecodeSignature.class.getDeclaredClasses()) {\r\n            System.out.println(c);\r\n            ByteBuffer buf;\r\n            try(InputStream is = c.getResourceAsStream(c.getName() + &quot;.class&quot;)) {\r\n              buf = ByteBuffer.wrap(is.readAllBytes());\r\n            }\r\n            buf.position(8);\r\n            int codeCP = 0, methodNameCP = 0;\r\n            for(int cp = 1, num = buf.getChar(); cp &lt; num; cp++) {\r\n                switch(buf.get()) {\r\n                    default -&gt; throw new IllegalStateException();\r\n                    case Module, Package, Class, String, MethodType\r\n                         -&gt; buf.position(buf.position() + 2);\r\n                    case FieldRef, MethodRef, IfMethodRef, NameAndType,\r\n                         InvokeDynamic, ConstDynamic, Int, Float\r\n                        -&gt; buf.position(buf.position() + 4);\r\n                    case Double, Long -&gt; {buf.position(buf.position() + 8); cp++;}\r\n                    case MethodHandle -&gt; buf.position(buf.position() + 3);\r\n                    case Utf8 -&gt; {\r\n                        if(lookingAt(buf, &quot;Code&quot;)) codeCP = cp;\r\n                        if(lookingAt(buf, methodName)) methodNameCP = cp;\r\n                        buf.position(buf.getChar() + buf.position());\r\n                    }\r\n                }\r\n            }\r\n            if(codeCP == 0 || methodNameCP == 0) continue;\r\n\r\n            buf.position(buf.position() + 6);\r\n            buf.position(buf.getChar() + buf.position()); // skip interfaces\r\n            for(int memberKind = 0; memberKind &lt; 2; memberKind++) {\r\n                int numMembers = buf.getChar(); // memberKind: 0 fields, 1 methods\r\n                for(int m = 0; m &lt; numMembers; m++) {\r\n                    boolean targetMethod = memberKind != 0\r\n                        &amp;&amp; buf.getChar(buf.position() + 2) == methodNameCP;\r\n                    buf.position(buf.position() + 6);\r\n                    int numAttr = buf.getChar();\r\n                    for(int a = 0; a &lt; numAttr; a++) {\r\n                        int name = buf.getChar(), length = buf.getInt();\r\n                        if(targetMethod &amp;&amp; name == codeCP) printCode(buf);\r\n                        buf.position(buf.position() + length);\r\n                    }\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    // ASCII only\r\n    private static boolean lookingAt(ByteBuffer buf, String string) {\r\n        int pos = buf.position();\r\n        int num = buf.getChar(pos);\r\n        if(num != string.length()) return false;\r\n        pos += 2;\r\n        for(int six = 0; six &lt; num; six++, pos++)\r\n            if(buf.get(pos) != string.charAt(six)) return false;\r\n        return true;\r\n    }\r\n\r\n    private static void printCode(ByteBuffer buf) {\r\n        int offset = buf.arrayOffset() + buf.position() + 8;\r\n        int length = buf.getInt(buf.position() + 4);\r\n        System.out.println(HexFormat.ofDelimiter(&quot; &quot;)\r\n            .formatHex(buf.array(), offset, offset + length));\r\n    }\r\n\r\n    private static final byte Utf8 = 1, Int = 3, Float = 4, Long = 5, Double = 6,\r\n        Class = 7, String = 8, FieldRef = 9, MethodRef = 10, IfMethodRef = 11,\r\n        NameAndType = 12, MethodHandle = 15, MethodType = 16,\r\n        ConstDynamic = 17, InvokeDynamic = 18, Module = 19, Package = 20;\r\n}\r\n```\r\n\r\nThis prints\r\n\r\n```lang-none\r\nclass BytecodeSignature$Example1\r\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\r\n\r\nclass BytecodeSignature$Example2\r\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\r\n```\r\nwhen compiled with Eclipse and\r\n\r\n```lang-none\r\nclass BytecodeSignature$Example2\r\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\r\n\r\nclass BytecodeSignature$Example1\r\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\r\n```\r\n\r\nwhen compiled with JDK&#160;17’s javac.\r\n\r\nResults may vary, but it does already demonstrates that the harmless\r\n```java\r\nSystem.console().printf(&quot;hello&quot;);\r\n```\r\n\r\nproduces exactly the same bytecode as the potentially problematic\r\n```java\r\nRuntime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\r\n```\r\nwhen compiled with the same compiler, while the identical code may produce different bytecode when compiled with a different compiler. It may also differ depending on other conditions outside the method.\r\n\r\nThe reason is that the critical aspect of these methods is not the code structure (which is identical), but which classes, members, and string constants have been used and these artifacts are not stored in the method but in the constant pool.\r\n\r\nDecoding the sequence `b8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1` yields\r\n\r\n```lang-none\r\n  0 invokestatic  [18]    // [7] with javac\r\n  3 ldc           [24]    // [13] with javac\r\n  5 iconst_0\r\n  6 anewarray     [26]    // [15] with javac\r\n  9 invokevirtual [28]    // [17] with javac\r\n 12 pop\r\n 13 return\r\n```\r\nThose differing numbers are indices into the constant pool. The indices depend on whether the constants are shared with other members, have been encountered before by the compiler, or whether the compiler has a sorting strategy for the constants.\r\n\r\nBut not on the actual value.\r\n\r\nSo you can’t tell these two methods apart by looking at the raw bytes and you can’t recognize an already known method by looking at the raw bytes (when subtle unrelated things changed).\r\n\r\nThere is no way around parsing the bytecode and incorporating the referenced constants. But the good news is, the ASM library has an API to do exactly that, decoding the instructions and the referenced constants for you…\r\n\r\n[documentation of the class file format]: https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html","title":"Extract method raw bytes","body":"<p>The ASM library is not designed to provide you raw bytes. But it’s not so hard to write a dedicated class file parser for such an extraction task using the <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html\" rel=\"nofollow noreferrer\">documentation of the class file format</a>.</p>\n<p>The bigger problem is the idea of performing a malware signature check on the method’s raw bytecode itself.</p>\n<p>Consider the following self-contained example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.ByteBuffer;\nimport java.util.HexFormat;\n\npublic class BytecodeSignature {\n    static class Example1 extends BytecodeSignature {\n        void method() throws IOException {\n            Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\n        }\n    }\n    static class Example2 extends BytecodeSignature {\n        void method() throws IOException {\n            System.console().printf(&quot;hello&quot;);\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        String methodName = &quot;method&quot;;\n\n        for(Class&lt;?&gt; c: BytecodeSignature.class.getDeclaredClasses()) {\n            System.out.println(c);\n            ByteBuffer buf;\n            try(InputStream is = c.getResourceAsStream(c.getName() + &quot;.class&quot;)) {\n              buf = ByteBuffer.wrap(is.readAllBytes());\n            }\n            buf.position(8);\n            int codeCP = 0, methodNameCP = 0;\n            for(int cp = 1, num = buf.getChar(); cp &lt; num; cp++) {\n                switch(buf.get()) {\n                    default -&gt; throw new IllegalStateException();\n                    case Module, Package, Class, String, MethodType\n                         -&gt; buf.position(buf.position() + 2);\n                    case FieldRef, MethodRef, IfMethodRef, NameAndType,\n                         InvokeDynamic, ConstDynamic, Int, Float\n                        -&gt; buf.position(buf.position() + 4);\n                    case Double, Long -&gt; {buf.position(buf.position() + 8); cp++;}\n                    case MethodHandle -&gt; buf.position(buf.position() + 3);\n                    case Utf8 -&gt; {\n                        if(lookingAt(buf, &quot;Code&quot;)) codeCP = cp;\n                        if(lookingAt(buf, methodName)) methodNameCP = cp;\n                        buf.position(buf.getChar() + buf.position());\n                    }\n                }\n            }\n            if(codeCP == 0 || methodNameCP == 0) continue;\n\n            buf.position(buf.position() + 6);\n            buf.position(buf.getChar() + buf.position()); // skip interfaces\n            for(int memberKind = 0; memberKind &lt; 2; memberKind++) {\n                int numMembers = buf.getChar(); // memberKind: 0 fields, 1 methods\n                for(int m = 0; m &lt; numMembers; m++) {\n                    boolean targetMethod = memberKind != 0\n                        &amp;&amp; buf.getChar(buf.position() + 2) == methodNameCP;\n                    buf.position(buf.position() + 6);\n                    int numAttr = buf.getChar();\n                    for(int a = 0; a &lt; numAttr; a++) {\n                        int name = buf.getChar(), length = buf.getInt();\n                        if(targetMethod &amp;&amp; name == codeCP) printCode(buf);\n                        buf.position(buf.position() + length);\n                    }\n                }\n            }\n            System.out.println();\n        }\n    }\n\n    // ASCII only\n    private static boolean lookingAt(ByteBuffer buf, String string) {\n        int pos = buf.position();\n        int num = buf.getChar(pos);\n        if(num != string.length()) return false;\n        pos += 2;\n        for(int six = 0; six &lt; num; six++, pos++)\n            if(buf.get(pos) != string.charAt(six)) return false;\n        return true;\n    }\n\n    private static void printCode(ByteBuffer buf) {\n        int offset = buf.arrayOffset() + buf.position() + 8;\n        int length = buf.getInt(buf.position() + 4);\n        System.out.println(HexFormat.ofDelimiter(&quot; &quot;)\n            .formatHex(buf.array(), offset, offset + length));\n    }\n\n    private static final byte Utf8 = 1, Int = 3, Float = 4, Long = 5, Double = 6,\n        Class = 7, String = 8, FieldRef = 9, MethodRef = 10, IfMethodRef = 11,\n        NameAndType = 12, MethodHandle = 15, MethodType = 16,\n        ConstDynamic = 17, InvokeDynamic = 18, Module = 19, Package = 20;\n}\n</code></pre>\n<p>This prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>class BytecodeSignature$Example1\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\n\nclass BytecodeSignature$Example2\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\n</code></pre>\n<p>when compiled with Eclipse and</p>\n<pre class=\"lang-none prettyprint-override\"><code>class BytecodeSignature$Example2\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\n\nclass BytecodeSignature$Example1\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\n</code></pre>\n<p>when compiled with JDK 17’s javac.</p>\n<p>Results may vary, but it does already demonstrates that the harmless</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.console().printf(&quot;hello&quot;);\n</code></pre>\n<p>produces exactly the same bytecode as the potentially problematic</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\n</code></pre>\n<p>when compiled with the same compiler, while the identical code may produce different bytecode when compiled with a different compiler. It may also differ depending on other conditions outside the method.</p>\n<p>The reason is that the critical aspect of these methods is not the code structure (which is identical), but which classes, members, and string constants have been used and these artifacts are not stored in the method but in the constant pool.</p>\n<p>Decoding the sequence <code>b8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1</code> yields</p>\n<pre class=\"lang-none prettyprint-override\"><code>  0 invokestatic  [18]    // [7] with javac\n  3 ldc           [24]    // [13] with javac\n  5 iconst_0\n  6 anewarray     [26]    // [15] with javac\n  9 invokevirtual [28]    // [17] with javac\n 12 pop\n 13 return\n</code></pre>\n<p>Those differing numbers are indices into the constant pool. The indices depend on whether the constants are shared with other members, have been encountered before by the compiler, or whether the compiler has a sorting strategy for the constants.</p>\n<p>But not on the actual value.</p>\n<p>So you can’t tell these two methods apart by looking at the raw bytes and you can’t recognize an already known method by looking at the raw bytes (when subtle unrelated things changed).</p>\n<p>There is no way around parsing the bytecode and incorporating the referenced constants. But the good news is, the ASM library has an API to do exactly that, decoding the instructions and the referenced constants for you…</p>\n"}],"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676477017,"creation_date":1676283834,"question_id":75434619,"body_markdown":"How to extract method raw bytes using ASM ?\r\n\r\nI need a map of method signatures* and raw bytes\r\n\r\n\r\n```java\r\nClassReader classReader = new ClassReader(artifact.getInputStream(jarEntry));\r\nclassReader.accept(new MethodVisitor(Opcodes.ASM9) {\r\n    @Override\r\n    public void visitEnd() {\r\n        super.visitEnd(); \r\n        byte[] methodRawBytes = this.?                \r\n    }\r\n}, 0);\r\n```\r\n\r\nhacks/reflection-based answers are welcome\r\n\r\n\r\n\r\n\r\n*Method signature in a ByteCode format like `Lcom/foo/CustomClass;-&gt;methodName(Ljava/lang/String;B)V`\r\n","title":"Extract method raw bytes","body":"<p>How to extract method raw bytes using ASM ?</p>\n<p>I need a map of method signatures* and raw bytes</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassReader classReader = new ClassReader(artifact.getInputStream(jarEntry));\nclassReader.accept(new MethodVisitor(Opcodes.ASM9) {\n    @Override\n    public void visitEnd() {\n        super.visitEnd(); \n        byte[] methodRawBytes = this.?                \n    }\n}, 0);\n</code></pre>\n<p>hacks/reflection-based answers are welcome</p>\n<p>*Method signature in a ByteCode format like <code>Lcom/foo/CustomClass;-&gt;methodName(Ljava/lang/String;B)V</code></p>\n"},{"tags":["java","sorting"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676447384,"creation_date":1676447384,"answer_id":75456823,"question_id":75456371,"body_markdown":"Use a map:\r\n\r\n```\r\nMap&lt;String, Integer&gt; counts = Map.of(\r\n        &quot;carrots&quot;, carrots,\r\n        &quot;mushrooms&quot;, mushrooms,\r\n        &quot;salads&quot;, salads,\r\n        &quot;tomatoes&quot;, tomatoes\r\n);\r\ncounts.entrySet().stream() // Stream&lt;Map.Entry&lt;String, Integer&gt;&gt;\r\n        .filter(e -&gt; e.getValue() &gt; 0)\r\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().thenComparing(Map.Entry.comparingByKey()))\r\n        .forEach(e -&gt; System.out.printf(&quot;%s: [%d]%n&quot;, e.getKey(), e.getValue()));\r\n```\r\nI know that `.&lt;String, Integer&gt;` is ugly, but Java&#39;s type inference can&#39;t see past the first call in method chains. This tells the compiler that the the first method in the method chain uses `String` and `Integer` as generic types.","title":"Sorting integers in Java with extra condition","body":"<p>Use a map:</p>\n<pre><code>Map&lt;String, Integer&gt; counts = Map.of(\n        &quot;carrots&quot;, carrots,\n        &quot;mushrooms&quot;, mushrooms,\n        &quot;salads&quot;, salads,\n        &quot;tomatoes&quot;, tomatoes\n);\ncounts.entrySet().stream() // Stream&lt;Map.Entry&lt;String, Integer&gt;&gt;\n        .filter(e -&gt; e.getValue() &gt; 0)\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().thenComparing(Map.Entry.comparingByKey()))\n        .forEach(e -&gt; System.out.printf(&quot;%s: [%d]%n&quot;, e.getKey(), e.getValue()));\n</code></pre>\n<p>I know that <code>.&lt;String, Integer&gt;</code> is ugly, but Java's type inference can't see past the first call in method chains. This tells the compiler that the the first method in the method chain uses <code>String</code> and <code>Integer</code> as generic types.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676450325,"creation_date":1676449981,"answer_id":75457167,"question_id":75456371,"body_markdown":"This is a bit of an academic approach. The other answer is a better practical approach.\r\n\r\nSince the arguments are already alphabetical, and java&#39;s sort algorithm is stable. ie if the two values are the same, then they&#39;ll stay in the same order, then.\r\n\r\n    List&lt;Integer&gt; amount = new ArrayList&lt;&gt;(List.of(carrots, mushrooms, salads, tomatoes));\r\n    List&lt;Integer&gt; sorted new ArrayList&lt;&gt;(amount);\r\n    sorted.sort(Integer::compare);\r\n\r\nNow you can map the items back because the order doesn&#39;t change when they&#39;re equal.\r\n    \r\n    String[] names = {&quot;carrots&quot;, &quot;mushrooms&quot;, &quot;salads&quot;, &quot;tomatoes&quot;};\r\n\r\n    for(Integer i: sorted){\r\n        if(i == 0) continue; //skip zero values.\r\n\r\n        int j = amount.indexOf(i);\r\n        System.out.println( names[j] + &quot; : &quot; + i );\r\n        amount.set(j, -1);\r\n    }\r\n\r\nIf the values are all unique, then it is obvious how this works. It finds the index of the value, and prints the corresponding name. \r\n\r\nWhen there are duplicates, the alphabetically lowest name is printed first. The value is replaced with `-1` so that subsequent calls to &quot;indexOf&quot; return the next valid index.","title":"Sorting integers in Java with extra condition","body":"<p>This is a bit of an academic approach. The other answer is a better practical approach.</p>\n<p>Since the arguments are already alphabetical, and java's sort algorithm is stable. ie if the two values are the same, then they'll stay in the same order, then.</p>\n<pre><code>List&lt;Integer&gt; amount = new ArrayList&lt;&gt;(List.of(carrots, mushrooms, salads, tomatoes));\nList&lt;Integer&gt; sorted new ArrayList&lt;&gt;(amount);\nsorted.sort(Integer::compare);\n</code></pre>\n<p>Now you can map the items back because the order doesn't change when they're equal.</p>\n<pre><code>String[] names = {&quot;carrots&quot;, &quot;mushrooms&quot;, &quot;salads&quot;, &quot;tomatoes&quot;};\n\nfor(Integer i: sorted){\n    if(i == 0) continue; //skip zero values.\n\n    int j = amount.indexOf(i);\n    System.out.println( names[j] + &quot; : &quot; + i );\n    amount.set(j, -1);\n}\n</code></pre>\n<p>If the values are all unique, then it is obvious how this works. It finds the index of the value, and prints the corresponding name.</p>\n<p>When there are duplicates, the alphabetically lowest name is printed first. The value is replaced with <code>-1</code> so that subsequent calls to &quot;indexOf&quot; return the next valid index.</p>\n"}],"owner":{"account_id":27790457,"reputation":3,"user_id":21216994,"display_name":"casual Coffee enjoyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75457167,"answer_count":2,"score":-2,"last_activity_date":1676476629,"creation_date":1676443962,"question_id":75456371,"body_markdown":"I want to sort a few variables (int) by size with the added condition, that when two are equal they should be sorted alphabetically. More specifically:\r\n\r\nI have the following method:\r\n\r\n```\r\npublic void doSomething(int carrots, int mushrooms, int salads, int tomatoes) {\r\n    //Here I want to print them in the right order\r\n}\r\n```\r\n\r\nThe printed lines should have the format: &quot;mushrooms: [amount]&quot;\r\nAnd only lines which are not 0 should be printed.\r\nThese things I can manage on my own however.\r\n\r\nI have tried to put them all in a List and sort them, but then its basically impossible to map them back to their names.\r\nI don&#39;t really know where to go from here.","title":"Sorting integers in Java with extra condition","body":"<p>I want to sort a few variables (int) by size with the added condition, that when two are equal they should be sorted alphabetically. More specifically:</p>\n<p>I have the following method:</p>\n<pre><code>public void doSomething(int carrots, int mushrooms, int salads, int tomatoes) {\n    //Here I want to print them in the right order\n}\n</code></pre>\n<p>The printed lines should have the format: &quot;mushrooms: [amount]&quot;\nAnd only lines which are not 0 should be printed.\nThese things I can manage on my own however.</p>\n<p>I have tried to put them all in a List and sort them, but then its basically impossible to map them back to their names.\nI don't really know where to go from here.</p>\n"},{"tags":["java","gradle","testing","java-test-fixtures"],"owner":{"account_id":1345093,"reputation":2590,"user_id":1286009,"accept_rate":75,"display_name":"Hendrik Ebbers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676476427,"creation_date":1676476427,"question_id":75462300,"body_markdown":"I would like to add the `java-test-fixtures` plugin to a custom conventions plugin under `buildSrc` that I simply add to any of my modules. By doing so I only need to add my custom conventions plugin instead of having multiple (and different) plugins for each  sub-module. By doing so the build won&#39;t work anymore if a sub-module does not have a test fixtures source set (`/src/testFixtures/java/...`). Is there any way in Gradle to make the usage of `java-test-fixtures` optional?","title":"Optional testFixtures in Gradle","body":"<p>I would like to add the <code>java-test-fixtures</code> plugin to a custom conventions plugin under <code>buildSrc</code> that I simply add to any of my modules. By doing so I only need to add my custom conventions plugin instead of having multiple (and different) plugins for each  sub-module. By doing so the build won't work anymore if a sub-module does not have a test fixtures source set (<code>/src/testFixtures/java/...</code>). Is there any way in Gradle to make the usage of <code>java-test-fixtures</code> optional?</p>\n"},{"tags":["java","spring-boot","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":10183527,"reputation":2074,"user_id":7519419,"display_name":"Vladas Maier"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1540990063,"creation_date":1539262893,"answer_id":52760718,"question_id":41801387,"body_markdown":"I am using Springfox version 2.8.0 and following code snippet works for my documented API:\r\n\r\n    @Bean\r\n    UiConfiguration uiConfig() {\r\n        return UiConfigurationBuilder\r\n                .builder()\r\n                .operationsSorter(OperationsSorter.METHOD)\r\n                \r\n                ...\r\n                \r\n                .build();\r\n    }\r\n\r\nThere are 2 possible values:\r\n\r\n - `OperationsSorter.ALPHA` - sorts API endpoints alphabetically by **path**\r\n - `OperationsSorter.METHOD` - sorts API endpoints alphabetically by **method** \r\n\r\n`OperationsSorter.METHOD` is what you are looking for.\r\n\r\n---\r\n\r\n**Alternative** by using `operationOrdering()`:\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n            .select()\r\n            .apis(RequestHandlerSelectors.any())\r\n            .paths(PathSelectors.any())\r\n            .build()\r\n\r\n            ...\r\n\r\n            .operationOrdering(new Ordering&lt;Operation&gt;() {\r\n                @Override\r\n                public int compare(Operation left, Operation right) {\r\n                    return left.getMethod().name().compareTo(right.getMethod().name());\r\n                }\r\n            })\r\n    }\r\n\r\nHowever, this does not work because of a bug in Springfox which seems to be still active ([Operation ordering is not working][1]).\r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/1648","title":"Swagger API Operations Ordering","body":"<p>I am using Springfox version 2.8.0 and following code snippet works for my documented API:</p>\n\n<pre><code>@Bean\nUiConfiguration uiConfig() {\n    return UiConfigurationBuilder\n            .builder()\n            .operationsSorter(OperationsSorter.METHOD)\n\n            ...\n\n            .build();\n}\n</code></pre>\n\n<p>There are 2 possible values:</p>\n\n<ul>\n<li><code>OperationsSorter.ALPHA</code> - sorts API endpoints alphabetically by <strong>path</strong></li>\n<li><code>OperationsSorter.METHOD</code> - sorts API endpoints alphabetically by <strong>method</strong> </li>\n</ul>\n\n<p><code>OperationsSorter.METHOD</code> is what you are looking for.</p>\n\n<hr>\n\n<p><strong>Alternative</strong> by using <code>operationOrdering()</code>:</p>\n\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.any())\n        .paths(PathSelectors.any())\n        .build()\n\n        ...\n\n        .operationOrdering(new Ordering&lt;Operation&gt;() {\n            @Override\n            public int compare(Operation left, Operation right) {\n                return left.getMethod().name().compareTo(right.getMethod().name());\n            }\n        })\n}\n</code></pre>\n\n<p>However, this does not work because of a bug in Springfox which seems to be still active (<a href=\"https://github.com/springfox/springfox/issues/1648\" rel=\"noreferrer\">Operation ordering is not working</a>).</p>\n"},{"tags":[],"owner":{"account_id":1878420,"reputation":41,"user_id":1699105,"display_name":"Tran Dinh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581068120,"creation_date":1581068120,"answer_id":60110686,"question_id":41801387,"body_markdown":"    @Bean\r\n    public UiConfiguration uiConfig() {\r\n        return UiConfigurationBuilder\r\n                .builder()\r\n                .operationsSorter(OperationsSorter.METHOD)\r\n                .build();\r\n    }\r\nThis works for me. I&#39;m using Spring Boot 2.2.0.M6, Swagger UI 2.9.2","title":"Swagger API Operations Ordering","body":"<pre><code>@Bean\npublic UiConfiguration uiConfig() {\n    return UiConfigurationBuilder\n            .builder()\n            .operationsSorter(OperationsSorter.METHOD)\n            .build();\n}\n</code></pre>\n\n<p>This works for me. I'm using Spring Boot 2.2.0.M6, Swagger UI 2.9.2</p>\n"},{"tags":[],"owner":{"account_id":66358,"reputation":6551,"user_id":194715,"display_name":"mp31415"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1615742916,"creation_date":1615742916,"answer_id":66627532,"question_id":41801387,"body_markdown":"With **Spring Boot 2.4** and **OpenAPI** the following properties in **application.properties** may be of interest:\r\n- springdoc.swagger-ui.**tagsSorter**=alpha\r\n- springdoc.swagger-ui.**operations-sorter**=alpha\r\n","title":"Swagger API Operations Ordering","body":"<p>With <strong>Spring Boot 2.4</strong> and <strong>OpenAPI</strong> the following properties in <strong>application.properties</strong> may be of interest:</p>\n<ul>\n<li>springdoc.swagger-ui.<strong>tagsSorter</strong>=alpha</li>\n<li>springdoc.swagger-ui.<strong>operations-sorter</strong>=alpha</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671272955,"creation_date":1671272955,"answer_id":74833364,"question_id":41801387,"body_markdown":"`springdoc.swagger-ui.operations-sorter` does not work in  `v3/api-docs`.\r\n\r\nFor  alphabetical ordering in `v3/api-docs` use : \r\n\r\n    springdoc.writer-with-order-by-keys=true","title":"Swagger API Operations Ordering","body":"<p><code>springdoc.swagger-ui.operations-sorter</code> does not work in  <code>v3/api-docs</code>.</p>\n<p>For  alphabetical ordering in <code>v3/api-docs</code> use :</p>\n<pre><code>springdoc.writer-with-order-by-keys=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294145,"reputation":1272,"user_id":2016070,"accept_rate":0,"display_name":"Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676476401,"creation_date":1676476401,"answer_id":75462296,"question_id":41801387,"body_markdown":"Add this to your application.properties file\r\n\r\n    springdoc.swagger-ui.operationsSorter=method\r\n    springdoc.swagger-ui.tagsSorter=alpha\r\n\r\nResult :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qABXr.png","title":"Swagger API Operations Ordering","body":"<p>Add this to your application.properties file</p>\n<pre><code>springdoc.swagger-ui.operationsSorter=method\nspringdoc.swagger-ui.tagsSorter=alpha\n</code></pre>\n<p>Result :\n<a href=\"https://i.stack.imgur.com/qABXr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qABXr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23920,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1676476401,"creation_date":1485157579,"question_id":41801387,"body_markdown":"How do I sort my operation by method alphabetically e.g. **DELETE**, **GET**, **POST**, **PUT**.\r\n\r\nI have read from this post but it is in HTML but in my case, I have integrated Swagger into Spring Boot so I need to sort it when creating a Docket.\r\n\r\n[Sort API methods in Swagger UI][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui\r\n\r\nThen I noticed this method `operationOrdering()` in Docket, but I still cannot make it work.","title":"Swagger API Operations Ordering","body":"<p>How do I sort my operation by method alphabetically e.g. <strong>DELETE</strong>, <strong>GET</strong>, <strong>POST</strong>, <strong>PUT</strong>.</p>\n\n<p>I have read from this post but it is in HTML but in my case, I have integrated Swagger into Spring Boot so I need to sort it when creating a Docket.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui\">Sort API methods in Swagger UI</a></p>\n\n<p>Then I noticed this method <code>operationOrdering()</code> in Docket, but I still cannot make it work.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671700051,"creation_date":1671700051,"answer_id":74886295,"question_id":74879382,"body_markdown":"Perhaps this will help:\r\n```java\r\nclass ContextloadApplicationTests {\r\n    @Test\r\n    void contextLoadsError() {\r\n        // set environment variables here\r\n        Assertions.assertThrows(UnsatisfiedDependencyException.class, () -&gt; {\r\n            ApplicationContext context = \r\n                new AnnotationConfigApplicationContext(&quot;com.example.contextload&quot;);\r\n        });\r\n    }\r\n}\r\n```\r\nThis will try to load application context aand expect that it is incorrect.","title":"How can I test that a Spring Boot application fails to build context?","body":"<p>Perhaps this will help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ContextloadApplicationTests {\n    @Test\n    void contextLoadsError() {\n        // set environment variables here\n        Assertions.assertThrows(UnsatisfiedDependencyException.class, () -&gt; {\n            ApplicationContext context = \n                new AnnotationConfigApplicationContext(&quot;com.example.contextload&quot;);\n        });\n    }\n}\n</code></pre>\n<p>This will try to load application context aand expect that it is incorrect.</p>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676476183,"creation_date":1671642037,"question_id":74879382,"body_markdown":"I want to test that my conditional configuration fails if a specific environment variable is wrongly set. I&#39;d like to have a test that sets some test environment properties and assert that the Spring context failed to start. How can I do that?\r\n\r\nSpring Boot offers `@SpringBootTest`, but it requires the Spring configuration to be correct, and I want to test the opposite scenario.\r\n","title":"How can I test that a Spring Boot application fails to build context?","body":"<p>I want to test that my conditional configuration fails if a specific environment variable is wrongly set. I'd like to have a test that sets some test environment properties and assert that the Spring context failed to start. How can I do that?</p>\n<p>Spring Boot offers <code>@SpringBootTest</code>, but it requires the Spring configuration to be correct, and I want to test the opposite scenario.</p>\n"},{"tags":["java","maven","kotlin","integration-testing","maven-surefire-plugin"],"comments":[{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":3,"creation_date":1554908469,"post_id":55609640,"comment_id":97924907,"body_markdown":"First, try using the same version of the surefire and failsafe plugins. They are closely related. Not sure it will fix anything, but IMO consistency is the first step.","body":"First, try using the same version of the surefire and failsafe plugins. They are closely related. Not sure it will fix anything, but IMO consistency is the first step."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1554908653,"post_id":55609640,"comment_id":97925042,"body_markdown":"Also, the `&lt;useSystemClassLoader&gt;` attribute was added to the Surefire config, but it&#39;s Failsafe that&#39;s having the problem.","body":"Also, the <code>&lt;useSystemClassLoader&gt;</code> attribute was added to the Surefire config, but it&#39;s Failsafe that&#39;s having the problem."},{"owner":{"account_id":11673442,"reputation":390,"user_id":8547799,"display_name":"Tns"},"score":6,"creation_date":1559577246,"post_id":55609640,"comment_id":99455934,"body_markdown":"For Spring Boot see https://stackoverflow.com/a/50804520/8547799 and https://github.com/spring-projects/spring-boot/issues/6254","body":"For Spring Boot see <a href=\"https://stackoverflow.com/a/50804520/8547799\">stackoverflow.com/a/50804520/8547799</a> and <a href=\"https://github.com/spring-projects/spring-boot/issues/6254\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/6254</a>"},{"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"score":0,"creation_date":1576756451,"post_id":55609640,"comment_id":105005606,"body_markdown":"Are you using jmockit?","body":"Are you using jmockit?"}],"answers":[{"tags":[],"owner":{"account_id":3751971,"reputation":141,"user_id":3119291,"display_name":"user3119291"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633693821,"creation_date":1633693821,"answer_id":69495385,"question_id":55609640,"body_markdown":"Faced the same problem, sovled it by adding **target/classes** as additional classpath elements. It feels a little bit dirty but works:\r\n\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;additionalClasspathElements&gt;\r\n            &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\r\n          &lt;/additionalClasspathElements&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>Faced the same problem, sovled it by adding <strong>target/classes</strong> as additional classpath elements. It feels a little bit dirty but works:</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\n          &lt;/additionalClasspathElements&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3088921,"reputation":1890,"user_id":2615510,"display_name":"Andrey Lebedenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676476086,"creation_date":1676476086,"answer_id":75462239,"question_id":55609640,"body_markdown":"I&#39;ve faced this issue while migrating the Spring Boot project to JDK 17. In the end, the `failsafe` section of the `pom.xml` looked like this:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;integration-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;integration-test&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;verify&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n          &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n          &lt;argLine&gt;@{argLine}&lt;/argLine&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;**/*IT.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n          &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\r\n          &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n            &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>I've faced this issue while migrating the Spring Boot project to JDK 17. In the end, the <code>failsafe</code> section of the <code>pom.xml</code> looked like this:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;integration-test&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;integration-test&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;verify&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;verify&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;forkCount&gt;1&lt;/forkCount&gt;\n      &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n      &lt;argLine&gt;@{argLine}&lt;/argLine&gt;\n      &lt;includes&gt;\n        &lt;include&gt;**/*IT.java&lt;/include&gt;\n      &lt;/includes&gt;\n      &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\n      &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n        &lt;version&gt;2.22.2&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4081,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1676476086,"creation_date":1554889953,"question_id":55609640,"body_markdown":"Setup: Kotlin integration tests in a spring boot application.\r\n\r\nTests work fine when I run them with IntelliJ.\r\nWhen I try to run the integration tests with maven, though:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test (default) on project myapp: Execution default of goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test failed: There was an error in the forked process\r\n[ERROR] java.lang.NoClassDefFoundError: ch/cypherk/myapp/service/CustomerService\r\n[ERROR]         at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n[ERROR]         at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3138)\r\n[ERROR]         at java.base/java.lang.Class.getConstructor0(Class.java:3343)\r\n[ERROR]         at java.base/java.lang.Class.getConstructor(Class.java:2152)\r\n[ERROR]         at org.apache.maven.surefire.junit.PojoAndJUnit3Checker.isPojoTest(PojoAndJUnit3Checker.java:51)\r\n...\r\n```\r\nwhich is very annoying since I kind of need bamboo to run the darn things.\r\n\r\nThe `CustomerService` is an interface and yes, it is compiled, there&#39;s a corresponding `.class` file in maven&#39;s `./target` directory and IntelliJ is set up to use the same.\r\n\r\nCan&#39;t quite figure out why this is failing and would appreciate some help with the plugin.\r\n\r\nRelavant excerpt from the `pom.xml`:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.22.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!-- doesn&#39;t make a difference if `true` or `false`--&gt;\r\n        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**/*IT*&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;**/ui/*&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\nFull `pom.xml`: http://freetexthost.com/dbghyawijj\r\n\r\nFull log of the failing integration test step: http://freetexthost.com/gbsmd3mwm2","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>Setup: Kotlin integration tests in a spring boot application.</p>\n\n<p>Tests work fine when I run them with IntelliJ.\nWhen I try to run the integration tests with maven, though:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test (default) on project myapp: Execution default of goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test failed: There was an error in the forked process\n[ERROR] java.lang.NoClassDefFoundError: ch/cypherk/myapp/service/CustomerService\n[ERROR]         at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n[ERROR]         at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3138)\n[ERROR]         at java.base/java.lang.Class.getConstructor0(Class.java:3343)\n[ERROR]         at java.base/java.lang.Class.getConstructor(Class.java:2152)\n[ERROR]         at org.apache.maven.surefire.junit.PojoAndJUnit3Checker.isPojoTest(PojoAndJUnit3Checker.java:51)\n...\n</code></pre>\n\n<p>which is very annoying since I kind of need bamboo to run the darn things.</p>\n\n<p>The <code>CustomerService</code> is an interface and yes, it is compiled, there's a corresponding <code>.class</code> file in maven's <code>./target</code> directory and IntelliJ is set up to use the same.</p>\n\n<p>Can't quite figure out why this is failing and would appreciate some help with the plugin.</p>\n\n<p>Relavant excerpt from the <code>pom.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!-- doesn't make a difference if `true` or `false`--&gt;\n        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*IT*&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/ui/*&lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Full <code>pom.xml</code>: <a href=\"http://freetexthost.com/dbghyawijj\" rel=\"noreferrer\">http://freetexthost.com/dbghyawijj</a></p>\n\n<p>Full log of the failing integration test step: <a href=\"http://freetexthost.com/gbsmd3mwm2\" rel=\"noreferrer\">http://freetexthost.com/gbsmd3mwm2</a></p>\n"},{"tags":["java","generics","mockito"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668434375,"creation_date":1668429658,"answer_id":74431818,"question_id":74426274,"body_markdown":"As stated in the [documentation of `ArgumentCaptor`][ArgumentCaptor] although this class is generic, it doesn&#39;t perform any validation:\r\n\r\n&gt; This utility class **don&#39;t do any type checks**, the generic signatures are only there to avoid casting in your code. \r\n\r\n\r\nHence, if you make use of row types it wouldn&#39;t be less type-safe, but there&#39;s a drawback - the compiler will issue a warning.\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.forClass(Consumer.class);\r\n```\r\n\r\nThere&#39;s a cleaner option which also mentioned in the documentation linked above, namely to declare the captor as a field and annotate it with [`@Captor`][@Captor].\r\n\r\n```\r\n@Captor\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor;\r\n```\r\n\r\n   [ArgumentCaptor]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/ArgumentCaptor.html\r\n\r\n\r\n   [@Captor]: https://javadoc.io/doc/org.mockito/mockito-core/2.7.9/org/mockito/Captor.html","title":"Generics and ArgumentCaptor in Mockito","body":"<p>As stated in the <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/ArgumentCaptor.html\" rel=\"nofollow noreferrer\">documentation of <code>ArgumentCaptor</code></a> although this class is generic, it doesn't perform any validation:</p>\n<blockquote>\n<p>This utility class <strong>don't do any type checks</strong>, the generic signatures are only there to avoid casting in your code.</p>\n</blockquote>\n<p>Hence, if you make use of row types it wouldn't be less type-safe, but there's a drawback - the compiler will issue a warning.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.forClass(Consumer.class);\n</code></pre>\n<p>There's a cleaner option which also mentioned in the documentation linked above, namely to declare the captor as a field and annotate it with <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/2.7.9/org/mockito/Captor.html\" rel=\"nofollow noreferrer\"><code>@Captor</code></a>.</p>\n<pre><code>@Captor\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor;\n</code></pre>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74431818,"answer_count":1,"score":0,"last_activity_date":1676475804,"creation_date":1668391777,"question_id":74426274,"body_markdown":"In Mockito&#39;s verify I want to capture an argument of type `Consumer&lt;String&gt;`. How should I write the line to avoid type erasure?\r\n\r\nI&#39;m reached this point and it doesn&#39;t compile:\r\n\r\n```\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.&lt;Consumer&lt;String&gt;, Consumer&lt;String&gt;&gt;forClass(Consumer&lt;String&gt;.class);\r\n```\r\n\r\nHow can I do it?\r\n\r\n","title":"Generics and ArgumentCaptor in Mockito","body":"<p>In Mockito's verify I want to capture an argument of type <code>Consumer&lt;String&gt;</code>. How should I write the line to avoid type erasure?</p>\n<p>I'm reached this point and it doesn't compile:</p>\n<pre><code>ArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.&lt;Consumer&lt;String&gt;, Consumer&lt;String&gt;&gt;forClass(Consumer&lt;String&gt;.class);\n</code></pre>\n<p>How can I do it?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1676468371,"post_id":75460431,"comment_id":133142206,"body_markdown":"`charAt` returns a `char` which is a numerical value, representing the ascii value of that character. If you take a look at an ascii table, 50 represents the character `&#39;2&#39;`. You can convert individual digits using `int j= str1.charAt(1)-&#39;0&#39;`.","body":"<code>charAt</code> returns a <code>char</code> which is a numerical value, representing the ascii value of that character. If you take a look at an ascii table, 50 represents the character <code>&#39;2&#39;</code>. You can convert individual digits using <code>int j= str1.charAt(1)-&#39;0&#39;</code>."}],"answers":[{"tags":[],"owner":{"account_id":22166461,"reputation":104,"user_id":16412574,"display_name":"Sheikh Farid"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676469046,"creation_date":1676469046,"answer_id":75460809,"question_id":75460431,"body_markdown":" \r\n\r\n    String str1 = &quot;1234&quot;;\r\n    integer j = str1.charAt(1) - 48 ;\r\n    print(j);\r\n\r\n    // because ASCII value of 0 is 48 and ASCII value of 2 is 50\r\n    //so 50 - 48 = 2\r\n\r\n","title":"Is there a function to return a character from string as an integer?","body":"<pre><code>String str1 = &quot;1234&quot;;\ninteger j = str1.charAt(1) - 48 ;\nprint(j);\n\n// because ASCII value of 0 is 48 and ASCII value of 2 is 50\n//so 50 - 48 = 2\n</code></pre>\n"}],"owner":{"account_id":27793542,"reputation":1,"user_id":21219548,"display_name":"Aryan singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1676467590,"answer_count":1,"score":-4,"last_activity_date":1676475730,"creation_date":1676467379,"question_id":75460431,"body_markdown":"    String str1 = &quot;1234&quot;;\r\n    integer j = str1.charAt(1);\r\n    print(j);\r\n\r\nThis returns 50 as a result but I want 2 as an answer. \r\n\r\n\r\n\r\n","title":"Is there a function to return a character from string as an integer?","body":"<pre><code>String str1 = &quot;1234&quot;;\ninteger j = str1.charAt(1);\nprint(j);\n</code></pre>\n<p>This returns 50 as a result but I want 2 as an answer.</p>\n"},{"tags":["java","arrays","generics","variadic-functions"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676468719,"creation_date":1676468719,"answer_id":75460734,"question_id":75460470,"body_markdown":"First, varargs are just syntax sugar for &quot;creating an array of the parameters just before the method is called&quot;. That is, a simple varargs method call like this:\r\n\r\n```\r\nmethod(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\n// ...\r\n\r\npublic static void method(String... params) { }\r\n```\r\n\r\nis syntactic sugar for:\r\n\r\n```\r\nString[] params = new String[] { &quot;foo&quot;, &quot;bar&quot; };\r\nmethod(params);\r\n\r\n// ...\r\n\r\npublic static void method(String[] params) { }\r\n```\r\n\r\nSecond, [you cannot create arrays of `T`][1] (generic type parameters). `new T[]` is not allowed. This is because `T` does not exist at runtime. The runtime does not know what `T` is. See also: https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\r\n\r\nSo what happens at the callsite of `toArr`?\r\n\r\n    return toArr(a1, a2);\r\n\r\nwell, `a1` and `a2` are both `T`s here, but we can&#39;t do this:\r\n\r\n```\r\nT[] params = new T[] { a1, a2 };\r\nreturn toArr(params);\r\n```\r\n\r\nThe compiler can only create an `Object[]` here to store the parameters:\r\n\r\n```\r\nObject[] params = new Object[] { a1, a2 };\r\nreturn toArr(params);\r\n```\r\n\r\nOn the other hand, in `getArr2`, `a1` and `a2` are `String`s, so the compiler knows that it can create a `String[]` to store them.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2927391/5133585","title":"Return type of varargs and generics","body":"<p>First, varargs are just syntax sugar for &quot;creating an array of the parameters just before the method is called&quot;. That is, a simple varargs method call like this:</p>\n<pre><code>method(&quot;foo&quot;, &quot;bar&quot;);\n\n// ...\n\npublic static void method(String... params) { }\n</code></pre>\n<p>is syntactic sugar for:</p>\n<pre><code>String[] params = new String[] { &quot;foo&quot;, &quot;bar&quot; };\nmethod(params);\n\n// ...\n\npublic static void method(String[] params) { }\n</code></pre>\n<p>Second, <a href=\"https://stackoverflow.com/q/2927391/5133585\">you cannot create arrays of <code>T</code></a> (generic type parameters). <code>new T[]</code> is not allowed. This is because <code>T</code> does not exist at runtime. The runtime does not know what <code>T</code> is. See also: <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">Java generics type erasure: when and what happens?</a></p>\n<p>So what happens at the callsite of <code>toArr</code>?</p>\n<pre><code>return toArr(a1, a2);\n</code></pre>\n<p>well, <code>a1</code> and <code>a2</code> are both <code>T</code>s here, but we can't do this:</p>\n<pre><code>T[] params = new T[] { a1, a2 };\nreturn toArr(params);\n</code></pre>\n<p>The compiler can only create an <code>Object[]</code> here to store the parameters:</p>\n<pre><code>Object[] params = new Object[] { a1, a2 };\nreturn toArr(params);\n</code></pre>\n<p>On the other hand, in <code>getArr2</code>, <code>a1</code> and <code>a2</code> are <code>String</code>s, so the compiler knows that it can create a <code>String[]</code> to store them.</p>\n"}],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75460734,"answer_count":1,"score":1,"last_activity_date":1676475629,"creation_date":1676467639,"question_id":75460470,"body_markdown":"I was learning Java about how _varargs_ works with the generic types. There was this function when I tried to return an array of generic types, which in this case `T` is `String`\r\n\r\n```java\r\nstatic &lt;T&gt; T[] toArr(T... listObj){\r\n    System.out.println(&quot;To arr&quot;);\r\n    System.out.println(listObj.getClass().getName());\r\n    System.out.println(listObj[0].getClass().getName());\r\n    return listObj;\r\n}\r\n\r\nstatic &lt;T&gt; T[] getArr1(T a1, T a2){\r\n    System.out.println(&quot;Get arr 1&quot;);\r\n    System.out.println(a1.getClass().getName());\r\n    return toArr(a1, a2);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    String[] res1 = getArr1(&quot;one&quot;, &quot;two&quot;);\r\n}\r\n```\r\nAnd the output was this\r\n```none\r\nGet arr 1\r\njava.lang.String\r\nTo arr\r\n[Ljava.lang.Object;\r\njava.lang.String\r\n//Error: casting from [Ljava.lang.Object to [Ljava.lang.String\r\n```\r\nFrom my understanding, while 2 `String` objects were passed from `getArr1` to `toArr`, the array storing them were treated as `Object` array, or `T = Object`. When receiving the return from `toArr` (`Object[]`), the failure to convert to `String[]` at `getArr1` throw the exception.\r\n\r\nThing went differently when I explicitly declare the type with method `getArr2`.\r\n\r\n```java\r\nstatic String[] getArr2(String a1, String a2){\r\n    System.out.println(&quot;Get arr 2&quot;);\r\n    System.out.println(a1.getClass().getName());\r\n    return toArr(a1, a2);\r\n}\r\n```\r\nWhich outputs to\r\n```none\r\nGet arr 2\r\njava.lang.String\r\nTo arr\r\n[Ljava.lang.String;\r\njava.lang.String\r\n```\r\nWent well, no error at all. The _varargs_ were treated as `String[]`\r\n\r\nMay I get some explanation how _varargs_ was treated differently given the same input type as above cases?\r\n\r\n","title":"Return type of varargs and generics","body":"<p>I was learning Java about how <em>varargs</em> works with the generic types. There was this function when I tried to return an array of generic types, which in this case <code>T</code> is <code>String</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; T[] toArr(T... listObj){\n    System.out.println(&quot;To arr&quot;);\n    System.out.println(listObj.getClass().getName());\n    System.out.println(listObj[0].getClass().getName());\n    return listObj;\n}\n\nstatic &lt;T&gt; T[] getArr1(T a1, T a2){\n    System.out.println(&quot;Get arr 1&quot;);\n    System.out.println(a1.getClass().getName());\n    return toArr(a1, a2);\n}\n\npublic static void main(String[] args) {\n    String[] res1 = getArr1(&quot;one&quot;, &quot;two&quot;);\n}\n</code></pre>\n<p>And the output was this</p>\n<pre class=\"lang-none prettyprint-override\"><code>Get arr 1\njava.lang.String\nTo arr\n[Ljava.lang.Object;\njava.lang.String\n//Error: casting from [Ljava.lang.Object to [Ljava.lang.String\n</code></pre>\n<p>From my understanding, while 2 <code>String</code> objects were passed from <code>getArr1</code> to <code>toArr</code>, the array storing them were treated as <code>Object</code> array, or <code>T = Object</code>. When receiving the return from <code>toArr</code> (<code>Object[]</code>), the failure to convert to <code>String[]</code> at <code>getArr1</code> throw the exception.</p>\n<p>Thing went differently when I explicitly declare the type with method <code>getArr2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String[] getArr2(String a1, String a2){\n    System.out.println(&quot;Get arr 2&quot;);\n    System.out.println(a1.getClass().getName());\n    return toArr(a1, a2);\n}\n</code></pre>\n<p>Which outputs to</p>\n<pre class=\"lang-none prettyprint-override\"><code>Get arr 2\njava.lang.String\nTo arr\n[Ljava.lang.String;\njava.lang.String\n</code></pre>\n<p>Went well, no error at all. The <em>varargs</em> were treated as <code>String[]</code></p>\n<p>May I get some explanation how <em>varargs</em> was treated differently given the same input type as above cases?</p>\n"},{"tags":["java","json","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676305632,"creation_date":1676305632,"answer_id":75438631,"question_id":75438386,"body_markdown":"I would recommend to get rid of null values and then compare. \r\ngoogle GSON by default ignores null values while serializing. \r\n\r\nJackson ObjectMapper also can do this with some additional settings.\r\n\r\nThe most straightforward (not necessarily the most proper) way to get rid of nulls in json would be the following: \r\n\r\n```\r\nGson gson = new Gson();\r\nString jsonString = &quot;{ \\&quot;field1\\&quot;:\\&quot;value1\\&quot;, \\&quot;field2\\&quot;:null}&quot;;\r\nString jsonStringWithoutNulls = gson.toJson(gson.fromJson(jsonString, JsonObject.class));\r\n//results in {&quot;field1&quot;:&quot;value1&quot;}\r\n```","title":"How can I compare two JSON strings ignoring nulls in Java?","body":"<p>I would recommend to get rid of null values and then compare.\ngoogle GSON by default ignores null values while serializing.</p>\n<p>Jackson ObjectMapper also can do this with some additional settings.</p>\n<p>The most straightforward (not necessarily the most proper) way to get rid of nulls in json would be the following:</p>\n<pre><code>Gson gson = new Gson();\nString jsonString = &quot;{ \\&quot;field1\\&quot;:\\&quot;value1\\&quot;, \\&quot;field2\\&quot;:null}&quot;;\nString jsonStringWithoutNulls = gson.toJson(gson.fromJson(jsonString, JsonObject.class));\n//results in {&quot;field1&quot;:&quot;value1&quot;}\n</code></pre>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":1,"score":-5,"last_activity_date":1676475568,"creation_date":1676304406,"question_id":75438386,"body_markdown":"I want to be able to compare two JSON strings in my tests, but ignoring null fields.\r\n\r\nExpected:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;}\r\n```\r\n\r\nActual and match:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:null}\r\n```\r\n\r\nActual and no match:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:&quot;non-null&quot;}\r\n```\r\n\r\n","title":"How can I compare two JSON strings ignoring nulls in Java?","body":"<p>I want to be able to compare two JSON strings in my tests, but ignoring null fields.</p>\n<p>Expected:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;}\n</code></pre>\n<p>Actual and match:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:null}\n</code></pre>\n<p>Actual and no match:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:&quot;non-null&quot;}\n</code></pre>\n"},{"tags":["java","junit","bigdecimal"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676475747,"post_id":75460691,"comment_id":133144941,"body_markdown":"Not an exact duplicate, but [this question](https://stackoverflow.com/questions/7186204/bigdecimal-to-use-new-or-valueof) covers the topic.","body":"Not an exact duplicate, but <a href=\"https://stackoverflow.com/questions/7186204/bigdecimal-to-use-new-or-valueof\">this question</a> covers the topic."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676469016,"creation_date":1676469016,"answer_id":75460803,"question_id":75460691,"body_markdown":"See the Javadoc of the `BigDecimal(double)` constructor: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double). It explicitly warns about this. I&#39;d wish they&#39;d deprecate the constructor, because I&#39;ve only had issues with it. I either use the constructor that takes a String, or one of the `valueOf` methods.","title":"Assertion working or failing with BigDecimal depending on the constructor","body":"<p>See the Javadoc of the <code>BigDecimal(double)</code> constructor: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)</a>. It explicitly warns about this. I'd wish they'd deprecate the constructor, because I've only had issues with it. I either use the constructor that takes a String, or one of the <code>valueOf</code> methods.</p>\n"}],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676475436,"creation_date":1676468498,"question_id":75460691,"body_markdown":"I am going through JUnit learning and I was doing some basic calculations to see how it works with BigDecimal. Starting with a few values, subtracting them and asserting the final result. \r\n\r\nWhat I found out is that the assertion either fails or passes depending on what I put into the BigDecimal constructor within assertion. \r\n\r\nIt passes if the last constructor has a String in it:\r\n\r\n```java\r\n@Test\r\npublic void areCalculationsDoingOkWithBigDecimal(){\r\n    BigDecimal initialBalance = new BigDecimal(5);\r\n    BigDecimal spendingOne = new BigDecimal(0.25);\r\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\r\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\r\n\r\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\r\n\r\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\r\n\r\n    assertThat(finalBalance, is(new BigDecimal(&quot;2.55&quot;)));\r\n}\r\n```\r\n\r\nIt fails when the last constructor has a double in it:\r\n\r\n```java\r\n@Test\r\npublic void areCalculationsDoingOkWithBigDecimal(){\r\n    BigDecimal initialBalance = new BigDecimal(5);\r\n    BigDecimal spendingOne = new BigDecimal(0.25);\r\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\r\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\r\n\r\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\r\n\r\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\r\n\r\n    assertThat(finalBalance, is(new BigDecimal(2.55)));\r\n}\r\n```\r\n\r\nAt the same time the constructors at the top are a mix of ints, doubles and Strings and it doesn&#39;t affect the outcome in any way. \r\n\r\nWhy would assertion fail depending on the type of the constructor?\r\n\r\nI expected assertion to pass in both of the cases. I didn&#39;t expect the type of constructor to affect the value of BigDecimal. ","title":"Assertion working or failing with BigDecimal depending on the constructor","body":"<p>I am going through JUnit learning and I was doing some basic calculations to see how it works with BigDecimal. Starting with a few values, subtracting them and asserting the final result.</p>\n<p>What I found out is that the assertion either fails or passes depending on what I put into the BigDecimal constructor within assertion.</p>\n<p>It passes if the last constructor has a String in it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void areCalculationsDoingOkWithBigDecimal(){\n    BigDecimal initialBalance = new BigDecimal(5);\n    BigDecimal spendingOne = new BigDecimal(0.25);\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\n\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\n\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\n\n    assertThat(finalBalance, is(new BigDecimal(&quot;2.55&quot;)));\n}\n</code></pre>\n<p>It fails when the last constructor has a double in it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void areCalculationsDoingOkWithBigDecimal(){\n    BigDecimal initialBalance = new BigDecimal(5);\n    BigDecimal spendingOne = new BigDecimal(0.25);\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\n\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\n\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\n\n    assertThat(finalBalance, is(new BigDecimal(2.55)));\n}\n</code></pre>\n<p>At the same time the constructors at the top are a mix of ints, doubles and Strings and it doesn't affect the outcome in any way.</p>\n<p>Why would assertion fail depending on the type of the constructor?</p>\n<p>I expected assertion to pass in both of the cases. I didn't expect the type of constructor to affect the value of BigDecimal.</p>\n"},{"tags":["java","testing","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676475333,"creation_date":1676475333,"answer_id":75462084,"question_id":75461813,"body_markdown":"It is possible! But you have to apply some workarounds. \r\n\r\n```kotlin\r\nplugins {\r\n    java\r\n}\r\ndependencies {\r\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.2&quot;))\r\n    testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.11.1&quot;))\r\n\r\n    testImplementation(&quot;io.cucumber:cucumber-java&quot;)\r\n    testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine&quot;)\r\n    testImplementation(&quot;org.junit.platform:junit-platform-suite&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n    // Work around. Gradle does not include enough information to disambiguate\r\n    // between different examples and scenarios.\r\n    systemProperty(&quot;cucumber.junit-platform.naming-strategy&quot;, &quot;long&quot;)\r\n}\r\n```\r\n\r\nBecause Gradle provides rather limited support for tests that aren&#39;t a in class file you have to use the `junit-platform-suite` to declare a suite.\r\n\r\n\r\n```java\r\npackage io.cucumber.skeleton;\r\n\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;io/cucumber/skeleton&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;io.cucumber.skeleton&quot;)\r\npublic class RunCucumberTest {\r\n}\r\n```\r\n\r\nThis suite will target the `cucumber` TestEngine from [`cucumber-junit-platform-engine`][1]. The [cucumber-java-skeleton][2] contains a working (serial) example. \r\n\r\nTo make the tests execute in parallel you can add to `junit-platform.properties`:\r\n\r\n```properties\r\ncucumber.execution.parallel.enabled=true\r\n```\r\n\r\nThat is it. For more config details check the JUnit 5 and Cucumber JUnit Platform Engine documentation.\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#cucumber-junit-platform-engine\r\n  [2]: https://github.com/cucumber/cucumber-java-skeleton/tree/main/gradle","title":"Parallel testing with cucumber and Gradle","body":"<p>It is possible! But you have to apply some workarounds.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n}\ndependencies {\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.2&quot;))\n    testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.11.1&quot;))\n\n    testImplementation(&quot;io.cucumber:cucumber-java&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine&quot;)\n    testImplementation(&quot;org.junit.platform:junit-platform-suite&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n    // Work around. Gradle does not include enough information to disambiguate\n    // between different examples and scenarios.\n    systemProperty(&quot;cucumber.junit-platform.naming-strategy&quot;, &quot;long&quot;)\n}\n</code></pre>\n<p>Because Gradle provides rather limited support for tests that aren't a in class file you have to use the <code>junit-platform-suite</code> to declare a suite.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.cucumber.skeleton;\n\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;io/cucumber/skeleton&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;io.cucumber.skeleton&quot;)\npublic class RunCucumberTest {\n}\n</code></pre>\n<p>This suite will target the <code>cucumber</code> TestEngine from <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\"><code>cucumber-junit-platform-engine</code></a>. The <a href=\"https://github.com/cucumber/cucumber-java-skeleton/tree/main/gradle\" rel=\"nofollow noreferrer\">cucumber-java-skeleton</a> contains a working (serial) example.</p>\n<p>To make the tests execute in parallel you can add to <code>junit-platform.properties</code>:</p>\n<pre><code>cucumber.execution.parallel.enabled=true\n</code></pre>\n<p>That is it. For more config details check the JUnit 5 and Cucumber JUnit Platform Engine documentation.</p>\n"}],"owner":{"account_id":14930484,"reputation":77,"user_id":10780016,"display_name":"NicolasM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676475333,"creation_date":1676473861,"question_id":75461813,"body_markdown":"I keep finding posts and articles on how to run parallel tests with Cucumber and Maven, but nothing with Gradle.\r\n\r\nI have the following scenario:\r\n\r\n      Scenario Outline: Author from API matches author on book page\r\n        Given user goes on google.com\r\n        when user search &lt;item&gt;\r\n        and click on &lt;locator&gt;\r\n        Then something happens\r\n    \r\n        Examples:\r\n          | item    | locator |\r\n          | item1   | locator1|\r\n          | item2   | locator2|\r\n          | item3   | locator3|\r\n\r\nIs it possible, with Gradle, to run this scenario in parallel, each execution using the values in &quot;Examples&quot; table?\r\n\r\nThanks","title":"Parallel testing with cucumber and Gradle","body":"<p>I keep finding posts and articles on how to run parallel tests with Cucumber and Maven, but nothing with Gradle.</p>\n<p>I have the following scenario:</p>\n<pre><code>  Scenario Outline: Author from API matches author on book page\n    Given user goes on google.com\n    when user search &lt;item&gt;\n    and click on &lt;locator&gt;\n    Then something happens\n\n    Examples:\n      | item    | locator |\n      | item1   | locator1|\n      | item2   | locator2|\n      | item3   | locator3|\n</code></pre>\n<p>Is it possible, with Gradle, to run this scenario in parallel, each execution using the values in &quot;Examples&quot; table?</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1491545548,"creation_date":1491545548,"answer_id":43270887,"question_id":43261106,"body_markdown":"You cannot simply send the byte-array as `ISO-8859-1` encoded text the way you attempt. \r\n\r\nThere will be special characters that might get replaced/truncated/modified. \r\n\r\nCurrently you mix binary data and a text-only channel (HTTP). You will need to do it differently, either use a binary data transfer and not convert it to String or use some binary-to-text representation, see e.g. https://en.wikipedia.org/wiki/Binary-to-text_encoding, the most common one being [Base64][1]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Base64","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>You cannot simply send the byte-array as <code>ISO-8859-1</code> encoded text the way you attempt. </p>\n\n<p>There will be special characters that might get replaced/truncated/modified. </p>\n\n<p>Currently you mix binary data and a text-only channel (HTTP). You will need to do it differently, either use a binary data transfer and not convert it to String or use some binary-to-text representation, see e.g. <a href=\"https://en.wikipedia.org/wiki/Binary-to-text_encoding\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Binary-to-text_encoding</a>, the most common one being <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a></p>\n"},{"tags":[],"owner":{"account_id":10344004,"reputation":1,"user_id":7629506,"display_name":"devendra parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676475133,"creation_date":1676474312,"answer_id":75461887,"question_id":43261106,"body_markdown":"Use \r\n\r\n    InputStream stream = new ByteArrayInputStream(bytes);","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>Use</p>\n<pre><code>InputStream stream = new ByteArrayInputStream(bytes);\n</code></pre>\n"}],"owner":{"display_name":"user4685154"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20128,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43270887,"answer_count":2,"score":4,"last_activity_date":1676475133,"creation_date":1491496852,"question_id":43261106,"body_markdown":"I am using Apache POI and I am trying to send a `xlsx` file as HTTP request and get it back as response. I am using `jayway restassured` for making HTTP requests.\r\n\r\nHere is the part of the code where I send the request\r\n\r\n     File file = new File(&quot;path&quot;);\r\n    String response = given().multipart(file).when().post(&quot;URL&quot;).getBody().asString();\r\n    \r\n    byte[] bytes = response.getBytes(&quot;ISO-8859-1&quot;);\r\n    InputStream stream = new ByteArrayOutputStream(bytes);\r\n    \r\n    try\r\n    {\r\n    \tXSSFWorkbook workbook = new XSSFWorkbook(stream);\r\n    }\r\n    catch(Exception e){\r\n    \te.printStackTrace();\r\n    }\r\n\r\nHere is the code where the response is generated for the request\r\n\r\n    XSSFWorkbook workBook;  //this workBook has the workbook sent as HTTP request\r\n    //code to make changes in workBook\r\n    \r\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n    \r\n    workBook.write(outStream);\r\n    byte[] byteArray = outStream.toByteArray();\r\n    String responseBody = new String(byteArray, &quot;ISO-8859-1&quot;);\r\n    \r\n    context.response().putHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;).setStatusCode(200).end(responseBody);\r\n\r\nSo, what I am trying to do is send a `xlsx` file as request make some changes and get it back as a string response, convert it back to xssfworkbook. When converting back I get error in the following line-\r\n\r\n    XSSFWorkbook workbook = new XSSFWorkbook(stream);\r\n\r\nThe error I get is\r\n\r\n    java.util.zip.ZipException: invalid code lengths set","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>I am using Apache POI and I am trying to send a <code>xlsx</code> file as HTTP request and get it back as response. I am using <code>jayway restassured</code> for making HTTP requests.</p>\n\n<p>Here is the part of the code where I send the request</p>\n\n<pre><code> File file = new File(\"path\");\nString response = given().multipart(file).when().post(\"URL\").getBody().asString();\n\nbyte[] bytes = response.getBytes(\"ISO-8859-1\");\nInputStream stream = new ByteArrayOutputStream(bytes);\n\ntry\n{\n    XSSFWorkbook workbook = new XSSFWorkbook(stream);\n}\ncatch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Here is the code where the response is generated for the request</p>\n\n<pre><code>XSSFWorkbook workBook;  //this workBook has the workbook sent as HTTP request\n//code to make changes in workBook\n\nByteArrayOutputStream outStream = new ByteArrayOutputStream();\n\nworkBook.write(outStream);\nbyte[] byteArray = outStream.toByteArray();\nString responseBody = new String(byteArray, \"ISO-8859-1\");\n\ncontext.response().putHeader(\"Content-Type\", \"multipart/form-data\").setStatusCode(200).end(responseBody);\n</code></pre>\n\n<p>So, what I am trying to do is send a <code>xlsx</code> file as request make some changes and get it back as a string response, convert it back to xssfworkbook. When converting back I get error in the following line-</p>\n\n<pre><code>XSSFWorkbook workbook = new XSSFWorkbook(stream);\n</code></pre>\n\n<p>The error I get is</p>\n\n<pre><code>java.util.zip.ZipException: invalid code lengths set\n</code></pre>\n"},{"tags":["java","servlets"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1287227728,"creation_date":1287227728,"answer_id":3948656,"question_id":3947866,"body_markdown":"`request.getServletContext().getRealPath(..)` (or if you are within a servlet, just call `getServletContext().getRealPath(..)`","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p><code>request.getServletContext().getRealPath(..)</code> (or if you are within a servlet, just call <code>getServletContext().getRealPath(..)</code></p>\n"},{"tags":[],"owner":{"account_id":27615673,"reputation":1,"user_id":21077781,"display_name":"Satya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676446055,"creation_date":1676446055,"answer_id":75456622,"question_id":3947866,"body_markdown":"try this one request.getSession().getServletContext().getRealPath(&quot;/&quot;);","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p>try this one request.getSession().getServletContext().getRealPath(&quot;/&quot;);</p>\n"}],"owner":{"account_id":190764,"reputation":179,"user_id":430918,"accept_rate":12,"display_name":"krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9145,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1676474902,"answer_count":2,"score":2,"last_activity_date":1676474926,"creation_date":1287209020,"question_id":3947866,"body_markdown":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it i tried get servletcontext but it is not returning the whole path\r\n\r\n\r\nin jsp page when i m using application.getRealPath(&quot;/&quot;) it is giving whole path as D:/.....\r\n\r\nbut in java servlet code i m not getting this method working so i want a perfect httprequest method which will be returning whole path of the application.\r\n\r\nplease suggest me a perfect method with example if possible","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p>I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it i tried get servletcontext but it is not returning the whole path</p>\n\n<p>in jsp page when i m using application.getRealPath(\"/\") it is giving whole path as D:/.....</p>\n\n<p>but in java servlet code i m not getting this method working so i want a perfect httprequest method which will be returning whole path of the application.</p>\n\n<p>please suggest me a perfect method with example if possible</p>\n"},{"tags":["java","database","oop"],"comments":[{"owner":{"account_id":2296898,"reputation":12966,"user_id":2018133,"accept_rate":100,"display_name":"Geert Bellekens"},"score":0,"creation_date":1676470048,"post_id":75460942,"comment_id":133142781,"body_markdown":"I&#39;m not sure what you are trying to express with your diagram, but it&#39;s definitely not UML","body":"I&#39;m not sure what you are trying to express with your diagram, but it&#39;s definitely not UML"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676470256,"post_id":75460942,"comment_id":133142874,"body_markdown":"Are you talking about inheritance relationships or ownership relationships? Also your title mentions monitoring &quot;change&quot; but your question does not, can you clarify?","body":"Are you talking about inheritance relationships or ownership relationships? Also your title mentions monitoring &quot;change&quot; but your question does not, can you clarify?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1676470341,"post_id":75460942,"comment_id":133142899,"body_markdown":"One way would be to have a `Person` table and for each `Person` row have foreign keys to `Mother` and `Father`.  The `Person` row would also have a child/adult `boolean` flag.","body":"One way would be to have a <code>Person</code> table and for each <code>Person</code> row have foreign keys to <code>Mother</code> and <code>Father</code>.  The <code>Person</code> row would also have a child/adult <code>boolean</code> flag."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676475408,"post_id":75460942,"comment_id":133144819,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676504889,"post_id":75460942,"comment_id":133152678,"body_markdown":"&quot;In my case there are certain attributes that a mother/father has but a child doesn&#39;t&quot; -- Such as... ?","body":"&quot;In my case there are certain attributes that a mother/father has but a child doesn&#39;t&quot; -- Such as... ?"},{"owner":{"display_name":"user21219774"},"score":0,"creation_date":1676545696,"post_id":75460942,"comment_id":133160341,"body_markdown":"Well i thought of something like the date of passing the driver license or the date when a woman becomes pregnant @JasonC","body":"Well i thought of something like the date of passing the driver license or the date when a woman becomes pregnant @JasonC"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676549413,"post_id":75460942,"comment_id":133161339,"body_markdown":"It&#39;s the same, they&#39;re all humans. Every human has a date of conception so that would be a property of a human (mothers can have more than one date of pregnancy so it would be needlessly complicated to make it a property of the mother and associate it with children, just make it a property of the child; and the mother herself also has a date that she was conceived). Every human has either passed a drivers license test or not so that&#39;s a nullable date property of a human.","body":"It&#39;s the same, they&#39;re all humans. Every human has a date of conception so that would be a property of a human (mothers can have more than one date of pregnancy so it would be needlessly complicated to make it a property of the mother and associate it with children, just make it a property of the child; and the mother herself also has a date that she was conceived). Every human has either passed a drivers license test or not so that&#39;s a nullable date property of a human."},{"owner":{"display_name":"user21219774"},"score":0,"creation_date":1676551528,"post_id":75460942,"comment_id":133162012,"body_markdown":"I am a bit confused now. So are you suggesting that i take the approach with human, mother, child as individual classes or just a human class?","body":"I am a bit confused now. So are you suggesting that i take the approach with human, mother, child as individual classes or just a human class?"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1676555775,"post_id":75460942,"comment_id":133163354,"body_markdown":"Just a human class. Properties include &quot;mother&quot;, &quot;father&quot;, &quot;date of conception&quot;, &quot;driver&#39;s license date&quot; etc.","body":"Just a human class. Properties include &quot;mother&quot;, &quot;father&quot;, &quot;date of conception&quot;, &quot;driver&#39;s license date&quot; etc."}],"answers":[{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676471410,"creation_date":1676470495,"answer_id":75461108,"question_id":75460942,"body_markdown":"There is no need to create separate classes for the various members of a family, because:\r\n\r\n- Every member is a human.\r\n- Every human has parents (even mothers and fathers have mothers and fathers).\r\n- Every human may or may not have children.\r\n\r\nSo every person in your database, whether they&#39;re a mother or a father or a child, has:\r\n\r\n- A biological mother (link to one other human).\r\n- A biological father (link to one other human).\r\n- Zero or more children (links to zero or more other humans). But you don&#39;t necessarily need to represent this in the database, since it&#39;s implied by the links to parents.\r\n\r\nSo you can just model them all as Humans with those properties, and they can all be in the same table of humans. If a &quot;child&quot; ends up having children, just add to its set of children.\r\n\r\nIt&#39;s up to you if you want to store parent &lt;-&gt; child links in a separate table or not. Depends on your situation, what your DBMS likes, etc. If you&#39;d like to cover the possibility of unknown parents then you can make the mother and father links optional.\r\n\r\nOther properties, such as gender, age, adulthood status, whatever, are extra things you can add if you&#39;d like but generally speaking they&#39;re all humans with a hierarchical structure.","title":"How to model &quot;change&quot; in a database and object orientation","body":"<p>There is no need to create separate classes for the various members of a family, because:</p>\n<ul>\n<li>Every member is a human.</li>\n<li>Every human has parents (even mothers and fathers have mothers and fathers).</li>\n<li>Every human may or may not have children.</li>\n</ul>\n<p>So every person in your database, whether they're a mother or a father or a child, has:</p>\n<ul>\n<li>A biological mother (link to one other human).</li>\n<li>A biological father (link to one other human).</li>\n<li>Zero or more children (links to zero or more other humans). But you don't necessarily need to represent this in the database, since it's implied by the links to parents.</li>\n</ul>\n<p>So you can just model them all as Humans with those properties, and they can all be in the same table of humans. If a &quot;child&quot; ends up having children, just add to its set of children.</p>\n<p>It's up to you if you want to store parent &lt;-&gt; child links in a separate table or not. Depends on your situation, what your DBMS likes, etc. If you'd like to cover the possibility of unknown parents then you can make the mother and father links optional.</p>\n<p>Other properties, such as gender, age, adulthood status, whatever, are extra things you can add if you'd like but generally speaking they're all humans with a hierarchical structure.</p>\n"}],"owner":{"display_name":"user21219774"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676487395,"accepted_answer_id":75461108,"answer_count":1,"score":0,"last_activity_date":1676474871,"creation_date":1676469666,"question_id":75460942,"body_markdown":"I haven&#39;t had much to do with OOP for some time now and I am uncertain how to approach the following problem. To refresh my knowledge I decided to do a small program in java. \r\n\r\nThe main problem lies in the modelling of three classes. So there exists an abstract base class like human and child classes Mother, Father, Child. Mother and Father can have multiple kids. But a kid can become a parent aswell and have children and so forth. I haven&#39;t considered the idea of working with interfaces yet.\r\nPersonally the second approach seems more accurate but I am not sure. And how would I model that in a database. \r\n\r\n\r\n**Edit**: To specify what i meant: In my case there are certain attributes that a mother/father has but a child doesn&#39;t, therefore my approach with the hierarchy. And with change i meant that at some point the child might become a parent aswell and thus having children. Sorry for the confusion i didn&#39;t mean to say that my scribble is a uml diagramm but rather a visual representation of what i thought of.  ","title":"How to model &quot;change&quot; in a database and object orientation","body":"<p>I haven't had much to do with OOP for some time now and I am uncertain how to approach the following problem. To refresh my knowledge I decided to do a small program in java.</p>\n<p>The main problem lies in the modelling of three classes. So there exists an abstract base class like human and child classes Mother, Father, Child. Mother and Father can have multiple kids. But a kid can become a parent aswell and have children and so forth. I haven't considered the idea of working with interfaces yet.\nPersonally the second approach seems more accurate but I am not sure. And how would I model that in a database.</p>\n<p><strong>Edit</strong>: To specify what i meant: In my case there are certain attributes that a mother/father has but a child doesn't, therefore my approach with the hierarchy. And with change i meant that at some point the child might become a parent aswell and thus having children. Sorry for the confusion i didn't mean to say that my scribble is a uml diagramm but rather a visual representation of what i thought of.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676474155,"creation_date":1676473848,"answer_id":75461806,"question_id":75460948,"body_markdown":"Bootstrap server config option accepts a CSV list for multiple brokers of one cluster. But you only need to provide multiple options for fault tolerance, as Kafka automatically returns all servers in the same cluster on first connection. \r\n\r\n\r\n\r\nIf you need to connect to distinct Kafka clusters, create a Bean with the different bootstrap address ","title":"Multi-kafka connections","body":"<p>Bootstrap server config option accepts a CSV list for multiple brokers of one cluster. But you only need to provide multiple options for fault tolerance, as Kafka automatically returns all servers in the same cluster on first connection.</p>\n<p>If you need to connect to distinct Kafka clusters, create a Bean with the different bootstrap address</p>\n"}],"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676474155,"creation_date":1676469687,"question_id":75460948,"body_markdown":"There is a data stream application. It is necessary to connect and listen from several Kafka brokers (different ip-addresses, more than 2) and to write to the one.\r\n\r\nPls advise how to arrange multi-kafka connection?\r\n\r\nConfiguration class for a single kafka connection:\r\n```\r\n@Configuration\r\npublic class KafkaProducer {\r\n\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; producerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:29092&quot;);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n}\r\n```\r\nIt is expected several connections to be arranged and listened in the same time.","title":"Multi-kafka connections","body":"<p>There is a data stream application. It is necessary to connect and listen from several Kafka brokers (different ip-addresses, more than 2) and to write to the one.</p>\n<p>Pls advise how to arrange multi-kafka connection?</p>\n<p>Configuration class for a single kafka connection:</p>\n<pre><code>@Configuration\npublic class KafkaProducer {\n\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:29092&quot;);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>It is expected several connections to be arranged and listened in the same time.</p>\n"},{"tags":["java","jakarta-jsonp"],"comments":[{"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"score":0,"creation_date":1639131808,"post_id":70302594,"comment_id":124275714,"body_markdown":"I have created https://github.com/elastic/elasticsearch-java/issues/55 to ask specifically about the situation with Elasticsearch. However, the general issue remains whether javax.json.* and jakarta,json.* can both be used within the same application.","body":"I have created <a href=\"https://github.com/elastic/elasticsearch-java/issues/55\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch-java/issues/55</a> to ask specifically about the situation with Elasticsearch. However, the general issue remains whether javax.json.* and jakarta,json.* can both be used within the same application."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1639136561,"post_id":70302594,"comment_id":124277387,"body_markdown":"Can&#39;t you just pick an Elasticsearch version suitable for your environment?","body":"Can&#39;t you just pick an Elasticsearch version suitable for your environment?"},{"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"score":0,"creation_date":1639137092,"post_id":70302594,"comment_id":124277573,"body_markdown":"@BalusC: Elasticsearch itself is already running using Java 11 and will likely be kept current. As the &quot;old&quot; Java REST Client is being deprecated, I would like to use the &quot;new&quot; Java Client for Elasticsearch from my Java application - however, Wildfly for Jakarta EE 9 is still in preview stage, so I have to use Java EE 8 for now.","body":"@BalusC: Elasticsearch itself is already running using Java 11 and will likely be kept current. As the &quot;old&quot; Java REST Client is being deprecated, I would like to use the &quot;new&quot; Java Client for Elasticsearch from my Java application - however, Wildfly for Jakarta EE 9 is still in preview stage, so I have to use Java EE 8 for now."}],"answers":[{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639148735,"creation_date":1639148735,"answer_id":70306494,"question_id":70302594,"body_markdown":"One workaround seems to be to use the maven shade plugin to basically &quot;rename&quot; the package `org.glassfish.json` in the &quot;new&quot; `org.glassfish:jakarta.json` to `jakarta.org.glassfish.json`:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            &lt;filters&gt;\r\n              &lt;filter&gt;\r\n                &lt;artifact&gt;org.glassfish:jakarta.json&lt;/artifact&gt;\r\n                &lt;includes&gt;\r\n                  &lt;include&gt;org/glassfish/json/**&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n              &lt;/filter&gt;\r\n            &lt;/filters&gt;\r\n            &lt;artifactSet&gt;\r\n              &lt;includes&gt;\r\n                &lt;include&gt;org.glassfish:jakarta.json&lt;/include&gt;\r\n              &lt;/includes&gt;\r\n            &lt;/artifactSet&gt;\r\n            &lt;relocations&gt;\r\n              &lt;relocation&gt;\r\n                &lt;pattern&gt;org.glassfish.json&lt;/pattern&gt;\r\n                &lt;shadedPattern&gt;jakarta.org.glassfish.json&lt;/shadedPattern&gt;\r\n              &lt;/relocation&gt;\r\n            &lt;/relocations&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen, one can create the file `src/main/resources/META-INF/services/jakarta.json.spi.JsonProvider` with the following content:\r\n\r\n    jakarta.org.glassfish.json.JsonProviderImpl\r\n\r\nThis will tell the implementation of `jakarta.json.spi.JsonProvider` to use the shaded version of the `JsonProviderImpl` (from the `org.glassfish:jakarta.json` artifact - which uses the `jakarta.json.*` classes) instead of the `JsonProviderImpl` (with the same name from `org.glassfish:javax.json`).","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>One workaround seems to be to use the maven shade plugin to basically &quot;rename&quot; the package <code>org.glassfish.json</code> in the &quot;new&quot; <code>org.glassfish:jakarta.json</code> to <code>jakarta.org.glassfish.json</code>:</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n        &lt;filters&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;org.glassfish:jakarta.json&lt;/artifact&gt;\n            &lt;includes&gt;\n              &lt;include&gt;org/glassfish/json/**&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/filter&gt;\n        &lt;/filters&gt;\n        &lt;artifactSet&gt;\n          &lt;includes&gt;\n            &lt;include&gt;org.glassfish:jakarta.json&lt;/include&gt;\n          &lt;/includes&gt;\n        &lt;/artifactSet&gt;\n        &lt;relocations&gt;\n          &lt;relocation&gt;\n            &lt;pattern&gt;org.glassfish.json&lt;/pattern&gt;\n            &lt;shadedPattern&gt;jakarta.org.glassfish.json&lt;/shadedPattern&gt;\n          &lt;/relocation&gt;\n        &lt;/relocations&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then, one can create the file <code>src/main/resources/META-INF/services/jakarta.json.spi.JsonProvider</code> with the following content:</p>\n<pre><code>jakarta.org.glassfish.json.JsonProviderImpl\n</code></pre>\n<p>This will tell the implementation of <code>jakarta.json.spi.JsonProvider</code> to use the shaded version of the <code>JsonProviderImpl</code> (from the <code>org.glassfish:jakarta.json</code> artifact - which uses the <code>jakarta.json.*</code> classes) instead of the <code>JsonProviderImpl</code> (with the same name from <code>org.glassfish:javax.json</code>).</p>\n"},{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643177828,"creation_date":1643177828,"answer_id":70859263,"question_id":70302594,"body_markdown":"For reference: [This has been fixed by the Elastic team][1]: They have switched from the Glassfish implementation\r\n\r\n    api(&quot;org.glassfish&quot;, &quot;jakarta.json&quot;, &quot;2.0.1&quot;)\r\n\r\nto [Eclipse Parsson][2]:\r\n\r\n    api(&quot;jakarta.json:jakarta.json-api:2.0.1&quot;)\r\n    api(&quot;org.eclipse.parsson:parsson:1.0.0&quot;)\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch-java/pull/63\r\n  [2]: https://github.com/eclipse-ee4j/parsson","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>For reference: <a href=\"https://github.com/elastic/elasticsearch-java/pull/63\" rel=\"nofollow noreferrer\">This has been fixed by the Elastic team</a>: They have switched from the Glassfish implementation</p>\n<pre><code>api(&quot;org.glassfish&quot;, &quot;jakarta.json&quot;, &quot;2.0.1&quot;)\n</code></pre>\n<p>to <a href=\"https://github.com/eclipse-ee4j/parsson\" rel=\"nofollow noreferrer\">Eclipse Parsson</a>:</p>\n<pre><code>api(&quot;jakarta.json:jakarta.json-api:2.0.1&quot;)\napi(&quot;org.eclipse.parsson:parsson:1.0.0&quot;)\n</code></pre>\n"}],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3551,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70859263,"answer_count":2,"score":4,"last_activity_date":1676473917,"creation_date":1639129816,"question_id":70302594,"body_markdown":"I am developing an application targeting a Java EE 8 application server (JBoss/Wildfly).\r\n\r\nHowever, one of the dependencies (elasticsearch api) is already using `jakarta.json.*` classes which results in a ClassCastException at runtime:\r\n\r\n&gt; java.lang.ClassCastException: org.glassfish.json.JsonProviderImpl\r\n&gt; cannot be cast to jakarta.json.spi.JsonProvider\r\n\r\nThat is because the `org.classfish.json.JsonProviderImpl` in my classpath (`org.classfish:javax.json:1.1.4`) is still using javax.json classes.\r\n\r\nHowever, as both `org.glassfish:jakarta.json` and `org.classfish:javax.json` define the same class `org.classfish.json.JsonProviderImpl` (one using the `javax.json.*` classes and one using the `jakarta.json.*` classes...), I am unable to simply include both maven artifacts.\r\n\r\nThe implementation of JsonProviderImpl (**in both artifacts!**) basically returns the following by default:\r\n\r\n    return Class.forName(&quot;org.glassfish.json.JsonProviderImpl&quot;);\r\n\r\nWhen both `org.glassfish:jakarta.json` and `org.classfish:javax.json` are on the classpath, this will cause issue for any of the implementations which will get the `JsonProviderImpl` from the other package.\r\n\r\nWhat can I do to resolve this?","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>I am developing an application targeting a Java EE 8 application server (JBoss/Wildfly).</p>\n<p>However, one of the dependencies (elasticsearch api) is already using <code>jakarta.json.*</code> classes which results in a ClassCastException at runtime:</p>\n<blockquote>\n<p>java.lang.ClassCastException: org.glassfish.json.JsonProviderImpl\ncannot be cast to jakarta.json.spi.JsonProvider</p>\n</blockquote>\n<p>That is because the <code>org.classfish.json.JsonProviderImpl</code> in my classpath (<code>org.classfish:javax.json:1.1.4</code>) is still using javax.json classes.</p>\n<p>However, as both <code>org.glassfish:jakarta.json</code> and <code>org.classfish:javax.json</code> define the same class <code>org.classfish.json.JsonProviderImpl</code> (one using the <code>javax.json.*</code> classes and one using the <code>jakarta.json.*</code> classes...), I am unable to simply include both maven artifacts.</p>\n<p>The implementation of JsonProviderImpl (<strong>in both artifacts!</strong>) basically returns the following by default:</p>\n<pre><code>return Class.forName(&quot;org.glassfish.json.JsonProviderImpl&quot;);\n</code></pre>\n<p>When both <code>org.glassfish:jakarta.json</code> and <code>org.classfish:javax.json</code> are on the classpath, this will cause issue for any of the implementations which will get the <code>JsonProviderImpl</code> from the other package.</p>\n<p>What can I do to resolve this?</p>\n"},{"tags":["java","android","google-maps","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676476267,"post_id":75461803,"comment_id":133145172,"body_markdown":"Show us what you have tried and what exactly doesn&#39;t work the way you expect.","body":"Show us what you have tried and what exactly doesn&#39;t work the way you expect."}],"owner":{"account_id":27521334,"reputation":15,"user_id":21001453,"display_name":"Donny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473784,"creation_date":1676473784,"question_id":75461803,"body_markdown":"I am creating a route planner application in my Android Studio using google maps. I tired using the information from this [question][1] however this I don&#39;t think would work for me, I  want to have the longitude and latitude for speed camera locations put into my firebase cloud database. I am wondering how do you do this. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30054601/adding-multiple-markers-to-google-map-from-array-list-of-latitude-and-longitude","title":"How to add Longitude and Latitude coordinates to Firebase from Android Studio and display them on a map using Java on Google Maps","body":"<p>I am creating a route planner application in my Android Studio using google maps. I tired using the information from this <a href=\"https://stackoverflow.com/questions/30054601/adding-multiple-markers-to-google-map-from-array-list-of-latitude-and-longitude\">question</a> however this I don't think would work for me, I  want to have the longitude and latitude for speed camera locations put into my firebase cloud database. I am wondering how do you do this.</p>\n"},{"tags":["java","android","sqlite","firebase-cloud-messaging"],"owner":{"display_name":"user21219349"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473729,"creation_date":1676465300,"question_id":75460030,"body_markdown":"title, post_id, link How to take these three to DbHandler notification. For me notification title, post_id, link these three are coming as array. If you send firebase notification, it should be automatic or save\r\n\r\n\r\n```\r\npublic class MyFirebaseMessageService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String token) {\r\n        super.onNewToken(token);\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Map&lt;String, String&gt; data = remoteMessage.getData();\r\n            Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\r\n\r\n            if (data.get(&quot;post_id&quot;) != null) {\r\n                String _unique_id = data.get(&quot;unique_id&quot;);\r\n                String title = data.get(&quot;title&quot;);\r\n                String message = data.get(&quot;message&quot;);\r\n                String big_image = data.get(&quot;big_image&quot;);\r\n                String link = data.get(&quot;link&quot;);\r\n                String _post_id = data.get(&quot;post_id&quot;);\r\n\r\n                assert _unique_id != null;\r\n                long unique_id = Long.parseLong(_unique_id);\r\n\r\n                assert _post_id != null;\r\n                long post_id = Long.parseLong(_post_id);\r\n\r\n                createNotification(unique_id, title, message, big_image, link, post_id);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.putExtra(&quot;unique_id&quot;, unique_id);\r\n        intent.putExtra(&quot;post_id&quot;, post_id);\r\n        intent.putExtra(&quot;title&quot;, title);\r\n        intent.putExtra(&quot;link&quot;, link);\r\n\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n        notificationBuilder.setAutoCancel(true)\r\n                .setDefaults(Notification.DEFAULT_ALL)\r\n                .setWhen(System.currentTimeMillis())\r\n                .setSmallIcon(getNotificationIcon(notificationBuilder))\r\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\r\n                .setContentIntent(pendingIntent);\r\n\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\r\n            notificationBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        } else {\r\n            notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\r\n        }\r\n\r\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\r\n            notificationChannel.enableLights(true);\r\n            notificationChannel.shouldShowLights();\r\n            notificationChannel.setLightColor(Color.GREEN);\r\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\r\n            notificationChannel.enableVibration(false);\r\n            assert notificationManager != null;\r\n            notificationManager.createNotificationChannel(notificationChannel);\r\n        }\r\n\r\n        if (image_url != null &amp;&amp; !image_url.isEmpty()) {\r\n            Bitmap image = fetchBitmap(image_url);\r\n            if (image != null) {\r\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\r\n            }\r\n        }\r\n\r\n        //assert notificationManager != null;\r\n        notificationManager.notify((int) post_id, notificationBuilder.build());\r\n    }\r\n\r\n    private int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\r\n        notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\r\n        return R.drawable.ic_stat_onesignal_default;\r\n    }\r\n\r\n    private Bitmap fetchBitmap(String src) {\r\n        try {\r\n            if (src != null) {\r\n                URL url = new URL(src);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setDoInput(true);\r\n                connection.setConnectTimeout(1200000);\r\n                connection.setReadTimeout(1200000);\r\n                connection.connect();\r\n                InputStream input = connection.getInputStream();\r\n                return BitmapFactory.decodeStream(input);\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nDbhelper    public void notification(Recipe p) { Data should be saved in all of these\r\n```\r\npublic class DbHandler extends SQLiteOpenHelper {\r\n\r\n    private static final int DATABASE_VERSION = 1;\r\n    private static final String DATABASE_NAME = &quot;db_recipes_favorite&quot;;\r\n    private static final String TABLE_NAME = &quot;tbl_recipes_favorite&quot;;\r\n\r\n    private static final String notification = &quot;tbl_notification&quot;;\r\n\r\n    private static final String KEY_ID = &quot;id&quot;;\r\n    private static final String KEY_CAT_NAME = &quot;category_name&quot;;\r\n    private static final String KEY_RECIPE_ID = &quot;recipe_id&quot;;\r\n    private static final String KEY_RECIPE_TITLE = &quot;recipes_title&quot;;\r\n    private static final String KEY_calories = &quot;calories&quot;;\r\n    private static final String KEY_servings = &quot;servings&quot;;\r\n    private static final String KEY_RECIPE_TIME = &quot;recipe_time&quot;;\r\n    private static final String KEY_RECIPE_IMAGE = &quot;recipe_image&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION = &quot;recipe_description&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION2 = &quot;recipe_description2&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION3 = &quot;recipe_description3&quot;;\r\n    private static final String KEY_VIDEO_URL = &quot;video_url&quot;;\r\n    private static final String KEY_VIDEO_ID = &quot;video_id&quot;;\r\n    private static final String KEY_CONTENT_TYPE = &quot;content_type&quot;;\r\n    private static final String KEY_FEATURED = &quot;featured&quot;;\r\n    private static final String KEY_TAGS = &quot;tags&quot;;\r\n    private static final String KEY_TOTAL_VIEWS = &quot;total_views&quot;;\r\n\r\n\r\n    public DbHandler(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    }\r\n\r\n    // Creating Tables\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String CREATE_CONTACTS_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\r\n                + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot;\r\n                + KEY_CAT_NAME + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_ID + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_TITLE + &quot; TEXT,&quot;\r\n                + KEY_calories + &quot; TEXT,&quot;\r\n                + KEY_servings + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_TIME + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_IMAGE + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION2 + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION3 + &quot; TEXT,&quot;\r\n                + KEY_VIDEO_URL + &quot; TEXT,&quot;\r\n                + KEY_VIDEO_ID + &quot; TEXT,&quot;\r\n                + KEY_CONTENT_TYPE + &quot; TEXT,&quot;\r\n                + KEY_FEATURED + &quot; TEXT,&quot;\r\n                + KEY_TAGS + &quot; TEXT,&quot;\r\n                + KEY_TOTAL_VIEWS + &quot; TEXT&quot;\r\n                + &quot;)&quot;;\r\n        db.execSQL(CREATE_CONTACTS_TABLE);\r\n\r\n    }\r\n\r\n    // Upgrading database\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // TODO Auto-generated method stub\r\n        // Drop older table if existed\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n\r\n        // Create tables again\r\n        onCreate(db);\r\n    }\r\n\r\n    //Adding Record in Database\r\n\r\n    public void AddtoFavorite(Recipe p) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        ContentValues values = new ContentValues();\r\n        values.put(KEY_CAT_NAME, p.getCategory_name());\r\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\r\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\r\n        values.put(KEY_calories, p.getcalories());\r\n        values.put(KEY_servings, p.getservings());\r\n        values.put(KEY_RECIPE_TIME, p.getRecipe_time());\r\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\r\n        values.put(KEY_RECIPE_DESCRIPTION, p.getRecipe_description());\r\n        values.put(KEY_RECIPE_DESCRIPTION2, p.getRecipe_description());\r\n        values.put(KEY_RECIPE_DESCRIPTION3, p.getRecipe_description());\r\n        values.put(KEY_VIDEO_URL, p.getVideo_url());\r\n        values.put(KEY_VIDEO_ID, p.getVideo_id());\r\n        values.put(KEY_CONTENT_TYPE, p.getContent_type());\r\n        values.put(KEY_FEATURED, p.getFeatured());\r\n        values.put(KEY_TAGS, p.getTags());\r\n        values.put(KEY_TOTAL_VIEWS, p.getTotal_views());\r\n\r\n        // Inserting Row\r\n        db.insert(TABLE_NAME, null, values);\r\n        db.close(); // Closing database connection\r\n\r\n    }\r\n\r\n\r\n    public void notification(Recipe p) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        ContentValues values = new ContentValues();\r\n\r\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\r\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\r\n\r\n\r\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\r\n\r\n\r\n\r\n        // Inserting Row\r\n        db.insert(notification, null, values);\r\n        db.close(); // Closing database connection\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // Getting All Data\r\n    public List&lt;Recipe&gt; getAllData() {\r\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\r\n        // Select All Query\r\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; ORDER BY id DESC&quot;;\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(selectQuery, null);\r\n\r\n        // looping through all rows and adding to list\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                Recipe values = new Recipe();\r\n                values.setId(Integer.parseInt(cursor.getString(0)));\r\n                values.setCategory_name(cursor.getString(1));\r\n                values.setRecipe_id(cursor.getString(2));\r\n                values.setRecipe_title(cursor.getString(3));\r\n\r\n                values.setcalories(cursor.getString(4));\r\n                values.setservings(cursor.getString(5));\r\n\r\n                values.setRecipe_time(cursor.getString(6));\r\n                values.setRecipe_image(cursor.getString(7));\r\n                values.setRecipe_description(cursor.getString(8));\r\n                values.setRecipe_description2(cursor.getString(9));\r\n\r\n                values.setRecipe_description3(cursor.getString(10));\r\n                values.setVideo_url(cursor.getString(11));\r\n                values.setVideo_id(cursor.getString(12));\r\n                values.setContent_type(cursor.getString(13));\r\n                values.setFeatured(cursor.getString(14));\r\n                values.setTags(cursor.getString(15));\r\n                values.setTotal_views(cursor.getLong(16));\r\n                // Adding contact to list\r\n                dataList.add(values);\r\n            } while (cursor.moveToNext());\r\n        }\r\n\r\n        // return contact list\r\n        return dataList;\r\n    }\r\n\r\n    //getting single row\r\n    public List&lt;Recipe&gt; getFavRow(String id) {\r\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\r\n        // Select All Query\r\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; WHERE recipe_id=&quot; + id;\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(selectQuery, null);\r\n\r\n        // looping through all rows and adding to list\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                Recipe values = new Recipe();\r\n                values.setId(Integer.parseInt(cursor.getString(0)));\r\n                values.setCategory_name(cursor.getString(1));\r\n                values.setRecipe_id(cursor.getString(2));\r\n                values.setRecipe_title(cursor.getString(3));\r\n                values.setcalories(cursor.getString(4));\r\n                values.setservings(cursor.getString(5));\r\n                values.setRecipe_time(cursor.getString(6));\r\n                values.setRecipe_image(cursor.getString(7));\r\n                values.setRecipe_description(cursor.getString(8));\r\n                values.setRecipe_description2(cursor.getString(9));\r\n                values.setRecipe_description3(cursor.getString(10));\r\n                values.setVideo_url(cursor.getString(11));\r\n                values.setVideo_id(cursor.getString(12));\r\n                values.setContent_type(cursor.getString(13));\r\n                values.setFeatured(cursor.getString(14));\r\n                values.setTags(cursor.getString(15));\r\n                values.setTotal_views(cursor.getLong(16));\r\n                // Adding contact to list\r\n                dataList.add(values);\r\n            } while (cursor.moveToNext());\r\n        }\r\n\r\n        // return contact list\r\n        return dataList;\r\n    }\r\n\r\n    //for remove favorite\r\n    public void RemoveFav(Recipe contact) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        db.delete(TABLE_NAME, KEY_RECIPE_ID + &quot; = ?&quot;,\r\n                new String[]{String.valueOf(contact.getRecipe_id())});\r\n        db.close();\r\n    }\r\n\r\n    public enum DatabaseManager {\r\n        INSTANCE;\r\n        private SQLiteDatabase db;\r\n        private boolean isDbClosed = true;\r\n        DbHandler dbHelper;\r\n\r\n        public void init(Context context) {\r\n            dbHelper = new DbHandler(context);\r\n            if (isDbClosed) {\r\n                isDbClosed = false;\r\n                this.db = dbHelper.getWritableDatabase();\r\n            }\r\n\r\n        }\r\n\r\n        public boolean isDatabaseClosed() {\r\n            return isDbClosed;\r\n        }\r\n\r\n        public void closeDatabase() {\r\n            if (!isDbClosed &amp;&amp; db != null) {\r\n                isDbClosed = true;\r\n                db.close();\r\n                dbHelper.close();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n save firebase notification insert data sqlite database","title":"How to save firebase notification insert data sqlite database android","body":"<p>title, post_id, link How to take these three to DbHandler notification. For me notification title, post_id, link these three are coming as array. If you send firebase notification, it should be automatic or save</p>\n<pre><code>public class MyFirebaseMessageService extends FirebaseMessagingService {\n\n    @Override\n    public void onNewToken(@NonNull String token) {\n        super.onNewToken(token);\n    }\n\n    @Override\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n\n        if (remoteMessage.getData().size() &gt; 0) {\n            Map&lt;String, String&gt; data = remoteMessage.getData();\n            Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\n\n            if (data.get(&quot;post_id&quot;) != null) {\n                String _unique_id = data.get(&quot;unique_id&quot;);\n                String title = data.get(&quot;title&quot;);\n                String message = data.get(&quot;message&quot;);\n                String big_image = data.get(&quot;big_image&quot;);\n                String link = data.get(&quot;link&quot;);\n                String _post_id = data.get(&quot;post_id&quot;);\n\n                assert _unique_id != null;\n                long unique_id = Long.parseLong(_unique_id);\n\n                assert _post_id != null;\n                long post_id = Long.parseLong(_post_id);\n\n                createNotification(unique_id, title, message, big_image, link, post_id);\n            }\n        }\n    }\n\n    private void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\n\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.putExtra(&quot;unique_id&quot;, unique_id);\n        intent.putExtra(&quot;post_id&quot;, post_id);\n        intent.putExtra(&quot;title&quot;, title);\n        intent.putExtra(&quot;link&quot;, link);\n\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n        notificationBuilder.setAutoCancel(true)\n                .setDefaults(Notification.DEFAULT_ALL)\n                .setWhen(System.currentTimeMillis())\n                .setSmallIcon(getNotificationIcon(notificationBuilder))\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\n                .setContentTitle(title)\n                .setContentText(message)\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\n                .setContentIntent(pendingIntent);\n\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\n            notificationBuilder.setPriority(Notification.PRIORITY_MAX);\n        } else {\n            notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\n        }\n\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\n            notificationChannel.enableLights(true);\n            notificationChannel.shouldShowLights();\n            notificationChannel.setLightColor(Color.GREEN);\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n            notificationChannel.enableVibration(false);\n            assert notificationManager != null;\n            notificationManager.createNotificationChannel(notificationChannel);\n        }\n\n        if (image_url != null &amp;&amp; !image_url.isEmpty()) {\n            Bitmap image = fetchBitmap(image_url);\n            if (image != null) {\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\n            }\n        }\n\n        //assert notificationManager != null;\n        notificationManager.notify((int) post_id, notificationBuilder.build());\n    }\n\n    private int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\n        notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\n        return R.drawable.ic_stat_onesignal_default;\n    }\n\n    private Bitmap fetchBitmap(String src) {\n        try {\n            if (src != null) {\n                URL url = new URL(src);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.setDoInput(true);\n                connection.setConnectTimeout(1200000);\n                connection.setReadTimeout(1200000);\n                connection.connect();\n                InputStream input = connection.getInputStream();\n                return BitmapFactory.decodeStream(input);\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Dbhelper    public void notification(Recipe p) { Data should be saved in all of these</p>\n<pre><code>public class DbHandler extends SQLiteOpenHelper {\n\n    private static final int DATABASE_VERSION = 1;\n    private static final String DATABASE_NAME = &quot;db_recipes_favorite&quot;;\n    private static final String TABLE_NAME = &quot;tbl_recipes_favorite&quot;;\n\n    private static final String notification = &quot;tbl_notification&quot;;\n\n    private static final String KEY_ID = &quot;id&quot;;\n    private static final String KEY_CAT_NAME = &quot;category_name&quot;;\n    private static final String KEY_RECIPE_ID = &quot;recipe_id&quot;;\n    private static final String KEY_RECIPE_TITLE = &quot;recipes_title&quot;;\n    private static final String KEY_calories = &quot;calories&quot;;\n    private static final String KEY_servings = &quot;servings&quot;;\n    private static final String KEY_RECIPE_TIME = &quot;recipe_time&quot;;\n    private static final String KEY_RECIPE_IMAGE = &quot;recipe_image&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION = &quot;recipe_description&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION2 = &quot;recipe_description2&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION3 = &quot;recipe_description3&quot;;\n    private static final String KEY_VIDEO_URL = &quot;video_url&quot;;\n    private static final String KEY_VIDEO_ID = &quot;video_id&quot;;\n    private static final String KEY_CONTENT_TYPE = &quot;content_type&quot;;\n    private static final String KEY_FEATURED = &quot;featured&quot;;\n    private static final String KEY_TAGS = &quot;tags&quot;;\n    private static final String KEY_TOTAL_VIEWS = &quot;total_views&quot;;\n\n\n    public DbHandler(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    // Creating Tables\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String CREATE_CONTACTS_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\n                + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot;\n                + KEY_CAT_NAME + &quot; TEXT,&quot;\n                + KEY_RECIPE_ID + &quot; TEXT,&quot;\n                + KEY_RECIPE_TITLE + &quot; TEXT,&quot;\n                + KEY_calories + &quot; TEXT,&quot;\n                + KEY_servings + &quot; TEXT,&quot;\n                + KEY_RECIPE_TIME + &quot; TEXT,&quot;\n                + KEY_RECIPE_IMAGE + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION2 + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION3 + &quot; TEXT,&quot;\n                + KEY_VIDEO_URL + &quot; TEXT,&quot;\n                + KEY_VIDEO_ID + &quot; TEXT,&quot;\n                + KEY_CONTENT_TYPE + &quot; TEXT,&quot;\n                + KEY_FEATURED + &quot; TEXT,&quot;\n                + KEY_TAGS + &quot; TEXT,&quot;\n                + KEY_TOTAL_VIEWS + &quot; TEXT&quot;\n                + &quot;)&quot;;\n        db.execSQL(CREATE_CONTACTS_TABLE);\n\n    }\n\n    // Upgrading database\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        // Drop older table if existed\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n\n        // Create tables again\n        onCreate(db);\n    }\n\n    //Adding Record in Database\n\n    public void AddtoFavorite(Recipe p) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_CAT_NAME, p.getCategory_name());\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\n        values.put(KEY_calories, p.getcalories());\n        values.put(KEY_servings, p.getservings());\n        values.put(KEY_RECIPE_TIME, p.getRecipe_time());\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\n        values.put(KEY_RECIPE_DESCRIPTION, p.getRecipe_description());\n        values.put(KEY_RECIPE_DESCRIPTION2, p.getRecipe_description());\n        values.put(KEY_RECIPE_DESCRIPTION3, p.getRecipe_description());\n        values.put(KEY_VIDEO_URL, p.getVideo_url());\n        values.put(KEY_VIDEO_ID, p.getVideo_id());\n        values.put(KEY_CONTENT_TYPE, p.getContent_type());\n        values.put(KEY_FEATURED, p.getFeatured());\n        values.put(KEY_TAGS, p.getTags());\n        values.put(KEY_TOTAL_VIEWS, p.getTotal_views());\n\n        // Inserting Row\n        db.insert(TABLE_NAME, null, values);\n        db.close(); // Closing database connection\n\n    }\n\n\n    public void notification(Recipe p) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\n\n\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\n\n\n\n        // Inserting Row\n        db.insert(notification, null, values);\n        db.close(); // Closing database connection\n\n    }\n\n\n\n\n\n\n\n\n\n\n    // Getting All Data\n    public List&lt;Recipe&gt; getAllData() {\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\n        // Select All Query\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; ORDER BY id DESC&quot;;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                Recipe values = new Recipe();\n                values.setId(Integer.parseInt(cursor.getString(0)));\n                values.setCategory_name(cursor.getString(1));\n                values.setRecipe_id(cursor.getString(2));\n                values.setRecipe_title(cursor.getString(3));\n\n                values.setcalories(cursor.getString(4));\n                values.setservings(cursor.getString(5));\n\n                values.setRecipe_time(cursor.getString(6));\n                values.setRecipe_image(cursor.getString(7));\n                values.setRecipe_description(cursor.getString(8));\n                values.setRecipe_description2(cursor.getString(9));\n\n                values.setRecipe_description3(cursor.getString(10));\n                values.setVideo_url(cursor.getString(11));\n                values.setVideo_id(cursor.getString(12));\n                values.setContent_type(cursor.getString(13));\n                values.setFeatured(cursor.getString(14));\n                values.setTags(cursor.getString(15));\n                values.setTotal_views(cursor.getLong(16));\n                // Adding contact to list\n                dataList.add(values);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return dataList;\n    }\n\n    //getting single row\n    public List&lt;Recipe&gt; getFavRow(String id) {\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\n        // Select All Query\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; WHERE recipe_id=&quot; + id;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                Recipe values = new Recipe();\n                values.setId(Integer.parseInt(cursor.getString(0)));\n                values.setCategory_name(cursor.getString(1));\n                values.setRecipe_id(cursor.getString(2));\n                values.setRecipe_title(cursor.getString(3));\n                values.setcalories(cursor.getString(4));\n                values.setservings(cursor.getString(5));\n                values.setRecipe_time(cursor.getString(6));\n                values.setRecipe_image(cursor.getString(7));\n                values.setRecipe_description(cursor.getString(8));\n                values.setRecipe_description2(cursor.getString(9));\n                values.setRecipe_description3(cursor.getString(10));\n                values.setVideo_url(cursor.getString(11));\n                values.setVideo_id(cursor.getString(12));\n                values.setContent_type(cursor.getString(13));\n                values.setFeatured(cursor.getString(14));\n                values.setTags(cursor.getString(15));\n                values.setTotal_views(cursor.getLong(16));\n                // Adding contact to list\n                dataList.add(values);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return dataList;\n    }\n\n    //for remove favorite\n    public void RemoveFav(Recipe contact) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.delete(TABLE_NAME, KEY_RECIPE_ID + &quot; = ?&quot;,\n                new String[]{String.valueOf(contact.getRecipe_id())});\n        db.close();\n    }\n\n    public enum DatabaseManager {\n        INSTANCE;\n        private SQLiteDatabase db;\n        private boolean isDbClosed = true;\n        DbHandler dbHelper;\n\n        public void init(Context context) {\n            dbHelper = new DbHandler(context);\n            if (isDbClosed) {\n                isDbClosed = false;\n                this.db = dbHelper.getWritableDatabase();\n            }\n\n        }\n\n        public boolean isDatabaseClosed() {\n            return isDbClosed;\n        }\n\n        public void closeDatabase() {\n            if (!isDbClosed &amp;&amp; db != null) {\n                isDbClosed = true;\n                db.close();\n                dbHelper.close();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>save firebase notification insert data sqlite database</p>\n"},{"tags":["java","android","google-maps","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676470776,"post_id":75460596,"comment_id":133143076,"body_markdown":"When exactly would you like to remove the polyline?","body":"When exactly would you like to remove the polyline?"},{"owner":{"account_id":27701237,"reputation":1,"user_id":21145775,"display_name":"Arthur Cross"},"score":0,"creation_date":1676472373,"post_id":75460596,"comment_id":133143671,"body_markdown":"@AlexMamo I would like to remove the polyline everytime the function this database is called. I put the polylineCollection.clear() under PolylineManager.Collection polylineCollection initialization but it does not erase the polyline","body":"@AlexMamo I would like to remove the polyline everytime the function this database is called. I put the polylineCollection.clear() under PolylineManager.Collection polylineCollection initialization but it does not erase the polyline"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1676473691,"post_id":75460596,"comment_id":133144159,"body_markdown":"Step 1 is to stop ignoring potential errors and implement `onCancelled`. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`. --- After that, I recommend debugging the app locally. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"Step 1 is to stop ignoring potential errors and implement <code>onCancelled</code>. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>. --- After that, I recommend debugging the app locally. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676476361,"post_id":75460596,"comment_id":133145210,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":27701237,"reputation":1,"user_id":21145775,"display_name":"Arthur Cross"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473644,"creation_date":1676468103,"question_id":75460596,"body_markdown":"I have setup my code as such:\r\n\r\n\r\n```\r\nDatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;encoded_polyline&quot;);\r\n\r\nref.addValueEventListener(new ValueEventListener() {\r\n   @Override\r\n   public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n       PolylineManager polylineManager = new PolylineManager(mGoogleMap);\r\n       PolylineManager.Collection polylineCollection = polylineManager.newCollection();\r\n\r\n       for (DataSnapshot ds: dataSnapshot.getChildren()) {\r\n         encodedPolyline = ds.child(&quot;polyline&quot;).getValue().toString()\r\n         decodedPolyline = PolyUtil.decode(encodedPolyline);\r\n         polylineCollection.addPolyline(new PolylineOptions().addAll(decodedPolyline));\r\n       }\r\n   }\r\n   @Override\r\n   public void onCancelled(@NonNull DatabaseError error) {\r\n                \r\n   }\r\n}\r\n```\r\n\r\nI tried polylineCollection.clear() and it does not do anything at all. Polyline still remain\r\n\r\n","title":"How to remove polyline from maps with Polyline Manager?","body":"<p>I have setup my code as such:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;encoded_polyline&quot;);\n\nref.addValueEventListener(new ValueEventListener() {\n   @Override\n   public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n       PolylineManager polylineManager = new PolylineManager(mGoogleMap);\n       PolylineManager.Collection polylineCollection = polylineManager.newCollection();\n\n       for (DataSnapshot ds: dataSnapshot.getChildren()) {\n         encodedPolyline = ds.child(&quot;polyline&quot;).getValue().toString()\n         decodedPolyline = PolyUtil.decode(encodedPolyline);\n         polylineCollection.addPolyline(new PolylineOptions().addAll(decodedPolyline));\n       }\n   }\n   @Override\n   public void onCancelled(@NonNull DatabaseError error) {\n                \n   }\n}\n</code></pre>\n<p>I tried polylineCollection.clear() and it does not do anything at all. Polyline still remain</p>\n"},{"tags":["java","jakarta-jsonp"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1676387191,"post_id":75449631,"comment_id":133124197,"body_markdown":"Does this answer your question? [Deserializing JSON using Java 11 HttpClient and custom BodyHandler with Jackson halts and will not proceed](https://stackoverflow.com/questions/57629401/deserializing-json-using-java-11-httpclient-and-custom-bodyhandler-with-jackson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57629401/deserializing-json-using-java-11-httpclient-and-custom-bodyhandler-with-jackson\">Deserializing JSON using Java 11 HttpClient and custom BodyHandler with Jackson halts and will not proceed</a>"},{"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"score":0,"creation_date":1676446266,"post_id":75449631,"comment_id":133136067,"body_markdown":"@f1sh That doesn&#39;t answer the question because it uses Jackson to serialize JSON Response bodies to POJOs and I want to simply convert the body to a JsonObject without any external library.","body":"@f1sh That doesn&#39;t answer the question because it uses Jackson to serialize JSON Response bodies to POJOs and I want to simply convert the body to a JsonObject without any external library."}],"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676473268,"creation_date":1676386672,"question_id":75449631,"body_markdown":"I want to fetch a **jakarta.json.JsonObject** in the HttpResponse itself using the Jakarta JSONP API. Right now, I have to fetch it as a String, feed the body into a reader and then get the **JsonObject** like the code below.\r\n\r\n\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import jakarta.json.Json;\r\n    import jakarta.json.JsonObject;\r\n    import jakarta.json.JsonReader;\r\n\r\n\tHttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\r\n\tHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n\tJsonReader jsonReader = Json.createReader(new StringReader(response.body()));\r\n\tJsonObject object = jsonReader.readObject();\r\n\tjsonReader.close();\r\n\r\n\r\nHow do I get the response as `HttpResponse&lt;JsonObject&gt; response` directly? **I don&#39;t want to use any external libraries other than the Jakarta JSONP one.**\r\n\r\nEdit: As an example, one could write their own BodyHandler like this:\r\n\r\n    import java.net.http.HttpResponse;\r\n    import java.net.http.HttpResponse.BodySubscriber;\r\n    import java.net.http.HttpResponse.BodySubscribers;\r\n    import java.net.http.HttpResponse.ResponseInfo;\r\n    \r\n    import jakarta.json.JsonObject;\r\n    \r\n    public class JsonObjectBodyHandler implements HttpResponse.BodyHandler&lt;JsonObject&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic BodySubscriber&lt;JsonObject&gt; apply(ResponseInfo responseInfo) {\r\n    \t\t// How to implement this\r\n    \t}\r\n    \r\n    }\r\n\r\nand then use it in the function like this:\r\n\r\n    HttpResponse&lt;JsonObject&gt; response = httpClient.send(request, new JsonObjectBodyHandler());","title":"How to get a jakarta.json.JsonObject Response using the Java 11 HttpClient?","body":"<p>I want to fetch a <strong>jakarta.json.JsonObject</strong> in the HttpResponse itself using the Jakarta JSONP API. Right now, I have to fetch it as a String, feed the body into a reader and then get the <strong>JsonObject</strong> like the code below.</p>\n<pre><code>import java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport jakarta.json.Json;\nimport jakarta.json.JsonObject;\nimport jakarta.json.JsonReader;\n\nHttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\nHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\nJsonReader jsonReader = Json.createReader(new StringReader(response.body()));\nJsonObject object = jsonReader.readObject();\njsonReader.close();\n</code></pre>\n<p>How do I get the response as <code>HttpResponse&lt;JsonObject&gt; response</code> directly? <strong>I don't want to use any external libraries other than the Jakarta JSONP one.</strong></p>\n<p>Edit: As an example, one could write their own BodyHandler like this:</p>\n<pre><code>import java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodySubscriber;\nimport java.net.http.HttpResponse.BodySubscribers;\nimport java.net.http.HttpResponse.ResponseInfo;\n\nimport jakarta.json.JsonObject;\n\npublic class JsonObjectBodyHandler implements HttpResponse.BodyHandler&lt;JsonObject&gt; {\n\n    @Override\n    public BodySubscriber&lt;JsonObject&gt; apply(ResponseInfo responseInfo) {\n        // How to implement this\n    }\n\n}\n</code></pre>\n<p>and then use it in the function like this:</p>\n<pre><code>HttpResponse&lt;JsonObject&gt; response = httpClient.send(request, new JsonObjectBodyHandler());\n</code></pre>\n"},{"tags":["javascript","java","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676415728,"post_id":75454020,"comment_id":133131963,"body_markdown":"Update the question with the text based HTML of the element.","body":"Update the question with the text based HTML of the element."},{"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"score":0,"creation_date":1676416031,"post_id":75454020,"comment_id":133132012,"body_markdown":"&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\n&lt;div class=&quot;col-md-6&quot;&gt;\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\n\t&lt;/span&gt;\n  &lt;/div&gt;","body":"&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt; &lt;div class=&quot;col-md-6&quot;&gt;     &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt; \t&lt;/span&gt;   &lt;/div&gt;"},{"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"score":0,"creation_date":1676419361,"post_id":75454020,"comment_id":133132533,"body_markdown":"Share the WebElement syntax used to identify the element. Since you are getting could not locate the element error, the issue would be with xpath/css locators used to identify the webelement.","body":"Share the WebElement syntax used to identify the element. Since you are getting could not locate the element error, the issue would be with xpath/css locators used to identify the webelement."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1676441500,"post_id":75454020,"comment_id":133135221,"body_markdown":"Try `List&lt;WebElement&gt; elements = driver.findElements(By.YOUR LOCATOR HERE);` to see how many elements you get. If more than one, you need more precise locator or use on top `WebElement element = elements.get(i);`.","body":"Try <code>List&lt;WebElement&gt; elements = driver.findElements(By.YOUR LOCATOR HERE);</code> to see how many elements you get. If more than one, you need more precise locator or use on top <code>WebElement element = elements.get(i);</code>."}],"answers":[{"tags":[],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676465236,"creation_date":1676465236,"answer_id":75460019,"question_id":75454020,"body_markdown":"Thanks to all for your help. Finally it worked. I used the below command:\r\n\r\nString data_nombre = (String) ((JavascriptExecutor) driver).executeScript(&quot;return document.getElementById(&#39;nombre&#39;).value&quot;); ","title":"Unable to get the values of an element using selenium java","body":"<p>Thanks to all for your help. Finally it worked. I used the below command:</p>\n<p>String data_nombre = (String) ((JavascriptExecutor) driver).executeScript(&quot;return document.getElementById('nombre').value&quot;);</p>\n"}],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676473242,"creation_date":1676415547,"question_id":75454020,"body_markdown":"I am using selenium webdriver with Java and Maven project. In a webpage there are few fields and I want to get the value of one the fields. These values which are shown were entered in the previous screens and still not stored in the database. \r\n\r\nI am unable to get the value of an webelement.\r\n\r\nI tried using `gettext()`, `getAttribute()` and `(String) ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].value&quot;, element)`. But they either return blank or null as values.\r\n\r\nWhen I tried to use locators xpath or ID, i got error that &quot;could not locate the element&quot;. So i used CSS locators.\r\n\r\nI am expecting to retrieve those values and store in a variable for further use.\r\n\r\n```\r\n&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\r\n  &lt;div class=&quot;col-md-6&quot;&gt;\r\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\r\n    &lt;/span&gt;\r\n  &lt;/div&gt;\r\n```\r\n","title":"Unable to get the values of an element using selenium java","body":"<p>I am using selenium webdriver with Java and Maven project. In a webpage there are few fields and I want to get the value of one the fields. These values which are shown were entered in the previous screens and still not stored in the database.</p>\n<p>I am unable to get the value of an webelement.</p>\n<p>I tried using <code>gettext()</code>, <code>getAttribute()</code> and <code>(String) ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].value&quot;, element)</code>. But they either return blank or null as values.</p>\n<p>When I tried to use locators xpath or ID, i got error that &quot;could not locate the element&quot;. So i used CSS locators.</p>\n<p>I am expecting to retrieve those values and store in a variable for further use.</p>\n<pre><code>&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\n  &lt;div class=&quot;col-md-6&quot;&gt;\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;\n      &lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\n    &lt;/span&gt;\n  &lt;/div&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9347,"page":645,"page_size":100}
