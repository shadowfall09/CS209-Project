{"items":[{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694245859,"creation_date":1694245701,"answer_id":77071308,"question_id":77070668,"body_markdown":"It means setting `annotation-config` in `&lt;context:component-scan&gt;` , but not `value` in  `&lt;context:annotation-config&gt;`.\r\n\r\nCodewise , it means the followings to disable them : \r\n\r\n``` xml\r\n&lt;context:component-scan annotation-config=&quot;false&quot;/&gt;\r\n```","title":"How to set the value of annotation-config to false?","body":"<p>It means setting <code>annotation-config</code> in <code>&lt;context:component-scan&gt;</code> , but not <code>value</code> in  <code>&lt;context:annotation-config&gt;</code>.</p>\n<p>Codewise , it means the followings to disable them :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context:component-scan annotation-config=&quot;false&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77071308,"answer_count":1,"score":-1,"last_activity_date":1694245859,"creation_date":1694228105,"question_id":77070668,"body_markdown":"[Documentation is here.](https://docs.spring.io/spring-framework/reference/core/beans/classpath-scanning.html#beans-scanning-autodetection)\r\n\r\n&gt; You can disable the registration of AutowiredAnnotationBeanPostProcessor and CommonAnnotationBeanPostProcessor by including the annotation-config attribute with a value of false.\r\n\r\nTo my knowledge(I must have missed something.), the value of annotation-config cannot be set to false.\r\n\r\n```xml\r\n    &lt;context:annotation-config value=&quot;false&quot; /&gt; &lt;!-- error --&gt;\r\n    &lt;context:annotation-config&gt;\r\n        &lt;value&gt;false&lt;/value&gt;    &lt;!-- error --&gt;\r\n        &lt;!-- No Any Completion --&gt;\r\n    &lt;/context:annotation-config&gt;\r\n```\r\n\r\n","title":"How to set the value of annotation-config to false?","body":"<p><a href=\"https://docs.spring.io/spring-framework/reference/core/beans/classpath-scanning.html#beans-scanning-autodetection\" rel=\"nofollow noreferrer\">Documentation is here.</a></p>\n<blockquote>\n<p>You can disable the registration of AutowiredAnnotationBeanPostProcessor and CommonAnnotationBeanPostProcessor by including the annotation-config attribute with a value of false.</p>\n</blockquote>\n<p>To my knowledge(I must have missed something.), the value of annotation-config cannot be set to false.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;context:annotation-config value=&quot;false&quot; /&gt; &lt;!-- error --&gt;\n    &lt;context:annotation-config&gt;\n        &lt;value&gt;false&lt;/value&gt;    &lt;!-- error --&gt;\n        &lt;!-- No Any Completion --&gt;\n    &lt;/context:annotation-config&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1620943693,"post_id":67526700,"comment_id":119355772,"body_markdown":"That is definitely not the whole error message. It should start with either `Exception in thread` or the name of an exception class, not `at`. Please read [ask] and https://stackoverflow.com/help/minimal-reproducible-example , and help us help you by enabling us to reproduce the problem.","body":"That is definitely not the whole error message. It should start with either <code>Exception in thread</code> or the name of an exception class, not <code>at</code>. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> , and help us help you by enabling us to reproduce the problem."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1621006663,"post_id":67526700,"comment_id":119373478,"body_markdown":"In which step/ for what are you using Jackson here? Do you have a Rest Controller and want to serialize your JPA entities to JSON? Or is it another use case?","body":"In which step/ for what are you using Jackson here? Do you have a Rest Controller and want to serialize your JPA entities to JSON? Or is it another use case?"}],"answers":[{"tags":[],"owner":{"account_id":21418636,"reputation":41,"user_id":15920257,"display_name":"Grimaldus12"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620995623,"creation_date":1620943470,"answer_id":67526769,"question_id":67526700,"body_markdown":"When using relations in general, you can adjust the &quot;fetch&quot; and &quot;cascade&quot; type. Fetching means, if all entries related to the one you want to load are loaded as well while cascading relates to operations on the current entry being passed down to relating objects.\r\n\r\nEdit1: I would suggest you try setting the `fetch` type to lazy at least for the `Conversation` class:\r\n\r\n```\r\n@ManyToOne(fetch = FetchType.LAZY)\r\n``` \r\n\r\nApart from that, I would suggest using repositories that inherit from `CrudRepository` so you can use derived queries.\r\n\r\nEdit2: After seeing the stack trace the problem becomes clear. Jackson is trying to bind the `Conversation` object to JSON but encounters an endless loop because of the Conversation reference in the `User` class. \r\n\r\nThere are two ways to solve this. If you still want to insert the `User` object referenced by a `Conversation` you can add the `@JsonIgnore` Annotation. \r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;User&quot;)\r\n    private List&lt;Conversation&gt; Conversation; \r\n\r\nIf you don&#39;t care about the user at all, then you could also add this to the user reference in the conversation object: \r\n\r\n    @JsonIgnore\r\n    @JoinColumn(name = &quot;User_id&quot;)\r\n    private User User;\r\n\r\nIf you later encounter problems, you could also think about mapping the `Conversation` objects returned by your repository to specific data transfer objects which are specifically made for the JSON mapping.","title":"com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25 SpringBoot","body":"<p>When using relations in general, you can adjust the &quot;fetch&quot; and &quot;cascade&quot; type. Fetching means, if all entries related to the one you want to load are loaded as well while cascading relates to operations on the current entry being passed down to relating objects.</p>\n<p>Edit1: I would suggest you try setting the <code>fetch</code> type to lazy at least for the <code>Conversation</code> class:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n</code></pre>\n<p>Apart from that, I would suggest using repositories that inherit from <code>CrudRepository</code> so you can use derived queries.</p>\n<p>Edit2: After seeing the stack trace the problem becomes clear. Jackson is trying to bind the <code>Conversation</code> object to JSON but encounters an endless loop because of the Conversation reference in the <code>User</code> class.</p>\n<p>There are two ways to solve this. If you still want to insert the <code>User</code> object referenced by a <code>Conversation</code> you can add the <code>@JsonIgnore</code> Annotation.</p>\n<pre><code>@JsonIgnore\n@OneToMany(mappedBy = &quot;User&quot;)\nprivate List&lt;Conversation&gt; Conversation; \n</code></pre>\n<p>If you don't care about the user at all, then you could also add this to the user reference in the conversation object:</p>\n<pre><code>@JsonIgnore\n@JoinColumn(name = &quot;User_id&quot;)\nprivate User User;\n</code></pre>\n<p>If you later encounter problems, you could also think about mapping the <code>Conversation</code> objects returned by your repository to specific data transfer objects which are specifically made for the JSON mapping.</p>\n"},{"tags":[],"owner":{"account_id":5552861,"reputation":994,"user_id":4405343,"display_name":"ttarczynski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621006660,"creation_date":1621006660,"answer_id":67537025,"question_id":67526700,"body_markdown":"Judgind by the stacktrace, and the data model the problem lies in the fact, that you have two way relationship between User and Converstaion classes.\r\n\r\nUser have a list of Conversation items, which then link back to the user. When serializing, this creates an **infinite loop**:\r\n\r\nserialize user -&gt; serialize his conversations -&gt; serialize coversation.user -&gt; serialize his conversations etc.\r\n\r\nOne way to avoid this is to annotate the User field in converstaion with `@JsonIgnore`, this way when serializing user, you&#39;ll get his conversations, but since the reference back will be ignored by Jackson, you won&#39;t get the error from the stacktrace.\r\n\r\nThe exception message is pretty clear here:\r\n**Infinite recursion (StackOverflowError) (through reference chain:** org.club.entities.User_$$_jvstf65_b[&quot;conversation&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;org.club.entities.Conversation[&quot;user&quot;]-\r\n","title":"com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25 SpringBoot","body":"<p>Judgind by the stacktrace, and the data model the problem lies in the fact, that you have two way relationship between User and Converstaion classes.</p>\n<p>User have a list of Conversation items, which then link back to the user. When serializing, this creates an <strong>infinite loop</strong>:</p>\n<p>serialize user -&gt; serialize his conversations -&gt; serialize coversation.user -&gt; serialize his conversations etc.</p>\n<p>One way to avoid this is to annotate the User field in converstaion with <code>@JsonIgnore</code>, this way when serializing user, you'll get his conversations, but since the reference back will be ignored by Jackson, you won't get the error from the stacktrace.</p>\n<p>The exception message is pretty clear here:\n<strong>Infinite recursion (StackOverflowError) (through reference chain:</strong> org.club.entities.User_$$_jvstf65_b[&quot;conversation&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;org.club.entities.Conversation[&quot;user&quot;]-</p>\n"},{"tags":[],"owner":{"account_id":27467013,"reputation":1,"user_id":20956548,"display_name":"Deidine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694244457,"creation_date":1694191234,"answer_id":77068598,"question_id":67526700,"body_markdown":"I had the same problem and solved it by the following thing.\r\nFirst I have two classes.\r\n```java\r\npublic class Entite implements Serializable {\r\n    static final long serialVersionUID = 3L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int entiteId;\r\n    private String entiteName;\r\n    private String affectation, Wilayas, type, Mougattaa;\r\n// @JsonBackReference\r\n    @OneToMany(mappedBy = &quot;entite&quot;, fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JsonIgnore\r\n// @JoinTable(name = &quot;dep_ent_TABLE&quot;,\r\n// joinColumns = @JoinColumn(name = &quot;entite_id&quot;),\r\n// inverseJoinColumns = @JoinColumn(name = &quot;department_id&quot;)\r\n// )\r\n// ( cascade = CascadeType.REMOVE)\r\n    private Set&lt;Department&gt; departments;\r\n\r\n// private Department department;\r\n    protected Entite() {\r\n        departments = new HashSet&lt;&gt;();\r\n    }\r\n}\r\n```\r\nand the other class is \r\n```java\r\npublic class Department {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int departmentId;\r\n    @Column(name = &quot;department_name&quot;)\r\n    private String departmentName;\r\n    @Column(name = &quot;department_url&quot;)\r\n    private String departmentUrl;\r\n    @Column(name = &quot;department_titre&quot;)\r\n    private String departmentTitre;\r\n// @OneToMany(mappedBy = &quot;department&quot;, cascade = CascadeType.REMOVE)\r\n    @ManyToOne\r\n// @JsonIgnore\r\n// @JsonManagedReference\r\n    private Entite entite;\r\n\r\n    public Department() {\r\n        // entites = new HashSet&lt;&gt;();\r\n    }\r\n}\r\n```\r\nBy adding `@JsonIgnore`\r\nabove this line of the code\r\n\r\n    private Set&lt;Department&gt; departments;\r\n\r\nmakes it work.\r\n","title":"com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25 SpringBoot","body":"<p>I had the same problem and solved it by the following thing.\nFirst I have two classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Entite implements Serializable {\n    static final long serialVersionUID = 3L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int entiteId;\n    private String entiteName;\n    private String affectation, Wilayas, type, Mougattaa;\n// @JsonBackReference\n    @OneToMany(mappedBy = &quot;entite&quot;, fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JsonIgnore\n// @JoinTable(name = &quot;dep_ent_TABLE&quot;,\n// joinColumns = @JoinColumn(name = &quot;entite_id&quot;),\n// inverseJoinColumns = @JoinColumn(name = &quot;department_id&quot;)\n// )\n// ( cascade = CascadeType.REMOVE)\n    private Set&lt;Department&gt; departments;\n\n// private Department department;\n    protected Entite() {\n        departments = new HashSet&lt;&gt;();\n    }\n}\n</code></pre>\n<p>and the other class is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int departmentId;\n    @Column(name = &quot;department_name&quot;)\n    private String departmentName;\n    @Column(name = &quot;department_url&quot;)\n    private String departmentUrl;\n    @Column(name = &quot;department_titre&quot;)\n    private String departmentTitre;\n// @OneToMany(mappedBy = &quot;department&quot;, cascade = CascadeType.REMOVE)\n    @ManyToOne\n// @JsonIgnore\n// @JsonManagedReference\n    private Entite entite;\n\n    public Department() {\n        // entites = new HashSet&lt;&gt;();\n    }\n}\n</code></pre>\n<p>By adding <code>@JsonIgnore</code>\nabove this line of the code</p>\n<pre><code>private Set&lt;Department&gt; departments;\n</code></pre>\n<p>makes it work.</p>\n"}],"owner":{"account_id":21590535,"reputation":35,"user_id":15920226,"display_name":"yahya "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694244457,"creation_date":1620942966,"question_id":67526700,"body_markdown":"I have a couple one to many relationships in spring between my classes. And when i try to get all my data an error like infinite recursion, here is the whole error message.\r\n\r\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\r\ni have 2 classes that are connected with each other with OneToMany Relationship\r\n\r\n**USER CLASS**\r\n\r\n    public class User  {\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \t@OneToMany(mappedBy = &quot;User&quot;)\r\n    \tprivate List&lt;Conversation&gt; Conversation;\r\n\r\n**CONVERSATION CLASS**\r\n\r\n    public class Conversation {\r\n    \t @Id  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t private Long id;\r\n    \t @ManyToOne\r\n         @JoinColumn(name = &quot;User_id&quot;)\r\n    \t private User User;\r\n\r\n**Results screeshot**\r\n\r\n[Results screeshot][1]\r\n\r\nI don&#39;t know why it happens, but maybe it is because of the relationship with the class Failure. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Tnxo.png\r\n**Repository Class**\r\n\r\n\t@Query(nativeQuery = true, value = &quot;SELECT * FROM `conversation` WHERE 1&quot;)\r\n\tpublic List&lt;Conversation&gt; findAllConv();\r\n**Controller class**\r\n   \r\n\r\n     @Autowired\r\n        \tprivate ConversationRepository conv;\r\n        \t\r\n        \t@GetMapping(&quot;/GetAllConversation&quot;)\r\n        \tpublic List&lt;Conversation&gt; getAllConv()\r\n        \t{\r\n        \t\treturn conv.findAllConv();\r\n        \t}\r\n    \t\r\n**Full Trace**\r\n\r\n    2021-05-14 12:58:57.306 ERROR 1540 --- [nio-8020-exec-1] w.s.e.ErrorMvcAutoConfiguration$SpelView : Cannot render error page for request [/survey/GetAllConversation/] and exception [Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: org.club.entities.User_$$_jvstf65_b[&quot;conversation&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;org.club.entities.Conversation[&quot;user&quot;]-","title":"com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25 SpringBoot","body":"<p>I have a couple one to many relationships in spring between my classes. And when i try to get all my data an error like infinite recursion, here is the whole error message.</p>\n<pre><code>at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.9.6.jar:2.9.6]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.9.6.jar:2.9.6]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719) ~[jackson-databind-2.9.6.jar:2.9.6]\n</code></pre>\n<p>i have 2 classes that are connected with each other with OneToMany Relationship</p>\n<p><strong>USER CLASS</strong></p>\n<pre><code>public class User  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @OneToMany(mappedBy = &quot;User&quot;)\n    private List&lt;Conversation&gt; Conversation;\n</code></pre>\n<p><strong>CONVERSATION CLASS</strong></p>\n<pre><code>public class Conversation {\n     @Id  @GeneratedValue(strategy = GenerationType.IDENTITY)\n     private Long id;\n     @ManyToOne\n     @JoinColumn(name = &quot;User_id&quot;)\n     private User User;\n</code></pre>\n<p><strong>Results screeshot</strong></p>\n<p><a href=\"https://i.stack.imgur.com/6Tnxo.png\" rel=\"nofollow noreferrer\">Results screeshot</a></p>\n<p>I don't know why it happens, but maybe it is because of the relationship with the class Failure.</p>\n<p><strong>Repository Class</strong></p>\n<pre><code>@Query(nativeQuery = true, value = &quot;SELECT * FROM `conversation` WHERE 1&quot;)\npublic List&lt;Conversation&gt; findAllConv();\n</code></pre>\n<p><strong>Controller class</strong></p>\n<pre><code> @Autowired\n        private ConversationRepository conv;\n        \n        @GetMapping(&quot;/GetAllConversation&quot;)\n        public List&lt;Conversation&gt; getAllConv()\n        {\n            return conv.findAllConv();\n        }\n    \n</code></pre>\n<p><strong>Full Trace</strong></p>\n<pre><code>2021-05-14 12:58:57.306 ERROR 1540 --- [nio-8020-exec-1] w.s.e.ErrorMvcAutoConfiguration$SpelView : Cannot render error page for request [/survey/GetAllConversation/] and exception [Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: org.club.entities.User_$$_jvstf65_b[&quot;conversation&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;org.club.entities.Conversation[&quot;user&quot;]-\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":541379,"reputation":2366,"user_id":909908,"display_name":"Justin Rowe"},"score":0,"creation_date":1513604008,"post_id":35933114,"comment_id":82704226,"body_markdown":"You should be careful with this. Even though String.format is more readable, it has very poor performance compared to old fashioned concatenation with +.","body":"You should be careful with this. Even though String.format is more readable, it has very poor performance compared to old fashioned concatenation with +."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1550957908,"post_id":35933114,"comment_id":96465676,"body_markdown":"A newer approach with Java 8 and later is use of [`StringJoiner`](https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html), as shown in [my Answer](https://stackoverflow.com/a/54838010/642706) to a similar Question.","body":"A newer approach with Java 8 and later is use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a>, as shown in <a href=\"https://stackoverflow.com/a/54838010/642706\">my Answer</a> to a similar Question."}],"answers":[{"tags":[],"owner":{"account_id":1141367,"reputation":1568,"user_id":1125172,"accept_rate":71,"display_name":"Linuslabo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1621935497,"creation_date":1476106118,"answer_id":39959458,"question_id":35933114,"body_markdown":"For anybody still looking for this:\r\n\r\n    public java.lang.String toString() {\r\n    return String.format(\r\n    &quot;$classname (##\r\n    #set ($i = 0)\r\n    #foreach ($member in $members)\r\n    #if ($i != 0)##\r\n    , ##\r\n    #end\r\n    $member.name=%s##\r\n    #set ($i = $i + 1)\r\n    #end\r\n    )&quot;,##\r\n    #set ($i = 0)\r\n    #foreach ($member in $members)\r\n    \t#if ($i != 0)\r\n    \t,##\r\n    \t#end\r\n    \t#if ($member.primitiveArray || $member.objectArray)\r\n    \tjava.util.Arrays.toString(this.$member.name)##\r\n    \t#else\r\n    \tthis.$member.name ##\r\n    \t#end\r\n    \t#set ($i = $i + 1)\r\n    #end\r\n    );\r\n    }\r\n\r\nAdapted from [this template][1].\r\n\r\nEDIT\r\n\r\nFor those who wonder what is this stuff (I wonder how you ended up here tbh, since the question is very specific xD): this is an IntelliJ template for  generation of `toString` method.\r\n\r\nCode generation helps you generate code constructs and recurring elements according to preset templates, instead of writing everything by hand.\r\n\r\nPlease read more [here][2] and [here][3] for toString specifically.\r\n\r\n\r\n  [1]: https://gist.github.com/smilix/9441452fc00d4d9b5391d487ebe848d9\r\n  [2]: https://www.jetbrains.com/help/idea/generating-code.html\r\n  [3]: https://www.jetbrains.com/help/idea/generating-code.html#generate-tostring","title":"IntelliJ Idea template for toString method using String.format instead of concatenation","body":"<p>For anybody still looking for this:</p>\n<pre><code>public java.lang.String toString() {\nreturn String.format(\n&quot;$classname (##\n#set ($i = 0)\n#foreach ($member in $members)\n#if ($i != 0)##\n, ##\n#end\n$member.name=%s##\n#set ($i = $i + 1)\n#end\n)&quot;,##\n#set ($i = 0)\n#foreach ($member in $members)\n    #if ($i != 0)\n    ,##\n    #end\n    #if ($member.primitiveArray || $member.objectArray)\n    java.util.Arrays.toString(this.$member.name)##\n    #else\n    this.$member.name ##\n    #end\n    #set ($i = $i + 1)\n#end\n);\n}\n</code></pre>\n<p>Adapted from <a href=\"https://gist.github.com/smilix/9441452fc00d4d9b5391d487ebe848d9\" rel=\"nofollow noreferrer\">this template</a>.</p>\n<p>EDIT</p>\n<p>For those who wonder what is this stuff (I wonder how you ended up here tbh, since the question is very specific xD): this is an IntelliJ template for  generation of <code>toString</code> method.</p>\n<p>Code generation helps you generate code constructs and recurring elements according to preset templates, instead of writing everything by hand.</p>\n<p>Please read more <a href=\"https://www.jetbrains.com/help/idea/generating-code.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.jetbrains.com/help/idea/generating-code.html#generate-tostring\" rel=\"nofollow noreferrer\">here</a> for toString specifically.</p>\n"},{"tags":[],"owner":{"account_id":7003676,"reputation":507,"user_id":5368856,"display_name":"Kasthuri Shravankumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694243207,"creation_date":1694243207,"answer_id":77071193,"question_id":35933114,"body_markdown":"It will generate the toString in the Json format.\r\n[![enter image description here][1]][1]\r\n\r\n    public java.lang.String toString() {\r\n    #if ( $members.size() &gt; 0 )\r\n    #set ( $i = 0 )\r\n    return &quot;{\\&quot;$classname\\&quot;:{&quot;\r\n    #foreach( $member in $members )\r\n    #if ( $i == 0 )\r\n    + &quot;##\r\n    #else\r\n    + &quot;, ##\r\n    #end\r\n    #if ( $member.array )\r\n    \\&quot;$member.name\\&quot;:&quot; + java.util.Arrays.toString($member.accessor)\r\n    #elseif ( $member.string || $member.primitive || $member.numeric || $member.boolean || $member.enum )\r\n    \\&quot;$member.name\\&quot;:\\&quot;&quot; + $member.accessor + &quot;\\&quot;&quot;\r\n    #else\r\n    \\&quot;$member.name\\&quot;:&quot; + $member.accessor\r\n    #end\r\n    #set ( $i = $i + 1 )\r\n    #end\r\n    + &quot;}}&quot;;\r\n    #else\r\n    return &quot;{$classname}&quot;;\r\n    #end\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xRTl3.png","title":"IntelliJ Idea template for toString method using String.format instead of concatenation","body":"<p>It will generate the toString in the Json format.\n<a href=\"https://i.stack.imgur.com/xRTl3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xRTl3.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public java.lang.String toString() {\n#if ( $members.size() &gt; 0 )\n#set ( $i = 0 )\nreturn &quot;{\\&quot;$classname\\&quot;:{&quot;\n#foreach( $member in $members )\n#if ( $i == 0 )\n+ &quot;##\n#else\n+ &quot;, ##\n#end\n#if ( $member.array )\n\\&quot;$member.name\\&quot;:&quot; + java.util.Arrays.toString($member.accessor)\n#elseif ( $member.string || $member.primitive || $member.numeric || $member.boolean || $member.enum )\n\\&quot;$member.name\\&quot;:\\&quot;&quot; + $member.accessor + &quot;\\&quot;&quot;\n#else\n\\&quot;$member.name\\&quot;:&quot; + $member.accessor\n#end\n#set ( $i = $i + 1 )\n#end\n+ &quot;}}&quot;;\n#else\nreturn &quot;{$classname}&quot;;\n#end\n}\n</code></pre>\n"}],"owner":{"account_id":139321,"reputation":1643,"user_id":6020904,"accept_rate":29,"display_name":"Yuriy Seredyuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5627,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":39959458,"answer_count":2,"score":11,"last_activity_date":1694243207,"creation_date":1457675101,"question_id":35933114,"body_markdown":"I want to create IntelliJ Idea template for `toString` method using `String.format` instead of concatenation, `StringBuffer`, etc.\r\n\r\nFor example I have following object:\r\n\r\n    public class Foo {\r\n        private int id;\r\n        private String name;\r\n        private List&lt;String&gt; values;\r\n    }\r\n\r\nIf I generate `toString` for all fields by default Idea will generate:\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Foo{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, values=&quot; + values +\r\n                &#39;}&#39;;\r\n    }\r\n\r\nBut I want to generate following:\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;Foo(id=%d, name=%s, values=%s)&quot;, id, name, values);\r\n    }\r\n\r\n\r\n","title":"IntelliJ Idea template for toString method using String.format instead of concatenation","body":"<p>I want to create IntelliJ Idea template for <code>toString</code> method using <code>String.format</code> instead of concatenation, <code>StringBuffer</code>, etc.</p>\n\n<p>For example I have following object:</p>\n\n<pre><code>public class Foo {\n    private int id;\n    private String name;\n    private List&lt;String&gt; values;\n}\n</code></pre>\n\n<p>If I generate <code>toString</code> for all fields by default Idea will generate:</p>\n\n<pre><code>@Override\npublic String toString() {\n    return \"Foo{\" +\n            \"id=\" + id +\n            \", name='\" + name + '\\'' +\n            \", values=\" + values +\n            '}';\n}\n</code></pre>\n\n<p>But I want to generate following:</p>\n\n<pre><code>@Override\npublic String toString() {\n    return String.format(\"Foo(id=%d, name=%s, values=%s)\", id, name, values);\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683849719,"post_id":33497118,"comment_id":134433592,"body_markdown":"You need to use the same `ObjectOutputStream` and `ObjectInputStream` for hte life of the socket. Not a new one per read or write, and especially not a new one on one side when you&#39;re using the same one always on the other side.","body":"You need to use the same <code>ObjectOutputStream</code> and <code>ObjectInputStream</code> for hte life of the socket. Not a new one per read or write, and especially not a new one on one side when you&#39;re using the same one always on the other side."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694248999,"post_id":33497118,"comment_id":135868900,"body_markdown":"And you need to make up your mind. If you&#39;re using `writeObject()` you are using Java Object Serialization, in which case you don&#39;t need JSON at all. Or *vice versa.*","body":"And you need to make up your mind. If you&#39;re using <code>writeObject()</code> you are using Java Object Serialization, in which case you don&#39;t need JSON at all. Or <i>vice versa.</i>"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446548482,"creation_date":1446548482,"answer_id":33497455,"question_id":33497118,"body_markdown":"You are using an ``ObjectOutputStream`` to serialize your data. That serialization uses it&#39;s own implementation of converting ``Serializable`` objects to a byte representation that is then sent through your socket.\r\n\r\nJSON is used to serialize an object into a ``String`` representation. Unfortunately, you never use the json serialization but instead try to send your JSON object through your socket.\r\n\r\nMy suggestion: turn your object to a String using\r\n\r\n    String strJson = jsonObject.toString();\r\n\r\nthen send a String using your ``ObjectOutputStream``. On the receiving end read it as a String, then turn it back into a JSONObject by [passing that String to the constructor][1]:\r\n\r\n    JSONObject js = new JSONObject(strJson);\r\n\r\n\r\n  [1]: http://www.json.org/javadoc/org/json/JSONObject.html#JSONObject%28java.lang.String%29","title":"How to send JSONobject over TCP?","body":"<p>You are using an <code>ObjectOutputStream</code> to serialize your data. That serialization uses it's own implementation of converting <code>Serializable</code> objects to a byte representation that is then sent through your socket.</p>\n\n<p>JSON is used to serialize an object into a <code>String</code> representation. Unfortunately, you never use the json serialization but instead try to send your JSON object through your socket.</p>\n\n<p>My suggestion: turn your object to a String using</p>\n\n<pre><code>String strJson = jsonObject.toString();\n</code></pre>\n\n<p>then send a String using your <code>ObjectOutputStream</code>. On the receiving end read it as a String, then turn it back into a JSONObject by <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#JSONObject%28java.lang.String%29\" rel=\"nofollow\">passing that String to the constructor</a>:</p>\n\n<pre><code>JSONObject js = new JSONObject(strJson);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8725221,"reputation":578,"user_id":6527039,"accept_rate":80,"display_name":"Liya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490183616,"creation_date":1490183616,"answer_id":42950898,"question_id":33497118,"body_markdown":"Just change the line to\r\n \r\n\r\n            o.writeObject(jsonObject2.toString());\r\n\r\nUse the .toString() method to get the String of JSONObject .\r\n\r\nIt works for me :) ","title":"How to send JSONobject over TCP?","body":"<p>Just change the line to</p>\n\n<pre><code>        o.writeObject(jsonObject2.toString());\n</code></pre>\n\n<p>Use the .toString() method to get the String of JSONObject .</p>\n\n<p>It works for me :) </p>\n"}],"owner":{"account_id":6308455,"reputation":139,"user_id":4900821,"accept_rate":77,"display_name":"alex suhai&#246;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10514,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1694243175,"creation_date":1446547550,"question_id":33497118,"body_markdown":"i am trying to unterstand how to send my custom Object &quot;Paper&quot; which is serialized with JSON over TCP.\n\n\nThe Client:\n\n    import org.json.JSONObject;\n    \n    import java.io.*;\n    import java.net.ConnectException;\n    import java.net.NoRouteToHostException;\n    import java.net.Socket;\n    import java.net.UnknownHostException;\n    import java.util.Scanner;\n    \n    import model.*;\n    import view.*;\n    \n    /**\n    \n     */\n    public class JSONClient {\n    \n        private String host;\n        private int port;\n        private Socket socket;\n        private final String DEFAULT_HOST = &quot;localhost&quot;;\n    \n    \n        public void connect(String host, int port) throws IOException {\n            this.host = host;\n            this.port = port;\n            socket = new Socket(host, port);\n            System.out.println(&quot;Client has been connected..&quot;);\n        }\n    \n    \n        /**\n         * use the JSON Protocol to receive a json object as\n         *  from the client and reconstructs that object\n         *\n         * @return JSONObejct with the same state (data) as\n         * the JSONObject the client sent as a String msg.\n         * @throws IOException\n         */\n        public JSONObject receiveJSON() throws IOException {\n            InputStream in = socket.getInputStream();\n            ObjectInputStream i = new ObjectInputStream(in);\n            JSONObject line = null;\n            try {\n                line = (JSONObject) i.readObject();\n                \n            } catch (ClassNotFoundException e) {\n                // TODO Auto-generated catch block\n                 e.printStackTrace();\n            \n            }\n            \n            \n            return line;\n    \n        }\n    \n    \n        public void sendJSON(JSONObject jsonObject) throws IOException {\n               JSONObject jsonObject2 = new JSONObject();\n            jsonObject2.put(&quot;key&quot;, new Paper(250,333));\n            \n             \n             OutputStream out = socket.getOutputStream();\n            ObjectOutputStream o = new ObjectOutputStream(out);\n             o.writeObject(jsonObject2);\n            out.flush();\n            System.out.println(&quot;Sent to server: &quot; + &quot; &quot; + jsonObject2.get(&quot;key&quot;).toString());\n        }\n    \n    \n        public static void main(String[] args) {\n            JSONClient client = new JSONClient();\n            try{\n    \n                client.connect(&quot;localhost&quot;, 7777);\n                // For JSON call sendJSON(JSON json) &amp; receiveJSON();\n                JSONObject jsonObject2 = new JSONObject();\n                jsonObject2.put(&quot;key&quot;, new Paper(250,333));\n\n                client.sendJSON(jsonObject2);\n                client.receiveJSON();\n            }\n    \n            catch (ConnectException e) {\n                System.err.println(client.host + &quot; connect refused&quot;);\n                return;\n            }\n    \n            catch(UnknownHostException e){\n                System.err.println(client.host + &quot; Unknown host&quot;);\n                client.host = client.DEFAULT_HOST;\n                return;\n            }\n    \n            catch (NoRouteToHostException e) {\n                System.err.println(client.host + &quot; Unreachable&quot;);\n                return;\n    \n            }\n    \n            catch (IllegalArgumentException e){\n                System.err.println(client.host + &quot; wrong port&quot;);\n                return;\n            }\n    \n            catch(IOException e){\n                System.err.println(client.host + &#39; &#39; + e.getMessage());\n                System.err.println(e);\n            }\n            finally {\n                try {\n                    client.socket.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n    \n        }\n    }\n\n\n\n\nThe Server :\n    \n    import model.*;\n    \n    import org.json.JSONObject;\n    \n    import java.io.BufferedReader;\n    import java.io.IOException;\n    import java.io.InputStream;\n    import java.io.InputStreamReader;\n    import java.io.ObjectInputStream;\n    import java.io.ObjectOutputStream;\n    import java.io.OutputStream;\n    import java.io.OutputStreamWriter;\n    import java.net.ServerSocket;\n    import java.net.Socket;\n    \n    /**\n     */\n    public class JSONServer {\n    \n    \n        private ServerSocket serverSocket;\n        private int port;\n        public static int clients = 0;\n    \n    \n        public void establish(int port) throws IOException {\n            this.port = port;\n            serverSocket = new ServerSocket(port);\n            System.out.println(&quot;JSONServer has been established on port &quot; + port);\n    \n        }\n    \n    \n        public void accept() throws IOException {\n            while (true) {\n                Socket socket = serverSocket.accept();\n                Runnable r = new MyThreadHandler(socket);\n                Thread t = new Thread(r);\n                t.start();\n            }\n        }\n    \n        private static class MyThreadHandler implements Runnable {\n            private Socket socket;\n    \n            MyThreadHandler(Socket socket) {\n                this.socket = socket;\n            }\n    \n            @Override\n            public void run() {\n                clients++;\n                System.out.println(clients + &quot; JSONClient(s) connected on port: &quot; + socket.getPort());\n    \n                try {\n                    // For JSON Protocol\n                    JSONObject jsonObject = receiveJSON();\n                    sendJSON(jsonObject);\n    \n                } catch (IOException e) {\n    \n                } finally {\n                    try {\n                        closeSocket();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n    \n            public void closeSocket() throws IOException {\n                socket.close();\n            }\n    \n    \n            /**\n             * use the JSON Protocol to receive a json object as\n             * String from the client and reconstructs that object\n             * @return JSONObejct with the same state (data) as\n             * the JSONObject the client sent as a String msg.\n             * @throws IOException\n             */\n            public JSONObject receiveJSON() throws IOException {\n                InputStream in = socket.getInputStream();\n                ObjectInputStream i = new ObjectInputStream(in);\n                JSONObject line = null;\n                try {\n                    line = (JSONObject) i.readObject();\n                    \n                } catch (ClassNotFoundException e) {\n                    // TODO Auto-generated catch block\n                     e.printStackTrace();\n                \n                }\n                \n                JSONObject jsonObject = new JSONObject(line);\n                System.out.println(&quot;Got from client on port &quot; + socket.getPort() + &quot; &quot; + jsonObject.get(&quot;key&quot;).toString());\n                return jsonObject;\n            }\n    \n    \n            public void sendJSON(JSONObject jsonObject) throws IOException {\n                   JSONObject jsonObject2 = new JSONObject();\n                 jsonObject2.put(&quot;key&quot;, new Paper(250,369));\n                 \n                 OutputStream out = socket.getOutputStream();\n                  ObjectOutputStream o = new ObjectOutputStream(out);\n                 o.writeObject(jsonObject2);\n                  out.flush();\n                  System.out.println(&quot;Sent to server: &quot; + &quot; &quot; + jsonObject2.get(&quot;key&quot;).toString());\n        }\n        }\n    \n        public void start(int port) throws IOException{\n            establish(port);\n            accept();\n        }\n    \n        public static void main(String[] args) {\n            JSONServer server = new JSONServer();\n    \n            try {\n                server.start(7777);\n    \n            } catch (IOException e) {\n                System.err.println(e.getMessage());\n                System.err.println(e);\n            }\n        }\n    }\n\n\n\nAlthough the Class Paper is serialize i get error:\n\n&gt; localhost org.json.JSONObject \n&gt;\n&gt; java.io.NotSerializableException: org.json.JSONObject","title":"How to send JSONobject over TCP?","body":"<p>i am trying to unterstand how to send my custom Object &quot;Paper&quot; which is serialized with JSON over TCP.</p>\n<p>The Client:</p>\n<pre><code>import org.json.JSONObject;\n\nimport java.io.*;\nimport java.net.ConnectException;\nimport java.net.NoRouteToHostException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.util.Scanner;\n\nimport model.*;\nimport view.*;\n\n/**\n\n */\npublic class JSONClient {\n\n    private String host;\n    private int port;\n    private Socket socket;\n    private final String DEFAULT_HOST = &quot;localhost&quot;;\n\n\n    public void connect(String host, int port) throws IOException {\n        this.host = host;\n        this.port = port;\n        socket = new Socket(host, port);\n        System.out.println(&quot;Client has been connected..&quot;);\n    }\n\n\n    /**\n     * use the JSON Protocol to receive a json object as\n     *  from the client and reconstructs that object\n     *\n     * @return JSONObejct with the same state (data) as\n     * the JSONObject the client sent as a String msg.\n     * @throws IOException\n     */\n    public JSONObject receiveJSON() throws IOException {\n        InputStream in = socket.getInputStream();\n        ObjectInputStream i = new ObjectInputStream(in);\n        JSONObject line = null;\n        try {\n            line = (JSONObject) i.readObject();\n            \n        } catch (ClassNotFoundException e) {\n            // TODO Auto-generated catch block\n             e.printStackTrace();\n        \n        }\n        \n        \n        return line;\n\n    }\n\n\n    public void sendJSON(JSONObject jsonObject) throws IOException {\n           JSONObject jsonObject2 = new JSONObject();\n        jsonObject2.put(&quot;key&quot;, new Paper(250,333));\n        \n         \n         OutputStream out = socket.getOutputStream();\n        ObjectOutputStream o = new ObjectOutputStream(out);\n         o.writeObject(jsonObject2);\n        out.flush();\n        System.out.println(&quot;Sent to server: &quot; + &quot; &quot; + jsonObject2.get(&quot;key&quot;).toString());\n    }\n\n\n    public static void main(String[] args) {\n        JSONClient client = new JSONClient();\n        try{\n\n            client.connect(&quot;localhost&quot;, 7777);\n            // For JSON call sendJSON(JSON json) &amp; receiveJSON();\n            JSONObject jsonObject2 = new JSONObject();\n            jsonObject2.put(&quot;key&quot;, new Paper(250,333));\n\n            client.sendJSON(jsonObject2);\n            client.receiveJSON();\n        }\n\n        catch (ConnectException e) {\n            System.err.println(client.host + &quot; connect refused&quot;);\n            return;\n        }\n\n        catch(UnknownHostException e){\n            System.err.println(client.host + &quot; Unknown host&quot;);\n            client.host = client.DEFAULT_HOST;\n            return;\n        }\n\n        catch (NoRouteToHostException e) {\n            System.err.println(client.host + &quot; Unreachable&quot;);\n            return;\n\n        }\n\n        catch (IllegalArgumentException e){\n            System.err.println(client.host + &quot; wrong port&quot;);\n            return;\n        }\n\n        catch(IOException e){\n            System.err.println(client.host + ' ' + e.getMessage());\n            System.err.println(e);\n        }\n        finally {\n            try {\n                client.socket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>The Server :</p>\n<pre><code>import model.*;\n\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\n/**\n */\npublic class JSONServer {\n\n\n    private ServerSocket serverSocket;\n    private int port;\n    public static int clients = 0;\n\n\n    public void establish(int port) throws IOException {\n        this.port = port;\n        serverSocket = new ServerSocket(port);\n        System.out.println(&quot;JSONServer has been established on port &quot; + port);\n\n    }\n\n\n    public void accept() throws IOException {\n        while (true) {\n            Socket socket = serverSocket.accept();\n            Runnable r = new MyThreadHandler(socket);\n            Thread t = new Thread(r);\n            t.start();\n        }\n    }\n\n    private static class MyThreadHandler implements Runnable {\n        private Socket socket;\n\n        MyThreadHandler(Socket socket) {\n            this.socket = socket;\n        }\n\n        @Override\n        public void run() {\n            clients++;\n            System.out.println(clients + &quot; JSONClient(s) connected on port: &quot; + socket.getPort());\n\n            try {\n                // For JSON Protocol\n                JSONObject jsonObject = receiveJSON();\n                sendJSON(jsonObject);\n\n            } catch (IOException e) {\n\n            } finally {\n                try {\n                    closeSocket();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        public void closeSocket() throws IOException {\n            socket.close();\n        }\n\n\n        /**\n         * use the JSON Protocol to receive a json object as\n         * String from the client and reconstructs that object\n         * @return JSONObejct with the same state (data) as\n         * the JSONObject the client sent as a String msg.\n         * @throws IOException\n         */\n        public JSONObject receiveJSON() throws IOException {\n            InputStream in = socket.getInputStream();\n            ObjectInputStream i = new ObjectInputStream(in);\n            JSONObject line = null;\n            try {\n                line = (JSONObject) i.readObject();\n                \n            } catch (ClassNotFoundException e) {\n                // TODO Auto-generated catch block\n                 e.printStackTrace();\n            \n            }\n            \n            JSONObject jsonObject = new JSONObject(line);\n            System.out.println(&quot;Got from client on port &quot; + socket.getPort() + &quot; &quot; + jsonObject.get(&quot;key&quot;).toString());\n            return jsonObject;\n        }\n\n\n        public void sendJSON(JSONObject jsonObject) throws IOException {\n               JSONObject jsonObject2 = new JSONObject();\n             jsonObject2.put(&quot;key&quot;, new Paper(250,369));\n             \n             OutputStream out = socket.getOutputStream();\n              ObjectOutputStream o = new ObjectOutputStream(out);\n             o.writeObject(jsonObject2);\n              out.flush();\n              System.out.println(&quot;Sent to server: &quot; + &quot; &quot; + jsonObject2.get(&quot;key&quot;).toString());\n    }\n    }\n\n    public void start(int port) throws IOException{\n        establish(port);\n        accept();\n    }\n\n    public static void main(String[] args) {\n        JSONServer server = new JSONServer();\n\n        try {\n            server.start(7777);\n\n        } catch (IOException e) {\n            System.err.println(e.getMessage());\n            System.err.println(e);\n        }\n    }\n}\n</code></pre>\n<p>Although the Class Paper is serialize i get error:</p>\n<blockquote>\n<p>localhost org.json.JSONObject</p>\n<p>java.io.NotSerializableException: org.json.JSONObject</p>\n</blockquote>\n"},{"tags":["java","xml","android-studio","dependencies"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1694180668,"post_id":77057269,"comment_id":135861531,"body_markdown":"Turned red? I don&#39;t see any in the screenshot. Can you elaborate?","body":"Turned red? I don&#39;t see any in the screenshot. Can you elaborate?"},{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1695674041,"post_id":77057269,"comment_id":136053459,"body_markdown":"try to rebuild the project, or invalidate caches and restart","body":"try to rebuild the project, or invalidate caches and restart"},{"owner":{"account_id":14047794,"reputation":101,"user_id":22173693,"display_name":"Shinobi"},"score":0,"creation_date":1695980873,"post_id":77057269,"comment_id":136098410,"body_markdown":"Ok , I got the solution for this problem. It all happened due to a dependency that I added in early stages of my App . Still I don&#39;t have an idea why it created a problem after so many days","body":"Ok , I got the solution for this problem. It all happened due to a dependency that I added in early stages of my App . Still I don&#39;t have an idea why it created a problem after so many days"}],"owner":{"account_id":14047794,"reputation":101,"user_id":22173693,"display_name":"Shinobi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694242689,"creation_date":1694070149,"question_id":77057269,"body_markdown":"[![enter image description here][1]][1]\r\nLast I remembered I included Picasso Dependency and this problem started . All my Layouts and widgets have turned red and I can&#39;t work properly. I noticed one thing as well that Button widget shows error but `AppCompatButton` works fine. I am also getting the notification  - code insight unavailable (script configuration wasn&#39;t received )\r\n[![enter image description here][2]][2]\r\n\r\nI tried changing the dependencies on my own still the errors showed up, removed Picasso dependency because the problem started from there but no result. **Note - My app works fine for the code I have written before this error , now it does not load widgets and layout for the new code.**\r\n\r\nIs there a way to solve this issue?\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kl3Gl.png\r\n  [2]: https://i.stack.imgur.com/Vb7fx.png\r\n  [3]: https://i.stack.imgur.com/y8mBq.png","title":"All my widgets in my xml file have turned red","body":"<p><a href=\"https://i.stack.imgur.com/kl3Gl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kl3Gl.png\" alt=\"enter image description here\" /></a>\nLast I remembered I included Picasso Dependency and this problem started . All my Layouts and widgets have turned red and I can't work properly. I noticed one thing as well that Button widget shows error but <code>AppCompatButton</code> works fine. I am also getting the notification  - code insight unavailable (script configuration wasn't received )\n<a href=\"https://i.stack.imgur.com/Vb7fx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vb7fx.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried changing the dependencies on my own still the errors showed up, removed Picasso dependency because the problem started from there but no result. <strong>Note - My app works fine for the code I have written before this error , now it does not load widgets and layout for the new code.</strong></p>\n<p>Is there a way to solve this issue?</p>\n<p><a href=\"https://i.stack.imgur.com/y8mBq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y8mBq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","string","char","palindrome"],"comments":[{"owner":{"account_id":21911,"reputation":10474,"user_id":2127508,"display_name":"barrowc"},"score":4,"creation_date":1289353676,"post_id":4138827,"comment_id":4465438,"body_markdown":"Not sure if this is intentional but the string in your example - reliefpfpfeiller - isn&#39;t a palindrome","body":"Not sure if this is intentional but the string in your example - reliefpfpfeiller - isn&#39;t a palindrome"}],"answers":[{"tags":[],"owner":{"account_id":38160,"reputation":54658,"user_id":109360,"accept_rate":98,"display_name":"dcp"},"down_vote_count":1,"up_vote_count":190,"is_accepted":true,"score":189,"last_activity_date":1431990301,"creation_date":1289338364,"answer_id":4138856,"question_id":4138827,"body_markdown":"Why not just:\r\n\r\n    public static boolean istPalindrom(char[] word){\r\n        int i1 = 0;\r\n        int i2 = word.length - 1;\r\n        while (i2 &gt; i1) {\r\n            if (word[i1] != word[i2]) {\r\n                return false;\r\n            }\r\n            ++i1;\r\n            --i2;\r\n        }\r\n        return true;\r\n    }\r\n\r\n**Example:**\r\n\r\nInput is &quot;andna&quot;.  \r\ni1 will be 0 and i2 will be 4.  \r\n\r\nFirst loop iteration we will compare `word[0]` and `word[4]`. They&#39;re equal, so we increment i1 (it&#39;s now 1) and decrement i2 (it&#39;s now 3).  \r\nSo we then compare the n&#39;s. They&#39;re equal, so we increment i1 (it&#39;s now 2) and decrement i2 (it&#39;s 2).  \r\nNow i1 and i2 are equal (they&#39;re both 2), so the condition for the while loop is no longer true so the loop terminates and we return true.","title":"Check string for palindrome","body":"<p>Why not just:</p>\n\n<pre><code>public static boolean istPalindrom(char[] word){\n    int i1 = 0;\n    int i2 = word.length - 1;\n    while (i2 &gt; i1) {\n        if (word[i1] != word[i2]) {\n            return false;\n        }\n        ++i1;\n        --i2;\n    }\n    return true;\n}\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<p>Input is \"andna\".<br>\ni1 will be 0 and i2 will be 4.  </p>\n\n<p>First loop iteration we will compare <code>word[0]</code> and <code>word[4]</code>. They're equal, so we increment i1 (it's now 1) and decrement i2 (it's now 3).<br>\nSo we then compare the n's. They're equal, so we increment i1 (it's now 2) and decrement i2 (it's 2).<br>\nNow i1 and i2 are equal (they're both 2), so the condition for the while loop is no longer true so the loop terminates and we return true.</p>\n"},{"tags":[],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550607568,"creation_date":1289338547,"answer_id":4138884,"question_id":4138827,"body_markdown":"    public class Palindromes {\r\n        public static void main(String[] args) {\r\n             String word = &quot;reliefpfpfeiller&quot;;\r\n             char[] warray = word.toCharArray(); \r\n             System.out.println(isPalindrome(warray));       \r\n        }\r\n\r\n        public static boolean isPalindrome(char[] word){\r\n            if(word.length%2 == 0){\r\n                for(int i = 0; i &lt; word.length/2-1; i++){\r\n                    if(word[i] != word[word.length-i-1]){\r\n                        return false;\r\n                    }\r\n                }\r\n            }else{\r\n                for(int i = 0; i &lt; (word.length-1)/2-1; i++){\r\n                    if(word[i] != word[word.length-i-1]){\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }","title":"Check string for palindrome","body":"<pre><code>public class Palindromes {\n    public static void main(String[] args) {\n         String word = \"reliefpfpfeiller\";\n         char[] warray = word.toCharArray(); \n         System.out.println(isPalindrome(warray));       \n    }\n\n    public static boolean isPalindrome(char[] word){\n        if(word.length%2 == 0){\n            for(int i = 0; i &lt; word.length/2-1; i++){\n                if(word[i] != word[word.length-i-1]){\n                    return false;\n                }\n            }\n        }else{\n            for(int i = 0; i &lt; (word.length-1)/2-1; i++){\n                if(word[i] != word[word.length-i-1]){\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":146892,"reputation":33550,"user_id":357641,"accept_rate":55,"display_name":"Greg"},"down_vote_count":1,"up_vote_count":119,"is_accepted":false,"score":118,"last_activity_date":1468440625,"creation_date":1289339667,"answer_id":4139065,"question_id":4138827,"body_markdown":"You can check if a string is a palindrome by comparing it to the reverse of itself:\r\n\r\n    public static boolean isPalindrome(String str) {\r\n        return str.equals(new StringBuilder(str).reverse().toString());\r\n    }\r\n\r\nor for versions of Java earlier than 1.5,\r\n\r\n    public static boolean isPalindrome(String str) {\r\n        return str.equals(new StringBuffer().append(str).reverse().toString());\r\n    }\r\n\r\n**EDIT:** @FernandoPelliccioni provided [a very thorough analysis][1] of the efficiency (or lack thereof) of this solution, both in terms of time and space. If you&#39;re interested in the computational complexity of this and other possible solutions to this question, please read it!\r\n\r\n\r\n  [1]: http://componentsprogramming.com/palindromes/","title":"Check string for palindrome","body":"<p>You can check if a string is a palindrome by comparing it to the reverse of itself:</p>\n\n<pre><code>public static boolean isPalindrome(String str) {\n    return str.equals(new StringBuilder(str).reverse().toString());\n}\n</code></pre>\n\n<p>or for versions of Java earlier than 1.5,</p>\n\n<pre><code>public static boolean isPalindrome(String str) {\n    return str.equals(new StringBuffer().append(str).reverse().toString());\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> @FernandoPelliccioni provided <a href=\"http://componentsprogramming.com/palindromes/\" rel=\"noreferrer\">a very thorough analysis</a> of the efficiency (or lack thereof) of this solution, both in terms of time and space. If you're interested in the computational complexity of this and other possible solutions to this question, please read it!</p>\n"},{"tags":[],"owner":{"account_id":31456,"reputation":2593,"user_id":86348,"accept_rate":100,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495641150,"creation_date":1307107696,"answer_id":6227716,"question_id":4138827,"body_markdown":"I worked on a solution for a question that was marked as duplicate of this one.\r\nMight as well throw it here...\r\n\r\nThe question requested a single line to solve this, and I took it more as the literary palindrome - so spaces, punctuation and upper/lower case can throw off the result.\r\n\r\nHere&#39;s the ugly solution with a small test class:\r\n\r\n    public class Palindrome {\r\n       public static boolean isPalendrome(String arg) {\r\n             return arg.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;).equalsIgnoreCase(new StringBuilder(arg).reverse().toString().replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;));\r\n       }\r\n       public static void main(String[] args) {\r\n          System.out.println(isPalendrome(&quot;hiya&quot;));\r\n          System.out.println(isPalendrome(&quot;star buttons not tub rats&quot;));\r\n          System.out.println(isPalendrome(&quot;stab nail at ill Italian bats!&quot;));\r\n          return;\r\n       }\r\n    }\r\n\r\nSorry that it is kind of nasty - but the other question specified a one-liner.\r\n","title":"Check string for palindrome","body":"<p>I worked on a solution for a question that was marked as duplicate of this one.\nMight as well throw it here...</p>\n\n<p>The question requested a single line to solve this, and I took it more as the literary palindrome - so spaces, punctuation and upper/lower case can throw off the result.</p>\n\n<p>Here's the ugly solution with a small test class:</p>\n\n<pre><code>public class Palindrome {\n   public static boolean isPalendrome(String arg) {\n         return arg.replaceAll(\"[^A-Za-z]\", \"\").equalsIgnoreCase(new StringBuilder(arg).reverse().toString().replaceAll(\"[^A-Za-z]\", \"\"));\n   }\n   public static void main(String[] args) {\n      System.out.println(isPalendrome(\"hiya\"));\n      System.out.println(isPalendrome(\"star buttons not tub rats\"));\n      System.out.println(isPalendrome(\"stab nail at ill Italian bats!\"));\n      return;\n   }\n}\n</code></pre>\n\n<p>Sorry that it is kind of nasty - but the other question specified a one-liner.</p>\n"},{"tags":[],"owner":{"account_id":2324746,"reputation":31,"user_id":2039532,"display_name":"user2039532"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360327820,"creation_date":1360327820,"answer_id":14772985,"question_id":4138827,"body_markdown":"    public class palindrome {\r\n\tpublic static void main(String[] args) {\r\n\t\tStringBuffer strBuf1 = new StringBuffer(&quot;malayalam&quot;);\r\n\t\tStringBuffer strBuf2 = new StringBuffer(&quot;malayalam&quot;);\r\n\t\tstrBuf2.reverse();\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(strBuf2);\r\n\t\tSystem.out.println((strBuf1.toString()).equals(strBuf2.toString()));\r\n\t\tif ((strBuf1.toString()).equals(strBuf2.toString()))\r\n\t\t\tSystem.out.println(&quot;palindrome&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;not a palindrome&quot;);\r\n\t}\r\n}","title":"Check string for palindrome","body":"<pre><code>public class palindrome {\npublic static void main(String[] args) {\n    StringBuffer strBuf1 = new StringBuffer(\"malayalam\");\n    StringBuffer strBuf2 = new StringBuffer(\"malayalam\");\n    strBuf2.reverse();\n\n\n    System.out.println(strBuf2);\n    System.out.println((strBuf1.toString()).equals(strBuf2.toString()));\n    if ((strBuf1.toString()).equals(strBuf2.toString()))\n        System.out.println(\"palindrome\");\n    else\n        System.out.println(\"not a palindrome\");\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1376373673,"creation_date":1361515340,"answer_id":15018381,"question_id":4138827,"body_markdown":"A concise version, that doesn&#39;t involve (inefficiently) initializing a bunch of objects:\r\n\r\n    boolean isPalindrome(String str) {    \r\n        int n = str.length();\r\n        for( int i = 0; i &lt; n/2; i++ )\r\n            if (str.charAt(i) != str.charAt(n-i-1)) return false;\r\n        return true;    \r\n    }","title":"Check string for palindrome","body":"<p>A concise version, that doesn't involve (inefficiently) initializing a bunch of objects:</p>\n\n<pre><code>boolean isPalindrome(String str) {    \n    int n = str.length();\n    for( int i = 0; i &lt; n/2; i++ )\n        if (str.charAt(i) != str.charAt(n-i-1)) return false;\n    return true;    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2480175,"reputation":11,"user_id":2159794,"display_name":"ARAVIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363073382,"creation_date":1363072784,"answer_id":15355427,"question_id":4138827,"body_markdown":"   \r\n\r\n   \r\nTry this out :\r\n\r\n    import java.util.*;\r\n        public class str {\r\n        \r\n        \tpublic static void main(String args[])\r\n        \t{\r\n        \t  Scanner in=new Scanner(System.in);\r\n        \t  System.out.println(&quot;ENTER YOUR STRING: &quot;);\r\n        \t  String a=in.nextLine();\r\n        \t  System.out.println(&quot;GIVEN STRING IS: &quot;+a);\r\n        \t  StringBuffer str=new StringBuffer(a);\r\n        \t  StringBuffer str2=new StringBuffer(str.reverse());\r\n        \t  String s2=new String(str2);\r\n        \t  System.out.println(&quot;THE REVERSED STRING IS: &quot;+str2);\r\n        \t\tif(a.equals(s2))\t\r\n        \t\t\tSystem.out.println(&quot;ITS A PALINDROME&quot;);\r\n        \t\telse\r\n        \t\t\tSystem.out.println(&quot;ITS NOT A PALINDROME&quot;);\r\n        \t\t}\r\n        }","title":"Check string for palindrome","body":"<p>Try this out :</p>\n\n<pre><code>import java.util.*;\n    public class str {\n\n        public static void main(String args[])\n        {\n          Scanner in=new Scanner(System.in);\n          System.out.println(\"ENTER YOUR STRING: \");\n          String a=in.nextLine();\n          System.out.println(\"GIVEN STRING IS: \"+a);\n          StringBuffer str=new StringBuffer(a);\n          StringBuffer str2=new StringBuffer(str.reverse());\n          String s2=new String(str2);\n          System.out.println(\"THE REVERSED STRING IS: \"+str2);\n            if(a.equals(s2))    \n                System.out.println(\"ITS A PALINDROME\");\n            else\n                System.out.println(\"ITS NOT A PALINDROME\");\n            }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1244316,"reputation":1355,"user_id":1206078,"accept_rate":91,"display_name":"Francisco Guti&#233;rrez"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1393922645,"creation_date":1393922645,"answer_id":22166864,"question_id":4138827,"body_markdown":"Go, Java:\r\n\r\n    public boolean isPalindrome (String word) {\r\n    \tString myWord = word.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\r\n    \tString reverse = new StringBuffer(myWord).reverse().toString();\r\n    \treturn reverse.equalsIgnoreCase(myWord);\r\n    }\r\n\r\n    isPalindrome(&quot;Never Odd or Even&quot;); // True\r\n    isPalindrome(&quot;Never Odd or Even1&quot;); // False","title":"Check string for palindrome","body":"<p>Go, Java:</p>\n\n<pre><code>public boolean isPalindrome (String word) {\n    String myWord = word.replaceAll(\"\\\\s+\",\"\");\n    String reverse = new StringBuffer(myWord).reverse().toString();\n    return reverse.equalsIgnoreCase(myWord);\n}\n\nisPalindrome(\"Never Odd or Even\"); // True\nisPalindrome(\"Never Odd or Even1\"); // False\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3738784,"reputation":322,"user_id":3109055,"accept_rate":79,"display_name":"gogobebe2"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418695723,"creation_date":1418695723,"answer_id":27496424,"question_id":4138827,"body_markdown":"I&#39;m new to java and I&#39;m taking up your question as a challenge to improve my knowledge.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class PalindromeRecursiveBoolean {\r\n    \r\n    \tpublic static boolean isPalindrome(String str) {\r\n    \r\n    \t\tstr = str.toUpperCase();\r\n    \t\tchar[] strChars = str.toCharArray();\r\n    \r\n    \t\tList&lt;Character&gt; word = new ArrayList&lt;&gt;();\r\n    \t\tfor (char c : strChars) {\r\n    \t\t\tword.add(c);\r\n    \t\t}\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\tif ((word.size() == 1) || (word.size() == 0)) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\tif (word.get(0) == word.get(word.size() - 1)) {\r\n    \t\t\t\tword.remove(0);\r\n    \t\t\t\tword.remove(word.size() - 1);\r\n    \t\t\t} else {\r\n    \t\t\t\treturn false;\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n 1. If the string is made of no letters or just one letter, it is a\r\n    palindrome.\r\n 2. Otherwise, compare the first and last letters of the string.\r\n - If the first and last letters differ, then the string is not a palindrome\r\n - Otherwise, the first and last letters are the same. Strip them from the string, and determine whether the string that remains is a palindrome. Take the answer for this smaller string and use it as the answer for the original string then repeat from **1**.\r\n\r\n","title":"Check string for palindrome","body":"<p>I'm new to java and I'm taking up your question as a challenge to improve my knowledge.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class PalindromeRecursiveBoolean {\n\n    public static boolean isPalindrome(String str) {\n\n        str = str.toUpperCase();\n        char[] strChars = str.toCharArray();\n\n        List&lt;Character&gt; word = new ArrayList&lt;&gt;();\n        for (char c : strChars) {\n            word.add(c);\n        }\n\n        while (true) {\n            if ((word.size() == 1) || (word.size() == 0)) {\n                return true;\n            }\n            if (word.get(0) == word.get(word.size() - 1)) {\n                word.remove(0);\n                word.remove(word.size() - 1);\n            } else {\n                return false;\n\n            }\n\n        }\n    }\n}\n</code></pre>\n\n<ol>\n<li>If the string is made of no letters or just one letter, it is a\npalindrome.</li>\n<li>Otherwise, compare the first and last letters of the string.\n<ul>\n<li>If the first and last letters differ, then the string is not a palindrome</li>\n<li>Otherwise, the first and last letters are the same. Strip them from the string, and determine whether the string that remains is a palindrome. Take the answer for this smaller string and use it as the answer for the original string then repeat from <strong>1</strong>.</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1312935,"reputation":53,"user_id":1260522,"display_name":"Amandeep Dhanjal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432857523,"creation_date":1432857523,"answer_id":30518998,"question_id":4138827,"body_markdown":"    public boolean isPalindrome(String abc){\r\n\t\tif(abc != null &amp;&amp; abc.length() &gt; 0){\r\n\t\t\tchar[] arr = abc.toCharArray();\r\n\t\t\tfor (int i = 0; i &lt; arr.length/2; i++) {\r\n\t\t\t\tif(arr[i] != arr[arr.length - 1 - i]){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"Check string for palindrome","body":"<pre><code>public boolean isPalindrome(String abc){\n    if(abc != null &amp;&amp; abc.length() &gt; 0){\n        char[] arr = abc.toCharArray();\n        for (int i = 0; i &lt; arr.length/2; i++) {\n            if(arr[i] != arr[arr.length - 1 - i]){\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":894976,"reputation":1299,"user_id":932458,"accept_rate":66,"display_name":"Madura Harshana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435144700,"creation_date":1435144700,"answer_id":31025116,"question_id":4138827,"body_markdown":"Another way is using char Array\r\n\r\n    public class Palindrome {\r\n\r\n    public static void main(String[] args) {\r\n\t\tString str = &quot;madam&quot;;\r\n\t\tif(isPalindrome(str)) {\r\n\t\t\tSystem.out.println(&quot;Palindrome&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Not a Palindrome&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static boolean isPalindrome(String str) {\r\n        // Convert String to char array\r\n\t\tchar[] charArray = str.toCharArray();  \r\n\t\tfor(int i=0; i &lt; str.length(); i++) {\r\n\t\t\tif(charArray[i] != charArray[(str.length()-1) - i]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n}","title":"Check string for palindrome","body":"<p>Another way is using char Array</p>\n\n<pre><code>public class Palindrome {\n\npublic static void main(String[] args) {\n    String str = \"madam\";\n    if(isPalindrome(str)) {\n        System.out.println(\"Palindrome\");\n    } else {\n        System.out.println(\"Not a Palindrome\");\n    }\n}\n\nprivate static boolean isPalindrome(String str) {\n    // Convert String to char array\n    char[] charArray = str.toCharArray();  \n    for(int i=0; i &lt; str.length(); i++) {\n        if(charArray[i] != charArray[(str.length()-1) - i]) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3318440,"reputation":129,"user_id":2790170,"accept_rate":22,"display_name":"Nitesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464234803,"creation_date":1449206067,"answer_id":34081338,"question_id":4138827,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    \r\n    public class Palindrom {\r\n    \t\r\n    \tpublic static void main(String []args)\r\n    \t{\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tString str= in.nextLine();\r\n    \t\tint x= str.length();\r\n    \t\t\r\n    \t\tif(x%2!=0)\r\n    \t\t{\r\n    \t\t\tfor(int i=0;i&lt;x/2;i++)\r\n    \t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\tif(str.charAt(i)==str.charAt(x-1-i))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\telse \r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;String is not a palindrom&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tfor(int i=0;i&lt;=x/2;i++)\r\n    \t\t\t{\r\n    \t\t\t\tif(str.charAt(i)==str.charAt(x-1-i))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\telse \r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;String is not a palindrom&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Check string for palindrome","body":"<pre><code>import java.util.Scanner;\n\n\npublic class Palindrom {\n\n    public static void main(String []args)\n    {\n        Scanner in = new Scanner(System.in);\n        String str= in.nextLine();\n        int x= str.length();\n\n        if(x%2!=0)\n        {\n            for(int i=0;i&lt;x/2;i++)\n            {\n\n                if(str.charAt(i)==str.charAt(x-1-i))\n                {\n                    continue;\n                }\n                else \n                {\n                    System.out.println(\"String is not a palindrom\");\n                    break;\n                }\n            }\n        }\n        else\n        {\n            for(int i=0;i&lt;=x/2;i++)\n            {\n                if(str.charAt(i)==str.charAt(x-1-i))\n                {\n                    continue;\n                }\n                else \n                {\n                    System.out.println(\"String is not a palindrom\");\n                    break;\n                }\n\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2808137,"reputation":35550,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1464234765,"creation_date":1464234765,"answer_id":37451272,"question_id":4138827,"body_markdown":"also a different looking solution:\r\n\r\n    public static boolean isPalindrome(String s) {\r\n    \r\n            for (int i=0 , j=s.length()-1 ; i&lt;j ; i++ , j-- ) {\r\n    \r\n                if ( s.charAt(i) != s.charAt(j) ) {\r\n                    return false;\r\n                }\r\n            }\r\n    \r\n            return true;\r\n        }","title":"Check string for palindrome","body":"<p>also a different looking solution:</p>\n\n<pre><code>public static boolean isPalindrome(String s) {\n\n        for (int i=0 , j=s.length()-1 ; i&lt;j ; i++ , j-- ) {\n\n            if ( s.charAt(i) != s.charAt(j) ) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6984916,"reputation":450,"user_id":5356283,"display_name":"Angela Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477295019,"creation_date":1477295019,"answer_id":40213110,"question_id":4138827,"body_markdown":"    private static boolean isPalindrome(String word) {\r\n    \r\n            int z = word.length();\r\n            boolean isPalindrome = false;\r\n    \r\n            for (int i = 0; i &lt;= word.length() / 2; i++) {\r\n                if (word.charAt(i) == word.charAt(--z)) {\r\n                    isPalindrome = true;\r\n                }\r\n            }\r\n    \r\n            return isPalindrome;\r\n        }","title":"Check string for palindrome","body":"<pre><code>private static boolean isPalindrome(String word) {\n\n        int z = word.length();\n        boolean isPalindrome = false;\n\n        for (int i = 0; i &lt;= word.length() / 2; i++) {\n            if (word.charAt(i) == word.charAt(--z)) {\n                isPalindrome = true;\n            }\n        }\n\n        return isPalindrome;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1209039,"reputation":14179,"user_id":1177959,"display_name":"Sotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477324292,"creation_date":1477324292,"answer_id":40222562,"question_id":4138827,"body_markdown":"I was looking for a solution that not only worked for palindromes like...\r\n\r\n - &quot;Kayak&quot;\r\n - &quot;Madam&quot;\r\n\r\n...but as well for...\r\n\r\n - &quot;A man, a plan, a canal, Panama!&quot;\r\n - &quot;Was it a car or a cat I saw?&quot;\r\n - &quot;No &#39;x&#39; in Nixon&quot;\r\n\r\n\r\n**Iterative**: [This has be proven as a good solution.][1]\r\n\r\n    private boolean isPalindromeIterative(final String string)\r\n        {\r\n            final char[] characters =\r\n                string.replaceAll(&quot;[\\\\W]&quot;, &quot;&quot;).toLowerCase().toCharArray();\r\n    \r\n            int iteratorLeft = 0;\r\n            int iteratorEnd = characters.length - 1;\r\n    \r\n            while (iteratorEnd &gt; iteratorLeft)\r\n            {\r\n                if (characters[iteratorLeft++] != characters[iteratorEnd--])\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n    \r\n            return true;\r\n        }\r\n\r\n**Recursive**. I think this solution shouldn&#39;t be much worse than the iterative one. Is a little bit crapy we need to extract the cleaning step out of the method to avoid unnecesary procesing.\r\n\r\n        \r\n\r\n    private boolean isPalindromeRecursive(final String string)\r\n            {\r\n                final String cleanString = string.replaceAll(&quot;[\\\\W]&quot;, &quot;&quot;).toLowerCase();\r\n                return isPalindromeRecursiveRecursion(cleanString);\r\n            }\r\n        \r\n    private boolean isPalindromeRecursiveRecursion(final String cleanString)\r\n            {\r\n                final int cleanStringLength = cleanString.length();\r\n        \r\n                return cleanStringLength &lt;= 1 || cleanString.charAt(0) ==\r\n                           cleanString.charAt(cleanStringLength - 1) &amp;&amp;\r\n                           isPalindromeRecursiveRecursion  \r\n                               (cleanString.substring(1, cleanStringLength - 1));\r\n            }\r\n\r\n**Reversing**: [This has been proved as a expensive solution.][2]\r\n\r\n    private boolean isPalindromeReversing(final String string)\r\n        {\r\n            final String cleanString = string.replaceAll(&quot;[\\\\W]&quot;, &quot;&quot;).toLowerCase();\r\n            return cleanString.equals(new StringBuilder(cleanString).reverse().toString());\r\n        }\r\n\r\nAll the credits to the guys answering in this post and bringing light to the topic.\r\n\r\n  [1]: http://componentsprogramming.com/palindromes/\r\n  [2]: http://componentsprogramming.com/palindromes/","title":"Check string for palindrome","body":"<p>I was looking for a solution that not only worked for palindromes like...</p>\n\n<ul>\n<li>\"Kayak\"</li>\n<li>\"Madam\"</li>\n</ul>\n\n<p>...but as well for...</p>\n\n<ul>\n<li>\"A man, a plan, a canal, Panama!\"</li>\n<li>\"Was it a car or a cat I saw?\"</li>\n<li>\"No 'x' in Nixon\"</li>\n</ul>\n\n<p><strong>Iterative</strong>: <a href=\"http://componentsprogramming.com/palindromes/\" rel=\"nofollow\">This has be proven as a good solution.</a></p>\n\n<pre><code>private boolean isPalindromeIterative(final String string)\n    {\n        final char[] characters =\n            string.replaceAll(\"[\\\\W]\", \"\").toLowerCase().toCharArray();\n\n        int iteratorLeft = 0;\n        int iteratorEnd = characters.length - 1;\n\n        while (iteratorEnd &gt; iteratorLeft)\n        {\n            if (characters[iteratorLeft++] != characters[iteratorEnd--])\n            {\n                return false;\n            }\n        }\n\n        return true;\n    }\n</code></pre>\n\n<p><strong>Recursive</strong>. I think this solution shouldn't be much worse than the iterative one. Is a little bit crapy we need to extract the cleaning step out of the method to avoid unnecesary procesing.</p>\n\n<pre><code>private boolean isPalindromeRecursive(final String string)\n        {\n            final String cleanString = string.replaceAll(\"[\\\\W]\", \"\").toLowerCase();\n            return isPalindromeRecursiveRecursion(cleanString);\n        }\n\nprivate boolean isPalindromeRecursiveRecursion(final String cleanString)\n        {\n            final int cleanStringLength = cleanString.length();\n\n            return cleanStringLength &lt;= 1 || cleanString.charAt(0) ==\n                       cleanString.charAt(cleanStringLength - 1) &amp;&amp;\n                       isPalindromeRecursiveRecursion  \n                           (cleanString.substring(1, cleanStringLength - 1));\n        }\n</code></pre>\n\n<p><strong>Reversing</strong>: <a href=\"http://componentsprogramming.com/palindromes/\" rel=\"nofollow\">This has been proved as a expensive solution.</a></p>\n\n<pre><code>private boolean isPalindromeReversing(final String string)\n    {\n        final String cleanString = string.replaceAll(\"[\\\\W]\", \"\").toLowerCase();\n        return cleanString.equals(new StringBuilder(cleanString).reverse().toString());\n    }\n</code></pre>\n\n<p>All the credits to the guys answering in this post and bringing light to the topic.</p>\n"},{"tags":[],"owner":{"account_id":2903039,"reputation":2285,"user_id":2489212,"display_name":"Keith OYS"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1558651067,"creation_date":1477834760,"answer_id":40329718,"question_id":4138827,"body_markdown":"Alternatively, ***recursion***.\r\n\r\nFor anybody who is looking for a shorter recursive solution, to check if a given string satisfies as a palindrome:\r\n\r\n\tprivate boolean isPalindrome(String s) {\r\n\t\tint length = s.length();\r\n\r\n\t\tif (length &lt; 2) // If the string only has 1 char or is empty\r\n\t\t\treturn true;\r\n\t\telse {\r\n\t\t\t// Check opposite ends of the string for equality\r\n\t\t\tif (s.charAt(0) != s.charAt(length - 1))\r\n\t\t\t\treturn false;\r\n\t\t\t// Function call for string with the two ends snipped off\r\n\t\t\telse\r\n\t\t\t\treturn isPalindrome(s.substring(1, length - 1));\r\n\t\t}\r\n\t}\r\n\r\n----------\r\n\r\n**OR** even *shorter*, if you&#39;d like:\r\n\r\n\tprivate boolean isPalindrome(String s) {\r\n\t\tint length = s.length();\r\n\t\tif (length &lt; 2) return true;\r\n\t\treturn s.charAt(0) != s.charAt(length - 1) ? false :\r\n\t\t\t\tisPalindrome(s.substring(1, length - 1));\r\n\t}","title":"Check string for palindrome","body":"<p>Alternatively, <strong><em>recursion</em></strong>.</p>\n\n<p>For anybody who is looking for a shorter recursive solution, to check if a given string satisfies as a palindrome:</p>\n\n<pre><code>private boolean isPalindrome(String s) {\n    int length = s.length();\n\n    if (length &lt; 2) // If the string only has 1 char or is empty\n        return true;\n    else {\n        // Check opposite ends of the string for equality\n        if (s.charAt(0) != s.charAt(length - 1))\n            return false;\n        // Function call for string with the two ends snipped off\n        else\n            return isPalindrome(s.substring(1, length - 1));\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>OR</strong> even <em>shorter</em>, if you'd like:</p>\n\n<pre><code>private boolean isPalindrome(String s) {\n    int length = s.length();\n    if (length &lt; 2) return true;\n    return s.charAt(0) != s.charAt(length - 1) ? false :\n            isPalindrome(s.substring(1, length - 1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":988285,"reputation":870,"user_id":1006264,"display_name":"Fernando Pelliccioni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479133721,"creation_date":1479133721,"answer_id":40591073,"question_id":4138827,"body_markdown":"Here my analysis of the @Greg answer: [componentsprogramming.com/palindromes][1] \r\n\r\n---\r\n\r\n*Sidenote:* But, for me it is important to do it in a **Generic way**.\r\nThe requirements are that the sequence is bidirectionally iterable and the elements of the sequence are comparables using equality.\r\nI don&#39;t know how to do it in Java, but, here is a C++ version, I don&#39;t know a better way to do it for bidirectional sequences.\r\n\r\n    template &lt;BidirectionalIterator I&gt; \r\n        requires( EqualityComparable&lt; ValueType&lt;I&gt; &gt; ) \r\n    bool palindrome( I first, I last ) \r\n    { \r\n        I m = middle(first, last); \r\n        auto rfirst = boost::make_reverse_iterator(last); \r\n        return std::equal(first, m, rfirst); \r\n    } \r\n\r\nComplexity: linear-time,  \r\n\r\n- If I is RandomAccessIterator: \r\nfloor(n/2) comparissons and floor(n/2)*2 iterations\r\n\r\n- If I is BidirectionalIterator: \r\n                 floor(n/2) comparissons and floor(n/2)*2 iterations\r\n                 plus (3/2)*n iterations to find the middle ( middle function ) \r\n\r\n- storage: O(1)\r\n\r\n- No dymamic allocated memory\r\n\r\n---\r\n  [1]: http://componentsprogramming.com/palindromes\r\n","title":"Check string for palindrome","body":"<p>Here my analysis of the @Greg answer: <a href=\"http://componentsprogramming.com/palindromes\" rel=\"nofollow noreferrer\">componentsprogramming.com/palindromes</a> </p>\n\n<hr>\n\n<p><em>Sidenote:</em> But, for me it is important to do it in a <strong>Generic way</strong>.\nThe requirements are that the sequence is bidirectionally iterable and the elements of the sequence are comparables using equality.\nI don't know how to do it in Java, but, here is a C++ version, I don't know a better way to do it for bidirectional sequences.</p>\n\n<pre><code>template &lt;BidirectionalIterator I&gt; \n    requires( EqualityComparable&lt; ValueType&lt;I&gt; &gt; ) \nbool palindrome( I first, I last ) \n{ \n    I m = middle(first, last); \n    auto rfirst = boost::make_reverse_iterator(last); \n    return std::equal(first, m, rfirst); \n} \n</code></pre>\n\n<p>Complexity: linear-time,  </p>\n\n<ul>\n<li><p>If I is RandomAccessIterator: \nfloor(n/2) comparissons and floor(n/2)*2 iterations</p></li>\n<li><p>If I is BidirectionalIterator: \n             floor(n/2) comparissons and floor(n/2)*2 iterations\n             plus (3/2)*n iterations to find the middle ( middle function ) </p></li>\n<li><p>storage: O(1)</p></li>\n<li><p>No dymamic allocated memory</p></li>\n</ul>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":5333573,"reputation":1377,"user_id":4253424,"display_name":"huseyin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481183048,"creation_date":1481183048,"answer_id":41034276,"question_id":4138827,"body_markdown":"Considering not letters in the words\r\n\r\n    public static boolean palindromeWords(String s ){\r\n    \r\n            int left=0;\r\n            int right=s.length()-1;\r\n    \r\n            while(left&lt;=right){\r\n    \r\n                while(left&lt;right &amp;&amp; !Character.isLetter(s.charAt(left))){\r\n                    left++;\r\n                }\r\n                while(right&gt;0 &amp;&amp; !Character.isLetter(s.charAt(right))){\r\n                    right--;\r\n                }\r\n    \r\n                if((s.charAt(left++))!=(s.charAt(right--))){\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n———\r\n\r\n\r\n    @Test\r\n    public void testPalindromeWords(){\r\n        assertTrue(StringExercise.palindromeWords(&quot;ece&quot;));\r\n        assertTrue(StringExercise.palindromeWords(&quot;kavak&quot;));\r\n        assertFalse(StringExercise.palindromeWords(&quot;kavakdf&quot;));\r\n        assertTrue(StringExercise.palindromeWords(&quot;akka&quot;));\r\n        assertTrue(StringExercise.palindromeWords(&quot;??e@@c_--e&quot;));\r\n    }","title":"Check string for palindrome","body":"<p>Considering not letters in the words</p>\n\n<pre><code>public static boolean palindromeWords(String s ){\n\n        int left=0;\n        int right=s.length()-1;\n\n        while(left&lt;=right){\n\n            while(left&lt;right &amp;&amp; !Character.isLetter(s.charAt(left))){\n                left++;\n            }\n            while(right&gt;0 &amp;&amp; !Character.isLetter(s.charAt(right))){\n                right--;\n            }\n\n            if((s.charAt(left++))!=(s.charAt(right--))){\n                return false;\n            }\n        }\n        return true;\n    }\n</code></pre>\n\n<p>———</p>\n\n<pre><code>@Test\npublic void testPalindromeWords(){\n    assertTrue(StringExercise.palindromeWords(\"ece\"));\n    assertTrue(StringExercise.palindromeWords(\"kavak\"));\n    assertFalse(StringExercise.palindromeWords(\"kavakdf\"));\n    assertTrue(StringExercise.palindromeWords(\"akka\"));\n    assertTrue(StringExercise.palindromeWords(\"??e@@c_--e\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8119159,"reputation":151,"user_id":6116522,"accept_rate":0,"display_name":"Md. Nasir Uddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482515303,"creation_date":1482514999,"answer_id":41305719,"question_id":4138827,"body_markdown":"   **Here you can check palindrome a number of String dynamically**\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Checkpalindrome {\r\n\t public static void main(String args[]) {\r\n\t  String original, reverse = &quot;&quot;;\r\n\t  Scanner in = new Scanner(System.in);\r\n\t  System.out.println(&quot;Enter How Many number of Input you want : &quot;);\r\n      int numOfInt = in.nextInt();\r\n\t  original = in.nextLine();\r\n\tdo {\r\n\t  if (numOfInt == 0) {\r\n\t    System.out.println(&quot;Your Input Conplete&quot;);\r\n\t   } \r\n      else {\r\n\t    System.out.println(&quot;Enter a string to check palindrome&quot;);\r\n\t    original = in.nextLine();\r\n\r\n\t    StringBuffer buffer = new StringBuffer(original);\r\n\t    reverse = buffer.reverse().toString();\r\n\r\n\t  if (original.equalsIgnoreCase(reverse)) {\r\n\t    System.out.println(&quot;The entered string is Palindrome:&quot;+reverse);\r\n\t   } \r\n      else {\r\n\t    System.out.println(&quot;The entered string is not Palindrome:&quot;+reverse);\r\n\t\t}\r\n\t }\r\n       numOfInt--;\r\n\t\t} while (numOfInt &gt;= 0);\r\n\t}\r\n    }\r\n\r\n","title":"Check string for palindrome","body":"<p><strong>Here you can check palindrome a number of String dynamically</strong></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Checkpalindrome {\n public static void main(String args[]) {\n  String original, reverse = \"\";\n  Scanner in = new Scanner(System.in);\n  System.out.println(\"Enter How Many number of Input you want : \");\n  int numOfInt = in.nextInt();\n  original = in.nextLine();\ndo {\n  if (numOfInt == 0) {\n    System.out.println(\"Your Input Conplete\");\n   } \n  else {\n    System.out.println(\"Enter a string to check palindrome\");\n    original = in.nextLine();\n\n    StringBuffer buffer = new StringBuffer(original);\n    reverse = buffer.reverse().toString();\n\n  if (original.equalsIgnoreCase(reverse)) {\n    System.out.println(\"The entered string is Palindrome:\"+reverse);\n   } \n  else {\n    System.out.println(\"The entered string is not Palindrome:\"+reverse);\n    }\n }\n   numOfInt--;\n    } while (numOfInt &gt;= 0);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1317112,"reputation":1575,"user_id":1263727,"accept_rate":86,"display_name":"john Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483911928,"creation_date":1483911928,"answer_id":41538239,"question_id":4138827,"body_markdown":"IMO, the recursive way is the simplest and clearest.\r\n\r\n    public static boolean isPal(String s)\r\n    {   \r\n        if(s.length() == 0 || s.length() == 1)\r\n            return true; \r\n        if(s.charAt(0) == s.charAt(s.length()-1))\r\n           return isPal(s.substring(1, s.length()-1));                \r\n       return false;\r\n    }","title":"Check string for palindrome","body":"<p>IMO, the recursive way is the simplest and clearest.</p>\n\n<pre><code>public static boolean isPal(String s)\n{   \n    if(s.length() == 0 || s.length() == 1)\n        return true; \n    if(s.charAt(0) == s.charAt(s.length()-1))\n       return isPal(s.substring(1, s.length()-1));                \n   return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":366370,"reputation":2002,"user_id":711855,"display_name":"juanmf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486138896,"creation_date":1486138896,"answer_id":42028636,"question_id":4138827,"body_markdown":"here, checking for the largest palindrome in a string, always starting from 1st char.\r\n\r\n    public static String largestPalindromeInString(String in) {\r\n        int right = in.length() - 1;\r\n        int left = 0;\r\n        char[] word = in.toCharArray();\r\n        while (right &gt; left &amp;&amp; word[right] != word[left]) {\r\n            right--;\r\n        }\r\n        int lenght = right + 1;\r\n        while (right &gt; left &amp;&amp; word[right] == word[left]) {\r\n\r\n            left++;\r\n            right--;\r\n\r\n        }\r\n        if (0 &gt;= right - left) {\r\n            return new String(Arrays.copyOf(word, lenght ));\r\n        } else {\r\n            return largestPalindromeInString(\r\n                    new String(Arrays.copyOf(word, in.length() - 1)));\r\n        }\r\n    }\r\n","title":"Check string for palindrome","body":"<p>here, checking for the largest palindrome in a string, always starting from 1st char.</p>\n\n<pre><code>public static String largestPalindromeInString(String in) {\n    int right = in.length() - 1;\n    int left = 0;\n    char[] word = in.toCharArray();\n    while (right &gt; left &amp;&amp; word[right] != word[left]) {\n        right--;\n    }\n    int lenght = right + 1;\n    while (right &gt; left &amp;&amp; word[right] == word[left]) {\n\n        left++;\n        right--;\n\n    }\n    if (0 &gt;= right - left) {\n        return new String(Arrays.copyOf(word, lenght ));\n    } else {\n        return largestPalindromeInString(\n                new String(Arrays.copyOf(word, in.length() - 1)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3602,"user_id":6714430,"display_name":"rashedcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490725417,"creation_date":1490725417,"answer_id":43077155,"question_id":4138827,"body_markdown":"Code Snippet:\r\n-------------\r\n\r\n  \r\n    import java.util.Scanner;\r\n\r\n     class main\r\n     {\r\n        public static void main(String []args)\r\n        {\r\n    \t   Scanner sc = new Scanner(System.in);\r\n    \t   String str = sc.next();\r\n    \t   String reverse = new StringBuffer(str).reverse().toString();\r\n    \t\t\r\n    \t\tif(str.equals(reverse))\r\n    \t\t\tSystem.out.println(&quot;Pallindrome&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;Not Pallindrome&quot;);\r\n    \t }\r\n    }\r\n\r\n\r\n\r\n","title":"Check string for palindrome","body":"<h2>Code Snippet:</h2>\n\n<pre><code>import java.util.Scanner;\n\n class main\n {\n    public static void main(String []args)\n    {\n       Scanner sc = new Scanner(System.in);\n       String str = sc.next();\n       String reverse = new StringBuffer(str).reverse().toString();\n\n        if(str.equals(reverse))\n            System.out.println(\"Pallindrome\");\n        else\n            System.out.println(\"Not Pallindrome\");\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2733341,"reputation":10415,"user_id":2356570,"accept_rate":73,"display_name":"capt.swag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492671391,"creation_date":1492671391,"answer_id":43512323,"question_id":4138827,"body_markdown":"Recently I wrote a palindrome program which doesn&#39;t use StringBuilder. A late answer but this might come in handy to some people.\r\n\r\n    public boolean isPalindrome(String value) {\r\n        boolean isPalindrome = true;\r\n        for (int i = 0 , j = value.length() - 1 ; i &lt; j ; i ++ , j --) {\r\n            if (value.charAt(i) != value.charAt(j)) {\r\n                isPalindrome = false;\r\n            }\r\n        }\r\n        return isPalindrome;\r\n    }","title":"Check string for palindrome","body":"<p>Recently I wrote a palindrome program which doesn't use StringBuilder. A late answer but this might come in handy to some people.</p>\n\n<pre><code>public boolean isPalindrome(String value) {\n    boolean isPalindrome = true;\n    for (int i = 0 , j = value.length() - 1 ; i &lt; j ; i ++ , j --) {\n        if (value.charAt(i) != value.charAt(j)) {\n            isPalindrome = false;\n        }\n    }\n    return isPalindrome;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5380271,"reputation":359,"user_id":4285699,"accept_rate":27,"display_name":"aayushi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492673074,"creation_date":1492673074,"answer_id":43512842,"question_id":4138827,"body_markdown":"Using stack, it can be done like this\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n    import java.util.*;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            String str=in.nextLine();\r\n            str.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\r\n            //System.out.println(str);\r\n            Stack&lt;String&gt; stack=new Stack&lt;String&gt;();\r\n            stack.push(str);\r\n            String str_rev=stack.pop();\r\n            if(str.equals(str_rev)){\r\n                System.out.println(&quot;Palindrome&quot;); \r\n            }else{\r\n                 System.out.println(&quot;Not Palindrome&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Check string for palindrome","body":"<p>Using stack, it can be done like this</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\nimport java.util.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String str=in.nextLine();\n        str.replaceAll(\"\\\\s+\",\"\");\n        //System.out.println(str);\n        Stack&lt;String&gt; stack=new Stack&lt;String&gt;();\n        stack.push(str);\n        String str_rev=stack.pop();\n        if(str.equals(str_rev)){\n            System.out.println(\"Palindrome\"); \n        }else{\n             System.out.println(\"Not Palindrome\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493707797,"creation_date":1493707797,"answer_id":43731782,"question_id":4138827,"body_markdown":"And here a complete Java 8 **streaming** solution. An **IntStream** provides all indexes til strings half length and then a comparision from the start and from the end is done.\r\n\r\n    public static void main(String[] args) {\r\n        for (String testStr : Arrays.asList(&quot;testset&quot;, &quot;none&quot;, &quot;andna&quot;, &quot;haah&quot;, &quot;habh&quot;, &quot;haaah&quot;)) {\r\n            System.out.println(&quot;testing &quot; + testStr + &quot; is palindrome=&quot; + isPalindrome(testStr));\r\n        }\r\n    }\r\n\r\n    public static boolean isPalindrome(String str) {\r\n        return IntStream.range(0, str.length() / 2)\r\n                .noneMatch(i -&gt; str.charAt(i) != str.charAt(str.length() - i - 1));\r\n    }\r\n\r\nOutput is:\r\n\r\n    testing testset is palindrome=true\r\n    testing none is palindrome=false\r\n    testing andna is palindrome=true\r\n    testing haah is palindrome=true\r\n    testing habh is palindrome=false\r\n    testing haaah is palindrome=true\r\n\r\n","title":"Check string for palindrome","body":"<p>And here a complete Java 8 <strong>streaming</strong> solution. An <strong>IntStream</strong> provides all indexes til strings half length and then a comparision from the start and from the end is done.</p>\n\n<pre><code>public static void main(String[] args) {\n    for (String testStr : Arrays.asList(\"testset\", \"none\", \"andna\", \"haah\", \"habh\", \"haaah\")) {\n        System.out.println(\"testing \" + testStr + \" is palindrome=\" + isPalindrome(testStr));\n    }\n}\n\npublic static boolean isPalindrome(String str) {\n    return IntStream.range(0, str.length() / 2)\n            .noneMatch(i -&gt; str.charAt(i) != str.charAt(str.length() - i - 1));\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>testing testset is palindrome=true\ntesting none is palindrome=false\ntesting andna is palindrome=true\ntesting haah is palindrome=true\ntesting habh is palindrome=false\ntesting haaah is palindrome=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9643278,"reputation":309,"user_id":7156878,"display_name":"Chandara Chea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495802017,"creation_date":1495802017,"answer_id":44201746,"question_id":4138827,"body_markdown":"     public static boolean isPalindrome(String word) {\r\n        String str = &quot;&quot;;\r\n        for (int i=word.length()-1; i&gt;=0;  i--){\r\n            str = str + word.charAt(i);\r\n        }\r\n       if(str.equalsIgnoreCase(word)){\r\n           return true;\r\n       }else{\r\n           return false;\r\n       }\r\n   \r\n    }","title":"Check string for palindrome","body":"<pre><code> public static boolean isPalindrome(String word) {\n    String str = \"\";\n    for (int i=word.length()-1; i&gt;=0;  i--){\n        str = str + word.charAt(i);\n    }\n   if(str.equalsIgnoreCase(word)){\n       return true;\n   }else{\n       return false;\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83755,"reputation":2018,"user_id":234632,"accept_rate":73,"display_name":"Abhilash Muthuraj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496424460,"creation_date":1496424460,"answer_id":44334413,"question_id":4138827,"body_markdown":"Checking palindrome for first half of the string with the rest, this case assumes removal of any white spaces.\r\n\r\n    \t\r\n    public int isPalindrome(String a) {\r\n    \t\t//Remove all spaces and non alpha characters\r\n    \t\tString ab = a.replaceAll(&quot;[^A-Za-z0-9]&quot;, &quot;&quot;).toLowerCase();\r\n    \t\t//System.out.println(ab);\r\n    \t\t\r\n    \t\tfor (int i=0; i&lt;ab.length()/2; i++) {\r\n    \t\t\tif(ab.charAt(i) != ab.charAt((ab.length()-1)-i)) {\r\n    \t\t\t\treturn 0;\r\n    \t\t\t}\r\n    \t\t}\t\r\n    \t\treturn 1;\r\n    \t}","title":"Check string for palindrome","body":"<p>Checking palindrome for first half of the string with the rest, this case assumes removal of any white spaces.</p>\n\n<pre><code>public int isPalindrome(String a) {\n        //Remove all spaces and non alpha characters\n        String ab = a.replaceAll(\"[^A-Za-z0-9]\", \"\").toLowerCase();\n        //System.out.println(ab);\n\n        for (int i=0; i&lt;ab.length()/2; i++) {\n            if(ab.charAt(i) != ab.charAt((ab.length()-1)-i)) {\n                return 0;\n            }\n        }   \n        return 1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497258921,"creation_date":1497258921,"answer_id":44495675,"question_id":4138827,"body_markdown":"\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Scanner;\r\n    import java.util.Set;\r\n    \r\n    public class GetAllPalindromes \r\n    {\r\n    \tstatic Scanner in;\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tin = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter a string \\n&quot;);\r\n    \t\tString abc = in.nextLine();\r\n    \t\tSet a = printAllPalindromes(abc);\r\n    \t\tSystem.out.println(&quot;set is   &quot; + a);\r\n    \t}\r\n    \t\r\n    \tpublic static Set&lt;CharSequence&gt; printAllPalindromes(String input) \r\n    \t{\r\n    \t\tif (input.length() &lt;= 2) {\r\n    \t\t\treturn Collections.emptySet();\r\n    \t\t}\r\n    \t\r\n    \t\tSet&lt;CharSequence&gt; out = new HashSet&lt;CharSequence&gt;();\r\n    \t\tint length = input.length();\r\n    \t\r\n    \t\tfor (int i = 1; i &lt; length - 1; i++) \r\n    \t\t{\r\n    \t\t\tfor (int j = i - 1, k = i + 1; j &gt;= 0 &amp;&amp; k &lt; length; j--, k++) \r\n    \t\t\t{\r\n    \t\t\t\tif (input.charAt(j) == input.charAt(k)) {\r\n    \t\t\t\t\tout.add(input.subSequence(j, k + 1));\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn out;\r\n    \t}\r\n    }\r\n    \r\n    **Get All Palindrome in s given string**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/37B5W.png\r\n\r\n**Output** \r\nD:\\Java&gt;java GetAllPalindromes\r\nEnter a string\r\n\r\n**Hello user nitin is my best friend wow !**\r\n\r\n\r\n**Answer is** set is   [nitin,  nitin ,  wow , wow, iti]\r\n\r\nD:\\Java&gt;\r\n\r\n\r\n\r\n","title":"Check string for palindrome","body":"<p><a href=\"https://i.stack.imgur.com/37B5W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/37B5W.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Scanner;\nimport java.util.Set;\n\npublic class GetAllPalindromes \n{\n    static Scanner in;\n\n    public static void main(String[] args) \n    {\n        in = new Scanner(System.in);\n        System.out.println(\"Enter a string \\n\");\n        String abc = in.nextLine();\n        Set a = printAllPalindromes(abc);\n        System.out.println(\"set is   \" + a);\n    }\n\n    public static Set&lt;CharSequence&gt; printAllPalindromes(String input) \n    {\n        if (input.length() &lt;= 2) {\n            return Collections.emptySet();\n        }\n\n        Set&lt;CharSequence&gt; out = new HashSet&lt;CharSequence&gt;();\n        int length = input.length();\n\n        for (int i = 1; i &lt; length - 1; i++) \n        {\n            for (int j = i - 1, k = i + 1; j &gt;= 0 &amp;&amp; k &lt; length; j--, k++) \n            {\n                if (input.charAt(j) == input.charAt(k)) {\n                    out.add(input.subSequence(j, k + 1));\n                } else {\n                    break;\n                }\n            }\n        }\n        return out;\n    }\n}\n\n**Get All Palindrome in s given string**\n</code></pre>\n\n<p><strong>Output</strong> \nD:\\Java>java GetAllPalindromes\nEnter a string</p>\n\n<p><strong>Hello user nitin is my best friend wow !</strong></p>\n\n<p><strong>Answer is</strong> set is   [nitin,  nitin ,  wow , wow, iti]</p>\n\n<p>D:\\Java></p>\n"},{"tags":[],"owner":{"account_id":450915,"reputation":5988,"user_id":846504,"accept_rate":47,"display_name":"george mano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501244778,"creation_date":1501244778,"answer_id":45373504,"question_id":4138827,"body_markdown":"   For-loop contains `sub.length() / 2 - 1` . It has to be subtracted with 1 as the element in the middle of the string does not have to checked. \r\n\r\nFor example, if we have to check an string with 7 chars (1234567), then 7/2 =&gt; 3 and then we subtrack 1, and so the positions in the string will become (0123456). The chars checked with be the 0, 1, 2 element with the 6, 5, 4 respectively. We do not care about the element at the position 3 as it is in the exact middle of the string.  \r\n\r\n   \r\n\r\n\r\n\r\n     private boolean isPalindromic(String sub) {\r\n            for (int i = 0; i &lt;= sub.length() / 2 - 1; i++) {\r\n                if (sub.charAt(i) != sub.charAt(sub.length() - 1 - i)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }","title":"Check string for palindrome","body":"<p>For-loop contains <code>sub.length() / 2 - 1</code> . It has to be subtracted with 1 as the element in the middle of the string does not have to checked. </p>\n\n<p>For example, if we have to check an string with 7 chars (1234567), then 7/2 => 3 and then we subtrack 1, and so the positions in the string will become (0123456). The chars checked with be the 0, 1, 2 element with the 6, 5, 4 respectively. We do not care about the element at the position 3 as it is in the exact middle of the string.  </p>\n\n<pre><code> private boolean isPalindromic(String sub) {\n        for (int i = 0; i &lt;= sub.length() / 2 - 1; i++) {\n            if (sub.charAt(i) != sub.charAt(sub.length() - 1 - i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10499540,"reputation":301,"user_id":7738644,"accept_rate":29,"display_name":"Madhusudhan R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514473962,"creation_date":1514472577,"answer_id":48009569,"question_id":4138827,"body_markdown":"    package basicprogm;\r\n\r\n    public class pallindrome {\r\n\r\n\t  public static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tString s= &quot;madam&quot; ;\r\n\t\t//to store the values that we got in loop\r\n\t\tString t=&quot;&quot;;\r\n\t    for(int i=s.length()-1;i&gt;=0;i--){\r\n \t  \t  t=t+s.charAt(i);\r\n\t    }\r\n\t    System.out.println(&quot;reversed word is &quot;+ t);\r\n\t\r\n\t    if (t.matches(s)){\r\n\t\t  System.out.println(&quot;pallindrome&quot;);\r\n\t    }\r\n\t    else{\r\n\t\t  System.out.println(&quot;not pallindrome&quot;);\r\n\t    }\r\n\t  }\r\n    }\r\n","title":"Check string for palindrome","body":"<pre><code>package basicprogm;\n\npublic class pallindrome {\n\n  public static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    String s= \"madam\" ;\n    //to store the values that we got in loop\n    String t=\"\";\n    for(int i=s.length()-1;i&gt;=0;i--){\n      t=t+s.charAt(i);\n    }\n    System.out.println(\"reversed word is \"+ t);\n\n    if (t.matches(s)){\n      System.out.println(\"pallindrome\");\n    }\n    else{\n      System.out.println(\"not pallindrome\");\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5190004,"reputation":667,"user_id":4153207,"accept_rate":100,"display_name":"Felix"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1516293214,"creation_date":1516293214,"answer_id":48326094,"question_id":4138827,"body_markdown":"Amazing how many different solutions to such a simple problem exist! Here&#39;s another one.      \r\n\r\n    private static boolean palindrome(String s){\r\n        String revS = &quot;&quot;;\r\n        String checkS = s.toLowerCase();\r\n        String[] checkSArr = checkS.split(&quot;&quot;);\r\n\r\n        for(String e : checkSArr){\r\n            revS = e + revS;\r\n        }\r\n\r\n        return (checkS.equals(revS)) ? true : false;\r\n    }","title":"Check string for palindrome","body":"<p>Amazing how many different solutions to such a simple problem exist! Here's another one.      </p>\n\n<pre><code>private static boolean palindrome(String s){\n    String revS = \"\";\n    String checkS = s.toLowerCase();\n    String[] checkSArr = checkS.split(\"\");\n\n    for(String e : checkSArr){\n        revS = e + revS;\n    }\n\n    return (checkS.equals(revS)) ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11685431,"reputation":161,"user_id":8555515,"display_name":"Mohsen Mousavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525010177,"creation_date":1525008617,"answer_id":50087122,"question_id":4138827,"body_markdown":"     public boolean isPalindrome(String input) {\r\n        char[] inputChars = input.toCharArray();\r\n        int inputLength = inputChars.length;\r\n        int inputMid = inputLength / 2;\r\n\r\n        for (int i = 0; i &lt;= inputMid; i++) {\r\n            if (inputChars[i] != inputChars[inputLength - i - 1]) {\r\n                 return false;\r\n            } \r\n        }\r\n        return true;\r\n    }\r\n\r\nThe method determines whether a string input is a palindrome. In this method the loop iterates for half of the input length resulting in less performance concern and more concise application.","title":"Check string for palindrome","body":"<pre><code> public boolean isPalindrome(String input) {\n    char[] inputChars = input.toCharArray();\n    int inputLength = inputChars.length;\n    int inputMid = inputLength / 2;\n\n    for (int i = 0; i &lt;= inputMid; i++) {\n        if (inputChars[i] != inputChars[inputLength - i - 1]) {\n             return false;\n        } \n    }\n    return true;\n}\n</code></pre>\n\n<p>The method determines whether a string input is a palindrome. In this method the loop iterates for half of the input length resulting in less performance concern and more concise application.</p>\n"},{"tags":[],"owner":{"account_id":11265983,"reputation":59,"user_id":8262780,"display_name":"ykb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578399082,"creation_date":1534599606,"answer_id":51909273,"question_id":4138827,"body_markdown":"```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        Scanner sc=new Scanner(System.in);\r\n        String A=sc.next();\r\n        char[] array = A.toCharArray();\r\n        String str = &quot;&quot;;\r\n        for(int i=A.length()-1;i&gt;=0;i--){\r\n            str = str + array[i];\r\n        }\r\n        if(A.equalsIgnoreCase(str))System.out.println(&quot;Yes&quot;);\r\n        else System.out.println(&quot;No&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Check string for palindrome","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n\n        Scanner sc=new Scanner(System.in);\n        String A=sc.next();\n        char[] array = A.toCharArray();\n        String str = \"\";\n        for(int i=A.length()-1;i&gt;=0;i--){\n            str = str + array[i];\n        }\n        if(A.equalsIgnoreCase(str))System.out.println(\"Yes\");\n        else System.out.println(\"No\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6119232,"reputation":3692,"user_id":4773290,"accept_rate":86,"display_name":"Pratik Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543724135,"creation_date":1543723586,"answer_id":53577305,"question_id":4138827,"body_markdown":"&gt; - This implementation works for numbers and strings.\r\n&gt; - Since we are not writing anything, so there is no need to convert the string into the character array.\r\n\r\n    public static boolean isPalindrome(Object obj)\r\n    {\r\n    \tString s = String.valueOf(obj);\r\n    \r\n    \tfor(int left=0, right=s.length()-1; left &lt; right; left++,right--)\r\n    \t{\r\n    \t\tif(s.charAt(left++) != s.charAt(right--))\r\n    \t\t\treturn false;\r\n    \t}\r\n    \treturn true;\r\n    }\r\n\r\n","title":"Check string for palindrome","body":"<blockquote>\n  <ul>\n  <li>This implementation works for numbers and strings.</li>\n  <li>Since we are not writing anything, so there is no need to convert the string into the character array.</li>\n  </ul>\n</blockquote>\n\n<pre><code>public static boolean isPalindrome(Object obj)\n{\n    String s = String.valueOf(obj);\n\n    for(int left=0, right=s.length()-1; left &lt; right; left++,right--)\n    {\n        if(s.charAt(left++) != s.charAt(right--))\n            return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69584,"reputation":10540,"user_id":202351,"accept_rate":82,"display_name":"zarpio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555571972,"creation_date":1555571972,"answer_id":55740972,"question_id":4138827,"body_markdown":"**In PHP**\r\n\r\n    function isPalindrome($string) {\r\n    \treturn (strrev($string) == $string) ? true : false;\r\n    }\r\n    \r\n    var_dump(isPalindrome(&#39;madam&#39;)); //bool(true)\r\n    var_dump(isPalindrome(&#39;dell&#39;)); //bool(false)\r\n    var_dump(isPalindrome(&#39;1221&#39;)); //bool(true)\r\n\r\n","title":"Check string for palindrome","body":"<p><strong>In PHP</strong></p>\n\n<pre><code>function isPalindrome($string) {\n    return (strrev($string) == $string) ? true : false;\n}\n\nvar_dump(isPalindrome('madam')); //bool(true)\nvar_dump(isPalindrome('dell')); //bool(false)\nvar_dump(isPalindrome('1221')); //bool(true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566205275,"creation_date":1566205275,"answer_id":57553484,"question_id":4138827,"body_markdown":"    /**\r\n     * Check whether a word is a palindrome\r\n     *\r\n     * @param word the word\r\n     * @param low  low index\r\n     * @param high high index\r\n     * @return {@code true} if the word is a palindrome;\r\n     * {@code false} otherwise\r\n     */\r\n    private static boolean isPalindrome(char[] word, int low, int high) {\r\n        if (low &gt;= high) {\r\n            return true;\r\n        } else if (word[low] != word[high]) {\r\n            return false;\r\n        } else {\r\n            return isPalindrome(word, low + 1, high - 1);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Check whether a word is a palindrome\r\n     *\r\n     * @param the word\r\n     * @return {@code true} if the word is a palindrome;\r\n     * @code false} otherwise\r\n     */\r\n    private static boolean isPalindrome(char[] word) {\r\n        int length = word.length;\r\n        for (int i = 0; i &lt;= length / 2; i++) {\r\n            if (word[i] != word[length - 1 - i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        char[] word = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;b&#39;, &#39;a&#39; };\r\n        System.out.println(isPalindrome(word, 0, word.length - 1));\r\n        System.out.println(isPalindrome(word));\r\n    }","title":"Check string for palindrome","body":"<pre><code>/**\n * Check whether a word is a palindrome\n *\n * @param word the word\n * @param low  low index\n * @param high high index\n * @return {@code true} if the word is a palindrome;\n * {@code false} otherwise\n */\nprivate static boolean isPalindrome(char[] word, int low, int high) {\n    if (low &gt;= high) {\n        return true;\n    } else if (word[low] != word[high]) {\n        return false;\n    } else {\n        return isPalindrome(word, low + 1, high - 1);\n    }\n}\n\n/**\n * Check whether a word is a palindrome\n *\n * @param the word\n * @return {@code true} if the word is a palindrome;\n * @code false} otherwise\n */\nprivate static boolean isPalindrome(char[] word) {\n    int length = word.length;\n    for (int i = 0; i &lt;= length / 2; i++) {\n        if (word[i] != word[length - 1 - i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\npublic static void main(String[] args) {\n    char[] word = {'a', 'b', 'c', 'b', 'a' };\n    System.out.println(isPalindrome(word, 0, word.length - 1));\n    System.out.println(isPalindrome(word));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578399486,"creation_date":1578399486,"answer_id":59628300,"question_id":4138827,"body_markdown":"Using Stream API: \r\n```java\r\nprivate static boolean isPalindrome(char[] warray) {\r\n    return IntStream.range(0, warray.length - 1)\r\n            .takeWhile(i -&gt; i &lt; warray.length / 2)\r\n            .noneMatch(i -&gt; warray[i] != warray[warray.length - 1 - i]);\r\n}\r\n```","title":"Check string for palindrome","body":"<p>Using Stream API: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isPalindrome(char[] warray) {\n    return IntStream.range(0, warray.length - 1)\n            .takeWhile(i -&gt; i &lt; warray.length / 2)\n            .noneMatch(i -&gt; warray[i] != warray[warray.length - 1 - i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3746016,"reputation":469,"user_id":3114664,"accept_rate":60,"display_name":"bluesony"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581245086,"creation_date":1581245086,"answer_id":60135767,"question_id":4138827,"body_markdown":"Why not just : \r\n\r\n    boolean isPalindrom(String s) {\r\n            char[] myChars = s.toCharArray();\r\n            for (int i = 0; i &lt; myChars.length/2; i++) {\r\n                if (myChars[i] != myChars[myChars.length - 1 - i]) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n    }","title":"Check string for palindrome","body":"<p>Why not just : </p>\n\n<pre><code>boolean isPalindrom(String s) {\n        char[] myChars = s.toCharArray();\n        for (int i = 0; i &lt; myChars.length/2; i++) {\n            if (myChars[i] != myChars[myChars.length - 1 - i]) {\n                return false;\n            }\n        }\n        return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18885179,"reputation":19,"user_id":13776792,"display_name":"ch Noman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596047273,"creation_date":1596045284,"answer_id":63159678,"question_id":4138827,"body_markdown":"    public class palindrome {\r\n\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner scanner=new Scanner(System.in);\r\n            System.out.println(&quot;Enter the line you want to check palindrome:&quot;);\r\n            String s= scanner.nextLine();\r\n    \r\n            StringTokenizer separate = new StringTokenizer(s, &quot; &quot;);\r\n            System.out.println(&quot;\\nPalindrome Words are: &quot;);\r\n            while(separate.hasMoreTokens()) {\r\n                String word = separate.nextToken();\r\n                String reversedWord = new StringBuilder(word).reverse().toString().toLowerCase();\r\n                if ((word.toLowerCase().equals(reversedWord))){\r\n                    System.out.println(word);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Check string for palindrome","body":"<pre><code>public class palindrome {\n\n    public static void main(String[] args) {\n\n        Scanner scanner=new Scanner(System.in);\n        System.out.println(&quot;Enter the line you want to check palindrome:&quot;);\n        String s= scanner.nextLine();\n\n        StringTokenizer separate = new StringTokenizer(s, &quot; &quot;);\n        System.out.println(&quot;\\nPalindrome Words are: &quot;);\n        while(separate.hasMoreTokens()) {\n            String word = separate.nextToken();\n            String reversedWord = new StringBuilder(word).reverse().toString().toLowerCase();\n            if ((word.toLowerCase().equals(reversedWord))){\n                System.out.println(word);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8774748,"reputation":9268,"user_id":6560375,"accept_rate":35,"display_name":"Gorakh Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611242053,"creation_date":1611242053,"answer_id":65830329,"question_id":4138827,"body_markdown":"We can reduce the loop to half of the length:\r\n\r\n    function isPallindrome(s) {\r\n      let word= s.toLowerCase();\r\n      let length = word.length -1;\r\n      let isPallindrome= true;\r\n      for(let i=0; i&lt; length/2 ;i++){\r\n        if(word[i] !== word[length -i]){\r\n          isPallindrome= false;\r\n          break;\r\n        }\r\n      }\r\n      return isPallindrome;\r\n    }","title":"Check string for palindrome","body":"<p>We can reduce the loop to half of the length:</p>\n<pre><code>function isPallindrome(s) {\n  let word= s.toLowerCase();\n  let length = word.length -1;\n  let isPallindrome= true;\n  for(let i=0; i&lt; length/2 ;i++){\n    if(word[i] !== word[length -i]){\n      isPallindrome= false;\n      break;\n    }\n  }\n  return isPallindrome;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21899072,"reputation":11,"user_id":16184954,"display_name":"Jaxadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634368403,"creation_date":1634368403,"answer_id":69593503,"question_id":4138827,"body_markdown":"I created a new time complexitey Java solution 7 ms, and very easy!\r\nI take the desired numbers and letters from the ASCII table, do not touch the rest, and finally return true or false, checking that the two strings are equal to each other.\r\n\r\n    StringBuilder newString = new StringBuilder();\r\n\r\n        s = s.toLowerCase();\r\n\r\n        for (char ch : s.toCharArray()) {\r\n\r\n            if (97 &lt;= (int) ch &amp;&amp; (int) ch &lt;= 122 || 48 &lt;= (int)ch &amp;&amp; (int)ch &lt;= 57) {\r\n\r\n                newString.append(ch);\r\n            }\r\n        }\r\n\r\n        String nextS = new StringBuilder(newString).reverse().toString();\r\n        \r\n        return nextS.equals(newString.toString());","title":"Check string for palindrome","body":"<p>I created a new time complexitey Java solution 7 ms, and very easy!\nI take the desired numbers and letters from the ASCII table, do not touch the rest, and finally return true or false, checking that the two strings are equal to each other.</p>\n<pre><code>StringBuilder newString = new StringBuilder();\n\n    s = s.toLowerCase();\n\n    for (char ch : s.toCharArray()) {\n\n        if (97 &lt;= (int) ch &amp;&amp; (int) ch &lt;= 122 || 48 &lt;= (int)ch &amp;&amp; (int)ch &lt;= 57) {\n\n            newString.append(ch);\n        }\n    }\n\n    String nextS = new StringBuilder(newString).reverse().toString();\n    \n    return nextS.equals(newString.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139653,"reputation":103,"user_id":1123917,"display_name":"Capt. Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638686129,"creation_date":1638686129,"answer_id":70232032,"question_id":4138827,"body_markdown":"Besides the way using `StringBuilder`/`StringBuffer` to reverse the string and check it still equals the original one, here&#39;s a way by `for` loop.\r\n\r\n```java\r\nprivate boolean isPalindrome(String word) {\r\n    if (word == null || word.isEmpty()) {\r\n        return false;\r\n    }\r\n\r\n    int length = word.length();\r\n    int middleIndex = length / 2;\r\n\r\n    for (int index = 0; index &lt; middleIndex; index++) {\r\n        if (word.charAt(index) != word.charAt(length - index - 1)) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n```","title":"Check string for palindrome","body":"<p>Besides the way using <code>StringBuilder</code>/<code>StringBuffer</code> to reverse the string and check it still equals the original one, here's a way by <code>for</code> loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isPalindrome(String word) {\n    if (word == null || word.isEmpty()) {\n        return false;\n    }\n\n    int length = word.length();\n    int middleIndex = length / 2;\n\n    for (int index = 0; index &lt; middleIndex; index++) {\n        if (word.charAt(index) != word.charAt(length - index - 1)) {\n            return false;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10932918,"reputation":5356,"user_id":8035475,"display_name":"Ankit Kumar Rajpoot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692541565,"creation_date":1692541565,"answer_id":76939871,"question_id":4138827,"body_markdown":"Palindrome with recursion(JavaScript)\r\n\r\n        var isPalindrome = function(str) {\r\n            if(str.length &lt;=1) return true;\r\n            if (str[0] !== str[str.length-1]) return false;\r\n            return isPalindrome(str.slice(1,-1));\r\n        }\r\n    \r\n    isPalindrome(aba)\r\n\r\n","title":"Check string for palindrome","body":"<p>Palindrome with recursion(JavaScript)</p>\n<pre><code>    var isPalindrome = function(str) {\n        if(str.length &lt;=1) return true;\n        if (str[0] !== str[str.length-1]) return false;\n        return isPalindrome(str.slice(1,-1));\n    }\n\nisPalindrome(aba)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694242355,"creation_date":1694242355,"answer_id":77071157,"question_id":4138827,"body_markdown":" - Time complexity: `O(n)`\r\n - Space complexity: `O(1)`\r\n\r\n```java\r\npublic static boolean isPalindrome(String str) {\r\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--)\r\n        if (str.charAt(i) != str.charAt(j))\r\n        // for case insesitive comapre\r\n        // if (Character.toLowerCase(str.charAt(i)) != Character.toLowerCase(str.charAt(j)))\r\n            return false;\r\n\r\n    return true;\r\n}\r\n```","title":"Check string for palindrome","body":"<ul>\n<li>Time complexity: <code>O(n)</code></li>\n<li>Space complexity: <code>O(1)</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPalindrome(String str) {\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--)\n        if (str.charAt(i) != str.charAt(j))\n        // for case insesitive comapre\n        // if (Character.toLowerCase(str.charAt(i)) != Character.toLowerCase(str.charAt(j)))\n            return false;\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":172772,"reputation":69642,"user_id":401025,"accept_rate":98,"display_name":"DarkLeafyGreen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378521,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":4138856,"answer_count":44,"score":95,"last_activity_date":1694242355,"creation_date":1289338124,"question_id":4138827,"body_markdown":"A [palindrome][1] is a word, phrase, number or other sequence of units that can be read the same way in either direction.\r\n\r\nTo check whether a word is a palindrome I get the char array of the word and compare the chars. I tested it and it seems to work. However I want to know if it is right or if there is something to improve. \r\n\r\nHere is my code:\r\n\r\n    public class Aufg1 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString wort = &quot;reliefpfpfeiller&quot;;\r\n    \t\tchar[] warray = wort.toCharArray();\t\r\n    \t\tSystem.out.println(istPalindrom(warray));\t\t\r\n    \t}\r\n    \t\r\n    \tpublic static boolean istPalindrom(char[] wort){\r\n    \t\tboolean palindrom = false;\r\n    \t\tif(wort.length%2 == 0){\r\n    \t\t\tfor(int i = 0; i &lt; wort.length/2-1; i++){\r\n    \t\t\t\tif(wort[i] != wort[wort.length-i-1]){\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tpalindrom = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}else{\r\n    \t\t\tfor(int i = 0; i &lt; (wort.length-1)/2-1; i++){\r\n    \t\t\t\tif(wort[i] != wort[wort.length-i-1]){\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tpalindrom = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn palindrom;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Palindrome","title":"Check string for palindrome","body":"<p>A <a href=\"http://en.wikipedia.org/wiki/Palindrome\" rel=\"noreferrer\">palindrome</a> is a word, phrase, number or other sequence of units that can be read the same way in either direction.</p>\n\n<p>To check whether a word is a palindrome I get the char array of the word and compare the chars. I tested it and it seems to work. However I want to know if it is right or if there is something to improve. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class Aufg1 {\n    public static void main(String[] args) {\n        String wort = \"reliefpfpfeiller\";\n        char[] warray = wort.toCharArray(); \n        System.out.println(istPalindrom(warray));       \n    }\n\n    public static boolean istPalindrom(char[] wort){\n        boolean palindrom = false;\n        if(wort.length%2 == 0){\n            for(int i = 0; i &lt; wort.length/2-1; i++){\n                if(wort[i] != wort[wort.length-i-1]){\n                    return false;\n                }else{\n                    palindrom = true;\n                }\n            }\n        }else{\n            for(int i = 0; i &lt; (wort.length-1)/2-1; i++){\n                if(wort[i] != wort[wort.length-i-1]){\n                    return false;\n                }else{\n                    palindrom = true;\n                }\n            }\n        }\n        return palindrom;\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","hibernate","morphia"],"answers":[{"tags":[],"owner":{"account_id":4873652,"reputation":13544,"user_id":3929393,"accept_rate":75,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694242320,"creation_date":1433932042,"answer_id":30753687,"question_id":30753447,"body_markdown":"**Using a native driver :** \r\n\r\nIt is always better if you have time to learn that driver. \r\nNow coming to `Mongo-Java-Driver` it is quite simple to use. Initially terms like `BasicDBObject`, `BSONObject` may sound odd to you. After some time, you will find it comfortable. You can start with this [quick tour to Mongo Java Driver][1].\r\n\r\n**Using ORM tool :**\r\n\r\nORM tools like spring data, Kundera, Morphia use these native drivers internally. These makes it simple and comfortable to the user with some overhead in terms of performance sometimes. \r\n\r\nSo, it&#39;s up to you if you have time to explore go for Mongo-Java-Driver. otherwise, go for any ORM tool according to your use case. Not familiar with morphia. I guess hibernate is for RDBMS only. Hibernate OGM is for NoSQL databases.  \r\n\r\nEdit: Kundera is no longer maintained. Please use alternatives.\r\n\r\n---------------------------------\r\nFor example, You can use [Kundera][2] if you want to query in JPA way like in RDBMS databases. It&#39;s an _open-source object mapper for NoSQL databases_ supporting MongoDB, Cassandra, HBase, ONS, etc. It takes query in JPA format like \r\n\r\n     select p from Person p where p.salary &gt; 20000\r\n\r\n\r\n  [2]: https://github.com/impetus-opensource/Kundera\r\n\r\n\r\n  [1]: http://mongodb.github.io/mongo-java-driver/2.13/getting-started/quick-tour/","title":"When to use MongoDB Driver/Morphia over Hibernate","body":"<p><strong>Using a native driver :</strong></p>\n<p>It is always better if you have time to learn that driver.\nNow coming to <code>Mongo-Java-Driver</code> it is quite simple to use. Initially terms like <code>BasicDBObject</code>, <code>BSONObject</code> may sound odd to you. After some time, you will find it comfortable. You can start with this <a href=\"http://mongodb.github.io/mongo-java-driver/2.13/getting-started/quick-tour/\" rel=\"nofollow noreferrer\">quick tour to Mongo Java Driver</a>.</p>\n<p><strong>Using ORM tool :</strong></p>\n<p>ORM tools like spring data, Kundera, Morphia use these native drivers internally. These makes it simple and comfortable to the user with some overhead in terms of performance sometimes.</p>\n<p>So, it's up to you if you have time to explore go for Mongo-Java-Driver. otherwise, go for any ORM tool according to your use case. Not familiar with morphia. I guess hibernate is for RDBMS only. Hibernate OGM is for NoSQL databases.</p>\n<p>Edit: Kundera is no longer maintained. Please use alternatives.</p>\n<hr />\n<p>For example, You can use <a href=\"https://github.com/impetus-opensource/Kundera\" rel=\"nofollow noreferrer\">Kundera</a> if you want to query in JPA way like in RDBMS databases. It's an <em>open-source object mapper for NoSQL databases</em> supporting MongoDB, Cassandra, HBase, ONS, etc. It takes query in JPA format like</p>\n<pre><code> select p from Person p where p.salary &gt; 20000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6040289,"reputation":51,"user_id":4732434,"display_name":"afarag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478056358,"creation_date":1478056358,"answer_id":40371909,"question_id":30753447,"body_markdown":"I think native is better, It seems ORM with Mongodb contains restrictions, (e.g, using eclipse-link you could not directly persist Map&lt;String, Object&gt;)","title":"When to use MongoDB Driver/Morphia over Hibernate","body":"<p>I think native is better, It seems ORM with Mongodb contains restrictions, (e.g, using eclipse-link you could not directly persist Map)</p>\n"}],"owner":{"display_name":"user4066693"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1960,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694242320,"creation_date":1433931410,"question_id":30753447,"body_markdown":"I am currently working with MongoDB and Java and I have to decide if I use MongoDB&#39;s Driver, Morphia or Hibernate. Can anyone tell me what the advantages and disadvantages of Hibernate, MongoDB&#39;s Driver and Morphia are? And in what situation should I use which? A small example would also be nice, but is not really necessary.\r\n\r\nThanks!","title":"When to use MongoDB Driver/Morphia over Hibernate","body":"<p>I am currently working with MongoDB and Java and I have to decide if I use MongoDB's Driver, Morphia or Hibernate. Can anyone tell me what the advantages and disadvantages of Hibernate, MongoDB's Driver and Morphia are? And in what situation should I use which? A small example would also be nice, but is not really necessary.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","json","mongodb","parsing"],"answers":[{"tags":[],"owner":{"account_id":7041882,"reputation":53,"user_id":5394101,"display_name":"Tony B."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443713096,"creation_date":1443713096,"answer_id":32891330,"question_id":32890754,"body_markdown":"Assuming that you have executed a query, you typically iterate through the result.\r\nFor setting up queries and looking at a basic iteration, see the [MongoDB Java Driver Quick Tour][1] and specifically the section **Using a Cursor to Get All the Documents**.\r\n\r\nTo parse the result instead of printing, look at the DBObject interface and the the [BSONObject][2] methods it implements.  The *get* method is the one you can use to access fields.  Here is an example relative to your example document and Java class that you would use within an iterator block:\r\n\r\n    DBObject obj = cursor.next();\r\n    String name = obj.get(&quot;name&quot;);\r\n    //obtain other field values the same way\r\n\r\n\r\n  [1]: http://mongodb.github.io/mongo-java-driver/2.13/getting-started/quick-tour/\r\n  [2]: http://api.mongodb.org/java/2.13/org/bson/BSONObject.html","title":"How to parse a MongoDB document to a Java class","body":"<p>Assuming that you have executed a query, you typically iterate through the result.\nFor setting up queries and looking at a basic iteration, see the <a href=\"http://mongodb.github.io/mongo-java-driver/2.13/getting-started/quick-tour/\" rel=\"nofollow\">MongoDB Java Driver Quick Tour</a> and specifically the section <strong>Using a Cursor to Get All the Documents</strong>.</p>\n\n<p>To parse the result instead of printing, look at the DBObject interface and the the <a href=\"http://api.mongodb.org/java/2.13/org/bson/BSONObject.html\" rel=\"nofollow\">BSONObject</a> methods it implements.  The <em>get</em> method is the one you can use to access fields.  Here is an example relative to your example document and Java class that you would use within an iterator block:</p>\n\n<pre><code>DBObject obj = cursor.next();\nString name = obj.get(\"name\");\n//obtain other field values the same way\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4873652,"reputation":13544,"user_id":3929393,"accept_rate":75,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694242279,"creation_date":1443716319,"answer_id":32892318,"question_id":32890754,"body_markdown":"Edit: Kundera is no longer maintained. Please use alternatives.\r\n\r\n---------------------------------\r\n\r\nIf you want to map MongoDB document directly with your Java object and **schema in mongoDB is fixed**, you can go for ORMs also. [Kundera](https://github.com/impetus-opensource/Kundera) is one of the good ORM for big data. \r\n\r\nIt supports CRUD &amp; Query operation in a similar way like RDBMS. Find out more [here](https://github.com/impetus-opensource/Kundera/wiki/Kundera-with-MongoDB).","title":"How to parse a MongoDB document to a Java class","body":"<p>Edit: Kundera is no longer maintained. Please use alternatives.</p>\n<hr />\n<p>If you want to map MongoDB document directly with your Java object and <strong>schema in mongoDB is fixed</strong>, you can go for ORMs also. <a href=\"https://github.com/impetus-opensource/Kundera\" rel=\"nofollow noreferrer\">Kundera</a> is one of the good ORM for big data.</p>\n<p>It supports CRUD &amp; Query operation in a similar way like RDBMS. Find out more <a href=\"https://github.com/impetus-opensource/Kundera/wiki/Kundera-with-MongoDB\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1514713304,"creation_date":1514713304,"answer_id":48041448,"question_id":32890754,"body_markdown":"[Jongo][1] is your friend:\r\n\r\n    Person p = people.find(&quot;{age: {$gt: 18}}&quot;).as(Person.class)\r\n\r\n\r\n  [1]: http://jongo.org/","title":"How to parse a MongoDB document to a Java class","body":"<p><a href=\"http://jongo.org/\" rel=\"nofollow noreferrer\">Jongo</a> is your friend:</p>\n\n<pre><code>Person p = people.find(\"{age: {$gt: 18}}\").as(Person.class)\n</code></pre>\n"}],"owner":{"account_id":7040841,"reputation":141,"user_id":5393378,"accept_rate":71,"display_name":"baxdab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4772,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48041448,"answer_count":3,"score":3,"last_activity_date":1694242279,"creation_date":1443711511,"question_id":32890754,"body_markdown":"I&#39;m using the `MongoDB` driver in Java.\r\n\r\nSay I have a `MongoDB` document in the collection db.people:\r\n\r\n`{&quot;name&quot;:&quot;Joe&quot;, &quot;surname&quot;:&quot;Blow&quot;, &quot;age&quot;:20}`\r\n\r\nand a Java class that looks something like \r\n\r\n    `public class Person {\r\n       String name;\r\n       String surname;\r\n       int age;`\r\n   \r\n      `public void setPersonalInfo(String name, String surname, int age) {\r\n         this.name = name;\r\n         this.surname = surname;\r\n         this.age = age;\r\n       }\r\n    }`\r\n\r\nHow do I parse the information from my document into my class? Is there a way to do this by manipulating the document in the form of a `BasicDBObject`? I looked through the methods and couldn&#39;t make sense of how, as my first inclination was to use a method which returns an array of key value pairs (as far as I know, no such method exists).","title":"How to parse a MongoDB document to a Java class","body":"<p>I'm using the <code>MongoDB</code> driver in Java.</p>\n\n<p>Say I have a <code>MongoDB</code> document in the collection db.people:</p>\n\n<p><code>{\"name\":\"Joe\", \"surname\":\"Blow\", \"age\":20}</code></p>\n\n<p>and a Java class that looks something like </p>\n\n<pre><code>`public class Person {\n   String name;\n   String surname;\n   int age;`\n\n  `public void setPersonalInfo(String name, String surname, int age) {\n     this.name = name;\n     this.surname = surname;\n     this.age = age;\n   }\n}`\n</code></pre>\n\n<p>How do I parse the information from my document into my class? Is there a way to do this by manipulating the document in the form of a <code>BasicDBObject</code>? I looked through the methods and couldn't make sense of how, as my first inclination was to use a method which returns an array of key value pairs (as far as I know, no such method exists).</p>\n"},{"tags":["java","arrays","string","for-loop","if-statement"],"comments":[{"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1694240975,"post_id":77070985,"comment_id":135868341,"body_markdown":"Depending on your encoding,  charakters can have more than one byte size. I recommend you to not do this task with a reversed byte Array. Use the method.toCharArray() for getting a char array out of your String.","body":"Depending on your encoding,  charakters can have more than one byte size. I recommend you to not do this task with a reversed byte Array. Use the method.toCharArray() for getting a char array out of your String."},{"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1694241324,"post_id":77070985,"comment_id":135868356,"body_markdown":"Take a look at my answer below.","body":"Take a look at my answer below."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694241232,"creation_date":1694241232,"answer_id":77071113,"question_id":77070985,"body_markdown":"Depending on your encoding, characters can have more than one byte size. \r\n\r\nI recommend you to not do this task with a reversed byte Array. \r\n\r\nUse the method .toCharArray() for getting a char array out of your String.\r\n\r\nString s = &quot;hello&quot;;\r\nchar[] chars = s.toCharArray();","title":"Checking if the given String is Palindrome or not, using Array","body":"<p>Depending on your encoding, characters can have more than one byte size.</p>\n<p>I recommend you to not do this task with a reversed byte Array.</p>\n<p>Use the method .toCharArray() for getting a char array out of your String.</p>\n<p>String s = &quot;hello&quot;;\nchar[] chars = s.toCharArray();</p>\n"},{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694241881,"creation_date":1694241240,"answer_id":77071114,"question_id":77070985,"body_markdown":"You don&#39;t have to extract the individual bytes. You can use the `toCharArray` method to get a `char[]` having the individual characters of the input string. Then you can reverse it and build a new string out of it.\r\n\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Enter the string to be checked to see if it&#39;s a palindrome.&quot;);\r\n    String s = sc.next();\r\n    char[] arr = s.toCharArray();\r\n    int n = arr.length;\r\n\r\n    // Construct reversed char[]\r\n    char[] rev = new char[n];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        rev[i] = arr[n - i - 1];\r\n    }\r\n    String reversedString = new String(rev);\r\n    \r\n    if (s.equals(reversedString)) {\r\n        System.out.println(&quot;It is a palindrome&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;It is not a palindrome&quot;);\r\n    }\r\n\r\nNote 1: There are better ways to solve this (with O(1) space). This answer helps OP to solve their problem by following a similar approach as theirs.\r\n\r\n\r\nYou can learn more about other solutions in this question - https://stackoverflow.com/questions/4138827/check-string-for-palindrome\r\n","title":"Checking if the given String is Palindrome or not, using Array","body":"<p>You don't have to extract the individual bytes. You can use the <code>toCharArray</code> method to get a <code>char[]</code> having the individual characters of the input string. Then you can reverse it and build a new string out of it.</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nSystem.out.println(&quot;Enter the string to be checked to see if it's a palindrome.&quot;);\nString s = sc.next();\nchar[] arr = s.toCharArray();\nint n = arr.length;\n\n// Construct reversed char[]\nchar[] rev = new char[n];\nfor (int i = 0; i &lt; arr.length; i++) {\n    rev[i] = arr[n - i - 1];\n}\nString reversedString = new String(rev);\n\nif (s.equals(reversedString)) {\n    System.out.println(&quot;It is a palindrome&quot;);\n}\nelse {\n    System.out.println(&quot;It is not a palindrome&quot;);\n}\n</code></pre>\n<p>Note 1: There are better ways to solve this (with O(1) space). This answer helps OP to solve their problem by following a similar approach as theirs.</p>\n<p>You can learn more about other solutions in this question - <a href=\"https://stackoverflow.com/questions/4138827/check-string-for-palindrome\">Check string for palindrome</a></p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694242235,"creation_date":1694241933,"answer_id":77071142,"question_id":77070985,"body_markdown":"You do not need to create a reversed array, you can modify existed one.\r\n\r\n```java\r\npublic static boolean isPalindrome(String str) {\r\n    char[] buf = str.toCharArray();\r\n\r\n    // reverse array\r\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--)\r\n        swap(buf, i, j);\r\n\r\n    return str.equals(new String(buf));\r\n}\r\n\r\nprivate static void swap(char[] arr, int i, int j) {\r\n    char ch = arr[i];\r\n    arr[i] = arr[j];\r\n    arr[j] = ch;\r\n}\r\n```\r\n\r\nBut, if you look up further, you will see, that `String` already contains an array inside. So to check that string is palindrome you do not even create a new array or string or modify an array.\r\n\r\n```java\r\npublic static boolean isPalindrome(String str) {\r\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--)\r\n        if (str.charAt(i) != str.charAt(j))\r\n            return false;\r\n\r\n    return true;\r\n}\r\n```\r\n\r\n - Time complexity: `O(n)`\r\n - Space complexity: `O(1)`","title":"Checking if the given String is Palindrome or not, using Array","body":"<p>You do not need to create a reversed array, you can modify existed one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPalindrome(String str) {\n    char[] buf = str.toCharArray();\n\n    // reverse array\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--)\n        swap(buf, i, j);\n\n    return str.equals(new String(buf));\n}\n\nprivate static void swap(char[] arr, int i, int j) {\n    char ch = arr[i];\n    arr[i] = arr[j];\n    arr[j] = ch;\n}\n</code></pre>\n<p>But, if you look up further, you will see, that <code>String</code> already contains an array inside. So to check that string is palindrome you do not even create a new array or string or modify an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPalindrome(String str) {\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--)\n        if (str.charAt(i) != str.charAt(j))\n            return false;\n\n    return true;\n}\n</code></pre>\n<ul>\n<li>Time complexity: <code>O(n)</code></li>\n<li>Space complexity: <code>O(1)</code></li>\n</ul>\n"}],"owner":{"account_id":29399763,"reputation":11,"user_id":22526236,"display_name":"Pasha Mohammed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1694242235,"creation_date":1694237904,"question_id":77070985,"body_markdown":"I have taken an input from the reader as a String I want to check whether the given input String is Palindrome or not, by using Array.\r\n\r\n\r\n\r\n\r\n\r\nFirst, I took the String as &quot;RacecaR&quot; I stored that String in &quot;Bytes Array&quot; using &quot;getBytes()&quot; string class methods, and then I tried to use &quot;for-loop&quot; to get &quot;Reverse Bytes Array.&quot; After that, I wanted to store that reverse bytes array into a Character Array that way I can easily check whether the given string is palindrome or not, but I am facing a problem while storing the reversed bytes array into the Character Array. Can anyone solve this problem?\r\nI know I can easily do this using the &quot;String Buffer&quot; class &quot;reverse&quot; method, but I want to check using the &quot;String&quot; class.\r\nBelow is the code: \r\n```\r\npublic class ClassA {\r\n\t\r\n\tvoid meth1()\r\n\t{\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the string to be checked to see if it&#39;s a palindrome.&quot;);\r\n\t\tString s = sc.next();\r\n\t\tbyte rev[] = s.getBytes();\r\n\t\tfor(int i = rev.length-1;i&gt;=0;i--) \r\n\t\t\tSystem.out.print(i);\r\n\t\t//char[] charArray = ?? //How to store bytesArray into charArray?\r\n\t\t\r\n\t\t\t//String res =  new String(char[]); \r\n\t\t\t\r\n\t\t\r\n\t\t\tif(s.equals(res))\r\n\t\t\t\tSystem.out.println(&quot;It is a palendrome&quot;);\r\n\t\t\telse\r\n\t\t\t\tSystem.out.println(&quot;It is not a palendrome&quot;);\r\n\t\t\t\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tnew ClassA().meth1();\r\n\t}\r\n}\r\n```\r\n","title":"Checking if the given String is Palindrome or not, using Array","body":"<p>I have taken an input from the reader as a String I want to check whether the given input String is Palindrome or not, by using Array.</p>\n<p>First, I took the String as &quot;RacecaR&quot; I stored that String in &quot;Bytes Array&quot; using &quot;getBytes()&quot; string class methods, and then I tried to use &quot;for-loop&quot; to get &quot;Reverse Bytes Array.&quot; After that, I wanted to store that reverse bytes array into a Character Array that way I can easily check whether the given string is palindrome or not, but I am facing a problem while storing the reversed bytes array into the Character Array. Can anyone solve this problem?\nI know I can easily do this using the &quot;String Buffer&quot; class &quot;reverse&quot; method, but I want to check using the &quot;String&quot; class.\nBelow is the code:</p>\n<pre><code>public class ClassA {\n    \n    void meth1()\n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the string to be checked to see if it's a palindrome.&quot;);\n        String s = sc.next();\n        byte rev[] = s.getBytes();\n        for(int i = rev.length-1;i&gt;=0;i--) \n            System.out.print(i);\n        //char[] charArray = ?? //How to store bytesArray into charArray?\n        \n            //String res =  new String(char[]); \n            \n        \n            if(s.equals(res))\n                System.out.println(&quot;It is a palendrome&quot;);\n            else\n                System.out.println(&quot;It is not a palendrome&quot;);\n            \n    }\n    public static void main(String[] args) {\n        new ClassA().meth1();\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","jpa","jdbc","nosql"],"comments":[{"owner":{"account_id":2735782,"reputation":163,"user_id":2358495,"accept_rate":67,"display_name":"Marcin"},"score":0,"creation_date":1433929207,"post_id":30752595,"comment_id":49559146,"body_markdown":"Why don&#39;t you make use of spring-data-mongodb? http://projects.spring.io/spring-data-mongodb/","body":"Why don&#39;t you make use of spring-data-mongodb? <a href=\"http://projects.spring.io/spring-data-mongodb/\" rel=\"nofollow noreferrer\">projects.spring.io/spring-data-mongodb</a>"},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1433929240,"post_id":30752595,"comment_id":49559165,"body_markdown":"ElasticSearch is the easiest and fastest nosql option, imo.","body":"ElasticSearch is the easiest and fastest nosql option, imo."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":2,"creation_date":1433932883,"post_id":30752595,"comment_id":49561553,"body_markdown":"This is not the site for recommendations. It is for problems.","body":"This is not the site for recommendations. It is for problems."},{"owner":{"account_id":6407457,"reputation":382,"user_id":4968170,"accept_rate":25,"display_name":"Rahul"},"score":0,"creation_date":1433933061,"post_id":30752595,"comment_id":49561664,"body_markdown":"There is no need to downvote this. I just wanted a clear idea on using frameworks over jdbc. I only care about performance and ease of use for others who might use it in future","body":"There is no need to downvote this. I just wanted a clear idea on using frameworks over jdbc. I only care about performance and ease of use for others who might use it in future"},{"owner":{"account_id":6407457,"reputation":382,"user_id":4968170,"accept_rate":25,"display_name":"Rahul"},"score":0,"creation_date":1433933608,"post_id":30752595,"comment_id":49561974,"body_markdown":"Anyway thank you.....more insights are always welcome","body":"Anyway thank you.....more insights are always welcome"}],"answers":[{"tags":[],"owner":{"account_id":248570,"reputation":2517,"user_id":524010,"display_name":"Sezin Karli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433929216,"creation_date":1433929216,"answer_id":30752668,"question_id":30752595,"body_markdown":"You can use Spring JDBC instead of pure JDBC and Spring Data MongoDB for MongoDB. They are quite easy to use.","title":"JDBC or JPA for NoSQL","body":"<p>You can use Spring JDBC instead of pure JDBC and Spring Data MongoDB for MongoDB. They are quite easy to use.</p>\n"},{"tags":[],"owner":{"account_id":4873652,"reputation":13544,"user_id":3929393,"accept_rate":75,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694242204,"creation_date":1433931091,"answer_id":30753344,"question_id":30752595,"body_markdown":"**Edit**: Kundera is no longer maintained\r\n\r\n-----------------------------------------\r\n\r\nYou can use [Kundera][1] for this. It&#39;s an **open-source object mapper for NoSQL databases** supporting MongoDB, Cassandra, HBase, ONS, etc. It takes query in JPA format. \r\n\r\n\r\n  [1]: https://github.com/impetus-opensource/Kundera","title":"JDBC or JPA for NoSQL","body":"<p><strong>Edit</strong>: Kundera is no longer maintained</p>\n<hr />\n<p>You can use <a href=\"https://github.com/impetus-opensource/Kundera\" rel=\"nofollow noreferrer\">Kundera</a> for this. It's an <strong>open-source object mapper for NoSQL databases</strong> supporting MongoDB, Cassandra, HBase, ONS, etc. It takes query in JPA format.</p>\n"}],"owner":{"account_id":6407457,"reputation":382,"user_id":4968170,"accept_rate":25,"display_name":"Rahul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1694242204,"creation_date":1433929037,"question_id":30752595,"body_markdown":"I am currently working with MongoDB in Java and do not want to use the mongo-java driver which is very time consuming to code and also hard to maintain.\r\nI thought developing my own mongo-JDBC driver (since the one available is commercial). Am I on the right track.?\r\n&lt;pre&gt;\r\nAlso should I use some framework instead of pure jdbc .?\r\n&lt;/pre&gt;\r\n&lt;pre&gt;\r\nI am not sure about such frameworks for NoSQL databases. Kindly guide?\r\n&lt;/pre&gt;","title":"JDBC or JPA for NoSQL","body":"<p>I am currently working with MongoDB in Java and do not want to use the mongo-java driver which is very time consuming to code and also hard to maintain.\nI thought developing my own mongo-JDBC driver (since the one available is commercial). Am I on the right track.?</p>\n\n<pre>\nAlso should I use some framework instead of pure jdbc .?\n</pre>\n\n<pre>\nI am not sure about such frameworks for NoSQL databases. Kindly guide?\n</pre>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":111285,"reputation":2940,"user_id":294069,"accept_rate":75,"display_name":"EK."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432635453,"creation_date":1432635453,"answer_id":30455702,"question_id":30455327,"body_markdown":"You can start from MongoDb java driver and if it is not enough for you, you can use for example, some ORM or even Spring data","title":"How should i configure MongoDB in java project?","body":"<p>You can start from MongoDb java driver and if it is not enough for you, you can use for example, some ORM or even Spring data</p>\n"},{"tags":[],"owner":{"account_id":3939215,"reputation":9245,"user_id":3254377,"display_name":"wsl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1432674102,"creation_date":1432636012,"answer_id":30455891,"question_id":30455327,"body_markdown":"Think if you really need to switch to mongodb. Mongo is document database it does not support transactions under the hood so You will have to cope somehow to get things right. Otherwise if you are sure I suggest:\r\n\r\nhttp://projects.spring.io/spring-data-mongodb/\r\n\r\nIt has really good integration with mongo and supports event listeners and repositories.\r\n\r\nFor testing issues I would use: \r\n\r\nhttps://github.com/joelittlejohn/embedmongo-maven-plugin\r\n\r\nIt is a nice maven plugin to run mongodb for your integration tests without necessity to have database launched on your computer.\r\n\r\n\r\n  [1]: http://projects.spring.io/spring-data-mongodb/\r\n  [2]: http://projects.spring.io/spring-data-mongodb/","title":"How should i configure MongoDB in java project?","body":"<p>Think if you really need to switch to mongodb. Mongo is document database it does not support transactions under the hood so You will have to cope somehow to get things right. Otherwise if you are sure I suggest:</p>\n\n<p><a href=\"http://projects.spring.io/spring-data-mongodb/\" rel=\"nofollow\">http://projects.spring.io/spring-data-mongodb/</a></p>\n\n<p>It has really good integration with mongo and supports event listeners and repositories.</p>\n\n<p>For testing issues I would use: </p>\n\n<p><a href=\"https://github.com/joelittlejohn/embedmongo-maven-plugin\" rel=\"nofollow\">https://github.com/joelittlejohn/embedmongo-maven-plugin</a></p>\n\n<p>It is a nice maven plugin to run mongodb for your integration tests without necessity to have database launched on your computer.</p>\n"},{"tags":[],"owner":{"account_id":4873652,"reputation":13544,"user_id":3929393,"accept_rate":75,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694242166,"creation_date":1432639514,"answer_id":30457182,"question_id":30455327,"body_markdown":"**Edit**: Kundera is no longer maintained\r\n\r\n-----------------------------------------\r\n\r\nYou can use Object mapper named [Kundera][1]. It is an open source project with JPA interface. You can query simply in JPA way (like in RDBMS). Also, you can use the features like **GridFS** with some modification in your entity class. It  supports _**polyglot persistence**_ too. \r\n\r\nFor more details: https://github.com/impetus-opensource/Kundera/wiki/Getting-Started-in-5-minutes\r\n\r\n\r\n  [1]: https://github.com/impetus-opensource/Kundera","title":"How should i configure MongoDB in java project?","body":"<p><strong>Edit</strong>: Kundera is no longer maintained</p>\n<hr />\n<p>You can use Object mapper named <a href=\"https://github.com/impetus-opensource/Kundera\" rel=\"nofollow noreferrer\">Kundera</a>. It is an open source project with JPA interface. You can query simply in JPA way (like in RDBMS). Also, you can use the features like <strong>GridFS</strong> with some modification in your entity class. It  supports <em><strong>polyglot persistence</strong></em> too.</p>\n<p>For more details: <a href=\"https://github.com/impetus-opensource/Kundera/wiki/Getting-Started-in-5-minutes\" rel=\"nofollow noreferrer\">https://github.com/impetus-opensource/Kundera/wiki/Getting-Started-in-5-minutes</a></p>\n"}],"owner":{"account_id":2499631,"reputation":778,"user_id":2175132,"accept_rate":97,"display_name":"Manolis Karamanis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":30455891,"answer_count":3,"score":0,"last_activity_date":1694242166,"creation_date":1432634372,"question_id":30455327,"body_markdown":"I want to move from MySQL to MongoDB. In my project, a lot of servlets are being called. There, i begin a user transaction and some operations are executed in the database, both read and write. I use DTOs, DAOs and hibernate. \r\n\r\nFrom what I have read, although hibernate could support MongoDB, I should quit hibernate. Could anyone suggest some key frameworks, which I could use? I am looking for something like hibernate for MySQL.\r\n  \r\nAlso, should I use user transactions with mongoDB? Should I use DAOs?\r\nI am sorry about the many questions. I know all these could be done. My question is, what is the proper and effective use of MongoDB in a java project.  ","title":"How should i configure MongoDB in java project?","body":"<p>I want to move from MySQL to MongoDB. In my project, a lot of servlets are being called. There, i begin a user transaction and some operations are executed in the database, both read and write. I use DTOs, DAOs and hibernate. </p>\n\n<p>From what I have read, although hibernate could support MongoDB, I should quit hibernate. Could anyone suggest some key frameworks, which I could use? I am looking for something like hibernate for MySQL.</p>\n\n<p>Also, should I use user transactions with mongoDB? Should I use DAOs?\nI am sorry about the many questions. I know all these could be done. My question is, what is the proper and effective use of MongoDB in a java project.  </p>\n"},{"tags":["java","jmeter","upload"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694240779,"creation_date":1694240779,"answer_id":77071092,"question_id":77070753,"body_markdown":"Multipart request is a [single request][1]. The main purpose of it is sending multiple files and associated data as a single request to the server. \r\n\r\nYou cannot measure processing speed for a &quot;part&quot; on JMeter side. The only thing you can measure is how fast JMeter is sending the &quot;part&quot; but you will need to do some manual or automated processing for it. \r\n\r\nFirst of all [enable JMeter debug logging][2] for [Apache HttpComponents][3]. It can be done by adding the next line to *log4j2.xml* file:\r\n\r\n    &lt;Logger name=&quot;org.apache.http&quot; level=&quot;debug&quot; /&gt;\r\n\r\nthen you can look for the generated [multipart boundary][4] in the log file and you will see the timestamps for writing each &quot;part&quot; into the stream:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc2046#section-5.1\r\n  [2]: https://www.blazemeter.com/blog/jmeter-logging\r\n  [3]: https://hc.apache.org/\r\n  [4]: https://stackoverflow.com/questions/3508338/what-is-the-boundary-in-multipart-form-data\r\n  [5]: https://i.stack.imgur.com/pjtjR.png","title":"How to monitor multipart upload in jmeter","body":"<p>Multipart request is a <a href=\"https://datatracker.ietf.org/doc/html/rfc2046#section-5.1\" rel=\"nofollow noreferrer\">single request</a>. The main purpose of it is sending multiple files and associated data as a single request to the server.</p>\n<p>You cannot measure processing speed for a &quot;part&quot; on JMeter side. The only thing you can measure is how fast JMeter is sending the &quot;part&quot; but you will need to do some manual or automated processing for it.</p>\n<p>First of all <a href=\"https://www.blazemeter.com/blog/jmeter-logging\" rel=\"nofollow noreferrer\">enable JMeter debug logging</a> for <a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">Apache HttpComponents</a>. It can be done by adding the next line to <em>log4j2.xml</em> file:</p>\n<pre><code>&lt;Logger name=&quot;org.apache.http&quot; level=&quot;debug&quot; /&gt;\n</code></pre>\n<p>then you can look for the generated <a href=\"https://stackoverflow.com/questions/3508338/what-is-the-boundary-in-multipart-form-data\">multipart boundary</a> in the log file and you will see the timestamps for writing each &quot;part&quot; into the stream:</p>\n<p><a href=\"https://i.stack.imgur.com/pjtjR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjtjR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7186352,"reputation":145,"user_id":5488183,"accept_rate":29,"display_name":"Mani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694240779,"creation_date":1694230687,"question_id":77070753,"body_markdown":"How can we monitor how much time JMeter took to send all part of my file while uploading to server. I&#39;m able to get the info in bytes/sec but i want to get that for each part.","title":"How to monitor multipart upload in jmeter","body":"<p>How can we monitor how much time JMeter took to send all part of my file while uploading to server. I'm able to get the info in bytes/sec but i want to get that for each part.</p>\n"},{"tags":["java","mongodb","getter-setter"],"answers":[{"tags":[],"owner":{"account_id":4873652,"reputation":13544,"user_id":3929393,"accept_rate":75,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694240329,"creation_date":1422517075,"answer_id":28209281,"question_id":28209125,"body_markdown":"Edit: Kundera is no longer maintained. \r\n\r\n--------------------------------------\r\n\r\n\r\nYou want to map your POJO with MongoDB database. you can use ORM for that purpose. You can achieve CRUD and query operations easily in SQL manner using Kundera. Kundera is a JPA 2.1 compliant object-datastore mapping library for NoSQL datastores. You can find more about Kundera on below mentioned link.\r\n\r\nhttps://github.com/impetus-opensource/Kundera/wiki\r\n\r\nHope that Helps...:)","title":"get values from getter and setter methods in java for inserting into Mongodb?","body":"<p>Edit: Kundera is no longer maintained.</p>\n<hr />\n<p>You want to map your POJO with MongoDB database. you can use ORM for that purpose. You can achieve CRUD and query operations easily in SQL manner using Kundera. Kundera is a JPA 2.1 compliant object-datastore mapping library for NoSQL datastores. You can find more about Kundera on below mentioned link.</p>\n<p><a href=\"https://github.com/impetus-opensource/Kundera/wiki\" rel=\"nofollow noreferrer\">https://github.com/impetus-opensource/Kundera/wiki</a></p>\n<p>Hope that Helps...:)</p>\n"},{"tags":[],"owner":{"account_id":4813986,"reputation":696,"user_id":3886607,"display_name":"Manjunath H"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1422521860,"creation_date":1422521860,"answer_id":28210542,"question_id":28209125,"body_markdown":"Below is the code to insert into mongodb using setters and getters.\r\n\r\n*Note that*\r\n\r\n*1) I have used the same `Encapsulation` class with getters and setters.*\r\n\r\n*2) I have used `mongo-java-driver-2.12.2.jar` as mongo java driver.*\r\n\r\n*3) mongodb is running at port 27017.*\r\n\r\n**Code:**\r\n\r\n    import com.mongodb.BasicDBObject;\r\n    import com.mongodb.DB;\r\n    import com.mongodb.DBCollection;\r\n    import com.mongodb.MongoClient;\r\n\r\n    public class MongoInsert {\r\n\r\n\t/**\r\n\t * @param args\r\n\t * @throws Exception \r\n\t */\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\t\r\n\t\tEncapsulation bean=new Encapsulation();\r\n\t\t// Setting values\r\n\t\tbean.setId(&quot;value1&quot;);\r\n\t\tbean.setProduct_name(&quot;value2&quot;);\r\n\t\tbean.setProduct_image(&quot;value3&quot;);\r\n\t\tbean.setProduct_price(&quot;value4&quot;);\r\n\t\tbean.setProduct_src(&quot;value5&quot;);\r\n\t\tbean.setProduct_url(&quot;value6&quot;);\r\n\t\tbean.setDate(&quot;value7&quot;);\r\n\t\tbean.setCountry(&quot;value8&quot;);\r\n\t\tbean.setCategory(&quot;value9&quot;);\r\n\t\t\r\n\t\tMongoClient mongo = new MongoClient(&quot;localhost&quot;, 27017);\r\n\t\tDB db = mongo.getDB(&quot;Test&quot;);\t\r\n\t\tDBCollection coll = db.getCollection(&quot;mycol&quot;);\r\n\t\t\t\t\r\n        //getting values and assigning to mongo field\r\n\t\tBasicDBObject doc = new BasicDBObject(&quot;id&quot;, bean.getId()).\r\n\t\t                         append(&quot;Product_name&quot;, bean.getProduct_name()).\r\n\t\t                         append(&quot;Product_image&quot;, bean.getProduct_image()).\r\n\t\t                         append(&quot;Product_price&quot;, bean.getProduct_price()).\r\n\t\t                          append(&quot;Product_src&quot;, bean.getProduct_src()).\r\n\t\t                          append(&quot;Product_url&quot;, bean.getProduct_url()).\r\n\t\t                          append(&quot;Date&quot;, bean.getDate()).\r\n\t\t                          append(&quot;Country&quot;, bean.getCountry()).\r\n\t\t                          append(&quot;Category&quot;, bean.getCategory());\t\t                       \t\t                       \t\t                      \t\r\n\t\t                        \r\n                                  coll.insert(doc);\t\r\n\t}\r\n    }\r\n\r\n\r\nHope it helps.","title":"get values from getter and setter methods in java for inserting into Mongodb?","body":"<p>Below is the code to insert into mongodb using setters and getters.</p>\n\n<p><em>Note that</em></p>\n\n<p><em>1) I have used the same <code>Encapsulation</code> class with getters and setters.</em></p>\n\n<p><em>2) I have used <code>mongo-java-driver-2.12.2.jar</code> as mongo java driver.</em></p>\n\n<p><em>3) mongodb is running at port 27017.</em></p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>import com.mongodb.BasicDBObject;\nimport com.mongodb.DB;\nimport com.mongodb.DBCollection;\nimport com.mongodb.MongoClient;\n\npublic class MongoInsert {\n\n/**\n * @param args\n * @throws Exception \n */\npublic static void main(String[] args) throws Exception {\n\n\n    Encapsulation bean=new Encapsulation();\n    // Setting values\n    bean.setId(\"value1\");\n    bean.setProduct_name(\"value2\");\n    bean.setProduct_image(\"value3\");\n    bean.setProduct_price(\"value4\");\n    bean.setProduct_src(\"value5\");\n    bean.setProduct_url(\"value6\");\n    bean.setDate(\"value7\");\n    bean.setCountry(\"value8\");\n    bean.setCategory(\"value9\");\n\n    MongoClient mongo = new MongoClient(\"localhost\", 27017);\n    DB db = mongo.getDB(\"Test\");    \n    DBCollection coll = db.getCollection(\"mycol\");\n\n    //getting values and assigning to mongo field\n    BasicDBObject doc = new BasicDBObject(\"id\", bean.getId()).\n                             append(\"Product_name\", bean.getProduct_name()).\n                             append(\"Product_image\", bean.getProduct_image()).\n                             append(\"Product_price\", bean.getProduct_price()).\n                              append(\"Product_src\", bean.getProduct_src()).\n                              append(\"Product_url\", bean.getProduct_url()).\n                              append(\"Date\", bean.getDate()).\n                              append(\"Country\", bean.getCountry()).\n                              append(\"Category\", bean.getCategory());                                                                                       \n\n                              coll.insert(doc); \n}\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":5049561,"reputation":744,"user_id":4054547,"accept_rate":39,"display_name":"Miller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28210542,"answer_count":2,"score":0,"last_activity_date":1694240329,"creation_date":1422516407,"question_id":28209125,"body_markdown":"How to get values from getter and setter methods in java to insert into Mongodb.I used the below code to insert in to mongodb\r\n\r\n    DBCollection coll = db.getCollection(&quot;mycol&quot;);\r\n    BasicDBObject doc = new BasicDBObject(&quot;id&quot;,&quot;Hello&quot; ).\r\n    \t\t\t\t\t\t append(&quot;description&quot;, &quot;database&quot;).\r\n    \t\t\t\t            append(&quot;likes&quot;, 100).\r\n    \t\t\t\t            append(&quot;url&quot;, &quot;http://http://www.flowersofindia.net/&quot;).\r\n    \t\t\t\t            append(&quot;by&quot;, &quot;Rose&quot;);\r\n    \t\t\t\t         coll.insert(doc);\r\n\r\n  The above given are some Hard code values.But i need to take the values from setter method thet i have wrote.This is my getter and setter class.\r\n\r\n    public class Encapsulation {\r\n    \tprivate String id;\r\n    \tprivate String product_name;\r\n    \tprivate String product_url;\r\n    \tprivate String product_image;\r\n    \tprivate String product_price;\r\n    \tprivate String product_src;\r\n    \tprivate String country;\r\n    \tprivate String date;\r\n    \tprivate String Category;\r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getProduct_name() {\r\n    \t\treturn product_name;\r\n    \t}\r\n    \tpublic void setProduct_name(String product_name) {\r\n    \t\tthis.product_name = product_name;\r\n    \t}\r\n    \tpublic String getProduct_url() {\r\n    \t\treturn product_url;\r\n    \t}\r\n    \tpublic void setProduct_url(String product_url) {\r\n    \t\tthis.product_url = product_url;\r\n    \t}\r\n    \tpublic String getProduct_image() {\r\n    \t\treturn product_image;\r\n    \t}\r\n    \tpublic void setProduct_image(String product_image) {\r\n    \t\tthis.product_image = product_image;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getProduct_price() {\r\n    \t\treturn product_price;\r\n    \t}\r\n    \tpublic void setProduct_price(String product_price) {\r\n    \t\tthis.product_price = product_price;\r\n    \t}\r\n    \tpublic String getProduct_src() {\r\n    \t\treturn product_src;\r\n    \t}\r\n    \tpublic void setProduct_src(String product_src) {\r\n    \t\tthis.product_src = product_src;\r\n    \t}\r\n    \tpublic String getCountry() {\r\n    \t\treturn country;\r\n    \t}\r\n    \tpublic void setCountry(String country) {\r\n    \t\tthis.country = country;\r\n    \t}\r\n    \tpublic String getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \tpublic void setDate(String date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \tpublic String getCategory() {\r\n    \t\treturn Category;\r\n    \t}\r\n    \tpublic void setCategory(String category) {\r\n    \t\tCategory = category;\r\n    \t}\r\n    \r\n    }\r\n\r\n.Can anybody help?\r\nAny help will be highly appreciated.I am new to this enviornment","title":"get values from getter and setter methods in java for inserting into Mongodb?","body":"<p>How to get values from getter and setter methods in java to insert into Mongodb.I used the below code to insert in to mongodb</p>\n\n<pre><code>DBCollection coll = db.getCollection(\"mycol\");\nBasicDBObject doc = new BasicDBObject(\"id\",\"Hello\" ).\n                         append(\"description\", \"database\").\n                            append(\"likes\", 100).\n                            append(\"url\", \"http://http://www.flowersofindia.net/\").\n                            append(\"by\", \"Rose\");\n                         coll.insert(doc);\n</code></pre>\n\n<p>The above given are some Hard code values.But i need to take the values from setter method thet i have wrote.This is my getter and setter class.</p>\n\n<pre><code>public class Encapsulation {\n    private String id;\n    private String product_name;\n    private String product_url;\n    private String product_image;\n    private String product_price;\n    private String product_src;\n    private String country;\n    private String date;\n    private String Category;\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getProduct_name() {\n        return product_name;\n    }\n    public void setProduct_name(String product_name) {\n        this.product_name = product_name;\n    }\n    public String getProduct_url() {\n        return product_url;\n    }\n    public void setProduct_url(String product_url) {\n        this.product_url = product_url;\n    }\n    public String getProduct_image() {\n        return product_image;\n    }\n    public void setProduct_image(String product_image) {\n        this.product_image = product_image;\n    }\n\n\n    public String getProduct_price() {\n        return product_price;\n    }\n    public void setProduct_price(String product_price) {\n        this.product_price = product_price;\n    }\n    public String getProduct_src() {\n        return product_src;\n    }\n    public void setProduct_src(String product_src) {\n        this.product_src = product_src;\n    }\n    public String getCountry() {\n        return country;\n    }\n    public void setCountry(String country) {\n        this.country = country;\n    }\n    public String getDate() {\n        return date;\n    }\n    public void setDate(String date) {\n        this.date = date;\n    }\n    public String getCategory() {\n        return Category;\n    }\n    public void setCategory(String category) {\n        Category = category;\n    }\n\n}\n</code></pre>\n\n<p>.Can anybody help?\nAny help will be highly appreciated.I am new to this enviornment</p>\n"},{"tags":["java","apache","basic-authentication","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":3761479,"reputation":2550,"user_id":3126323,"accept_rate":57,"display_name":"farvilain"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1388792092,"creation_date":1388792092,"answer_id":20914680,"question_id":20914311,"body_markdown":"**I think** HttpClient is like other curl based solution, it follows the spec.\r\n\r\nAnd the spec is &quot;Do not send the credentials except if server tell you to do so&quot;.\r\nSo you get a 401 (&quot;I want u to send credentials&quot;)...\r\n\r\nIt&#39;s a common soap ui problem: when you don&#39;t know, it&#39;s not obvious","title":"HttpClientBuilder basic auth","body":"<p><strong>I think</strong> HttpClient is like other curl based solution, it follows the spec.</p>\n\n<p>And the spec is \"Do not send the credentials except if server tell you to do so\".\nSo you get a 401 (\"I want u to send credentials\")...</p>\n\n<p>It's a common soap ui problem: when you don't know, it's not obvious</p>\n"},{"tags":[],"owner":{"account_id":154496,"reputation":8593,"user_id":370481,"accept_rate":72,"display_name":"Eugen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388832586,"creation_date":1388832586,"answer_id":20919961,"question_id":20914311,"body_markdown":"I just tried your code sample (against a simple Basic Auth enabled URL) and it works fine - this is the log from the `HttpClient` - a bit simplified for brevity: \r\n\r\n    web - 2014-01-04 12:43:19,700 [main] DEBUG o.a.h.c.protocol.RequestAddCookies - CookieSpec selected: best-match\r\n    web - 2014-01-04 12:43:19,710 [main] DEBUG o.a.h.c.protocol.RequestAuthCache - Auth cache not set in the context\r\n    web - 2014-01-04 12:43:19,728 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:8080\r\n    web - 2014-01-04 12:43:19,730 [main] DEBUG o.a.h.c.HttpClientConnectionManager - Connecting to localhost/127.0.0.1:8080\r\n    web - 2014-01-04 12:43:19,731 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Executing request GET /spring-security-mvc-basic-auth/homepage.html HTTP/1.1\r\n    web - 2014-01-04 12:43:19,731 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED\r\n    web - 2014-01-04 12:43:19,731 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED\r\n    web - 2014-01-04 12:43:19,732 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; GET /spring-security-mvc-basic-auth/homepage.html HTTP/1.1\r\n    web - 2014-01-04 12:43:19,732 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: localhost:8080\r\n    web - 2014-01-04 12:43:19,732 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.3.1 (java 1.5)\r\n    web - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 401 Unauthorized\r\n    web - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Server: Apache-Coyote/1.1\r\n    web - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Set-Cookie: JSESSIONID=B8E6D0D7DE0C99991A74E9B2E4EA68AE; Path=/spring-security-mvc-basic-auth/; HttpOnly\r\n    web - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; WWW-Authenticate: Basic realm=&quot;Baeldung&quot;\r\n    web - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Length: 75\r\n    web - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Sat, 04 Jan 2014 10:43:19 GMT\r\n    web - 2014-01-04 12:43:19,738 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - Authentication required\r\n    web - 2014-01-04 12:43:19,738 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - localhost:8080 requested authentication\r\n    web - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [negotiate, Kerberos, NTLM, Digest, Basic]\r\n    web - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Challenge for negotiate authentication scheme not available\r\n    web - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available\r\n    web - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available\r\n    web - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available\r\n    web - 2014-01-04 12:43:19,745 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC]\r\n    web - 2014-01-04 12:43:19,746 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Executing request GET /spring-security-mvc-basic-auth/homepage.html HTTP/1.1\r\n    web - 2014-01-04 12:43:19,746 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Target auth state: CHALLENGED\r\n    web - 2014-01-04 12:43:19,746 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme\r\n    web - 2014-01-04 12:43:19,747 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED\r\n    web - 2014-01-04 12:43:19,747 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; GET /spring-security-mvc-basic-auth/homepage.html HTTP/1.1\r\n    web - 2014-01-04 12:43:19,747 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: localhost:8080\r\n    web - 2014-01-04 12:43:19,747 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.3.1 (java 1.5)\r\n    web - 2014-01-04 12:43:19,747 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Authorization: Basic dXNlcjE6dXNlcjFQYXNz\r\n    web - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 200 OK\r\n    web - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Server: Apache-Coyote/1.1\r\n    web - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Set-Cookie: JSESSIONID=C03FD4EB1421A4C3A003ADC895D49599; Path=/spring-security-mvc-basic-auth/; HttpOnly\r\n    web - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Type: text/html;charset=ISO-8859-1\r\n    web - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Language: en-US\r\n    web - 2014-01-04 12:43:19,751 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Length: 96\r\n    web - 2014-01-04 12:43:19,751 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Sat, 04 Jan 2014 10:43:19 GMT\r\n    web - 2014-01-04 12:43:19,751 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - Authentication succeeded\r\n    web - 2014-01-04 12:43:19,751 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Caching &#39;basic&#39; auth scheme for http://localhost:8080\r\n    web - 2014-01-04 12:43:19,760 [main] DEBUG o.a.h.c.p.ResponseProcessCookies - Cookie accepted: &quot;[version: 0][name: JSESSIONID][value: C03FD4EB1421A4C3A003ADC895D49599][domain: localhost][path: /spring-security-mvc-basic-auth/][expiry: null]&quot;. \r\n\r\nSo - simply put:  &lt;br/&gt;\r\n- the Server does challenge the initial request &lt;br&gt;\r\n- `HttpClient` recognizes the Basic Auth scheme and responds to the challenge correctly &lt;br/&gt;\r\n- at that point the Server servers the expected `200 OK` &lt;br/&gt;\r\n\r\nIt may be the case that the REST Service you&#39;re using isn&#39;t actually using Basic Authentication. You can try to paste the full `HttpClient` logs to better diagnose the issue. \r\n\r\nHope that helps. ","title":"HttpClientBuilder basic auth","body":"<p>I just tried your code sample (against a simple Basic Auth enabled URL) and it works fine - this is the log from the <code>HttpClient</code> - a bit simplified for brevity: </p>\n\n<pre><code>web - 2014-01-04 12:43:19,700 [main] DEBUG o.a.h.c.protocol.RequestAddCookies - CookieSpec selected: best-match\nweb - 2014-01-04 12:43:19,710 [main] DEBUG o.a.h.c.protocol.RequestAuthCache - Auth cache not set in the context\nweb - 2014-01-04 12:43:19,728 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:8080\nweb - 2014-01-04 12:43:19,730 [main] DEBUG o.a.h.c.HttpClientConnectionManager - Connecting to localhost/127.0.0.1:8080\nweb - 2014-01-04 12:43:19,731 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Executing request GET /spring-security-mvc-basic-auth/homepage.html HTTP/1.1\nweb - 2014-01-04 12:43:19,731 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED\nweb - 2014-01-04 12:43:19,731 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED\nweb - 2014-01-04 12:43:19,732 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; GET /spring-security-mvc-basic-auth/homepage.html HTTP/1.1\nweb - 2014-01-04 12:43:19,732 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: localhost:8080\nweb - 2014-01-04 12:43:19,732 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.3.1 (java 1.5)\nweb - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 401 Unauthorized\nweb - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Server: Apache-Coyote/1.1\nweb - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Set-Cookie: JSESSIONID=B8E6D0D7DE0C99991A74E9B2E4EA68AE; Path=/spring-security-mvc-basic-auth/; HttpOnly\nweb - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; WWW-Authenticate: Basic realm=\"Baeldung\"\nweb - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Length: 75\nweb - 2014-01-04 12:43:19,735 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Sat, 04 Jan 2014 10:43:19 GMT\nweb - 2014-01-04 12:43:19,738 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - Authentication required\nweb - 2014-01-04 12:43:19,738 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - localhost:8080 requested authentication\nweb - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [negotiate, Kerberos, NTLM, Digest, Basic]\nweb - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Challenge for negotiate authentication scheme not available\nweb - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available\nweb - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available\nweb - 2014-01-04 12:43:19,738 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available\nweb - 2014-01-04 12:43:19,745 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC]\nweb - 2014-01-04 12:43:19,746 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Executing request GET /spring-security-mvc-basic-auth/homepage.html HTTP/1.1\nweb - 2014-01-04 12:43:19,746 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Target auth state: CHALLENGED\nweb - 2014-01-04 12:43:19,746 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme\nweb - 2014-01-04 12:43:19,747 [main] DEBUG o.a.h.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED\nweb - 2014-01-04 12:43:19,747 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; GET /spring-security-mvc-basic-auth/homepage.html HTTP/1.1\nweb - 2014-01-04 12:43:19,747 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: localhost:8080\nweb - 2014-01-04 12:43:19,747 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.3.1 (java 1.5)\nweb - 2014-01-04 12:43:19,747 [main] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Authorization: Basic dXNlcjE6dXNlcjFQYXNz\nweb - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 200 OK\nweb - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Server: Apache-Coyote/1.1\nweb - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Set-Cookie: JSESSIONID=C03FD4EB1421A4C3A003ADC895D49599; Path=/spring-security-mvc-basic-auth/; HttpOnly\nweb - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Type: text/html;charset=ISO-8859-1\nweb - 2014-01-04 12:43:19,750 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Language: en-US\nweb - 2014-01-04 12:43:19,751 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Length: 96\nweb - 2014-01-04 12:43:19,751 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Sat, 04 Jan 2014 10:43:19 GMT\nweb - 2014-01-04 12:43:19,751 [main] DEBUG o.a.http.impl.auth.HttpAuthenticator - Authentication succeeded\nweb - 2014-01-04 12:43:19,751 [main] DEBUG o.a.h.i.c.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:8080\nweb - 2014-01-04 12:43:19,760 [main] DEBUG o.a.h.c.p.ResponseProcessCookies - Cookie accepted: \"[version: 0][name: JSESSIONID][value: C03FD4EB1421A4C3A003ADC895D49599][domain: localhost][path: /spring-security-mvc-basic-auth/][expiry: null]\". \n</code></pre>\n\n<p>So - simply put:  <br/>\n- the Server does challenge the initial request <br>\n- <code>HttpClient</code> recognizes the Basic Auth scheme and responds to the challenge correctly <br/>\n- at that point the Server servers the expected <code>200 OK</code> <br/></p>\n\n<p>It may be the case that the REST Service you're using isn't actually using Basic Authentication. You can try to paste the full <code>HttpClient</code> logs to better diagnose the issue. </p>\n\n<p>Hope that helps. </p>\n"},{"tags":[],"owner":{"account_id":8388,"reputation":2603,"user_id":15087,"accept_rate":70,"display_name":"Cetra"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1391652117,"creation_date":1391652117,"answer_id":21592593,"question_id":20914311,"body_markdown":"From the **Preemptive Authentication** Documentation here:\r\n\r\nhttp://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html\r\n\r\nBy default, httpclient will not provide credentials preemptively, it will first create a HTTP request without authentication parameters.  This is by design, as a security precaution, and as part of the spec. But, this causes issues if you don&#39;t retry the connection, or wherever you&#39;re connecting to expects you to send authentication details on the first connection.  It also causes extra latency to a request, as you need to make multiple calls, and causes 401s to appear in the logs.\r\n\r\nThe workaround is to use an authentication cache to pretend that you&#39;ve already connected to the server once.  This means you&#39;ll only make one HTTP call and won&#39;t see a 401 in the logs: \r\n\r\n\tCloseableHttpClient httpclient = HttpClientBuilder.create().build();\r\n\r\n\tHttpHost targetHost = new HttpHost(&quot;localhost&quot;, 80, &quot;http&quot;);\r\n\tCredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n\tcredsProvider.setCredentials(\r\n\t        new AuthScope(targetHost.getHostName(), targetHost.getPort()),\r\n\t        new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;));\r\n\r\n\t// Create AuthCache instance\r\n\tAuthCache authCache = new BasicAuthCache();\r\n\t// Generate BASIC scheme object and add it to the local auth cache\r\n\tBasicScheme basicAuth = new BasicScheme();\r\n\tauthCache.put(targetHost, basicAuth);\r\n\r\n\t// Add AuthCache to the execution context\r\n\tHttpClientContext context = HttpClientContext.create();\r\n\tcontext.setCredentialsProvider(credsProvider);\r\n\tcontext.setAuthCache(authCache);\r\n\r\n\tHttpGet httpget = new HttpGet(&quot;/&quot;);\r\n\tfor (int i = 0; i &lt; 3; i++) {\r\n\t    CloseableHttpResponse response = httpclient.execute(\r\n\t            targetHost, httpget, context);\r\n\t    try {\r\n\t        HttpEntity entity = response.getEntity();\r\n\r\n\t    } finally {\r\n\t        response.close();\r\n\t    }\r\n\t}\r\n\r\nPlease note:  You need to trust the host you&#39;re connecting to, and if you&#39;re using HTTP, your username and password will be sent in cleartext (well, base64, but that doesn&#39;t count).  \r\n\r\nYou should also be using a much more specific Authscope rather than relying on `AuthScope .ANY_HOST` and `AuthScope.ANY_PORT` like in your example.","title":"HttpClientBuilder basic auth","body":"<p>From the <strong>Preemptive Authentication</strong> Documentation here:</p>\n\n<p><a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html\" rel=\"noreferrer\">http://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html</a></p>\n\n<p>By default, httpclient will not provide credentials preemptively, it will first create a HTTP request without authentication parameters.  This is by design, as a security precaution, and as part of the spec. But, this causes issues if you don't retry the connection, or wherever you're connecting to expects you to send authentication details on the first connection.  It also causes extra latency to a request, as you need to make multiple calls, and causes 401s to appear in the logs.</p>\n\n<p>The workaround is to use an authentication cache to pretend that you've already connected to the server once.  This means you'll only make one HTTP call and won't see a 401 in the logs: </p>\n\n<pre><code>CloseableHttpClient httpclient = HttpClientBuilder.create().build();\n\nHttpHost targetHost = new HttpHost(\"localhost\", 80, \"http\");\nCredentialsProvider credsProvider = new BasicCredentialsProvider();\ncredsProvider.setCredentials(\n        new AuthScope(targetHost.getHostName(), targetHost.getPort()),\n        new UsernamePasswordCredentials(\"username\", \"password\"));\n\n// Create AuthCache instance\nAuthCache authCache = new BasicAuthCache();\n// Generate BASIC scheme object and add it to the local auth cache\nBasicScheme basicAuth = new BasicScheme();\nauthCache.put(targetHost, basicAuth);\n\n// Add AuthCache to the execution context\nHttpClientContext context = HttpClientContext.create();\ncontext.setCredentialsProvider(credsProvider);\ncontext.setAuthCache(authCache);\n\nHttpGet httpget = new HttpGet(\"/\");\nfor (int i = 0; i &lt; 3; i++) {\n    CloseableHttpResponse response = httpclient.execute(\n            targetHost, httpget, context);\n    try {\n        HttpEntity entity = response.getEntity();\n\n    } finally {\n        response.close();\n    }\n}\n</code></pre>\n\n<p>Please note:  You need to trust the host you're connecting to, and if you're using HTTP, your username and password will be sent in cleartext (well, base64, but that doesn't count).  </p>\n\n<p>You should also be using a much more specific Authscope rather than relying on <code>AuthScope .ANY_HOST</code> and <code>AuthScope.ANY_PORT</code> like in your example.</p>\n"},{"tags":[],"owner":{"account_id":2373070,"reputation":897,"user_id":2077221,"display_name":"user2077221"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1555080831,"creation_date":1436899019,"answer_id":31414668,"question_id":20914311,"body_markdown":"Actually, since you already trust the server, it&#39;s probably easiest to just construct the authorization header yourself.\r\n\r\n     byte[] credentials = Base64.encodeBase64((username + &quot;:&quot; + password).getBytes(StandardCharsets.UTF_8));\r\n     request.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + new String(credentials, StandardCharsets.UTF_8));\r\n     httpClient.execute(request);\r\n\r\nThis is just one of those cases were it&#39;s easier to read the [spec][1], and roll it yourself.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7617","title":"HttpClientBuilder basic auth","body":"<p>Actually, since you already trust the server, it's probably easiest to just construct the authorization header yourself.</p>\n<pre><code> byte[] credentials = Base64.encodeBase64((username + &quot;:&quot; + password).getBytes(StandardCharsets.UTF_8));\n request.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + new String(credentials, StandardCharsets.UTF_8));\n httpClient.execute(request);\n</code></pre>\n<p>This is just one of those cases were it's easier to read the <a href=\"https://www.rfc-editor.org/rfc/rfc7617\" rel=\"nofollow noreferrer\">spec</a>, and roll it yourself.</p>\n"},{"tags":[],"owner":{"account_id":29368264,"reputation":11,"user_id":22501399,"display_name":"RDream"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694239615,"creation_date":1693894197,"answer_id":77042065,"question_id":20914311,"body_markdown":"For peoples who uses apache http client5 have the same question like me.&lt;br&gt;\r\nThese codes are inspired by [@Cetra][1], and I add **initPreemptive()** to solve 401 issue.\r\n\r\n```java\r\nHttpHost targetHost = new HttpHost(&quot;https&quot;, &quot;test.com&quot;, 443);\r\nBasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\nAuthScope authScope = new AuthScope(targetHost);\r\nCredentials credentials = new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;.toCharArray());\r\ncredentialsProvider.setCredentials(authScope, credentials);\r\n\r\nAuthCache authCache = new BasicAuthCache();\r\nBasicScheme basicScheme = new BasicScheme();\r\n// Call initPreemptive() to use Preemptive credentials\r\nbasicScheme.initPreemptive(credentials);\r\nauthCache.put(targetHost, basicScheme);\r\n\r\nHttpClientContext context = HttpClientContext.create();\r\ncontext.setCredentialsProvider(credentialsProvider);\r\ncontext.setAuthCache(authCache);\r\n\r\nHttpGet request = new HttpGet(&quot;https://test.com/need/basic/auth&quot;);\r\ntry (CloseableHttpClient client = HttpClientBuilder.create().build()) {\r\n    client.execute(request, context, response -&gt; {\r\n        final HttpEntity responseEntity = response.getEntity();\r\n        try {\r\n            System.out.println(&quot;---------&quot;);\r\n            System.out.printf(&quot;%s %s\\r\\n%s%n&quot;, new StatusLine(response), response.getReasonPhrase(), EntityUtils.toString(responseEntity));\r\n            System.out.println(&quot;---------&quot;);\r\n        } finally {\r\n            EntityUtils.consume(responseEntity);\r\n        }\r\n        return null;\r\n    });\r\n} catch (Exception e) {\r\n    System.out.println(e);\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/21592593/22501399","title":"HttpClientBuilder basic auth","body":"<p>For peoples who uses apache http client5 have the same question like me.<br>\nThese codes are inspired by <a href=\"https://stackoverflow.com/a/21592593/22501399\">@Cetra</a>, and I add <strong>initPreemptive()</strong> to solve 401 issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpHost targetHost = new HttpHost(&quot;https&quot;, &quot;test.com&quot;, 443);\nBasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\nAuthScope authScope = new AuthScope(targetHost);\nCredentials credentials = new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;.toCharArray());\ncredentialsProvider.setCredentials(authScope, credentials);\n\nAuthCache authCache = new BasicAuthCache();\nBasicScheme basicScheme = new BasicScheme();\n// Call initPreemptive() to use Preemptive credentials\nbasicScheme.initPreemptive(credentials);\nauthCache.put(targetHost, basicScheme);\n\nHttpClientContext context = HttpClientContext.create();\ncontext.setCredentialsProvider(credentialsProvider);\ncontext.setAuthCache(authCache);\n\nHttpGet request = new HttpGet(&quot;https://test.com/need/basic/auth&quot;);\ntry (CloseableHttpClient client = HttpClientBuilder.create().build()) {\n    client.execute(request, context, response -&gt; {\n        final HttpEntity responseEntity = response.getEntity();\n        try {\n            System.out.println(&quot;---------&quot;);\n            System.out.printf(&quot;%s %s\\r\\n%s%n&quot;, new StatusLine(response), response.getReasonPhrase(), EntityUtils.toString(responseEntity));\n            System.out.println(&quot;---------&quot;);\n        } finally {\n            EntityUtils.consume(responseEntity);\n        }\n        return null;\n    });\n} catch (Exception e) {\n    System.out.println(e);\n}\n</code></pre>\n"}],"owner":{"account_id":284355,"reputation":1964,"user_id":582411,"accept_rate":73,"display_name":"Sayak Banerjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68492,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":21592593,"answer_count":5,"score":21,"last_activity_date":1694239615,"creation_date":1388790301,"question_id":20914311,"body_markdown":"Since HttpClient 4.3, I have been using the HttpClientBuilder. I am connecting to a REST service that has basic authentication. I am setting the credentials as follows:\r\n\r\n    HttpClientBuilder builder = HttpClientBuilder.create();\r\n\r\n    // Get the client credentials\r\n    String username = Config.get(Constants.CONFIG_USERNAME);\r\n    String password = Config.get(Constants.CONFIG_PASSWORD);\r\n\r\n    // If username and password was found, inject the credentials\r\n    if (username != null &amp;&amp; password != null)\r\n    {\r\n        CredentialsProvider provider = new BasicCredentialsProvider();\r\n\r\n        // Create the authentication scope\r\n        AuthScope scope = new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM);\r\n\r\n        // Create credential pair\r\n        UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(username, password);\r\n\r\n        // Inject the credentials\r\n        provider.setCredentials(scope, credentials);\r\n\r\n        // Set the default credentials provider\r\n        builder.setDefaultCredentialsProvider(provider);\r\n    }\r\n\r\nHowever, this does not work (the REST service that I am using is returning 401). What is going wrong?","title":"HttpClientBuilder basic auth","body":"<p>Since HttpClient 4.3, I have been using the HttpClientBuilder. I am connecting to a REST service that has basic authentication. I am setting the credentials as follows:</p>\n\n<pre><code>HttpClientBuilder builder = HttpClientBuilder.create();\n\n// Get the client credentials\nString username = Config.get(Constants.CONFIG_USERNAME);\nString password = Config.get(Constants.CONFIG_PASSWORD);\n\n// If username and password was found, inject the credentials\nif (username != null &amp;&amp; password != null)\n{\n    CredentialsProvider provider = new BasicCredentialsProvider();\n\n    // Create the authentication scope\n    AuthScope scope = new AuthScope(AuthScope.ANY_HOST, AuthScope.ANY_PORT, AuthScope.ANY_REALM);\n\n    // Create credential pair\n    UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(username, password);\n\n    // Inject the credentials\n    provider.setCredentials(scope, credentials);\n\n    // Set the default credentials provider\n    builder.setDefaultCredentialsProvider(provider);\n}\n</code></pre>\n\n<p>However, this does not work (the REST service that I am using is returning 401). What is going wrong?</p>\n"},{"tags":["java","rest","kotlin"],"comments":[{"owner":{"account_id":11813923,"reputation":342,"user_id":8644685,"display_name":"Ivan Abakumov"},"score":0,"creation_date":1691749636,"post_id":76882567,"comment_id":135537010,"body_markdown":"have you tried using &#39;URLEncoder.encode&#39; ?","body":"have you tried using &#39;URLEncoder.encode&#39; ?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691762379,"post_id":76882567,"comment_id":135539698,"body_markdown":"That&#39;s not encryption. It&#39;s base64 encoding.","body":"That&#39;s not encryption. It&#39;s base64 encoding."}],"answers":[{"tags":[],"owner":{"account_id":15646907,"reputation":1,"user_id":11288881,"display_name":"Pankaj Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691749597,"creation_date":1691749562,"answer_id":76882701,"question_id":76882567,"body_markdown":"    String idValue = &quot;mxCSRO3qErTy7eO77HJeUvBiKXM/1i1cd3GdHuqdeSz/lyLU/N7cBCz3eZoIUyybhhmpAeJ1IABomr8Kv0IDKA==&quot;;\r\n    String encodedId = URLEncoder.encode(idValue, StandardCharsets.UTF_8.toString());\r\n    \r\n    String apiUrl = &quot;http://localhost:5008/api/update/&quot; + encodedId;\r\n\r\nUse the uri like this,\r\n\r\nAnd you can later modify your endpoint like this-\r\n\r\n    ApiBuilder.post(apiUrl) {\r\n        // code process here\r\n    }","title":"How to fix issue in running an API with forward slashes (&quot;/&quot;) in its id path parameter using ApiBuilder Java","body":"<pre><code>String idValue = &quot;mxCSRO3qErTy7eO77HJeUvBiKXM/1i1cd3GdHuqdeSz/lyLU/N7cBCz3eZoIUyybhhmpAeJ1IABomr8Kv0IDKA==&quot;;\nString encodedId = URLEncoder.encode(idValue, StandardCharsets.UTF_8.toString());\n\nString apiUrl = &quot;http://localhost:5008/api/update/&quot; + encodedId;\n</code></pre>\n<p>Use the uri like this,</p>\n<p>And you can later modify your endpoint like this-</p>\n<pre><code>ApiBuilder.post(apiUrl) {\n    // code process here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11813923,"reputation":342,"user_id":8644685,"display_name":"Ivan Abakumov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691773099,"creation_date":1691750285,"answer_id":76882777,"question_id":76882567,"body_markdown":"You can replace all slashes (`/`) with `%2F` yourself. \r\nHere is a [link](https://www.w3schools.com/tags/ref_urlencode.asp) to the encoding reference.\r\n\r\nOr use this \r\n\r\n```java\r\n    URLEncoder.encode(String s, String enc)\r\n```\r\n\r\n - **s** — String to be translated.\r\n - **enc** — The name of a supported character encoding.\r\n\r\nExample:\r\n\r\n```\r\n        private fun getUrl(): String {\r\n             val idValue = &quot;mxCSRO3qErTy7eO77HJeUvBiKXM/1i1cd3GdHuqdeSz/lyLU/N7cBCz3eZoIUyybhhmpAeJ1IABomr8Kv0IDKA==&quot;\r\n             val encodedId = URLEncoder.encode(idValue, StandardCharsets.UTF_8.toString())\r\n             return &quot;http://localhost:5008/api/update/$encodedId&quot;\r\n       }\r\n```","title":"How to fix issue in running an API with forward slashes (&quot;/&quot;) in its id path parameter using ApiBuilder Java","body":"<p>You can replace all slashes (<code>/</code>) with <code>%2F</code> yourself.\nHere is a <a href=\"https://www.w3schools.com/tags/ref_urlencode.asp\" rel=\"nofollow noreferrer\">link</a> to the encoding reference.</p>\n<p>Or use this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    URLEncoder.encode(String s, String enc)\n</code></pre>\n<ul>\n<li><strong>s</strong> — String to be translated.</li>\n<li><strong>enc</strong> — The name of a supported character encoding.</li>\n</ul>\n<p>Example:</p>\n<pre><code>        private fun getUrl(): String {\n             val idValue = &quot;mxCSRO3qErTy7eO77HJeUvBiKXM/1i1cd3GdHuqdeSz/lyLU/N7cBCz3eZoIUyybhhmpAeJ1IABomr8Kv0IDKA==&quot;\n             val encodedId = URLEncoder.encode(idValue, StandardCharsets.UTF_8.toString())\n             return &quot;http://localhost:5008/api/update/$encodedId&quot;\n       }\n</code></pre>\n"}],"owner":{"account_id":29127834,"reputation":11,"user_id":22313784,"display_name":"patani20"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694239545,"creation_date":1691748503,"question_id":76882567,"body_markdown":"I am using `ApiBuilder` in Java where my `id` path param has forward slashes (`&quot;/&quot;`) because of encryption. However, the endpoint is not being found when run because the slashes are read as part of the URL, not as the id. Here is how I call the API request:\r\n\r\n\r\n```java\r\nApiBuilder.post(&quot;http://localhost:5008/api/update/{id}&quot;) {\r\n// code process here\r\n}\r\n```\r\n\r\nThe sample id value is:\r\n &gt;mxCSRO3qErTy7eO77HJeUvBiKXM/1i1cd3GdHuqdeSz/lyLU/N7cBCz3eZoIUyybhhmpAeJ1IABomr8Kv0IDKA==\r\n\r\n\r\nEdit: I have already solved the issue here. According to javalin documentation, the path should be *less_than*id*greater_than* instead of `{id}`.","title":"How to fix issue in running an API with forward slashes (&quot;/&quot;) in its id path parameter using ApiBuilder Java","body":"<p>I am using <code>ApiBuilder</code> in Java where my <code>id</code> path param has forward slashes (<code>&quot;/&quot;</code>) because of encryption. However, the endpoint is not being found when run because the slashes are read as part of the URL, not as the id. Here is how I call the API request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApiBuilder.post(&quot;http://localhost:5008/api/update/{id}&quot;) {\n// code process here\n}\n</code></pre>\n<p>The sample id value is:</p>\n<blockquote>\n<p>mxCSRO3qErTy7eO77HJeUvBiKXM/1i1cd3GdHuqdeSz/lyLU/N7cBCz3eZoIUyybhhmpAeJ1IABomr8Kv0IDKA==</p>\n</blockquote>\n<p>Edit: I have already solved the issue here. According to javalin documentation, the path should be <em>less_than</em>id<em>greater_than</em> instead of <code>{id}</code>.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1687616449,"post_id":76545666,"comment_id":134963375,"body_markdown":"I think this is likely to be a Hibernate bug/behavior change. You may want to search https://hibernate.atlassian.net/ for existing issues or try different versions of Hibernate to see if it changes the behavior.","body":"I think this is likely to be a Hibernate bug/behavior change. You may want to search <a href=\"https://hibernate.atlassian.net/\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a> for existing issues or try different versions of Hibernate to see if it changes the behavior."}],"answers":[{"tags":[],"owner":{"account_id":21521429,"reputation":1,"user_id":15862522,"display_name":"Matthieu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693981805,"creation_date":1693981805,"answer_id":77049470,"question_id":76545666,"body_markdown":"Did you try this ?\r\n\r\n    @Column(columnDefinition = &quot;varchar(64)&quot;, nullable = false)\r\n    @ColumnDefault(&quot;&#39;John&#39;&quot;)","title":"How to disable columnDefinition to be executed twice in Spring Boot 3.1.x","body":"<p>Did you try this ?</p>\n<pre><code>@Column(columnDefinition = &quot;varchar(64)&quot;, nullable = false)\n@ColumnDefault(&quot;'John'&quot;)\n</code></pre>\n"}],"owner":{"account_id":18691940,"reputation":3,"user_id":13626083,"display_name":"Heromyth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694239296,"creation_date":1687603489,"question_id":76545666,"body_markdown":"Here is a simple entity with a `columnDefinition` property:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;simple_user&quot;)\r\npublic class SimpleUser {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(columnDefinition = &quot;varchar(64) NOT NULL default &#39;John&#39;&quot;)\r\n    private String nickname;\r\n}\r\n```\r\n\r\nAfter the first run, a table is created like this:\r\n\r\n```\r\n2023-06-24 18:22:20.380 | INFO  | restartedMain | p6spy | 21 ms | statement | create table simple_user (id serial not null, nickname varchar(64) NOT NULL default &#39;John&#39;, primary key (id)) | logSQL(Slf4JLogger.java:60)\r\n2023-06-24 18:22:20.383 | INFO  | restartedMain | p6spy | 2 ms | statement | comment on table simple_user is &#39;User&#39; | logSQL(Slf4JLogger.java:60)\r\n2023-06-24 18:22:20.387 | INFO  | restartedMain | p6spy | 2 ms | statement | comment on column simple_user.nickname is &#39;nickname&#39; | logSQL(Slf4JLogger.java:60)\r\n```\r\n\r\nAfter the second run without any modification I get some errors:\r\n\r\n```java\r\n2023-06-24 18:25:25.520 | INFO  | restartedMain | c.z.h.HikariDataSource | HikariPool-1 - Start completed. | getConnection(HikariDataSource.java:123)\r\n2023-06-24 18:25:26.079 | INFO  | restartedMain | p6spy | 22 ms | statement | select * from information_schema.sequences | logSQL(Slf4JLogger.java:60)\r\n2023-06-24 18:25:26.106 | INFO  | restartedMain | o.h.b.i.BytecodeProviderInitiator | HHH000021: Bytecode provider name : bytebuddy | buildBytecodeProvider(BytecodeProviderInitiator.java:53)\r\n2023-06-24 18:25:27.239 | INFO  | restartedMain | o.h.e.t.j.p.i.JtaPlatformInitiator | HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] | initiateService(JtaPlatformInitiator.java:51)\r\n2023-06-24 18:25:27.272 | INFO  | restartedMain | p6spy | 3 ms | statement | select * from information_schema.sequences | logSQL(Slf4JLogger.java:60)\r\n2023-06-24 18:25:27.315 | INFO  | restartedMain | p6spy | 5 ms | statement | alter table if exists simple_user alter column nickname set data type varchar(64) NOT NULL default &#39;John&#39; | logSQL(Slf4JLogger.java:60)\r\n2023-06-24 18:25:27.317 | WARN  | restartedMain | o.h.t.s.i.ExceptionHandlerLoggedImpl | GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table if exists simple_user alter column nickname set data type varchar(64) NOT NULL default &#39;John&#39;&quot; via JDBC [ERROR: syntax error at or near &quot;NOT&quot;\r\n  Position: 83] | handleException(ExceptionHandlerLoggedImpl.java:27)\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table if exists simple_user alter column nickname set data type varchar(64) NOT NULL default &#39;John&#39;&quot; via JDBC [ERROR: syntax error at or near &quot;NOT&quot;\r\n  Position: 83]\r\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92)\r\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)\r\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)\r\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)\r\n        at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)\r\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)\r\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)\r\n```\r\n\r\nIt seems the columnDefinition has been executed again. \r\nThis behavior only happened in Spring Boot 3.1.1. \r\n\r\n\r\nEverything is ok in Spring Boot 3.0.x and 2.6.x.\r\n\r\n\r\nSo, is this a bug or a design?","title":"How to disable columnDefinition to be executed twice in Spring Boot 3.1.x","body":"<p>Here is a simple entity with a <code>columnDefinition</code> property:</p>\n<pre><code>@Entity\n@Table(name = &quot;simple_user&quot;)\npublic class SimpleUser {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(columnDefinition = &quot;varchar(64) NOT NULL default 'John'&quot;)\n    private String nickname;\n}\n</code></pre>\n<p>After the first run, a table is created like this:</p>\n<pre><code>2023-06-24 18:22:20.380 | INFO  | restartedMain | p6spy | 21 ms | statement | create table simple_user (id serial not null, nickname varchar(64) NOT NULL default 'John', primary key (id)) | logSQL(Slf4JLogger.java:60)\n2023-06-24 18:22:20.383 | INFO  | restartedMain | p6spy | 2 ms | statement | comment on table simple_user is 'User' | logSQL(Slf4JLogger.java:60)\n2023-06-24 18:22:20.387 | INFO  | restartedMain | p6spy | 2 ms | statement | comment on column simple_user.nickname is 'nickname' | logSQL(Slf4JLogger.java:60)\n</code></pre>\n<p>After the second run without any modification I get some errors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-06-24 18:25:25.520 | INFO  | restartedMain | c.z.h.HikariDataSource | HikariPool-1 - Start completed. | getConnection(HikariDataSource.java:123)\n2023-06-24 18:25:26.079 | INFO  | restartedMain | p6spy | 22 ms | statement | select * from information_schema.sequences | logSQL(Slf4JLogger.java:60)\n2023-06-24 18:25:26.106 | INFO  | restartedMain | o.h.b.i.BytecodeProviderInitiator | HHH000021: Bytecode provider name : bytebuddy | buildBytecodeProvider(BytecodeProviderInitiator.java:53)\n2023-06-24 18:25:27.239 | INFO  | restartedMain | o.h.e.t.j.p.i.JtaPlatformInitiator | HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] | initiateService(JtaPlatformInitiator.java:51)\n2023-06-24 18:25:27.272 | INFO  | restartedMain | p6spy | 3 ms | statement | select * from information_schema.sequences | logSQL(Slf4JLogger.java:60)\n2023-06-24 18:25:27.315 | INFO  | restartedMain | p6spy | 5 ms | statement | alter table if exists simple_user alter column nickname set data type varchar(64) NOT NULL default 'John' | logSQL(Slf4JLogger.java:60)\n2023-06-24 18:25:27.317 | WARN  | restartedMain | o.h.t.s.i.ExceptionHandlerLoggedImpl | GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table if exists simple_user alter column nickname set data type varchar(64) NOT NULL default 'John'&quot; via JDBC [ERROR: syntax error at or near &quot;NOT&quot;\n  Position: 83] | handleException(ExceptionHandlerLoggedImpl.java:27)\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table if exists simple_user alter column nickname set data type varchar(64) NOT NULL default 'John'&quot; via JDBC [ERROR: syntax error at or near &quot;NOT&quot;\n  Position: 83]\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92)\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)\n        at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)\n</code></pre>\n<p>It seems the columnDefinition has been executed again.\nThis behavior only happened in Spring Boot 3.1.1.</p>\n<p>Everything is ok in Spring Boot 3.0.x and 2.6.x.</p>\n<p>So, is this a bug or a design?</p>\n"},{"tags":["java","command-line-interface","startupscript"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1694253433,"post_id":77071013,"comment_id":135869231,"body_markdown":"*I always get an ArrayIndexOutBoundsException* Out of interest, how do you know that? javaw.exe doesn&#39;t normally show a window, still less so when it&#39;s &#39;scheduled&#39;","body":"<i>I always get an ArrayIndexOutBoundsException</i> Out of interest, how do you know that? javaw.exe doesn&#39;t normally show a window, still less so when it&#39;s &#39;scheduled&#39;"},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1694259609,"post_id":77071013,"comment_id":135869792,"body_markdown":"I have a GUI global exception handler which which uses common lang&#39;s `ExceptionUtils.getStackTrace(Throwable)`.","body":"I have a GUI global exception handler which which uses common lang&#39;s <code>ExceptionUtils.getStackTrace(Throwable)</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694261440,"post_id":77071013,"comment_id":135869989,"body_markdown":"The first argument to start seems to be for a &quot;title&quot; so try `start &quot;&quot; javaw -jar &quot;Program.jar&quot; &quot;some default arg&quot;` (double quotes with no content)","body":"The first argument to start seems to be for a &quot;title&quot; so try <code>start &quot;&quot; javaw -jar &quot;Program.jar&quot; &quot;some default arg&quot;</code> (double quotes with no content)"},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1694263269,"post_id":77071013,"comment_id":135870178,"body_markdown":"@g00se I still get the exact same error.","body":"@g00se I still get the exact same error."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694263689,"post_id":77071013,"comment_id":135870212,"body_markdown":"Hmm. Try a Windows shortcut instead of the batch file","body":"Hmm. Try a Windows shortcut instead of the batch file"},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1694264167,"post_id":77071013,"comment_id":135870259,"body_markdown":"But I need CLI arguments..? @g00se","body":"But I need CLI arguments..? @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694266360,"post_id":77071013,"comment_id":135870495,"body_markdown":"Shortcuts can take arguments","body":"Shortcuts can take arguments"}],"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694238669,"creation_date":1694238669,"question_id":77071013,"body_markdown":"I created a Java program that I want to automatically run when I turn on my PC, so I made the following `run.bat` and put it in Window&#39;s Startup folder:\r\n```\r\nstart javaw -jar &quot;Program.jar&quot; &quot;some default arg&quot;\r\n```\r\nWhen I double click it myself, everything works. \\\r\nBut after I restart my PC, I always get an `ArrayIndexOutBoundsException` for the line that accesses `args[0]`.\r\n\r\nWhy is this happening?","title":"Java CLI arguments are ignored when running the program when windows start","body":"<p>I created a Java program that I want to automatically run when I turn on my PC, so I made the following <code>run.bat</code> and put it in Window's Startup folder:</p>\n<pre><code>start javaw -jar &quot;Program.jar&quot; &quot;some default arg&quot;\n</code></pre>\n<p>When I double click it myself, everything works. <br />\nBut after I restart my PC, I always get an <code>ArrayIndexOutBoundsException</code> for the line that accesses <code>args[0]</code>.</p>\n<p>Why is this happening?</p>\n"},{"tags":["java","spring","maven","jdbc"],"comments":[{"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1361552279,"post_id":15029292,"comment_id":21119764,"body_markdown":"is version 3.2.1 out yet ? Yes apparently http://www.springsource.org/node/3791","body":"is version 3.2.1 out yet ? Yes apparently <a href=\"http://www.springsource.org/node/3791\" rel=\"nofollow noreferrer\">springsource.org/node/3791</a>"},{"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1361552475,"post_id":15029292,"comment_id":21119888,"body_markdown":"You need to include the specific modules you need http://stackoverflow.com/a/2237805/106261","body":"You need to include the specific modules you need <a href=\"http://stackoverflow.com/a/2237805/106261\">stackoverflow.com/a/2237805/106261</a>"}],"answers":[{"tags":[],"owner":{"account_id":1272164,"reputation":717,"user_id":1228193,"accept_rate":36,"display_name":"Gerard Ribas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1361552476,"creation_date":1361552476,"answer_id":15029408,"question_id":15029292,"body_markdown":"If you want to work with Spring Jdbc packages you have to import the correct library:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.2.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Can&#39;t import org.springframework.jdbc.core with maven","body":"<p>If you want to work with Spring Jdbc packages you have to import the correct library:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361552923,"creation_date":1361552611,"answer_id":15029454,"question_id":15029292,"body_markdown":"`SqlInOutParameter`, `SqlParameter` and `StoredProcedure` require the [spring-jdbc][1] artifact.\r\n\r\nIt does not appear in the [dependent artifacts for `spring-context`][2]. The artifact for `spring-orm` _does_ contain this dependency however. See [here][3] \r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.springframework/spring-jdbc/3.2.1.RELEASE\r\n  [2]: http://mvnrepository.com/artifact/org.springframework/spring-orm/3.2.1.RELEASE\r\n  [3]: http://mvnrepository.com/artifact/org.springframework/spring-orm/3.2.1.RELEASE","title":"Can&#39;t import org.springframework.jdbc.core with maven","body":"<p><code>SqlInOutParameter</code>, <code>SqlParameter</code> and <code>StoredProcedure</code> require the <a href=\"http://mvnrepository.com/artifact/org.springframework/spring-jdbc/3.2.1.RELEASE\" rel=\"nofollow\">spring-jdbc</a> artifact.</p>\n\n<p>It does not appear in the <a href=\"http://mvnrepository.com/artifact/org.springframework/spring-orm/3.2.1.RELEASE\" rel=\"nofollow\">dependent artifacts for <code>spring-context</code></a>. The artifact for <code>spring-orm</code> <em>does</em> contain this dependency however. See <a href=\"http://mvnrepository.com/artifact/org.springframework/spring-orm/3.2.1.RELEASE\" rel=\"nofollow\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":11078123,"reputation":3977,"user_id":8134164,"display_name":"INDRAJITH EKANAYAKE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694237625,"creation_date":1694237625,"answer_id":77070972,"question_id":15029292,"body_markdown":"The same error occurs when you run your Java code using the `CodeRunner` extension in VSCode. This happens because it can only deal with Java files and does not depend on any other third-party dependencies ([reference][1]).\r\n\r\nThe simple solution would be disabling `CodeRunner` and installing something like `Extension Pack for Java` and then the code will compile without errors.\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/issues/2998","title":"Can&#39;t import org.springframework.jdbc.core with maven","body":"<p>The same error occurs when you run your Java code using the <code>CodeRunner</code> extension in VSCode. This happens because it can only deal with Java files and does not depend on any other third-party dependencies (<a href=\"https://github.com/redhat-developer/vscode-java/issues/2998\" rel=\"nofollow noreferrer\">reference</a>).</p>\n<p>The simple solution would be disabling <code>CodeRunner</code> and installing something like <code>Extension Pack for Java</code> and then the code will compile without errors.</p>\n"}],"owner":{"account_id":282074,"reputation":5607,"user_id":2144370,"accept_rate":72,"display_name":"SJS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25909,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":15029408,"answer_count":3,"score":8,"last_activity_date":1694237625,"creation_date":1361552142,"question_id":15029292,"body_markdown":"I dont know why the follow imports are not getting found in my project:\r\nCode:\r\n\r\n    import org.springframework.jdbc.core.SqlInOutParameter;\r\n    import org.springframework.jdbc.core.SqlParameter;\r\n    import org.springframework.jdbc.object.StoredProcedure;\r\n\r\n\r\nI have the folllowing in my pom.xml file\r\n\r\n\r\nCode:\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n     &lt;version&gt;3.2.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nBut I have found that if I add the following it works but I dont see why I need to:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Can&#39;t import org.springframework.jdbc.core with maven","body":"<p>I dont know why the follow imports are not getting found in my project:\nCode:</p>\n\n<pre><code>import org.springframework.jdbc.core.SqlInOutParameter;\nimport org.springframework.jdbc.core.SqlParameter;\nimport org.springframework.jdbc.object.StoredProcedure;\n</code></pre>\n\n<p>I have the folllowing in my pom.xml file</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n &lt;version&gt;3.2.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But I have found that if I add the following it works but I dont see why I need to:</p>\n\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${springframework-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","serviceloader"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1573727678,"post_id":58854511,"comment_id":103981213,"body_markdown":"Usually test files test the application classes, what will you test without the application?","body":"Usually test files test the application classes, what will you test without the application?"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1573728482,"post_id":58854511,"comment_id":103981761,"body_markdown":"Update: After writing an answer I found this thread: https://stackoverflow.com/questions/28805688/in-java-how-can-i-mock-a-service-loaded-using-serviceloader","body":"Update: After writing an answer I found this thread: <a href=\"https://stackoverflow.com/questions/28805688/in-java-how-can-i-mock-a-service-loaded-using-serviceloader\" title=\"in java how can i mock a service loaded using serviceloader\">stackoverflow.com/questions/28805688/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573728439,"creation_date":1573728439,"answer_id":58854964,"question_id":58854511,"body_markdown":"When the test runs it has both &quot;test&quot; and &quot;production&quot; classes/resources in the classpath. \r\nThat&#39;s why all four services are loaded and this is a desired behaviour, you obviously need both test and prod classpath.\r\n\r\nSo, bottom line, you have two options:\r\n\r\n**Option 1**\r\n\r\nUse tools like PowerMock/PowerMockito that would mock static method `ServiceLoader.load`. I haven&#39;t tried this by myself, but in general unless its some sort of legacy code, I don&#39;t reacommend to use this.\r\n\r\n**Option 2**\r\n\r\nRefactor the code and mock the call to service loader as follows:\r\n\r\n\r\n~~~\r\ninteface MyServiceLoader {\r\n  void loadMyStuff(Class&lt;?&gt; type);\r\n}\r\n\r\nclass MyServiceLoaderImpl implements MyServiceLoader {\r\n   public void loadMyStuff(Class&lt;?&gt; type() {\r\n       ServiceLoader.load(type);\r\n   }\r\n}\r\n\r\n\r\n// and now in ClassUnderTest:\r\n\r\npublic class ClassUnderTest {\r\n    \r\n    private MyServiceLoader myServiceLoader;\r\n\r\n    public void thisIsAMethodToTest() {\r\n      ...\r\n      myServiceLoader.loadMyStuff(MyFancyInterface.class); \r\n    }\r\n}\r\n\r\n~~~\r\n\r\nIn test you can mock the interface `MyServiceLoader.loadMyStuff` with mockito and load only test implementations.\r\n\r\n","title":"How to limit Java ServiceLoader to only load service providers defined in test packages","body":"<p>When the test runs it has both \"test\" and \"production\" classes/resources in the classpath. \nThat's why all four services are loaded and this is a desired behaviour, you obviously need both test and prod classpath.</p>\n\n<p>So, bottom line, you have two options:</p>\n\n<p><strong>Option 1</strong></p>\n\n<p>Use tools like PowerMock/PowerMockito that would mock static method <code>ServiceLoader.load</code>. I haven't tried this by myself, but in general unless its some sort of legacy code, I don't reacommend to use this.</p>\n\n<p><strong>Option 2</strong></p>\n\n<p>Refactor the code and mock the call to service loader as follows:</p>\n\n<pre><code>inteface MyServiceLoader {\n  void loadMyStuff(Class&lt;?&gt; type);\n}\n\nclass MyServiceLoaderImpl implements MyServiceLoader {\n   public void loadMyStuff(Class&lt;?&gt; type() {\n       ServiceLoader.load(type);\n   }\n}\n\n\n// and now in ClassUnderTest:\n\npublic class ClassUnderTest {\n\n    private MyServiceLoader myServiceLoader;\n\n    public void thisIsAMethodToTest() {\n      ...\n      myServiceLoader.loadMyStuff(MyFancyInterface.class); \n    }\n}\n\n</code></pre>\n\n<p>In test you can mock the interface <code>MyServiceLoader.loadMyStuff</code> with mockito and load only test implementations.</p>\n"},{"tags":[],"owner":{"account_id":4550422,"reputation":165,"user_id":3695837,"display_name":"snaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694237167,"creation_date":1694237167,"answer_id":77070953,"question_id":58854511,"body_markdown":"I have the same problem, i.e. my app code has a META-INF/services/my.package.SomeInterface and the unit also has a META-INF/services/my.package.SomeInterface.  It is important for the unit tests to not load the services text file in the app folder, because we call a function someInterface.hasAccess() on all classes returned by the loader, and other teams define their own own implementations and their own hasAccess function, and the unit test errors out unless you properly mock everything, which is an impossible ask.\r\n\r\nSo I want the test to only see the services text file in the unit test folder.  The classes referenced in this file have an hasAccess function that works without the need for mocking.\r\n\r\nFor years this was working fine.  But then suddenly the test started picking up the services text file from the app code, and the test started failing.\r\n\r\nLooking at the source code for ServiceLoader.java, they load the first resource.  So if the build system changes the class path ordering, you get a different result:\r\n\r\n```\r\n                        configs = loader.getResources(fullName);\r\n            ...\r\n\r\n            while ((pending == null) || !pending.hasNext()) {\r\n                if (!configs.hasMoreElements()) {\r\n                    return null;\r\n                }\r\n                pending = parse(configs.nextElement());\r\n```\r\n\r\nparse(...) always return non-null, so you can see the code picks the first resource in the classpath.\r\n\r\nTo force it to pick the unit test one, I came up with this solution: Use a context class loader whose getResources method only returns the URL of the file in the test folder.\r\n\r\n```\r\n    @Test\r\n    public void test() {\r\n        var originalContextClassLoader = Thread.currentThread().getContextClassLoader();\r\n        Thread.currentThread().setContextClassLoader(new UnitTestContextClassLoader(originalContextClassLoader));\r\n        try {\r\n            testInternal();\r\n        } finally {\r\n            Thread.currentThread().setContextClassLoader(originalContextClassLoader);\r\n        }\r\n    }\r\n```\r\n\r\nFor me originalContextClassLoader is org.powermock2.core.classloader.javassist.JavassistMockClassLoader\r\n\r\nThe class UnitTestContextClassLoader is:\r\n\r\n```\r\npublic class UnitTestContextClassLoader extends ClassLoader {\r\n    UnitTestContextClassLoader(ClassLoader delegate) {\r\n        super(delegate);\r\n    }\r\n\r\n    @Override\r\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\r\n        var resources = super.getResources(name);\r\n        if (name.equals(&quot;META-INF/services/my.package.SomeInterface&quot;)) {\r\n            // if running a unit test\r\n            // only return the resource from the test classesfolder or test jar\r\n            // this because ServiceLoader picks the first URL, which may be the wrong one\r\n            List&lt;URL&gt; urls = new ArrayList&lt;&gt;();\r\n            for (var enumeration = resources; enumeration.hasMoreElements(); ) {\r\n                URL url = enumeration.nextElement();\r\n                if (url.toString().contains(&quot;test&quot;)) {\r\n                    urls.add(url);\r\n                }\r\n            }\r\n            return Collections.enumeration(urls);\r\n        } else {\r\n            return resources;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWondering if this is an ok solution.","title":"How to limit Java ServiceLoader to only load service providers defined in test packages","body":"<p>I have the same problem, i.e. my app code has a META-INF/services/my.package.SomeInterface and the unit also has a META-INF/services/my.package.SomeInterface.  It is important for the unit tests to not load the services text file in the app folder, because we call a function someInterface.hasAccess() on all classes returned by the loader, and other teams define their own own implementations and their own hasAccess function, and the unit test errors out unless you properly mock everything, which is an impossible ask.</p>\n<p>So I want the test to only see the services text file in the unit test folder.  The classes referenced in this file have an hasAccess function that works without the need for mocking.</p>\n<p>For years this was working fine.  But then suddenly the test started picking up the services text file from the app code, and the test started failing.</p>\n<p>Looking at the source code for ServiceLoader.java, they load the first resource.  So if the build system changes the class path ordering, you get a different result:</p>\n<pre><code>                        configs = loader.getResources(fullName);\n            ...\n\n            while ((pending == null) || !pending.hasNext()) {\n                if (!configs.hasMoreElements()) {\n                    return null;\n                }\n                pending = parse(configs.nextElement());\n</code></pre>\n<p>parse(...) always return non-null, so you can see the code picks the first resource in the classpath.</p>\n<p>To force it to pick the unit test one, I came up with this solution: Use a context class loader whose getResources method only returns the URL of the file in the test folder.</p>\n<pre><code>    @Test\n    public void test() {\n        var originalContextClassLoader = Thread.currentThread().getContextClassLoader();\n        Thread.currentThread().setContextClassLoader(new UnitTestContextClassLoader(originalContextClassLoader));\n        try {\n            testInternal();\n        } finally {\n            Thread.currentThread().setContextClassLoader(originalContextClassLoader);\n        }\n    }\n</code></pre>\n<p>For me originalContextClassLoader is org.powermock2.core.classloader.javassist.JavassistMockClassLoader</p>\n<p>The class UnitTestContextClassLoader is:</p>\n<pre><code>public class UnitTestContextClassLoader extends ClassLoader {\n    UnitTestContextClassLoader(ClassLoader delegate) {\n        super(delegate);\n    }\n\n    @Override\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\n        var resources = super.getResources(name);\n        if (name.equals(&quot;META-INF/services/my.package.SomeInterface&quot;)) {\n            // if running a unit test\n            // only return the resource from the test classesfolder or test jar\n            // this because ServiceLoader picks the first URL, which may be the wrong one\n            List&lt;URL&gt; urls = new ArrayList&lt;&gt;();\n            for (var enumeration = resources; enumeration.hasMoreElements(); ) {\n                URL url = enumeration.nextElement();\n                if (url.toString().contains(&quot;test&quot;)) {\n                    urls.add(url);\n                }\n            }\n            return Collections.enumeration(urls);\n        } else {\n            return resources;\n        }\n    }\n}\n</code></pre>\n<p>Wondering if this is an ok solution.</p>\n"}],"owner":{"account_id":16954361,"reputation":11,"user_id":12263152,"display_name":"Piotr Sobczyński"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694237167,"creation_date":1573727139,"question_id":58854511,"body_markdown":"I have an app which uses ServiceLoader.&lt;br/&gt;\r\nThere is one service interface MyFancyService and its implementations: AppClassA, AppClassB and test implementations: TestClassC, TestClassD &lt;br/&gt;&lt;br/&gt;\r\nThere is META-INF.services in the app package and another META-INF.services in test package.&lt;br/&gt;&lt;br/&gt;\r\n\r\n&gt; META-INF.services in app point to provider classes AppClassA and\r\n&gt; AppClassB &lt;br/&gt; META-INF.services in test point to provider classes\r\n&gt; TestClassC and TestClassD\r\n\r\nWhile running the app, `ServiceLoader.load(MyFancyService.class))` loads only `AppClassA`, `AppClassB`. Obviously there are no test classes in the classpath and that&#39;s why. I understand that and it&#39;s desirable\r\n\r\nWhile running tests, ServiceLoader.load(MyFancyService.java)) loads all the classes AppClassA, AppClassB, TestClassC, TestClassD.\r\n\r\nIs there a way to limit service loader to only load `TestClassC`, `TestClassD` while running tests ?","title":"How to limit Java ServiceLoader to only load service providers defined in test packages","body":"<p>I have an app which uses ServiceLoader.<br/>\nThere is one service interface MyFancyService and its implementations: AppClassA, AppClassB and test implementations: TestClassC, TestClassD <br/><br/>\nThere is META-INF.services in the app package and another META-INF.services in test package.<br/><br/></p>\n\n<blockquote>\n  <p>META-INF.services in app point to provider classes AppClassA and\n  AppClassB <br/> META-INF.services in test point to provider classes\n  TestClassC and TestClassD</p>\n</blockquote>\n\n<p>While running the app, <code>ServiceLoader.load(MyFancyService.class))</code> loads only <code>AppClassA</code>, <code>AppClassB</code>. Obviously there are no test classes in the classpath and that's why. I understand that and it's desirable</p>\n\n<p>While running tests, ServiceLoader.load(MyFancyService.java)) loads all the classes AppClassA, AppClassB, TestClassC, TestClassD.</p>\n\n<p>Is there a way to limit service loader to only load <code>TestClassC</code>, <code>TestClassD</code> while running tests ?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1350019136,"creation_date":1350019136,"answer_id":12852703,"question_id":12852673,"body_markdown":"For Java: You might mean the constructor without parameters.\r\nIf so you can use the following code:\r\n\r\n    \r\n    public class MyClass {\r\n       // no params constructor \r\n       public MyClass() {\r\n          ...\r\n       }\r\n\r\n       // parametrized constructor\r\n       public MyClass(int p1, String p2) {\r\n           this();\r\n       }\r\n    }\r\n\r\nHope this helps","title":"Can I call default constructor from parameterized constructor inside public class in java?","body":"<p>For Java: You might mean the constructor without parameters.\nIf so you can use the following code:</p>\n\n<pre><code>public class MyClass {\n   // no params constructor \n   public MyClass() {\n      ...\n   }\n\n   // parametrized constructor\n   public MyClass(int p1, String p2) {\n       this();\n   }\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1350019542,"creation_date":1350019166,"answer_id":12852710,"question_id":12852673,"body_markdown":"Use `this();` in the first line of the parametrized constructor and it will call your default constructor. Make sure you have default constructor as compiler will not provide one if you declare a parametrized constructor.","title":"Can I call default constructor from parameterized constructor inside public class in java?","body":"<p>Use <code>this();</code> in the first line of the parametrized constructor and it will call your default constructor. Make sure you have default constructor as compiler will not provide one if you declare a parametrized constructor.</p>\n"},{"tags":[],"owner":{"account_id":1922639,"reputation":497,"user_id":1733754,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350019333,"creation_date":1350019333,"answer_id":12852740,"question_id":12852673,"body_markdown":"yes you can\r\n\r\n    public YourClass() {\r\n        public YourClass() { super();}\r\n        public YourClass(int x) { this();}\r\n    }\r\n\r\nprovided you have the same argument constructor. This won&#39;t work\r\n \r\n\r\n    public YourClass() {\r\n        public YourClass(int x, int y) { this(); } // compiler error here\r\n        public YourClass(int x) { super(); }\r\n    }\r\n\r\nNote: \r\n**super()** calls the super constructor (in this case, class Object, because MyClass extends Object implicitly and class Object has a no arg constructor) that matches the same number of arguments.\r\n\r\n**this()** calls the constructor of the current class that matches the same number of arguments.","title":"Can I call default constructor from parameterized constructor inside public class in java?","body":"<p>yes you can</p>\n\n<pre><code>public YourClass() {\n    public YourClass() { super();}\n    public YourClass(int x) { this();}\n}\n</code></pre>\n\n<p>provided you have the same argument constructor. This won't work</p>\n\n<pre><code>public YourClass() {\n    public YourClass(int x, int y) { this(); } // compiler error here\n    public YourClass(int x) { super(); }\n}\n</code></pre>\n\n<p>Note: \n<strong>super()</strong> calls the super constructor (in this case, class Object, because MyClass extends Object implicitly and class Object has a no arg constructor) that matches the same number of arguments.</p>\n\n<p><strong>this()</strong> calls the constructor of the current class that matches the same number of arguments.</p>\n"},{"tags":[],"owner":{"account_id":1734483,"reputation":3128,"user_id":1587370,"accept_rate":80,"display_name":"pratZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350019466,"creation_date":1350019466,"answer_id":12852768,"question_id":12852673,"body_markdown":"You can&#39;t call a default constructor once you&#39;ve created a constructor that takes arguments. You&#39;ll have to create the no argument constructor yourself in order to make a call from the parameterized constructor.","title":"Can I call default constructor from parameterized constructor inside public class in java?","body":"<p>You can't call a default constructor once you've created a constructor that takes arguments. You'll have to create the no argument constructor yourself in order to make a call from the parameterized constructor.</p>\n"},{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350019529,"creation_date":1350019529,"answer_id":12852782,"question_id":12852673,"body_markdown":"In Java, the default constructor is the no-argument constructor that&#39;s implicitly provided by the compiler. And the compiler won&#39;t provide one in case you introduce any constructor with arguments. \r\n\r\nIn that case you have to explicitly define a no-argument constructor (which is not default by the way, because it&#39;s not provided by the compiler), e.g. `public MyClass() { }`. \r\n\r\nAnd you can call it from other constructor as `this();`, which must be the first statement in the constructor where it&#39;s being called.","title":"Can I call default constructor from parameterized constructor inside public class in java?","body":"<p>In Java, the default constructor is the no-argument constructor that's implicitly provided by the compiler. And the compiler won't provide one in case you introduce any constructor with arguments. </p>\n\n<p>In that case you have to explicitly define a no-argument constructor (which is not default by the way, because it's not provided by the compiler), e.g. <code>public MyClass() { }</code>. </p>\n\n<p>And you can call it from other constructor as <code>this();</code>, which must be the first statement in the constructor where it's being called.</p>\n"},{"tags":[],"owner":{"account_id":1462372,"reputation":307,"user_id":1376307,"display_name":"Petro Gordiyevich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1350019623,"creation_date":1350019623,"answer_id":12852799,"question_id":12852673,"body_markdown":"You can just call default constructor with new operator (like this: new Test();) or this();.\r\njust Test() is forbidden because its not a method of class.\r\n\r\n    package org.gpowork.test;\r\n    \r\n    public class Test {\r\n    \tprivate String field;\r\n    \tprivate Long time = 0L; \r\n    \tpublic Test(){\r\n    \t\tthis.time = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Default constructor. &quot;+this.time);\r\n    \t}\r\n    \tpublic Test(String field){\r\n                this();\r\n    \t\tTest instance = new Test();\r\n    \t\tthis.field = field;\r\n    \t}\r\n    \tpublic static void main(String[] args){\r\n    \t\tSystem.out.println(&quot;start...&quot;);\r\n    \t\tTest t1 = new Test();\r\n    \t\tSystem.out.println(&quot;-------&quot;);\r\n    \t\tTest t2 = new Test(&quot;field1&quot;);\r\n    \t}\r\n    }","title":"Can I call default constructor from parameterized constructor inside public class in java?","body":"<p>You can just call default constructor with new operator (like this: new Test();) or this();.\njust Test() is forbidden because its not a method of class.</p>\n\n<pre><code>package org.gpowork.test;\n\npublic class Test {\n    private String field;\n    private Long time = 0L; \n    public Test(){\n        this.time = System.currentTimeMillis();\n        System.out.println(\"Default constructor. \"+this.time);\n    }\n    public Test(String field){\n            this();\n        Test instance = new Test();\n        this.field = field;\n    }\n    public static void main(String[] args){\n        System.out.println(\"start...\");\n        Test t1 = new Test();\n        System.out.println(\"-------\");\n        Test t2 = new Test(\"field1\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23101335,"reputation":1,"user_id":17210714,"display_name":"Ruturaj Dilip Mestry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694236968,"creation_date":1694236968,"answer_id":77070944,"question_id":12852673,"body_markdown":"Yes, It is possible but few points need to be followed.\r\n1) Once you create a parameterized constructor java compiler will no longer provide a default constructor for object creation.\r\n2) So calling it a default constructor would be an inappropriate name. It is called as &#39;No-args constructor&#39;. \r\n3) No-args constructor has to be explicitly written by you along with parameterized constructor in order to have a nested calls.\r\n4) Call to one constructor from another needs always be made as the first instruction of the constructor.\r\n\r\n```\r\npublic class Demo {\r\n    Demo(){\r\n        //Instructions...\r\n    }\r\n\r\n    Demo(Integer dummyArg){\r\n        //First instruction should be constructor if there is one\r\n        Demo(); \r\n        //Other instructions...\r\n    }\r\n\r\n    Demo(String dummyArg){\r\n        //First instruction should be constructor if there is one\r\n        this(); \r\n        //Other instructions...\r\n    }\r\n\r\n    Demo(Object dummyArg){\r\n        //First instruction should be constructor if there is one\r\n        this(&quot;Hello&quot;); //call to constructor with String as arg \r\n        //Other instructions...\r\n    }\r\n}\r\n```\r\n  \r\n\r\n","title":"Can I call default constructor from parameterized constructor inside public class in java?","body":"<p>Yes, It is possible but few points need to be followed.</p>\n<ol>\n<li>Once you create a parameterized constructor java compiler will no longer provide a default constructor for object creation.</li>\n<li>So calling it a default constructor would be an inappropriate name. It is called as 'No-args constructor'.</li>\n<li>No-args constructor has to be explicitly written by you along with parameterized constructor in order to have a nested calls.</li>\n<li>Call to one constructor from another needs always be made as the first instruction of the constructor.</li>\n</ol>\n<pre><code>public class Demo {\n    Demo(){\n        //Instructions...\n    }\n\n    Demo(Integer dummyArg){\n        //First instruction should be constructor if there is one\n        Demo(); \n        //Other instructions...\n    }\n\n    Demo(String dummyArg){\n        //First instruction should be constructor if there is one\n        this(); \n        //Other instructions...\n    }\n\n    Demo(Object dummyArg){\n        //First instruction should be constructor if there is one\n        this(&quot;Hello&quot;); //call to constructor with String as arg \n        //Other instructions...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1809190,"reputation":1117,"user_id":1645598,"accept_rate":48,"display_name":"psisodia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46963,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":12852710,"answer_count":7,"score":15,"last_activity_date":1694236968,"creation_date":1350018975,"question_id":12852673,"body_markdown":"I want to call default constructor from a parameterized constructor inside a public java class. \r\n\r\nCan I achieve it?\r\n","title":"Can I call default constructor from parameterized constructor inside public class in java?","body":"<p>I want to call default constructor from a parameterized constructor inside a public java class. </p>\n\n<p>Can I achieve it?</p>\n"},{"tags":["java","spring-boot","yaml","github-actions"],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694076196,"creation_date":1694076196,"answer_id":77057962,"question_id":77057393,"body_markdown":"It looks like the token in use and associated with your github account does not have the permission to update the github workflows.\r\n\r\nAdd the workflow permission to the token you are using with your github account. \r\n\r\n[Some pretty good answers on here to help adding the permission][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64059610/how-to-resolve-refusing-to-allow-an-oauth-app-to-create-or-update-workflow-on","title":"How to use Personal Access Token for Github-CD?","body":"<p>It looks like the token in use and associated with your github account does not have the permission to update the github workflows.</p>\n<p>Add the workflow permission to the token you are using with your github account.</p>\n<p><a href=\"https://stackoverflow.com/questions/64059610/how-to-resolve-refusing-to-allow-an-oauth-app-to-create-or-update-workflow-on\">Some pretty good answers on here to help adding the permission</a>.</p>\n"},{"tags":[],"owner":{"account_id":18346641,"reputation":61,"user_id":13361708,"display_name":"heyValdemar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694234638,"creation_date":1694234638,"answer_id":77070876,"question_id":77057393,"body_markdown":"I&#39;d recommend deleting all your existing PATs and then creating a new one with full permissions. After that, remove the old PAT from your local Mac. When you see the &#39;you are not authenticated&#39; prompt, just input the new PAT.","title":"How to use Personal Access Token for Github-CD?","body":"<p>I'd recommend deleting all your existing PATs and then creating a new one with full permissions. After that, remove the old PAT from your local Mac. When you see the 'you are not authenticated' prompt, just input the new PAT.</p>\n"}],"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77070876,"answer_count":2,"score":0,"last_activity_date":1694234638,"creation_date":1694071213,"question_id":77057393,"body_markdown":"I have created a yml file for CD workflow and when I was trying to push it is giving me error \r\n&quot;`refusing to allow a Personal Access Token to create or update workflow `.github/workflows/backend-cd.yml` without `workflow` scope`&quot;\r\n\r\nThis is my backend-cd.yml file:\r\n\r\n  \r\n\r\n    name: CD - Deploy Backend\r\n    \r\n    on:\r\n      workflow_dispatch:\r\n      push:\r\n        branches:\r\n          - main\r\n        paths:\r\n          - backend/**\r\n    \r\n    jobs:\r\n      deploy:\r\n        runs-on: ubuntu-latest\r\n        defaults:\r\n          repo-token: ${{ secrets.GITHUB_TOKEN }}\r\n          run:\r\n            working-directory: ./backend\r\n        services:\r\n          postgres:\r\n            image: postgres:14.5\r\n            env:\r\n              POSTGRES_USER: postgres\r\n              POSTGRES_PASSWORD: 123456789\r\n              POSTGRES_DB: customer\r\n            ports:\r\n              - &quot;5433:5432&quot;\r\n            options:\r\n              --health-cmd pg_isready\r\n              --health-interval 10s\r\n              --health-timeout 5s\r\n              --health-retries 5\r\n        steps:\r\n          - uses: actions/checkout@v3\r\n          - uses: actions/setup-java@v3\r\n            with:\r\n              distributions: &quot;corretto&quot;\r\n              java-version: &quot;17&quot;\r\n              cache: &quot;maven&quot;\r\n          - name: Login to Docker Hub\r\n            uses: docker/login-action@v2\r\n            with:\r\n              username: ${{secrets.DOCKERHUB_USERNAME}}\r\n              password: ${{secrets.DOCKERHUB_ACCESS_TOKEN}}\r\n          - name: Set build number\r\n            id: build-number\r\n            run: echo &quot;BUILD_NUMBER=$(date &#39;+%d.%m.%Y.%H.%M.%S&#39;)&quot; &gt;&gt; GITHUB_OUTPUT\r\n          - name: Build Package Push with Maven\r\n            run: mvn -ntp -B verify -D docker.image.tag=${{steps.build-number.outputs.BUILD_NUMBER}} jib:build\r\n          - name: Update Dockerrun.aws.json api image tag with new build number\r\n            run: |\r\n              echo &quot;Dockerrun.aws.json before updating tag&quot;\r\n              cat Dockerrun.aws.json\r\n              sed -i -E &#39;s_(ahmadmujtaba200210/fullstack:)([^&quot;]*)_\\1&#39;${{ steps.build-number.outputs.BUILD_NUMBER }}&#39;_&#39; Dockerrun.aws.json\r\n              echo &quot;Dockerrun.aws.json after updating tag&quot;\r\n              cat Dockerrun.aws.json\r\n          - name: Deploy to Elastic Beanstalk\r\n            uses: einaregilsson/beanstalk-deploy@v21\r\n            with:\r\n              aws_access_key: ${{ secrets.AWS_ACCESS_KEY_ID }}\r\n              aws_secret_key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\r\n              application_name: ${{ secrets.EB_APPLICATION_NAME }}\r\n              environment_name: ${{ secrets.EB_ENV_NAME }}\r\n              version_label: ${{ steps.build-number.outputs.BUILD_NUMBER }}\r\n              version_description: ${{github.SHA}}\r\n              region: ${{ secrets.EB_REGION }}\r\n              deployment_package: backend/Dockerrun.aws.json\r\n          - name: Commit and push Dockerrun.aws.json\r\n    \r\n            run: |\r\n              git config user.name github-actions\r\n              git config user.email github-actions@github.com\r\n              git add .\r\n              git commit -m &quot;Update Dockerrun.aws.json docker image with new tag ${{ steps.build-number.outputs.BUILD_NUMBER }}&quot; .\r\n              git push\r\n\r\n\r\n\r\n\r\n\r\nI have created a new PAT with all the permissions. \r\nhere is a copy-paste description of permissions from the GitHub personal access token.\r\n\r\n&gt; Read and Write access to actions, actions variables, administration, code, codespaces, codespaces lifecycle admin, codespaces secrets, commit statuses, dependabot secrets, deployments, discussions, environments, issues, merge queues, pages, pull requests, repository advisories, repository hooks, secret scanning alerts, secrets, security events, and workflows\r\n\r\n\r\nI have tried the following things:\r\n\r\n1. I have tried as mentioned on the official documentation of GitHub. [GITHUB_TOKEN](https://docs.github.com/en/actions/security-guides/automatic-token-authentication)\r\n\r\n2. I have also added the token to the user.password","title":"How to use Personal Access Token for Github-CD?","body":"<p>I have created a yml file for CD workflow and when I was trying to push it is giving me error\n&quot;<code>refusing to allow a Personal Access Token to create or update workflow </code>.github/workflows/backend-cd.yml<code>without</code>workflow<code> scope</code>&quot;</p>\n<p>This is my backend-cd.yml file:</p>\n<pre><code>name: CD - Deploy Backend\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n    paths:\n      - backend/**\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    defaults:\n      repo-token: ${{ secrets.GITHUB_TOKEN }}\n      run:\n        working-directory: ./backend\n    services:\n      postgres:\n        image: postgres:14.5\n        env:\n          POSTGRES_USER: postgres\n          POSTGRES_PASSWORD: 123456789\n          POSTGRES_DB: customer\n        ports:\n          - &quot;5433:5432&quot;\n        options:\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-java@v3\n        with:\n          distributions: &quot;corretto&quot;\n          java-version: &quot;17&quot;\n          cache: &quot;maven&quot;\n      - name: Login to Docker Hub\n        uses: docker/login-action@v2\n        with:\n          username: ${{secrets.DOCKERHUB_USERNAME}}\n          password: ${{secrets.DOCKERHUB_ACCESS_TOKEN}}\n      - name: Set build number\n        id: build-number\n        run: echo &quot;BUILD_NUMBER=$(date '+%d.%m.%Y.%H.%M.%S')&quot; &gt;&gt; GITHUB_OUTPUT\n      - name: Build Package Push with Maven\n        run: mvn -ntp -B verify -D docker.image.tag=${{steps.build-number.outputs.BUILD_NUMBER}} jib:build\n      - name: Update Dockerrun.aws.json api image tag with new build number\n        run: |\n          echo &quot;Dockerrun.aws.json before updating tag&quot;\n          cat Dockerrun.aws.json\n          sed -i -E 's_(ahmadmujtaba200210/fullstack:)([^&quot;]*)_\\1'${{ steps.build-number.outputs.BUILD_NUMBER }}'_' Dockerrun.aws.json\n          echo &quot;Dockerrun.aws.json after updating tag&quot;\n          cat Dockerrun.aws.json\n      - name: Deploy to Elastic Beanstalk\n        uses: einaregilsson/beanstalk-deploy@v21\n        with:\n          aws_access_key: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          aws_secret_key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          application_name: ${{ secrets.EB_APPLICATION_NAME }}\n          environment_name: ${{ secrets.EB_ENV_NAME }}\n          version_label: ${{ steps.build-number.outputs.BUILD_NUMBER }}\n          version_description: ${{github.SHA}}\n          region: ${{ secrets.EB_REGION }}\n          deployment_package: backend/Dockerrun.aws.json\n      - name: Commit and push Dockerrun.aws.json\n\n        run: |\n          git config user.name github-actions\n          git config user.email github-actions@github.com\n          git add .\n          git commit -m &quot;Update Dockerrun.aws.json docker image with new tag ${{ steps.build-number.outputs.BUILD_NUMBER }}&quot; .\n          git push\n</code></pre>\n<p>I have created a new PAT with all the permissions.\nhere is a copy-paste description of permissions from the GitHub personal access token.</p>\n<blockquote>\n<p>Read and Write access to actions, actions variables, administration, code, codespaces, codespaces lifecycle admin, codespaces secrets, commit statuses, dependabot secrets, deployments, discussions, environments, issues, merge queues, pages, pull requests, repository advisories, repository hooks, secret scanning alerts, secrets, security events, and workflows</p>\n</blockquote>\n<p>I have tried the following things:</p>\n<ol>\n<li><p>I have tried as mentioned on the official documentation of GitHub. <a href=\"https://docs.github.com/en/actions/security-guides/automatic-token-authentication\" rel=\"nofollow noreferrer\">GITHUB_TOKEN</a></p>\n</li>\n<li><p>I have also added the token to the user.password</p>\n</li>\n</ol>\n"},{"tags":["java","android","asp.net-web-api","networking"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1546241404,"post_id":53984725,"comment_id":94806689,"body_markdown":"Unless you want to restrict the urls your app can hit for some reason, you don&#39;t really need to make a custom network security config-  the default is almost always sufficient.  The only time it isn&#39;t is if you have an untrusted cert for your service, which is basically never these days with Let&#39;s Encrypt being almost free.","body":"Unless you want to restrict the urls your app can hit for some reason, you don&#39;t really need to make a custom network security config-  the default is almost always sufficient.  The only time it isn&#39;t is if you have an untrusted cert for your service, which is basically never these days with Let&#39;s Encrypt being almost free."},{"owner":{"account_id":7626911,"reputation":159,"user_id":5783098,"display_name":"Chirag Nahar"},"score":0,"creation_date":1546241754,"post_id":53984725,"comment_id":94806764,"body_markdown":"Add this in application tag:-\n\nandroid:usesCleartextTraffic=&quot;true&quot;","body":"Add this in application tag:-  android:usesCleartextTraffic=&quot;true&quot;"},{"owner":{"account_id":446666,"reputation":685,"user_id":839837,"accept_rate":87,"display_name":"Markus"},"score":0,"creation_date":1546241869,"post_id":53984725,"comment_id":94806792,"body_markdown":"Thanks, I did start without it, I just added the network security in an effort to try and get it to work.","body":"Thanks, I did start without it, I just added the network security in an effort to try and get it to work."},{"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"score":0,"creation_date":1546242488,"post_id":53984725,"comment_id":94806943,"body_markdown":"Please share the device os , modal and also api usage ie code where you are calling the api method , Thanks","body":"Please share the device os , modal and also api usage ie code where you are calling the api method , Thanks"},{"owner":{"account_id":446666,"reputation":685,"user_id":839837,"accept_rate":87,"display_name":"Markus"},"score":0,"creation_date":1546242536,"post_id":53984725,"comment_id":94806954,"body_markdown":"Changed to usesCleartextTraffic=&quot;true&quot;, still gives same code 400 error.","body":"Changed to usesCleartextTraffic=&quot;true&quot;, still gives same code 400 error."},{"owner":{"account_id":9751159,"reputation":1369,"user_id":7229359,"display_name":"Al-Amin"},"score":0,"creation_date":1546243108,"post_id":53984725,"comment_id":94807101,"body_markdown":"Do study on this - https://developer.android.com/training/articles/security-config","body":"Do study on this - <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/security-config</a>"}],"answers":[{"tags":[],"owner":{"account_id":9475986,"reputation":1042,"user_id":7045328,"display_name":"Insane Developer"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1557990042,"creation_date":1546241241,"answer_id":53984750,"question_id":53984725,"body_markdown":"**Edited Answer**\r\nRemove  `&lt;domain includeSubdomains=&quot;true&quot;&gt;secure.example.com&lt;/domain&gt;` from the code.\r\n\r\nUse just: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot; /&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\nAnd It will work for any URL or IP.\r\n-----\r\n\r\n\r\nTry to set `cleartextTrafficPermitted=false`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n           &lt;domain includeSubdomains=&quot;true&quot;&gt;secure.example.com&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;","title":"NetworkSecurityConfig: No Network Security Config specified, using platform default Error response code: 400","body":"<p><strong>Edited Answer</strong>\nRemove  <code>&lt;domain includeSubdomains=\"true\"&gt;secure.example.com&lt;/domain&gt;</code> from the code.</p>\n\n<p>Use just: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\" /&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<h2>And It will work for any URL or IP.</h2>\n\n<p>Try to set <code>cleartextTrafficPermitted=false</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n       &lt;domain includeSubdomains=\"true\"&gt;secure.example.com&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1567447163,"creation_date":1546242431,"answer_id":53984915,"question_id":53984725,"body_markdown":"Try these solutions\r\n\r\n&gt; **Solution 1**)\r\n\r\nAdd the following attribute to the `&lt;application` tag in `AndroidManifest.xml`:\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n\r\n&gt; **Solution 2**)\r\n\r\nAdd `android:networkSecurityConfig=&quot;@xml/network_security_config&quot;` to the `&lt;application` tag in `app/src/main/AndroidManifest.xml`:\r\n\r\n    &lt;application\r\n            android:name=&quot;.ApplicationClass&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\nWith a corresponding `network_security_config.xml` in `app/src/main/res/xml/`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot; /&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRefer this answer for more info:\r\nhttps://stackoverflow.com/questions/53493077/files-are-not-downloading-on-android-pie-9-0-xiaomi-mi-a2-using-download-mange\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Nhzi.png","title":"NetworkSecurityConfig: No Network Security Config specified, using platform default Error response code: 400","body":"<p>Try these solutions</p>\n\n<blockquote>\n  <p><strong>Solution 1</strong>)</p>\n</blockquote>\n\n<p>Add the following attribute to the <code>&lt;application</code> tag in <code>AndroidManifest.xml</code>:</p>\n\n<pre><code>android:usesCleartextTraffic=\"true\"\n</code></pre>\n\n<blockquote>\n  <p><strong>Solution 2</strong>)</p>\n</blockquote>\n\n<p>Add <code>android:networkSecurityConfig=\"@xml/network_security_config\"</code> to the <code>&lt;application</code> tag in <code>app/src/main/AndroidManifest.xml</code>:</p>\n\n<pre><code>&lt;application\n        android:name=\".ApplicationClass\"\n        android:allowBackup=\"true\"\n        android:hardwareAccelerated=\"false\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:largeHeap=\"true\"\n        android:networkSecurityConfig=\"@xml/network_security_config\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n</code></pre>\n\n<p>With a corresponding <code>network_security_config.xml</code> in <code>app/src/main/res/xml/</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\" /&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9Nhzi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9Nhzi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Refer this answer for more info:\n<a href=\"https://stackoverflow.com/questions/53493077/files-are-not-downloading-on-android-pie-9-0-xiaomi-mi-a2-using-download-mange\">Download Manger not working in Android Pie 9.0 (Xiaomi mi A2)</a></p>\n"},{"tags":[],"owner":{"account_id":10491214,"reputation":31,"user_id":7733034,"display_name":"Rathan RockyIdiot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626784250,"creation_date":1626784250,"answer_id":68454927,"question_id":53984725,"body_markdown":"i was also facing the same problem ,and tried many solutions(adding config etc things),but they didn&#39;t work for me..I sit and checked my code carefully, There was something wrong in the code which i&#39;ve wrote to access the node. Not  a syntactic error, it&#39;s node name missmatch.","title":"NetworkSecurityConfig: No Network Security Config specified, using platform default Error response code: 400","body":"<p>i was also facing the same problem ,and tried many solutions(adding config etc things),but they didn't work for me..I sit and checked my code carefully, There was something wrong in the code which i've wrote to access the node. Not  a syntactic error, it's node name missmatch.</p>\n"},{"tags":[],"owner":{"account_id":26525109,"reputation":41,"user_id":20158220,"display_name":"Muhammad Javed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694234050,"creation_date":1694234050,"answer_id":77070853,"question_id":53984725,"body_markdown":"Open `AndroidManifest.xml` file at **app/src/main** folder, add this line of code inside application tag \r\n\r\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n\r\nAnd now, you have to create a file named **network_security_config.xml** at this location app/src/main/res/xml, add following code into this file. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot; /&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\nIf you have already do this, then just make sure that you have above code in your file. If your file contains domain named remove that line \r\n\r\n    Remove &lt;domain includeSubdomains=&quot;true&quot;&gt;secure.etc.com&lt;/domain&gt; from the code.\r\n\r\n\r\n\r\nAnd I have also done one more thing, I have removed this line of code from my AndroidManifest.xml file\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot; \r\nwhich will be in your activity tag.\r\n\r\n\r\n\r\n","title":"NetworkSecurityConfig: No Network Security Config specified, using platform default Error response code: 400","body":"<p>Open <code>AndroidManifest.xml</code> file at <strong>app/src/main</strong> folder, add this line of code inside application tag</p>\n<pre><code>android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n</code></pre>\n<p>And now, you have to create a file named <strong>network_security_config.xml</strong> at this location app/src/main/res/xml, add following code into this file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot; /&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n<p>If you have already do this, then just make sure that you have above code in your file. If your file contains domain named remove that line</p>\n<pre><code>Remove &lt;domain includeSubdomains=&quot;true&quot;&gt;secure.etc.com&lt;/domain&gt; from the code.\n</code></pre>\n<p>And I have also done one more thing, I have removed this line of code from my AndroidManifest.xml file</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot; \n</code></pre>\n<p>which will be in your activity tag.</p>\n"}],"owner":{"account_id":446666,"reputation":685,"user_id":839837,"accept_rate":87,"display_name":"Markus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112970,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":53984915,"answer_count":4,"score":24,"last_activity_date":1694234050,"creation_date":1546241064,"question_id":53984725,"body_markdown":"I&#39;m trying to connect to either of these places and get the JSON data:-\r\n\r\n    https://content.guardianapis.com/search?q=debate&amp;tag=politics/politics&amp;from-date=2014-01-01&amp;api-key=test\r\n    https://content.guardianapis.com/search?q=debates&amp;api-key=test\r\n    https://content.guardianapis.com/search?api-key=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx\r\n\r\nAll three I can get to via the browser, but when I try to access them via an android app I get the following errors:-\r\n\r\n    NetworkSecurityConfig: No Network Security Config specified, using platform default\r\n    Error response code: 400\r\n\r\nI&#39;ve added this to manifest.xml:-\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nI also added this to the manifest.xml:-\r\n\r\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n\r\nAnd created res/xml/network_security_config.xml, which contains:-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;content.guardianapis.com&lt;/domain&gt;&gt;\r\n        &lt;/domain-config&gt;\r\n\r\nWhich changes the error to:-\r\n\r\n    D/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\r\n    Error response code: 400\r\n\r\nI know it&#39;s missing:-\r\n\r\n    &lt;trust-anchors&gt;\r\n        &lt;certificates src=&quot;@raw/my_ca&quot;/&gt;\r\n    &lt;/trust-anchors&gt;\r\n\r\nbut I have no idea where or what the certificate would be or if it&#39;s needed.\r\n\r\nNot really sure what is going on, any help would be appreciated.\r\n\r\n\r\n\r\nIN ADDITION:-\r\nI am able to connect fine and get the JSON from this URL:-\r\n\r\n    https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&amp;eventtype=earthquake&amp;orderby=time&amp;minmag=6&amp;limit=10\r\n\r\nAll I get is this:-\r\n\r\n    No Network Security Config specified, using platform default\r\n\r\nBuy not error 400 and gets through with a 200 instead. So it makes me think there is something weird going on, but not sure where.","title":"NetworkSecurityConfig: No Network Security Config specified, using platform default Error response code: 400","body":"<p>I'm trying to connect to either of these places and get the JSON data:-</p>\n\n<pre><code>https://content.guardianapis.com/search?q=debate&amp;tag=politics/politics&amp;from-date=2014-01-01&amp;api-key=test\nhttps://content.guardianapis.com/search?q=debates&amp;api-key=test\nhttps://content.guardianapis.com/search?api-key=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx\n</code></pre>\n\n<p>All three I can get to via the browser, but when I try to access them via an android app I get the following errors:-</p>\n\n<pre><code>NetworkSecurityConfig: No Network Security Config specified, using platform default\nError response code: 400\n</code></pre>\n\n<p>I've added this to manifest.xml:-</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n\n<p>I also added this to the manifest.xml:-</p>\n\n<pre><code>android:networkSecurityConfig=\"@xml/network_security_config\"\n</code></pre>\n\n<p>And created res/xml/network_security_config.xml, which contains:-</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;content.guardianapis.com&lt;/domain&gt;&gt;\n    &lt;/domain-config&gt;\n</code></pre>\n\n<p>Which changes the error to:-</p>\n\n<pre><code>D/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\nError response code: 400\n</code></pre>\n\n<p>I know it's missing:-</p>\n\n<pre><code>&lt;trust-anchors&gt;\n    &lt;certificates src=\"@raw/my_ca\"/&gt;\n&lt;/trust-anchors&gt;\n</code></pre>\n\n<p>but I have no idea where or what the certificate would be or if it's needed.</p>\n\n<p>Not really sure what is going on, any help would be appreciated.</p>\n\n<p>IN ADDITION:-\nI am able to connect fine and get the JSON from this URL:-</p>\n\n<pre><code>https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&amp;eventtype=earthquake&amp;orderby=time&amp;minmag=6&amp;limit=10\n</code></pre>\n\n<p>All I get is this:-</p>\n\n<pre><code>No Network Security Config specified, using platform default\n</code></pre>\n\n<p>Buy not error 400 and gets through with a 200 instead. So it makes me think there is something weird going on, but not sure where.</p>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"score":1,"creation_date":1403623681,"post_id":24390542,"comment_id":37724552,"body_markdown":"Password is a keyword - ask Google how to escape resrved keywords","body":"Password is a keyword - ask Google how to escape resrved keywords"},{"owner":{"account_id":302544,"reputation":30455,"user_id":610979,"accept_rate":92,"display_name":"Frank Schmitt"},"score":0,"creation_date":1403623999,"post_id":24390542,"comment_id":37724791,"body_markdown":"@pulp_fiction That&#39;s strange. Is the value for password identical to the string &quot;PASSWORD&quot; ?","body":"@pulp_fiction That&#39;s strange. Is the value for password identical to the string &quot;PASSWORD&quot; ?"},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":2,"creation_date":1403624243,"post_id":24390542,"comment_id":37724958,"body_markdown":"Are you sure that&#39;s the code that&#39;s raising the error? There is no `PASSWORD` identifier in the query you&#39;ve shown.","body":"Are you sure that&#39;s the code that&#39;s raising the error? There is no <code>PASSWORD</code> identifier in the query you&#39;ve shown."},{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":0,"creation_date":1403624366,"post_id":24390542,"comment_id":37725051,"body_markdown":"@pulp_fiction :-Your name has forced me to comment,it&#39;s probably because of not entering all values of the columns--your table shows you have kept 4 non-nullable columns!(BTW which part of pulp_fiction---butch,vincent,jules,wallace...)","body":"@pulp_fiction :-Your name has forced me to comment,it&#39;s probably because of not entering all values of the columns--your table shows you have kept 4 non-nullable columns!(BTW which part of pulp_fiction---butch,vincent,jules,wallace...)"},{"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"score":0,"creation_date":1403625064,"post_id":24390542,"comment_id":37725568,"body_markdown":"@pulp_fiction Another thing you can do is accumulate points, then raise a bounty on one of the earlier questions.","body":"@pulp_fiction Another thing you can do is accumulate points, then raise a bounty on one of the earlier questions."},{"owner":{"account_id":240468,"reputation":3778,"user_id":510711,"accept_rate":53,"display_name":"flob"},"score":0,"creation_date":1403625083,"post_id":24390542,"comment_id":37725581,"body_markdown":"If you would use some column named PASSWORD I would suggest escaping it with double quotes like &quot;PASSWORD&quot; - see http://stackoverflow.com/a/1162391/510711 . Or some trigger or some downstream call might cause this... ?","body":"If you would use some column named PASSWORD I would suggest escaping it with double quotes like &quot;PASSWORD&quot; - see <a href=\"http://stackoverflow.com/a/1162391/510711\">stackoverflow.com/a/1162391/510711</a> . Or some trigger or some downstream call might cause this... ?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1403626127,"post_id":24390542,"comment_id":37726316,"body_markdown":"Try the query in SQL first. Maybe you illegally defined an index with &quot;PASSWORD&quot;. In every case close `ps` and `rs`. Maybe using try-with-resources. **First and for all, do `e.printStackTrace(System.out)` to determine the right spot.** It might be that the error stems from another spot (opening the connection with PASSWORD). (@Mat)","body":"Try the query in SQL first. Maybe you illegally defined an index with &quot;PASSWORD&quot;. In every case close <code>ps</code> and <code>rs</code>. Maybe using try-with-resources. <b>First and for all, do <code>e.printStackTrace(System.out)</code> to determine the right spot.</b> It might be that the error stems from another spot (opening the connection with PASSWORD). (@Mat)"},{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1403633247,"post_id":24390542,"comment_id":37729929,"body_markdown":"@Mat: Yeah I am sure and I myself can&#39;t stop wondering &quot;which&quot; PASSWORD identifier is it talking about?","body":"@Mat: Yeah I am sure and I myself can&#39;t stop wondering &quot;which&quot; PASSWORD identifier is it talking about?"},{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1403633672,"post_id":24390542,"comment_id":37730163,"body_markdown":"@shekharsuman: But this is a &quot;select&quot; query and as far as I know there shouldn&#39;t be a problem with selecting row with even one column, nullable means I can&#39;t leave those columns null when I insert new row in the database itself but that doesn&#39;t seem to be the case here. And I like butch...","body":"@shekharsuman: But this is a &quot;select&quot; query and as far as I know there shouldn&#39;t be a problem with selecting row with even one column, nullable means I can&#39;t leave those columns null when I insert new row in the database itself but that doesn&#39;t seem to be the case here. And I like butch..."},{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":0,"creation_date":1403633767,"post_id":24390542,"comment_id":37730213,"body_markdown":"@pulp_fiction-Oh sorry,I didn&#39;t take a closer look!It&#39;s fine then.SORRY!Also,I prefer jules more!","body":"@pulp_fiction-Oh sorry,I didn&#39;t take a closer look!It&#39;s fine then.SORRY!Also,I prefer jules more!"},{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":0,"creation_date":1403642613,"post_id":24390542,"comment_id":37734813,"body_markdown":"@pulp_fiction-Better if you remove the form part and the controller servlet as they are of no use to solve this error.I&#39;m working on your code and will definitely try to solve your case!","body":"@pulp_fiction-Better if you remove the form part and the controller servlet as they are of no use to solve this error.I&#39;m working on your code and will definitely try to solve your case!"}],"answers":[{"tags":[],"owner":{"account_id":4655669,"reputation":1,"user_id":3771341,"display_name":"Paulf0502"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403625324,"creation_date":1403623997,"answer_id":24390730,"question_id":24390542,"body_markdown":"I&#39;d recommend seeing what your username and password strings are first via:\r\n    \r\n    System.out.println(username);\r\n    System.out.println(password);\r\n\r\nJust to make sure that you&#39;re not getting nulls then run the query directly in Oracle and see if it gives an error with the code you have above i.e:\r\n\r\n    SELECT * FROM CRIME_SOLVING_OFFICIAL where OFFICIAL_USERNAME= *Your username and OFFICIAL_PASSWORD=*YourPassword\r\n\r\nSee if this gives an error if it does your SQL Syntax is the issue.","title":"Why am I getting &lt;java.sql.SQLException: ORA-00904: &quot;PASSWORD&quot;: invalid identifier&gt;","body":"<p>I'd recommend seeing what your username and password strings are first via:</p>\n\n<pre><code>System.out.println(username);\nSystem.out.println(password);\n</code></pre>\n\n<p>Just to make sure that you're not getting nulls then run the query directly in Oracle and see if it gives an error with the code you have above i.e:</p>\n\n<pre><code>SELECT * FROM CRIME_SOLVING_OFFICIAL where OFFICIAL_USERNAME= *Your username and OFFICIAL_PASSWORD=*YourPassword\n</code></pre>\n\n<p>See if this gives an error if it does your SQL Syntax is the issue.</p>\n"}],"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694232340,"creation_date":1403623528,"question_id":24390542,"body_markdown":"This is **model** part of my MVC app and it is supposed to communicate with the Database(Oracle 10g XE).Here is the code that I have written,\r\n\r\n\r\n    package com.cid_org.model;\r\n\r\n    import java.sql.*;\r\n\r\n    public class LoginModelPOJO {\r\n\t\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tprivate Connection connection;\r\n\t\r\n\tpublic LoginModelPOJO(String username, String password, Connection connection){\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.connection = connection;\r\n\t\tvalidate();\r\n\t}\r\n\t\r\n\tprivate void validate(){\r\n\t\ttry {\r\n            String query = &quot;SELECT * FROM CRIME_SOLVING_OFFICIAL where OFFICIAL_USERNAME=? and OFFICIAL_PASSWORD=?&quot;;\r\n            PreparedStatement ps = connection.prepareStatement(query);\r\n            ps.setString(1, username);\r\n            ps.setString(2, password);\r\n            ResultSet rs = ps.executeQuery();\r\n            if (rs.next()) {\r\n                 // String name=rs.getString(3);\r\n                  System.out.println(&quot;success&quot;);\r\n            } else {\r\n                System.out.println(&quot;access denied&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Connection &quot; + e);\r\n          }\r\n\t}\r\n    }\r\n\r\nbut as it gets executed, it generates the following error:\r\n\r\n    Connection java.sql.SQLException: ORA-00904: &quot;PASSWORD&quot;: invalid identifier\r\n\r\nHere is the table that I have created in Oracle,\r\n\r\nHere is the image ![enter image description here][1] \r\n\r\nBtw, I know this question will be branded as duplicate question and indeed it is but FYI I have gone through all the available posts related to this question(You can see all the tabs opened in firefox in the picture) but couldn&#39;t find any answer.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BUGGh.png\r\n\r\nEdit: I have made all the &#39;password&#39; strings disappear to corner out the &#39;PASSWORD&#39; identifier Exception is talking about.And I have also altered the column name of the OFFICIAL_PASSWORD to OFFICIAL_PWD just to  be sure about things.\r\n\r\nHere is  the login.html form,\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n\t    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n\t    &lt;title&gt;Criminal Investigation Department-Home&lt;/title&gt;\r\n\r\n\r\n\t&lt;link rel=&quot;stylesheet&quot; href=&quot;css/login_page.css&quot;&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\t&lt;img src=&quot;css/images/logo/CID_Logo_1.png&quot; alt=&quot;CID Logo&quot;&gt;\r\n\t&lt;nav id=&quot;navigation&quot;&gt;\r\n\t    &lt;a id=&quot;link1&quot; class=&quot;header_links&quot; href=&quot;most_wanted.html&quot;&gt;Most Wanted&lt;/a&gt;\r\n\t    &lt;a id=&quot;link2&quot; class=&quot;header_links&quot; href=&quot;hotnews.html&quot;&gt;Hot News&lt;/a&gt;\r\n\t    &lt;a id=&quot;link3&quot; class=&quot;header_links&quot; href=&quot;report_crime.html&quot;&gt;Report Crime&lt;/a&gt;\r\n\t    &lt;a id=&quot;link4&quot; class=&quot;header_links&quot; href=&quot;login.html&quot;&gt;Login&lt;/a&gt;\r\n\t    &lt;a id=&quot;link5&quot; class=&quot;header_links&quot; href=&quot;about.html&quot;&gt;About Us&lt;/a&gt;\r\n\t    &lt;a id=&quot;link6&quot; class=&quot;header_links&quot; href=&quot;contact.html&quot;&gt;Contact Us&lt;/a&gt;\r\n\t    &lt;a id=&quot;link7&quot; class=&quot;header_links&quot; href=&quot;safety_measures.html&quot;&gt;Safety Measures&lt;/a&gt;\r\n\t&lt;/nav&gt;\r\n\t&lt;div id=&quot;login_page_border&quot;&gt;\r\n\t    &lt;form action=&quot;LoginScript.do&quot; method=&quot;POST&quot;&gt;\r\n\t        &lt;div id=&quot;form_border&quot;&gt;\r\n\t\t    &lt;span id=&quot;login_label&quot;&gt;Login&lt;/span&gt;&lt;br&gt;\r\n\t\t    &lt;div id=&quot;login_contents&quot;&gt;\r\n\t\t    &lt;span class=&quot;login_field&quot;&gt;Username:&lt;/span&gt; &lt;input name=&quot;username&quot; type=&quot;text&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n\t\t    &lt;span class=&quot;login_field&quot;&gt;Password:&lt;/span&gt; &lt;input name=&quot;pass&quot; type=&quot;password&quot;&gt;\r\n\t\t    &lt;input id=&quot;login_button&quot; type=&quot;submit&quot; value=&quot; &quot;&gt;\r\n\t\t    &lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t    &lt;/form&gt;\r\n\t&lt;/div&gt;\r\n    &lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\nHere is the controller servlet,\r\n\r\n    package com.cid_org.controller;\r\n\r\n    import java.io.IOException;\r\n\r\n    import javax.servlet.RequestDispatcher;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    import com.cid_org.model.*;\r\n\r\n    import java.sql.*;\r\n\r\n    /**\r\n     * Servlet implementation class LoginControllerServlet\r\n     */\r\n\r\n    public class LoginControllerServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public LoginControllerServlet() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t}\r\n\r\n\t/**\r\n\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\t/*Take the data submitted by the user though the login \r\n\t\t * form(Remember the HTTP Post request -&gt;HttpServletRequest request object*/\r\n\t\tString username = request.getParameter(&quot;username&quot;);\r\n\t\tString pwd = request.getParameter(&quot;pass&quot;);\r\n\t\tSystem.out.println(username + &quot;aaa&quot;);\r\n\t\tSystem.out.println(pwd);\r\n\t\tConnection connection = (Connection)getServletContext().getAttribute(&quot;connection_context_param&quot;);\r\n\t\t\r\n\t\tLoginModelPOJO lmpojo = new LoginModelPOJO(username, pwd, connection);\r\n\t\tboolean isValidFlag = lmpojo.isValid();\r\n\t\t\r\n\t\tif(isValidFlag){\r\n\t\t\tRequestDispatcher view =request.getRequestDispatcher(&quot;view_profile.jsp&quot;);\r\n\t\t\tview.forward(request, response);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tresponse.sendRedirect(&quot;/CrimeReportingSystem/static/login_access_denied.html&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n    }\r\n\r\nAnd here is a slightly modified version of the Model part,\r\n\r\n    package com.cid_org.model;\r\n\r\n    import java.sql.*;\r\n\r\n    public class LoginModelPOJO {\r\n\t\r\n\tprivate String username;\r\n\tprivate String pwd;\r\n\tprivate Connection connection;\r\n\tprivate boolean isValidFlag;\r\n\t\r\n\tpublic LoginModelPOJO(String username, String pwd, Connection connection){\r\n\t\tthis.username = username;\r\n\t\tthis.pwd = pwd;\r\n\t\tthis.connection = connection;\r\n\t\tisValidFlag=false;\r\n\t\tvalidate();\r\n\t}\r\n\t\r\n\tprivate void validate(){\r\n\t\ttry {\r\n\t\t\t\r\n            String query = &quot;SELECT * FROM CRIME_SOLVING_OFFICIAL where OFFICIAL_USERNAME=? and OFFICIAL_PWD=?&quot;;\r\n            PreparedStatement ps = connection.prepareStatement(query);\r\n            ps.setString(1, username);\r\n            ps.setString(2, pwd);\r\n            ResultSet rs = ps.executeQuery();\r\n            if (rs.next()) {\r\n                 // String name=rs.getString(3);\r\n                  System.out.println(&quot;success&quot;);\r\n                  isValidFlag = true;\r\n            } else {\r\n                System.out.println(&quot;access denied&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Connection &quot; + e);\r\n          }\r\n\t}\r\n\t\r\n\tpublic boolean isValid(){\r\n\t\treturn isValidFlag;\r\n\t}\r\n    }\r\n \r\nFinally ,here is the ContextListener,\r\n\r\n    package com.cid_org.listener;\r\n\r\n    import java.sql.*;\r\n\r\n    import javax.servlet.*;\r\n\r\n\r\n    /*This listener will initialize a connection and set the context\r\n     * attribute reference with a string at the time of application deployment time or\r\n     * when the ServletContext will be initialized*/\r\n    public class DatabaseServletContextListener implements ServletContextListener {\r\n\t\r\n\tConnection connection = null;\r\n\tpublic void contextInitialized(ServletContextEvent event) {\r\n\t\tServletContext sc = event.getServletContext();\r\n\t\ttry{\r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;, &quot;system&quot;, &quot;java&quot;);\r\n            System.out.println(&quot;la la la ...&quot;);\r\n            //Set the Attribute for the connection\r\n            sc.setAttribute(&quot;connection_context_param&quot;, connection);\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\t//To be decided Later- I dislike &quot;checked&quot; exceptions\r\n\t\t\tSystem.out.println(&quot;conn...bzzz &quot;+e);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tpublic void contextDestroyed(ServletContextEvent event) {\r\n\t\ttry {\r\n\t\t\t/*Connection will be closed at the time of undeployment of the application or\r\n\t\t\t * when the context is destroyed*/\r\n            connection.close();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;connection pika fucked &quot; + e);\r\n        }\r\n\t}\r\n\r\n    }\r\n\r\nBtw: The error is still the same.","title":"Why am I getting &lt;java.sql.SQLException: ORA-00904: &quot;PASSWORD&quot;: invalid identifier&gt;","body":"<p>This is <strong>model</strong> part of my MVC app and it is supposed to communicate with the Database(Oracle 10g XE).Here is the code that I have written,</p>\n\n<pre><code>package com.cid_org.model;\n\nimport java.sql.*;\n\npublic class LoginModelPOJO {\n\nprivate String username;\nprivate String password;\nprivate Connection connection;\n\npublic LoginModelPOJO(String username, String password, Connection connection){\n    this.username = username;\n    this.password = password;\n    this.connection = connection;\n    validate();\n}\n\nprivate void validate(){\n    try {\n        String query = \"SELECT * FROM CRIME_SOLVING_OFFICIAL where OFFICIAL_USERNAME=? and OFFICIAL_PASSWORD=?\";\n        PreparedStatement ps = connection.prepareStatement(query);\n        ps.setString(1, username);\n        ps.setString(2, password);\n        ResultSet rs = ps.executeQuery();\n        if (rs.next()) {\n             // String name=rs.getString(3);\n              System.out.println(\"success\");\n        } else {\n            System.out.println(\"access denied\");\n        }\n    } catch (Exception e) {\n        System.out.println(\"Connection \" + e);\n      }\n}\n}\n</code></pre>\n\n<p>but as it gets executed, it generates the following error:</p>\n\n<pre><code>Connection java.sql.SQLException: ORA-00904: \"PASSWORD\": invalid identifier\n</code></pre>\n\n<p>Here is the table that I have created in Oracle,</p>\n\n<p>Here is the image <img src=\"https://i.stack.imgur.com/BUGGh.png\" alt=\"enter image description here\"> </p>\n\n<p>Btw, I know this question will be branded as duplicate question and indeed it is but FYI I have gone through all the available posts related to this question(You can see all the tabs opened in firefox in the picture) but couldn't find any answer.</p>\n\n<p>Edit: I have made all the 'password' strings disappear to corner out the 'PASSWORD' identifier Exception is talking about.And I have also altered the column name of the OFFICIAL_PASSWORD to OFFICIAL_PWD just to  be sure about things.</p>\n\n<p>Here is  the login.html form,</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Criminal Investigation Department-Home&lt;/title&gt;\n\n\n&lt;link rel=\"stylesheet\" href=\"css/login_page.css\"&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;img src=\"css/images/logo/CID_Logo_1.png\" alt=\"CID Logo\"&gt;\n&lt;nav id=\"navigation\"&gt;\n    &lt;a id=\"link1\" class=\"header_links\" href=\"most_wanted.html\"&gt;Most Wanted&lt;/a&gt;\n    &lt;a id=\"link2\" class=\"header_links\" href=\"hotnews.html\"&gt;Hot News&lt;/a&gt;\n    &lt;a id=\"link3\" class=\"header_links\" href=\"report_crime.html\"&gt;Report Crime&lt;/a&gt;\n    &lt;a id=\"link4\" class=\"header_links\" href=\"login.html\"&gt;Login&lt;/a&gt;\n    &lt;a id=\"link5\" class=\"header_links\" href=\"about.html\"&gt;About Us&lt;/a&gt;\n    &lt;a id=\"link6\" class=\"header_links\" href=\"contact.html\"&gt;Contact Us&lt;/a&gt;\n    &lt;a id=\"link7\" class=\"header_links\" href=\"safety_measures.html\"&gt;Safety Measures&lt;/a&gt;\n&lt;/nav&gt;\n&lt;div id=\"login_page_border\"&gt;\n    &lt;form action=\"LoginScript.do\" method=\"POST\"&gt;\n        &lt;div id=\"form_border\"&gt;\n        &lt;span id=\"login_label\"&gt;Login&lt;/span&gt;&lt;br&gt;\n        &lt;div id=\"login_contents\"&gt;\n        &lt;span class=\"login_field\"&gt;Username:&lt;/span&gt; &lt;input name=\"username\" type=\"text\"&gt;&lt;br&gt;&lt;br&gt;\n        &lt;span class=\"login_field\"&gt;Password:&lt;/span&gt; &lt;input name=\"pass\" type=\"password\"&gt;\n        &lt;input id=\"login_button\" type=\"submit\" value=\" \"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>Here is the controller servlet,</p>\n\n<pre><code>package com.cid_org.controller;\n\nimport java.io.IOException;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport com.cid_org.model.*;\n\nimport java.sql.*;\n\n/**\n * Servlet implementation class LoginControllerServlet\n */\n\npublic class LoginControllerServlet extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\n\n/**\n * @see HttpServlet#HttpServlet()\n */\npublic LoginControllerServlet() {\n    super();\n    // TODO Auto-generated constructor stub\n}\n\n/**\n * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n */\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // TODO Auto-generated method stub\n}\n\n/**\n * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n */\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    /*Take the data submitted by the user though the login \n     * form(Remember the HTTP Post request -&gt;HttpServletRequest request object*/\n    String username = request.getParameter(\"username\");\n    String pwd = request.getParameter(\"pass\");\n    System.out.println(username + \"aaa\");\n    System.out.println(pwd);\n    Connection connection = (Connection)getServletContext().getAttribute(\"connection_context_param\");\n\n    LoginModelPOJO lmpojo = new LoginModelPOJO(username, pwd, connection);\n    boolean isValidFlag = lmpojo.isValid();\n\n    if(isValidFlag){\n        RequestDispatcher view =request.getRequestDispatcher(\"view_profile.jsp\");\n        view.forward(request, response);\n    }\n    else{\n        response.sendRedirect(\"/CrimeReportingSystem/static/login_access_denied.html\");\n    }\n\n}\n\n}\n</code></pre>\n\n<p>And here is a slightly modified version of the Model part,</p>\n\n<pre><code>package com.cid_org.model;\n\nimport java.sql.*;\n\npublic class LoginModelPOJO {\n\nprivate String username;\nprivate String pwd;\nprivate Connection connection;\nprivate boolean isValidFlag;\n\npublic LoginModelPOJO(String username, String pwd, Connection connection){\n    this.username = username;\n    this.pwd = pwd;\n    this.connection = connection;\n    isValidFlag=false;\n    validate();\n}\n\nprivate void validate(){\n    try {\n\n        String query = \"SELECT * FROM CRIME_SOLVING_OFFICIAL where OFFICIAL_USERNAME=? and OFFICIAL_PWD=?\";\n        PreparedStatement ps = connection.prepareStatement(query);\n        ps.setString(1, username);\n        ps.setString(2, pwd);\n        ResultSet rs = ps.executeQuery();\n        if (rs.next()) {\n             // String name=rs.getString(3);\n              System.out.println(\"success\");\n              isValidFlag = true;\n        } else {\n            System.out.println(\"access denied\");\n        }\n    } catch (Exception e) {\n        System.out.println(\"Connection \" + e);\n      }\n}\n\npublic boolean isValid(){\n    return isValidFlag;\n}\n}\n</code></pre>\n\n<p>Finally ,here is the ContextListener,</p>\n\n<pre><code>package com.cid_org.listener;\n\nimport java.sql.*;\n\nimport javax.servlet.*;\n\n\n/*This listener will initialize a connection and set the context\n * attribute reference with a string at the time of application deployment time or\n * when the ServletContext will be initialized*/\npublic class DatabaseServletContextListener implements ServletContextListener {\n\nConnection connection = null;\npublic void contextInitialized(ServletContextEvent event) {\n    ServletContext sc = event.getServletContext();\n    try{\n        Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n        connection = DriverManager.getConnection(\"jdbc:oracle:thin:@localhost:1521:XE\", \"system\", \"java\");\n        System.out.println(\"la la la ...\");\n        //Set the Attribute for the connection\n        sc.setAttribute(\"connection_context_param\", connection);\n    }\n    catch(Exception e){\n        //To be decided Later- I dislike \"checked\" exceptions\n        System.out.println(\"conn...bzzz \"+e);\n    }\n\n}\n\npublic void contextDestroyed(ServletContextEvent event) {\n    try {\n        /*Connection will be closed at the time of undeployment of the application or\n         * when the context is destroyed*/\n        connection.close();\n    } catch (Exception e) {\n        System.out.println(\"connection pika fucked \" + e);\n    }\n}\n\n}\n</code></pre>\n\n<p>Btw: The error is still the same.</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":10,"creation_date":1444997396,"post_id":33170109,"comment_id":54147841,"body_markdown":"The reason is when you use `orElseGet` it calls supplier only if value is absent.","body":"The reason is when you use <code>orElseGet</code> it calls supplier only if value is absent."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":16,"creation_date":1444997769,"post_id":33170109,"comment_id":54148086,"body_markdown":"Ah ok got it. So in the case of `orElse()` the `myDefault()` method is still called, but its return value is just not used.","body":"Ah ok got it. So in the case of <code>orElse()</code> the <code>myDefault()</code> method is still called, but its return value is just not used."},{"owner":{"account_id":141717,"reputation":5347,"user_id":348956,"accept_rate":82,"display_name":"softarn"},"score":4,"creation_date":1527174468,"post_id":33170109,"comment_id":88037698,"body_markdown":"Upvoted question because from what I&#39;ve seen misunderstanding or simply forgetting to use `orElseGet()` can result in some serious bugs: https://medium.com/alphadev-thoughts/are-you-using-optional-orelse-wrong-4f39585a19da","body":"Upvoted question because from what I&#39;ve seen misunderstanding or simply forgetting to use <code>orElseGet()</code> can result in some serious bugs: <a href=\"https://medium.com/alphadev-thoughts/are-you-using-optional-orelse-wrong-4f39585a19da\" rel=\"nofollow noreferrer\">medium.com/alphadev-thoughts/&hellip;</a>"},{"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"score":2,"creation_date":1591712966,"post_id":33170109,"comment_id":110156264,"body_markdown":"A good explanation is found here: https://www.baeldung.com/java-optional-or-else-vs-or-else-get","body":"A good explanation is found here: <a href=\"https://www.baeldung.com/java-optional-or-else-vs-or-else-get\" rel=\"nofollow noreferrer\">baeldung.com/java-optional-or-else-vs-or-else-get</a>"}],"answers":[{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":4,"up_vote_count":238,"is_accepted":true,"score":234,"last_activity_date":1503068809,"creation_date":1444997281,"answer_id":33170142,"question_id":33170109,"body_markdown":"Take these two scenarios:\r\n\r\n    Optional&lt;Foo&gt; opt = ...\r\n    Foo x = opt.orElse( new Foo() );\r\n    Foo y = opt.orElseGet( Foo::new );\r\n\r\nIf `opt` doesn&#39;t contain a value, the two are indeed equivalent. But if `opt` **does** contain a value, how many `Foo` objects will be created?\r\n\r\n*P.s.: of course in this example the difference probably wouldn&#39;t be measurable, but if you have to obtain your default value from a remote web service for example, or from a database, it suddenly becomes very important.*","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>Take these two scenarios:</p>\n\n<pre><code>Optional&lt;Foo&gt; opt = ...\nFoo x = opt.orElse( new Foo() );\nFoo y = opt.orElseGet( Foo::new );\n</code></pre>\n\n<p>If <code>opt</code> doesn't contain a value, the two are indeed equivalent. But if <code>opt</code> <strong>does</strong> contain a value, how many <code>Foo</code> objects will be created?</p>\n\n<p><em>P.s.: of course in this example the difference probably wouldn't be measurable, but if you have to obtain your default value from a remote web service for example, or from a database, it suddenly becomes very important.</em></p>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":2,"up_vote_count":84,"is_accepted":false,"score":82,"last_activity_date":1672982725,"creation_date":1477023189,"answer_id":40168299,"question_id":33170109,"body_markdown":"I reached here for the problem [Kudo](https://stackoverflow.com/a/39885958/330457) mentioned.\r\n\r\nI&#39;m sharing my experience for others.\r\n\r\n# `orElse`, or `orElseGet`, that is the question:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static String B() {\r\n        System.out.println(&quot;B()...&quot;);\r\n        return &quot;B&quot;;\r\n    }\r\n    \r\n    public static void main(final String... args) {\r\n\r\n        System.out.println(\r\n            Optional.of(&quot;A&quot;).orElse(B()) // B()&#39;s gonna be invoked anyway\r\n        );\r\n\r\n        System.out.println(&quot;----&quot;);\r\n\r\n        System.out.println(\r\n            Optional.of(&quot;A&quot;).orElseGet(() -&gt; B()) // B() won&#39;t be invoked\r\n        );\r\n    }\r\n\r\nprints\r\n\r\n    B()...\r\n    A\r\n    ----\r\n    A\r\n\r\n`orElse` evaluates the value of B() interdependently of the value of the optional. Thus, `orElseGet` is lazy.","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>I reached here for the problem <a href=\"https://stackoverflow.com/a/39885958/330457\">Kudo</a> mentioned.</p>\n<p>I'm sharing my experience for others.</p>\n<h1><code>orElse</code>, or <code>orElseGet</code>, that is the question:</h1>\n<pre class=\"lang-java prettyprint-override\"><code>static String B() {\n    System.out.println(&quot;B()...&quot;);\n    return &quot;B&quot;;\n}\n\npublic static void main(final String... args) {\n\n    System.out.println(\n        Optional.of(&quot;A&quot;).orElse(B()) // B()'s gonna be invoked anyway\n    );\n\n    System.out.println(&quot;----&quot;);\n\n    System.out.println(\n        Optional.of(&quot;A&quot;).orElseGet(() -&gt; B()) // B() won't be invoked\n    );\n}\n</code></pre>\n<p>prints</p>\n<pre><code>B()...\nA\n----\nA\n</code></pre>\n<p><code>orElse</code> evaluates the value of B() interdependently of the value of the optional. Thus, <code>orElseGet</code> is lazy.</p>\n"},{"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1493008442,"creation_date":1484852772,"answer_id":41749731,"question_id":33170109,"body_markdown":"I would say the biggest difference between `orElse` and `orElseGet` comes when we want to evaluate something to get the new value in the `else` condition.\r\n\r\nConsider this simple example -\r\n\r\n    // oldValue is String type field that can be NULL\r\n    String value;\r\n    if (oldValue != null) {\r\n        value = oldValue;\r\n    } else {\r\n        value = apicall().value;\r\n    }\r\n\r\n\r\nNow let&#39;s transform the above example to using `Optional` along with `orElse`,\r\n\r\n    // oldValue is Optional type field\r\n    String value = oldValue.orElse(apicall().value);\r\n\r\n\r\nNow let&#39;s transform the above example to using `Optional` along with `orElseGet`,\r\n\r\n    // oldValue is Optional type field\r\n    String value = oldValue.orElseGet(() -&gt; apicall().value);\r\n\r\n\r\nWhen `orElse` is invoked, the `apicall().value` is evaluated and passed to the method. Whereas, in the case of `orElseGet` the evaluation only happens if the `oldValue` is empty. `orElseGet` allows lazy evaluation.\r\n\r\n","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>I would say the biggest difference between <code>orElse</code> and <code>orElseGet</code> comes when we want to evaluate something to get the new value in the <code>else</code> condition.</p>\n\n<p>Consider this simple example -</p>\n\n<pre><code>// oldValue is String type field that can be NULL\nString value;\nif (oldValue != null) {\n    value = oldValue;\n} else {\n    value = apicall().value;\n}\n</code></pre>\n\n<p>Now let's transform the above example to using <code>Optional</code> along with <code>orElse</code>,</p>\n\n<pre><code>// oldValue is Optional type field\nString value = oldValue.orElse(apicall().value);\n</code></pre>\n\n<p>Now let's transform the above example to using <code>Optional</code> along with <code>orElseGet</code>,</p>\n\n<pre><code>// oldValue is Optional type field\nString value = oldValue.orElseGet(() -&gt; apicall().value);\n</code></pre>\n\n<p>When <code>orElse</code> is invoked, the <code>apicall().value</code> is evaluated and passed to the method. Whereas, in the case of <code>orElseGet</code> the evaluation only happens if the <code>oldValue</code> is empty. <code>orElseGet</code> allows lazy evaluation.</p>\n"},{"tags":[],"owner":{"account_id":308156,"reputation":13672,"user_id":619860,"accept_rate":80,"display_name":"Hoa Nguyen"},"down_vote_count":0,"up_vote_count":255,"is_accepted":false,"score":255,"last_activity_date":1601026237,"creation_date":1514022072,"answer_id":47951385,"question_id":33170109,"body_markdown":"Short Answer: \r\n\r\n - **orElse()** will always call the given function whether you want it or not, regardless of `Optional.isPresent()` value\r\n - **orElseGet()** will only call the given function when the `Optional.isPresent() == false`\r\n\r\nIn real code, you might want to consider the second approach when the required resource is **expensive to get**.\r\n\r\n    // Always get heavy resource\r\n    getResource(resourceId).orElse(getHeavyResource()); \r\n    \r\n    // Get heavy resource when required.\r\n    getResource(resourceId).orElseGet(() -&gt; getHeavyResource()) \r\n\r\n\r\nFor more details, consider the following example with this function:\r\n\r\n    public Optional&lt;String&gt; findMyPhone(int phoneId)\r\n\r\nThe difference is as below: \r\n\r\n \r\n\r\n                               X : buyNewExpensivePhone() called\r\n    \r\n    +——————————————————————————————————————————————————————————————————+——————————————+\r\n    |           Optional.isPresent()                                   | true | false |\r\n    +——————————————————————————————————————————————————————————————————+——————————————+\r\n    | findMyPhone(int phoneId).orElse(buyNewExpensivePhone())          |   X  |   X   |\r\n    +——————————————————————————————————————————————————————————————————+——————————————+\r\n    | findMyPhone(int phoneId).orElseGet(() -&gt; buyNewExpensivePhone()) |      |   X   |\r\n    +——————————————————————————————————————————————————————————————————+——————————————+\r\n\r\nWhen `optional.isPresent() == false`, there is no difference between two ways. However, when `optional.isPresent() == true`, `orElse()` always calls the subsequent function whether you want it or not. \r\n\r\nFinally, the test case used is as below:\r\n\r\nResult: \r\n\r\n    ------------- Scenario 1 - orElse() --------------------\r\n      1.1. Optional.isPresent() == true (Redundant call)\r\n    \tGoing to a very far store to buy a new expensive phone\r\n    \tUsed phone: MyCheapPhone\r\n    \r\n      1.2. Optional.isPresent() == false\r\n    \tGoing to a very far store to buy a new expensive phone\r\n    \tUsed phone: NewExpensivePhone\r\n    \r\n    ------------- Scenario 2 - orElseGet() --------------------\r\n      2.1. Optional.isPresent() == true\r\n    \tUsed phone: MyCheapPhone\r\n    \r\n      2.2. Optional.isPresent() == false\r\n    \tGoing to a very far store to buy a new expensive phone\r\n    \tUsed phone: NewExpensivePhone\r\n\r\n\r\nCode:\r\n\r\n    public class TestOptional {\r\n        public Optional&lt;String&gt; findMyPhone(int phoneId) {\r\n            return phoneId == 10\r\n                    ? Optional.of(&quot;MyCheapPhone&quot;)\r\n                    : Optional.empty();\r\n        }\r\n    \r\n        public String buyNewExpensivePhone() {\r\n            System.out.println(&quot;\\tGoing to a very far store to buy a new expensive phone&quot;);\r\n            return &quot;NewExpensivePhone&quot;;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            TestOptional test = new TestOptional();\r\n            String phone;\r\n            System.out.println(&quot;------------- Scenario 1 - orElse() --------------------&quot;);\r\n            System.out.println(&quot;  1.1. Optional.isPresent() == true (Redundant call)&quot;);\r\n            phone = test.findMyPhone(10).orElse(test.buyNewExpensivePhone());\r\n            System.out.println(&quot;\\tUsed phone: &quot; + phone + &quot;\\n&quot;);\r\n    \r\n            System.out.println(&quot;  1.2. Optional.isPresent() == false&quot;);\r\n            phone = test.findMyPhone(-1).orElse(test.buyNewExpensivePhone());\r\n            System.out.println(&quot;\\tUsed phone: &quot; + phone + &quot;\\n&quot;);\r\n    \r\n            System.out.println(&quot;------------- Scenario 2 - orElseGet() --------------------&quot;);\r\n            System.out.println(&quot;  2.1. Optional.isPresent() == true&quot;);\r\n            // Can be written as test::buyNewExpensivePhone\r\n            phone = test.findMyPhone(10).orElseGet(() -&gt; test.buyNewExpensivePhone());\r\n            System.out.println(&quot;\\tUsed phone: &quot; + phone + &quot;\\n&quot;);\r\n    \r\n            System.out.println(&quot;  2.2. Optional.isPresent() == false&quot;);\r\n            phone = test.findMyPhone(-1).orElseGet(() -&gt; test.buyNewExpensivePhone());\r\n            System.out.println(&quot;\\tUsed phone: &quot; + phone + &quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sejCH.png","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>Short Answer:</p>\n<ul>\n<li><strong>orElse()</strong> will always call the given function whether you want it or not, regardless of <code>Optional.isPresent()</code> value</li>\n<li><strong>orElseGet()</strong> will only call the given function when the <code>Optional.isPresent() == false</code></li>\n</ul>\n<p>In real code, you might want to consider the second approach when the required resource is <strong>expensive to get</strong>.</p>\n<pre><code>// Always get heavy resource\ngetResource(resourceId).orElse(getHeavyResource()); \n\n// Get heavy resource when required.\ngetResource(resourceId).orElseGet(() -&gt; getHeavyResource()) \n</code></pre>\n<p>For more details, consider the following example with this function:</p>\n<pre><code>public Optional&lt;String&gt; findMyPhone(int phoneId)\n</code></pre>\n<p>The difference is as below:</p>\n<pre><code>                           X : buyNewExpensivePhone() called\n\n+——————————————————————————————————————————————————————————————————+——————————————+\n|           Optional.isPresent()                                   | true | false |\n+——————————————————————————————————————————————————————————————————+——————————————+\n| findMyPhone(int phoneId).orElse(buyNewExpensivePhone())          |   X  |   X   |\n+——————————————————————————————————————————————————————————————————+——————————————+\n| findMyPhone(int phoneId).orElseGet(() -&gt; buyNewExpensivePhone()) |      |   X   |\n+——————————————————————————————————————————————————————————————————+——————————————+\n</code></pre>\n<p>When <code>optional.isPresent() == false</code>, there is no difference between two ways. However, when <code>optional.isPresent() == true</code>, <code>orElse()</code> always calls the subsequent function whether you want it or not.</p>\n<p>Finally, the test case used is as below:</p>\n<p>Result:</p>\n<pre><code>------------- Scenario 1 - orElse() --------------------\n  1.1. Optional.isPresent() == true (Redundant call)\n    Going to a very far store to buy a new expensive phone\n    Used phone: MyCheapPhone\n\n  1.2. Optional.isPresent() == false\n    Going to a very far store to buy a new expensive phone\n    Used phone: NewExpensivePhone\n\n------------- Scenario 2 - orElseGet() --------------------\n  2.1. Optional.isPresent() == true\n    Used phone: MyCheapPhone\n\n  2.2. Optional.isPresent() == false\n    Going to a very far store to buy a new expensive phone\n    Used phone: NewExpensivePhone\n</code></pre>\n<p>Code:</p>\n<pre><code>public class TestOptional {\n    public Optional&lt;String&gt; findMyPhone(int phoneId) {\n        return phoneId == 10\n                ? Optional.of(&quot;MyCheapPhone&quot;)\n                : Optional.empty();\n    }\n\n    public String buyNewExpensivePhone() {\n        System.out.println(&quot;\\tGoing to a very far store to buy a new expensive phone&quot;);\n        return &quot;NewExpensivePhone&quot;;\n    }\n\n\n    public static void main(String[] args) {\n        TestOptional test = new TestOptional();\n        String phone;\n        System.out.println(&quot;------------- Scenario 1 - orElse() --------------------&quot;);\n        System.out.println(&quot;  1.1. Optional.isPresent() == true (Redundant call)&quot;);\n        phone = test.findMyPhone(10).orElse(test.buyNewExpensivePhone());\n        System.out.println(&quot;\\tUsed phone: &quot; + phone + &quot;\\n&quot;);\n\n        System.out.println(&quot;  1.2. Optional.isPresent() == false&quot;);\n        phone = test.findMyPhone(-1).orElse(test.buyNewExpensivePhone());\n        System.out.println(&quot;\\tUsed phone: &quot; + phone + &quot;\\n&quot;);\n\n        System.out.println(&quot;------------- Scenario 2 - orElseGet() --------------------&quot;);\n        System.out.println(&quot;  2.1. Optional.isPresent() == true&quot;);\n        // Can be written as test::buyNewExpensivePhone\n        phone = test.findMyPhone(10).orElseGet(() -&gt; test.buyNewExpensivePhone());\n        System.out.println(&quot;\\tUsed phone: &quot; + phone + &quot;\\n&quot;);\n\n        System.out.println(&quot;  2.2. Optional.isPresent() == false&quot;);\n        phone = test.findMyPhone(-1).orElseGet(() -&gt; test.buyNewExpensivePhone());\n        System.out.println(&quot;\\tUsed phone: &quot; + phone + &quot;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3670584,"reputation":1569,"user_id":3057900,"accept_rate":65,"display_name":"ratzip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534774595,"creation_date":1534774595,"answer_id":51932733,"question_id":33170109,"body_markdown":"Considering the following code:\r\n\r\n    import java.util.Optional;\r\n    \r\n    // one class needs to have a main() method\r\n    public class Test\r\n    {\r\n      public String orelesMethod() {\r\n        System.out.println(&quot;in the Method&quot;);\r\n        return &quot;hello&quot;;\r\n      }\r\n    \r\n      public void test() {\r\n        String value;\r\n        value = Optional.&lt;String&gt;ofNullable(&quot;test&quot;).orElseGet(this::orelesMethod);\r\n        System.out.println(value); \r\n\r\n        value = Optional.&lt;String&gt;ofNullable(&quot;test&quot;).orElse(orelesMethod());\r\n        System.out.println(value); \r\n      }\r\n    \r\n      // arguments are passed using the text field below this editor\r\n      public static void main(String[] args)\r\n      {\r\n        Test test = new Test();\r\n    \r\n        test.test();\r\n      }\r\n    }\r\n\r\nif we get `value` in this way: `Optional.&lt;String&gt;ofNullable(null)`, there is no difference between orElseGet() and orElse(), but if we get `value` in this way: `Optional.&lt;String&gt;ofNullable(&quot;test&quot;)`, `orelesMethod()` in `orElseGet()` will not be called but in `orElse()` it will be called","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>Considering the following code:</p>\n\n<pre><code>import java.util.Optional;\n\n// one class needs to have a main() method\npublic class Test\n{\n  public String orelesMethod() {\n    System.out.println(\"in the Method\");\n    return \"hello\";\n  }\n\n  public void test() {\n    String value;\n    value = Optional.&lt;String&gt;ofNullable(\"test\").orElseGet(this::orelesMethod);\n    System.out.println(value); \n\n    value = Optional.&lt;String&gt;ofNullable(\"test\").orElse(orelesMethod());\n    System.out.println(value); \n  }\n\n  // arguments are passed using the text field below this editor\n  public static void main(String[] args)\n  {\n    Test test = new Test();\n\n    test.test();\n  }\n}\n</code></pre>\n\n<p>if we get <code>value</code> in this way: <code>Optional.&lt;String&gt;ofNullable(null)</code>, there is no difference between orElseGet() and orElse(), but if we get <code>value</code> in this way: <code>Optional.&lt;String&gt;ofNullable(\"test\")</code>, <code>orelesMethod()</code> in <code>orElseGet()</code> will not be called but in <code>orElse()</code> it will be called</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1595503900,"creation_date":1552827218,"answer_id":55207261,"question_id":33170109,"body_markdown":"The following example should demonstrate the difference:\r\n\r\n    String destroyTheWorld() {\r\n      // destroy the world logic\r\n      return &quot;successfully destroyed the world&quot;;\r\n    }\r\n\r\n    Optional&lt;String&gt; opt = Optional.of(&quot;Save the world&quot;);\r\n    \r\n    // we&#39;re dead\r\n    opt.orElse(destroyTheWorld());\r\n\r\n    // we&#39;re safe    \r\n    opt.orElseGet(() -&gt; destroyTheWorld());\r\n\r\nThe answer appears in the docs as well.\r\n\r\n[`public T orElseGet(Supplier&lt;? extends T&gt; other)`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-):\r\n\r\n&gt; Return the value if present, otherwise **invoke** other and return the\r\n&gt; result of that invocation.\r\n\r\nThe `Supplier` *won&#39;t* be invoked if the `Optional` presents. whereas,\r\n\r\n[`public T orElse(T other)`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-):\r\n\r\n&gt;Return the value if present, otherwise return other.\r\n\r\nIf `other` is a method that returns a string, it will be invoked, but it&#39;s value won&#39;t be returned in case the `Optional` exists.\r\n\r\n","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>The following example should demonstrate the difference:</p>\n<pre><code>String destroyTheWorld() {\n  // destroy the world logic\n  return &quot;successfully destroyed the world&quot;;\n}\n\nOptional&lt;String&gt; opt = Optional.of(&quot;Save the world&quot;);\n\n// we're dead\nopt.orElse(destroyTheWorld());\n\n// we're safe    \nopt.orElseGet(() -&gt; destroyTheWorld());\n</code></pre>\n<p>The answer appears in the docs as well.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>public T orElseGet(Supplier&lt;? extends T&gt; other)</code></a>:</p>\n<blockquote>\n<p>Return the value if present, otherwise <strong>invoke</strong> other and return the\nresult of that invocation.</p>\n</blockquote>\n<p>The <code>Supplier</code> <em>won't</em> be invoked if the <code>Optional</code> presents. whereas,</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow noreferrer\"><code>public T orElse(T other)</code></a>:</p>\n<blockquote>\n<p>Return the value if present, otherwise return other.</p>\n</blockquote>\n<p>If <code>other</code> is a method that returns a string, it will be invoked, but it's value won't be returned in case the <code>Optional</code> exists.</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566565773,"creation_date":1566565024,"answer_id":57626811,"question_id":33170109,"body_markdown":"The difference is pretty subtle and if you dont pay much attention then you will keep it using in a wrong way.\r\n\r\nBest way to understand the difference between `orElse()` and `orElseGet()` is that `orElse()` will always be executed if the `Optional&lt;T&gt;` is **null** or **not**, But `orElseGet()` will only be executed when `Optional&lt;T&gt;` is **null**.\r\n\r\nThe dictionary meaning of **orElse** is **:-** execute the part when something is not present, but here it contradicts, see the below example:\r\n\r\n        Optional&lt;String&gt; nonEmptyOptional = Optional.of(&quot;Vishwa Ratna&quot;);\r\n        String value = nonEmptyOptional.orElse(iAmStillExecuted());\r\n\r\n        public static String iAmStillExecuted(){\r\n        System.out.println(&quot;nonEmptyOptional is not NULL,still I am being executed&quot;);\r\n        return &quot;I got executed&quot;;\r\n        }\r\n\r\n        \r\n\r\n&gt; **Output:** nonEmptyOptional is not NULL,still I am being executed\r\n\r\n_______________________________________________________________________\r\n\r\n        Optional&lt;String&gt; emptyOptional = Optional.ofNullable(null);\r\n        String value = emptyOptional.orElse(iAmStillExecuted());\r\n        public static String iAmStillExecuted(){\r\n        System.out.println(&quot;emptyOptional is NULL, I am being executed, it is normal as \r\n        per dictionary&quot;);\r\n        return &quot;I got executed&quot;;\r\n        }\r\n\r\n        \r\n\r\n&gt; **Output**: emptyOptional is NULL, I am being executed, it is normal as per \r\n&gt;                 dictionary\r\n&gt; \r\n&gt; For `orElseGet()` , The method goes as per dictionary meaning, The\r\n&gt; `orElseGet()` part will be executed only when the Optional&lt;T&gt; is\r\n&gt; **null**.\r\n\r\n**Benchmarks**:\r\n\r\n    +--------------------+------+-----+------------+-------------+-------+\r\n    | Benchmark          | Mode | Cnt | Score      | Error       | Units |\r\n    +--------------------+------+-----+------------+-------------+-------+\r\n    | orElseBenchmark    | avgt | 20  | 60934.425  | &#177; 15115.599 | ns/op |\r\n    +--------------------+------+-----+------------+-------------+-------+\r\n    | orElseGetBenchmark | avgt | 20  | 3.798      | &#177; 0.030     | ns/op |\r\n    +--------------------+------+-----+------------+-------------+-------+\r\n\r\n&gt; **Remarks**:  `orElseGet()` has clearly outperformed `orElse()` for our particular example.\r\n\r\n\r\n**Hope it clears the doubts of people like me who wants the very basic ground example :)**","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>The difference is pretty subtle and if you dont pay much attention then you will keep it using in a wrong way.</p>\n\n<p>Best way to understand the difference between <code>orElse()</code> and <code>orElseGet()</code> is that <code>orElse()</code> will always be executed if the <code>Optional&lt;T&gt;</code> is <strong>null</strong> or <strong>not</strong>, But <code>orElseGet()</code> will only be executed when <code>Optional&lt;T&gt;</code> is <strong>null</strong>.</p>\n\n<p>The dictionary meaning of <strong>orElse</strong> is <strong>:-</strong> execute the part when something is not present, but here it contradicts, see the below example:</p>\n\n<pre><code>    Optional&lt;String&gt; nonEmptyOptional = Optional.of(\"Vishwa Ratna\");\n    String value = nonEmptyOptional.orElse(iAmStillExecuted());\n\n    public static String iAmStillExecuted(){\n    System.out.println(\"nonEmptyOptional is not NULL,still I am being executed\");\n    return \"I got executed\";\n    }\n</code></pre>\n\n<blockquote>\n  <p><strong>Output:</strong> nonEmptyOptional is not NULL,still I am being executed</p>\n</blockquote>\n\n<hr>\n\n<pre><code>    Optional&lt;String&gt; emptyOptional = Optional.ofNullable(null);\n    String value = emptyOptional.orElse(iAmStillExecuted());\n    public static String iAmStillExecuted(){\n    System.out.println(\"emptyOptional is NULL, I am being executed, it is normal as \n    per dictionary\");\n    return \"I got executed\";\n    }\n</code></pre>\n\n<blockquote>\n  <p><strong>Output</strong>: emptyOptional is NULL, I am being executed, it is normal as per \n                  dictionary</p>\n  \n  <p>For <code>orElseGet()</code> , The method goes as per dictionary meaning, The\n  <code>orElseGet()</code> part will be executed only when the Optional is\n  <strong>null</strong>.</p>\n</blockquote>\n\n<p><strong>Benchmarks</strong>:</p>\n\n<pre><code>+--------------------+------+-----+------------+-------------+-------+\n| Benchmark          | Mode | Cnt | Score      | Error       | Units |\n+--------------------+------+-----+------------+-------------+-------+\n| orElseBenchmark    | avgt | 20  | 60934.425  | ± 15115.599 | ns/op |\n+--------------------+------+-----+------------+-------------+-------+\n| orElseGetBenchmark | avgt | 20  | 3.798      | ± 0.030     | ns/op |\n+--------------------+------+-----+------------+-------------+-------+\n</code></pre>\n\n<blockquote>\n  <p><strong>Remarks</strong>:  <code>orElseGet()</code> has clearly outperformed <code>orElse()</code> for our particular example.</p>\n</blockquote>\n\n<p><strong>Hope it clears the doubts of people like me who wants the very basic ground example :)</strong></p>\n"},{"tags":[],"owner":{"account_id":15185037,"reputation":744,"user_id":10957266,"display_name":"Piyush N"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1623927430,"creation_date":1583081114,"answer_id":60477352,"question_id":33170109,"body_markdown":"**First of all check the declaration of both the methods.**\r\n\r\n**1) OrElse:** Execute logic and pass result as argument.\r\n\r\n    public T orElse(T other) {    \r\n     return value != null ? value : other;\r\n    }\r\n\r\n**2) OrElseGet:** Execute logic if value inside the optional is null\r\n\r\n    public T orElseGet(Supplier&lt;? extends T&gt; other) {\r\n      return value != null ? value : other.get(); \r\n    }\r\n\r\n\r\n**Some explanation on above declaration:**\r\nThe argument of “Optional.orElse” always gets executed irrespective of the value of the object in optional (null, empty or with value). Always consider the above-mentioned point in mind while using “Optional.orElse”, otherwise use of “Optional.orElse” can be very risky in the following situation.\r\n\r\n**Risk-1) Logging Issue:** If content inside orElse contains any log statement:\r\nIn this case, you will end up logging it every time.\r\n    \r\n    Optional.of(getModel())\r\n       .map(x -&gt; {\r\n          //some logic\r\n       })\r\n      .orElse(getDefaultAndLogError());\r\n     \r\n    getDefaultAndLogError() {\r\n      log.error(&quot;No Data found, Returning default&quot;);\r\n      return defaultValue;\r\n    }\r\n\r\n**Risk-2) Performance Issue:** If content inside orElse is time-intensive:\r\nTime intensive content can be any i/o operations DB call, API call, file reading. If we put such content in orElse(), the system will end up executing a code of no use.\r\n\r\n    Optional.of(getModel())\r\n       .map(x -&gt; //some logic)\r\n       .orElse(getDefaultFromDb());\r\n\r\n    getDefaultFromDb() {\r\n       return dataBaseServe.getDefaultValue(); //api call, db call.\r\n    }\r\n\r\n**Risk-3) Illegal State or Bug Issue:** If content inside orElse is mutating some object state:\r\nWe might be using the same object at another place let say inside Optional.map function and it can put us in a critical bug.\r\n\r\n    List&lt;Model&gt; list = new ArrayList&lt;&gt;();\r\n    Optional.of(getModel())\r\n      .map(x -&gt; {\r\n      })\r\n      .orElse(get(list));\r\n    \r\n    get(List &lt; String &gt; list) {\r\n       log.error(&quot;No Data found, Returning default&quot;);\r\n       list.add(defaultValue);\r\n       return defaultValue;\r\n    }\r\n\r\n**Then, When can we go with orElse()?**\r\nPrefer using orElse when the default value is some constant object, enum. In all above cases we can go with Optional.orElseGet() (which only executes when Optional contains empty value)instead of Optional.orElse(). Why?? In orElse, we pass default result value, but in orElseGet we pass Supplier and method of Supplier only executes if the value in Optional is null.\r\n\r\n\r\n**Key takeaways from this:**\r\n\r\n 1. Do not use “Optional.orElse” if it contains any log statement.\r\n 2. Do not use “Optional.orElse” if it contains time-intensive logic.\r\n 3. Do not use “Optional.orElse” if it is mutating some object state.\r\n 4. Use “Optional.orElse” if we have to return a constant, enum.\r\n 5. Prefer “Optional.orElseGet” in the situations mentioned in 1,2 and 3rd points.\r\n\r\nI have explained this in point-2 (**“Optional.map/Optional.orElse” != “if/else”**) my medium blog. [Use Java8 as a programmer not as a coder][1]\r\n\r\n\r\n  [1]: https://medium.com/@piyush.er.12/use-java8-as-a-programmer-not-as-a-coder-ec95ecb35dc","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p><strong>First of all check the declaration of both the methods.</strong></p>\n<p><strong>1) OrElse:</strong> Execute logic and pass result as argument.</p>\n<pre><code>public T orElse(T other) {    \n return value != null ? value : other;\n}\n</code></pre>\n<p><strong>2) OrElseGet:</strong> Execute logic if value inside the optional is null</p>\n<pre><code>public T orElseGet(Supplier&lt;? extends T&gt; other) {\n  return value != null ? value : other.get(); \n}\n</code></pre>\n<p><strong>Some explanation on above declaration:</strong>\nThe argument of “Optional.orElse” always gets executed irrespective of the value of the object in optional (null, empty or with value). Always consider the above-mentioned point in mind while using “Optional.orElse”, otherwise use of “Optional.orElse” can be very risky in the following situation.</p>\n<p><strong>Risk-1) Logging Issue:</strong> If content inside orElse contains any log statement:\nIn this case, you will end up logging it every time.</p>\n<pre><code>Optional.of(getModel())\n   .map(x -&gt; {\n      //some logic\n   })\n  .orElse(getDefaultAndLogError());\n \ngetDefaultAndLogError() {\n  log.error(&quot;No Data found, Returning default&quot;);\n  return defaultValue;\n}\n</code></pre>\n<p><strong>Risk-2) Performance Issue:</strong> If content inside orElse is time-intensive:\nTime intensive content can be any i/o operations DB call, API call, file reading. If we put such content in orElse(), the system will end up executing a code of no use.</p>\n<pre><code>Optional.of(getModel())\n   .map(x -&gt; //some logic)\n   .orElse(getDefaultFromDb());\n\ngetDefaultFromDb() {\n   return dataBaseServe.getDefaultValue(); //api call, db call.\n}\n</code></pre>\n<p><strong>Risk-3) Illegal State or Bug Issue:</strong> If content inside orElse is mutating some object state:\nWe might be using the same object at another place let say inside Optional.map function and it can put us in a critical bug.</p>\n<pre><code>List&lt;Model&gt; list = new ArrayList&lt;&gt;();\nOptional.of(getModel())\n  .map(x -&gt; {\n  })\n  .orElse(get(list));\n\nget(List &lt; String &gt; list) {\n   log.error(&quot;No Data found, Returning default&quot;);\n   list.add(defaultValue);\n   return defaultValue;\n}\n</code></pre>\n<p><strong>Then, When can we go with orElse()?</strong>\nPrefer using orElse when the default value is some constant object, enum. In all above cases we can go with Optional.orElseGet() (which only executes when Optional contains empty value)instead of Optional.orElse(). Why?? In orElse, we pass default result value, but in orElseGet we pass Supplier and method of Supplier only executes if the value in Optional is null.</p>\n<p><strong>Key takeaways from this:</strong></p>\n<ol>\n<li>Do not use “Optional.orElse” if it contains any log statement.</li>\n<li>Do not use “Optional.orElse” if it contains time-intensive logic.</li>\n<li>Do not use “Optional.orElse” if it is mutating some object state.</li>\n<li>Use “Optional.orElse” if we have to return a constant, enum.</li>\n<li>Prefer “Optional.orElseGet” in the situations mentioned in 1,2 and 3rd points.</li>\n</ol>\n<p>I have explained this in point-2 (<strong>“Optional.map/Optional.orElse” != “if/else”</strong>) my medium blog. <a href=\"https://medium.com/@piyush.er.12/use-java8-as-a-programmer-not-as-a-coder-ec95ecb35dc\" rel=\"noreferrer\">Use Java8 as a programmer not as a coder</a></p>\n"},{"tags":[],"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640147218,"creation_date":1640147218,"answer_id":70444208,"question_id":33170109,"body_markdown":"They are both used to return a default value for one Optional, but if a method is used to produce the dafault value:\r\n- **orElse**: always executes the method, also if the Optional is not empty\r\n- **orElseGet**: executes it only if the Optional is empty **(+ Performance!)**\r\n\r\n\r\nsee this example (class OptionalExample): \r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tOptional&lt;String&gt; optionalNotEmpty = Optional.of(&quot;StringVal&quot;);\r\n\t\t\r\n\t\t// orElse: getDefaultValue called (useless)\r\n\t\tSystem.out.println(optionalNotEmpty.orElse(getDefaultValue()));\r\n\t\t\r\n\t\t// orElseGet: getDefaultValue not called (better solution)\r\n\t\tSystem.out.println(optionalNotEmpty.orElseGet(OptionalExample::getDefaultValue));\r\n\t}\r\n\t\r\n\tpublic static String getDefaultValue() {\r\n\t\tSystem.out.println(&quot;called&quot;);\r\n\t\treturn &quot;default value&quot;;\r\n\t}\r\n\r\nOutput:\r\n\r\n    called\r\n    StringVal\r\n    StringVal\r\n\r\n","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>They are both used to return a default value for one Optional, but if a method is used to produce the dafault value:</p>\n<ul>\n<li><strong>orElse</strong>: always executes the method, also if the Optional is not empty</li>\n<li><strong>orElseGet</strong>: executes it only if the Optional is empty <strong>(+ Performance!)</strong></li>\n</ul>\n<p>see this example (class OptionalExample):</p>\n<pre><code>public static void main(String[] args) {\n\n    Optional&lt;String&gt; optionalNotEmpty = Optional.of(&quot;StringVal&quot;);\n    \n    // orElse: getDefaultValue called (useless)\n    System.out.println(optionalNotEmpty.orElse(getDefaultValue()));\n    \n    // orElseGet: getDefaultValue not called (better solution)\n    System.out.println(optionalNotEmpty.orElseGet(OptionalExample::getDefaultValue));\n}\n\npublic static String getDefaultValue() {\n    System.out.println(&quot;called&quot;);\n    return &quot;default value&quot;;\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>called\nStringVal\nStringVal\n</code></pre>\n"},{"tags":[],"owner":{"account_id":293433,"reputation":8693,"user_id":596720,"accept_rate":78,"display_name":"Abe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694232114,"creation_date":1694232114,"answer_id":77070799,"question_id":33170109,"body_markdown":"Here is an example test for `orElse` which shows this rather unintuitive behavior of `Optional.orElse` which executes even if the first `Optional` value was present.    \r\n```java\r\n    @Test\r\n    void testOptionalOrElseInvocation() {\r\n        Runnable runnable = Mockito.mock(Runnable.class);\r\n        Integer result = method1(runnable).orElse(method2(runnable).get());\r\n        assertEquals(1, result);\r\n        Mockito.verify(runnable, Mockito.times(1)).run();\r\n    }\r\n\r\n    private Optional&lt;Integer&gt; method1(Runnable runnable) {\r\n        runnable.run();\r\n        return Optional.of(1);\r\n    }\r\n\r\n    private Optional&lt;Integer&gt; method2(Runnable runnable) {\r\n        runnable.run();\r\n        return Optional.of(2);\r\n    }\r\n```   \r\nThis test fails with    \r\n```\r\norg.mockito.exceptions.verification.TooManyActualInvocations: \r\nrunnable.run();\r\nWanted 1 time:\r\n-&gt; at com.mycompany.rasapi.service.OptionalTest.testOptionalOrElseInvocation(OptionalTest.java:10)\r\nBut was 2 times:\r\n````   \r\nThe `method1` returned a value but it still went and executed `method2`.","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>Here is an example test for <code>orElse</code> which shows this rather unintuitive behavior of <code>Optional.orElse</code> which executes even if the first <code>Optional</code> value was present.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void testOptionalOrElseInvocation() {\n        Runnable runnable = Mockito.mock(Runnable.class);\n        Integer result = method1(runnable).orElse(method2(runnable).get());\n        assertEquals(1, result);\n        Mockito.verify(runnable, Mockito.times(1)).run();\n    }\n\n    private Optional&lt;Integer&gt; method1(Runnable runnable) {\n        runnable.run();\n        return Optional.of(1);\n    }\n\n    private Optional&lt;Integer&gt; method2(Runnable runnable) {\n        runnable.run();\n        return Optional.of(2);\n    }\n</code></pre>\n<p>This test fails with</p>\n<pre><code>org.mockito.exceptions.verification.TooManyActualInvocations: \nrunnable.run();\nWanted 1 time:\n-&gt; at com.mycompany.rasapi.service.OptionalTest.testOptionalOrElseInvocation(OptionalTest.java:10)\nBut was 2 times:\n</code></pre>\n<p>The <code>method1</code> returned a value but it still went and executed <code>method2</code>.</p>\n"}],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211924,"favorite_count":0,"down_vote_count":0,"up_vote_count":305,"accepted_answer_id":33170142,"answer_count":10,"score":305,"last_activity_date":1694232114,"creation_date":1444997116,"question_id":33170109,"body_markdown":"I am trying to understand the difference between the [`Optional&lt;T&gt;.orElse()`][1] and [`Optional&lt;T&gt;.orElseGet()`][2] methods. \r\n\r\nThe description for the `orElse()` method is *&quot;Return the value if present, otherwise return other.&quot;*\r\n\r\nWhile, the description for the `orElseGet()` method is *&quot;Return the value if present, otherwise invoke other and return the result of that invocation.&quot;*\r\n\r\nThe `orElseGet()` method takes a Supplier functional interface, which essentially does not take any parameters and returns `T`. \r\n\r\nIn which situation would you need to use `orElseGet()`? If you have a method `T myDefault()` why wouldn&#39;t you just do `optional.orElse(myDefault())` rather than `optional.orElseGet(() -&gt; myDefault())` ?\r\n\r\nIt does not seem that `orElseGet()` is postponing the execution of the lambda expression to some later time or something, so what&#39;s the point of it? (I would have thought that it would be more useful if it returned a safer `Optional&lt;T&gt;` whose `get()` never throws a `NoSuchElementException` and `isPresent()` always returns true... but evidently its not, it just returns `T` like `orElse()`).\r\n\r\nIs there some other difference I am missing?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-","title":"Difference between `Optional.orElse()` and `Optional.orElseGet()`","body":"<p>I am trying to understand the difference between the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\"><code>Optional&lt;T&gt;.orElse()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\"><code>Optional&lt;T&gt;.orElseGet()</code></a> methods. </p>\n\n<p>The description for the <code>orElse()</code> method is <em>\"Return the value if present, otherwise return other.\"</em></p>\n\n<p>While, the description for the <code>orElseGet()</code> method is <em>\"Return the value if present, otherwise invoke other and return the result of that invocation.\"</em></p>\n\n<p>The <code>orElseGet()</code> method takes a Supplier functional interface, which essentially does not take any parameters and returns <code>T</code>. </p>\n\n<p>In which situation would you need to use <code>orElseGet()</code>? If you have a method <code>T myDefault()</code> why wouldn't you just do <code>optional.orElse(myDefault())</code> rather than <code>optional.orElseGet(() -&gt; myDefault())</code> ?</p>\n\n<p>It does not seem that <code>orElseGet()</code> is postponing the execution of the lambda expression to some later time or something, so what's the point of it? (I would have thought that it would be more useful if it returned a safer <code>Optional&lt;T&gt;</code> whose <code>get()</code> never throws a <code>NoSuchElementException</code> and <code>isPresent()</code> always returns true... but evidently its not, it just returns <code>T</code> like <code>orElse()</code>).</p>\n\n<p>Is there some other difference I am missing?</p>\n"},{"tags":["java","session","jsch"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694253808,"post_id":77070790,"comment_id":135869265,"body_markdown":"The command should be &quot;exit&quot; and this is a *bad* thing to do: [} catch (Exception e) {}](https://technojeeves.com/index.php/aliasjava1/94-ignoring-exceptions-is-dangerous)","body":"The command should be &quot;exit&quot; and this is a <i>bad</i> thing to do: <a href=\"https://technojeeves.com/index.php/aliasjava1/94-ignoring-exceptions-is-dangerous\" rel=\"nofollow noreferrer\">} catch (Exception e) {}</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694254261,"post_id":77070790,"comment_id":135869302,"body_markdown":"Also, you should probably multithread the streams, as *while (ins.available() &gt; 0) {* is not necessarily reliable. Google on &quot;java streamgobbler&quot;","body":"Also, you should probably multithread the streams, as <i>while (ins.available() &gt; 0) {</i> is not necessarily reliable. Google on &quot;java streamgobbler&quot;"},{"owner":{"account_id":3203646,"reputation":13,"user_id":2705177,"display_name":"mindalkar"},"score":0,"creation_date":1694270622,"post_id":77070790,"comment_id":135870892,"body_markdown":"@g00se I am connecting to router CLI mode, so I dont have &quot;exit&quot; command there.","body":"@g00se I am connecting to router CLI mode, so I dont have &quot;exit&quot; command there."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694273705,"post_id":77070790,"comment_id":135871213,"body_markdown":"You mean, if you&#39;re doing it at the command line, you type &#39;quit&#39; and you&#39;re disconnected?","body":"You mean, if you&#39;re doing it at the command line, you type &#39;quit&#39; and you&#39;re disconnected?"},{"owner":{"account_id":3203646,"reputation":13,"user_id":2705177,"display_name":"mindalkar"},"score":0,"creation_date":1694274426,"post_id":77070790,"comment_id":135871280,"body_markdown":"Yes. But same thing if I do via my code, the disconnect it getting stuck.","body":"Yes. But same thing if I do via my code, the disconnect it getting stuck."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694274795,"post_id":77070790,"comment_id":135871315,"body_markdown":"I would switch to multithreading it. I don&#39;t see why you&#39;re accumulating the response actually. You can just read it continuously and output it. You can start with the primitive `while((buf = in.read()) &gt; -1) { System.out.print((char)buf); }`","body":"I would switch to multithreading it. I don&#39;t see why you&#39;re accumulating the response actually. You can just read it continuously and output it. You can start with the primitive <code>while((buf = in.read()) &gt; -1) { System.out.print((char)buf); }</code>"},{"owner":{"account_id":3203646,"reputation":13,"user_id":2705177,"display_name":"mindalkar"},"score":0,"creation_date":1694380879,"post_id":77070790,"comment_id":135880048,"body_markdown":"Same result with ```while((buf = in.read()) &gt; -1) { System.out.print((char)buf); } ```","body":"Same result with <code>while((buf = in.read()) &gt; -1) { System.out.print((char)buf); } </code>"},{"owner":{"account_id":3203646,"reputation":13,"user_id":2705177,"display_name":"mindalkar"},"score":0,"creation_date":1694380965,"post_id":77070790,"comment_id":135880058,"body_markdown":"@g00se from give thread dump, are you seeing any issue ?","body":"@g00se from give thread dump, are you seeing any issue ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694423293,"post_id":77070790,"comment_id":135884218,"body_markdown":"*Same result with...* Changing to my code without using a dedicated thread will do nothing. Is that what you did?","body":"<i>Same result with...</i> Changing to my code without using a dedicated thread will do nothing. Is that what you did?"},{"owner":{"account_id":3203646,"reputation":13,"user_id":2705177,"display_name":"mindalkar"},"score":0,"creation_date":1698799820,"post_id":77070790,"comment_id":136450679,"body_markdown":"@g00se I tried mult-threading as well.\nBut ultimately it is getting stuck in session.disconnect","body":"@g00se I tried mult-threading as well. But ultimately it is getting stuck in session.disconnect"}],"owner":{"account_id":3203646,"reputation":13,"user_id":2705177,"display_name":"mindalkar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694231963,"creation_date":1694231963,"question_id":77070790,"body_markdown":"I am using jcraft JSCH package to do ssh to a HP router and execute some CLI commands.\r\nAfter execution of commands I am calling session disconnect method. But this session disconnect method is getting hung.\r\nNot getting any idea why this disconnect is getting hung.\r\n\r\nThe session is getting disconnect once the idle timeout of router is reached.\r\nHere is my piece of code - \r\n```\r\npackage HpRouter;\r\nimport java.lang.Thread;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\n\r\nimport com.jcraft.jsch.Channel;\r\nimport com.jcraft.jsch.JSch;\r\nimport com.jcraft.jsch.JSchException;\r\nimport com.jcraft.jsch.Session;\r\n\r\n\r\npublic class HpRouter {\r\n\r\n\tString CIPHER_S2C_KEY_NAME = &quot;cipher.s2c&quot;;\r\n    String CIPHER_S2C_KEY_VALUE = &quot;aes128-cbc,3des-cbc,blowfish-cbc&quot;;\r\n    String CIPHER_C2S_KEY_NAME = &quot;cipher.c2s&quot;;\r\n    String CIPHER_C2S_KEY_VALUE = &quot;aes128-cbc,3des-cbc,blowfish-cbc&quot;;\r\n    String CHECK_CIPHERS_KEY_NAME = &quot;CheckCiphers&quot;;\r\n    String CHECK_CIPHERS_KEY_VALUE = &quot;aes128-cbc&quot;;\r\n    String BCFNNI_STRICCTHOSTKEYCHECKING = &quot;StrictHostKeyChecking&quot;;\r\n    String NO = &quot;no&quot;;\r\n    String OPEN_SHELL_CHANNEL = &quot;shell&quot;;\r\n    String USER_NAME = &quot;username&quot;;\r\n    String PCODE = &quot;123456&quot;;\r\n    String HOST_NAME = &quot;1.1.1.1&quot;;\r\n    String PORT = &quot;22&quot;;\r\n    \r\n    \r\n\tpublic Session getChannelConnection() throws JSchException {\r\n\t\tString userName = USER_NAME;\r\n\t\tString password = PCODE;\r\n\t\tString hostName = HOST_NAME;\r\n\t\tint port = Integer.parseInt(PORT);\r\n\r\n\t\tJSch jsch = new JSch();\r\n\t\tSession session = jsch.getSession(userName, hostName, port);\r\n\t\tsession.setPassword(password);\r\n\r\n\t\tsession.setConfig(CIPHER_S2C_KEY_NAME, CIPHER_S2C_KEY_VALUE);\r\n\t\tsession.setConfig(CIPHER_C2S_KEY_NAME, CIPHER_C2S_KEY_VALUE);\r\n\t\tsession.setConfig(CHECK_CIPHERS_KEY_NAME, CHECK_CIPHERS_KEY_VALUE);\r\n\r\n\t\tjava.util.Properties config = new java.util.Properties();\r\n\t\tconfig.put(BCFNNI_STRICCTHOSTKEYCHECKING, NO);\r\n\t\tsession.setConfig(config);\r\n\r\n\t\tsession.connect();\r\n\r\n\t\treturn session;\r\n\t}\r\n\t\r\n\tpublic StringBuilder getChannelOutput(DataInputStream ins, Session session, Channel channel) throws Exception {\r\n\r\n\t\tString line = null;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tbyte[] tmpBuffer = new byte[1024];\r\n\t\ttry {\r\n\t\t\twhile (true) {\r\n\t\t\t\twhile (ins.available() &gt; 0) {\r\n\t\t\t\t\tint tmp = ins.read(tmpBuffer, 0, 1024);\r\n\r\n\t\t\t\t\tif (tmp &lt; 0)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tline = new String(tmpBuffer, 0, tmp);\r\n\t\t\t\t\tsb.append(line);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (channel.isClosed()) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (session != null) {\r\n\t\t\t\tsession.disconnect();\r\n\t\t\t}\r\n\t\t\tchannel.disconnect();\r\n\r\n\t\t}\r\n        catch (Exception e) {\r\n        \tSystem.out.println(&quot;Exception while getting Channel Output - &quot;);\r\n        \tThread.currentThread().interrupt();\r\n\t\t\tthrow new Exception(&quot;Exception while getting Channel Output - &quot;, e);\t\r\n\t\t}\r\n\t\treturn sb;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tHpRouter hpObj = new HpRouter();\r\n\t\ttry {\r\n\t\t\tSession session = hpObj.getChannelConnection();\r\n\t\t\tChannel channel = session.openChannel(&quot;shell&quot;);\r\n\t\t\tchannel.connect();\r\n\t\t\t\r\n\t\t\tDataOutputStream ops = new DataOutputStream(channel.getOutputStream());\r\n\t\t\tDataInputStream ins = new DataInputStream(channel.getInputStream());\r\n\r\n\t\t\t\r\n\t\t\tops.writeBytes(&quot;quit&quot; + &quot;\\r\\n&quot;);\r\n\t\t\tops.flush();\r\n\t\t\t\r\n\t\t\tStringBuilder sb = hpObj.getChannelOutput(ins, session, channel);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThread dump - \r\n```\r\n&quot;main&quot; #1 prio=5 os_prio=0 cpu=1272.29ms elapsed=37.55s tid=0x00007feb6c410000 nid=0x20f504 runnable  [0x00007feb7a452000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at java.net.PlainSocketImpl.socketClose0(java.base@11.0.20/Native Method)\r\n        at java.net.AbstractPlainSocketImpl.socketPreClose(java.base@11.0.20/AbstractPlainSocketImpl.java:722)\r\n        at java.net.AbstractPlainSocketImpl.close(java.base@11.0.20/AbstractPlainSocketImpl.java:601)\r\n        - locked &lt;0x000000043af0b0a8&gt; (a java.lang.Object)\r\n        at java.net.SocksSocketImpl.close(java.base@11.0.20/SocksSocketImpl.java:1067)\r\n        at java.net.Socket.close(java.base@11.0.20/Socket.java:1513)\r\n        - locked &lt;0x000000043aef9190&gt; (a java.lang.Object)\r\n        - locked &lt;0x000000043aef4b60&gt; (a java.net.Socket)\r\n        at java.net.SocketInputStream.close(java.base@11.0.20/SocketInputStream.java:249)\r\n        at com.jcraft.jsch.Session.disconnect(Session.java:1753)\r\n        at HpRouter.HpRouter.getChannelOutput(HpRouter.java:76)\r\n        at HpRouter.HpRouter.main(HpRouter.java:104)\r\n\r\n   Locked ownable synchronizers:\r\n        - None\r\n```","title":"Java com.jcraft.jsch.JSch session not getting disconnect","body":"<p>I am using jcraft JSCH package to do ssh to a HP router and execute some CLI commands.\nAfter execution of commands I am calling session disconnect method. But this session disconnect method is getting hung.\nNot getting any idea why this disconnect is getting hung.</p>\n<p>The session is getting disconnect once the idle timeout of router is reached.\nHere is my piece of code -</p>\n<pre><code>package HpRouter;\nimport java.lang.Thread;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\n\nimport com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.JSchException;\nimport com.jcraft.jsch.Session;\n\n\npublic class HpRouter {\n\n    String CIPHER_S2C_KEY_NAME = &quot;cipher.s2c&quot;;\n    String CIPHER_S2C_KEY_VALUE = &quot;aes128-cbc,3des-cbc,blowfish-cbc&quot;;\n    String CIPHER_C2S_KEY_NAME = &quot;cipher.c2s&quot;;\n    String CIPHER_C2S_KEY_VALUE = &quot;aes128-cbc,3des-cbc,blowfish-cbc&quot;;\n    String CHECK_CIPHERS_KEY_NAME = &quot;CheckCiphers&quot;;\n    String CHECK_CIPHERS_KEY_VALUE = &quot;aes128-cbc&quot;;\n    String BCFNNI_STRICCTHOSTKEYCHECKING = &quot;StrictHostKeyChecking&quot;;\n    String NO = &quot;no&quot;;\n    String OPEN_SHELL_CHANNEL = &quot;shell&quot;;\n    String USER_NAME = &quot;username&quot;;\n    String PCODE = &quot;123456&quot;;\n    String HOST_NAME = &quot;1.1.1.1&quot;;\n    String PORT = &quot;22&quot;;\n    \n    \n    public Session getChannelConnection() throws JSchException {\n        String userName = USER_NAME;\n        String password = PCODE;\n        String hostName = HOST_NAME;\n        int port = Integer.parseInt(PORT);\n\n        JSch jsch = new JSch();\n        Session session = jsch.getSession(userName, hostName, port);\n        session.setPassword(password);\n\n        session.setConfig(CIPHER_S2C_KEY_NAME, CIPHER_S2C_KEY_VALUE);\n        session.setConfig(CIPHER_C2S_KEY_NAME, CIPHER_C2S_KEY_VALUE);\n        session.setConfig(CHECK_CIPHERS_KEY_NAME, CHECK_CIPHERS_KEY_VALUE);\n\n        java.util.Properties config = new java.util.Properties();\n        config.put(BCFNNI_STRICCTHOSTKEYCHECKING, NO);\n        session.setConfig(config);\n\n        session.connect();\n\n        return session;\n    }\n    \n    public StringBuilder getChannelOutput(DataInputStream ins, Session session, Channel channel) throws Exception {\n\n        String line = null;\n        StringBuilder sb = new StringBuilder();\n        byte[] tmpBuffer = new byte[1024];\n        try {\n            while (true) {\n                while (ins.available() &gt; 0) {\n                    int tmp = ins.read(tmpBuffer, 0, 1024);\n\n                    if (tmp &lt; 0)\n                        break;\n                    line = new String(tmpBuffer, 0, tmp);\n                    sb.append(line);\n                }\n\n\n                if (channel.isClosed()) {\n                    break;\n                }\n            }\n\n            if (session != null) {\n                session.disconnect();\n            }\n            channel.disconnect();\n\n        }\n        catch (Exception e) {\n            System.out.println(&quot;Exception while getting Channel Output - &quot;);\n            Thread.currentThread().interrupt();\n            throw new Exception(&quot;Exception while getting Channel Output - &quot;, e);    \n        }\n        return sb;\n    }\n    \n    public static void main(String[] args) {\n        \n        HpRouter hpObj = new HpRouter();\n        try {\n            Session session = hpObj.getChannelConnection();\n            Channel channel = session.openChannel(&quot;shell&quot;);\n            channel.connect();\n            \n            DataOutputStream ops = new DataOutputStream(channel.getOutputStream());\n            DataInputStream ins = new DataInputStream(channel.getInputStream());\n\n            \n            ops.writeBytes(&quot;quit&quot; + &quot;\\r\\n&quot;);\n            ops.flush();\n            \n            StringBuilder sb = hpObj.getChannelOutput(ins, session, channel);\n            \n        } catch (Exception e) {\n            \n        }\n\n\n    }\n\n}\n\n</code></pre>\n<p>Thread dump -</p>\n<pre><code>&quot;main&quot; #1 prio=5 os_prio=0 cpu=1272.29ms elapsed=37.55s tid=0x00007feb6c410000 nid=0x20f504 runnable  [0x00007feb7a452000]\n   java.lang.Thread.State: RUNNABLE\n        at java.net.PlainSocketImpl.socketClose0(java.base@11.0.20/Native Method)\n        at java.net.AbstractPlainSocketImpl.socketPreClose(java.base@11.0.20/AbstractPlainSocketImpl.java:722)\n        at java.net.AbstractPlainSocketImpl.close(java.base@11.0.20/AbstractPlainSocketImpl.java:601)\n        - locked &lt;0x000000043af0b0a8&gt; (a java.lang.Object)\n        at java.net.SocksSocketImpl.close(java.base@11.0.20/SocksSocketImpl.java:1067)\n        at java.net.Socket.close(java.base@11.0.20/Socket.java:1513)\n        - locked &lt;0x000000043aef9190&gt; (a java.lang.Object)\n        - locked &lt;0x000000043aef4b60&gt; (a java.net.Socket)\n        at java.net.SocketInputStream.close(java.base@11.0.20/SocketInputStream.java:249)\n        at com.jcraft.jsch.Session.disconnect(Session.java:1753)\n        at HpRouter.HpRouter.getChannelOutput(HpRouter.java:76)\n        at HpRouter.HpRouter.main(HpRouter.java:104)\n\n   Locked ownable synchronizers:\n        - None\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-maven-plugin","cloud-native"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694227160,"post_id":77070647,"comment_id":135867554,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1381171,"reputation":7648,"user_id":1314132,"accept_rate":100,"display_name":"Sean Mickey"},"score":0,"creation_date":1694231242,"post_id":77070647,"comment_id":135867782,"body_markdown":"Not sure of the root cause, but I noticed error output related to `TOML` files, a `UTF-8` format requirement, and a suggestion that your file may be in `UTF-16` format. I suggest resolving that problem as a first step and proceeding from that point.","body":"Not sure of the root cause, but I noticed error output related to <code>TOML</code> files, a <code>UTF-8</code> format requirement, and a suggestion that your file may be in <code>UTF-16</code> format. I suggest resolving that problem as a first step and proceeding from that point."},{"owner":{"account_id":29399237,"reputation":1,"user_id":22525842,"display_name":"Bucky"},"score":0,"creation_date":1694232478,"post_id":77070647,"comment_id":135867842,"body_markdown":"yes, I also noticed this info, it seems happened during the detecting step when buildpacks plugin run, but  I still  don&#39;t know how to find that exact file which reported as wrong format","body":"yes, I also noticed this info, it seems happened during the detecting step when buildpacks plugin run, but  I still  don&#39;t know how to find that exact file which reported as wrong format"}],"owner":{"account_id":29399237,"reputation":1,"user_id":22525842,"display_name":"Bucky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694230961,"creation_date":1694226920,"question_id":77070647,"body_markdown":"Mac os version :  13.5.2 (22G91)\r\nprocessor: 1.4 GHz Quad-Core Intel Core i5\r\n\r\njvm version: java 17.0.2 2022-01-18 LTS\r\nspringboot version : 2.4.3\r\nmaven version: Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n\r\nDocker version: \r\nClient:\r\n Cloud integration: v1.0.35-desktop+001\r\n Version:           24.0.5\r\n API version:       1.43\r\n Go version:        go1.20.6\r\n Git commit:        ced0996\r\n Built:             Fri Jul 21 20:32:30 2023\r\n OS/Arch:           darwin/amd64\r\n Context:           desktop-linux\r\n\r\nServer: Docker Desktop 4.22.1 (118664)\r\n Engine:\r\n  Version:          24.0.5\r\n  API version:      1.43 (minimum version 1.12)\r\n  Go version:       go1.20.6\r\n  Git commit:       a61e2b4\r\n  Built:            Fri Jul 21 20:35:45 2023\r\n  OS/Arch:          linux/amd64\r\n  Experimental:     false\r\n containerd:\r\n  Version:          1.6.21\r\n  GitCommit:        3dce8eb055cbb6872793272b4f20ed16117344f8\r\n runc:\r\n  Version:          1.1.7\r\n  GitCommit:        v1.1.7-0-g860f061\r\n docker-init:\r\n  Version:          0.19.0\r\n  GitCommit:        de40ad0\r\n\r\nWhen I run the following command under my maven project: `mvn -e  spring-boot:build-image`, the following failure occurs:\r\n    \r\n    [INFO]  &gt; Running creator\r\n    [INFO]     [creator]     Warning: Platform requested deprecated API &#39;0.4&#39;\r\n    [INFO]     [creator]     ===&gt; DETECTING\r\n    [INFO]     [creator]     ERROR: failed to initialize detector: toml: line 1: files cannot contain NULL bytes; probably using UTF-16; TOML files must be UTF-8\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  27.387 s\r\n    [INFO] Finished at: 2023-09-09T09:43:41+08:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image (default-cli) on project advertising: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image failed: Builder lifecycle &#39;creator&#39; failed with status code 1 -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image (default-cli) on project advertising: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image failed: Builder lifecycle &#39;creator&#39; failed with status code 1\r\n\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image failed: Builder lifecycle &#39;creator&#39; failed with status code 1\r\n\r\nBut when I run the same command on another Mac with an M1 chip, all things work just fine. After many tries, including version adjusting or OS upgrade, I still have no clues, so I need some help or hints!\r\n\r\nWhat I want: I just want to use the buildpacks plugin normally.","title":"Spring Boot Maven Plugin build-image error: Builder lifecycle &#39;creator&#39; failed with status code 1","body":"<p>Mac os version :  13.5.2 (22G91)\nprocessor: 1.4 GHz Quad-Core Intel Core i5</p>\n<p>jvm version: java 17.0.2 2022-01-18 LTS\nspringboot version : 2.4.3\nmaven version: Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)</p>\n<p>Docker version:\nClient:\nCloud integration: v1.0.35-desktop+001\nVersion:           24.0.5\nAPI version:       1.43\nGo version:        go1.20.6\nGit commit:        ced0996\nBuilt:             Fri Jul 21 20:32:30 2023\nOS/Arch:           darwin/amd64\nContext:           desktop-linux</p>\n<p>Server: Docker Desktop 4.22.1 (118664)\nEngine:\nVersion:          24.0.5\nAPI version:      1.43 (minimum version 1.12)\nGo version:       go1.20.6\nGit commit:       a61e2b4\nBuilt:            Fri Jul 21 20:35:45 2023\nOS/Arch:          linux/amd64\nExperimental:     false\ncontainerd:\nVersion:          1.6.21\nGitCommit:        3dce8eb055cbb6872793272b4f20ed16117344f8\nrunc:\nVersion:          1.1.7\nGitCommit:        v1.1.7-0-g860f061\ndocker-init:\nVersion:          0.19.0\nGitCommit:        de40ad0</p>\n<p>When I run the following command under my maven project: <code>mvn -e  spring-boot:build-image</code>, the following failure occurs:</p>\n<pre><code>[INFO]  &gt; Running creator\n[INFO]     [creator]     Warning: Platform requested deprecated API '0.4'\n[INFO]     [creator]     ===&gt; DETECTING\n[INFO]     [creator]     ERROR: failed to initialize detector: toml: line 1: files cannot contain NULL bytes; probably using UTF-16; TOML files must be UTF-8\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  27.387 s\n[INFO] Finished at: 2023-09-09T09:43:41+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image (default-cli) on project advertising: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image failed: Builder lifecycle 'creator' failed with status code 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image (default-cli) on project advertising: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image failed: Builder lifecycle 'creator' failed with status code 1\n\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:build-image failed: Builder lifecycle 'creator' failed with status code 1\n</code></pre>\n<p>But when I run the same command on another Mac with an M1 chip, all things work just fine. After many tries, including version adjusting or OS upgrade, I still have no clues, so I need some help or hints!</p>\n<p>What I want: I just want to use the buildpacks plugin normally.</p>\n"},{"tags":["java","jpanel"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694220110,"post_id":77068832,"comment_id":135867114,"body_markdown":"I believe you&#39;re referring to the _&quot;[z-order](https://en.wikipedia.org/wiki/Z-order)&quot;_, as in _&quot;xyz&quot;_.  Use the _[setComponentZOrder](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Container.html#setComponentZOrder(java.awt.Component,int))_ method for the container of the _Component_.","body":"I believe you&#39;re referring to the <i>&quot;<a href=\"https://en.wikipedia.org/wiki/Z-order\" rel=\"nofollow noreferrer\">z-order</a>&quot;</i>, as in <i>&quot;xyz&quot;</i>.  Use the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Container.html#setComponentZOrder(java.awt.Component,int)\" rel=\"nofollow noreferrer\">setComponentZOrder</a></i> method for the container of the <i>Component</i>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694230498,"creation_date":1694230498,"answer_id":77070748,"question_id":77068832,"body_markdown":"&gt; _&quot;... My main issue right now is that I don&#39;t understand or what to use when it comes to having a layer priority system with the labels and textlabels I create. ... What&#39;s a good approach in implenting a layer system but also giving me the freedom to adjust the sizes/positions of the labels? ...&quot;_\r\n\r\nWhat you are referring to is typically called a _&quot;[z-order](https://en.wikipedia.org/wiki/Z-order)&quot;_; as in axes _x_, y, and _z_.\r\n\r\nThere is a method for this in the _[Container](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Container.html)_ class.\r\n\r\n_[Container#setComponentZOrder](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Container.html#setComponentZOrder(java.awt.Component,int))_, \r\n\r\n&gt; _**setComponentZOrder**_\r\n&gt;\r\n&gt; ... Moves the specified component to the specified z-order index in the container. The z-order determines the order that components are painted; the component with the highest z-order paints first and the component with the lowest z-order paints last. Where components overlap, the component with the lower z-order paints over the component with the higher z-order. ...\r\n\r\nMore conveniently, you could use the _[JLayeredPane](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JLayeredPane.html)_ component.\r\n\r\nHere is the _Java_ tutorial.  \r\n_[How to Use Layered Panes (The Java&amp;trade; Tutorials &amp;gt; Creating a GUI With Swing &amp;gt; Using Swing Components)](https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html)_.  \r\n_[Java Tutorials Code Sample – LayeredPaneDemo.java](https://docs.oracle.com/javase/tutorial/displayCode.html?code=https://docs.oracle.com/javase/tutorial/uiswing/examples/components/LayeredPaneDemoProject/src/components/LayeredPaneDemo.java)_.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn a final note, in your code you should be calling _createScrollingFrame_ prior to _frame.setVisible(true)_.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GCJVU.png","title":"How to do Layer Priority with JPanels?","body":"<blockquote>\n<p><em>&quot;... My main issue right now is that I don't understand or what to use when it comes to having a layer priority system with the labels and textlabels I create. ... What's a good approach in implenting a layer system but also giving me the freedom to adjust the sizes/positions of the labels? ...&quot;</em></p>\n</blockquote>\n<p>What you are referring to is typically called a <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Z-order\" rel=\"nofollow noreferrer\">z-order</a>&quot;</em>; as in axes <em>x</em>, y, and <em>z</em>.</p>\n<p>There is a method for this in the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Container.html\" rel=\"nofollow noreferrer\">Container</a></em> class.</p>\n<p><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Container.html#setComponentZOrder(java.awt.Component,int)\" rel=\"nofollow noreferrer\">Container#setComponentZOrder</a></em>,</p>\n<blockquote>\n<p><em><strong>setComponentZOrder</strong></em></p>\n<p>... Moves the specified component to the specified z-order index in the container. The z-order determines the order that components are painted; the component with the highest z-order paints first and the component with the lowest z-order paints last. Where components overlap, the component with the lower z-order paints over the component with the higher z-order. ...</p>\n</blockquote>\n<p>More conveniently, you could use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JLayeredPane.html\" rel=\"nofollow noreferrer\">JLayeredPane</a></em> component.</p>\n<p>Here is the <em>Java</em> tutorial.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html\" rel=\"nofollow noreferrer\">How to Use Layered Panes (The Java™ Tutorials &gt; Creating a GUI With Swing &gt; Using Swing Components)</a></em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/displayCode.html?code=https://docs.oracle.com/javase/tutorial/uiswing/examples/components/LayeredPaneDemoProject/src/components/LayeredPaneDemo.java\" rel=\"nofollow noreferrer\">Java Tutorials Code Sample – LayeredPaneDemo.java</a></em>.</p>\n<p><a href=\"https://i.stack.imgur.com/GCJVU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GCJVU.png\" alt=\"enter image description here\" /></a></p>\n<p>On a final note, in your code you should be calling <em>createScrollingFrame</em> prior to <em>frame.setVisible(true)</em>.</p>\n"}],"owner":{"account_id":29397182,"reputation":13,"user_id":22524270,"display_name":"PokeCedGo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694230498,"creation_date":1694193753,"question_id":77068832,"body_markdown":"I&#39;m learning Java and recently wanted to make a mimic a text message system like iMessage. My main issue right now is that I don&#39;t understand or what to use when it comes to having a layer priority system with the labels and textlabels I create. My current code puts everything in a fixed position and I can&#39;t alter the size/position at all. What&#39;s a good approach in implenting a layer system but also giving me the freedom to adjust the sizes/positions of the labels?\r\n\r\n\r\n```\r\n    import javax.swing.*;\r\n\r\n    import java.awt.Font;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.util.PriorityQueue;\r\n\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    import javax.accessibility.*;\r\n\r\n\r\n    public class ChatSystem {\r\n\r\n        static JFrame frame = new JFrame(&quot;ChatBot&quot;);\r\n        static JTextField chat_input = new JTextField(8);\r\n        static JFrame chatPanel = new JFrame();\r\n        static JTextArea ca = new JTextArea();\r\n        static JLayeredPane layoutPriority = new JLayeredPane();\r\n        \r\n        public static String getTextFieldText() {\r\n            return chat_input.getText();\r\n        }\r\n\r\n        static void createScrollingFrame() {\r\n\r\n            JPanel layeredPane = new JPanel();\r\n            layeredPane.setOpaque(false); // Make the JPanel transparent\r\n            frame.setContentPane(layeredPane);\r\n            layeredPane.add(chat_input, JLayeredPane.DEFAULT_LAYER);\r\n            // Set the preferred size for the JPanel\r\n            layeredPane.setPreferredSize(new Dimension(1200, 800)); // Adjust the size as needed\r\n            \r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n            \r\n        \r\n            JPanel leftFrame = new JPanel();\r\n            leftFrame.setBackground(Color.decode(&quot;#7289da&quot;));\r\n            leftFrame.setBounds(220, 20, 350, 550);\r\n        \r\n            JPanel rightFrame = new JPanel();\r\n            rightFrame.setBackground(Color.decode(&quot;#9B90B2&quot;));\r\n            rightFrame.setBounds(720, 20, 350, 550);\r\n        \r\n            layeredPane.add(rightFrame, JLayeredPane.DEFAULT_LAYER);\r\n            layeredPane.add(leftFrame, JLayeredPane.DEFAULT_LAYER);\r\n        \r\n            // UI Labels\r\n            JLabel client = new JLabel();\r\n            Font f3 = new Font(Font.DIALOG, Font.BOLD, 35);\r\n            client.setFont(f3);\r\n            client.setText(&quot;Amel!a&quot;);\r\n            client.setForeground(Color.BLACK);\r\n            client.setBounds(125, 0, 350, 200);\r\n        \r\n            layeredPane.add(client, JLayeredPane.PALETTE_LAYER);\r\n\r\n            // Chat input position (adjust as needed)\r\n            chat_input.setBounds(820, 950, 950, 40);\r\n            layeredPane.add(chat_input, JLayeredPane.DEFAULT_LAYER);\r\n        }\r\n        \r\n        static void chatHandler() {\r\n            //handles create the &quot;chat bubbles&quot; with the text\r\n\r\n            //take input and add to scrolling frame\r\n        \r\n        }\r\n        public static void main(String[] args) {\r\n\r\n            \r\n            frame.add(layoutPriority);\r\n            \r\n            frame.setLayout(null); // Set the layout manager for the frame\r\n            frame.setSize(12000, 1200);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().setBackground(Color.decode(&quot;#1e2124&quot;)); // set background color\r\n            frame.setVisible(true);\r\n\r\n\r\n            //text input\r\n            chat_input.setBackground(Color.decode(&quot;#7289da&quot;));\r\n            chat_input.setForeground(Color.WHITE);\r\n            \r\n            // Font setup\r\n            Font f3 = new Font(Font.DIALOG, Font.BOLD, 15);\r\n            chat_input.setFont(f3);\r\n            \r\n            // Adjust the position and size of the chat input\r\n            chat_input.setBounds(220, 650, 850, 40);\r\n            \r\n            JPanel bottomPanel = new JPanel();\r\n            bottomPanel.setLayout(null); // Set null layout for precise positioning\r\n            bottomPanel.add(chat_input);\r\n            \r\n            frame.add(bottomPanel, BorderLayout.SOUTH);\r\n            \r\n            //create chat box // connect action \r\n            createScrollingFrame();\r\n\r\n        \r\n            \r\n            EventListeners eventListeners = new EventListeners();\r\n            chat_input.addActionListener((ActionListener) eventListeners);\r\n\r\n\r\n            \r\n        }    \r\n    }\r\n\r\n\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried messing with different layout managers but I always face the issue of either the priority system works but I can&#39;t change the size/position, or I can change the size/position but the items are invisible. In reference, I&#39;m more experienced in game programming so creating a system for layering my UIs was a problem I&#39;ve never had to face.","title":"How to do Layer Priority with JPanels?","body":"<p>I'm learning Java and recently wanted to make a mimic a text message system like iMessage. My main issue right now is that I don't understand or what to use when it comes to having a layer priority system with the labels and textlabels I create. My current code puts everything in a fixed position and I can't alter the size/position at all. What's a good approach in implenting a layer system but also giving me the freedom to adjust the sizes/positions of the labels?</p>\n<pre><code>    import javax.swing.*;\n\n    import java.awt.Font;\n    import java.awt.event.ActionListener;\n    import java.awt.BorderLayout;\n    import java.awt.Color;\n    import java.awt.Dimension;\n    import java.util.PriorityQueue;\n\n    \n    import javax.swing.*;\n    import javax.swing.border.*;\n    import javax.accessibility.*;\n\n\n    public class ChatSystem {\n\n        static JFrame frame = new JFrame(&quot;ChatBot&quot;);\n        static JTextField chat_input = new JTextField(8);\n        static JFrame chatPanel = new JFrame();\n        static JTextArea ca = new JTextArea();\n        static JLayeredPane layoutPriority = new JLayeredPane();\n        \n        public static String getTextFieldText() {\n            return chat_input.getText();\n        }\n\n        static void createScrollingFrame() {\n\n            JPanel layeredPane = new JPanel();\n            layeredPane.setOpaque(false); // Make the JPanel transparent\n            frame.setContentPane(layeredPane);\n            layeredPane.add(chat_input, JLayeredPane.DEFAULT_LAYER);\n            // Set the preferred size for the JPanel\n            layeredPane.setPreferredSize(new Dimension(1200, 800)); // Adjust the size as needed\n            \n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.pack();\n            frame.setVisible(true);\n            \n        \n            JPanel leftFrame = new JPanel();\n            leftFrame.setBackground(Color.decode(&quot;#7289da&quot;));\n            leftFrame.setBounds(220, 20, 350, 550);\n        \n            JPanel rightFrame = new JPanel();\n            rightFrame.setBackground(Color.decode(&quot;#9B90B2&quot;));\n            rightFrame.setBounds(720, 20, 350, 550);\n        \n            layeredPane.add(rightFrame, JLayeredPane.DEFAULT_LAYER);\n            layeredPane.add(leftFrame, JLayeredPane.DEFAULT_LAYER);\n        \n            // UI Labels\n            JLabel client = new JLabel();\n            Font f3 = new Font(Font.DIALOG, Font.BOLD, 35);\n            client.setFont(f3);\n            client.setText(&quot;Amel!a&quot;);\n            client.setForeground(Color.BLACK);\n            client.setBounds(125, 0, 350, 200);\n        \n            layeredPane.add(client, JLayeredPane.PALETTE_LAYER);\n\n            // Chat input position (adjust as needed)\n            chat_input.setBounds(820, 950, 950, 40);\n            layeredPane.add(chat_input, JLayeredPane.DEFAULT_LAYER);\n        }\n        \n        static void chatHandler() {\n            //handles create the &quot;chat bubbles&quot; with the text\n\n            //take input and add to scrolling frame\n        \n        }\n        public static void main(String[] args) {\n\n            \n            frame.add(layoutPriority);\n            \n            frame.setLayout(null); // Set the layout manager for the frame\n            frame.setSize(12000, 1200);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().setBackground(Color.decode(&quot;#1e2124&quot;)); // set background color\n            frame.setVisible(true);\n\n\n            //text input\n            chat_input.setBackground(Color.decode(&quot;#7289da&quot;));\n            chat_input.setForeground(Color.WHITE);\n            \n            // Font setup\n            Font f3 = new Font(Font.DIALOG, Font.BOLD, 15);\n            chat_input.setFont(f3);\n            \n            // Adjust the position and size of the chat input\n            chat_input.setBounds(220, 650, 850, 40);\n            \n            JPanel bottomPanel = new JPanel();\n            bottomPanel.setLayout(null); // Set null layout for precise positioning\n            bottomPanel.add(chat_input);\n            \n            frame.add(bottomPanel, BorderLayout.SOUTH);\n            \n            //create chat box // connect action \n            createScrollingFrame();\n\n        \n            \n            EventListeners eventListeners = new EventListeners();\n            chat_input.addActionListener((ActionListener) eventListeners);\n\n\n            \n        }    \n    }\n\n\n\n</code></pre>\n<p>I've tried messing with different layout managers but I always face the issue of either the priority system works but I can't change the size/position, or I can change the size/position but the items are invisible. In reference, I'm more experienced in game programming so creating a system for layering my UIs was a problem I've never had to face.</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-boot-devtools"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1694214349,"post_id":77070213,"comment_id":135866721,"body_markdown":"Sounds like an intellij bug given the stack trace.","body":"Sounds like an intellij bug given the stack trace."},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":1,"creation_date":1694214981,"post_id":77070213,"comment_id":135866769,"body_markdown":"The error seems to be a compatibility issue between **IntelliJ IDEA&#39;s** older version and the newer version of **Spring Boot** with **DevTools**. This can be seen from the part of the Stack Trace that references: `com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:103)`. Possible fixes: Upgrade **Intellij IDEA**, Check for outdated plugins, reimport the project, clean and rebuild and reconfigure the **DevTools**.","body":"The error seems to be a compatibility issue between <b>IntelliJ IDEA&#39;s</b> older version and the newer version of <b>Spring Boot</b> with <b>DevTools</b>. This can be seen from the part of the Stack Trace that references: <code>com.intellij.rt.execution.application.AppMainV2.main(AppMain&zwnj;&#8203;V2.java:103)</code>. Possible fixes: Upgrade <b>Intellij IDEA</b>, Check for outdated plugins, reimport the project, clean and rebuild and reconfigure the <b>DevTools</b>."}],"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694228963,"creation_date":1694213707,"question_id":77070213,"body_markdown":"I&#39;m using Spring Boot, Java 17, IntelliJ version 2019.2.4, and Spring Boot DevTools. \r\n\r\nHowever, upon initialization, the following error occurs:\r\n\r\n    Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    \tat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:103)\r\n    \t... 5 more\r\n\r\nThe error doesn&#39;t occur if I initialize it through debugging or if I remove the `spring-boot-devtools` dependency.\r\n\r\n**pom:**\r\n\t\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.3&lt;/version&gt;\r\n    \t&lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Spring Boot DevTools in IntelliJ - Initialization error","body":"<p>I'm using Spring Boot, Java 17, IntelliJ version 2019.2.4, and Spring Boot DevTools.</p>\n<p>However, upon initialization, the following error occurs:</p>\n<pre><code>Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:103)\n    ... 5 more\n</code></pre>\n<p>The error doesn't occur if I initialize it through debugging or if I remove the <code>spring-boot-devtools</code> dependency.</p>\n<p><strong>pom:</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","database","unit-testing","mockito"],"comments":[{"owner":{"account_id":81456,"reputation":11655,"user_id":229672,"display_name":"denis.solonenko"},"score":4,"creation_date":1395798850,"post_id":22649651,"comment_id":34498381,"body_markdown":"Have you considered using in-memory db to test your DAOs? This test is too overloaded by mocks and will not be easy to support..","body":"Have you considered using in-memory db to test your DAOs? This test is too overloaded by mocks and will not be easy to support.."},{"owner":{"account_id":14578287,"reputation":470,"user_id":10529562,"display_name":"kcon123"},"score":0,"creation_date":1641655612,"post_id":22649651,"comment_id":124863901,"body_markdown":"I think you&#39;re better off writing integration tests for this method rather than unit tests.","body":"I think you&#39;re better off writing integration tests for this method rather than unit tests."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395798329,"creation_date":1395798329,"answer_id":22649944,"question_id":22649651,"body_markdown":"Have you prepared UserDAO for test in PowerMockito [using `@PrepareForTest`](https://code.google.com/p/powermock/wiki/MockitoUsage13#How_to_mock_construction_of_new_objects)?\r\n\r\nRemember that you need to prepare the class that calls `new DBConnection()` and `new QueryReader()` for those constructor stubs to have effect.","title":"Mockito- mocking database calls","body":"<p>Have you prepared UserDAO for test in PowerMockito <a href=\"https://code.google.com/p/powermock/wiki/MockitoUsage13#How_to_mock_construction_of_new_objects\" rel=\"nofollow\">using <code>@PrepareForTest</code></a>?</p>\n\n<p>Remember that you need to prepare the class that calls <code>new DBConnection()</code> and <code>new QueryReader()</code> for those constructor stubs to have effect.</p>\n"}],"owner":{"account_id":3367307,"reputation":127,"user_id":2827535,"accept_rate":57,"display_name":"Veerendra Manikonda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9927,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1694228951,"creation_date":1395796585,"question_id":22649651,"body_markdown":"I have tried to mock the following method with Mockito which returns user details.\r\n\r\nIt is making the actual call to the database instead of returning the mock results.\r\n\r\n**My method-** \r\n\r\n    public User getUserById(String userId){\r\n\t\tif (userId == null) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;AssociateId cannot be null&quot;);\r\n\t\t}\r\n\t\tUser user = new User();\r\n\t\tpreparedStatement = null;\r\n\t\ttry {\r\n\t\t\tconnection = dbConnection.openConnection(properties, inputStream);\r\n\t\t\tquery = queryReader\r\n\t\t\t\t\t.getQuery(RelationshipManagerConstants.selectUser);\r\n\t\t\tpreparedStatement = connection.prepareStatement(query);\r\n\t\t\tpreparedStatement.setString(I_User.associateId, userId);\r\n\t\t\tresultSet = preparedStatement.executeQuery();\r\n\t\t\tif (resultSet.next()) {\r\n\t            user.setAssociateId(resultSet.getString(I_User.associateId));\r\n\t\t\t\tuser.setAssociatePassword(resultSet\r\n\t\t\t\t\t\t.getString(I_User.associatePassword));\r\n\t\t\t\tuser.setAssociateRole(resultSet.getInt(I_User.associateRole));\r\n\t\t\t\tuser.setAssociateIsActive(resultSet\r\n\t\t\t\t\t\t.getBoolean(I_User.associateIsActive));\r\n\t\t\t\tuser.setAssociateEmail(resultSet\r\n\t\t\t\t\t\t.getString(I_User.associateEmail));\r\n\t\t\t}\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tLOGGER.warning(&quot;Cannot return User Details. ClassNotFoundException occured.&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\tLOGGER.warning(&quot;Cannot return User Details. SQLException occured.&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOGGER.warning(&quot;Cannot return User Details. IOException occured.&quot;);\r\n\t\t} finally {\r\n\t\t\tif (resultSet != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresultSet.close();\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tLOGGER.warning(&quot;Failed to close resultSet.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (preparedStatement != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tpreparedStatement.close();\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tLOGGER.warning(&quot;Failed to close statement.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (connection != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconnection.close();\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tLOGGER.warning(&quot;Failed to close connection.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn user;\r\n\t}\r\n\r\n**My test-**\r\n\r\n    @Test\r\n\tpublic void testGetUserById() throws Exception {\r\n\t\tmockConnection = Mockito.mock(Connection.class);\r\n\t\tProperties mockProperties =  Mockito.mock(Properties.class);\r\n\t\tInputStream mockInputStream = Mockito.mock(InputStream.class);\r\n\t\tDBConnection mockDbConnection = Mockito.mock(DBConnection.class);\r\n\t\tPreparedStatement mockPreparedStatement = Mockito.mock(PreparedStatement.class);\r\n\t\tResultSet mockResultSet = Mockito.mock(ResultSet.class);\r\n\t\tQueryReader mockQueryReader = Mockito.mock(QueryReader.class);\r\n\t\t\r\n\t\t\r\n\t\tPowerMockito.whenNew(DBConnection.class).withNoArguments()\r\n\t\t.thenReturn(mockDbConnection);\r\n\t\tPowerMockito.whenNew(QueryReader.class).withNoArguments()\r\n\t\t.thenReturn(mockQueryReader);\r\n\t\t\r\n\t\t\r\n\t\tString query = &quot;select * from User where AssociateID=?;&quot;;\r\n\t\tMockito.when(mockDbConnection.openConnection(mockProperties, mockInputStream)).thenReturn(mockConnection);\r\n\t\tMockito.when(mockQueryReader.getQuery(&quot;sqlScript_selectUser.sql&quot;)).thenReturn(&quot;query&quot;);\r\n\t\tMockito.when(mockConnection.prepareStatement(&quot;query&quot;)).thenReturn(mockPreparedStatement);\r\n\t\tMockito.when(mockPreparedStatement.executeQuery()).thenReturn(mockResultSet);\r\n\t\tMockito.when(mockResultSet.next()).thenReturn(true);\r\n\t\t\r\n\t\tMockito.when(mockResultSet.getString(1)).thenReturn(&quot;message&quot;);\r\n\t\tUser u=userDAO.getUserById(&quot;AB1234&quot;);\r\n\t\tassertEquals(&quot;EX112233&quot;, u.getAssociateId());\r\n\t}\r\n\r\nMy test should fail as I am returning &quot;message&quot; However, I am asserting with &quot;EX112233&quot;\r\n\r\nBut It is making call to the database instead of mocking. \r\n\r\nThanks in advance.","title":"Mockito- mocking database calls","body":"<p>I have tried to mock the following method with Mockito which returns user details.</p>\n\n<p>It is making the actual call to the database instead of returning the mock results.</p>\n\n<p><strong>My method-</strong> </p>\n\n<pre><code>public User getUserById(String userId){\n    if (userId == null) {\n        throw new IllegalArgumentException(\"AssociateId cannot be null\");\n    }\n    User user = new User();\n    preparedStatement = null;\n    try {\n        connection = dbConnection.openConnection(properties, inputStream);\n        query = queryReader\n                .getQuery(RelationshipManagerConstants.selectUser);\n        preparedStatement = connection.prepareStatement(query);\n        preparedStatement.setString(I_User.associateId, userId);\n        resultSet = preparedStatement.executeQuery();\n        if (resultSet.next()) {\n            user.setAssociateId(resultSet.getString(I_User.associateId));\n            user.setAssociatePassword(resultSet\n                    .getString(I_User.associatePassword));\n            user.setAssociateRole(resultSet.getInt(I_User.associateRole));\n            user.setAssociateIsActive(resultSet\n                    .getBoolean(I_User.associateIsActive));\n            user.setAssociateEmail(resultSet\n                    .getString(I_User.associateEmail));\n        }\n    } catch (ClassNotFoundException e) {\n        LOGGER.warning(\"Cannot return User Details. ClassNotFoundException occured.\");\n    } catch (SQLException e) {\n        LOGGER.warning(\"Cannot return User Details. SQLException occured.\");\n    } catch (IOException e) {\n        LOGGER.warning(\"Cannot return User Details. IOException occured.\");\n    } finally {\n        if (resultSet != null) {\n            try {\n                resultSet.close();\n            } catch (SQLException e) {\n                LOGGER.warning(\"Failed to close resultSet.\");\n            }\n        }\n        if (preparedStatement != null) {\n            try {\n                preparedStatement.close();\n            } catch (SQLException e) {\n                LOGGER.warning(\"Failed to close statement.\");\n            }\n        }\n        if (connection != null) {\n            try {\n                connection.close();\n            } catch (SQLException e) {\n                LOGGER.warning(\"Failed to close connection.\");\n            }\n        }\n    }\n    return user;\n}\n</code></pre>\n\n<p><strong>My test-</strong></p>\n\n<pre><code>@Test\npublic void testGetUserById() throws Exception {\n    mockConnection = Mockito.mock(Connection.class);\n    Properties mockProperties =  Mockito.mock(Properties.class);\n    InputStream mockInputStream = Mockito.mock(InputStream.class);\n    DBConnection mockDbConnection = Mockito.mock(DBConnection.class);\n    PreparedStatement mockPreparedStatement = Mockito.mock(PreparedStatement.class);\n    ResultSet mockResultSet = Mockito.mock(ResultSet.class);\n    QueryReader mockQueryReader = Mockito.mock(QueryReader.class);\n\n\n    PowerMockito.whenNew(DBConnection.class).withNoArguments()\n    .thenReturn(mockDbConnection);\n    PowerMockito.whenNew(QueryReader.class).withNoArguments()\n    .thenReturn(mockQueryReader);\n\n\n    String query = \"select * from User where AssociateID=?;\";\n    Mockito.when(mockDbConnection.openConnection(mockProperties, mockInputStream)).thenReturn(mockConnection);\n    Mockito.when(mockQueryReader.getQuery(\"sqlScript_selectUser.sql\")).thenReturn(\"query\");\n    Mockito.when(mockConnection.prepareStatement(\"query\")).thenReturn(mockPreparedStatement);\n    Mockito.when(mockPreparedStatement.executeQuery()).thenReturn(mockResultSet);\n    Mockito.when(mockResultSet.next()).thenReturn(true);\n\n    Mockito.when(mockResultSet.getString(1)).thenReturn(\"message\");\n    User u=userDAO.getUserById(\"AB1234\");\n    assertEquals(\"EX112233\", u.getAssociateId());\n}\n</code></pre>\n\n<p>My test should fail as I am returning \"message\" However, I am asserting with \"EX112233\"</p>\n\n<p>But It is making call to the database instead of mocking. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","sql","persistence.xml"],"comments":[{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":3,"creation_date":1395307406,"post_id":22528413,"comment_id":34281483,"body_markdown":"The exception tells you clearly you can&#39;t have the value as NULL.Either you should put checks in your code and make sure you insert non-NULL values [proper values of PROJECT_ID] or remove the constraint on the database based on your application requirement","body":"The exception tells you clearly you can&#39;t have the value as NULL.Either you should put checks in your code and make sure you insert non-NULL values [proper values of PROJECT_ID] or remove the constraint on the database based on your application requirement"}],"answers":[{"tags":[],"owner":{"account_id":7318565,"reputation":1,"user_id":11382430,"display_name":"mursch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447835087,"creation_date":1447833196,"answer_id":33774439,"question_id":22528413,"body_markdown":"You have to set the value of the column `PROJECT_ID`.\r\n\r\nYou can either do this in your code, for example by using the annotations `@SequenceGenerator` or `@GenericGenerator`,\r\nor use db features (trigger) to set the id during insert.","title":"How to Solve SQL Integrity Constraint Violation Exception","body":"<p>You have to set the value of the column <code>PROJECT_ID</code>.</p>\n\n<p>You can either do this in your code, for example by using the annotations <code>@SequenceGenerator</code> or <code>@GenericGenerator</code>,\nor use db features (trigger) to set the id during insert.</p>\n"}],"owner":{"account_id":3779925,"reputation":732,"user_id":3435210,"accept_rate":83,"display_name":"mussdroid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22051,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694228951,"creation_date":1395307263,"question_id":22528413,"body_markdown":"I created an entity class that has the same properties as project.java, and created a class where I can persist the entity object. Also, I created a database using databases in Netbeans using embedded `JDBC`. I have the `persistence.xml`, which provides the properties to connect the db, and is used the persitence class on `entitymanagerfactory` object. The connection seems fine but I am having `Internal Exception: java.sql.SQLIntegrityConstraintViolationException: Column &#39;PROJECT_ID&#39;  cannot accept a NULL value.` error. \r\n\r\nIs it ok to create the db manually (executing the ddl) or should I create the table in the `persistence.xml` using `property name=&quot;javax.persistence.jdbc.url&quot;&quot; value=&quot;create-tables` ? \r\n\r\nRegards","title":"How to Solve SQL Integrity Constraint Violation Exception","body":"<p>I created an entity class that has the same properties as project.java, and created a class where I can persist the entity object. Also, I created a database using databases in Netbeans using embedded <code>JDBC</code>. I have the <code>persistence.xml</code>, which provides the properties to connect the db, and is used the persitence class on <code>entitymanagerfactory</code> object. The connection seems fine but I am having <code>Internal Exception: java.sql.SQLIntegrityConstraintViolationException: Column 'PROJECT_ID'  cannot accept a NULL value.</code> error. </p>\n\n<p>Is it ok to create the db manually (executing the ddl) or should I create the table in the <code>persistence.xml</code> using <code>property name=\"javax.persistence.jdbc.url\"\" value=\"create-tables</code> ? </p>\n\n<p>Regards</p>\n"},{"tags":["java","jpa","spring-data","hibernate-criteria","criteria-api"],"owner":{"account_id":1293839,"reputation":1183,"user_id":1245415,"accept_rate":78,"display_name":"Sixthpoint"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694226974,"creation_date":1694222648,"question_id":77070530,"body_markdown":"The following generated sources exist:\r\n\r\n    @Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\r\n    @StaticMetamodel(Profile.class)\r\n    public abstract class Profile_ {\r\n\r\n       public static volatile SingularAttribute&lt;Profile, String&gt; zip;\r\n\t   public static volatile SingularAttribute&lt;Profile, String&gt; lastName;\r\n\t   public static volatile SingularAttribute&lt;Profile, String&gt; address;\r\n\t   public static volatile SingularAttribute&lt;Profile, String&gt; address2;\r\n\t   public static volatile SingularAttribute&lt;Profile, String&gt; city;\r\n\t   public static volatile SetAttribute&lt;Profile, ProfilePayors&gt; payors;\r\n    }\r\n\r\n    @Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\r\n    @StaticMetamodel(ProfilePayors.class)\r\n    public abstract class ProfilePayors_ {\r\n\r\n      public static volatile SingularAttribute&lt;ProfilePayors, Boolean&gt; isDefault;\r\n      public static volatile SingularAttribute&lt;ProfilePayors, ProfilePayorsPK&gt; id;\r\n    }\r\n\r\n    @Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\r\n    @StaticMetamodel(ProfilePayorsPK.class)\r\n    public abstract class ProfilePayorsPK_ {\r\n\r\n\t   public static volatile SingularAttribute&lt;ProfilePayorsPK, Long&gt; profileId;\r\n\t   public static volatile SingularAttribute&lt;ProfilePayorsPK, Long&gt; payorId;\r\n    }\r\n\r\nI would like to utilize the generated sources to build a type-safe object then convert it to a dot notation string. \r\n\r\nExample 1: asking for the `Profile` -&gt; `Payors` -&gt; `IsDefault`\r\n\r\nOutput: `Profile.Payors.IsDefault`\r\n\r\nExample 2: asking for the `Profile` -&gt; `Payors` -&gt; `Id` (ignore) -&gt; `ProfileId`\r\n\r\nOutput: `Profile.Payors.ProfileId`\r\n\r\nI do not have access to the entity manager to create a criteria builder. How do you write a class which takes in a generated source and builds out a path returning a string in dot notation?\r\n\r\n**Example Usage:**\r\n\r\n`String x = from(Profile.class).get(Profile_.payors).get(ProfilePayors_.id).get(ProfilePayorsPK_.profileId).buildDotNotation()`","title":"Convert jpa generated sources to dot notation","body":"<p>The following generated sources exist:</p>\n<pre><code>@Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\n@StaticMetamodel(Profile.class)\npublic abstract class Profile_ {\n\n   public static volatile SingularAttribute&lt;Profile, String&gt; zip;\n   public static volatile SingularAttribute&lt;Profile, String&gt; lastName;\n   public static volatile SingularAttribute&lt;Profile, String&gt; address;\n   public static volatile SingularAttribute&lt;Profile, String&gt; address2;\n   public static volatile SingularAttribute&lt;Profile, String&gt; city;\n   public static volatile SetAttribute&lt;Profile, ProfilePayors&gt; payors;\n}\n\n@Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\n@StaticMetamodel(ProfilePayors.class)\npublic abstract class ProfilePayors_ {\n\n  public static volatile SingularAttribute&lt;ProfilePayors, Boolean&gt; isDefault;\n  public static volatile SingularAttribute&lt;ProfilePayors, ProfilePayorsPK&gt; id;\n}\n\n@Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\n@StaticMetamodel(ProfilePayorsPK.class)\npublic abstract class ProfilePayorsPK_ {\n\n   public static volatile SingularAttribute&lt;ProfilePayorsPK, Long&gt; profileId;\n   public static volatile SingularAttribute&lt;ProfilePayorsPK, Long&gt; payorId;\n}\n</code></pre>\n<p>I would like to utilize the generated sources to build a type-safe object then convert it to a dot notation string.</p>\n<p>Example 1: asking for the <code>Profile</code> -&gt; <code>Payors</code> -&gt; <code>IsDefault</code></p>\n<p>Output: <code>Profile.Payors.IsDefault</code></p>\n<p>Example 2: asking for the <code>Profile</code> -&gt; <code>Payors</code> -&gt; <code>Id</code> (ignore) -&gt; <code>ProfileId</code></p>\n<p>Output: <code>Profile.Payors.ProfileId</code></p>\n<p>I do not have access to the entity manager to create a criteria builder. How do you write a class which takes in a generated source and builds out a path returning a string in dot notation?</p>\n<p><strong>Example Usage:</strong></p>\n<p><code>String x = from(Profile.class).get(Profile_.payors).get(ProfilePayors_.id).get(ProfilePayorsPK_.profileId).buildDotNotation()</code></p>\n"},{"tags":["java","selenium-webdriver","allure"],"comments":[{"owner":{"account_id":4853449,"reputation":2312,"user_id":3915166,"display_name":"Dmitry Baev"},"score":1,"creation_date":1497372721,"post_id":44526043,"comment_id":76046492,"body_markdown":"not yet, but we are going to implement such feature soon https://github.com/allure-framework/allure2/issues/273","body":"not yet, but we are going to implement such feature soon <a href=\"https://github.com/allure-framework/allure2/issues/273\" rel=\"nofollow noreferrer\">github.com/allure-framework/allure2/issues/273</a>"},{"owner":{"account_id":10855940,"reputation":139,"user_id":7982301,"accept_rate":0,"display_name":"Krishna"},"score":0,"creation_date":1507841029,"post_id":44526043,"comment_id":80383505,"body_markdown":"@DmitryBaev: Any idea till when this will be completed?","body":"@DmitryBaev: Any idea till when this will be completed?"}],"answers":[{"tags":[],"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667626439,"creation_date":1667626439,"answer_id":74325372,"question_id":44526043,"body_markdown":"By Default, Allure reports are not a standalone / HTML Reports. the reports should be hosted in webserver. But if your using jenkins for Test Executions with Allure Plugin in Jenkins will take care of this with build wise executions and then u export that to PDF. ","title":"Save allure report in PDF and email","body":"<p>By Default, Allure reports are not a standalone / HTML Reports. the reports should be hosted in webserver. But if your using jenkins for Test Executions with Allure Plugin in Jenkins will take care of this with build wise executions and then u export that to PDF.</p>\n"}],"owner":{"account_id":10855940,"reputation":139,"user_id":7982301,"accept_rate":0,"display_name":"Krishna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16011,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1694221771,"creation_date":1497368564,"question_id":44526043,"body_markdown":"I have setup allure reporting system with testng using Maven. My boss wants reports in emailable format or PDF format. Is there any why to save allure report in pdf?","title":"Save allure report in PDF and email","body":"<p>I have setup allure reporting system with testng using Maven. My boss wants reports in emailable format or PDF format. Is there any why to save allure report in pdf?</p>\n"},{"tags":["java","amazon-dynamodb","amazon-kms","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":25345675,"reputation":33,"user_id":19589355,"display_name":"Glauber Dantas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694221704,"creation_date":1694221704,"answer_id":77070497,"question_id":77070465,"body_markdown":"It was a bug on AWS&#39;s lib, fixed on version `software.amazon.cryptography:aws-cryptographic-material-providers:1.0.1`. \r\n\r\nSee: https://github.com/aws/aws-cryptographic-material-providers-library-java/commit/479faf78a54ab9865a8ec0e056ca8f9bb93a7d77","title":"Invalid response from AWS KMS GeneratedDataKey: Invalid ciphertext (AWS Database Encryption SDK - DynamoDB)","body":"<p>It was a bug on AWS's lib, fixed on version <code>software.amazon.cryptography:aws-cryptographic-material-providers:1.0.1</code>.</p>\n<p>See: <a href=\"https://github.com/aws/aws-cryptographic-material-providers-library-java/commit/479faf78a54ab9865a8ec0e056ca8f9bb93a7d77\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-cryptographic-material-providers-library-java/commit/479faf78a54ab9865a8ec0e056ca8f9bb93a7d77</a></p>\n"}],"owner":{"account_id":25345675,"reputation":33,"user_id":19589355,"display_name":"Glauber Dantas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77070497,"answer_count":1,"score":0,"last_activity_date":1694221704,"creation_date":1694220670,"question_id":77070465,"body_markdown":"When using [AWS Database Encryption SDK](https://docs.aws.amazon.com/database-encryption-sdk/latest/devguide) I&#39;m facing the error `&quot;Invalid response from AWS KMS GeneratedDataKey: Invalid ciphertext&quot;`.\r\n\r\n**By debugging the AWS SDK v2 (Java), I found that the length of the CiphertextBlob returned by AWS API is 140, but AWS&#39;s SDK code expects it to be 184.**\r\n\r\nBelow is the snippet of AWS&#39;s Java code I mentioned (it seems to be an automatically generated version of [this Dafny source](https://github.com/aws/aws-cryptographic-material-providers-library-java/blob/86abacc7b8cc19c46d9351c92765b7f963740a77/AwsCryptographicMaterialProviders/dafny/AwsCryptographyKeyStore/src/KMSKeystoreOperations.dfy#L77C48-L77C48)):\r\n\r\n\r\n```lang-java\r\n// All on line 84 of KMSKeystoreOperations_Compile.__default.java\r\n\r\n_1185_valueOrError2 = Wrappers_Compile.__default\r\n    .&lt;software.amazon.cryptography.keystore.internaldafny.types.Error&gt;Need(\r\n        software.amazon.cryptography.keystore.internaldafny.types.Error._typeDescriptor(), \r\n        (\r\n            (\r\n                (   // _1181_generateResponse is software.amazon.cryptography.services.kms.internaldafny.types.GenerateDataKeyWithoutPlaintextResponse\r\n                    (_1181_generateResponse).dtor_CiphertextBlob()\r\n                ).is_Some()\r\n            ) &amp;&amp; (\r\n                java.util.Objects.equals(\r\n                    java.math.BigInteger.valueOf(\r\n                        (\r\n                            (\r\n                                (_1181_generateResponse).dtor_CiphertextBlob()\r\n                            ).dtor_value()\r\n                        ).length()  // Result is 140\r\n                    ), Structure_Compile.__default.KMS__GEN__KEY__NO__PLAINTEXT__LENGTH__32()   // Constant value is 184\r\n                )   // Result is FALSE\r\n            )\r\n        ) &amp;&amp; (\r\n            software.amazon.cryptography.services.kms.internaldafny.types.__default.IsValid__CiphertextType(\r\n                (\r\n                    (_1181_generateResponse).dtor_CiphertextBlob()\r\n                ).dtor_value()\r\n            )\r\n        ), \r\n        software.amazon.cryptography.keystore.internaldafny.types.Error.create_KeyStoreException(\r\n            dafny.DafnySequence.asString(&quot;Invalid response from AWS KMS GeneratedDataKey: Invalid ciphertext&quot;)\r\n        )\r\n    );\r\n```\r\n\r\n**The response from AWS API is HTTP Status 200**, no error from their service; it seems the error resides on local code, when comparing the result from the service with the expected key length.\r\n\r\nI&#39;m using an HierarchicalKeyring with Localstack (local-kms) as following: \r\n\r\n```lang-java\r\nKeyStore globalKeyStore = KeyStore.builder()\r\n        .KeyStoreConfig(\r\n                KeyStoreConfig.builder()\r\n                        .ddbClient(myDdbClient)\r\n                        .ddbTableName(&quot;my-table&quot;)\r\n                        .logicalKeyStoreName(&quot;my-table&quot;)\r\n                        .kmsClient(myKmsClient)\r\n                        .kmsConfiguration(\r\n                                KMSConfiguration.builder()\r\n                                        .kmsKeyArn(&quot;arn:aws:kms:sa-east-1:000000000000:key/00000000-0000-0000-0000-000000000001&quot;)\r\n                                        .build())\r\n                        .build())\r\n        .build();\r\nglobalKeyStore.CreateKeyStore(CreateKeyStoreInput.builder().build());\r\n\r\nString branchKey = globalKeyStore.CreateKey(CreateKeyInput.builder()\r\n        .branchKeyIdentifier()\r\n        .build()).branchKeyIdentifier();\r\n\r\n```\r\n\r\nLibraries are:\r\n\r\n```lang-closure\r\nimplementation platform(&quot;software.amazon.awssdk:bom:2.19.1&quot;)\r\nimplementation &quot;software.amazon.awssdk:dynamodb-enhanced&quot;\r\nimplementation &quot;software.amazon.cryptography:aws-database-encryption-sdk-dynamodb:3.0.0&quot;\r\nimplementation &quot;software.amazon.cryptography:aws-cryptographic-material-providers:1.0.0&quot;\r\nimplementation &quot;software.amazon.awssdk:kms&quot;\r\n```\r\n\r\nAny hints?\r\n\r\n\r\n\r\nTried debugging the AWS library&#39;s code, changing Localstack to use local-kms instead of moto and generating a KeyId by seeding it locally and also generating a new Key by using KmsClient with no success. Same error.","title":"Invalid response from AWS KMS GeneratedDataKey: Invalid ciphertext (AWS Database Encryption SDK - DynamoDB)","body":"<p>When using <a href=\"https://docs.aws.amazon.com/database-encryption-sdk/latest/devguide\" rel=\"nofollow noreferrer\">AWS Database Encryption SDK</a> I'm facing the error <code>&quot;Invalid response from AWS KMS GeneratedDataKey: Invalid ciphertext&quot;</code>.</p>\n<p><strong>By debugging the AWS SDK v2 (Java), I found that the length of the CiphertextBlob returned by AWS API is 140, but AWS's SDK code expects it to be 184.</strong></p>\n<p>Below is the snippet of AWS's Java code I mentioned (it seems to be an automatically generated version of <a href=\"https://github.com/aws/aws-cryptographic-material-providers-library-java/blob/86abacc7b8cc19c46d9351c92765b7f963740a77/AwsCryptographicMaterialProviders/dafny/AwsCryptographyKeyStore/src/KMSKeystoreOperations.dfy#L77C48-L77C48\" rel=\"nofollow noreferrer\">this Dafny source</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// All on line 84 of KMSKeystoreOperations_Compile.__default.java\n\n_1185_valueOrError2 = Wrappers_Compile.__default\n    .&lt;software.amazon.cryptography.keystore.internaldafny.types.Error&gt;Need(\n        software.amazon.cryptography.keystore.internaldafny.types.Error._typeDescriptor(), \n        (\n            (\n                (   // _1181_generateResponse is software.amazon.cryptography.services.kms.internaldafny.types.GenerateDataKeyWithoutPlaintextResponse\n                    (_1181_generateResponse).dtor_CiphertextBlob()\n                ).is_Some()\n            ) &amp;&amp; (\n                java.util.Objects.equals(\n                    java.math.BigInteger.valueOf(\n                        (\n                            (\n                                (_1181_generateResponse).dtor_CiphertextBlob()\n                            ).dtor_value()\n                        ).length()  // Result is 140\n                    ), Structure_Compile.__default.KMS__GEN__KEY__NO__PLAINTEXT__LENGTH__32()   // Constant value is 184\n                )   // Result is FALSE\n            )\n        ) &amp;&amp; (\n            software.amazon.cryptography.services.kms.internaldafny.types.__default.IsValid__CiphertextType(\n                (\n                    (_1181_generateResponse).dtor_CiphertextBlob()\n                ).dtor_value()\n            )\n        ), \n        software.amazon.cryptography.keystore.internaldafny.types.Error.create_KeyStoreException(\n            dafny.DafnySequence.asString(&quot;Invalid response from AWS KMS GeneratedDataKey: Invalid ciphertext&quot;)\n        )\n    );\n</code></pre>\n<p><strong>The response from AWS API is HTTP Status 200</strong>, no error from their service; it seems the error resides on local code, when comparing the result from the service with the expected key length.</p>\n<p>I'm using an HierarchicalKeyring with Localstack (local-kms) as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyStore globalKeyStore = KeyStore.builder()\n        .KeyStoreConfig(\n                KeyStoreConfig.builder()\n                        .ddbClient(myDdbClient)\n                        .ddbTableName(&quot;my-table&quot;)\n                        .logicalKeyStoreName(&quot;my-table&quot;)\n                        .kmsClient(myKmsClient)\n                        .kmsConfiguration(\n                                KMSConfiguration.builder()\n                                        .kmsKeyArn(&quot;arn:aws:kms:sa-east-1:000000000000:key/00000000-0000-0000-0000-000000000001&quot;)\n                                        .build())\n                        .build())\n        .build();\nglobalKeyStore.CreateKeyStore(CreateKeyStoreInput.builder().build());\n\nString branchKey = globalKeyStore.CreateKey(CreateKeyInput.builder()\n        .branchKeyIdentifier()\n        .build()).branchKeyIdentifier();\n\n</code></pre>\n<p>Libraries are:</p>\n<pre class=\"lang-closure prettyprint-override\"><code>implementation platform(&quot;software.amazon.awssdk:bom:2.19.1&quot;)\nimplementation &quot;software.amazon.awssdk:dynamodb-enhanced&quot;\nimplementation &quot;software.amazon.cryptography:aws-database-encryption-sdk-dynamodb:3.0.0&quot;\nimplementation &quot;software.amazon.cryptography:aws-cryptographic-material-providers:1.0.0&quot;\nimplementation &quot;software.amazon.awssdk:kms&quot;\n</code></pre>\n<p>Any hints?</p>\n<p>Tried debugging the AWS library's code, changing Localstack to use local-kms instead of moto and generating a KeyId by seeding it locally and also generating a new Key by using KmsClient with no success. Same error.</p>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694093331,"creation_date":1694093331,"answer_id":77060065,"question_id":77059888,"body_markdown":"The diffrent in consumer Delivery Acknowledgements about manual or automatic modes is that the consumer get the message will give a ack message to RabbitMQ ,RabbitMQ will delete the message from the Queue.\\\r\nIn fact ,your consumer to consume a message need some time, the consume time length is  due to your code runtime.\\\r\nAssuming your consumer send the ack to your Rabbitmq, your system will lost the message.\\\r\nBut if you are manual ack to the RabbitMQ,your RabbitMQ will know your consumer has encounter some problem,it will delivery the message to other consumer.\\\r\nOn the other hand, if your consumer failed to consume the message,you can simple send no ack to RabbitMQ to ensure your message will have a right consume.","title":"a problem about rabbitmq&#39;s Acknowledgement Modes","body":"<p>The diffrent in consumer Delivery Acknowledgements about manual or automatic modes is that the consumer get the message will give a ack message to RabbitMQ ,RabbitMQ will delete the message from the Queue.<br />\nIn fact ,your consumer to consume a message need some time, the consume time length is  due to your code runtime.<br />\nAssuming your consumer send the ack to your Rabbitmq, your system will lost the message.<br />\nBut if you are manual ack to the RabbitMQ,your RabbitMQ will know your consumer has encounter some problem,it will delivery the message to other consumer.<br />\nOn the other hand, if your consumer failed to consume the message,you can simple send no ack to RabbitMQ to ensure your message will have a right consume.</p>\n"},{"tags":[],"owner":{"account_id":996725,"reputation":2705,"user_id":1049595,"accept_rate":62,"display_name":"Govind Kailas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694218012,"creation_date":1694218012,"answer_id":77070383,"question_id":77059888,"body_markdown":"Consider the following scenario: A consumer is responsible for processing and inserting a message into a database. However, the consumer restarts soon after receiving the message and is unable to process and insert the data into the database. Meanwhile, the broker deletes the message as it has been consumed. This issue can be prevented by manually choosing to `ack` the message.\r\n\r\nYou can reduce inflight transaction failures to a reasonable extent with manual acknowledgement.  \r\n\r\nI have prepared this use case for a [demo sometime back][1], you may refer how `consumer1` is working.\r\n\r\n\r\n  [1]: https://github.com/govindkailas/rabbitmq-operator-demo/tree/main","title":"a problem about rabbitmq&#39;s Acknowledgement Modes","body":"<p>Consider the following scenario: A consumer is responsible for processing and inserting a message into a database. However, the consumer restarts soon after receiving the message and is unable to process and insert the data into the database. Meanwhile, the broker deletes the message as it has been consumed. This issue can be prevented by manually choosing to <code>ack</code> the message.</p>\n<p>You can reduce inflight transaction failures to a reasonable extent with manual acknowledgement.</p>\n<p>I have prepared this use case for a <a href=\"https://github.com/govindkailas/rabbitmq-operator-demo/tree/main\" rel=\"nofollow noreferrer\">demo sometime back</a>, you may refer how <code>consumer1</code> is working.</p>\n"}],"owner":{"account_id":29387126,"reputation":1,"user_id":22516343,"display_name":"Apachti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694221633,"creation_date":1694091954,"question_id":77059888,"body_markdown":"I know consumer Delivery Acknowledgements divided by manual or automatic modes. But in my opinion，the concept of Delivery Acknowledgements is the same in manual modes. Automatic modes is deleted immediately after message sent, where have a relationship with ack?\r\n\r\nI found the official docs [enter image description here](https://i.stack.imgur.com/yUWIk.png)\r\n\r\nI think the automatic modes is when consumer reveived a message, it doesn&#39;t handle following steps , it do ack to rabbitmq, let it deletes the message from queue.\r\n\r\n    \r\nI hope to get a detailed answer.","title":"a problem about rabbitmq&#39;s Acknowledgement Modes","body":"<p>I know consumer Delivery Acknowledgements divided by manual or automatic modes. But in my opinion，the concept of Delivery Acknowledgements is the same in manual modes. Automatic modes is deleted immediately after message sent, where have a relationship with ack?</p>\n<p>I found the official docs <a href=\"https://i.stack.imgur.com/yUWIk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I think the automatic modes is when consumer reveived a message, it doesn't handle following steps , it do ack to rabbitmq, let it deletes the message from queue.</p>\n<p>I hope to get a detailed answer.</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694221225,"creation_date":1694220780,"answer_id":77070468,"question_id":77069733,"body_markdown":"You&#39;re getting the Android Gradle Plugin (AGP) mixed up with Gradle.\r\n\r\nAGP is the `com.android.tools.build:gradle` dependency that you&#39;re adjusting. The most recent versions are 8.1, 8.2.0-beta3, and 8.3 is upcoming. You should not set it to 8.2.1; it&#39;s separate from the Gradle version.\r\n\r\nThe Gradle version is specified in `gradle/wrapper/gradle-wrapper.properties`. You should only change\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.2-bin.zip\r\n```\r\n\r\nto 8.2.1 to update the Gradle version. Don&#39;t download it directly; let the `distributionUrl` take care of it for you using `services.gradle.org`.\r\n\r\nI&#39;d also recommend you look into the latest build structure (whether in Groovy or Kotlin). You can see what that looks like by creating a new project in the latest version of Studio that you&#39;re using.","title":"Android Studio suggests upgrading Gradle to 8.2.1, but can&#39;t","body":"<p>You're getting the Android Gradle Plugin (AGP) mixed up with Gradle.</p>\n<p>AGP is the <code>com.android.tools.build:gradle</code> dependency that you're adjusting. The most recent versions are 8.1, 8.2.0-beta3, and 8.3 is upcoming. You should not set it to 8.2.1; it's separate from the Gradle version.</p>\n<p>The Gradle version is specified in <code>gradle/wrapper/gradle-wrapper.properties</code>. You should only change</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.2-bin.zip\n</code></pre>\n<p>to 8.2.1 to update the Gradle version. Don't download it directly; let the <code>distributionUrl</code> take care of it for you using <code>services.gradle.org</code>.</p>\n<p>I'd also recommend you look into the latest build structure (whether in Groovy or Kotlin). You can see what that looks like by creating a new project in the latest version of Studio that you're using.</p>\n"}],"owner":{"account_id":8440634,"reputation":189,"user_id":6333284,"accept_rate":60,"display_name":"Sean Zlatnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77070468,"answer_count":1,"score":0,"last_activity_date":1694221225,"creation_date":1694205213,"question_id":77069733,"body_markdown":"I&#39;m trying to upgrade Gradle to the most recent version.  I know 8.2.1 is possible- not only does Android Studio offer it as an option, but also the Gradle website even says that 8.2.1 is no longer the most current version (8.3 is).  However, when it goes and looks for 8.2.1 in the maven repositories, it can&#39;t find it.  I also downloaded 8.2.1, and put a link to it in the Gradle-wrapper.properties, and that doesn&#39;t help either.  It gives me this error when I attempt to sync Gradle:\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;StarterApp&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not find com.android.tools.build:gradle:8.2.1.\r\n     Searched in the following locations:\r\n       - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/8.2.1/gradle-8.2.1.pom\r\n\r\nI looked inside the google repository, and OF COURSE it doesn&#39;t have the most recent version of Gradle on its website.  SMH Any ideas on how to get Android Studio to find the correct information so it can finish upgrading to 8.2.1 (or heck, even 8.3 would be even better, though that hasn&#39;t been offered by Android Studio I know it exists) would be nice.\r\n\r\nHere are some of my files:\r\nbuild.gradle (Project):\r\n\r\n```        \r\nbuildscript {\r\n            ext.kotlin_version = &#39;1.8.20&#39;\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n       classpath &#39;com.android.tools.build:gradle:8.2.1&#39;\r\n    }\r\n  }\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n    }\r\n}\r\nbuildscript {\r\n    dependencies {\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n```\r\nbuild.gradle (Module):\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.starter&#39;\r\n    compileSdk 34\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.starter&quot;\r\n        minSdk 24\r\n        targetSdk 34\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n            debuggable true\r\n        }\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n    options.compilerArgs += &#39;-Xlint:deprecation&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n    implementation &#39;androidx.exifinterface:exifinterface:1.3.6&#39; // check for the latest version online\r\n    implementation &#39;androidx.activity:activity:1.7.2&#39;\r\n    implementation &#39;androidx.activity:activity-ktx:1.7.2&#39;\r\n    implementation &#39;androidx.fragment:fragment:1.6.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.6.2&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.7.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.7.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}&#39;\r\n```\r\ngradle.properties:\r\n\r\n```\r\n# Project-wide Gradle settings.\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\n# When configured, Gradle will run in incubating parallel mode.\r\n# This option should only be used with decoupled projects. More details, visit\r\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n# org.gradle.parallel=true\r\n# AndroidX package structure to make it clearer which packages are bundled with the\r\n# Android operating system, and which are packaged with your app&#39;s APK\r\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\r\nandroid.useAndroidX=true\r\n# Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n# resources declared in the library itself and none from the library&#39;s dependencies,\r\n# thereby reducing the size of the R class for that library\r\nandroid.nonTransitiveRClass=true\r\n```\r\n\r\ngradle-wrapper.properties:\r\n\r\n```\r\n#Tue Aug 08 17:09:22 PDT 2023\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=file:///C:/Gradle/gradle-8.2.1-bin.zip\r\n\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```","title":"Android Studio suggests upgrading Gradle to 8.2.1, but can&#39;t","body":"<p>I'm trying to upgrade Gradle to the most recent version.  I know 8.2.1 is possible- not only does Android Studio offer it as an option, but also the Gradle website even says that 8.2.1 is no longer the most current version (8.3 is).  However, when it goes and looks for 8.2.1 in the maven repositories, it can't find it.  I also downloaded 8.2.1, and put a link to it in the Gradle-wrapper.properties, and that doesn't help either.  It gives me this error when I attempt to sync Gradle:</p>\n<ul>\n<li>What went wrong:\nA problem occurred configuring root project 'StarterApp'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':classpath'.\nCould not find com.android.tools.build:gradle:8.2.1.\nSearched in the following locations:\n- <a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/8.2.1/gradle-8.2.1.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/8.2.1/gradle-8.2.1.pom</a></p>\n</blockquote>\n<p>I looked inside the google repository, and OF COURSE it doesn't have the most recent version of Gradle on its website.  SMH Any ideas on how to get Android Studio to find the correct information so it can finish upgrading to 8.2.1 (or heck, even 8.3 would be even better, though that hasn't been offered by Android Studio I know it exists) would be nice.</p>\n<p>Here are some of my files:\nbuild.gradle (Project):</p>\n<pre><code>buildscript {\n            ext.kotlin_version = '1.8.20'\n    repositories {\n        google()\n    }\n    dependencies {\n       classpath 'com.android.tools.build:gradle:8.2.1'\n    }\n  }\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\nbuildscript {\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n</code></pre>\n<p>build.gradle (Module):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.starter'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId &quot;com.example.starter&quot;\n        minSdk 24\n        targetSdk 34\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        debug {\n            debuggable true\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    options.compilerArgs += '-Xlint:deprecation'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n    implementation 'androidx.exifinterface:exifinterface:1.3.6' // check for the latest version online\n    implementation 'androidx.activity:activity:1.7.2'\n    implementation 'androidx.activity:activity-ktx:1.7.2'\n    implementation 'androidx.fragment:fragment:1.6.1'\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.6.2'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2'\n    implementation 'androidx.navigation:navigation-fragment:2.7.2'\n    implementation 'androidx.navigation:navigation-ui:2.7.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}'\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code># Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n# AndroidX package structure to make it clearer which packages are bundled with the\n# Android operating system, and which are packaged with your app's APK\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\nandroid.useAndroidX=true\n# Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library\nandroid.nonTransitiveRClass=true\n</code></pre>\n<p>gradle-wrapper.properties:</p>\n<pre><code>#Tue Aug 08 17:09:22 PDT 2023\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=file:///C:/Gradle/gradle-8.2.1-bin.zip\n\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automation","appium"],"comments":[{"owner":{"account_id":29398170,"reputation":1,"user_id":22525047,"display_name":"gregiagu"},"score":0,"creation_date":1694454558,"post_id":77070464,"comment_id":135890298,"body_markdown":"This post solve my issue: https://github.com/appium/java-client/issues/2004","body":"This post solve my issue: <a href=\"https://github.com/appium/java-client/issues/2004\" rel=\"nofollow noreferrer\">github.com/appium/java-client/issues/2004</a>"}],"owner":{"account_id":29398170,"reputation":1,"user_id":22525047,"display_name":"gregiagu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694257232,"answer_count":0,"score":0,"last_activity_date":1694220842,"creation_date":1694220639,"question_id":77070464,"body_markdown":"I am trying to create a `AppiumDriverLocalService` using a simple static method written on Java, as following:\r\n\r\n```java\r\npublic class Bootstrap {\r\n\r\n...\r\n\r\n    private static AppiumDriverLocalService getAppiumService(File nodeFile) {\r\n        return new AppiumServiceBuilder()\r\n                .usingDriverExecutable(nodeFile)\r\n                .usingAnyFreePort()\r\n                .withIPAddress(&quot;0.0.0.0&quot;)\r\n                .withTimeout(Duration.ofSeconds(120))\r\n                .withArgument(GeneralServerFlag.SESSION_OVERRIDE)\r\n                .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;debug&quot;)\r\n                .build() // Here throws a NullPointerExcepetion\r\n                ;\r\n    }\r\n\r\n   ...\r\n\r\n    @BeforeAll\r\n    public static void bootstrapApplication() {\r\n\r\n        AppiumDriverLocalService service = getAppiumService(nodeFile);\r\n    }\r\n}\r\n```\r\n\r\nWhen I call `getAppiumService(nodeFile)` it is throwing a NullPointerException:\r\n\r\n```bash\r\njava.lang.NullPointerException\r\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:226)\r\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:184)\r\n        at org.openqa.selenium.remote.service.DriverService$Builder.getLogOutput(DriverService.java:448)\r\n        at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\r\n        at br.com.alelo.qa.steps.Bootstrap.getAppiumService(Bootstrap.java:110)\r\n        at br.com.alelo.qa.steps.Bootstrap.bootstrapApplication(Bootstrap.java:43)\r\n```\r\n\r\nMy local infrastructure is:\r\n* macOS 13.2.1\r\n* node v18.17.1\r\n* npm 10.0.0\r\n* Appium Server 2.1.3\r\n* Appium java-client 8.5.1\r\n\r\nI do not know how to solve it.\r\n\r\nI have already tried uninstall and reinstall all dependencies.\r\n\r\nHelp me, please?\r\n","title":"Appium java-client Throwing NullPointerException when building an Appium Service","body":"<p>I am trying to create a <code>AppiumDriverLocalService</code> using a simple static method written on Java, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Bootstrap {\n\n...\n\n    private static AppiumDriverLocalService getAppiumService(File nodeFile) {\n        return new AppiumServiceBuilder()\n                .usingDriverExecutable(nodeFile)\n                .usingAnyFreePort()\n                .withIPAddress(&quot;0.0.0.0&quot;)\n                .withTimeout(Duration.ofSeconds(120))\n                .withArgument(GeneralServerFlag.SESSION_OVERRIDE)\n                .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;debug&quot;)\n                .build() // Here throws a NullPointerExcepetion\n                ;\n    }\n\n   ...\n\n    @BeforeAll\n    public static void bootstrapApplication() {\n\n        AppiumDriverLocalService service = getAppiumService(nodeFile);\n    }\n}\n</code></pre>\n<p>When I call <code>getAppiumService(nodeFile)</code> it is throwing a NullPointerException:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java.lang.NullPointerException\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:226)\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:184)\n        at org.openqa.selenium.remote.service.DriverService$Builder.getLogOutput(DriverService.java:448)\n        at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\n        at br.com.alelo.qa.steps.Bootstrap.getAppiumService(Bootstrap.java:110)\n        at br.com.alelo.qa.steps.Bootstrap.bootstrapApplication(Bootstrap.java:43)\n</code></pre>\n<p>My local infrastructure is:</p>\n<ul>\n<li>macOS 13.2.1</li>\n<li>node v18.17.1</li>\n<li>npm 10.0.0</li>\n<li>Appium Server 2.1.3</li>\n<li>Appium java-client 8.5.1</li>\n</ul>\n<p>I do not know how to solve it.</p>\n<p>I have already tried uninstall and reinstall all dependencies.</p>\n<p>Help me, please?</p>\n"},{"tags":["java","spring","spring-boot","aop","aspectj"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1694165537,"post_id":77065732,"comment_id":135858545,"body_markdown":"using a case insensitive String comparison, I imagine","body":"using a case insensitive String comparison, I imagine"},{"owner":{"account_id":29394054,"reputation":3,"user_id":22521786,"display_name":"Namami Shanker"},"score":0,"creation_date":1694170042,"post_id":77065732,"comment_id":135859374,"body_markdown":"@Jorn Yeah thats the probable answer. But I can&#39;t get any docs where it is explicitly mentioned. I just want to be sure.","body":"@Jorn Yeah thats the probable answer. But I can&#39;t get any docs where it is explicitly mentioned. I just want to be sure."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1694218279,"post_id":77065732,"comment_id":135867019,"body_markdown":"No, that was a guess, but not the answer.","body":"No, that was a guess, but not the answer."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694219825,"creation_date":1694219119,"answer_id":77070416,"question_id":77065732,"body_markdown":"Annotations in Spring AOP or AspectJ are matched by their types. The syntax is\r\n  * either `@annotation(my.package.MyAnnotation)`\r\n  * or `@annotation(myAnnotationParameter)` in combination with an advice parameter like `MyAnnotation myAnnotationParameter`, e.g.\r\n\r\n```java\r\n@Before(&quot;@annotation(auditable)&quot;)\r\npublic void audit(Auditable auditable) {\r\n  System.out.println(auditable.value());\r\n  // ...\r\n}\r\n```\r\n\r\nor, if you need the joinpoint,\r\n\r\n```java\r\n@Before(&quot;@annotation(auditable)&quot;)\r\npublic void audit(JoinPoint joinPoint, Auditable auditable) {\r\n  System.out.println(joinPoint + &quot; -&gt; &quot; + auditable.value());\r\n  // ...\r\n}\r\n```\r\n\r\nIf the annotation parameter is bound to an advice parameter like this, its name in the advice method signature and in the pointcut should exactly match, i.e. in a case-sensitive way.\r\n\r\nBut your example does not make any sense, and I doubt that you found it in any tutorial like that:\r\n\r\n```java\r\n@Before(&quot;@annotation(auditable)&quot;)\r\npublic void audit(Integer auditable) { // ⚡\r\n  AuditCode code = auditable;          // ⚡\r\n  // ...\r\n}\r\n```\r\n\r\nThis would not match, because `Integer` is not an annotation type. It would not even compile, because you cannot assign an `Integer` to whatever type `AuditCode` is meant to be - unless `AuditCode` happens to be an `Integer` subclass, which is impossible because `Integer` is a final class.\r\n\r\nNext time, please do not post untested pseudo code that you wrote directly on Stack Overflow, but code you actually compiled and ran on your local machine.","title":"How does AspectJ match @annotation advice expression with an annotation even when the expression in a different case (small case)?","body":"<p>Annotations in Spring AOP or AspectJ are matched by their types. The syntax is</p>\n<ul>\n<li>either <code>@annotation(my.package.MyAnnotation)</code></li>\n<li>or <code>@annotation(myAnnotationParameter)</code> in combination with an advice parameter like <code>MyAnnotation myAnnotationParameter</code>, e.g.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Before(&quot;@annotation(auditable)&quot;)\npublic void audit(Auditable auditable) {\n  System.out.println(auditable.value());\n  // ...\n}\n</code></pre>\n<p>or, if you need the joinpoint,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Before(&quot;@annotation(auditable)&quot;)\npublic void audit(JoinPoint joinPoint, Auditable auditable) {\n  System.out.println(joinPoint + &quot; -&gt; &quot; + auditable.value());\n  // ...\n}\n</code></pre>\n<p>If the annotation parameter is bound to an advice parameter like this, its name in the advice method signature and in the pointcut should exactly match, i.e. in a case-sensitive way.</p>\n<p>But your example does not make any sense, and I doubt that you found it in any tutorial like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Before(&quot;@annotation(auditable)&quot;)\npublic void audit(Integer auditable) { // ⚡\n  AuditCode code = auditable;          // ⚡\n  // ...\n}\n</code></pre>\n<p>This would not match, because <code>Integer</code> is not an annotation type. It would not even compile, because you cannot assign an <code>Integer</code> to whatever type <code>AuditCode</code> is meant to be - unless <code>AuditCode</code> happens to be an <code>Integer</code> subclass, which is impossible because <code>Integer</code> is a final class.</p>\n<p>Next time, please do not post untested pseudo code that you wrote directly on Stack Overflow, but code you actually compiled and ran on your local machine.</p>\n"}],"owner":{"account_id":29394054,"reputation":3,"user_id":22521786,"display_name":"Namami Shanker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77070416,"answer_count":1,"score":-1,"last_activity_date":1694219825,"creation_date":1694165486,"question_id":77065732,"body_markdown":"```java\r\n@Auditable(value=1)\r\npublic ResponseEntity upload(@RequestParam file){\r\n    // Code\r\n}\r\n```\r\n\r\n\r\nThis code is using an @Auditable annotation given below:\r\n\r\n\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface Auditable {\r\n\tInteger value() default 0;\r\n}\r\n```\r\n\r\nI have an aspect as follows\r\n\r\n```java\r\n@Before(&quot;@annotation(auditable)&quot;)\r\npublic void audit(Integer auditable) {\r\n  AuditCode code = auditable;\r\n  // ...\r\n}\r\n```\r\n\r\nIn the above example how is the `@Auditable` expression being matched to `@annotation(auditable)` expression even though the A letter in `@Auditable` is in uppercase whereas in `@annotation(auditable)` the letter a is in lowercase?\r\n\r\nI tried reading the documentation but it just presents the facts without explaining the boundaries of annotation expression matching and in what scenarios it can fail. I was expecting the annotation matching to be case sensitive but I think something deeper is going on like object creation of the `@Auditable` annotation and then that object is somehow being matched with the Aspect. ","title":"How does AspectJ match @annotation advice expression with an annotation even when the expression in a different case (small case)?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Auditable(value=1)\npublic ResponseEntity upload(@RequestParam file){\n    // Code\n}\n</code></pre>\n<p>This code is using an @Auditable annotation given below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface Auditable {\n    Integer value() default 0;\n}\n</code></pre>\n<p>I have an aspect as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Before(&quot;@annotation(auditable)&quot;)\npublic void audit(Integer auditable) {\n  AuditCode code = auditable;\n  // ...\n}\n</code></pre>\n<p>In the above example how is the <code>@Auditable</code> expression being matched to <code>@annotation(auditable)</code> expression even though the A letter in <code>@Auditable</code> is in uppercase whereas in <code>@annotation(auditable)</code> the letter a is in lowercase?</p>\n<p>I tried reading the documentation but it just presents the facts without explaining the boundaries of annotation expression matching and in what scenarios it can fail. I was expecting the annotation matching to be case sensitive but I think something deeper is going on like object creation of the <code>@Auditable</code> annotation and then that object is somehow being matched with the Aspect.</p>\n"},{"tags":["java","plot","heatmap","color-mapping"],"owner":{"account_id":29392570,"reputation":1,"user_id":22520565,"display_name":"Vektas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694219354,"creation_date":1694152609,"question_id":77064450,"body_markdown":"I&#39;m new to java and java coding, so far I was only able to create a sphere which can be rotated and zoomed but my actual body is not a sphere, it is actually a body with its own specific shape. Another problem is like how to implement this contour plotting with colour mapping onto this body&#39;s surface.\r\nIn my case I have a lot ports on the surface of my body which are pressure ports which yes obviously measures the pressure value at that particular port when the body is exposed to an external pressure and this pressure value should mapped with a colours on the surface of my body.\r\n\r\nAs I already explained, I started by creating small sphere&#39;s which represents the ports on the surface of my main sphere(represents my body)and successfully implemented a colour mappping on these small sphere&#39;s, so each small sphere will have a distinct colour based on my pressure values.\r\nBut the issue is I was not able to move further on my project as in order to implement colour mapping on the whole surface of the body, some other way had to be sorted out(cause the above approach is restricted to the small sphere&#39;s only).\r\nLater found out something called Grid based mapping which includes Interpolation and all which I&#39;m only still learning.\r\nThat&#39;s all I have tried till now, so is there any way to display a specific body and on its surface colour mapping has to be done based on pressure values at the ports located at certain positions on the surface of the body.\r\n\r\n\r\n```\r\npackage Phase_2.Step2.ColourOnSphereSurface;\r\n\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.beans.property.SimpleDoubleProperty;\r\nimport javafx.scene.*;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.input.ScrollEvent;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.PhongMaterial;\r\nimport javafx.scene.shape.MeshView;\r\nimport javafx.scene.shape.Sphere;\r\nimport javafx.scene.shape.TriangleMesh;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.scene.transform.Transform;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.Objects;\r\n\r\n\r\npublic class SphereSurfaceColors extends Application {\r\n\r\n\r\n    private static final float WIDTH = 1400;\r\n    private static final float HEIGHT = 800;\r\n    private double anchorX, anchorY;\r\n\r\n    private double anchorAngleX = 0;\r\n    private double anchorAngleY = 0;\r\n\r\n    private final DoubleProperty angleX = new SimpleDoubleProperty(0);\r\n    private final DoubleProperty angleY = new SimpleDoubleProperty(0);\r\n\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n\r\n\r\n        Sphere sp1= new Sphere(10);\r\n        PhongMaterial material = new PhongMaterial();\r\n        material.setDiffuseMap(new Image(Objects.requireNonNull(getClass().getResourceAsStream(&quot;/resources/silvertexture.png&quot;))));\r\n        sp1.setMaterial(material);\r\n\r\n        SmartGroup root = new SmartGroup();\r\n        root.getChildren().add(sp1);\r\n\r\n        Scene scene = new Scene(root, WIDTH, HEIGHT);\r\n        scene.setFill(Color.BLUE);\r\n        Camera cam1 = new PerspectiveCamera();\r\n        cam1.setNearClip(0.001);\r\n        root.translateXProperty().set(WIDTH / 2);\r\n        root.translateYProperty().set(HEIGHT / 2);\r\n        root.translateZProperty().set(-1450);\r\n        scene.setCamera(cam1);\r\n        initMouseControl(root, scene, primaryStage);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    private void initMouseControl(Group gp1, Scene sc1, Stage primaryStage) {\r\n        Rotate xRotate;\r\n        Rotate yRotate;\r\n        gp1.getTransforms().addAll(\r\n                xRotate = new Rotate(0, Rotate.X_AXIS),\r\n                yRotate = new Rotate(0, Rotate.Y_AXIS)\r\n        );\r\n        xRotate.angleProperty().bind(angleX);\r\n        yRotate.angleProperty().bind(angleY);\r\n        sc1.setOnMousePressed(event -&gt;\r\n        {\r\n            anchorX = event.getSceneX();\r\n            anchorY = event.getSceneY();\r\n            anchorAngleX = angleX.get();\r\n            anchorAngleY = angleY.get();\r\n\r\n        });\r\n        sc1.setOnMouseDragged(event -&gt;\r\n        {\r\n            angleX.set(anchorAngleX - (anchorY - event.getSceneY()));\r\n            angleY.set(anchorAngleY + anchorX - event.getSceneX());\r\n        });\r\n        primaryStage.addEventFilter(ScrollEvent.SCROLL, event -&gt; {\r\n            double delta = event.getDeltaY()*0.2;\r\n            gp1.translateZProperty().set(gp1.getTranslateZ() - delta);\r\n        });\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n\r\n    class SmartGroup extends Group {\r\n        Rotate r;\r\n\r\n        Transform t = new Rotate();\r\n\r\n        void rotateByX(int ang) {\r\n            r = new Rotate(ang, Rotate.X_AXIS);\r\n            t = t.createConcatenation(r);\r\n            this.getTransforms().clear();\r\n            this.getTransforms().addAll(t);\r\n        }\r\n\r\n        void rotateByY(int ang) {\r\n            r = new Rotate(ang, Rotate.Y_AXIS);\r\n            t = t.createConcatenation(r);\r\n            this.getTransforms().clear();\r\n            this.getTransforms().addAll(t);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n[This is what I&#39;m trying to achieve with my body.](https://i.stack.imgur.com/Nl2Km.png)\r\n\r\n\r\n\r\n\r\n\r\n```\r\n","title":"I want to create a contour plotting software with colour mapping(pressure map) using java and I&#39;m planning to implement this on an .exe file","body":"<p>I'm new to java and java coding, so far I was only able to create a sphere which can be rotated and zoomed but my actual body is not a sphere, it is actually a body with its own specific shape. Another problem is like how to implement this contour plotting with colour mapping onto this body's surface.\nIn my case I have a lot ports on the surface of my body which are pressure ports which yes obviously measures the pressure value at that particular port when the body is exposed to an external pressure and this pressure value should mapped with a colours on the surface of my body.</p>\n<p>As I already explained, I started by creating small sphere's which represents the ports on the surface of my main sphere(represents my body)and successfully implemented a colour mappping on these small sphere's, so each small sphere will have a distinct colour based on my pressure values.\nBut the issue is I was not able to move further on my project as in order to implement colour mapping on the whole surface of the body, some other way had to be sorted out(cause the above approach is restricted to the small sphere's only).\nLater found out something called Grid based mapping which includes Interpolation and all which I'm only still learning.\nThat's all I have tried till now, so is there any way to display a specific body and on its surface colour mapping has to be done based on pressure values at the ports located at certain positions on the surface of the body.</p>\n<pre><code>package Phase_2.Step2.ColourOnSphereSurface;\n\n\nimport javafx.application.Application;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\nimport javafx.scene.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.input.ScrollEvent;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.MeshView;\nimport javafx.scene.shape.Sphere;\nimport javafx.scene.shape.TriangleMesh;\nimport javafx.scene.transform.Rotate;\nimport javafx.scene.transform.Transform;\nimport javafx.stage.Stage;\n\nimport java.util.Objects;\n\n\npublic class SphereSurfaceColors extends Application {\n\n\n    private static final float WIDTH = 1400;\n    private static final float HEIGHT = 800;\n    private double anchorX, anchorY;\n\n    private double anchorAngleX = 0;\n    private double anchorAngleY = 0;\n\n    private final DoubleProperty angleX = new SimpleDoubleProperty(0);\n    private final DoubleProperty angleY = new SimpleDoubleProperty(0);\n\n\n    @Override\n    public void start(Stage primaryStage) {\n\n\n        Sphere sp1= new Sphere(10);\n        PhongMaterial material = new PhongMaterial();\n        material.setDiffuseMap(new Image(Objects.requireNonNull(getClass().getResourceAsStream(&quot;/resources/silvertexture.png&quot;))));\n        sp1.setMaterial(material);\n\n        SmartGroup root = new SmartGroup();\n        root.getChildren().add(sp1);\n\n        Scene scene = new Scene(root, WIDTH, HEIGHT);\n        scene.setFill(Color.BLUE);\n        Camera cam1 = new PerspectiveCamera();\n        cam1.setNearClip(0.001);\n        root.translateXProperty().set(WIDTH / 2);\n        root.translateYProperty().set(HEIGHT / 2);\n        root.translateZProperty().set(-1450);\n        scene.setCamera(cam1);\n        initMouseControl(root, scene, primaryStage);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n    }\n\n\n\n\n    private void initMouseControl(Group gp1, Scene sc1, Stage primaryStage) {\n        Rotate xRotate;\n        Rotate yRotate;\n        gp1.getTransforms().addAll(\n                xRotate = new Rotate(0, Rotate.X_AXIS),\n                yRotate = new Rotate(0, Rotate.Y_AXIS)\n        );\n        xRotate.angleProperty().bind(angleX);\n        yRotate.angleProperty().bind(angleY);\n        sc1.setOnMousePressed(event -&gt;\n        {\n            anchorX = event.getSceneX();\n            anchorY = event.getSceneY();\n            anchorAngleX = angleX.get();\n            anchorAngleY = angleY.get();\n\n        });\n        sc1.setOnMouseDragged(event -&gt;\n        {\n            angleX.set(anchorAngleX - (anchorY - event.getSceneY()));\n            angleY.set(anchorAngleY + anchorX - event.getSceneX());\n        });\n        primaryStage.addEventFilter(ScrollEvent.SCROLL, event -&gt; {\n            double delta = event.getDeltaY()*0.2;\n            gp1.translateZProperty().set(gp1.getTranslateZ() - delta);\n        });\n\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n\n    class SmartGroup extends Group {\n        Rotate r;\n\n        Transform t = new Rotate();\n\n        void rotateByX(int ang) {\n            r = new Rotate(ang, Rotate.X_AXIS);\n            t = t.createConcatenation(r);\n            this.getTransforms().clear();\n            this.getTransforms().addAll(t);\n        }\n\n        void rotateByY(int ang) {\n            r = new Rotate(ang, Rotate.Y_AXIS);\n            t = t.createConcatenation(r);\n            this.getTransforms().clear();\n            this.getTransforms().addAll(t);\n        }\n    }\n\n}\n\n\n[This is what I'm trying to achieve with my body.](https://i.stack.imgur.com/Nl2Km.png)\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","xml","xsd"],"comments":[{"owner":{"account_id":1671688,"reputation":3549,"user_id":1538036,"display_name":"davidfmatheson"},"score":0,"creation_date":1343393791,"post_id":11687174,"comment_id":15496984,"body_markdown":"Does it help if you add a `targetNamespace` to `AccountList.xsd`?","body":"Does it help if you add a <code>targetNamespace</code> to <code>AccountList.xsd</code>?"},{"owner":{"account_id":88031,"reputation":209,"user_id":243773,"display_name":"user243773"},"score":0,"creation_date":1343395450,"post_id":11687174,"comment_id":15497719,"body_markdown":"I tried that but I receive:ERROR: src-resolve.4.2: Error resolving component &#39;transaction&#39;. It was detected that &#39;transaction&#39; is in namespace &#39;accList&#39;, but components from this namespace are not referenceable from schema document &#39;file:/home/me/dev/projects/myorg/xsd/src/main/resources/gen_resp/AccountList.xsd&#39;. If this is the incorrect namespace, perhaps the prefix of &#39;transaction&#39; needs to be changed. If this is the correct namespace, then an appropriate &#39;import&#39; tag should be added to &#39;file:/home/me/dev/projects/myorg/xsd/src/main/resources/gen_resp/AccountList.xsd&#39;.","body":"I tried that but I receive:ERROR: src-resolve.4.2: Error resolving component &#39;transaction&#39;. It was detected that &#39;transaction&#39; is in namespace &#39;accList&#39;, but components from this namespace are not referenceable from schema document &#39;file:/home/me/dev/projects/myorg/xsd/src/main/resources/gen&zwnj;&#8203;_resp/AccountList.xs&zwnj;&#8203;d&#39;. If this is the incorrect namespace, perhaps the prefix of &#39;transaction&#39; needs to be changed. If this is the correct namespace, then an appropriate &#39;import&#39; tag should be added to &#39;file:/home/me/dev/projects/myorg/xsd/src/main/resources/gen&zwnj;&#8203;_resp/AccountList.xs&zwnj;&#8203;d&#39;."},{"owner":{"account_id":1671688,"reputation":3549,"user_id":1538036,"display_name":"davidfmatheson"},"score":0,"creation_date":1343396141,"post_id":11687174,"comment_id":15498048,"body_markdown":"Looks like you added `targetNamespace=&quot;...&quot;` and `xmlns:accList=&quot;...&quot;`.  Take out the `accList`, and maybe the `xmlns=&quot;http://www.myorg.com/xsd/gen_fin&quot;` from common.  Can you edit your original question to reflect what you are changing?","body":"Looks like you added <code>targetNamespace=&quot;...&quot;</code> and <code>xmlns:accList=&quot;...&quot;</code>.  Take out the <code>accList</code>, and maybe the <code>xmlns=&quot;http:&#47;&#47;www.myorg.com&#47;xsd&#47;gen_fin&quot;</code> from common.  Can you edit your original question to reflect what you are changing?"},{"owner":{"account_id":88031,"reputation":209,"user_id":243773,"display_name":"user243773"},"score":0,"creation_date":1343653237,"post_id":11687174,"comment_id":15551686,"body_markdown":"@davidfmatheson I have updated the original question showing the added &#39;tns&#39; and &#39;targetNamespace&#39; attributes. I did as you suggested but the output *looked* worse. :( Do you know of an online webservice that has an xsd:import I can consume and inspect the namespaces and the like? Many thanks","body":"@davidfmatheson I have updated the original question showing the added &#39;tns&#39; and &#39;targetNamespace&#39; attributes. I did as you suggested but the output <i>looked</i> worse. :( Do you know of an online webservice that has an xsd:import I can consume and inspect the namespaces and the like? Many thanks"},{"owner":{"account_id":1671688,"reputation":3549,"user_id":1538036,"display_name":"davidfmatheson"},"score":0,"creation_date":1343654456,"post_id":11687174,"comment_id":15552280,"body_markdown":"You are better off starting with things offline, just put the XMLs in a local project and try to validate.  I modified my answer below to specify everything involved.","body":"You are better off starting with things offline, just put the XMLs in a local project and try to validate.  I modified my answer below to specify everything involved."},{"owner":{"account_id":88031,"reputation":209,"user_id":243773,"display_name":"user243773"},"score":0,"creation_date":1343710590,"post_id":11687174,"comment_id":15570945,"body_markdown":"Had a thought this morning. The XML that is being generated does not have any aliases to the XSD in the root element. I have added that: &lt;fundamo xmlns=&quot;http://www.fundamo.com/xsd/fundamo&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.fundamo.com/xsd/fundamo /home/me/dev/projects/svn/myorg/xsd/src/main/resources/bg/generic_response/AccountList.xsd&quot;&gt;. Receiving another error now: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 343; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;code&#39;.","body":"Had a thought this morning. The XML that is being generated does not have any aliases to the XSD in the root element. I have added that: &lt;fundamo xmlns=&quot;<a href=\"http://www.fundamo.com/xsd/fundamo\" rel=\"nofollow noreferrer\">fundamo.com/xsd/fundamo</a>&quot; xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot; xsi:schemaLocation=&quot;<a href=\"http://www.fundamo.com/xsd/fundamo\" rel=\"nofollow noreferrer\">fundamo.com/xsd/fundamo</a> /home/me/dev/projects/svn/myorg/xsd/src/main/resources/bg/ge&zwnj;&#8203;neric_response/Accou&zwnj;&#8203;ntList.xsd&quot;&gt;. Receiving another error now: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 343; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;code&#39;."},{"owner":{"account_id":1671688,"reputation":3549,"user_id":1538036,"display_name":"davidfmatheson"},"score":0,"creation_date":1343823729,"post_id":11687174,"comment_id":15611663,"body_markdown":"You should post the full XML that you&#39;re trying to validate.  It looks like you&#39;re not prefixing &quot;code&quot; with a namespace.  Take a look at my XML below.  The element is `&lt;p:code&gt;` where `xmlns:p=&quot;http://www.myorg.com/xsd/gen_fin&quot;` (the namespace in common.xsd).","body":"You should post the full XML that you&#39;re trying to validate.  It looks like you&#39;re not prefixing &quot;code&quot; with a namespace.  Take a look at my XML below.  The element is <code>&lt;p:code&gt;</code> where <code>xmlns:p=&quot;http:&#47;&#47;www.myorg.com&#47;xsd&#47;gen_fin&quot;</code> (the namespace in common.xsd)."},{"owner":{"account_id":88031,"reputation":209,"user_id":243773,"display_name":"user243773"},"score":0,"creation_date":1345094846,"post_id":11687174,"comment_id":15974063,"body_markdown":"@davidfmatheson quite correct David. This turned out to be the final issue. I just need to find time to post all the changes I made.","body":"@davidfmatheson quite correct David. This turned out to be the final issue. I just need to find time to post all the changes I made."}],"answers":[{"tags":[],"owner":{"account_id":1671688,"reputation":3549,"user_id":1538036,"display_name":"davidfmatheson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343654150,"creation_date":1343398662,"answer_id":11689686,"question_id":11687174,"body_markdown":"It&#39;s usually a good idea to have a namespace and targetNamespace defined, although as Petru Gardea pointed out, not strictly necessary.  Here&#39;s a combination that absolutely works:\r\n\r\nAccountList.xsd\r\n\r\n\t&lt;xs:schema\r\n\t\tversion=&quot;1.0&quot;\r\n\t\telementFormDefault=&quot;qualified&quot;\r\n\t\tattributeFormDefault=&quot;unqualified&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\txmlns:tns=&quot;http://www.myorg.com/xsd/accList&quot;\r\n\t\ttargetNamespace=&quot;http://www.myorg.com/xsd/accList&quot;\r\n\t\txmlns:common=&quot;http://www.myorg.com/xsd/gen_fin&quot;&gt;\r\n\t\t\r\n\t\t&lt;xs:import namespace=&quot;http://www.myorg.com/xsd/gen_fin&quot; schemaLocation=&quot;common.xsd&quot; /&gt;\r\n\t\r\n\t\t&lt;xs:element name=&quot;fundamo&quot;&gt;\r\n\t\t\t&lt;xs:complexType&gt;\r\n\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t&lt;xs:element name=&quot;response&quot; type=&quot;common:response&quot;\r\n\t\t\t\t\t\tminOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; /&gt;\r\n\t\t\t\t\t&lt;xs:element name=&quot;transaction&quot; type=&quot;tns:transaction&quot;\r\n\t\t\t\t\t\tminOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; /&gt;\r\n\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t&lt;/xs:complexType&gt;\r\n\t\t&lt;/xs:element&gt;\r\n\t\r\n\t\t&lt;xs:complexType name=&quot;transaction&quot;&gt;\r\n\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;transactionRef&quot; type=&quot;xs:string&quot; /&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;dateTime&quot; type=&quot;xs:string&quot; /&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;userName&quot; type=&quot;xs:string&quot; /&gt;\r\n\t\t\t&lt;/xs:sequence&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:schema&gt;\r\n\r\ncommon.xsd\r\n\r\n\t&lt;xs:schema\r\n\t\tversion=&quot;1.0&quot;\r\n\t\telementFormDefault=&quot;qualified&quot;\r\n\t\tattributeFormDefault=&quot;unqualified&quot;\r\n\t\txmlns=&quot;http://www.myorg.com/xsd/gen_fin&quot;\r\n\t\txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\ttargetNamespace=&quot;http://www.myorg.com/xsd/gen_fin&quot;&gt;\r\n\t\t\r\n\t\t&lt;xs:complexType name=&quot;response&quot;&gt;\r\n\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;code&quot; type=&quot;xs:string&quot; /&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;description&quot; type=&quot;xs:string&quot; /&gt;\r\n\t\t\t&lt;/xs:sequence&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:schema&gt;\r\n\r\nNewFile.xml (based on that schema):\r\n\r\n\t&lt;tns:fundamo xmlns:p=&quot;http://www.myorg.com/xsd/gen_fin&quot;\r\n\t\txmlns:tns=&quot;http://www.myorg.com/xsd/accList&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://www.myorg.com/xsd/accList AccountList.xsd &quot;&gt;\r\n\t\t&lt;tns:response&gt;\r\n\t\t\t&lt;p:code&gt;p:code&lt;/p:code&gt;\r\n\t\t\t&lt;p:description&gt;p:description&lt;/p:description&gt;\r\n\t\t&lt;/tns:response&gt;\r\n\t&lt;/tns:fundamo&gt;\r\n\r\nValidateXml.java:\r\n\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\t\r\n\timport javax.xml.XMLConstants;\r\n\timport javax.xml.parsers.DocumentBuilder;\r\n\timport javax.xml.parsers.DocumentBuilderFactory;\r\n\timport javax.xml.parsers.ParserConfigurationException;\r\n\timport javax.xml.transform.dom.DOMSource;\r\n\timport javax.xml.validation.Schema;\r\n\timport javax.xml.validation.SchemaFactory;\r\n\timport javax.xml.validation.Validator;\r\n\t\r\n\timport org.w3c.dom.Document;\r\n\timport org.xml.sax.SAXException;\r\n\t\r\n\tpublic class ValidateXml {\r\n\t\r\n\t\t/**\r\n\t\t * @param args\r\n\t\t */\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n\t\t\ttry {\r\n\t\t\t\tDocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\r\n\t\t\t\tdocumentBuilderFactory.setNamespaceAware(true);\r\n\t\t\t\tDocumentBuilder parser = documentBuilderFactory.newDocumentBuilder();\r\n\t\t\t\tDocument document = parser.parse(new File(&quot;NewFile.xml&quot;));\r\n\t\t\t\t\r\n\t\t\t\tSchema schema = schemaFactory.newSchema(new File(&quot;AccountList.xsd&quot;));\r\n\t\t\t\tValidator validator = schema.newValidator();\r\n\t\t\t\t\r\n\t\t\t\tvalidator.validate(new DOMSource(document));\r\n\t\t\t} catch (SAXException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (ParserConfigurationException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nYou error related to &quot;cannot find the declaration of element&quot; is usually related to the XML document not being namespace-aware.  Verify that your path to both XSDs is correct, and go back to the block of code where you build an XML document that is namespace-aware.","title":"XML validation against xsd&#39;s in Java","body":"<p>It's usually a good idea to have a namespace and targetNamespace defined, although as Petru Gardea pointed out, not strictly necessary.  Here's a combination that absolutely works:</p>\n\n<p>AccountList.xsd</p>\n\n<pre><code>&lt;xs:schema\n    version=\"1.0\"\n    elementFormDefault=\"qualified\"\n    attributeFormDefault=\"unqualified\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n    xmlns:tns=\"http://www.myorg.com/xsd/accList\"\n    targetNamespace=\"http://www.myorg.com/xsd/accList\"\n    xmlns:common=\"http://www.myorg.com/xsd/gen_fin\"&gt;\n\n    &lt;xs:import namespace=\"http://www.myorg.com/xsd/gen_fin\" schemaLocation=\"common.xsd\" /&gt;\n\n    &lt;xs:element name=\"fundamo\"&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=\"response\" type=\"common:response\"\n                    minOccurs=\"1\" maxOccurs=\"1\" /&gt;\n                &lt;xs:element name=\"transaction\" type=\"tns:transaction\"\n                    minOccurs=\"0\" maxOccurs=\"1\" /&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n    &lt;xs:complexType name=\"transaction\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"transactionRef\" type=\"xs:string\" /&gt;\n            &lt;xs:element name=\"dateTime\" type=\"xs:string\" /&gt;\n            &lt;xs:element name=\"userName\" type=\"xs:string\" /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>common.xsd</p>\n\n<pre><code>&lt;xs:schema\n    version=\"1.0\"\n    elementFormDefault=\"qualified\"\n    attributeFormDefault=\"unqualified\"\n    xmlns=\"http://www.myorg.com/xsd/gen_fin\"\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n    targetNamespace=\"http://www.myorg.com/xsd/gen_fin\"&gt;\n\n    &lt;xs:complexType name=\"response\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"code\" type=\"xs:string\" /&gt;\n            &lt;xs:element name=\"description\" type=\"xs:string\" /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>NewFile.xml (based on that schema):</p>\n\n<pre><code>&lt;tns:fundamo xmlns:p=\"http://www.myorg.com/xsd/gen_fin\"\n    xmlns:tns=\"http://www.myorg.com/xsd/accList\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.myorg.com/xsd/accList AccountList.xsd \"&gt;\n    &lt;tns:response&gt;\n        &lt;p:code&gt;p:code&lt;/p:code&gt;\n        &lt;p:description&gt;p:description&lt;/p:description&gt;\n    &lt;/tns:response&gt;\n&lt;/tns:fundamo&gt;\n</code></pre>\n\n<p>ValidateXml.java:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport javax.xml.validation.Validator;\n\nimport org.w3c.dom.Document;\nimport org.xml.sax.SAXException;\n\npublic class ValidateXml {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n        try {\n            DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n            documentBuilderFactory.setNamespaceAware(true);\n            DocumentBuilder parser = documentBuilderFactory.newDocumentBuilder();\n            Document document = parser.parse(new File(\"NewFile.xml\"));\n\n            Schema schema = schemaFactory.newSchema(new File(\"AccountList.xsd\"));\n            Validator validator = schema.newValidator();\n\n            validator.validate(new DOMSource(document));\n        } catch (SAXException e) {\n            e.printStackTrace();\n        } catch (ParserConfigurationException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>You error related to \"cannot find the declaration of element\" is usually related to the XML document not being namespace-aware.  Verify that your path to both XSDs is correct, and go back to the block of code where you build an XML document that is namespace-aware.</p>\n"}],"owner":{"account_id":88031,"reputation":209,"user_id":243773,"display_name":"user243773"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11624,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1694218161,"creation_date":1343389745,"question_id":11687174,"body_markdown":"Issue:\r\nWe have several services that generate a fair amount of XML via XSLT. We don&#39;t have any XSD&#39;s. I have taken the time to create the XSD&#39;s and want to confirm they are correct. Currently I am attempting to verify that the XSD and the XML are validate correctly.\r\n\r\nProblem:\r\nI have an xsd(common.xsd) that is imported into all the xsd&#39;s. It is not publicly hosted yet, so only recently I found putting the full path of the common.xsd in the AccountList.xsd I was able to get further. I am now receiving the following:\r\n\r\n\r\n&gt;org.xml.sax.SAXParseException; lineNumber: 9; columnNumber: 70; s4s-att-invalid-value: Invalid attribute value for &#39;type&#39; in element &#39;element&#39;. Recorded reason: UndeclaredPrefix: Cannot resolve &#39;common:response&#39; as a QName: the prefix &#39;common&#39; is not declared.\r\n\r\nI am at a loss. I cannot find an example that has been asked in forums or a source code snippet that gets a success. I&#39;d appreciate any assistance in getting this to successfully validate my xml.\r\n\r\n\r\n\r\ncommon.xsd\r\n\r\n    &lt;xs:schema  version=&quot;1.0&quot; elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;\r\n            xmlns=&quot;http://www.myorg.com/xsd/gen_fin&quot;\r\n            xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n            targetNamespace=&quot;http://www.myorg.com/xsd/gen_fin&quot;&gt;\r\n        &lt;xs:complexType name=&quot;response&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;code&quot; type=&quot;xs:string&quot;/&gt;\r\n                &lt;xs:element name=&quot;description&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\n\r\nAccountList.xsd\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n\r\n    &lt;xs:schema  version=&quot;1.0&quot; elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;\r\n                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n                xmlns:tns=&quot;http://www.myorg.com/xsd/accList&quot;\r\n                targetNamespace=&quot;http://www.myorg.com/xsd/accList&quot;\r\n                xmlns:common=&quot;http://www.myorg.com/xsd/gen_fin&quot;&gt;\r\n        &lt;xs:import namespace=&quot;http://www.myorg.com/xsd/gen_fin&quot; \r\n                   schemaLocation=&quot;/home/me/dev/projects/svn/myorg/xsd/src/main/resources/bg/gen_resp/common.xsd&quot;/&gt;\r\n\r\n        &lt;xs:element name=&quot;fundamo&quot;&gt;\r\n            &lt;xs:complexType&gt;\r\n                &lt;xs:sequence&gt;\r\n                    &lt;xs:element name=&quot;response&quot; type=&quot;common:response&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n                    &lt;xs:element name=&quot;transaction&quot; type=&quot;tns:transaction&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n                &lt;/xs:sequence&gt;\r\n            &lt;/xs:complexType&gt;\r\n        &lt;/xs:element&gt;\r\n\r\n        &lt;xs:complexType name=&quot;transaction&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;transactionRef&quot; type=&quot;xs:string&quot;/&gt;\r\n                &lt;xs:element name=&quot;dateTime&quot; type=&quot;xs:string&quot;/&gt;\r\n                &lt;xs:element name=&quot;userName&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\nTest.java\r\n \r\n    final InputStream commonXsdStream = getXsd(BG_GEN_RESP_XSD_PATH, COMMON);\r\n    \r\n    ClassPathResource fullXsdListing = new ClassPathResource(BG_GEN_RESP_XSD_PATH);\r\n    \r\n    File[] allXsds = fullXsdListing.getFile().listFiles();\r\n    \r\n    for (File currentXsd : allXsds) {\r\n        final int filenameLength = currentXsd.getName().length();\r\n        final String filenameSanExt = currentXsd.getName().substring(0, filenameLength - 4);\r\n                \r\n        if (!IGNORE.contains(filenameSanExt)) {\r\n            final InputStream xsltStream = getXslt(BG_GEN_RESP_XSLT_PATH, filenameSanExt);\r\n            final InputStream xsdStream = getXsd(BG_GEN_RESP_XSD_PATH, filenameSanExt);\r\n            \r\n            TransformerFactory xmlTransformer = TransformerFactory.newInstance();\r\n            Templates xsltTemplate = xmlTransformer.newTemplates(new StreamSource(xsltStream));\r\n            final XSLToXMLConvertor converter = new XSLToXMLConvertor();\r\n            String generatedXml = converter.getXML(inputData, xsltTemplate);\r\n            \r\n            LOG.info(generatedXml);\r\n            \r\n            SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n            Schema schema = schemaFactory.newSchema(lnew StreamSource(xsdStream));\r\n                    \r\n            Validator validator = schema.newValidator();\r\n            validator.validate(new StreamSource(new StringReader(generatedXml)));\r\n            \r\n            /*\r\n            DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n            docBuilderFactory.setNamespaceAware(true);\r\n            docBuilderFactory.setValidating(true);\r\n            \r\n            DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\r\n            docBuilder.parse(new InputSource(new ByteArrayInputStream(generatedXml.getBytes(&quot;utf-8&quot;))));\r\n            */\r\n            }\r\n        }\r\n    }\r\n","title":"XML validation against xsd&#39;s in Java","body":"<p>Issue:\nWe have several services that generate a fair amount of XML via XSLT. We don't have any XSD's. I have taken the time to create the XSD's and want to confirm they are correct. Currently I am attempting to verify that the XSD and the XML are validate correctly.</p>\n\n<p>Problem:\nI have an xsd(common.xsd) that is imported into all the xsd's. It is not publicly hosted yet, so only recently I found putting the full path of the common.xsd in the AccountList.xsd I was able to get further. I am now receiving the following:</p>\n\n<blockquote>\n  <p>org.xml.sax.SAXParseException; lineNumber: 9; columnNumber: 70; s4s-att-invalid-value: Invalid attribute value for 'type' in element 'element'. Recorded reason: UndeclaredPrefix: Cannot resolve 'common:response' as a QName: the prefix 'common' is not declared.</p>\n</blockquote>\n\n<p>I am at a loss. I cannot find an example that has been asked in forums or a source code snippet that gets a success. I'd appreciate any assistance in getting this to successfully validate my xml.</p>\n\n<p>common.xsd</p>\n\n<pre><code>&lt;xs:schema  version=\"1.0\" elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\"\n        xmlns=\"http://www.myorg.com/xsd/gen_fin\"\n        xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" \n        targetNamespace=\"http://www.myorg.com/xsd/gen_fin\"&gt;\n    &lt;xs:complexType name=\"response\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"code\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"description\" type=\"xs:string\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>AccountList.xsd</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n\n&lt;xs:schema  version=\"1.0\" elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\"\n            xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n            xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n            xmlns:tns=\"http://www.myorg.com/xsd/accList\"\n            targetNamespace=\"http://www.myorg.com/xsd/accList\"\n            xmlns:common=\"http://www.myorg.com/xsd/gen_fin\"&gt;\n    &lt;xs:import namespace=\"http://www.myorg.com/xsd/gen_fin\" \n               schemaLocation=\"/home/me/dev/projects/svn/myorg/xsd/src/main/resources/bg/gen_resp/common.xsd\"/&gt;\n\n    &lt;xs:element name=\"fundamo\"&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=\"response\" type=\"common:response\" minOccurs=\"1\" maxOccurs=\"1\"/&gt;\n                &lt;xs:element name=\"transaction\" type=\"tns:transaction\" minOccurs=\"0\" maxOccurs=\"1\"/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n    &lt;xs:complexType name=\"transaction\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"transactionRef\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"dateTime\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"userName\" type=\"xs:string\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>Test.java</p>\n\n<pre><code>final InputStream commonXsdStream = getXsd(BG_GEN_RESP_XSD_PATH, COMMON);\n\nClassPathResource fullXsdListing = new ClassPathResource(BG_GEN_RESP_XSD_PATH);\n\nFile[] allXsds = fullXsdListing.getFile().listFiles();\n\nfor (File currentXsd : allXsds) {\n    final int filenameLength = currentXsd.getName().length();\n    final String filenameSanExt = currentXsd.getName().substring(0, filenameLength - 4);\n\n    if (!IGNORE.contains(filenameSanExt)) {\n        final InputStream xsltStream = getXslt(BG_GEN_RESP_XSLT_PATH, filenameSanExt);\n        final InputStream xsdStream = getXsd(BG_GEN_RESP_XSD_PATH, filenameSanExt);\n\n        TransformerFactory xmlTransformer = TransformerFactory.newInstance();\n        Templates xsltTemplate = xmlTransformer.newTemplates(new StreamSource(xsltStream));\n        final XSLToXMLConvertor converter = new XSLToXMLConvertor();\n        String generatedXml = converter.getXML(inputData, xsltTemplate);\n\n        LOG.info(generatedXml);\n\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n        Schema schema = schemaFactory.newSchema(lnew StreamSource(xsdStream));\n\n        Validator validator = schema.newValidator();\n        validator.validate(new StreamSource(new StringReader(generatedXml)));\n\n        /*\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n        docBuilderFactory.setNamespaceAware(true);\n        docBuilderFactory.setValidating(true);\n\n        DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\n        docBuilder.parse(new InputSource(new ByteArrayInputStream(generatedXml.getBytes(\"utf-8\"))));\n        */\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":2,"creation_date":1689203870,"post_id":76674967,"comment_id":135181854,"body_markdown":"Modifications are guarded by the semaphore, doesn&#39;t it make the access restricted?","body":"Modifications are guarded by the semaphore, doesn&#39;t it make the access restricted?"},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":1,"creation_date":1689203975,"post_id":76674967,"comment_id":135181867,"body_markdown":"Modifications are not guarded by a semaphore. That is the whole point of my question","body":"Modifications are not guarded by a semaphore. That is the whole point of my question"},{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1689204177,"post_id":76674967,"comment_id":135181893,"body_markdown":"What do you mean? When a thread wants to modify the queue, it need to use one of the public methods. Inside the public method it needs to acquire the semaphore first. If the semaphore is already acquired, it needs to wait for it to be released.","body":"What do you mean? When a thread wants to modify the queue, it need to use one of the public methods. Inside the public method it needs to acquire the semaphore first. If the semaphore is already acquired, it needs to wait for it to be released."},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":1,"creation_date":1689204249,"post_id":76674967,"comment_id":135181902,"body_markdown":"I am not going to each you the basic of that here, just google a producer consumer problem and the way it is described in Peter Galvin&#39;s book or any other standard thread tutorial","body":"I am not going to each you the basic of that here, just google a producer consumer problem and the way it is described in Peter Galvin&#39;s book or any other standard thread tutorial"},{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1689206450,"post_id":76674967,"comment_id":135182094,"body_markdown":"Ok, I&#39;ve read the requirements and the code more carefully this time ;) You&#39;re just right, it&#39;s not a correct solution","body":"Ok, I&#39;ve read the requirements and the code more carefully this time ;) You&#39;re just right, it&#39;s not a correct solution"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689209651,"post_id":76674967,"comment_id":135182338,"body_markdown":"What makes you think that this solution is in fact correct? That is, why are you asking this question?","body":"What makes you think that this solution is in fact correct? That is, why are you asking this question?"},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1689213716,"post_id":76674967,"comment_id":135182677,"body_markdown":"nice @TomekK. tgdavies, I am trying to validate my understanding to know for sure. I think the sol is not correct but I am trying to ascertain that by asking the Q","body":"nice @TomekK. tgdavies, I am trying to validate my understanding to know for sure. I think the sol is not correct but I am trying to ascertain that by asking the Q"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689219641,"post_id":76674967,"comment_id":135183152,"body_markdown":"If you think it doesn&#39;t work, add some sleeps to force the conditions under which you expect it to fail.","body":"If you think it doesn&#39;t work, add some sleeps to force the conditions under which you expect it to fail."},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1689277239,"post_id":76674967,"comment_id":135194753,"body_markdown":"@trashgod, trying to understand what you are implying by\n-&gt;Note the comment, missing in the second link, &quot;use key word synchronized to control queue access from different threads.&quot;","body":"@trashgod, trying to understand what you are implying by -&gt;Note the comment, missing in the second link, &quot;use key word synchronized to control queue access from different threads.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694215432,"creation_date":1693433514,"answer_id":77011811,"question_id":76674967,"body_markdown":"You are correct to be skeptical. Synchronizing access to data shared among different threads is easy to get wrong, and testing may be inconsistent. Happily, [`java.util.concurrent`][1] recapitulates the [_Memory Consistency Properties_][2], which may be used to reason about the proposed solution. In general:\r\n\r\n&gt; Each action in a thread _happens-before_ every action in that thread that comes later in the program&#39;s order.\r\n\r\nMoreover, each [`Semaphore`][3] has a particular memory consistency effect:\r\n\r\n&gt; Actions in a thread prior to calling a &quot;release&quot; method such as `release()` _happen-before_ actions following a successful &quot;acquire&quot; method such as `acquire()` in another thread.\r\n\r\nFinally, the intended [usage][4] must be considered:\r\n\r\n&gt;[It] will be tested using multiple threads at the same time. Each thread will either be a producer thread that only makes calls to the `enqueue` method or a consumer thread that only makes calls to the `dequeue` method.\r\n\r\n**Example 1.** One consumer thread; one producer thread. Because each mutation of `q` _happens-before_ a semaphore is released and subsequently acquired on the opposite thread, each thread sees a consistent view of the `ArrayDeque`. The two semaphores act in concert to preclude deadlock, as when a producer blocks waiting for a permit and a consumer has yet to release one.\r\n\r\n**Example 2.** Four consumer threads; three producer threads. In this case the actions remain correctly ordered, but the competing threads deadlock fairly promptly in what appears to be _pool-induced deadlock_, mentioned [here][5]. One remediation is suggested in a subsequent comment in the [example][4], which notifies waiting producers that a permit has become available or idle consumers that an element has become available.\r\n\r\n&gt;Use key word `synchronized` to control queue access from different threads.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html#MemoryVisibility\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html\r\n  [4]: https://leetcode.ca/2019-03-02-1188-Design-Bounded-Blocking-Queue/\r\n  [5]: https://stackoverflow.com/a/23480863/230513","title":"Bounded Blocking queue in Java(programming exercise)","body":"<p>You are correct to be skeptical. Synchronizing access to data shared among different threads is easy to get wrong, and testing may be inconsistent. Happily, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent</code></a> recapitulates the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html#MemoryVisibility\" rel=\"nofollow noreferrer\"><em>Memory Consistency Properties</em></a>, which may be used to reason about the proposed solution. In general:</p>\n<blockquote>\n<p>Each action in a thread <em>happens-before</em> every action in that thread that comes later in the program's order.</p>\n</blockquote>\n<p>Moreover, each <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\"><code>Semaphore</code></a> has a particular memory consistency effect:</p>\n<blockquote>\n<p>Actions in a thread prior to calling a &quot;release&quot; method such as <code>release()</code> <em>happen-before</em> actions following a successful &quot;acquire&quot; method such as <code>acquire()</code> in another thread.</p>\n</blockquote>\n<p>Finally, the intended <a href=\"https://leetcode.ca/2019-03-02-1188-Design-Bounded-Blocking-Queue/\" rel=\"nofollow noreferrer\">usage</a> must be considered:</p>\n<blockquote>\n<p>[It] will be tested using multiple threads at the same time. Each thread will either be a producer thread that only makes calls to the <code>enqueue</code> method or a consumer thread that only makes calls to the <code>dequeue</code> method.</p>\n</blockquote>\n<p><strong>Example 1.</strong> One consumer thread; one producer thread. Because each mutation of <code>q</code> <em>happens-before</em> a semaphore is released and subsequently acquired on the opposite thread, each thread sees a consistent view of the <code>ArrayDeque</code>. The two semaphores act in concert to preclude deadlock, as when a producer blocks waiting for a permit and a consumer has yet to release one.</p>\n<p><strong>Example 2.</strong> Four consumer threads; three producer threads. In this case the actions remain correctly ordered, but the competing threads deadlock fairly promptly in what appears to be <em>pool-induced deadlock</em>, mentioned <a href=\"https://stackoverflow.com/a/23480863/230513\">here</a>. One remediation is suggested in a subsequent comment in the <a href=\"https://leetcode.ca/2019-03-02-1188-Design-Bounded-Blocking-Queue/\" rel=\"nofollow noreferrer\">example</a>, which notifies waiting producers that a permit has become available or idle consumers that an element has become available.</p>\n<blockquote>\n<p>Use key word <code>synchronized</code> to control queue access from different threads.</p>\n</blockquote>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694215432,"creation_date":1689203517,"question_id":76674967,"body_markdown":"This problem is LeetCode 1188 and stated [here][1]. I am able to implement it using Java&#39;s\r\n`synchronized` keyword. Pasting the problem here before asking my question.\r\n\r\n**Implement a thread safe bounded blocking queue that has the following methods:**\r\n\r\n- BoundedBlockingQueue(int capacity) The constructor initializes the queue with a maximum capacity.\r\n- void enqueue(int element) Adds an element to the front of the queue. If the queue is full, the calling thread is blocked until the queue is no longer full.\r\n- int dequeue() Returns the element at the rear of the queue and removes it. If the queue is empty, the calling thread is blocked until the queue is no longer empty.\r\n- int size() Returns the number of elements currently in the queue.\r\n\r\nI saw a solution [here][2]. Pasting the solution has well(from the link).\r\n```\r\nclass BoundedBlockingQueue {\r\n  public BoundedBlockingQueue(int capacity) {\r\n    this.enqueueSemaphore = new Semaphore(capacity);\r\n  }\r\n\r\n  public void enqueue(int element) throws InterruptedException {\r\n    enqueueSemaphore.acquire();\r\n    q.offer(element);\r\n    dequeueSemaphore.release();\r\n  }\r\n\r\n  public int dequeue() throws InterruptedException {\r\n    dequeueSemaphore.acquire();\r\n    final int element = q.poll();\r\n    enqueueSemaphore.release();\r\n    return element;\r\n  }\r\n\r\n  public int size() {\r\n    return q.size();\r\n  }\r\n\r\n  private Queue&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();\r\n  private Semaphore enqueueSemaphore;\r\n  private Semaphore dequeueSemaphore = new Semaphore(0);\r\n}\r\n```\r\n\r\nWhy is this implementation correct is what is bothering me? I understand why and how the semaphores are being used. What I don&#39;t understand is that the access to the `private Queue&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();` is not restricted when one thread is modifying it. I mean to say if one thread is mutating the queue, another can too. How is this correct? Should not the queue be guarded by a `mutex` as well apart from the use of semaphores? As per Java, the queue implementation being used is not thread safe.\r\n\r\n\r\n\r\n  [1]: https://leetcode.ca/2019-03-02-1188-Design-Bounded-Blocking-Queue/\r\n  [2]: https://walkccc.me/LeetCode/problems/1188/","title":"Bounded Blocking queue in Java(programming exercise)","body":"<p>This problem is LeetCode 1188 and stated <a href=\"https://leetcode.ca/2019-03-02-1188-Design-Bounded-Blocking-Queue/\" rel=\"nofollow noreferrer\">here</a>. I am able to implement it using Java's\n<code>synchronized</code> keyword. Pasting the problem here before asking my question.</p>\n<p><strong>Implement a thread safe bounded blocking queue that has the following methods:</strong></p>\n<ul>\n<li>BoundedBlockingQueue(int capacity) The constructor initializes the queue with a maximum capacity.</li>\n<li>void enqueue(int element) Adds an element to the front of the queue. If the queue is full, the calling thread is blocked until the queue is no longer full.</li>\n<li>int dequeue() Returns the element at the rear of the queue and removes it. If the queue is empty, the calling thread is blocked until the queue is no longer empty.</li>\n<li>int size() Returns the number of elements currently in the queue.</li>\n</ul>\n<p>I saw a solution <a href=\"https://walkccc.me/LeetCode/problems/1188/\" rel=\"nofollow noreferrer\">here</a>. Pasting the solution has well(from the link).</p>\n<pre><code>class BoundedBlockingQueue {\n  public BoundedBlockingQueue(int capacity) {\n    this.enqueueSemaphore = new Semaphore(capacity);\n  }\n\n  public void enqueue(int element) throws InterruptedException {\n    enqueueSemaphore.acquire();\n    q.offer(element);\n    dequeueSemaphore.release();\n  }\n\n  public int dequeue() throws InterruptedException {\n    dequeueSemaphore.acquire();\n    final int element = q.poll();\n    enqueueSemaphore.release();\n    return element;\n  }\n\n  public int size() {\n    return q.size();\n  }\n\n  private Queue&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();\n  private Semaphore enqueueSemaphore;\n  private Semaphore dequeueSemaphore = new Semaphore(0);\n}\n</code></pre>\n<p>Why is this implementation correct is what is bothering me? I understand why and how the semaphores are being used. What I don't understand is that the access to the <code>private Queue&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();</code> is not restricted when one thread is modifying it. I mean to say if one thread is mutating the queue, another can too. How is this correct? Should not the queue be guarded by a <code>mutex</code> as well apart from the use of semaphores? As per Java, the queue implementation being used is not thread safe.</p>\n"},{"tags":["java","jboss","apache-camel","jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694222668,"post_id":77070277,"comment_id":135867279,"body_markdown":"Why are you using such an old release of ActiveMQ Artemis? The current release is 2.30.0. Version 2.16.0 was released almost 3 years ago now.","body":"Why are you using such an old release of ActiveMQ Artemis? The current release is 2.30.0. Version 2.16.0 was released almost 3 years ago now."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694222976,"post_id":77070277,"comment_id":135867302,"body_markdown":"Is Camel using the `pooled-connection-factory`?","body":"Is Camel using the <code>pooled-connection-factory</code>?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694223258,"post_id":77070277,"comment_id":135867319,"body_markdown":"Is the problem that the message isn&#39;t delivered to the queue at all or is it that the message is successfully delivered to the queue but the Camel route is unable to consume it? In the problematic case what is sending the message? Is it another Camel route?","body":"Is the problem that the message isn&#39;t delivered to the queue at all or is it that the message is successfully delivered to the queue but the Camel route is unable to consume it? In the problematic case what is sending the message? Is it another Camel route?"},{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1694226870,"post_id":77070277,"comment_id":135867527,"body_markdown":"**Answers to questions:** The choice of ActiveMQ Artemis is/was a Management decision. Camel is using pooled-connection-factory. The &quot;problematic&quot; messages do show up on the queue, but do not get picked up and eventually expire. The Camel route listeners do not pick up these messages. The problematic messages are sent using plain vanilla Java code that looks up the ConnectionFactory from the InitialContext using its JNDI name, then creates a connection and message and then sends it.","body":"<b>Answers to questions:</b> The choice of ActiveMQ Artemis is/was a Management decision. Camel is using pooled-connection-factory. The &quot;problematic&quot; messages do show up on the queue, but do not get picked up and eventually expire. The Camel route listeners do not pick up these messages. The problematic messages are sent using plain vanilla Java code that looks up the ConnectionFactory from the InitialContext using its JNDI name, then creates a connection and message and then sends it."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694227878,"post_id":77070277,"comment_id":135867593,"body_markdown":"So the consumer count on the queue is &gt; 0 and the message count is also &gt; 0, but the messages are not consumed? What is the delivering count at this time?","body":"So the consumer count on the queue is &gt; 0 and the message count is also &gt; 0, but the messages are not consumed? What is the delivering count at this time?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694228010,"post_id":77070277,"comment_id":135867597,"body_markdown":"In your description you said &quot;a standalone Java application&quot; sends messages which are consumed normally, but you also have &quot;plain vanilla Java code&quot; which sends messages which are *not* consumed? Are there any differences between these applications? Can you share the code?","body":"In your description you said &quot;a standalone Java application&quot; sends messages which are consumed normally, but you also have &quot;plain vanilla Java code&quot; which sends messages which are <i>not</i> consumed? Are there any differences between these applications? Can you share the code?"},{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1696464946,"post_id":77070277,"comment_id":136157914,"body_markdown":"Sorry it took a month to revisit this issue. Apparently the messages do get to the server(s), but do not get distributed to JMS consumers that are awaiting messages, but are connected to different server. This is a distribution issue so I will post a new question and close this one. Thx","body":"Sorry it took a month to revisit this issue. Apparently the messages do get to the server(s), but do not get distributed to JMS consumers that are awaiting messages, but are connected to different server. This is a distribution issue so I will post a new question and close this one. Thx"}],"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694215298,"creation_date":1694215298,"question_id":77070277,"body_markdown":"A JMS message sent to a dynamic queue on Artemis server in JBoss EAP 7.4.2 does not get delivered to Camel route listener using JMS component\r\n\r\n**Camel route:**\r\n```java\r\nfrom(&quot;jms:queue:XXX&quot;)\r\n\t.process(&quot;xyz&quot;)\r\n\t.end();\r\n```\r\n**Environment:**\r\n\r\nCamel route(s) deployed on **JBoss EAP 7.4.2** receiving JMS messages from three external **ActiveMQ Artemis 2.16** servers with support for failovers/HA using default protocol, using **Apache Camel 2.25.4**.\r\n\r\n**ActiveMQ Artemis resource adapter settings:**\r\n```xml\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\r\n\t\t&lt;remote-connector name=&quot;netty-artemis-sharedinternal-1&quot; socket-binding=&quot;artemis-sharedinternal-1&quot;/&gt;\r\n\t\t&lt;remote-connector name=&quot;netty-artemis-sharedinternal-2&quot; socket-binding=&quot;artemis-sharedinternal-2&quot;/&gt;\r\n\t\t&lt;remote-connector name=&quot;netty-artemis-sharedinternal-3&quot; socket-binding=&quot;artemis-sharedinternal-3&quot;/&gt;\r\n\t\t&lt;pooled-connection-factory name=&quot;org.apache.activemq&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;netty-artemis-sharedinternal-1 netty-artemis-sharedinternal-2 netty-artemis-sharedinternal-3&quot; ha=&quot;true&quot; failover-on-initial-connection=&quot;true&quot; use-topology-for-load-balancing=&quot;true&quot; transaction=&quot;none&quot; user=&quot;user&quot; password=&quot;password&quot; min-pool-size=&quot;24&quot; use-auto-recovery=&quot;true&quot; max-pool-size=&quot;256&quot; initial-connect-attempts=&quot;2&quot; statistics-enabled=&quot;true&quot; enable-amq1-prefix=&quot;false&quot;&gt;\r\n\t\t\t&lt;inbound-config use-jndi=&quot;false&quot; rebalance-connections=&quot;true&quot; setup-attempts=&quot;2&quot; setup-interval=&quot;5000&quot;/&gt;\r\n\t\t&lt;/pooled-connection-factory&gt;\r\n\t\t...\r\n```\r\n**Relevant log entry from server:**\r\n```\r\n2023-07-21 11:19:11,610 TRACE [org.apache.activemq.artemis.core.postoffice.impl.BindingsImpl] Routing message CoreMessage[messageID=19732099994,durable=false,userID=f1f92ea4-27d9-11ee-8ee7-005056b75c06,priority=4, timestamp=Fri Jul 21 11:19:11 EDT 2023,expiration=Fri Jul 28 11:19:11 EDT 2023, durable=false, address=NationalAdAssetNotificationQueue,size=1680,properties=TypedProperties[__AMQ_CID=4adf63bc-27d7-11ee-8ee7-005056b75c06,_AMQ_ROUTING_TYPE=1]]@980219731 on binding=BindingsImpl [name=NationalAdAssetNotificationQueue] current context::RoutingContextImpl(Address=XXXQueue, routingType=ANYCAST, PreviousAddress=XXXQueue previousRoute:ANYCAST, reusable=null, version=0)\r\n```\r\nOn the other hand a similar message sent to the same queue by a standalone Java application gets delivered to the Camel route in JBoss\r\n```\r\n2023-07-21 11:22:02,361 TRACE [org.apache.activemq.artemis.core.postoffice.impl.BindingsImpl] Routing message CoreMessage[messageID=20646163200,durable=false,userID=57bd2005-27da-11ee-92bb-025041000001,priority=4, timestamp=Fri Jul 21 11:22:02 EDT 2023,expiration=Fri Jul 28 11:22:02 EDT 2023, durable=false, address=XXXQueue,size=1538,properties=TypedProperties[__AMQ_CID=578aec72-27da-11ee-92bb-025041000001,_AMQ_ROUTING_TYPE=1]]@654187160 on binding=BindingsImpl [name=XXXQueue] current context::RoutingContextImpl(Address=NationalAdAssetNotificationQueue, routingType=ANYCAST, PreviousAddress=null previousRoute:null, reusable=null, version=0)\r\n``` \r\nThe only difference(s) between the 2 log entries is that the one that fails has:\r\n```\r\nPreviousAddress=XXXQueue previousRoute:ANYCAST\r\n```\r\nand the one that works has:\r\n```\r\nPreviousAddress=null previousRoute:null\r\n```\r\n\r\n","title":"JMS message sent to Artemis queue from JBoss 7.4.2 does not get delivered to Camel route using JMS component","body":"<p>A JMS message sent to a dynamic queue on Artemis server in JBoss EAP 7.4.2 does not get delivered to Camel route listener using JMS component</p>\n<p><strong>Camel route:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;jms:queue:XXX&quot;)\n    .process(&quot;xyz&quot;)\n    .end();\n</code></pre>\n<p><strong>Environment:</strong></p>\n<p>Camel route(s) deployed on <strong>JBoss EAP 7.4.2</strong> receiving JMS messages from three external <strong>ActiveMQ Artemis 2.16</strong> servers with support for failovers/HA using default protocol, using <strong>Apache Camel 2.25.4</strong>.</p>\n<p><strong>ActiveMQ Artemis resource adapter settings:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\n        &lt;remote-connector name=&quot;netty-artemis-sharedinternal-1&quot; socket-binding=&quot;artemis-sharedinternal-1&quot;/&gt;\n        &lt;remote-connector name=&quot;netty-artemis-sharedinternal-2&quot; socket-binding=&quot;artemis-sharedinternal-2&quot;/&gt;\n        &lt;remote-connector name=&quot;netty-artemis-sharedinternal-3&quot; socket-binding=&quot;artemis-sharedinternal-3&quot;/&gt;\n        &lt;pooled-connection-factory name=&quot;org.apache.activemq&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;netty-artemis-sharedinternal-1 netty-artemis-sharedinternal-2 netty-artemis-sharedinternal-3&quot; ha=&quot;true&quot; failover-on-initial-connection=&quot;true&quot; use-topology-for-load-balancing=&quot;true&quot; transaction=&quot;none&quot; user=&quot;user&quot; password=&quot;password&quot; min-pool-size=&quot;24&quot; use-auto-recovery=&quot;true&quot; max-pool-size=&quot;256&quot; initial-connect-attempts=&quot;2&quot; statistics-enabled=&quot;true&quot; enable-amq1-prefix=&quot;false&quot;&gt;\n            &lt;inbound-config use-jndi=&quot;false&quot; rebalance-connections=&quot;true&quot; setup-attempts=&quot;2&quot; setup-interval=&quot;5000&quot;/&gt;\n        &lt;/pooled-connection-factory&gt;\n        ...\n</code></pre>\n<p><strong>Relevant log entry from server:</strong></p>\n<pre><code>2023-07-21 11:19:11,610 TRACE [org.apache.activemq.artemis.core.postoffice.impl.BindingsImpl] Routing message CoreMessage[messageID=19732099994,durable=false,userID=f1f92ea4-27d9-11ee-8ee7-005056b75c06,priority=4, timestamp=Fri Jul 21 11:19:11 EDT 2023,expiration=Fri Jul 28 11:19:11 EDT 2023, durable=false, address=NationalAdAssetNotificationQueue,size=1680,properties=TypedProperties[__AMQ_CID=4adf63bc-27d7-11ee-8ee7-005056b75c06,_AMQ_ROUTING_TYPE=1]]@980219731 on binding=BindingsImpl [name=NationalAdAssetNotificationQueue] current context::RoutingContextImpl(Address=XXXQueue, routingType=ANYCAST, PreviousAddress=XXXQueue previousRoute:ANYCAST, reusable=null, version=0)\n</code></pre>\n<p>On the other hand a similar message sent to the same queue by a standalone Java application gets delivered to the Camel route in JBoss</p>\n<pre><code>2023-07-21 11:22:02,361 TRACE [org.apache.activemq.artemis.core.postoffice.impl.BindingsImpl] Routing message CoreMessage[messageID=20646163200,durable=false,userID=57bd2005-27da-11ee-92bb-025041000001,priority=4, timestamp=Fri Jul 21 11:22:02 EDT 2023,expiration=Fri Jul 28 11:22:02 EDT 2023, durable=false, address=XXXQueue,size=1538,properties=TypedProperties[__AMQ_CID=578aec72-27da-11ee-92bb-025041000001,_AMQ_ROUTING_TYPE=1]]@654187160 on binding=BindingsImpl [name=XXXQueue] current context::RoutingContextImpl(Address=NationalAdAssetNotificationQueue, routingType=ANYCAST, PreviousAddress=null previousRoute:null, reusable=null, version=0)\n</code></pre>\n<p>The only difference(s) between the 2 log entries is that the one that fails has:</p>\n<pre><code>PreviousAddress=XXXQueue previousRoute:ANYCAST\n</code></pre>\n<p>and the one that works has:</p>\n<pre><code>PreviousAddress=null previousRoute:null\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":4588598,"reputation":312,"user_id":3722559,"display_name":"schil227"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407648085,"creation_date":1407648014,"answer_id":25225773,"question_id":25225635,"body_markdown":"    int[] testsToTest = {1,2, 45, ...};\r\n    int currentTest;\r\n    for(int i = 0; i &lt; testsToTest; i++){\r\n        currentTest = testsToTest[i];\r\n        Switch (currentTest){\r\n         case 1:\r\n            //your first test\r\n            break;\r\n         case 2:\r\n            //second test\r\n            break;\r\n         ...\r\n         case 100;\r\n            //100th test\r\n            break;\r\n         default: System.out.println(&quot;unknown test&quot;);\r\n        }\r\n    }\r\n\r\nThat&#39;ll at least get you off the ground. There&#39;s definitely a nicer way to write this here, I shutter to think how long your file will become. perhaps you could use a more generic method since you&#39;re basically testing element x, and either clicking x or saying &quot;x failed&quot;. Consider having a map of test numbers and xpaths. for example:\r\n\r\n\r\n    public boolean testElement(String xpath){\r\n        try {\r\n                WebElement element = driver.findElement(By.xpath(xpath)).isDisplayed();\r\n                element.click();\r\n        } catch (NoSuchElementException e) {\r\n                System.out.println(&quot;TEST FAILED--element with xpath &quot; + xpath + &quot; does not exist&quot;);\r\n        } finally {\r\n                System.out.println(&quot;Continue&quot;);\r\n        }\r\n    }\r\n\r\nAnd then you could have a hashmap of testNumbers and their xpath. Then it would just be a matter of iterating over the list as above, but instead of the switch, it would just be\r\n\r\n`testElement(testMap.get(testToTest[i]))`\r\n\r\n\r\n\r\n","title":"How to use switch case in selenium to test several web element in a page?","body":"<pre><code>int[] testsToTest = {1,2, 45, ...};\nint currentTest;\nfor(int i = 0; i &lt; testsToTest; i++){\n    currentTest = testsToTest[i];\n    Switch (currentTest){\n     case 1:\n        //your first test\n        break;\n     case 2:\n        //second test\n        break;\n     ...\n     case 100;\n        //100th test\n        break;\n     default: System.out.println(\"unknown test\");\n    }\n}\n</code></pre>\n\n<p>That'll at least get you off the ground. There's definitely a nicer way to write this here, I shutter to think how long your file will become. perhaps you could use a more generic method since you're basically testing element x, and either clicking x or saying \"x failed\". Consider having a map of test numbers and xpaths. for example:</p>\n\n<pre><code>public boolean testElement(String xpath){\n    try {\n            WebElement element = driver.findElement(By.xpath(xpath)).isDisplayed();\n            element.click();\n    } catch (NoSuchElementException e) {\n            System.out.println(\"TEST FAILED--element with xpath \" + xpath + \" does not exist\");\n    } finally {\n            System.out.println(\"Continue\");\n    }\n}\n</code></pre>\n\n<p>And then you could have a hashmap of testNumbers and their xpath. Then it would just be a matter of iterating over the list as above, but instead of the switch, it would just be</p>\n\n<p><code>testElement(testMap.get(testToTest[i]))</code></p>\n"},{"tags":[],"owner":{"account_id":162885,"reputation":1922,"user_id":384646,"accept_rate":75,"display_name":"Romski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407648087,"creation_date":1407648087,"answer_id":25225778,"question_id":25225635,"body_markdown":"As far as I can see the only thing that changes is the XPath and the message you are printing.\r\n\r\nIt&#39;s not clear from your code, but if you&#39;re not using a test framework like JUnit or TestNG, then you should be.\r\n\r\n[JUnitParams][1] is a good candidate for this as it offers a way to pass a collection of parameters to a test method and execute it many times. Each execution is treated as a separate test, without the need to write repetitive code. If the first test fails, it will continue to run the other tests.\r\n\r\nOne example usage (there are many options):\r\n\r\n    @Test\r\n    @Parameters({ \r\n            CmpList._radio, \r\n            CmpList._yahoo,\r\n            .... })\r\n    public void shouldFindElement(String xpath) {\r\n        driver.findElement(By.xpath(xpath)).isDisplayed();\r\n        driver.findElement(By.xpath(CmpList._radio)).click();\r\n    }\r\n\r\nPersonally, I don&#39;t think you should catch the Exception as is not expected. I also think that you print statements introduce noise.\r\n\r\n  [1]: https://github.com/Pragmatists/JUnitParams","title":"How to use switch case in selenium to test several web element in a page?","body":"<p>As far as I can see the only thing that changes is the XPath and the message you are printing.</p>\n\n<p>It's not clear from your code, but if you're not using a test framework like JUnit or TestNG, then you should be.</p>\n\n<p><a href=\"https://github.com/Pragmatists/JUnitParams\" rel=\"nofollow\">JUnitParams</a> is a good candidate for this as it offers a way to pass a collection of parameters to a test method and execute it many times. Each execution is treated as a separate test, without the need to write repetitive code. If the first test fails, it will continue to run the other tests.</p>\n\n<p>One example usage (there are many options):</p>\n\n<pre><code>@Test\n@Parameters({ \n        CmpList._radio, \n        CmpList._yahoo,\n        .... })\npublic void shouldFindElement(String xpath) {\n    driver.findElement(By.xpath(xpath)).isDisplayed();\n    driver.findElement(By.xpath(CmpList._radio)).click();\n}\n</code></pre>\n\n<p>Personally, I don't think you should catch the Exception as is not expected. I also think that you print statements introduce noise.</p>\n"}],"owner":{"account_id":4865779,"reputation":39,"user_id":3924100,"accept_rate":36,"display_name":"samco cosma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694214480,"creation_date":1407646277,"question_id":25225635,"body_markdown":"i have a webpage with several element to be tested.\r\nThey are more than 100 and i could not write 100 code to test one element.\r\nIs it possible to use switch case to test the element i want and not all.\r\n\r\nFor example here i have 3 tests to be executed, what i want is to test only Test1 and Test2, how can i do this using switch case in java, because i have more than 100 tests to be executed, i want to use only one code.\r\n\r\nThank you\r\n\r\n   \r\n\r\n     //TEST1\r\n        try {\r\n        \tdriver.findElement(By.xpath(CmpList._google)).isDisplayed();\r\n        \tSystem.out.println(&quot;Google Tab exists&quot;);\r\n        \tdriver.findElement(By.xpath(CmpList._google)).click();\r\n        \r\n        \t} catch (NoSuchElementException e) {\r\n        \tSystem.out.println(&quot;TEST FAILED--Google Tab element does not exist&quot;);\r\n        \t} finally {\r\n        \tSystem.out.println(&quot;Continue&quot;);\r\n        \t}\r\n        \t\r\n        \r\n        //TEST2\r\n        \ttry {\r\n        \tdriver.findElement(By.xpath(CmpList._radio)).isDisplayed();\r\n        \tSystem.out.println(&quot;Radio Tab element exists&quot;);\r\n        \tdriver.findElement(By.xpath(CmpList._radio)).click();\r\n        \r\n        \t} catch (NoSuchElementException e) {\r\n        \tSystem.out.println(&quot;TEST FAILED--Radio Tab element does not exist&quot;);\r\n        \t} finally {\r\n        \tSystem.out.println(&quot;Continue&quot;);\r\n        \t}\r\n    \r\n     //TEST3\r\n        try {\r\n        \tdriver.findElement(By.xpath(CmpList._yahoo)).isDisplayed();\r\n        \tSystem.out.println(&quot;Google Tab exists&quot;);\r\n        \tdriver.findElement(By.xpath(CmpList._yahoo)).click();\r\n        \r\n        \t} catch (NoSuchElementException e) {\r\n        \tSystem.out.println(&quot;TEST FAILED--Yahoo Tab element does not exist&quot;);\r\n        \t} finally {\r\n        \tSystem.out.println(&quot;Continue&quot;);\r\n        \t}","title":"How to use switch case in selenium to test several web element in a page?","body":"<p>i have a webpage with several element to be tested.\nThey are more than 100 and i could not write 100 code to test one element.\nIs it possible to use switch case to test the element i want and not all.</p>\n\n<p>For example here i have 3 tests to be executed, what i want is to test only Test1 and Test2, how can i do this using switch case in java, because i have more than 100 tests to be executed, i want to use only one code.</p>\n\n<p>Thank you</p>\n\n<pre><code> //TEST1\n    try {\n        driver.findElement(By.xpath(CmpList._google)).isDisplayed();\n        System.out.println(\"Google Tab exists\");\n        driver.findElement(By.xpath(CmpList._google)).click();\n\n        } catch (NoSuchElementException e) {\n        System.out.println(\"TEST FAILED--Google Tab element does not exist\");\n        } finally {\n        System.out.println(\"Continue\");\n        }\n\n\n    //TEST2\n        try {\n        driver.findElement(By.xpath(CmpList._radio)).isDisplayed();\n        System.out.println(\"Radio Tab element exists\");\n        driver.findElement(By.xpath(CmpList._radio)).click();\n\n        } catch (NoSuchElementException e) {\n        System.out.println(\"TEST FAILED--Radio Tab element does not exist\");\n        } finally {\n        System.out.println(\"Continue\");\n        }\n\n //TEST3\n    try {\n        driver.findElement(By.xpath(CmpList._yahoo)).isDisplayed();\n        System.out.println(\"Google Tab exists\");\n        driver.findElement(By.xpath(CmpList._yahoo)).click();\n\n        } catch (NoSuchElementException e) {\n        System.out.println(\"TEST FAILED--Yahoo Tab element does not exist\");\n        } finally {\n        System.out.println(\"Continue\");\n        }\n</code></pre>\n"},{"tags":["java","archlinux","graalvm","manjaro"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694210852,"post_id":77069572,"comment_id":135866437,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":27089381,"reputation":1,"user_id":20637427,"display_name":"Francisco A. Dom&#237;nguez Iceta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694212985,"creation_date":1694212985,"answer_id":77070185,"question_id":77069572,"body_markdown":"I was able to solve my problem by deleting the first symbolic link I had created. I created a folder in `/lib/jvm` called `java-17-graalvm` and then it showed up without problems when I ran `archlinux-java` and I was able to do `set` without problems.","title":"How to set GraalVM 17 as the default JDK in Manjaro Linux 23?","body":"<p>I was able to solve my problem by deleting the first symbolic link I had created. I created a folder in <code>/lib/jvm</code> called <code>java-17-graalvm</code> and then it showed up without problems when I ran <code>archlinux-java</code> and I was able to do <code>set</code> without problems.</p>\n"}],"owner":{"account_id":27089381,"reputation":1,"user_id":20637427,"display_name":"Francisco A. Dom&#237;nguez Iceta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694212985,"creation_date":1694203097,"question_id":77069572,"body_markdown":"I&#39;m using Manjaro 23, and I want to set GraalVM 17 as the default JDK.\r\n\r\nI&#39;m an Ubuntu user, and I used the `update-alternatives java --config` command to install third-party JDKs.\r\n\r\n* I installed GraalVM 17 by downloading the package from the official source.\r\n\r\n* I created a symbolic link from my GraalVM installation to `/usr/lib/jvm/java-17-graalvm`.\r\n\r\n* I tried using the `archlinux-java` command to set the default JDK, but it returned an error message saying that `/usr/lib/jvm/java-17-graalvm` is not a valid directory.\r\n\r\n* I also tried using the commands `archlinux-java set-default` and `archlinux-java-set-default`, but these commands do not exist.\r\n\r\n  Is there a similar command to `update-alternatives` in Manjaro that I can use?","title":"How to set GraalVM 17 as the default JDK in Manjaro Linux 23?","body":"<p>I'm using Manjaro 23, and I want to set GraalVM 17 as the default JDK.</p>\n<p>I'm an Ubuntu user, and I used the <code>update-alternatives java --config</code> command to install third-party JDKs.</p>\n<ul>\n<li><p>I installed GraalVM 17 by downloading the package from the official source.</p>\n</li>\n<li><p>I created a symbolic link from my GraalVM installation to <code>/usr/lib/jvm/java-17-graalvm</code>.</p>\n</li>\n<li><p>I tried using the <code>archlinux-java</code> command to set the default JDK, but it returned an error message saying that <code>/usr/lib/jvm/java-17-graalvm</code> is not a valid directory.</p>\n</li>\n<li><p>I also tried using the commands <code>archlinux-java set-default</code> and <code>archlinux-java-set-default</code>, but these commands do not exist.</p>\n<p>Is there a similar command to <code>update-alternatives</code> in Manjaro that I can use?</p>\n</li>\n</ul>\n"},{"tags":["java","apache-flink","streaming","apache-beam"],"owner":{"account_id":29398447,"reputation":1,"user_id":22525254,"display_name":"Sal Mem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694211849,"creation_date":1694211313,"question_id":77070116,"body_markdown":"For Context, my use case is to read from an unbounded source, in this case I am using aws SQS.\r\nFrom each message, I am wanting to generate pipelines dynamically that read from another location, transform and write.\r\n\r\nSince I need to read the data from another source (which would be bounded), I would still have to generate more pipelines, hence the need for nested pipelines as the parent pipeline(SQS) should be constantly running triggering the consequent read based on the message.\r\n\r\nI attempted to do a simple implementation of running nested pipelines which runs when running on intellij but when I spin up a local cluster and specify the master its not able to print the log in the second pipeline. Getting the following errors:\r\n\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: Pipeline execution failed\r\n...\r\nCaused by: org.apache.flink.client.program.ProgramInvocationException: Job failed (JobID: &lt;SENSORED&gt;)\r\n...\r\nCaused by: org.apache.flink.runtime.client.JobExecutionException: Job execution failed.\r\n...\r\nCaused by: org.apache.flink.runtime.JobException: Recovery is suppressed by NoRestartBackoffTimeStrategy\r\n...\r\nCaused by: org.apache.beam.sdk.util.UserCodeException: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\r\n...\r\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\r\n...\r\nCaused by: org.apache.beam.sdk.util.UserCodeException: java.lang.RuntimeException: Pipeline execution failed\r\n...\r\nCaused by: java.lang.RuntimeException: Pipeline execution failed\r\n...\r\nCaused by: org.apache.flink.client.program.ProgramInvocationException: Job failed (JobID: &lt;SENSORED&gt;)\r\n...\r\nCaused by: java.lang.ClassNotFoundException: org.apache.beam.runners.core.metrics.MetricsContainerStepMap\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[?:?]\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:527) ~[?:?]\r\n\tat java.lang.Class.forName0(Native Method) ~[?:?]\r\n\tat java.lang.Class.forName(Class.java:398) ~[?:?]\r\nat org.apache.flink.util.InstantiationUtil$ClassLoaderObjectInputStream.resolveClass(InstantiationUtil.java:78) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2003) ~[?:?]\r\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1870) ~[?:?]\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2201) ~[?:?]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687) ~[?:?]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:489) ~[?:?]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:447) ~[?:?]\r\n\tat org.apache.flink.util.OptionalFailure.readObject(OptionalFailure.java:122) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1046) ~[?:?]\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2357) ~[?:?]\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2228) ~[?:?]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687) ~[?:?]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:489) ~[?:?]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:447) ~[?:?]\r\n\tat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:617) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:602) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:589) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.util.SerializedValue.deserializeValue(SerializedValue.java:67) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.api.common.accumulators.AccumulatorHelper.deserializeAccumulators(AccumulatorHelper.java:208) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.jobmaster.JobResult.toJobExecutionResult(JobResult.java:131) ~[flink-runtime-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.client.deployment.ClusterClientJobClientAdapter.lambda$null$6(ClusterClientJobClientAdapter.java:128) ~[flink-clients-1.15.0.jar:1.15.0]\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\r\n\tat org.apache.flink.util.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:403) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\r\n\tat org.apache.flink.client.program.rest.RestClusterClient.lambda$pollResourceAsync$26(RestClusterClient.java:708) ~[flink-clients-1.15.0.jar:1.15.0]\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\r\n\tat org.apache.flink.util.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:403) ~[flink-core-1.15.0.jar:1.15.0]\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:610) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1085) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:478) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n\tat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n```\r\n\r\nhere is the sample code :\r\n\r\n```\r\n        Pipeline p = Pipeline.create(options);\r\n        p.apply(SqsIO.read().withQueueUrl(&quot;https://examplesqsurl/abcd&quot;))\r\n                .apply(Window.&lt;SqsMessage&gt;into(new GlobalWindows()).discardingFiredPanes().triggering(Repeatedly.forever(AfterPane.elementCountAtLeast(1))))\r\n                .apply(MapElements.into(strings()).via(SqsMessage::getBody))\r\n                .apply(ParDo.of(new DoFn&lt;String, String&gt;() {\r\n                    @ProcessElement\r\n                    public void processElement(ProcessContext context, OutputReceiver&lt;String&gt; out) throws Exception {\r\n                        log.info(context.element());\r\n                        Pipeline newPipeline = Pipeline.create(context.getPipelineOptions());\r\n                        newPipeline.apply(Create.of(context.element()))\r\n                                .apply(ParDo.of(new DoFn&lt;String, String&gt;() {\r\n                                @ProcessElement\r\n                                public void processElement(ProcessContext context, OutputReceiver&lt;String&gt; out){\r\n                                    log.info(&quot;I am running in the second pipeline &quot; + context.element());\r\n                                    out.output(context.element());\r\n                            }\r\n                        }));\r\n                        newPipeline.run().waitUntilFinish();\r\n                        out.output(context.element());\r\n                    }\r\n                }));\r\n        p.run().waitUntilFinish();\r\n    }\r\n```\r\n\r\nI am able to see the log statement in the first ParDo in the cluster but not the second one\r\n\r\nFlink cluster version is 1.15.4\r\n\r\nbeam-runners-flink-1.15\r\n\r\nbeam.version is 2.49.0\r\n\r\nP.S : Complete newbie with apache beam &amp; Data Processing. If there is a better approach I am all ears!","title":"Nested Pipeline - Apache Beam - Flink Runner - Running Local - Failing on Local Cluster","body":"<p>For Context, my use case is to read from an unbounded source, in this case I am using aws SQS.\nFrom each message, I am wanting to generate pipelines dynamically that read from another location, transform and write.</p>\n<p>Since I need to read the data from another source (which would be bounded), I would still have to generate more pipelines, hence the need for nested pipelines as the parent pipeline(SQS) should be constantly running triggering the consequent read based on the message.</p>\n<p>I attempted to do a simple implementation of running nested pipelines which runs when running on intellij but when I spin up a local cluster and specify the master its not able to print the log in the second pipeline. Getting the following errors:</p>\n<pre><code>Caused by: java.lang.RuntimeException: Pipeline execution failed\n...\nCaused by: org.apache.flink.client.program.ProgramInvocationException: Job failed (JobID: &lt;SENSORED&gt;)\n...\nCaused by: org.apache.flink.runtime.client.JobExecutionException: Job execution failed.\n...\nCaused by: org.apache.flink.runtime.JobException: Recovery is suppressed by NoRestartBackoffTimeStrategy\n...\nCaused by: org.apache.beam.sdk.util.UserCodeException: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\n...\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\n...\nCaused by: org.apache.beam.sdk.util.UserCodeException: java.lang.RuntimeException: Pipeline execution failed\n...\nCaused by: java.lang.RuntimeException: Pipeline execution failed\n...\nCaused by: org.apache.flink.client.program.ProgramInvocationException: Job failed (JobID: &lt;SENSORED&gt;)\n...\nCaused by: java.lang.ClassNotFoundException: org.apache.beam.runners.core.metrics.MetricsContainerStepMap\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:527) ~[?:?]\n    at java.lang.Class.forName0(Native Method) ~[?:?]\n    at java.lang.Class.forName(Class.java:398) ~[?:?]\nat org.apache.flink.util.InstantiationUtil$ClassLoaderObjectInputStream.resolveClass(InstantiationUtil.java:78) ~[flink-core-1.15.0.jar:1.15.0]\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2003) ~[?:?]\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1870) ~[?:?]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2201) ~[?:?]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687) ~[?:?]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:489) ~[?:?]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:447) ~[?:?]\n    at org.apache.flink.util.OptionalFailure.readObject(OptionalFailure.java:122) ~[flink-core-1.15.0.jar:1.15.0]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1046) ~[?:?]\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2357) ~[?:?]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2228) ~[?:?]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1687) ~[?:?]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:489) ~[?:?]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:447) ~[?:?]\n    at org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:617) ~[flink-core-1.15.0.jar:1.15.0]\n    at org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:602) ~[flink-core-1.15.0.jar:1.15.0]\n    at org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:589) ~[flink-core-1.15.0.jar:1.15.0]\n    at org.apache.flink.util.SerializedValue.deserializeValue(SerializedValue.java:67) ~[flink-core-1.15.0.jar:1.15.0]\n    at org.apache.flink.api.common.accumulators.AccumulatorHelper.deserializeAccumulators(AccumulatorHelper.java:208) ~[flink-core-1.15.0.jar:1.15.0]\n    at org.apache.flink.runtime.jobmaster.JobResult.toJobExecutionResult(JobResult.java:131) ~[flink-runtime-1.15.0.jar:1.15.0]\n    at org.apache.flink.client.deployment.ClusterClientJobClientAdapter.lambda$null$6(ClusterClientJobClientAdapter.java:128) ~[flink-clients-1.15.0.jar:1.15.0]\n    at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[?:?]\n    at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\n    at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\n    at org.apache.flink.util.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:403) ~[flink-core-1.15.0.jar:1.15.0]\n    at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\n    at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\n    at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\n    at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\n    at org.apache.flink.client.program.rest.RestClusterClient.lambda$pollResourceAsync$26(RestClusterClient.java:708) ~[flink-clients-1.15.0.jar:1.15.0]\n    at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\n    at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\n    at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\n    at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\n    at org.apache.flink.util.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:403) ~[flink-core-1.15.0.jar:1.15.0]\n    at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\n    at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\n    at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\n    at java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:610) ~[?:?]\n    at java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1085) ~[?:?]\n    at java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:478) ~[?:?]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\n    at java.lang.Thread.run(Thread.java:829) ~[?:?]\n</code></pre>\n<p>here is the sample code :</p>\n<pre><code>        Pipeline p = Pipeline.create(options);\n        p.apply(SqsIO.read().withQueueUrl(&quot;https://examplesqsurl/abcd&quot;))\n                .apply(Window.&lt;SqsMessage&gt;into(new GlobalWindows()).discardingFiredPanes().triggering(Repeatedly.forever(AfterPane.elementCountAtLeast(1))))\n                .apply(MapElements.into(strings()).via(SqsMessage::getBody))\n                .apply(ParDo.of(new DoFn&lt;String, String&gt;() {\n                    @ProcessElement\n                    public void processElement(ProcessContext context, OutputReceiver&lt;String&gt; out) throws Exception {\n                        log.info(context.element());\n                        Pipeline newPipeline = Pipeline.create(context.getPipelineOptions());\n                        newPipeline.apply(Create.of(context.element()))\n                                .apply(ParDo.of(new DoFn&lt;String, String&gt;() {\n                                @ProcessElement\n                                public void processElement(ProcessContext context, OutputReceiver&lt;String&gt; out){\n                                    log.info(&quot;I am running in the second pipeline &quot; + context.element());\n                                    out.output(context.element());\n                            }\n                        }));\n                        newPipeline.run().waitUntilFinish();\n                        out.output(context.element());\n                    }\n                }));\n        p.run().waitUntilFinish();\n    }\n</code></pre>\n<p>I am able to see the log statement in the first ParDo in the cluster but not the second one</p>\n<p>Flink cluster version is 1.15.4</p>\n<p>beam-runners-flink-1.15</p>\n<p>beam.version is 2.49.0</p>\n<p>P.S : Complete newbie with apache beam &amp; Data Processing. If there is a better approach I am all ears!</p>\n"},{"tags":["java","spring","jsp"],"comments":[{"owner":{"account_id":282080,"reputation":911,"user_id":578762,"accept_rate":86,"display_name":"Abhishek Ranjan"},"score":0,"creation_date":1411336147,"post_id":25963892,"comment_id":40652401,"body_markdown":"How are you calling the /changeLanguage controller? Are you making a  POST request or are you making a GET request.\nAre you using Jquery ajax or any other similar method to submit form data ?You will need to post the code which you are using to call changeLanguage","body":"How are you calling the /changeLanguage controller? Are you making a  POST request or are you making a GET request. Are you using Jquery ajax or any other similar method to submit form data ?You will need to post the code which you are using to call changeLanguage"},{"owner":{"account_id":5063655,"reputation":13,"user_id":4064378,"display_name":"Milen Yanchev"},"score":0,"creation_date":1411336380,"post_id":25963892,"comment_id":40652455,"body_markdown":"I&#39;m using POST request. It&#39;s called by clicking a button.","body":"I&#39;m using POST request. It&#39;s called by clicking a button."},{"owner":{"account_id":282080,"reputation":911,"user_id":578762,"accept_rate":86,"display_name":"Abhishek Ranjan"},"score":0,"creation_date":1411336456,"post_id":25963892,"comment_id":40652478,"body_markdown":"Did you add some debug line to see if the controller is getting called.Also can you post the code you are using to call the controller","body":"Did you add some debug line to see if the controller is getting called.Also can you post the code you are using to call the controller"},{"owner":{"account_id":5063655,"reputation":13,"user_id":4064378,"display_name":"Milen Yanchev"},"score":0,"creation_date":1411336704,"post_id":25963892,"comment_id":40652550,"body_markdown":"Yes. In debug I see that /changeLanguage method is calling /index method.","body":"Yes. In debug I see that /changeLanguage method is calling /index method."},{"owner":{"account_id":3672896,"reputation":7910,"user_id":3059623,"accept_rate":60,"display_name":"Aeseir"},"score":0,"creation_date":1411348911,"post_id":25963892,"comment_id":40655096,"body_markdown":"is your changeLanguage() located in a RESTController? Considering its also a async call why do you have it redirecting to index, all it will do is return a the whole index.jsp page to the ajax call.","body":"is your changeLanguage() located in a RESTController? Considering its also a async call why do you have it redirecting to index, all it will do is return a the whole index.jsp page to the ajax call."},{"owner":{"account_id":5063655,"reputation":13,"user_id":4064378,"display_name":"Milen Yanchev"},"score":0,"creation_date":1411376404,"post_id":25963892,"comment_id":40663322,"body_markdown":"I&#39;m not sure I understand what is RESTController. The reason for redirecting to index page is because after call /changeLanguage method, I need to refresh the index page. If there is a better approach, I will be more then happy to see it.","body":"I&#39;m not sure I understand what is RESTController. The reason for redirecting to index page is because after call /changeLanguage method, I need to refresh the index page. If there is a better approach, I will be more then happy to see it."}],"answers":[{"tags":[],"owner":{"account_id":5063655,"reputation":13,"user_id":4064378,"display_name":"Milen Yanchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411396867,"creation_date":1411396867,"answer_id":25976809,"question_id":25963892,"body_markdown":"I have solved my problem. Not the way I wished but still... \r\nThe way I solved it is by create form in my jsp. In the controller I create one \r\nwrapper &quot;LanguageWrapper&quot; and add it like model attribute. \r\nLast, when a button is clicked, I submit the form &quot; $(&#39;#formName&#39;).submit();&quot; and this \r\nwork perfectly for me. \r\nI still don&#39;t know my when submit with ajax the page is not refreshed and when submit the form like this it refresh. I will spend some time researching this... \r\nIf someone knows more about this, please fill free to add more info. \r\nI hope my answer can help others with similar problems.","title":"Refresh jsp page from Spring Controller","body":"<p>I have solved my problem. Not the way I wished but still... \nThe way I solved it is by create form in my jsp. In the controller I create one \nwrapper \"LanguageWrapper\" and add it like model attribute. \nLast, when a button is clicked, I submit the form \" $('#formName').submit();\" and this \nwork perfectly for me. \nI still don't know my when submit with ajax the page is not refreshed and when submit the form like this it refresh. I will spend some time researching this... \nIf someone knows more about this, please fill free to add more info. \nI hope my answer can help others with similar problems.</p>\n"}],"owner":{"account_id":5063655,"reputation":13,"user_id":4064378,"display_name":"Milen Yanchev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694210445,"creation_date":1411333756,"question_id":25963892,"body_markdown":"I&#39;m having problem with refreshing my jsp page after calling Spring controller. \r\nIn my index page, I have login, and after the user enter username and password, the form gets submitted to the controller and then validate and create new user session. After all this, my page is refreshed and everything is working fine. The problem occur when I implement logic for changing page language. I&#39;m doing the same but this time, the page is not refreshing! \r\nHere is what I have tried so far: \r\n\r\n**JAVA CODE:**\r\n\r\n    \t@RequestMapping(value=&quot;/index&quot;, method=RequestMethod.GET)\r\n\tpublic String initializeIndex(ModelMap model) {\t\t\t\t\t\r\n\t\t// IMPLEMENT SOME BUSINESS LOGIC HERE\r\n\t\tString l = (String) model.get(&quot;language&quot;);\r\n\r\n        if (l == null) {\r\n\t        l = &quot;English&quot;;  //Default  \r\n        }\r\n\r\n        model.addAttribute(&quot;currentLanguage&quot;, l);\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\r\n\t/**\r\n\t * When the user login.\r\n\t * \r\n\t * @param model\r\n\t * @return\r\n\t */\r\n\t@RequestMapping(value=&quot;/welcome&quot;, method=RequestMethod.POST)\r\n\tpublic String login(ModelMap model) {\r\n\r\n\t\t// IMPLEMENT SOME BUSINESS LOGIC HERE\r\n\r\n\t\treturn &quot;redirect:/index&quot;;\r\n\t}\r\n\t\r\n\t/**\r\n\t * When the user change website language.\r\n\t * \r\n\t * @param model\r\n\t * @return\r\n\t */\r\n\t@RequestMapping(value=&quot;/changeLanguage&quot;, method=RequestMethod.POST)\r\n\tpublic String changeLanguage(@RequestParam String language, ModelMap model) {\r\n\t\t\r\n\t\t//CHANGE SITE LANGUAGE...\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;language&quot;, language);\t\t\t\r\n\r\n\t\treturn &quot;redirect:/index&quot;;\r\n\t}\r\n\r\n**EDIT**\r\n\r\nHere is how I&#39;m calling /changeLanguage method. This function is called after a button click event. \r\n\r\n**JS**\r\n\r\n    function changeLanguage(language) {\r\n\t$.ajax({\r\n        type: &quot;POST&quot;,\r\n        url: &quot;changeLanguage&quot;,\r\n        data: &quot;language=&quot; + language,\r\n        success: function(){\r\n          alert($(&#39;#languageHolder&#39;).val());\r\n        } \r\n        }\r\n\t});\r\n\r\n**HTML**\r\n\r\n\t&lt;input type=&quot;hidden&quot; id=&quot;languageHolder&quot; value=&#39;&lt;c:out value=&quot;${currentLanguage}&quot; /&gt;&#39;/&gt;\r\n\r\n\r\nNow when I debug the app, I see that everything is working perfect. The only difference is that when call /welcome method and the redirect to /index method, after that the index.jsp is refreshed and when call /changeLanguage method and then to /index method, the index.jsp is not refreshed.\r\n\r\nOne other difference is that on login I user form and submit the form. In change language I use ajax to submit the data to the server. Could this be the problem ? \r\nAny help will be appreciated.\r\n\r\n**EDIT**\r\nI had just made some small experiments: I add one holder in my index.jsp \r\nand then in the controller I&#39;m setting &quot;language&quot; variable to this holder. Then I\r\nalert this value in js and observe the result. \r\nI just edit the code above. \r\nWhat I observe is that the JAVA code is working perfect - e.g. when there is no language set in the model, it set the default &quot;English&quot; and set it to the model. Also when there is such attribute, I uses it and set the new value to the model. BUT in the js, alert is always print &quot;English&quot; ???","title":"Refresh jsp page from Spring Controller","body":"<p>I'm having problem with refreshing my jsp page after calling Spring controller. \nIn my index page, I have login, and after the user enter username and password, the form gets submitted to the controller and then validate and create new user session. After all this, my page is refreshed and everything is working fine. The problem occur when I implement logic for changing page language. I'm doing the same but this time, the page is not refreshing! \nHere is what I have tried so far: </p>\n\n<p><strong>JAVA CODE:</strong></p>\n\n<pre><code>    @RequestMapping(value=\"/index\", method=RequestMethod.GET)\npublic String initializeIndex(ModelMap model) {                 \n    // IMPLEMENT SOME BUSINESS LOGIC HERE\n    String l = (String) model.get(\"language\");\n\n    if (l == null) {\n        l = \"English\";  //Default  \n    }\n\n    model.addAttribute(\"currentLanguage\", l);\n    return \"index\";\n}\n\n/**\n * When the user login.\n * \n * @param model\n * @return\n */\n@RequestMapping(value=\"/welcome\", method=RequestMethod.POST)\npublic String login(ModelMap model) {\n\n    // IMPLEMENT SOME BUSINESS LOGIC HERE\n\n    return \"redirect:/index\";\n}\n\n/**\n * When the user change website language.\n * \n * @param model\n * @return\n */\n@RequestMapping(value=\"/changeLanguage\", method=RequestMethod.POST)\npublic String changeLanguage(@RequestParam String language, ModelMap model) {\n\n    //CHANGE SITE LANGUAGE...\n\n    model.addAttribute(\"language\", language);           \n\n    return \"redirect:/index\";\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is how I'm calling /changeLanguage method. This function is called after a button click event. </p>\n\n<p><strong>JS</strong></p>\n\n<pre><code>function changeLanguage(language) {\n$.ajax({\n    type: \"POST\",\n    url: \"changeLanguage\",\n    data: \"language=\" + language,\n    success: function(){\n      alert($('#languageHolder').val());\n    } \n    }\n});\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"languageHolder\" value='&lt;c:out value=\"${currentLanguage}\" /&gt;'/&gt;\n</code></pre>\n\n<p>Now when I debug the app, I see that everything is working perfect. The only difference is that when call /welcome method and the redirect to /index method, after that the index.jsp is refreshed and when call /changeLanguage method and then to /index method, the index.jsp is not refreshed.</p>\n\n<p>One other difference is that on login I user form and submit the form. In change language I use ajax to submit the data to the server. Could this be the problem ? \nAny help will be appreciated.</p>\n\n<p><strong>EDIT</strong>\nI had just made some small experiments: I add one holder in my index.jsp \nand then in the controller I'm setting \"language\" variable to this holder. Then I\nalert this value in js and observe the result. \nI just edit the code above. \nWhat I observe is that the JAVA code is working perfect - e.g. when there is no language set in the model, it set the default \"English\" and set it to the model. Also when there is such attribute, I uses it and set the new value to the model. BUT in the js, alert is always print \"English\" ???</p>\n"},{"tags":["java","database","oracle","netbeans"],"answers":[{"tags":[],"owner":{"account_id":2819775,"reputation":97,"user_id":2423783,"accept_rate":36,"display_name":"Iqbal Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375976697,"creation_date":1375976697,"answer_id":18130402,"question_id":18129108,"body_markdown":"Problem is in your SQL Query; \r\n\r\n    ResultSet rs1=select.executeQuery(&quot;select * from narocnik,prevoz&quot;);\r\n\r\nIf you want to join two tables you should use joining like inner join, left join, right join or outer join. But when you just use comma (,) in your query to join two tables it will be outer join. It will give you multiple result;\r\n\r\nUser Inner Join like - \r\n\r\n    Select * from table1 inner join table2 on table1.id = table2.id;\r\n\r\nHope it will work for you.","title":"How to display data from 2 tables in Netbeans from ORACLE database","body":"<p>Problem is in your SQL Query; </p>\n\n<pre><code>ResultSet rs1=select.executeQuery(\"select * from narocnik,prevoz\");\n</code></pre>\n\n<p>If you want to join two tables you should use joining like inner join, left join, right join or outer join. But when you just use comma (,) in your query to join two tables it will be outer join. It will give you multiple result;</p>\n\n<p>User Inner Join like - </p>\n\n<pre><code>Select * from table1 inner join table2 on table1.id = table2.id;\n</code></pre>\n\n<p>Hope it will work for you.</p>\n"}],"owner":{"account_id":3151306,"reputation":1,"user_id":2664713,"display_name":"Alex Bibi Mavrič"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694210445,"creation_date":1375973302,"question_id":18129108,"body_markdown":"I don&#39;t know how to properly display data from 2 tables in the TextArea field. I added 2 rows in the database tables but the program displays 4 rows in the textArea instead of 2(duplicate), if I add 3 rows program displays 3xfirst row,3x second row,3x third row...etc.This is my code. Please help me in some way :(\r\n\r\n        jTextArea1.setText(null);\r\n        Connection connection=null;\r\n        try\r\n        {  \r\n            String driverName=&quot;oracle.jdbc.driver.OracleDriver&quot;;\r\n            Class.forName(driverName);\r\n    \r\n            String serverName = &quot;193.2.139.xxx&quot;;\r\n            String portNumber = &quot;1521&quot;;\r\n            String sid = &quot;ers&quot;;\r\n            String url = &quot;jdbc:oracle:thin:@&quot;+serverName+&quot;:&quot;+portNumber+&quot;:&quot;+sid;\r\n            String username = &quot;xxxxxxxx&quot;;\r\n            String password = &quot;xxxxxxxxxx&quot;;\r\n    \r\n            connection = DriverManager.getConnection(url, username, password);\r\n            java.sql.Statement select = connection.createStatement();\r\n    \r\n            int id;\r\n            String name; //column from table narocnik\r\n            String surname; //column from table narocnik\r\n            String address; //column from table narocnik\r\n            String telephone; //column from table narocnik\r\n            String date; //column from table prevoz\r\n            String od; //column from table prevoz\r\n            String v; //column from table prevoz\r\n            String odhod; //column from table prevoz\r\n            String cena; //column from table prevoz\r\n            ResultSet rs1=select.executeQuery(&quot;select * from narocnik,prevoz&quot;);\r\n            while(rs1.next()){\r\n                id=rs1.getInt(&quot;id&quot;);\r\n                name=rs1.getString(&quot;name&quot;);\r\n                surname=rs1.getString(&quot;surname&quot;);\r\n                address=rs1.getString(&quot;address&quot;);\r\n                telephone=rs1.getString(&quot;telephone&quot;);\r\n                date=rs1.getString(&quot;date&quot;);\r\n                od=rs1.getString(&quot;od&quot;);\r\n                v=rs1.getString(&quot;do&quot;);\r\n                odhod=rs1.getString(&quot;odhod&quot;);\r\n                cena=rs1.getString(&quot;cena&quot;);\r\n                jTextArea1.append(name+&quot;, &quot;+surname+&quot;, &quot;+address+&quot;, &quot;+telephone+&quot;, &quot;+date+&quot;, &quot;+od+&quot;, &quot;+v+&quot;, &quot;+odhod+&quot;, &quot;+cena+&quot;\\n&quot;);\r\n            }\r\n            connection.close();       \r\n        }\r\n        catch(ClassNotFoundException e)\r\n        {\r\n            JOptionPane.showMessageDialog(this,&quot;Ni gonilnika! &quot;+e);\r\n        }catch(SQLException e){\r\n            JOptionPane.showMessageDialog(this,&quot;Napaka pri povezavi! &quot;+e);\r\n        } ","title":"How to display data from 2 tables in Netbeans from ORACLE database","body":"<p>I don't know how to properly display data from 2 tables in the TextArea field. I added 2 rows in the database tables but the program displays 4 rows in the textArea instead of 2(duplicate), if I add 3 rows program displays 3xfirst row,3x second row,3x third row...etc.This is my code. Please help me in some way :(</p>\n\n<pre><code>    jTextArea1.setText(null);\n    Connection connection=null;\n    try\n    {  \n        String driverName=\"oracle.jdbc.driver.OracleDriver\";\n        Class.forName(driverName);\n\n        String serverName = \"193.2.139.xxx\";\n        String portNumber = \"1521\";\n        String sid = \"ers\";\n        String url = \"jdbc:oracle:thin:@\"+serverName+\":\"+portNumber+\":\"+sid;\n        String username = \"xxxxxxxx\";\n        String password = \"xxxxxxxxxx\";\n\n        connection = DriverManager.getConnection(url, username, password);\n        java.sql.Statement select = connection.createStatement();\n\n        int id;\n        String name; //column from table narocnik\n        String surname; //column from table narocnik\n        String address; //column from table narocnik\n        String telephone; //column from table narocnik\n        String date; //column from table prevoz\n        String od; //column from table prevoz\n        String v; //column from table prevoz\n        String odhod; //column from table prevoz\n        String cena; //column from table prevoz\n        ResultSet rs1=select.executeQuery(\"select * from narocnik,prevoz\");\n        while(rs1.next()){\n            id=rs1.getInt(\"id\");\n            name=rs1.getString(\"name\");\n            surname=rs1.getString(\"surname\");\n            address=rs1.getString(\"address\");\n            telephone=rs1.getString(\"telephone\");\n            date=rs1.getString(\"date\");\n            od=rs1.getString(\"od\");\n            v=rs1.getString(\"do\");\n            odhod=rs1.getString(\"odhod\");\n            cena=rs1.getString(\"cena\");\n            jTextArea1.append(name+\", \"+surname+\", \"+address+\", \"+telephone+\", \"+date+\", \"+od+\", \"+v+\", \"+odhod+\", \"+cena+\"\\n\");\n        }\n        connection.close();       \n    }\n    catch(ClassNotFoundException e)\n    {\n        JOptionPane.showMessageDialog(this,\"Ni gonilnika! \"+e);\n    }catch(SQLException e){\n        JOptionPane.showMessageDialog(this,\"Napaka pri povezavi! \"+e);\n    } \n</code></pre>\n"},{"tags":["java","scala","jms","actor","akka"],"comments":[{"owner":{"account_id":35027,"reputation":83,"user_id":99069,"display_name":"srnm"},"score":2,"creation_date":1303091176,"post_id":5693346,"comment_id":12879189,"body_markdown":"http://stackoverflow.com/questions/4648280/scala-actors-vs-jms/4648843#4648843 might be useful.","body":"<a href=\"http://stackoverflow.com/questions/4648280/scala-actors-vs-jms/4648843#4648843\" title=\"scala actors vs jms\">stackoverflow.com/questions/4648280/scala-actors-vs-jms/&hellip;</a> might be useful."}],"answers":[{"tags":[],"owner":{"account_id":163162,"reputation":2141,"user_id":385104,"display_name":"Dean Wampler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1303045425,"creation_date":1303045425,"answer_id":5693657,"question_id":5693346,"body_markdown":"I&#39;m not an expert in messaging systems, but you can combine them with Akka in your apps, getting the best of both worlds. Here&#39;s an example that you might find useful for experimenting with Akka and messaging systems, in this case ZeroMQ:\r\n\r\n[https://github.com/zcox/akka-zeromq-java][1]\r\n\r\n  [1]: https://github.com/zcox/akka-zeromq-java","title":"When to use actors instead of messaging solutions such as WebSphere MQ or Tibco Rendezvous?","body":"<p>I'm not an expert in messaging systems, but you can combine them with Akka in your apps, getting the best of both worlds. Here's an example that you might find useful for experimenting with Akka and messaging systems, in this case ZeroMQ:</p>\n\n<p><a href=\"https://github.com/zcox/akka-zeromq-java\" rel=\"nofollow\">https://github.com/zcox/akka-zeromq-java</a></p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1463041644,"creation_date":1350933342,"answer_id":13018198,"question_id":5693346,"body_markdown":"First off the &quot;older&quot; message systems (MQ) are older in implementation but they are a newer in engineering idea of: *transactional persistent queues*. Scala Actors and Akka maybe a newer implementation but are built on an older concurrency model of Actors.\r\n\r\nThe two models however end up being very similar in practice because they both are event message based: See my answer to [RabbitMQ vs Akka][1].\r\n \r\nIf you&#39;re going to code only for the JVM then Akka is probably a good choice. Otherwise I would use RabbitMQ.\r\n\r\nAlso if you&#39;re a Scala developer, then Akka should be a no-brainer. However Akka&#39;s Java bindings are not very Java-ish and require casting due to Scala&#39;s type system. \r\n\r\nAlso in Java people don&#39;t typically make immutable objects which I recommend you do for messaging. Consequently its very easy in Java to accidentally do something using Akka that will not scale (using mutable objects for messages, relying on weird closure callback state). With MQ this is not a problem because the messages are always serialized at the cost of speed. With Akka they are generally not.\r\n\r\nAkka also scales better with large amount of consumers than most MQ. This is because for most MQ (JMS, AMQP) clients  every queue connection requires a thread... thus lots of queues == lots of permanently running threads. This is mainly a client issue though. I think ActiveMQ Apollo has a non-blocking dispatcher that purportedly fixes that issue for AMQP. The RabbitMQ client has channels that allow you to combine multiple consumers but there are still issues with large number of consumers potentially causing deadlocks or connections to die so generally more threads are added to avoid this issue. \r\n\r\nThat being said [Akka&#39;s remoting][2] is rather new and probably still doesn&#39;t offer all the reliable message guarantees and QoS that traditional message queues provide (but that is changing everyday). Its also generally peer-to-peer but does I think support server-to-peer which is generally what most MQ systems do (ie single point of failure) but there are MQ systems that are peer-to-peer (RabbitMQ is server-to-peer).\r\n\r\n**Finally RabbitMQ and Akka actually make a good pair.** You can use Akka as a wrapper to RabbitMQ particularly since RabbitMQ does not help you with handling the consumption of messages and routing the messages locally (in a single JVM).\r\n\r\n**When to choose Akka**\r\n\r\n * Have lots of consumers (think millions).\r\n * Need low latency\r\n * Open to the Actor concurrency model\r\n\r\n*Example system: An interactive real time chat system*\r\n\r\n**When to choose MQ**\r\n\r\n * Need to integrate with lots of different systems (ie non JVM)\r\n * Message reliability is more important than latency\r\n * Would like more tools and admin UI\r\n * Because of previous points better for long running tasks\r\n * Would like to use a different concurrency model than Actors\r\n\r\n*Example system: A scheduled transactional batch processing system*\r\n \r\n**EDIT based on concerned comments**\r\n\r\nI made an assumption that the OP was concerned with distributed processing which both [Akka][3] and Message Queues can handle. That is I assumed he was talking about [distributed Akka][4]. **Using Akka for local concurrency is an apples to orange comparison to most message queues**. I say most because you can apply the message queue model locally as a concurrency model (ie topic, queues, exchanges) which both the [Reactor][5] library and [simple-react][6] do.\r\n\r\nPicking the right concurrency model/library is very important for low latency applications. A distributed processing solution such as a message queue is generally not ideal because the routing is almost always done over the wire which is obviously slower than within application and thus Akka would be a superior choice. However I believe some proprietary MQ technologies allow for local routing. Also as I mentioned earlier most MQ clients are pretty stupid about threading and do not rely on non-blocking IO and have a thread per connection/queue/channel... ironically non-blocking io is not always low latency but is generally more resource efficient.\r\n\r\nAs you can see the topic of distributed programming and concurrent programming is rather large and changing everyday so my original intention was not confuse but rather focus on one particular area of distributed message processing which is what I though the OP was concerned with. In terms of concurrency one might want to focus their searches on &quot;reactive&quot; programming (RFP / streams) which is a &quot;newer&quot; but similar model to the actor model and message queue model of which all of these models can be generally combined because they are event based.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11787971/318174\r\n  [2]: http://doc.akka.io/docs/akka/snapshot/scala/remoting.html\r\n  [3]: http://doc.akka.io/docs/akka/snapshot/scala/remoting.html\r\n  [4]: http://doc.akka.io/docs/akka/snapshot/scala/remoting.html\r\n  [5]: https://github.com/reactor/reactor\r\n  [6]: https://github.com/aol/simple-react#queues-topics-signals-quick-overview","title":"When to use actors instead of messaging solutions such as WebSphere MQ or Tibco Rendezvous?","body":"<p>First off the \"older\" message systems (MQ) are older in implementation but they are a newer in engineering idea of: <em>transactional persistent queues</em>. Scala Actors and Akka maybe a newer implementation but are built on an older concurrency model of Actors.</p>\n\n<p>The two models however end up being very similar in practice because they both are event message based: See my answer to <a href=\"https://stackoverflow.com/a/11787971/318174\">RabbitMQ vs Akka</a>.</p>\n\n<p>If you're going to code only for the JVM then Akka is probably a good choice. Otherwise I would use RabbitMQ.</p>\n\n<p>Also if you're a Scala developer, then Akka should be a no-brainer. However Akka's Java bindings are not very Java-ish and require casting due to Scala's type system. </p>\n\n<p>Also in Java people don't typically make immutable objects which I recommend you do for messaging. Consequently its very easy in Java to accidentally do something using Akka that will not scale (using mutable objects for messages, relying on weird closure callback state). With MQ this is not a problem because the messages are always serialized at the cost of speed. With Akka they are generally not.</p>\n\n<p>Akka also scales better with large amount of consumers than most MQ. This is because for most MQ (JMS, AMQP) clients  every queue connection requires a thread... thus lots of queues == lots of permanently running threads. This is mainly a client issue though. I think ActiveMQ Apollo has a non-blocking dispatcher that purportedly fixes that issue for AMQP. The RabbitMQ client has channels that allow you to combine multiple consumers but there are still issues with large number of consumers potentially causing deadlocks or connections to die so generally more threads are added to avoid this issue. </p>\n\n<p>That being said <a href=\"http://doc.akka.io/docs/akka/snapshot/scala/remoting.html\" rel=\"noreferrer\">Akka's remoting</a> is rather new and probably still doesn't offer all the reliable message guarantees and QoS that traditional message queues provide (but that is changing everyday). Its also generally peer-to-peer but does I think support server-to-peer which is generally what most MQ systems do (ie single point of failure) but there are MQ systems that are peer-to-peer (RabbitMQ is server-to-peer).</p>\n\n<p><strong>Finally RabbitMQ and Akka actually make a good pair.</strong> You can use Akka as a wrapper to RabbitMQ particularly since RabbitMQ does not help you with handling the consumption of messages and routing the messages locally (in a single JVM).</p>\n\n<p><strong>When to choose Akka</strong></p>\n\n<ul>\n<li>Have lots of consumers (think millions).</li>\n<li>Need low latency</li>\n<li>Open to the Actor concurrency model</li>\n</ul>\n\n<p><em>Example system: An interactive real time chat system</em></p>\n\n<p><strong>When to choose MQ</strong></p>\n\n<ul>\n<li>Need to integrate with lots of different systems (ie non JVM)</li>\n<li>Message reliability is more important than latency</li>\n<li>Would like more tools and admin UI</li>\n<li>Because of previous points better for long running tasks</li>\n<li>Would like to use a different concurrency model than Actors</li>\n</ul>\n\n<p><em>Example system: A scheduled transactional batch processing system</em></p>\n\n<p><strong>EDIT based on concerned comments</strong></p>\n\n<p>I made an assumption that the OP was concerned with distributed processing which both <a href=\"http://doc.akka.io/docs/akka/snapshot/scala/remoting.html\" rel=\"noreferrer\">Akka</a> and Message Queues can handle. That is I assumed he was talking about <a href=\"http://doc.akka.io/docs/akka/snapshot/scala/remoting.html\" rel=\"noreferrer\">distributed Akka</a>. <strong>Using Akka for local concurrency is an apples to orange comparison to most message queues</strong>. I say most because you can apply the message queue model locally as a concurrency model (ie topic, queues, exchanges) which both the <a href=\"https://github.com/reactor/reactor\" rel=\"noreferrer\">Reactor</a> library and <a href=\"https://github.com/aol/simple-react#queues-topics-signals-quick-overview\" rel=\"noreferrer\">simple-react</a> do.</p>\n\n<p>Picking the right concurrency model/library is very important for low latency applications. A distributed processing solution such as a message queue is generally not ideal because the routing is almost always done over the wire which is obviously slower than within application and thus Akka would be a superior choice. However I believe some proprietary MQ technologies allow for local routing. Also as I mentioned earlier most MQ clients are pretty stupid about threading and do not rely on non-blocking IO and have a thread per connection/queue/channel... ironically non-blocking io is not always low latency but is generally more resource efficient.</p>\n\n<p>As you can see the topic of distributed programming and concurrent programming is rather large and changing everyday so my original intention was not confuse but rather focus on one particular area of distributed message processing which is what I though the OP was concerned with. In terms of concurrency one might want to focus their searches on \"reactive\" programming (RFP / streams) which is a \"newer\" but similar model to the actor model and message queue model of which all of these models can be generally combined because they are event based.</p>\n"},{"tags":[],"owner":{"account_id":1307057,"reputation":5794,"user_id":1255825,"accept_rate":74,"display_name":"JasonG"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1418503965,"creation_date":1418503965,"answer_id":27463527,"question_id":5693346,"body_markdown":"Akka-Camel would be a better example than ZeroMQ - ZeroMQ is a direct tcp to tcp communication (hence zero - there is no message queue).\r\n\r\nWith AkkaCamel you can abstract away the queue and produce/consume messages direct from an actor without any code to deal with the message queue message pushing/pulling.\r\n\r\nYou can forego akka-zeromq and use Akka directly with remoting.\r\nI think akka-zeromq is being removed from the core library but we built a good zeromq library for akka called scala-zeromq (https://github.com/mDialog/scala-zeromq)\r\n\r\nAkka has a couple key core use cases:\r\n\r\n1) Mutable state\r\n\r\nIt&#39;s easier to handle shared state by hiding it in an actor. As actors handle messages synchronously, you can hold state in an actor and expose that field with high consistency via the actor API\r\n\r\n2) Distribution\r\n\r\nConcurrency is free in akka so you say it&#39;s really about solving distribution problems. Distribution across machines and cores. Akka has build in &quot;location transparency&quot; for sending messages over the wire. It has clustering and patters associated for scaling up a single service as well. This makes it a very good solution for distribution (eg micro-service architecture)\r\n\r\nHere is an example of using Akka with ActiveMQ with Akka-Camel (using Java8)\r\n    \r\n    import akka.actor.Props;\r\n    import akka.camel.Camel;\r\n    import akka.camel.CamelExtension;\r\n    import akka.testkit.TestActorRef;\r\n    import akka.testkit.TestProbe;\r\n    import org.junit.Ignore;\r\n    import org.junit.Test;\r\n    import akka.camel.javaapi.UntypedProducerActor;\r\n    import akka.camel.javaapi.UntypedConsumerActor;\r\n    import static com.rogers.totes.TotesTestFixtures.*;\r\n    import org.apache.activemq.camel.component.*;\r\n    \r\n    public class MessagingTest {\r\n        @Test @Ignore\r\n        public void itShouldStoreAMessage() throws Exception{\r\n            String amqUrl = &quot;nio://localhost:61616&quot;;\r\n            Camel camel = (Camel) CamelExtension.apply(system);\r\n            camel.context().addComponent(&quot;activemq&quot;, ActiveMQComponent.activeMQComponent(amqUrl));\r\n    \r\n            TestProbe probe = TestProbe.apply(system);\r\n            TestActorRef producer = TestActorRef.create(system, Props.create((Producer.class)));\r\n            TestActorRef consumer = TestActorRef.create(system, Props.create((Consumer.class)));\r\n            producer.tell(&quot;Produce&quot;, probe.ref());\r\n    \r\n            Thread.sleep(1000);\r\n        }\r\n    }\r\n    \r\n    class Producer extends UntypedProducerActor{\r\n    \r\n        @Override\r\n        public String getEndpointUri() {\r\n            return &quot;activemq:foo.bar&quot;;\r\n        }\r\n    }\r\n    \r\n    class Consumer extends UntypedConsumerActor{\r\n    \r\n        @Override\r\n        public String getEndpointUri() {\r\n            return &quot;activemq:foo.bar&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public void onReceive(Object message) throws Exception {\r\n            System.out.println(&quot;GOT A MESSAGE!&quot; + message);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"When to use actors instead of messaging solutions such as WebSphere MQ or Tibco Rendezvous?","body":"<p>Akka-Camel would be a better example than ZeroMQ - ZeroMQ is a direct tcp to tcp communication (hence zero - there is no message queue).</p>\n\n<p>With AkkaCamel you can abstract away the queue and produce/consume messages direct from an actor without any code to deal with the message queue message pushing/pulling.</p>\n\n<p>You can forego akka-zeromq and use Akka directly with remoting.\nI think akka-zeromq is being removed from the core library but we built a good zeromq library for akka called scala-zeromq (<a href=\"https://github.com/mDialog/scala-zeromq\" rel=\"nofollow\">https://github.com/mDialog/scala-zeromq</a>)</p>\n\n<p>Akka has a couple key core use cases:</p>\n\n<p>1) Mutable state</p>\n\n<p>It's easier to handle shared state by hiding it in an actor. As actors handle messages synchronously, you can hold state in an actor and expose that field with high consistency via the actor API</p>\n\n<p>2) Distribution</p>\n\n<p>Concurrency is free in akka so you say it's really about solving distribution problems. Distribution across machines and cores. Akka has build in \"location transparency\" for sending messages over the wire. It has clustering and patters associated for scaling up a single service as well. This makes it a very good solution for distribution (eg micro-service architecture)</p>\n\n<p>Here is an example of using Akka with ActiveMQ with Akka-Camel (using Java8)</p>\n\n<pre><code>import akka.actor.Props;\nimport akka.camel.Camel;\nimport akka.camel.CamelExtension;\nimport akka.testkit.TestActorRef;\nimport akka.testkit.TestProbe;\nimport org.junit.Ignore;\nimport org.junit.Test;\nimport akka.camel.javaapi.UntypedProducerActor;\nimport akka.camel.javaapi.UntypedConsumerActor;\nimport static com.rogers.totes.TotesTestFixtures.*;\nimport org.apache.activemq.camel.component.*;\n\npublic class MessagingTest {\n    @Test @Ignore\n    public void itShouldStoreAMessage() throws Exception{\n        String amqUrl = \"nio://localhost:61616\";\n        Camel camel = (Camel) CamelExtension.apply(system);\n        camel.context().addComponent(\"activemq\", ActiveMQComponent.activeMQComponent(amqUrl));\n\n        TestProbe probe = TestProbe.apply(system);\n        TestActorRef producer = TestActorRef.create(system, Props.create((Producer.class)));\n        TestActorRef consumer = TestActorRef.create(system, Props.create((Consumer.class)));\n        producer.tell(\"Produce\", probe.ref());\n\n        Thread.sleep(1000);\n    }\n}\n\nclass Producer extends UntypedProducerActor{\n\n    @Override\n    public String getEndpointUri() {\n        return \"activemq:foo.bar\";\n    }\n}\n\nclass Consumer extends UntypedConsumerActor{\n\n    @Override\n    public String getEndpointUri() {\n        return \"activemq:foo.bar\";\n    }\n\n    @Override\n    public void onReceive(Object message) throws Exception {\n        System.out.println(\"GOT A MESSAGE!\" + message);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2963929,"reputation":1238,"user_id":2914935,"display_name":"shvahabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694208055,"creation_date":1694207744,"answer_id":77069911,"question_id":5693346,"body_markdown":"I do not know mentioned tools very well, but I&#39;m familiar with the underlying software engineering concepts. So I think the point relies on a single decision clue: decentralization. I mean other than distribution which all XXX&#160;-&#160;MQ and Akka (as message passing architecture components) can bring to your application there is another capability called decentralization. But since in most use cases decentralization and distribution can be reduced to each other, the validity of such questioning on your case shall be first rechecked. Then ask yourself, handling the message passing requirement on which of the singleton or peer-2-peer basis suits your needs.\r\n\r\nAkka does the job on a peer-2-peer basis so it offers a decentralized solution, but other mentioned tools offer centralized solutions. As a clarifying example think of implementing a network which require message passing architecture like Bitcoin. Akka is capable to support such use case, but other mentioned tools will fail. All other mentioned tools support message passing architecture as well, but none can support decentralization requirements of Bitcoin except Akka.","title":"When to use actors instead of messaging solutions such as WebSphere MQ or Tibco Rendezvous?","body":"<p>I do not know mentioned tools very well, but I'm familiar with the underlying software engineering concepts. So I think the point relies on a single decision clue: decentralization. I mean other than distribution which all XXX - MQ and Akka (as message passing architecture components) can bring to your application there is another capability called decentralization. But since in most use cases decentralization and distribution can be reduced to each other, the validity of such questioning on your case shall be first rechecked. Then ask yourself, handling the message passing requirement on which of the singleton or peer-2-peer basis suits your needs.</p>\n<p>Akka does the job on a peer-2-peer basis so it offers a decentralized solution, but other mentioned tools offer centralized solutions. As a clarifying example think of implementing a network which require message passing architecture like Bitcoin. Akka is capable to support such use case, but other mentioned tools will fail. All other mentioned tools support message passing architecture as well, but none can support decentralization requirements of Bitcoin except Akka.</p>\n"}],"owner":{"account_id":241323,"reputation":1201,"user_id":512063,"display_name":"Kai W&#228;hner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39403,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"answer_count":4,"score":115,"last_activity_date":1694208055,"creation_date":1303041073,"question_id":5693346,"body_markdown":"I&#39;ve already read the question and answers to [What design decisions would favour Scala&#39;s Actors instead of JMS?][1].\r\n\r\nUsually, we use messaging solutions which have existed for years already: either a JMS implementation such as WebSphere MQ or Apache ActiveMQ is used for Point-To-Point communication, or Tibco Rendevous for Multicast messaging.\r\n\r\nThey are very stable, proven and offer high availability and performance. Nevertheless, configuration and setup seem much more complex than in Akka.\r\n\r\nWhen and why should I use Akka for some use cases where the aforementioned products - WebSphere MQ or ActiveMQ - have been used successfully so far? Why should I consider using Akka instead of WebSphere MQ or Tibco RV in my future project? \r\n\r\nAnd when should I avoid Akka? Does it offer the same high availability and performance as the other solutions? Or is it a bad idea to even compare Akka to the other messaging middlewares?\r\n\r\nMaybe there also is another messaging solution in the JVM environment which I should consider besides JMS (Point-to-Point), TibcoRV (Multicast) and Akka?\r\n\r\n  [1]: https://stackoverflow.com/q/4648280/1305344","title":"When to use actors instead of messaging solutions such as WebSphere MQ or Tibco Rendezvous?","body":"<p>I've already read the question and answers to <a href=\"https://stackoverflow.com/q/4648280/1305344\">What design decisions would favour Scala's Actors instead of JMS?</a>.</p>\n\n<p>Usually, we use messaging solutions which have existed for years already: either a JMS implementation such as WebSphere MQ or Apache ActiveMQ is used for Point-To-Point communication, or Tibco Rendevous for Multicast messaging.</p>\n\n<p>They are very stable, proven and offer high availability and performance. Nevertheless, configuration and setup seem much more complex than in Akka.</p>\n\n<p>When and why should I use Akka for some use cases where the aforementioned products - WebSphere MQ or ActiveMQ - have been used successfully so far? Why should I consider using Akka instead of WebSphere MQ or Tibco RV in my future project? </p>\n\n<p>And when should I avoid Akka? Does it offer the same high availability and performance as the other solutions? Or is it a bad idea to even compare Akka to the other messaging middlewares?</p>\n\n<p>Maybe there also is another messaging solution in the JVM environment which I should consider besides JMS (Point-to-Point), TibcoRV (Multicast) and Akka?</p>\n"},{"tags":["java","kotlin","google-home","google-smart-home"],"answers":[{"tags":[],"owner":{"account_id":27501705,"reputation":79,"user_id":20985270,"display_name":"Armen Sarkisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694207613,"creation_date":1694207613,"answer_id":77069905,"question_id":77007912,"body_markdown":"Thanks for bringing this up. When you implement Report State you send us the data every time the state of the device changes. If you are seeing any discrepancies with the state of device you are sending to us and one in the [Homegraph viewer][1] tool, you can open a [public issue tracker ticket][2] and we can take a look.\r\nWe highly suggest taking one of our [Smart Home Codelabs][3] to get a hands-on experience on how to implement Report State, RequestSync etc.\r\n\r\n\r\n  [1]: https://smarthome-test-suite.withgoogle.com/devices\r\n  [2]: https://issuetracker.google.com/issues/new?component=655104&amp;template=1284148\r\n  [3]: https://developers.home.google.com/codelabs/smarthome-washer?hl=en#5","title":"google HomeGraphService reportStateAndNotification","body":"<p>Thanks for bringing this up. When you implement Report State you send us the data every time the state of the device changes. If you are seeing any discrepancies with the state of device you are sending to us and one in the <a href=\"https://smarthome-test-suite.withgoogle.com/devices\" rel=\"nofollow noreferrer\">Homegraph viewer</a> tool, you can open a <a href=\"https://issuetracker.google.com/issues/new?component=655104&amp;template=1284148\" rel=\"nofollow noreferrer\">public issue tracker ticket</a> and we can take a look.\nWe highly suggest taking one of our <a href=\"https://developers.home.google.com/codelabs/smarthome-washer?hl=en#5\" rel=\"nofollow noreferrer\">Smart Home Codelabs</a> to get a hands-on experience on how to implement Report State, RequestSync etc.</p>\n"}],"owner":{"account_id":4702178,"reputation":1183,"user_id":3805467,"display_name":"shalama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694207613,"creation_date":1693397459,"question_id":77007912,"body_markdown":"I try to implement [StateReporting][1] with the [HomeGraphService][2] api for my google action.  \r\nFor this I followed the google [state-report][1] documentation.\r\n\r\nThe issue is that the reportStateAndNotification function seems to do nothing.\r\nIt just returns an empty list of com.google.api.services.homegraph.v1.HomeGraphService$Devices$ReportStateAndNotification.\r\nAlso the state does not change in the HomeGraphViewer.\r\n\r\nWhen I use the access token from credentials.accessToken with curl everything works fine.\r\nAny help would be much appreciated. \r\n\r\n\r\n    val stream = Base64.getDecoder().decode(homeGraphServiceKey)\r\n        val credentials = GoogleCredentials.fromStream(stream.inputStream())\r\n            .createScoped(&quot;https://www.googleapis.com/auth/homegraph&quot;)\r\n        credentials.refreshIfExpired()\r\n        val token = credentials.accessToken\r\n\r\n\r\n        val service = HomeGraphService.Builder(\r\n            GoogleNetHttpTransport.newTrustedTransport(),\r\n            GsonFactory.getDefaultInstance(),\r\n            HttpCredentialsAdapter(credentials)\r\n\r\n        )\r\n            .setApplicationName(&quot;ff&quot;)\r\n            .build()\r\n\r\n        val states = mutableMapOf&lt;String, MutableMap&lt;String, Any&gt;&gt;()\r\n        val state = mutableMapOf&lt;String, Any&gt;()\r\n        state[&quot;on&quot;] = true\r\n        states[&quot;hue:cE1&quot;] = state\r\n\r\n\r\n        val request =\r\n            ReportStateAndNotificationRequest().setRequestId(\r\n                kotlin.random.Random.nextLong().toString()\r\n            )\r\n                .setAgentUserId(&quot;7b1d52e3-e68f-46cd-a8b9-6ce1fdfe5b62&quot;).setPayload(\r\n                    StateAndNotificationPayload().setDevices(\r\n                        ReportStateAndNotificationDevice().setStates(\r\n                            states.toMap()\r\n                        )\r\n                    )\r\n                )\r\n\r\n\r\n        val response = service?.devices()?.reportStateAndNotification(request)\r\n\r\n\r\ncurl:\r\n\r\n\r\n    {\r\n      &quot;requestId&quot;: &quot;123ABC&quot;,\r\n      &quot;agentUserId&quot;: &quot;7b1d52e3-e68f-46cd-a8b9-6ce1fdfe5b62&quot;,\r\n      &quot;payload&quot;: {\r\n        &quot;devices&quot;: {\r\n          &quot;states&quot;: {\r\n            &quot;hue:cE1&quot;: {\r\n              &quot;on&quot;: true\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    curl -X POST -H &quot;Authorization: Bearer token”   -H &quot;Content-Type: application/json&quot;   -d @request   &quot;https://homegraph.googleapis.com/v1/devices:reportStateAndNotification&quot;\r\n\r\n\r\n  [1]: https://developers.home.google.com/cloud-to-cloud/integration/report-state\r\n  [2]: https://developers.home.google.com/reference/home-graph/rpc","title":"google HomeGraphService reportStateAndNotification","body":"<p>I try to implement <a href=\"https://developers.home.google.com/cloud-to-cloud/integration/report-state\" rel=\"nofollow noreferrer\">StateReporting</a> with the <a href=\"https://developers.home.google.com/reference/home-graph/rpc\" rel=\"nofollow noreferrer\">HomeGraphService</a> api for my google action.<br />\nFor this I followed the google <a href=\"https://developers.home.google.com/cloud-to-cloud/integration/report-state\" rel=\"nofollow noreferrer\">state-report</a> documentation.</p>\n<p>The issue is that the reportStateAndNotification function seems to do nothing.\nIt just returns an empty list of com.google.api.services.homegraph.v1.HomeGraphService$Devices$ReportStateAndNotification.\nAlso the state does not change in the HomeGraphViewer.</p>\n<p>When I use the access token from credentials.accessToken with curl everything works fine.\nAny help would be much appreciated.</p>\n<pre><code>val stream = Base64.getDecoder().decode(homeGraphServiceKey)\n    val credentials = GoogleCredentials.fromStream(stream.inputStream())\n        .createScoped(&quot;https://www.googleapis.com/auth/homegraph&quot;)\n    credentials.refreshIfExpired()\n    val token = credentials.accessToken\n\n\n    val service = HomeGraphService.Builder(\n        GoogleNetHttpTransport.newTrustedTransport(),\n        GsonFactory.getDefaultInstance(),\n        HttpCredentialsAdapter(credentials)\n\n    )\n        .setApplicationName(&quot;ff&quot;)\n        .build()\n\n    val states = mutableMapOf&lt;String, MutableMap&lt;String, Any&gt;&gt;()\n    val state = mutableMapOf&lt;String, Any&gt;()\n    state[&quot;on&quot;] = true\n    states[&quot;hue:cE1&quot;] = state\n\n\n    val request =\n        ReportStateAndNotificationRequest().setRequestId(\n            kotlin.random.Random.nextLong().toString()\n        )\n            .setAgentUserId(&quot;7b1d52e3-e68f-46cd-a8b9-6ce1fdfe5b62&quot;).setPayload(\n                StateAndNotificationPayload().setDevices(\n                    ReportStateAndNotificationDevice().setStates(\n                        states.toMap()\n                    )\n                )\n            )\n\n\n    val response = service?.devices()?.reportStateAndNotification(request)\n</code></pre>\n<p>curl:</p>\n<pre><code>{\n  &quot;requestId&quot;: &quot;123ABC&quot;,\n  &quot;agentUserId&quot;: &quot;7b1d52e3-e68f-46cd-a8b9-6ce1fdfe5b62&quot;,\n  &quot;payload&quot;: {\n    &quot;devices&quot;: {\n      &quot;states&quot;: {\n        &quot;hue:cE1&quot;: {\n          &quot;on&quot;: true\n        }\n      }\n    }\n  }\n}\n\ncurl -X POST -H &quot;Authorization: Bearer token”   -H &quot;Content-Type: application/json&quot;   -d @request   &quot;https://homegraph.googleapis.com/v1/devices:reportStateAndNotification&quot;\n</code></pre>\n"},{"tags":["java","python","jvm","jpype"],"answers":[{"tags":[],"owner":{"account_id":2748789,"reputation":972,"user_id":2368596,"display_name":"Marcelo Sardelich"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1399061705,"creation_date":1399061705,"answer_id":23436235,"question_id":23430466,"body_markdown":"I solved the problem and I would let the answer here for the records.\r\n\r\n1) **Nothing was wrong with the source code.**\r\n\r\n2) Problem was that my `Python` was 32 bits and my `java sdk` (including the javac bytecode compiler) was 64 bits. I uninstalled the `java sdk` and re-installed a 32bits version. Done! Solved!\r\n  ","title":"JPype class not found","body":"<p>I solved the problem and I would let the answer here for the records.</p>\n\n<p>1) <strong>Nothing was wrong with the source code.</strong></p>\n\n<p>2) Problem was that my <code>Python</code> was 32 bits and my <code>java sdk</code> (including the javac bytecode compiler) was 64 bits. I uninstalled the <code>java sdk</code> and re-installed a 32bits version. Done! Solved!</p>\n"},{"tags":[],"owner":{"account_id":7746273,"reputation":89,"user_id":5863915,"display_name":"lixiaosi33"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1461654460,"creation_date":1461654460,"answer_id":36857669,"question_id":23430466,"body_markdown":"Try to change your path like this:\r\n\r\n        jpype.startJVM(jpype.getDefaultJVMPath(), &#39;-ea&#39;, &#39;-Djava.class.path=c:\\\\tmp\\&#39;)","title":"JPype class not found","body":"<p>Try to change your path like this:</p>\n\n<pre><code>    jpype.startJVM(jpype.getDefaultJVMPath(), '-ea', '-Djava.class.path=c:\\\\tmp\\')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24222271,"reputation":1,"user_id":18177283,"display_name":"Daniel Felipe Henao Toro"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694207381,"creation_date":1694207146,"answer_id":77069878,"question_id":23430466,"body_markdown":"Try to use your path with one `\\` instead of two `\\` and also the root of the Windows platform with a capitalized `C` as in:\r\n\r\n```\r\njpype.startJVM(jpype.getDefaultJVMPath(), &quot;-Djava.class.path=C:\\tmp\\A.jar&quot;)\r\n```\r\n\r\nIn my case, it worked.\r\n\r\n**Important notes:**\r\n- I have a JDK 11 and Python 3.9.6, both in 64 bits.\r\n\r\n- You could create a jar file that packages the class A.\r\n\r\n- You could check for the number of bits of Python you have installed by executing the following command in your command line:\r\n\r\n```\r\npython -c &quot;import sys; print(sys.maxsize &gt; 2**32)&quot;\r\n```","title":"JPype class not found","body":"<p>Try to use your path with one <code>\\</code> instead of two <code>\\</code> and also the root of the Windows platform with a capitalized <code>C</code> as in:</p>\n<pre><code>jpype.startJVM(jpype.getDefaultJVMPath(), &quot;-Djava.class.path=C:\\tmp\\A.jar&quot;)\n</code></pre>\n<p>In my case, it worked.</p>\n<p><strong>Important notes:</strong></p>\n<ul>\n<li><p>I have a JDK 11 and Python 3.9.6, both in 64 bits.</p>\n</li>\n<li><p>You could create a jar file that packages the class A.</p>\n</li>\n<li><p>You could check for the number of bits of Python you have installed by executing the following command in your command line:</p>\n</li>\n</ul>\n<pre><code>python -c &quot;import sys; print(sys.maxsize &gt; 2**32)&quot;\n</code></pre>\n"}],"owner":{"account_id":2748789,"reputation":972,"user_id":2368596,"display_name":"Marcelo Sardelich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23436235,"answer_count":3,"score":2,"last_activity_date":1694207381,"creation_date":1399040679,"question_id":23430466,"body_markdown":"JPype is an amazing project since I allows to instantiate a `JVM` directly from `Python`.\r\n\r\nUnfortunately, I got stuck in the first baby steps.\r\n\r\nI have `A.java` source code (**`located in C:\\tmp folder`**):\r\n\r\n    class A {\r\n    \tpublic A() {\r\n            super();\r\n        }\r\n        public String sayHi() {\r\n            return(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\nWhich was compiled to a class, using: `javac A.java`\r\n\r\nThus, A.class is located in **`C:\\tmp`** folder.\r\n\r\nI have the following `Python` source code:\r\n\r\n    import os\r\n    import jpype\r\n    jpype.startJVM(jpype.getDefaultJVMPath(), &#39;-ea&#39;, &#39;-Djava.class.path=c:\\\\tmp&#39;)\r\n    A = jpype.JClass(&quot;A&quot;)\r\n    a = A()\r\n    print a.sayHi()\r\n    jpype.shutdownJVM()\r\n\r\nWhen I run it, I get the error below:\r\n\r\n    C:\\tmp&gt;jpype_test.py\r\n    Traceback (most recent call last):\r\n      File &quot;C:\\tmp\\jpype_test.py&quot;, line 10, in &lt;module&gt;\r\n        A = jpype.JClass(&quot;A&quot;)\r\n      File &quot;C:\\Python27\\lib\\site-packages\\jpype\\_jclass.py&quot;, line 54, in JClass\r\n        raise _RUNTIMEEXCEPTION.PYEXC(&quot;Class %s not found&quot; % name)\r\n    jpype._jexception.ExceptionPyRaisable: java.lang.Exception: Class A not found\r\n\r\nSince I can&#39;t find the A class, it is probably an issue related to CLASSPATH, but I can&#39;t realize what I am doing wrong.\r\n\r\nAny clues?\r\n\r\n**EDIT 1:**\r\n\r\nThe problem persists. But, just to add to my question, if I use native java libraries, like: java.util, the code runs WITHOUT errors. For example, the code below works:\r\n\r\n    import jpype\r\n    jpype.startJVM(jpype.getDefaultJVMPath())\r\n    util = jpype.JPackage(&quot;java.util&quot;)\r\n    al = util.ArrayList()\r\n    al.add(1)\r\n    al.add(2)\r\n    print al.size()\r\n    jpype.shutdownJVM()\r\n\r\nAnd returns 2.\r\n\r\n\r\n**EDIT 2:**\r\n\r\nIssue solved, see answer below...\r\n","title":"JPype class not found","body":"<p>JPype is an amazing project since I allows to instantiate a <code>JVM</code> directly from <code>Python</code>.</p>\n\n<p>Unfortunately, I got stuck in the first baby steps.</p>\n\n<p>I have <code>A.java</code> source code (<strong><code>located in C:\\tmp folder</code></strong>):</p>\n\n<pre><code>class A {\n    public A() {\n        super();\n    }\n    public String sayHi() {\n        return(\"Hello\");\n    }\n}\n</code></pre>\n\n<p>Which was compiled to a class, using: <code>javac A.java</code></p>\n\n<p>Thus, A.class is located in <strong><code>C:\\tmp</code></strong> folder.</p>\n\n<p>I have the following <code>Python</code> source code:</p>\n\n<pre><code>import os\nimport jpype\njpype.startJVM(jpype.getDefaultJVMPath(), '-ea', '-Djava.class.path=c:\\\\tmp')\nA = jpype.JClass(\"A\")\na = A()\nprint a.sayHi()\njpype.shutdownJVM()\n</code></pre>\n\n<p>When I run it, I get the error below:</p>\n\n<pre><code>C:\\tmp&gt;jpype_test.py\nTraceback (most recent call last):\n  File \"C:\\tmp\\jpype_test.py\", line 10, in &lt;module&gt;\n    A = jpype.JClass(\"A\")\n  File \"C:\\Python27\\lib\\site-packages\\jpype\\_jclass.py\", line 54, in JClass\n    raise _RUNTIMEEXCEPTION.PYEXC(\"Class %s not found\" % name)\njpype._jexception.ExceptionPyRaisable: java.lang.Exception: Class A not found\n</code></pre>\n\n<p>Since I can't find the A class, it is probably an issue related to CLASSPATH, but I can't realize what I am doing wrong.</p>\n\n<p>Any clues?</p>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>The problem persists. But, just to add to my question, if I use native java libraries, like: java.util, the code runs WITHOUT errors. For example, the code below works:</p>\n\n<pre><code>import jpype\njpype.startJVM(jpype.getDefaultJVMPath())\nutil = jpype.JPackage(\"java.util\")\nal = util.ArrayList()\nal.add(1)\nal.add(2)\nprint al.size()\njpype.shutdownJVM()\n</code></pre>\n\n<p>And returns 2.</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>Issue solved, see answer below...</p>\n"},{"tags":["java","unsigned","division"],"answers":[{"tags":[],"owner":{"account_id":20439,"reputation":4580,"user_id":48839,"display_name":"Chad Okere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1261196318,"creation_date":1261196318,"answer_id":1931941,"question_id":1931904,"body_markdown":"Well, if you shift down by one bit, you could divide the resulting two numbers, then shift up twice (because the resulting number would be 4 times smaller). But that would only work on even numbers, since you would lose the least significant bit. \r\n\r\nI don&#39;t really think it would save you any time to check for that condition. (or check for numbers smaller then 2&lt;sup&gt;31&lt;/sup&gt;) ","title":"Java unsigned division without casting to long?","body":"<p>Well, if you shift down by one bit, you could divide the resulting two numbers, then shift up twice (because the resulting number would be 4 times smaller). But that would only work on even numbers, since you would lose the least significant bit. </p>\n\n<p>I don't really think it would save you any time to check for that condition. (or check for numbers smaller then 2<sup>31</sup>) </p>\n"},{"tags":[],"owner":{"account_id":77142,"reputation":9356,"user_id":220381,"accept_rate":75,"display_name":"Ash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1261196648,"creation_date":1261196648,"answer_id":1931949,"question_id":1931904,"body_markdown":"You could always used `BigInteger`, which works on arbitrary sized integers, but that would be a lot more expensive than promoting to `long` and cast back as `int`. Is your intention to improve performance (hence you want a &quot;pure integer&quot; solution to avoid the time for casts) or to improve how readable/understandable the code is (in which case BigInteger might be neater)?","title":"Java unsigned division without casting to long?","body":"<p>You could always used <code>BigInteger</code>, which works on arbitrary sized integers, but that would be a lot more expensive than promoting to <code>long</code> and cast back as <code>int</code>. Is your intention to improve performance (hence you want a \"pure integer\" solution to avoid the time for casts) or to improve how readable/understandable the code is (in which case BigInteger might be neater)?</p>\n"},{"tags":[],"owner":{"account_id":7123842,"reputation":27597,"user_id":5684257,"display_name":"HTNW"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609564721,"creation_date":1609564721,"answer_id":65536248,"question_id":1931904,"body_markdown":"In Java 8 and up, `Integer` has a whole collection of operations on unsigned `int`s\r\n\r\n&lt;pre&gt;&lt;code&gt;reg[a] = &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#divideUnsigned-int-int-&quot;&gt;Integer.divideUnsigned&lt;/a&gt;(reg[b], reg[c]);&lt;/code&gt;&lt;/pre&gt;","title":"Java unsigned division without casting to long?","body":"<p>In Java 8 and up, <code>Integer</code> has a whole collection of operations on unsigned <code>int</code>s</p>\n<pre><code>reg[a] = <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#divideUnsigned-int-int-\" rel=\"nofollow noreferrer\">Integer.divideUnsigned</a>(reg[b], reg[c]);</code></pre>\n"},{"tags":[],"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694204822,"creation_date":1661142643,"answer_id":73440242,"question_id":1931904,"body_markdown":"Other people have mentioned simple and clearly correct approaches like casting to `long`, or using [`Integer.divideUnsigned()`](https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/lang/Integer.html#divideUnsigned(int,int)) (Java SE 8+), or using [`BigInteger`](https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/math/BigInteger.html).\r\n\r\nPractically speaking, **`Integer.divideUnsigned()`** is the clearest and most performant way to do it, because the JVM probably intrinsifies this function call into a native unsigned division machine instruction, making it run as fast as the language-level signed division operator `/`.\r\n\r\nBut for the sake of completeness, here is how to emulate `uint32 / uint32` in pure Java (no C or assembly) in a relatively efficient manner, *without using wider types* like `long` or `BigInteger`:\r\n\r\n```java\r\nint divideUint32(int x, int y) {\r\n    if (y &lt; 0) {  // i.e. 2^31 &lt;= unsigned y &lt; 2^32\r\n        // Do unsigned comparison\r\n        return (x ^ 0x8000_0000) &gt;= (y ^ 0x8000_0000) ? 1 : 0;\r\n    }\r\n    else if (x &gt;= 0 || y == 0) {\r\n        assert y &gt;= 0;\r\n        return x / y;  // Straightforward or division by zero\r\n    }\r\n    else {  // The hard case: signed x &lt; 0 &amp;&amp; signed y &gt; 0\r\n        assert x &lt; 0 &amp;&amp; y &gt; 0;\r\n        // In other words, 2^31 &lt;= unsigned x &lt; 2^32 &amp;&amp; 0 &lt; unsigned y &lt; 2^31\r\n        int shift = Integer.numberOfLeadingZeros(y);\r\n        assert shift &gt; 0;\r\n        assert (y &lt;&lt; shift) &lt; 0;\r\n        // Do one step of long division\r\n        if (x &lt; (y &lt;&lt; shift))\r\n            shift--;\r\n        return (1 &lt;&lt; shift) | (x - (y &lt;&lt; shift)) / y;\r\n    }\r\n}\r\n```\r\n\r\nI have checked this code on millions of random test cases over the full range of `int` values. In case anyone is wondering about adapting the code to work with `long`, it is easy to do so by following the implicit patterns in the logic.","title":"Java unsigned division without casting to long?","body":"<p>Other people have mentioned simple and clearly correct approaches like casting to <code>long</code>, or using <a href=\"https://cr.openjdk.java.net/%7Eiris/se/17/latestSpec/api/java.base/java/lang/Integer.html#divideUnsigned(int,int)\" rel=\"nofollow noreferrer\"><code>Integer.divideUnsigned()</code></a> (Java SE 8+), or using <a href=\"https://cr.openjdk.java.net/%7Eiris/se/17/latestSpec/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>BigInteger</code></a>.</p>\n<p>Practically speaking, <strong><code>Integer.divideUnsigned()</code></strong> is the clearest and most performant way to do it, because the JVM probably intrinsifies this function call into a native unsigned division machine instruction, making it run as fast as the language-level signed division operator <code>/</code>.</p>\n<p>But for the sake of completeness, here is how to emulate <code>uint32 / uint32</code> in pure Java (no C or assembly) in a relatively efficient manner, <em>without using wider types</em> like <code>long</code> or <code>BigInteger</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int divideUint32(int x, int y) {\n    if (y &lt; 0) {  // i.e. 2^31 &lt;= unsigned y &lt; 2^32\n        // Do unsigned comparison\n        return (x ^ 0x8000_0000) &gt;= (y ^ 0x8000_0000) ? 1 : 0;\n    }\n    else if (x &gt;= 0 || y == 0) {\n        assert y &gt;= 0;\n        return x / y;  // Straightforward or division by zero\n    }\n    else {  // The hard case: signed x &lt; 0 &amp;&amp; signed y &gt; 0\n        assert x &lt; 0 &amp;&amp; y &gt; 0;\n        // In other words, 2^31 &lt;= unsigned x &lt; 2^32 &amp;&amp; 0 &lt; unsigned y &lt; 2^31\n        int shift = Integer.numberOfLeadingZeros(y);\n        assert shift &gt; 0;\n        assert (y &lt;&lt; shift) &lt; 0;\n        // Do one step of long division\n        if (x &lt; (y &lt;&lt; shift))\n            shift--;\n        return (1 &lt;&lt; shift) | (x - (y &lt;&lt; shift)) / y;\n    }\n}\n</code></pre>\n<p>I have checked this code on millions of random test cases over the full range of <code>int</code> values. In case anyone is wondering about adapting the code to work with <code>long</code>, it is easy to do so by following the implicit patterns in the logic.</p>\n"}],"owner":{"account_id":36637,"reputation":7380,"user_id":104533,"accept_rate":88,"display_name":"Adam Goode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1930,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1931941,"answer_count":4,"score":4,"last_activity_date":1694204822,"creation_date":1261195221,"question_id":1931904,"body_markdown":"I have written an interpreter that requires me to perform 32-bit division of unsigned integers. In Java, I can do this as:\r\n\r\n    reg[a] = (int) ((reg[b] &amp; 0xFFFFFFFFL) / (reg[c] &amp; 0xFFFFFFFFL));\r\n\r\nBut I would like to avoid the conversion to long and back to int. Java already gives the unsigned right shift operator `&gt;&gt;&gt;` for that special case, so maybe there is a clever way to do unsigned division in the same way.\r\n\r\nNote that add and multiply work fine, since two&#39;s compliment numbers just work.\r\n\r\nIs there a better way in Java to do this?","title":"Java unsigned division without casting to long?","body":"<p>I have written an interpreter that requires me to perform 32-bit division of unsigned integers. In Java, I can do this as:</p>\n\n<pre><code>reg[a] = (int) ((reg[b] &amp; 0xFFFFFFFFL) / (reg[c] &amp; 0xFFFFFFFFL));\n</code></pre>\n\n<p>But I would like to avoid the conversion to long and back to int. Java already gives the unsigned right shift operator <code>&gt;&gt;&gt;</code> for that special case, so maybe there is a clever way to do unsigned division in the same way.</p>\n\n<p>Note that add and multiply work fine, since two's compliment numbers just work.</p>\n\n<p>Is there a better way in Java to do this?</p>\n"},{"tags":["java","opengl","lwjgl"],"comments":[{"owner":{"account_id":64944,"reputation":710,"user_id":191443,"accept_rate":91,"display_name":"Eric Fortier"},"score":0,"creation_date":1694204298,"post_id":45342366,"comment_id":135865602,"body_markdown":"I know this post is really old, but I&#39;m running in this exact problem with the stutter, but using Delphi as a programming language. Same &quot;Fix your timestep&quot; loop. \n\nI have spent close to 40 hours working on this in the past month. I have the main loop timed to the microsecond, and everything triggers as it should and the animation is really smooth, but it will have some stutter at extremely random moments. I have trimmed down the animation and loop to the bare minimum, a cube moving from left to right, repeating over and over.\n\nVSync or no, frame capping or no. Did you fix your problem?","body":"I know this post is really old, but I&#39;m running in this exact problem with the stutter, but using Delphi as a programming language. Same &quot;Fix your timestep&quot; loop.   I have spent close to 40 hours working on this in the past month. I have the main loop timed to the microsecond, and everything triggers as it should and the animation is really smooth, but it will have some stutter at extremely random moments. I have trimmed down the animation and loop to the bare minimum, a cube moving from left to right, repeating over and over.  VSync or no, frame capping or no. Did you fix your problem?"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":1,"creation_date":1694675040,"post_id":45342366,"comment_id":135922886,"body_markdown":"@EricFortier without seeing MCVE  just guessing here but do you actually measure time or just use timer interval  as constant? You know at least on windows the timers are not very accurate time source (can be affected by OS any time) For C++ Builder (similar to Delphi) time critical stuff I prefer to measure the elapsed time directly either with `PerformanceCounters` (Windows) or `RDTSC`  (x86 x64). Another source of stuttering might be that your rendering is not synchronized with monitor sync signals along with double/triple buffering or bug in sequence of buffers (swapped them occasionaly)","body":"@EricFortier without seeing MCVE  just guessing here but do you actually measure time or just use timer interval  as constant? You know at least on windows the timers are not very accurate time source (can be affected by OS any time) For C++ Builder (similar to Delphi) time critical stuff I prefer to measure the elapsed time directly either with <code>PerformanceCounters</code> (Windows) or <code>RDTSC</code>  (x86 x64). Another source of stuttering might be that your rendering is not synchronized with monitor sync signals along with double/triple buffering or bug in sequence of buffers (swapped them occasionaly)"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":1,"creation_date":1694675233,"post_id":45342366,"comment_id":135922927,"body_markdown":"@EricFortier for example I got MC perfect emulation and timing Z80 emulator done like this (timing in `[us]`) interconecting other ICs and passing ZEXALL which is way more difficult on timing than just rendering. See this: [Sprites sequence control through DeltaTime](https://stackoverflow.com/a/41920247/2521214) and all the sublinks in there it should be a good start point to your problem ... if its not time related then it might be gfx api used what is it (GDI encapsulated in VCL,firemonkey or GL,DX,X11 or what)?","body":"@EricFortier for example I got MC perfect emulation and timing Z80 emulator done like this (timing in <code>[us]</code>) interconecting other ICs and passing ZEXALL which is way more difficult on timing than just rendering. See this: <a href=\"https://stackoverflow.com/a/41920247/2521214\">Sprites sequence control through DeltaTime</a> and all the sublinks in there it should be a good start point to your problem ... if its not time related then it might be gfx api used what is it (GDI encapsulated in VCL,firemonkey or GL,DX,X11 or what)?"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":1,"creation_date":1694675627,"post_id":45342366,"comment_id":135922992,"body_markdown":"@EricFortier Also in case you have separate threads for render and physics it might be the core source of your problem syncing them ... locking mechanisms (at least on windows) are a nightmare and usually the behavior changes with each windows version and SP ... making lockless schemes unreliable with updates... My experience lately (from win10+) sometimes even OS locks does not work as expected or at all","body":"@EricFortier Also in case you have separate threads for render and physics it might be the core source of your problem syncing them ... locking mechanisms (at least on windows) are a nightmare and usually the behavior changes with each windows version and SP ... making lockless schemes unreliable with updates... My experience lately (from win10+) sometimes even OS locks does not work as expected or at all"}],"answers":[{"tags":[],"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1501197624,"creation_date":1501159490,"answer_id":45351205,"question_id":45342366,"body_markdown":"Your &quot;fixed time step&quot; is not as smooth as you think.\r\n&lt;br&gt;This code:\r\n\r\n    while (accumulator &gt;= interval) {\r\n        gameApp.update();\r\n        timer.updateUPS();\r\n        accumulator -= interval;\r\n    }\r\nmay run at 10000000Hz or at 0.1Hz depending on how long `gameApp.update()`takes to execute.\r\n&lt;p&gt;**Edit**: You can&#39;t take for sure that `timer.getDelta()` is aproximately the same value each time is called. Same goes for `accumulator`, which also depends on the remaining value after last `-=interval` call but starts with a different `delta` each time.\r\n&lt;br&gt;The OS can take more time for its own proccesses, delaying yours. Sometimes your *time-step based on measures* may run fine, and the next second it halts for a few milliseconds, enough to mess those measures.\r\n&lt;br&gt;Also, be aware that sending commands to GPU doesn&#39;t guarantee they get processed immediately; perhaps they accumulate and later run all in a row.\r\n\r\n&lt;p&gt;If you wish some code to be executed every M milliseconds (e.g. 16.6ms for 60 FPS) then use a **Timer** and **scheduleAtFixedRate()**. See [this](https://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java)\r\n\r\n&lt;p&gt;The next issue you must deal with is that rendering must be done in a shorter time than the fixed step, or else some delay appears. To achieve this goal send to the GPU most of data (vertices, textures, etc) just once. And for each frame render send only the updated data (the camera position, or just a few objects).\r\n","title":"Fixed time step stutter even with interpolation?","body":"<p>Your \"fixed time step\" is not as smooth as you think.\n<br>This code:</p>\n\n<pre><code>while (accumulator &gt;= interval) {\n    gameApp.update();\n    timer.updateUPS();\n    accumulator -= interval;\n}\n</code></pre>\n\n<p>may run at 10000000Hz or at 0.1Hz depending on how long <code>gameApp.update()</code>takes to execute.\n<p><strong>Edit</strong>: You can't take for sure that <code>timer.getDelta()</code> is aproximately the same value each time is called. Same goes for <code>accumulator</code>, which also depends on the remaining value after last <code>-=interval</code> call but starts with a different <code>delta</code> each time.\n<br>The OS can take more time for its own proccesses, delaying yours. Sometimes your <em>time-step based on measures</em> may run fine, and the next second it halts for a few milliseconds, enough to mess those measures.\n<br>Also, be aware that sending commands to GPU doesn't guarantee they get processed immediately; perhaps they accumulate and later run all in a row.</p>\n\n<p><p>If you wish some code to be executed every M milliseconds (e.g. 16.6ms for 60 FPS) then use a <strong>Timer</strong> and <strong>scheduleAtFixedRate()</strong>. See <a href=\"https://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java\">this</a></p>\n\n<p><p>The next issue you must deal with is that rendering must be done in a shorter time than the fixed step, or else some delay appears. To achieve this goal send to the GPU most of data (vertices, textures, etc) just once. And for each frame render send only the updated data (the camera position, or just a few objects).</p>\n"}],"owner":{"account_id":11342697,"reputation":117,"user_id":8316191,"accept_rate":80,"display_name":"Robert Harbison"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":1,"score":3,"last_activity_date":1694204604,"creation_date":1501134749,"question_id":45342366,"body_markdown":"First let me describe what I mean by stutter. When the player moves it looks as if it moves forward a little then back to where it should be and keeps doing it. I am making a small game for learning purposes in lwjgl3 and I am using JOML as my math library. I implemented a fixed time step loop (FPS = 60 and UPS = 30) and I use interpolation to try and smooth my player movement. It works nicely sometimes (not as smooth as I want it though) but other times its just as stuttery as without it. Any ideas on how to fix this? Am I doing the interpolation correctly?\r\n\r\nGame Loop:\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twindow.init(&quot;Game&quot;, 1280, 720);\r\n\t\tGL.createCapabilities();\r\n\t\t\r\n\t\tgameApp.init();\r\n\t\t\r\n\t\ttimer.init();\r\n\t\t\r\n\t\tfloat delta;\r\n\t\tfloat accumulator = 0f;\r\n\t\tfloat interval = 1f / Settings.TARGET_UPS;\r\n\t\tfloat alpha;\r\n\r\n\t\twhile (running) {\r\n\t\t\tdelta = timer.getDelta();\r\n\t\t\taccumulator += delta;\r\n\t\t\t\r\n\t\t\tgameApp.input();\r\n\t\t\t\r\n\t\t\twhile (accumulator &gt;= interval) {\r\n\t\t\t\tgameApp.update();\r\n\t\t\t\ttimer.updateUPS();\r\n\t\t\t\taccumulator -= interval;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\talpha = accumulator / interval;\r\n\t\t\t\r\n\t\t\tgameApp.render(alpha);\r\n\t\t\ttimer.updateFPS();\r\n\t\t\ttimer.update();\r\n\t\t\twindow.update();\r\n\t\t\t\r\n\t\t\tif (Settings.SHOW_PERFORMANCE) {\r\n\t\t\t\tSystem.out.println(&quot;FPS: &quot; + timer.getFPS() + &quot; UPS: &quot; + timer.getUPS());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (window.windowShouldClose()) {\r\n\t\t\t\trunning = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tgameApp.cleanUp();\r\n\t\twindow.cleanUp();\r\n\t}\r\n\r\nSpriteRenderer:\r\n\r\n    public class SpriteRenderer {\r\n    \r\n    \tpublic StaticShader staticShader;\r\n    \t\r\n    \tpublic SpriteRenderer(StaticShader staticShader, Matrix4f projectionMatrix) {\r\n    \t\tthis.staticShader = staticShader;\r\n    \t\tstaticShader.start();\r\n    \t\tstaticShader.loadProjectionMatrix(projectionMatrix);\r\n    \t\tstaticShader.stop();\r\n    \t}\r\n    \t\r\n    \tpublic void render(Map&lt;TexturedMesh, List&lt;Entity&gt;&gt; entities, float alpha) {\r\n    \t\tfor (TexturedMesh mesh : entities.keySet()) {\r\n    \t\t\tprepareTexturedMesh(mesh);\r\n    \t\t\tList&lt;Entity&gt; batch = entities.get(mesh);\r\n    \t\t\tfor (Entity entity : batch) {\r\n    \t\t\t\t\r\n    \t\t\t\tVector2f spritePos = entity.getSprite().getTransform().getPosition();\r\n    \t\t\t\tVector2f playerPos = entity.getTransform().getPosition();\r\n    \t\t\t\tspritePos.x = playerPos.x * alpha + spritePos.x * (1.0f - alpha);\r\n    \t\t\t\tspritePos.y = playerPos.y * alpha + spritePos.y * (1.0f - alpha);\r\n    \t\t\t\t\r\n    \t\t\t\tprepareInstance(entity.getSprite());\r\n    \t\t\t\tGL11.glDrawArrays(GL11.GL_TRIANGLES, 0, entity.getSprite().getTexturedMesh().getMesh().getVertexCount());\r\n    \t\t\t}\r\n    \t\t\tunbindTexturedMesh();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void unbindTexturedMesh() {\r\n    \t\tGL20.glDisableVertexAttribArray(0);\r\n    \t\tGL20.glDisableVertexAttribArray(1);\r\n    \t\tGL30.glBindVertexArray(0);\r\n    \t}\r\n    \t\r\n    \tprivate void prepareInstance(Sprite sprite) {\r\n    \t\tTransform spriteTransform = sprite.getTransform();\r\n    \t\tMatrix4f modelMatrix = Maths.createModelMatrix(spriteTransform.getPosition(), spriteTransform.getScale(), spriteTransform.getRotation());\r\n    \t\tstaticShader.loadModelMatrix(modelMatrix);\r\n    \t}\r\n    \r\n    \tprivate void prepareTexturedMesh(TexturedMesh texturedMesh) {\r\n    \t\tMesh mesh = texturedMesh.getMesh();\r\n    \t\tmesh.getVao().bind();\r\n    \t\tGL20.glEnableVertexAttribArray(0);\r\n    \t\tGL20.glEnableVertexAttribArray(1);\r\n    \r\n    \t\tGL13.glActiveTexture(GL13.GL_TEXTURE0);\r\n    \t\ttexturedMesh.getTexture().bind();\r\n    \t}\r\n    }\r\n\r\nEntityPlayer:\r\n\r\n    public class EntityPlayer extends Entity {\r\n    \t\r\n    \tprivate float xspeed = 0;\r\n    \tprivate float yspeed = 0;\r\n    \t\r\n    \tprivate final float SPEED = 0.04f;\r\n    \t\r\n    \tpublic EntityPlayer(Sprite sprite, Vector2f position, Vector2f scale, float rotation) {\r\n    \t\tsuper(sprite, position, scale, rotation);\r\n    \t\tthis.getSprite().getTransform().setPosition(position);\r\n    \t\tthis.getSprite().getTransform().setScale(scale);\r\n    \t\tthis.getSprite().getTransform().setRotation(rotation);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void update() {\r\n    \t\tthis.getTransform().setPosition(new Vector2f(this.getTransform().getPosition().x += xspeed, this.getTransform().getPosition().y += yspeed));\r\n    \t}\r\n    \t\r\n    \tpublic void input() {\r\n    \t\tif (KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_RIGHT)) {\r\n    \t\t\txspeed = SPEED;\r\n    \t\t} else if (KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_LEFT)) {\r\n    \t\t\txspeed = -SPEED;\r\n    \t\t} else {\r\n    \t\t\txspeed = 0;\r\n    \t\t}\r\n    \r\n    \t\tif (KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_UP)) {\r\n    \t\t\tyspeed = SPEED;\r\n    \t\t} else if (KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_DOWN)) {\r\n    \t\t\tyspeed = -SPEED;\r\n    \t\t} else {\r\n    \t\t\tyspeed = 0;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nTimer:\r\n\r\n        public class Timer {\r\n    \r\n    \tprivate double lastLoopTime;\r\n    \tprivate float timeCount;\r\n    \tprivate int fps;\r\n    \tprivate int fpsCount;\r\n    \tprivate int ups;\r\n    \tprivate int upsCount;\r\n    \t\r\n    \tpublic void init() {\r\n    \t\tlastLoopTime = getTime();\r\n    \t}\r\n    \t\r\n    \tpublic double getTime() {\r\n    \t\treturn GLFW.glfwGetTime();\r\n    \t}\r\n    \t\r\n    \tpublic float getDelta() {\r\n    \t\tdouble time = getTime();\r\n    \t\tfloat delta = (float) (time - lastLoopTime);\r\n    \t\tlastLoopTime = time;\r\n    \t\ttimeCount += delta;\r\n    \t\treturn delta;\r\n    \t}\r\n    \t\r\n    \tpublic void updateFPS() {\r\n    \t\tfpsCount++;\r\n    \t}\r\n    \t\r\n    \tpublic void updateUPS() {\r\n    \t\tupsCount++;\r\n    \t}\r\n    \t\r\n    \t// Update the FPS and UPS if a whole second has passed\r\n    \tpublic void update() {\r\n    \t\tif (timeCount &gt; 1f) {\r\n    \t\t\tfps = fpsCount;\r\n    \t\t\tfpsCount = 0;\r\n    \t\t\t\r\n    \t\t\tups = upsCount;\r\n    \t\t\tupsCount = 0;\r\n    \t\t\t\r\n    \t\t\ttimeCount -= 1f;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic int getFPS() {\r\n    \t\treturn fps &gt; 0 ? fps : fpsCount;\r\n    \t}\r\n    \t\r\n    \tpublic int getUPS() {\r\n    \t\treturn ups &gt; 0 ? ups : upsCount;\r\n    \t}\r\n    \t\r\n    \tpublic double getLastLoopTime() {\r\n    \t\treturn lastLoopTime;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Fixed time step stutter even with interpolation?","body":"<p>First let me describe what I mean by stutter. When the player moves it looks as if it moves forward a little then back to where it should be and keeps doing it. I am making a small game for learning purposes in lwjgl3 and I am using JOML as my math library. I implemented a fixed time step loop (FPS = 60 and UPS = 30) and I use interpolation to try and smooth my player movement. It works nicely sometimes (not as smooth as I want it though) but other times its just as stuttery as without it. Any ideas on how to fix this? Am I doing the interpolation correctly?</p>\n\n<p>Game Loop:</p>\n\n<pre><code>@Override\npublic void run() {\n    window.init(\"Game\", 1280, 720);\n    GL.createCapabilities();\n\n    gameApp.init();\n\n    timer.init();\n\n    float delta;\n    float accumulator = 0f;\n    float interval = 1f / Settings.TARGET_UPS;\n    float alpha;\n\n    while (running) {\n        delta = timer.getDelta();\n        accumulator += delta;\n\n        gameApp.input();\n\n        while (accumulator &gt;= interval) {\n            gameApp.update();\n            timer.updateUPS();\n            accumulator -= interval;\n        }\n\n        alpha = accumulator / interval;\n\n        gameApp.render(alpha);\n        timer.updateFPS();\n        timer.update();\n        window.update();\n\n        if (Settings.SHOW_PERFORMANCE) {\n            System.out.println(\"FPS: \" + timer.getFPS() + \" UPS: \" + timer.getUPS());\n        }\n\n        if (window.windowShouldClose()) {\n            running = false;\n        }\n    }\n\n    gameApp.cleanUp();\n    window.cleanUp();\n}\n</code></pre>\n\n<p>SpriteRenderer:</p>\n\n<pre><code>public class SpriteRenderer {\n\n    public StaticShader staticShader;\n\n    public SpriteRenderer(StaticShader staticShader, Matrix4f projectionMatrix) {\n        this.staticShader = staticShader;\n        staticShader.start();\n        staticShader.loadProjectionMatrix(projectionMatrix);\n        staticShader.stop();\n    }\n\n    public void render(Map&lt;TexturedMesh, List&lt;Entity&gt;&gt; entities, float alpha) {\n        for (TexturedMesh mesh : entities.keySet()) {\n            prepareTexturedMesh(mesh);\n            List&lt;Entity&gt; batch = entities.get(mesh);\n            for (Entity entity : batch) {\n\n                Vector2f spritePos = entity.getSprite().getTransform().getPosition();\n                Vector2f playerPos = entity.getTransform().getPosition();\n                spritePos.x = playerPos.x * alpha + spritePos.x * (1.0f - alpha);\n                spritePos.y = playerPos.y * alpha + spritePos.y * (1.0f - alpha);\n\n                prepareInstance(entity.getSprite());\n                GL11.glDrawArrays(GL11.GL_TRIANGLES, 0, entity.getSprite().getTexturedMesh().getMesh().getVertexCount());\n            }\n            unbindTexturedMesh();\n        }\n    }\n\n    private void unbindTexturedMesh() {\n        GL20.glDisableVertexAttribArray(0);\n        GL20.glDisableVertexAttribArray(1);\n        GL30.glBindVertexArray(0);\n    }\n\n    private void prepareInstance(Sprite sprite) {\n        Transform spriteTransform = sprite.getTransform();\n        Matrix4f modelMatrix = Maths.createModelMatrix(spriteTransform.getPosition(), spriteTransform.getScale(), spriteTransform.getRotation());\n        staticShader.loadModelMatrix(modelMatrix);\n    }\n\n    private void prepareTexturedMesh(TexturedMesh texturedMesh) {\n        Mesh mesh = texturedMesh.getMesh();\n        mesh.getVao().bind();\n        GL20.glEnableVertexAttribArray(0);\n        GL20.glEnableVertexAttribArray(1);\n\n        GL13.glActiveTexture(GL13.GL_TEXTURE0);\n        texturedMesh.getTexture().bind();\n    }\n}\n</code></pre>\n\n<p>EntityPlayer:</p>\n\n<pre><code>public class EntityPlayer extends Entity {\n\n    private float xspeed = 0;\n    private float yspeed = 0;\n\n    private final float SPEED = 0.04f;\n\n    public EntityPlayer(Sprite sprite, Vector2f position, Vector2f scale, float rotation) {\n        super(sprite, position, scale, rotation);\n        this.getSprite().getTransform().setPosition(position);\n        this.getSprite().getTransform().setScale(scale);\n        this.getSprite().getTransform().setRotation(rotation);\n    }\n\n    @Override\n    public void update() {\n        this.getTransform().setPosition(new Vector2f(this.getTransform().getPosition().x += xspeed, this.getTransform().getPosition().y += yspeed));\n    }\n\n    public void input() {\n        if (KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_RIGHT)) {\n            xspeed = SPEED;\n        } else if (KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_LEFT)) {\n            xspeed = -SPEED;\n        } else {\n            xspeed = 0;\n        }\n\n        if (KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_UP)) {\n            yspeed = SPEED;\n        } else if (KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_DOWN)) {\n            yspeed = -SPEED;\n        } else {\n            yspeed = 0;\n        }\n    }\n}\n</code></pre>\n\n<p>Timer:</p>\n\n<pre><code>    public class Timer {\n\n    private double lastLoopTime;\n    private float timeCount;\n    private int fps;\n    private int fpsCount;\n    private int ups;\n    private int upsCount;\n\n    public void init() {\n        lastLoopTime = getTime();\n    }\n\n    public double getTime() {\n        return GLFW.glfwGetTime();\n    }\n\n    public float getDelta() {\n        double time = getTime();\n        float delta = (float) (time - lastLoopTime);\n        lastLoopTime = time;\n        timeCount += delta;\n        return delta;\n    }\n\n    public void updateFPS() {\n        fpsCount++;\n    }\n\n    public void updateUPS() {\n        upsCount++;\n    }\n\n    // Update the FPS and UPS if a whole second has passed\n    public void update() {\n        if (timeCount &gt; 1f) {\n            fps = fpsCount;\n            fpsCount = 0;\n\n            ups = upsCount;\n            upsCount = 0;\n\n            timeCount -= 1f;\n        }\n    }\n\n    public int getFPS() {\n        return fps &gt; 0 ? fps : fpsCount;\n    }\n\n    public int getUPS() {\n        return ups &gt; 0 ? ups : upsCount;\n    }\n\n    public double getLastLoopTime() {\n        return lastLoopTime;\n    }\n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"score":1,"creation_date":1542221650,"post_id":2709593,"comment_id":93494648,"body_markdown":"https://dzone.com/articles/java-extensible-enum-with-interface","body":"<a href=\"https://dzone.com/articles/java-extensible-enum-with-interface\" rel=\"nofollow noreferrer\">dzone.com/articles/java-extensible-enum-with-interface</a>"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":1,"up_vote_count":156,"is_accepted":true,"score":155,"last_activity_date":1272224078,"creation_date":1272224078,"answer_id":2709604,"question_id":2709593,"body_markdown":"Enums don&#39;t just have to represent passive sets (e.g. colours). They can represent more complex objects with functionality, and so you&#39;re then likely to want to add further functionality to these - e.g. you may have interfaces such as `Printable`, `Reportable` etc. and components that support these.","title":"Why would an Enum implement an Interface?","body":"<p>Enums don't just have to represent passive sets (e.g. colours). They can represent more complex objects with functionality, and so you're then likely to want to add further functionality to these - e.g. you may have interfaces such as <code>Printable</code>, <code>Reportable</code> etc. and components that support these.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1366757393,"creation_date":1272224192,"answer_id":2709615,"question_id":2709593,"body_markdown":"Enums are just classes in disguise, so for the most part, anything you can do with a class you can do with an enum.\r\n\r\nI cannot think of a reason that an enum should not be able to implement an interface, at the same time I cannot think of a good reason for them to either.  \r\n\r\nI would say once you start adding thing like interfaces, or method to an enum you should really consider making it a class instead.  Of course I am sure there are valid cases for doing non-traditional enum things, and since the limit would be an artificial one, I am in favour of letting people do what they want there.","title":"Why would an Enum implement an Interface?","body":"<p>Enums are just classes in disguise, so for the most part, anything you can do with a class you can do with an enum.</p>\n\n<p>I cannot think of a reason that an enum should not be able to implement an interface, at the same time I cannot think of a good reason for them to either.  </p>\n\n<p>I would say once you start adding thing like interfaces, or method to an enum you should really consider making it a class instead.  Of course I am sure there are valid cases for doing non-traditional enum things, and since the limit would be an artificial one, I am in favour of letting people do what they want there.</p>\n"},{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1272227477,"creation_date":1272224237,"answer_id":2709618,"question_id":2709593,"body_markdown":"It&#39;s required for extensibility -- if someone uses an API you&#39;ve developed, the enums you define are static; they can&#39;t be added to or modified. However, if you let it implement an interface, the person using the API can develop their own enum using the same interface. You can then register this enum with an enum manager which conglomerates the enums together with the standard interface.\r\n\r\nEdit: [@Helper Method][1] has the perfect example of this. Think about having other libraries defining new operators and then telling a manager class that &#39;hey, this enum exists -- register it&#39;. Otherwise, you&#39;d only be able to define Operators in your own code - there&#39;d be no extensibility.\r\n\r\n\r\n  [1]: #2709831","title":"Why would an Enum implement an Interface?","body":"<p>It's required for extensibility -- if someone uses an API you've developed, the enums you define are static; they can't be added to or modified. However, if you let it implement an interface, the person using the API can develop their own enum using the same interface. You can then register this enum with an enum manager which conglomerates the enums together with the standard interface.</p>\n\n<p>Edit: @Helper Method has the perfect example of this. Think about having other libraries defining new operators and then telling a manager class that 'hey, this enum exists -- register it'. Otherwise, you'd only be able to define Operators in your own code - there'd be no extensibility.</p>\n"},{"tags":[],"owner":{"account_id":109330,"reputation":1789,"user_id":289746,"accept_rate":71,"display_name":"Tansir1"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1272224950,"creation_date":1272224950,"answer_id":2709672,"question_id":2709593,"body_markdown":"Since Enums can implement interfaces they can be used for strict enforcing of the singleton pattern.  Trying to make a standard class a singleton allows...\r\n\r\n - for the possibility of using reflection techniques to expose private methods as public \r\n - for inheriting from your singleton and overriding your singleton&#39;s methods with something else\r\n\r\nEnums as singletons help to prevent these security issues.  This might have been one of the contributing reasons to let Enums act as classes and implement interfaces.  Just a guess.\r\n\r\nSee [https://stackoverflow.com/questions/427902/java-enum-singleton][1] and [https://stackoverflow.com/questions/2111768/singleton-class-in-java][2] for more discussion.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/427902/java-enum-singleton &quot;https://stackoverflow.com/questions/427902/java-enum-singleton&quot;\r\n  [2]: https://stackoverflow.com/questions/2111768/singleton-class-in-java","title":"Why would an Enum implement an Interface?","body":"<p>Since Enums can implement interfaces they can be used for strict enforcing of the singleton pattern.  Trying to make a standard class a singleton allows...</p>\n\n<ul>\n<li>for the possibility of using reflection techniques to expose private methods as public </li>\n<li>for inheriting from your singleton and overriding your singleton's methods with something else</li>\n</ul>\n\n<p>Enums as singletons help to prevent these security issues.  This might have been one of the contributing reasons to let Enums act as classes and implement interfaces.  Just a guess.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/427902/java-enum-singleton\" title=\"https://stackoverflow.com/questions/427902/java-enum-singleton\">https://stackoverflow.com/questions/427902/java-enum-singleton</a> and <a href=\"https://stackoverflow.com/questions/2111768/singleton-class-in-java\">Singleton class in java</a> for more discussion.</p>\n"},{"tags":[],"owner":{"account_id":88014,"reputation":60053,"user_id":1178669,"accept_rate":93,"display_name":"helpermethod"},"down_vote_count":0,"up_vote_count":297,"is_accepted":false,"score":297,"last_activity_date":1332432117,"creation_date":1272227130,"answer_id":2709831,"question_id":2709593,"body_markdown":"Here&#39;s one example (a similar/better one is found in Effective Java 2nd Edition):\r\n\r\n    public interface Operator {\r\n        int apply (int a, int b);\r\n    }\r\n\r\n    public enum SimpleOperators implements Operator {\r\n        PLUS { \r\n            int apply(int a, int b) { return a + b; }\r\n        },\r\n        MINUS { \r\n            int apply(int a, int b) { return a - b; }\r\n        };\r\n    }\r\n\r\n    public enum ComplexOperators implements Operator {\r\n        // can&#39;t think of an example right now :-/\r\n    }\r\n\r\nNow to get a list of both the Simple + Complex Operators:\r\n\r\n    List&lt;Operator&gt; operators = new ArrayList&lt;Operator&gt;();\r\n\r\n    operators.addAll(Arrays.asList(SimpleOperators.values()));\r\n    operators.addAll(Arrays.asList(ComplexOperators.values()));\r\n\r\nSo here you use an interface to simulate extensible enums (which wouldn&#39;t be possible without using an interface).\r\n   ","title":"Why would an Enum implement an Interface?","body":"<p>Here's one example (a similar/better one is found in Effective Java 2nd Edition):</p>\n\n<pre><code>public interface Operator {\n    int apply (int a, int b);\n}\n\npublic enum SimpleOperators implements Operator {\n    PLUS { \n        int apply(int a, int b) { return a + b; }\n    },\n    MINUS { \n        int apply(int a, int b) { return a - b; }\n    };\n}\n\npublic enum ComplexOperators implements Operator {\n    // can't think of an example right now :-/\n}\n</code></pre>\n\n<p>Now to get a list of both the Simple + Complex Operators:</p>\n\n<pre><code>List&lt;Operator&gt; operators = new ArrayList&lt;Operator&gt;();\n\noperators.addAll(Arrays.asList(SimpleOperators.values()));\noperators.addAll(Arrays.asList(ComplexOperators.values()));\n</code></pre>\n\n<p>So here you use an interface to simulate extensible enums (which wouldn't be possible without using an interface).</p>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1272291320,"creation_date":1272266537,"answer_id":2711682,"question_id":2709593,"body_markdown":"The `Comparable` example given by several people here is wrong, since `Enum` already implements that. You can&#39;t even override it.\r\n\r\nA better example is having an interface that defines, let&#39;s say, a data type. You can have an enum to implement the simple types, and have normal classes to implement complicated types:\r\n\r\n    interface DataType {\r\n      // methods here\r\n    }\r\n    \r\n    enum SimpleDataType implements DataType {\r\n      INTEGER, STRING;\r\n\r\n      // implement methods\r\n    }\r\n    \r\n    class IdentifierDataType implements DataType {\r\n      // implement interface and maybe add more specific methods\r\n    }","title":"Why would an Enum implement an Interface?","body":"<p>The <code>Comparable</code> example given by several people here is wrong, since <code>Enum</code> already implements that. You can't even override it.</p>\n\n<p>A better example is having an interface that defines, let's say, a data type. You can have an enum to implement the simple types, and have normal classes to implement complicated types:</p>\n\n<pre><code>interface DataType {\n  // methods here\n}\n\nenum SimpleDataType implements DataType {\n  INTEGER, STRING;\n\n  // implement methods\n}\n\nclass IdentifierDataType implements DataType {\n  // implement interface and maybe add more specific methods\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130067,"reputation":335,"user_id":329053,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1272555444,"creation_date":1272555444,"answer_id":2738648,"question_id":2709593,"body_markdown":"For example if you have a Logger enum. Then you should have the logger methods such as debug, info, warning and error in the interface. It makes your code loosely coupled.","title":"Why would an Enum implement an Interface?","body":"<p>For example if you have a Logger enum. Then you should have the logger methods such as debug, info, warning and error in the interface. It makes your code loosely coupled.</p>\n"},{"tags":[],"owner":{"account_id":261099,"reputation":1526,"user_id":545061,"accept_rate":55,"display_name":"Cosmin Cosmin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1307606534,"creation_date":1307606534,"answer_id":6289804,"question_id":2709593,"body_markdown":"Enums are like Java Classes, they can have Constructors, Methods, etc. The only thing that you can&#39;t do with them is `new EnumName()`. The instances are predefined in your enum declaration.","title":"Why would an Enum implement an Interface?","body":"<p>Enums are like Java Classes, they can have Constructors, Methods, etc. The only thing that you can't do with them is <code>new EnumName()</code>. The instances are predefined in your enum declaration.</p>\n"},{"tags":[],"owner":{"account_id":45917,"reputation":20079,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1336471147,"creation_date":1336471147,"answer_id":10496435,"question_id":2709593,"body_markdown":"There is a case I often use. I have a `IdUtil` class with static methods to work with objects implementing a very simple `Identifiable` interface:\r\n\r\n    public interface Identifiable&lt;K&gt; {\r\n        K getId();\r\n    }\r\n\r\n\r\n    public abstract class IdUtil {\r\n\r\n        public static &lt;T extends Enum&lt;T&gt; &amp; Identifiable&lt;S&gt;, S&gt; T get(Class&lt;T&gt; type, S id) {\r\n            for (T t : type.getEnumConstants()) {\r\n                if (Util.equals(t.getId(), id)) {\r\n                    return t;\r\n                }\r\n\t\t    }\r\n\t\t    return null;\r\n\t    }\r\n\r\n\t    public static &lt;T extends Enum&lt;T&gt; &amp; Identifiable&lt;S&gt;, S extends Comparable&lt;? super S&gt;&gt; List&lt;T&gt; getLower(T en) {\r\n\t\t    List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n\t\t    for (T t : en.getDeclaringClass().getEnumConstants()) {\r\n\t\t\t     if (t.getId().compareTo(en.getId()) &lt; 0) {\r\n\t\t\t\t     list.add(t);\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    return list;\r\n\t    }\r\n    }\r\n\r\n\r\nIf I create an `Identifiable` `enum`:\r\n\r\n    \tpublic enum MyEnum implements Identifiable&lt;Integer&gt; {\r\n\r\n\t\t    FIRST(1), SECOND(2);\r\n\r\n\t\t    private int id;\r\n\r\n\t\t    private MyEnum(int id) {\r\n\t\t\t    this.id = id;\r\n\t\t    }\r\n\r\n\t\t    public Integer getId() {\r\n\t\t\t    return id;\r\n\t\t    }\r\n\r\n\t    }\r\n\r\nThen I can get it by its `id` this way:\r\n\r\n    MyEnum e = IdUtil.get(MyEnum.class, 1);\r\n\r\n","title":"Why would an Enum implement an Interface?","body":"<p>There is a case I often use. I have a <code>IdUtil</code> class with static methods to work with objects implementing a very simple <code>Identifiable</code> interface:</p>\n\n<pre><code>public interface Identifiable&lt;K&gt; {\n    K getId();\n}\n\n\npublic abstract class IdUtil {\n\n    public static &lt;T extends Enum&lt;T&gt; &amp; Identifiable&lt;S&gt;, S&gt; T get(Class&lt;T&gt; type, S id) {\n        for (T t : type.getEnumConstants()) {\n            if (Util.equals(t.getId(), id)) {\n                return t;\n            }\n        }\n        return null;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt; &amp; Identifiable&lt;S&gt;, S extends Comparable&lt;? super S&gt;&gt; List&lt;T&gt; getLower(T en) {\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();\n        for (T t : en.getDeclaringClass().getEnumConstants()) {\n             if (t.getId().compareTo(en.getId()) &lt; 0) {\n                 list.add(t);\n            }\n        }\n        return list;\n    }\n}\n</code></pre>\n\n<p>If I create an <code>Identifiable</code> <code>enum</code>:</p>\n\n<pre><code>    public enum MyEnum implements Identifiable&lt;Integer&gt; {\n\n        FIRST(1), SECOND(2);\n\n        private int id;\n\n        private MyEnum(int id) {\n            this.id = id;\n        }\n\n        public Integer getId() {\n            return id;\n        }\n\n    }\n</code></pre>\n\n<p>Then I can get it by its <code>id</code> this way:</p>\n\n<pre><code>MyEnum e = IdUtil.get(MyEnum.class, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":887546,"reputation":9293,"user_id":926620,"display_name":"Anton Bessonov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1337523124,"creation_date":1337523124,"answer_id":10674125,"question_id":2709593,"body_markdown":"One of the best use case for me to use enum&#39;s with interface is Predicate filters. It&#39;s very elegant way to remedy lack of typness of apache collections (If other libraries mayn&#39;t be used).\r\n\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collection;\r\n\t\r\n\timport org.apache.commons.collections.CollectionUtils;\r\n\timport org.apache.commons.collections.Predicate;\r\n\t\r\n\t\r\n\tpublic class Test {\r\n\t\tpublic final static String DEFAULT_COMPONENT = &quot;Default&quot;;\r\n\t\r\n\t\tenum FilterTest implements Predicate {\r\n\t\t\tActive(false) {\r\n\t\t\t\t@Override\r\n\t\t\t\tboolean eval(Test test) {\r\n\t\t\t\t\treturn test.active;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tDefaultComponent(true) {\r\n\t\t\t\t@Override\r\n\t\t\t\tboolean eval(Test test) {\r\n\t\t\t\t\treturn DEFAULT_COMPONENT.equals(test.component);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t;\r\n\t\r\n\t\t\tprivate boolean defaultValue;\r\n\t\r\n\t\t\tprivate FilterTest(boolean defautValue) {\r\n\t\t\t\tthis.defaultValue = defautValue;\r\n\t\t\t}\r\n\t\r\n\t\t\tabstract boolean eval(Test test);\r\n\t\r\n\t\t\tpublic boolean evaluate(Object o) {\r\n\t\t\t\tif (o instanceof Test) {\r\n\t\t\t\t\treturn eval((Test)o);\r\n\t\t\t\t}\r\n\t\t\t\treturn defaultValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tprivate boolean active = true;\r\n\t\tprivate String component = DEFAULT_COMPONENT;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tCollection&lt;Test&gt; tests = new ArrayList&lt;Test&gt;();\r\n\t\t\ttests.add(new Test());\r\n\t\r\n\t\t\tCollectionUtils.filter(tests, FilterTest.Active);\r\n\t\t}\r\n\t}\r\n","title":"Why would an Enum implement an Interface?","body":"<p>One of the best use case for me to use enum's with interface is Predicate filters. It's very elegant way to remedy lack of typness of apache collections (If other libraries mayn't be used).</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\n\nimport org.apache.commons.collections.CollectionUtils;\nimport org.apache.commons.collections.Predicate;\n\n\npublic class Test {\n    public final static String DEFAULT_COMPONENT = \"Default\";\n\n    enum FilterTest implements Predicate {\n        Active(false) {\n            @Override\n            boolean eval(Test test) {\n                return test.active;\n            }\n        },\n        DefaultComponent(true) {\n            @Override\n            boolean eval(Test test) {\n                return DEFAULT_COMPONENT.equals(test.component);\n            }\n        }\n\n        ;\n\n        private boolean defaultValue;\n\n        private FilterTest(boolean defautValue) {\n            this.defaultValue = defautValue;\n        }\n\n        abstract boolean eval(Test test);\n\n        public boolean evaluate(Object o) {\n            if (o instanceof Test) {\n                return eval((Test)o);\n            }\n            return defaultValue;\n        }\n\n    }\n\n    private boolean active = true;\n    private String component = DEFAULT_COMPONENT;\n\n    public static void main(String[] args) {\n        Collection&lt;Test&gt; tests = new ArrayList&lt;Test&gt;();\n        tests.add(new Test());\n\n        CollectionUtils.filter(tests, FilterTest.Active);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1367242383,"creation_date":1367242383,"answer_id":16279972,"question_id":2709593,"body_markdown":"Here&#39;s my reason why ...\r\n\r\nI have populated a JavaFX ComboBox with the values of an Enum.  I have an interface, Identifiable (specifying one method: identify), that allows me to specify how any object identifies itself to my application for searching purposes.  This interface enables me to scan lists of any type of objects (whichever field the object may use for identity) for an identity match.\r\n\r\nI&#39;d like to find a match for an identity value in my ComboBox list. In order to use this capability on my ComboBox containing the Enum values, I must be able to implement the Identifiable interface in my Enum (which, as it happens, is trivial to implement in the case of an Enum).\r\n","title":"Why would an Enum implement an Interface?","body":"<p>Here's my reason why ...</p>\n\n<p>I have populated a JavaFX ComboBox with the values of an Enum.  I have an interface, Identifiable (specifying one method: identify), that allows me to specify how any object identifies itself to my application for searching purposes.  This interface enables me to scan lists of any type of objects (whichever field the object may use for identity) for an identity match.</p>\n\n<p>I'd like to find a match for an identity value in my ComboBox list. In order to use this capability on my ComboBox containing the Enum values, I must be able to implement the Identifiable interface in my Enum (which, as it happens, is trivial to implement in the case of an Enum).</p>\n"},{"tags":[],"owner":{"account_id":8539,"reputation":14603,"user_id":15461,"accept_rate":71,"display_name":"husayt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1383607133,"creation_date":1383607133,"answer_id":19779148,"question_id":2709593,"body_markdown":"Most common usage for this would be to merge the values of two enums into one group and treat them similarly. For example, see how  to [join Fruits and Vegatables][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17646335/combining-enums-and-using-getter-to-return-a-specified-enum/19778800#19778800","title":"Why would an Enum implement an Interface?","body":"<p>Most common usage for this would be to merge the values of two enums into one group and treat them similarly. For example, see how  to <a href=\"https://stackoverflow.com/questions/17646335/combining-enums-and-using-getter-to-return-a-specified-enum/19778800#19778800\">join Fruits and Vegatables</a>. </p>\n"},{"tags":[],"owner":{"account_id":366370,"reputation":2002,"user_id":711855,"display_name":"juanmf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447607384,"creation_date":1447607384,"answer_id":33722419,"question_id":2709593,"body_markdown":"I used an inner enum in an interface describing a strategy to keep instance control (each strategy is a Singleton) from there.\r\n\r\n    public interface VectorizeStrategy {\r\n        \r\n        /**\r\n         * Keep instance control from here.\r\n         * \r\n         * Concrete classes constructors should be package private.\r\n         */\r\n        enum ConcreteStrategy implements VectorizeStrategy {\r\n            DEFAULT (new VectorizeImpl());\r\n            \r\n            private final VectorizeStrategy INSTANCE;\r\n            \r\n            ConcreteStrategy(VectorizeStrategy concreteStrategy) {\r\n                INSTANCE = concreteStrategy;\r\n            }\r\n\r\n            @Override\r\n            public VectorImageGridIntersections processImage(MarvinImage img) {\r\n                return INSTANCE.processImage(img);\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Should perform edge Detection in order to have lines, that can be vectorized.\r\n         * \r\n         * @param img An Image suitable for edge detection.\r\n         * \r\n         * @return the VectorImageGridIntersections representing img&#39;s vectors \r\n         * intersections with the grids.\r\n         */\r\n        VectorImageGridIntersections processImage(MarvinImage img);\r\n    }\r\n\r\nThe fact that the enum implements the strategy is convenient to allow the enum class to act as proxy for its enclosed Instance. which also implements the interface.\r\n\r\nit&#39;s a sort of strategyEnumProxy :P the clent code looks like this:\r\n\r\n    VectorizeStrategy.ConcreteStrategy.DEFAULT.processImage(img);\r\n\r\nIf it didn&#39;t implement the interface it&#39;d had been:\r\n\r\n    VectorizeStrategy.ConcreteStrategy.DEFAULT.getInstance().processImage(img);\r\n\r\n","title":"Why would an Enum implement an Interface?","body":"<p>I used an inner enum in an interface describing a strategy to keep instance control (each strategy is a Singleton) from there.</p>\n\n<pre><code>public interface VectorizeStrategy {\n\n    /**\n     * Keep instance control from here.\n     * \n     * Concrete classes constructors should be package private.\n     */\n    enum ConcreteStrategy implements VectorizeStrategy {\n        DEFAULT (new VectorizeImpl());\n\n        private final VectorizeStrategy INSTANCE;\n\n        ConcreteStrategy(VectorizeStrategy concreteStrategy) {\n            INSTANCE = concreteStrategy;\n        }\n\n        @Override\n        public VectorImageGridIntersections processImage(MarvinImage img) {\n            return INSTANCE.processImage(img);\n        }\n    }\n\n    /**\n     * Should perform edge Detection in order to have lines, that can be vectorized.\n     * \n     * @param img An Image suitable for edge detection.\n     * \n     * @return the VectorImageGridIntersections representing img's vectors \n     * intersections with the grids.\n     */\n    VectorImageGridIntersections processImage(MarvinImage img);\n}\n</code></pre>\n\n<p>The fact that the enum implements the strategy is convenient to allow the enum class to act as proxy for its enclosed Instance. which also implements the interface.</p>\n\n<p>it's a sort of strategyEnumProxy :P the clent code looks like this:</p>\n\n<pre><code>VectorizeStrategy.ConcreteStrategy.DEFAULT.processImage(img);\n</code></pre>\n\n<p>If it didn't implement the interface it'd had been:</p>\n\n<pre><code>VectorizeStrategy.ConcreteStrategy.DEFAULT.getInstance().processImage(img);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11890945,"reputation":66,"user_id":8701820,"display_name":"Jorge Aranda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518518538,"creation_date":1518517862,"answer_id":48764601,"question_id":2709593,"body_markdown":"Another posibility:\r\n\r\n    public enum ConditionsToBeSatisfied implements Predicate&lt;Number&gt; {\r\n        IS_NOT_NULL(Objects::nonNull, &quot;Item is null&quot;),\r\n        IS_NOT_AN_INTEGER(item -&gt; item instanceof Integer, &quot;Item is not an integer&quot;),\r\n        IS_POSITIVE(item -&gt; item instanceof Integer &amp;&amp; (Integer) item &gt; 0, &quot;Item is negative&quot;);\r\n\r\n        private final Predicate&lt;Number&gt; predicate;\r\n        private final String notSatisfiedLogMessage;\r\n\r\n        ConditionsToBeSatisfied(final Predicate&lt;Number&gt; predicate, final String notSatisfiedLogMessage) {\r\n            this.predicate = predicate;\r\n            this.notSatisfiedLogMessage = notSatisfiedLogMessage;\r\n        }\r\n\r\n        @Override\r\n        public boolean test(final Number item) {\r\n            final boolean isNotValid = predicate.negate().test(item);\r\n\r\n            if (isNotValid) {\r\n                log.warn(&quot;Invalid {}. Cause: {}&quot;, item, notSatisfiedLogMessage);\r\n            }\r\n\r\n            return predicate.test(item);\r\n        }\r\n    }\r\n\r\n\r\nand using:\r\n\r\n    Predicate&lt;Number&gt; p = IS_NOT_NULL.and(IS_NOT_AN_INTEGER).and(IS_POSITIVE);","title":"Why would an Enum implement an Interface?","body":"<p>Another posibility:</p>\n\n<pre><code>public enum ConditionsToBeSatisfied implements Predicate&lt;Number&gt; {\n    IS_NOT_NULL(Objects::nonNull, \"Item is null\"),\n    IS_NOT_AN_INTEGER(item -&gt; item instanceof Integer, \"Item is not an integer\"),\n    IS_POSITIVE(item -&gt; item instanceof Integer &amp;&amp; (Integer) item &gt; 0, \"Item is negative\");\n\n    private final Predicate&lt;Number&gt; predicate;\n    private final String notSatisfiedLogMessage;\n\n    ConditionsToBeSatisfied(final Predicate&lt;Number&gt; predicate, final String notSatisfiedLogMessage) {\n        this.predicate = predicate;\n        this.notSatisfiedLogMessage = notSatisfiedLogMessage;\n    }\n\n    @Override\n    public boolean test(final Number item) {\n        final boolean isNotValid = predicate.negate().test(item);\n\n        if (isNotValid) {\n            log.warn(\"Invalid {}. Cause: {}\", item, notSatisfiedLogMessage);\n        }\n\n        return predicate.test(item);\n    }\n}\n</code></pre>\n\n<p>and using:</p>\n\n<pre><code>Predicate&lt;Number&gt; p = IS_NOT_NULL.and(IS_NOT_AN_INTEGER).and(IS_POSITIVE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1640743222,"creation_date":1541457468,"answer_id":53163279,"question_id":2709593,"body_markdown":"The post above that mentioned strategies didn&#39;t stress enough what a nice lightweight implementation of the strategy pattern using enums gets you:\r\n\r\n    public enum Strategy {\r\n    \r\n      A {\r\n        @Override\r\n        void execute() {\r\n          System.out.print(&quot;Executing strategy A&quot;);\r\n        }\r\n      },\r\n      \r\n      B {\r\n        @Override\r\n        void execute() {\r\n          System.out.print(&quot;Executing strategy B&quot;);\r\n        }\r\n      };\r\n    \r\n      abstract void execute();\r\n    }\r\n\r\nYou can have all your strategies in one place without needing a separate compilation unit for each. You get a nice dynamic dispatch with just:\r\n\r\n    Strategy.valueOf(&quot;A&quot;).execute();\r\n\r\nMakes java read almost like a tasty loosely typed language!","title":"Why would an Enum implement an Interface?","body":"<p>The post above that mentioned strategies didn't stress enough what a nice lightweight implementation of the strategy pattern using enums gets you:</p>\n<pre><code>public enum Strategy {\n\n  A {\n    @Override\n    void execute() {\n      System.out.print(&quot;Executing strategy A&quot;);\n    }\n  },\n  \n  B {\n    @Override\n    void execute() {\n      System.out.print(&quot;Executing strategy B&quot;);\n    }\n  };\n\n  abstract void execute();\n}\n</code></pre>\n<p>You can have all your strategies in one place without needing a separate compilation unit for each. You get a nice dynamic dispatch with just:</p>\n<pre><code>Strategy.valueOf(&quot;A&quot;).execute();\n</code></pre>\n<p>Makes java read almost like a tasty loosely typed language!</p>\n"},{"tags":[],"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1578684068,"creation_date":1567533121,"answer_id":57776583,"question_id":2709593,"body_markdown":"When creating constants in a jar file, it is often helpful to let users extend enum values.  We used enums for PropertyFile keys and got stuck because nobody could add any new ones!  Below would have worked much better.\r\n\r\nGiven:\r\n\r\n    public interface Color {\r\n      String fetchName();\r\n    }\r\n\r\nand:\r\n\r\n    public class MarkTest {\r\n    \r\n      public static void main(String[] args) {\r\n        MarkTest.showColor(Colors.BLUE);\r\n        MarkTest.showColor(MyColors.BROWN);\r\n      }\r\n    \r\n      private static void showColor(Color c) {\r\n        System.out.println(c.fetchName());\r\n      }\r\n    }\r\n\r\none could have one enum in the jar:\r\n\r\n    public enum Colors implements Color {\r\n      BLUE, RED, GREEN;\r\n      @Override\r\n      public String fetchName() {\r\n        return this.name();\r\n      }\r\n    }\r\n\r\nand a user could extend it to add his own colors:\r\n\r\n    public enum MyColors implements Color {\r\n      BROWN, GREEN, YELLOW;\r\n      @Override\r\n      public String fetchName() {\r\n        return this.name();\r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"Why would an Enum implement an Interface?","body":"<p>When creating constants in a jar file, it is often helpful to let users extend enum values.  We used enums for PropertyFile keys and got stuck because nobody could add any new ones!  Below would have worked much better.</p>\n\n<p>Given:</p>\n\n<pre><code>public interface Color {\n  String fetchName();\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>public class MarkTest {\n\n  public static void main(String[] args) {\n    MarkTest.showColor(Colors.BLUE);\n    MarkTest.showColor(MyColors.BROWN);\n  }\n\n  private static void showColor(Color c) {\n    System.out.println(c.fetchName());\n  }\n}\n</code></pre>\n\n<p>one could have one enum in the jar:</p>\n\n<pre><code>public enum Colors implements Color {\n  BLUE, RED, GREEN;\n  @Override\n  public String fetchName() {\n    return this.name();\n  }\n}\n</code></pre>\n\n<p>and a user could extend it to add his own colors:</p>\n\n<pre><code>public enum MyColors implements Color {\n  BROWN, GREEN, YELLOW;\n  @Override\n  public String fetchName() {\n    return this.name();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694204506,"creation_date":1694204123,"answer_id":77069655,"question_id":2709593,"body_markdown":"Yes, Enum implements an interface in Java, it can be useful when we need to implement some business logic that is tightly coupled with a discriminatory property of a given object or class.\r\n\r\nTake a look at the example below, it&#39;s simple to follow and shows special cases of operations that are conducted with some particular properties of the enums only.\r\n\r\n    interface EnumInterface {\r\n       int calculate(int first, int second);\r\n    }\r\n    \r\n    enum EnumClassOperator implements EnumInterface {\r\n       ADD {\r\n          @Override\r\n          public int calculate(int first, int second) {\r\n             return first + second;\r\n          }\r\n       },\r\n       SUBTRACT {\r\n          @Override\r\n          public int calculate(int first, int second) {\r\n             return first - second;\r\n          }\r\n       };\r\n    }\r\n\r\n    class Operation {\r\n       private int first, second;\r\n       private EnumClassOperator operator;\r\n       public Operation(int first, int second, EnumClassOperator operator) {\r\n          this.first = first;\r\n          this.second = second;\r\n          this.operator = operator;\r\n       }\r\n       public int calculate() {\r\n          return operator.calculate(first, second);\r\n       }\r\n    }\r\n\r\n    // Main Class\r\n    public class EnumTest {\r\n       public static void main (String [] args) {\r\n          Operation add = new Operation(20, 10, EnumClassOperator.ADD);\r\n          Operation subtract = new Operation(20, 10, EnumClassOperator.SUBTRACT);\r\n          System.out.println(&quot;Addition: &quot; + add.calculate());\r\n          System.out.println(&quot;Subtraction: &quot; + subtract.calculate());\r\n       }\r\n    }\r\n\r\nHere is one more base example:\r\n\r\n    // Java program to demonstrate\r\n    // how an enum implements an\r\n    // interface\r\n    \r\n    // Defining an interface\r\n    interface week {\r\n    \r\n    \t// Defining an abstract method\r\n    \tpublic int day();\r\n    }\r\n    \r\n    // Initializing an enum which\r\n    // implements the above interface\r\n    enum Day implements week {\r\n    \r\n    \t// Initializing the possible\r\n    \t// days\r\n    \tMonday,\r\n    \tTuesday,\r\n    \tWednesday,\r\n    \tThursday,\r\n    \tFriday,\r\n    \tSaturday,\r\n    \tSunday;\r\n    \r\n    \tpublic int day()\r\n    \t{\r\n    \t\treturn ordinal() + 1;\r\n    \t}\r\n    }\r\n    \r\n    // Main Class\r\n    public class Daycount {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tSystem.out.println(&quot;It is day number &quot;\r\n    \t\t\t\t\t\t+ Day.Wednesday.day()\r\n    \t\t\t\t\t\t+ &quot; of a week.&quot;);\r\n    \t}\r\n    }\r\n","title":"Why would an Enum implement an Interface?","body":"<p>Yes, Enum implements an interface in Java, it can be useful when we need to implement some business logic that is tightly coupled with a discriminatory property of a given object or class.</p>\n<p>Take a look at the example below, it's simple to follow and shows special cases of operations that are conducted with some particular properties of the enums only.</p>\n<pre><code>interface EnumInterface {\n   int calculate(int first, int second);\n}\n\nenum EnumClassOperator implements EnumInterface {\n   ADD {\n      @Override\n      public int calculate(int first, int second) {\n         return first + second;\n      }\n   },\n   SUBTRACT {\n      @Override\n      public int calculate(int first, int second) {\n         return first - second;\n      }\n   };\n}\n\nclass Operation {\n   private int first, second;\n   private EnumClassOperator operator;\n   public Operation(int first, int second, EnumClassOperator operator) {\n      this.first = first;\n      this.second = second;\n      this.operator = operator;\n   }\n   public int calculate() {\n      return operator.calculate(first, second);\n   }\n}\n\n// Main Class\npublic class EnumTest {\n   public static void main (String [] args) {\n      Operation add = new Operation(20, 10, EnumClassOperator.ADD);\n      Operation subtract = new Operation(20, 10, EnumClassOperator.SUBTRACT);\n      System.out.println(&quot;Addition: &quot; + add.calculate());\n      System.out.println(&quot;Subtraction: &quot; + subtract.calculate());\n   }\n}\n</code></pre>\n<p>Here is one more base example:</p>\n<pre><code>// Java program to demonstrate\n// how an enum implements an\n// interface\n\n// Defining an interface\ninterface week {\n\n    // Defining an abstract method\n    public int day();\n}\n\n// Initializing an enum which\n// implements the above interface\nenum Day implements week {\n\n    // Initializing the possible\n    // days\n    Monday,\n    Tuesday,\n    Wednesday,\n    Thursday,\n    Friday,\n    Saturday,\n    Sunday;\n\n    public int day()\n    {\n        return ordinal() + 1;\n    }\n}\n\n// Main Class\npublic class Daycount {\n    public static void main(String args[])\n    {\n        System.out.println(&quot;It is day number &quot;\n                        + Day.Wednesday.day()\n                        + &quot; of a week.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":30252,"reputation":52431,"user_id":82368,"accept_rate":71,"display_name":"unj2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209274,"favorite_count":0,"down_vote_count":2,"up_vote_count":230,"accepted_answer_id":2709604,"answer_count":17,"score":228,"last_activity_date":1694204506,"creation_date":1272223919,"question_id":2709593,"body_markdown":"I just found out that Java allows enums to implement an interface. What would be a good use case for that?","title":"Why would an Enum implement an Interface?","body":"<p>I just found out that Java allows enums to implement an interface. What would be a good use case for that?</p>\n"},{"tags":["java","mouse","human-computer-interface"],"comments":[{"owner":{"account_id":957,"reputation":10233,"user_id":1266,"accept_rate":82,"display_name":"pbh101"},"score":0,"creation_date":1225812590,"post_id":262125,"comment_id":119132,"body_markdown":"Bump to this question:  I have been thinking of software to utilize the second screen many developers (should) have, and giving both developers in pair programming a mouse input.  Then I realized that would be messing with a lot of HW driver stuff where I have no clue how to start.","body":"Bump to this question:  I have been thinking of software to utilize the second screen many developers (should) have, and giving both developers in pair programming a mouse input.  Then I realized that would be messing with a lot of HW driver stuff where I have no clue how to start."}],"answers":[{"tags":[],"owner":{"account_id":2720,"reputation":3516,"user_id":3825,"accept_rate":67,"display_name":"ShoeLace"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1225822381,"creation_date":1225822381,"answer_id":262781,"question_id":262125,"body_markdown":"dont know about java.. but for C#/c++ you can try the \r\n[Microsoft Windows MultiPoint Software Development Kit][1]\r\n\r\ni&#39;ve tried it on windows.. it works with 2 USB mice.\r\n\r\n\r\n\r\n  [1]: http://www.microsoft.com/downloads/details.aspx?FamilyID=A137998B-E8D6-4FFF-B805-2798D2C6E41D&amp;displaylang=en","title":"How can I handle multiple mouse inputs in Java?","body":"<p>dont know about java.. but for C#/c++ you can try the \n<a href=\"http://www.microsoft.com/downloads/details.aspx?FamilyID=A137998B-E8D6-4FFF-B805-2798D2C6E41D&amp;displaylang=en\" rel=\"nofollow noreferrer\">Microsoft Windows MultiPoint Software Development Kit</a></p>\n\n<p>i've tried it on windows.. it works with 2 USB mice.</p>\n"},{"tags":[],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1337008327,"creation_date":1225823073,"answer_id":262830,"question_id":262125,"body_markdown":"Look at [jinput][1].\r\n\r\nI have had multiple keyboards working with it, I am nearly certain it supports multiple mice too.\r\n\r\n[1]: http://java.net/projects/jinput\r\n","title":"How can I handle multiple mouse inputs in Java?","body":"<p>Look at <a href=\"http://java.net/projects/jinput\" rel=\"nofollow noreferrer\">jinput</a>.</p>\n\n<p>I have had multiple keyboards working with it, I am nearly certain it supports multiple mice too.</p>\n"},{"tags":[],"owner":{"account_id":15223,"reputation":614,"user_id":31962,"display_name":"dongilmore"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1225837750,"creation_date":1225837750,"answer_id":263720,"question_id":262125,"body_markdown":"You can use multiple devices, but at the Java level, all mouse events are coalesced into a single stream. The event does not include which mouse it came from. You did say you wanted to mix audio, right? Well this mix might be interesting, but surely not what you want. \r\n\r\nI&#39;d suggest using the Java-supported midi interface and connecting some simple midi controller device with multiple knobs or trackballs. These will come in as midi events, and you can examine the state for the details you need.\r\n","title":"How can I handle multiple mouse inputs in Java?","body":"<p>You can use multiple devices, but at the Java level, all mouse events are coalesced into a single stream. The event does not include which mouse it came from. You did say you wanted to mix audio, right? Well this mix might be interesting, but surely not what you want. </p>\n\n<p>I'd suggest using the Java-supported midi interface and connecting some simple midi controller device with multiple knobs or trackballs. These will come in as midi events, and you can examine the state for the details you need.</p>\n"},{"tags":[],"owner":{"account_id":15872,"reputation":10463,"user_id":33982,"accept_rate":94,"display_name":"kshahar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1225841480,"creation_date":1225841480,"answer_id":263886,"question_id":262125,"body_markdown":"It depends on which operating system you intend to use.\r\n\r\nOn **Windows**, you can use:\r\n\r\n 1. [CPNMouse][1] - a driver+software combination, very flexible and allows to completely hide some of the mice from the operating system.\r\n 2. [RawInput][2] - an API provided by Windows XP only. You can use it to distinguish between two mouse inputs, draw the cursors yourself and hide the main cursor. Take a look at the code of [SDGT][3], a C# usage of this API.\r\n 3. For both solutions you would have to build a JNI bridge to your application\r\n\r\nIf you are using **X.Org (X11)** server, there is patched version called [MPX][4] that should support multiple mice even for legacy applications. It should now be a part of the X.Org trunk, but I&#39;m not very familiar with it. Anyway it has an API so you can use it via JNI bridge.\r\n\r\n  [1]: http://cpnmouse.sourceforge.net/\r\n  [2]: http://www.google.com/search?q=rawinput&amp;ie=UTF-8\r\n  [3]: http://grouplab.cpsc.ucalgary.ca/software/SDGT\r\n  [4]: http://wearables.unisa.edu.au/mpx/","title":"How can I handle multiple mouse inputs in Java?","body":"<p>It depends on which operating system you intend to use.</p>\n\n<p>On <strong>Windows</strong>, you can use:</p>\n\n<ol>\n<li><a href=\"http://cpnmouse.sourceforge.net/\" rel=\"nofollow noreferrer\">CPNMouse</a> - a driver+software combination, very flexible and allows to completely hide some of the mice from the operating system.</li>\n<li><a href=\"http://www.google.com/search?q=rawinput&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">RawInput</a> - an API provided by Windows XP only. You can use it to distinguish between two mouse inputs, draw the cursors yourself and hide the main cursor. Take a look at the code of <a href=\"http://grouplab.cpsc.ucalgary.ca/software/SDGT\" rel=\"nofollow noreferrer\">SDGT</a>, a C# usage of this API.</li>\n<li>For both solutions you would have to build a JNI bridge to your application</li>\n</ol>\n\n<p>If you are using <strong>X.Org (X11)</strong> server, there is patched version called <a href=\"http://wearables.unisa.edu.au/mpx/\" rel=\"nofollow noreferrer\">MPX</a> that should support multiple mice even for legacy applications. It should now be a part of the X.Org trunk, but I'm not very familiar with it. Anyway it has an API so you can use it via JNI bridge.</p>\n"}],"owner":{"account_id":3370,"reputation":7124,"user_id":4857,"accept_rate":96,"display_name":"Ande Turner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6152,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":262830,"answer_count":4,"score":12,"last_activity_date":1694204081,"creation_date":1225811921,"question_id":262125,"body_markdown":"A friend of mine asked me to implement a blue and a red pointer to represent the inputs of two separate mice to expedite a mixing desk scenario for real time audio mixing.  I&#39;d love to, but as much as I think it is a great idea, I don&#39;t have a clue as to where to start looking for a possible solution.\r\n\r\nWhere should I start researching a viable method of implementing dual mouse inputs?","title":"How can I handle multiple mouse inputs in Java?","body":"<p>A friend of mine asked me to implement a blue and a red pointer to represent the inputs of two separate mice to expedite a mixing desk scenario for real time audio mixing.  I'd love to, but as much as I think it is a great idea, I don't have a clue as to where to start looking for a possible solution.</p>\n\n<p>Where should I start researching a viable method of implementing dual mouse inputs?</p>\n"},{"tags":["java","generics","testing","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1500384932,"creation_date":1500384932,"answer_id":45168368,"question_id":45167133,"body_markdown":"Both of the matchers must conform to ...\r\n        \r\n    Matcher&lt;? super LHS&gt; matcher\r\n\r\n... where LHS is a `Collection&lt;?&gt;` because `strings` is a `Collection&lt;?&gt;`.\r\n\r\nIn your code `hasSize(1)` is a `Matcher&lt;Collection&lt;?&gt;&gt;` but `hasItem(&quot;Some string&quot;)` is a `Matcher&lt;Iterable&lt;? super String&gt;&gt;` hence the compilation error.\r\n\r\nThis example uses a combinable matcher and it is compilable because both matchers address a collection ...\r\n\r\n    assertThat(strings, either(empty()).or(hasSize(1)));\r\n\r\nBut given the method signature of `both()` you cannot combine `hasSize()` and `hasItem()`.\r\n\r\nThe combinable matcher is just a short cut so perhaps you could replace it with two assertions:\r\n\r\n    assertThat(strings, hasSize(1));\r\n    assertThat(strings, hasItem(&quot;Some string&quot;));\r\n","title":"Compilation error when trying to combine hamcrest matchers","body":"<p>Both of the matchers must conform to ...</p>\n\n<pre><code>Matcher&lt;? super LHS&gt; matcher\n</code></pre>\n\n<p>... where LHS is a <code>Collection&lt;?&gt;</code> because <code>strings</code> is a <code>Collection&lt;?&gt;</code>.</p>\n\n<p>In your code <code>hasSize(1)</code> is a <code>Matcher&lt;Collection&lt;?&gt;&gt;</code> but <code>hasItem(\"Some string\")</code> is a <code>Matcher&lt;Iterable&lt;? super String&gt;&gt;</code> hence the compilation error.</p>\n\n<p>This example uses a combinable matcher and it is compilable because both matchers address a collection ...</p>\n\n<pre><code>assertThat(strings, either(empty()).or(hasSize(1)));\n</code></pre>\n\n<p>But given the method signature of <code>both()</code> you cannot combine <code>hasSize()</code> and <code>hasItem()</code>.</p>\n\n<p>The combinable matcher is just a short cut so perhaps you could replace it with two assertions:</p>\n\n<pre><code>assertThat(strings, hasSize(1));\nassertThat(strings, hasItem(\"Some string\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26731243,"reputation":1,"user_id":20333538,"display_name":"J. Wong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694203099,"creation_date":1694203079,"answer_id":77069569,"question_id":45167133,"body_markdown":"Use Hamcrest contains instead. It will match when the collection has exactly 1 item that matches the value, but report an error if there are too many or too little items:\r\n\r\n    assertThat(strings, contains(&quot;Some string&quot;))","title":"Compilation error when trying to combine hamcrest matchers","body":"<p>Use Hamcrest contains instead. It will match when the collection has exactly 1 item that matches the value, but report an error if there are too many or too little items:</p>\n<pre><code>assertThat(strings, contains(&quot;Some string&quot;))\n</code></pre>\n"}],"owner":{"account_id":3563444,"reputation":413,"user_id":2975684,"accept_rate":44,"display_name":"Nir Brachel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1944,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45168368,"answer_count":2,"score":0,"last_activity_date":1694203099,"creation_date":1500381706,"question_id":45167133,"body_markdown":"I have a Queue of string and I want to combine 2 matchers in a single assert\r\nThe (simplified) code is something like this\r\n\r\n\t\tQueue&lt;String&gt; strings = new LinkedList&lt;&gt;();\r\n\t\tassertThat(strings, both(hasSize(1)).and(hasItem(&quot;Some string&quot;)));\r\n\r\nbut when I compile it I get the following message:\r\n\r\n    incompatible types: no instance(s) of type variable(s) T exist so that org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? super T&gt;&gt; conforms to org.hamcrest.Matcher&lt;? super java.util.Collection&lt;? extends java.lang.Object&gt;&gt;\r\n\r\n- hasItem returns `Matcher&lt;Iterable&lt;? super T&gt;&gt;`\r\n- hasSize returns `Matcher&lt;Collection&lt;? extends E&gt;&gt;`\r\n\r\nhow can I resolve this?","title":"Compilation error when trying to combine hamcrest matchers","body":"<p>I have a Queue of string and I want to combine 2 matchers in a single assert\nThe (simplified) code is something like this</p>\n\n<pre><code>    Queue&lt;String&gt; strings = new LinkedList&lt;&gt;();\n    assertThat(strings, both(hasSize(1)).and(hasItem(\"Some string\")));\n</code></pre>\n\n<p>but when I compile it I get the following message:</p>\n\n<pre><code>incompatible types: no instance(s) of type variable(s) T exist so that org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? super T&gt;&gt; conforms to org.hamcrest.Matcher&lt;? super java.util.Collection&lt;? extends java.lang.Object&gt;&gt;\n</code></pre>\n\n<ul>\n<li>hasItem returns <code>Matcher&lt;Iterable&lt;? super T&gt;&gt;</code></li>\n<li>hasSize returns <code>Matcher&lt;Collection&lt;? extends E&gt;&gt;</code></li>\n</ul>\n\n<p>how can I resolve this?</p>\n"},{"tags":["java","hibernate","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470231523,"creation_date":1470230764,"answer_id":38744972,"question_id":38744825,"body_markdown":"You have to ensure that the table and the sequence is created. If it is created, then it will work. \r\n\r\nThe table `&quot;ALL_SEQUENCES&quot;` is not created. Please check your database is it exists or not?\r\n\r\nYour problem is the sequence is not created as well as the table is not created.\r\n\r\n\r\n[Solution:][1]\r\n---\r\nCheck your hibernate.cfg.xml. It is not configured well.\r\nFor your clarification, I have given a [cfg file][2] below:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    \r\n        &lt;session-factory&gt;\r\n    \r\n            &lt;!-- Database connection settings --&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:h2:database/test&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;sa&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;/&gt;\r\n            \r\n            &lt;property name=&quot;hibernate.default_schema&quot;&gt;PUBLIC&lt;/property&gt;\r\n    \r\n            &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n            &lt;!-- SQL dialect --&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\r\n    \r\n            &lt;!-- Disable the second-level cache  --&gt;\r\n            &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\r\n    \r\n            &lt;!-- Echo all executed SQL to stdout --&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n            &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \r\n            &lt;mapping class=&quot;au.com.ozblog.hibernate.h2.example.User&quot;/&gt;\r\n    \r\n        &lt;/session-factory&gt;\r\n    \r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\n  [1]: http://betterlogic.com/roger/2011/12/hibernate-woe-2/\r\n  [2]: https://github.com/levi-putna/Hibernate-H2-Example/blob/master/hibernate-h2-example/src/hibernate.cfg.xml","title":"org.h2.jdbc.JdbcSQLException: Table &quot;ALL_SEQUENCES&quot; not found","body":"<p>You have to ensure that the table and the sequence is created. If it is created, then it will work. </p>\n\n<p>The table <code>\"ALL_SEQUENCES\"</code> is not created. Please check your database is it exists or not?</p>\n\n<p>Your problem is the sequence is not created as well as the table is not created.</p>\n\n<h2><a href=\"http://betterlogic.com/roger/2011/12/hibernate-woe-2/\" rel=\"nofollow\">Solution:</a></h2>\n\n<p>Check your hibernate.cfg.xml. It is not configured well.\nFor your clarification, I have given a <a href=\"https://github.com/levi-putna/Hibernate-H2-Example/blob/master/hibernate-h2-example/src/hibernate.cfg.xml\" rel=\"nofollow\">cfg file</a> below:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n        \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n\n    &lt;session-factory&gt;\n\n        &lt;!-- Database connection settings --&gt;\n        &lt;property name=\"connection.driver_class\"&gt;org.h2.Driver&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:h2:database/test&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;sa&lt;/property&gt;\n        &lt;property name=\"connection.password\"/&gt;\n\n        &lt;property name=\"hibernate.default_schema\"&gt;PUBLIC&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\n        &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache  --&gt;\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\n\n        &lt;!-- Echo all executed SQL to stdout --&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\n        &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n        &lt;mapping class=\"au.com.ozblog.hibernate.h2.example.User\"/&gt;\n\n    &lt;/session-factory&gt;\n\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124590,"reputation":8425,"user_id":319773,"accept_rate":89,"display_name":"Bevor"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1477038092,"creation_date":1477038092,"answer_id":40171681,"question_id":38744825,"body_markdown":"This happens when you use either a wrong dialect in your `persistence-unit` inside your `persistence.xml`, or you validate against the wrong database. For example, when you run your application against a local H2 database, the best choice would be to remove the dialect, since Hibernate can recognize the database without this property (if the Version of Hibernate is new enough to recognize newer databases). Another solution would be to remove the validate attribute, but I would not recommend that, since you have no database checks at startup then:\r\n\r\n    &lt;properties&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot; /&gt;\r\n    \t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n    &lt;/properties&gt;","title":"org.h2.jdbc.JdbcSQLException: Table &quot;ALL_SEQUENCES&quot; not found","body":"<p>This happens when you use either a wrong dialect in your <code>persistence-unit</code> inside your <code>persistence.xml</code>, or you validate against the wrong database. For example, when you run your application against a local H2 database, the best choice would be to remove the dialect, since Hibernate can recognize the database without this property (if the Version of Hibernate is new enough to recognize newer databases). Another solution would be to remove the validate attribute, but I would not recommend that, since you have no database checks at startup then:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.Oracle10gDialect\" /&gt;\n    &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"validate\" /&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6911442,"reputation":11,"user_id":5307130,"display_name":"ncc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521077311,"creation_date":1521077311,"answer_id":49290166,"question_id":38744825,"body_markdown":"I used multiple dataSources\r\n\r\n``OracleDb1Configuration``\r\n\r\n\r\n    @Primary\r\n    @Bean(name = &quot;oracleDb1EntityManager&quot;)\r\n    public LocalContainerEntityManagerFactoryBean oracleDb1EntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(oracleDb1DataSource)\r\n                .properties(hibernateProperties())\r\n                .packages(&quot;com.fengxin58.user.ddd.domain.model.oracle.db1&quot;)//设置实体类所在位置\r\n                .persistenceUnit(&quot;oracleDb1PersistenceUnit&quot;)\r\n                .build();\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; hibernateProperties() {\r\n    \t\r\n    \tString env = monitorService.env();\r\n    \tif(log.isDebugEnabled()) {\r\n    \t\tlog.debug(&quot;current profile: {}&quot;, env);\r\n    \t}\r\n        Resource resource = null;\r\n\t\tif(EnvEnum.TEST.key().equals(env)) {\r\n\t\t\tresource = new ClassPathResource(&quot;hibernate-oracle-db1-test.properties&quot;);\r\n\t\t}else {\r\n\t\t\tresource = new ClassPathResource(&quot;hibernate-oracle-db1.properties&quot;);\r\n\t\t}\r\n        try {\r\n            Properties properties = PropertiesLoaderUtils.loadProperties(resource);\r\n            return properties.entrySet().stream()\r\n                    .collect(Collectors.toMap(\r\n                            e -&gt; e.getKey().toString(),\r\n                            e -&gt; e.getValue())\r\n                    );\r\n        } catch (IOException e) {\r\n            return new HashMap&lt;String, Object&gt;();\r\n        }\r\n    }\r\n\r\n\r\n``hibernate-oracle-db1-test.properties``\r\n\r\nhibernate.hbm2ddl.auto=update\r\n\r\n``application-test.yml``\r\n```\r\noracle:\r\n  db1:\r\n    datasource:\r\n      url: jdbc:h2:mem:test\r\n      driver-class-name: org.h2.Driver\r\n      username: root\r\n      password: \r\n  db2:\r\n    datasource:\r\n      url: jdbc:h2:mem:test\r\n      driver-class-name: org.h2.Driver\r\n      username: root\r\n      password: \r\n```","title":"org.h2.jdbc.JdbcSQLException: Table &quot;ALL_SEQUENCES&quot; not found","body":"<p>I used multiple dataSources</p>\n\n<p><code>OracleDb1Configuration</code></p>\n\n<pre><code>@Primary\n@Bean(name = \"oracleDb1EntityManager\")\npublic LocalContainerEntityManagerFactoryBean oracleDb1EntityManagerFactory(EntityManagerFactoryBuilder builder) {\n    return builder\n            .dataSource(oracleDb1DataSource)\n            .properties(hibernateProperties())\n            .packages(\"com.fengxin58.user.ddd.domain.model.oracle.db1\")//设置实体类所在位置\n            .persistenceUnit(\"oracleDb1PersistenceUnit\")\n            .build();\n}\n\nprivate Map&lt;String, Object&gt; hibernateProperties() {\n\n    String env = monitorService.env();\n    if(log.isDebugEnabled()) {\n        log.debug(\"current profile: {}\", env);\n    }\n    Resource resource = null;\n    if(EnvEnum.TEST.key().equals(env)) {\n        resource = new ClassPathResource(\"hibernate-oracle-db1-test.properties\");\n    }else {\n        resource = new ClassPathResource(\"hibernate-oracle-db1.properties\");\n    }\n    try {\n        Properties properties = PropertiesLoaderUtils.loadProperties(resource);\n        return properties.entrySet().stream()\n                .collect(Collectors.toMap(\n                        e -&gt; e.getKey().toString(),\n                        e -&gt; e.getValue())\n                );\n    } catch (IOException e) {\n        return new HashMap&lt;String, Object&gt;();\n    }\n}\n</code></pre>\n\n<p><code>hibernate-oracle-db1-test.properties</code></p>\n\n<p>hibernate.hbm2ddl.auto=update</p>\n\n<p><code>application-test.yml</code>\n<code>\noracle:\n  db1:\n    datasource:\n      url: jdbc:h2:mem:test\n      driver-class-name: org.h2.Driver\n      username: root\n      password: \n  db2:\n    datasource:\n      url: jdbc:h2:mem:test\n      driver-class-name: org.h2.Driver\n      username: root\n      password:\n</code></p>\n"},{"tags":[],"owner":{"account_id":1650357,"reputation":133,"user_id":1521087,"accept_rate":0,"display_name":"Fozix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606228313,"creation_date":1606228313,"answer_id":64988613,"question_id":38744825,"body_markdown":"In my case, I was using multiple datasources in my application, and using H2 for tests.\r\nIn this case, you have to set manually the dialect in JPA properties of the datasource, not via application.properties file.\r\n\r\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n                properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\r\n                return builder\r\n                        .dataSource(ds)\r\n                        .packages(&quot;com.application.demo&quot;)\r\n                        .properties(properties)\r\n                        .persistenceUnit(&quot;persitenceUnit1&quot;)\r\n                        .build();\r\nIn every datasource used.\r\n\r\nIn case it can help someone.\r\n\r\nregards","title":"org.h2.jdbc.JdbcSQLException: Table &quot;ALL_SEQUENCES&quot; not found","body":"<p>In my case, I was using multiple datasources in my application, and using H2 for tests.\nIn this case, you have to set manually the dialect in JPA properties of the datasource, not via application.properties file.</p>\n<pre><code>Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n            properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\n            return builder\n                    .dataSource(ds)\n                    .packages(&quot;com.application.demo&quot;)\n                    .properties(properties)\n                    .persistenceUnit(&quot;persitenceUnit1&quot;)\n                    .build();\n</code></pre>\n<p>In every datasource used.</p>\n<p>In case it can help someone.</p>\n<p>regards</p>\n"}],"owner":{"account_id":2750029,"reputation":937,"user_id":2369634,"accept_rate":0,"display_name":"user2369634"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22544,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1694203094,"creation_date":1470230340,"question_id":38744825,"body_markdown":"Could someone please tell me the reasons for the below error.\r\n\r\nI am using Hibernate in my project and face the below error during server startup\r\n\r\n    15:04:27.909 [localhost-startStop-1] ERROR o.h.tool.hbm2ddl.SchemaValidator - HHH000319: Could not get database metadata\r\n    org.h2.jdbc.JdbcSQLException: Table &quot;ALL_SEQUENCES&quot; not found; SQL statement:\r\n     select sequence_name from all_sequences  union select synonym_name   from all_synonyms us, all_sequences asq  where asq.sequence_name = us.table_name    and asq.sequence_owner = us.table_owner [42102-168]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:329) ~[h2-1.3.168.jar:1.3.168]\r\n    \tat org.h2.message.DbException.get(DbException.java:169) ~[h2-1.3.168.jar:1.3.168]\r\n    \tat org.h2.message.DbException.get(DbException.java:146) ~[h2-1.3.168.jar:1.3.168]\r\n    \tat org.h2.command.Parser.readTableOrView(Parser.java:4770) ~[h2-1.3.168.jar:1.3.168]\r\n    \tat org.h2.command.Parser.readTableFilter(Parser.java:1084) ~[h2-1.3.168.jar:1.3.168]\r\n    \tat org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1690) ~[h2-1.3.168.jar:1.3.168]","title":"org.h2.jdbc.JdbcSQLException: Table &quot;ALL_SEQUENCES&quot; not found","body":"<p>Could someone please tell me the reasons for the below error.</p>\n\n<p>I am using Hibernate in my project and face the below error during server startup</p>\n\n<pre><code>15:04:27.909 [localhost-startStop-1] ERROR o.h.tool.hbm2ddl.SchemaValidator - HHH000319: Could not get database metadata\norg.h2.jdbc.JdbcSQLException: Table \"ALL_SEQUENCES\" not found; SQL statement:\n select sequence_name from all_sequences  union select synonym_name   from all_synonyms us, all_sequences asq  where asq.sequence_name = us.table_name    and asq.sequence_owner = us.table_owner [42102-168]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:329) ~[h2-1.3.168.jar:1.3.168]\n    at org.h2.message.DbException.get(DbException.java:169) ~[h2-1.3.168.jar:1.3.168]\n    at org.h2.message.DbException.get(DbException.java:146) ~[h2-1.3.168.jar:1.3.168]\n    at org.h2.command.Parser.readTableOrView(Parser.java:4770) ~[h2-1.3.168.jar:1.3.168]\n    at org.h2.command.Parser.readTableFilter(Parser.java:1084) ~[h2-1.3.168.jar:1.3.168]\n    at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1690) ~[h2-1.3.168.jar:1.3.168]\n</code></pre>\n"},{"tags":["java","enums","enumeration"],"comments":[{"owner":{"account_id":735316,"reputation":2338,"user_id":692054,"display_name":"Anon"},"score":0,"creation_date":1305230708,"post_id":5983776,"comment_id":6907472,"body_markdown":"Does the second variant actually compile? It appears to be creating separate *classes* for each enum constant (which is the only way that you could override getURL(). The first is definitely nicer.","body":"Does the second variant actually compile? It appears to be creating separate <i>classes</i> for each enum constant (which is the only way that you could override getURL(). The first is definitely nicer."},{"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"score":0,"creation_date":1305230773,"post_id":5983776,"comment_id":6907492,"body_markdown":"Personally, I like the second one better.  It&#39;s more flexible.  But essentially they are doing the same thing.","body":"Personally, I like the second one better.  It&#39;s more flexible.  But essentially they are doing the same thing."},{"owner":{"account_id":735316,"reputation":2338,"user_id":692054,"display_name":"Anon"},"score":0,"creation_date":1305230881,"post_id":5983776,"comment_id":6907522,"body_markdown":"@mellamokb - the *behavior* may be the same. How it gets translated into bytecode and executed are very different (and yes, to answer my earlier question, it does compile, and it does create anonymous subclasses)","body":"@mellamokb - the <i>behavior</i> may be the same. How it gets translated into bytecode and executed are very different (and yes, to answer my earlier question, it does compile, and it does create anonymous subclasses)"},{"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"score":0,"creation_date":1305230993,"post_id":5983776,"comment_id":6907553,"body_markdown":"I always use the first one. I never used the second method to create enums.","body":"I always use the first one. I never used the second method to create enums."},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1305231001,"post_id":5983776,"comment_id":6907557,"body_markdown":"@Anon.  I had no idea it created a subclass.  Does that mean it&#39;s less efficient?","body":"@Anon.  I had no idea it created a subclass.  Does that mean it&#39;s less efficient?"},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1305231036,"post_id":5983776,"comment_id":6907572,"body_markdown":"@JustinKSU: Well, it means the JIT is less likely to be able to inline it. I think the chances of it being significant are pretty much nil though.","body":"@JustinKSU: Well, it means the JIT is less likely to be able to inline it. I think the chances of it being significant are pretty much nil though."},{"owner":{"account_id":181901,"reputation":25638,"user_id":416224,"accept_rate":96,"display_name":"Kijewski"},"score":0,"creation_date":1305231358,"post_id":5983776,"comment_id":6907685,"body_markdown":"If that isn&#39;t just a very simple example, I think you should make url public final as Strings are immutable. And no, the second variant is not less efficient.","body":"If that isn&#39;t just a very simple example, I think you should make url public final as Strings are immutable. And no, the second variant is not less efficient."},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1305231448,"post_id":5983776,"comment_id":6907716,"body_markdown":"@Kay Someone else pointed that out.  I updated the variable to be final.  Would you really want to make it public?","body":"@Kay Someone else pointed that out.  I updated the variable to be final.  Would you really want to make it public?"},{"owner":{"account_id":181901,"reputation":25638,"user_id":416224,"accept_rate":96,"display_name":"Kijewski"},"score":0,"creation_date":1305231657,"post_id":5983776,"comment_id":6907775,"body_markdown":"@JustingKSU: yes, I would make it public. There aren&#39;t any drawbacks. The JIT could do much better work if url was public, since accessing it wouldn&#39;t require any calls but only pointer arithmetic.","body":"@JustingKSU: yes, I would make it public. There aren&#39;t any drawbacks. The JIT could do much better work if url was public, since accessing it wouldn&#39;t require any calls but only pointer arithmetic."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1305230961,"creation_date":1305230961,"answer_id":5983849,"question_id":5983776,"body_markdown":"The first clearly looks cleaner to me - it makes use of the commonality that each element of the enum will have a fixed String URL which is known at initialization. You&#39;re effectively repeating that &quot;logic&quot; in each implementation in the second version. You&#39;re overriding a method to provide the same *logic* (&quot;just return a string which is known at compile-time&quot;) in each case. I prefer to reserve overriding for changes in *behaviour*.\r\n\r\nI suggest making the `url` field private though, in the first.","title":"Java Enum property best practice","body":"<p>The first clearly looks cleaner to me - it makes use of the commonality that each element of the enum will have a fixed String URL which is known at initialization. You're effectively repeating that \"logic\" in each implementation in the second version. You're overriding a method to provide the same <em>logic</em> (\"just return a string which is known at compile-time\") in each case. I prefer to reserve overriding for changes in <em>behaviour</em>.</p>\n\n<p>I suggest making the <code>url</code> field private though, in the first.</p>\n"},{"tags":[],"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694202365,"creation_date":1305231654,"answer_id":5983979,"question_id":5983776,"body_markdown":"Take a look at item 21 from this chapter of [Josh Bloch&#39;s Effective Java][1]. It talks about the type safe enum pattern.\r\n\r\n\r\n  [1]: https://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683","title":"Java Enum property best practice","body":"<p>Take a look at item 21 from this chapter of <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Josh Bloch's Effective Java</a>. It talks about the type safe enum pattern.</p>\n"},{"tags":[],"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305231739,"creation_date":1305231739,"answer_id":5983993,"question_id":5983776,"body_markdown":"I&#39;d go with the first since the compiler complains if you somehow forget to add a url. The second would let you make errors here.","title":"Java Enum property best practice","body":"<p>I'd go with the first since the compiler complains if you somehow forget to add a url. The second would let you make errors here.</p>\n"}],"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12181,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5983849,"answer_count":3,"score":13,"last_activity_date":1694202365,"creation_date":1305230606,"question_id":5983776,"body_markdown":"I&#39;ve seen two approaches to handling enums with properties.  Is one better than the other?\r\n\r\nAs a property:\r\n\r\n    public enum SEARCH_ENGINE {\r\n    \tGOOGLE(&quot;http://www.google.com&quot;),\r\n    \tBING(&quot;http://www.bing.com&quot;);\r\n    \t\r\n    \tprivate final String url;\r\n    \t\r\n    \tprivate SEARCH_ENGINE(String url) {\r\n    \t\tthis.url = url;\r\n    \t}\r\n    \t\r\n    \tpublic String getURL() {\r\n    \t\treturn url;\r\n    \t}\r\n    }\r\n\r\nAs a method:\r\n\r\n    public enum SEARCH_ENGINE {\r\n    \tGOOGLE {\r\n    \t\tpublic String getURL() {return &quot;http://www.google.com&quot;;}\r\n    \t},\r\n    \tBING {\r\n    \t\tpublic String getURL() {return &quot;http://www.bing.com&quot;;}\r\n    \t};\r\n    \t\r\n    \tpublic abstract String getURL();\r\n    }\r\n","title":"Java Enum property best practice","body":"<p>I've seen two approaches to handling enums with properties.  Is one better than the other?</p>\n\n<p>As a property:</p>\n\n<pre><code>public enum SEARCH_ENGINE {\n    GOOGLE(\"http://www.google.com\"),\n    BING(\"http://www.bing.com\");\n\n    private final String url;\n\n    private SEARCH_ENGINE(String url) {\n        this.url = url;\n    }\n\n    public String getURL() {\n        return url;\n    }\n}\n</code></pre>\n\n<p>As a method:</p>\n\n<pre><code>public enum SEARCH_ENGINE {\n    GOOGLE {\n        public String getURL() {return \"http://www.google.com\";}\n    },\n    BING {\n        public String getURL() {return \"http://www.bing.com\";}\n    };\n\n    public abstract String getURL();\n}\n</code></pre>\n"},{"tags":["java","nested","checkstyle","intellij-plugin"],"comments":[{"owner":{"account_id":4640113,"reputation":2872,"user_id":3760216,"accept_rate":36,"display_name":"Sachith Muhandiram"},"score":0,"creation_date":1694240455,"post_id":77067415,"comment_id":135868304,"body_markdown":"Please post what you had tried already (your code, errors etc)","body":"Please post what you had tried already (your code, errors etc)"}],"answers":[{"tags":[],"owner":{"account_id":2345147,"reputation":118,"user_id":2055614,"display_name":"mlebedy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694201985,"creation_date":1694201985,"answer_id":77069477,"question_id":77067415,"body_markdown":"I think the [LeftCurly][1] check is the closest implementation of your intention. \r\n\r\nI would start by creating a new checker (what you&#39;ve already done) based on the [LeftCurlyCheck][2] code and modifying the [verifyBrace][3] method.\r\n\r\nThere you can get the line after the left curly bracket (e.g. `String lineAfterBrace = getLine(brace.getLineNo());`) and check if it is empty or not.\r\n\r\n(Or you can extend the original LeftCurly check with an option to verify if the next line is blank)\r\n\r\n\r\n  [1]: https://checkstyle.sourceforge.io/checks/blocks/leftcurly.html\r\n  [2]: https://github.com/checkstyle/checkstyle/blob/master/src/main/java/com/puppycrawl/tools/checkstyle/checks/blocks/LeftCurlyCheck.java\r\n  [3]: https://github.com/checkstyle/checkstyle/blob/c2e65aa2e9f6854f3902c8c018301ba97e8a1706/src/main/java/com/puppycrawl/tools/checkstyle/checks/blocks/LeftCurlyCheck.java#L369","title":"Custom Checkstyle Check Nesting Isssue","body":"<p>I think the <a href=\"https://checkstyle.sourceforge.io/checks/blocks/leftcurly.html\" rel=\"nofollow noreferrer\">LeftCurly</a> check is the closest implementation of your intention.</p>\n<p>I would start by creating a new checker (what you've already done) based on the <a href=\"https://github.com/checkstyle/checkstyle/blob/master/src/main/java/com/puppycrawl/tools/checkstyle/checks/blocks/LeftCurlyCheck.java\" rel=\"nofollow noreferrer\">LeftCurlyCheck</a> code and modifying the <a href=\"https://github.com/checkstyle/checkstyle/blob/c2e65aa2e9f6854f3902c8c018301ba97e8a1706/src/main/java/com/puppycrawl/tools/checkstyle/checks/blocks/LeftCurlyCheck.java#L369\" rel=\"nofollow noreferrer\">verifyBrace</a> method.</p>\n<p>There you can get the line after the left curly bracket (e.g. <code>String lineAfterBrace = getLine(brace.getLineNo());</code>) and check if it is empty or not.</p>\n<p>(Or you can extend the original LeftCurly check with an option to verify if the next line is blank)</p>\n"}],"owner":{"account_id":29395666,"reputation":1,"user_id":22523068,"display_name":"nulluser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694201985,"creation_date":1694180381,"question_id":77067415,"body_markdown":"I am trying to create a custom Checkstyle check that enforces a rule in Java that after an opening curly brace there is a new blank line. I have tried a couple approaches but the issue I keep running into is that my check only applies to whatever the top level of code is. \r\n\r\nFor example in a Java file it only enforces the rule on classes but not methods themselves are inside them. \r\n\r\nI have tried two main approaches to writing the check by either checking for the line by going through all the curly brace tokens, or an approach where you look at the entire file contents and check line number similar to this Github issue, https://github.com/checkstyle/checkstyle/pull/11525/files. \r\n\r\nIn either case I am extending the puppycrawl Checkstyle tools and using the visitToken method for the implementation. Then in the checkstyle.xml I am adding my check into the `TreeWalker` module of the `Checker` module. Also as a note I am trying to use this check in the Intellij Checkstyle plugin.","title":"Custom Checkstyle Check Nesting Isssue","body":"<p>I am trying to create a custom Checkstyle check that enforces a rule in Java that after an opening curly brace there is a new blank line. I have tried a couple approaches but the issue I keep running into is that my check only applies to whatever the top level of code is.</p>\n<p>For example in a Java file it only enforces the rule on classes but not methods themselves are inside them.</p>\n<p>I have tried two main approaches to writing the check by either checking for the line by going through all the curly brace tokens, or an approach where you look at the entire file contents and check line number similar to this Github issue, <a href=\"https://github.com/checkstyle/checkstyle/pull/11525/files\" rel=\"nofollow noreferrer\">https://github.com/checkstyle/checkstyle/pull/11525/files</a>.</p>\n<p>In either case I am extending the puppycrawl Checkstyle tools and using the visitToken method for the implementation. Then in the checkstyle.xml I am adding my check into the <code>TreeWalker</code> module of the <code>Checker</code> module. Also as a note I am trying to use this check in the Intellij Checkstyle plugin.</p>\n"},{"tags":["java","apache","maven","dependencies","apache-commons"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1423845088,"post_id":28504174,"comment_id":45327438,"body_markdown":"How exactly are you running it?","body":"How exactly are you running it?"},{"owner":{"account_id":11435230,"reputation":317,"user_id":9611924,"display_name":"bieboebap"},"score":0,"creation_date":1536063761,"post_id":28504174,"comment_id":91627822,"body_markdown":"I got this error for selenium, i noticed that i added some files manually &amp; some with maven, wich caused this error.. So probably a problem with the compatibility between selenium and htmlDriver (in my case)","body":"I got this error for selenium, i noticed that i added some files manually &amp; some with maven, wich caused this error.. So probably a problem with the compatibility between selenium and htmlDriver (in my case)"}],"answers":[{"tags":[],"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1423845128,"creation_date":1423845128,"answer_id":28504261,"question_id":28504174,"body_markdown":"&gt; I have added commons-lang-2.6.jar &amp; commons-lang3-3.1-sources.jar...\r\n\r\nHere&#39;s your problem:  `commons-lang-2.6.jar` doesn&#39;t contain the `org.apache.commons.lang3` package, since that&#39;s part of version 3, and `commons-lang3-3.1-sources.jar` contains the source code, not the byte code.\r\n\r\nYou need to include `commons-lang3-3.1.jar` instead.","title":"NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<blockquote>\n  <p>I have added commons-lang-2.6.jar &amp; commons-lang3-3.1-sources.jar...</p>\n</blockquote>\n\n<p>Here's your problem:  <code>commons-lang-2.6.jar</code> doesn't contain the <code>org.apache.commons.lang3</code> package, since that's part of version 3, and <code>commons-lang3-3.1-sources.jar</code> contains the source code, not the byte code.</p>\n\n<p>You need to include <code>commons-lang3-3.1.jar</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1671897662,"creation_date":1488983572,"answer_id":42674106,"question_id":28504174,"body_markdown":"If you&#39;re using **Maven**, put this inside your `pom.xml` file:\r\n\r\nMaven Central  Repository for [Commons Lang](https://mvnrepository.com/artifact/commons-lang/commons-lang):\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nMaven Central Repository for [Apache Commons Lang](https://mvnrepository.com/artifact/org.apache.commons/commons-lang3):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n----------\r\n\r\n&gt; ### Don&#39;t forget: Update Maven Project\r\n\r\n----------\r\n\r\n### Apache Commons Lang ™ Dependency Information\r\n\r\nLast Published: 2 March 2021 | Version: 3.12\r\n\r\n### Apache Maven\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n      &lt;version&gt;3.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nApache Buildr\r\n\r\n    &#39;org.apache.commons:commons-lang3:jar:3.12&#39;\r\n\r\nApache Ivy\r\n\r\n    &lt;dependency org=&quot;org.apache.commons&quot; name=&quot;commons-lang3&quot; rev=&quot;3.12&quot;&gt;\r\n      &lt;artifact name=&quot;commons-lang3&quot; type=&quot;jar&quot; /&gt;\r\n    &lt;/dependency&gt;\r\n\r\nGroovy Grape\r\n\r\n    @Grapes(\r\n    @Grab(group=&#39;org.apache.commons&#39;, module=&#39;commons-lang3&#39;, version=&#39;3.12&#39;)\r\n    )\r\n\r\nGradle/Grails\r\n\r\n    compile &#39;org.apache.commons:commons-lang3:3.12&#39;\r\n\r\nScala SBT\r\n\r\n    libraryDependencies += &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.12&quot;\r\n\r\nLeiningen\r\n\r\n    [org.apache.commons/commons-lang3 &quot;3.12&quot;]\r\n\r\n----------\r\n\r\n\r\n### Reference:\r\n\r\n- https://commons.apache.org/proper/commons-lang/dependency-info.html","title":"NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>If you're using <strong>Maven</strong>, put this inside your <code>pom.xml</code> file:</p>\n<p>Maven Central  Repository for <a href=\"https://mvnrepository.com/artifact/commons-lang/commons-lang\" rel=\"nofollow noreferrer\">Commons Lang</a>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maven Central Repository for <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\" rel=\"nofollow noreferrer\">Apache Commons Lang</a>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<blockquote>\n<h3>Don't forget: Update Maven Project</h3>\n</blockquote>\n<hr />\n<h3>Apache Commons Lang ™ Dependency Information</h3>\n<p>Last Published: 2 March 2021 | Version: 3.12</p>\n<h3>Apache Maven</h3>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n  &lt;version&gt;3.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Apache Buildr</p>\n<pre><code>'org.apache.commons:commons-lang3:jar:3.12'\n</code></pre>\n<p>Apache Ivy</p>\n<pre><code>&lt;dependency org=&quot;org.apache.commons&quot; name=&quot;commons-lang3&quot; rev=&quot;3.12&quot;&gt;\n  &lt;artifact name=&quot;commons-lang3&quot; type=&quot;jar&quot; /&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Groovy Grape</p>\n<pre><code>@Grapes(\n@Grab(group='org.apache.commons', module='commons-lang3', version='3.12')\n)\n</code></pre>\n<p>Gradle/Grails</p>\n<pre><code>compile 'org.apache.commons:commons-lang3:3.12'\n</code></pre>\n<p>Scala SBT</p>\n<pre><code>libraryDependencies += &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.12&quot;\n</code></pre>\n<p>Leiningen</p>\n<pre><code>[org.apache.commons/commons-lang3 &quot;3.12&quot;]\n</code></pre>\n<hr />\n<h3>Reference:</h3>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/dependency-info.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/dependency-info.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20713,"reputation":2149,"user_id":49767,"accept_rate":75,"display_name":"Mohan Narayanaswamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528604359,"creation_date":1528604359,"answer_id":50780515,"question_id":28504174,"body_markdown":"When everything else is correct, rarely jar file gets corrupted. Ensure you don&#39;t see error something like below while compiling\r\n\r\n    [ERROR] error reading \r\n    C:\\Users\\Mohan\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.7\\commons-lang3-3.7.jar; \r\n    ZipFile invalid LOC header (bad signature)\r\n\r\n","title":"NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>When everything else is correct, rarely jar file gets corrupted. Ensure you don't see error something like below while compiling</p>\n\n<pre><code>[ERROR] error reading \nC:\\Users\\Mohan\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.7\\commons-lang3-3.7.jar; \nZipFile invalid LOC header (bad signature)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4005056,"reputation":131,"user_id":3299930,"accept_rate":0,"display_name":"kiran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672211740,"creation_date":1532694824,"answer_id":51558027,"question_id":28504174,"body_markdown":"Yo adding the below and update maven project worked like a charm:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>Yo adding the below and update maven project worked like a charm:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12014784,"reputation":512,"user_id":8790285,"display_name":"Shell_Leko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556527388,"creation_date":1556527388,"answer_id":55899752,"question_id":28504174,"body_markdown":"I was having this issue in IJ version 2016 after updating it to 2018.3.4 and clicking &quot;Generate sources and update folders for all projects&quot; at Maven options tab the issue went away\r\n\r\n[![IJ Maven tab at IJ 2018.3.4][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0IMEa.png","title":"NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>I was having this issue in IJ version 2016 after updating it to 2018.3.4 and clicking \"Generate sources and update folders for all projects\" at Maven options tab the issue went away</p>\n\n<p><a href=\"https://i.stack.imgur.com/0IMEa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0IMEa.png\" alt=\"IJ Maven tab at IJ 2018.3.4\"></a></p>\n"},{"tags":[],"owner":{"account_id":5618037,"reputation":43,"user_id":4448729,"display_name":"smita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672211714,"creation_date":1562655914,"answer_id":56947021,"question_id":28504174,"body_markdown":"Adding below worked for me:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>Adding below worked for me:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\n    &lt;version&gt;3.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1896746,"reputation":4539,"user_id":1713531,"accept_rate":64,"display_name":"Rachita Nanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146363,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":28504261,"answer_count":6,"score":35,"last_activity_date":1694201020,"creation_date":1423844876,"question_id":28504174,"body_markdown":"I&#39;m trying to run the sample project with [this][1] library and I get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: \r\n\r\n        org/apache/commons/lang3/StringUtils\r\n\r\n    \tat com.github.devnied.emvnfccard.enums.EmvCardScheme.&lt;init&gt;(EmvCardScheme.java:97)\r\n    \tat com.github.devnied.emvnfccard.enums.EmvCardScheme.&lt;clinit&gt;(EmvCardScheme.java:32)\r\n    \tat com.github.devnied.emvnfccard.parser.EmvParser.readWithAID(EmvParser.java:277)\r\n    \tat com.github.devnied.emvnfccard.parser.EmvParser.readEmvCard(EmvParser.java:120)\r\n    \tat com.github.devnied.emvpcsccard.Main.main(Main.java:64)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.lang3.StringUtils\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \t... 5 more\r\n\r\nI&#39;ve added **commons-lang-2.6.jar** &amp; **commons-lang3-3.1-sources.jar** in **libs** and **classpath**\r\n\r\n**Main class:**\r\n\r\n\r\n    public static void main(final String[] args) throws CardException {\r\n    \tMain pcsc = new Main();\r\n    \tCardTerminal ct = pcsc.selectCardTerminal();\r\n    \tCard c = null;\r\n    \tif (ct != null) {\r\n    \t\tc = pcsc.establishConnection(ct);\r\n    \t\tCardChannel channel = c.getBasicChannel();\r\n    \t\tPcscProvider provider = new PcscProvider(channel);\r\n    \t\tEmvParser parser = new EmvParser(provider, false);\r\n    \t\tparser.readEmvCard();\r\n    \t\tc.disconnect(false);\r\n    \t}\r\n    }\r\n\r\nI have referred to the following links:\r\n\r\n- https://stackoverflow.com/questions/17781746/java-lang-classnotfoundexception-org-apache-commons-lang-stringutils-from-basec\r\n\r\n- https://stackoverflow.com/questions/20681530/struts-2-framework-demo\r\n\r\n- http://apache-commons.680414.n4.nabble.com/lang-java-lang-NoClassDefFoundError-org-apache-commons-lang-StringUtils-Exception-td3735881.html\r\n\r\n  [1]: https://github.com/devnied/EMV-NFC-Paycard-Enrollment\r\n\r\n","title":"NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>I'm trying to run the sample project with <a href=\"https://github.com/devnied/EMV-NFC-Paycard-Enrollment\" rel=\"noreferrer\">this</a> library and I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: \n\n    org/apache/commons/lang3/StringUtils\n\n    at com.github.devnied.emvnfccard.enums.EmvCardScheme.&lt;init&gt;(EmvCardScheme.java:97)\n    at com.github.devnied.emvnfccard.enums.EmvCardScheme.&lt;clinit&gt;(EmvCardScheme.java:32)\n    at com.github.devnied.emvnfccard.parser.EmvParser.readWithAID(EmvParser.java:277)\n    at com.github.devnied.emvnfccard.parser.EmvParser.readEmvCard(EmvParser.java:120)\n    at com.github.devnied.emvpcsccard.Main.main(Main.java:64)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.lang3.StringUtils\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 5 more\n</code></pre>\n\n<p>I've added <strong>commons-lang-2.6.jar</strong> &amp; <strong>commons-lang3-3.1-sources.jar</strong> in <strong>libs</strong> and <strong>classpath</strong></p>\n\n<p><strong>Main class:</strong></p>\n\n<pre><code>public static void main(final String[] args) throws CardException {\n    Main pcsc = new Main();\n    CardTerminal ct = pcsc.selectCardTerminal();\n    Card c = null;\n    if (ct != null) {\n        c = pcsc.establishConnection(ct);\n        CardChannel channel = c.getBasicChannel();\n        PcscProvider provider = new PcscProvider(channel);\n        EmvParser parser = new EmvParser(provider, false);\n        parser.readEmvCard();\n        c.disconnect(false);\n    }\n}\n</code></pre>\n\n<p>I have referred to the following links:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/17781746/java-lang-classnotfoundexception-org-apache-commons-lang-stringutils-from-basec\">java.lang.ClassNotFoundException: org.apache.commons.lang.StringUtils from BaseClassLoader</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/20681530/struts-2-framework-demo\">Struts 2 framework demo</a></p></li>\n<li><p><a href=\"http://apache-commons.680414.n4.nabble.com/lang-java-lang-NoClassDefFoundError-org-apache-commons-lang-StringUtils-Exception-td3735881.html\" rel=\"noreferrer\">http://apache-commons.680414.n4.nabble.com/lang-java-lang-NoClassDefFoundError-org-apache-commons-lang-StringUtils-Exception-td3735881.html</a></p></li>\n</ul>\n"},{"tags":["java","apache-kafka","project-reactor","reactor-kafka"],"comments":[{"owner":{"account_id":2149787,"reputation":599,"user_id":1906518,"display_name":"dagra"},"score":0,"creation_date":1673911304,"post_id":75139651,"comment_id":132598685,"body_markdown":"Hey mate! you may have to check the replication setting for your partitions. Kafka works on CAP theorem, if you have high number assigned to partitions and replica. Kafka will spent time in rebalancing to make it consistent (C), and the Availability (A) will suffer.\n\nIt looks like you choose Consistency + Partitioning scarifying Availability.","body":"Hey mate! you may have to check the replication setting for your partitions. Kafka works on CAP theorem, if you have high number assigned to partitions and replica. Kafka will spent time in rebalancing to make it consistent (C), and the Availability (A) will suffer.  It looks like you choose Consistency + Partitioning scarifying Availability."}],"answers":[{"tags":[],"owner":{"account_id":129567,"reputation":953,"user_id":328237,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694200965,"creation_date":1694200965,"answer_id":77069400,"question_id":75139651,"body_markdown":"I&#39;m assuming when you say 70 consumers you mean consumer instances within a group, not 70 different consumer groups. I think the cause of your continuous rebalancing is that you have more consumers than partitions. That means some consumers will never get a partition. I think that&#39;s a bad state for the rebalance. Even if that isn&#39;t the cause of the problem, there is no benefit in having more consumers than partitions. The number of partitions is the maximum amount or parallelization you can have. Try decreasing the number of consumers to 60, or increasing the number of partitions to 70.\r\nAnother common cause of constant rebalancing is that one or more consumers is taking longer than the timeout period to send a heartbeat. This can happen when it takes a long time to process one batch of data. Make the timeout period longer or request smaller batches.","title":"Reactive Kafka consumer is rebalancing continuosly","body":"<p>I'm assuming when you say 70 consumers you mean consumer instances within a group, not 70 different consumer groups. I think the cause of your continuous rebalancing is that you have more consumers than partitions. That means some consumers will never get a partition. I think that's a bad state for the rebalance. Even if that isn't the cause of the problem, there is no benefit in having more consumers than partitions. The number of partitions is the maximum amount or parallelization you can have. Try decreasing the number of consumers to 60, or increasing the number of partitions to 70.\nAnother common cause of constant rebalancing is that one or more consumers is taking longer than the timeout period to send a heartbeat. This can happen when it takes a long time to process one batch of data. Make the timeout period longer or request smaller batches.</p>\n"}],"owner":{"account_id":6816720,"reputation":473,"user_id":5245143,"accept_rate":25,"display_name":"Vijay Manohar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694200965,"creation_date":1673902875,"question_id":75139651,"body_markdown":"We are using 60 Partitions and have 70 consumers(10 more than partitions),There is no consumer Lag in any of the partitions, but rebalancing is happening in loop continuosly.\r\nProcessing time of Each kafkaEvent is 10ms\r\n\r\nThe following is the CommitFailed Exception which i get \r\n\r\n    org.apache.kafka.common.errors.RebalanceInProgressException: Offset commit cannot be completed since the consumer is undergoing a rebalance for auto partition assignment. You can try completing the rebalance by calling poll() and then retry the operation.\r\n\r\nI am using reactor-kafka:1.3.12 , reactor-core:3.4.18 , kafka-clients:3.0.1 , Java 17 version and Tomcat Webserver\r\n\r\n```\r\nProperties props = new Properties();\r\n      props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;CommentedbootStrapServersUrl&quot;);\r\n      props.put(ConsumerConfig.GROUP_ID_CONFIG,&quot;user-groupid-1&quot;);\r\n      props.put(ConsumerConfig.CLIENT_ID_CONFIG,&quot;client-1&quot;);\r\n      props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,true);\r\n      props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;earliest&quot;);\r\n      props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n      props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\r\n      props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG,360000);\r\n      props.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG,300500);\r\n      props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG,30500);\r\n      props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,300000);\r\n      props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,5);\r\n      props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, &quot;org.apache.kafka.clients.consumer.CooperativeStickyAssignor&quot;);\r\n\r\nReceiverOptions&lt;String,String&gt; receiverOptions = ReceiverOptions.&lt;String,String&gt;create(props)\r\n              .addAssignListener(partitions -&gt;LOGGER.info(&quot;onPartitionAssigned {}&quot;,partitions))\r\n              .addRevokeListener(partitions -&gt; LOGGER.info(&quot;onPartitionRevoked {}&quot;,partitions))\r\n              .commitRetryInterval(Duration.ofMillis(3000))\r\n              .commitBatchSize(3)\r\n              .commitInterval(Duration.ofMillis(2000))\r\n              .maxDelayRebalance(Duration.ofSeconds(60))\r\n              .subscription(Collections.singleton(&quot;commentedTopicName&quot;));\r\n\r\n      Flux&lt;ReceiverRecord&lt;String,String&gt;&gt; inboundFlux = KafkaReceiver.create(receiverOptions)\r\n              .receive()\r\n              .onErrorContinue((throwable,o) -&gt; {\r\n                  LOGGER.error(&quot;Error while consuming in this pod&quot;);\r\n              })\r\n              .retryWhen(Retry.backoff(3, Duration.ofSeconds(3)).transientErrors(true))\r\n              .repeat();\r\n\r\n              try {\r\n                   Scheduler schedulers = Schedulers.newBoundedElastic(2,2,&quot;UThread&quot;);\r\n                   inboundFlux\r\n                           .publishOn(schedulers)\r\n                           .doOnNext(kafkaEvent -&gt; {\r\n                                callBusinessLogic(kafkaEvent);\r\n                                kafkaEvent.receiverOffset().acknowledge();\r\n                           })\r\n                           .doOnError(e-&gt;e.printStackTrace())\r\n                           .subscribe();\r\n               } catch (Exception e){\r\n                   e.printStackTrace();\r\n               } \r\n```\r\n\r\nNeeded help with fixing rebalancing issue, consumers are stable at times , but if a rebalance starts , then it never stops.","title":"Reactive Kafka consumer is rebalancing continuosly","body":"<p>We are using 60 Partitions and have 70 consumers(10 more than partitions),There is no consumer Lag in any of the partitions, but rebalancing is happening in loop continuosly.\nProcessing time of Each kafkaEvent is 10ms</p>\n<p>The following is the CommitFailed Exception which i get</p>\n<pre><code>org.apache.kafka.common.errors.RebalanceInProgressException: Offset commit cannot be completed since the consumer is undergoing a rebalance for auto partition assignment. You can try completing the rebalance by calling poll() and then retry the operation.\n</code></pre>\n<p>I am using reactor-kafka:1.3.12 , reactor-core:3.4.18 , kafka-clients:3.0.1 , Java 17 version and Tomcat Webserver</p>\n<pre><code>Properties props = new Properties();\n      props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;CommentedbootStrapServersUrl&quot;);\n      props.put(ConsumerConfig.GROUP_ID_CONFIG,&quot;user-groupid-1&quot;);\n      props.put(ConsumerConfig.CLIENT_ID_CONFIG,&quot;client-1&quot;);\n      props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,true);\n      props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;earliest&quot;);\n      props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n      props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n      props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG,360000);\n      props.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG,300500);\n      props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG,30500);\n      props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,300000);\n      props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,5);\n      props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, &quot;org.apache.kafka.clients.consumer.CooperativeStickyAssignor&quot;);\n\nReceiverOptions&lt;String,String&gt; receiverOptions = ReceiverOptions.&lt;String,String&gt;create(props)\n              .addAssignListener(partitions -&gt;LOGGER.info(&quot;onPartitionAssigned {}&quot;,partitions))\n              .addRevokeListener(partitions -&gt; LOGGER.info(&quot;onPartitionRevoked {}&quot;,partitions))\n              .commitRetryInterval(Duration.ofMillis(3000))\n              .commitBatchSize(3)\n              .commitInterval(Duration.ofMillis(2000))\n              .maxDelayRebalance(Duration.ofSeconds(60))\n              .subscription(Collections.singleton(&quot;commentedTopicName&quot;));\n\n      Flux&lt;ReceiverRecord&lt;String,String&gt;&gt; inboundFlux = KafkaReceiver.create(receiverOptions)\n              .receive()\n              .onErrorContinue((throwable,o) -&gt; {\n                  LOGGER.error(&quot;Error while consuming in this pod&quot;);\n              })\n              .retryWhen(Retry.backoff(3, Duration.ofSeconds(3)).transientErrors(true))\n              .repeat();\n\n              try {\n                   Scheduler schedulers = Schedulers.newBoundedElastic(2,2,&quot;UThread&quot;);\n                   inboundFlux\n                           .publishOn(schedulers)\n                           .doOnNext(kafkaEvent -&gt; {\n                                callBusinessLogic(kafkaEvent);\n                                kafkaEvent.receiverOffset().acknowledge();\n                           })\n                           .doOnError(e-&gt;e.printStackTrace())\n                           .subscribe();\n               } catch (Exception e){\n                   e.printStackTrace();\n               } \n</code></pre>\n<p>Needed help with fixing rebalancing issue, consumers are stable at times , but if a rebalance starts , then it never stops.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1372171323,"post_id":17300318,"comment_id":25087002,"body_markdown":"Source roots configuration is not correct, you have `main` directory set as source root, but the parent of this directory should be used instead, or you need to fix the package statement.","body":"Source roots configuration is not correct, you have <code>main</code> directory set as source root, but the parent of this directory should be used instead, or you need to fix the package statement."},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":2,"creation_date":1372171556,"post_id":17300318,"comment_id":25087187,"body_markdown":"`main.java` is a rather odd name for a `package`","body":"<code>main.java</code> is a rather odd name for a <code>package</code>"},{"owner":{"account_id":1656678,"reputation":1542,"user_id":1526048,"accept_rate":65,"display_name":"Aido"},"score":0,"creation_date":1372171647,"post_id":17300318,"comment_id":25087236,"body_markdown":"@fvu It was auto generated. I thing it has something to do with the fact that the class is in project\\src\\main\\java","body":"@fvu It was auto generated. I thing it has something to do with the fact that the class is in project\\src\\main\\java"},{"owner":{"account_id":104591,"reputation":2404,"user_id":279554,"accept_rate":64,"display_name":"Jaydeep Patel"},"score":0,"creation_date":1372171701,"post_id":17300318,"comment_id":25087270,"body_markdown":"classpath starts from project\\src\\main\\java. So what ever dir under this are actual packages. Try removing the package if your file is under src\\java and run","body":"classpath starts from project\\src\\main\\java. So what ever dir under this are actual packages. Try removing the package if your file is under src\\java and run"},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":0,"creation_date":1372171861,"post_id":17300318,"comment_id":25087377,"body_markdown":"@AidanEdwards actually I think it&#39;s something **you** entered, not a regular IntelliJ user myself but I don&#39;t believe a respectable IDE will autosuggest main.**java** as a **package name**.  Throw away that project and start over, paying careful attention to everything you enter is the best advice I can give you.","body":"@AidanEdwards actually I think it&#39;s something <b>you</b> entered, not a regular IntelliJ user myself but I don&#39;t believe a respectable IDE will autosuggest main.**java** as a <b>package name</b>.  Throw away that project and start over, paying careful attention to everything you enter is the best advice I can give you."}],"answers":[{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1372171867,"creation_date":1372171867,"answer_id":17300613,"question_id":17300318,"body_markdown":"Your package is `main.java`, you pass the argument `com.intellij.rt.execution.application.AppMain java.start`, and you exception says that that can not found `java.start`. And this is correct. \r\n\r\nTry to compile it using only console. Leave the IDE for the beginning, invest you time to understand the compiler not how the IDE works. \r\n\r\n","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>Your package is <code>main.java</code>, you pass the argument <code>com.intellij.rt.execution.application.AppMain java.start</code>, and you exception says that that can not found <code>java.start</code>. And this is correct. </p>\n\n<p>Try to compile it using only console. Leave the IDE for the beginning, invest you time to understand the compiler not how the IDE works. </p>\n"},{"tags":[],"owner":{"account_id":2202156,"reputation":736,"user_id":1946286,"display_name":"Mateusz D."},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1524361828,"creation_date":1372183898,"answer_id":17304563,"question_id":17300318,"body_markdown":"Probably your project structure was ***src/main/java/start.java*** but when you added it to IntelliJ you have set ***src*** as a source folder, so IntelliJ put ***main.java*** as a package.\r\n\r\nIn **Project Setting (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;) → Modules → Sources tab**  set ***src/main/java*** as **Source Folder**. Then in your simple program change package to whatever you like (e.g. *my.test*). After that if IntelliJ reports any error in line with *package* quick fix with &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; should help\r\n","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>Probably your project structure was <strong><em>src/main/java/start.java</em></strong> but when you added it to IntelliJ you have set <strong><em>src</em></strong> as a source folder, so IntelliJ put <strong><em>main.java</em></strong> as a package.</p>\n\n<p>In <strong>Project Setting (<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd>) → Modules → Sources tab</strong>  set <strong><em>src/main/java</em></strong> as <strong>Source Folder</strong>. Then in your simple program change package to whatever you like (e.g. <em>my.test</em>). After that if IntelliJ reports any error in line with <em>package</em> quick fix with <kbd>Alt</kbd>+<kbd>Enter</kbd> should help</p>\n"},{"tags":[],"owner":{"account_id":1692466,"reputation":311,"user_id":1554559,"display_name":"TomT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384122936,"creation_date":1384122936,"answer_id":19896124,"question_id":17300318,"body_markdown":"Just for the future: I had unicode characters in the folder name like &quot;Course name&quot;/Teht&#228;v&#228;t/Project and the problem was in &quot;&#228;&quot;. When i changed it to &quot;a&quot; the program started to work.","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>Just for the future: I had unicode characters in the folder name like \"Course name\"/Tehtävät/Project and the problem was in \"ä\". When i changed it to \"a\" the program started to work.</p>\n"},{"tags":[],"owner":{"account_id":5020589,"reputation":538,"user_id":4034182,"accept_rate":50,"display_name":"a.parfenov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524361872,"creation_date":1429173390,"answer_id":29669467,"question_id":17300318,"body_markdown":"As mentioned before you should check File → ProjectStructure → ProjectSettings → Modules → Sources - your folder must be marked as a &quot;Source&quot;.\r\nAlso you should update your Run → EditConfigurations → Configuration → Main class to correspond with your package","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>As mentioned before you should check File → ProjectStructure → ProjectSettings → Modules → Sources - your folder must be marked as a \"Source\".\nAlso you should update your Run → EditConfigurations → Configuration → Main class to correspond with your package</p>\n"},{"tags":[],"owner":{"account_id":6358864,"reputation":149,"user_id":4935064,"display_name":"Trionet"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1474764768,"creation_date":1474747970,"answer_id":39680539,"question_id":17300318,"body_markdown":"I had this problem and couldn&#39;t solve it with any of these solutions. However I think the problem was that I was using &#39;open&#39; to create a project from a directory with some java files in. Instead I had to &#39;create new project&#39; with the same directory as root.\r\n\r\nMake sure you delete any &#39;.idea&#39; directories and &#39;.iml&#39; files when &#39;create new project&#39; since it will otherwise complain about a project already being in the given directory.","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>I had this problem and couldn't solve it with any of these solutions. However I think the problem was that I was using 'open' to create a project from a directory with some java files in. Instead I had to 'create new project' with the same directory as root.</p>\n\n<p>Make sure you delete any '.idea' directories and '.iml' files when 'create new project' since it will otherwise complain about a project already being in the given directory.</p>\n"},{"tags":[],"owner":{"account_id":7685533,"reputation":2655,"user_id":5823489,"accept_rate":40,"display_name":"Guillaume Lebreton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481636836,"creation_date":1481636836,"answer_id":41122731,"question_id":17300318,"body_markdown":"For me, in IntelliJ-Idea 2016, the problem was that in `Project_structure/modules`, in the Path tab you have to check **&quot;Inherit project compile output path&quot;**, rather than **&quot;Use module compile output path&quot;**","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>For me, in IntelliJ-Idea 2016, the problem was that in <code>Project_structure/modules</code>, in the Path tab you have to check <strong>\"Inherit project compile output path\"</strong>, rather than <strong>\"Use module compile output path\"</strong></p>\n"},{"tags":[],"owner":{"account_id":6288722,"reputation":21,"user_id":6336351,"display_name":"mariotaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483087208,"creation_date":1483087208,"answer_id":41393172,"question_id":17300318,"body_markdown":"I falled down this problem after a recent  re install of my intellif community edition.\r\n\r\nIntelliJ IDEA 2016.3.2\r\nBuild #IC-163.10154.41, built on December 21, 2016\r\nJRE: 1.8.0_112-release-408-b6 amd64\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\nom my laptop asus N73SV with Ubuntu 16.04\r\n\r\nThe Context is:\r\nI was trying to restart Intellij projects previously running fine. That projects where done with intellij CI, AND THEY WHERE located on my freebox server.\r\n\r\nI&#39;ve tryed all solutions proposed here, but without result.\r\nAt the end I just:\r\nClose the project. Shutdown Intellij. copy / paste the entire project from my freebox server to my system folder. Re start Intellij, open the project previously paste into my system folder. Rebuild the projet from the /Build/Re build menu. And finaly Run my project. And !!! DONE...It works!!\r\n\r\nMy suggest is: Is there a problem with pathname lenght or characters contented in that pathname to the project.\r\nIndeed /run/user/1000/gvfs/smb-share:server=freebox,share=disque%20dur/blaBlaToMyFileProjectFolder\r\nThe full pathname contents 127 caracters among :,-_/%=\r\n\r\nIt that the tric?\r\n\r\nHope it&#39;s help.\r\nSorry for my broken english. I&#39;m french ;-)\r\nOliver","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>I falled down this problem after a recent  re install of my intellif community edition.</p>\n\n<p>IntelliJ IDEA 2016.3.2\nBuild #IC-163.10154.41, built on December 21, 2016\nJRE: 1.8.0_112-release-408-b6 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nom my laptop asus N73SV with Ubuntu 16.04</p>\n\n<p>The Context is:\nI was trying to restart Intellij projects previously running fine. That projects where done with intellij CI, AND THEY WHERE located on my freebox server.</p>\n\n<p>I've tryed all solutions proposed here, but without result.\nAt the end I just:\nClose the project. Shutdown Intellij. copy / paste the entire project from my freebox server to my system folder. Re start Intellij, open the project previously paste into my system folder. Rebuild the projet from the /Build/Re build menu. And finaly Run my project. And !!! DONE...It works!!</p>\n\n<p>My suggest is: Is there a problem with pathname lenght or characters contented in that pathname to the project.\nIndeed /run/user/1000/gvfs/smb-share:server=freebox,share=disque%20dur/blaBlaToMyFileProjectFolder\nThe full pathname contents 127 caracters among :,-_/%=</p>\n\n<p>It that the tric?</p>\n\n<p>Hope it's help.\nSorry for my broken english. I'm french ;-)\nOliver</p>\n"},{"tags":[],"owner":{"account_id":3203236,"reputation":5435,"user_id":2704885,"accept_rate":56,"display_name":"Boldijar Paul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487624907,"creation_date":1487624907,"answer_id":42354229,"question_id":17300318,"body_markdown":"In my case the path to the project had some characters such as : \\ /\r\n\r\nex: C:\\something\\other:thing\\aaa\\project , and that&#39;s why it didn&#39;t worked. Moving the project to a path that doesn&#39;t have those characters fixed the errors.","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>In my case the path to the project had some characters such as : \\ /</p>\n\n<p>ex: C:\\something\\other:thing\\aaa\\project , and that's why it didn't worked. Moving the project to a path that doesn't have those characters fixed the errors.</p>\n"},{"tags":[],"owner":{"account_id":14939593,"reputation":69,"user_id":10786696,"display_name":"Prateek shrivastava"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1544713863,"creation_date":1544713863,"answer_id":53764805,"question_id":17300318,"body_markdown":"I also had same problem but I couldn&#39;t find solution on web so tried rectifying myself, after reading so many blogs i understood the concept, In my case everything was fine as I have download code from git but my IDE intellij couldn&#39;t recognise maven dependencies and that&#39;s why intellij was throwing this error, my pom.xml was having all dependencies but still intellij couldn&#39;t able to recognise it. I navigated to maven window at right in intellij and added path of the project in which I was working after adding it maven loaded all the dependencies and my code worked fine.So basically only three steps can make you resolve it:\r\n1. Open maven window in intellij.\r\n2. Click &quot;+&quot; and add path where your prjojects pom.xml file is present.\r\n3. Click Enter.\r\nNow you can run your project.\r\nHappy coding!!","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>I also had same problem but I couldn't find solution on web so tried rectifying myself, after reading so many blogs i understood the concept, In my case everything was fine as I have download code from git but my IDE intellij couldn't recognise maven dependencies and that's why intellij was throwing this error, my pom.xml was having all dependencies but still intellij couldn't able to recognise it. I navigated to maven window at right in intellij and added path of the project in which I was working after adding it maven loaded all the dependencies and my code worked fine.So basically only three steps can make you resolve it:\n1. Open maven window in intellij.\n2. Click \"+\" and add path where your prjojects pom.xml file is present.\n3. Click Enter.\nNow you can run your project.\nHappy coding!!</p>\n"},{"tags":[],"owner":{"account_id":15568682,"reputation":69,"user_id":11231733,"display_name":"Rimjhim Doshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553081573,"creation_date":1553081573,"answer_id":55259776,"question_id":17300318,"body_markdown":"Check the scope of the dependency from which the class which is shown in error stack is derived. In my case, the scope was given as provided, when I removed the scope, it worked.","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>Check the scope of the dependency from which the class which is shown in error stack is derived. In my case, the scope was given as provided, when I removed the scope, it worked.</p>\n"},{"tags":[],"owner":{"account_id":3469352,"reputation":856,"user_id":2904163,"accept_rate":83,"display_name":"&#199;ağdaş Tunca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579011971,"creation_date":1579011971,"answer_id":59735739,"question_id":17300318,"body_markdown":"I&#39;ve got this error when i updated Intellij Idea to 2019.3 and couldn&#39;t solve it with any of these solutions. But it solved when i uncheck all profiles in maven window and check proper profile again.","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>I've got this error when i updated Intellij Idea to 2019.3 and couldn't solve it with any of these solutions. But it solved when i uncheck all profiles in maven window and check proper profile again.</p>\n"},{"tags":[],"owner":{"account_id":13343717,"reputation":995,"user_id":9631158,"display_name":"sujithramanathan"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1586621604,"creation_date":1586621604,"answer_id":61159889,"question_id":17300318,"body_markdown":"Above answers are fine. I would like to add an one more option if someone has any dependency with scope as provided then following configuration is needed.\r\n\r\n```\r\nRun -&gt; Edit Configurations -&gt; Include dependencies with &quot;Provided&quot; scope.\r\n```\r\nMark the tick box, apply and run.","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>Above answers are fine. I would like to add an one more option if someone has any dependency with scope as provided then following configuration is needed.</p>\n\n<pre><code>Run -&gt; Edit Configurations -&gt; Include dependencies with \"Provided\" scope.\n</code></pre>\n\n<p>Mark the tick box, apply and run.</p>\n"},{"tags":[],"owner":{"account_id":22859029,"reputation":9,"user_id":17003440,"display_name":"Tal"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1632593489,"creation_date":1632593489,"answer_id":69328846,"question_id":17300318,"body_markdown":"Rebuild the project. It&#39;s that easy. Don&#39;t thank","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>Rebuild the project. It's that easy. Don't thank</p>\n"},{"tags":[],"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672037814,"creation_date":1672037814,"answer_id":74917910,"question_id":17300318,"body_markdown":"If the error is with external library jars, we need to include them in provided scope. \r\n\r\nIn Intellij run configuration, modify options - &gt; select `Add dependencies with &quot;provided&quot; scope to classpath`. ","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>If the error is with external library jars, we need to include them in provided scope.</p>\n<p>In Intellij run configuration, modify options - &gt; select <code>Add dependencies with &quot;provided&quot; scope to classpath</code>.</p>\n"},{"tags":[],"owner":{"account_id":27850230,"reputation":87,"user_id":21264879,"display_name":"Chaandha Raghav C"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690182061,"creation_date":1690182061,"answer_id":76752078,"question_id":17300318,"body_markdown":"If this happened to you when working with class files or jar files, the reason may be that you have not initialized a static variable but still you are using it in your code. \r\n\r\nMake sure that you&#39;ve initialized all static variables","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>If this happened to you when working with class files or jar files, the reason may be that you have not initialized a static variable but still you are using it in your code.</p>\n<p>Make sure that you've initialized all static variables</p>\n"},{"tags":[],"owner":{"account_id":3345927,"reputation":372,"user_id":2811078,"display_name":"Chandan Gawri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694200957,"creation_date":1694200957,"answer_id":77069397,"question_id":17300318,"body_markdown":"If you are using some dependencies with provided scope do configure intellij for following highlighted.\r\n\r\nOpen Run/Debug Configurations-&gt;Modify options--&gt; select Add dependencies with &quot;provided&quot; scope to classpath\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xpiet.png","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>If you are using some dependencies with provided scope do configure intellij for following highlighted.</p>\n<p>Open Run/Debug Configurations-&gt;Modify options--&gt; select Add dependencies with &quot;provided&quot; scope to classpath</p>\n<p><a href=\"https://i.stack.imgur.com/xpiet.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xpiet.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1656678,"reputation":1542,"user_id":1526048,"accept_rate":65,"display_name":"Aido"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147411,"favorite_count":0,"down_vote_count":1,"up_vote_count":55,"accepted_answer_id":17304563,"answer_count":16,"score":54,"last_activity_date":1694200957,"creation_date":1372171163,"question_id":17300318,"body_markdown":"I made this simple program:\r\n\r\n    package main.java;\r\n    \r\n    public class start {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World!&quot;);\r\n        }\r\n    }\r\n\r\nAnd got this error. I have NO idea what is happening,\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.7.0_21\\bin\\java&quot; -Didea.launcher.port=7532 &quot;-Didea.launcher.bin.path=C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA Community Edition 12.1.4\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\rt.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\zipfs.jar;C:\\Users\\Tim\\IdeaProjects\\Rust\\out\\production\\Rust;C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA Community Edition 12.1.4\\lib\\idea_rt.jar&quot; com.intellij.rt.execution.application.AppMain java.start\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: java.start\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:423)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:356)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:188)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:113)\r\n    \r\n    Process finished with exit code 1\r\n\r\nAnyone know what is wrong?","title":"Error &quot;ClassNotFoundException&quot; in IntelliJ IDEA","body":"<p>I made this simple program:</p>\n\n<pre><code>package main.java;\n\npublic class start {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}\n</code></pre>\n\n<p>And got this error. I have NO idea what is happening,</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"C:\\Program Files\\Java\\jdk1.7.0_21\\bin\\java\" -Didea.launcher.port=7532 \"-Didea.launcher.bin.path=C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA Community Edition 12.1.4\\bin\" -Dfile.encoding=UTF-8 -classpath \"C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\rt.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\lib\\ext\\zipfs.jar;C:\\Users\\Tim\\IdeaProjects\\Rust\\out\\production\\Rust;C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA Community Edition 12.1.4\\lib\\idea_rt.jar\" com.intellij.rt.execution.application.AppMain java.start\nException in thread \"main\" java.lang.ClassNotFoundException: java.start\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:188)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:113)\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Anyone know what is wrong?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1694192051,"post_id":77068398,"comment_id":135863706,"body_markdown":"From the Javadoc: **Updates the message property. Calls to updateMessage are coalesced and run later on the FX application thread, so calls to updateMessage, even from the FX Application thread, may not necessarily result in immediate updates to this property, and intermediate message values may be coalesced to save on event notifications.**  And BTW, it&#39;s `javafx.concurrent.Task#updateMessage()` not `ScheduledService`.","body":"From the Javadoc: <b>Updates the message property. Calls to updateMessage are coalesced and run later on the FX application thread, so calls to updateMessage, even from the FX Application thread, may not necessarily result in immediate updates to this property, and intermediate message values may be coalesced to save on event notifications.</b>  And BTW, it&#39;s <code>javafx.concurrent.Task#updateMessage()</code> not <code>ScheduledService</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1694193311,"post_id":77068398,"comment_id":135863891,"body_markdown":"I don&#39;t understand what you are doing here.  Why do you restart the scheduled service every three seconds? `threeSecondsWonder.setOnFinished((t) -&gt; { checkForScheduledService.restart(); });`.  The service is already scheduled to execute its task every five seconds `checkForScheduledService.setPeriod(Duration.seconds(5));`.  Also why cancel the service `checkForScheduledService.cancel();`? Why not just start the service and leave it alone?  There seem to be numerous errors and misconceptions here.","body":"I don&#39;t understand what you are doing here.  Why do you restart the scheduled service every three seconds? <code>threeSecondsWonder.setOnFinished((t) -&gt; { checkForScheduledService.restart(); });</code>.  The service is already scheduled to execute its task every five seconds <code>checkForScheduledService.setPeriod(Duration.seconds(5));</code>.  Also why cancel the service <code>checkForScheduledService.cancel();</code>? Why not just start the service and leave it alone?  There seem to be numerous errors and misconceptions here."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1694194979,"post_id":77068398,"comment_id":135864139,"body_markdown":"One other problem here (perhaps the fundamental problem?) is thread liveness. You are updating `fakeDatabaseHandler.fakeDbData` from the FX Application Thread (via the button&#39;s event handler) but you are accessing it from the background thread (in the task created by the service). Since there is no synchronization on `fakeDbData` there is no guarantee one thread will ever see changes made in the other thread.","body":"One other problem here (perhaps the fundamental problem?) is thread liveness. You are updating <code>fakeDatabaseHandler.fakeDbData</code> from the FX Application Thread (via the button&#39;s event handler) but you are accessing it from the background thread (in the task created by the service). Since there is no synchronization on <code>fakeDbData</code> there is no guarantee one thread will ever see changes made in the other thread."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1694195912,"post_id":77068398,"comment_id":135864290,"body_markdown":"@JimGarrison, Thanks for clearing up `javafx.concurrent.Task#updateMessage()`.  In the past, when I used `Task#updateMessage()`, `Labels` would update as expected. Even if updates are not immediate, I expect to see the updates in a reasonable amount of time. I haven&#39;t seen any updates.","body":"@JimGarrison, Thanks for clearing up <code>javafx.concurrent.Task#updateMessage()</code>.  In the past, when I used <code>Task#updateMessage()</code>, <code>Labels</code> would update as expected. Even if updates are not immediate, I expect to see the updates in a reasonable amount of time. I haven&#39;t seen any updates."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1694196090,"post_id":77068398,"comment_id":135864324,"body_markdown":"Some quick testing shows that the message gets reset to `null` once the task has completed. So the `updateMessage()` call results in a call being scheduled via `Platform.runLater()` to update the Task&#39;s message property to the current value (of an internally-held `AtomicReference&lt;String&gt;`). Then the task immediately exits, causing another `Platform.runLater(...)` call which updates the value to the results of the task and the message to null. (The latter *might* be coalesced with the earlier call, but I don&#39;t think that&#39;s the implementation.) The label&#39;s text is only ever `null`.","body":"Some quick testing shows that the message gets reset to <code>null</code> once the task has completed. So the <code>updateMessage()</code> call results in a call being scheduled via <code>Platform.runLater()</code> to update the Task&#39;s message property to the current value (of an internally-held <code>AtomicReference&lt;String&gt;</code>). Then the task immediately exits, causing another <code>Platform.runLater(...)</code> call which updates the value to the results of the task and the message to null. (The latter <i>might</i> be coalesced with the earlier call, but I don&#39;t think that&#39;s the implementation.) The label&#39;s text is only ever <code>null</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1694196225,"post_id":77068398,"comment_id":135864344,"body_markdown":"@jewelsea, I was thinking that once the service finds message(s), I should stop looking for new messages until after the current messages have been processed.  I thought the following code restarts the services after all of the messages are processed, but you pointed out that the service restarts after each notification is processed. This could be causing the issue. I will check once I get back to work.","body":"@jewelsea, I was thinking that once the service finds message(s), I should stop looking for new messages until after the current messages have been processed.  I thought the following code restarts the services after all of the messages are processed, but you pointed out that the service restarts after each notification is processed. This could be causing the issue. I will check once I get back to work."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1694196390,"post_id":77068398,"comment_id":135864359,"body_markdown":"@James_D, Thanks; I will try to see what happens if I synchronize things.","body":"@James_D, Thanks; I will try to see what happens if I synchronize things."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1694202627,"post_id":77068398,"comment_id":135865349,"body_markdown":"This seems a bit like a producer/consumer problem.  Such problems can be solved using a [deque](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html).  For instance as in this [logging framework](https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu).","body":"This seems a bit like a producer/consumer problem.  Such problems can be solved using a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\">deque</a>.  For instance as in this <a href=\"https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu\">logging framework</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1694203057,"post_id":77068398,"comment_id":135865426,"body_markdown":"@jewelsea, Thanks. I figured it out and learned a lot from you all in the process!","body":"@jewelsea, Thanks. I figured it out and learned a lot from you all in the process!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1694203071,"post_id":77068398,"comment_id":135865429,"body_markdown":"@JimGarrison, Thanks! I learned a lot.","body":"@JimGarrison, Thanks! I learned a lot."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694196865,"creation_date":1694196865,"answer_id":77069080,"question_id":77068398,"body_markdown":"Note there are two messages: one belonging to the tasks that are created, and one belonging to the service. When the service is in the process of running a task, its message is bound to the task&#39;s message, but once the task completes the service&#39;s message is reset to null.\r\n\r\nConsequently, your task sets its message (and consequently the service&#39;s message), based on the values generated by the button press, but then the task immediately exits, causing the service&#39;s message to be set to null. \r\n\r\nNote that these two changes may be coalesced, depending on the implementation of the service. But even if they are not, the change to null will immediately follow the change explicitly coded in the task, before the next frame is rendered. So in either case the label will only ever display null text.\r\n\r\nThere are various other issues with your code, as pointed out in the comments below the question (the model class is not threadsafe, but is accessed from multiple threads, and the `ScheduledService` is repeatedly restarted, making it redundant).","title":"Odd Behavior javafx.concurrent.Task","body":"<p>Note there are two messages: one belonging to the tasks that are created, and one belonging to the service. When the service is in the process of running a task, its message is bound to the task's message, but once the task completes the service's message is reset to null.</p>\n<p>Consequently, your task sets its message (and consequently the service's message), based on the values generated by the button press, but then the task immediately exits, causing the service's message to be set to null.</p>\n<p>Note that these two changes may be coalesced, depending on the implementation of the service. But even if they are not, the change to null will immediately follow the change explicitly coded in the task, before the next frame is rendered. So in either case the label will only ever display null text.</p>\n<p>There are various other issues with your code, as pointed out in the comments below the question (the model class is not threadsafe, but is accessed from multiple threads, and the <code>ScheduledService</code> is repeatedly restarted, making it redundant).</p>\n"}],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77069080,"answer_count":1,"score":0,"last_activity_date":1694200816,"creation_date":1694189113,"question_id":77068398,"body_markdown":"I created an app to answer a question. For the most part, the app runs correctly, but I am getting some strange behavior out of `ScheduledService` `updateMessage`. My understanding of `udpateMessage` could be wrong, which could be leading me astray. My understanding is that `updateMessage` should update `messageProperty` every time `updateMessage` is called. In this case, that should be every three seconds. In this app, that is not happening. `updateValue` and `System.out.println` are both updating as expected. Is this faulty behavior, or is my thinking wrong about how `updateMessage` works? \r\n\r\n## Main ##\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.Timeline;\r\nimport javafx.application.Application;\r\nimport javafx.concurrent.ScheduledService;\r\nimport javafx.concurrent.Task;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.util.Duration;\r\nimport org.controlsfx.control.Notifications;\r\n\r\npublic class App extends Application {\r\n    \r\n    static List&lt;MyNotification&gt; myNotifications = new ArrayList();\r\n    static FakeDatabaseHandler fakeDatabaseHandler = new FakeDatabaseHandler();\r\n    \r\n    @Override\r\n    public void start(Stage stage) {\r\n        \r\n        Button btnGenerateNotification = new Button(&quot;Generate!&quot;);\r\n        btnGenerateNotification.setOnAction(actionEvent -&gt;{            \r\n             fakeDatabaseHandler.addFakeNotificationsToDb();\r\n        });\r\n\r\n        Label lblUpdateMessage = new Label(&quot;Update Message: &quot;);\r\n        \r\n        ScheduledService&lt;List&lt;MyNotification&gt;&gt; checkForScheduledService = new CheckForNotificationsScheduledService();\r\n        checkForScheduledService.setPeriod(Duration.seconds(5));\r\n        checkForScheduledService.messageProperty().addListener((ov, oldValue, newValue) -&gt; {\r\n            if(newValue != null)\r\n            {\r\n                lblUpdateMessage.setText(&quot;Update Message: &quot; + newValue);\r\n            }\r\n        });\r\n        \r\n        checkForScheduledService.valueProperty().addListener((ov, oldValue, newValue) -&gt; {\r\n            if(newValue != null &amp;&amp; !newValue.isEmpty())\r\n            {\r\n                myNotifications.clear();\r\n                myNotifications.addAll(newValue);\r\n                checkForScheduledService.cancel();\r\n                \r\n                AtomicInteger index = new AtomicInteger(0);\r\n                checkForScheduledService.cancel();\r\n                Timeline threeSecondsWonder = new Timeline(\r\n                    new KeyFrame(Duration.seconds(3),  event -&gt; {    \r\n                        MyNotification myNotification = myNotifications.get(index.getAndIncrement());\r\n                        Notifications.create().title(myNotification.department()+ &quot; - &quot; + myNotification.title()).text(myNotification.message()).hideAfter(Duration.seconds(3)).showWarning();\r\n                    })\r\n                );\r\n                threeSecondsWonder.setCycleCount(myNotifications.size());\r\n                threeSecondsWonder.play();\r\n                threeSecondsWonder.setOnFinished((t) -&gt; {\r\n                    checkForScheduledService.restart();\r\n                });\r\n            }\r\n        });\r\n        checkForScheduledService.start();\r\n        \r\n        StackPane root = new StackPane(new VBox(btnGenerateNotification, lblUpdateMessage));\r\n\r\n        stage.setScene(new Scene(root, 500, 500));\r\n        stage.setTitle(&quot;Facilities&quot;);\r\n        stage.show();        \r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    \r\n    private static class CheckForNotificationsScheduledService extends ScheduledService&lt;List&lt;MyNotification&gt;&gt; {\r\n\r\n    @Override\r\n    protected Task&lt;List&lt;MyNotification&gt;&gt; createTask() {\r\n        return new Task&lt;List&lt;MyNotification&gt;&gt;() {\r\n            @Override\r\n            protected List&lt;MyNotification&gt; call() throws Exception {\r\n                List&lt;MyNotification&gt; fakeNotificationList = fakeDatabaseHandler.getFakeNotificationsFromDB();\r\n                \r\n                System.out.println(&quot;Checking for notifications. Notifications Found: &quot; + fakeNotificationList.size());\r\n                updateMessage(&quot;Checking for notifications. Notifications Found: &quot; + fakeNotificationList.size());             \r\n                updateValue(fakeNotificationList);                \r\n                \r\n                return fakeNotificationList; \r\n            }\r\n        };\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## FakeDatabaseHandler ##\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\n/**\r\n *\r\n * @author Sed\r\n */\r\npublic class FakeDatabaseHandler {\r\n    private final List&lt;MyNotification&gt; fakeDBData = new ArrayList();    \r\n    \r\n    public FakeDatabaseHandler() {}\r\n    \r\n    public void addFakeNotificationsToDb(){\r\n        List&lt;String&gt; departmentList = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n              \r\n        for(int i = 0; i &lt; ThreadLocalRandom.current().nextInt(1, 6); i++)\r\n        {\r\n            int notificationID = ThreadLocalRandom.current().nextInt( 1000000);\r\n            fakeDBData.add(new MyNotification(&quot;Department: &quot; + departmentList.get(ThreadLocalRandom.current().nextInt(4)), &quot;Title &quot; + notificationID, &quot;Message: &quot; + notificationID));\r\n        }\r\n    }\r\n    \r\n    public List&lt;MyNotification&gt; getFakeNotificationsFromDB(){\r\n        List&lt;MyNotification&gt; returnList = new ArrayList(fakeDBData);\r\n        fakeDBData.clear();\r\n        \r\n        return returnList;\r\n    }\r\n}\r\n```\r\n\r\n## MyNotification ##\r\n```\r\npublic record MyNotification(String department, String title, String message) {}\r\n```\r\n\r\n## Module-Info ##\r\n```\r\nmodule com.mycompany.javafxsimpletest {  \r\n    requires org.controlsfx.controls;\r\n    exports com.mycompany.javafxsimpletest;\r\n}\r\n```\r\n\r\n## Output ##\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GOOEv.gif\r\n\r\n\r\n## Tech Info ##\r\n```\r\nProduct Version: Apache NetBeans IDE 18\r\nJava: 19.0.2; OpenJDK 64-Bit Server VM 19.0.2+7-jvmci-22.3-b12\r\nRuntime: OpenJDK Runtime Environment 19.0.2+7-jvmci-22.3-b12\r\nSystem: Windows 11 version 10.0 running on amd64; UTF-8; en_US (nb)\r\n```\r\n","title":"Odd Behavior javafx.concurrent.Task","body":"<p>I created an app to answer a question. For the most part, the app runs correctly, but I am getting some strange behavior out of <code>ScheduledService</code> <code>updateMessage</code>. My understanding of <code>udpateMessage</code> could be wrong, which could be leading me astray. My understanding is that <code>updateMessage</code> should update <code>messageProperty</code> every time <code>updateMessage</code> is called. In this case, that should be every three seconds. In this app, that is not happening. <code>updateValue</code> and <code>System.out.println</code> are both updating as expected. Is this faulty behavior, or is my thinking wrong about how <code>updateMessage</code> works?</p>\n<h2>Main</h2>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.concurrent.ScheduledService;\nimport javafx.concurrent.Task;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.util.Duration;\nimport org.controlsfx.control.Notifications;\n\npublic class App extends Application {\n    \n    static List&lt;MyNotification&gt; myNotifications = new ArrayList();\n    static FakeDatabaseHandler fakeDatabaseHandler = new FakeDatabaseHandler();\n    \n    @Override\n    public void start(Stage stage) {\n        \n        Button btnGenerateNotification = new Button(&quot;Generate!&quot;);\n        btnGenerateNotification.setOnAction(actionEvent -&gt;{            \n             fakeDatabaseHandler.addFakeNotificationsToDb();\n        });\n\n        Label lblUpdateMessage = new Label(&quot;Update Message: &quot;);\n        \n        ScheduledService&lt;List&lt;MyNotification&gt;&gt; checkForScheduledService = new CheckForNotificationsScheduledService();\n        checkForScheduledService.setPeriod(Duration.seconds(5));\n        checkForScheduledService.messageProperty().addListener((ov, oldValue, newValue) -&gt; {\n            if(newValue != null)\n            {\n                lblUpdateMessage.setText(&quot;Update Message: &quot; + newValue);\n            }\n        });\n        \n        checkForScheduledService.valueProperty().addListener((ov, oldValue, newValue) -&gt; {\n            if(newValue != null &amp;&amp; !newValue.isEmpty())\n            {\n                myNotifications.clear();\n                myNotifications.addAll(newValue);\n                checkForScheduledService.cancel();\n                \n                AtomicInteger index = new AtomicInteger(0);\n                checkForScheduledService.cancel();\n                Timeline threeSecondsWonder = new Timeline(\n                    new KeyFrame(Duration.seconds(3),  event -&gt; {    \n                        MyNotification myNotification = myNotifications.get(index.getAndIncrement());\n                        Notifications.create().title(myNotification.department()+ &quot; - &quot; + myNotification.title()).text(myNotification.message()).hideAfter(Duration.seconds(3)).showWarning();\n                    })\n                );\n                threeSecondsWonder.setCycleCount(myNotifications.size());\n                threeSecondsWonder.play();\n                threeSecondsWonder.setOnFinished((t) -&gt; {\n                    checkForScheduledService.restart();\n                });\n            }\n        });\n        checkForScheduledService.start();\n        \n        StackPane root = new StackPane(new VBox(btnGenerateNotification, lblUpdateMessage));\n\n        stage.setScene(new Scene(root, 500, 500));\n        stage.setTitle(&quot;Facilities&quot;);\n        stage.show();        \n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n    private static class CheckForNotificationsScheduledService extends ScheduledService&lt;List&lt;MyNotification&gt;&gt; {\n\n    @Override\n    protected Task&lt;List&lt;MyNotification&gt;&gt; createTask() {\n        return new Task&lt;List&lt;MyNotification&gt;&gt;() {\n            @Override\n            protected List&lt;MyNotification&gt; call() throws Exception {\n                List&lt;MyNotification&gt; fakeNotificationList = fakeDatabaseHandler.getFakeNotificationsFromDB();\n                \n                System.out.println(&quot;Checking for notifications. Notifications Found: &quot; + fakeNotificationList.size());\n                updateMessage(&quot;Checking for notifications. Notifications Found: &quot; + fakeNotificationList.size());             \n                updateValue(fakeNotificationList);                \n                \n                return fakeNotificationList; \n            }\n        };\n    }\n  }\n}\n</code></pre>\n<h2>FakeDatabaseHandler</h2>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.ThreadLocalRandom;\n\n/**\n *\n * @author Sed\n */\npublic class FakeDatabaseHandler {\n    private final List&lt;MyNotification&gt; fakeDBData = new ArrayList();    \n    \n    public FakeDatabaseHandler() {}\n    \n    public void addFakeNotificationsToDb(){\n        List&lt;String&gt; departmentList = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\n              \n        for(int i = 0; i &lt; ThreadLocalRandom.current().nextInt(1, 6); i++)\n        {\n            int notificationID = ThreadLocalRandom.current().nextInt( 1000000);\n            fakeDBData.add(new MyNotification(&quot;Department: &quot; + departmentList.get(ThreadLocalRandom.current().nextInt(4)), &quot;Title &quot; + notificationID, &quot;Message: &quot; + notificationID));\n        }\n    }\n    \n    public List&lt;MyNotification&gt; getFakeNotificationsFromDB(){\n        List&lt;MyNotification&gt; returnList = new ArrayList(fakeDBData);\n        fakeDBData.clear();\n        \n        return returnList;\n    }\n}\n</code></pre>\n<h2>MyNotification</h2>\n<pre><code>public record MyNotification(String department, String title, String message) {}\n</code></pre>\n<h2>Module-Info</h2>\n<pre><code>module com.mycompany.javafxsimpletest {  \n    requires org.controlsfx.controls;\n    exports com.mycompany.javafxsimpletest;\n}\n</code></pre>\n<h2>Output</h2>\n<p><a href=\"https://i.stack.imgur.com/GOOEv.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOOEv.gif\" alt=\"enter image description here\" /></a></p>\n<h2>Tech Info</h2>\n<pre><code>Product Version: Apache NetBeans IDE 18\nJava: 19.0.2; OpenJDK 64-Bit Server VM 19.0.2+7-jvmci-22.3-b12\nRuntime: OpenJDK Runtime Environment 19.0.2+7-jvmci-22.3-b12\nSystem: Windows 11 version 10.0 running on amd64; UTF-8; en_US (nb)\n</code></pre>\n"},{"tags":["java","spring","spring-retry"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1694181317,"post_id":77067378,"comment_id":135861663,"body_markdown":"You could always employ two queues; one which sends to DLQ immediately and one which retries. Case 2 in your pseudo code would requeue the message on the secondary queue.","body":"You could always employ two queues; one which sends to DLQ immediately and one which retries. Case 2 in your pseudo code would requeue the message on the secondary queue."},{"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"score":0,"creation_date":1694181689,"post_id":77067378,"comment_id":135861752,"body_markdown":"yes, it&#39;s just i prefer to reuse existing libraries whenever possible. but i&#39;m not sure if spring retry is designed for that case","body":"yes, it&#39;s just i prefer to reuse existing libraries whenever possible. but i&#39;m not sure if spring retry is designed for that case"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1694182073,"post_id":77067378,"comment_id":135861832,"body_markdown":"What if you have 2 recovery methods, each of which handles a different exception? Then throw the exception for the recovery you want?","body":"What if you have 2 recovery methods, each of which handles a different exception? Then throw the exception for the recovery you want?"},{"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"score":0,"creation_date":1694184547,"post_id":77067378,"comment_id":135862311,"body_markdown":"no, one error class can have different details. some of them result in &#39;all is fine, exit without error&#39; state, others result in &#39;keep retrying&#39; and others result in &#39;permanent error, exist with exception&#39;","body":"no, one error class can have different details. some of them result in &#39;all is fine, exit without error&#39; state, others result in &#39;keep retrying&#39; and others result in &#39;permanent error, exist with exception&#39;"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694200108,"creation_date":1694195667,"answer_id":77068979,"question_id":77067378,"body_markdown":"The way spring-retry works is that you add the Retryable annotation to some service method, and that method gets retried up to a number of times that you specify in the annotation. If something within the method throws an exception, that exception is compared to the exception specified by the Retryable annotation, and if they are the same then the method gets re-tried. Exceptions that don&#39;t match what Retryable is looking for, and retryable exceptions thrown when the method has already been tried the set number of times both have the recover method called for them. The recover method is overloaded with the type of the exception. Recover methods can return a default value or rethrow the exception passed in, or throw a different exception.\r\n\r\nI would make a specific exception class for retryable exceptions and wrap only those exceptions that I wanted to be retried in that. That makes it easy to make sure nothing else gets retried. For other exceptions, you can let them be thrown and they will be handled by a recover method that you write for them. Then of course you can have the method directly return a result.\r\n\r\nYou can definitely catch an exception in your code and either directly return a result, or let it be thrown, and have the recover method return a result. \r\n\r\nHere is an example demonstrating both retryable and non-retryable exceptions:\r\n\r\n    @Service\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class MyRetryableService {\r\n    \r\n        private final RandomNumberService randomNumberService;\r\n      \r\n        @Retryable(value = {RetryableException.class}, maxAttempts = 2, backoff = @Backoff(delay=100)) \r\n        public int doStuff(String s) {\r\n    \r\n            log.info(&quot;doing stuff with {}, try = {}&quot;, s, RetrySynchronizationManager.getContext().getRetryCount() + 1);\r\n            int i = randomNumberService.randomNumber();\r\n    \r\n            // simulate having something bad happen that is recoverable\r\n            if (i % 2 == 0) {\r\n                String issue = &quot;oops&quot;;\r\n                log.warn(&quot;condition = {}&quot;, issue);\r\n                throw new RetryableException(issue);\r\n            }\r\n    \r\n            // simulate having something bad happen that is not recoverable\r\n            if (i % 5 == 0) {\r\n                String issue = &quot;ohnoes&quot;;\r\n                log.warn(&quot;condition = {}&quot;, issue);\r\n                throw new IllegalArgumentException(issue);\r\n            }\r\n    \r\n            return i;\r\n        }\r\n    \r\n        /*\r\n        Provides default value and writes to log once retries are exhausted\r\n        */\r\n        @Recover\r\n        public int recover(RetryableException e, String s) {\r\n    \r\n            log.info(&quot;in recover for RetryableException, s is {}&quot;, s);\r\n            return -1;\r\n        }\r\n    \r\n        /*\r\n        Need to provide this so that non-recoverable exception doesn&#39;t get wrapped in an ExhaustedRetriesException\r\n        with message that no recover method was found\r\n        */\r\n        @Recover\r\n        public int recover(RuntimeException e, String s) {\r\n    \r\n            log.info(&quot;in recover for RuntimeException, s is {}&quot;, s);\r\n            throw e;\r\n        }\r\n    }\r\n\r\nThis code is part of a small working example at https://github.com/nathan-hughes/spring-retry-examples. Also I found this [tutorial](https://www.baeldung.com/spring-retry) helpful.\r\n\r\n","title":"Spring retry, recovery method only for some cases","body":"<p>The way spring-retry works is that you add the Retryable annotation to some service method, and that method gets retried up to a number of times that you specify in the annotation. If something within the method throws an exception, that exception is compared to the exception specified by the Retryable annotation, and if they are the same then the method gets re-tried. Exceptions that don't match what Retryable is looking for, and retryable exceptions thrown when the method has already been tried the set number of times both have the recover method called for them. The recover method is overloaded with the type of the exception. Recover methods can return a default value or rethrow the exception passed in, or throw a different exception.</p>\n<p>I would make a specific exception class for retryable exceptions and wrap only those exceptions that I wanted to be retried in that. That makes it easy to make sure nothing else gets retried. For other exceptions, you can let them be thrown and they will be handled by a recover method that you write for them. Then of course you can have the method directly return a result.</p>\n<p>You can definitely catch an exception in your code and either directly return a result, or let it be thrown, and have the recover method return a result.</p>\n<p>Here is an example demonstrating both retryable and non-retryable exceptions:</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class MyRetryableService {\n\n    private final RandomNumberService randomNumberService;\n  \n    @Retryable(value = {RetryableException.class}, maxAttempts = 2, backoff = @Backoff(delay=100)) \n    public int doStuff(String s) {\n\n        log.info(&quot;doing stuff with {}, try = {}&quot;, s, RetrySynchronizationManager.getContext().getRetryCount() + 1);\n        int i = randomNumberService.randomNumber();\n\n        // simulate having something bad happen that is recoverable\n        if (i % 2 == 0) {\n            String issue = &quot;oops&quot;;\n            log.warn(&quot;condition = {}&quot;, issue);\n            throw new RetryableException(issue);\n        }\n\n        // simulate having something bad happen that is not recoverable\n        if (i % 5 == 0) {\n            String issue = &quot;ohnoes&quot;;\n            log.warn(&quot;condition = {}&quot;, issue);\n            throw new IllegalArgumentException(issue);\n        }\n\n        return i;\n    }\n\n    /*\n    Provides default value and writes to log once retries are exhausted\n    */\n    @Recover\n    public int recover(RetryableException e, String s) {\n\n        log.info(&quot;in recover for RetryableException, s is {}&quot;, s);\n        return -1;\n    }\n\n    /*\n    Need to provide this so that non-recoverable exception doesn't get wrapped in an ExhaustedRetriesException\n    with message that no recover method was found\n    */\n    @Recover\n    public int recover(RuntimeException e, String s) {\n\n        log.info(&quot;in recover for RuntimeException, s is {}&quot;, s);\n        throw e;\n    }\n}\n</code></pre>\n<p>This code is part of a small working example at <a href=\"https://github.com/nathan-hughes/spring-retry-examples\" rel=\"nofollow noreferrer\">https://github.com/nathan-hughes/spring-retry-examples</a>. Also I found this <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">tutorial</a> helpful.</p>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694200108,"creation_date":1694180150,"question_id":77067378,"body_markdown":"i need to implement a recovery method that kicks in only in some specific cases. is it possible with Spring Retry? it seems i can&#39;t do it using just:\r\n\r\n - Policy as it can&#39;t change an error into a correct result. \r\n - RetryListener as it can&#39;t return value from onError\r\n\r\n .\r\n\r\n    int do_something_that_may_throw_exception() {...}\r\n    \r\n    int analyze_thrown_exception(exc) {\r\n\r\n      switch (analyze(exc)) {\r\n         case 1: \r\n           // everything is fine, don&#39;t retry, the returned result should be 7\r\n         case 2:\r\n           // transient error, request another retry\r\n         default:\r\n          // permanent exception, raise an error, don&#39;t retry\r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"Spring retry, recovery method only for some cases","body":"<p>i need to implement a recovery method that kicks in only in some specific cases. is it possible with Spring Retry? it seems i can't do it using just:</p>\n<ul>\n<li>Policy as it can't change an error into a correct result.</li>\n<li>RetryListener as it can't return value from onError</li>\n</ul>\n<p>.</p>\n<pre><code>int do_something_that_may_throw_exception() {...}\n\nint analyze_thrown_exception(exc) {\n\n  switch (analyze(exc)) {\n     case 1: \n       // everything is fine, don't retry, the returned result should be 7\n     case 2:\n       // transient error, request another retry\n     default:\n      // permanent exception, raise an error, don't retry\n  }\n}\n</code></pre>\n"},{"tags":["java","functional-programming","underscore-java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":5,"creation_date":1694179921,"post_id":77067345,"comment_id":135861365,"body_markdown":"What do you think the return type of `Stream.reduce` is?","body":"What do you think the return type of <code>Stream.reduce</code> is?"},{"owner":{"account_id":14203739,"reputation":41,"user_id":10260948,"display_name":"Ashika Jinturkar"},"score":0,"creation_date":1694180003,"post_id":77067345,"comment_id":135861394,"body_markdown":"So how do we handle it?","body":"So how do we handle it?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1694180066,"post_id":77067345,"comment_id":135861409,"body_markdown":"I&#39;m sure figuring that out is part of the assignment. Just take a look at the docs for that type, it&#39;s pretty simple.","body":"I&#39;m sure figuring that out is part of the assignment. Just take a look at the docs for that type, it&#39;s pretty simple."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1694180962,"creation_date":1694180619,"answer_id":77067444,"question_id":77067345,"body_markdown":"Reduce, in this case, returns an [OptionalInt](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/OptionalInt.html) and to retrieve it you need to use `OptionalInt.getAsInt()`.  You could also do it like this.\r\n```\r\nList&lt;Integer&gt; list = List.of(12,45,34,22,56,65);\r\nint sum = list.stream().mapToInt(a-&gt;a).sum();\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n234","title":"Optional[value] is getting printed","body":"<p>Reduce, in this case, returns an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/OptionalInt.html\" rel=\"nofollow noreferrer\">OptionalInt</a> and to retrieve it you need to use <code>OptionalInt.getAsInt()</code>.  You could also do it like this.</p>\n<pre><code>List&lt;Integer&gt; list = List.of(12,45,34,22,56,65);\nint sum = list.stream().mapToInt(a-&gt;a).sum();\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>234\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14203739,"reputation":41,"user_id":10260948,"display_name":"Ashika Jinturkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694199129,"creation_date":1694184658,"answer_id":77067902,"question_id":77067345,"body_markdown":"I did this over my research, firstly thought its bit ununderstood but it was an easy concept\r\n\r\n```java\r\nOptional&lt;Integer&gt; op = list.stream().reduce(PStructured01::printSum);\r\n\r\nop.ifPresent(System.out::println);\r\n```","title":"Optional[value] is getting printed","body":"<p>I did this over my research, firstly thought its bit ununderstood but it was an easy concept</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Integer&gt; op = list.stream().reduce(PStructured01::printSum);\n\nop.ifPresent(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694199140,"creation_date":1694195931,"answer_id":77069001,"question_id":77067345,"body_markdown":"Instead of using this overload of `reduce` that returns an `Optional&lt;Integer&gt;`&lt;sup&gt;1&lt;/sup&gt;, use the overload that takes an identity element. If the list is empty, this identity element will be returned:\r\n\r\n```java\r\nSystem.out.println(list.stream().reduce(0, PStructured01::printSum));\r\n```\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Since the source is `List&lt;Integer&gt;` and the stream is nowhere mapped to an `IntStream`, the result cannot be an `OptionalInt`.","title":"Optional[value] is getting printed","body":"<p>Instead of using this overload of <code>reduce</code> that returns an <code>Optional&lt;Integer&gt;</code><sup>1</sup>, use the overload that takes an identity element. If the list is empty, this identity element will be returned:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(list.stream().reduce(0, PStructured01::printSum));\n</code></pre>\n<p><sup>1</sup> Since the source is <code>List&lt;Integer&gt;</code> and the stream is nowhere mapped to an <code>IntStream</code>, the result cannot be an <code>OptionalInt</code>.</p>\n"}],"owner":{"account_id":14203739,"reputation":41,"user_id":10260948,"display_name":"Ashika Jinturkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77067444,"answer_count":3,"score":2,"last_activity_date":1694199140,"creation_date":1694179857,"question_id":77067345,"body_markdown":"\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tprintSumOfAllNumbersInList(List.of(12,45,34,22,56,65));\r\n\t\tprintSumOfAllNumbersInListUsingFP(List.of(12,45,34,22,56,65));\r\n\t}\r\n\t\r\n\tprivate static void printSumOfAllNumbersInListUsingFP(List&lt;Integer&gt; list) {\r\n\t\t\r\n\t\t/*\r\n\t\t * Learning the use of reduce()\r\n\t\t */\r\n\t\tSystem.out.println(list.stream().reduce(PStructured01::printSum));\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static int printSum(int a,int b)\r\n\t{\r\n\t\tint sum  =  a +b;\r\n\t\treturn sum;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t}\r\n\tprivate static void printSumOfAllNumbersInList(List&lt;Integer&gt; list) {\r\n\t\tint sum = 0;\r\n\t\tfor (Integer integer: list) {\r\n\t\t\tsum = sum + integer;\r\n\t\t}\r\n\t\tSystem.out.println(sum);\r\n\t}}\r\n\r\n\r\n\r\nI am solving the Use Case - Print the sum of all list numbers and return the sum.  \r\nI tried using the traditional approach and later tried to solve it using the Functional Approach.  \r\nBut during the Functional Approach, I am getting the value - 234 as correct but as - Optional[234]  \r\nCan some one please explain the reason","title":"Optional[value] is getting printed","body":"<pre><code>public static void main(String[] args) {\n    \n    printSumOfAllNumbersInList(List.of(12,45,34,22,56,65));\n    printSumOfAllNumbersInListUsingFP(List.of(12,45,34,22,56,65));\n}\n\nprivate static void printSumOfAllNumbersInListUsingFP(List&lt;Integer&gt; list) {\n    \n    /*\n     * Learning the use of reduce()\n     */\n    System.out.println(list.stream().reduce(PStructured01::printSum));\n    \n}\n\nprivate static int printSum(int a,int b)\n{\n    int sum  =  a +b;\n    return sum;\n            \n            \n}\nprivate static void printSumOfAllNumbersInList(List&lt;Integer&gt; list) {\n    int sum = 0;\n    for (Integer integer: list) {\n        sum = sum + integer;\n    }\n    System.out.println(sum);\n}}\n</code></pre>\n<p>I am solving the Use Case - Print the sum of all list numbers and return the sum.<br />\nI tried using the traditional approach and later tried to solve it using the Functional Approach.<br />\nBut during the Functional Approach, I am getting the value - 234 as correct but as - Optional[234]<br />\nCan some one please explain the reason</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1694176202,"post_id":77066833,"comment_id":135860569,"body_markdown":"Please, provide a [MCVE].","body":"Please, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1694177544,"post_id":77066833,"comment_id":135860804,"body_markdown":"[How to resize JLabel ImageIcon?](https://stackoverflow.com/questions/6714045/how-to-resize-jlabel-imageicon)","body":"<a href=\"https://stackoverflow.com/questions/6714045/how-to-resize-jlabel-imageicon\">How to resize JLabel ImageIcon?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1694177667,"post_id":77066833,"comment_id":135860829,"body_markdown":"[Resize a picture to fit a JLabel](https://stackoverflow.com/questions/16343098/resize-a-picture-to-fit-a-jlabel)","body":"<a href=\"https://stackoverflow.com/questions/16343098/resize-a-picture-to-fit-a-jlabel\">Resize a picture to fit a JLabel</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1694177737,"post_id":77066833,"comment_id":135860848,"body_markdown":"[Scale the ImageIcon automatically to label size](https://stackoverflow.com/questions/14548808/scale-the-imageicon-automatically-to-label-size)","body":"<a href=\"https://stackoverflow.com/questions/14548808/scale-the-imageicon-automatically-to-label-size\">Scale the ImageIcon automatically to label size</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1694178034,"post_id":77066833,"comment_id":135860913,"body_markdown":"[Java ImageIcon size](https://stackoverflow.com/questions/2244848/java-imageicon-size)","body":"<a href=\"https://stackoverflow.com/questions/2244848/java-imageicon-size\">Java ImageIcon size</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1694178278,"post_id":77066833,"comment_id":135860970,"body_markdown":"[Resize ImageIcon](https://coderanch.com/t/331731/java/Resize-ImageIcon) (from _JavaRanch_ forums)","body":"<a href=\"https://coderanch.com/t/331731/java/Resize-ImageIcon\" rel=\"nofollow noreferrer\">Resize ImageIcon</a> (from <i>JavaRanch</i> forums)"}],"owner":{"account_id":28253565,"reputation":1,"user_id":21599382,"display_name":"beginner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694197729,"creation_date":1694175586,"question_id":77066833,"body_markdown":"Actually I want to create a car dealer application using `Java Swing`. In which I want the user to select an image of the car which he wants to sell and that image should be visible automatically in the `JLabel` in the same `JFrame`. So the user will select an image from his own device, that image might be big or small. So how to make that image resize automatically according to my `JLabel`\r\n\r\nI tried few things but it didn&#39;t help, the image won&#39;t fit properly inside my `JLabel`.","title":"How to make image automatically resize in the JLabel after it is selected by the user","body":"<p>Actually I want to create a car dealer application using <code>Java Swing</code>. In which I want the user to select an image of the car which he wants to sell and that image should be visible automatically in the <code>JLabel</code> in the same <code>JFrame</code>. So the user will select an image from his own device, that image might be big or small. So how to make that image resize automatically according to my <code>JLabel</code></p>\n<p>I tried few things but it didn't help, the image won't fit properly inside my <code>JLabel</code>.</p>\n"},{"tags":["python","java","interop","alloy","jpype"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1682937379,"post_id":76144420,"comment_id":134286423,"body_markdown":"Not sure about that particular JVM but with the Oracle JDK 11 libjli.dylib is in a different place - only later releases (Java 17 for example) have it in that location.","body":"Not sure about that particular JVM but with the Oracle JDK 11 libjli.dylib is in a different place - only later releases (Java 17 for example) have it in that location."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694197710,"creation_date":1682916543,"answer_id":76144779,"question_id":76144420,"body_markdown":"It is possible that the issue is due to different architectures. Ensure that your Python and JDK installations use the same architecture. For example for the M1 Apple chip architecture.","title":"Problem using JPype on Mac OS X: I try to start the JVM but I get a DLL not found, but it is there","body":"<p>It is possible that the issue is due to different architectures. Ensure that your Python and JDK installations use the same architecture. For example for the M1 Apple chip architecture.</p>\n"}],"owner":{"account_id":4935567,"reputation":415,"user_id":4038547,"accept_rate":18,"display_name":"Rodrigo Stv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694197710,"creation_date":1682907438,"question_id":76144420,"body_markdown":"My Python code is:\r\n\r\n```python\r\nimport jpype\r\n\r\njvm_path = &quot;/Library/Java/JavaVirtualMachines/microsoft-11.jdk/Contents/Home/lib/jli/libjli.dylib&quot;\r\n\r\njpype.startJVM(\r\n    jvm_path,\r\n    classpath=[&#39;~/org.alloytools.alloy.dist.jar&#39;],\r\n)\r\n```\r\n\r\nI get the following error:\r\n\r\n```bash\r\nTraceback (most recent call last):\r\n  File &quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/runpy.py&quot;, line 196, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File &quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/runpy.py&quot;, line 86, in _run_code\r\n    exec(code, run_globals)\r\n  File &quot;/Users/&lt;username&gt;/research-llm/alloy-bridge/src/__main__.py&quot;, line 5, in &lt;module&gt;\r\n    jpype.startJVM(\r\n  File &quot;/Users/&lt;username&gt;/research-llm/alloy-bridge/.env/lib/python3.10/site-packages/jpype/_core.py&quot;, line 224, in startJVM\r\n    _jpype.startup(jvmpath, tuple(args),\r\nFileNotFoundError: [Errno 2] JVM DLL not found: /Library/Java/JavaVirtualMachines/microsoft-11.jdk/Contents/Home/lib/jli/libjli.dylib\r\n```\r\n\r\nA few useful diagnostics:\r\n\r\n```bash\r\njava -version\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20\r\nOpenJDK Runtime Environment Microsoft-25199 (build 11.0.12+7)\r\nOpenJDK 64-Bit Server VM Microsoft-25199 (build 11.0.12+7, mixed mode)\r\n\r\n\r\njavac -version\r\njavac 11.0.12\r\n\r\npython --version\r\nPython 3.10.4\r\n\r\npip show jpype1\r\nName: JPype1 Version: 1.4.1 Summary: A Python to Java bridge. Home-page: https://github.com/jpype-project/jpype Author: Steve Menard Author-email: devilwolf@users.sourceforge.net License: License :: OSI Approved :: Apache Software License Location: /Users/username/projects/alloy-bridge/.env/lib/python3.10/site-packages Requires: packaging Required-by:\r\n\r\nsw_vers\r\nProductName: macOS ProductVersion: 13.2.1 BuildVersion: 22D68\r\n```\r\n\r\nGiven the context, can someone point me in a right direction? I tried a lot myself but couldn&#39;t get it working yet.","title":"Problem using JPype on Mac OS X: I try to start the JVM but I get a DLL not found, but it is there","body":"<p>My Python code is:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import jpype\n\njvm_path = &quot;/Library/Java/JavaVirtualMachines/microsoft-11.jdk/Contents/Home/lib/jli/libjli.dylib&quot;\n\njpype.startJVM(\n    jvm_path,\n    classpath=['~/org.alloytools.alloy.dist.jar'],\n)\n</code></pre>\n<p>I get the following error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Traceback (most recent call last):\n  File &quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/runpy.py&quot;, line 196, in _run_module_as_main\n    return _run_code(code, main_globals, None,\n  File &quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/runpy.py&quot;, line 86, in _run_code\n    exec(code, run_globals)\n  File &quot;/Users/&lt;username&gt;/research-llm/alloy-bridge/src/__main__.py&quot;, line 5, in &lt;module&gt;\n    jpype.startJVM(\n  File &quot;/Users/&lt;username&gt;/research-llm/alloy-bridge/.env/lib/python3.10/site-packages/jpype/_core.py&quot;, line 224, in startJVM\n    _jpype.startup(jvmpath, tuple(args),\nFileNotFoundError: [Errno 2] JVM DLL not found: /Library/Java/JavaVirtualMachines/microsoft-11.jdk/Contents/Home/lib/jli/libjli.dylib\n</code></pre>\n<p>A few useful diagnostics:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -version\nopenjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment Microsoft-25199 (build 11.0.12+7)\nOpenJDK 64-Bit Server VM Microsoft-25199 (build 11.0.12+7, mixed mode)\n\n\njavac -version\njavac 11.0.12\n\npython --version\nPython 3.10.4\n\npip show jpype1\nName: JPype1 Version: 1.4.1 Summary: A Python to Java bridge. Home-page: https://github.com/jpype-project/jpype Author: Steve Menard Author-email: devilwolf@users.sourceforge.net License: License :: OSI Approved :: Apache Software License Location: /Users/username/projects/alloy-bridge/.env/lib/python3.10/site-packages Requires: packaging Required-by:\n\nsw_vers\nProductName: macOS ProductVersion: 13.2.1 BuildVersion: 22D68\n</code></pre>\n<p>Given the context, can someone point me in a right direction? I tried a lot myself but couldn't get it working yet.</p>\n"},{"tags":["java","kotlin","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694195662,"creation_date":1694192306,"answer_id":77068693,"question_id":77068674,"body_markdown":"     &lt;style name=&quot;Base.Theme.TitleBarSettings&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\r\n\r\nYou have set NoActionBar theme. Thats why it is not appearing.\r\n\r\nuse this as your parent theme: \r\n\r\n    parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;\r\n\r\n It will have actionbar with the app name but it will not have 3 dotted menu on the right side. \r\n\r\nFor changing the color of the ActionBar add following code in your onCreate of the mainActivity.\r\n\r\n    // Define ActionBar object\r\n            ActionBar actionBar;\r\n            actionBar = getSupportActionBar();\r\n    \r\n            // Define ColorDrawable object and parse color\r\n            // using parseColor method\r\n            // with color hash code as its parameter\r\n            ColorDrawable colorDrawable\r\n                    = new ColorDrawable(Color.parseColor(&quot;#0F9D58&quot;));\r\n    \r\n            // Set BackgroundDrawable\r\n            actionBar.setBackgroundDrawable(colorDrawable);\r\n\r\n\r\nYou can change the **&quot;#0F9D58&quot;** to any color code you want. \r\n\r\n","title":"I don&#39;t have a title bar in Android studio. When I press the Show System UI button, my title bar does not appear","body":"<pre><code> &lt;style name=&quot;Base.Theme.TitleBarSettings&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>You have set NoActionBar theme. Thats why it is not appearing.</p>\n<p>use this as your parent theme:</p>\n<pre><code>parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;\n</code></pre>\n<p>It will have actionbar with the app name but it will not have 3 dotted menu on the right side.</p>\n<p>For changing the color of the ActionBar add following code in your onCreate of the mainActivity.</p>\n<pre><code>// Define ActionBar object\n        ActionBar actionBar;\n        actionBar = getSupportActionBar();\n\n        // Define ColorDrawable object and parse color\n        // using parseColor method\n        // with color hash code as its parameter\n        ColorDrawable colorDrawable\n                = new ColorDrawable(Color.parseColor(&quot;#0F9D58&quot;));\n\n        // Set BackgroundDrawable\n        actionBar.setBackgroundDrawable(colorDrawable);\n</code></pre>\n<p>You can change the <strong>&quot;#0F9D58&quot;</strong> to any color code you want.</p>\n"},{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694196615,"creation_date":1694196615,"answer_id":77069061,"question_id":77068674,"body_markdown":"there is another way to add a default toolbar to your app while setting your parent theme same as: \r\n\r\n    parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;\r\n\r\nactivity_main.xml\r\n\r\nby following this approach you don&#39;t need to change background color from the java code but you can easily change background color as a simple attribute of toolbar.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/myToolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#1F6C23&quot;\r\n            android:elevation=&quot;4dp&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            android:theme=&quot;?attr/actionBarTheme&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n \r\nMainActivity.class\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    import android.os.Bundle;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Toolbar myToolbar = (Toolbar) findViewById(R.id.myToolbar);\r\n            setSupportActionBar(myToolbar);\r\n        }\r\n    }\r\n\r\n\r\nsee the official documentation here :\r\nhttps://developer.android.com/develop/ui/views/components/appbar/setting-up","title":"I don&#39;t have a title bar in Android studio. When I press the Show System UI button, my title bar does not appear","body":"<p>there is another way to add a default toolbar to your app while setting your parent theme same as:</p>\n<pre><code>parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;\n</code></pre>\n<p>activity_main.xml</p>\n<p>by following this approach you don't need to change background color from the java code but you can easily change background color as a simple attribute of toolbar.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=&quot;@+id/myToolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#1F6C23&quot;\n        android:elevation=&quot;4dp&quot;\n        android:minHeight=&quot;?attr/actionBarSize&quot;\n        android:theme=&quot;?attr/actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>MainActivity.class</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Toolbar myToolbar = (Toolbar) findViewById(R.id.myToolbar);\n        setSupportActionBar(myToolbar);\n    }\n}\n</code></pre>\n<p>see the official documentation here :\n<a href=\"https://developer.android.com/develop/ui/views/components/appbar/setting-up\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/components/appbar/setting-up</a></p>\n"}],"owner":{"account_id":29263434,"reputation":3,"user_id":22419820,"display_name":"&#214;zcan Bayram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77069061,"answer_count":2,"score":0,"last_activity_date":1694196615,"creation_date":1694192068,"question_id":77068674,"body_markdown":"Look the image:\r\nimage: [enter image description here][1]\r\n\r\n# I don&#39;t know what code this is caused by. That&#39;s why I will only share themes.xml codes. \r\n```\r\n//Themes.xml\r\n\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Base.Theme.TitleBarSettings&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your light theme here. --&gt;\r\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_light_primary&lt;/item&gt; --&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.TitleBarSettings&quot; parent=&quot;Base.Theme.TitleBarSettings&quot; /&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KROXw.png","title":"I don&#39;t have a title bar in Android studio. When I press the Show System UI button, my title bar does not appear","body":"<p>Look the image:\nimage: <a href=\"https://i.stack.imgur.com/KROXw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<h1>I don't know what code this is caused by. That's why I will only share themes.xml codes.</h1>\n<pre><code>//Themes.xml\n\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Base.Theme.TitleBarSettings&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Customize your light theme here. --&gt;\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_light_primary&lt;/item&gt; --&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Theme.TitleBarSettings&quot; parent=&quot;Base.Theme.TitleBarSettings&quot; /&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","apache-beam","airflow-2.x"],"answers":[{"tags":[],"owner":{"account_id":16448586,"reputation":114,"user_id":11882586,"display_name":"Gayal Rupasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691339821,"creation_date":1691339821,"answer_id":76846833,"question_id":76846772,"body_markdown":"You can use KeyedPCollectionTuple to join the two files, this might just be a starting off point but have a look: https://beam.apache.org/documentation/pipelines/design-your-pipeline/ ","title":"Comparing 2 csv files using apache beam java","body":"<p>You can use KeyedPCollectionTuple to join the two files, this might just be a starting off point but have a look: <a href=\"https://beam.apache.org/documentation/pipelines/design-your-pipeline/\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/pipelines/design-your-pipeline/</a></p>\n"},{"tags":[],"owner":{"account_id":25102613,"reputation":111,"user_id":18953150,"display_name":"Naveen A D"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1691340108,"creation_date":1691340108,"answer_id":76846852,"question_id":76846772,"body_markdown":"I think that a few changes in the code can fix it \r\n\r\nTry this code :\r\n\r\n       public class CsvComparer {\r\n    public static void main(String[] args) {\r\n        Pipeline pipeline = Pipeline.create();\r\n\r\n        // Read the first CSV file as KV pairs (ID, Line)\r\n        PCollection&lt;KV&lt;String, String&gt;&gt; file1 = pipeline.apply(TextIO.read().from(&quot;gs://my-bucket/file1.csv&quot;))\r\n                .apply(ParDo.of(new ExtractKeyValueFn()));\r\n\r\n        // Read the second CSV file as KV pairs (ID, Line)\r\n        PCollection&lt;KV&lt;String, String&gt;&gt; file2 = pipeline.apply(TextIO.read().from(&quot;gs://my-bucket/file2.csv&quot;))\r\n                .apply(ParDo.of(new ExtractKeyValueFn()));\r\n\r\n        // CoGroupByKey to join lines with the same ID\r\n        PCollection&lt;KV&lt;String, CoGbkResult&gt;&gt; groupedLines = KeyedPCollectionTuple.of(&quot;file1&quot;, file1)\r\n                .and(&quot;file2&quot;, file2)\r\n                .apply(CoGroupByKey.create());\r\n\r\n        // Compare the data in the files and write the results to a file\r\n        PCollection&lt;String&gt; results = groupedLines.apply(ParDo.of(new CompareCsvFn()));\r\n        results.apply(TextIO.write().to(&quot;gs://my-bucket/comparison_results.csv&quot;).withSuffix(&quot;.csv&quot;));\r\n\r\n        pipeline.run().waitUntilFinish();\r\n    }\r\n\r\n    public static class ExtractKeyValueFn extends DoFn&lt;String, KV&lt;String, String&gt;&gt; {\r\n        @ProcessElement\r\n        public void processElement(@Element String line, OutputReceiver&lt;KV&lt;String, String&gt;&gt; out) {\r\n            // Split the line by &#39;,&#39; and use the first part as the key (ID) and the whole line as the value\r\n            String[] parts = line.split(&quot;,&quot;);\r\n            String key = parts[0].substring(parts[0].lastIndexOf(&#39;/&#39;) + 1);\r\n            out.output(KV.of(key, line));\r\n        }\r\n    }\r\n\r\n    public static class CompareCsvFn extends DoFn&lt;KV&lt;String, CoGbkResult&gt;, String&gt; {\r\n        @ProcessElement\r\n        public void processElement(@Element KV&lt;String, CoGbkResult&gt; element, OutputReceiver&lt;String&gt; out) {\r\n            String id = element.getKey();\r\n            Iterable&lt;String&gt; linesFromFirstFile = element.getValue().getAll(&quot;file1&quot;);\r\n            Iterable&lt;String&gt; linesFromSecondFile = element.getValue().getAll(&quot;file2&quot;);\r\n\r\n            // Compare the lines for the given ID and output if they match\r\n            for (String line1 : linesFromFirstFile) {\r\n                for (String line2 : linesFromSecondFile) {\r\n                    if (line1.equals(line2)) {\r\n                        // Format the output\r\n                        String output = String.format(&quot;Line in file 1: %s\\nLine in file 2: %s\\n&quot;, line1, line2);\r\n                        out.output(output);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nI changed a few things in it ,let me know that it works or not.","title":"Comparing 2 csv files using apache beam java","body":"<p>I think that a few changes in the code can fix it</p>\n<p>Try this code :</p>\n<pre><code>   public class CsvComparer {\npublic static void main(String[] args) {\n    Pipeline pipeline = Pipeline.create();\n\n    // Read the first CSV file as KV pairs (ID, Line)\n    PCollection&lt;KV&lt;String, String&gt;&gt; file1 = pipeline.apply(TextIO.read().from(&quot;gs://my-bucket/file1.csv&quot;))\n            .apply(ParDo.of(new ExtractKeyValueFn()));\n\n    // Read the second CSV file as KV pairs (ID, Line)\n    PCollection&lt;KV&lt;String, String&gt;&gt; file2 = pipeline.apply(TextIO.read().from(&quot;gs://my-bucket/file2.csv&quot;))\n            .apply(ParDo.of(new ExtractKeyValueFn()));\n\n    // CoGroupByKey to join lines with the same ID\n    PCollection&lt;KV&lt;String, CoGbkResult&gt;&gt; groupedLines = KeyedPCollectionTuple.of(&quot;file1&quot;, file1)\n            .and(&quot;file2&quot;, file2)\n            .apply(CoGroupByKey.create());\n\n    // Compare the data in the files and write the results to a file\n    PCollection&lt;String&gt; results = groupedLines.apply(ParDo.of(new CompareCsvFn()));\n    results.apply(TextIO.write().to(&quot;gs://my-bucket/comparison_results.csv&quot;).withSuffix(&quot;.csv&quot;));\n\n    pipeline.run().waitUntilFinish();\n}\n\npublic static class ExtractKeyValueFn extends DoFn&lt;String, KV&lt;String, String&gt;&gt; {\n    @ProcessElement\n    public void processElement(@Element String line, OutputReceiver&lt;KV&lt;String, String&gt;&gt; out) {\n        // Split the line by ',' and use the first part as the key (ID) and the whole line as the value\n        String[] parts = line.split(&quot;,&quot;);\n        String key = parts[0].substring(parts[0].lastIndexOf('/') + 1);\n        out.output(KV.of(key, line));\n    }\n}\n\npublic static class CompareCsvFn extends DoFn&lt;KV&lt;String, CoGbkResult&gt;, String&gt; {\n    @ProcessElement\n    public void processElement(@Element KV&lt;String, CoGbkResult&gt; element, OutputReceiver&lt;String&gt; out) {\n        String id = element.getKey();\n        Iterable&lt;String&gt; linesFromFirstFile = element.getValue().getAll(&quot;file1&quot;);\n        Iterable&lt;String&gt; linesFromSecondFile = element.getValue().getAll(&quot;file2&quot;);\n\n        // Compare the lines for the given ID and output if they match\n        for (String line1 : linesFromFirstFile) {\n            for (String line2 : linesFromSecondFile) {\n                if (line1.equals(line2)) {\n                    // Format the output\n                    String output = String.format(&quot;Line in file 1: %s\\nLine in file 2: %s\\n&quot;, line1, line2);\n                    out.output(output);\n                }\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p>I changed a few things in it ,let me know that it works or not.</p>\n"}],"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76846852,"answer_count":2,"score":0,"last_activity_date":1694196146,"creation_date":1691338865,"question_id":76846772,"body_markdown":"I have a task of comparing 2 csv files using Apache Beam Java. \r\n    \r\nI have to compare the Ids in file 1 with the all Ids in File 2 and if it matches then I have to get the whole line which consists of that Ids and save it in a file. For e.g.: Id is found in 1st reference image. Hence I would copy this line to another file and save it. if the ID would not have found then it would search on the next line .. till the end of file. \r\n\r\nThe code which I have come up with is as per below: \r\n\r\n    public class CsvComparer {\r\n        public static void main(String[] args) {\r\n            Pipeline pipeline = Pipeline.create();\r\n    \r\n            // Read the first CSV file\r\n            PCollection&lt;String&gt; file1 = pipeline.apply(TextIO.read().from(&quot;gs://my-bucket/file1.csv&quot;));\r\n    \r\n            // Read the second CSV file\r\n            PCollection&lt;String&gt; file2 = pipeline.apply(TextIO.read().from(&quot;gs://my-bucket/file2.csv&quot;));\r\n    \r\n            // Compare the data in the files and write the results to a file\r\n            PCollection&lt;String&gt; results = file1.apply(ParDo.of(new CompareCsvFn(file2)));\r\n            results.apply(TextIO.write().to(&quot;gs://my-bucket/comparison_results.csv&quot;).withSuffix(&quot;.csv&quot;));\r\n    \r\n            pipeline.run().waitUntilFinish();\r\n        } \r\n    \r\n        public static class CompareCsvFn extends DoFn&lt;String, String&gt; {\r\n            private final PCollection&lt;String&gt; file2; \r\n    \r\n            public CompareCsvFn(PCollection&lt;String&gt; file2) {\r\n                this.file2 = file2;\r\n            } \r\n    \r\n            @ProcessElement\r\n            public void processElement(@Element String line, OutputReceiver&lt;String&gt; out) {\r\n                // Compare the line with the lines in file2\r\n                PCollection&lt;KV&lt;String, String&gt;&gt; matches = file2.apply(ParDo.of(new CompareLinesFn(line))); \r\n    \r\n                // Write the matching lines to the output\r\n                matches.apply(ParDo.of(new FormatOutputFn(line))).apply(out);\r\n            }\r\n        } \r\n    \r\n        public static class CompareLinesFn extends DoFn&lt;String, KV&lt;String, String&gt;&gt; {\r\n            private final String line; \r\n    \r\n            public CompareLinesFn(String line) {\r\n                this.line = line;\r\n            } \r\n    \r\n            @ProcessElement\r\n            public void processElement(@Element String otherLine, OutputReceiver&lt;KV&lt;String, String&gt;&gt; out) {\r\n                // Compare the lines and output a KV pair if they match\r\n    // this logic would need to be changed I understand as I have to compare one line in file1 with all other lines in file2 \r\n                if (line.equals(otherLine)) {\r\n                    out.output(KV.of(line, otherLine));\r\n                }\r\n            }\r\n        } \r\n    \r\n        public static class FormatOutputFn extends DoFn&lt;KV&lt;String, String&gt;, String&gt; {\r\n            private final String line; \r\n    \r\n            public FormatOutputFn(String line) {\r\n                this.line = line;\r\n            } \r\n    \r\n            @ProcessElement\r\n            public void processElement(@Element KV&lt;String, String&gt; match, OutputReceiver&lt;String&gt; out) {\r\n                // Format the output\r\n                String output = String.format(&quot;Line in file 1: %s\\nLine in file 2: %s\\n&quot;, line, match.getValue());\r\n                out.output(output);\r\n            }\r\n        }\r\n    }\r\n\r\nPlease kindly help me and advise on the above. I have search the net and other areas but to no avail. ","title":"Comparing 2 csv files using apache beam java","body":"<p>I have a task of comparing 2 csv files using Apache Beam Java.</p>\n<p>I have to compare the Ids in file 1 with the all Ids in File 2 and if it matches then I have to get the whole line which consists of that Ids and save it in a file. For e.g.: Id is found in 1st reference image. Hence I would copy this line to another file and save it. if the ID would not have found then it would search on the next line .. till the end of file.</p>\n<p>The code which I have come up with is as per below:</p>\n<pre><code>public class CsvComparer {\n    public static void main(String[] args) {\n        Pipeline pipeline = Pipeline.create();\n\n        // Read the first CSV file\n        PCollection&lt;String&gt; file1 = pipeline.apply(TextIO.read().from(&quot;gs://my-bucket/file1.csv&quot;));\n\n        // Read the second CSV file\n        PCollection&lt;String&gt; file2 = pipeline.apply(TextIO.read().from(&quot;gs://my-bucket/file2.csv&quot;));\n\n        // Compare the data in the files and write the results to a file\n        PCollection&lt;String&gt; results = file1.apply(ParDo.of(new CompareCsvFn(file2)));\n        results.apply(TextIO.write().to(&quot;gs://my-bucket/comparison_results.csv&quot;).withSuffix(&quot;.csv&quot;));\n\n        pipeline.run().waitUntilFinish();\n    } \n\n    public static class CompareCsvFn extends DoFn&lt;String, String&gt; {\n        private final PCollection&lt;String&gt; file2; \n\n        public CompareCsvFn(PCollection&lt;String&gt; file2) {\n            this.file2 = file2;\n        } \n\n        @ProcessElement\n        public void processElement(@Element String line, OutputReceiver&lt;String&gt; out) {\n            // Compare the line with the lines in file2\n            PCollection&lt;KV&lt;String, String&gt;&gt; matches = file2.apply(ParDo.of(new CompareLinesFn(line))); \n\n            // Write the matching lines to the output\n            matches.apply(ParDo.of(new FormatOutputFn(line))).apply(out);\n        }\n    } \n\n    public static class CompareLinesFn extends DoFn&lt;String, KV&lt;String, String&gt;&gt; {\n        private final String line; \n\n        public CompareLinesFn(String line) {\n            this.line = line;\n        } \n\n        @ProcessElement\n        public void processElement(@Element String otherLine, OutputReceiver&lt;KV&lt;String, String&gt;&gt; out) {\n            // Compare the lines and output a KV pair if they match\n// this logic would need to be changed I understand as I have to compare one line in file1 with all other lines in file2 \n            if (line.equals(otherLine)) {\n                out.output(KV.of(line, otherLine));\n            }\n        }\n    } \n\n    public static class FormatOutputFn extends DoFn&lt;KV&lt;String, String&gt;, String&gt; {\n        private final String line; \n\n        public FormatOutputFn(String line) {\n            this.line = line;\n        } \n\n        @ProcessElement\n        public void processElement(@Element KV&lt;String, String&gt; match, OutputReceiver&lt;String&gt; out) {\n            // Format the output\n            String output = String.format(&quot;Line in file 1: %s\\nLine in file 2: %s\\n&quot;, line, match.getValue());\n            out.output(output);\n        }\n    }\n}\n</code></pre>\n<p>Please kindly help me and advise on the above. I have search the net and other areas but to no avail.</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":9265744,"reputation":24921,"user_id":6881240,"accept_rate":96,"display_name":"kabanus"},"score":0,"creation_date":1482752813,"post_id":41330715,"comment_id":69864505,"body_markdown":"You probably want to tag Java as well. What do you mean does not work in the first example? what is the input, output, and expected output?","body":"You probably want to tag Java as well. What do you mean does not work in the first example? what is the input, output, and expected output?"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482752925,"post_id":41330715,"comment_id":69864550,"body_markdown":"if the json is of object type then i am able to get the difference","body":"if the json is of object type then i am able to get the difference"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482753485,"post_id":41330715,"comment_id":69864758,"body_markdown":"added the java code as well. could anyone help me with this. Also i dont know if my code is an optimized one","body":"added the java code as well. could anyone help me with this. Also i dont know if my code is an optimized one"},{"owner":{"account_id":7827308,"reputation":1498,"user_id":5918453,"display_name":"Mark"},"score":0,"creation_date":1482835983,"post_id":41330715,"comment_id":69889535,"body_markdown":"So... wait... the second code snippet is where exactly? Outside of your compare method?","body":"So... wait... the second code snippet is where exactly? Outside of your compare method?"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482836088,"post_id":41330715,"comment_id":69889591,"body_markdown":"@Mark it is inside the compare method only. when i execute the above code in debug the object array is null","body":"@Mark it is inside the compare method only. when i execute the above code in debug the object array is null"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482836640,"post_id":41330715,"comment_id":69889875,"body_markdown":"@axelH i need to do a deep compare of the two json what i have posted is  sample one and the real json is very huge","body":"@axelH i need to do a deep compare of the two json what i have posted is  sample one and the real json is very huge"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":1,"creation_date":1482836683,"post_id":41330715,"comment_id":69889895,"body_markdown":"Possible duplicate of [Compare two JSON objects in Java](http://stackoverflow.com/questions/2253750/compare-two-json-objects-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2253750/compare-two-json-objects-in-java\">Compare two JSON objects in Java</a>"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482837155,"post_id":41330715,"comment_id":69890140,"body_markdown":"@Dherik see i am able to compare the jsons but could not print the all the differences if the two json are not equal","body":"@Dherik see i am able to compare the jsons but could not print the all the differences if the two json are not equal"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1482837679,"post_id":41330715,"comment_id":69890385,"body_markdown":"@Calvin, I think `JSONAssert` can show only the differences. Try the `JSONCompare` (http://jsonassert.skyscreamer.org/apidocs/index.html) available in `JSONAssert `.","body":"@Calvin, I think <code>JSONAssert</code> can show only the differences. Try the <code>JSONCompare</code> (<a href=\"http://jsonassert.skyscreamer.org/apidocs/index.html\" rel=\"nofollow noreferrer\">jsonassert.skyscreamer.org/apidocs/index.html</a>) available in <code>JSONAssert </code>."},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482838807,"post_id":41330715,"comment_id":69890904,"body_markdown":"@Mark any idea on the reason why the array returned as null","body":"@Mark any idea on the reason why the array returned as null"},{"owner":{"account_id":7827308,"reputation":1498,"user_id":5918453,"display_name":"Mark"},"score":0,"creation_date":1482839929,"post_id":41330715,"comment_id":69891437,"body_markdown":"Actually, no :(. I tried creating an empty ArrayList and calling the toArray() method, it doesn&#39;t return null, just makes the resulting array empty. Of course if your ArrayList was null, you&#39;d get a NullPointerException, but it doesn&#39;t seem like that&#39;s your problem. Did you debug it? Are you sure the .toArray() method returned null instead of an array?","body":"Actually, no :(. I tried creating an empty ArrayList and calling the toArray() method, it doesn&#39;t return null, just makes the resulting array empty. Of course if your ArrayList was null, you&#39;d get a NullPointerException, but it doesn&#39;t seem like that&#39;s your problem. Did you debug it? Are you sure the .toArray() method returned null instead of an array?"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482895381,"post_id":41330715,"comment_id":69911684,"body_markdown":"@Mark i have edited the code now the arraylist is not empty, but when comparing two json with same key but with different value it return as true instead of returning as false","body":"@Mark i have edited the code now the arraylist is not empty, but when comparing two json with same key but with different value it return as true instead of returning as false"},{"owner":{"account_id":7827308,"reputation":1498,"user_id":5918453,"display_name":"Mark"},"score":0,"creation_date":1482913521,"post_id":41330715,"comment_id":69917609,"body_markdown":"@Calvin Which json library are you using? I&#39;d like to test the code myself, but a different library might screw up the results","body":"@Calvin Which json library are you using? I&#39;d like to test the code myself, but a different library might screw up the results"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482913728,"post_id":41330715,"comment_id":69917686,"body_markdown":"@Mark i am using Gson. These are the imports that i did              import com.google.common.collect.Maps;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.google.gson.reflect.TypeToken;","body":"@Mark i am using Gson. These are the imports that i did              import com.google.common.collect.Maps; import com.google.gson.Gson; import com.google.gson.JsonArray; import com.google.gson.JsonElement; import com.google.gson.JsonObject; import com.google.gson.JsonParser; import com.google.gson.reflect.TypeToken;"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482913849,"post_id":41330715,"comment_id":69917747,"body_markdown":"@Mark i need to do something like this if the json values are same irrespective of their order then it should not do anything. if the json are not same then i need to print the differences","body":"@Mark i need to do something like this if the json values are same irrespective of their order then it should not do anything. if the json are not same then i need to print the differences"},{"owner":{"account_id":7827308,"reputation":1498,"user_id":5918453,"display_name":"Mark"},"score":0,"creation_date":1482914516,"post_id":41330715,"comment_id":69918034,"body_markdown":"@Calvin So... here&#39;s the thing... if I try your code with your example, this is my output: `Is the two JSON File Same: false` `not equal: value differences={Company List=([Compnay: Paypal, Compnay: eBay, Compnay: Google], [Compnay: Viswesh, Compnay: Anand, Compnay: Anand])}`","body":"@Calvin So... here&#39;s the thing... if I try your code with your example, this is my output: <code>Is the two JSON File Same: false</code> <code>not equal: value differences={Company List=([Compnay: Paypal, Compnay: eBay, Compnay: Google], [Compnay: Viswesh, Compnay: Anand, Compnay: Anand])}</code>"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482914953,"post_id":41330715,"comment_id":69918237,"body_markdown":"@Mark if you try this on json1: {&quot;Company List&quot;:[&quot;Compnay: eBay&quot;,&quot;Compnay: Google&quot;,&quot;Compnay: Paypal&quot;]} and json2: {&quot;Company List&quot;:[&quot;Compnay: Paypal&quot;,&quot;Compnay: eBay&quot;,&quot;Compnay: Google&quot;]} in these two json the values are same but the order is different my code returns not equal but i need to get the result as they are equal","body":"@Mark if you try this on json1: {&quot;Company List&quot;:[&quot;Compnay: eBay&quot;,&quot;Compnay: Google&quot;,&quot;Compnay: Paypal&quot;]} and json2: {&quot;Company List&quot;:[&quot;Compnay: Paypal&quot;,&quot;Compnay: eBay&quot;,&quot;Compnay: Google&quot;]} in these two json the values are same but the order is different my code returns not equal but i need to get the result as they are equal"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482915065,"post_id":41330715,"comment_id":69918287,"body_markdown":"@Mark my thing is my code should return as two json are same if the order of the json is different but the values are same","body":"@Mark my thing is my code should return as two json are same if the order of the json is different but the values are same"},{"owner":{"display_name":"user7265561"},"score":0,"creation_date":1482916281,"post_id":41330715,"comment_id":69918929,"body_markdown":"@Mark just like you had posted these two json are also returning that they are same {&quot;Company List&quot;:[&quot;Compnay: eBay&quot;,&quot;Compnay: Google&quot;,&quot;Compnay: Paypal&quot;]} {&quot;Company List&quot;:&quot;ImAString&quot;}","body":"@Mark just like you had posted these two json are also returning that they are same {&quot;Company List&quot;:[&quot;Compnay: eBay&quot;,&quot;Compnay: Google&quot;,&quot;Compnay: Paypal&quot;]} {&quot;Company List&quot;:&quot;ImAString&quot;}"}],"answers":[{"tags":[],"owner":{"account_id":7827308,"reputation":1498,"user_id":5918453,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482919884,"creation_date":1482915402,"answer_id":41358525,"question_id":41330715,"body_markdown":"The comment section was getting too long, so here&#39;s an answer instead:\r\n\r\nFirst off, you still have a problem if your Json Objects have different structures. For example:\r\n\r\n    {&quot;Company List&quot;:[&quot;Compnay: eBay&quot;,&quot;Compnay: Google&quot;,&quot;Compnay: Paypal&quot;]} \r\n    \r\n    {&quot;Company List&quot;:&quot;ImAString&quot;}\r\n\r\nNeither is null, it&#39;s a primitive and an array. You don&#39;t catch that case, so your isEqual will remain true.\r\n\r\n---\r\n\r\nAnyway, back to the problem at hand.\r\n\r\nArrays should not have to be ordered the same to be equal in your case.\r\n\r\n\r\n    if (isEqual) {\r\n        Object[] o1 = ls1.toArray();\r\n        Object[] o2 = ls2.toArray();\r\n        isEqual = Arrays.deepEquals(o1, o2);\r\n    }\r\n\r\nYou should be able to easily solve it by changing this into this:\r\n\r\n\r\n    if (isEqual) {\r\n        isEqual = ls1.containsAll(ls2);\r\n    }\r\n\r\nAlthough I should mention that I find it really odd that your ls1 and ls2 are both static and just keep getting entries. In your examples it doesn&#39;t matter because they are so small, but on big files, you will get huge ArrayLists with lots of values appearing multiple times. \r\n\r\nAnd comparing them all every time you get to a JsonArray seems like it would be a huge waste of time.\r\n\r\n---\r\n\r\nSince this still has the problem of not being able to compare differently ordered JSON Arrays with JSON Elements that aren&#39;t primitives, here&#39;s the brute force approach to comparing two arrays. Keep in mind that it&#39;s far from being an optimal approach, but it IS relatively easy to implement:\r\n\r\n    public static boolean equality(ArrayList&lt;Object&gt; list1, ArrayList&lt;Object&gt; list2) { \t\r\n    \tif (list1.length != list2.length) return false;\r\n    \t\t\r\n    \tfor (Object entry1 : list1) {\r\n    \t\tObject equalEntry = null;\r\n    \t\t\r\n    \t\tfor(Object entry2 : list2) { \r\n    \t\t\tif (entry1.equals(entry2)) {\r\n    \t\t\t\tequalEntry = entry2;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t} \r\n    \t\t\r\n    \t\tif (equalEntry == null) return false;\t\t\r\n    \t\tlist2.remove(equalEntry);\r\n    \t} \r\n    \t\r\n    \treturn true;\r\n    }\r\n\r\nI should also mention that it&#39;s obviously not as simple as `if (entry1.equals(entry2))`. You will probably have to do the recursion at this point and call your compare method. Also I&#39;m pretty sure your Lists hold JSON Elements and not Objects ;)","title":"Deep Comparing of two json and displaying the differences","body":"<p>The comment section was getting too long, so here's an answer instead:</p>\n\n<p>First off, you still have a problem if your Json Objects have different structures. For example:</p>\n\n<pre><code>{\"Company List\":[\"Compnay: eBay\",\"Compnay: Google\",\"Compnay: Paypal\"]} \n\n{\"Company List\":\"ImAString\"}\n</code></pre>\n\n<p>Neither is null, it's a primitive and an array. You don't catch that case, so your isEqual will remain true.</p>\n\n<hr>\n\n<p>Anyway, back to the problem at hand.</p>\n\n<p>Arrays should not have to be ordered the same to be equal in your case.</p>\n\n<pre><code>if (isEqual) {\n    Object[] o1 = ls1.toArray();\n    Object[] o2 = ls2.toArray();\n    isEqual = Arrays.deepEquals(o1, o2);\n}\n</code></pre>\n\n<p>You should be able to easily solve it by changing this into this:</p>\n\n<pre><code>if (isEqual) {\n    isEqual = ls1.containsAll(ls2);\n}\n</code></pre>\n\n<p>Although I should mention that I find it really odd that your ls1 and ls2 are both static and just keep getting entries. In your examples it doesn't matter because they are so small, but on big files, you will get huge ArrayLists with lots of values appearing multiple times. </p>\n\n<p>And comparing them all every time you get to a JsonArray seems like it would be a huge waste of time.</p>\n\n<hr>\n\n<p>Since this still has the problem of not being able to compare differently ordered JSON Arrays with JSON Elements that aren't primitives, here's the brute force approach to comparing two arrays. Keep in mind that it's far from being an optimal approach, but it IS relatively easy to implement:</p>\n\n<pre><code>public static boolean equality(ArrayList&lt;Object&gt; list1, ArrayList&lt;Object&gt; list2) {  \n    if (list1.length != list2.length) return false;\n\n    for (Object entry1 : list1) {\n        Object equalEntry = null;\n\n        for(Object entry2 : list2) { \n            if (entry1.equals(entry2)) {\n                equalEntry = entry2;\n                break;\n            }\n        } \n\n        if (equalEntry == null) return false;       \n        list2.remove(equalEntry);\n    } \n\n    return true;\n}\n</code></pre>\n\n<p>I should also mention that it's obviously not as simple as <code>if (entry1.equals(entry2))</code>. You will probably have to do the recursion at this point and call your compare method. Also I'm pretty sure your Lists hold JSON Elements and not Objects ;)</p>\n"}],"owner":{"display_name":"user7265561"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694196095,"creation_date":1482752430,"question_id":41330715,"body_markdown":"I am trying to compare two dynamic json data and if they are not equal then i am printing the differences. For this i am using  \r\n\r\n    Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\r\n    Map&lt;String,Object&gt; firstMap = g.fromJson(jsonElement1, mapType);\r\n    Map&lt;String, Object&gt; secondMap = g.fromJson(jsonElement2, mapType);\r\n    System.out.println(Maps.difference(firstMap, secondMap));\r\n I need to display the difference in the console.\r\nThis is the java code in which i am trying to display the differences of the json\r\n\r\n  \r\n\r\n          public class Tester {\r\n    public static ArrayList&lt;Object&gt; ls1 = new ArrayList&lt;Object&gt;();\r\n     public static      \t\tArrayList&lt;Object&gt; ls2 = new ArrayList&lt;Object&gt;();\r\n            \tpublic static void main(String[] args) throws Exception {\r\n            \t\tJsonParser parser = new JsonParser();\r\n            \t\t\r\n            \t\ttry{\r\n            \t\t\tGson g = new Gson();\r\n            \t\t\tJsonElement jsonElement1 = parser\r\n            \t\t\t\t\t.parse(new FileReader(&quot;D:\\\\file1.json&quot;));\r\n            \t\t\tJsonElement jsonElement2 = parser\r\n            \t\t\t\t\t.parse(new FileReader(&quot;D:\\\\file2.json&quot;));\r\n            \t\t\tSystem.out.println(&quot;Is the two JSON File Same: &quot;+compareJson(jsonElement1, jsonElement2));\r\n            \t\t\tif(!compareJson(jsonElement1, jsonElement2)){\r\n            \t\t\t\tType mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\r\n            \t\t\t\tMap&lt;String,Object&gt; firstMap = g.fromJson(jsonElement1, mapType);\r\n            \t\t\t\tMap&lt;String, Object&gt; secondMap = g.fromJson(jsonElement2, mapType);\r\n            \t\t\t\tSystem.out.println(Maps.difference(firstMap, secondMap));\r\n            \t\t\t}\r\n            \t\t\telse{\r\n            \t\t\t\tSystem.out.println(&quot;The Two JSON Are SAME!!!!!!!!!!!!!!!&quot;);\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t}catch(Exception e1){\r\n            \t\t\te1.printStackTrace();\r\n            \t\t}\r\n            \r\n            \t}\r\n            \r\n            \tpublic static boolean compareJson(JsonElement json1, JsonElement json2) {\r\n            \t\tboolean isEqual = true;\r\n            \t\t\r\n            \t\t// Check whether both jsonElement are not null\r\n            \t\tif (json1 != null &amp;&amp; json2 != null) {\r\n            \r\n            \t\t\t// Check whether both jsonElement are objects\r\n            \t\t\tif (json1.isJsonObject() &amp;&amp; json2.isJsonObject()) {\r\n            \t\t\t\tSet&lt;Entry&lt;String, JsonElement&gt;&gt; ens1 = ((JsonObject) json1).entrySet();\r\n            \t\t\t\tSet&lt;Entry&lt;String, JsonElement&gt;&gt; ens2 = ((JsonObject) json2).entrySet();\r\n            \t\t\t\tJsonObject json2obj = (JsonObject) json2;\r\n            \t\t\t\tif (ens1 != null &amp;&amp; ens2 != null &amp;&amp; (ens2.size() == ens1.size())) {\r\n            \t\t\t\t\t// Iterate JSON Elements with Key values\r\n            \t\t\t\t\tfor (Entry&lt;String, JsonElement&gt; en : ens1) {\r\n            \t\t\t\t\t\tisEqual = isEqual &amp;&amp; compareJson(en.getValue(),json2obj.get(en.getKey()));\r\n            \t\t\t\t\t}\r\n            \t\t\t\t} else {\r\n            \t\t\t\t\treturn false;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t// Check whether both jsonElement are arrays\r\n            \t\t\telse if (json1.isJsonArray() &amp;&amp; json2.isJsonArray()) {\r\n            \t\t\t\tJsonArray jarr1 = json1.getAsJsonArray();\r\n            \t\t\t\tJsonArray jarr2 = json2.getAsJsonArray();\r\n            \t\t\t\tif (jarr1.size() != jarr2.size()) {\r\n            \t\t\t\t\treturn false;\r\n            \t\t\t\t} else {\r\n            \t\t\t\t\tint i = 0;\r\n            \t\t\t\t\t// Iterate JSON Array to JSON Elements\r\n            \t\t\t\t\tfor (JsonElement je : jarr1) {\r\n            \t\t\t\t\t\tisEqual = isEqual &amp;&amp; compareJson(je, jarr2.get(i));\r\n            \t\t\t\t\t\ti++;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\tif (isEqual) {\r\n            \t\t\t\t\t\tObject[] o1 = ls1.toArray();\r\n            \t\t\t\t\t\tObject[] o2 = ls2.toArray();\r\n            \t\t\t\t\t\tisEqual = Arrays.deepEquals(o1, o2);\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t\t\r\n            \t\t\t}\r\n            \r\n            \t\t\t// Check whether both jsonElement are null\r\n            \t\t\telse if (json1.isJsonNull() &amp;&amp; json2.isJsonNull()) {\r\n            \t\t\t\treturn true;\r\n            \t\t\t}\r\n            \r\n            \t\t\t// Check whether both jsonElement are primitives\r\n            \t\t\telse if (json1.isJsonPrimitive() &amp;&amp; json2.isJsonPrimitive()) {\r\n            \t\t\t\tls1.add(json1);\r\n            \t\t\t\tls2.add(json2);\t\t\t\r\n            \t\t\t}\t\t\t\t\r\n            \t\t} else if (json1 == null &amp;&amp; json2 == null) {\r\n            \t\t\treturn true;\r\n            \t\t} else {\r\n            \t\t\treturn false;\r\n            \t\t}\r\n            \t\treturn isEqual;\r\n            \t}\r\n            }\r\n\r\nthe object array\r\n\r\n    if (isEqual) {\r\n        \t\t\t\t\t\tObject[] o1 = ls1.toArray();\r\n        \t\t\t\t\t\tObject[] o2 = ls2.toArray();\r\n        \t\t\t\t\t\tisEqual = Arrays.deepEquals(o1, o2);\r\n        \t\t\t\t\t}\r\n\r\n the object array o1 and o2 are null dont know why it is null.\r\nThese are the two sample json i am using for testing json1 `{&quot;Company List&quot;:[&quot;Compnay: Paypal&quot;,&quot;Compnay: eBay&quot;,&quot;Compnay: Google&quot;]}` json2 `{&quot;Company List&quot;:[&quot;Compnay: Viswesh&quot;,&quot;Compnay: Anand&quot;,&quot;Compnay: Anand&quot;]}` in both the json the value for company is different so the code has to return false but the code return true\r\n","title":"Deep Comparing of two json and displaying the differences","body":"<p>I am trying to compare two dynamic json data and if they are not equal then i am printing the differences. For this i am using  </p>\n\n<pre><code>Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\nMap&lt;String,Object&gt; firstMap = g.fromJson(jsonElement1, mapType);\nMap&lt;String, Object&gt; secondMap = g.fromJson(jsonElement2, mapType);\nSystem.out.println(Maps.difference(firstMap, secondMap));\n</code></pre>\n\n<p>I need to display the difference in the console.\nThis is the java code in which i am trying to display the differences of the json</p>\n\n<pre><code>      public class Tester {\npublic static ArrayList&lt;Object&gt; ls1 = new ArrayList&lt;Object&gt;();\n public static              ArrayList&lt;Object&gt; ls2 = new ArrayList&lt;Object&gt;();\n            public static void main(String[] args) throws Exception {\n                JsonParser parser = new JsonParser();\n\n                try{\n                    Gson g = new Gson();\n                    JsonElement jsonElement1 = parser\n                            .parse(new FileReader(\"D:\\\\file1.json\"));\n                    JsonElement jsonElement2 = parser\n                            .parse(new FileReader(\"D:\\\\file2.json\"));\n                    System.out.println(\"Is the two JSON File Same: \"+compareJson(jsonElement1, jsonElement2));\n                    if(!compareJson(jsonElement1, jsonElement2)){\n                        Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\n                        Map&lt;String,Object&gt; firstMap = g.fromJson(jsonElement1, mapType);\n                        Map&lt;String, Object&gt; secondMap = g.fromJson(jsonElement2, mapType);\n                        System.out.println(Maps.difference(firstMap, secondMap));\n                    }\n                    else{\n                        System.out.println(\"The Two JSON Are SAME!!!!!!!!!!!!!!!\");\n                    }\n\n                }catch(Exception e1){\n                    e1.printStackTrace();\n                }\n\n            }\n\n            public static boolean compareJson(JsonElement json1, JsonElement json2) {\n                boolean isEqual = true;\n\n                // Check whether both jsonElement are not null\n                if (json1 != null &amp;&amp; json2 != null) {\n\n                    // Check whether both jsonElement are objects\n                    if (json1.isJsonObject() &amp;&amp; json2.isJsonObject()) {\n                        Set&lt;Entry&lt;String, JsonElement&gt;&gt; ens1 = ((JsonObject) json1).entrySet();\n                        Set&lt;Entry&lt;String, JsonElement&gt;&gt; ens2 = ((JsonObject) json2).entrySet();\n                        JsonObject json2obj = (JsonObject) json2;\n                        if (ens1 != null &amp;&amp; ens2 != null &amp;&amp; (ens2.size() == ens1.size())) {\n                            // Iterate JSON Elements with Key values\n                            for (Entry&lt;String, JsonElement&gt; en : ens1) {\n                                isEqual = isEqual &amp;&amp; compareJson(en.getValue(),json2obj.get(en.getKey()));\n                            }\n                        } else {\n                            return false;\n                        }\n                    }\n                    // Check whether both jsonElement are arrays\n                    else if (json1.isJsonArray() &amp;&amp; json2.isJsonArray()) {\n                        JsonArray jarr1 = json1.getAsJsonArray();\n                        JsonArray jarr2 = json2.getAsJsonArray();\n                        if (jarr1.size() != jarr2.size()) {\n                            return false;\n                        } else {\n                            int i = 0;\n                            // Iterate JSON Array to JSON Elements\n                            for (JsonElement je : jarr1) {\n                                isEqual = isEqual &amp;&amp; compareJson(je, jarr2.get(i));\n                                i++;\n                            }\n                            if (isEqual) {\n                                Object[] o1 = ls1.toArray();\n                                Object[] o2 = ls2.toArray();\n                                isEqual = Arrays.deepEquals(o1, o2);\n                            }\n                        }\n\n                    }\n\n                    // Check whether both jsonElement are null\n                    else if (json1.isJsonNull() &amp;&amp; json2.isJsonNull()) {\n                        return true;\n                    }\n\n                    // Check whether both jsonElement are primitives\n                    else if (json1.isJsonPrimitive() &amp;&amp; json2.isJsonPrimitive()) {\n                        ls1.add(json1);\n                        ls2.add(json2);         \n                    }               \n                } else if (json1 == null &amp;&amp; json2 == null) {\n                    return true;\n                } else {\n                    return false;\n                }\n                return isEqual;\n            }\n        }\n</code></pre>\n\n<p>the object array</p>\n\n<pre><code>if (isEqual) {\n                            Object[] o1 = ls1.toArray();\n                            Object[] o2 = ls2.toArray();\n                            isEqual = Arrays.deepEquals(o1, o2);\n                        }\n</code></pre>\n\n<p>the object array o1 and o2 are null dont know why it is null.\nThese are the two sample json i am using for testing json1 <code>{\"Company List\":[\"Compnay: Paypal\",\"Compnay: eBay\",\"Compnay: Google\"]}</code> json2 <code>{\"Company List\":[\"Compnay: Viswesh\",\"Compnay: Anand\",\"Compnay: Anand\"]}</code> in both the json the value for company is different so the code has to return false but the code return true</p>\n"},{"tags":["java","pkcs#11"],"comments":[{"owner":{"account_id":1128201,"reputation":2051,"user_id":1114934,"display_name":"ivan.mylyanyk"},"score":1,"creation_date":1439217141,"post_id":31921939,"comment_id":51757117,"body_markdown":"Please, give us more details about what you are trying to achieve.","body":"Please, give us more details about what you are trying to achieve."},{"owner":{"account_id":5507200,"reputation":9829,"user_id":4374739,"accept_rate":97,"display_name":"SuperBiasedMan"},"score":0,"creation_date":1439217740,"post_id":31921939,"comment_id":51757561,"body_markdown":"Welcome to Stack Overflow! Please post the code you&#39;ve written, it&#39;s usually not possible to answer a question without seeing your code.","body":"Welcome to Stack Overflow! Please post the code you&#39;ve written, it&#39;s usually not possible to answer a question without seeing your code."}],"answers":[{"tags":[],"owner":{"account_id":5896458,"reputation":5083,"user_id":4641455,"display_name":"JFPicard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439216392,"creation_date":1439216392,"answer_id":31922044,"question_id":31921939,"body_markdown":"After searching on CKR_DATA_INVALID I found that the error is:\r\n\r\n&gt;  The plaintext input data to a cryptographic operation is invalid.\r\n&gt; This return value has lower priority than CKR_DATA_LEN_RANGE.\r\n\r\nSee: http://www.cryptsoft.com/pkcs11doc/v220/pkcs11__all_8h.html#aCKR_DATA_INVALID\r\n\r\nMy guest is you have an encoding problem with your data between windows and Linux. Check your data file to find invalid windows characters.\r\n","title":"Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_DATA_INVALID","body":"<p>After searching on CKR_DATA_INVALID I found that the error is:</p>\n\n<blockquote>\n  <p>The plaintext input data to a cryptographic operation is invalid.\n  This return value has lower priority than CKR_DATA_LEN_RANGE.</p>\n</blockquote>\n\n<p>See: <a href=\"http://www.cryptsoft.com/pkcs11doc/v220/pkcs11__all_8h.html#aCKR_DATA_INVALID\" rel=\"nofollow\">http://www.cryptsoft.com/pkcs11doc/v220/pkcs11__all_8h.html#aCKR_DATA_INVALID</a></p>\n\n<p>My guest is you have an encoding problem with your data between windows and Linux. Check your data file to find invalid windows characters.</p>\n"},{"tags":[],"owner":{"account_id":3685567,"reputation":11,"user_id":3181669,"display_name":"Juraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513852389,"creation_date":1513852389,"answer_id":47922987,"question_id":31921939,"body_markdown":"I experienced a similar problem while I was working with an older version of the p11-capi library. In my case I wanted to use a new signature algorithm (SHA256withRSA instead of SHA1withRSA) and received the same Java exception. The exception is not very helpful, so it took quite long until I found out that the problem has been fixed in the recent library version: https://risacher.org/p11-capi/","title":"Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_DATA_INVALID","body":"<p>I experienced a similar problem while I was working with an older version of the p11-capi library. In my case I wanted to use a new signature algorithm (SHA256withRSA instead of SHA1withRSA) and received the same Java exception. The exception is not very helpful, so it took quite long until I found out that the problem has been fixed in the recent library version: <a href=\"https://risacher.org/p11-capi/\" rel=\"nofollow noreferrer\">https://risacher.org/p11-capi/</a></p>\n"},{"tags":[],"owner":{"account_id":7611095,"reputation":33,"user_id":5771894,"display_name":"Vishwambhar Bhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636371648,"creation_date":1636371648,"answer_id":69882901,"question_id":31921939,"body_markdown":"If anybody is facing the CKR_FUNCTION_FAILED under provider exception,then kindly check whether alias name is proper .if there are multiple alias then check one by one in keystore.","title":"Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_DATA_INVALID","body":"<p>If anybody is facing the CKR_FUNCTION_FAILED under provider exception,then kindly check whether alias name is proper .if there are multiple alias then check one by one in keystore.</p>\n"}],"owner":{"account_id":6766601,"reputation":11,"user_id":5211421,"display_name":"user5211421"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8980,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694196095,"creation_date":1439216097,"question_id":31921939,"body_markdown":"I&#39;m having problems with my application that generates xml signed, but just happen it on Windows, I don&#39;t have the problem on Linux, proves with jre 7 and jre 8 thanks advance.\r\n\r\n        java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: E\r\n    \r\n    \tat sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:547)\r\n    \tat java.security.Signature$Delegate.engineSign(Unknown Source)\r\n    \tat java.security.Signature.sign(Unknown Source)\r\n    \tat org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.engineSign(SignatureBaseRSA.java:130)\r\n    \tat org.apache.xml.security.algorithms.SignatureAlgorithm.sign(SignatureAlgorithm.java:173)\r\n    \tat org.apache.xml.security.signature.XMLSignature.sign(XMLSignature.java:614)\r\n    \tat bo.accl.clientelynx.Signer.firmar(Signer.java:283)\r\n    \tat bo.accl.clientelynx.Signer.sign(Signer.java:168)\r\n    \tat bo.accl.clientelynx.Signer.apply(Signer.java:350)\r\n    \tat bo.accl.clientelynx.Signer.apply(Signer.java:61)\r\n    \tat com.google.common.collect.Iterators$8.transform(Iterators.java:860)\r\n    \tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48)\r\n    \tat bo.accl.clientelynx.App$17.doInBackground(App.java:1130)\r\n    \tat bo.accl.clientelynx.App$17.doInBackground(App.java:1095)\r\n    \tat javax.swing.SwingWorker$1.call(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat javax.swing.SwingWorker.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_DATA_INVALID\r\n    \tat sun.security.pkcs11.wrapper.PKCS11.C_Sign(Native Method)\r\n    \tat sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:538)\r\n\r\n","title":"Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_DATA_INVALID","body":"<p>I'm having problems with my application that generates xml signed, but just happen it on Windows, I don't have the problem on Linux, proves with jre 7 and jre 8 thanks advance.</p>\n\n<pre><code>    java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: E\n\n    at sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:547)\n    at java.security.Signature$Delegate.engineSign(Unknown Source)\n    at java.security.Signature.sign(Unknown Source)\n    at org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.engineSign(SignatureBaseRSA.java:130)\n    at org.apache.xml.security.algorithms.SignatureAlgorithm.sign(SignatureAlgorithm.java:173)\n    at org.apache.xml.security.signature.XMLSignature.sign(XMLSignature.java:614)\n    at bo.accl.clientelynx.Signer.firmar(Signer.java:283)\n    at bo.accl.clientelynx.Signer.sign(Signer.java:168)\n    at bo.accl.clientelynx.Signer.apply(Signer.java:350)\n    at bo.accl.clientelynx.Signer.apply(Signer.java:61)\n    at com.google.common.collect.Iterators$8.transform(Iterators.java:860)\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:48)\n    at bo.accl.clientelynx.App$17.doInBackground(App.java:1130)\n    at bo.accl.clientelynx.App$17.doInBackground(App.java:1095)\n    at javax.swing.SwingWorker$1.call(Unknown Source)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at javax.swing.SwingWorker.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_DATA_INVALID\n    at sun.security.pkcs11.wrapper.PKCS11.C_Sign(Native Method)\n    at sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:538)\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694194905,"creation_date":1694194905,"answer_id":77068929,"question_id":77065832,"body_markdown":"Spring Boot&#39;s Docker Compose integration requires Docker to run the containers listed in your `compose.yaml` file. Your app should not be one of those services. The services should be only the things upon which your app depends. In your case that would appear to just be Postgres.\r\n\r\nTo use the Docker Compose integration, you start your application by running its main method in your IDE. As part of starting up, Spring Boot will then call `docker compose up` to ensure that the services upon which it depends are available.\r\n\r\nIf you don&#39;t have Docker installed then you can&#39;t use Docker Compose and, therefore, can&#39;t use Spring Boot&#39;s Docker Compose integration. You can either remove the `spring-boot-docker-compose` dependency from your app or set `spring.docker.compose.enabled` to disable it.","title":"how to run SpringBoot App with dependency `spring-boot-docker-compose` locally outside of docker?","body":"<p>Spring Boot's Docker Compose integration requires Docker to run the containers listed in your <code>compose.yaml</code> file. Your app should not be one of those services. The services should be only the things upon which your app depends. In your case that would appear to just be Postgres.</p>\n<p>To use the Docker Compose integration, you start your application by running its main method in your IDE. As part of starting up, Spring Boot will then call <code>docker compose up</code> to ensure that the services upon which it depends are available.</p>\n<p>If you don't have Docker installed then you can't use Docker Compose and, therefore, can't use Spring Boot's Docker Compose integration. You can either remove the <code>spring-boot-docker-compose</code> dependency from your app or set <code>spring.docker.compose.enabled</code> to disable it.</p>\n"}],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77068929,"answer_count":1,"score":1,"last_activity_date":1694194905,"creation_date":1694166336,"question_id":77065832,"body_markdown":"Using the website https://start.spring.io / I have created a new spring boot project.\r\n\r\nI am add to dependencies &#39;Docker Compose Support&#39;\r\n[![Docker Compose Support from start.spring.io][1]][1]\r\n\r\nNow, when I try to run the application locally, I get an error that docker was not found. But I don&#39;t want to run the application locally in docker during development. On debian, where docker is installed, the application runs without problems, but how do I run it locally OUTSIDE of docker?\r\n[![Run from IDEA on remote(virtual box) Debian][2]][2]\r\n\r\nThe main reason is that every time you change the application, you need to recreate the image, which is wildly inconvenient.\r\n\r\nI&#39;ve been working with docker since yesterday.\r\n\r\n[![IDEA Run configuration][3]][3]\r\n[![IDea run configuration local machine][4]][4]\r\n[![Unable to start docker process. Is docker correctly installed?][5]][5]\r\n\r\napplication.yaml:\r\n```yml\r\nserver:\r\n  port: 8080\r\nspring:\r\n  devtools:\r\n    add-properties: false\r\n  datasource:\r\n    driver-class-name: org.postgresql.Driver\r\n  jpa:\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n\r\nlogging:\r\n  file:\r\n    name: &#39;./logs/app-backend.log&#39;\r\n  level:\r\n    com.prototype.app: INFO\r\n  logback:\r\n    rollingpolicy:\r\n      file-name-pattern: &#39;./logs/archived/app-backend-%d{yyyy-MM-dd}-%i.log.gz&#39;\r\n      max-file-size: 10MB\r\n      total-size-cap: 1GB\r\n      max-history: 60\r\n```\r\n[![app configs structure][6]][6]\r\n\r\nDockerfile:\r\n```docker\r\n# Build stage\r\nFROM gradle:8.3.0-jdk20 AS BUILD\r\nWORKDIR /usr/app/\r\nCOPY . .\r\nRUN gradle clean build -x test\r\n\r\n# Package stage\r\nFROM eclipse-temurin:20.0.2_9-jdk\r\nENV JAR_NAME=app-backend-0.0.1-SNAPSHOT.jar\r\nENV APP_HOME=/usr/app/\r\nWORKDIR $APP_HOME\r\nCOPY --from=BUILD $APP_HOME .\r\nEXPOSE 8080\r\nENTRYPOINT exec java -jar $APP_HOME/build/libs/$JAR_NAME --spring.profiles.active=dev\r\n```\r\n\r\ndocker-compose.yaml:\r\n```docker\r\nservices:\r\n  app:\r\n    image: &#39;docker-spring-boot-postgres:latest&#39;\r\n    container_name: &#39;app&#39;\r\n    build:\r\n      context: &#39;.&#39;\r\n    depends_on:\r\n      &#39;postgres-db&#39;:\r\n        condition: service_healthy\r\n    volumes:\r\n      - &#39;postgres-db:/data/postgres&#39;\r\n    environment:\r\n      - &#39;SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-db:5432/mydatabase&#39;\r\n      - &#39;SPRING_DATASOURCE_USERNAME=myuser&#39;\r\n      - &#39;SPRING_DATASOURCE_PASSWORD=secret&#39;\r\n      - &#39;SPRING_JPA_HIBERNATE_DDL_AUTO=validate&#39;\r\n    ports:\r\n      - &quot;8081:8080&quot;\r\n    networks:\r\n      - &#39;postgres-db&#39;\r\n    restart: &#39;always&#39;\r\n\r\n  postgres-db:\r\n    image: &#39;postgres:latest&#39;\r\n    container_name: &#39;postgres-db&#39;\r\n    environment:\r\n      - &#39;POSTGRES_DB=mydatabase&#39;\r\n      - &#39;POSTGRES_PASSWORD=secret&#39;\r\n      - &#39;POSTGRES_USER=myuser&#39;\r\n    volumes:\r\n      - &#39;postgres-db:/data/postgres&#39;\r\n    ports:\r\n      - &#39;5432:5432&#39;\r\n    networks:\r\n      - &#39;postgres-db&#39;\r\n    restart: &#39;unless-stopped&#39;\r\n    healthcheck:\r\n      test: pg_isready -U myuser -d mydatabase\r\n      interval: 10s\r\n      timeout: 3s\r\n      retries: 3\r\n\r\nnetworks:\r\n  postgres-db:\r\n    driver: &#39;bridge&#39;\r\n\r\nvolumes:\r\n  postgres-db:\r\n```\r\n\r\nIf you notice obvious errors in the docker configuration, please report it, I have configured this for the first time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8r1rc.png\r\n  [2]: https://i.stack.imgur.com/T12vQ.png\r\n  [3]: https://i.stack.imgur.com/xrXSC.png\r\n  [4]: https://i.stack.imgur.com/eX1Dg.png\r\n  [5]: https://i.stack.imgur.com/Ydp5p.png\r\n  [6]: https://i.stack.imgur.com/03R7I.png","title":"how to run SpringBoot App with dependency `spring-boot-docker-compose` locally outside of docker?","body":"<p>Using the website <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> / I have created a new spring boot project.</p>\n<p>I am add to dependencies 'Docker Compose Support'\n<a href=\"https://i.stack.imgur.com/8r1rc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8r1rc.png\" alt=\"Docker Compose Support from start.spring.io\" /></a></p>\n<p>Now, when I try to run the application locally, I get an error that docker was not found. But I don't want to run the application locally in docker during development. On debian, where docker is installed, the application runs without problems, but how do I run it locally OUTSIDE of docker?\n<a href=\"https://i.stack.imgur.com/T12vQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T12vQ.png\" alt=\"Run from IDEA on remote(virtual box) Debian\" /></a></p>\n<p>The main reason is that every time you change the application, you need to recreate the image, which is wildly inconvenient.</p>\n<p>I've been working with docker since yesterday.</p>\n<p><a href=\"https://i.stack.imgur.com/xrXSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xrXSC.png\" alt=\"IDEA Run configuration\" /></a>\n<a href=\"https://i.stack.imgur.com/eX1Dg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eX1Dg.png\" alt=\"IDea run configuration local machine\" /></a>\n<a href=\"https://i.stack.imgur.com/Ydp5p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ydp5p.png\" alt=\"Unable to start docker process. Is docker correctly installed?\" /></a></p>\n<p>application.yaml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8080\nspring:\n  devtools:\n    add-properties: false\n  datasource:\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n\nlogging:\n  file:\n    name: './logs/app-backend.log'\n  level:\n    com.prototype.app: INFO\n  logback:\n    rollingpolicy:\n      file-name-pattern: './logs/archived/app-backend-%d{yyyy-MM-dd}-%i.log.gz'\n      max-file-size: 10MB\n      total-size-cap: 1GB\n      max-history: 60\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/03R7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/03R7I.png\" alt=\"app configs structure\" /></a></p>\n<p>Dockerfile:</p>\n<pre><code># Build stage\nFROM gradle:8.3.0-jdk20 AS BUILD\nWORKDIR /usr/app/\nCOPY . .\nRUN gradle clean build -x test\n\n# Package stage\nFROM eclipse-temurin:20.0.2_9-jdk\nENV JAR_NAME=app-backend-0.0.1-SNAPSHOT.jar\nENV APP_HOME=/usr/app/\nWORKDIR $APP_HOME\nCOPY --from=BUILD $APP_HOME .\nEXPOSE 8080\nENTRYPOINT exec java -jar $APP_HOME/build/libs/$JAR_NAME --spring.profiles.active=dev\n</code></pre>\n<p>docker-compose.yaml:</p>\n<pre><code>services:\n  app:\n    image: 'docker-spring-boot-postgres:latest'\n    container_name: 'app'\n    build:\n      context: '.'\n    depends_on:\n      'postgres-db':\n        condition: service_healthy\n    volumes:\n      - 'postgres-db:/data/postgres'\n    environment:\n      - 'SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-db:5432/mydatabase'\n      - 'SPRING_DATASOURCE_USERNAME=myuser'\n      - 'SPRING_DATASOURCE_PASSWORD=secret'\n      - 'SPRING_JPA_HIBERNATE_DDL_AUTO=validate'\n    ports:\n      - &quot;8081:8080&quot;\n    networks:\n      - 'postgres-db'\n    restart: 'always'\n\n  postgres-db:\n    image: 'postgres:latest'\n    container_name: 'postgres-db'\n    environment:\n      - 'POSTGRES_DB=mydatabase'\n      - 'POSTGRES_PASSWORD=secret'\n      - 'POSTGRES_USER=myuser'\n    volumes:\n      - 'postgres-db:/data/postgres'\n    ports:\n      - '5432:5432'\n    networks:\n      - 'postgres-db'\n    restart: 'unless-stopped'\n    healthcheck:\n      test: pg_isready -U myuser -d mydatabase\n      interval: 10s\n      timeout: 3s\n      retries: 3\n\nnetworks:\n  postgres-db:\n    driver: 'bridge'\n\nvolumes:\n  postgres-db:\n</code></pre>\n<p>If you notice obvious errors in the docker configuration, please report it, I have configured this for the first time.</p>\n"},{"tags":["java","gradle","build.gradle","gradle-kotlin-dsl","gradle-dependencies"],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1392322039,"creation_date":1392322039,"answer_id":21764418,"question_id":21764128,"body_markdown":"Your approach is correct. (Depending on the circumstances, you might want to use `configurations.all { exclude ... }`.) If these excludes really exclude more than a single dependency (I haven&#39;t ever noticed that when using them), please file a bug at http://forums.gradle.org, ideally with a reproducible example.","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p>Your approach is correct. (Depending on the circumstances, you might want to use <code>configurations.all { exclude ... }</code>.) If these excludes really exclude more than a single dependency (I haven't ever noticed that when using them), please file a bug at <a href=\"http://forums.gradle.org\">http://forums.gradle.org</a>, ideally with a reproducible example.</p>\n"},{"tags":[],"owner":{"account_id":1965722,"reputation":4269,"user_id":1766065,"accept_rate":57,"display_name":"Jens D"},"down_vote_count":0,"up_vote_count":192,"is_accepted":true,"score":192,"last_activity_date":1651163171,"creation_date":1392326215,"answer_id":21765656,"question_id":21764128,"body_markdown":"Ah, the following works and does what I want:\r\n\r\n    configurations {\r\n      runtime.exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-log4j12&quot;\r\n    }\r\n\r\nIt seems that an [Exclude Rule](http://www.gradle.org/docs/current/javadoc/org/gradle/api/artifacts/ExcludeRule.html) only has two attributes - `group` and `module`.  \r\nHence for excluding from only an individual dependency, we can do something like:\r\n\r\n    dependencies {\r\n      compile (&#39;org.springframework.data:spring-data-hadoop-core:2.0.0.M4-hadoop22&#39;) {\r\n        exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-log4j12&quot;\r\n      }\r\n    }\r\n\r\n---\r\n\r\nHowever, the above syntax doesn&#39;t prevent you from specifying any arbitrary property as a predicate. When trying to exclude from an individual dependency you cannot specify arbitrary properties. For example, this fails:\r\n\r\n    dependencies {\r\n      compile (&#39;org.springframework.data:spring-data-hadoop-core:2.0.0.M4-hadoop22&#39;) {\r\n        exclude group: &quot;org.slf4j&quot;, name: &quot;slf4j-log4j12&quot;\r\n      }\r\n    }\r\n\r\nwith\r\n\r\n    No such property: name for class: org.gradle.api.internal.artifacts.DefaultExcludeRule\r\n\r\nSo even though you can specify a dependency with a `group:` and `name:` you can&#39;t specify an exclusion with a `name:`!?!\r\n\r\nPerhaps a separate question, but what **exactly** is a _module_ then? I can understand the Maven notion of groupId:artifactId:version, which I understand translates to group:name:version in Gradle. But then, how do I know what module (in gradle-speak) a particular Maven artifact belongs to?","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p>Ah, the following works and does what I want:</p>\n<pre><code>configurations {\n  runtime.exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-log4j12&quot;\n}\n</code></pre>\n<p>It seems that an <a href=\"http://www.gradle.org/docs/current/javadoc/org/gradle/api/artifacts/ExcludeRule.html\" rel=\"noreferrer\">Exclude Rule</a> only has two attributes - <code>group</code> and <code>module</code>.<br />\nHence for excluding from only an individual dependency, we can do something like:</p>\n<pre><code>dependencies {\n  compile ('org.springframework.data:spring-data-hadoop-core:2.0.0.M4-hadoop22') {\n    exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-log4j12&quot;\n  }\n}\n</code></pre>\n<hr />\n<p>However, the above syntax doesn't prevent you from specifying any arbitrary property as a predicate. When trying to exclude from an individual dependency you cannot specify arbitrary properties. For example, this fails:</p>\n<pre><code>dependencies {\n  compile ('org.springframework.data:spring-data-hadoop-core:2.0.0.M4-hadoop22') {\n    exclude group: &quot;org.slf4j&quot;, name: &quot;slf4j-log4j12&quot;\n  }\n}\n</code></pre>\n<p>with</p>\n<pre><code>No such property: name for class: org.gradle.api.internal.artifacts.DefaultExcludeRule\n</code></pre>\n<p>So even though you can specify a dependency with a <code>group:</code> and <code>name:</code> you can't specify an exclusion with a <code>name:</code>!?!</p>\n<p>Perhaps a separate question, but what <strong>exactly</strong> is a <em>module</em> then? I can understand the Maven notion of groupId:artifactId:version, which I understand translates to group:name:version in Gradle. But then, how do I know what module (in gradle-speak) a particular Maven artifact belongs to?</p>\n"},{"tags":[],"owner":{"account_id":2659819,"reputation":6153,"user_id":2299789,"accept_rate":62,"display_name":"BERGUIGA Mohamed Amine"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1578473925,"creation_date":1449577743,"answer_id":34155950,"question_id":21764128,"body_markdown":"in the example below I exclude \r\n\r\n&gt; spring-boot-starter-tomcat\r\n\r\n\t    \r\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n         //by both name and group\r\n\t     exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-tomcat&#39; \r\n\t}","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p>in the example below I exclude </p>\n\n<blockquote>\n  <p>spring-boot-starter-tomcat</p>\n</blockquote>\n\n<pre><code>compile(\"org.springframework.boot:spring-boot-starter-web\") {\n     //by both name and group\n     exclude group: 'org.springframework.boot', module: 'spring-boot-starter-tomcat' \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1072255,"reputation":851,"user_id":1071247,"display_name":"venom.unleashed"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1490083386,"creation_date":1490083386,"answer_id":42921322,"question_id":21764128,"body_markdown":"For excluding one or more library globally add the following to your build.gradle\r\n\r\n    configurations.all {\r\n       exclude group:&quot;org.apache.geronimo.specs&quot;, module: &quot;geronimo-servlet_2.5_spec&quot;\r\n       exclude group:&quot;ch.qos.logback&quot;, module:&quot;logback-core&quot;\r\n    }\r\n\r\nNow the exclude block has two properties **group** and **module**. For those of you coming from maven background, **group** is same as **groupId** and **module** is same as **artifactId**.\r\nExample: To exclude com.mchange:c3p0:0.9.2.1 following should be exclude block \r\n\r\n    exclude group:&quot;com.mchange&quot;, module:&quot;c3p0&quot;","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p>For excluding one or more library globally add the following to your build.gradle</p>\n\n<pre><code>configurations.all {\n   exclude group:\"org.apache.geronimo.specs\", module: \"geronimo-servlet_2.5_spec\"\n   exclude group:\"ch.qos.logback\", module:\"logback-core\"\n}\n</code></pre>\n\n<p>Now the exclude block has two properties <strong>group</strong> and <strong>module</strong>. For those of you coming from maven background, <strong>group</strong> is same as <strong>groupId</strong> and <strong>module</strong> is same as <strong>artifactId</strong>.\nExample: To exclude com.mchange:c3p0:0.9.2.1 following should be exclude block </p>\n\n<pre><code>exclude group:\"com.mchange\", module:\"c3p0\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829496,"reputation":679,"user_id":4781155,"accept_rate":40,"display_name":"mark ortiz"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1519512154,"creation_date":1519512154,"answer_id":48968390,"question_id":21764128,"body_markdown":"I was using spring boot 1.5.10 and tries to exclude logback, the given solution above did not work well, I use configurations instead\r\n\r\n    configurations.all {\r\n        exclude group: &quot;org.springframework.boot&quot;, module:&quot;spring-boot-starter-logging&quot;\r\n    }","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p>I was using spring boot 1.5.10 and tries to exclude logback, the given solution above did not work well, I use configurations instead</p>\n\n<pre><code>configurations.all {\n    exclude group: \"org.springframework.boot\", module:\"spring-boot-starter-logging\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11312519,"reputation":3618,"user_id":8295283,"accept_rate":100,"display_name":"Arnold Schrijver"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1553428280,"creation_date":1553428280,"answer_id":55323490,"question_id":21764128,"body_markdown":"In addition to what @berguiga-mohamed-amine stated, I just found that a wildcard requires leaving the module argument the empty string:\r\n\r\n    compile (&quot;com.github.jsonld-java:jsonld-java:$jsonldJavaVersion&quot;) {\r\n        exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;&#39;\r\n    }","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p>In addition to what @berguiga-mohamed-amine stated, I just found that a wildcard requires leaving the module argument the empty string:</p>\n\n<pre><code>compile (\"com.github.jsonld-java:jsonld-java:$jsonldJavaVersion\") {\n    exclude group: 'org.apache.httpcomponents', module: ''\n    exclude group: 'org.slf4j', module: ''\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5240236,"reputation":3531,"user_id":4187541,"accept_rate":80,"display_name":"Peter Chaula"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1637413144,"creation_date":1637413144,"answer_id":70046134,"question_id":21764128,"body_markdown":"`compile` is deprecated and it was replaced by `implementation`. Therefore, the solution for those running newer versions of gradle:\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n         exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-tomcat&#39; \r\n    }","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p><code>compile</code> is deprecated and it was replaced by <code>implementation</code>. Therefore, the solution for those running newer versions of gradle:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\n     exclude group: 'org.springframework.boot', module: 'spring-boot-starter-tomcat' \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694194603,"creation_date":1644666303,"answer_id":71091566,"question_id":21764128,"body_markdown":"This is for [Kotlin DSL][1] (build.gradle.**kts**) which prevents you from using wrong properties.\r\n\r\nExclude the library from all configrations (`implementation`, `runtimeOnly`, etc.):\r\n\r\n```kotlin\r\nconfigurations.all {\r\n    exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\r\n    // OR exclude(&quot;ir.mahozad.android&quot;, &quot;pie-chart&quot;)\r\n}\r\n\r\n// Another notation:\r\n// configurations {\r\n//     all {\r\n//         exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\r\n//     }\r\n// }\r\n```\r\n\r\nExclude the library from a single configuration (like `implementation`):\r\n\r\n```kotlin\r\nconfigurations.implementation {\r\n    exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\r\n}\r\n\r\n// Another notation:\r\n// configurations {\r\n//     implementation {\r\n//         exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\r\n//     }\r\n// }\r\n```\r\n\r\nExclude the library for a single dependency:\r\n\r\n```kotlin\r\ndependencies {\r\n    // ...\r\n    implementation(&quot;ir.mahozad.android:charts:1.2.3&quot;) {\r\n        exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p>This is for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.<strong>kts</strong>) which prevents you from using wrong properties.</p>\n<p>Exclude the library from all configrations (<code>implementation</code>, <code>runtimeOnly</code>, etc.):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>configurations.all {\n    exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\n    // OR exclude(&quot;ir.mahozad.android&quot;, &quot;pie-chart&quot;)\n}\n\n// Another notation:\n// configurations {\n//     all {\n//         exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\n//     }\n// }\n</code></pre>\n<p>Exclude the library from a single configuration (like <code>implementation</code>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>configurations.implementation {\n    exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\n}\n\n// Another notation:\n// configurations {\n//     implementation {\n//         exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\n//     }\n// }\n</code></pre>\n<p>Exclude the library for a single dependency:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    // ...\n    implementation(&quot;ir.mahozad.android:charts:1.2.3&quot;) {\n        exclude(group = &quot;ir.mahozad.android&quot;, module = &quot;pie-chart&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1965722,"reputation":4269,"user_id":1766065,"accept_rate":57,"display_name":"Jens D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259786,"favorite_count":0,"down_vote_count":0,"up_vote_count":157,"accepted_answer_id":21765656,"answer_count":8,"score":157,"last_activity_date":1694194603,"creation_date":1392320963,"question_id":21764128,"body_markdown":"My gradle project uses the `application` plugin to build a jar file. As part of the runtime transitive dependencies, I end up pulling in `org.slf4j:slf4j-log4j12`. (It&#39;s referenced as a sub-transitive dependency in at least 5 or 6 other transitive dependencies - this project is using spring and hadoop, so everything but the kitchen sink is getting pulled in... no wait... that&#39;s there too :) ).\r\n\r\nI want to globally exclude the `slf4j-log4j12` jar from my built jar. So I&#39;ve tried this:\r\n\r\n    configurations {\r\n      runtime.exclude group: &quot;org.slf4j&quot;, name: &quot;slf4j-log4j12&quot;\r\n    }\r\n\r\nHowever, this seems to exclude **all** `org.slf4j` artifacts including `slf4j-api`. When running under debug mode I see lines such as:\r\n\r\n    org.slf4j#slf4j-api is excluded from com.pivotal.gfxd:gfxd-demo-mapreduce:1.0(runtime).\r\n    org.slf4j#slf4j-simple is excluded from com.pivotal.gfxd:gfxd-demo-mapreduce:1.0(runtime).\r\n    org.slf4j#slf4j-log4j12 is excluded from org.apache.hadoop:hadoop-common:2.2.0(runtime).\r\n\r\nI do not want to have to look up the source of each `slf4j-log4j12` transitive dependency and then have individual `compile foo { exclude slf4j... }` statements in my `dependencies` block.\r\n\r\n**Update:**\r\n\r\nI did also try this:\r\n\r\n    configurations {\r\n      runtime.exclude name: &quot;slf4j-log4j12&quot;\r\n    }\r\n\r\nWhich ends up excluding **everything** from the build! As though I specified `group: &quot;*&quot;`.\r\n\r\n**Update 2:**\r\n\r\nI&#39;m using Gradle version 1.10 for this.\r\n","title":"How do I exclude all instances of a transitive dependency when using Gradle?","body":"<p>My gradle project uses the <code>application</code> plugin to build a jar file. As part of the runtime transitive dependencies, I end up pulling in <code>org.slf4j:slf4j-log4j12</code>. (It's referenced as a sub-transitive dependency in at least 5 or 6 other transitive dependencies - this project is using spring and hadoop, so everything but the kitchen sink is getting pulled in... no wait... that's there too :) ).</p>\n\n<p>I want to globally exclude the <code>slf4j-log4j12</code> jar from my built jar. So I've tried this:</p>\n\n<pre><code>configurations {\n  runtime.exclude group: \"org.slf4j\", name: \"slf4j-log4j12\"\n}\n</code></pre>\n\n<p>However, this seems to exclude <strong>all</strong> <code>org.slf4j</code> artifacts including <code>slf4j-api</code>. When running under debug mode I see lines such as:</p>\n\n<pre><code>org.slf4j#slf4j-api is excluded from com.pivotal.gfxd:gfxd-demo-mapreduce:1.0(runtime).\norg.slf4j#slf4j-simple is excluded from com.pivotal.gfxd:gfxd-demo-mapreduce:1.0(runtime).\norg.slf4j#slf4j-log4j12 is excluded from org.apache.hadoop:hadoop-common:2.2.0(runtime).\n</code></pre>\n\n<p>I do not want to have to look up the source of each <code>slf4j-log4j12</code> transitive dependency and then have individual <code>compile foo { exclude slf4j... }</code> statements in my <code>dependencies</code> block.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I did also try this:</p>\n\n<pre><code>configurations {\n  runtime.exclude name: \"slf4j-log4j12\"\n}\n</code></pre>\n\n<p>Which ends up excluding <strong>everything</strong> from the build! As though I specified <code>group: \"*\"</code>.</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>I'm using Gradle version 1.10 for this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1551563520,"post_id":54963337,"comment_id":96687588,"body_markdown":"Possible duplicate of [Copying a HashMap in Java](https://stackoverflow.com/questions/10079266/copying-a-hashmap-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/10079266/copying-a-hashmap-in-java\">Copying a HashMap in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1551563454,"creation_date":1551563454,"answer_id":54963366,"question_id":54963337,"body_markdown":"`HashMap` has a constructor that can take another `Map`, so you can create a `HashMap` by passing it whatever `Map.of(...)` produces:\r\n\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;(Map.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;));\r\n\r\nLikewise for `ArrayList` and `List.of(...)`.","title":"Create mutable collections (Map.of and List.of)","body":"<p><code>HashMap</code> has a constructor that can take another <code>Map</code>, so you can create a <code>HashMap</code> by passing it whatever <code>Map.of(...)</code> produces:</p>\n\n<pre><code>HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;(Map.of(\"k1\", \"v1\", \"k2\", \"v2\"));\n</code></pre>\n\n<p>Likewise for <code>ArrayList</code> and <code>List.of(...)</code>.</p>\n"},{"tags":[],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631267439,"creation_date":1631266992,"answer_id":69130335,"question_id":54963337,"body_markdown":"I use a custom method inside of the utils class. Please try, it works correctly.\r\n\r\n```    \r\npublic static Map&lt;String, Object&gt; mutableMap(Object... args) {\r\n        return IntStream.iterate(0, i -&gt; i &lt; args.length, i -&gt; i + 2)\r\n                        .filter(i -&gt; i + 1 &lt; args.length)\r\n                        .boxed()\r\n                        .collect(toMap(i -&gt; (String) args[i], i -&gt; args[i + 1], (a, b) -&gt; b, HashMap::new));\r\n}\r\n```\r\n\r\nAlso, you can add validation on paired number of arguments OR add logic to replace the &#39;null&#39; value according to your requires.","title":"Create mutable collections (Map.of and List.of)","body":"<p>I use a custom method inside of the utils class. Please try, it works correctly.</p>\n<pre><code>public static Map&lt;String, Object&gt; mutableMap(Object... args) {\n        return IntStream.iterate(0, i -&gt; i &lt; args.length, i -&gt; i + 2)\n                        .filter(i -&gt; i + 1 &lt; args.length)\n                        .boxed()\n                        .collect(toMap(i -&gt; (String) args[i], i -&gt; args[i + 1], (a, b) -&gt; b, HashMap::new));\n}\n</code></pre>\n<p>Also, you can add validation on paired number of arguments OR add logic to replace the 'null' value according to your requires.</p>\n"},{"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694193852,"creation_date":1694193852,"answer_id":77068844,"question_id":54963337,"body_markdown":"I would recommend using Javas&#39; &quot;double brace initialization&quot;.  This allows for the nice, short, one-line initialization syntax without creating unnecessary intermediate object instances.\r\n\r\n    HashMap&lt;String, String&gt; mutableMap = new HashMap&lt;&gt;(1) {{ put(&quot;key&quot;, &quot;value&quot;); }};\r\n\r\n","title":"Create mutable collections (Map.of and List.of)","body":"<p>I would recommend using Javas' &quot;double brace initialization&quot;.  This allows for the nice, short, one-line initialization syntax without creating unnecessary intermediate object instances.</p>\n<pre><code>HashMap&lt;String, String&gt; mutableMap = new HashMap&lt;&gt;(1) {{ put(&quot;key&quot;, &quot;value&quot;); }};\n</code></pre>\n"}],"owner":{"account_id":1266843,"reputation":93034,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25731,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":54963366,"answer_count":3,"score":42,"last_activity_date":1694193852,"creation_date":1551563232,"question_id":54963337,"body_markdown":"Looks like `Map.of()` and `List.of()` both create immutable collections. That&#39;s useful, but I am looking for a way to create mutable collections sometimes using a factory method.\r\n\r\nWhen I try: `HashMap.of()` I get this error:\r\n\r\n&gt; Static method may be invoked on containing interface class only","title":"Create mutable collections (Map.of and List.of)","body":"<p>Looks like <code>Map.of()</code> and <code>List.of()</code> both create immutable collections. That's useful, but I am looking for a way to create mutable collections sometimes using a factory method.</p>\n\n<p>When I try: <code>HashMap.of()</code> I get this error:</p>\n\n<blockquote>\n  <p>Static method may be invoked on containing interface class only</p>\n</blockquote>\n"},{"tags":["java","sharepoint","microsoft-graph-api","httpclient"],"owner":{"account_id":29396330,"reputation":1,"user_id":22523599,"display_name":"Thibault Grard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694193528,"creation_date":1694192918,"question_id":77068757,"body_markdown":"I&#39;m trying to update excel file from microsoft graph api using JAVA 19.\r\n\r\nI tried using JAVA sdk graph APi client v5.0.0 to execute equivalent of:\r\n\r\n```\r\nPATCH https://graph.microsoft.com/v1.0/me/drive/items/{id}/workbook/worksheets/{sheet-id}/range(address=&#39;A1:B2&#39;) Content-type: application/json\r\n\r\n{ &quot;values&quot; : [[&quot;Hello&quot;, &quot;100&quot;],[&quot;1/1/2016&quot;, null]], &quot;formulas&quot; : [[null, null], [null, &quot;=B1*2&quot;]], &quot;numberFormat&quot; : [[null,null], [&quot;m-ddd&quot;, null]] }\r\n```\r\n\r\nBut I was unable to find the good patch() method to do so. I only try the following examples:\r\n```\r\nvar valueOfA1 = _graphApiClient\r\n             .drives(DRIVE_ID)\r\n             .items(ITEM_ID)\r\n             .workbook()\r\n             .worksheets(&quot;Sheet1&quot;)\r\n             .range(WorkbookWorksheetRangeParameterSet.newBuilder()\r\n                     .withAddress(&quot;A1&quot;)\r\n                     .build())\r\n             .buildRequest()\r\n             .get();\r\n```\r\n\r\n[https://github.com/microsoftgraph/msgraph-sdk-java/issues/1063](https://github.com/microsoftgraph/msgraph-sdk-java/issues/1063)\r\n```\r\nWorkbookRangeFill workbookRangeFill = new WorkbookRangeFill(); workbookRangeFill.color = &quot;#00FF00&quot;;\r\n\r\ngraphClient.me().drive().items(&quot;{id}&quot;).workbook().worksheets(&quot;sheet1&quot;)\r\n    .range(WorkbookWorksheetRangeParameterSet\r\n        .newBuilder()\r\n        .withAddress(&quot;$B$1&quot;)\r\n        .build()).format().fill()\r\n    .buildRequest()\r\n    .patch(workbookRangeFill);\r\n```\r\n\r\n[https://github.com/microsoftgraph/msgraph-sdk-java/issues/744](https://github.com/microsoftgraph/msgraph-sdk-java/issues/744)\r\nBut seems there is an issue with address.\r\n\r\n\r\nThen try by Http client:\r\n```\r\nCloseableHttpClient httpClient = HttpClients.createDefault(); \r\nHttpPatch httpPatch = new HttpPatch(&quot;http://graph.microsoft.com/v1.0/drives/{driveId}/items/{itemId}/workbook/worksheets/{name}/range(address=&#39;F10:F12&#39;)&quot;); \r\nhttpPatch.addHeader(&quot;Authorization&quot;, accessToken); \r\nhttpPatch.setEntity(new StringEntity(&quot;{\\&quot;values\\&quot;:[[\\&quot;Hello\\&quot;],[\\&quot;How\\&quot;],[\\&quot;Are You?\\&quot;]]}&quot;, &quot;application/json&quot;, &quot;UTF-8&quot;)); \r\nHttpEntity responseEntity = httpClient.execute(httpPatch).getEntity(); \r\nString responseString = EntityUtils.toString(responseEntity);\r\n```\r\n\r\nResulting in nothing, no error and no content returned and no update range. Does anyone got a working http request ?","title":"Microsoft Graph API Update Range Java","body":"<p>I'm trying to update excel file from microsoft graph api using JAVA 19.</p>\n<p>I tried using JAVA sdk graph APi client v5.0.0 to execute equivalent of:</p>\n<pre><code>PATCH https://graph.microsoft.com/v1.0/me/drive/items/{id}/workbook/worksheets/{sheet-id}/range(address='A1:B2') Content-type: application/json\n\n{ &quot;values&quot; : [[&quot;Hello&quot;, &quot;100&quot;],[&quot;1/1/2016&quot;, null]], &quot;formulas&quot; : [[null, null], [null, &quot;=B1*2&quot;]], &quot;numberFormat&quot; : [[null,null], [&quot;m-ddd&quot;, null]] }\n</code></pre>\n<p>But I was unable to find the good patch() method to do so. I only try the following examples:</p>\n<pre><code>var valueOfA1 = _graphApiClient\n             .drives(DRIVE_ID)\n             .items(ITEM_ID)\n             .workbook()\n             .worksheets(&quot;Sheet1&quot;)\n             .range(WorkbookWorksheetRangeParameterSet.newBuilder()\n                     .withAddress(&quot;A1&quot;)\n                     .build())\n             .buildRequest()\n             .get();\n</code></pre>\n<p><a href=\"https://github.com/microsoftgraph/msgraph-sdk-java/issues/1063\" rel=\"nofollow noreferrer\">https://github.com/microsoftgraph/msgraph-sdk-java/issues/1063</a></p>\n<pre><code>WorkbookRangeFill workbookRangeFill = new WorkbookRangeFill(); workbookRangeFill.color = &quot;#00FF00&quot;;\n\ngraphClient.me().drive().items(&quot;{id}&quot;).workbook().worksheets(&quot;sheet1&quot;)\n    .range(WorkbookWorksheetRangeParameterSet\n        .newBuilder()\n        .withAddress(&quot;$B$1&quot;)\n        .build()).format().fill()\n    .buildRequest()\n    .patch(workbookRangeFill);\n</code></pre>\n<p><a href=\"https://github.com/microsoftgraph/msgraph-sdk-java/issues/744\" rel=\"nofollow noreferrer\">https://github.com/microsoftgraph/msgraph-sdk-java/issues/744</a>\nBut seems there is an issue with address.</p>\n<p>Then try by Http client:</p>\n<pre><code>CloseableHttpClient httpClient = HttpClients.createDefault(); \nHttpPatch httpPatch = new HttpPatch(&quot;http://graph.microsoft.com/v1.0/drives/{driveId}/items/{itemId}/workbook/worksheets/{name}/range(address='F10:F12')&quot;); \nhttpPatch.addHeader(&quot;Authorization&quot;, accessToken); \nhttpPatch.setEntity(new StringEntity(&quot;{\\&quot;values\\&quot;:[[\\&quot;Hello\\&quot;],[\\&quot;How\\&quot;],[\\&quot;Are You?\\&quot;]]}&quot;, &quot;application/json&quot;, &quot;UTF-8&quot;)); \nHttpEntity responseEntity = httpClient.execute(httpPatch).getEntity(); \nString responseString = EntityUtils.toString(responseEntity);\n</code></pre>\n<p>Resulting in nothing, no error and no content returned and no update range. Does anyone got a working http request ?</p>\n"},{"tags":["java","android","flutter","gradle"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1694215770,"post_id":77068786,"comment_id":135866826,"body_markdown":"AGP 8.x requires Java 17. You need to switch to Java 17.According to the error message you are using Java 8. Check the JDK configured for Gradle within Android Studio. There are multiple identical questions here on SO.","body":"AGP 8.x requires Java 17. You need to switch to Java 17.According to the error message you are using Java 8. Check the JDK configured for Gradle within Android Studio. There are multiple identical questions here on SO."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694275885,"post_id":77068786,"comment_id":135871413,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/76137431/150978","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/76137431/150978\">stackoverflow.com/q/76137431/150978</a>"}],"owner":{"account_id":1158163,"reputation":16333,"user_id":1830228,"accept_rate":55,"display_name":"DolDurma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694193319,"creation_date":1694193319,"question_id":77068786,"body_markdown":"After upgrading the `Gradle` version and trying to run `gradlew clean` i get this error and i can&#39;t resolve that\r\n\r\n```\r\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.1.\r\n     Required by:\r\n         project :\r\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8  \r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n```\r\n\r\ni read more documentation and issues about this problem and i try to change java version to `11`\r\n\r\n```gradle\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_11\r\n    targetCompatibility JavaVersion.VERSION_11\r\n}\r\n```\r\n\r\n`distributionUrl` \r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-all.zip\r\n```\r\n\r\nand `gradle.properties`:\r\n\r\n```gradle\r\norg.gradle.jvmargs=-Xmx2048M -XX:MaxMetaspaceSize=512m\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\nandroid.defaults.buildfeatures.buildconfig=true\r\nandroid.nonTransitiveRClass=false\r\nandroid.nonFinalResIds=false\r\n```","title":"Android No matching variant of com.android.tools.build:gradle:8.1.1","body":"<p>After upgrading the <code>Gradle</code> version and trying to run <code>gradlew clean</code> i get this error and i can't resolve that</p>\n<pre><code>   &gt; Could not resolve com.android.tools.build:gradle:8.1.1.\n     Required by:\n         project :\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.0' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:8.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8  \n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n</code></pre>\n<p>i read more documentation and issues about this problem and i try to change java version to <code>11</code></p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n<p><code>distributionUrl</code></p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-all.zip\n</code></pre>\n<p>and <code>gradle.properties</code>:</p>\n<pre><code>org.gradle.jvmargs=-Xmx2048M -XX:MaxMetaspaceSize=512m\nandroid.useAndroidX=true\nandroid.enableJetifier=true\nandroid.defaults.buildfeatures.buildconfig=true\nandroid.nonTransitiveRClass=false\nandroid.nonFinalResIds=false\n</code></pre>\n"},{"tags":["java","multithreading","executorservice"],"answers":[{"tags":[],"owner":{"account_id":1370752,"reputation":5480,"user_id":1306024,"display_name":"k5_"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1534563247,"creation_date":1534563247,"answer_id":51905025,"question_id":51904936,"body_markdown":"Because you start a second thread for each of the Runnables in the constructor with `new Thread(this).start();`\r\n\r\nThe Runnables are started with the ExecutorService, no need for an additional `Thread.start()` just remove it.","title":"Executor is executing twice","body":"<p>Because you start a second thread for each of the Runnables in the constructor with <code>new Thread(this).start();</code></p>\n\n<p>The Runnables are started with the ExecutorService, no need for an additional <code>Thread.start()</code> just remove it.</p>\n"},{"tags":[],"owner":{"account_id":1255397,"reputation":2306,"user_id":1214974,"accept_rate":67,"display_name":"Janus Varmarken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534563347,"creation_date":1534563347,"answer_id":51905032,"question_id":51904936,"body_markdown":"This happens because you spawn two threads *outside* the `ExecutorService` and execute your `Runnable` implementation on those *in addition to also submitting them for execution on the single thread associated with your `ExecutorService`*.\r\n\r\nRemove `new Thread(this).start();` and you&#39;ll only see the printouts once. However, since you use `newFixedThreadPool(1)`, this effectively means that your program will run sequentially.","title":"Executor is executing twice","body":"<p>This happens because you spawn two threads <em>outside</em> the <code>ExecutorService</code> and execute your <code>Runnable</code> implementation on those <em>in addition to also submitting them for execution on the single thread associated with your <code>ExecutorService</code></em>.</p>\n\n<p>Remove <code>new Thread(this).start();</code> and you'll only see the printouts once. However, since you use <code>newFixedThreadPool(1)</code>, this effectively means that your program will run sequentially.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694192414,"creation_date":1534580870,"answer_id":51906743,"question_id":51904936,"body_markdown":"# Let executor service manage threads\r\n\r\nAs others Answers have said, you are needlessly creating and managing threads. That is exactly the job of an executor service, to make concurrency easier by managing the creation, usage, and destruction of threads on your behalf.\r\n\r\n# Example app\r\n\r\nReduce your `main` method to simply this:\r\n\r\n    try (\r\n        ExecutorService executorService = Executors.newFixedThreadPool( 1 );\r\n    ) {\r\n        executorService.execute( new ZeroToFourCounter( &quot;first &quot; ) );\r\n        executorService.execute( new ZeroToFourCounter( &quot;Second&quot; ) );\r\n    }\r\n\r\nI believe there is no need for your use of [`CountDownLatch`][1]. That class is used to make one or more threads wait until a set of operations in other threads completes. But with a thread pool of only one thread, the tasks will be completed in the order submitted. So no need to coordinate.\r\n\r\n\r\n\r\nChange your [`Runnable`][2] implementation’s `run` method to simply doing its intended job, counting 1-4 in a loop. \r\n\r\n    for ( int i = 0 ; i &lt; 5 ; i++ ) {\r\n        System.out.println( this.name + &quot; &quot; + i + &quot; at &quot; + Instant.now() );\r\n    }\r\n\r\nNo need to spawn a thread in that constructor of your [`Runnable`][2]. You asked the executor service to manage a thread pool for you.\r\n\r\n\r\n\r\nComplete application code:\r\n\r\n    package com.basilbourque.example;\r\n    \r\n    import java.time.Instant;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    public class ExecDemo {\r\n    \r\n        public static void main ( String[] args ) {\r\n            System.out.println( &quot;DEMO - Running `main`. &quot; + Instant.now() );\r\n            try (\r\n                ExecutorService executorService = Executors.newFixedThreadPool( 1 );\r\n            ) {\r\n                executorService.execute( new ZeroToFourCounter( &quot;first &quot; ) );\r\n                executorService.execute( new ZeroToFourCounter( &quot;Second&quot; ) );\r\n                System.out.println( &quot;DEMO - In `main`, executorService will now shutdown. &quot; + Instant.now() );\r\n            } \r\n        }\r\n    }\r\n    \r\n    class ZeroToFourCounter implements Runnable {\r\n        private String name;\r\n    \r\n        public ZeroToFourCounter ( String name ) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public void run () {\r\n            for ( int i = 0 ; i &lt; 5 ; i++ ) {\r\n                System.out.println( this.name + &quot; &quot; + i + &quot; at &quot; + Instant.now() );\r\n            }\r\n        }\r\n    }\r\n\r\nWhen run:\r\n\r\n&gt;DEMO - Running `main`. 2018-08-18T08:20:42.916806Z\r\n&gt;\r\n&gt;DEMO - In `main`, asking executorService to shutdown(). 2018-08-18T08:20:42.986941Z\r\n&gt;\r\n&gt;DEMO - Ending `main`. 2018-08-18T08:20:42.987724Z\r\n&gt;\r\n&gt;first  0 at 2018-08-18T08:20:42.987058Z\r\n&gt;\r\n&gt;first  1 at 2018-08-18T08:20:43.027013Z\r\n&gt;\r\n&gt;first  2 at 2018-08-18T08:20:43.027090Z\r\n&gt;\r\n&gt;first  3 at 2018-08-18T08:20:43.027184Z\r\n&gt;\r\n&gt;first  4 at 2018-08-18T08:20:43.027259Z\r\n&gt;\r\n&gt;Second 0 at 2018-08-18T08:20:43.027413Z\r\n&gt;\r\n&gt;Second 1 at 2018-08-18T08:20:43.027544Z\r\n&gt;\r\n&gt;Second 2 at 2018-08-18T08:20:43.027673Z\r\n&gt;\r\n&gt;Second 3 at 2018-08-18T08:20:43.027784Z\r\n&gt;\r\n&gt;Second 4 at 2018-08-18T08:20:43.027891Z\r\n\r\nInteresting… notice how these lines are *not* chronological! The `first  0` line captured a moment *earlier* than the line above it.\r\n\r\nNote that calling [`ExecutorService::shutdown`][3] does *not* interrupt the working threads. That call is a request to the executor to (a) stop accepting new work, and (b) finish the current work. To quote the doc:\r\n\r\n&gt;Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted. Invocation has no additional effect if already shut down.\r\n&gt;\r\n&gt;This method does not wait for previously submitted tasks to complete execution. Use awaitTermination to do that.\r\n\r\nThe call to `ExecutorService::shutdown` does not block. Nor does it check to see if the executor service ever shuts down. Consider if you would be better off calling `awaitTermination` as suggested to get the behavior of blocking until the executor service completes or fails to complete by the time-out.\r\n\r\nIn modern Java, `ExecutorService` is `AutoCloseable`. So we can use try-with-resources syntax to automatically close (shutdown). \r\n\r\n# Not `LocalDateTime`\r\n\r\nBy the way, the `LocalDateTime` class is the wrong date-time class to use here. Lacking any concept of time zone or offset-from-UTC, that class cannot represent an actual moment. Instead use `Instant` or `ZonedDateTime`. \r\n\r\nI understand you are just doing some quick-and-dirty logging, so it is not important. But using `LocalDateTime` for a moment is a bad habit that could come back to haunt you later.\r\n\r\n    Instant.now()       // Capture current moment in UTC.\r\n    ZonedDateTime.now() // Capture the current moment in the JVM’s current default time zone.\r\n\r\nGenerally best to get in the habit of using [UTC][4] for most of your logging, storing, and exchanging of moments.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/lang/Runnable.html\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/ExecutorService.html#shutdown()\r\n  [4]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time","title":"Executor is executing twice","body":"<h1>Let executor service manage threads</h1>\n<p>As others Answers have said, you are needlessly creating and managing threads. That is exactly the job of an executor service, to make concurrency easier by managing the creation, usage, and destruction of threads on your behalf.</p>\n<h1>Example app</h1>\n<p>Reduce your <code>main</code> method to simply this:</p>\n<pre><code>try (\n    ExecutorService executorService = Executors.newFixedThreadPool( 1 );\n) {\n    executorService.execute( new ZeroToFourCounter( &quot;first &quot; ) );\n    executorService.execute( new ZeroToFourCounter( &quot;Second&quot; ) );\n}\n</code></pre>\n<p>I believe there is no need for your use of <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\"><code>CountDownLatch</code></a>. That class is used to make one or more threads wait until a set of operations in other threads completes. But with a thread pool of only one thread, the tasks will be completed in the order submitted. So no need to coordinate.</p>\n<p>Change your <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> implementation’s <code>run</code> method to simply doing its intended job, counting 1-4 in a loop.</p>\n<pre><code>for ( int i = 0 ; i &lt; 5 ; i++ ) {\n    System.out.println( this.name + &quot; &quot; + i + &quot; at &quot; + Instant.now() );\n}\n</code></pre>\n<p>No need to spawn a thread in that constructor of your <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a>. You asked the executor service to manage a thread pool for you.</p>\n<p>Complete application code:</p>\n<pre><code>package com.basilbourque.example;\n\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class ExecDemo {\n\n    public static void main ( String[] args ) {\n        System.out.println( &quot;DEMO - Running `main`. &quot; + Instant.now() );\n        try (\n            ExecutorService executorService = Executors.newFixedThreadPool( 1 );\n        ) {\n            executorService.execute( new ZeroToFourCounter( &quot;first &quot; ) );\n            executorService.execute( new ZeroToFourCounter( &quot;Second&quot; ) );\n            System.out.println( &quot;DEMO - In `main`, executorService will now shutdown. &quot; + Instant.now() );\n        } \n    }\n}\n\nclass ZeroToFourCounter implements Runnable {\n    private String name;\n\n    public ZeroToFourCounter ( String name ) {\n        this.name = name;\n    }\n\n    @Override\n    public void run () {\n        for ( int i = 0 ; i &lt; 5 ; i++ ) {\n            System.out.println( this.name + &quot; &quot; + i + &quot; at &quot; + Instant.now() );\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>DEMO - Running <code>main</code>. 2018-08-18T08:20:42.916806Z</p>\n<p>DEMO - In <code>main</code>, asking executorService to shutdown(). 2018-08-18T08:20:42.986941Z</p>\n<p>DEMO - Ending <code>main</code>. 2018-08-18T08:20:42.987724Z</p>\n<p>first  0 at 2018-08-18T08:20:42.987058Z</p>\n<p>first  1 at 2018-08-18T08:20:43.027013Z</p>\n<p>first  2 at 2018-08-18T08:20:43.027090Z</p>\n<p>first  3 at 2018-08-18T08:20:43.027184Z</p>\n<p>first  4 at 2018-08-18T08:20:43.027259Z</p>\n<p>Second 0 at 2018-08-18T08:20:43.027413Z</p>\n<p>Second 1 at 2018-08-18T08:20:43.027544Z</p>\n<p>Second 2 at 2018-08-18T08:20:43.027673Z</p>\n<p>Second 3 at 2018-08-18T08:20:43.027784Z</p>\n<p>Second 4 at 2018-08-18T08:20:43.027891Z</p>\n</blockquote>\n<p>Interesting… notice how these lines are <em>not</em> chronological! The <code>first  0</code> line captured a moment <em>earlier</em> than the line above it.</p>\n<p>Note that calling <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"nofollow noreferrer\"><code>ExecutorService::shutdown</code></a> does <em>not</em> interrupt the working threads. That call is a request to the executor to (a) stop accepting new work, and (b) finish the current work. To quote the doc:</p>\n<blockquote>\n<p>Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted. Invocation has no additional effect if already shut down.</p>\n<p>This method does not wait for previously submitted tasks to complete execution. Use awaitTermination to do that.</p>\n</blockquote>\n<p>The call to <code>ExecutorService::shutdown</code> does not block. Nor does it check to see if the executor service ever shuts down. Consider if you would be better off calling <code>awaitTermination</code> as suggested to get the behavior of blocking until the executor service completes or fails to complete by the time-out.</p>\n<p>In modern Java, <code>ExecutorService</code> is <code>AutoCloseable</code>. So we can use try-with-resources syntax to automatically close (shutdown).</p>\n<h1>Not <code>LocalDateTime</code></h1>\n<p>By the way, the <code>LocalDateTime</code> class is the wrong date-time class to use here. Lacking any concept of time zone or offset-from-UTC, that class cannot represent an actual moment. Instead use <code>Instant</code> or <code>ZonedDateTime</code>.</p>\n<p>I understand you are just doing some quick-and-dirty logging, so it is not important. But using <code>LocalDateTime</code> for a moment is a bad habit that could come back to haunt you later.</p>\n<pre><code>Instant.now()       // Capture current moment in UTC.\nZonedDateTime.now() // Capture the current moment in the JVM’s current default time zone.\n</code></pre>\n<p>Generally best to get in the habit of using <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> for most of your logging, storing, and exchanging of moments.</p>\n"}],"owner":{"account_id":7772811,"reputation":1523,"user_id":5881773,"accept_rate":0,"display_name":"Vipul Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2356,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694192414,"creation_date":1534562329,"question_id":51904936,"body_markdown":"I am trying to run 2 threads simultaneously to achieve multithreading and my program is working, but I am in doubt as to why my program is prints to standard out twice.\r\n\r\nHere is my code base:\r\n\r\n\r\n    public class SimpleExec {\r\n        public static void main(String[] args) {\r\n            CountDownLatch countDownLatch = new CountDownLatch(5);\r\n            CountDownLatch countDownLatch6 = new CountDownLatch(5);\r\n            ExecutorService executorService = Executors.newFixedThreadPool(1);\r\n            System.out.println(&quot;start&quot; + LocalDateTime.now());\r\n            executorService.execute(new MyThread(&quot;first &quot;, countDownLatch));\r\n            executorService.execute(new MyThread(&quot;Second&quot;, countDownLatch6));\r\n\r\n            try {\r\n                countDownLatch.await();\r\n                countDownLatch6.await();\r\n            } catch (InterruptedException e) {\r\n                System.out.println(e);\r\n            }\r\n            System.out.println(&quot;end&quot; + LocalDateTime.now());\r\n            executorService.shutdown();\r\n\r\n        }\r\n    }\r\n\r\n    class MyThread implements Runnable {\r\n        String name;\r\n        CountDownLatch cdl;\r\n\r\n        public MyThread(String name, CountDownLatch cdl) {\r\n            this.cdl = cdl;\r\n            this.name = name;\r\n            new Thread(this).start();\r\n        }\r\n\r\n        public void run() {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(name + &quot; &quot; + i);\r\n                cdl.countDown();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here&#39;s a sample of the program&#39;s output:\r\n\r\n    start 2018-08-18T08:41:51.867\r\n    first  0 // first time thread labeled &#39;first&#39; prints 0 through 4\r\n    first  1\r\n    first  2\r\n    first  3\r\n    first  4\r\n    Second 0\r\n    Second 1\r\n    Second 2\r\n    first  0   // second time thread labeled &#39;first&#39; prints 0 through 4 - why does it print again here?\r\n    first  1\r\n    Second 3\r\n    first  2\r\n    Second 4\r\n    first  3\r\n    first  4\r\n    end2018-08-18T08:41:51.870\r\n    Second 0\r\n    Second 1\r\n    Second 2\r\n    Second 3\r\n    Second 4","title":"Executor is executing twice","body":"<p>I am trying to run 2 threads simultaneously to achieve multithreading and my program is working, but I am in doubt as to why my program is prints to standard out twice.</p>\n\n<p>Here is my code base:</p>\n\n<pre><code>public class SimpleExec {\n    public static void main(String[] args) {\n        CountDownLatch countDownLatch = new CountDownLatch(5);\n        CountDownLatch countDownLatch6 = new CountDownLatch(5);\n        ExecutorService executorService = Executors.newFixedThreadPool(1);\n        System.out.println(\"start\" + LocalDateTime.now());\n        executorService.execute(new MyThread(\"first \", countDownLatch));\n        executorService.execute(new MyThread(\"Second\", countDownLatch6));\n\n        try {\n            countDownLatch.await();\n            countDownLatch6.await();\n        } catch (InterruptedException e) {\n            System.out.println(e);\n        }\n        System.out.println(\"end\" + LocalDateTime.now());\n        executorService.shutdown();\n\n    }\n}\n\nclass MyThread implements Runnable {\n    String name;\n    CountDownLatch cdl;\n\n    public MyThread(String name, CountDownLatch cdl) {\n        this.cdl = cdl;\n        this.name = name;\n        new Thread(this).start();\n    }\n\n    public void run() {\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(name + \" \" + i);\n            cdl.countDown();\n        }\n    }\n}\n</code></pre>\n\n<p>And here's a sample of the program's output:</p>\n\n<pre><code>start 2018-08-18T08:41:51.867\nfirst  0 // first time thread labeled 'first' prints 0 through 4\nfirst  1\nfirst  2\nfirst  3\nfirst  4\nSecond 0\nSecond 1\nSecond 2\nfirst  0   // second time thread labeled 'first' prints 0 through 4 - why does it print again here?\nfirst  1\nSecond 3\nfirst  2\nSecond 4\nfirst  3\nfirst  4\nend2018-08-18T08:41:51.870\nSecond 0\nSecond 1\nSecond 2\nSecond 3\nSecond 4\n</code></pre>\n"},{"tags":["java","spring-boot","docker","kotlin","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1694035738,"post_id":77054154,"comment_id":135840145,"body_markdown":"how are you managing the container? Do you call start() and stop(), using try-with-resources? can you share a repository?","body":"how are you managing the container? Do you call start() and stop(), using try-with-resources? can you share a repository?"},{"owner":{"account_id":913963,"reputation":7092,"user_id":947199,"accept_rate":100,"display_name":"troig"},"score":0,"creation_date":1694048857,"post_id":77054154,"comment_id":135841382,"body_markdown":"Just calling start(), which never finishes for that particular container. I will complete a little bit more the OP but I&#39;m afraid I cannot share a repo as the docker image is internal and has confifentiality constraints. Thanks anyway.","body":"Just calling start(), which never finishes for that particular container. I will complete a little bit more the OP but I&#39;m afraid I cannot share a repo as the docker image is internal and has confifentiality constraints. Thanks anyway."},{"owner":{"account_id":913963,"reputation":7092,"user_id":947199,"accept_rate":100,"display_name":"troig"},"score":0,"creation_date":1694449209,"post_id":77054154,"comment_id":135889281,"body_markdown":"@Edd&#250;Mel&#233;ndez just check my answer if you are curious ;)","body":"@Edd&#250;Mel&#233;ndez just check my answer if you are curious ;)"}],"answers":[{"tags":[],"owner":{"account_id":913963,"reputation":7092,"user_id":947199,"accept_rate":100,"display_name":"troig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694192381,"creation_date":1694161256,"answer_id":77065268,"question_id":77054154,"body_markdown":"After further investigation, the issue was that, for some reasons, one of the exposed ports(`38080`) was not responding. In this case, `TestContainers` `start()` keeps trying to establish connection with the port until the configured timeout happens.\r\n\r\nThis is the reason why `TestContainers` was considering that the container hadn&#39;t been started successfully.","title":"TestContainers GenericContainer start() never finishes","body":"<p>After further investigation, the issue was that, for some reasons, one of the exposed ports(<code>38080</code>) was not responding. In this case, <code>TestContainers</code> <code>start()</code> keeps trying to establish connection with the port until the configured timeout happens.</p>\n<p>This is the reason why <code>TestContainers</code> was considering that the container hadn't been started successfully.</p>\n"}],"owner":{"account_id":913963,"reputation":7092,"user_id":947199,"accept_rate":100,"display_name":"troig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77065268,"answer_count":1,"score":0,"last_activity_date":1694192381,"creation_date":1694021879,"question_id":77054154,"body_markdown":"I&#39;m using [TestContainers][1] for some *acceptance-testing* in a kotlin spring-boot project. \r\n\r\nI start all the docker containers successfully except a particular one, for which the `start()` method never finishes although (apparently) the container has started successfully. \r\n\r\nI see it running both:\r\n- In docker desktop and \r\n- if I check it with docker ps in the terminal.\r\n\r\nI have simplified to the extreme the configuration, startup strategies, etc. but the problem still remains.\r\n\r\nAny idea of what can be happening?\r\n\r\n    GenericContainer(&quot;docker-image-identifier:latest&quot;)\r\n                .withImagePullPolicy(PullPolicy.defaultPolicy())\r\n                .withStartupTimeout(Duration.ofSeconds(300))\r\n                .withExposedPorts(38080, 8080)\r\n                .withNetwork(network)\r\n                .withEnv(\r\n                    mapOf(\r\n                        &quot;SPRING_PROFILES_ACTIVE&quot; to &quot;local,mock&quot;\r\n                        // and some more env\r\n                    )\r\n                )\r\n\r\n\r\n  [1]: https://java.testcontainers.org/test_framework_integration/manual_lifecycle_control/","title":"TestContainers GenericContainer start() never finishes","body":"<p>I'm using <a href=\"https://java.testcontainers.org/test_framework_integration/manual_lifecycle_control/\" rel=\"nofollow noreferrer\">TestContainers</a> for some <em>acceptance-testing</em> in a kotlin spring-boot project.</p>\n<p>I start all the docker containers successfully except a particular one, for which the <code>start()</code> method never finishes although (apparently) the container has started successfully.</p>\n<p>I see it running both:</p>\n<ul>\n<li>In docker desktop and</li>\n<li>if I check it with docker ps in the terminal.</li>\n</ul>\n<p>I have simplified to the extreme the configuration, startup strategies, etc. but the problem still remains.</p>\n<p>Any idea of what can be happening?</p>\n<pre><code>GenericContainer(&quot;docker-image-identifier:latest&quot;)\n            .withImagePullPolicy(PullPolicy.defaultPolicy())\n            .withStartupTimeout(Duration.ofSeconds(300))\n            .withExposedPorts(38080, 8080)\n            .withNetwork(network)\n            .withEnv(\n                mapOf(\n                    &quot;SPRING_PROFILES_ACTIVE&quot; to &quot;local,mock&quot;\n                    // and some more env\n                )\n            )\n</code></pre>\n"},{"tags":["java","xml","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":1089170,"reputation":3080,"user_id":1084204,"display_name":"MattSenter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1383863328,"creation_date":1383863328,"answer_id":19848009,"question_id":19842446,"body_markdown":"I believe you are going to need to set the content-type handled by your `MarshallingHttpMessageConverter`:\r\n\r\n    ...\r\n    &lt;bean id=&quot;marshallingHttpMessageConverter&quot; \r\n            class=&quot;org.springframework.http.converter.xml.MarshallingHttpMessageConverter&quot;\r\n            p:marshaller-ref=&quot;jaxb2Marshaller&quot; p:unmarshaller-ref=&quot;jaxb2Marshaller&quot; \r\n            p:supportedMediaTypes=&quot;application/vnd.tmrk.cloud.organization&quot;/&gt;\r\n    ...\r\n\r\n...something along those lines. The default supported media type for `MarshallingHttpMessageConverter` is simply `application/*+xml`.","title":"Spring RestTemplate content type mismatch","body":"<p>I believe you are going to need to set the content-type handled by your <code>MarshallingHttpMessageConverter</code>:</p>\n\n<pre><code>...\n&lt;bean id=\"marshallingHttpMessageConverter\" \n        class=\"org.springframework.http.converter.xml.MarshallingHttpMessageConverter\"\n        p:marshaller-ref=\"jaxb2Marshaller\" p:unmarshaller-ref=\"jaxb2Marshaller\" \n        p:supportedMediaTypes=\"application/vnd.tmrk.cloud.organization\"/&gt;\n...\n</code></pre>\n\n<p>...something along those lines. The default supported media type for <code>MarshallingHttpMessageConverter</code> is simply <code>application/*+xml</code>.</p>\n"}],"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19848009,"answer_count":1,"score":0,"last_activity_date":1694190246,"creation_date":1383844826,"question_id":19842446,"body_markdown":"I am trying to consume one of the REST web service from Terremark enterprise cloud. Here is what I have done:\r\n1) Take the xsd and generate jaxb artifacts\r\n2) Send Rest call and let Restclient populate the Organizations class.\r\n\r\n    ResponseEntity exchange = template.exchange(&quot;https://services.enterprisecloud.terremark.com/cloudapi/ecloud/organizations/&quot;, \r\n    \t\t\t\t\tHttpMethod.GET, \r\n    \t\t\t\t\tnew HttpEntity(operation.getInput(), operation.getHeader()), \r\n    \t\t\t\t\tOrganizations.class, \r\n    \t\t\t\t\turlVariables);\r\n\r\nThe error I see is\r\n\r\n    org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [com.dto.Organizations] and content type [application/vnd.tmrk.cloud.organization;type=collection]\r\n\r\nIn the above error, com.dto.Organizations is generated java class by JAXB. Any generic Spring pointers to resolve this issue would also be helpful.\r\n\r\nP.S.\r\nIn spring dispatcher, I have following:\r\n\r\n    &lt;bean id=&quot;restTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot;&gt;\r\n        &lt;property name=&quot;messageConverters&quot;&gt;\r\n            &lt;list&gt;\r\n               &lt;bean id=&quot;marshallingHttpMessageConverter&quot; \r\n               \tclass=&quot;org.springframework.http.converter.xml.MarshallingHttpMessageConverter&quot;\r\n    \t\t\tp:marshaller-ref=&quot;jaxb2Marshaller&quot; p:unmarshaller-ref=&quot;jaxb2Marshaller&quot; /&gt;\r\n            \t&lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;/&gt;\r\n            \t&lt;bean class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;/&gt;\r\n            \t&lt;bean class=&quot;org.springframework.http.converter.ResourceHttpMessageConverter&quot;/&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;","title":"Spring RestTemplate content type mismatch","body":"<p>I am trying to consume one of the REST web service from Terremark enterprise cloud. Here is what I have done:\n1) Take the xsd and generate jaxb artifacts\n2) Send Rest call and let Restclient populate the Organizations class.</p>\n\n<pre><code>ResponseEntity exchange = template.exchange(\"https://services.enterprisecloud.terremark.com/cloudapi/ecloud/organizations/\", \n                    HttpMethod.GET, \n                    new HttpEntity(operation.getInput(), operation.getHeader()), \n                    Organizations.class, \n                    urlVariables);\n</code></pre>\n\n<p>The error I see is</p>\n\n<pre><code>org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type [com.dto.Organizations] and content type [application/vnd.tmrk.cloud.organization;type=collection]\n</code></pre>\n\n<p>In the above error, com.dto.Organizations is generated java class by JAXB. Any generic Spring pointers to resolve this issue would also be helpful.</p>\n\n<p>P.S.\nIn spring dispatcher, I have following:</p>\n\n<pre><code>&lt;bean id=\"restTemplate\" class=\"org.springframework.web.client.RestTemplate\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n           &lt;bean id=\"marshallingHttpMessageConverter\" \n            class=\"org.springframework.http.converter.xml.MarshallingHttpMessageConverter\"\n            p:marshaller-ref=\"jaxb2Marshaller\" p:unmarshaller-ref=\"jaxb2Marshaller\" /&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.ResourceHttpMessageConverter\"/&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":200716,"reputation":2145,"user_id":446717,"display_name":"Roberto"},"score":0,"creation_date":1480092968,"post_id":39253144,"comment_id":68839754,"body_markdown":"Why the downvote? It seems a good question","body":"Why the downvote? It seems a good question"}],"answers":[{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1472656296,"creation_date":1472656296,"answer_id":39253262,"question_id":39253144,"body_markdown":"Just looking at the API for doing something similar [DeleteMessageBatchRequest][1] seems to do the trick. \r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sqs/model/DeleteMessageBatchRequest.html","title":"How to delete all messages from SQS Queue at once Java","body":"<p>Just looking at the API for doing something similar <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sqs/model/DeleteMessageBatchRequest.html\" rel=\"nofollow\">DeleteMessageBatchRequest</a> seems to do the trick. </p>\n"},{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472656311,"creation_date":1472656311,"answer_id":39253267,"question_id":39253144,"body_markdown":"If you look at the [SDK documentation][1], you will see a `deleteMessageBatch` method which takes a list of messages.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sqs/AmazonSQSClient.html","title":"How to delete all messages from SQS Queue at once Java","body":"<p>If you look at the <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sqs/AmazonSQSClient.html\" rel=\"nofollow\">SDK documentation</a>, you will see a <code>deleteMessageBatch</code> method which takes a list of messages.</p>\n"},{"tags":[],"owner":{"account_id":200716,"reputation":2145,"user_id":446717,"display_name":"Roberto"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1480092774,"creation_date":1480092774,"answer_id":40809540,"question_id":39253144,"body_markdown":"If you want to delete all messages you don&#39;t need batch delete, you should Purge the queue like so:\r\n\r\n    var request = new Amazon.SQS.Model.PurgeQueueRequest\r\n    {\r\n        QueueUrl = &quot;your queue url&quot;\r\n    };\r\n    _sqsClient.PurgeQueue(request);\r\n\r\nPurging a queue removes all the messages already in the queue","title":"How to delete all messages from SQS Queue at once Java","body":"<p>If you want to delete all messages you don't need batch delete, you should Purge the queue like so:</p>\n\n<pre><code>var request = new Amazon.SQS.Model.PurgeQueueRequest\n{\n    QueueUrl = \"your queue url\"\n};\n_sqsClient.PurgeQueue(request);\n</code></pre>\n\n<p>Purging a queue removes all the messages already in the queue</p>\n"},{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694190143,"creation_date":1694190143,"answer_id":77068493,"question_id":39253144,"body_markdown":"For completeness as this Q&amp;A comes up still when searching and Java 2 API examples are hard to find, here is the purge example in Java:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    SqsClient sqs = SqsClient.builder()\r\n             .region(Region.EU_WEST_1)\r\n             .credentialsProvider(ProfileCredentialsProvider.create(&quot;default&quot;))\r\n             .build();\r\n\r\n\r\n    PurgeQueueRequest pqRequest = PurgeQueueRequest.builder()\r\n                .queueUrl(&quot;your SQS queu URL (not ARN!)&quot;)\r\n                .build();\r\n\r\n    sqs.purgeQueue(pqRequest);\r\n\r\n","title":"How to delete all messages from SQS Queue at once Java","body":"<p>For completeness as this Q&amp;A comes up still when searching and Java 2 API examples are hard to find, here is the purge example in Java:</p>\n<pre class=\"lang-js prettyprint-override\"><code>SqsClient sqs = SqsClient.builder()\n         .region(Region.EU_WEST_1)\n         .credentialsProvider(ProfileCredentialsProvider.create(&quot;default&quot;))\n         .build();\n\n\nPurgeQueueRequest pqRequest = PurgeQueueRequest.builder()\n            .queueUrl(&quot;your SQS queu URL (not ARN!)&quot;)\n            .build();\n\nsqs.purgeQueue(pqRequest);\n</code></pre>\n"}],"owner":{"account_id":6306906,"reputation":505,"user_id":4899746,"accept_rate":64,"display_name":"Jaidyn Belbin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5893,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":39253262,"answer_count":4,"score":4,"last_activity_date":1694190143,"creation_date":1472655928,"question_id":39253144,"body_markdown":"According to the Amazon documentation, the code to delete a single message from the SQS Queue is: \r\n\r\n        // Delete a message\r\n    System.out.println(&quot;Deleting a message.\\n&quot;);\r\n    String messageReceiptHandle = messages.get(0).getReceiptHandle();\r\n    sqs.deleteMessage(new DeleteMessageRequest()\r\n        .withQueueUrl(myQueueUrl)\r\n        .withReceiptHandle(messageReceiptHandle));\r\n\r\nHowever, say I have more than 20 or so messages, do I really have to process this for every single message? Or is there a way to do a batch delete?\r\n\r\nThanks for any insights.\r\n\r\n\r\n","title":"How to delete all messages from SQS Queue at once Java","body":"<p>According to the Amazon documentation, the code to delete a single message from the SQS Queue is: </p>\n\n<pre><code>    // Delete a message\nSystem.out.println(\"Deleting a message.\\n\");\nString messageReceiptHandle = messages.get(0).getReceiptHandle();\nsqs.deleteMessage(new DeleteMessageRequest()\n    .withQueueUrl(myQueueUrl)\n    .withReceiptHandle(messageReceiptHandle));\n</code></pre>\n\n<p>However, say I have more than 20 or so messages, do I really have to process this for every single message? Or is there a way to do a batch delete?</p>\n\n<p>Thanks for any insights.</p>\n"},{"tags":["java","logging","log4j","runtime"],"comments":[{"owner":{"account_id":40503,"reputation":2087,"user_id":117376,"accept_rate":52,"display_name":"Cincinnati Joe"},"score":2,"creation_date":1312913338,"post_id":4598702,"comment_id":8357231,"body_markdown":"http://stackoverflow.com/questions/1200449/how-do-i-adjust-log4j-levels-at-runtime","body":"<a href=\"http://stackoverflow.com/questions/1200449/how-do-i-adjust-log4j-levels-at-runtime\" title=\"how do i adjust log4j levels at runtime\">stackoverflow.com/questions/1200449/&hellip;</a>"},{"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"score":0,"creation_date":1426859130,"post_id":4598702,"comment_id":46554469,"body_markdown":"Very similar to http://stackoverflow.com/questions/2115900/is-it-possible-to-reload-log4j-xml-log4j-properties-file-dynamically-in-tomcat/","body":"Very similar to <a href=\"http://stackoverflow.com/questions/2115900/is-it-possible-to-reload-log4j-xml-log4j-properties-file-dynamically-in-tomcat/\" title=\"is it possible to reload log4j xml log4j properties file dynamically in tomcat\">stackoverflow.com/questions/2115900/&hellip;</a>"},{"owner":{"account_id":3839832,"reputation":4671,"user_id":3183264,"accept_rate":91,"display_name":"slaadvak"},"score":4,"creation_date":1536089242,"post_id":4598702,"comment_id":91296285,"body_markdown":"Updated question for log4j2: https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2","body":"Updated question for log4j2: <a href=\"https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2\" title=\"programmatically change log level in log4j2\">stackoverflow.com/questions/23434252/&hellip;</a>"},{"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"score":2,"creation_date":1580752238,"post_id":4598702,"comment_id":106192674,"body_markdown":"NOTE that (almost) everything on this page is about log4j, not log4j2. This whole page is so full of confusion and misdirection that it&#39;s USELESS. Go to https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2 as @slaadvak recommends.","body":"NOTE that (almost) everything on this page is about log4j, not log4j2. This whole page is so full of confusion and misdirection that it&#39;s USELESS. Go to <a href=\"https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2\" title=\"programmatically change log level in log4j2\">stackoverflow.com/questions/23434252/&hellip;</a> as @slaadvak recommends."}],"answers":[{"tags":[],"owner":{"account_id":74910,"reputation":24557,"user_id":215030,"accept_rate":85,"display_name":"Aaron McIver"},"down_vote_count":4,"up_vote_count":100,"is_accepted":true,"score":96,"last_activity_date":1383090904,"creation_date":1294177913,"answer_id":4598829,"question_id":4598702,"body_markdown":"Changing the log level is simple; modifying other portions of the configuration will pose a more in depth approach.\r\n\r\n    LogManager.getRootLogger().setLevel(Level.DEBUG);\r\n\r\nThe changes are permanent through the life cyle of the `Logger`. On reinitialization the configuration will be read and used as setting the level at runtime does not persist the level change.\r\n\r\n**UPDATE:** If you are using Log4j 2 you should remove the calls to `setLevel` per the [documentation][1] as this can be achieved via implementation classes.\r\n\r\n&gt; Calls to logger.setLevel() or similar methods are not supported in the\r\n&gt; API. Applications should remove these. Equivalent functionality is\r\n&gt; provided in the Log4j 2 implementation classes but may leave the\r\n&gt; application susceptible to changes in Log4j 2 internals.\r\n\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/manual/migration.html","title":"Dynamically Changing log4j log level","body":"<p>Changing the log level is simple; modifying other portions of the configuration will pose a more in depth approach.</p>\n\n<pre><code>LogManager.getRootLogger().setLevel(Level.DEBUG);\n</code></pre>\n\n<p>The changes are permanent through the life cyle of the <code>Logger</code>. On reinitialization the configuration will be read and used as setting the level at runtime does not persist the level change.</p>\n\n<p><strong>UPDATE:</strong> If you are using Log4j 2 you should remove the calls to <code>setLevel</code> per the <a href=\"http://logging.apache.org/log4j/2.x/manual/migration.html\">documentation</a> as this can be achieved via implementation classes.</p>\n\n<blockquote>\n  <p>Calls to logger.setLevel() or similar methods are not supported in the\n  API. Applications should remove these. Equivalent functionality is\n  provided in the Log4j 2 implementation classes but may leave the\n  application susceptible to changes in Log4j 2 internals.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":28208,"reputation":14132,"user_id":75126,"accept_rate":100,"display_name":"mhaller"},"down_vote_count":1,"up_vote_count":99,"is_accepted":false,"score":98,"last_activity_date":1354807818,"creation_date":1294179762,"answer_id":4599083,"question_id":4598702,"body_markdown":"File Watchdog\r\n==\r\nLog4j is able to watch the `log4j.xml` file for configuration changes. If you change the log4j file, log4j will automatically refresh the log levels according to your changes. See the documentation of `org.apache.log4j.xml.DOMConfigurator.configureAndWatch(String,long`) for details. The default wait time between checks is 60 seconds. These changes would be persistent, since you directly change the configuration file on the filesystem. All you need to do is to invoke DOMConfigurator.configureAndWatch() once.\r\n\r\n*Caution: configureAndWatch method is unsafe for use in J2EE environments due to a Thread leak*\r\n\r\nJMX\r\n==\r\nAnother way to set the log level (or reconfiguring in general) log4j is by using JMX. Log4j registers its loggers as JMX MBeans. Using the application servers MBeanServer consoles (or JDK&#39;s jconsole.exe) you can reconfigure each individual loggers. These changes are not persistent and would be reset to the config as set in the configuration file after you restart your application (server).\r\n\r\nSelf-Made\r\n==\r\nAs described by Aaron, you can set the log level programmatically. You can implement it in your application in the way you would like it to happen. For example, you could have a GUI where the user or admin changes the log level and then call the `setLevel()` methods on the logger. Whether you persist the settings somewhere or not is up to you.\r\n","title":"Dynamically Changing log4j log level","body":"<h1>File Watchdog</h1>\n\n<p>Log4j is able to watch the <code>log4j.xml</code> file for configuration changes. If you change the log4j file, log4j will automatically refresh the log levels according to your changes. See the documentation of <code>org.apache.log4j.xml.DOMConfigurator.configureAndWatch(String,long</code>) for details. The default wait time between checks is 60 seconds. These changes would be persistent, since you directly change the configuration file on the filesystem. All you need to do is to invoke DOMConfigurator.configureAndWatch() once.</p>\n\n<p><em>Caution: configureAndWatch method is unsafe for use in J2EE environments due to a Thread leak</em></p>\n\n<h1>JMX</h1>\n\n<p>Another way to set the log level (or reconfiguring in general) log4j is by using JMX. Log4j registers its loggers as JMX MBeans. Using the application servers MBeanServer consoles (or JDK's jconsole.exe) you can reconfigure each individual loggers. These changes are not persistent and would be reset to the config as set in the configuration file after you restart your application (server).</p>\n\n<h1>Self-Made</h1>\n\n<p>As described by Aaron, you can set the log level programmatically. You can implement it in your application in the way you would like it to happen. For example, you could have a GUI where the user or admin changes the log level and then call the <code>setLevel()</code> methods on the logger. Whether you persist the settings somewhere or not is up to you.</p>\n"},{"tags":[],"owner":{"account_id":40307,"reputation":3297,"user_id":116810,"accept_rate":80,"display_name":"Kimball Robinson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1550081090,"creation_date":1441040294,"answer_id":32316234,"question_id":4598702,"body_markdown":"Log4j2 can be configured to refresh its configuration by scanning the log4j**2**.xml file (or equivalent) at given intervals. Just add the &quot;**monitorInterval**&quot; parameter to your configuration tag.  See line 2 of the sample log4j**2**.xml file, which tells log4j to to re-scan its configuration if more than 5 seconds have passed since the last log event.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;Configuration status=&quot;warn&quot; monitorInterval=&quot;5&quot; name=&quot;tryItApp&quot; packages=&quot;&quot;&gt;\r\n    \r\n    \t&lt;Appenders&gt;\r\n    \t\t&lt;RollingFile name=&quot;MY_TRY_IT&quot;\r\n    \t\t             fileName=&quot;/var/log/tryIt.log&quot;\r\n    \t\t             filePattern=&quot;/var/log/tryIt-%i.log.gz&quot;&gt;\r\n    \t\t\t&lt;Policies&gt;\r\n    \t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;25 MB&quot;/&gt;\r\n    \t\t\t&lt;/Policies&gt;\r\n                ...\r\n    \t\t&lt;/RollingFile&gt;\r\n    \t&lt;/Appenders&gt;\r\n    \r\n    \r\n    \t&lt;Loggers&gt;\r\n    \t\t&lt;Root level=&quot;error&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;MY_TRY_IT&quot;/&gt;\r\n    \t\t&lt;/Root&gt;\r\n    \t&lt;/Loggers&gt;\r\n  \r\n    &lt;/Configuration&gt;\r\n\r\n\r\nThere are extra steps to make this work if you are deploying to a tomcat instance, inside an IDE, or when using spring boot.  That seems somewhat out of scope here and probably merits a separate question.","title":"Dynamically Changing log4j log level","body":"<p>Log4j2 can be configured to refresh its configuration by scanning the log4j<strong>2</strong>.xml file (or equivalent) at given intervals. Just add the \"<strong>monitorInterval</strong>\" parameter to your configuration tag.  See line 2 of the sample log4j<strong>2</strong>.xml file, which tells log4j to to re-scan its configuration if more than 5 seconds have passed since the last log event.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;Configuration status=\"warn\" monitorInterval=\"5\" name=\"tryItApp\" packages=\"\"&gt;\n\n    &lt;Appenders&gt;\n        &lt;RollingFile name=\"MY_TRY_IT\"\n                     fileName=\"/var/log/tryIt.log\"\n                     filePattern=\"/var/log/tryIt-%i.log.gz\"&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"25 MB\"/&gt;\n            &lt;/Policies&gt;\n            ...\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n\n    &lt;Loggers&gt;\n        &lt;Root level=\"error\"&gt;\n            &lt;AppenderRef ref=\"MY_TRY_IT\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>There are extra steps to make this work if you are deploying to a tomcat instance, inside an IDE, or when using spring boot.  That seems somewhat out of scope here and probably merits a separate question.</p>\n"},{"tags":[],"owner":{"account_id":5623469,"reputation":1703,"user_id":4452578,"display_name":"ISparkes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454066236,"creation_date":1454066236,"answer_id":35083184,"question_id":4598702,"body_markdown":"With log4j 1.x I find the best way is to use a DOMConfigurator to submit one of a predefined set of XML log configurations (say, one for normal use and one for debugging).\r\n\r\nMaking use of these can be done with something like this:\r\n\r\n      public static void reconfigurePredefined(String newLoggerConfigName) {\r\n        String name = newLoggerConfigName.toLowerCase();\r\n        if (&quot;default&quot;.equals(name)) {\r\n          name = &quot;log4j.xml&quot;;\r\n        } else {\r\n          name = &quot;log4j-&quot; + name + &quot;.xml&quot;;\r\n        }\r\n    \r\n        if (Log4jReconfigurator.class.getResource(&quot;/&quot; + name) != null) {\r\n          String logConfigPath = Log4jReconfigurator.class.getResource(&quot;/&quot; + name).getPath();\r\n          logger.warn(&quot;Using log4j configuration: &quot; + logConfigPath);\r\n          try (InputStream defaultIs = Log4jReconfigurator.class.getResourceAsStream(&quot;/&quot; + name)) {\r\n            new DOMConfigurator().doConfigure(defaultIs, LogManager.getLoggerRepository());\r\n          } catch (IOException e) {\r\n            logger.error(&quot;Failed to reconfigure log4j configuration, could not find file &quot; + logConfigPath + &quot; on the classpath&quot;, e);\r\n          } catch (FactoryConfigurationError e) {\r\n            logger.error(&quot;Failed to reconfigure log4j configuration, could not load file &quot; + logConfigPath, e);\r\n          }\r\n        } else {\r\n          logger.error(&quot;Could not find log4j configuration file &quot; + name + &quot;.xml on classpath&quot;);\r\n        }\r\n      }\r\n\r\nJust call this with the appropriate config name, and make sure that you put the templates on the classpath.","title":"Dynamically Changing log4j log level","body":"<p>With log4j 1.x I find the best way is to use a DOMConfigurator to submit one of a predefined set of XML log configurations (say, one for normal use and one for debugging).</p>\n\n<p>Making use of these can be done with something like this:</p>\n\n<pre><code>  public static void reconfigurePredefined(String newLoggerConfigName) {\n    String name = newLoggerConfigName.toLowerCase();\n    if (\"default\".equals(name)) {\n      name = \"log4j.xml\";\n    } else {\n      name = \"log4j-\" + name + \".xml\";\n    }\n\n    if (Log4jReconfigurator.class.getResource(\"/\" + name) != null) {\n      String logConfigPath = Log4jReconfigurator.class.getResource(\"/\" + name).getPath();\n      logger.warn(\"Using log4j configuration: \" + logConfigPath);\n      try (InputStream defaultIs = Log4jReconfigurator.class.getResourceAsStream(\"/\" + name)) {\n        new DOMConfigurator().doConfigure(defaultIs, LogManager.getLoggerRepository());\n      } catch (IOException e) {\n        logger.error(\"Failed to reconfigure log4j configuration, could not find file \" + logConfigPath + \" on the classpath\", e);\n      } catch (FactoryConfigurationError e) {\n        logger.error(\"Failed to reconfigure log4j configuration, could not load file \" + logConfigPath, e);\n      }\n    } else {\n      logger.error(\"Could not find log4j configuration file \" + name + \".xml on classpath\");\n    }\n  }\n</code></pre>\n\n<p>Just call this with the appropriate config name, and make sure that you put the templates on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":3992551,"reputation":1386,"user_id":3290983,"display_name":"Anandkumar"},"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1553263172,"creation_date":1462468587,"answer_id":37056483,"question_id":4598702,"body_markdown":"&gt; **This answer won&#39;t help you to change the logging level dynamically, you need to restart the service, if you are fine restarting the\r\n&gt; service, please use the below solution**\r\n\r\n\r\nI did this to Change log4j log level and it worked for me, I have n&#39;t referred any document. I used this system property value to set my logfile name. I used the same technique to set logging level as well, and it worked \r\n\r\npassed this as JVM parameter (I use Java 1.7)\r\n\r\n **Sorry this won&#39;t dynamically change the logging level, it requires a restart of the service**\r\n\r\n    java -Dlogging.level=DEBUG -cp xxxxxx.jar  xxxxx.java\r\n\r\nin the log4j.properties file, I added this entry \r\n\r\n    log4j.rootLogger=${logging.level},file,stdout\r\n\r\nI tried \r\n\r\n     java -Dlogging.level=DEBUG -cp xxxxxx.jar  xxxxx.java\r\n     java -Dlogging.level=INFO-cp xxxxxx.jar  xxxxx.java\r\n     java -Dlogging.level=OFF -cp xxxxxx.jar  xxxxx.java\r\n\r\nIt all worked. hope this helps!\r\n\r\nI have these following dependencies in my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;apache-log4j-extras&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Dynamically Changing log4j log level","body":"<blockquote>\n  <p><strong>This answer won't help you to change the logging level dynamically, you need to restart the service, if you are fine restarting the\n  service, please use the below solution</strong></p>\n</blockquote>\n\n<p>I did this to Change log4j log level and it worked for me, I have n't referred any document. I used this system property value to set my logfile name. I used the same technique to set logging level as well, and it worked </p>\n\n<p>passed this as JVM parameter (I use Java 1.7)</p>\n\n<p><strong>Sorry this won't dynamically change the logging level, it requires a restart of the service</strong></p>\n\n<pre><code>java -Dlogging.level=DEBUG -cp xxxxxx.jar  xxxxx.java\n</code></pre>\n\n<p>in the log4j.properties file, I added this entry </p>\n\n<pre><code>log4j.rootLogger=${logging.level},file,stdout\n</code></pre>\n\n<p>I tried </p>\n\n<pre><code> java -Dlogging.level=DEBUG -cp xxxxxx.jar  xxxxx.java\n java -Dlogging.level=INFO-cp xxxxxx.jar  xxxxx.java\n java -Dlogging.level=OFF -cp xxxxxx.jar  xxxxx.java\n</code></pre>\n\n<p>It all worked. hope this helps!</p>\n\n<p>I have these following dependencies in my pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;apache-log4j-extras&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3077598,"reputation":1,"user_id":2606570,"display_name":"user2606570"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1471362485,"creation_date":1471362011,"answer_id":38979121,"question_id":4598702,"body_markdown":"You can use following code snippet\r\n\r\n    ((ch.qos.logback.classic.Logger)LoggerFactory.getLogger(packageName)).setLevel(ch.qos.logback.classic.Level.toLevel(logLevel));","title":"Dynamically Changing log4j log level","body":"<p>You can use following code snippet</p>\n\n<pre><code>((ch.qos.logback.classic.Logger)LoggerFactory.getLogger(packageName)).setLevel(ch.qos.logback.classic.Level.toLevel(logLevel));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6619736,"reputation":3818,"user_id":5111870,"accept_rate":57,"display_name":"kk."},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1498135789,"creation_date":1498135789,"answer_id":44699902,"question_id":4598702,"body_markdown":"If you would want to change the logging level of all the loggers use the below method. This will enumerate over all the loggers and change the logging level to given level. Please make sure that you **DO NOT** have `log4j.appender.loggerName.Threshold=DEBUG` property set in your `log4j.properties` file.\r\n\r\n   \r\n\r\n    public static void changeLogLevel(Level level) {\r\n        Enumeration&lt;?&gt; loggers = LogManager.getCurrentLoggers();\r\n        while(loggers.hasMoreElements()) {\r\n        \tLogger logger = (Logger) loggers.nextElement();\r\n        \tlogger.setLevel(level);\r\n        }\r\n    }","title":"Dynamically Changing log4j log level","body":"<p>If you would want to change the logging level of all the loggers use the below method. This will enumerate over all the loggers and change the logging level to given level. Please make sure that you <strong>DO NOT</strong> have <code>log4j.appender.loggerName.Threshold=DEBUG</code> property set in your <code>log4j.properties</code> file.</p>\n\n<pre><code>public static void changeLogLevel(Level level) {\n    Enumeration&lt;?&gt; loggers = LogManager.getCurrentLoggers();\n    while(loggers.hasMoreElements()) {\n        Logger logger = (Logger) loggers.nextElement();\n        logger.setLevel(level);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16027697,"reputation":1,"user_id":11567525,"display_name":"Thomas Bernardin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574762872,"creation_date":1574762872,"answer_id":59048397,"question_id":4598702,"body_markdown":"I have used this method with success to reduce the verbosity of the &quot;org.apache.http&quot; logs:\r\n```\r\nch.qos.logback.classic.Logger logger = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(&quot;org.apache.http&quot;);\r\nlogger.setLevel(Level.TRACE);\r\nlogger.setAdditive(false);\r\n```\r\n\r\n","title":"Dynamically Changing log4j log level","body":"<p>I have used this method with success to reduce the verbosity of the \"org.apache.http\" logs:</p>\n\n<pre><code>ch.qos.logback.classic.Logger logger = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(\"org.apache.http\");\nlogger.setLevel(Level.TRACE);\nlogger.setAdditive(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7249459,"reputation":467,"user_id":5530309,"display_name":"mohamed stitane"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588951609,"creation_date":1587989196,"answer_id":61458528,"question_id":4598702,"body_markdown":"For log4j 2 API , you can use \r\n\r\n```\r\nLogger logger = LogManager.getRootLogger();\r\nConfigurator.setAllLevels(logger.getName(), Level.getLevel(level));\r\n\r\n```","title":"Dynamically Changing log4j log level","body":"<p>For log4j 2 API , you can use </p>\n\n<pre><code>Logger logger = LogManager.getRootLogger();\nConfigurator.setAllLevels(logger.getName(), Level.getLevel(level));\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21837,"reputation":1262,"user_id":53387,"display_name":"jdwyah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694189834,"creation_date":1694189834,"answer_id":77068467,"question_id":4598702,"body_markdown":"The question breaks down into 2 parts:\r\n 1. Where does the user input the logger and level? ie How do you capture the intent to change the log level?\r\n 2. How do you broadcast this intent information to all relevant services?\r\n \r\n\r\nCollecting the user intent comes in a few flavors:\r\n - An API request to change the levels eg `POST /log-levels?logger=com.example.FooClass&amp;level=DEBUG`\r\n - A JMX Request\r\n - A Shared File\r\n - A Centralized UI (eg DIY, SpringBoot, Prefab)\r\n\r\nPropagating the change can be done by:\r\n\r\n - Configuring scan / polling &amp; NFS or remote URI\r\n - Service discovery and pushing out the change\r\n - Pub/Sub (Redis / SSE)\r\n - A log filter that looks in dynamic configuration to get the log level (the dynamic config system then uses something like pub sub).\r\n\r\nA more detailed write-up in https://www.prefab.cloud/blog/dynamically-changing-java-log-level/ with an example of the filter approach and a look at centralized UIs.\r\n\r\n\r\nAs far as whether the changes will be permanent, that depends on which approach you take. If you PubSub or ServiceDiscovery, the change will only take effect until something restarts, because the new service won&#39;t get the message. You&#39;ll want something more like Kafka / Redis Streams if you want to be able to have new instance of your application get the current value of the log level. That&#39;s basically the dynamic configuration option.\r\n","title":"Dynamically Changing log4j log level","body":"<p>The question breaks down into 2 parts:</p>\n<ol>\n<li>Where does the user input the logger and level? ie How do you capture the intent to change the log level?</li>\n<li>How do you broadcast this intent information to all relevant services?</li>\n</ol>\n<p>Collecting the user intent comes in a few flavors:</p>\n<ul>\n<li>An API request to change the levels eg <code>POST /log-levels?logger=com.example.FooClass&amp;level=DEBUG</code></li>\n<li>A JMX Request</li>\n<li>A Shared File</li>\n<li>A Centralized UI (eg DIY, SpringBoot, Prefab)</li>\n</ul>\n<p>Propagating the change can be done by:</p>\n<ul>\n<li>Configuring scan / polling &amp; NFS or remote URI</li>\n<li>Service discovery and pushing out the change</li>\n<li>Pub/Sub (Redis / SSE)</li>\n<li>A log filter that looks in dynamic configuration to get the log level (the dynamic config system then uses something like pub sub).</li>\n</ul>\n<p>A more detailed write-up in <a href=\"https://www.prefab.cloud/blog/dynamically-changing-java-log-level/\" rel=\"nofollow noreferrer\">https://www.prefab.cloud/blog/dynamically-changing-java-log-level/</a> with an example of the filter approach and a look at centralized UIs.</p>\n<p>As far as whether the changes will be permanent, that depends on which approach you take. If you PubSub or ServiceDiscovery, the change will only take effect until something restarts, because the new service won't get the message. You'll want something more like Kafka / Redis Streams if you want to be able to have new instance of your application get the current value of the log level. That's basically the dynamic configuration option.</p>\n"}],"owner":{"account_id":59477,"reputation":7989,"user_id":177971,"accept_rate":44,"display_name":"Ravi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196503,"favorite_count":0,"down_vote_count":1,"up_vote_count":145,"accepted_answer_id":4598829,"answer_count":10,"score":144,"last_activity_date":1694189834,"creation_date":1294177123,"question_id":4598702,"body_markdown":"What are the different approaches for changing the log4j log level dynamically, so that I will not have to redeploy the application. Will the changes be permanent in those cases? ","title":"Dynamically Changing log4j log level","body":"<p>What are the different approaches for changing the log4j log level dynamically, so that I will not have to redeploy the application. Will the changes be permanent in those cases? </p>\n"},{"tags":["java","circular-dependency"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":4,"creation_date":1694099485,"post_id":77060809,"comment_id":135849622,"body_markdown":"`getInstance` doesn&#39;t call any other class&#39;s constructor.","body":"<code>getInstance</code> doesn&#39;t call any other class&#39;s constructor."},{"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"score":0,"creation_date":1694157953,"post_id":77060809,"comment_id":135857152,"body_markdown":"`getInstance` indirectly reaches the field of `InstanceHolder`, which is `final` and was thus expected to call its initialization before returning. @RobertHarvey However see the accepted answer https://stackoverflow.com/a/77061115/1429367 which describes the theory behind this well","body":"<code>getInstance</code> indirectly reaches the field of <code>InstanceHolder</code>, which is <code>final</code> and was thus expected to call its initialization before returning. @RobertHarvey However see the accepted answer <a href=\"https://stackoverflow.com/a/77061115/1429367\">stackoverflow.com/a/77061115/1429367</a> which describes the theory behind this well"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694189431,"creation_date":1694101859,"answer_id":77061115,"question_id":77060809,"body_markdown":"No. The JVM tracks &#39;class initialization has started&#39; and will never start it a second time. That&#39;s _why_ this whole `InstanceHolder` song and dance routine works in the first place: You&#39;re using the JVM&#39;s concurrency gating mechanism that it applies to classloading, otherwise _none_ of this would be useful at all.\r\n\r\nThus, you are __absolutely guaranteed__ that the `new A()` in the static initializer sequence of class `A.InstanceHolder` is run at most once, _ever_.\r\n\r\nWhich raises the obvious question: Allright, soooo, what happens when a context accesses the `A.InstanceHolder` class when the static initialization procedure for `A.InstanceHolder` has started, but hasn&#39;t finished yet? Given that the JVM guarantees no re-running of initializers, the answer thus cannot possibly be &#39;stackoverflow&#39;, but what _does_ happen then?\r\n\r\nThat breaks down into two separate scenarios:\r\n\r\n1. The code that needs `A.InstanceHolder` to be initialized is running in a different thread. That is, _another thread_ is in the middle of that initialization procedure (still going through the sequence of bytecode required to fulfill `new A()`, which is the static initialization code for `A.InstanceHolder`). In that case, this thread will simply block. It&#39;s like `synchronized` in just about every way.\r\n\r\n2. The code that needs `A.InstanceHolder` to be initialized is already running in this thread. In other words, we need `A.InstanceHolder` to be initialized _in the middle of_ the sequence of bytecode that.. is doing the very initialization we are now dependent on! In this case, the JVM spec is clear: Upon init, all fields are initialized to `null`/`0`/`false`, and initialization then proceeds. Any attempt to read from these fields before they are available simply returns the value they have (`null`/`0`/`false`), __even if they are final__. This does result in the somewhat bizarre situation that a `private static final String x = someMethodThatMakesX();` can nevertheless have `x` hold 2 different values (`null`, and the actual value), even though it is final. We can trivially witness this:\r\n\r\n```\r\n&gt; cat ExampleOfClassInitWeirdness.java\r\npublic class ExampleOfClassInitWeirdness {\r\n  private static final String y = hi();\r\n  private static final String x = test();\r\n  private static final String z = bye();\r\n\r\n  public static String hi() {\r\n    System.out.println(x); // compiles. Prints &#39;null&#39;\r\n    return null;\r\n  }\r\n\r\n  public static String test() {\r\n    System.out.println(x); // compiles. Prints &#39;null&#39;\r\n    return &quot;hello&quot;;\r\n  }\r\n\r\n  public static String bye() {\r\n    System.out.println(x); // compiles. Prints &#39;&quot;hello&quot;&#39;.\r\n    return null;\r\n  }\r\n\r\n  public static void main(String[] args) {}\r\n}\r\n&gt; java ExampleOfClassInitWeirdness.java\r\nnull\r\nnull\r\nhello\r\n```\r\n\r\nall 3 prints come from different places where the exact same java code exists: `System.out.println(x);`, and given that `x` is `final`, how can it print different values?\r\n\r\nWell, it can - the JVM spec is clear, even if the result is a bit odd.\r\n\r\nThe same principle explains why you don&#39;t get a stack overflow error. The sequence goes as follows. I assume somewhere in your java code you wrote: `A.getInstance()`. Then:\r\n\r\n * ClassLoader checks if `A` is loaded and what its init status is.\r\n * ClassLoader concludes it isn&#39;t loaded and thus init status is `NEEDED`.\r\n * ClassLoader finds the bytecode from the jar file or whatever and `defineClass`es the class into existence with it.\r\n * ClassLoader now starts the initialization procedure. It atomically performs this operation: Check if the status is still `NEEDED`. It is, so, update to `INITIALIZING`, and keep track of the fact that this thread is doing the initialization. The initialization is trivial to non-existent; no `static{}` blocks and no expressions initializing static fields either. I&#39;m going to skip explaining how `B` is initialized; it is similarly boring. `A`&#39;s status becomes `INITIALIZED`.\r\n * Remember, we were in the middle of running the opcode `INVOKESTATIC com.foo.pkg.A getInstance()Lcom/foo/pkg/A;`, and as part of that, we had to ensure A was loaded and initialized before proceeding. So, let&#39;s continue. The `A.getInstance()` can now run. This runs opcode `GETSTATIC com.foo.pkg.A$InstanceHolder a Lcom/foo/pkg/A;` and this, therefore, requires that `A$InstanceHolder` is loaded and initialized. It is not, so... off to the jar file we go to find the bytecode and load it, then time to initialize it; its status goes to `INITIALIZING` with this thread as initializer. All static fields are initialized to `null`/`0`/`false`.\r\n * There is stuff to do - run the code `new A()`.\r\n * This requires running code `B.getInstance()` (that&#39;s another `INVOKESTATIC` opcode).\r\n * This causes `B` to need to be loaded and initialized. As discussed, boring, this happens.\r\n * Run `B.getInstance()`. This causes `GETSTATIC` on `B$InstanceHolder` which means `B$InstanceHolder` needs to be loaded and initialized. It isn&#39;t.\r\n * Begin the init procedure. Run the static initializers, which, here, is `new B()`.\r\n * `new B()` does an `INVOKESTATIC` on `A.getInstance()`\r\n * This requires `A` to be loaded and initialized. It is.\r\n * We run `A.getInstance()`. This `GETSTATIC`s from `A$InstanceHolder`, which requires `A$InstanceHolder` to be loaded and initialized. It isn&#39;t; not quite - it is loaded, yes. but its status is `INITIALIZING`, not initialized. We&#39;re a few layers into the stack here, but this is all a chain of events caused by initializing `A$InstanceHolder`.\r\n * The thread that is registered as doing the initializing is this thread, so we don&#39;t block, we just continue without modifying anything. We act as if the thing is already initialized. So, we just.. execute the `GETSTATIC` opcode. Which dutifully returns the current value. Which is `null`.\r\n* `B.getInstance()` is now done. This instance&#39;s `a` field is now `null`.\r\n* `new B()` is now done. And with that, the static init sequence of `A$InstanceHolder` is now done. The instance of `A` it made has a field of type `B`; the instance of `B` that fields hold has a field that holds an instance of `A`. That field holds `null`.\r\n* `A.getInstance()` finishes and returns that instance for which `that.getB().getA()` is `null`.\r\n\r\nOne thing to understand is that `final` is __mostly__ a figment of `javac`. The JVM mostly doesn&#39;t care about final and considers it a comment. The reason this:\r\n\r\n```\r\npublic class Example {\r\n  private static final Instant NOW = Instant.now();\r\n\r\n  public static void breakThings() {\r\n    NOW = null;\r\n  }\r\n}\r\n```\r\n\r\nDoesn&#39;t compile is because javac refuses to compile it. There is an `if` statement somewhere in javac that says: Uh, no. `NOW` is final, and you are attempting to write to it potentially more than once, so, no.\r\n\r\nBut just delete that if from the java code and it would compile and it would sorta run.\r\n\r\nUnlike generics, which are truly _entirely_ a comment from the JVM&#39;s perspective (it does not affect what the JVM does, whatsoever, it is __entirely__ javac that cares about generics, which explains why you can&#39;t read them at runtime from instances), `final` is merely __mostly__ a comment. There are certain concurrency rules and guarantees, as well as certain hotspot optimizations, that work differently.","title":"Why doesn&#39;t cyclic reference with singleton instance holder throw StackOverflowError?","body":"<p>No. The JVM tracks 'class initialization has started' and will never start it a second time. That's <em>why</em> this whole <code>InstanceHolder</code> song and dance routine works in the first place: You're using the JVM's concurrency gating mechanism that it applies to classloading, otherwise <em>none</em> of this would be useful at all.</p>\n<p>Thus, you are <strong>absolutely guaranteed</strong> that the <code>new A()</code> in the static initializer sequence of class <code>A.InstanceHolder</code> is run at most once, <em>ever</em>.</p>\n<p>Which raises the obvious question: Allright, soooo, what happens when a context accesses the <code>A.InstanceHolder</code> class when the static initialization procedure for <code>A.InstanceHolder</code> has started, but hasn't finished yet? Given that the JVM guarantees no re-running of initializers, the answer thus cannot possibly be 'stackoverflow', but what <em>does</em> happen then?</p>\n<p>That breaks down into two separate scenarios:</p>\n<ol>\n<li><p>The code that needs <code>A.InstanceHolder</code> to be initialized is running in a different thread. That is, <em>another thread</em> is in the middle of that initialization procedure (still going through the sequence of bytecode required to fulfill <code>new A()</code>, which is the static initialization code for <code>A.InstanceHolder</code>). In that case, this thread will simply block. It's like <code>synchronized</code> in just about every way.</p>\n</li>\n<li><p>The code that needs <code>A.InstanceHolder</code> to be initialized is already running in this thread. In other words, we need <code>A.InstanceHolder</code> to be initialized <em>in the middle of</em> the sequence of bytecode that.. is doing the very initialization we are now dependent on! In this case, the JVM spec is clear: Upon init, all fields are initialized to <code>null</code>/<code>0</code>/<code>false</code>, and initialization then proceeds. Any attempt to read from these fields before they are available simply returns the value they have (<code>null</code>/<code>0</code>/<code>false</code>), <strong>even if they are final</strong>. This does result in the somewhat bizarre situation that a <code>private static final String x = someMethodThatMakesX();</code> can nevertheless have <code>x</code> hold 2 different values (<code>null</code>, and the actual value), even though it is final. We can trivially witness this:</p>\n</li>\n</ol>\n<pre><code>&gt; cat ExampleOfClassInitWeirdness.java\npublic class ExampleOfClassInitWeirdness {\n  private static final String y = hi();\n  private static final String x = test();\n  private static final String z = bye();\n\n  public static String hi() {\n    System.out.println(x); // compiles. Prints 'null'\n    return null;\n  }\n\n  public static String test() {\n    System.out.println(x); // compiles. Prints 'null'\n    return &quot;hello&quot;;\n  }\n\n  public static String bye() {\n    System.out.println(x); // compiles. Prints '&quot;hello&quot;'.\n    return null;\n  }\n\n  public static void main(String[] args) {}\n}\n&gt; java ExampleOfClassInitWeirdness.java\nnull\nnull\nhello\n</code></pre>\n<p>all 3 prints come from different places where the exact same java code exists: <code>System.out.println(x);</code>, and given that <code>x</code> is <code>final</code>, how can it print different values?</p>\n<p>Well, it can - the JVM spec is clear, even if the result is a bit odd.</p>\n<p>The same principle explains why you don't get a stack overflow error. The sequence goes as follows. I assume somewhere in your java code you wrote: <code>A.getInstance()</code>. Then:</p>\n<ul>\n<li>ClassLoader checks if <code>A</code> is loaded and what its init status is.</li>\n<li>ClassLoader concludes it isn't loaded and thus init status is <code>NEEDED</code>.</li>\n<li>ClassLoader finds the bytecode from the jar file or whatever and <code>defineClass</code>es the class into existence with it.</li>\n<li>ClassLoader now starts the initialization procedure. It atomically performs this operation: Check if the status is still <code>NEEDED</code>. It is, so, update to <code>INITIALIZING</code>, and keep track of the fact that this thread is doing the initialization. The initialization is trivial to non-existent; no <code>static{}</code> blocks and no expressions initializing static fields either. I'm going to skip explaining how <code>B</code> is initialized; it is similarly boring. <code>A</code>'s status becomes <code>INITIALIZED</code>.</li>\n<li>Remember, we were in the middle of running the opcode <code>INVOKESTATIC com.foo.pkg.A getInstance()Lcom/foo/pkg/A;</code>, and as part of that, we had to ensure A was loaded and initialized before proceeding. So, let's continue. The <code>A.getInstance()</code> can now run. This runs opcode <code>GETSTATIC com.foo.pkg.A$InstanceHolder a Lcom/foo/pkg/A;</code> and this, therefore, requires that <code>A$InstanceHolder</code> is loaded and initialized. It is not, so... off to the jar file we go to find the bytecode and load it, then time to initialize it; its status goes to <code>INITIALIZING</code> with this thread as initializer. All static fields are initialized to <code>null</code>/<code>0</code>/<code>false</code>.</li>\n<li>There is stuff to do - run the code <code>new A()</code>.</li>\n<li>This requires running code <code>B.getInstance()</code> (that's another <code>INVOKESTATIC</code> opcode).</li>\n<li>This causes <code>B</code> to need to be loaded and initialized. As discussed, boring, this happens.</li>\n<li>Run <code>B.getInstance()</code>. This causes <code>GETSTATIC</code> on <code>B$InstanceHolder</code> which means <code>B$InstanceHolder</code> needs to be loaded and initialized. It isn't.</li>\n<li>Begin the init procedure. Run the static initializers, which, here, is <code>new B()</code>.</li>\n<li><code>new B()</code> does an <code>INVOKESTATIC</code> on <code>A.getInstance()</code></li>\n<li>This requires <code>A</code> to be loaded and initialized. It is.</li>\n<li>We run <code>A.getInstance()</code>. This <code>GETSTATIC</code>s from <code>A$InstanceHolder</code>, which requires <code>A$InstanceHolder</code> to be loaded and initialized. It isn't; not quite - it is loaded, yes. but its status is <code>INITIALIZING</code>, not initialized. We're a few layers into the stack here, but this is all a chain of events caused by initializing <code>A$InstanceHolder</code>.</li>\n<li>The thread that is registered as doing the initializing is this thread, so we don't block, we just continue without modifying anything. We act as if the thing is already initialized. So, we just.. execute the <code>GETSTATIC</code> opcode. Which dutifully returns the current value. Which is <code>null</code>.</li>\n<li><code>B.getInstance()</code> is now done. This instance's <code>a</code> field is now <code>null</code>.</li>\n<li><code>new B()</code> is now done. And with that, the static init sequence of <code>A$InstanceHolder</code> is now done. The instance of <code>A</code> it made has a field of type <code>B</code>; the instance of <code>B</code> that fields hold has a field that holds an instance of <code>A</code>. That field holds <code>null</code>.</li>\n<li><code>A.getInstance()</code> finishes and returns that instance for which <code>that.getB().getA()</code> is <code>null</code>.</li>\n</ul>\n<p>One thing to understand is that <code>final</code> is <strong>mostly</strong> a figment of <code>javac</code>. The JVM mostly doesn't care about final and considers it a comment. The reason this:</p>\n<pre><code>public class Example {\n  private static final Instant NOW = Instant.now();\n\n  public static void breakThings() {\n    NOW = null;\n  }\n}\n</code></pre>\n<p>Doesn't compile is because javac refuses to compile it. There is an <code>if</code> statement somewhere in javac that says: Uh, no. <code>NOW</code> is final, and you are attempting to write to it potentially more than once, so, no.</p>\n<p>But just delete that if from the java code and it would compile and it would sorta run.</p>\n<p>Unlike generics, which are truly <em>entirely</em> a comment from the JVM's perspective (it does not affect what the JVM does, whatsoever, it is <strong>entirely</strong> javac that cares about generics, which explains why you can't read them at runtime from instances), <code>final</code> is merely <strong>mostly</strong> a comment. There are certain concurrency rules and guarantees, as well as certain hotspot optimizations, that work differently.</p>\n"}],"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77061115,"answer_count":1,"score":1,"last_activity_date":1694189431,"creation_date":1694099128,"question_id":77060809,"body_markdown":"```\r\nstatic class A {\r\n\tprivate static class InstanceHolder {\r\n\t\tprivate static final A a = new A();\r\n\t}\r\n\r\n\tprivate final B b;\r\n\r\n\tprivate A() {\r\n\t\tb = B.getInstance();\r\n\t}\r\n\r\n\tstatic A getInstance() {\r\n\t\treturn InstanceHolder.a;\r\n\t}\r\n}\r\n\r\nstatic class B {\r\n\tprivate static class InstanceHolder {\r\n\t\tprivate static final B b = new B();\r\n\t}\r\n\r\n\tprivate final A a;\r\n\r\n\tprivate B() {\r\n\t\ta = A.getInstance();\r\n\t}\r\n\r\n\tstatic B getInstance() {\r\n\t\treturn InstanceHolder.b;\r\n\t}\r\n}\r\n\r\npublic static void main(String[] args) {\r\n\tA a = A.getInstance();\r\n\tB b = B.getInstance();\r\n\tSystem.out.println(a.b);\r\n\tSystem.out.println(b.a);\r\n}\r\n```\r\n\r\nI&#39;d expect that even indirect calls of constructors `A -&gt; B -&gt; A` would cause `StackOverflowError`.\r\n\r\nInstead, the first object (`a`) has the reference to `b` initialized, while the second has the back-reference null.","title":"Why doesn&#39;t cyclic reference with singleton instance holder throw StackOverflowError?","body":"<pre><code>static class A {\n    private static class InstanceHolder {\n        private static final A a = new A();\n    }\n\n    private final B b;\n\n    private A() {\n        b = B.getInstance();\n    }\n\n    static A getInstance() {\n        return InstanceHolder.a;\n    }\n}\n\nstatic class B {\n    private static class InstanceHolder {\n        private static final B b = new B();\n    }\n\n    private final A a;\n\n    private B() {\n        a = A.getInstance();\n    }\n\n    static B getInstance() {\n        return InstanceHolder.b;\n    }\n}\n\npublic static void main(String[] args) {\n    A a = A.getInstance();\n    B b = B.getInstance();\n    System.out.println(a.b);\n    System.out.println(b.a);\n}\n</code></pre>\n<p>I'd expect that even indirect calls of constructors <code>A -&gt; B -&gt; A</code> would cause <code>StackOverflowError</code>.</p>\n<p>Instead, the first object (<code>a</code>) has the reference to <code>b</code> initialized, while the second has the back-reference null.</p>\n"},{"tags":["java","spring","junit5"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694156763,"post_id":77062812,"comment_id":135856953,"body_markdown":"In short an `@Autowired` field cannot be `null` if it is properly managed by Spring. In fact it would not even allow the application (or test) to start and fail with an exception stating that it cannot resolve the dependencies. Given that fact the `ExchangeImpl` instances you are using in your test aren&#39;t managed by Spring but are created outside the scope of the spring container. Not to mention that I find it weird that you have a DAO returning Spring managed components, why is it a DAO then?","body":"In short an <code>@Autowired</code> field cannot be <code>null</code> if it is properly managed by Spring. In fact it would not even allow the application (or test) to start and fail with an exception stating that it cannot resolve the dependencies. Given that fact the <code>ExchangeImpl</code> instances you are using in your test aren&#39;t managed by Spring but are created outside the scope of the spring container. Not to mention that I find it weird that you have a DAO returning Spring managed components, why is it a DAO then?"},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1694188871,"post_id":77062812,"comment_id":135863166,"body_markdown":"Sorry, I don&#39;t really understand what you&#39;re asking. I thought the point of adding `@ExtendWith(SpringExtension.class)` was to get a spring container to manage everything.","body":"Sorry, I don&#39;t really understand what you&#39;re asking. I thought the point of adding <code>@ExtendWith(SpringExtension.class)</code> was to get a spring container to manage everything."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694273757,"post_id":77062812,"comment_id":135871217,"body_markdown":"No that is only letting the test class being managed by Spring. The instances you are creating for `ExchangeImpl` aren&#39;t managed by Spring.","body":"No that is only letting the test class being managed by Spring. The instances you are creating for <code>ExchangeImpl</code> aren&#39;t managed by Spring."}],"answers":[{"tags":[],"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694189424,"creation_date":1694189424,"answer_id":77068429,"question_id":77062812,"body_markdown":"It looks like this *is* the solution, along with calling this method instead of the constructor directly\r\n\r\n```\r\n@Bean\r\n@Scope(value = &quot;prototype&quot;)\r\npublic Exchange newExchangeImpl() {\r\n    return new ExchangeImpl();\r\n}\r\n```\r\n\r\nbut I was missing a `@Configuration` annotation on the class. Once I do that, the DAOs inside the Exchange object are initialized.","title":"Nested Autowired Dependencies NOT Injected in JUnit 5 even with SpringExtension.class","body":"<p>It looks like this <em>is</em> the solution, along with calling this method instead of the constructor directly</p>\n<pre><code>@Bean\n@Scope(value = &quot;prototype&quot;)\npublic Exchange newExchangeImpl() {\n    return new ExchangeImpl();\n}\n</code></pre>\n<p>but I was missing a <code>@Configuration</code> annotation on the class. Once I do that, the DAOs inside the Exchange object are initialized.</p>\n"}],"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694189424,"creation_date":1694120383,"question_id":77062812,"body_markdown":"This question [Nested Autowired Dependencies not injected in Junits](https://stackoverflow.com/questions/70542101/nested-autowired-dependencies-not-injected-in-junits) should have answered my question, but I&#39;m already doing what it recommended. In fact, in Spring 5 with Java 11 and Junit 5, it was working. I&#39;m not on Spring 6 and Java 17, but it&#39;s not.\r\n\r\nThis is effectively an integration test because it talks to the real database just to verify that I can get to the DB and that certain data items are as expected. The package it&#39;s a part of is excluded from normal test runs.\r\n\r\nMy test class looks something like this. Yes, I&#39;m omitting most of the class, but the lines below are enough to expose the issue.\r\n\r\n```\r\n@ContextConfiguration(locations = { &quot;classpath*:applicationContext.xml&quot; })\r\n@ExtendWith(SpringExtension.class)\r\npublic class ExchangeDBTest {\r\n\r\n    @Autowired public ExchangeCache exchangeCache;\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;createStdCloseData&quot;)\r\n    void standardClose(LocalDate date, String exchangeCode, String stdTime, LocalTime time, TimeZone tz) {\r\n\r\n        Exchange exchange = exchangeCache.get(exchangeCode);\r\n        LocalDateTime stdClose = exchange.getStandardClose(date);\r\n        ...\r\n    }\r\n\t...\r\n}\r\n```\r\n\r\nThe ExchangeCache object is injected just fine. It&#39;s dependencies are injected just fine, which includes a DAO which does the retrieval and creation of the Exchange objects\r\n\r\n```\r\n@Service\r\npublic class ExchangeCacheImpl implements ExchangeCache, DataCache {\r\n\r\n    private static final Logger log = LogManager.getLogger(ExchangeCache.class);\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;exchangeDAO&quot;)\r\n    private ExchangeDAO exchangeDAO;\r\n\t\r\n    ...\r\n\t\r\n    private void loadAll() {\r\n        /* Caller decides if this is a miss or not. */\r\n        log.info(&quot;retrieving exchange data and calendars to populate cache...&quot;);\r\n        Instant startTime = Instant.now();\r\n        Collection&lt;ExchangeData&gt; batch = exchangeDAO.findAll();\r\n        for (ExchangeData exData : batch) {\r\n            if (exData.getMicCode() == null)\r\n                continue;\r\n            Exchange e = new ExchangeImpl();\r\n            ...\r\n\t}\r\n\t...\r\n    }\r\n```\r\n\r\nThe problem is with the construction of the ExchangeImpl objects which do not not have their dependencies injected *when I am running the JUnit test*. It works fine when deployed.\r\n\r\n```\r\n@Component\r\n@Scope(&quot;prototype&quot;)\r\npublic class ExchangeImpl implements Exchange, ExchangeCalendar {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;irregularHoursDAO&quot;)\r\n    private ExchangeIrregularHoursDAO irregularHoursDAO;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;regularHoursDAO&quot;)\r\n    private ExchangeRegularHoursDAO regularHoursDAO;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nThose two DAOs are null in the JUnit test, so that call to `exchange.getStandardClose(date)` throws an NullPointerException because the call triggers a DB query to get the missing data.\r\n\r\nI found https://medium.com/davebarda/creating-a-dynamically-initialized-bean-in-spring-18d6d41d24df which suggested (among other things) a factory method to create the ExchangeImpl objects, so I tried\r\n\r\n```\r\n    @Bean\r\n    @Scope(value = &quot;prototype&quot;)\r\n    public Exchange newExchangeImpl() {\r\n       return new ExchangeImpl();\r\n    }\r\n    private void loadAll() {\r\n        /* Caller decides if this is a miss or not. */\r\n        log.info(&quot;retrieving exchange data and calendars to populate cache...&quot;);\r\n        Instant startTime = Instant.now();\r\n        Collection&lt;ExchangeData&gt; batch = exchangeDAO.findAll();\r\n        for (ExchangeData exData : batch) {\r\n            if (exData.getMicCode() == null)\r\n                continue;\r\n            Exchange e = newExchangeImpl();\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n```\r\n\r\nbut the objects returned still have null DAOs. \r\n\r\nAgain, it works when deployed, it&#39;s just the JUnit configuration I&#39;m having a problem with. I&#39;m reluctant to modify the actual ExchangeImpl too much and having it explicitly get the bean factory seems too much to me.","title":"Nested Autowired Dependencies NOT Injected in JUnit 5 even with SpringExtension.class","body":"<p>This question <a href=\"https://stackoverflow.com/questions/70542101/nested-autowired-dependencies-not-injected-in-junits\">Nested Autowired Dependencies not injected in Junits</a> should have answered my question, but I'm already doing what it recommended. In fact, in Spring 5 with Java 11 and Junit 5, it was working. I'm not on Spring 6 and Java 17, but it's not.</p>\n<p>This is effectively an integration test because it talks to the real database just to verify that I can get to the DB and that certain data items are as expected. The package it's a part of is excluded from normal test runs.</p>\n<p>My test class looks something like this. Yes, I'm omitting most of the class, but the lines below are enough to expose the issue.</p>\n<pre><code>@ContextConfiguration(locations = { &quot;classpath*:applicationContext.xml&quot; })\n@ExtendWith(SpringExtension.class)\npublic class ExchangeDBTest {\n\n    @Autowired public ExchangeCache exchangeCache;\n\n    @ParameterizedTest\n    @MethodSource(&quot;createStdCloseData&quot;)\n    void standardClose(LocalDate date, String exchangeCode, String stdTime, LocalTime time, TimeZone tz) {\n\n        Exchange exchange = exchangeCache.get(exchangeCode);\n        LocalDateTime stdClose = exchange.getStandardClose(date);\n        ...\n    }\n    ...\n}\n</code></pre>\n<p>The ExchangeCache object is injected just fine. It's dependencies are injected just fine, which includes a DAO which does the retrieval and creation of the Exchange objects</p>\n<pre><code>@Service\npublic class ExchangeCacheImpl implements ExchangeCache, DataCache {\n\n    private static final Logger log = LogManager.getLogger(ExchangeCache.class);\n\n    @Autowired\n    @Qualifier(&quot;exchangeDAO&quot;)\n    private ExchangeDAO exchangeDAO;\n    \n    ...\n    \n    private void loadAll() {\n        /* Caller decides if this is a miss or not. */\n        log.info(&quot;retrieving exchange data and calendars to populate cache...&quot;);\n        Instant startTime = Instant.now();\n        Collection&lt;ExchangeData&gt; batch = exchangeDAO.findAll();\n        for (ExchangeData exData : batch) {\n            if (exData.getMicCode() == null)\n                continue;\n            Exchange e = new ExchangeImpl();\n            ...\n    }\n    ...\n    }\n</code></pre>\n<p>The problem is with the construction of the ExchangeImpl objects which do not not have their dependencies injected <em>when I am running the JUnit test</em>. It works fine when deployed.</p>\n<pre><code>@Component\n@Scope(&quot;prototype&quot;)\npublic class ExchangeImpl implements Exchange, ExchangeCalendar {\n\n    @Autowired\n    @Qualifier(&quot;irregularHoursDAO&quot;)\n    private ExchangeIrregularHoursDAO irregularHoursDAO;\n\n    @Autowired\n    @Qualifier(&quot;regularHoursDAO&quot;)\n    private ExchangeRegularHoursDAO regularHoursDAO;\n\n    ...\n}\n</code></pre>\n<p>Those two DAOs are null in the JUnit test, so that call to <code>exchange.getStandardClose(date)</code> throws an NullPointerException because the call triggers a DB query to get the missing data.</p>\n<p>I found <a href=\"https://medium.com/davebarda/creating-a-dynamically-initialized-bean-in-spring-18d6d41d24df\" rel=\"nofollow noreferrer\">https://medium.com/davebarda/creating-a-dynamically-initialized-bean-in-spring-18d6d41d24df</a> which suggested (among other things) a factory method to create the ExchangeImpl objects, so I tried</p>\n<pre><code>    @Bean\n    @Scope(value = &quot;prototype&quot;)\n    public Exchange newExchangeImpl() {\n       return new ExchangeImpl();\n    }\n    private void loadAll() {\n        /* Caller decides if this is a miss or not. */\n        log.info(&quot;retrieving exchange data and calendars to populate cache...&quot;);\n        Instant startTime = Instant.now();\n        Collection&lt;ExchangeData&gt; batch = exchangeDAO.findAll();\n        for (ExchangeData exData : batch) {\n            if (exData.getMicCode() == null)\n                continue;\n            Exchange e = newExchangeImpl();\n            ...\n        }\n        ...\n    }\n</code></pre>\n<p>but the objects returned still have null DAOs.</p>\n<p>Again, it works when deployed, it's just the JUnit configuration I'm having a problem with. I'm reluctant to modify the actual ExchangeImpl too much and having it explicitly get the bean factory seems too much to me.</p>\n"},{"tags":["java","tomcat","serialization","session-cookies"],"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":1,"creation_date":1649151766,"post_id":71749427,"comment_id":126797606,"body_markdown":"Serialization is used when you have to send and receive the object across the network. It is independent of the JVM implementation.","body":"Serialization is used when you have to send and receive the object across the network. It is independent of the JVM implementation."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1649152406,"post_id":71749427,"comment_id":126797868,"body_markdown":"@ZahidKhan (Java) serialization is turning Java objects into bytes. Whether you send those bytes over the network is a separate thing. You might as well save them to a file or database (as is done to sessions), or do anything else you would do to bytes (including sending over the network).","body":"@ZahidKhan (Java) serialization is turning Java objects into bytes. Whether you send those bytes over the network is a separate thing. You might as well save them to a file or database (as is done to sessions), or do anything else you would do to bytes (including sending over the network)."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1649176744,"post_id":71749427,"comment_id":126807791,"body_markdown":"Yes, @Kayaman that&#39;s the correct definition. What I tried to convey is - that it is independent of JVM.","body":"Yes, @Kayaman that&#39;s the correct definition. What I tried to convey is - that it is independent of JVM."}],"answers":[{"tags":[],"owner":{"account_id":2130230,"reputation":15498,"user_id":1891219,"display_name":"gaborsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649152643,"creation_date":1649152643,"answer_id":71749732,"question_id":71749427,"body_markdown":"Serialization is required because the session objects may be stored in a file, a database or may be transported to another service node via network. Even the included objects must implement `Serializable`. \r\n\r\nWhy these requirements were set? Because a session must last longer than a request. Nobody can guarantee that the same JVM will still exist when the next request comes with the same Session ID - so there should be a redundancy or failover solution that ensures that the session will survive. There are many solutions for this, but the actual solution doesn&#39;t even matter - but Serialization ensures that it will work.\r\n","title":"Serialization in same JVM","body":"<p>Serialization is required because the session objects may be stored in a file, a database or may be transported to another service node via network. Even the included objects must implement <code>Serializable</code>.</p>\n<p>Why these requirements were set? Because a session must last longer than a request. Nobody can guarantee that the same JVM will still exist when the next request comes with the same Session ID - so there should be a redundancy or failover solution that ensures that the session will survive. There are many solutions for this, but the actual solution doesn't even matter - but Serialization ensures that it will work.</p>\n"}],"owner":{"account_id":16094621,"reputation":95,"user_id":11617135,"display_name":"INDIAN DECODER"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694188336,"creation_date":1649151474,"question_id":71749427,"body_markdown":"Is serialization necessary while writing and reading an object in the same JVM?\r\n\r\n&gt; Session objects must implement serializable in order to maintain it after restart of server.\r\n\r\nAs same JVM is used why session objects must implement serializable?\r\n\r\n","title":"Serialization in same JVM","body":"<p>Is serialization necessary while writing and reading an object in the same JVM?</p>\n<blockquote>\n<p>Session objects must implement serializable in order to maintain it after restart of server.</p>\n</blockquote>\n<p>As same JVM is used why session objects must implement serializable?</p>\n"},{"tags":["java","annotations","annotation-processing"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692702027,"post_id":76952596,"comment_id":135657053,"body_markdown":"`messager.printMessage(Diagnostic.Kind.ERROR` is making your processor generate compilation errors.","body":"<code>messager.printMessage(Diagnostic.Kind.ERROR</code> is making your processor generate compilation errors."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692702090,"post_id":76952596,"comment_id":135657068,"body_markdown":"Also, what you&#39;re doing is never going to work. You are trying to set the field value at *compile* time, you need to do it at *runtime*. That&#39;s not something an annotation processor can do.","body":"Also, what you&#39;re doing is never going to work. You are trying to set the field value at <i>compile</i> time, you need to do it at <i>runtime</i>. That&#39;s not something an annotation processor can do."},{"owner":{"account_id":26652423,"reputation":1,"user_id":22428604,"display_name":"med"},"score":0,"creation_date":1692702611,"post_id":76952596,"comment_id":135657166,"body_markdown":"@Jorn i use the messager just to know the content of  propertyValue ,and  when I want to execute I comment out the line","body":"@Jorn i use the messager just to know the content of  propertyValue ,and  when I want to execute I comment out the line"}],"answers":[{"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694188315,"creation_date":1694188315,"answer_id":77068308,"question_id":76952596,"body_markdown":"### Background:\r\n\r\nAs far as I understand you mean Spring Boot&#39;s `@Value` annotation and as far as I read from Spring Boot documentation the elements annotated with `@Value` are initialized with the `@Value`&#39;s value at runtime. In this answer, I am also going to address this very limited subset of similar functionality of `@Value` for your custom annotation.\r\n\r\nIn the simple case that I am aware of, annotation processors in Java are not running along with the source code being processed, but instead run at compilation time. That is you cannot have access through the `Processor` to objects generated at the runtime of the code you annotate. This is the reason you can&#39;t access the annotated `Field` you want at processing time. Another issue is that you are attempting to get a `Field` of the implementing `Class` of a `TypeElement` at processing time, which (as far as I understand) is not what you intend to do. These are the reasons why you get that error. On the other hand, you have access to the source code (being processed) itself through the Java annotation processing API (via `javax.lang.model.element.Element`s, `javax.lang.model.type.TypeMirror`s and all related interfaces).\r\n\r\nAccording to [another post][1]:\r\n\r\n&gt; standard annotation processing API does *not* support direct modification of source code\r\n\r\nSo, in order to go by the standard API, you can generate *new* code which will make use of the values of a simple `CustomValue` annotation. This new code will need to be called somehow by your application in order to initialize the annotated fields with their values. For example in Spring Boot you need to call a method for the whole application to begin such as the code in the following snippet:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class MyApplication {\r\n    public static void main(final String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nThe control flow of this method takes care of creating and initializing data objects for you (at least as far as my abstract understanding of Spring Boot goes). In a (distantly) similar way and in order to keep things simple, let&#39;s create a `Processor` which will generate the required functionality, but it will be your application&#39;s responsibility to call this functionality.\r\n\r\n### Limited-solution outline:\r\n\r\nYou can separate your code in two projects: one for the annotation processor and the annotation itself, and another project with the client code of the annotation. The *client* project will depend on the *annotation processor*&#39;s project.\r\n\r\n### Annotation processor project code:\r\n\r\nThe annotation itself can be as you declared it:\r\n\r\n```\r\npackage annotations;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME) //This has to be RUNTIME since we need the value of each CustomValue to exist at runtime.\r\npublic @interface CustomValue {\r\n    String value();\r\n}\r\n```\r\n\r\nwhile the annotation processor needs changes and for the purpose of this answer is implemented as:\r\n\r\n```\r\npackage annotations;\r\n\r\nimport java.io.IOException;\r\nimport java.io.Writer;\r\nimport java.util.Collections;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\nimport javax.annotation.processing.AbstractProcessor;\r\nimport javax.annotation.processing.Filer;\r\nimport javax.annotation.processing.Messager;\r\nimport javax.annotation.processing.RoundEnvironment;\r\nimport javax.annotation.processing.SupportedAnnotationTypes;\r\nimport javax.annotation.processing.SupportedSourceVersion;\r\nimport javax.lang.model.SourceVersion;\r\nimport javax.lang.model.element.Element;\r\nimport javax.lang.model.element.ElementKind;\r\nimport javax.lang.model.element.PackageElement;\r\nimport javax.lang.model.element.TypeElement;\r\nimport javax.lang.model.element.VariableElement;\r\nimport javax.lang.model.util.Elements;\r\nimport javax.lang.model.util.Types;\r\nimport javax.tools.Diagnostic;\r\n\r\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\r\n@SupportedAnnotationTypes(&quot;annotations.CustomValue&quot;)\r\npublic class CustomValueProcessor extends AbstractProcessor {\r\n    \r\n    private final Map&lt;String, String&gt; propMap = Collections.singletonMap(&quot;person.id&quot;, &quot;undefined&quot;); //PropertyLoader.parsePropertiesFile();\r\n    private final Map&lt;TypeElement, Map&lt;VariableElement, String&gt;&gt; classToFieldToValueMap = new LinkedHashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean process(final Set&lt;? extends TypeElement&gt; annotations,\r\n                           final RoundEnvironment roundEnv) {\r\n        final Messager messager = processingEnv.getMessager();\r\n        final Elements elementUtils = processingEnv.getElementUtils();\r\n        final Types typeUtils = processingEnv.getTypeUtils();\r\n        final Filer filer = processingEnv.getFiler();\r\n        annotations.forEach(annotation -&gt; {\r\n            roundEnv.getElementsAnnotatedWith(annotation).forEach(element -&gt; {\r\n                /*Checking for &quot;element.getKind() == ElementKind.FIELD&quot; is not really neeeded here\r\n                as the code currently stands, since the CustomValue only supports FIELDs according\r\n                to its Target meta-annotation, but let&#39;s indeed make the check since in the future\r\n                we may support more Targets...*/\r\n                if (element.getKind() == ElementKind.FIELD) {\r\n                    final VariableElement fieldElement = (VariableElement) element;\r\n                    final CustomValue annotationElement = element.getAnnotation(CustomValue.class);\r\n                    final String annotationElementValue = annotationElement.value().trim();\r\n                    \r\n                    //Check for proper field declared type (String):\r\n                    if (!typeUtils.isSameType(element.asType(), elementUtils.getTypeElement(&quot;java.lang.String&quot;).asType()))\r\n                        messager.printMessage(Diagnostic.Kind.ERROR, &quot;CustomValue annotated fields must be of type String.&quot;, element);\r\n\r\n                    //Check for the specified value&#39;s sanity according to some simple parsing rules:\r\n                    else if (annotationElementValue.isEmpty() || annotationElementValue.startsWith(&quot;=&quot;))\r\n                        messager.printMessage(Diagnostic.Kind.ERROR, &quot;Empty parameter identifier for CustomValue.&quot;, element);\r\n\r\n                    else {\r\n                        //Parse with simple rules:\r\n                        final String[] param = annotationElementValue.split(&quot;=&quot;, 2);\r\n                        final String paramID = param[0].trim(),\r\n                                     paramDefaultValue = (param.length &gt; 1)? param[1].trim(): &quot;N/A&quot;;\r\n                        \r\n                        //Find value:\r\n                        final String paramValue = propMap.getOrDefault(paramID, paramDefaultValue);\r\n                        final Element enclosingElement = element.getEnclosingElement();\r\n\r\n                        //Reject enum constants (or anything else that is not a class, such as records):\r\n                        if (enclosingElement.getKind() != ElementKind.CLASS)\r\n                            messager.printMessage(Diagnostic.Kind.ERROR, &quot;Only class fields can be annotated with CustomValue.&quot;, element);\r\n                        else {\r\n                            final TypeElement enclosingClass = (TypeElement) enclosingElement;\r\n                            final PackageElement pkg = elementUtils.getPackageOf(enclosingClass);\r\n\r\n                            //Safety belt against inner classes (because, for simplicity, the rest of the code inside &#39;else&#39; does not support this):\r\n                            if (!Objects.equals(pkg, enclosingClass.getEnclosingElement()))\r\n                                messager.printMessage(Diagnostic.Kind.ERROR, &quot;Only fields declared in top level classes are supported for CustomValue.&quot;, element);\r\n                            else\r\n                                classToFieldToValueMap.computeIfAbsent(enclosingClass, key -&gt; new LinkedHashMap&lt;&gt;()).put(fieldElement, paramValue);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        \r\n        /*\r\n        Write to output files once at the end (or at least this is the intended behaviour).\r\n        Source: https://stackoverflow.com/a/4146080/6746785\r\n        */\r\n        if (roundEnv.processingOver()) { // &amp;&amp; !roundEnv.errorRaised()) {\r\n            classToFieldToValueMap.forEach((enclosingClass, fieldToValue) -&gt; {\r\n                final PackageElement pkg = elementUtils.getPackageOf(enclosingClass);\r\n                final String enclosingClassSimpleName = enclosingClass.getSimpleName().toString();\r\n                final String newClassQualifiedName = enclosingClass.getQualifiedName().toString() + &quot;Utils&quot;,\r\n                             newClassSimpleName =    enclosingClassSimpleName                     + &quot;Utils&quot;;\r\n                try {\r\n                    final VariableElement[] originatingElements = fieldToValue.keySet().toArray(new VariableElement[fieldToValue.size()]);\r\n                    try (final Writer src = filer.createSourceFile(newClassQualifiedName, originatingElements).openWriter()) { //Use inherited source code encoding.\r\n                        final String pkgQualifiedName = pkg.getQualifiedName().toString();\r\n                        if (!pkgQualifiedName.isEmpty())\r\n                            src.write(&quot;package &quot; + pkgQualifiedName + &quot;;\\n\\n&quot;);\r\n                        src.write(&quot;import annotations.CustomValue;\\n&quot; +\r\n                                  &quot;import java.lang.annotation.Annotation;\\n&quot; +\r\n                                  &quot;import java.lang.reflect.Field;\\n\\n&quot; +\r\n                                  &quot;public class &quot; + newClassSimpleName + &quot; {\\n\\n&quot; +\r\n                                  &quot;    private static Field findFirstAnnotatedDeclaredField(final Class&lt;?&gt; clazz,\\n&quot; +\r\n                                  &quot;                                                         final String name,\\n&quot; +\r\n                                  &quot;                                                         final Class&lt;? extends Annotation&gt; annotationClass) {\\n&quot; +\r\n                                  &quot;        for (Class&lt;?&gt; cur = clazz; cur != null; cur = cur.getSuperclass()) {\\n&quot; +\r\n                                  &quot;            try {\\n&quot; +\r\n                                  &quot;                final Field field = cur.getDeclaredField(name);\\n&quot; +\r\n                                  &quot;                if (field.getAnnotationsByType(annotationClass).length &gt; 0)\\n&quot; +\r\n                                  &quot;                    return field;\\n&quot; +\r\n                                  &quot;            }\\n&quot; +\r\n                                  &quot;            catch (final NoSuchFieldException | SecurityException e) {\\n&quot; +\r\n                                  &quot;            }\\n&quot; +\r\n                                  &quot;        }\\n&quot; +\r\n                                  &quot;        return null;\\n&quot; +\r\n                                  &quot;    }\\n\\n&quot; +\r\n                                  &quot;    private static void suppressedWriteField(final Object object,\\n&quot; +\r\n                                  &quot;                                             final Field field,\\n&quot; +\r\n                                  &quot;                                             final Object value) {\\n&quot; +\r\n                                  &quot;        if (field != null) {\\n&quot; +\r\n                                  &quot;            field.setAccessible(true);\\n&quot; +\r\n                                  &quot;            try {\\n&quot; +\r\n                                  &quot;                field.set(object, value);\\n&quot; +\r\n                                  &quot;            }\\n&quot; +\r\n                                  &quot;            catch (IllegalArgumentException | IllegalAccessException e) {\\n&quot; +\r\n                                  &quot;            }\\n&quot; +\r\n                                  &quot;        }\\n&quot; +\r\n                                  &quot;    }\\n\\n&quot; +\r\n                                  &quot;    private static void defaultSuppressedWriteField(final Object object,\\n&quot; +\r\n                                  &quot;                                                    final String name,\\n&quot; +\r\n                                  &quot;                                                    final String value) {\\n&quot; +\r\n                                  &quot;        suppressedWriteField(object, findFirstAnnotatedDeclaredField(&quot; + enclosingClassSimpleName + &quot;.class, name, CustomValue.class), value);\\n&quot; +\r\n                                  &quot;    }\\n\\n&quot; +\r\n                                  &quot;    public static void setToDefaults(final &quot; + enclosingClassSimpleName + &quot; refTo&quot; + enclosingClassSimpleName + &quot;) {\\n&quot;);\r\n                        \r\n                        //WARNING: f2v.getValue() MUST be escaped to be used as a String literal in the generated code, but for simplicity I assume here it is valid already!\r\n                        for (final Map.Entry&lt;VariableElement, String&gt; f2v: fieldToValue.entrySet())\r\n                            src.write(&quot;        defaultSuppressedWriteField(refTo&quot; + enclosingClassSimpleName + &quot;, \\&quot;&quot; + f2v.getKey().getSimpleName() + &quot;\\&quot;, \\&quot;&quot; + f2v.getValue() + &quot;\\&quot;);\\n&quot;);\r\n                        src.write(&quot;    }\\n&quot; +\r\n                                  &quot;}\\n&quot;);\r\n                    }\r\n                }\r\n                catch (final IOException ioe) {\r\n                    messager.printMessage(Diagnostic.Kind.ERROR, ioe.toString(), enclosingClass);\r\n                    ioe.printStackTrace();\r\n                }\r\n            });\r\n            classToFieldToValueMap.clear();\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nAfter performing sanity checks on each round, the processor maintains all annotated fields and their values in map `classToFieldToValueMap`, in order to generate the source code in the last round.\r\n\r\nNote: I used Java SE version 8 (the code may not support modules if ported to 9+, as well as other stuff possibly). Do not forget to correct the `@SupportedSourceVersion` value *if needed*, in case you port the code to a newer version.\r\n\r\n### Client project code:\r\n\r\n```\r\nimport annotations.CustomValue;\r\n\r\npublic class Person {\r\n    \r\n    @CustomValue(&quot;person.id&quot;)\r\n    private String id;\r\n    \r\n    @CustomValue(&quot;person.name = Random Name&quot;)\r\n    private String name;\r\n    \r\n    @CustomValue(&quot;person.surname = The Surname&quot;)\r\n    private String surname;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; + &quot;id=&quot; + id + &quot;, name=&quot; + name + &quot;, surname=&quot; + surname + &#39;}&#39;;\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        final Person p = new Person();\r\n        System.out.println(p); //Prints null fields.\r\n        PersonUtils.setToDefaults(p); //PersonUtils was generated by the processor in the same package as Person.\r\n        System.out.println(p); //Prints fields with their values assigned by CustomValue.\r\n    }\r\n}\r\n```\r\n\r\n### Alternative limited-solution (without `Processor`):\r\n\r\nIt should be noted that, in this simple scenario, we don&#39;t even need to implement annotation processing. We can use reflection directly at runtime, on its own. We can modify a little the code generated by the above `Processor` with a more generic version which accepts any object and by using reflection detects and assigns `CustomValue` values to the fields of the object (where applicable). In this case one can use the following code (along with the annotation itself) in the *client* project directly:\r\n\r\n```\r\nimport annotations.CustomValue;\r\nimport java.lang.annotation.Annotation;\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class CustomValueUtils {\r\n\r\n    private static List&lt;Field&gt; findAllAnnotatedDeclaredFields(final Class&lt;?&gt; clazz,\r\n                                                              final Class&lt;? extends Annotation&gt; annotationClass) {\r\n        final ArrayList&lt;Field&gt; annotatedFields = new ArrayList&lt;&gt;();\r\n        for (Class&lt;?&gt; cur = clazz; cur != null; cur = cur.getSuperclass()) {\r\n            try {\r\n                for (final Field field: cur.getDeclaredFields())\r\n                    if (field.getAnnotationsByType(annotationClass).length &gt; 0)\r\n                        annotatedFields.add(field);\r\n            }\r\n            catch (final SecurityException e) {\r\n            }\r\n        }\r\n        annotatedFields.trimToSize();\r\n        return Collections.unmodifiableList(annotatedFields);\r\n    }\r\n\r\n    private static void suppressedWriteField(final Object object,\r\n                                             final Field field,\r\n                                             final Object value) {\r\n        if (field != null) {\r\n            field.setAccessible(true);\r\n            try {\r\n                field.set(object, value);\r\n            }\r\n            catch (IllegalArgumentException | IllegalAccessException e) {\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void setToDefaults(final Object object) {\r\n        final Map&lt;String, String&gt; propMap = Collections.singletonMap(&quot;person.id&quot;, &quot;undefined&quot;); //PropertyLoader.parsePropertiesFile();\r\n        findAllAnnotatedDeclaredFields(object.getClass(), CustomValue.class).forEach(field -&gt; {\r\n            final CustomValue customVal = field.getAnnotation(CustomValue.class);\r\n            final String annotationElementValue = customVal.value().trim();\r\n            \r\n            //Check for the specified value&#39;s sanity according to some simple parsing rules:\r\n            if (annotationElementValue.isEmpty() || annotationElementValue.startsWith(&quot;=&quot;))\r\n                throw new IllegalStateException(&quot;Empty parameter identifier for CustomValue2.&quot;);\r\n            \r\n            //Parse with simple rules:\r\n            final String[] param = annotationElementValue.split(&quot;=&quot;, 2);\r\n            final String paramID = param[0].trim(),\r\n                         paramDefaultValue = (param.length &gt; 1)? param[1].trim(): &quot;N/A&quot;;\r\n\r\n            //Find and set value:\r\n            final String paramValue = propMap.getOrDefault(paramID, paramDefaultValue);\r\n            suppressedWriteField(object, field, paramValue);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nand use it as:\r\n\r\n```\r\nimport annotations.CustomValue;\r\n\r\npublic class Person {\r\n    \r\n    @CustomValue(&quot;person.id&quot;)\r\n    private String id;\r\n    \r\n    @CustomValue(&quot;person.name = Random Name&quot;)\r\n    private String name;\r\n    \r\n    @CustomValue(&quot;person.surname = The Surname&quot;)\r\n    private String surname;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; + &quot;id=&quot; + id + &quot;, name=&quot; + name + &quot;, surname=&quot; + surname + &#39;}&#39;;\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        final Person p = new Person();\r\n        System.out.println(p);\r\n        CustomValueUtils.setToDefaults(p); //Can be any Object, but is intended for objects with fields annotated with CustomValue.\r\n        System.out.println(p);\r\n    }\r\n}\r\n```\r\n\r\nNote in each solution I faked `PropertyLoader.parsePropertiesFile();` with `Collections.singletonMap(&quot;person.id&quot;, &quot;undefined&quot;);` for simplicity.\r\n\r\n[1]: https://stackoverflow.com/a/14943661/6746785\r\n","title":"CustomValue Annotation Processing : How can i create a similar annotation of @Value","body":"<h3>Background:</h3>\n<p>As far as I understand you mean Spring Boot's <code>@Value</code> annotation and as far as I read from Spring Boot documentation the elements annotated with <code>@Value</code> are initialized with the <code>@Value</code>'s value at runtime. In this answer, I am also going to address this very limited subset of similar functionality of <code>@Value</code> for your custom annotation.</p>\n<p>In the simple case that I am aware of, annotation processors in Java are not running along with the source code being processed, but instead run at compilation time. That is you cannot have access through the <code>Processor</code> to objects generated at the runtime of the code you annotate. This is the reason you can't access the annotated <code>Field</code> you want at processing time. Another issue is that you are attempting to get a <code>Field</code> of the implementing <code>Class</code> of a <code>TypeElement</code> at processing time, which (as far as I understand) is not what you intend to do. These are the reasons why you get that error. On the other hand, you have access to the source code (being processed) itself through the Java annotation processing API (via <code>javax.lang.model.element.Element</code>s, <code>javax.lang.model.type.TypeMirror</code>s and all related interfaces).</p>\n<p>According to <a href=\"https://stackoverflow.com/a/14943661/6746785\">another post</a>:</p>\n<blockquote>\n<p>standard annotation processing API does <em>not</em> support direct modification of source code</p>\n</blockquote>\n<p>So, in order to go by the standard API, you can generate <em>new</em> code which will make use of the values of a simple <code>CustomValue</code> annotation. This new code will need to be called somehow by your application in order to initialize the annotated fields with their values. For example in Spring Boot you need to call a method for the whole application to begin such as the code in the following snippet:</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n    public static void main(final String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n<p>The control flow of this method takes care of creating and initializing data objects for you (at least as far as my abstract understanding of Spring Boot goes). In a (distantly) similar way and in order to keep things simple, let's create a <code>Processor</code> which will generate the required functionality, but it will be your application's responsibility to call this functionality.</p>\n<h3>Limited-solution outline:</h3>\n<p>You can separate your code in two projects: one for the annotation processor and the annotation itself, and another project with the client code of the annotation. The <em>client</em> project will depend on the <em>annotation processor</em>'s project.</p>\n<h3>Annotation processor project code:</h3>\n<p>The annotation itself can be as you declared it:</p>\n<pre><code>package annotations;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME) //This has to be RUNTIME since we need the value of each CustomValue to exist at runtime.\npublic @interface CustomValue {\n    String value();\n}\n</code></pre>\n<p>while the annotation processor needs changes and for the purpose of this answer is implemented as:</p>\n<pre><code>package annotations;\n\nimport java.io.IOException;\nimport java.io.Writer;\nimport java.util.Collections;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.Set;\nimport javax.annotation.processing.AbstractProcessor;\nimport javax.annotation.processing.Filer;\nimport javax.annotation.processing.Messager;\nimport javax.annotation.processing.RoundEnvironment;\nimport javax.annotation.processing.SupportedAnnotationTypes;\nimport javax.annotation.processing.SupportedSourceVersion;\nimport javax.lang.model.SourceVersion;\nimport javax.lang.model.element.Element;\nimport javax.lang.model.element.ElementKind;\nimport javax.lang.model.element.PackageElement;\nimport javax.lang.model.element.TypeElement;\nimport javax.lang.model.element.VariableElement;\nimport javax.lang.model.util.Elements;\nimport javax.lang.model.util.Types;\nimport javax.tools.Diagnostic;\n\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\n@SupportedAnnotationTypes(&quot;annotations.CustomValue&quot;)\npublic class CustomValueProcessor extends AbstractProcessor {\n    \n    private final Map&lt;String, String&gt; propMap = Collections.singletonMap(&quot;person.id&quot;, &quot;undefined&quot;); //PropertyLoader.parsePropertiesFile();\n    private final Map&lt;TypeElement, Map&lt;VariableElement, String&gt;&gt; classToFieldToValueMap = new LinkedHashMap&lt;&gt;();\n\n    @Override\n    public boolean process(final Set&lt;? extends TypeElement&gt; annotations,\n                           final RoundEnvironment roundEnv) {\n        final Messager messager = processingEnv.getMessager();\n        final Elements elementUtils = processingEnv.getElementUtils();\n        final Types typeUtils = processingEnv.getTypeUtils();\n        final Filer filer = processingEnv.getFiler();\n        annotations.forEach(annotation -&gt; {\n            roundEnv.getElementsAnnotatedWith(annotation).forEach(element -&gt; {\n                /*Checking for &quot;element.getKind() == ElementKind.FIELD&quot; is not really neeeded here\n                as the code currently stands, since the CustomValue only supports FIELDs according\n                to its Target meta-annotation, but let's indeed make the check since in the future\n                we may support more Targets...*/\n                if (element.getKind() == ElementKind.FIELD) {\n                    final VariableElement fieldElement = (VariableElement) element;\n                    final CustomValue annotationElement = element.getAnnotation(CustomValue.class);\n                    final String annotationElementValue = annotationElement.value().trim();\n                    \n                    //Check for proper field declared type (String):\n                    if (!typeUtils.isSameType(element.asType(), elementUtils.getTypeElement(&quot;java.lang.String&quot;).asType()))\n                        messager.printMessage(Diagnostic.Kind.ERROR, &quot;CustomValue annotated fields must be of type String.&quot;, element);\n\n                    //Check for the specified value's sanity according to some simple parsing rules:\n                    else if (annotationElementValue.isEmpty() || annotationElementValue.startsWith(&quot;=&quot;))\n                        messager.printMessage(Diagnostic.Kind.ERROR, &quot;Empty parameter identifier for CustomValue.&quot;, element);\n\n                    else {\n                        //Parse with simple rules:\n                        final String[] param = annotationElementValue.split(&quot;=&quot;, 2);\n                        final String paramID = param[0].trim(),\n                                     paramDefaultValue = (param.length &gt; 1)? param[1].trim(): &quot;N/A&quot;;\n                        \n                        //Find value:\n                        final String paramValue = propMap.getOrDefault(paramID, paramDefaultValue);\n                        final Element enclosingElement = element.getEnclosingElement();\n\n                        //Reject enum constants (or anything else that is not a class, such as records):\n                        if (enclosingElement.getKind() != ElementKind.CLASS)\n                            messager.printMessage(Diagnostic.Kind.ERROR, &quot;Only class fields can be annotated with CustomValue.&quot;, element);\n                        else {\n                            final TypeElement enclosingClass = (TypeElement) enclosingElement;\n                            final PackageElement pkg = elementUtils.getPackageOf(enclosingClass);\n\n                            //Safety belt against inner classes (because, for simplicity, the rest of the code inside 'else' does not support this):\n                            if (!Objects.equals(pkg, enclosingClass.getEnclosingElement()))\n                                messager.printMessage(Diagnostic.Kind.ERROR, &quot;Only fields declared in top level classes are supported for CustomValue.&quot;, element);\n                            else\n                                classToFieldToValueMap.computeIfAbsent(enclosingClass, key -&gt; new LinkedHashMap&lt;&gt;()).put(fieldElement, paramValue);\n                        }\n                    }\n                }\n            });\n        });\n        \n        /*\n        Write to output files once at the end (or at least this is the intended behaviour).\n        Source: https://stackoverflow.com/a/4146080/6746785\n        */\n        if (roundEnv.processingOver()) { // &amp;&amp; !roundEnv.errorRaised()) {\n            classToFieldToValueMap.forEach((enclosingClass, fieldToValue) -&gt; {\n                final PackageElement pkg = elementUtils.getPackageOf(enclosingClass);\n                final String enclosingClassSimpleName = enclosingClass.getSimpleName().toString();\n                final String newClassQualifiedName = enclosingClass.getQualifiedName().toString() + &quot;Utils&quot;,\n                             newClassSimpleName =    enclosingClassSimpleName                     + &quot;Utils&quot;;\n                try {\n                    final VariableElement[] originatingElements = fieldToValue.keySet().toArray(new VariableElement[fieldToValue.size()]);\n                    try (final Writer src = filer.createSourceFile(newClassQualifiedName, originatingElements).openWriter()) { //Use inherited source code encoding.\n                        final String pkgQualifiedName = pkg.getQualifiedName().toString();\n                        if (!pkgQualifiedName.isEmpty())\n                            src.write(&quot;package &quot; + pkgQualifiedName + &quot;;\\n\\n&quot;);\n                        src.write(&quot;import annotations.CustomValue;\\n&quot; +\n                                  &quot;import java.lang.annotation.Annotation;\\n&quot; +\n                                  &quot;import java.lang.reflect.Field;\\n\\n&quot; +\n                                  &quot;public class &quot; + newClassSimpleName + &quot; {\\n\\n&quot; +\n                                  &quot;    private static Field findFirstAnnotatedDeclaredField(final Class&lt;?&gt; clazz,\\n&quot; +\n                                  &quot;                                                         final String name,\\n&quot; +\n                                  &quot;                                                         final Class&lt;? extends Annotation&gt; annotationClass) {\\n&quot; +\n                                  &quot;        for (Class&lt;?&gt; cur = clazz; cur != null; cur = cur.getSuperclass()) {\\n&quot; +\n                                  &quot;            try {\\n&quot; +\n                                  &quot;                final Field field = cur.getDeclaredField(name);\\n&quot; +\n                                  &quot;                if (field.getAnnotationsByType(annotationClass).length &gt; 0)\\n&quot; +\n                                  &quot;                    return field;\\n&quot; +\n                                  &quot;            }\\n&quot; +\n                                  &quot;            catch (final NoSuchFieldException | SecurityException e) {\\n&quot; +\n                                  &quot;            }\\n&quot; +\n                                  &quot;        }\\n&quot; +\n                                  &quot;        return null;\\n&quot; +\n                                  &quot;    }\\n\\n&quot; +\n                                  &quot;    private static void suppressedWriteField(final Object object,\\n&quot; +\n                                  &quot;                                             final Field field,\\n&quot; +\n                                  &quot;                                             final Object value) {\\n&quot; +\n                                  &quot;        if (field != null) {\\n&quot; +\n                                  &quot;            field.setAccessible(true);\\n&quot; +\n                                  &quot;            try {\\n&quot; +\n                                  &quot;                field.set(object, value);\\n&quot; +\n                                  &quot;            }\\n&quot; +\n                                  &quot;            catch (IllegalArgumentException | IllegalAccessException e) {\\n&quot; +\n                                  &quot;            }\\n&quot; +\n                                  &quot;        }\\n&quot; +\n                                  &quot;    }\\n\\n&quot; +\n                                  &quot;    private static void defaultSuppressedWriteField(final Object object,\\n&quot; +\n                                  &quot;                                                    final String name,\\n&quot; +\n                                  &quot;                                                    final String value) {\\n&quot; +\n                                  &quot;        suppressedWriteField(object, findFirstAnnotatedDeclaredField(&quot; + enclosingClassSimpleName + &quot;.class, name, CustomValue.class), value);\\n&quot; +\n                                  &quot;    }\\n\\n&quot; +\n                                  &quot;    public static void setToDefaults(final &quot; + enclosingClassSimpleName + &quot; refTo&quot; + enclosingClassSimpleName + &quot;) {\\n&quot;);\n                        \n                        //WARNING: f2v.getValue() MUST be escaped to be used as a String literal in the generated code, but for simplicity I assume here it is valid already!\n                        for (final Map.Entry&lt;VariableElement, String&gt; f2v: fieldToValue.entrySet())\n                            src.write(&quot;        defaultSuppressedWriteField(refTo&quot; + enclosingClassSimpleName + &quot;, \\&quot;&quot; + f2v.getKey().getSimpleName() + &quot;\\&quot;, \\&quot;&quot; + f2v.getValue() + &quot;\\&quot;);\\n&quot;);\n                        src.write(&quot;    }\\n&quot; +\n                                  &quot;}\\n&quot;);\n                    }\n                }\n                catch (final IOException ioe) {\n                    messager.printMessage(Diagnostic.Kind.ERROR, ioe.toString(), enclosingClass);\n                    ioe.printStackTrace();\n                }\n            });\n            classToFieldToValueMap.clear();\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>After performing sanity checks on each round, the processor maintains all annotated fields and their values in map <code>classToFieldToValueMap</code>, in order to generate the source code in the last round.</p>\n<p>Note: I used Java SE version 8 (the code may not support modules if ported to 9+, as well as other stuff possibly). Do not forget to correct the <code>@SupportedSourceVersion</code> value <em>if needed</em>, in case you port the code to a newer version.</p>\n<h3>Client project code:</h3>\n<pre><code>import annotations.CustomValue;\n\npublic class Person {\n    \n    @CustomValue(&quot;person.id&quot;)\n    private String id;\n    \n    @CustomValue(&quot;person.name = Random Name&quot;)\n    private String name;\n    \n    @CustomValue(&quot;person.surname = The Surname&quot;)\n    private String surname;\n\n    @Override\n    public String toString() {\n        return &quot;Person{&quot; + &quot;id=&quot; + id + &quot;, name=&quot; + name + &quot;, surname=&quot; + surname + '}';\n    }\n    \n    public static void main(final String[] args) {\n        final Person p = new Person();\n        System.out.println(p); //Prints null fields.\n        PersonUtils.setToDefaults(p); //PersonUtils was generated by the processor in the same package as Person.\n        System.out.println(p); //Prints fields with their values assigned by CustomValue.\n    }\n}\n</code></pre>\n<h3>Alternative limited-solution (without <code>Processor</code>):</h3>\n<p>It should be noted that, in this simple scenario, we don't even need to implement annotation processing. We can use reflection directly at runtime, on its own. We can modify a little the code generated by the above <code>Processor</code> with a more generic version which accepts any object and by using reflection detects and assigns <code>CustomValue</code> values to the fields of the object (where applicable). In this case one can use the following code (along with the annotation itself) in the <em>client</em> project directly:</p>\n<pre><code>import annotations.CustomValue;\nimport java.lang.annotation.Annotation;\nimport java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\n\npublic class CustomValueUtils {\n\n    private static List&lt;Field&gt; findAllAnnotatedDeclaredFields(final Class&lt;?&gt; clazz,\n                                                              final Class&lt;? extends Annotation&gt; annotationClass) {\n        final ArrayList&lt;Field&gt; annotatedFields = new ArrayList&lt;&gt;();\n        for (Class&lt;?&gt; cur = clazz; cur != null; cur = cur.getSuperclass()) {\n            try {\n                for (final Field field: cur.getDeclaredFields())\n                    if (field.getAnnotationsByType(annotationClass).length &gt; 0)\n                        annotatedFields.add(field);\n            }\n            catch (final SecurityException e) {\n            }\n        }\n        annotatedFields.trimToSize();\n        return Collections.unmodifiableList(annotatedFields);\n    }\n\n    private static void suppressedWriteField(final Object object,\n                                             final Field field,\n                                             final Object value) {\n        if (field != null) {\n            field.setAccessible(true);\n            try {\n                field.set(object, value);\n            }\n            catch (IllegalArgumentException | IllegalAccessException e) {\n            }\n        }\n    }\n\n    public static void setToDefaults(final Object object) {\n        final Map&lt;String, String&gt; propMap = Collections.singletonMap(&quot;person.id&quot;, &quot;undefined&quot;); //PropertyLoader.parsePropertiesFile();\n        findAllAnnotatedDeclaredFields(object.getClass(), CustomValue.class).forEach(field -&gt; {\n            final CustomValue customVal = field.getAnnotation(CustomValue.class);\n            final String annotationElementValue = customVal.value().trim();\n            \n            //Check for the specified value's sanity according to some simple parsing rules:\n            if (annotationElementValue.isEmpty() || annotationElementValue.startsWith(&quot;=&quot;))\n                throw new IllegalStateException(&quot;Empty parameter identifier for CustomValue2.&quot;);\n            \n            //Parse with simple rules:\n            final String[] param = annotationElementValue.split(&quot;=&quot;, 2);\n            final String paramID = param[0].trim(),\n                         paramDefaultValue = (param.length &gt; 1)? param[1].trim(): &quot;N/A&quot;;\n\n            //Find and set value:\n            final String paramValue = propMap.getOrDefault(paramID, paramDefaultValue);\n            suppressedWriteField(object, field, paramValue);\n        });\n    }\n}\n</code></pre>\n<p>and use it as:</p>\n<pre><code>import annotations.CustomValue;\n\npublic class Person {\n    \n    @CustomValue(&quot;person.id&quot;)\n    private String id;\n    \n    @CustomValue(&quot;person.name = Random Name&quot;)\n    private String name;\n    \n    @CustomValue(&quot;person.surname = The Surname&quot;)\n    private String surname;\n\n    @Override\n    public String toString() {\n        return &quot;Person{&quot; + &quot;id=&quot; + id + &quot;, name=&quot; + name + &quot;, surname=&quot; + surname + '}';\n    }\n    \n    public static void main(final String[] args) {\n        final Person p = new Person();\n        System.out.println(p);\n        CustomValueUtils.setToDefaults(p); //Can be any Object, but is intended for objects with fields annotated with CustomValue.\n        System.out.println(p);\n    }\n}\n</code></pre>\n<p>Note in each solution I faked <code>PropertyLoader.parsePropertiesFile();</code> with <code>Collections.singletonMap(&quot;person.id&quot;, &quot;undefined&quot;);</code> for simplicity.</p>\n"}],"owner":{"account_id":26652423,"reputation":1,"user_id":22428604,"display_name":"med"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694188315,"creation_date":1692701883,"question_id":76952596,"body_markdown":"I have just started using annotation processing and trying to inject the value on the field annotated with my annotation . Since yesterday I am facing this error message: Compilation failure\r\n\r\nI have tried to research and fix but unable to avoid this error here is my `CustomValueProcessor.java` class and  my annotation: \r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CustomValue {\r\n    String value(); // This attribute will hold the property value\r\n}\r\n```\r\n\r\n```\r\nimport com.google.auto.service.AutoService;\r\nimport report.configurations.PropertyLoader;\r\nimport javax.annotation.processing.*;\r\nimport javax.lang.model.SourceVersion;\r\nimport javax.lang.model.element.Element;\r\nimport javax.lang.model.element.ElementKind;\r\nimport javax.lang.model.element.TypeElement;\r\nimport javax.lang.model.element.VariableElement;\r\nimport javax.lang.model.type.TypeMirror;\r\nimport javax.tools.Diagnostic;\r\nimport java.lang.reflect.Field;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n@SupportedAnnotationTypes(&quot;report.annotations.CustomValue&quot;)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\r\n@AutoService(javax.annotation.processing.Processor.class)\r\npublic class CustomValueProcessor extends AbstractProcessor {\r\n    private Messager messager;\r\n    private final Map&lt;String, String&gt; PropMap = PropertyLoader.parsePropertiesFile();\r\n\r\n    @Override\r\n    public synchronized void init(ProcessingEnvironment processingEnv) {\r\n        super.init(processingEnv);\r\n        messager = processingEnv.getMessager();\r\n    }\r\n\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        for (TypeElement annotation : annotations) {\r\n            for (Element element : roundEnv.getElementsAnnotatedWith(annotation)) {\r\n                if (element.getKind() == ElementKind.FIELD) {\r\n                    CustomValue annotationValue = element.getAnnotation(CustomValue.class);\r\n                    String newParaName = annotationValue.value().substring(2, annotationValue.value().length() - 1);\r\n                    String propertyValue = PropMap.get(newParaName);\r\n                    //messager.printMessage(Diagnostic.Kind.ERROR, propertyValue);\r\n                    VariableElement fieldElement = (VariableElement) element;\r\n                    String fieldName = fieldElement.getSimpleName().toString();\r\n                    //messager.printMessage(Diagnostic.Kind.ERROR, fieldName);\r\n                    // Get the class type from the TypeElement\r\n                    TypeElement enclosingClass = (TypeElement) fieldElement.getEnclosingElement();\r\n                    TypeMirror classType = enclosingClass.asType();\r\n                    //messager.printMessage(Diagnostic.Kind.ERROR, classType.toString());\r\n                    // Assuming PdfService is in the same package as enclosingClass\r\n                    Class&lt;?&gt; clazz = enclosingClass.getClass();\r\n                    // Get the field\r\n                    try {\r\n                        Field field = clazz.getDeclaredField(fieldName);\r\n                        //messager.printMessage(Diagnostic.Kind.ERROR,field.toString());\r\n                        field.setAccessible(true);\r\n                        // Set the value of the field\r\n                        field.set(null, propertyValue);  // Pass an object instance instead of null if the field is non-static\r\n                    } catch (NoSuchFieldException | IllegalAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nPlease suggest/advice what I am doing wrong.\r\n ","title":"CustomValue Annotation Processing : How can i create a similar annotation of @Value","body":"<p>I have just started using annotation processing and trying to inject the value on the field annotated with my annotation . Since yesterday I am facing this error message: Compilation failure</p>\n<p>I have tried to research and fix but unable to avoid this error here is my <code>CustomValueProcessor.java</code> class and  my annotation:</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomValue {\n    String value(); // This attribute will hold the property value\n}\n</code></pre>\n<pre><code>import com.google.auto.service.AutoService;\nimport report.configurations.PropertyLoader;\nimport javax.annotation.processing.*;\nimport javax.lang.model.SourceVersion;\nimport javax.lang.model.element.Element;\nimport javax.lang.model.element.ElementKind;\nimport javax.lang.model.element.TypeElement;\nimport javax.lang.model.element.VariableElement;\nimport javax.lang.model.type.TypeMirror;\nimport javax.tools.Diagnostic;\nimport java.lang.reflect.Field;\nimport java.util.Map;\nimport java.util.Set;\n\n@SupportedAnnotationTypes(&quot;report.annotations.CustomValue&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\n@AutoService(javax.annotation.processing.Processor.class)\npublic class CustomValueProcessor extends AbstractProcessor {\n    private Messager messager;\n    private final Map&lt;String, String&gt; PropMap = PropertyLoader.parsePropertiesFile();\n\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnv) {\n        super.init(processingEnv);\n        messager = processingEnv.getMessager();\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for (TypeElement annotation : annotations) {\n            for (Element element : roundEnv.getElementsAnnotatedWith(annotation)) {\n                if (element.getKind() == ElementKind.FIELD) {\n                    CustomValue annotationValue = element.getAnnotation(CustomValue.class);\n                    String newParaName = annotationValue.value().substring(2, annotationValue.value().length() - 1);\n                    String propertyValue = PropMap.get(newParaName);\n                    //messager.printMessage(Diagnostic.Kind.ERROR, propertyValue);\n                    VariableElement fieldElement = (VariableElement) element;\n                    String fieldName = fieldElement.getSimpleName().toString();\n                    //messager.printMessage(Diagnostic.Kind.ERROR, fieldName);\n                    // Get the class type from the TypeElement\n                    TypeElement enclosingClass = (TypeElement) fieldElement.getEnclosingElement();\n                    TypeMirror classType = enclosingClass.asType();\n                    //messager.printMessage(Diagnostic.Kind.ERROR, classType.toString());\n                    // Assuming PdfService is in the same package as enclosingClass\n                    Class&lt;?&gt; clazz = enclosingClass.getClass();\n                    // Get the field\n                    try {\n                        Field field = clazz.getDeclaredField(fieldName);\n                        //messager.printMessage(Diagnostic.Kind.ERROR,field.toString());\n                        field.setAccessible(true);\n                        // Set the value of the field\n                        field.set(null, propertyValue);  // Pass an object instance instead of null if the field is non-static\n                    } catch (NoSuchFieldException | IllegalAccessException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n            return false;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>Please suggest/advice what I am doing wrong.</p>\n"},{"tags":["java","json","eclipse"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1439896062,"post_id":32070402,"comment_id":52038089,"body_markdown":"Where is your attempt at solving this issue? What library are you using?","body":"Where is your attempt at solving this issue? What library are you using?"},{"owner":{"account_id":4455557,"reputation":25,"user_id":3625987,"accept_rate":20,"display_name":"Jesper V"},"score":0,"creation_date":1439896255,"post_id":32070402,"comment_id":52038208,"body_markdown":"I don&#39;t know how to achieve this. I would like to get information on how to do this.\nI am using the spigot jar file","body":"I don&#39;t know how to achieve this. I would like to get information on how to do this. I am using the spigot jar file"},{"owner":{"account_id":5127914,"reputation":1434,"user_id":4109249,"display_name":"XMB5"},"score":0,"creation_date":1484003057,"post_id":32070402,"comment_id":70322172,"body_markdown":"Couldn&#39;t some random person just type in-game /manuadd MySelf Mod?","body":"Couldn&#39;t some random person just type in-game /manuadd MySelf Mod?"}],"answers":[{"tags":[],"owner":{"account_id":20307855,"reputation":21,"user_id":14895655,"display_name":"Willyema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694187626,"creation_date":1694187626,"answer_id":77068235,"question_id":32070402,"body_markdown":"To read the JSON data I suggest using a library like google&#39;s [Gson][1] or [SimplixStorage][2] and if you use simplix you can do something like this\r\n\r\n```\r\npublic Json getJsonFromURL(URL url, String name, String path){\r\n        Json json;\r\n        try (InputStream input = url.openStream()) {\r\n            json = new Json(name, path, input);\r\n            return json;\r\n        } catch (Exception e){\r\n            //Exceprion handling\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://github.com/Simplix-Softworks/SimplixStorage","title":"Minecraft plugin read JSON data","body":"<p>To read the JSON data I suggest using a library like google's <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> or <a href=\"https://github.com/Simplix-Softworks/SimplixStorage\" rel=\"nofollow noreferrer\">SimplixStorage</a> and if you use simplix you can do something like this</p>\n<pre><code>public Json getJsonFromURL(URL url, String name, String path){\n        Json json;\n        try (InputStream input = url.openStream()) {\n            json = new Json(name, path, input);\n            return json;\n        } catch (Exception e){\n            //Exceprion handling\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":4455557,"reputation":25,"user_id":3625987,"accept_rate":20,"display_name":"Jesper V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694187626,"creation_date":1439895186,"question_id":32070402,"body_markdown":"I would like to create my own Minecraft plugin.\r\n\r\n**Problem:** Moderators must type in this command:\r\n\r\n    /mod login {KEY-FROM-JSONFILE}\r\n\r\nAnd if the *playername* and the *key* that they gave are correct, the Console must execute the following command:\r\n\r\n    /manuadd {playername} Mod\r\n\r\nThe *key* and the *playername* are generated on the website stored in the JSON file.\r\n\r\nHow can I achieve this?","title":"Minecraft plugin read JSON data","body":"<p>I would like to create my own Minecraft plugin.</p>\n\n<p><strong>Problem:</strong> Moderators must type in this command:</p>\n\n<pre><code>/mod login {KEY-FROM-JSONFILE}\n</code></pre>\n\n<p>And if the <em>playername</em> and the <em>key</em> that they gave are correct, the Console must execute the following command:</p>\n\n<pre><code>/manuadd {playername} Mod\n</code></pre>\n\n<p>The <em>key</em> and the <em>playername</em> are generated on the website stored in the JSON file.</p>\n\n<p>How can I achieve this?</p>\n"},{"tags":["java","ide"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":3,"creation_date":1496750216,"post_id":44389329,"comment_id":75778289,"body_markdown":"How would you chain getters?","body":"How would you chain getters?"},{"owner":{"account_id":7121220,"reputation":2067,"user_id":5445792,"accept_rate":47,"display_name":"Will"},"score":0,"creation_date":1496750487,"post_id":44389329,"comment_id":75778456,"body_markdown":"My bad, edited.","body":"My bad, edited."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1496750509,"post_id":44389329,"comment_id":75778470,"body_markdown":"@OliverCharlesworth You just blew my mind. But getters should probably not be chained (as they would serve no purpose otherwise).","body":"@OliverCharlesworth You just blew my mind. But getters should probably not be chained (as they would serve no purpose otherwise)."},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1496750697,"post_id":44389329,"comment_id":75778598,"body_markdown":"FWIW, you should look into [Immutables](https://immutables.github.io/).","body":"FWIW, you should look into <a href=\"https://immutables.github.io/\" rel=\"nofollow noreferrer\">Immutables</a>."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1496751079,"post_id":44389329,"comment_id":75778867,"body_markdown":"@OliverCharlesworth while immutable DTOs/ValueObject are a very good idea *fluent API* on Builders is not that bad... ;o)","body":"@OliverCharlesworth while immutable DTOs/ValueObject are a very good idea <i>fluent API</i> on Builders is not that bad... ;o)"},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1496751274,"post_id":44389329,"comment_id":75779014,"body_markdown":"@TimothyTruckle - Yeah, in this case, the fact that Immutables are immutable is less interesting than the fact that they give give you an autogenerated fluent builder API.","body":"@TimothyTruckle - Yeah, in this case, the fact that Immutables are immutable is less interesting than the fact that they give give you an autogenerated fluent builder API."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496750508,"creation_date":1496750508,"answer_id":44389499,"question_id":44389329,"body_markdown":"It&#39;s generally called &quot;fluent&quot; setters. There is [a plugin for Netbeans][1] that does it automatically for you. I&#39;m pretty sure you can find something equivalent in eclipse or IntelliJ.\r\n\r\n [1]: http://plugins.netbeans.org/plugin/55184/constants-fluent-setters-and-builder-generator","title":"Generate chained setters","body":"<p>It's generally called \"fluent\" setters. There is <a href=\"http://plugins.netbeans.org/plugin/55184/constants-fluent-setters-and-builder-generator\" rel=\"nofollow noreferrer\">a plugin for Netbeans</a> that does it automatically for you. I'm pretty sure you can find something equivalent in eclipse or IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":5792819,"reputation":2513,"user_id":4569624,"display_name":"Vitaliy Moskalyuk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1496751529,"creation_date":1496750641,"answer_id":44389541,"question_id":44389329,"body_markdown":"It&#39;s possible in `IntelliJ IDEA`: \r\n\r\n&gt; 1. call &quot;Generate &gt; Setter&quot; menu\r\n&gt; 2. select template &quot;Builder&quot;. \r\n&gt; 3. Select all fields you want to generate setter\r\n&gt; 4. click &#39;Ok&#39;.\r\n\r\nHere is generated result (for 1 field):\r\n\r\n    public MyClass setParam(String param) {\r\n            this.param = param;\r\n            return this;\r\n        }\r\n\r\nIt&#39;s also possible to create your own template there) \r\n","title":"Generate chained setters","body":"<p>It's possible in <code>IntelliJ IDEA</code>: </p>\n\n<blockquote>\n  <ol>\n  <li>call \"Generate > Setter\" menu</li>\n  <li>select template \"Builder\". </li>\n  <li>Select all fields you want to generate setter</li>\n  <li>click 'Ok'.</li>\n  </ol>\n</blockquote>\n\n<p>Here is generated result (for 1 field):</p>\n\n<pre><code>public MyClass setParam(String param) {\n        this.param = param;\n        return this;\n    }\n</code></pre>\n\n<p>It's also possible to create your own template there) </p>\n"},{"tags":[],"owner":{"account_id":305166,"reputation":434,"user_id":2651871,"accept_rate":33,"display_name":"Amber Kulkarni"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1496752273,"creation_date":1496750797,"answer_id":44389592,"question_id":44389329,"body_markdown":"You can try lombok\r\n\r\nlombok.accessors.chain = [true | false] (default: false)\r\n\r\nIf set to true, generated setters will return this (instead of void). An explicitly configured chain parameter of an @Accessors annotation takes precedence over this setting.\r\n\r\nIs this what you want ?\r\nhttps://projectlombok.org/features/GetterSetter.html\r\n\r\n    @Accessors(chain = true)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor(access=AccessLevel.PRIVATE)\r\n    \r\n    public class LombokTest {\r\n        private String test;\r\n\r\n        public static void main(String []args) {\r\n            LombokTest a = new LombokTest();\r\n            System.out.println(a.setTest(&quot;amber&quot;).getTest());\r\n        }\r\n    }\r\n\r\n\r\n","title":"Generate chained setters","body":"<p>You can try lombok</p>\n\n<p>lombok.accessors.chain = [true | false] (default: false)</p>\n\n<p>If set to true, generated setters will return this (instead of void). An explicitly configured chain parameter of an @Accessors annotation takes precedence over this setting.</p>\n\n<p>Is this what you want ?\n<a href=\"https://projectlombok.org/features/GetterSetter.html\" rel=\"noreferrer\">https://projectlombok.org/features/GetterSetter.html</a></p>\n\n<pre><code>@Accessors(chain = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor(access=AccessLevel.PRIVATE)\n\npublic class LombokTest {\n    private String test;\n\n    public static void main(String []args) {\n        LombokTest a = new LombokTest();\n        System.out.println(a.setTest(\"amber\").getTest());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7121220,"reputation":2067,"user_id":5445792,"accept_rate":47,"display_name":"Will"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3509,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1694187596,"creation_date":1496749995,"question_id":44389329,"body_markdown":"I want to create a big Java object with 20 fields, most IDEs provide a generate function, which allows me to generate getters and setters for all the fields of my object.\r\n\r\nThe thing is, I am a big fan of [method chaining][1] and I am using it on all my objects, but I have to add `return this` at the end of each `setters`, which is not very handy.\r\n\r\nIs it possible to generate setters with a special plugin form an IDE?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21180269/how-to-achieve-method-chaining-in-java","title":"Generate chained setters","body":"<p>I want to create a big Java object with 20 fields, most IDEs provide a generate function, which allows me to generate getters and setters for all the fields of my object.</p>\n<p>The thing is, I am a big fan of <a href=\"https://stackoverflow.com/questions/21180269/how-to-achieve-method-chaining-in-java\">method chaining</a> and I am using it on all my objects, but I have to add <code>return this</code> at the end of each <code>setters</code>, which is not very handy.</p>\n<p>Is it possible to generate setters with a special plugin form an IDE?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1694185958,"post_id":77067975,"comment_id":135862600,"body_markdown":"That&#39;s because you&#39;ve included the properties file *itself* in the classpath. There&#39;s no such thing as a file being part of a classpath, *unless* that file happens to be a jar. You need the *directory that contains the properties file* in the classpath, not the file itself. So: `-cp &quot;.:$directory/jar/myJar.jar:$directory/config&quot;`","body":"That&#39;s because you&#39;ve included the properties file <i>itself</i> in the classpath. There&#39;s no such thing as a file being part of a classpath, <i>unless</i> that file happens to be a jar. You need the <i>directory that contains the properties file</i> in the classpath, not the file itself. So: <code>-cp &quot;.:$directory&#47;jar&#47;myJar.jar:$directory&#47;config&quot;</code>"},{"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1694186300,"post_id":77067975,"comment_id":135862674,"body_markdown":"same error, and also you can directly include files using -cp.","body":"same error, and also you can directly include files using -cp."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694186613,"post_id":77067975,"comment_id":135862745,"body_markdown":"Can you please show *literally* what you&#39;re running instead of using placeholders","body":"Can you please show <i>literally</i> what you&#39;re running instead of using placeholders"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1694186784,"post_id":77067975,"comment_id":135862777,"body_markdown":"The `.` means current folder. That&#39;s the only thing that&#39;s currently working. I would try putting an `echo` in front of the `java` command. Make sure it&#39;s expanding as you expect.","body":"The <code>.</code> means current folder. That&#39;s the only thing that&#39;s currently working. I would try putting an <code>echo</code> in front of the <code>java</code> command. Make sure it&#39;s expanding as you expect."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694187053,"post_id":77067975,"comment_id":135862821,"body_markdown":"That&#39;s a good plan","body":"That&#39;s a good plan"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694187116,"post_id":77067975,"comment_id":135862836,"body_markdown":"@g00se Technically it doesn&#39;t have to be a JAR file, any ZIP file should do.","body":"@g00se Technically it doesn&#39;t have to be a JAR file, any ZIP file should do."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1694187211,"post_id":77067975,"comment_id":135862851,"body_markdown":"As g00se says, you cannot just include non-JAR/ZIP files in the classpath. You can only specify directories or archives containing class and other files. The fact it works if you move it into the current directory is because with `.` you added the file on the classpath (and *before* the JAR, generally the classpath is evaluated in the specified order, though I don&#39;t believe that is actually guaranteed).","body":"As g00se says, you cannot just include non-JAR/ZIP files in the classpath. You can only specify directories or archives containing class and other files. The fact it works if you move it into the current directory is because with <code>.</code> you added the file on the classpath (and <i>before</i> the JAR, generally the classpath is evaluated in the specified order, though I don&#39;t believe that is actually guaranteed)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694187224,"post_id":77067975,"comment_id":135862855,"body_markdown":"*.. any ZIP file should do ..* that could be the case. Not sure if that&#39;s *always* been the case though `-D&quot;spring.messages.basename=$directory/config&quot;` might also work *if* it&#39;s expanding properly","body":"<i>.. any ZIP file should do ..</i> that could be the case. Not sure if that&#39;s <i>always</i> been the case though <code>-D&quot;spring.messages.basename=$directory&#47;config&quot;</code> might also work <i>if</i> it&#39;s expanding properly"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694187498,"post_id":77067975,"comment_id":135862915,"body_markdown":"@g00se I think that worked from the start. In the past, I have seen some applications and libraries distributed with the JAR actually having a `.zip` suffix, and putting those on the classpath worked. In any case, assuming your suggestion is correct, I think it should be `&quot;-Dspring.messages.basename=$directory/config&quot;` (quotes around the entire option), to avoid issues with commandline parsers.","body":"@g00se I think that worked from the start. In the past, I have seen some applications and libraries distributed with the JAR actually having a <code>.zip</code> suffix, and putting those on the classpath worked. In any case, assuming your suggestion is correct, I think it should be <code>&quot;-Dspring.messages.basename=$directory&#47;config&quot;</code> (quotes around the entire option), to avoid issues with commandline parsers."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694187625,"post_id":77067975,"comment_id":135862939,"body_markdown":"Yes, I think your version is better","body":"Yes, I think your version is better"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694187484,"creation_date":1694187484,"answer_id":77068220,"question_id":77067975,"body_markdown":"The classpath is a list Java archives or directories that contain &quot;exploded&quot; archives. You can&#39;t add arbitrary files.\r\n\r\nThe first example doesn&#39;t work because the directory that contains `myService.properties` is not on the classpath. (`$directory/config/myService.properties` doesn&#39;t count; it&#39;s not a directory.)\r\n\r\nThe second example works because the directory that contains the file is in the classpath before the other copy (`.`, the current working directory).","title":"java -cp option doesn&#39;t work if files are not in current directory","body":"<p>The classpath is a list Java archives or directories that contain &quot;exploded&quot; archives. You can't add arbitrary files.</p>\n<p>The first example doesn't work because the directory that contains <code>myService.properties</code> is not on the classpath. (<code>$directory/config/myService.properties</code> doesn't count; it's not a directory.)</p>\n<p>The second example works because the directory that contains the file is in the classpath before the other copy (<code>.</code>, the current working directory).</p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1694251041,"answer_count":1,"score":1,"last_activity_date":1694187484,"creation_date":1694185380,"question_id":77067975,"body_markdown":"I have a Spring Boot app which contains `myService.properties` file in resource folder (so it&#39;s copied into the classpath). This property files has all the properties empty. I have JAR file generated. I want to overwrite the properties, so I created my own `myService.properties` file. I run it from command line:\r\n\r\n     directory=$HOME/apps/myApp/files\r\n    \r\n     java &lt;VM ptions&gt;\r\n          -cp &quot;.:$directory/jar/myJar.jar:$directory/config/myService.properties&quot; \\\r\n          -Dloader.main=&lt;Path to main class&gt; org.springframework.boot.loader.PropertiesLauncher\r\n\r\nWhen I run this, the app complains that properties in `myService.properties` are empty (thus the original property file is considered).\r\n\r\nHowever, when I copy the properties file to current directory and call it using:\r\n\r\n     directory=$HOME/apps/myApp/files\r\n    \r\n     java &lt;VM ptions&gt;\r\n          -cp &quot;.:$directory/jar/myJar.jar:myService.properties&quot; \\\r\n          -Dloader.main=&lt;Path to main class&gt; org.springframework.boot.loader.PropertiesLauncher\r\n\r\nEverything works as it should. Why doesn&#39;t the `-cp` option load files that are not in current directory?\r\n\r\nDoes it mean that the classpath contains `myService.properties` contained in my JAR file but also `myService.properties` that I include in the classpath, however with whole path, e.g.\r\n\r\n`$HOME/apps/myApp/files/config/myService.properties` and when the app look for the config file it first finds the `myService.properties` included in JAR file and not the one I include in classpath? \r\n\r\nIf so is the only way to fix this to exclude `myService.properties` from JAR file or just have `myService.properties` in current directory?\r\n\r\n","title":"java -cp option doesn&#39;t work if files are not in current directory","body":"<p>I have a Spring Boot app which contains <code>myService.properties</code> file in resource folder (so it's copied into the classpath). This property files has all the properties empty. I have JAR file generated. I want to overwrite the properties, so I created my own <code>myService.properties</code> file. I run it from command line:</p>\n<pre><code> directory=$HOME/apps/myApp/files\n\n java &lt;VM ptions&gt;\n      -cp &quot;.:$directory/jar/myJar.jar:$directory/config/myService.properties&quot; \\\n      -Dloader.main=&lt;Path to main class&gt; org.springframework.boot.loader.PropertiesLauncher\n</code></pre>\n<p>When I run this, the app complains that properties in <code>myService.properties</code> are empty (thus the original property file is considered).</p>\n<p>However, when I copy the properties file to current directory and call it using:</p>\n<pre><code> directory=$HOME/apps/myApp/files\n\n java &lt;VM ptions&gt;\n      -cp &quot;.:$directory/jar/myJar.jar:myService.properties&quot; \\\n      -Dloader.main=&lt;Path to main class&gt; org.springframework.boot.loader.PropertiesLauncher\n</code></pre>\n<p>Everything works as it should. Why doesn't the <code>-cp</code> option load files that are not in current directory?</p>\n<p>Does it mean that the classpath contains <code>myService.properties</code> contained in my JAR file but also <code>myService.properties</code> that I include in the classpath, however with whole path, e.g.</p>\n<p><code>$HOME/apps/myApp/files/config/myService.properties</code> and when the app look for the config file it first finds the <code>myService.properties</code> included in JAR file and not the one I include in classpath?</p>\n<p>If so is the only way to fix this to exclude <code>myService.properties</code> from JAR file or just have <code>myService.properties</code> in current directory?</p>\n"},{"tags":["java","spring","project-reactor"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1600121722,"post_id":63892414,"comment_id":112982795,"body_markdown":"Your question, at its core is &quot;how do I use Mono&lt;Void&gt; and zip the results?&quot;, so why didn&#39;t you ask that and show an example? I suspect you already know the answer to this question. The key is in the word &quot;dummy&quot;. If you have to use some dummy type, you probably went wrong somewhere.","body":"Your question, at its core is &quot;how do I use Mono&lt;Void&gt; and zip the results?&quot;, so why didn&#39;t you ask that and show an example? I suspect you already know the answer to this question. The key is in the word &quot;dummy&quot;. If you have to use some dummy type, you probably went wrong somewhere."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1600122196,"post_id":63892414,"comment_id":112982908,"body_markdown":"If you only need to signal completion or error, `Mono&lt;Void&gt;` is the appropriate type. `Mono&lt;Boolean&gt;` would confuse anyone trying to read the code.","body":"If you only need to signal completion or error, <code>Mono&lt;Void&gt;</code> is the appropriate type. <code>Mono&lt;Boolean&gt;</code> would confuse anyone trying to read the code."}],"answers":[{"tags":[],"owner":{"account_id":4436369,"reputation":992,"user_id":3612124,"accept_rate":50,"display_name":"Istv&#225;n B&#233;k&#233;si"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694186433,"creation_date":1694186433,"answer_id":77068091,"question_id":63892414,"body_markdown":"&gt; when I went to use Mono.zip to combine the results that didn&#39;t work\r\n\r\nThat is because you cannot zip something to nothing, the resulting mono will be empty.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KU757.png\r\n\r\nInstead, you can use (1) `Flux.merge` and call `next` to convert the Flux to a Mono or (2) or let mono void to complete then play the other.\r\n\r\n        Mono&lt;Void&gt; monoVoid = Mono.empty();\r\n        Mono&lt;Object&gt; monoSomething = Mono.just(&quot;something&quot;);\r\n\r\n        StepVerifier.create(Mono.zip(monoVoid, monoSomething))\r\n            .expectNextCount(0)     // Note: zip results in empty mono\r\n            .expectComplete()\r\n            .verify();\r\n\r\n        // Alternative #1\r\n        StepVerifier.create(Flux.merge(monoVoid, monoSomething).next())\r\n            .expectNext(&quot;something&quot;)\r\n            .expectComplete()\r\n            .verify();\r\n\r\n        // Alternative #2\r\n        StepVerifier.create(monoVoid.then(monoSomething))\r\n            .expectNext(&quot;something&quot;)\r\n            .expectComplete()\r\n            .verify();","title":"Reactor: Use Mono&lt;Void&gt; or a dummy type like Mono&lt;Boolean&gt;","body":"<blockquote>\n<p>when I went to use Mono.zip to combine the results that didn't work</p>\n</blockquote>\n<p>That is because you cannot zip something to nothing, the resulting mono will be empty.</p>\n<p><a href=\"https://i.stack.imgur.com/KU757.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KU757.png\" alt=\"enter image description here\" /></a></p>\n<p>Instead, you can use (1) <code>Flux.merge</code> and call <code>next</code> to convert the Flux to a Mono or (2) or let mono void to complete then play the other.</p>\n<pre><code>    Mono&lt;Void&gt; monoVoid = Mono.empty();\n    Mono&lt;Object&gt; monoSomething = Mono.just(&quot;something&quot;);\n\n    StepVerifier.create(Mono.zip(monoVoid, monoSomething))\n        .expectNextCount(0)     // Note: zip results in empty mono\n        .expectComplete()\n        .verify();\n\n    // Alternative #1\n    StepVerifier.create(Flux.merge(monoVoid, monoSomething).next())\n        .expectNext(&quot;something&quot;)\n        .expectComplete()\n        .verify();\n\n    // Alternative #2\n    StepVerifier.create(monoVoid.then(monoSomething))\n        .expectNext(&quot;something&quot;)\n        .expectComplete()\n        .verify();\n</code></pre>\n"}],"owner":{"account_id":6923065,"reputation":203,"user_id":12103979,"display_name":"Phyzz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694186433,"creation_date":1600121386,"question_id":63892414,"body_markdown":"I&#39;ve got a REST service written in Java using Spring and associated libraries including Reactor, using Mono to wrap expensive operations.\r\n\r\nI am refactoring DB related code with the usual CRUD methods. I&#39;ve come across examples with a return type of `Mono&lt;Void&gt;`, which to me would make sense for methods where one only cares about success or failure. For my use case things like update or especially delete a database entry.\r\n\r\nIn actuality I&#39;ve been hitting all sorts of friction in trying to use `Mono&lt;Void&gt;` which came to a head for me when I had an area where I had two methods that could be done in parallel, one of which was returning `Mono&lt;Void&gt;`, and when I went to use `Mono.zip` to combine the results that didn&#39;t work. And I couldn&#39;t find any method to combine them, maintain the parallelism, and use `Mono&lt;Void&gt;`. What does work is mapping the `Mono&lt;Void&gt;` to something like `Mono&lt;Boolean&gt;` with a dummy `Boolean.TRUE`.\r\n\r\nSo at this point I am wondering what the best practice is when the method doesn&#39;t have a real return type, just indicate success or error. Should I be trying to use `Mono&lt;Void&gt;` with some techniques I am missing or just use a dummy type like `Mono&lt;Boolean&gt;`?","title":"Reactor: Use Mono&lt;Void&gt; or a dummy type like Mono&lt;Boolean&gt;","body":"<p>I've got a REST service written in Java using Spring and associated libraries including Reactor, using Mono to wrap expensive operations.</p>\n<p>I am refactoring DB related code with the usual CRUD methods. I've come across examples with a return type of <code>Mono&lt;Void&gt;</code>, which to me would make sense for methods where one only cares about success or failure. For my use case things like update or especially delete a database entry.</p>\n<p>In actuality I've been hitting all sorts of friction in trying to use <code>Mono&lt;Void&gt;</code> which came to a head for me when I had an area where I had two methods that could be done in parallel, one of which was returning <code>Mono&lt;Void&gt;</code>, and when I went to use <code>Mono.zip</code> to combine the results that didn't work. And I couldn't find any method to combine them, maintain the parallelism, and use <code>Mono&lt;Void&gt;</code>. What does work is mapping the <code>Mono&lt;Void&gt;</code> to something like <code>Mono&lt;Boolean&gt;</code> with a dummy <code>Boolean.TRUE</code>.</p>\n<p>So at this point I am wondering what the best practice is when the method doesn't have a real return type, just indicate success or error. Should I be trying to use <code>Mono&lt;Void&gt;</code> with some techniques I am missing or just use a dummy type like <code>Mono&lt;Boolean&gt;</code>?</p>\n"},{"tags":["java","unit-testing","reflection","mockito","hive-udf"],"answers":[{"tags":[],"owner":{"account_id":4692849,"reputation":127,"user_id":3798531,"accept_rate":75,"display_name":"nambastha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694186397,"creation_date":1694158424,"answer_id":77064969,"question_id":77057537,"body_markdown":"After some research, I found a working solution to the above question. \r\n\r\n\r\nBelow is the working solution:\r\n\r\n\r\n\r\n    public class ReverseStringTest {\r\n    \r\n        @Test\r\n        public void testSimpleString() throws Exception {\r\n    \r\n            ReverseString reverseString = org.mockito.Mockito.spy(ReverseString.class);\r\n    \r\n            ObjectInspector[] arg0 = new ObjectInspector[] {PrimitiveObjectInspectorFactory.javaStringObjectInspector,\r\n                    PrimitiveObjectInspectorFactory.javaStringObjectInspector} ;\r\n    \r\n            when(reverseString.init(arg0)).thenReturn(PrimitiveObjectInspectorFactory.javaStringObjectInspector);\r\n            reverseString.initialize(arg0);\r\n    \r\n            Text text = new Text(&quot;Ans&quot;);\r\n            GenericUDF.DeferredObject[] deferredObjects = { new GenericUDF.DeferredJavaObject(text) };\r\n            when(reverseString.reverse(&quot;Ans&quot;)).thenReturn(testcase());\r\n    \r\n            Object result = reverseString.evaluate(deferredObjects);\r\n            System.out.println(result);\r\n            Assertions.assertEquals(new Text(&quot;snA&quot;),result);\r\n    \r\n        }\r\n    \r\n        public Object testcase() {\r\n            return new Text(&quot;snA&quot;) ;\r\n    \r\n        }\r\n\r\nInstead of &#39;mock&#39;, we can use &#39;spy&#39; where part of the object will be mocked and part will use real method invocation (This helps to improve your code coverage as well if you want to consider that).\r\n\r\nYou can refer below link to understand more about Mockito &#39;mock&#39; and &#39;spy&#39;.\r\n\r\nhttps://stackoverflow.com/questions/28295625/mockito-spy-vs-mock\r\n\r\nSince we have extended `GenericUDF`, and Hive implementation calls `initialize` method first, it is important to mock the arguments passed correctly before making a call to `evaluate`.\r\n\r\n","title":"Unit Test Cases for Hive Custom UDFs by mocking Java Reflection calls","body":"<p>After some research, I found a working solution to the above question.</p>\n<p>Below is the working solution:</p>\n<pre><code>public class ReverseStringTest {\n\n    @Test\n    public void testSimpleString() throws Exception {\n\n        ReverseString reverseString = org.mockito.Mockito.spy(ReverseString.class);\n\n        ObjectInspector[] arg0 = new ObjectInspector[] {PrimitiveObjectInspectorFactory.javaStringObjectInspector,\n                PrimitiveObjectInspectorFactory.javaStringObjectInspector} ;\n\n        when(reverseString.init(arg0)).thenReturn(PrimitiveObjectInspectorFactory.javaStringObjectInspector);\n        reverseString.initialize(arg0);\n\n        Text text = new Text(&quot;Ans&quot;);\n        GenericUDF.DeferredObject[] deferredObjects = { new GenericUDF.DeferredJavaObject(text) };\n        when(reverseString.reverse(&quot;Ans&quot;)).thenReturn(testcase());\n\n        Object result = reverseString.evaluate(deferredObjects);\n        System.out.println(result);\n        Assertions.assertEquals(new Text(&quot;snA&quot;),result);\n\n    }\n\n    public Object testcase() {\n        return new Text(&quot;snA&quot;) ;\n\n    }\n</code></pre>\n<p>Instead of 'mock', we can use 'spy' where part of the object will be mocked and part will use real method invocation (This helps to improve your code coverage as well if you want to consider that).</p>\n<p>You can refer below link to understand more about Mockito 'mock' and 'spy'.</p>\n<p><a href=\"https://stackoverflow.com/questions/28295625/mockito-spy-vs-mock\">Mockito - @Spy vs @Mock</a></p>\n<p>Since we have extended <code>GenericUDF</code>, and Hive implementation calls <code>initialize</code> method first, it is important to mock the arguments passed correctly before making a call to <code>evaluate</code>.</p>\n"}],"owner":{"account_id":4692849,"reputation":127,"user_id":3798531,"accept_rate":75,"display_name":"nambastha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77064969,"answer_count":1,"score":0,"last_activity_date":1694186397,"creation_date":1694072515,"question_id":77057537,"body_markdown":"I have a requirement where I need to develop Hive Custom UDFs that uses Java reflection API to make calls to external classes. \r\n\r\nSince I&#39;m new to Java Reflection, I have dedicated some time learning it and was able to do a basic implementation.\r\n\r\nBut I&#39;m facing issues while writing unit test cases for this implementation as I&#39;m facing some challenges in mocking Reflection APIs. \r\n\r\n\r\n\r\nBelow is the example for Hive Custom UDF.\r\n\r\n&gt; ReverseString.java\r\n\r\n```\r\n\r\npublic class ReverseString extends GenericUDF {\r\n\r\n    private StringObjectInspector input;\r\n    Class&lt;?&gt; c = null;\r\n    Object ob = null;\r\n\r\n\r\n    @Override\r\n    public ObjectInspector initialize(ObjectInspector[] arg0) throws UDFArgumentException {\r\n\r\n        // create an ObjectInspector for the input\r\n        ObjectInspector input = arg0[0];\r\n\r\n        // check to make sure the input is a string\r\n        if (!(input instanceof StringObjectInspector)) {\r\n            throw new UDFArgumentException(&quot;input must be a string&quot;);\r\n        }\r\n\r\n\r\n        this.input = (StringObjectInspector) input;\r\n        System.out.println(&quot;Success. Input formatted correctly&quot;);\r\n\r\n        return init(arg0);\r\n    }\r\n\r\n    public ObjectInspector init(ObjectInspector[] arg0) throws UDFArgumentException {\r\n\r\n        try {\r\n            c = Class.forName(&quot;com.hive.inherit.DummyUdf&quot;);\r\n            ob = c.getConstructor().newInstance();\r\n            Method method = c.getMethod(&quot;print&quot;,String.class);\r\n            String res = (String) method.invoke(ob,&quot;TEst&quot;);\r\n            System.out.println(&quot;RES: &quot;+res);\r\n\r\n        } catch (NoSuchMethodException | ClassNotFoundException | IllegalAccessException | InvocationTargetException | InstantiationException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return PrimitiveObjectInspectorFactory.javaStringObjectInspector;\r\n    }\r\n\r\n\r\n    @Override\r\n    public Object evaluate(DeferredObject[] arg0) throws HiveException {\r\n\r\n        if (input == null || arg0.length != 1 || arg0[0].get() == null) {\r\n            return null;\r\n        }\r\n        String forwards = input.getPrimitiveJavaObject(arg0[0].get());\r\n        System.out.println(&quot;forwards:&quot;+forwards);\r\n\r\n        return reverse(forwards);\r\n    }\r\n\r\n\r\n    public  Object reverse(String in) {\r\n        Object res = null ;\r\n        try {\r\n            if (this.c != null &amp;&amp; this.ob != null) {\r\n                Method method = this.c.getMethod(&quot;reverse&quot;, String.class);\r\n                res = (String) method.invoke(this.ob, in);\r\n            }else{\r\n                c = Class.forName(&quot;com.hive.inherit.DummyUdf&quot;);\r\n                ob = c.getConstructor().newInstance();\r\n                Method method = c.getMethod(&quot;reverse&quot;, String.class);\r\n                res = method.invoke(ob, in);\r\n            }\r\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException | ClassNotFoundException | InstantiationException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return res;\r\n    }\r\n\r\n    @Override\r\n    public String getDisplayString(String[] strings) {\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nBelow is the class that is being called by Reflection.\r\n \r\n&gt; DummyUdf.java\r\n\r\n```\r\npackage com.hive.inherit;\r\n\r\npublic class DummyUdf {\r\n    \r\n\r\n    public DummyUdf(){\r\n        System.out.println(&quot;DummyUdf&quot;);\r\n    }\r\n\r\n    public String print(String str){\r\n        System.out.println(&quot;DummyUdf-str:&quot;+str);\r\n        return str;\r\n    }\r\n\r\n    public String reverse(String in) {\r\n\r\n        int l = in.length();\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; l; i++) {\r\n            sb.append(in.charAt(l - i - 1));\r\n        }\r\n        return sb.toString();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe unit test cases that I&#39;m trying to implement, \r\n\r\n&gt; ReverseStringTest.class\r\n```\r\n\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ReverseStringTest {\r\n\r\n    @Test\r\n    public void testSimpleString() throws HiveException {\r\n\r\n        //ReverseString r = Mockito.spy(new ReverseString());\r\n        ReverseString r = mock(ReverseString.class);\r\n        ObjectInspector input = PrimitiveObjectInspectorFactory.javaStringObjectInspector;\r\n        when(r.init(Mockito.any())).thenReturn(input);\r\n        JavaStringObjectInspector resultInspector = (JavaStringObjectInspector) r.initialize(\r\n                new ObjectInspector[] { input });\r\n        Text forwards = new Text(&quot;hello&quot;);\r\n        when(r.reverse(Mockito.any())).thenReturn(&quot;olleh&quot;);\r\n        Object result = r.evaluate(new GenericUDF.DeferredObject[] { new GenericUDF.DeferredJavaObject(forwards) });\r\n        System.out.println(result);\r\n        assertEquals(&quot;olleh&quot;, resultInspector.getPrimitiveJavaObject(result));\r\n    }\r\n}\r\n```\r\n\r\nThe test case is failing with NullPointerException. \r\n\r\n`java.lang.NullPointerException\r\n\tat com.hive.udf.ReverseStringTest.testSimpleString(ReverseStringTest.java:34)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)`\r\n\r\n\r\nCan someone please suggest on how to mock this appropriately?\r\n\r\nThanks in advance.","title":"Unit Test Cases for Hive Custom UDFs by mocking Java Reflection calls","body":"<p>I have a requirement where I need to develop Hive Custom UDFs that uses Java reflection API to make calls to external classes.</p>\n<p>Since I'm new to Java Reflection, I have dedicated some time learning it and was able to do a basic implementation.</p>\n<p>But I'm facing issues while writing unit test cases for this implementation as I'm facing some challenges in mocking Reflection APIs.</p>\n<p>Below is the example for Hive Custom UDF.</p>\n<blockquote>\n<p>ReverseString.java</p>\n</blockquote>\n<pre><code>\npublic class ReverseString extends GenericUDF {\n\n    private StringObjectInspector input;\n    Class&lt;?&gt; c = null;\n    Object ob = null;\n\n\n    @Override\n    public ObjectInspector initialize(ObjectInspector[] arg0) throws UDFArgumentException {\n\n        // create an ObjectInspector for the input\n        ObjectInspector input = arg0[0];\n\n        // check to make sure the input is a string\n        if (!(input instanceof StringObjectInspector)) {\n            throw new UDFArgumentException(&quot;input must be a string&quot;);\n        }\n\n\n        this.input = (StringObjectInspector) input;\n        System.out.println(&quot;Success. Input formatted correctly&quot;);\n\n        return init(arg0);\n    }\n\n    public ObjectInspector init(ObjectInspector[] arg0) throws UDFArgumentException {\n\n        try {\n            c = Class.forName(&quot;com.hive.inherit.DummyUdf&quot;);\n            ob = c.getConstructor().newInstance();\n            Method method = c.getMethod(&quot;print&quot;,String.class);\n            String res = (String) method.invoke(ob,&quot;TEst&quot;);\n            System.out.println(&quot;RES: &quot;+res);\n\n        } catch (NoSuchMethodException | ClassNotFoundException | IllegalAccessException | InvocationTargetException | InstantiationException e) {\n            e.printStackTrace();\n        }\n\n        return PrimitiveObjectInspectorFactory.javaStringObjectInspector;\n    }\n\n\n    @Override\n    public Object evaluate(DeferredObject[] arg0) throws HiveException {\n\n        if (input == null || arg0.length != 1 || arg0[0].get() == null) {\n            return null;\n        }\n        String forwards = input.getPrimitiveJavaObject(arg0[0].get());\n        System.out.println(&quot;forwards:&quot;+forwards);\n\n        return reverse(forwards);\n    }\n\n\n    public  Object reverse(String in) {\n        Object res = null ;\n        try {\n            if (this.c != null &amp;&amp; this.ob != null) {\n                Method method = this.c.getMethod(&quot;reverse&quot;, String.class);\n                res = (String) method.invoke(this.ob, in);\n            }else{\n                c = Class.forName(&quot;com.hive.inherit.DummyUdf&quot;);\n                ob = c.getConstructor().newInstance();\n                Method method = c.getMethod(&quot;reverse&quot;, String.class);\n                res = method.invoke(ob, in);\n            }\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException | ClassNotFoundException | InstantiationException e) {\n            e.printStackTrace();\n        }\n        return res;\n    }\n\n    @Override\n    public String getDisplayString(String[] strings) {\n        return null;\n    }\n}\n\n</code></pre>\n<p>Below is the class that is being called by Reflection.</p>\n<blockquote>\n<p>DummyUdf.java</p>\n</blockquote>\n<pre><code>package com.hive.inherit;\n\npublic class DummyUdf {\n    \n\n    public DummyUdf(){\n        System.out.println(&quot;DummyUdf&quot;);\n    }\n\n    public String print(String str){\n        System.out.println(&quot;DummyUdf-str:&quot;+str);\n        return str;\n    }\n\n    public String reverse(String in) {\n\n        int l = in.length();\n        StringBuilder sb = new StringBuilder();\n\n        for (int i = 0; i &lt; l; i++) {\n            sb.append(in.charAt(l - i - 1));\n        }\n        return sb.toString();\n    }\n}\n\n</code></pre>\n<p>The unit test cases that I'm trying to implement,</p>\n<blockquote>\n<p>ReverseStringTest.class</p>\n</blockquote>\n<pre><code>\n\n@RunWith(MockitoJUnitRunner.class)\npublic class ReverseStringTest {\n\n    @Test\n    public void testSimpleString() throws HiveException {\n\n        //ReverseString r = Mockito.spy(new ReverseString());\n        ReverseString r = mock(ReverseString.class);\n        ObjectInspector input = PrimitiveObjectInspectorFactory.javaStringObjectInspector;\n        when(r.init(Mockito.any())).thenReturn(input);\n        JavaStringObjectInspector resultInspector = (JavaStringObjectInspector) r.initialize(\n                new ObjectInspector[] { input });\n        Text forwards = new Text(&quot;hello&quot;);\n        when(r.reverse(Mockito.any())).thenReturn(&quot;olleh&quot;);\n        Object result = r.evaluate(new GenericUDF.DeferredObject[] { new GenericUDF.DeferredJavaObject(forwards) });\n        System.out.println(result);\n        assertEquals(&quot;olleh&quot;, resultInspector.getPrimitiveJavaObject(result));\n    }\n}\n</code></pre>\n<p>The test case is failing with NullPointerException.</p>\n<p><code>java.lang.NullPointerException at com.hive.udf.ReverseStringTest.testSimpleString(ReverseStringTest.java:34) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)</code></p>\n<p>Can someone please suggest on how to mock this appropriately?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","gwt","google-closure-stylesheet","gss"],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1477666133,"creation_date":1477666133,"answer_id":40307654,"question_id":40307468,"body_markdown":"I just found the answer by looking at the GWT code. You can&#39;t *include* files, but you can combine several GSS files by specifying them all in the `@Source` annotation. E.g.\r\n\r\n    @Source({&quot;Shared.gss&quot;, &quot;BookEditor.gss&quot;})\r\n\r\nHope this helps someone else with the same question.\r\n\r\n","title":"Removing duplication across Google Stylesheets (GSS) in GWT","body":"<p>I just found the answer by looking at the GWT code. You can't <em>include</em> files, but you can combine several GSS files by specifying them all in the <code>@Source</code> annotation. E.g.</p>\n\n<pre><code>@Source({\"Shared.gss\", \"BookEditor.gss\"})\n</code></pre>\n\n<p>Hope this helps someone else with the same question.</p>\n"},{"tags":[],"owner":{"account_id":105828,"reputation":2460,"user_id":282176,"accept_rate":94,"display_name":"Boris Brudnoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694185995,"creation_date":1694185995,"answer_id":77068044,"question_id":40307468,"body_markdown":"To add to the accepted answer, UiBinder templates will likewise allow you to combine GSS files via a comma-separated list, e.g.: \r\n\r\n      &lt;ui:style type=&quot;com.myapp.client.views.EditorView.Style&quot;\r\n            src=&quot;EditorView.gss, ViewCommon.gss&quot;/&gt;\r\n\r\nAs a result, you&#39;ll be able to use definitions from `ViewCommon.gss` inside `EditorView.gss`.","title":"Removing duplication across Google Stylesheets (GSS) in GWT","body":"<p>To add to the accepted answer, UiBinder templates will likewise allow you to combine GSS files via a comma-separated list, e.g.:</p>\n<pre><code>  &lt;ui:style type=&quot;com.myapp.client.views.EditorView.Style&quot;\n        src=&quot;EditorView.gss, ViewCommon.gss&quot;/&gt;\n</code></pre>\n<p>As a result, you'll be able to use definitions from <code>ViewCommon.gss</code> inside <code>EditorView.gss</code>.</p>\n"}],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40307654,"answer_count":2,"score":1,"last_activity_date":1694185995,"creation_date":1477665421,"question_id":40307468,"body_markdown":"Most of my stylesheets (GSS) have the same set of `@defmixin` statements. I would like to be able to remove the duplication.\r\n\r\nIs it possible to `@include` a common GSS stylesheet in some way?\r\nOr are there other ways to do this simply? (I mean without having any external scripting to munge the files.) I&#39;m using GSS from a GWT 2.8 app, by the way.\r\n\r\nI found a [related question](https://stackoverflow.com/questions/8209820/how-to-import-include-in-closure-stylesheet) but the answers aren&#39;t really appropriate for using GSS within GWT.","title":"Removing duplication across Google Stylesheets (GSS) in GWT","body":"<p>Most of my stylesheets (GSS) have the same set of <code>@defmixin</code> statements. I would like to be able to remove the duplication.</p>\n\n<p>Is it possible to <code>@include</code> a common GSS stylesheet in some way?\nOr are there other ways to do this simply? (I mean without having any external scripting to munge the files.) I'm using GSS from a GWT 2.8 app, by the way.</p>\n\n<p>I found a <a href=\"https://stackoverflow.com/questions/8209820/how-to-import-include-in-closure-stylesheet\">related question</a> but the answers aren't really appropriate for using GSS within GWT.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":5,"creation_date":1694182949,"post_id":77067683,"comment_id":135862027,"body_markdown":"You could use a test like `isRegularFile`, but it&#39;d be much more efficient to use a `WatchService`","body":"You could use a test like <code>isRegularFile</code>, but it&#39;d be much more efficient to use a <code>WatchService</code>"},{"owner":{"account_id":11430922,"reputation":325,"user_id":8379653,"accept_rate":100,"display_name":"gomathi subramanian"},"score":0,"creation_date":1694183165,"post_id":77067683,"comment_id":135862064,"body_markdown":"How to do that?","body":"How to do that?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1694183242,"post_id":77067683,"comment_id":135862084,"body_markdown":"use a `WatchService`, see its [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/WatchService.html): &quot;... For example a file manager may use a watch service to monitor a directory for changes so that it can update its display of the list of files when files are created or deleted. ...&quot;","body":"use a <code>WatchService</code>, see its <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/WatchService.html\" rel=\"nofollow noreferrer\">documentation</a>: &quot;... For example a file manager may use a watch service to monitor a directory for changes so that it can update its display of the list of files when files are created or deleted. ...&quot;"},{"owner":{"account_id":11430922,"reputation":325,"user_id":8379653,"accept_rate":100,"display_name":"gomathi subramanian"},"score":0,"creation_date":1694183791,"post_id":77067683,"comment_id":135862181,"body_markdown":"Will watchservice helps me to execute the test cases even when the file is not changed.","body":"Will watchservice helps me to execute the test cases even when the file is not changed."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1694186562,"post_id":77067683,"comment_id":135862733,"body_markdown":"The question isn&#39;t very clear as the answer you added (scan files in a dir) doesn&#39;t seem to match what you asked for (wait until files added to a dir). Anyway it looks like you have resolved your issue.","body":"The question isn&#39;t very clear as the answer you added (scan files in a dir) doesn&#39;t seem to match what you asked for (wait until files added to a dir). Anyway it looks like you have resolved your issue."}],"answers":[{"tags":[],"owner":{"account_id":29395860,"reputation":26,"user_id":22523219,"display_name":"ᄆᄂᄋᄅᄆᄂᄋᆱᄂᄋᄅ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694183822,"creation_date":1694183822,"answer_id":77067799,"question_id":77067683,"body_markdown":"InputJsonInputJson -&gt; InputJson/InputJson \r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; fileLst = new ArrayList&lt;String&gt; ();\r\n    \t\t\r\n    \t\tscanDir(&quot;c:/cleardir&quot;, fileLst);\r\n    \t\t\r\n    \t\tfor(String fullPath : fileLst) {\r\n    \t\t\tSystem.out.println(fullPath);\r\n    \t\t}\t\t\r\n    \t}\t\r\n    \t\r\n    \t\r\n    \tpublic static void scanDir(String folderPath, List&lt;String&gt; fileLst) {\r\n    \t\tFile[] files = new File(folderPath).listFiles();\r\n    \t\t\r\n    \t\tfor(File f : files) {\r\n    \t\t\tif(f.isDirectory()) {\r\n    \t\t\t\tscanDir(f.getAbsolutePath(), fileLst);\r\n    \t\t\t} else {\r\n    \t\t\t\tfileLst.add(f.getAbsolutePath());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n ","title":"How to run java while loop until file exists in a particular directory?","body":"<p>InputJsonInputJson -&gt; InputJson/InputJson</p>\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class main {\n    public static void main(String[] args) {\n        List&lt;String&gt; fileLst = new ArrayList&lt;String&gt; ();\n        \n        scanDir(&quot;c:/cleardir&quot;, fileLst);\n        \n        for(String fullPath : fileLst) {\n            System.out.println(fullPath);\n        }       \n    }   \n    \n    \n    public static void scanDir(String folderPath, List&lt;String&gt; fileLst) {\n        File[] files = new File(folderPath).listFiles();\n        \n        for(File f : files) {\n            if(f.isDirectory()) {\n                scanDir(f.getAbsolutePath(), fileLst);\n            } else {\n                fileLst.add(f.getAbsolutePath());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11430922,"reputation":325,"user_id":8379653,"accept_rate":100,"display_name":"gomathi subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694185986,"creation_date":1694185986,"answer_id":77068042,"question_id":77067683,"body_markdown":"Based on the answer provided by @ ᄆᄂᄋᄅᄆᄂᄋᆱᄂᄋᄅ. \r\nI&#39;ve re-written as shown below:\r\n\r\n```\r\nPath filepath = Paths.get(&quot;/Resources/RawImages/&quot;\r\n                + &quot;mediaResponses/InputJson/&quot;);\r\n        File[] filePath = new File(&quot;/Resources/RawImages/&quot;\r\n                + &quot;mediaResponses/InputJson/&quot;).listFiles();\r\n        assert filePath != null;\r\n        for (File eachFile: filePath){\r\n            if(eachFile.isFile()){\r\n                String fileName = eachFile.getName();\r\n                imageEncoder(filepath +&quot;/&quot; +fileName);\r\n```","title":"How to run java while loop until file exists in a particular directory?","body":"<p>Based on the answer provided by @ ᄆᄂᄋᄅᄆᄂᄋᆱᄂᄋᄅ.\nI've re-written as shown below:</p>\n<pre><code>Path filepath = Paths.get(&quot;/Resources/RawImages/&quot;\n                + &quot;mediaResponses/InputJson/&quot;);\n        File[] filePath = new File(&quot;/Resources/RawImages/&quot;\n                + &quot;mediaResponses/InputJson/&quot;).listFiles();\n        assert filePath != null;\n        for (File eachFile: filePath){\n            if(eachFile.isFile()){\n                String fileName = eachFile.getName();\n                imageEncoder(filepath +&quot;/&quot; +fileName);\n</code></pre>\n"}],"owner":{"account_id":11430922,"reputation":325,"user_id":8379653,"accept_rate":100,"display_name":"gomathi subramanian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77067799,"answer_count":2,"score":-2,"last_activity_date":1694185986,"creation_date":1694182833,"question_id":77067683,"body_markdown":"I would like to run the while loop until the file is available in a particular directory.\r\n\r\n```\r\nPath path = Paths.get(&quot;/MediaIntegTests/src&quot;\r\n                + &quot;/mediaServiceTests&quot;\r\n                + &quot;/Resources/RawImages/&quot;\r\n                + &quot;mediaResponses/InputJson/&quot;);\r\n        while (path.iterator().hasNext()){\r\n            String fileName = String.valueOf(path.getFileName());\r\n            imageEncoder(path+ fileName);\r\n```\r\n\r\n**Error:**\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.FileNotFoundException: /Users/gomathis/Documents/res/Media/mediaIntegTests/src/mediaServiceTests/Resources/RawImages/mediaPVResponses/InputJsonInputJson (No such file or directory)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:103)\r\n\tat com.example.mediaservice.TestUtils.CommonTestUtils.imageEncoder(CommonTestUtils.java:80)\r\n\tat com.example.mediaservice.TestUtils.CommonTestUtils.main(CommonTestUtils.java:46)\r\n```","title":"How to run java while loop until file exists in a particular directory?","body":"<p>I would like to run the while loop until the file is available in a particular directory.</p>\n<pre><code>Path path = Paths.get(&quot;/MediaIntegTests/src&quot;\n                + &quot;/mediaServiceTests&quot;\n                + &quot;/Resources/RawImages/&quot;\n                + &quot;mediaResponses/InputJson/&quot;);\n        while (path.iterator().hasNext()){\n            String fileName = String.valueOf(path.getFileName());\n            imageEncoder(path+ fileName);\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: /Users/gomathis/Documents/res/Media/mediaIntegTests/src/mediaServiceTests/Resources/RawImages/mediaPVResponses/InputJsonInputJson (No such file or directory)\n    at java.base/java.io.FileInputStream.open0(Native Method)\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n    at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:103)\n    at com.example.mediaservice.TestUtils.CommonTestUtils.imageEncoder(CommonTestUtils.java:80)\n    at com.example.mediaservice.TestUtils.CommonTestUtils.main(CommonTestUtils.java:46)\n</code></pre>\n"},{"tags":["java","mysql","hibernate","spring-boot"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":1,"creation_date":1549207743,"post_id":54504230,"comment_id":95812582,"body_markdown":"have you tried by deleting all tables?","body":"have you tried by deleting all tables?"},{"owner":{"account_id":9740564,"reputation":654,"user_id":7222312,"display_name":"FilipW"},"score":0,"creation_date":1549207952,"post_id":54504230,"comment_id":95812665,"body_markdown":"@Deadpool yes, and I steel have this problem","body":"@Deadpool yes, and I steel have this problem"},{"owner":{"account_id":3756387,"reputation":802,"user_id":3122668,"display_name":"capo11"},"score":0,"creation_date":1695638076,"post_id":54504230,"comment_id":136046482,"body_markdown":"Another possible solution could be this: https://stackoverflow.com/a/77171900/3122668","body":"Another possible solution could be this: <a href=\"https://stackoverflow.com/a/77171900/3122668\">stackoverflow.com/a/77171900/3122668</a>"}],"answers":[{"tags":[],"owner":{"account_id":6287334,"reputation":1009,"user_id":4886060,"display_name":"Vivek Patel"},"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1549275416,"creation_date":1549275416,"answer_id":54514003,"question_id":54504230,"body_markdown":"Change **spring.jpa.hibernate.ddl-auto = create-drop** to **update**. It is dropping the database at start so wont find the required events table to alter anything.","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Change <strong>spring.jpa.hibernate.ddl-auto = create-drop</strong> to <strong>update</strong>. It is dropping the database at start so wont find the required events table to alter anything.</p>\n"},{"tags":[],"owner":{"account_id":9768602,"reputation":1048,"user_id":7241283,"display_name":"SupaMario"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1694182396,"creation_date":1558260995,"answer_id":56206827,"question_id":54504230,"body_markdown":"In my case the problem why I got this exception was that some tables had names which are reserved for PostgreSQL. For example, &quot;Like&quot; or &quot;User&quot;. Changed name with:\r\n\r\n    @Table(name=&quot;likes&quot;)\r\n\r\nand it worked fine.\r\n\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>In my case the problem why I got this exception was that some tables had names which are reserved for PostgreSQL. For example, &quot;Like&quot; or &quot;User&quot;. Changed name with:</p>\n<pre><code>@Table(name=&quot;likes&quot;)\n</code></pre>\n<p>and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569036561,"creation_date":1569036561,"answer_id":58037047,"question_id":54504230,"body_markdown":"Hmm I also encountered this issue but either of those solutions could not solve my issue. I am using MySQL database packaging with XAMPP. What I tried out to solve but failed\r\n\r\n - I deleted my Database located in &quot;xampp\\mysql\\data&quot;\r\n - I renamed my conflicted tables\r\n - Although I kept this &quot;spring.jpa.hibernate.ddl-auto=update&quot; setting in at start.\r\n\r\nSo what I did to solve this issue. Might be yours\r\n\r\n - I completely uninstalled the XAMPP package and Installed it again.\r\n - I created new database name\r\n - RUN the application\r\n\r\nFriends it actually my circumstances, might be help your issue like me. If you have any question please post comment. Thanks","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Hmm I also encountered this issue but either of those solutions could not solve my issue. I am using MySQL database packaging with XAMPP. What I tried out to solve but failed</p>\n\n<ul>\n<li>I deleted my Database located in \"xampp\\mysql\\data\"</li>\n<li>I renamed my conflicted tables</li>\n<li>Although I kept this \"spring.jpa.hibernate.ddl-auto=update\" setting in at start.</li>\n</ul>\n\n<p>So what I did to solve this issue. Might be yours</p>\n\n<ul>\n<li>I completely uninstalled the XAMPP package and Installed it again.</li>\n<li>I created new database name</li>\n<li>RUN the application</li>\n</ul>\n\n<p>Friends it actually my circumstances, might be help your issue like me. If you have any question please post comment. Thanks</p>\n"},{"tags":[],"owner":{"account_id":17531673,"reputation":11,"user_id":12715559,"display_name":"Akash Aggarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579068781,"creation_date":1579068781,"answer_id":59745964,"question_id":54504230,"body_markdown":"Change The dialect of hibernate.cfg.xml Dialect :- org.hibernate.dialect.MySQL5InnoDBDialect\r\nOR\r\norg.hibernate.dialect.MySQL55Dialect\r\nOR\r\norg.hibernate.dialect.MySQL55InnoDBDialect\r\nOR\r\norg.hibernate.dialect.MySQL57InnoDBDialect\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Change The dialect of hibernate.cfg.xml Dialect :- org.hibernate.dialect.MySQL5InnoDBDialect\nOR\norg.hibernate.dialect.MySQL55Dialect\nOR\norg.hibernate.dialect.MySQL55InnoDBDialect\nOR\norg.hibernate.dialect.MySQL57InnoDBDialect</p>\n"},{"tags":[],"owner":{"account_id":15749106,"reputation":473,"user_id":11364231,"display_name":"Simas Paškauskas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694182480,"creation_date":1583243585,"answer_id":60508761,"question_id":54504230,"body_markdown":"OK, I had the same issue. Adding prefixes fixed the problem for me:\r\n\r\nFrom:\r\n\r\n    `\r\n    @Entity\r\n    @Table(name = &quot;result_man&quot;)\r\n    @Proxy(lazy = false)\r\n    public class ResultManEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;, unique = true, length = 128)\r\n    private long id;\r\n    private String key;\r\n    private int score;\r\n    private int index;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;result_id&quot;)\r\n    private ResultEntity result;\r\n    }`\r\n\r\nto:\r\n\r\n    `@Entity\r\n    @Table(name = &quot;result_man&quot;)\r\n    @Proxy(lazy = false)\r\n    public class ResultManEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;, unique = true, length = 128)\r\n    private long id;\r\n    private String _key;\r\n    private int _score;\r\n    private int _index;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;result_id&quot;)\r\n    private ResultEntity result;`\r\n\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>OK, I had the same issue. Adding prefixes fixed the problem for me:</p>\n<p>From:</p>\n<pre><code>`\n@Entity\n@Table(name = &quot;result_man&quot;)\n@Proxy(lazy = false)\npublic class ResultManEntity {\n@Id\n@GeneratedValue\n@Column(name = &quot;id&quot;, unique = true, length = 128)\nprivate long id;\nprivate String key;\nprivate int score;\nprivate int index;\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;result_id&quot;)\nprivate ResultEntity result;\n}`\n</code></pre>\n<p>to:</p>\n<pre><code>`@Entity\n@Table(name = &quot;result_man&quot;)\n@Proxy(lazy = false)\npublic class ResultManEntity {\n@Id\n@GeneratedValue\n@Column(name = &quot;id&quot;, unique = true, length = 128)\nprivate long id;\nprivate String _key;\nprivate int _score;\nprivate int _index;\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;result_id&quot;)\nprivate ResultEntity result;`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587248450,"creation_date":1587248450,"answer_id":61297052,"question_id":54504230,"body_markdown":"Just specify the dialect in your `application.properties`. For example, for MySQL 8:\r\n\r\n```\r\nhibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n```","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Just specify the dialect in your <code>application.properties</code>. For example, for MySQL 8:</p>\n\n<pre><code>hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18531203,"reputation":1,"user_id":13501941,"display_name":"Janakiram Sampalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694182647,"creation_date":1595130729,"answer_id":62976072,"question_id":54504230,"body_markdown":"I ran into a similar issue and found [SupaMario&#39;s answer][1] here.\r\n\r\nIn my case, I had a table named `orders`, but MySQL threw the error as it seems to be a reserve table / keyword.\r\n\r\nI changed it to `customer_order`, and it all worked fine.\r\n\r\n  [1]: https://stackoverflow.com/questions/54504230/how-to-fix-error-executing-ddl-alter-table-events-drop-foreign-key-fkg0mkvgsqn/56206827#56206827\r\n\r\n\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>I ran into a similar issue and found <a href=\"https://stackoverflow.com/questions/54504230/how-to-fix-error-executing-ddl-alter-table-events-drop-foreign-key-fkg0mkvgsqn/56206827#56206827\">SupaMario's answer</a> here.</p>\n<p>In my case, I had a table named <code>orders</code>, but MySQL threw the error as it seems to be a reserve table / keyword.</p>\n<p>I changed it to <code>customer_order</code>, and it all worked fine.</p>\n"},{"tags":[],"owner":{"account_id":19464444,"reputation":247,"user_id":14238010,"display_name":"kyle_aoki"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1694182699,"creation_date":1604544647,"answer_id":64690531,"question_id":54504230,"body_markdown":"It seems that it is an error related to *reserved* PostgreSQL words. Similar to [SupaMario&#39;s answer][1], the error went away after changing one of my column names from \r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n\r\nto\r\n\r\n    @Column(name = &quot;employee_name&quot;, nullable = false)\r\n\r\n  [1]: https://stackoverflow.com/questions/54504230/how-to-fix-error-executing-ddl-alter-table-events-drop-foreign-key-fkg0mkvgsqn/56206827#56206827\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>It seems that it is an error related to <em>reserved</em> PostgreSQL words. Similar to <a href=\"https://stackoverflow.com/questions/54504230/how-to-fix-error-executing-ddl-alter-table-events-drop-foreign-key-fkg0mkvgsqn/56206827#56206827\">SupaMario's answer</a>, the error went away after changing one of my column names from</p>\n<pre><code>@Column(name = &quot;name&quot;, nullable = false)\n</code></pre>\n<p>to</p>\n<pre><code>@Column(name = &quot;employee_name&quot;, nullable = false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2542636,"reputation":976,"user_id":2208129,"display_name":"Setmax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694182766,"creation_date":1605569991,"answer_id":64867293,"question_id":54504230,"body_markdown":"If you see this problem, please double check your class properties for reserved keywords like *key* (in my case).\r\n\r\nI changed the key to *mkey* and everything went fine.","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>If you see this problem, please double check your class properties for reserved keywords like <em>key</em> (in my case).</p>\n<p>I changed the key to <em>mkey</em> and everything went fine.</p>\n"},{"tags":[],"owner":{"account_id":18575278,"reputation":1,"user_id":13536133,"display_name":"Willy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694182817,"creation_date":1620043123,"answer_id":67368539,"question_id":54504230,"body_markdown":"For anyone working with PostgreSQL and has the same problem even though your table names are not keywords, place the line below in your *application.properties*. It worked for me.\r\n\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n\r\n\r\n\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>For anyone working with PostgreSQL and has the same problem even though your table names are not keywords, place the line below in your <em>application.properties</em>. It worked for me.</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13065157,"reputation":1,"user_id":9440801,"display_name":"Maurice Omosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694182860,"creation_date":1624536528,"answer_id":68115504,"question_id":54504230,"body_markdown":"In my case I had the error when I did this in a specific entity property:\r\n\r\n    @Column(name =&quot;condition&quot;, nullable = false)\r\n\r\nI changed this to\r\n\r\n    @Column(name =&quot;condition_of_house&quot;, nullable = false)\r\n\r\nAnd it worked well.\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>In my case I had the error when I did this in a specific entity property:</p>\n<pre><code>@Column(name =&quot;condition&quot;, nullable = false)\n</code></pre>\n<p>I changed this to</p>\n<pre><code>@Column(name =&quot;condition_of_house&quot;, nullable = false)\n</code></pre>\n<p>And it worked well.</p>\n"},{"tags":[],"owner":{"account_id":3681018,"reputation":9,"user_id":3065981,"display_name":"Burak &#199;ağrı Aktaş"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694182963,"creation_date":1624563965,"answer_id":68121956,"question_id":54504230,"body_markdown":"In my case, the error occurred because the *mysql* user did not have the REFERENCES privilege.\r\n\r\nTo solve this;\r\n\r\n 1. Log into MySQL with the root user\r\n 2. Grant all privileges for &#39;your_user&#39;@&#39;localhost&#39;\r\n\r\nor you just need to grant REFERENCES privileges to &#39;your_user&#39;@&#39;localhost&#39;\r\n\r\nSee the documentation: *[13.7.1.6 GRANT Statement][1]* \r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/grant.html\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>In my case, the error occurred because the <em>mysql</em> user did not have the REFERENCES privilege.</p>\n<p>To solve this;</p>\n<ol>\n<li>Log into MySQL with the root user</li>\n<li>Grant all privileges for 'your_user'@'localhost'</li>\n</ol>\n<p>or you just need to grant REFERENCES privileges to 'your_user'@'localhost'</p>\n<p>See the documentation: <em><a href=\"https://dev.mysql.com/doc/refman/8.0/en/grant.html\" rel=\"nofollow noreferrer\">13.7.1.6 GRANT Statement</a></em></p>\n"},{"tags":[],"owner":{"account_id":20828270,"reputation":103,"user_id":15298206,"display_name":"Никита Мельников"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1694182997,"creation_date":1625477789,"answer_id":68253818,"question_id":54504230,"body_markdown":"In my case, deleting tables from the database helped.\r\nBut, attention, this was a ***training*** project :)*\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>In my case, deleting tables from the database helped.\nBut, attention, this was a <em><strong>training</strong></em> project :)*</p>\n"},{"tags":[],"owner":{"account_id":17980838,"reputation":91,"user_id":13067232,"display_name":"davidrichardo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1694183100,"creation_date":1636416853,"answer_id":69891397,"question_id":54504230,"body_markdown":"In my case, the problem why I got this exception was that some tables had names which were reserved for MySQL. For example, &quot;order&quot; *changed* name with:\r\n\r\n    @Column(name=&quot;orders&quot;)\r\n\r\nor\r\n\r\nFor example\r\n\r\n    @ManyToOne(cascade = {CascadeType.ALL})\r\n    @JoinColumn(name = &quot;fk_order&quot;,nullable = false)\r\n    private Order order;\r\n\r\nworked for me.\r\n\r\n\r\n\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>In my case, the problem why I got this exception was that some tables had names which were reserved for MySQL. For example, &quot;order&quot; <em>changed</em> name with:</p>\n<pre><code>@Column(name=&quot;orders&quot;)\n</code></pre>\n<p>or</p>\n<p>For example</p>\n<pre><code>@ManyToOne(cascade = {CascadeType.ALL})\n@JoinColumn(name = &quot;fk_order&quot;,nullable = false)\nprivate Order order;\n</code></pre>\n<p>worked for me.</p>\n"},{"tags":[],"owner":{"account_id":18284952,"reputation":21,"user_id":13313069,"display_name":"Maryam Maleki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694183240,"creation_date":1636898131,"answer_id":69963726,"question_id":54504230,"body_markdown":"Change Line code in properties file:\r\n\r\nFrom:\r\n\r\n`spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL55Dialect`\r\n\r\nTo:\r\n\r\n`spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect`\r\n\r\nBecause the `MySQL55Dialect` is not creating a [foreign key][1]. And the `MySQL5InnoDBDialect` is creating a foreign key.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Foreign_key\r\n\r\n\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Change Line code in properties file:</p>\n<p>From:</p>\n<p><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL55Dialect</code></p>\n<p>To:</p>\n<p><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect</code></p>\n<p>Because the <code>MySQL55Dialect</code> is not creating a <a href=\"https://en.wikipedia.org/wiki/Foreign_key\" rel=\"nofollow noreferrer\">foreign key</a>. And the <code>MySQL5InnoDBDialect</code> is creating a foreign key.</p>\n"},{"tags":[],"owner":{"account_id":23673321,"reputation":31,"user_id":17699818,"display_name":"TRO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639731308,"creation_date":1639731308,"answer_id":70390589,"question_id":54504230,"body_markdown":"Owner is a reserved word for MySQL. Either change it or use annotation to use some different name for forgeinkey instead of default\r\n\r\nReference:\r\nhttps://dev.mysql.com/doc/refman/8.0/en/keywords.html#keywords-8-0-detailed-O\r\n\r\nForcing  JPA to use custom name \r\n\r\n    @ManyToOne\r\n\t@MapsId(&quot;ownerId&quot;)\r\n\t@JoinColumn(\r\n\t\t\tname = &quot;owner_id&quot;,\r\n\t\t\tforeignKey = @ForeignKey(\r\n\t\t\t\t\tname = &quot;fkey_own_id&quot;\r\n\t\t\t\t\t)\r\n\t\t\t) \r\n\r\n  ","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Owner is a reserved word for MySQL. Either change it or use annotation to use some different name for forgeinkey instead of default</p>\n<p>Reference:\n<a href=\"https://dev.mysql.com/doc/refman/8.0/en/keywords.html#keywords-8-0-detailed-O\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/keywords.html#keywords-8-0-detailed-O</a></p>\n<p>Forcing  JPA to use custom name</p>\n<pre><code>@ManyToOne\n@MapsId(&quot;ownerId&quot;)\n@JoinColumn(\n        name = &quot;owner_id&quot;,\n        foreignKey = @ForeignKey(\n                name = &quot;fkey_own_id&quot;\n                )\n        ) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694183849,"creation_date":1642866656,"answer_id":70814482,"question_id":54504230,"body_markdown":"Add this setting properties line code in file *application.yml* or the *properties.properties* file:\r\n\r\n```lang-none\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Add this setting properties line code in file <em>application.yml</em> or the <em>properties.properties</em> file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23381203,"reputation":1,"user_id":17447812,"display_name":"Romuald C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646676524,"creation_date":1646654428,"answer_id":71380755,"question_id":54504230,"body_markdown":"After checking my **hibernate.dialect** in **application.properties**, and changing my table&#39;s names (to make them less likely to interfere with reserved MSQL keywords), I was still having this error with **create-and-drop**, when Hibernate does its `ALTER TABLE` to add foreign keys.\r\n\r\nWanting to solve this I decided to look at MySQL logs in MySQL Workbench.\r\n\r\nBut then I was facing another issue: I couldn&#39;t access server logs (some errors regarding `PATH` variable, but `PATH` variable was ok). See [here](https://stackoverflow.com/questions/53236494/could-not-acquire-management-access-for-administration-runtime-error-unable-to) for how to solve that.\r\n\r\n**The real issue came from character encoding working on a European environment** (France).\r\n\r\nIssue was fixed by activating &quot;Beta: Use UTF-8 for worldwide language support&quot;, under Control Panel &gt; Region &gt; Administrative &gt; Change system locale.\r\n\r\nAfter reboot, I could access my MySQL logs and guess what? I was no longer having errors with Hibernate either.\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>After checking my <strong>hibernate.dialect</strong> in <strong>application.properties</strong>, and changing my table's names (to make them less likely to interfere with reserved MSQL keywords), I was still having this error with <strong>create-and-drop</strong>, when Hibernate does its <code>ALTER TABLE</code> to add foreign keys.</p>\n<p>Wanting to solve this I decided to look at MySQL logs in MySQL Workbench.</p>\n<p>But then I was facing another issue: I couldn't access server logs (some errors regarding <code>PATH</code> variable, but <code>PATH</code> variable was ok). See <a href=\"https://stackoverflow.com/questions/53236494/could-not-acquire-management-access-for-administration-runtime-error-unable-to\">here</a> for how to solve that.</p>\n<p><strong>The real issue came from character encoding working on a European environment</strong> (France).</p>\n<p>Issue was fixed by activating &quot;Beta: Use UTF-8 for worldwide language support&quot;, under Control Panel &gt; Region &gt; Administrative &gt; Change system locale.</p>\n<p>After reboot, I could access my MySQL logs and guess what? I was no longer having errors with Hibernate either.</p>\n"},{"tags":[],"owner":{"account_id":20792942,"reputation":33,"user_id":15270673,"display_name":"YgLK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657196519,"creation_date":1657196519,"answer_id":72897734,"question_id":54504230,"body_markdown":"I encountered that problem too with the MySQL running on Docker and here&#39;s solution which worked for me. \r\n\r\n0. Delete .data directory if you have one in your project directory.\r\n1. Turn off running Docker container. \r\n2. Delete existing Docker container.\r\n3. Create new Docker container by simply typing in `docker-compose up -d` in the directory where `docker-compose.yml` file is located.\r\n4. Rerun Spring Boot app.\r\n\r\n\r\nAfter hours of trying to find solution this solved all my problems with the errors thrown by the Hibernate in the Spring Boot app.\r\n\r\n(PS. I have in the application.properties file this line: \r\n`spring.jpa.hibernate.ddl-auto=update` - it might play some factor too)","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>I encountered that problem too with the MySQL running on Docker and here's solution which worked for me.</p>\n<ol start=\"0\">\n<li>Delete .data directory if you have one in your project directory.</li>\n<li>Turn off running Docker container.</li>\n<li>Delete existing Docker container.</li>\n<li>Create new Docker container by simply typing in <code>docker-compose up -d</code> in the directory where <code>docker-compose.yml</code> file is located.</li>\n<li>Rerun Spring Boot app.</li>\n</ol>\n<p>After hours of trying to find solution this solved all my problems with the errors thrown by the Hibernate in the Spring Boot app.</p>\n<p>(PS. I have in the application.properties file this line:\n<code>spring.jpa.hibernate.ddl-auto=update</code> - it might play some factor too)</p>\n"},{"tags":[],"owner":{"account_id":16439005,"reputation":11,"user_id":11875882,"display_name":"RG Fick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677853025,"creation_date":1677852971,"answer_id":75628207,"question_id":54504230,"body_markdown":"I was getting this error because I was using: private &quot;Long&quot; id; rather than: private &quot;int&quot; id; Hibernate was adding &quot;BIGINT&quot; in the DB and then didn&#39;t recognise it.\r\n\r\nI changed my entity id&#39;s to &quot;int&quot; and that solved my problem. Hope this helps.","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>I was getting this error because I was using: private &quot;Long&quot; id; rather than: private &quot;int&quot; id; Hibernate was adding &quot;BIGINT&quot; in the DB and then didn't recognise it.</p>\n<p>I changed my entity id's to &quot;int&quot; and that solved my problem. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":28340457,"reputation":1,"user_id":21673547,"display_name":"Sharayu "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683044918,"creation_date":1683044918,"answer_id":76156964,"question_id":54504230,"body_markdown":"Adding space between column name also leads to this error.\r\n\r\neg.\r\n\r\n     @Column(name = &quot;PRODUCT ID&quot;)\r\n\r\nchange this to:\r\n\r\n     @Column(name = &quot;PRODUCT_ID&quot;)","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Adding space between column name also leads to this error.</p>\n<p>eg.</p>\n<pre><code> @Column(name = &quot;PRODUCT ID&quot;)\n</code></pre>\n<p>change this to:</p>\n<pre><code> @Column(name = &quot;PRODUCT_ID&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962728,"reputation":2317,"user_id":4687402,"accept_rate":50,"display_name":"Benjamin Basmaci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683634142,"creation_date":1683291369,"answer_id":76182451,"question_id":54504230,"body_markdown":"Odd solution that eventually worked for me: After trying some of the suggested options for `spring.jpa.hibernate.ddl-auto`, which did not work, I ran it once with `none` and then with `create` and it worked.\r\n\r\nI can&#39;t really explain it but it&#39;s quick to try, and it worked for me. I was using a h2 database.\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>Odd solution that eventually worked for me: After trying some of the suggested options for <code>spring.jpa.hibernate.ddl-auto</code>, which did not work, I ran it once with <code>none</code> and then with <code>create</code> and it worked.</p>\n<p>I can't really explain it but it's quick to try, and it worked for me. I was using a h2 database.</p>\n"}],"owner":{"account_id":9740564,"reputation":654,"user_id":7222312,"display_name":"FilipW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133455,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":56206827,"answer_count":22,"score":48,"last_activity_date":1694185617,"creation_date":1549206598,"question_id":54504230,"body_markdown":"I&#39;m trying to start a Spring Boot project with a MySQL database, but I have some problem with the database. I try to start my application that, and server is running, but Hibernate doesn’t create Tables, etc.\r\n\r\nThis is my code:\r\n\r\nUser Entity\r\n\r\n     @Entity\r\n       public class User {\r\n          @Id\r\n          @GeneratedValue(strategy = IDENTITY)\r\n          private Long id;\r\n\r\n          private String firstName;\r\n          private String lastName;\r\n\r\n          private String email;\r\n\r\n          private String password;\r\n          private String description;\r\n          private String profile_photo;\r\n\r\n          private LocalDate create;\r\n          private LocalDate update;\r\n\r\n          @OneToMany(mappedBy = &quot;eventOwner&quot;)\r\n          private List&lt;Event&gt; ownedEvents;\r\n\r\n               public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getProfile_photo() {\r\n        return profile_photo;\r\n    }\r\n\r\n    public void setProfile_photo(String profile_photo) {\r\n        this.profile_photo = profile_photo;\r\n    }\r\n\r\n    public LocalDate getCreate() {\r\n        return create;\r\n    }\r\n\r\n    public void setCreate(LocalDate create) {\r\n        this.create = create;\r\n    }\r\n\r\n    public LocalDate getUpdate() {\r\n        return update;\r\n    }\r\n\r\n    public void setUpdate(LocalDate update) {\r\n        this.update = update;\r\n    }\r\n\r\n    public List&lt;Event&gt; getOwnedEvents() {\r\n        return ownedEvents;\r\n    }\r\n\r\n    public void setOwnedEvents(List&lt;Event&gt; ownedEvents) {\r\n        this.ownedEvents = ownedEvents;\r\n    }}\r\n\r\n\r\n\r\nEvent Entity\r\n\r\n       @Entity\r\n       @Table(name = &quot;events&quot;)\r\n       public class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private Double longitude;\r\n    private Double latitude;\r\n\r\n    private String description;\r\n    private String header;\r\n\r\n    private LocalDate startData;\r\n    private LocalDate endData;\r\n    private LocalDate creat;\r\n    private LocalDate update;\r\n    private Filters filters;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;owner_id&quot;)\r\n    private User eventOwner;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Double getLongitude() {\r\n        return longitude;\r\n    }\r\n\r\n    public void setLongitude(Double longitude) {\r\n        this.longitude = longitude;\r\n    }\r\n\r\n    public Double getLatitude() {\r\n        return latitude;\r\n    }\r\n\r\n    public void setLatitude(Double latitude) {\r\n        this.latitude = latitude;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getHeader() {\r\n        return header;\r\n    }\r\n\r\n    public void setHeader(String header) {\r\n        this.header = header;\r\n    }\r\n\r\n    public LocalDate getStartData() {\r\n        return startData;\r\n    }\r\n\r\n    public void setStartData(LocalDate startData) {\r\n        this.startData = startData;\r\n    }\r\n\r\n    public LocalDate getEndData() {\r\n        return endData;\r\n    }\r\n\r\n    public void setEndData(LocalDate endData) {\r\n        this.endData = endData;\r\n    }\r\n\r\n    public LocalDate getCreat() {\r\n        return creat;\r\n    }\r\n\r\n    public void setCreat(LocalDate creat) {\r\n        this.creat = creat;\r\n    }\r\n\r\n    public LocalDate getUpdate() {\r\n        return update;\r\n    }\r\n\r\n    public void setUpdate(LocalDate update) {\r\n        this.update = update;\r\n    }\r\n\r\n    public Filters getFilters() {\r\n        return filters;\r\n    }\r\n\r\n    public void setFilters(Filters filters) {\r\n        this.filters = filters;\r\n    }\r\n\r\n    public User getEventOwner() {\r\n        return eventOwner;\r\n    }\r\n\r\n    public void setEventOwner(User eventOwner) {\r\n        this.eventOwner = eventOwner;\r\n    }\r\n}\r\n\r\nAnd these are my properties:\r\n\r\n    spring.datasource.url= jdbc:mysql://localhost:3306/some_database?\r\n    requireSSL=false&amp;useSSL=false\r\n    spring.datasource.username= user\r\n    spring.datasource.password= passw\r\n    logging.level.org.hibernate.SQL= DEBUG\r\n    spring.jpa.hibernate.ddl-auto = create-drop\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL55Dialect\r\n\r\nThis is the error I get:\r\n\r\n```lang-none\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing\r\nDDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via\r\nJDBC Statement\r\n```\r\n\r\nand\r\n\r\n```lang-none\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing\r\nDDL &quot;create table events (id bigint not null auto_increment, creat date,\r\ndescription varchar(255), end_data date, event_type integer, max_age\r\ninteger not null, min_age integer not null, open_to_changes bit not null,\r\npets_allowed bit not null, price_range integer, smoking_allowed bit not\r\nnull, header varchar(255), latitude double precision, longitude double\r\nprecision, start_data date, update date, owner_id bigint, primary key (id))\r\nengine=InnoDB&quot; via JDBC Statement\r\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\r\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1804) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1741) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1083) ~[spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:853) ~[spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546) ~[spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n```\r\n\r\nHow can I fix that?\r\n","title":"How to fix &quot;Error executing DDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via JDBC Statement&quot;","body":"<p>I'm trying to start a Spring Boot project with a MySQL database, but I have some problem with the database. I try to start my application that, and server is running, but Hibernate doesn’t create Tables, etc.</p>\n<p>This is my code:</p>\n<p>User Entity</p>\n<pre><code> @Entity\n   public class User {\n      @Id\n      @GeneratedValue(strategy = IDENTITY)\n      private Long id;\n\n      private String firstName;\n      private String lastName;\n\n      private String email;\n\n      private String password;\n      private String description;\n      private String profile_photo;\n\n      private LocalDate create;\n      private LocalDate update;\n\n      @OneToMany(mappedBy = &quot;eventOwner&quot;)\n      private List&lt;Event&gt; ownedEvents;\n\n           public Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setDescription(String description) {\n    this.description = description;\n}\n\npublic String getProfile_photo() {\n    return profile_photo;\n}\n\npublic void setProfile_photo(String profile_photo) {\n    this.profile_photo = profile_photo;\n}\n\npublic LocalDate getCreate() {\n    return create;\n}\n\npublic void setCreate(LocalDate create) {\n    this.create = create;\n}\n\npublic LocalDate getUpdate() {\n    return update;\n}\n\npublic void setUpdate(LocalDate update) {\n    this.update = update;\n}\n\npublic List&lt;Event&gt; getOwnedEvents() {\n    return ownedEvents;\n}\n\npublic void setOwnedEvents(List&lt;Event&gt; ownedEvents) {\n    this.ownedEvents = ownedEvents;\n}}\n</code></pre>\n<p>Event Entity</p>\n<pre><code>   @Entity\n   @Table(name = &quot;events&quot;)\n   public class Event {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate Double longitude;\nprivate Double latitude;\n\nprivate String description;\nprivate String header;\n\nprivate LocalDate startData;\nprivate LocalDate endData;\nprivate LocalDate creat;\nprivate LocalDate update;\nprivate Filters filters;\n\n@ManyToOne\n@JoinColumn(name = &quot;owner_id&quot;)\nprivate User eventOwner;\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic Double getLongitude() {\n    return longitude;\n}\n\npublic void setLongitude(Double longitude) {\n    this.longitude = longitude;\n}\n\npublic Double getLatitude() {\n    return latitude;\n}\n\npublic void setLatitude(Double latitude) {\n    this.latitude = latitude;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setDescription(String description) {\n    this.description = description;\n}\n\npublic String getHeader() {\n    return header;\n}\n\npublic void setHeader(String header) {\n    this.header = header;\n}\n\npublic LocalDate getStartData() {\n    return startData;\n}\n\npublic void setStartData(LocalDate startData) {\n    this.startData = startData;\n}\n\npublic LocalDate getEndData() {\n    return endData;\n}\n\npublic void setEndData(LocalDate endData) {\n    this.endData = endData;\n}\n\npublic LocalDate getCreat() {\n    return creat;\n}\n\npublic void setCreat(LocalDate creat) {\n    this.creat = creat;\n}\n\npublic LocalDate getUpdate() {\n    return update;\n}\n\npublic void setUpdate(LocalDate update) {\n    this.update = update;\n}\n\npublic Filters getFilters() {\n    return filters;\n}\n\npublic void setFilters(Filters filters) {\n    this.filters = filters;\n}\n\npublic User getEventOwner() {\n    return eventOwner;\n}\n\npublic void setEventOwner(User eventOwner) {\n    this.eventOwner = eventOwner;\n}\n</code></pre>\n<p>}</p>\n<p>And these are my properties:</p>\n<pre><code>spring.datasource.url= jdbc:mysql://localhost:3306/some_database?\nrequireSSL=false&amp;useSSL=false\nspring.datasource.username= user\nspring.datasource.password= passw\nlogging.level.org.hibernate.SQL= DEBUG\nspring.jpa.hibernate.ddl-auto = create-drop\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL55Dialect\n</code></pre>\n<p>This is the error I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing\nDDL &quot;alter table events drop foreign key FKg0mkvgsqn8584qoql6a2rxheq&quot; via\nJDBC Statement\n</code></pre>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing\nDDL &quot;create table events (id bigint not null auto_increment, creat date,\ndescription varchar(255), end_data date, event_type integer, max_age\ninteger not null, min_age integer not null, open_to_changes bit not null,\npets_allowed bit not null, price_range integer, smoking_allowed bit not\nnull, header varchar(255), latitude double precision, longitude double\nprecision, start_data date, update date, owner_id bigint, primary key (id))\nengine=InnoDB&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) [hibernate-core-5.3.7.Final.jar:5.3.7.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1804) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1741) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1083) ~[spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:853) ~[spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546) ~[spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n</code></pre>\n<p>How can I fix that?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","java-17","criteriabuilder"],"comments":[{"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"score":0,"creation_date":1684252678,"post_id":76261869,"comment_id":134489716,"body_markdown":"The reason it was not working is that my projection was not correctly designed, I had to rework the joins.","body":"The reason it was not working is that my projection was not correctly designed, I had to rework the joins."}],"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694185532,"creation_date":1684232141,"question_id":76261869,"body_markdown":"So I&#39;m trying to use Specification with projection, this is a new feature on Spring Boot 3.\r\n\r\n```\r\nUserRepository repo;\r\nSpecification&lt;User&gt; spec;\r\nPage&lt;UserProjection&gt; result = repo.findBy(spec, q -&gt; q.as(UserProjection.class).page(pageable));\r\n```\r\nas viewed here https://github.com/spring-projects/spring-data-jpa/issues/2499\r\n\r\nBut this implementation generates the same SQL as the regular findAll\r\n\r\n```\r\nUserRepository repo;\r\nSpecification&lt;User&gt; spec;\r\nPage&lt;User&gt; result = repo.findAll(spec, pageable);\r\n```\r\nWith the same SQL the use of projections is meaningless.\r\nIs there anything missing on this implementation?","title":"Spring Boot 3 JpaSpecificationExecutor::FindBy(~) with Specification and Projection","body":"<p>So I'm trying to use Specification with projection, this is a new feature on Spring Boot 3.</p>\n<pre><code>UserRepository repo;\nSpecification&lt;User&gt; spec;\nPage&lt;UserProjection&gt; result = repo.findBy(spec, q -&gt; q.as(UserProjection.class).page(pageable));\n</code></pre>\n<p>as viewed here <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2499\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2499</a></p>\n<p>But this implementation generates the same SQL as the regular findAll</p>\n<pre><code>UserRepository repo;\nSpecification&lt;User&gt; spec;\nPage&lt;User&gt; result = repo.findAll(spec, pageable);\n</code></pre>\n<p>With the same SQL the use of projections is meaningless.\nIs there anything missing on this implementation?</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":29396189,"reputation":1,"user_id":22523482,"display_name":"luszyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694185218,"creation_date":1694185218,"question_id":77067955,"body_markdown":"Is there any way or SDK that would allow my Android application to connect to the wristbands and download data from them, such as heart rate, number of steps or sleep? I&#39;m trying to make my own fit application that will be able to collect such data. I want to connect to, for example, Mi Band 5 in the simplest way, without the need to use shell commands\r\n\r\nI tried to download the sdk https://github.com/pangliang/miband-sdk-android however gradle had trouble downloading this sdk. I downloaded the SDK from Xiaomi, but due to the lack of documentation, it was difficult to do anything. I tried to detect the band via BluetoothGATT in the test Android application, but it crashed when launched","title":"Downloading data from smartbands (e.g. Xiaomi Mi Band 5)","body":"<p>Is there any way or SDK that would allow my Android application to connect to the wristbands and download data from them, such as heart rate, number of steps or sleep? I'm trying to make my own fit application that will be able to collect such data. I want to connect to, for example, Mi Band 5 in the simplest way, without the need to use shell commands</p>\n<p>I tried to download the sdk <a href=\"https://github.com/pangliang/miband-sdk-android\" rel=\"nofollow noreferrer\">https://github.com/pangliang/miband-sdk-android</a> however gradle had trouble downloading this sdk. I downloaded the SDK from Xiaomi, but due to the lack of documentation, it was difficult to do anything. I tried to detect the band via BluetoothGATT in the test Android application, but it crashed when launched</p>\n"},{"tags":["java","priority-queue","blockingqueue"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694184972,"creation_date":1694183472,"answer_id":77067756,"question_id":77067190,"body_markdown":"&gt;  Is there any other scenario when it could block?\r\n\r\nBy my reading of the code (Java 11 version) `take()` *should* only block if the queue is empty when the call is made.  \r\n\r\nBut that doesn&#39;t imply that a `take()` call will immediately unblock when the queue becomes non-empty.  Indeed, if two or more threads are calling `take()` at the same time, it is conceivable that some threads will &quot;starve&quot; because the arriving elements are consistently being delivered to other waiting threads.   (The `PriorityBlockingQueue` uses `ReentrantLock` instances to coordinate the producers and consumers, but these are not created as *fair* locks.)\r\n\r\nAnother scenario involves faulty `Comparable` or `Comparator` implementations.  When the queue is or becomes non-empty, `take()` calls an internal `dequeue` method which in turn uses the `Comparable` or `Comparator` interface to *sift* the queue.  If your `Comparable` or `Comparator` code could itself block, that would block the current `take()` call and all future `take()` calls.  \r\n\r\n----------------------\r\n\r\nHaving said that, you also need to consider the most obvious explanation; i.e. that `take()` is blocking because the queue *really is empty*.\r\n","title":"Java PriorityBlockingQueue blocking behavior","body":"<blockquote>\n<p>Is there any other scenario when it could block?</p>\n</blockquote>\n<p>By my reading of the code (Java 11 version) <code>take()</code> <em>should</em> only block if the queue is empty when the call is made.</p>\n<p>But that doesn't imply that a <code>take()</code> call will immediately unblock when the queue becomes non-empty.  Indeed, if two or more threads are calling <code>take()</code> at the same time, it is conceivable that some threads will &quot;starve&quot; because the arriving elements are consistently being delivered to other waiting threads.   (The <code>PriorityBlockingQueue</code> uses <code>ReentrantLock</code> instances to coordinate the producers and consumers, but these are not created as <em>fair</em> locks.)</p>\n<p>Another scenario involves faulty <code>Comparable</code> or <code>Comparator</code> implementations.  When the queue is or becomes non-empty, <code>take()</code> calls an internal <code>dequeue</code> method which in turn uses the <code>Comparable</code> or <code>Comparator</code> interface to <em>sift</em> the queue.  If your <code>Comparable</code> or <code>Comparator</code> code could itself block, that would block the current <code>take()</code> call and all future <code>take()</code> calls.</p>\n<hr />\n<p>Having said that, you also need to consider the most obvious explanation; i.e. that <code>take()</code> is blocking because the queue <em>really is empty</em>.</p>\n"}],"owner":{"account_id":7378068,"reputation":31,"user_id":5615886,"display_name":"Krist&#243;f Marosv&#225;ri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77067756,"answer_count":1,"score":0,"last_activity_date":1694184972,"creation_date":1694178615,"question_id":77067190,"body_markdown":"From the docs I see, that the `take()` method blocks until an element becomes available.  \r\nIs there any other scenario when it could block?\r\n\r\nWhat I mean is, is there a possible scenario, when the queue is **not** empty, but despite that, calling `take()` blocks for some reason.\r\n\r\nPlease tell me, if anyone has knowledge about some scenario like this.","title":"Java PriorityBlockingQueue blocking behavior","body":"<p>From the docs I see, that the <code>take()</code> method blocks until an element becomes available.<br />\nIs there any other scenario when it could block?</p>\n<p>What I mean is, is there a possible scenario, when the queue is <strong>not</strong> empty, but despite that, calling <code>take()</code> blocks for some reason.</p>\n<p>Please tell me, if anyone has knowledge about some scenario like this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4816916,"reputation":16538,"user_id":3888766,"accept_rate":100,"display_name":"Fullstack Guy"},"score":3,"creation_date":1551760069,"post_id":54995386,"comment_id":96747271,"body_markdown":"What were your inputs?","body":"What were your inputs?"},{"owner":{"account_id":15189241,"reputation":1478,"user_id":11032188,"display_name":"Mark Melgo"},"score":0,"creation_date":1551760160,"post_id":54995386,"comment_id":96747292,"body_markdown":"Your code is correct. I think the input during GPA (line 15, as what the error says) are not in double format, maybe you entered a non number input","body":"Your code is correct. I think the input during GPA (line 15, as what the error says) are not in double format, maybe you entered a non number input"},{"owner":{"account_id":15458538,"reputation":59,"user_id":11151793,"display_name":"gangLand"},"score":0,"creation_date":1551760243,"post_id":54995386,"comment_id":96747315,"body_markdown":"@Mark My Inputs were: Hotam for the name 19 for the age, and 3.9 for the GPA, when i put a single digit in the GPA it runs fine. and even adds a 0 at the end for example If i put 3, it will print 3.0","body":"@Mark My Inputs were: Hotam for the name 19 for the age, and 3.9 for the GPA, when i put a single digit in the GPA it runs fine. and even adds a 0 at the end for example If i put 3, it will print 3.0"},{"owner":{"account_id":15156663,"reputation":71,"user_id":10937221,"display_name":"ChipLimo"},"score":0,"creation_date":1551760304,"post_id":54995386,"comment_id":96747331,"body_markdown":"I think you need to add some more code to check input. try to use Scanner.hasNext...() method.","body":"I think you need to add some more code to check input. try to use Scanner.hasNext...() method."},{"owner":{"account_id":15189241,"reputation":1478,"user_id":11032188,"display_name":"Mark Melgo"},"score":1,"creation_date":1551760463,"post_id":54995386,"comment_id":96747374,"body_markdown":"I executed your code with your input. It works well, no error was thrown","body":"I executed your code with your input. It works well, no error was thrown"},{"owner":{"account_id":15458538,"reputation":59,"user_id":11151793,"display_name":"gangLand"},"score":0,"creation_date":1551760670,"post_id":54995386,"comment_id":96747417,"body_markdown":"@Mark Maybe it has to do with eclipse? Im curious in what you run the code in","body":"@Mark Maybe it has to do with eclipse? Im curious in what you run the code in"},{"owner":{"account_id":15189241,"reputation":1478,"user_id":11032188,"display_name":"Mark Melgo"},"score":0,"creation_date":1551760719,"post_id":54995386,"comment_id":96747423,"body_markdown":"@HotamYusupov it has nothing to do with the IDE, I am also running it with eclipse. Try your input again and you will realize that it is working correctly","body":"@HotamYusupov it has nothing to do with the IDE, I am also running it with eclipse. Try your input again and you will realize that it is working correctly"},{"owner":{"account_id":15458538,"reputation":59,"user_id":11151793,"display_name":"gangLand"},"score":0,"creation_date":1551760771,"post_id":54995386,"comment_id":96747439,"body_markdown":"@Mark These are my exact inputs Enter your name: \nhotam\nEnter students age: \n19\nEnter your GPA: \n3.9  &lt;&lt;&lt; this is exactly where i get the error","body":"@Mark These are my exact inputs Enter your name:  hotam Enter students age:  19 Enter your GPA:  3.9  &lt;&lt;&lt; this is exactly where i get the error"}],"answers":[{"tags":[],"owner":{"account_id":3076596,"reputation":1137,"user_id":2605758,"display_name":"Hoppeduppeanut"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1551760731,"creation_date":1551760731,"answer_id":54995508,"question_id":54995386,"body_markdown":"Your code looks OK.\r\n\r\nAn `InputMismatchException` occurs in a `Scanner` when a given input doesn&#39;t match the expected input format. Your exception occurs on line 15, where a scanner expects a decimal number such as `3.14` (which, depending on your system&#39;s locale, the decimal can be represented by a dot `.` or a comma `,`!)\r\n\r\nIf you&#39;re certain that the input you&#39;re providing is absolutely a decimal number, but you&#39;re not sure what locale you&#39;re using, you can force a particular locale by using the `useLocale` method.\r\n\r\n    Scanner Scan = new Scanner(System.in).useLocale(Locale.US);","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException error","body":"<p>Your code looks OK.</p>\n\n<p>An <code>InputMismatchException</code> occurs in a <code>Scanner</code> when a given input doesn't match the expected input format. Your exception occurs on line 15, where a scanner expects a decimal number such as <code>3.14</code> (which, depending on your system's locale, the decimal can be represented by a dot <code>.</code> or a comma <code>,</code>!)</p>\n\n<p>If you're certain that the input you're providing is absolutely a decimal number, but you're not sure what locale you're using, you can force a particular locale by using the <code>useLocale</code> method.</p>\n\n<pre><code>Scanner Scan = new Scanner(System.in).useLocale(Locale.US);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23185557,"reputation":1,"user_id":17282726,"display_name":"Ayoub smit"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1635534165,"creation_date":1635534165,"answer_id":69773671,"question_id":54995386,"body_markdown":"when you enter a double or a float, enter it like this 80,9 not like this 80.9","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException error","body":"<p>when you enter a double or a float, enter it like this 80,9 not like this 80.9</p>\n"},{"tags":[],"owner":{"account_id":27912425,"reputation":1,"user_id":21314325,"display_name":"Kret"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677700563,"creation_date":1677700563,"answer_id":75608357,"question_id":54995386,"body_markdown":"when you enter a double or a float, enter with a comma (,) not a period (.) when the console asks you to enter a value.\r\n\r\n","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException error","body":"<p>when you enter a double or a float, enter with a comma (,) not a period (.) when the console asks you to enter a value.</p>\n"}],"owner":{"account_id":15458538,"reputation":59,"user_id":11151793,"display_name":"gangLand"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32124,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54995508,"answer_count":3,"score":5,"last_activity_date":1694184945,"creation_date":1551759979,"question_id":54995386,"body_markdown":"I believe I wrote all my code correctly but Im getting this error, can someone help me understand:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n\tat gangPackage.newClass.main(newClass.java:15)\r\n\r\nHere is my code:\r\n\r\n    package gangPackage;\r\n    import java.util.*;\r\n    public class newClass {\r\n    \tpublic static void main (String[] args) {\r\n    \t    Scanner Scan = new Scanner(System.in);\r\n    \t    String name;\r\n    \t    int age;\r\n    \t    double gpa;\r\n    \t\r\n    \t    System.out.println(&quot;Enter your name: &quot;);\r\n    \t    name = Scan.nextLine();\r\n    \t    System.out.println(&quot;Enter students age: &quot;);\r\n    \t    age = Scan.nextInt();\r\n    \t    System.out.println(&quot;Enter your GPA: &quot;);\r\n    \t    gpa = Scan.nextDouble();\r\n    \r\n    \r\n    \t    System.out.printf(name + &quot; is &quot; + age + &quot; years old. And has a GPA of &quot; + gpa);\r\n    \t}\r\n    }\r\n\r\n","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException error","body":"<p>I believe I wrote all my code correctly but Im getting this error, can someone help me understand:</p>\n\n<pre><code>Exception in thread \"main\" java.util.InputMismatchException\nat java.base/java.util.Scanner.throwFor(Scanner.java:939)\nat java.base/java.util.Scanner.next(Scanner.java:1594)\nat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\nat gangPackage.newClass.main(newClass.java:15)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>package gangPackage;\nimport java.util.*;\npublic class newClass {\n    public static void main (String[] args) {\n        Scanner Scan = new Scanner(System.in);\n        String name;\n        int age;\n        double gpa;\n\n        System.out.println(\"Enter your name: \");\n        name = Scan.nextLine();\n        System.out.println(\"Enter students age: \");\n        age = Scan.nextInt();\n        System.out.println(\"Enter your GPA: \");\n        gpa = Scan.nextDouble();\n\n\n        System.out.printf(name + \" is \" + age + \" years old. And has a GPA of \" + gpa);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1694184592,"post_id":77067884,"comment_id":135862325,"body_markdown":"I assume that&#39;s supposed to be `@Autowired` not `@Autowire`?  The `extern` import is also missing a semicolon.","body":"I assume that&#39;s supposed to be <code>@Autowired</code> not <code>@Autowire</code>?  The <code>extern</code> import is also missing a semicolon."}],"owner":{"account_id":3675763,"reputation":1288,"user_id":3061903,"accept_rate":55,"display_name":"Vishal Maral"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694184909,"creation_date":1694184483,"question_id":77067884,"body_markdown":"I have a project with 3 maven modules as follows:\r\n```\r\nmain\r\n|\r\n|--extern\r\n|\t|\r\n|\t|-Adapter.java\r\n|\t\r\n|--business\r\n\t|-- CustomerService.java\r\n```   \r\n- *business* is included as a dependency in *extern*\r\n- *business* and *extern* both are included as a dependency in *main*\r\n- *main* module has the @SpringBootApplication class\r\n\r\nHere are the signatures of these classes:\r\n\r\n**MainApplication**\r\n```\r\npackage com.company.main;\r\n\r\n@ComponentScan(basePackages = {&quot;com.company.business&quot;, &quot;com.company.extern&quot;})\r\npublic class MainApplication {\r\n\r\n    public static void main(String[] args) {\r\n        log.info(&quot;Running the service...&quot;);\r\n        var applicationContext = SpringApplication.run(MainApplication.class, args);\r\n        var customerService = applicationContext.getBean(&quot;customerService&quot;); //able to access the bean here\r\n    }\r\n}\r\n```\r\n**Adapter**\r\n```\r\npackage com.company.extern;\r\n\r\n@Component\r\npublic class Adapter.java implements ApplicationContextAware {\r\n\r\n\t@Autowire\r\n\tCustomerService customerService; //this is null\r\n\t\r\n\tpublic void expose(){\r\n\t\tcustomerService.serve();\r\n\t}\r\n\t\r\n\t@Override\r\n    public void setApplicationContext(ApplicationContext context) throws BeansException {\r\n        var service = context.getBean(&quot;customerService&quot;); //able to access bean here\r\n    }\r\n}\r\n```\r\n**CustomerService**\r\n```\r\npackage com.company.business;\r\n\r\n@Service\r\npublic class CustomerService {\r\n\r\n    public void serve() {\r\n        log.info(&quot;serve&quot;);\r\n    }\r\n}\r\n```\r\nI can&#39;t get Spring to wire `customerService` bean in `Adapter.java`. what am I missing here? How can I make it work?","title":"How to resolve transitive spring bean dependency","body":"<p>I have a project with 3 maven modules as follows:</p>\n<pre><code>main\n|\n|--extern\n|   |\n|   |-Adapter.java\n|   \n|--business\n    |-- CustomerService.java\n</code></pre>\n<ul>\n<li><em>business</em> is included as a dependency in <em>extern</em></li>\n<li><em>business</em> and <em>extern</em> both are included as a dependency in <em>main</em></li>\n<li><em>main</em> module has the @SpringBootApplication class</li>\n</ul>\n<p>Here are the signatures of these classes:</p>\n<p><strong>MainApplication</strong></p>\n<pre><code>package com.company.main;\n\n@ComponentScan(basePackages = {&quot;com.company.business&quot;, &quot;com.company.extern&quot;})\npublic class MainApplication {\n\n    public static void main(String[] args) {\n        log.info(&quot;Running the service...&quot;);\n        var applicationContext = SpringApplication.run(MainApplication.class, args);\n        var customerService = applicationContext.getBean(&quot;customerService&quot;); //able to access the bean here\n    }\n}\n</code></pre>\n<p><strong>Adapter</strong></p>\n<pre><code>package com.company.extern;\n\n@Component\npublic class Adapter.java implements ApplicationContextAware {\n\n    @Autowire\n    CustomerService customerService; //this is null\n    \n    public void expose(){\n        customerService.serve();\n    }\n    \n    @Override\n    public void setApplicationContext(ApplicationContext context) throws BeansException {\n        var service = context.getBean(&quot;customerService&quot;); //able to access bean here\n    }\n}\n</code></pre>\n<p><strong>CustomerService</strong></p>\n<pre><code>package com.company.business;\n\n@Service\npublic class CustomerService {\n\n    public void serve() {\n        log.info(&quot;serve&quot;);\n    }\n}\n</code></pre>\n<p>I can't get Spring to wire <code>customerService</code> bean in <code>Adapter.java</code>. what am I missing here? How can I make it work?</p>\n"},{"tags":["java","windows","swing","jfilechooser"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1429696795,"post_id":29793656,"comment_id":47716286,"body_markdown":"possible duplicate of [How to set the dpi of java swing apps on Windows/Linux?](http://stackoverflow.com/questions/15659044/how-to-set-the-dpi-of-java-swing-apps-on-windows-linux)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/15659044/how-to-set-the-dpi-of-java-swing-apps-on-windows-linux\">How to set the dpi of java swing apps on Windows/Linux?</a>"},{"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"score":0,"creation_date":1438265028,"post_id":29793656,"comment_id":51387969,"body_markdown":"AFAIK, it&#39;s not possible right now. Please submit a bug/RFE at http://bugreport.java.com","body":"AFAIK, it&#39;s not possible right now. Please submit a bug/RFE at <a href=\"http://bugreport.java.com\" rel=\"nofollow noreferrer\">bugreport.java.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":3265203,"reputation":471,"user_id":2749837,"accept_rate":38,"display_name":"gantners"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444080190,"creation_date":1444080190,"answer_id":32958121,"question_id":29793656,"body_markdown":"Just a quick idea while i came across this thread. You can try to deliver your own iconset:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    new JFileChooser().setFileView(new FileView() {\r\n\t\t\t@Override\r\n\t\t\tpublic Icon getIcon(File f) {\r\n\t\t\t\treturn fancy2kIconForExtension(StringUtils.substringAfterLast(&quot;.&quot;));\r\n\t\t\t}\r\n\t\t});\r\n\r\nbe careful to load your Icons from a Cache, as this method is called very often from inside `JFileChooser`, otherwise you end up reloading icon all the time.","title":"JFileChooser icons on 2K Displays","body":"<p>Just a quick idea while i came across this thread. You can try to deliver your own iconset:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new JFileChooser().setFileView(new FileView() {\n        @Override\n        public Icon getIcon(File f) {\n            return fancy2kIconForExtension(StringUtils.substringAfterLast(\".\"));\n        }\n    });\n</code></pre>\n\n<p>be careful to load your Icons from a Cache, as this method is called very often from inside <code>JFileChooser</code>, otherwise you end up reloading icon all the time.</p>\n"},{"tags":[],"owner":{"account_id":20452579,"reputation":26,"user_id":15007011,"display_name":"Rjelinek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663797824,"creation_date":1663797824,"answer_id":73807386,"question_id":29793656,"body_markdown":"I very recently ran into same problem. the only work around is not using java build in ImageIcon class but to write one yourself,\r\nThis one took the provided image, scale it to fit current component size and paint it. I tried to make is as simple as possible and as close to original class as able, but its not perfect and need improvement, especially in component-icon alignment\r\n\r\n        import java.awt.Component;\r\n        import java.awt.Graphics;\r\n        import java.awt.Graphics2D;\r\n        import java.awt.RenderingHints;\r\n        import java.awt.geom.AffineTransform;\r\n        import javax.swing.AbstractButton;\r\n        import javax.swing.ImageIcon;\r\n        \r\n        /**\r\n         *\r\n         * @author Rastislav\r\n         */\r\n        public class ScaleToFitAndAntialiasIcon extends ImageIcon{\r\n            private ImageIcon icon;\r\n            \r\n            \r\n            \r\n        \r\n            public ScaleToFitAndAntialiasIcon(ImageIcon icon)\r\n            {\r\n                this.icon = icon;\r\n            }\r\n        \r\n            public int getIconWidth()\r\n            {\r\n                return icon.getIconWidth();\r\n            }\r\n        \r\n            public int getIconHeight()\r\n            {\r\n                return icon.getIconHeight();\r\n            }\r\n        \r\n            @Override\r\n            public void paintIcon(Component c, Graphics g, int x, int y)\r\n            {\r\n                Graphics2D g2d = (Graphics2D)g.create();\r\n                AffineTransform at = g2d.getTransform();\r\n                \r\n                double scaleToFit = ((double)c.getHeight() / (double)icon.getIconHeight());\r\n                \r\n                \r\n                if((int)icon.getIconHeight()*scaleToFit == c.getHeight()){\r\n                    scaleToFit = ((double)c.getHeight() / (double)icon.getIconHeight()) - 0.1;\r\n                }\r\n        \r\n                AffineTransform scaled = AffineTransform.getScaleInstance(scaleToFit, scaleToFit);\r\n                at.concatenate( scaled );\r\n                g2d.setTransform( at );\r\n                \r\n    //need improvement\r\n               /* int lineupMinus = (int)((double)icon.getIconWidth() *((double)c.getHeight() / (double)icon.getIconHeight()));\r\n                int lineup = (int)((double)icon.getIconWidth() * scaleToFit);\r\n                \r\n                int ff = (int)(lineupMinus - lineup);\r\n                System.out.println(ff);\r\n                */\r\n                \r\n                g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n    //improved code goes here\r\n                icon.paintIcon(c, g2d, x, 4);\r\n                \r\n                \r\n                \r\n                \r\n                if(c instanceof AbstractButton a){\r\n                    a.setIconTextGap((int)(-icon.getIconWidth()/2));\r\n                }\r\n                \r\n                \r\n                \r\n                g2d.dispose();\r\n            }\r\n        \r\n        \r\n        }","title":"JFileChooser icons on 2K Displays","body":"<p>I very recently ran into same problem. the only work around is not using java build in ImageIcon class but to write one yourself,\nThis one took the provided image, scale it to fit current component size and paint it. I tried to make is as simple as possible and as close to original class as able, but its not perfect and need improvement, especially in component-icon alignment</p>\n<pre><code>    import java.awt.Component;\n    import java.awt.Graphics;\n    import java.awt.Graphics2D;\n    import java.awt.RenderingHints;\n    import java.awt.geom.AffineTransform;\n    import javax.swing.AbstractButton;\n    import javax.swing.ImageIcon;\n    \n    /**\n     *\n     * @author Rastislav\n     */\n    public class ScaleToFitAndAntialiasIcon extends ImageIcon{\n        private ImageIcon icon;\n        \n        \n        \n    \n        public ScaleToFitAndAntialiasIcon(ImageIcon icon)\n        {\n            this.icon = icon;\n        }\n    \n        public int getIconWidth()\n        {\n            return icon.getIconWidth();\n        }\n    \n        public int getIconHeight()\n        {\n            return icon.getIconHeight();\n        }\n    \n        @Override\n        public void paintIcon(Component c, Graphics g, int x, int y)\n        {\n            Graphics2D g2d = (Graphics2D)g.create();\n            AffineTransform at = g2d.getTransform();\n            \n            double scaleToFit = ((double)c.getHeight() / (double)icon.getIconHeight());\n            \n            \n            if((int)icon.getIconHeight()*scaleToFit == c.getHeight()){\n                scaleToFit = ((double)c.getHeight() / (double)icon.getIconHeight()) - 0.1;\n            }\n    \n            AffineTransform scaled = AffineTransform.getScaleInstance(scaleToFit, scaleToFit);\n            at.concatenate( scaled );\n            g2d.setTransform( at );\n            \n//need improvement\n           /* int lineupMinus = (int)((double)icon.getIconWidth() *((double)c.getHeight() / (double)icon.getIconHeight()));\n            int lineup = (int)((double)icon.getIconWidth() * scaleToFit);\n            \n            int ff = (int)(lineupMinus - lineup);\n            System.out.println(ff);\n            */\n            \n            g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n//improved code goes here\n            icon.paintIcon(c, g2d, x, 4);\n            \n            \n            \n            \n            if(c instanceof AbstractButton a){\n                a.setIconTextGap((int)(-icon.getIconWidth()/2));\n            }\n            \n            \n            \n            g2d.dispose();\n        }\n    \n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278315,"reputation":11579,"user_id":572834,"display_name":"Alexey Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694184304,"creation_date":1694184304,"answer_id":77067860,"question_id":29793656,"body_markdown":"Java 8 does not support High DPI, its UI is scaled up by Windows to the correct size. Yet it means the UI is blurry.\r\n\r\nJava 11 and later support High DPI, the icons in `JFileChooser` will be scaled up by Java if the icon is not a [`MultiResolutionImage`][1] that provides different icons for different display scales in High DPI environment. In Java 17, most icons used by the file chooser are multi-resolution icons.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/MultiResolutionImage.html","title":"JFileChooser icons on 2K Displays","body":"<p>Java 8 does not support High DPI, its UI is scaled up by Windows to the correct size. Yet it means the UI is blurry.</p>\n<p>Java 11 and later support High DPI, the icons in <code>JFileChooser</code> will be scaled up by Java if the icon is not a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/MultiResolutionImage.html\" rel=\"nofollow noreferrer\"><code>MultiResolutionImage</code></a> that provides different icons for different display scales in High DPI environment. In Java 17, most icons used by the file chooser are multi-resolution icons.</p>\n"}],"owner":{"display_name":"user502187"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1694184304,"creation_date":1429695950,"question_id":29793656,"body_markdown":"Any idea how to make the Java Swing file chooser\r\nlook better on 2K displays where the windows\r\nfont scaling is &gt; 125%?\r\n\r\nI am using ordinary code such as:\r\n\r\n    JFileChooser fc = new JFileChooser();\r\n    if (settings.currentdir != null)\r\n       fc.setCurrentDirectory(new File(settings.currentdir));\r\n    int returnVal = fc.showOpenDialog((Window) holder);\r\n    if (returnVal == JFileChooser.APPROVE_OPTION) {\r\n\r\n\r\nBut the file chooser is only displaying tiny\r\nicons for the listed files and directories. I am using\r\nJDK 8. What is going wrong?\r\n\r\nP.S.: Scope of the question is only Windows, not \r\nUnixes. On Windows, the two default L&amp;F, they \r\nscale the font. But they don&#39;t scale icons. The \r\napplication has to do that, since it might use \r\na different bitmap resources for higher scales. \r\nIt seems that JFileChooser is not coded this way. \r\n\r\nBut it might be that the JFileChooser can be\r\ninstructed to do so. I don&#39;t see that the\r\nother question addresses icon size and the\r\nJFileChooser on Windows: https://stackoverflow.com/questions/15659044/how-to-set-the-dpi-of-java-swing-apps-on-windows-linux The\r\nother question deals with font size, which is\r\nnot an issue for the JFileChooser on Windows with\r\none of the two Windows L&amp;F.","title":"JFileChooser icons on 2K Displays","body":"<p>Any idea how to make the Java Swing file chooser\nlook better on 2K displays where the windows\nfont scaling is > 125%?</p>\n\n<p>I am using ordinary code such as:</p>\n\n<pre><code>JFileChooser fc = new JFileChooser();\nif (settings.currentdir != null)\n   fc.setCurrentDirectory(new File(settings.currentdir));\nint returnVal = fc.showOpenDialog((Window) holder);\nif (returnVal == JFileChooser.APPROVE_OPTION) {\n</code></pre>\n\n<p>But the file chooser is only displaying tiny\nicons for the listed files and directories. I am using\nJDK 8. What is going wrong?</p>\n\n<p>P.S.: Scope of the question is only Windows, not \nUnixes. On Windows, the two default L&amp;F, they \nscale the font. But they don't scale icons. The \napplication has to do that, since it might use \na different bitmap resources for higher scales. \nIt seems that JFileChooser is not coded this way. </p>\n\n<p>But it might be that the JFileChooser can be\ninstructed to do so. I don't see that the\nother question addresses icon size and the\nJFileChooser on Windows: <a href=\"https://stackoverflow.com/questions/15659044/how-to-set-the-dpi-of-java-swing-apps-on-windows-linux\">How to set the DPI of Java Swing apps on Windows/Linux?</a> The\nother question deals with font size, which is\nnot an issue for the JFileChooser on Windows with\none of the two Windows L&amp;F.</p>\n"},{"tags":["java","image","android-studio","imageview"],"answers":[{"tags":[],"owner":{"account_id":17620595,"reputation":55,"user_id":12786651,"display_name":"Rafael Diaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694181669,"creation_date":1694181669,"answer_id":77067571,"question_id":77067514,"body_markdown":"Try changing android:scaleType=&quot;centerCrop&quot; to android:scaleType=&quot;fitCenter&quot;","title":"image is cropped inside the image view","body":"<p>Try changing android:scaleType=&quot;centerCrop&quot; to android:scaleType=&quot;fitCenter&quot;</p>\n"},{"tags":[],"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694184272,"creation_date":1694184272,"answer_id":77067851,"question_id":77067514,"body_markdown":"According to your screenshot, ImageView has rounded corners:\r\n[![enter image description here][1]][1]\r\n\r\nSo I assume there is another code affecting that view which causes cropping and rounded corners.\r\n\r\n  [1]: https://i.stack.imgur.com/4Yy6l.png","title":"image is cropped inside the image view","body":"<p>According to your screenshot, ImageView has rounded corners:\n<a href=\"https://i.stack.imgur.com/4Yy6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Yy6l.png\" alt=\"enter image description here\" /></a></p>\n<p>So I assume there is another code affecting that view which causes cropping and rounded corners.</p>\n"}],"owner":{"account_id":29257311,"reputation":21,"user_id":22415222,"display_name":"Arianna Garaglia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694184272,"creation_date":1694181208,"question_id":77067514,"body_markdown":"I&#39;m trying to load an image into an image view: \r\n[![enter image description here](https://i.stack.imgur.com/nDTu7.jpg)](https://i.stack.imgur.com/nDTu7.jpg)\r\n\r\nbut the image is cropped inside the image view:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6S9kD.jpg)](https://i.stack.imgur.com/6S9kD.jpg)\r\n```\r\n &lt;ImageView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginTop=&quot;30dp&quot;\r\n    android:layout_marginBottom=&quot;10dp&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:scaleType=&quot;centerCrop&quot;\r\n    android:src=&quot;@mipmap/icona_animal_app&quot; /&gt;\r\n```\r\n\r\n\r\nwhy does this thing happen? how can i solve?","title":"image is cropped inside the image view","body":"<p>I'm trying to load an image into an image view:\n<a href=\"https://i.stack.imgur.com/nDTu7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nDTu7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>but the image is cropped inside the image view:</p>\n<p><a href=\"https://i.stack.imgur.com/6S9kD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6S9kD.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code> &lt;ImageView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;30dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:gravity=&quot;center&quot;\n    android:scaleType=&quot;centerCrop&quot;\n    android:src=&quot;@mipmap/icona_animal_app&quot; /&gt;\n</code></pre>\n<p>why does this thing happen? how can i solve?</p>\n"},{"tags":["java","spring","spring-batch"],"owner":{"account_id":29396098,"reputation":1,"user_id":22523414,"display_name":"sman_steel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694184255,"creation_date":1694184255,"question_id":77067848,"body_markdown":"I get this trace when i run the code below : \r\n```\r\n2023-09-08T16:32:38.217+02:00 ERROR 26472 --- [   scheduling-1] o.s.batch.core.step.AbstractStep         : Encountered an error executing step step in job job\r\n\r\njava.lang.IllegalStateException: Existing transaction detected in JobRepository. Please fix this and try again (e.g. remove @Transactional annotations from client).\r\n\tat org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean.lambda$getObject$0(AbstractJobRepositoryFactoryBean.java:201) ~[spring-batch-core-5.0.3.jar:5.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.11.jar:6.0.11]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy73.createJobExecution(Unknown Source) ~[na:na]\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145) ~[spring-batch-core-5.0.3.jar:5.0.3]\r\n\tat org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.0.3.jar:5.0.3]\r\n\tat com.test.batch.jobConfig$1.execute(jobConfig.java:62) ~[classes/:na]\r\n```\r\n\r\n\r\n```\r\n\r\n    @Autowired\r\n    PlatformTransactionManager mgr;\r\n    @Autowired\r\n    JobRepository jr;\r\n    @Autowired\r\n    ApplicationContext applicationContext;\r\n    @Qualifier(&quot;simpleJobLauncher&quot;)\r\n    @Autowired\r\n    JobLauncher simpleJobLauncher;\r\n@Bean\r\n    public Job job() throws JobInstanceAlreadyCompleteException, JobExecutionAlreadyRunningException, JobParametersInvalidException, JobRestartException {\r\n        return new JobBuilder(&quot;job&quot;, jr)\r\n                .start(new StepBuilder(&quot;step&quot;, jr).tasklet(new Tasklet() {\r\n                    @Override\r\n                    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n                        System.out.println(&quot;helloJob&quot;);\r\n                        Map&lt;String, Object&gt; beans = applicationContext.getBeansWithAnnotation(Annotation.class);\r\n                        for (Object bean: beans.values()\r\n                        ) {\r\n                            Job jobbean = (Job) bean;\r\n                            JobParameters jp = new JobParametersBuilder()\r\n                                    .addString(&quot;time&quot;, new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;).format(Calendar.getInstance().getTime()))\r\n\r\n                                    .toJobParameters();\r\n                            simpleJobLauncher.run(jobbean, jp);\r\n                        }\r\n                        return null;\r\n                    }\r\n                }, mgr)\r\n                        .build())\r\n                .build();\r\n\r\n    }\r\n```\r\n\r\n```\r\n    @Bean\r\n    public TaskExecutor taskExecutor(){\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(2);\r\n        executor.setMaxPoolSize(2);\r\n        executor.setQueueCapacity(500);\r\n        executor.setThreadNamePrefix(&quot;GithubLookup-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n\r\n```\r\n```\r\n\r\n    @Bean\r\n    public JobLauncher simpleJobLauncher(JobRepository jr , @Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor) throws Exception {\r\n        TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\r\n        jobLauncher.setJobRepository(jr);\r\n        jobLauncher.setTaskExecutor(taskExecutor);\r\n        jobLauncher.afterPropertiesSet();\r\n        return jobLauncher;\r\n    }\r\n```\r\n\r\n\r\n\r\nI have tried to lauch it with a separate JobLauncher, with a new TaskExecutor, and so on, maybe i missed something. And i don&#39;t use @Transactional at all.\r\n\r\nMaybe i don&#39;t have the right use of the jobs, if this is the case, please enlighten me\r\n\r\n\r\nVersions tried : \r\nJava 17 &amp; 20\r\nSpring : 3.1.3\r\nIn any case thank you for your time ","title":"Spring Batch : Existing transaction detected in JobRepository","body":"<p>I get this trace when i run the code below :</p>\n<pre><code>2023-09-08T16:32:38.217+02:00 ERROR 26472 --- [   scheduling-1] o.s.batch.core.step.AbstractStep         : Encountered an error executing step step in job job\n\njava.lang.IllegalStateException: Existing transaction detected in JobRepository. Please fix this and try again (e.g. remove @Transactional annotations from client).\n    at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean.lambda$getObject$0(AbstractJobRepositoryFactoryBean.java:201) ~[spring-batch-core-5.0.3.jar:5.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.11.jar:6.0.11]\n    at jdk.proxy2/jdk.proxy2.$Proxy73.createJobExecution(Unknown Source) ~[na:na]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145) ~[spring-batch-core-5.0.3.jar:5.0.3]\n    at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.0.3.jar:5.0.3]\n    at com.test.batch.jobConfig$1.execute(jobConfig.java:62) ~[classes/:na]\n</code></pre>\n<pre><code>\n    @Autowired\n    PlatformTransactionManager mgr;\n    @Autowired\n    JobRepository jr;\n    @Autowired\n    ApplicationContext applicationContext;\n    @Qualifier(&quot;simpleJobLauncher&quot;)\n    @Autowired\n    JobLauncher simpleJobLauncher;\n@Bean\n    public Job job() throws JobInstanceAlreadyCompleteException, JobExecutionAlreadyRunningException, JobParametersInvalidException, JobRestartException {\n        return new JobBuilder(&quot;job&quot;, jr)\n                .start(new StepBuilder(&quot;step&quot;, jr).tasklet(new Tasklet() {\n                    @Override\n                    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n                        System.out.println(&quot;helloJob&quot;);\n                        Map&lt;String, Object&gt; beans = applicationContext.getBeansWithAnnotation(Annotation.class);\n                        for (Object bean: beans.values()\n                        ) {\n                            Job jobbean = (Job) bean;\n                            JobParameters jp = new JobParametersBuilder()\n                                    .addString(&quot;time&quot;, new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;).format(Calendar.getInstance().getTime()))\n\n                                    .toJobParameters();\n                            simpleJobLauncher.run(jobbean, jp);\n                        }\n                        return null;\n                    }\n                }, mgr)\n                        .build())\n                .build();\n\n    }\n</code></pre>\n<pre><code>    @Bean\n    public TaskExecutor taskExecutor(){\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(2);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix(&quot;GithubLookup-&quot;);\n        executor.initialize();\n        return executor;\n    }\n\n</code></pre>\n<pre><code>\n    @Bean\n    public JobLauncher simpleJobLauncher(JobRepository jr , @Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor) throws Exception {\n        TaskExecutorJobLauncher jobLauncher = new TaskExecutorJobLauncher();\n        jobLauncher.setJobRepository(jr);\n        jobLauncher.setTaskExecutor(taskExecutor);\n        jobLauncher.afterPropertiesSet();\n        return jobLauncher;\n    }\n</code></pre>\n<p>I have tried to lauch it with a separate JobLauncher, with a new TaskExecutor, and so on, maybe i missed something. And i don't use @Transactional at all.</p>\n<p>Maybe i don't have the right use of the jobs, if this is the case, please enlighten me</p>\n<p>Versions tried :\nJava 17 &amp; 20\nSpring : 3.1.3\nIn any case thank you for your time</p>\n"},{"tags":["java","spring-boot","docker-compose","docker-registry"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694184251,"creation_date":1694184251,"answer_id":77067847,"question_id":77067771,"body_markdown":"Have you tried to add `defaultZone`  to `eureka.client` config yet ? I mean something like this:\r\n\r\n    eureka:\r\n      client:\r\n        register-with-eureka: false\r\n        fetch-registry: false\r\n        service-url:\r\n          defaultZone: http://localhost:8761/eureka\r\n      instance:\r\n        hostname: localhost\r\n\r\n","title":"I am trying to register an instance of a service to a discovery server and getting this error below","body":"<p>Have you tried to add <code>defaultZone</code>  to <code>eureka.client</code> config yet ? I mean something like this:</p>\n<pre><code>eureka:\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n    service-url:\n      defaultZone: http://localhost:8761/eureka\n  instance:\n    hostname: localhost\n</code></pre>\n"}],"owner":{"account_id":19411240,"reputation":1,"user_id":14195624,"display_name":"Badmus Sodiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694184251,"creation_date":1694183592,"question_id":77067771,"body_markdown":"I tried to register an instance of my microservice with eureka discovery server running on docker. The application is running fine but when i try to register an instance, It will register it but will bring this runtime excetpion.... This is my error log... I am confused as it is trying to connect to localhost:8761 which i did not configure in the configuration file.\r\n\r\n\r\n```\r\n2023-09-08 14:31:01 2023-09-08T13:31:01.536Z  INFO 1 --- [nio-9001-exec-2] c.n.e.registry.AbstractInstanceRegistry  : Registered instance API-GATEWAY/479d5ae21d41:api-gateway:9000 with status UP (replication=false)\r\n2023-09-08 14:31:03 2023-09-08T13:31:03.618Z ERROR 1 --- [get_localhost-4] c.n.e.cluster.ReplicationTaskProcessor   : Network level connection to peer localhost; retrying after delay\r\n2023-09-08 14:31:03 \r\n2023-09-08 14:31:03 ***jakarta.ws.rs.ProcessingException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused***\r\n2023-09-08 14:31:03     at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:439) ~[jersey-client-3.1.3.jar!/:na]\r\n2023-09-08 14:31:03     at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:345) ~[jersey-client-3.1.3.jar!/:na]\r\n2023-09-08 14:31:03     at com.netflix.eureka.transport.Jersey3ReplicationClient.submitBatchUpdates(Jersey3ReplicationClient.java:116) ~[eureka-core-jersey3-2.0.1.jar!/:2.0.1]\r\n2023-09-08 14:31:03     at com.netflix.eureka.cluster.ReplicationTaskProcessor.process(ReplicationTaskProcessor.java:80) ~[eureka-core-2.0.1.jar!/:2.0.1]\r\n2023-09-08 14:31:03     at com.netflix.eureka.util.batcher.TaskExecutors$BatchWorkerRunnable.run(TaskExecutors.java:190) ~[eureka-core-2.0.1.jar!/:2.0.1]\r\n2023-09-08 14:31:03     at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n2023-09-08 14:31:03 Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused\r\n2023-09-08 14:31:03     at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:159) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:03     at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:359) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:13     at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n2023-09-08 14:31:13 Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused\r\n2023-09-08 14:31:13     at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:159) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:13     at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:359) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:13     at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:13     at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:13     at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:23     at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:23     at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:23     at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:23     at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:23     at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:23     at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.3.jar!/:4.5.3]\r\n2023-09-08 14:31:23     at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:483) ~[jersey-apache-connector-3.1.3.jar!/:na\r\n2023-09-08 14:31:23 \r\n2023-09-08 14:31:26 2023-09-08T13:31:26.682Z  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 98ms\r\n2023-09-08 14:31:33 2023-09-08T13:31:33.757Z ERROR 1 --- [et_localhost-16] c.n.e.cluster.ReplicationTaskProcessor   : Network level connection to peer localhost; retrying after delay\r\n```\r\n```\r\n# Below is the application.yml file for the discovery server\r\nserver:\r\n  port: 9001\r\n\r\n\r\nspring:\r\n  application:\r\n    name: discovery-server\r\n\r\n\r\neureka:\r\n  client:\r\n    register-with-eureka: false\r\n    fetch-registry: false\r\n  instance:\r\n    hostname: localhost\r\n\r\n#spring:\r\n#  zipkin:\r\n#    base-url: http://localhost:9411\r\n#  sleuth:\r\n#    sampler:\r\n#      probability: 1.0\r\n\r\nmanagement:\r\n  tracing:\r\n    sampling:\r\n      probability: 1.0\r\n# Below is the docker compose configuration for discovery server\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  discovery-service:\r\n    image:  discoveryservice\r\n    container_name: discovery-service\r\n    hostname: discovery-service\r\n    environment:\r\n      EUREKA_INSTANCE_HOSTNAME: discovery-service\r\n    ports:\r\n      - &quot;9001:9001&quot;\r\n    networks:\r\n      - grammercetamol\r\nnetworks:\r\n  grammercetamol:\r\n    name: grammercetamol\r\n    external: true\r\n\r\n# Below is also the application.yml file for api-gateway, the instance i am trying to register to the server\r\nserver:\r\n  port: 9000\r\n\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:9001/eureka\r\n  instance:\r\n    hostname: localhost\r\n\r\n\r\nspring:\r\n  application:\r\n    name: api-gateway\r\n    http:\r\n      multipart:\r\n        max-file-size: 50MB\r\n        max-request-size: 40\r\n  cloud:\r\n    discovery:\r\n      enabled: true\r\n    gateway:\r\n      routes:\r\n#        Identity service route\r\n        - id: identity-service\r\n          predicates:\r\n            - Path=/api/auth/**\r\n          uri: lb://identity-service\r\n\r\n#        Course service route\r\n        - id: course-service\r\n          predicates:\r\n            - Path=/api/courses/**\r\n          uri: lb://course-service\r\n\r\n#          Video service route\r\n        - id: video-service\r\n          predicates:\r\n            - Path=/api/videos/**\r\n          uri: lb://video-service\r\n\r\n#          cloudinary service route\r\n        - id: cloudinary-service\r\n          predicates:\r\n            - Path=/api/cloudinary/**\r\n          uri: lb://cloudinary-service\r\nlogging:\r\n  level:\r\n    root: INFO\r\n    org:\r\n      springframework:\r\n        cloud:\r\n          gateway: TRACE\r\n          gateway.route.RouteDefinitionLoader: INFO\r\n# The docker compose file for the instance API-GATEWAY\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  api-gateway:\r\n    image: apigateway\r\n    container_name: api-gateway\r\n    ports:\r\n      - &quot;9000:9000&quot;\r\n    environment:\r\n      EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://discovery-service:9001/eureka\r\n      EUREKA_INSTANCE_HOSTNAME: api-gateway\r\n#      - eureka_client_serviceUrl_defaultZone=http://discovery-server:9001/eureka\r\n    networks:\r\n      - grammercetamol\r\nnetworks:\r\n  grammercetamol:\r\n    name: grammercetamol\r\n    external: true\r\n```\r\n","title":"I am trying to register an instance of a service to a discovery server and getting this error below","body":"<p>I tried to register an instance of my microservice with eureka discovery server running on docker. The application is running fine but when i try to register an instance, It will register it but will bring this runtime excetpion.... This is my error log... I am confused as it is trying to connect to localhost:8761 which i did not configure in the configuration file.</p>\n<pre><code>2023-09-08 14:31:01 2023-09-08T13:31:01.536Z  INFO 1 --- [nio-9001-exec-2] c.n.e.registry.AbstractInstanceRegistry  : Registered instance API-GATEWAY/479d5ae21d41:api-gateway:9000 with status UP (replication=false)\n2023-09-08 14:31:03 2023-09-08T13:31:03.618Z ERROR 1 --- [get_localhost-4] c.n.e.cluster.ReplicationTaskProcessor   : Network level connection to peer localhost; retrying after delay\n2023-09-08 14:31:03 \n2023-09-08 14:31:03 ***jakarta.ws.rs.ProcessingException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused***\n2023-09-08 14:31:03     at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:439) ~[jersey-client-3.1.3.jar!/:na]\n2023-09-08 14:31:03     at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:345) ~[jersey-client-3.1.3.jar!/:na]\n2023-09-08 14:31:03     at com.netflix.eureka.transport.Jersey3ReplicationClient.submitBatchUpdates(Jersey3ReplicationClient.java:116) ~[eureka-core-jersey3-2.0.1.jar!/:2.0.1]\n2023-09-08 14:31:03     at com.netflix.eureka.cluster.ReplicationTaskProcessor.process(ReplicationTaskProcessor.java:80) ~[eureka-core-2.0.1.jar!/:2.0.1]\n2023-09-08 14:31:03     at com.netflix.eureka.util.batcher.TaskExecutors$BatchWorkerRunnable.run(TaskExecutors.java:190) ~[eureka-core-2.0.1.jar!/:2.0.1]\n2023-09-08 14:31:03     at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n2023-09-08 14:31:03 Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused\n2023-09-08 14:31:03     at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:159) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:03     at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:359) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:03     at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:13     at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n2023-09-08 14:31:13 Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused\n2023-09-08 14:31:13     at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:159) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:13     at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:359) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:13     at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:13     at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:13     at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:23     at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:23     at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:23     at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:23     at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:23     at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:23     at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.3.jar!/:4.5.3]\n2023-09-08 14:31:23     at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:483) ~[jersey-apache-connector-3.1.3.jar!/:na\n2023-09-08 14:31:23 \n2023-09-08 14:31:26 2023-09-08T13:31:26.682Z  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 98ms\n2023-09-08 14:31:33 2023-09-08T13:31:33.757Z ERROR 1 --- [et_localhost-16] c.n.e.cluster.ReplicationTaskProcessor   : Network level connection to peer localhost; retrying after delay\n</code></pre>\n<pre><code># Below is the application.yml file for the discovery server\nserver:\n  port: 9001\n\n\nspring:\n  application:\n    name: discovery-server\n\n\neureka:\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n  instance:\n    hostname: localhost\n\n#spring:\n#  zipkin:\n#    base-url: http://localhost:9411\n#  sleuth:\n#    sampler:\n#      probability: 1.0\n\nmanagement:\n  tracing:\n    sampling:\n      probability: 1.0\n# Below is the docker compose configuration for discovery server\nversion: '3.8'\n\nservices:\n  discovery-service:\n    image:  discoveryservice\n    container_name: discovery-service\n    hostname: discovery-service\n    environment:\n      EUREKA_INSTANCE_HOSTNAME: discovery-service\n    ports:\n      - &quot;9001:9001&quot;\n    networks:\n      - grammercetamol\nnetworks:\n  grammercetamol:\n    name: grammercetamol\n    external: true\n\n# Below is also the application.yml file for api-gateway, the instance i am trying to register to the server\nserver:\n  port: 9000\n\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:9001/eureka\n  instance:\n    hostname: localhost\n\n\nspring:\n  application:\n    name: api-gateway\n    http:\n      multipart:\n        max-file-size: 50MB\n        max-request-size: 40\n  cloud:\n    discovery:\n      enabled: true\n    gateway:\n      routes:\n#        Identity service route\n        - id: identity-service\n          predicates:\n            - Path=/api/auth/**\n          uri: lb://identity-service\n\n#        Course service route\n        - id: course-service\n          predicates:\n            - Path=/api/courses/**\n          uri: lb://course-service\n\n#          Video service route\n        - id: video-service\n          predicates:\n            - Path=/api/videos/**\n          uri: lb://video-service\n\n#          cloudinary service route\n        - id: cloudinary-service\n          predicates:\n            - Path=/api/cloudinary/**\n          uri: lb://cloudinary-service\nlogging:\n  level:\n    root: INFO\n    org:\n      springframework:\n        cloud:\n          gateway: TRACE\n          gateway.route.RouteDefinitionLoader: INFO\n# The docker compose file for the instance API-GATEWAY\nversion: '3.8'\n\nservices:\n  api-gateway:\n    image: apigateway\n    container_name: api-gateway\n    ports:\n      - &quot;9000:9000&quot;\n    environment:\n      EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: http://discovery-service:9001/eureka\n      EUREKA_INSTANCE_HOSTNAME: api-gateway\n#      - eureka_client_serviceUrl_defaultZone=http://discovery-server:9001/eureka\n    networks:\n      - grammercetamol\nnetworks:\n  grammercetamol:\n    name: grammercetamol\n    external: true\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9798,"page":194,"page_size":100}
