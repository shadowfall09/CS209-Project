{"items":[{"tags":["java","spring-boot","apache-kafka","testcontainers"],"comments":[{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1664441799,"post_id":73882606,"comment_id":130474196,"body_markdown":"This does not seem to be an issue with the test, but with the actual application behavior?","body":"This does not seem to be an issue with the test, but with the actual application behavior?"},{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":0,"creation_date":1664442025,"post_id":73882606,"comment_id":130474285,"body_markdown":"Not sure, the application works fine when tested manually","body":"Not sure, the application works fine when tested manually"}],"answers":[{"tags":[],"owner":{"account_id":4637558,"reputation":140,"user_id":3758358,"display_name":"ruifn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664445025,"creation_date":1664445025,"answer_id":73893519,"question_id":73882606,"body_markdown":"I would advise against using `@Transactional` to solve this issue.\r\n\r\nAs the kafka data will be received in a different thread (possibly), you are better off testing that the message is received in one test and then testing if the receiving method itself saves the data in another test.\r\n\r\nI would bet that the async nature of this will make the use of `@Transactional` a flaky test if you plan on doing just one test.\r\n\r\nYou can also use a Mockito `verify` to see if the desired function has been called.","title":"Validate repository state after producing request to Kafka test container","body":"<p>I would advise against using <code>@Transactional</code> to solve this issue.</p>\n<p>As the kafka data will be received in a different thread (possibly), you are better off testing that the message is received in one test and then testing if the receiving method itself saves the data in another test.</p>\n<p>I would bet that the async nature of this will make the use of <code>@Transactional</code> a flaky test if you plan on doing just one test.</p>\n<p>You can also use a Mockito <code>verify</code> to see if the desired function has been called.</p>\n"}],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664445025,"creation_date":1664372984,"question_id":73882606,"body_markdown":"I am creating an integration test with Kafka and Postgres test containers, such as:\r\n\r\n    @Slf4j\r\n    @SpringBootTest\r\n    @Testcontainers\r\n    @EnableKafka\r\n    @ContextConfiguration(\r\n    \tinitializers = {MyContainersInitializer.class} //test containers are initialized here\r\n    )\r\n    class MyIntegrationTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n    \r\n    \t@Autowired\r\n    \tprivate MyRepository myRepository;\r\n\r\n        @MethodSource(&quot;testCases&quot;)\r\n    \t@ParameterizedTest(name = &quot;#{index} {0}&quot;)\r\n\t    public void myTest(MyTestcase myTestcase) {\r\n            \r\n\t     \tkafkaTemplate.send(\r\n\t\t    \tenv.getProperty(KEY_TOPIC),\r\n\t\t\t    myTestcase.input()\r\n\t\t    );\r\n\r\n            //... backoff ...\r\n\r\n\t\t    assertEquals(myTestcase.expected(), myRepository.findById(myTestcase.input().getId());\r\n\r\n\t    }\r\n\r\nI&#39;ve confirmed that everything is processed correctly, i.e. the request is received by Kafka and is processed asynchronously by the application and inserted in the database. However the test is unable to see those changes in its final step, even if I add a backoff period. \r\n\r\nI&#39;ve noticed that if a `@Transactional` annotation is added to the application service it does the trick, unfortunately I am not allowed to do it (I don&#39;t have ownership), hence I was wondering if there is another way?\r\n\r\nThank you for your attention ","title":"Validate repository state after producing request to Kafka test container","body":"<p>I am creating an integration test with Kafka and Postgres test containers, such as:</p>\n<pre><code>@Slf4j\n@SpringBootTest\n@Testcontainers\n@EnableKafka\n@ContextConfiguration(\n    initializers = {MyContainersInitializer.class} //test containers are initialized here\n)\nclass MyIntegrationTest {\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    @Autowired\n    private MyRepository myRepository;\n\n    @MethodSource(&quot;testCases&quot;)\n    @ParameterizedTest(name = &quot;#{index} {0}&quot;)\n    public void myTest(MyTestcase myTestcase) {\n        \n        kafkaTemplate.send(\n            env.getProperty(KEY_TOPIC),\n            myTestcase.input()\n        );\n\n        //... backoff ...\n\n        assertEquals(myTestcase.expected(), myRepository.findById(myTestcase.input().getId());\n\n    }\n</code></pre>\n<p>I've confirmed that everything is processed correctly, i.e. the request is received by Kafka and is processed asynchronously by the application and inserted in the database. However the test is unable to see those changes in its final step, even if I add a backoff period.</p>\n<p>I've noticed that if a <code>@Transactional</code> annotation is added to the application service it does the trick, unfortunately I am not allowed to do it (I don't have ownership), hence I was wondering if there is another way?</p>\n<p>Thank you for your attention</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664444049,"creation_date":1664444049,"answer_id":73893315,"question_id":73884881,"body_markdown":"When you attach a listener at the following reference:\r\n\r\n    FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;)\r\n\r\nIt means that you&#39;re reading (downloading) the entire &quot;Groups&quot; node. Which is actually not feasible considering the fact that under that node there may be potentially multiple nodes. So if you want to check the existence of a particular element in the Realtime Database, don&#39;t do it on the client, but perform a query:\r\n\r\n\tString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference groupsRef = db.child(&quot;Groups&quot;);\r\n    Query queryByUid = groupsRef.orderByChild(&quot;Members/&quot; + uid);\r\n    productsRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n                list.clear();\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tGroup group = ds.getValue(Group.class);\r\n                    list.add(group);\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, group.getGroupName());\r\n\t\t\t\t}\r\n                adapter.notifyDataSetChanged();\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nIn this way, you&#39;ll only download the documents that match the query and nothing more. Otherwise it will be a waste of resources and bandwidth.","title":"Need to show those users who have subscribed the group. i have stored users id in the members child who have joined the group","body":"<p>When you attach a listener at the following reference:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;)\n</code></pre>\n<p>It means that you're reading (downloading) the entire &quot;Groups&quot; node. Which is actually not feasible considering the fact that under that node there may be potentially multiple nodes. So if you want to check the existence of a particular element in the Realtime Database, don't do it on the client, but perform a query:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference groupsRef = db.child(&quot;Groups&quot;);\nQuery queryByUid = groupsRef.orderByChild(&quot;Members/&quot; + uid);\nproductsRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            list.clear();\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                Group group = ds.getValue(Group.class);\n                list.add(group);\n                Log.d(&quot;TAG&quot;, group.getGroupName());\n            }\n            adapter.notifyDataSetChanged();\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>In this way, you'll only download the documents that match the query and nothing more. Otherwise it will be a waste of resources and bandwidth.</p>\n"}],"owner":{"account_id":26472287,"reputation":1,"user_id":20112712,"display_name":"Agam Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664444076,"creation_date":1664382489,"question_id":73884881,"body_markdown":"[![image1][1]][1]\r\n\r\nI need to show groups in the main activity. Here I am using the if condition but I am not getting any groups.\r\n\r\n    if (snapshot.child(&quot;Members&quot;).child(FirebaseAuth.getInstance().getUid()).exists());\r\n\r\nHere is the whole code:\r\n\r\n    FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            list.clear();\r\n            \r\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                if (dataSnapshot.exists()) {\r\n                    if (snapshot.child(&quot;Members&quot;).child(FirebaseAuth.getInstance().getUid()).exists());\r\n    \r\n                    Group group = dataSnapshot.getValue(Group.class);\r\n                    list.add(group);\r\n                }\r\n            }\r\n    \r\n            adapter.notifyDataSetChanged();\r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J6kjZ.png","title":"Need to show those users who have subscribed the group. i have stored users id in the members child who have joined the group","body":"<p><a href=\"https://i.stack.imgur.com/J6kjZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J6kjZ.png\" alt=\"image1\" /></a></p>\n<p>I need to show groups in the main activity. Here I am using the if condition but I am not getting any groups.</p>\n<pre><code>if (snapshot.child(&quot;Members&quot;).child(FirebaseAuth.getInstance().getUid()).exists());\n</code></pre>\n<p>Here is the whole code:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        list.clear();\n        \n        for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n            if (dataSnapshot.exists()) {\n                if (snapshot.child(&quot;Members&quot;).child(FirebaseAuth.getInstance().getUid()).exists());\n\n                Group group = dataSnapshot.getValue(Group.class);\n                list.add(group);\n            }\n        }\n\n        adapter.notifyDataSetChanged();\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1664443501,"post_id":73893179,"comment_id":130474793,"body_markdown":"the resulting query is something similar to `SELECT name FROM inventura_table where &#39;state=&#39;&#39;O&#39;&#39; &#39;`","body":"the resulting query is something similar to <code>SELECT name FROM inventura_table where &#39;state=&#39;&#39;O&#39;&#39; &#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664443685,"creation_date":1664443685,"answer_id":73893248,"question_id":73893179,"body_markdown":"What you are trying is not possible. You can only set values to conditions, not create new conditions.\r\n\r\nYou could do something like this:\r\n\r\n    Connection conn = DriverManager.getConnection(url, user, password);\r\n    String SQL = &quot;SELECT name FROM inventura_table&quot;;\r\n    \r\n    if (state.equals(&quot;removed&quot;)) {\r\n      SQL += &quot; where out_date IS NOT NULL&quot;;\r\n    }\r\n    else {\r\n      SQL += &quot; where state = ?&quot;;\r\n    }\r\n    \r\n    PreparedStatement pstmt = conn.prepareStatement(SQL);\r\n    \r\n    ResultSet rs;\r\n    switch (state) {\r\n       case &quot;OK&quot;:\r\n          pstmt.setString(1, &quot;O&quot;);  \r\n          break;\r\n       case &quot;M&quot;:\r\n          pstmt.setString(1, &quot;M&quot;);\r\n          break;\r\n       case &quot;V&quot;:\r\n          pstmt.setString(1, &quot;V&quot;);\r\n          break;\r\n    }","title":"Editing SQL in JAVA where must be boolean","body":"<p>What you are trying is not possible. You can only set values to conditions, not create new conditions.</p>\n<p>You could do something like this:</p>\n<pre><code>Connection conn = DriverManager.getConnection(url, user, password);\nString SQL = &quot;SELECT name FROM inventura_table&quot;;\n\nif (state.equals(&quot;removed&quot;)) {\n  SQL += &quot; where out_date IS NOT NULL&quot;;\n}\nelse {\n  SQL += &quot; where state = ?&quot;;\n}\n\nPreparedStatement pstmt = conn.prepareStatement(SQL);\n\nResultSet rs;\nswitch (state) {\n   case &quot;OK&quot;:\n      pstmt.setString(1, &quot;O&quot;);  \n      break;\n   case &quot;M&quot;:\n      pstmt.setString(1, &quot;M&quot;);\n      break;\n   case &quot;V&quot;:\n      pstmt.setString(1, &quot;V&quot;);\n      break;\n}\n</code></pre>\n"}],"owner":{"account_id":23563659,"reputation":40,"user_id":17604707,"display_name":"Jatel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73893248,"answer_count":1,"score":0,"last_activity_date":1664443685,"creation_date":1664443392,"question_id":73893179,"body_markdown":"I&#39;m editing SQL in JAVA but keep getting ERROR\r\n\r\nIf I&#39;m understanding it correctly, if state is OK I should get \r\n\r\n    SELECT name FROM inventura_table where state=&#39;O&#39; \r\n\r\nwhen I execute same select by script it works just fine \r\n```\r\nConnection conn = DriverManager.getConnection(url, user, password);\r\n            String SQL = &quot;SELECT name FROM inventura_table where ?&quot;;\r\n            PreparedStatement pstmt = conn.prepareStatement(SQL);\r\n\r\n            ResultSet rs;\r\n            switch (state) {\r\n                case &quot;OK&quot;:\r\n                    pstmt.setString(1, &quot;state=&#39;O&#39; &quot;);\r\n                    break;\r\n                case &quot;M&quot;:\r\n                    pstmt.setString(1, &quot;state=&#39;M&#39; &quot;);\r\n                    break;\r\n                case &quot;V&quot;:\r\n                    pstmt.setString(1, &quot;state=&#39;V&#39; &quot;);\r\n                    break;\r\n                case &quot;removed&quot;:\r\n                    pstmt.setString(1, &quot;out_date IS NOT NULL&quot;);\r\n                    break;\r\n                }\r\n```\r\n\r\nError\r\n\r\n&gt; ERROR: argument of WHERE must be type boolean, not type character\r\n&gt; varying\r\n\r\n","title":"Editing SQL in JAVA where must be boolean","body":"<p>I'm editing SQL in JAVA but keep getting ERROR</p>\n<p>If I'm understanding it correctly, if state is OK I should get</p>\n<pre><code>SELECT name FROM inventura_table where state='O' \n</code></pre>\n<p>when I execute same select by script it works just fine</p>\n<pre><code>Connection conn = DriverManager.getConnection(url, user, password);\n            String SQL = &quot;SELECT name FROM inventura_table where ?&quot;;\n            PreparedStatement pstmt = conn.prepareStatement(SQL);\n\n            ResultSet rs;\n            switch (state) {\n                case &quot;OK&quot;:\n                    pstmt.setString(1, &quot;state='O' &quot;);\n                    break;\n                case &quot;M&quot;:\n                    pstmt.setString(1, &quot;state='M' &quot;);\n                    break;\n                case &quot;V&quot;:\n                    pstmt.setString(1, &quot;state='V' &quot;);\n                    break;\n                case &quot;removed&quot;:\n                    pstmt.setString(1, &quot;out_date IS NOT NULL&quot;);\n                    break;\n                }\n</code></pre>\n<p>Error</p>\n<blockquote>\n<p>ERROR: argument of WHERE must be type boolean, not type character\nvarying</p>\n</blockquote>\n"},{"tags":["java","json","spring","rest","osgi"],"answers":[{"tags":[],"owner":{"account_id":95677,"reputation":3313,"user_id":260424,"display_name":"Marcel Offermans"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1523429594,"creation_date":1391727381,"answer_id":21615891,"question_id":21414869,"body_markdown":"If you&#39;re looking for an easy way to do REST in OSGi, take a look at some of the web components provided by the Amdatu project. This page pretty much explains how to create a REST service: https://amdatu.org/application/web/ and there is also a video which will talk you through the whole process: https://amdatu.org/generaltop/videolessons/","title":"Spring Rest Json Service inside a Felix OSGi container","body":"<p>If you're looking for an easy way to do REST in OSGi, take a look at some of the web components provided by the Amdatu project. This page pretty much explains how to create a REST service: <a href=\"https://amdatu.org/application/web/\" rel=\"nofollow noreferrer\">https://amdatu.org/application/web/</a> and there is also a video which will talk you through the whole process: <a href=\"https://amdatu.org/generaltop/videolessons/\" rel=\"nofollow noreferrer\">https://amdatu.org/generaltop/videolessons/</a></p>\n"}],"owner":{"account_id":1308628,"reputation":125,"user_id":1257104,"accept_rate":100,"display_name":"SpikerTom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21615891,"answer_count":1,"score":1,"last_activity_date":1664443579,"creation_date":1390937055,"question_id":21414869,"body_markdown":"So im trying to create a remote Rest (JSON) service inside an OSGi bundle based in Felix with Maven.\r\n\r\nmy basic service interface :\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/s/fileService&quot;)\r\n    public interface RestFileService {\r\n\r\n\t   @RequestMapping(value = &quot;/file&quot;, method = RequestMethod.POST)\r\n\t   @ResponseBody\r\n\t   public String getFile(Long id);\r\n    }\r\n\r\nMy implementation of the interface\r\n\r\n    public class RestFileServiceImpl implements RestFileService{\r\n\r\n\t    public String getFile(Long id) {\r\n\t     \treturn &quot;test service&quot;;\r\n      \t}\r\n    }\r\n\r\nNormally i would add this to my web.xml\r\n\r\n    &lt;servlet&gt;\r\n          &lt;servlet-name&gt;spring-mvc-dispatcher&lt;/servlet-name&gt;\r\n          &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n          &lt;init-param&gt;\r\n               &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n               &lt;param-value&gt;/WEB-INF/application-context.xml&lt;/param-value&gt;\r\n          &lt;/init-param&gt;\r\n          &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n     &lt;/servlet&gt;\r\n\r\n     &lt;servlet-mapping&gt;\r\n          &lt;servlet-name&gt;spring-mvc-dispatcher&lt;/servlet-name&gt;\r\n          &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n     &lt;/servlet-mapping&gt; \r\n\r\nAnd this would work fine inside a normal webapp.\r\nBut now i want to put this inside an OSGi bundle.\r\n\r\nServlet 3.0 allows you to use @WebServlet to declare a servlet without the web.xml\r\nSo i created a RestServlet\r\n\r\n    @WebServlet(value=&quot;/rest&quot;, name=&quot;rest-servlet&quot;)\r\n    public class RestServlet implements ServletContextListener {\r\n\r\n\tprivate static Log sLog = LogFactory.getLog(RestServlet.class);\r\n\t\r\n\tpublic void contextInitialized(ServletContextEvent arg0) {\r\n\t\tsLog.info(&quot;initializing the Rest Servlet&quot;);\r\n\t}\r\n\r\n\tpublic void contextDestroyed(ServletContextEvent arg0) {\r\n\t\tsLog.info(&quot;un-initializing the Rest Servlet&quot;);\t\r\n\t}\r\n    }\r\n\r\nThis is my OSGi activator:\r\n\r\n    public class Activator implements BundleActivator {\r\n\r\n\tprivate static Log sLog = LogFactory.getLog(Activator.class);\r\n\r\n\tpublic void start(BundleContext context) throws Exception {\r\n\r\n\t\t/*\r\n\t\t * Exposing the Servlet\r\n\t\t */\r\n\r\n\t\tDictionary properties = new Hashtable();\r\n\t\tcontext.registerService(RestFileService.class.getName(), new  RestFileServiceImpl(), properties );\r\n\t\t\r\n\t\tsLog.info(&quot;Registered Remote Rest Service&quot;);\r\n\t}\r\n\r\n\tpublic void stop(BundleContext context) throws Exception {\r\n\t\tsLog.info(&quot;Unregistered Remote Rest Service&quot;);\r\n\t}\r\n\r\n    }\r\n\r\nI know Felix has its own http implementation with JAX but im trying to do this with spring annotations and as little XML as possible. \r\nCan i force it to register the annotation driven 3.0 servlet ?\r\n\r\n\r\nWhat am i doing wrong ? is this even possible ?\r\n","title":"Spring Rest Json Service inside a Felix OSGi container","body":"<p>So im trying to create a remote Rest (JSON) service inside an OSGi bundle based in Felix with Maven.</p>\n\n<p>my basic service interface :</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/s/fileService\")\npublic interface RestFileService {\n\n   @RequestMapping(value = \"/file\", method = RequestMethod.POST)\n   @ResponseBody\n   public String getFile(Long id);\n}\n</code></pre>\n\n<p>My implementation of the interface</p>\n\n<pre><code>public class RestFileServiceImpl implements RestFileService{\n\n    public String getFile(Long id) {\n        return \"test service\";\n    }\n}\n</code></pre>\n\n<p>Normally i would add this to my web.xml</p>\n\n<pre><code>&lt;servlet&gt;\n      &lt;servlet-name&gt;spring-mvc-dispatcher&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n      &lt;init-param&gt;\n           &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n           &lt;param-value&gt;/WEB-INF/application-context.xml&lt;/param-value&gt;\n      &lt;/init-param&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n &lt;/servlet&gt;\n\n &lt;servlet-mapping&gt;\n      &lt;servlet-name&gt;spring-mvc-dispatcher&lt;/servlet-name&gt;\n      &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n &lt;/servlet-mapping&gt; \n</code></pre>\n\n<p>And this would work fine inside a normal webapp.\nBut now i want to put this inside an OSGi bundle.</p>\n\n<p>Servlet 3.0 allows you to use @WebServlet to declare a servlet without the web.xml\nSo i created a RestServlet</p>\n\n<pre><code>@WebServlet(value=\"/rest\", name=\"rest-servlet\")\npublic class RestServlet implements ServletContextListener {\n\nprivate static Log sLog = LogFactory.getLog(RestServlet.class);\n\npublic void contextInitialized(ServletContextEvent arg0) {\n    sLog.info(\"initializing the Rest Servlet\");\n}\n\npublic void contextDestroyed(ServletContextEvent arg0) {\n    sLog.info(\"un-initializing the Rest Servlet\");  \n}\n}\n</code></pre>\n\n<p>This is my OSGi activator:</p>\n\n<pre><code>public class Activator implements BundleActivator {\n\nprivate static Log sLog = LogFactory.getLog(Activator.class);\n\npublic void start(BundleContext context) throws Exception {\n\n    /*\n     * Exposing the Servlet\n     */\n\n    Dictionary properties = new Hashtable();\n    context.registerService(RestFileService.class.getName(), new  RestFileServiceImpl(), properties );\n\n    sLog.info(\"Registered Remote Rest Service\");\n}\n\npublic void stop(BundleContext context) throws Exception {\n    sLog.info(\"Unregistered Remote Rest Service\");\n}\n\n}\n</code></pre>\n\n<p>I know Felix has its own http implementation with JAX but im trying to do this with spring annotations and as little XML as possible. \nCan i force it to register the annotation driven 3.0 servlet ?</p>\n\n<p>What am i doing wrong ? is this even possible ?</p>\n"},{"tags":["java","android","in-app-purchase"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1663961716,"post_id":73832048,"comment_id":130370933,"body_markdown":"https://stackoverflow.com/questions/62758332/android-in-app-purchase-billing-client-crashes-on-build this link will be helpful to you","body":"<a href=\"https://stackoverflow.com/questions/62758332/android-in-app-purchase-billing-client-crashes-on-build\" title=\"android in app purchase billing client crashes on build\">stackoverflow.com/questions/62758332/&hellip;</a> this link will be helpful to you"},{"owner":{"account_id":18551709,"reputation":1,"user_id":13517808,"display_name":"BichitoGris"},"score":0,"creation_date":1663962310,"post_id":73832048,"comment_id":130371087,"body_markdown":"I already have the BillingClient inside OnCreate (as your solution suggests) and is still does not work","body":"I already have the BillingClient inside OnCreate (as your solution suggests) and is still does not work"},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1663999052,"post_id":73832048,"comment_id":130375634,"body_markdown":"Most probably billing result is null","body":"Most probably billing result is null"}],"answers":[{"tags":[],"owner":{"account_id":18551709,"reputation":1,"user_id":13517808,"display_name":"BichitoGris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664443389,"creation_date":1664443389,"answer_id":73893176,"question_id":73832048,"body_markdown":"Did not know how to solve it, and still don&#39;t. So I decided to start over and following [this][1] tutorial. I works perfectly.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=KYFM2z5KPq0&amp;","title":"NullPointerException in in-App purchase code","body":"<p>Did not know how to solve it, and still don't. So I decided to start over and following <a href=\"https://www.youtube.com/watch?v=KYFM2z5KPq0&amp;\" rel=\"nofollow noreferrer\">this</a> tutorial. I works perfectly.</p>\n"}],"owner":{"account_id":18551709,"reputation":1,"user_id":13517808,"display_name":"BichitoGris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73893176,"answer_count":1,"score":-1,"last_activity_date":1664443389,"creation_date":1663960437,"question_id":73832048,"body_markdown":"I am trying to implement the in-App purchase code in my android app. The idea is that when I press the button &quot;botonComprar&quot;, it activates the purchase flow, but when I press it I get this error:\r\n\r\n*NullPointerException: Attempt to invoke virtual method &#39;void com.android.billingclient.api.BillingClient.startConnection(com.android.billingclient.api.BillingClientStateListener)&#39; on a null object reference*\r\n\r\nThis is my code, the error it&#39;s supposed to be on &quot;establishConnection()&quot; but I do not understand what is happening. Thank you in advanced.\r\n\r\n    BillingClient billingClient;\r\n    Prefs prefs;\r\n    ProductDetails productDetails;\r\n\r\n    //Button botonComprar = (Button) findViewById(R.id.botonEmpezar);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_no_adds);\r\n\r\n        PurchasesUpdatedListener purchasesUpdatedListener = new PurchasesUpdatedListener() {\r\n            @Override\r\n            public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n                // To be implemented in a later section.\r\n            }\r\n        };\r\n\r\n        BillingClient billingClient = BillingClient.newBuilder(this)\r\n                .setListener(purchasesUpdatedListener)\r\n                .enablePendingPurchases()\r\n                .build();\r\n\r\n        establishConnection();\r\n\r\n    }\r\n\r\n    void establishConnection() {\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n            @Override\r\n            public void onBillingSetupFinished(BillingResult billingResult) {\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    // The BillingClient is ready. You can query purchases here.\r\n                    showProducts();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onBillingServiceDisconnected() {\r\n                // Try to restart the connection on the next request to\r\n                // Google Play by calling the startConnection() method.\r\n                establishConnection();\r\n            }\r\n        });\r\n    }\r\n\r\n    void showProducts() {\r\n\r\n        QueryProductDetailsParams queryProductDetailsParams =\r\n                QueryProductDetailsParams.newBuilder()\r\n                        .setProductList(\r\n                                ImmutableList.of(\r\n                                        QueryProductDetailsParams.Product.newBuilder()\r\n                                                .setProductId(&quot;noanunciosymasextras&quot;)\r\n                                                .setProductType(BillingClient.ProductType.SUBS)\r\n                                                .build()))\r\n                        .build();\r\n\r\n        billingClient.queryProductDetailsAsync(\r\n                queryProductDetailsParams,\r\n                new ProductDetailsResponseListener() {\r\n                    public void onProductDetailsResponse(BillingResult billingResult,\r\n                                                         List&lt;ProductDetails&gt; productDetailsList) {\r\n                        // check billingResult\r\n                        // process returned productDetailsList\r\n                    }\r\n                }\r\n        );\r\n\r\n    }\r\n\r\n    public void botonComprar (View view){\r\n\r\n        BillingFlowParams billingFlowParams =\r\n                BillingFlowParams.newBuilder()\r\n                        .setProductDetailsParamsList(\r\n                                ImmutableList.of(\r\n                                        BillingFlowParams.ProductDetailsParams.newBuilder()\r\n                                                .setProductDetails(productDetails)\r\n                                                .build()\r\n                                )\r\n                        )\r\n                        .build();\r\n\r\n        billingClient.launchBillingFlow(this, billingFlowParams);\r\n\r\n    }\r\n\r\n    void handlePurchase(Purchase purchases) {\r\n\r\n        if(!purchases.isAcknowledged()){\r\n            billingClient.acknowledgePurchase(AcknowledgePurchaseParams\r\n                    .newBuilder()\r\n                    .setPurchaseToken(purchases.getPurchaseToken())\r\n                    .build(), billingResult -&gt; {\r\n\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    //Setting setIsRemoveAd to true\r\n                    // true - No ads\r\n                    // false - showing ads.\r\n                    prefs.setIsRemoveAd(true);\r\n                    //  goBack();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    protected void onResume() {\r\n        super.onResume();\r\n        billingClient.queryPurchasesAsync(\r\n                QueryPurchasesParams.newBuilder().setProductType(BillingClient.ProductType.INAPP).build(),\r\n                (billingResult, list) -&gt; {\r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                        for (Purchase purchase : list) {\r\n                            if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp; !purchase.isAcknowledged()) {\r\n                                handlePurchase(purchase);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }","title":"NullPointerException in in-App purchase code","body":"<p>I am trying to implement the in-App purchase code in my android app. The idea is that when I press the button &quot;botonComprar&quot;, it activates the purchase flow, but when I press it I get this error:</p>\n<p><em>NullPointerException: Attempt to invoke virtual method 'void com.android.billingclient.api.BillingClient.startConnection(com.android.billingclient.api.BillingClientStateListener)' on a null object reference</em></p>\n<p>This is my code, the error it's supposed to be on &quot;establishConnection()&quot; but I do not understand what is happening. Thank you in advanced.</p>\n<pre><code>BillingClient billingClient;\nPrefs prefs;\nProductDetails productDetails;\n\n//Button botonComprar = (Button) findViewById(R.id.botonEmpezar);\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_no_adds);\n\n    PurchasesUpdatedListener purchasesUpdatedListener = new PurchasesUpdatedListener() {\n        @Override\n        public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n            // To be implemented in a later section.\n        }\n    };\n\n    BillingClient billingClient = BillingClient.newBuilder(this)\n            .setListener(purchasesUpdatedListener)\n            .enablePendingPurchases()\n            .build();\n\n    establishConnection();\n\n}\n\nvoid establishConnection() {\n    billingClient.startConnection(new BillingClientStateListener() {\n        @Override\n        public void onBillingSetupFinished(BillingResult billingResult) {\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                // The BillingClient is ready. You can query purchases here.\n                showProducts();\n            }\n        }\n\n        @Override\n        public void onBillingServiceDisconnected() {\n            // Try to restart the connection on the next request to\n            // Google Play by calling the startConnection() method.\n            establishConnection();\n        }\n    });\n}\n\nvoid showProducts() {\n\n    QueryProductDetailsParams queryProductDetailsParams =\n            QueryProductDetailsParams.newBuilder()\n                    .setProductList(\n                            ImmutableList.of(\n                                    QueryProductDetailsParams.Product.newBuilder()\n                                            .setProductId(&quot;noanunciosymasextras&quot;)\n                                            .setProductType(BillingClient.ProductType.SUBS)\n                                            .build()))\n                    .build();\n\n    billingClient.queryProductDetailsAsync(\n            queryProductDetailsParams,\n            new ProductDetailsResponseListener() {\n                public void onProductDetailsResponse(BillingResult billingResult,\n                                                     List&lt;ProductDetails&gt; productDetailsList) {\n                    // check billingResult\n                    // process returned productDetailsList\n                }\n            }\n    );\n\n}\n\npublic void botonComprar (View view){\n\n    BillingFlowParams billingFlowParams =\n            BillingFlowParams.newBuilder()\n                    .setProductDetailsParamsList(\n                            ImmutableList.of(\n                                    BillingFlowParams.ProductDetailsParams.newBuilder()\n                                            .setProductDetails(productDetails)\n                                            .build()\n                            )\n                    )\n                    .build();\n\n    billingClient.launchBillingFlow(this, billingFlowParams);\n\n}\n\nvoid handlePurchase(Purchase purchases) {\n\n    if(!purchases.isAcknowledged()){\n        billingClient.acknowledgePurchase(AcknowledgePurchaseParams\n                .newBuilder()\n                .setPurchaseToken(purchases.getPurchaseToken())\n                .build(), billingResult -&gt; {\n\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                //Setting setIsRemoveAd to true\n                // true - No ads\n                // false - showing ads.\n                prefs.setIsRemoveAd(true);\n                //  goBack();\n            }\n        });\n    }\n}\n\n\n\nprotected void onResume() {\n    super.onResume();\n    billingClient.queryPurchasesAsync(\n            QueryPurchasesParams.newBuilder().setProductType(BillingClient.ProductType.INAPP).build(),\n            (billingResult, list) -&gt; {\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                    for (Purchase purchase : list) {\n                        if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp; !purchase.isAcknowledged()) {\n                            handlePurchase(purchase);\n                        }\n                    }\n                }\n            }\n    );\n}\n</code></pre>\n"},{"tags":["java","loops"],"answers":[{"tags":[],"owner":{"account_id":11648035,"reputation":138,"user_id":8530166,"display_name":"Alexander Sobetskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664443258,"creation_date":1664443258,"answer_id":73893150,"question_id":73892797,"body_markdown":"your loops should not be nested\r\n\r\n    public class CODES {\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            int C, O, D, E, S;\r\n            \r\n            C=100;\r\n            O=5;\r\n            D=4;\r\n            E=7;\r\n            S=2;\r\n            \r\n            while(C &gt;= E) {\r\n                D = E + S;\r\n                O = O + D;\r\n                C = C - D;\r\n                S = S + 1;\r\n                E = E + S;\r\n            }\r\n            \r\n            while (E &lt; O) {\r\n                    E = E + C;\r\n                    C = C + 1;\r\n                    O = O - 2;\r\n                }\r\n                \r\n            System.out.println(C);\r\n            System.out.println(O);\r\n            System.out.println(D);\r\n            System.out.println(E);\r\n            System.out.println(S);\r\n      \r\n        }\r\n    }","title":"What is the proper way of writing this loop problem?","body":"<p>your loops should not be nested</p>\n<pre><code>public class CODES {\n    \n    public static void main(String[] args) {\n        \n        int C, O, D, E, S;\n        \n        C=100;\n        O=5;\n        D=4;\n        E=7;\n        S=2;\n        \n        while(C &gt;= E) {\n            D = E + S;\n            O = O + D;\n            C = C - D;\n            S = S + 1;\n            E = E + S;\n        }\n        \n        while (E &lt; O) {\n                E = E + C;\n                C = C + 1;\n                O = O - 2;\n            }\n            \n        System.out.println(C);\n        System.out.println(O);\n        System.out.println(D);\n        System.out.println(E);\n        System.out.println(S);\n  \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20451421,"reputation":11,"user_id":15006118,"display_name":"Zervis _"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73893150,"answer_count":1,"score":-1,"last_activity_date":1664443258,"creation_date":1664441568,"question_id":73892797,"body_markdown":"I&#39;m learning loop method and I&#39;m trying to write this flowchart into a code.[![flowchart][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OoS2s.png\r\n\r\nHere is my code:\r\n\r\n```\r\npublic class CODES {\r\n    \r\n    public static void main(String[] args) {\r\n    \t\r\n    \tint C, O, D, E, S;\r\n    \t\r\n    \tC=100;\r\n    \tO=5;\r\n    \tD=4;\r\n    \tE=7;\r\n    \tS=2;\r\n\r\n    \t\r\n    \twhile(C&lt;E)\r\n    \t{\r\n    \t\twhile(E&lt;O) {\r\n\r\n    \t    \tE = E + C;\r\n    \t\t\tC = C + 1;\r\n    \t\t\tO = O - 1;\r\n    \t\t}\r\n    \t\tSystem.out.println(C);\r\n\t\t\tSystem.out.println(O);\r\n\t\t\tSystem.out.println(D);\r\n\t\t\tSystem.out.println(E);\r\n\t\t\tSystem.out.println(S);\r\n    \t\t\t\r\n    \t}\r\n    \tD = E + S;\r\n\t\tO = O + D;\r\n\t\tC = C - D;\r\n\t\tS = S + 1;\r\n\t\tE = E + S;\r\n\t\t\r\n\t\t\r\n  \r\n\t}\r\n}\r\n\r\n```\r\n\r\n&gt; Final output should be: 12, 86, 31, 88, 7.\r\n\r\nI need to see the final value but It&#39;s not showing anything so I&#39;m wondering what is wrong with my while loop method. I&#39;m still learning what kind of loops should I use and also doing nested loops.\r\n","title":"What is the proper way of writing this loop problem?","body":"<p>I'm learning loop method and I'm trying to write this flowchart into a code.<a href=\"https://i.stack.imgur.com/OoS2s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OoS2s.png\" alt=\"flowchart\" /></a></p>\n<p>Here is my code:</p>\n<pre><code>public class CODES {\n    \n    public static void main(String[] args) {\n        \n        int C, O, D, E, S;\n        \n        C=100;\n        O=5;\n        D=4;\n        E=7;\n        S=2;\n\n        \n        while(C&lt;E)\n        {\n            while(E&lt;O) {\n\n                E = E + C;\n                C = C + 1;\n                O = O - 1;\n            }\n            System.out.println(C);\n            System.out.println(O);\n            System.out.println(D);\n            System.out.println(E);\n            System.out.println(S);\n                \n        }\n        D = E + S;\n        O = O + D;\n        C = C - D;\n        S = S + 1;\n        E = E + S;\n        \n        \n  \n    }\n}\n\n</code></pre>\n<blockquote>\n<p>Final output should be: 12, 86, 31, 88, 7.</p>\n</blockquote>\n<p>I need to see the final value but It's not showing anything so I'm wondering what is wrong with my while loop method. I'm still learning what kind of loops should I use and also doing nested loops.</p>\n"},{"tags":["java","liferay","jakarta-mail"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664267786,"post_id":73864554,"comment_id":130426389,"body_markdown":"```Properties```  which is a parameter to the ```Session``` should include the value of property ```mail.smtp.host```","body":"<code>Properties</code>  which is a parameter to the <code>Session</code> should include the value of property <code>mail.smtp.host</code>"},{"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"score":0,"creation_date":1664268078,"post_id":73864554,"comment_id":130426463,"body_markdown":"@g00se You are right. Strange that it does not, considering the Session was received from the `mailSender`, which does include the right info.","body":"@g00se You are right. Strange that it does not, considering the Session was received from the <code>mailSender</code>, which does include the right info."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664268671,"post_id":73864554,"comment_id":130426656,"body_markdown":"If that&#39;s fixed it (has it?) I&#39;ll post that as an answer for you to accept","body":"If that&#39;s fixed it (has it?) I&#39;ll post that as an answer for you to accept"},{"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"score":0,"creation_date":1664269103,"post_id":73864554,"comment_id":130426808,"body_markdown":"Well... partially. I started to look in the code of the transport.connect() method and indeed, if the simple connect() method is called, it gets the host from there, but not he port or the password. \nThen I discovered that there is a `connect()`` method with more params. Using that I think solved the problem.","body":"Well... partially. I started to look in the code of the transport.connect() method and indeed, if the simple connect() method is called, it gets the host from there, but not he port or the password.  Then I discovered that there is a `connect()`` method with more params. Using that I think solved the problem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664269209,"post_id":73864554,"comment_id":130426841,"body_markdown":"Yes, I&#39;d guess it expects to be running on the same host as the actual smtp server","body":"Yes, I&#39;d guess it expects to be running on the same host as the actual smtp server"}],"answers":[{"tags":[],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664274309,"creation_date":1664274309,"answer_id":73866036,"question_id":73864554,"body_markdown":"After further investigation, I discovered that there is a method for connecting to a specified host.\r\n\r\n    /**\r\n     * Similar to connect(host, user, password) except a specific port\r\n     * can be specified.\r\n     *\r\n     * @param host \tthe host to connect to\r\n     * @param port\tthe port to connect to (-1 means the default port)\r\n     * @param user\tthe user name\r\n     * @param password\tthis user&#39;s password\r\n     * @exception AuthenticationFailedException\tfor authentication failures\r\n     * @exception MessagingException\t\tfor other failures\r\n     * @exception IllegalStateException\tif the service is already connected\r\n     * @see #connect(java.lang.String, java.lang.String, java.lang.String)\r\n     * @see javax.mail.event.ConnectionEvent\r\n     */\r\n    public synchronized void connect(String host, int port,\r\n    \tString user, String password) throws MessagingException\r\n\r\nUsing this one, you can specify the exact host, port and credentials. Why the Session does not contain this information and why it is not being used, even though the Transport and Session are obtained fro the original `JavaMailSenderImpl` is still a mystery to me.","title":"JavaMail always uses localhost in Liferay","body":"<p>After further investigation, I discovered that there is a method for connecting to a specified host.</p>\n<pre><code>/**\n * Similar to connect(host, user, password) except a specific port\n * can be specified.\n *\n * @param host  the host to connect to\n * @param port  the port to connect to (-1 means the default port)\n * @param user  the user name\n * @param password  this user's password\n * @exception AuthenticationFailedException for authentication failures\n * @exception MessagingException        for other failures\n * @exception IllegalStateException if the service is already connected\n * @see #connect(java.lang.String, java.lang.String, java.lang.String)\n * @see javax.mail.event.ConnectionEvent\n */\npublic synchronized void connect(String host, int port,\n    String user, String password) throws MessagingException\n</code></pre>\n<p>Using this one, you can specify the exact host, port and credentials. Why the Session does not contain this information and why it is not being used, even though the Transport and Session are obtained fro the original <code>JavaMailSenderImpl</code> is still a mystery to me.</p>\n"},{"tags":[],"owner":{"account_id":5964690,"reputation":30,"user_id":4688739,"display_name":"bui vy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664443209,"creation_date":1664443124,"answer_id":73893127,"question_id":73864554,"body_markdown":"What version of Liferay are you on?\r\n\r\nFirst thing first, you will need to check if your credentials are correctly set up in Control Panel &gt; Server Administration &gt; Mail.\r\n\r\nCheck your:\r\n\r\n - Outgoing SMTP Server and\r\n - Outgoing Port\r\n\r\nif they are still pointing to *localhost* and *25* respectively.\r\n\r\nSecond, the implementation looks unfamiliar to me. Can you try this way?\r\n```\r\nimport com.liferay.mail.kernel.service.MailServiceUtil;\r\n...\r\n\r\nMessage message = buildMessage();\r\nMailServiceUtil.sendEmail(message); \r\n```\r\nor if you want to get a session\r\n\r\n```\r\nMailServiceUtil.getSession()\r\n```","title":"JavaMail always uses localhost in Liferay","body":"<p>What version of Liferay are you on?</p>\n<p>First thing first, you will need to check if your credentials are correctly set up in Control Panel &gt; Server Administration &gt; Mail.</p>\n<p>Check your:</p>\n<ul>\n<li>Outgoing SMTP Server and</li>\n<li>Outgoing Port</li>\n</ul>\n<p>if they are still pointing to <em>localhost</em> and <em>25</em> respectively.</p>\n<p>Second, the implementation looks unfamiliar to me. Can you try this way?</p>\n<pre><code>import com.liferay.mail.kernel.service.MailServiceUtil;\n...\n\nMessage message = buildMessage();\nMailServiceUtil.sendEmail(message); \n</code></pre>\n<p>or if you want to get a session</p>\n<pre><code>MailServiceUtil.getSession()\n</code></pre>\n"}],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664443209,"creation_date":1664267509,"question_id":73864554,"body_markdown":"I am facing a strange problem and I can&#39;t figure out the problem. I have a web application/portlet deployed in Liferay portal which should be sending an email. I have the configuration correct and the code looks like this:\r\n\r\n    Session mailSession = mailSender.getSession();\r\n    Transport transport = mailSession.getTransport(&quot;smtp&quot;);\r\n    \r\n    Message message = buildMessage(); // placeholder for building the message\r\n    try {\r\n    \ttransport.sendMessage(msg, msg.getAllRecipients());\r\n    } finaly {\r\n        transport.close();\r\n    }\r\n\r\nThis, however, always tries to connecto to localhost: \r\n\r\n    com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: localhost, 25; timeout -1;\r\n    liferay_1      |   nested exception is:\r\n    liferay_1      |        java.net.ConnectException: Connection refused (Connection refused)\r\n\r\nNow, I though that the connection settings are not correct, so I decided to log them:\r\n\r\n    LOG.debug(&quot;Host:&quot; + mailSender.getHost() + &quot; --- Port: &quot; + mailSender.getPort());\r\n    LOG.debug(&quot;Password:&quot; + mailSender.getPassword() + &quot; --- User: &quot; + mailSender.getUsername());\r\n    mailSession.getProperties().entrySet().forEach(p -&gt; LOG.debug(&quot;---&quot; + p.getKey() + &quot;-&quot; + p.getValue()));\r\n\r\nAnd they are indeed correct in the session:\r\n\r\n    liferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:92) - Host:test-host --- Port: 5678\r\n    liferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:93) - Password:$test --- User: test\r\n    liferay_1      | DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n    liferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:97) - ---mail.transport.protocol-smtp\r\n    liferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:97) - ---mail.debug-true\r\n    liferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:97) - ---mail.smtp.auth-test\r\n    liferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:97) - ---mail.smtp.starttls.enable-true\r\n    liferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:99) - Transport:smtp://liferay@\r\n\r\nI can&#39;t figure out what else I can do and I don&#39;t know from where does the transport get localhost and port 25.","title":"JavaMail always uses localhost in Liferay","body":"<p>I am facing a strange problem and I can't figure out the problem. I have a web application/portlet deployed in Liferay portal which should be sending an email. I have the configuration correct and the code looks like this:</p>\n<pre><code>Session mailSession = mailSender.getSession();\nTransport transport = mailSession.getTransport(&quot;smtp&quot;);\n\nMessage message = buildMessage(); // placeholder for building the message\ntry {\n    transport.sendMessage(msg, msg.getAllRecipients());\n} finaly {\n    transport.close();\n}\n</code></pre>\n<p>This, however, always tries to connecto to localhost:</p>\n<pre><code>com.sun.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1;\nliferay_1      |   nested exception is:\nliferay_1      |        java.net.ConnectException: Connection refused (Connection refused)\n</code></pre>\n<p>Now, I though that the connection settings are not correct, so I decided to log them:</p>\n<pre><code>LOG.debug(&quot;Host:&quot; + mailSender.getHost() + &quot; --- Port: &quot; + mailSender.getPort());\nLOG.debug(&quot;Password:&quot; + mailSender.getPassword() + &quot; --- User: &quot; + mailSender.getUsername());\nmailSession.getProperties().entrySet().forEach(p -&gt; LOG.debug(&quot;---&quot; + p.getKey() + &quot;-&quot; + p.getValue()));\n</code></pre>\n<p>And they are indeed correct in the session:</p>\n<pre><code>liferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:92) - Host:test-host --- Port: 5678\nliferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:93) - Password:$test --- User: test\nliferay_1      | DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nliferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:97) - ---mail.transport.protocol-smtp\nliferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:97) - ---mail.debug-true\nliferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:97) - ---mail.smtp.auth-test\nliferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:97) - ---mail.smtp.starttls.enable-true\nliferay_1      | DEBUG [http-nio-8080-exec-1] (MailSenderService:99) - Transport:smtp://liferay@\n</code></pre>\n<p>I can't figure out what else I can do and I don't know from where does the transport get localhost and port 25.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14232399,"reputation":189,"user_id":10281237,"display_name":"Ascendise"},"score":1,"creation_date":1664443510,"post_id":73893130,"comment_id":130474797,"body_markdown":"The code you posted does not show a nested try block. Is the issue that Sonar gives you the error despite there not being a try-catch inside a try-catch? Does the error go away if you move your try-catch into a separate method?","body":"The code you posted does not show a nested try block. Is the issue that Sonar gives you the error despite there not being a try-catch inside a try-catch? Does the error go away if you move your try-catch into a separate method?"}],"owner":{"account_id":26420131,"reputation":1,"user_id":20067913,"display_name":"Divyani Lende"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664443133,"creation_date":1664443133,"question_id":73893130,"body_markdown":"**java**\r\nAs you can see in the below code in sonar its give the &quot;Extract this nested try block into a separate method&quot;. I am not understand how to resolve this issue please anyone can help.\r\n\r\n    Vector&lt;?&gt; allFiles = channelSftp.ls(remoteDirectory + &quot;/&quot;);\r\n    \t\t\t\t\tfor (int i = 0; i &lt; allFiles.size(); i++) {\r\n    \t\t\t\t\t\tLsEntry le = (LsEntry) allFiles.get(i);\r\n    \t\t\t\t\t\tString strName = le.getFilename();\r\n    \t\t\t\t\t\tif (strName.startsWith(prefixFileName)) {\r\n    \t\t\t\t\t\t\tfileName = strName;\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tremoteFilePath = remoteDirectory + fileName;\r\n    \t\t\t\t\tlocalFilePath = localDirectory + fileName;\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tchannelSftp.get(remoteFilePath, localFilePath);\r\n    \t\t\t\t\t} catch (SftpException e) {\r\n    \t\t\t\t\t\tmigrationRunBatchRepository.updateBatchStatus(migrationRunBatch.getMromRunSeqId(),\r\n    \t\t\t\t\t\t\t\tmigrationRunBatch.getMromBatchSeqId(), MROMConstants.MIGRATION_RUN_STATUS_RETRY,\r\n    \t\t\t\t\t\t\t\tMROMConstants.MC_NM1TRIGGER_JOB_USER);\r\n    \t\t\t\t\t\tthrow new FileTransferException(&quot;File Not Found in Remote Directory&quot;, e);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tchannelSftp.rm(remoteFilePath);\r\n    \t\t\t\t\tchannelSftp.exit();\r\n    \t\t\t\t\tsession.disconnect();\r\n    \r\n    \t\t\t\t\tint count = migrationRunRepository.getCmRunIdCount(cmrunid);\r\n    \t\t\t\t\tif (acceptDuplicateCmRunId || count &gt; 0) {\r\n    \t\t\t\t\t\tLong mromRunSeqId = (long) chunkContext.getStepContext().getJobParameters()\r\n    \t\t\t\t\t\t\t\t.get(MROMConstants.MROM_RUN_SEQ_ID);","title":"sonar issue: Extract this nested try block into a separate method","body":"<p><strong>java</strong>\nAs you can see in the below code in sonar its give the &quot;Extract this nested try block into a separate method&quot;. I am not understand how to resolve this issue please anyone can help.</p>\n<pre><code>Vector&lt;?&gt; allFiles = channelSftp.ls(remoteDirectory + &quot;/&quot;);\n                    for (int i = 0; i &lt; allFiles.size(); i++) {\n                        LsEntry le = (LsEntry) allFiles.get(i);\n                        String strName = le.getFilename();\n                        if (strName.startsWith(prefixFileName)) {\n                            fileName = strName;\n                            break;\n                        }\n                    }\n                    remoteFilePath = remoteDirectory + fileName;\n                    localFilePath = localDirectory + fileName;\n                    try {\n                        channelSftp.get(remoteFilePath, localFilePath);\n                    } catch (SftpException e) {\n                        migrationRunBatchRepository.updateBatchStatus(migrationRunBatch.getMromRunSeqId(),\n                                migrationRunBatch.getMromBatchSeqId(), MROMConstants.MIGRATION_RUN_STATUS_RETRY,\n                                MROMConstants.MC_NM1TRIGGER_JOB_USER);\n                        throw new FileTransferException(&quot;File Not Found in Remote Directory&quot;, e);\n                    }\n                    channelSftp.rm(remoteFilePath);\n                    channelSftp.exit();\n                    session.disconnect();\n\n                    int count = migrationRunRepository.getCmRunIdCount(cmrunid);\n                    if (acceptDuplicateCmRunId || count &gt; 0) {\n                        Long mromRunSeqId = (long) chunkContext.getStepContext().getJobParameters()\n                                .get(MROMConstants.MROM_RUN_SEQ_ID);\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","netbeans","selenium-chromedriver"],"comments":[{"owner":{"account_id":11191449,"reputation":195,"user_id":13622520,"display_name":"rick"},"score":0,"creation_date":1664419398,"post_id":73889518,"comment_id":130468877,"body_markdown":"please share your code and read this https://stackoverflow.com/help/how-to-ask","body":"please share your code and read this <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":26476268,"reputation":1,"user_id":20116101,"display_name":"Shehan"},"score":0,"creation_date":1664419879,"post_id":73889518,"comment_id":130468953,"body_markdown":"You requst code added","body":"You requst code added"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1664436385,"post_id":73889518,"comment_id":130472313,"body_markdown":"Please add the `HTML` source for this toast message","body":"Please add the <code>HTML</code> source for this toast message"},{"owner":{"account_id":8767278,"reputation":757,"user_id":6555227,"display_name":"Devdun"},"score":0,"creation_date":1664507641,"post_id":73889518,"comment_id":130492806,"body_markdown":"without HTML code it is hard to tell. but why don&#39;t you try \ndriver.switchTo().alert().getText();  isn&#39;t it worked ?","body":"without HTML code it is hard to tell. but why don&#39;t you try  driver.switchTo().alert().getText();  isn&#39;t it worked ?"}],"owner":{"account_id":26476268,"reputation":1,"user_id":20116101,"display_name":"Shehan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664442865,"creation_date":1664416831,"question_id":73889518,"body_markdown":"    driver.get(&quot;https://emojot.com/daily&quot;);\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;loyalty-form\\&quot;]/div/div/input&quot;)).sendKeys(id);\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;engagementInfoRow\\&quot;]/div[9]/div[1]/div[2]/button[2]&quot;)).click();\r\n\r\n    TimeUnit.SECONDS.sleep(ss);\r\n\r\n    String aa = driver.findElement(By.id(&quot;gt_0&quot;)).getText();\r\n\r\n\r\n[this picture have a orange colour notification. I can&#39;t track that notification text on using selenium web driver. How do I solve it?\r\nI am using to program java &amp; NetBeans][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DXLUa.png","title":"Selenium can not find pop-up notification element","body":"<pre><code>driver.get(&quot;https://emojot.com/daily&quot;);\n\ndriver.findElement(By.xpath(&quot;//*[@id=\\&quot;loyalty-form\\&quot;]/div/div/input&quot;)).sendKeys(id);\n\ndriver.findElement(By.xpath(&quot;//*[@id=\\&quot;engagementInfoRow\\&quot;]/div[9]/div[1]/div[2]/button[2]&quot;)).click();\n\nTimeUnit.SECONDS.sleep(ss);\n\nString aa = driver.findElement(By.id(&quot;gt_0&quot;)).getText();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DXLUa.png\" rel=\"nofollow noreferrer\">this picture have a orange colour notification. I can't track that notification text on using selenium web driver. How do I solve it?\nI am using to program java &amp; NetBeans</a></p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1664441343,"post_id":73892732,"comment_id":130474033,"body_markdown":"Does this answer your question? [javac : Compiling a .java file which uses other classes in it](https://stackoverflow.com/questions/10475491/javac-compiling-a-java-file-which-uses-other-classes-in-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10475491/javac-compiling-a-java-file-which-uses-other-classes-in-it\">javac : Compiling a .java file which uses other classes in it</a>"},{"owner":{"account_id":26437998,"reputation":1,"user_id":20118392,"display_name":"xuann6"},"score":0,"creation_date":1664441801,"post_id":73892732,"comment_id":130474198,"body_markdown":"@Turamarth Thanks for your reply, I tried the command `javac Percolation.java PercolationStats.java` (same as `javac *.java`) and the code can be compiled successfully. However, when I try `java PercolationStats.java` to run, it still shows error `error: cannot find symbol`","body":"@Turamarth Thanks for your reply, I tried the command <code>javac Percolation.java PercolationStats.java</code> (same as <code>javac *.java</code>) and the code can be compiled successfully. However, when I try <code>java PercolationStats.java</code> to run, it still shows error <code>error: cannot find symbol</code>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1664442559,"post_id":73892732,"comment_id":130474473,"body_markdown":"`java PercolationStats.java` is for [single file source code execution](https://www.baeldung.com/java-single-file-source-code) which explicitly limits you to code from a single file (and doesn&#39;t require the earlier `javac` call). If you want to run the class you just compiled, you need to specify the **class name** and not the full **file name**. I.e. `java PercolationStats` (without the `.java`!).","body":"<code>java PercolationStats.java</code> is for <a href=\"https://www.baeldung.com/java-single-file-source-code\" rel=\"nofollow noreferrer\">single file source code execution</a> which explicitly limits you to code from a single file (and doesn&#39;t require the earlier <code>javac</code> call). If you want to run the class you just compiled, you need to specify the <b>class name</b> and not the full <b>file name</b>. I.e. <code>java PercolationStats</code> (without the <code>.java</code>!)."},{"owner":{"account_id":26437998,"reputation":1,"user_id":20118392,"display_name":"xuann6"},"score":0,"creation_date":1664454963,"post_id":73892732,"comment_id":130478839,"body_markdown":"@JoachimSauer Thanks! I tried `javac Percolation.java PercolationStats.java` -&gt; `java PercolationStats` and it still turned out that it couldn&#39;t find the Percolation class. Maybe I&#39;ll try to reset my java environment.","body":"@JoachimSauer Thanks! I tried <code>javac Percolation.java PercolationStats.java</code> -&gt; <code>java PercolationStats</code> and it still turned out that it couldn&#39;t find the Percolation class. Maybe I&#39;ll try to reset my java environment."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1664459169,"post_id":73892732,"comment_id":130480582,"body_markdown":"Do you have the `CLASSPATH` variable set? Try explicitly providing `-cp .` to both `javac` and `java`","body":"Do you have the <code>CLASSPATH</code> variable set? Try explicitly providing <code>-cp .</code> to both <code>javac</code> and <code>java</code>"}],"owner":{"account_id":26437998,"reputation":1,"user_id":20118392,"display_name":"xuann6"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664442473,"creation_date":1664441205,"question_id":73892732,"body_markdown":"I&#39;m doing the Algorithm homework of Princeton University, which asked us to finish 2 functions.\r\n\r\nThe question is, when I want to compile &quot;PercolationStats.java&quot; which needs the class &quot;Percolation&quot; in the same directory, It shows the error message: \r\n\r\n&gt; PercolationStats.java:14: error: cannot find symbol\r\n\r\nI tried to find the solution of &quot;how to import default package&quot; on Stackoverflow and turned out the answer that **there&#39;s no need to import**. I&#39;m wondering the reason and I don&#39;t wanna use import package method since the homework spec said that **both files should be in default package**.\r\n\r\nI will put both file I&#39;d like to compile &amp; run down below. I hope there&#39;s someone can tell me the reason/solution why this happened.  \r\n\r\n    public class Percolation {\r\n        private boolean[] id;\r\n        private int number;\r\n        public WeightedQuickUnionUF a;\r\n        private boolean flag;\r\n\r\n        public Percolation(int var1) {\r\n            if (var1 &lt; 1) {\r\n                throw new IllegalArgumentException(&quot;Please input parameter larger than 0!&quot;);\r\n            }\r\n            else {\r\n                this.number = var1;\r\n                this.id = new boolean[this.number * this.number + 2];\r\n                this.a = new WeightedQuickUnionUF(this.number * this.number + 2);\r\n\r\n                for (int var2 = 0; var2 &lt; this.number * this.number + 2; ++var2) {\r\n                    this.id[var2] = false;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public class PercolationStats {\r\n\r\n        private int trial_num;\r\n        private double[] log;\r\n\r\n        public PercolationStats(int var1, int var2) {\r\n            if (var1 &gt;= 1 &amp;&amp; var2 &gt;= 1) {\r\n                Percolation pr = new Percolation(var1);\r\n                trial_num = var2;\r\n            }\r\n            else {\r\n                throw new IllegalArgumentException(&quot;Please make sure both input greater equal than 1!&quot;);\r\n            }\r\n        }\r\n    }\r\n&lt;!-- end snippet --&gt;\r\n\r\nFor readability, I only put the constructor of both class. And I\r\nused following command to compile and run:\r\n\r\n```sh\r\n$  javac PercolationStats.java\r\n$  java PercolationStats.java\r\n```\r\n\r\nThe compile error happened in:\r\n\r\n&gt; Percolation pr = new Percolation(var1);\r\n\r\n \r\n","title":"Cannot Compile/Run the Default Package File in Java","body":"<p>I'm doing the Algorithm homework of Princeton University, which asked us to finish 2 functions.</p>\n<p>The question is, when I want to compile &quot;PercolationStats.java&quot; which needs the class &quot;Percolation&quot; in the same directory, It shows the error message:</p>\n<blockquote>\n<p>PercolationStats.java:14: error: cannot find symbol</p>\n</blockquote>\n<p>I tried to find the solution of &quot;how to import default package&quot; on Stackoverflow and turned out the answer that <strong>there's no need to import</strong>. I'm wondering the reason and I don't wanna use import package method since the homework spec said that <strong>both files should be in default package</strong>.</p>\n<p>I will put both file I'd like to compile &amp; run down below. I hope there's someone can tell me the reason/solution why this happened.</p>\n<pre><code>public class Percolation {\n    private boolean[] id;\n    private int number;\n    public WeightedQuickUnionUF a;\n    private boolean flag;\n\n    public Percolation(int var1) {\n        if (var1 &lt; 1) {\n            throw new IllegalArgumentException(&quot;Please input parameter larger than 0!&quot;);\n        }\n        else {\n            this.number = var1;\n            this.id = new boolean[this.number * this.number + 2];\n            this.a = new WeightedQuickUnionUF(this.number * this.number + 2);\n\n            for (int var2 = 0; var2 &lt; this.number * this.number + 2; ++var2) {\n                this.id[var2] = false;\n            }\n\n        }\n    }\n}\n\n\npublic class PercolationStats {\n\n    private int trial_num;\n    private double[] log;\n\n    public PercolationStats(int var1, int var2) {\n        if (var1 &gt;= 1 &amp;&amp; var2 &gt;= 1) {\n            Percolation pr = new Percolation(var1);\n            trial_num = var2;\n        }\n        else {\n            throw new IllegalArgumentException(&quot;Please make sure both input greater equal than 1!&quot;);\n        }\n    }\n}\n</code></pre>\n\n<p>For readability, I only put the constructor of both class. And I\nused following command to compile and run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$  javac PercolationStats.java\n$  java PercolationStats.java\n</code></pre>\n<p>The compile error happened in:</p>\n<blockquote>\n<p>Percolation pr = new Percolation(var1);</p>\n</blockquote>\n"},{"tags":["java","netbeans","jackson","lombok"],"comments":[{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":2,"creation_date":1652443510,"post_id":39381474,"comment_id":127613533,"body_markdown":"Top answers to this question are a bit outdated. Please check out solution involving @Jacksonized annotation down below.","body":"Top answers to this question are a bit outdated. Please check out solution involving @Jacksonized annotation down below."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1652880994,"post_id":39381474,"comment_id":127713999,"body_markdown":"this works for me - https://github.com/projectlombok/lombok/issues/1563#issuecomment-362615072","body":"this works for me - <a href=\"https://github.com/projectlombok/lombok/issues/1563#issuecomment-362615072\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/&hellip;</a>"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1660733575,"post_id":39381474,"comment_id":129600884,"body_markdown":"@chimmi Top answers are a bit outdated, but an experimental feature will never go in any production environment.","body":"@chimmi Top answers are a bit outdated, but an experimental feature will never go in any production environment."},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1660743283,"post_id":39381474,"comment_id":129604649,"body_markdown":"First of all - quite a bold statement. And second, I was referring to @Jacksonized, which is not experimental.","body":"First of all - quite a bold statement. And second, I was referring to @Jacksonized, which is not experimental."}],"answers":[{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473310336,"creation_date":1473310336,"answer_id":39382809,"question_id":39381474,"body_markdown":"You can get Jackson to play with just about anything if you use its [&quot;mixin&quot; pattern](https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations). Basically, it gives you a way to add Jackson annotations onto an existing class without actually modifying that class. I&#39;m leaning towards recommending it here rather than a Lombok solution because this is solves a problem Jackson is having with a Jackson feature, so it&#39;s more likely to work long-term.\r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>You can get Jackson to play with just about anything if you use its <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"nofollow\">\"mixin\" pattern</a>. Basically, it gives you a way to add Jackson annotations onto an existing class without actually modifying that class. I'm leaning towards recommending it here rather than a Lombok solution because this is solves a problem Jackson is having with a Jackson feature, so it's more likely to work long-term.</p>\n"},{"tags":[],"owner":{"account_id":1094029,"reputation":3832,"user_id":2408961,"accept_rate":92,"display_name":"Donovan Muller"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1476876329,"creation_date":1476876329,"answer_id":40130106,"question_id":39381474,"body_markdown":"I had exactly the same issue, &quot;solved&quot; it by adding the `suppressConstructorProperties = true` parameter (using your example):\r\n\r\n    @Value\r\n    @Wither\r\n    @AllArgsConstructor(suppressConstructorProperties = true)\r\n    public class TestFoo {\r\n        @JsonProperty(&quot;xoom&quot;)\r\n        private String x;\r\n        private int z;\r\n    }\r\n\r\nJackson apparently does not like the [`java.beans.ConstructorProperties` ](http://docs.oracle.com/javase/6/docs/api/java/beans/ConstructorProperties.html) annotation added to constructors. The `suppressConstructorProperties = true` parameter tells [Lombok](https://projectlombok.org/features/Constructor.html) not to add it (it does by default).\r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I had exactly the same issue, \"solved\" it by adding the <code>suppressConstructorProperties = true</code> parameter (using your example):</p>\n\n<pre><code>@Value\n@Wither\n@AllArgsConstructor(suppressConstructorProperties = true)\npublic class TestFoo {\n    @JsonProperty(\"xoom\")\n    private String x;\n    private int z;\n}\n</code></pre>\n\n<p>Jackson apparently does not like the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/beans/ConstructorProperties.html\" rel=\"noreferrer\"><code>java.beans.ConstructorProperties</code> </a> annotation added to constructors. The <code>suppressConstructorProperties = true</code> parameter tells <a href=\"https://projectlombok.org/features/Constructor.html\" rel=\"noreferrer\">Lombok</a> not to add it (it does by default).</p>\n"},{"tags":[],"owner":{"account_id":471548,"reputation":301,"user_id":879419,"display_name":"where_"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1490766980,"creation_date":1490766980,"answer_id":43085423,"question_id":39381474,"body_markdown":"I&#39;ve all my classes annotated like this:\r\n\r\n\t@JsonAutoDetect(fieldVisibility = Visibility.ANY)\r\n\t@JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n\t@Data\r\n\t@Accessors(fluent = true)\r\n\t@NoArgsConstructor\r\n\t@AllArgsConstructor\r\n\r\nIt worked with all Lombok and Jackson versions for, at least, a couple of years.\r\n\r\nExample:\r\n\r\n\t@JsonAutoDetect(fieldVisibility = Visibility.ANY)\r\n\t@JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n\t@Data\r\n\t@Accessors(fluent = true)\r\n\t@NoArgsConstructor\r\n\t@AllArgsConstructor\r\n\tpublic class Person {\r\n\t\tString id;\r\n\t\tString first;\r\n\t\tString last;\r\n\t}\r\n\r\nAnd that&#39;s it.\r\nLombok and Jackson play together like a charm.\r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I've all my classes annotated like this:</p>\n\n<pre><code>@JsonAutoDetect(fieldVisibility = Visibility.ANY)\n@JsonInclude(JsonInclude.Include.NON_DEFAULT)\n@Data\n@Accessors(fluent = true)\n@NoArgsConstructor\n@AllArgsConstructor\n</code></pre>\n\n<p>It worked with all Lombok and Jackson versions for, at least, a couple of years.</p>\n\n<p>Example:</p>\n\n<pre><code>@JsonAutoDetect(fieldVisibility = Visibility.ANY)\n@JsonInclude(JsonInclude.Include.NON_DEFAULT)\n@Data\n@Accessors(fluent = true)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Person {\n    String id;\n    String first;\n    String last;\n}\n</code></pre>\n\n<p>And that's it.\nLombok and Jackson play together like a charm.</p>\n"},{"tags":[],"owner":{"account_id":9095852,"reputation":1,"user_id":8751455,"display_name":"Hector Delgado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507629177,"creation_date":1507629177,"answer_id":46663756,"question_id":39381474,"body_markdown":"    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @Data\r\n    public class Person {\r\n       String id;\r\n       String first;\r\n       String last;\r\n    }\r\n    \r\n    \r\nAdditional to the Data Class,  it should be correct configured the ObjectMapper. \r\nIn this case, it is working ok with a ParameterNamesModule configuration, and setting visibility of Fields and Creator Methods\r\n    \r\n        om.registerModule(new ParameterNamesModule());\r\n        om.setVisibility(FIELD, JsonAutoDetect.Visibility.ANY);\r\n        om.setVisibility(CREATOR, JsonAutoDetect.Visibility.ANY);\r\n\r\n\r\nThen it should work as expected.\r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@Data\npublic class Person {\n   String id;\n   String first;\n   String last;\n}\n</code></pre>\n\n<p>Additional to the Data Class,  it should be correct configured the ObjectMapper. \nIn this case, it is working ok with a ParameterNamesModule configuration, and setting visibility of Fields and Creator Methods</p>\n\n<pre><code>    om.registerModule(new ParameterNamesModule());\n    om.setVisibility(FIELD, JsonAutoDetect.Visibility.ANY);\n    om.setVisibility(CREATOR, JsonAutoDetect.Visibility.ANY);\n</code></pre>\n\n<p>Then it should work as expected.</p>\n"},{"tags":[],"owner":{"account_id":12574361,"reputation":73,"user_id":9147300,"display_name":"yyy"},"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1514425186,"creation_date":1514425186,"answer_id":48000609,"question_id":39381474,"body_markdown":"`@AllArgsConstructor(suppressConstructorProperties = true)` is deprecated. Define `lombok.anyConstructor.suppressConstructorProperties=true` (https://projectlombok.org/features/configuration) and change POJO&#39;s lombok annotation from `@Value` to `@Data` + `@NoArgsConstructor` + `@AllArgsConstructor` works for me. \r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<p><code>@AllArgsConstructor(suppressConstructorProperties = true)</code> is deprecated. Define <code>lombok.anyConstructor.suppressConstructorProperties=true</code> (<a href=\"https://projectlombok.org/features/configuration\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/configuration</a>) and change POJO's lombok annotation from <code>@Value</code> to <code>@Data</code> + <code>@NoArgsConstructor</code> + <code>@AllArgsConstructor</code> works for me. </p>\n"},{"tags":[],"owner":{"account_id":6372812,"reputation":1183,"user_id":4944734,"display_name":"ganesan dharmalingam"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1536681701,"creation_date":1518676668,"answer_id":48801237,"question_id":39381474,"body_markdown":"If you want immutable but a json serializable POJO using lombok and jackson.\r\nUse jacksons new annotation on your lomboks builder `@JsonPOJOBuilder(withPrefix = &quot;&quot;)`\r\nI tried this solution and it works very well.\r\nSample usage\r\n\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    import com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder;\r\n    import lombok.Builder;\r\n    import lombok.Value;\r\n    \r\n    @JsonDeserialize(builder = Detail.DetailBuilder.class)\r\n    @Value\r\n    @Builder\r\n    public class Detail {\r\n    \r\n        private String url;\r\n        private String userName;\r\n        private String password;\r\n        private String scope;\r\n    \r\n        @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n        public static class DetailBuilder {\r\n    \r\n        }\r\n    }\r\n\r\nIf you have too many classes with `@Builder` and you want don&#39;t want the boilerplate code empty annotation you can override the annotation interceptor to have empty `withPrefix`\r\n\r\n    mapper.setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\r\n            @Override\r\n            public JsonPOJOBuilder.Value findPOJOBuilderConfig(AnnotatedClass ac) {\r\n                if (ac.hasAnnotation(JsonPOJOBuilder.class)) {//If no annotation present use default as empty prefix\r\n                    return super.findPOJOBuilderConfig(ac);\r\n                }\r\n                return new JsonPOJOBuilder.Value(&quot;build&quot;, &quot;&quot;);\r\n            }\r\n        });\r\n\r\nAnd you can remove the empty builder class with `@JsonPOJOBuilder` annotation.","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>If you want immutable but a json serializable POJO using lombok and jackson.\nUse jacksons new annotation on your lomboks builder <code>@JsonPOJOBuilder(withPrefix = \"\")</code>\nI tried this solution and it works very well.\nSample usage</p>\n\n<pre><code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder;\nimport lombok.Builder;\nimport lombok.Value;\n\n@JsonDeserialize(builder = Detail.DetailBuilder.class)\n@Value\n@Builder\npublic class Detail {\n\n    private String url;\n    private String userName;\n    private String password;\n    private String scope;\n\n    @JsonPOJOBuilder(withPrefix = \"\")\n    public static class DetailBuilder {\n\n    }\n}\n</code></pre>\n\n<p>If you have too many classes with <code>@Builder</code> and you want don't want the boilerplate code empty annotation you can override the annotation interceptor to have empty <code>withPrefix</code></p>\n\n<pre><code>mapper.setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\n        @Override\n        public JsonPOJOBuilder.Value findPOJOBuilderConfig(AnnotatedClass ac) {\n            if (ac.hasAnnotation(JsonPOJOBuilder.class)) {//If no annotation present use default as empty prefix\n                return super.findPOJOBuilderConfig(ac);\n            }\n            return new JsonPOJOBuilder.Value(\"build\", \"\");\n        }\n    });\n</code></pre>\n\n<p>And you can remove the empty builder class with <code>@JsonPOJOBuilder</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526305152,"creation_date":1526305152,"answer_id":50331767,"question_id":39381474,"body_markdown":"I was having issues with getting Lombok to not add the ```ConstructorProperies``` annotation so went the other way and disabled Jackson from looking at that annotation.\r\n\r\nThe culprit is [JacksonAnnotationIntrospector.findCreatorAnnotation][1]. Notice:\r\n\r\n    if (_cfgConstructorPropertiesImpliesCreator\r\n                &amp;&amp; config.isEnabled(MapperFeature.INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES)\r\n\r\nAlso notice [JacksonAnnotationIntrospector.setConstructorPropertiesImpliesCreator][2]:\r\n\r\n    public JacksonAnnotationIntrospector setConstructorPropertiesImpliesCreator(boolean b)\r\n    {\r\n        _cfgConstructorPropertiesImpliesCreator = b;\r\n        return this;\r\n    }\r\n\r\nSo two options, either set the ```MapperFeature.INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES``` to false or create a ```JacksonAnnotationIntrospector``` set ```setConstructorPropertiesImpliesCreator``` to ```false``` and set this ```AnnotationIntrospector``` into the ```ObjectMapper``` via [ObjectMapper.setAnnotationIntrospector][3].\r\n\r\nNotice a couple things, I am using Jackson 2.8.10 and in that version ```MapperFeature.INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES``` does not exist. I am not sure in which version of Jackson it was added. So if it is not there, use the ```JacksonAnnotationIntrospector.setConstructorPropertiesImpliesCreator``` mechanism.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/blob/cf0741bed68700ecb88860a64f5e649620e6b296/src/main/java/com/fasterxml/jackson/databind/introspect/JacksonAnnotationIntrospector.java#L1211\r\n  [2]: https://github.com/FasterXML/jackson-databind/blob/cf0741bed68700ecb88860a64f5e649620e6b296/src/main/java/com/fasterxml/jackson/databind/introspect/JacksonAnnotationIntrospector.java#L121\r\n  [3]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#setAnnotationIntrospector(com.fasterxml.jackson.databind.AnnotationIntrospector)","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I was having issues with getting Lombok to not add the <code>ConstructorProperies</code> annotation so went the other way and disabled Jackson from looking at that annotation.</p>\n\n<p>The culprit is <a href=\"https://github.com/FasterXML/jackson-databind/blob/cf0741bed68700ecb88860a64f5e649620e6b296/src/main/java/com/fasterxml/jackson/databind/introspect/JacksonAnnotationIntrospector.java#L1211\" rel=\"nofollow noreferrer\">JacksonAnnotationIntrospector.findCreatorAnnotation</a>. Notice:</p>\n\n<pre><code>if (_cfgConstructorPropertiesImpliesCreator\n            &amp;&amp; config.isEnabled(MapperFeature.INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES)\n</code></pre>\n\n<p>Also notice <a href=\"https://github.com/FasterXML/jackson-databind/blob/cf0741bed68700ecb88860a64f5e649620e6b296/src/main/java/com/fasterxml/jackson/databind/introspect/JacksonAnnotationIntrospector.java#L121\" rel=\"nofollow noreferrer\">JacksonAnnotationIntrospector.setConstructorPropertiesImpliesCreator</a>:</p>\n\n<pre><code>public JacksonAnnotationIntrospector setConstructorPropertiesImpliesCreator(boolean b)\n{\n    _cfgConstructorPropertiesImpliesCreator = b;\n    return this;\n}\n</code></pre>\n\n<p>So two options, either set the <code>MapperFeature.INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES</code> to false or create a <code>JacksonAnnotationIntrospector</code> set <code>setConstructorPropertiesImpliesCreator</code> to <code>false</code> and set this <code>AnnotationIntrospector</code> into the <code>ObjectMapper</code> via <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#setAnnotationIntrospector(com.fasterxml.jackson.databind.AnnotationIntrospector)\" rel=\"nofollow noreferrer\">ObjectMapper.setAnnotationIntrospector</a>.</p>\n\n<p>Notice a couple things, I am using Jackson 2.8.10 and in that version <code>MapperFeature.INFER_CREATOR_FROM_CONSTRUCTOR_PROPERTIES</code> does not exist. I am not sure in which version of Jackson it was added. So if it is not there, use the <code>JacksonAnnotationIntrospector.setConstructorPropertiesImpliesCreator</code> mechanism.</p>\n"},{"tags":[],"owner":{"account_id":179597,"reputation":2025,"user_id":412366,"accept_rate":59,"display_name":"Matt Broekhuis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526939768,"creation_date":1526939768,"answer_id":50457092,"question_id":39381474,"body_markdown":"You need to have this module as well.\r\nhttps://github.com/FasterXML/jackson-modules-java8\r\n\r\nthen turn on -parameters flag for your compiler. \r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                        &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>You need to have this module as well.\n<a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-modules-java8</a></p>\n\n<p>then turn on -parameters flag for your compiler. </p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532438060,"creation_date":1532438060,"answer_id":51499574,"question_id":39381474,"body_markdown":"For me it worked when I have updated lombok version to:\r\n&#39;org.projectlombok:lombok:1.18.0&#39;","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>For me it worked when I have updated lombok version to:\n'org.projectlombok:lombok:1.18.0'</p>\n"},{"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1556819919,"creation_date":1556819919,"answer_id":55957865,"question_id":39381474,"body_markdown":"Immutable + Lombok + Jackson can be achieved in next way:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import lombok.AccessLevel;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Value;\r\n    \r\n    @Value\r\n    @NoArgsConstructor(force = true, access = AccessLevel.PRIVATE)\r\n    @AllArgsConstructor\r\n    public class LocationDto {\r\n    \r\n        double longitude;\r\n        double latitude;\r\n    }\r\n    \r\n    class ImmutableWithLombok {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n            String stringJsonRepresentation = objectMapper.writeValueAsString(new LocationDto(22.11, 33.33));\r\n            System.out.println(stringJsonRepresentation);\r\n    \r\n            LocationDto locationDto = objectMapper.readValue(stringJsonRepresentation, LocationDto.class);\r\n            System.out.println(locationDto);\r\n        }\r\n    }","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>Immutable + Lombok + Jackson can be achieved in next way:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\nimport lombok.Value;\n\n@Value\n@NoArgsConstructor(force = true, access = AccessLevel.PRIVATE)\n@AllArgsConstructor\npublic class LocationDto {\n\n    double longitude;\n    double latitude;\n}\n\nclass ImmutableWithLombok {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        String stringJsonRepresentation = objectMapper.writeValueAsString(new LocationDto(22.11, 33.33));\n        System.out.println(stringJsonRepresentation);\n\n        LocationDto locationDto = objectMapper.readValue(stringJsonRepresentation, LocationDto.class);\n        System.out.println(locationDto);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7401461,"reputation":771,"user_id":5631767,"display_name":"Yorgos Lamprakis"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1582119504,"creation_date":1557772767,"answer_id":56118113,"question_id":39381474,"body_markdown":"I tried several of the above and they were all temperamental.\r\nWhat really worked for me is the the answer I found [here][1].\r\n\r\non your project&#39;s root directory add a [lombok.config][2] file (if you haven&#39;t done already) \r\n\r\n&gt; lombok.config\r\n\r\nand inside paste this\r\n\r\n    lombok.anyConstructor.addConstructorProperties=true\r\n\r\nThen you can define your pojos like the following:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class MyPojo {\r\n    \r\n        @JsonProperty(&quot;Description&quot;)\r\n        private String description;\r\n        @JsonProperty(&quot;ErrorCode&quot;)\r\n        private String errorCode;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/rzwitserloot/lombok/issues/1563#issuecomment-358403046\r\n  [2]: https://projectlombok.org/features/configuration","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I tried several of the above and they were all temperamental.\nWhat really worked for me is the the answer I found <a href=\"https://github.com/rzwitserloot/lombok/issues/1563#issuecomment-358403046\" rel=\"noreferrer\">here</a>.</p>\n\n<p>on your project's root directory add a <a href=\"https://projectlombok.org/features/configuration\" rel=\"noreferrer\">lombok.config</a> file (if you haven't done already) </p>\n\n<blockquote>\n  <p>lombok.config</p>\n</blockquote>\n\n<p>and inside paste this</p>\n\n<pre><code>lombok.anyConstructor.addConstructorProperties=true\n</code></pre>\n\n<p>Then you can define your pojos like the following:</p>\n\n<pre><code>@Data\n@AllArgsConstructor\npublic class MyPojo {\n\n    @JsonProperty(\"Description\")\n    private String description;\n    @JsonProperty(\"ErrorCode\")\n    private String errorCode;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4168201,"reputation":113,"user_id":3416682,"display_name":"user3416682"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562087137,"creation_date":1562087137,"answer_id":56857179,"question_id":39381474,"body_markdown":"I struggled with this for a moment as well. But looking through the documentation [here][1]\r\nI can see that the onConstructor annotation parameter is considered experimental and is not supported well on my IDE (STS 4).  According to the Jackson documentation, private members are not (de)serialized by default.  There are quick ways to resolve this.  \r\n\r\nAdd JsonAutoDetect annotation and set it appropriately to detect protected/private members. This is convenient for DTOs \r\n\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n    public class SomeClass\r\n\r\nAdd a factory function with @JsonCreator annotation, this works best if you need some object validation or additional transforms.\r\n\r\n    public class SomeClass {\r\n       \r\n       // some code here\r\n       \r\n       @JsonCreator\r\n       public static SomeClass factory(/* params here dressing them in @JsonProperty annotations*/) {\r\n          return new SomeClass();\r\n       }\r\n    }\r\n  \r\nOf course you could just manually add the constructor in yourself also as well.\r\n\r\n  [1]: https://projectlombok.org/features/experimental/onX","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I struggled with this for a moment as well. But looking through the documentation <a href=\"https://projectlombok.org/features/experimental/onX\" rel=\"nofollow noreferrer\">here</a>\nI can see that the onConstructor annotation parameter is considered experimental and is not supported well on my IDE (STS 4).  According to the Jackson documentation, private members are not (de)serialized by default.  There are quick ways to resolve this.  </p>\n\n<p>Add JsonAutoDetect annotation and set it appropriately to detect protected/private members. This is convenient for DTOs </p>\n\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\npublic class SomeClass\n</code></pre>\n\n<p>Add a factory function with @JsonCreator annotation, this works best if you need some object validation or additional transforms.</p>\n\n<pre><code>public class SomeClass {\n\n   // some code here\n\n   @JsonCreator\n   public static SomeClass factory(/* params here dressing them in @JsonProperty annotations*/) {\n      return new SomeClass();\n   }\n}\n</code></pre>\n\n<p>Of course you could just manually add the constructor in yourself also as well.</p>\n"},{"tags":[],"owner":{"account_id":2593579,"reputation":3008,"user_id":2398020,"accept_rate":62,"display_name":"Mingwei Samuel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1582511832,"creation_date":1564770619,"answer_id":57331786,"question_id":39381474,"body_markdown":"[From Jan Rieke&#39;s Answer](https://stackoverflow.com/a/55326612/2398020)\r\n\r\n&gt; Since lombok 1.18.4, you can configure what annotations are copied to\r\n&gt; the constructor parameters. Insert this into your `lombok.config`:\r\n&gt; \r\n&gt;     lombok.copyableAnnotations += com.fasterxml.jackson.annotation.JsonProperty\r\n&gt; \r\n&gt; Then just add `@JsonProperty` to your fields:\r\n&gt;\r\n&gt; ...\r\n\r\nYou&#39;ll need a @JsonProperty on every field even if the name matches, but that is a good practice to follow anyway. You can also set your fields to public final using this, which I prefer over getters.\r\n\r\n```java\r\n@ToString\r\n@EqualsAndHashCode\r\n@Wither\r\n@AllArgsConstructor(onConstructor=@__(@JsonCreator))\r\npublic class TestFoo {\r\n    @JsonProperty(&quot;xoom&quot;)\r\n    public final String x;\r\n    @JsonProperty(&quot;z&quot;)\r\n    public final int z;\r\n}\r\n```\r\n\r\nIt should also work with getters (+setters) though.","title":"Can&#39;t make Jackson and Lombok work together","body":"<p><a href=\"https://stackoverflow.com/a/55326612/2398020\">From Jan Rieke's Answer</a></p>\n\n<blockquote>\n  <p>Since lombok 1.18.4, you can configure what annotations are copied to\n  the constructor parameters. Insert this into your <code>lombok.config</code>:</p>\n\n<pre><code>lombok.copyableAnnotations += com.fasterxml.jackson.annotation.JsonProperty\n</code></pre>\n  \n  <p>Then just add <code>@JsonProperty</code> to your fields:</p>\n  \n  <p>...</p>\n</blockquote>\n\n<p>You'll need a @JsonProperty on every field even if the name matches, but that is a good practice to follow anyway. You can also set your fields to public final using this, which I prefer over getters.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\n@EqualsAndHashCode\n@Wither\n@AllArgsConstructor(onConstructor=@__(@JsonCreator))\npublic class TestFoo {\n    @JsonProperty(\"xoom\")\n    public final String x;\n    @JsonProperty(\"z\")\n    public final int z;\n}\n</code></pre>\n\n<p>It should also work with getters (+setters) though.</p>\n"},{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1569954227,"creation_date":1569954227,"answer_id":58190348,"question_id":39381474,"body_markdown":"I had a different issue and it was with the boolean primitive types. \r\n\r\n    private boolean isAggregate;\r\n\r\nIt was throwing the following error as a result \r\n\r\n    Exception: Unrecognized field &quot;isAggregate&quot; (class \r\n\r\nLambok converts `isAggregate` to `isAggregate()` as a getter making the property internally to lombok as `aggregate` instead `isAggregate`. The Jackson library doesn&#39;t like it and it needs `isAggregate` property instead. \r\n\r\nI updated the primitive boolean to Wrapper Boolean to work around this issue. There are other options for you if you are dealing with `boolean` types, see the reference below. \r\n\r\n**Sol:**\r\n\r\n    private Boolean isAggregate;\r\n\r\n\r\n\r\nref: https://www.baeldung.com/lombok-getter-boolean","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I had a different issue and it was with the boolean primitive types. </p>\n\n<pre><code>private boolean isAggregate;\n</code></pre>\n\n<p>It was throwing the following error as a result </p>\n\n<pre><code>Exception: Unrecognized field \"isAggregate\" (class \n</code></pre>\n\n<p>Lambok converts <code>isAggregate</code> to <code>isAggregate()</code> as a getter making the property internally to lombok as <code>aggregate</code> instead <code>isAggregate</code>. The Jackson library doesn't like it and it needs <code>isAggregate</code> property instead. </p>\n\n<p>I updated the primitive boolean to Wrapper Boolean to work around this issue. There are other options for you if you are dealing with <code>boolean</code> types, see the reference below. </p>\n\n<p><strong>Sol:</strong></p>\n\n<pre><code>private Boolean isAggregate;\n</code></pre>\n\n<p>ref: <a href=\"https://www.baeldung.com/lombok-getter-boolean\" rel=\"nofollow noreferrer\">https://www.baeldung.com/lombok-getter-boolean</a></p>\n"},{"tags":[],"owner":{"account_id":2303933,"reputation":189,"user_id":2023603,"display_name":"Ciccio"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1611225721,"creation_date":1611225721,"answer_id":65825676,"question_id":39381474,"body_markdown":"I would suggest you to use Gson as it does not give you all this hassle.\r\n\r\nI added this in my spring boot app\r\n\r\n`spring.mvc.converters.preferred-json-mapper=gson`\r\n\r\nalong with the dependency in maven and I solved all the problems. I didn&#39;t need to modify my lombok annotated pojos\r\n\r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I would suggest you to use Gson as it does not give you all this hassle.</p>\n<p>I added this in my spring boot app</p>\n<p><code>spring.mvc.converters.preferred-json-mapper=gson</code></p>\n<p>along with the dependency in maven and I solved all the problems. I didn't need to modify my lombok annotated pojos</p>\n"},{"tags":[],"owner":{"account_id":3980770,"reputation":17,"user_id":3282710,"accept_rate":0,"display_name":"Shiv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618892403,"creation_date":1618892403,"answer_id":67172413,"question_id":39381474,"body_markdown":"Options which worked for me\r\n- This worked for me just by adding @AllArgsConstructor in my bean.\r\n- Add  mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true); object mapper instance.","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>Options which worked for me</p>\n<ul>\n<li>This worked for me just by adding @AllArgsConstructor in my bean.</li>\n<li>Add  mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true); object mapper instance.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":309142,"reputation":3795,"user_id":621438,"accept_rate":79,"display_name":"LukeSolar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619867715,"creation_date":1619858911,"answer_id":67344418,"question_id":39381474,"body_markdown":"I found two options to solve this problem if you want to use `@Builder` with Jackson.\r\n\r\n**Option 1**\r\n- Add private default noArgs and allArgs constructors. \r\n\r\n```\r\n@Builder\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class Person {\r\n\r\n    @JsonProperty(&quot;user_name&quot;)\r\n    private String name;\r\n}\r\n```\r\n\r\n**Option 2**\r\n\r\n\r\nThanks to [this][1] article.\r\n\r\nJackson expects the builder methods to start like `.withProperty(...)` but Lombok generates `.property(...)`.\r\n\r\n&gt; What you can do is to create the builder class yourself so that you can add Jackson annotations to it. Lombok will then re-use this class and add all the builder methods to it. \r\n\r\n    @JsonDeserialize(builder = MyDto.MyDtoBuilder.class)\r\n    @Builder\r\n    @Getter\r\n    public class MyDto {\r\n    \r\n        @JsonProperty(&quot;user_id&quot;)\r\n        private String userId;\r\n    \r\n        @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class MyDtoBuilder {\r\n        }\r\n    }\r\n\r\n- You need to do some manual work\r\n- Still much better than writing the Builder yourself\r\n- Also note that additional properties like `@JsonIgnorePropertie` go on the builder \r\n\r\nAn additional drawback is that refactorings will not automatically rename the `MyDtoBuilder`. I hope in a future Lombok/Jackson version this issue is solved.\r\n\r\nUpdate: I&#39;ve found another solution (tested with lombok 1.18.20 and spring boot 2.4.5), added as Option 1.\r\n\r\n\r\n  [1]: https://www.thecuriousdev.org/lombok-builder-with-jackson/\r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I found two options to solve this problem if you want to use <code>@Builder</code> with Jackson.</p>\n<p><strong>Option 1</strong></p>\n<ul>\n<li>Add private default noArgs and allArgs constructors.</li>\n</ul>\n<pre><code>@Builder\n@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true)\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class Person {\n\n    @JsonProperty(&quot;user_name&quot;)\n    private String name;\n}\n</code></pre>\n<p><strong>Option 2</strong></p>\n<p>Thanks to <a href=\"https://www.thecuriousdev.org/lombok-builder-with-jackson/\" rel=\"noreferrer\">this</a> article.</p>\n<p>Jackson expects the builder methods to start like <code>.withProperty(...)</code> but Lombok generates <code>.property(...)</code>.</p>\n<blockquote>\n<p>What you can do is to create the builder class yourself so that you can add Jackson annotations to it. Lombok will then re-use this class and add all the builder methods to it.</p>\n</blockquote>\n<pre><code>@JsonDeserialize(builder = MyDto.MyDtoBuilder.class)\n@Builder\n@Getter\npublic class MyDto {\n\n    @JsonProperty(&quot;user_id&quot;)\n    private String userId;\n\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class MyDtoBuilder {\n    }\n}\n</code></pre>\n<ul>\n<li>You need to do some manual work</li>\n<li>Still much better than writing the Builder yourself</li>\n<li>Also note that additional properties like <code>@JsonIgnorePropertie</code> go on the builder</li>\n</ul>\n<p>An additional drawback is that refactorings will not automatically rename the <code>MyDtoBuilder</code>. I hope in a future Lombok/Jackson version this issue is solved.</p>\n<p>Update: I've found another solution (tested with lombok 1.18.20 and spring boot 2.4.5), added as Option 1.</p>\n"},{"tags":[],"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1623938697,"creation_date":1623754070,"answer_id":67984817,"question_id":39381474,"body_markdown":"It can be done simpler, without extra annotations and the problem can be with the inheritance, i.e. child classes should be deserializable as well. So, my example:\r\n\r\nRequirements:\r\n\r\n`lombok.config` inside the project root directory with body containing:\r\n\r\n```\r\nlombok.anyConstructor.addConstructorProperties=true\r\n```\r\n\r\n```java\r\n/** The parent class **/\r\n\r\n@Value\r\n@NonFinal\r\n@SuperBuilder\r\n@RequiredArgsConstructor\r\npublic class Animal {\r\n  String name;\r\n}\r\n\r\n/** The child class **/\r\n\r\n@Value\r\n@SuperBuilder\r\n@RequiredArgsConstructor\r\npublic class Cat {\r\n  Long tailLength;\r\n  \r\n  @ConstructorProperties({&quot;tailLength&quot;, &quot;name})\r\n  public Cat(Long tailLength, String name) {\r\n      super(name);\r\n      this.tailLength = tailLength;\r\n  }\r\n}\r\n```\r\n\r\nIt:\r\n\r\n 1. Allows building of objects including fields of the parent\r\n 2. Serializes/Deserializes with the default `ObjectMapper` and Jackson\r\n 3. Instances of the parent and children classes are immutable\r\n\r\nMy advice against other examples:\r\n\r\n1. Try not to put custom annotations on particular classes, it makes it _inhomogeneous_. Any way, you will come to a generic solution one day.\r\n2. Try not to put `Jackson` annotations on any fields on constructors, it creates coupling, when Jackson is capable to serialize/deserialize without any annotations.\r\n3. Do not use `@AllArgsConstructor` for immutable entities. When your class has only **final** fields, conceptually right is `@RequiredArgsConstructor`, that&#39;s how you guarantee that class-clients always will rely only on a constructor with the immutable entity. Will `@AllArgsConstructor` it might lead to passing nulls.","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>It can be done simpler, without extra annotations and the problem can be with the inheritance, i.e. child classes should be deserializable as well. So, my example:</p>\n<p>Requirements:</p>\n<p><code>lombok.config</code> inside the project root directory with body containing:</p>\n<pre><code>lombok.anyConstructor.addConstructorProperties=true\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/** The parent class **/\n\n@Value\n@NonFinal\n@SuperBuilder\n@RequiredArgsConstructor\npublic class Animal {\n  String name;\n}\n\n/** The child class **/\n\n@Value\n@SuperBuilder\n@RequiredArgsConstructor\npublic class Cat {\n  Long tailLength;\n  \n  @ConstructorProperties({&quot;tailLength&quot;, &quot;name})\n  public Cat(Long tailLength, String name) {\n      super(name);\n      this.tailLength = tailLength;\n  }\n}\n</code></pre>\n<p>It:</p>\n<ol>\n<li>Allows building of objects including fields of the parent</li>\n<li>Serializes/Deserializes with the default <code>ObjectMapper</code> and Jackson</li>\n<li>Instances of the parent and children classes are immutable</li>\n</ol>\n<p>My advice against other examples:</p>\n<ol>\n<li>Try not to put custom annotations on particular classes, it makes it <em>inhomogeneous</em>. Any way, you will come to a generic solution one day.</li>\n<li>Try not to put <code>Jackson</code> annotations on any fields on constructors, it creates coupling, when Jackson is capable to serialize/deserialize without any annotations.</li>\n<li>Do not use <code>@AllArgsConstructor</code> for immutable entities. When your class has only <strong>final</strong> fields, conceptually right is <code>@RequiredArgsConstructor</code>, that's how you guarantee that class-clients always will rely only on a constructor with the immutable entity. Will <code>@AllArgsConstructor</code> it might lead to passing nulls.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626877519,"creation_date":1626877519,"answer_id":68471310,"question_id":39381474,"body_markdown":"I have managed to keep my classes immutable and also deserialize them by using this lombok annotation:\r\n\r\n    @NoArgsConstructor(force = true)\r\n\r\n","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I have managed to keep my classes immutable and also deserialize them by using this lombok annotation:</p>\n<pre><code>@NoArgsConstructor(force = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3519242,"reputation":689,"user_id":2941957,"display_name":"Dusan.czh"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1664442214,"creation_date":1632899320,"answer_id":69371859,"question_id":39381474,"body_markdown":"Here is an example by using \r\n[`@Jacksonized`][1] annotation:\r\n\r\n    import lombok.Value;\r\n    import lombok.Builder;\r\n    import lombok.extern.jackson.Jacksonized;\r\n\r\n    @Jacksonized\r\n    @Builder\r\n    @Value\r\n    public class User {\r\n        String name;\r\n        String surname;\r\n    }\r\n\r\nIt does require you to use `@Builder` annotation.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/Jacksonized","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>Here is an example by using\n<a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"noreferrer\"><code>@Jacksonized</code></a> annotation:</p>\n<pre><code>import lombok.Value;\nimport lombok.Builder;\nimport lombok.extern.jackson.Jacksonized;\n\n@Jacksonized\n@Builder\n@Value\npublic class User {\n    String name;\n    String surname;\n}\n</code></pre>\n<p>It does require you to use <code>@Builder</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":148195,"reputation":1892,"user_id":359793,"accept_rate":61,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663604423,"creation_date":1663584494,"answer_id":73772202,"question_id":39381474,"body_markdown":"None of the above answers worked for me, but this below did. \r\n\r\nWhat happens is that Jackson does not support the fluent getters, BUT you can tell it to use reflection to read the fields.\r\n\r\nTry this:\r\n\r\n    @Value\r\n    @Accessors(chain = true, fluent = true)\r\n    @Builder(builderClassName = &quot;Builder&quot;)\r\n    public static class TestFoo {\r\n      // ...\r\n    }\r\n    \r\n    var foo = ...\r\n    var writer = new ObjectMapper()\r\n        .setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY)\r\n        .writer();\r\n    \r\n    writer.writeValueAsString(foo);","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>None of the above answers worked for me, but this below did.</p>\n<p>What happens is that Jackson does not support the fluent getters, BUT you can tell it to use reflection to read the fields.</p>\n<p>Try this:</p>\n<pre><code>@Value\n@Accessors(chain = true, fluent = true)\n@Builder(builderClassName = &quot;Builder&quot;)\npublic static class TestFoo {\n  // ...\n}\n\nvar foo = ...\nvar writer = new ObjectMapper()\n    .setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY)\n    .writer();\n\nwriter.writeValueAsString(foo);\n</code></pre>\n"}],"owner":{"account_id":258390,"reputation":14093,"user_id":540552,"accept_rate":86,"display_name":"Victor Stafusa - BozoNaCadeia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145574,"favorite_count":0,"down_vote_count":0,"up_vote_count":142,"answer_count":21,"score":142,"last_activity_date":1664442214,"creation_date":1473299937,"question_id":39381474,"body_markdown":"I am experimenting in combining Jackson and Lombok. Those are my classes:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package testelombok;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Value;\r\n    import lombok.experimental.Wither;\r\n    \r\n    @Value\r\n    @Wither\r\n    @AllArgsConstructor(onConstructor=@__(@JsonCreator))\r\n    public class TestFoo {\r\n        @JsonProperty(&quot;xoom&quot;)\r\n        private String x;\r\n        private int z;\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package testelombok;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.xebia.jacksonlombok.JacksonLombokAnnotationIntrospector;\r\n    import java.io.IOException;\r\n    \r\n    public class TestLombok {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            TestFoo tf = new TestFoo(&quot;a&quot;, 5);\r\n            System.out.println(tf.withX(&quot;b&quot;));\r\n            ObjectMapper om = new ObjectMapper().setAnnotationIntrospector(new JacksonLombokAnnotationIntrospector());\r\n            System.out.println(om.writeValueAsString(tf));\r\n            TestFoo tf2 = om.readValue(om.writeValueAsString(tf), TestFoo.class);\r\n            System.out.println(tf2);\r\n        }\r\n    \r\n    }\r\n\r\nThose are the JARs that I&#39;m adding into the classpth:\r\n\r\n* Lombok: https://projectlombok.org/downloads/lombok.jar (version 1.16.10)\r\n\r\n* Jackson annotations: http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-annotations/2.8.2/jackson-annotations-2.8.2.jar\r\n\r\n* Jackson core: http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.8.2/jackson-core-2.8.2.jar\r\n\r\n* Jackson databind: http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.8.2/jackson-databind-2.8.2.jar\r\n\r\n* Jackson-lombok: http://repo1.maven.org/maven2/io/paradoxical/jackson-lombok/1.1/jackson-lombok-1.1.jar\r\n\r\nI am compiling it with Netbeans (I don&#39;t think that this is really relevant, but I am reporting this anyway to make it perfectly and faithfully reproducible). The five JARs above are kept in a folder called &quot;`lib`&quot; inside the project folder (along with &quot;`src`&quot;, &quot;`nbproject`&quot;, &quot;`test`&quot; and &quot;`build`&quot;). I added them to Netbeans via the &quot;*Add JAR/Folder*&quot; button in the project properties and they are listed in the exact order as the list above. The project is a standard &quot;Java application&quot; type project.\r\n\r\nFurther, the Netbeans project is configured to &quot;*do NOT compile on save*&quot;, &quot;*generate debugging info*&quot;, &quot;*report deprecated APIs*&quot;, &quot;*track java dependencies*&quot;, &quot;*activacte annotation proccessing*&quot; and &quot;*activacte annotation proccessing in the editor*&quot;. No annotation processor or annotation processing option is explicitly configured in Netbeans. Also, the &quot;`-Xlint:all`&quot; command line option is passed in the compiler command line, and the compiler runs on an external VM.\r\n\r\nMy javac&#39;s version is 1.8.0_72 and my java&#39;s version is 1.8.0_72-b15. My Netbeans is 8.1.\r\n\r\nMy project compiles fine. However, it throws an exception in its execution. The exception don&#39;t seems to be anything that looks easily or obvious fixable. Here is the output, including the stacktrace:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    TestFoo(x=b, z=5)\r\n    {&quot;z&quot;:5,&quot;xoom&quot;:&quot;a&quot;}\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.JsonMappingException: Argument #0 of constructor [constructor for testelombok.TestFoo, annotations: {interface java.beans.ConstructorProperties=@java.beans.ConstructorProperties(value=[x, z]), interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\r\n     at [Source: {&quot;z&quot;:5,&quot;xoom&quot;:&quot;a&quot;}; line: 1, column: 1]\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:296)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:269)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:475)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:3890)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3785)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2833)\r\n    \tat testelombok.TestLombok.main(TestLombok.java:14)\r\n    Caused by: java.lang.IllegalArgumentException: Argument #0 of constructor [constructor for testelombok.TestFoo, annotations: {interface java.beans.ConstructorProperties=@java.beans.ConstructorProperties(value=[x, z]), interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\r\n    \tat com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._addDeserializerConstructors(BasicDeserializerFactory.java:511)\r\n    \tat com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._constructDefaultValueInstantiator(BasicDeserializerFactory.java:323)\r\n    \tat com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findValueInstantiator(BasicDeserializerFactory.java:253)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:219)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:406)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:352)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\r\n    \t... 7 more\r\n\r\nI already tried about randomly poking with the `@Value` and `@AllArgsConstructor` annotations, but I couldn&#39;t make it any better.\r\n\r\nI google&#39;d the exception and [found an old bug report on jackson](https://github.com/FasterXML/jackson-datatype-jdk8/issues/16), and [another one that is open, but seems to be related to something else](https://github.com/FasterXML/jackson-databind/issues/1239). However, this still do not tells anything about what is this bug or how to fix it. Also, I could not find anything useful looking that somewhere else.\r\n\r\nSince what I am trying to do is very basic usage of both lombok and jackson, it seems odd that I couldn&#39;t find any more useful information about how to workaround this issue. Maybe I missed something?\r\n\r\nOther than just saying &quot;*don&#39;t use lombok*&quot; or &quot;*don&#39;t use jackson*&quot;, do anybody has any idea about how to solve this?","title":"Can&#39;t make Jackson and Lombok work together","body":"<p>I am experimenting in combining Jackson and Lombok. Those are my classes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package testelombok;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Value;\nimport lombok.experimental.Wither;\n\n@Value\n@Wither\n@AllArgsConstructor(onConstructor=@__(@JsonCreator))\npublic class TestFoo {\n    @JsonProperty(\"xoom\")\n    private String x;\n    private int z;\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package testelombok;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.xebia.jacksonlombok.JacksonLombokAnnotationIntrospector;\nimport java.io.IOException;\n\npublic class TestLombok {\n\n    public static void main(String[] args) throws IOException {\n        TestFoo tf = new TestFoo(\"a\", 5);\n        System.out.println(tf.withX(\"b\"));\n        ObjectMapper om = new ObjectMapper().setAnnotationIntrospector(new JacksonLombokAnnotationIntrospector());\n        System.out.println(om.writeValueAsString(tf));\n        TestFoo tf2 = om.readValue(om.writeValueAsString(tf), TestFoo.class);\n        System.out.println(tf2);\n    }\n\n}\n</code></pre>\n\n<p>Those are the JARs that I'm adding into the classpth:</p>\n\n<ul>\n<li><p>Lombok: <a href=\"https://projectlombok.org/downloads/lombok.jar\" rel=\"noreferrer\">https://projectlombok.org/downloads/lombok.jar</a> (version 1.16.10)</p></li>\n<li><p>Jackson annotations: <a href=\"http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-annotations/2.8.2/jackson-annotations-2.8.2.jar\" rel=\"noreferrer\">http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-annotations/2.8.2/jackson-annotations-2.8.2.jar</a></p></li>\n<li><p>Jackson core: <a href=\"http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.8.2/jackson-core-2.8.2.jar\" rel=\"noreferrer\">http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.8.2/jackson-core-2.8.2.jar</a></p></li>\n<li><p>Jackson databind: <a href=\"http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.8.2/jackson-databind-2.8.2.jar\" rel=\"noreferrer\">http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.8.2/jackson-databind-2.8.2.jar</a></p></li>\n<li><p>Jackson-lombok: <a href=\"http://repo1.maven.org/maven2/io/paradoxical/jackson-lombok/1.1/jackson-lombok-1.1.jar\" rel=\"noreferrer\">http://repo1.maven.org/maven2/io/paradoxical/jackson-lombok/1.1/jackson-lombok-1.1.jar</a></p></li>\n</ul>\n\n<p>I am compiling it with Netbeans (I don't think that this is really relevant, but I am reporting this anyway to make it perfectly and faithfully reproducible). The five JARs above are kept in a folder called \"<code>lib</code>\" inside the project folder (along with \"<code>src</code>\", \"<code>nbproject</code>\", \"<code>test</code>\" and \"<code>build</code>\"). I added them to Netbeans via the \"<em>Add JAR/Folder</em>\" button in the project properties and they are listed in the exact order as the list above. The project is a standard \"Java application\" type project.</p>\n\n<p>Further, the Netbeans project is configured to \"<em>do NOT compile on save</em>\", \"<em>generate debugging info</em>\", \"<em>report deprecated APIs</em>\", \"<em>track java dependencies</em>\", \"<em>activacte annotation proccessing</em>\" and \"<em>activacte annotation proccessing in the editor</em>\". No annotation processor or annotation processing option is explicitly configured in Netbeans. Also, the \"<code>-Xlint:all</code>\" command line option is passed in the compiler command line, and the compiler runs on an external VM.</p>\n\n<p>My javac's version is 1.8.0_72 and my java's version is 1.8.0_72-b15. My Netbeans is 8.1.</p>\n\n<p>My project compiles fine. However, it throws an exception in its execution. The exception don't seems to be anything that looks easily or obvious fixable. Here is the output, including the stacktrace:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>TestFoo(x=b, z=5)\n{\"z\":5,\"xoom\":\"a\"}\nException in thread \"main\" com.fasterxml.jackson.databind.JsonMappingException: Argument #0 of constructor [constructor for testelombok.TestFoo, annotations: {interface java.beans.ConstructorProperties=@java.beans.ConstructorProperties(value=[x, z]), interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\n at [Source: {\"z\":5,\"xoom\":\"a\"}; line: 1, column: 1]\n    at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:296)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:269)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:475)\n    at com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:3890)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3785)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2833)\n    at testelombok.TestLombok.main(TestLombok.java:14)\nCaused by: java.lang.IllegalArgumentException: Argument #0 of constructor [constructor for testelombok.TestFoo, annotations: {interface java.beans.ConstructorProperties=@java.beans.ConstructorProperties(value=[x, z]), interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._addDeserializerConstructors(BasicDeserializerFactory.java:511)\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._constructDefaultValueInstantiator(BasicDeserializerFactory.java:323)\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findValueInstantiator(BasicDeserializerFactory.java:253)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:219)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:406)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:352)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\n    ... 7 more\n</code></pre>\n\n<p>I already tried about randomly poking with the <code>@Value</code> and <code>@AllArgsConstructor</code> annotations, but I couldn't make it any better.</p>\n\n<p>I google'd the exception and <a href=\"https://github.com/FasterXML/jackson-datatype-jdk8/issues/16\" rel=\"noreferrer\">found an old bug report on jackson</a>, and <a href=\"https://github.com/FasterXML/jackson-databind/issues/1239\" rel=\"noreferrer\">another one that is open, but seems to be related to something else</a>. However, this still do not tells anything about what is this bug or how to fix it. Also, I could not find anything useful looking that somewhere else.</p>\n\n<p>Since what I am trying to do is very basic usage of both lombok and jackson, it seems odd that I couldn't find any more useful information about how to workaround this issue. Maybe I missed something?</p>\n\n<p>Other than just saying \"<em>don't use lombok</em>\" or \"<em>don't use jackson</em>\", do anybody has any idea about how to solve this?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","elasticsearch-dsl"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664439017,"creation_date":1664435664,"answer_id":73891622,"question_id":73891447,"body_markdown":"You can simpaly use boolean query to get expected result:\r\n\r\n```json\r\n{   \r\n    &quot;query&quot;:{\r\n        &quot;bool&quot; : {\r\n            &quot;must&quot; : [\r\n               {&quot;term&quot; : { &quot;tags&quot; : &quot;JAVA&quot; }},\r\n               {&quot;term&quot; : { &quot;tags&quot; : &quot;C&quot; }}\r\n             ]\r\n          }\r\n       }\r\n    }\r\n}\r\n```\r\n\r\nTerms Set query is not working because you need to add one field something like `required_matches` and set number for the number of matching terms required to return a document while indexing document.\r\n\r\nSo your index document will be looks like something below:\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;Jane Smith&quot;,\r\n  &quot;tags&quot;: [ &quot;C&quot;, &quot;JAVA&quot; ],\r\n  &quot;required_matches&quot;: 2\r\n}\r\n```\r\n\r\nAnd you query will be looks like below:\r\n\r\n```json\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;terms_set&quot;: {\r\n      &quot;tags&quot;: {\r\n        &quot;terms&quot;: [ &quot;JAVA&quot;, &quot;C&quot; ],\r\n        &quot;minimum_should_match_field&quot;: &quot;required_matches&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI hope you will be able to create Java code from this query.\r\n\r\n**Updated:**\r\n\r\n```java\r\nQueryBuilder query = QueryBuilders.boolQuery()\r\n\t\t\t\t.must(new TermsSetQueryBuilder(&quot;tags&quot;, tags).setMinimumShouldMatchField(&quot;required_matches&quot;));\r\n```\r\n\r\n**Updated 2:**\r\n\r\nYou can use `minimum_should_match_script` and provide the `params.num_terms` as script which will count number of terms you have given in query and match all the terms and return result.\r\n\r\nElasticsearch Query:\r\n\r\n```json\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;terms_set&quot;: {\r\n      &quot;tags&quot;: {\r\n        &quot;terms&quot;: [\r\n          &quot;JAVA&quot;,\r\n          &quot;C&quot;\r\n        ],\r\n        &quot;minimum_should_match_script&quot;: {\r\n          &quot;source&quot;: &quot;params.num_terms&quot;\r\n        },\r\n        &quot;boost&quot;: 1\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nJava code:\r\n\r\n```java\r\nMap&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\r\n\t\tScript script = new Script(ScriptType.INLINE, &quot;painless&quot;, &quot;params.num_terms&quot;, param);\r\n\r\n\t\tQueryBuilder query = QueryBuilders.boolQuery()\r\n\t\t\t\t.must(new TermsSetQueryBuilder(&quot;tags&quot;, tags).setMinimumShouldMatchScript(script));\r\n```","title":"Elasticsearch filter for a field based on several terms matching on all of them","body":"<p>You can simpaly use boolean query to get expected result:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{   \n    &quot;query&quot;:{\n        &quot;bool&quot; : {\n            &quot;must&quot; : [\n               {&quot;term&quot; : { &quot;tags&quot; : &quot;JAVA&quot; }},\n               {&quot;term&quot; : { &quot;tags&quot; : &quot;C&quot; }}\n             ]\n          }\n       }\n    }\n}\n</code></pre>\n<p>Terms Set query is not working because you need to add one field something like <code>required_matches</code> and set number for the number of matching terms required to return a document while indexing document.</p>\n<p>So your index document will be looks like something below:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;Jane Smith&quot;,\n  &quot;tags&quot;: [ &quot;C&quot;, &quot;JAVA&quot; ],\n  &quot;required_matches&quot;: 2\n}\n</code></pre>\n<p>And you query will be looks like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;query&quot;: {\n    &quot;terms_set&quot;: {\n      &quot;tags&quot;: {\n        &quot;terms&quot;: [ &quot;JAVA&quot;, &quot;C&quot; ],\n        &quot;minimum_should_match_field&quot;: &quot;required_matches&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>I hope you will be able to create Java code from this query.</p>\n<p><strong>Updated:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>QueryBuilder query = QueryBuilders.boolQuery()\n                .must(new TermsSetQueryBuilder(&quot;tags&quot;, tags).setMinimumShouldMatchField(&quot;required_matches&quot;));\n</code></pre>\n<p><strong>Updated 2:</strong></p>\n<p>You can use <code>minimum_should_match_script</code> and provide the <code>params.num_terms</code> as script which will count number of terms you have given in query and match all the terms and return result.</p>\n<p>Elasticsearch Query:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;query&quot;: {\n    &quot;terms_set&quot;: {\n      &quot;tags&quot;: {\n        &quot;terms&quot;: [\n          &quot;JAVA&quot;,\n          &quot;C&quot;\n        ],\n        &quot;minimum_should_match_script&quot;: {\n          &quot;source&quot;: &quot;params.num_terms&quot;\n        },\n        &quot;boost&quot;: 1\n      }\n    }\n  }\n}\n</code></pre>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\n        Script script = new Script(ScriptType.INLINE, &quot;painless&quot;, &quot;params.num_terms&quot;, param);\n\n        QueryBuilder query = QueryBuilders.boolQuery()\n                .must(new TermsSetQueryBuilder(&quot;tags&quot;, tags).setMinimumShouldMatchScript(script));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21983723,"reputation":670,"user_id":16258342,"display_name":"Pranta Palit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664442185,"creation_date":1664442185,"answer_id":73892944,"question_id":73891447,"body_markdown":"For reference, my Java code (working version) looks like the following:\r\n\r\n    // Filtering data by a field(&quot;tags&quot;) based on several terms - matching on all of the terms\r\n    public List&lt;Employee&gt; getEmployeesByTags(List&lt;String&gt; tags) {\r\n        // tags : string list of terms\r\n\r\n        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\r\n        param.put(&quot;num_terms&quot;, tags.size());\r\n        Script script = new Script(ScriptType.INLINE, &quot;painless&quot;, &quot;params.num_terms&quot;, param);\r\n\r\n        QueryBuilder query =\r\n                QueryBuilders\r\n                        .boolQuery()\r\n                        .must(\r\n                                new TermsSetQueryBuilder(\r\n                                        &quot;tags&quot;, tags)\r\n                                        .setMinimumShouldMatchScript(script)\r\n                        );\r\n\r\n        NativeSearchQuery nativeSearchQuery = new NativeSearchQueryBuilder()\r\n                .withQuery(query)\r\n                .build();\r\n\r\n        List&lt;Employee&gt; employees = elasticsearchRestTemplate\r\n        .search(nativeSearchQuery, Employee.class)\r\n        .stream().map(SearchHit -&gt; SearchHit.getContent())\r\n        .collect(Collectors.toList());\r\n\r\n        return employees;\r\n    }","title":"Elasticsearch filter for a field based on several terms matching on all of them","body":"<p>For reference, my Java code (working version) looks like the following:</p>\n<pre><code>// Filtering data by a field(&quot;tags&quot;) based on several terms - matching on all of the terms\npublic List&lt;Employee&gt; getEmployeesByTags(List&lt;String&gt; tags) {\n    // tags : string list of terms\n\n    Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\n    param.put(&quot;num_terms&quot;, tags.size());\n    Script script = new Script(ScriptType.INLINE, &quot;painless&quot;, &quot;params.num_terms&quot;, param);\n\n    QueryBuilder query =\n            QueryBuilders\n                    .boolQuery()\n                    .must(\n                            new TermsSetQueryBuilder(\n                                    &quot;tags&quot;, tags)\n                                    .setMinimumShouldMatchScript(script)\n                    );\n\n    NativeSearchQuery nativeSearchQuery = new NativeSearchQueryBuilder()\n            .withQuery(query)\n            .build();\n\n    List&lt;Employee&gt; employees = elasticsearchRestTemplate\n    .search(nativeSearchQuery, Employee.class)\n    .stream().map(SearchHit -&gt; SearchHit.getContent())\n    .collect(Collectors.toList());\n\n    return employees;\n}\n</code></pre>\n"}],"owner":{"account_id":21983723,"reputation":670,"user_id":16258342,"display_name":"Pranta Palit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73891622,"answer_count":2,"score":0,"last_activity_date":1664442185,"creation_date":1664434669,"question_id":73891447,"body_markdown":"I want to filter a list of employees based on programming language skills like C, C++, Java etc. I am using Elasticsearch DSL in Java to search based on **all of the terms**.\r\n\r\n`termsQuery` returns data matching **any of the terms** : means if at least one terms matches, it selects the data\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI tried to the following code to set `minimum_should_match` to `tags.length` to match all given tags as &quot;**AND** operator&quot; to filter data but failed.\r\n\r\n    QueryBuilder query = QueryBuilders\r\n                .boolQuery()\r\n                .must(\r\n                        QueryBuilders\r\n                                .termsQuery(&quot;tags&quot;,tags)\r\n                )\r\n                .minimumShouldMatch(tags.length);\r\n\r\nI also tried to use `TermsSetQueryBuilder` to check list of terms but it throws exception : `minimum_should_match_field` not set\r\n\r\n    QueryBuilder query =\r\n                QueryBuilders\r\n                        .boolQuery()\r\n                        .should(\r\n                                new TermsSetQueryBuilder(&quot;tags&quot;, tags)\r\n                        )\r\n                        .minimumShouldMatch(tags.size());\r\n\r\nAlso, tried to set `minimum_should_match_field` in `TermsSetQuery`, but it only accepts **String**, not numeric value or percentage as mention [here][2]. Tried to set like \r\n`minimum_should_match_field` = &quot;2&quot;  `minimum_should_match_field` = &quot;100%&quot;\r\neven tried to `setMinimumShouldMatchScript`. Not working.\r\n\r\n    QueryBuilder query =\r\n                QueryBuilders\r\n                        .boolQuery()\r\n                        .should(\r\n                                new TermsSetQueryBuilder(&quot;tags&quot;, tags)\r\n                                        .setMinimumShouldMatchField(tags.size())\r\n                        )\r\n                        .minimumShouldMatch(tags.size());\r\n\r\nHow can I filter for a field(&quot;tags&quot;) based on several terms(&quot;tags&quot;: [&quot;JAVA&quot;, &quot;C&quot;]) matching on all of them?\r\n\r\n**UPDATED**\r\nMy code looks like the following:\r\n\r\n    public List&lt;Employee&gt; getEmployeesByFilters(List&lt;String&gt; terms) {\r\n\r\n        int required_matches = terms.size();\r\n        QueryBuilder query =\r\n                QueryBuilders\r\n                        .boolQuery()\r\n                        .must(\r\n                                new TermsSetQueryBuilder(\r\n                                        &quot;filters&quot;, terms)\r\n                                        .setMinimumShouldMatchField(&quot;required_matches&quot;)\r\n                        );\r\n\r\n        NativeSearchQuery nativeSearchQuery = new NativeSearchQueryBuilder()\r\n                .withQuery(query)\r\n                .build();\r\n\r\n        List&lt;Employee&gt; employees = elasticsearchRestTemplate\r\n        .search(nativeSearchQuery, Employee.class)\r\n        .stream().map(SearchHit -&gt; SearchHit.getContent())\r\n        .collect(Collectors.toList());\r\n\r\n        return employees;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/soDGP.png\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-minimum-should-match.html#query-dsl-minimum-should-match","title":"Elasticsearch filter for a field based on several terms matching on all of them","body":"<p>I want to filter a list of employees based on programming language skills like C, C++, Java etc. I am using Elasticsearch DSL in Java to search based on <strong>all of the terms</strong>.</p>\n<p><code>termsQuery</code> returns data matching <strong>any of the terms</strong> : means if at least one terms matches, it selects the data</p>\n<p><a href=\"https://i.stack.imgur.com/soDGP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/soDGP.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to the following code to set <code>minimum_should_match</code> to <code>tags.length</code> to match all given tags as &quot;<strong>AND</strong> operator&quot; to filter data but failed.</p>\n<pre><code>QueryBuilder query = QueryBuilders\n            .boolQuery()\n            .must(\n                    QueryBuilders\n                            .termsQuery(&quot;tags&quot;,tags)\n            )\n            .minimumShouldMatch(tags.length);\n</code></pre>\n<p>I also tried to use <code>TermsSetQueryBuilder</code> to check list of terms but it throws exception : <code>minimum_should_match_field</code> not set</p>\n<pre><code>QueryBuilder query =\n            QueryBuilders\n                    .boolQuery()\n                    .should(\n                            new TermsSetQueryBuilder(&quot;tags&quot;, tags)\n                    )\n                    .minimumShouldMatch(tags.size());\n</code></pre>\n<p>Also, tried to set <code>minimum_should_match_field</code> in <code>TermsSetQuery</code>, but it only accepts <strong>String</strong>, not numeric value or percentage as mention <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-minimum-should-match.html#query-dsl-minimum-should-match\" rel=\"nofollow noreferrer\">here</a>. Tried to set like\n<code>minimum_should_match_field</code> = &quot;2&quot;  <code>minimum_should_match_field</code> = &quot;100%&quot;\neven tried to <code>setMinimumShouldMatchScript</code>. Not working.</p>\n<pre><code>QueryBuilder query =\n            QueryBuilders\n                    .boolQuery()\n                    .should(\n                            new TermsSetQueryBuilder(&quot;tags&quot;, tags)\n                                    .setMinimumShouldMatchField(tags.size())\n                    )\n                    .minimumShouldMatch(tags.size());\n</code></pre>\n<p>How can I filter for a field(&quot;tags&quot;) based on several terms(&quot;tags&quot;: [&quot;JAVA&quot;, &quot;C&quot;]) matching on all of them?</p>\n<p><strong>UPDATED</strong>\nMy code looks like the following:</p>\n<pre><code>public List&lt;Employee&gt; getEmployeesByFilters(List&lt;String&gt; terms) {\n\n    int required_matches = terms.size();\n    QueryBuilder query =\n            QueryBuilders\n                    .boolQuery()\n                    .must(\n                            new TermsSetQueryBuilder(\n                                    &quot;filters&quot;, terms)\n                                    .setMinimumShouldMatchField(&quot;required_matches&quot;)\n                    );\n\n    NativeSearchQuery nativeSearchQuery = new NativeSearchQueryBuilder()\n            .withQuery(query)\n            .build();\n\n    List&lt;Employee&gt; employees = elasticsearchRestTemplate\n    .search(nativeSearchQuery, Employee.class)\n    .stream().map(SearchHit -&gt; SearchHit.getContent())\n    .collect(Collectors.toList());\n\n    return employees;\n}\n</code></pre>\n"},{"tags":["python","java","node.js","windows","npm"],"comments":[{"owner":{"account_id":15255114,"reputation":125,"user_id":11007141,"display_name":"Mouad"},"score":0,"creation_date":1640955919,"post_id":70542457,"comment_id":124698296,"body_markdown":"This is due to the missing python3 command in your computer, you must first install python 3 and then add PYTHONPATH to the environment variable.","body":"This is due to the missing python3 command in your computer, you must first install python 3 and then add PYTHONPATH to the environment variable."}],"answers":[{"tags":[],"owner":{"account_id":26314411,"reputation":13,"user_id":19977428,"display_name":"Pushpendra Hanumanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664442153,"creation_date":1664442153,"answer_id":73892932,"question_id":70542457,"body_markdown":"open cmd run as administrator\r\n\r\n    npm install --global windows-build-tools\r\n\r\nit will download the python related dependencies.\r\nthen run \r\n\r\n    npm install \r\n\r\nthen \r\n\r\n    ng serve","title":"When ever I want to install npm install java so i got the list of error?","body":"<p>open cmd run as administrator</p>\n<pre><code>npm install --global windows-build-tools\n</code></pre>\n<p>it will download the python related dependencies.\nthen run</p>\n<pre><code>npm install \n</code></pre>\n<p>then</p>\n<pre><code>ng serve\n</code></pre>\n"}],"owner":{"account_id":22370510,"reputation":11,"user_id":16585655,"display_name":"Ramzan Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664442153,"creation_date":1640954565,"question_id":70542457,"body_markdown":"```none\r\nnpm ERR! code 1\r\nnpm ERR! path D:\\Portals\\SALAM_DMS\\finger\\node-java\\node_modules\\java\r\nnpm ERR! command failed\r\nnpm ERR! command C:\\Windows\\system32\\cmd.exe /d /s /c node-gyp rebuild\r\nnpm ERR! gyp info it worked if it ends with ok\r\nnpm ERR! gyp info using node-gyp@8.3.0\r\nnpm ERR! gyp info using node@16.13.1 | win32 | x64\r\nnpm ERR! gyp ERR! find Python\r\nnpm ERR! gyp ERR! find Python Python is not set from command line or npm configuration\r\nnpm ERR! gyp ERR! find Python Python is not set from environment variable PYTHON\r\nnpm ERR! gyp ERR! find Python checking if &quot;python3&quot; can be used\r\nnpm ERR! gyp ERR! find Python - &quot;python3&quot; is not in PATH or produced an error\r\nnpm ERR! gyp ERR! find Python checking if &quot;python&quot; can be used\r\nnpm ERR! gyp ERR! find Python - &quot;python&quot; is not in PATH or produced an error\r\nnpm ERR! gyp ERR! find Python checking if Python is  :\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python39\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python39\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python39\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python39\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python39-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python39-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python39-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python39-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files (x86)\\Python39-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files (x86)\\Python39-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python38\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python38\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python38\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python38\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python38-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python38-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python38-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python38-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files (x86)\\Python38-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files (x86)\\Python38-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python37\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python37\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python37\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python37\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python37-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python37-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python37-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python37-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files (x86)\\Python37-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files (x86)\\Python37-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python36\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python36\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python36\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python36\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python36-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python36-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python36-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python36-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files (x86)\\Python36-32\\python.exe\r\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files (x86)\\Python36-32\\python.exe&quot; could not be run\r\nnpm ERR! gyp ERR! find Python checking if the py launcher can be used to find Python 3\r\nnpm ERR! gyp ERR! find Python - &quot;py.exe&quot; is not in PATH or produced an error\r\nnpm ERR! gyp ERR! find Python\r\nnpm ERR! gyp ERR! find Python **********************************************************\r\nnpm ERR! gyp ERR! find Python You need to install the latest version of Python.\r\nnpm ERR! gyp ERR! find Python Node-gyp should be able to find and use Python. If not,\r\nnpm ERR! gyp ERR! find Python you can try one of the following options:\r\nnpm ERR! gyp ERR! find Python - Use the switch --python=&quot;C:\\Path\\To\\python.exe&quot;\r\nnpm ERR! gyp ERR! find Python   (accepted by both node-gyp and npm)\r\nnpm ERR! gyp ERR! find Python - Set the environment variable PYTHON\r\nnpm ERR! gyp ERR! find Python - Set the npm configuration variable python:\r\nnpm ERR! gyp ERR! find Python   npm config set python &quot;C:\\Path\\To\\python.exe&quot;\r\nnpm ERR! gyp ERR! find Python For more information consult the documentation at:\r\nnpm ERR! gyp ERR! find Python https://github.com/nodejs/node-gyp#installation\r\nnpm ERR! gyp ERR! find Python **********************************************************\r\nnpm ERR! gyp ERR! find Python\r\nnpm ERR! gyp ERR! configure error\r\nnpm ERR! gyp ERR! stack Error: Could not find any Python installation to use\r\nnpm ERR! gyp ERR! stack     at PythonFinder.fail (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:330:47)\r\nnpm ERR! gyp ERR! stack     at PythonFinder.runChecks (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:159:21)\r\nnpm ERR! gyp ERR! stack     at PythonFinder.&lt;anonymous&gt; (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:228:18)\r\nnpm ERR! gyp ERR! stack     at PythonFinder.execFileCallback (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:294:16)\r\nnpm ERR! gyp ERR! stack     at ChildProcess.exithandler (node:child_process:404:5)\r\nnpm ERR! gyp ERR! stack     at ChildProcess.emit (node:events:390:28)\r\nnpm ERR! gyp ERR! stack     at maybeClose (node:internal/child_process:1064:16)\r\nnpm ERR! gyp ERR! stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:301:5)\r\nnpm ERR! gyp ERR! System Windows_NT 10.0.22000\r\nnpm ERR! gyp ERR! command &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot; &quot;C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js&quot; &quot;rebuild&quot;\r\nnpm ERR! gyp ERR! cwd D:\\Portals\\SALAM_DMS\\finger\\node-java\\node_modules\\java\r\nnpm ERR! gyp ERR! node -v v16.13.1\r\nnpm ERR! gyp ERR! node-gyp -v v8.3.0\r\nnpm ERR! gyp ERR! not ok\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     C:\\Users\\arbab\\AppData\\Local\\npm-cache\\_logs\\2021-12-31T12_39_25_371Z-debug.log\r\n```","title":"When ever I want to install npm install java so i got the list of error?","body":"<pre class=\"lang-none prettyprint-override\"><code>npm ERR! code 1\nnpm ERR! path D:\\Portals\\SALAM_DMS\\finger\\node-java\\node_modules\\java\nnpm ERR! command failed\nnpm ERR! command C:\\Windows\\system32\\cmd.exe /d /s /c node-gyp rebuild\nnpm ERR! gyp info it worked if it ends with ok\nnpm ERR! gyp info using node-gyp@8.3.0\nnpm ERR! gyp info using node@16.13.1 | win32 | x64\nnpm ERR! gyp ERR! find Python\nnpm ERR! gyp ERR! find Python Python is not set from command line or npm configuration\nnpm ERR! gyp ERR! find Python Python is not set from environment variable PYTHON\nnpm ERR! gyp ERR! find Python checking if &quot;python3&quot; can be used\nnpm ERR! gyp ERR! find Python - &quot;python3&quot; is not in PATH or produced an error\nnpm ERR! gyp ERR! find Python checking if &quot;python&quot; can be used\nnpm ERR! gyp ERR! find Python - &quot;python&quot; is not in PATH or produced an error\nnpm ERR! gyp ERR! find Python checking if Python is  :\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python39\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python39\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python39\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python39\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python39-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python39-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python39-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python39-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files (x86)\\Python39-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files (x86)\\Python39-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python38\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python38\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python38\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python38\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python38-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python38-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python38-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python38-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files (x86)\\Python38-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files (x86)\\Python38-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python37\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python37\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python37\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python37\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python37-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python37-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python37-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python37-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files (x86)\\Python37-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files (x86)\\Python37-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python36\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python36\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python36\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python36\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python36-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Users\\arbab\\AppData\\Local\\Programs\\Python\\Python36-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files\\Python36-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files\\Python36-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if Python is C:\\Program Files (x86)\\Python36-32\\python.exe\nnpm ERR! gyp ERR! find Python - &quot;C:\\Program Files (x86)\\Python36-32\\python.exe&quot; could not be run\nnpm ERR! gyp ERR! find Python checking if the py launcher can be used to find Python 3\nnpm ERR! gyp ERR! find Python - &quot;py.exe&quot; is not in PATH or produced an error\nnpm ERR! gyp ERR! find Python\nnpm ERR! gyp ERR! find Python **********************************************************\nnpm ERR! gyp ERR! find Python You need to install the latest version of Python.\nnpm ERR! gyp ERR! find Python Node-gyp should be able to find and use Python. If not,\nnpm ERR! gyp ERR! find Python you can try one of the following options:\nnpm ERR! gyp ERR! find Python - Use the switch --python=&quot;C:\\Path\\To\\python.exe&quot;\nnpm ERR! gyp ERR! find Python   (accepted by both node-gyp and npm)\nnpm ERR! gyp ERR! find Python - Set the environment variable PYTHON\nnpm ERR! gyp ERR! find Python - Set the npm configuration variable python:\nnpm ERR! gyp ERR! find Python   npm config set python &quot;C:\\Path\\To\\python.exe&quot;\nnpm ERR! gyp ERR! find Python For more information consult the documentation at:\nnpm ERR! gyp ERR! find Python https://github.com/nodejs/node-gyp#installation\nnpm ERR! gyp ERR! find Python **********************************************************\nnpm ERR! gyp ERR! find Python\nnpm ERR! gyp ERR! configure error\nnpm ERR! gyp ERR! stack Error: Could not find any Python installation to use\nnpm ERR! gyp ERR! stack     at PythonFinder.fail (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:330:47)\nnpm ERR! gyp ERR! stack     at PythonFinder.runChecks (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:159:21)\nnpm ERR! gyp ERR! stack     at PythonFinder.&lt;anonymous&gt; (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:228:18)\nnpm ERR! gyp ERR! stack     at PythonFinder.execFileCallback (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\find-python.js:294:16)\nnpm ERR! gyp ERR! stack     at ChildProcess.exithandler (node:child_process:404:5)\nnpm ERR! gyp ERR! stack     at ChildProcess.emit (node:events:390:28)\nnpm ERR! gyp ERR! stack     at maybeClose (node:internal/child_process:1064:16)\nnpm ERR! gyp ERR! stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:301:5)\nnpm ERR! gyp ERR! System Windows_NT 10.0.22000\nnpm ERR! gyp ERR! command &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot; &quot;C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js&quot; &quot;rebuild&quot;\nnpm ERR! gyp ERR! cwd D:\\Portals\\SALAM_DMS\\finger\\node-java\\node_modules\\java\nnpm ERR! gyp ERR! node -v v16.13.1\nnpm ERR! gyp ERR! node-gyp -v v8.3.0\nnpm ERR! gyp ERR! not ok\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\arbab\\AppData\\Local\\npm-cache\\_logs\\2021-12-31T12_39_25_371Z-debug.log\n</code></pre>\n"},{"tags":["java","class","inner-classes","lombok"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1664442266,"post_id":73892916,"comment_id":130474367,"body_markdown":"Have you think about creating different files for each classes?","body":"Have you think about creating different files for each classes?"},{"owner":{"account_id":6767469,"reputation":155,"user_id":5212023,"display_name":"PaperFrog"},"score":0,"creation_date":1664516078,"post_id":73892916,"comment_id":130493885,"body_markdown":"Oh, don&#39;t worry about the motion problem. I just posted this question out of pure curiosity.","body":"Oh, don&#39;t worry about the motion problem. I just posted this question out of pure curiosity."}],"owner":{"account_id":6767469,"reputation":155,"user_id":5212023,"display_name":"PaperFrog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664442082,"creation_date":1664442082,"question_id":73892916,"body_markdown":"I implemented a method of taking out at once because there are many overlapping inner classes. \r\n\r\nmethod name is `getFee()`\r\n\r\nHowever, depending on how the inner class is declared, we checked the case of Lombok failing.\r\n\r\nI really wonder why there is such a difference. Do you happen to know the answer?\r\n\r\n**Fail case**\r\n    \r\n    package com.corp.test.block.dto.test;\r\n    \r\n    import java.util.List;\r\n    \r\n    import com.corp.test.block.dto.test.TransactionDataDto.Tx.AuthInfo.Fee; //&lt;- This is Fail case!!\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n\r\n\r\n    \r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class TransactionDataDto {\r\n        private Tx tx;\r\n        private TxResponse txResponse;\r\n    \r\n        public Fee getFee(){ // &lt;- This is Fail case!!!!\r\n            return tx.authInfo.getFee();\r\n        }\r\n\r\n    @Getter\r\n    public static class Tx{\r\n        @Getter\r\n        @Setter\r\n        public static class AuthInfo{\r\n            private Fee fee;\r\n\r\n            @Getter\r\n            public static class Fee{\r\n                private String gasLimit;\r\n            }\r\n        }\r\n\r\n**Fail Error (Lombok Error)**\r\n\r\n \r\n\r\n     java: cannot find symbol\r\n      symbol:   class Getter\r\n      location: class com.corp.test.block.dto.test.TransactionDataDto\r\n\r\n**Success**\r\n\r\n    package  package com.corp.test.block.dto.test;\r\n    \r\n    import java.util.List;\r\n    \r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n\r\n\r\n    \r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class TransactionDataDto {\r\n        private Tx tx;\r\n        private TxResponse txResponse;\r\n    \r\n        public Tx.AuthInfo.Fee getFee(){ // &lt;- This is Success case!!\r\n            return tx.authInfo.getFee();\r\n        }\r\n\r\n    @Getter\r\n    public static class Tx{\r\n        @Getter\r\n        @Setter\r\n        public static class AuthInfo{\r\n            private Fee fee;\r\n\r\n            @Getter\r\n            public static class Fee{\r\n                private String gasLimit;\r\n            }\r\n        }","title":"Lombok fails, depending on the inner class declaration method at Java","body":"<p>I implemented a method of taking out at once because there are many overlapping inner classes.</p>\n<p>method name is <code>getFee()</code></p>\n<p>However, depending on how the inner class is declared, we checked the case of Lombok failing.</p>\n<p>I really wonder why there is such a difference. Do you happen to know the answer?</p>\n<p><strong>Fail case</strong></p>\n<pre><code>package com.corp.test.block.dto.test;\n\nimport java.util.List;\n\nimport com.corp.test.block.dto.test.TransactionDataDto.Tx.AuthInfo.Fee; //&lt;- This is Fail case!!\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\n\n\n\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TransactionDataDto {\n    private Tx tx;\n    private TxResponse txResponse;\n\n    public Fee getFee(){ // &lt;- This is Fail case!!!!\n        return tx.authInfo.getFee();\n    }\n\n@Getter\npublic static class Tx{\n    @Getter\n    @Setter\n    public static class AuthInfo{\n        private Fee fee;\n\n        @Getter\n        public static class Fee{\n            private String gasLimit;\n        }\n    }\n</code></pre>\n<p><strong>Fail Error (Lombok Error)</strong></p>\n<pre><code> java: cannot find symbol\n  symbol:   class Getter\n  location: class com.corp.test.block.dto.test.TransactionDataDto\n</code></pre>\n<p><strong>Success</strong></p>\n<pre><code>package  package com.corp.test.block.dto.test;\n\nimport java.util.List;\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\n\n\n\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TransactionDataDto {\n    private Tx tx;\n    private TxResponse txResponse;\n\n    public Tx.AuthInfo.Fee getFee(){ // &lt;- This is Success case!!\n        return tx.authInfo.getFee();\n    }\n\n@Getter\npublic static class Tx{\n    @Getter\n    @Setter\n    public static class AuthInfo{\n        private Fee fee;\n\n        @Getter\n        public static class Fee{\n            private String gasLimit;\n        }\n    }\n</code></pre>\n"},{"tags":["java","excel","hashmap","switch-statement","apache-poi"],"owner":{"account_id":23684886,"reputation":21,"user_id":17709971,"display_name":"Nvr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664441977,"creation_date":1664435250,"question_id":73891551,"body_markdown":"I have written a logic in java, to write data from excel to HashMap by iterating each column from excel.\r\n\r\nPlease find the method written below\r\n```\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.apache.poi.ss.usermodel.DataFormatter;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\npublic class testclass {\r\npublic static Map&lt;String,List&lt;String&gt;&gt; getInputData(File dmnPath, File excelPath) throws IOException {\r\n\t\t//preparation input data list\r\n\t\tMap&lt;String,List&lt;String&gt;&gt; inputMap =new  HashMap&lt;String,List&lt;String&gt;&gt;();\r\n\t\tList&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n\t\tList&lt;String&gt; values2 = new ArrayList&lt;&gt;();\r\n\t\tList&lt;String&gt; values3 = new ArrayList&lt;&gt;();\r\n\t\tList&lt;String&gt; values4 = new ArrayList&lt;&gt;();\r\n\t\tList&lt;String&gt; values5 = new ArrayList&lt;&gt;();\r\n\t\tList&lt;String&gt; values6 = new ArrayList&lt;&gt;();\r\n\t\tList&lt;String&gt; values7 = new ArrayList&lt;&gt;();\r\n\t\tList&lt;String&gt; values8 = new ArrayList&lt;&gt;();\r\n\r\n\t\t// Reading file from local directory\r\n\t\tFileInputStream file = new FileInputStream(excelPath);\r\n        ExtractingHeaders ext = new ExtractingHeaders();\r\n        \r\n\t\t// Create Workbook instance holding reference to .xlsx file\r\n\t\tXSSFWorkbook XS = new XSSFWorkbook(file);\r\n\r\n\t\tint numberofsheets = XS.getNumberOfSheets();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; numberofsheets; i++) {\r\n\t\t\tif (XS.getSheetName(i).equalsIgnoreCase(&quot;Sheet1&quot;)) {\r\n\r\n\t\t\t\tXSSFSheet XSS = XS.getSheetAt(i);\r\n\r\n\t\t    \tDataFormatter formatter = new DataFormatter();\r\n\r\n\t\t    \tint k = 0;\r\n\t\t\t\tfor(String key: ext.getInputHeaders(dmnPath, excelPath)) {    // headerDetails.getInputParam() nned to delete\r\n\t\t\t\t\tinputMap.put(key, new ArrayList&lt;String&gt;());\r\n\t\t\t\t\tIterator&lt;Row&gt; r = XSS.iterator();\r\n\r\n\t\t\t\t\twhile (r.hasNext()) {\t\t\t\t\t\t\t// loop for excel row count\t\t\r\n\t\t\t\t\t\tRow row = r.next();\r\n\t\t\t\t\t\tif (row.getRowNum() == 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t\tString cellValue;\r\n\t\t\t\t\t\tswitch(k) {\t\t// Need to replace switch case to dynamic\r\n\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\tcellValue = formatter.formatCellValue(row.getCell(k));\r\n\t\t\t\t\t\t\tif (cellValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tvalues.add(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tvalues.add(cellValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputMap.put(key, values);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tcellValue = formatter.formatCellValue(row.getCell(k));\r\n\t\t\t\t\t\t\tif (cellValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\t\tvalues2.add(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvalues2.add(cellValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputMap.put(key, values2);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tcellValue = formatter.formatCellValue(row.getCell(k));\r\n\t\t\t\t\t\t\tif (cellValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tvalues3.add(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvalues3.add(cellValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputMap.put(key, values3);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\tcellValue = formatter.formatCellValue(row.getCell(k));\r\n\t\t\t\t\t\t\tif (cellValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tvalues4.add(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvalues4.add(cellValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputMap.put(key, values4);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\tcellValue = formatter.formatCellValue(row.getCell(k));\r\n\t\t\t\t\t\t\tif (cellValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tvalues5.add(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvalues5.add(cellValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputMap.put(key, values5);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\t\tcellValue = formatter.formatCellValue(row.getCell(k));\r\n\t\t\t\t\t\t\tif (cellValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tvalues6.add(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvalues6.add(cellValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputMap.put(key, values6);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 6:\r\n\t\t\t\t\t\t\tcellValue = formatter.formatCellValue(row.getCell(k));\r\n\t\t\t\t\t\t\tif (cellValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tvalues7.add(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvalues7.add(cellValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputMap.put(key, values7);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 7:\r\n\t\t\t\t\t\t\tcellValue = formatter.formatCellValue(row.getCell(k));\r\n\t\t\t\t\t\t\tif (cellValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tvalues8.add(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvalues8.add(cellValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputMap.put(key, values8);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;No case statemnt in ReadExcelTestCase input class&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\tk++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t// Closing file output streams\r\n\t\tXS.close();\r\n\t    file.close();\r\n\t\t\r\n\t\t}\r\n\t\treturn inputMap;\r\n\t}\r\n}\r\n```\r\n\r\nTo write data from excel to HashMap by iterating each column, I have used switch case here. But its not a best way, because in future no. of columns may increase.\r\n\r\nAny alternate suggestions please.\r\n\r\nExample excel sheet attached here.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G8MQE.png\r\n\r\nExpected output:\r\n```\r\n{Column1=[C1,C2,C3], Column2=[C2,C3,C4], Column3=[4,56,3], Column4=[C4,C5,C6], Column5=[C5,C6,C7], Column6=[4,7,9], Column7=[C7,C8,C9], Column8=[5,5,6]}\r\n```\r\n","title":"How to write Data from Excel file into a HashMap for more than one column","body":"<p>I have written a logic in java, to write data from excel to HashMap by iterating each column from excel.</p>\n<p>Please find the method written below</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class testclass {\npublic static Map&lt;String,List&lt;String&gt;&gt; getInputData(File dmnPath, File excelPath) throws IOException {\n        //preparation input data list\n        Map&lt;String,List&lt;String&gt;&gt; inputMap =new  HashMap&lt;String,List&lt;String&gt;&gt;();\n        List&lt;String&gt; values = new ArrayList&lt;&gt;();\n        List&lt;String&gt; values2 = new ArrayList&lt;&gt;();\n        List&lt;String&gt; values3 = new ArrayList&lt;&gt;();\n        List&lt;String&gt; values4 = new ArrayList&lt;&gt;();\n        List&lt;String&gt; values5 = new ArrayList&lt;&gt;();\n        List&lt;String&gt; values6 = new ArrayList&lt;&gt;();\n        List&lt;String&gt; values7 = new ArrayList&lt;&gt;();\n        List&lt;String&gt; values8 = new ArrayList&lt;&gt;();\n\n        // Reading file from local directory\n        FileInputStream file = new FileInputStream(excelPath);\n        ExtractingHeaders ext = new ExtractingHeaders();\n        \n        // Create Workbook instance holding reference to .xlsx file\n        XSSFWorkbook XS = new XSSFWorkbook(file);\n\n        int numberofsheets = XS.getNumberOfSheets();\n        \n        for (int i = 0; i &lt; numberofsheets; i++) {\n            if (XS.getSheetName(i).equalsIgnoreCase(&quot;Sheet1&quot;)) {\n\n                XSSFSheet XSS = XS.getSheetAt(i);\n\n                DataFormatter formatter = new DataFormatter();\n\n                int k = 0;\n                for(String key: ext.getInputHeaders(dmnPath, excelPath)) {    // headerDetails.getInputParam() nned to delete\n                    inputMap.put(key, new ArrayList&lt;String&gt;());\n                    Iterator&lt;Row&gt; r = XSS.iterator();\n\n                    while (r.hasNext()) {                           // loop for excel row count     \n                        Row row = r.next();\n                        if (row.getRowNum() == 0) {\n                            continue;\n                        }\n        \n                        String cellValue;\n                        switch(k) {     // Need to replace switch case to dynamic\n                        case 0:\n                            cellValue = formatter.formatCellValue(row.getCell(k));\n                            if (cellValue.equals(&quot;&quot;)) {\n                                values.add(null);\n                            }\n                            else {\n                            values.add(cellValue);\n                            }\n                            inputMap.put(key, values);\n                            break;\n                        case 1:\n                            cellValue = formatter.formatCellValue(row.getCell(k));\n                            if (cellValue.equals(&quot;&quot;)) {\n                                    values2.add(null);\n                            }\n                            else {\n                                values2.add(cellValue);\n                            }\n                            inputMap.put(key, values2);\n                            break;\n                        case 2:\n                            cellValue = formatter.formatCellValue(row.getCell(k));\n                            if (cellValue.equals(&quot;&quot;)) {\n                                values3.add(null);\n                            }\n                            else {\n                                values3.add(cellValue);\n                            }\n                            inputMap.put(key, values3);\n                            break;\n                        case 3:\n                            cellValue = formatter.formatCellValue(row.getCell(k));\n                            if (cellValue.equals(&quot;&quot;)) {\n                                values4.add(null);\n                            }\n                            else {\n                                values4.add(cellValue);\n                            }\n                            inputMap.put(key, values4);\n                            break;\n                        case 4:\n                            cellValue = formatter.formatCellValue(row.getCell(k));\n                            if (cellValue.equals(&quot;&quot;)) {\n                                values5.add(null);\n                            }\n                            else {\n                                values5.add(cellValue);\n                            }\n                            inputMap.put(key, values5);\n                            break;\n                        case 5:\n                            cellValue = formatter.formatCellValue(row.getCell(k));\n                            if (cellValue.equals(&quot;&quot;)) {\n                                values6.add(null);\n                            }\n                            else {\n                                values6.add(cellValue);\n                            }\n                            inputMap.put(key, values6);\n                            break;\n                        case 6:\n                            cellValue = formatter.formatCellValue(row.getCell(k));\n                            if (cellValue.equals(&quot;&quot;)) {\n                                values7.add(null);\n                            }\n                            else {\n                                values7.add(cellValue);\n                            }\n                            inputMap.put(key, values7);\n                            break;\n                        case 7:\n                            cellValue = formatter.formatCellValue(row.getCell(k));\n                            if (cellValue.equals(&quot;&quot;)) {\n                                values8.add(null);\n                            }\n                            else {\n                                values8.add(cellValue);\n                            }\n                            inputMap.put(key, values8);\n                            break;\n                        default:\n                            System.out.println(&quot;No case statemnt in ReadExcelTestCase input class&quot;);\n                        }\n            }\n                    k++;\n                }\n            }\n        \n        // Closing file output streams\n        XS.close();\n        file.close();\n        \n        }\n        return inputMap;\n    }\n}\n</code></pre>\n<p>To write data from excel to HashMap by iterating each column, I have used switch case here. But its not a best way, because in future no. of columns may increase.</p>\n<p>Any alternate suggestions please.</p>\n<p>Example excel sheet attached here.\n<a href=\"https://i.stack.imgur.com/G8MQE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Expected output:</p>\n<pre><code>{Column1=[C1,C2,C3], Column2=[C2,C3,C4], Column3=[4,56,3], Column4=[C4,C5,C6], Column5=[C5,C6,C7], Column6=[4,7,9], Column7=[C7,C8,C9], Column8=[5,5,6]}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1577968810,"post_id":59563432,"comment_id":105294648,"body_markdown":"Do you just want to validate the cell type?","body":"Do you just want to validate the cell type?"},{"owner":{"account_id":11334841,"reputation":139,"user_id":8311057,"display_name":"Tarik"},"score":0,"creation_date":1577968866,"post_id":59563432,"comment_id":105294674,"body_markdown":"Cell Type as well as their value (column name and their value) @deHaar","body":"Cell Type as well as their value (column name and their value) @deHaar"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1577969074,"post_id":59563432,"comment_id":105294778,"body_markdown":"Could you tell us what exactly is not working in your code? It&#39;s a lot of code for a single question, by the way...","body":"Could you tell us what exactly is not working in your code? It&#39;s a lot of code for a single question, by the way..."},{"owner":{"account_id":11334841,"reputation":139,"user_id":8311057,"display_name":"Tarik"},"score":0,"creation_date":1577969258,"post_id":59563432,"comment_id":105294857,"body_markdown":"column name and their value validation @deHaar","body":"column name and their value validation @deHaar"}],"answers":[{"tags":[],"owner":{"account_id":17037765,"reputation":2107,"user_id":12326421,"display_name":"Himanshu Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577970980,"creation_date":1577970980,"answer_id":59564023,"question_id":59563432,"body_markdown":"You can use `CellType type = cell.getCellType();` to check whether its numeric or string.\r\n\r\n                        CellType type = cell.getCellType();\r\n                        if (type == CellType.STRING) {\r\n                            // your job which needs to be done\r\n                        } \r\n*If meterno and boundary_id combination is not present for some record* , for this condition just write null check or some logic once you have implemented the logic mentioned above.","title":"How to validate xlsx File Header Name and column value for each header in java using apache poi?","body":"<p>You can use <code>CellType type = cell.getCellType();</code> to check whether its numeric or string.</p>\n\n<pre><code>                    CellType type = cell.getCellType();\n                    if (type == CellType.STRING) {\n                        // your job which needs to be done\n                    } \n</code></pre>\n\n<p><em>If meterno and boundary_id combination is not present for some record</em> , for this condition just write null check or some logic once you have implemented the logic mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":12254286,"reputation":306,"user_id":8943710,"display_name":"amit singh tomar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664441970,"creation_date":1664441970,"answer_id":73892890,"question_id":59563432,"body_markdown":"Posting method implementation which can validate every cell value of a particular row, let&#39;s say Header in this case. Based on validation rule can store validation errors to respond. \r\n\r\n    private Map&lt;String, ProductDetailResponse.ErrorDetail&gt; validateCpiDataFile(MultipartFile file) {\r\n        Map&lt;String, ProductDetailResponse.ErrorDetail&gt; errorMap = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; headerNames = Arrays.asList(&quot;Index&quot;, &quot;Portfolio&quot;, &quot;Time Period&quot;, &quot;Year&quot;);\r\n        DataFormatter dataFormatter = new DataFormatter();\r\n        if (Objects.isNull(file) &amp;&amp; file.isEmpty()) {\r\n            throw new Exception(HttpStatus.NOT_ACCEPTABLE, service.getErrorProperties().getCpiFileUploadErrorCode(), service.getErrorProperties().getCpiFileUploadErrorMessage());\r\n        } else {\r\n            try {\r\n                XSSFWorkbook cpiWorkbook = new XSSFWorkbook(file.getInputStream());\r\n                Sheet sheet = cpiWorkbook.getSheetAt(0);\r\n                int colCount = 0;\r\n                int cellCount = sheet.rowIterator().next().getLastCellNum() - sheet.rowIterator().next().getFirstCellNum();\r\n                if (cellCount == headerNames.size()) {\r\n                    for (Cell cell : sheet.getRow(0)) {\r\n                        String cellValue = dataFormatter.formatCellValue(cell); // from apache poi 5.2.0 on\r\n                        if (!headerNames.get(colCount).trim().equalsIgnoreCase(cellValue.trim())) {\r\n                            ProductDetailResponse.ErrorDetail error = new ProductDetailResponse\r\n                                    .ErrorDetail(ProductDetailResponse.ValidationsType.INVALID_HEADER.getValue(), cell.getRowIndex(), &quot;Header Value and Order is mismatched with specified format.&quot;);\r\n                            errorMap.put(cellValue, error);\r\n                        }\r\n                        colCount++;\r\n                    }\r\n                } else {\r\n                    log.error(&quot;Number of column mismatched from specified format. Please verify file headers.&quot;);\r\n                    throw new Exception(HttpStatus.NOT_ACCEPTABLE, service.getErrorProperties().getCpiFileUploadErrorCode(), service.getErrorProperties().getCpiFileUploadErrorMessage());\r\n                }\r\n\r\n            } catch (IOException | EncryptedDocumentException e) {\r\n                log.error(&quot;Exception at validateCpiDataFile() while validating CPI data file. Exception: [{}]&quot;, e.getMessage());\r\n                throw new Exception(HttpStatus.NOT_ACCEPTABLE, service.getErrorProperties().getCpiFileUploadErrorCode(), service.getErrorProperties().getCpiFileUploadErrorMessage());\r\n            }\r\n        }\r\n        return errorMap;\r\n    }","title":"How to validate xlsx File Header Name and column value for each header in java using apache poi?","body":"<p>Posting method implementation which can validate every cell value of a particular row, let's say Header in this case. Based on validation rule can store validation errors to respond.</p>\n<pre><code>private Map&lt;String, ProductDetailResponse.ErrorDetail&gt; validateCpiDataFile(MultipartFile file) {\n    Map&lt;String, ProductDetailResponse.ErrorDetail&gt; errorMap = new HashMap&lt;&gt;();\n    List&lt;String&gt; headerNames = Arrays.asList(&quot;Index&quot;, &quot;Portfolio&quot;, &quot;Time Period&quot;, &quot;Year&quot;);\n    DataFormatter dataFormatter = new DataFormatter();\n    if (Objects.isNull(file) &amp;&amp; file.isEmpty()) {\n        throw new Exception(HttpStatus.NOT_ACCEPTABLE, service.getErrorProperties().getCpiFileUploadErrorCode(), service.getErrorProperties().getCpiFileUploadErrorMessage());\n    } else {\n        try {\n            XSSFWorkbook cpiWorkbook = new XSSFWorkbook(file.getInputStream());\n            Sheet sheet = cpiWorkbook.getSheetAt(0);\n            int colCount = 0;\n            int cellCount = sheet.rowIterator().next().getLastCellNum() - sheet.rowIterator().next().getFirstCellNum();\n            if (cellCount == headerNames.size()) {\n                for (Cell cell : sheet.getRow(0)) {\n                    String cellValue = dataFormatter.formatCellValue(cell); // from apache poi 5.2.0 on\n                    if (!headerNames.get(colCount).trim().equalsIgnoreCase(cellValue.trim())) {\n                        ProductDetailResponse.ErrorDetail error = new ProductDetailResponse\n                                .ErrorDetail(ProductDetailResponse.ValidationsType.INVALID_HEADER.getValue(), cell.getRowIndex(), &quot;Header Value and Order is mismatched with specified format.&quot;);\n                        errorMap.put(cellValue, error);\n                    }\n                    colCount++;\n                }\n            } else {\n                log.error(&quot;Number of column mismatched from specified format. Please verify file headers.&quot;);\n                throw new Exception(HttpStatus.NOT_ACCEPTABLE, service.getErrorProperties().getCpiFileUploadErrorCode(), service.getErrorProperties().getCpiFileUploadErrorMessage());\n            }\n\n        } catch (IOException | EncryptedDocumentException e) {\n            log.error(&quot;Exception at validateCpiDataFile() while validating CPI data file. Exception: [{}]&quot;, e.getMessage());\n            throw new Exception(HttpStatus.NOT_ACCEPTABLE, service.getErrorProperties().getCpiFileUploadErrorCode(), service.getErrorProperties().getCpiFileUploadErrorMessage());\n        }\n    }\n    return errorMap;\n}\n</code></pre>\n"}],"owner":{"account_id":11334841,"reputation":139,"user_id":8311057,"display_name":"Tarik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664441970,"creation_date":1577968431,"question_id":59563432,"body_markdown":"How i can validate xlsx file header as well as row?\r\nSuppose there will be 10 column,I want some column should be Integer and some column should be String.If any validation fail then that file should not be proceed ,If all validation pass then we need to update record into our table based on meterno and boundary_id.\r\nIf meterno and boundary_id combination is not present for some record then,it should not be insert into our table.For those we need to create new xlsx file(Not Update record) and save into our local directory.\r\n\r\nNote:-CT,PT,MF should be Number and rest all string.\r\n\r\nPlease find attache xlsx file.\r\n\r\n[![XLSX file screen shoot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j7thq.jpg\r\n\r\n\r\n\r\n\r\n```Java\r\n@Controller\r\npublic class UploadExeclController {\r\n\t\r\n\t // all key value pair mapping (  holding column name and its respective value per row.\r\n    Map&lt;String,Object&gt;  records =  new HashMap&lt;String,Object&gt;();\r\n\r\n\t@RequestMapping(value = &quot;/uploadBoundaryFile&quot;, method = { RequestMethod.GET, RequestMethod.POST })\r\n\tpublic @ResponseBody void uploadBoundaryFile(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\tModelMap model) {\r\n\t\ttry {\r\n\r\n\t\t\tMultipartHttpServletRequest multipartRequest = (MultipartHttpServletRequest) request;\r\n\t\t\tMultipartFile myFile = multipartRequest.getFile(&quot;fileUpload&quot;);\r\n\r\n\t\t\tString fileName = myFile.getOriginalFilename();\r\n\t\t\tFileInputStream file = new FileInputStream(getTempFile(myFile));\r\n\r\n\t\t\t// Get the workbook instance for XLSX file\r\n\t\t\tXSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\t\t\t// Get first sheet from the workbook\r\n\t\t\tXSSFSheet sheet = workbook.getSheetAt(0);\r\n\t\t\t// GET the header row\r\n\t        Row headerRow = sheet.getRow(0);\r\n\t\t\t// Get iterator to all the rows in current sheet\r\n\t\t\t//Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// LIst of headers from excel\r\n\t        List&lt;String&gt; headers = new ArrayList&lt;String&gt;();\r\n\t        Iterator&lt;Cell&gt; cells = headerRow.cellIterator();\r\n\t        while (cells.hasNext()) {\r\n\t            Cell cell = (Cell) cells.next();\r\n\t            RichTextString value = cell.getRichStringCellValue();\r\n\t            headers.add(value.getString());\r\n\t        }\r\n\t     // validate the template \r\n\t        Object[] headerValidation = validateTempalte(headers);\r\n\r\n\t        // if validation fails then write back the message to user.\r\n\t        if((Boolean) headerValidation[0]==false){\r\n\t            List&lt;String&gt; headerValidationMsg = (List&lt;String&gt;) headerValidation[1];\r\n\t            return ;\r\n\t        }\r\n\t     // Assign a number to header.This is done so that when we reading excel value we can identiy the cell value belongs to which column \r\n\t        Map&lt;String,Integer&gt; headerSeqNumber = assignHeaderSeqNumber(headers);\r\n\t        \r\n\t        \r\n\t      //Get iterator to all the rows in current sheet\r\n\t        int rowNumber=0;\r\n\t        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n\t        while (rowIterator.hasNext()) {\r\n\t            Row row = (Row) rowIterator.next();\r\n\t            if(rowNumber==0){\r\n\t                rowNumber++;\r\n\t                continue;\r\n\t            }\r\n\t            System.out.println(&quot;Row no &quot;+rowNumber);\r\n\t            Iterator&lt;String&gt; columnsIterator = headerSeqNumber.keySet().iterator();\r\n\t            while (columnsIterator.hasNext()) {\r\n\t                String name = columnsIterator.next();\r\n\t                System.out.println(&quot;Read columnName &quot;+name);\r\n\t                int cellType=row.getCell(headerSeqNumber.get(name)).getCellType();\r\n\t                switch (cellType) {\r\n\t                case Cell.CELL_TYPE_STRING:\r\n\t                    RichTextString value= row.getCell(headerSeqNumber.get(name)).getRichStringCellValue();\r\n\t                    String val=value!=null ?value.getString().trim():null;\r\n\t                    val=val.replaceAll(&quot;:&quot;, &quot;&quot;);\r\n\t                    val=val.replaceAll(&quot;&#39;&quot;, &quot;&quot;);\r\n\t                    records.put(name,val);\r\n\t                    break;\r\n\t                case Cell.CELL_TYPE_NUMERIC:\r\n\t                    if (DateUtil.isCellDateFormatted(row.getCell(headerSeqNumber.get(name)))) {\r\n\t                        Date date = row.getCell(headerSeqNumber.get(name)).getDateCellValue(); \r\n\t                    //    records.put(name,Utils.convertDateToString(date, &quot;dd-MMM-yyyy&quot;));\r\n\t                    }else{\r\n\t                        double numericVal= row.getCell(headerSeqNumber.get(name)).getNumericCellValue();\r\n\t                        records.put(name,numericVal);\r\n\t                    }\r\n\t                    break;\r\n\t                case Cell.CELL_TYPE_BLANK:\r\n\t                    System.err.println(&quot; blank cell type &quot;);\r\n\t                    records.put(name,null);\r\n\t                    break;\r\n\t                default:\r\n\t                    System.err.println(&quot; NEither string no number &quot;+row.getCell(headerSeqNumber.get(name)).getCellType());\r\n\t                    System.err.println(&quot; value &quot;+row.getCell(headerSeqNumber.get(name)).getStringCellValue());\r\n\t                    break;\r\n\t                }\r\n\r\n\t            }\r\n\t            // once a row is read validate each cell \r\n\t            Object[]  validationResults=validateRecords(records);\r\n\t            Boolean isDataValid =(Boolean) validationResults[0];\r\n\r\n\t            List&lt;String&gt; vMessages =new ArrayList&lt;String&gt;();\r\n\t            // if data is valid then update the value in db.\r\n\t            if (isDataValid) {\r\n\t                System.out.println(&quot; Valid data sending for upating record&quot;);\r\n\t               // String msg = executeProcedure(records);\r\n\t               //  vMessages.add(msg);\r\n\t            }else{\r\n\t                // if there is validation issues then add the messages to list.\r\n\t                if(validationResults[1]!=null){\r\n\t                    vMessages = (List&lt;String&gt;) validationResults[1];\r\n\t                }\r\n\t                System.err.println(&quot; data is invalid&quot;);\r\n\t            }\r\n\t           // errorMessages.put(rowNumber, vMessages);\r\n\t            rowNumber++;\r\n\t        }\r\n\t\t\t\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\t\r\n\r\n\tpublic File getTempFile(MultipartFile multipartFile) {\r\n\t\tCommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\r\n\t\tFileItem fileItem = commonsMultipartFile.getFileItem();\r\n\t\tDiskFileItem diskFileItem = (DiskFileItem) fileItem;\r\n\t\tString absPath = diskFileItem.getStoreLocation().getAbsolutePath();\r\n\t\tFile file = new File(absPath);\r\n\r\n\t\t// trick to implicitly save on disk small files (&lt;10240 bytes by default)\r\n\t\tif (!file.exists()) {\r\n\t\t\ttry {\r\n\t\t\t\tfile.createNewFile();\r\n\t\t\t\tmultipartFile.transferTo(file);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn file;\r\n\t}\r\n```","title":"How to validate xlsx File Header Name and column value for each header in java using apache poi?","body":"<p>How i can validate xlsx file header as well as row?\nSuppose there will be 10 column,I want some column should be Integer and some column should be String.If any validation fail then that file should not be proceed ,If all validation pass then we need to update record into our table based on meterno and boundary_id.\nIf meterno and boundary_id combination is not present for some record then,it should not be insert into our table.For those we need to create new xlsx file(Not Update record) and save into our local directory.</p>\n\n<p>Note:-CT,PT,MF should be Number and rest all string.</p>\n\n<p>Please find attache xlsx file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/j7thq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j7thq.jpg\" alt=\"XLSX file screen shoot\"></a></p>\n\n<pre><code>@Controller\npublic class UploadExeclController {\n\n     // all key value pair mapping (  holding column name and its respective value per row.\n    Map&lt;String,Object&gt;  records =  new HashMap&lt;String,Object&gt;();\n\n    @RequestMapping(value = \"/uploadBoundaryFile\", method = { RequestMethod.GET, RequestMethod.POST })\n    public @ResponseBody void uploadBoundaryFile(HttpServletRequest request, HttpServletResponse response,\n            ModelMap model) {\n        try {\n\n            MultipartHttpServletRequest multipartRequest = (MultipartHttpServletRequest) request;\n            MultipartFile myFile = multipartRequest.getFile(\"fileUpload\");\n\n            String fileName = myFile.getOriginalFilename();\n            FileInputStream file = new FileInputStream(getTempFile(myFile));\n\n            // Get the workbook instance for XLSX file\n            XSSFWorkbook workbook = new XSSFWorkbook(file);\n            // Get first sheet from the workbook\n            XSSFSheet sheet = workbook.getSheetAt(0);\n            // GET the header row\n            Row headerRow = sheet.getRow(0);\n            // Get iterator to all the rows in current sheet\n            //Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n\n            // LIst of headers from excel\n            List&lt;String&gt; headers = new ArrayList&lt;String&gt;();\n            Iterator&lt;Cell&gt; cells = headerRow.cellIterator();\n            while (cells.hasNext()) {\n                Cell cell = (Cell) cells.next();\n                RichTextString value = cell.getRichStringCellValue();\n                headers.add(value.getString());\n            }\n         // validate the template \n            Object[] headerValidation = validateTempalte(headers);\n\n            // if validation fails then write back the message to user.\n            if((Boolean) headerValidation[0]==false){\n                List&lt;String&gt; headerValidationMsg = (List&lt;String&gt;) headerValidation[1];\n                return ;\n            }\n         // Assign a number to header.This is done so that when we reading excel value we can identiy the cell value belongs to which column \n            Map&lt;String,Integer&gt; headerSeqNumber = assignHeaderSeqNumber(headers);\n\n\n          //Get iterator to all the rows in current sheet\n            int rowNumber=0;\n            Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n            while (rowIterator.hasNext()) {\n                Row row = (Row) rowIterator.next();\n                if(rowNumber==0){\n                    rowNumber++;\n                    continue;\n                }\n                System.out.println(\"Row no \"+rowNumber);\n                Iterator&lt;String&gt; columnsIterator = headerSeqNumber.keySet().iterator();\n                while (columnsIterator.hasNext()) {\n                    String name = columnsIterator.next();\n                    System.out.println(\"Read columnName \"+name);\n                    int cellType=row.getCell(headerSeqNumber.get(name)).getCellType();\n                    switch (cellType) {\n                    case Cell.CELL_TYPE_STRING:\n                        RichTextString value= row.getCell(headerSeqNumber.get(name)).getRichStringCellValue();\n                        String val=value!=null ?value.getString().trim():null;\n                        val=val.replaceAll(\":\", \"\");\n                        val=val.replaceAll(\"'\", \"\");\n                        records.put(name,val);\n                        break;\n                    case Cell.CELL_TYPE_NUMERIC:\n                        if (DateUtil.isCellDateFormatted(row.getCell(headerSeqNumber.get(name)))) {\n                            Date date = row.getCell(headerSeqNumber.get(name)).getDateCellValue(); \n                        //    records.put(name,Utils.convertDateToString(date, \"dd-MMM-yyyy\"));\n                        }else{\n                            double numericVal= row.getCell(headerSeqNumber.get(name)).getNumericCellValue();\n                            records.put(name,numericVal);\n                        }\n                        break;\n                    case Cell.CELL_TYPE_BLANK:\n                        System.err.println(\" blank cell type \");\n                        records.put(name,null);\n                        break;\n                    default:\n                        System.err.println(\" NEither string no number \"+row.getCell(headerSeqNumber.get(name)).getCellType());\n                        System.err.println(\" value \"+row.getCell(headerSeqNumber.get(name)).getStringCellValue());\n                        break;\n                    }\n\n                }\n                // once a row is read validate each cell \n                Object[]  validationResults=validateRecords(records);\n                Boolean isDataValid =(Boolean) validationResults[0];\n\n                List&lt;String&gt; vMessages =new ArrayList&lt;String&gt;();\n                // if data is valid then update the value in db.\n                if (isDataValid) {\n                    System.out.println(\" Valid data sending for upating record\");\n                   // String msg = executeProcedure(records);\n                   //  vMessages.add(msg);\n                }else{\n                    // if there is validation issues then add the messages to list.\n                    if(validationResults[1]!=null){\n                        vMessages = (List&lt;String&gt;) validationResults[1];\n                    }\n                    System.err.println(\" data is invalid\");\n                }\n               // errorMessages.put(rowNumber, vMessages);\n                rowNumber++;\n            }\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n\n\n\n\n\n    public File getTempFile(MultipartFile multipartFile) {\n        CommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\n        FileItem fileItem = commonsMultipartFile.getFileItem();\n        DiskFileItem diskFileItem = (DiskFileItem) fileItem;\n        String absPath = diskFileItem.getStoreLocation().getAbsolutePath();\n        File file = new File(absPath);\n\n        // trick to implicitly save on disk small files (&lt;10240 bytes by default)\n        if (!file.exists()) {\n            try {\n                file.createNewFile();\n                multipartFile.transferTo(file);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n\n        return file;\n    }\n</code></pre>\n"},{"tags":["java","arrays","uml","java.util.scanner"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1664323704,"post_id":73874927,"comment_id":130443925,"body_markdown":"Return type of the method. Odd that `getSize(Scanner)` would return an `Object[]`. Also odd to name the `Scanner` in UML.","body":"Return type of the method. Odd that <code>getSize(Scanner)</code> would return an <code>Object[]</code>. Also odd to name the <code>Scanner</code> in UML."}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664441823,"creation_date":1664344260,"answer_id":73876715,"question_id":73874927,"body_markdown":"There is no array notation in UML.  But the closest thing in UML is multiplicity combined with a type name (e.g. `Object`) : \r\n\r\n    myarray: Object [*]                \r\n    myboundedarray: Object[2..5]\r\n    myoptional: Object [0..1] \r\n\r\nThis means an unlimited number of objects, a bounded list of objects between 2 and 5 elements, and an optional object that can be absent (minimum 0) or present (maximum 1). \r\n\r\nFor operations (aka methods), you just indicate it with a colon, after the parameter list:   \r\n\r\n    getSize(sc: Scanner) : Object[*]\r\n\r\nwhich describes an operation taking one parameter of type `Scanner` and returning a container with an undertermined number of elements of type `Object`. \r\n","title":"UML diagram java","body":"<p>There is no array notation in UML.  But the closest thing in UML is multiplicity combined with a type name (e.g. <code>Object</code>) :</p>\n<pre><code>myarray: Object [*]                \nmyboundedarray: Object[2..5]\nmyoptional: Object [0..1] \n</code></pre>\n<p>This means an unlimited number of objects, a bounded list of objects between 2 and 5 elements, and an optional object that can be absent (minimum 0) or present (maximum 1).</p>\n<p>For operations (aka methods), you just indicate it with a colon, after the parameter list:</p>\n<pre><code>getSize(sc: Scanner) : Object[*]\n</code></pre>\n<p>which describes an operation taking one parameter of type <code>Scanner</code> and returning a container with an undertermined number of elements of type <code>Object</code>.</p>\n"}],"owner":{"account_id":23046169,"reputation":23,"user_id":20105566,"display_name":"Lonely Pine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73876715,"answer_count":1,"score":2,"last_activity_date":1664441823,"creation_date":1664323480,"question_id":73874927,"body_markdown":"I&#39;m a little confused and cannot find out how to write this in code from the UML diagram. I know it&#39;s a public class, and its first word is the method. I&#39;m confused about the object array inside the method if it even is inside the method. Thanks for your time.\r\n\r\n+ getSize(Scanner sc) : Object[]\r\n\r\n+ friendOrFamily(Scanner sc) : int","title":"UML diagram java","body":"<p>I'm a little confused and cannot find out how to write this in code from the UML diagram. I know it's a public class, and its first word is the method. I'm confused about the object array inside the method if it even is inside the method. Thanks for your time.</p>\n<ul>\n<li><p>getSize(Scanner sc) : Object[]</p>\n</li>\n<li><p>friendOrFamily(Scanner sc) : int</p>\n</li>\n</ul>\n"},{"tags":["java","android","android-recyclerview","gson","retrofit2"],"comments":[{"owner":{"account_id":4952247,"reputation":570,"user_id":3986289,"accept_rate":65,"display_name":"Luk&#225; Anda"},"score":0,"creation_date":1664439615,"post_id":73892187,"comment_id":130473428,"body_markdown":"I think you forgot to pass new data to the adapter call `adapter.notifyDataSetChanged()` but I am not sure how it wuld react when you fetch data on every element. But that method refreshes the view after you add the data.","body":"I think you forgot to pass new data to the adapter call <code>adapter.notifyDataSetChanged()</code> but I am not sure how it wuld react when you fetch data on every element. But that method refreshes the view after you add the data."},{"owner":{"account_id":7302782,"reputation":158,"user_id":5564845,"display_name":"Saurabh"},"score":0,"creation_date":1664449182,"post_id":73892187,"comment_id":130476755,"body_markdown":"You are calling API in `buildItemList` and `buildSubItemList` method which is async operation what&#39;s happening is you are returning list immediately which is empty but api response is coming after sometime you should notify adatper as mentioned for structural change.","body":"You are calling API in <code>buildItemList</code> and <code>buildSubItemList</code> method which is async operation what&#39;s happening is you are returning list immediately which is empty but api response is coming after sometime you should notify adatper as mentioned for structural change."},{"owner":{"account_id":23902343,"reputation":9,"user_id":19348697,"display_name":"Anonymous"},"score":0,"creation_date":1664499040,"post_id":73892187,"comment_id":130491674,"body_markdown":"@Luk&#225;Anda thank you for your opinion. I try to search about `adapter.notifyDataSetChanged()` since yesterday but still have no idea where to put in my code. nevermind I&#39;ll try again.","body":"@Luk&#225;Anda thank you for your opinion. I try to search about <code>adapter.notifyDataSetChanged()</code> since yesterday but still have no idea where to put in my code. nevermind I&#39;ll try again."},{"owner":{"account_id":23902343,"reputation":9,"user_id":19348697,"display_name":"Anonymous"},"score":0,"creation_date":1664499143,"post_id":73892187,"comment_id":130491689,"body_markdown":"@pintu236 thank you for replying. I&#39;ll try to restructure my code again","body":"@pintu236 thank you for replying. I&#39;ll try to restructure my code again"}],"owner":{"account_id":23902343,"reputation":9,"user_id":19348697,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664441730,"creation_date":1664438496,"question_id":73892187,"body_markdown":"Currently I&#39;m trying to create a nested RecyclerView and use Retrofit to fetch my data. When I run the code, no error shown on log cat but the come out doesn&#39;t appear like how I expect it to be. May someone please help me to find why its appear empty? where should I improve my code?\r\n\r\nHere is what I&#39;ve try so far \r\n\r\nAPI interface\r\n\r\n```\r\npackage com.example.recycledviewpoolexample.API;\r\n\r\nimport com.example.recycledviewpoolexample.Item;\r\nimport com.example.recycledviewpoolexample.SubItem;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.http.GET;\r\n\r\npublic interface API {\r\n    @GET(&quot;job&quot;)\r\n    Call&lt;ArrayList&lt;Item&gt;&gt; getItem();\r\n\r\n    @GET(&quot;job&quot;)\r\n    Call&lt;ArrayList&lt;SubItem&gt;&gt; getSubItem();\r\n}\r\n\r\n```\r\n\r\nRetrofit\r\n\r\n```\r\npackage com.example.recycledviewpoolexample.API;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\n\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class RetrofitClient {\r\n    private static final String BASE_URL = &quot;http://192.168.1.15/api/&quot;;\r\n    private static RetrofitClient mInstance;\r\n    private final Retrofit retrofit;\r\n\r\n    private RetrofitClient() {\r\n\r\n        Gson gson = new GsonBuilder()\r\n                .setLenient()\r\n                .create();\r\n\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create(gson))\r\n                .build();\r\n    }\r\n\r\n    public static synchronized RetrofitClient getInstance() {\r\n        if (mInstance == null) {\r\n            mInstance = new RetrofitClient();\r\n        }\r\n        return mInstance;\r\n    }\r\n\r\n    public API getAPI() {\r\n        return retrofit.create(API.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nitem (model)\r\n\r\n```\r\npackage com.example.recycledviewpoolexample;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\nimport java.util.List;\r\n\r\npublic class Item {\r\n\r\n    @SerializedName(&quot;customer_name&quot;)\r\n\r\n    private String customer_name;\r\n\r\n    private List&lt;SubItem&gt; subItemList;\r\n\r\n    public Item(String customer_name, List&lt;SubItem&gt; subItemList) {\r\n        this.customer_name = customer_name;\r\n        this.subItemList = subItemList;\r\n    }\r\n\r\n    public String getCustomer_name() {\r\n        return customer_name;\r\n    }\r\n\r\n    public void setCustomer_name(String customer_name) {\r\n        this.customer_name = customer_name;\r\n    }\r\n\r\n    public List&lt;SubItem&gt; getSubItemList() {\r\n        return subItemList;\r\n    }\r\n\r\n    public void setSubItemList(List&lt;SubItem&gt; subItemList) {\r\n        this.subItemList = subItemList;\r\n    }\r\n}\r\n\r\n```\r\n\r\nItemAdapter\r\n\r\n```\r\n\r\npackage com.example.recycledviewpoolexample;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\npublic class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ItemViewHolder&gt; {\r\n\r\n    public RecyclerView.RecycledViewPool viewPool = new RecyclerView.RecycledViewPool();\r\n\r\n    List&lt;Item&gt; itemList;\r\n\r\n    public ItemAdapter(List&lt;Item&gt; itemList) {\r\n        this.itemList = itemList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ItemViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.layout_item, viewGroup, false);\r\n        return new ItemViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ItemViewHolder itemViewHolder, int i) {\r\n        Item item = itemList.get(i);\r\n        itemViewHolder.customer_name.setText(item.getCustomer_name());\r\n\r\n        // Create layout manager with initial prefetch item count\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(\r\n                itemViewHolder.rvSubItem.getContext(),\r\n                LinearLayoutManager.VERTICAL,\r\n                false\r\n        );\r\n        layoutManager.setInitialPrefetchItemCount(item.getSubItemList().size());\r\n\r\n        // Create sub item view adapter\r\n        SubItemAdapter subItemAdapter = new SubItemAdapter(item.getSubItemList());\r\n\r\n        itemViewHolder.rvSubItem.setLayoutManager(layoutManager);\r\n        itemViewHolder.rvSubItem.setAdapter(subItemAdapter);\r\n        itemViewHolder.rvSubItem.setRecycledViewPool(viewPool);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return itemList.size();\r\n    }\r\n\r\n    class ItemViewHolder extends RecyclerView.ViewHolder {\r\n\r\n       TextView customer_name;\r\n       RecyclerView rvSubItem;\r\n\r\n        ItemViewHolder(View itemView) {\r\n            super(itemView);\r\n            customer_name = itemView.findViewById(R.id.todocustomer_name);\r\n            rvSubItem = itemView.findViewById(R.id.rv_sub_item);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nSubItem (model)\r\n\r\n```\r\npackage com.example.recycledviewpoolexample;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class SubItem {\r\n\r\n    private int subItemImage;\r\n    private String subItemTitle;\r\n    private String subItemDesc;\r\n\r\n    @SerializedName(&quot;job_priority&quot;)\r\n    private String job_priority;\r\n\r\n    @SerializedName(&quot;job_order_number&quot;)\r\n    private String job_order_number;\r\n\r\n    @SerializedName(&quot;job_description&quot;)\r\n    private String job_description;\r\n\r\n    @SerializedName(&quot;machine_name&quot;)\r\n    private String machine_name;\r\n\r\n    @SerializedName(&quot;machine_type&quot;)\r\n    private String machine_type;\r\n\r\n    @SerializedName(&quot;serial_number&quot;)\r\n    private String serial_number;\r\n\r\n    @SerializedName(&quot;reason&quot;)\r\n    private String reason;\r\n\r\n    public SubItem(String subItemTitle,\r\n                   String subItemDesc,\r\n                   String job_priority,\r\n                   String job_order_number,\r\n                   String job_description,\r\n                   String machine_name,\r\n                   String machine_type,\r\n                   String serial_number,\r\n                   String reason)\r\n\r\n    {\r\n        this.subItemTitle = subItemTitle;\r\n        this.subItemDesc = subItemDesc;\r\n        this.job_priority = job_priority;\r\n        this.job_order_number = job_order_number;\r\n        this.job_description = job_description;\r\n        this.machine_name = machine_name;\r\n        this.machine_type = machine_type;\r\n        this.serial_number = serial_number;\r\n        this.reason = reason;\r\n    }\r\n\r\n    public int getSubItemImage() {\r\n        return subItemImage;\r\n    }\r\n\r\n    public void setSubItemImage(int subItemImage) {\r\n        this.subItemImage = subItemImage;\r\n    }\r\n\r\n    public String getSubItemDesc() {\r\n        return subItemDesc;\r\n    }\r\n\r\n    public void setSubItemDesc(String subItemDesc) {\r\n        this.subItemDesc = subItemDesc;\r\n    }\r\n\r\n    public String getJob_priority() {\r\n        return job_priority;\r\n    }\r\n\r\n    public void setJob_priority(String job_priority) {\r\n        this.job_priority = job_priority;\r\n    }\r\n\r\n    public String getJob_order_number() {\r\n        return job_order_number;\r\n    }\r\n\r\n    public void setJob_order_number(String job_order_number) {\r\n        this.job_order_number = job_order_number;\r\n    }\r\n\r\n    public String getJob_description() {\r\n        return job_description;\r\n    }\r\n\r\n    public void setJob_description(String job_description) {\r\n        this.job_description = job_description;\r\n    }\r\n\r\n    public String getMachine_name() {\r\n        return machine_name;\r\n    }\r\n\r\n    public void setMachine_name(String machine_name) {\r\n        this.machine_name = machine_name;\r\n    }\r\n\r\n    public String getMachine_type() {\r\n        return machine_type;\r\n    }\r\n\r\n    public void setMachine_type(String machine_type) {\r\n        this.machine_type = machine_type;\r\n    }\r\n\r\n    public String getSerial_number() {\r\n        return serial_number;\r\n    }\r\n\r\n    public void setSerial_number(String serial_number) {\r\n        this.serial_number = serial_number;\r\n    }\r\n\r\n    public String getReason() {\r\n        return reason;\r\n    }\r\n\r\n    public void setReason(String reason) {\r\n        this.reason = reason;\r\n    }\r\n}\r\n\r\n```\r\n\r\nSubItemAdapter\r\n\r\n```\r\npackage com.example.recycledviewpoolexample;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\npublic class SubItemAdapter extends RecyclerView.Adapter&lt;SubItemAdapter.SubItemViewHolder&gt; {\r\n\r\n    List&lt;SubItem&gt; subItemList;\r\n\r\n    public SubItemAdapter(List&lt;SubItem&gt; subItemList) {\r\n        this.subItemList = subItemList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public SubItemViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.layout_sub_item, viewGroup, false);\r\n        return new SubItemViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull SubItemViewHolder subItemViewHolder, int i) {\r\n        SubItem subItem = subItemList.get(i);\r\n        subItemViewHolder.job_order_number.setText(subItem.getJob_order_number());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return subItemList.size();\r\n    }\r\n\r\n    class SubItemViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView job_order_number;\r\n        TextView job_priority;\r\n        TextView job_description;\r\n        TextView machine_name;\r\n        TextView machine_type;\r\n        TextView serial_number;\r\n        TextView reason;\r\n\r\n        SubItemViewHolder(View itemView) {\r\n            super(itemView);\r\n            job_order_number = itemView.findViewById(R.id.todojob_order_number);\r\n            job_priority = itemView.findViewById(R.id.todojob_priority);\r\n            job_description = itemView.findViewById(R.id.todojob_description);\r\n            machine_name = itemView.findViewById(R.id.todomachine_name);\r\n            machine_type = itemView.findViewById(R.id.todomachine_type);\r\n            serial_number = itemView.findViewById(R.id.todoserialnumber);\r\n            reason = itemView.findViewById(R.id.reason);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMainActivity\r\n\r\n```\r\n\r\npackage com.example.recycledviewpoolexample;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.recycledviewpoolexample.API.RetrofitClient;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ArrayList&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\r\n    ArrayList&lt;SubItem&gt; subItemList = new ArrayList&lt;SubItem&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        RecyclerView rvItem = findViewById(R.id.rv_item);\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(MainActivity.this);\r\n        ItemAdapter itemAdapter = new ItemAdapter(buildItemList());\r\n        rvItem.setAdapter(itemAdapter);\r\n        rvItem.setLayoutManager(layoutManager);\r\n    }\r\n\r\n    private ArrayList&lt;Item&gt; buildItemList() {\r\n\r\n        Call&lt;ArrayList&lt;Item&gt;&gt; call = RetrofitClient.getInstance().getAPI().getItem();\r\n\r\n        call.enqueue(new Callback&lt;ArrayList&lt;Item&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ArrayList&lt;Item&gt;&gt; call, Response&lt;ArrayList&lt;Item&gt;&gt; response) {\r\n                itemList.addAll(response.body());\r\n                for (int i=0; i&lt;itemList.size(); i++) {\r\n                    Item item = new Item(&quot;Item &quot;+i, buildSubItemList());\r\n                    itemList.add(item);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ArrayList&lt;Item&gt;&gt; call, Throwable t) {\r\n                Toast.makeText(getApplicationContext(),t.toString(), Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n        return itemList;\r\n    }\r\n\r\n    private ArrayList&lt;SubItem&gt; buildSubItemList() {\r\n\r\n        Call&lt;ArrayList&lt;SubItem&gt;&gt; call = RetrofitClient.getInstance().getAPI().getSubItem();\r\n\r\n        call.enqueue(new Callback&lt;ArrayList&lt;SubItem&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ArrayList&lt;SubItem&gt;&gt; call, Response&lt;ArrayList&lt;SubItem&gt;&gt; response) {\r\n                subItemList.addAll(response.body());\r\n                for (int i=0; i&lt;3; i++) {\r\n                    SubItem subItem = new SubItem(&quot;Sub Item &quot;+i, &quot;Description &quot;+i,\r\n                            &quot;Description &quot;+i,\r\n                            &quot;Description &quot;+i,\r\n                            &quot;Description &quot;+i,\r\n                            &quot;Description &quot;+i,\r\n                            &quot;Description &quot;+i,\r\n                            &quot;Description &quot;+i,\r\n                            &quot;Description &quot;+i);\r\n                    subItemList.add(subItem);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ArrayList&lt;SubItem&gt;&gt; call, Throwable t) {\r\n                Toast.makeText(getApplicationContext(),t.toString(), Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n        return subItemList;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is how I expect it to be \r\n\r\n[Expected][1]\r\n\r\n\r\nBut currently it appear empty like this \r\n\r\n[What I get][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ZMDK.png\r\n  [2]: https://i.stack.imgur.com/ShS9O.png","title":"How to fetch Arraylist data with Retrofit?","body":"<p>Currently I'm trying to create a nested RecyclerView and use Retrofit to fetch my data. When I run the code, no error shown on log cat but the come out doesn't appear like how I expect it to be. May someone please help me to find why its appear empty? where should I improve my code?</p>\n<p>Here is what I've try so far</p>\n<p>API interface</p>\n<pre><code>package com.example.recycledviewpoolexample.API;\n\nimport com.example.recycledviewpoolexample.Item;\nimport com.example.recycledviewpoolexample.SubItem;\n\nimport java.util.ArrayList;\n\nimport retrofit2.Call;\nimport retrofit2.http.GET;\n\npublic interface API {\n    @GET(&quot;job&quot;)\n    Call&lt;ArrayList&lt;Item&gt;&gt; getItem();\n\n    @GET(&quot;job&quot;)\n    Call&lt;ArrayList&lt;SubItem&gt;&gt; getSubItem();\n}\n\n</code></pre>\n<p>Retrofit</p>\n<pre><code>package com.example.recycledviewpoolexample.API;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\n\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class RetrofitClient {\n    private static final String BASE_URL = &quot;http://192.168.1.15/api/&quot;;\n    private static RetrofitClient mInstance;\n    private final Retrofit retrofit;\n\n    private RetrofitClient() {\n\n        Gson gson = new GsonBuilder()\n                .setLenient()\n                .create();\n\n        retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build();\n    }\n\n    public static synchronized RetrofitClient getInstance() {\n        if (mInstance == null) {\n            mInstance = new RetrofitClient();\n        }\n        return mInstance;\n    }\n\n    public API getAPI() {\n        return retrofit.create(API.class);\n    }\n}\n\n</code></pre>\n<p>item (model)</p>\n<pre><code>package com.example.recycledviewpoolexample;\n\nimport com.google.gson.annotations.SerializedName;\n\nimport java.util.List;\n\npublic class Item {\n\n    @SerializedName(&quot;customer_name&quot;)\n\n    private String customer_name;\n\n    private List&lt;SubItem&gt; subItemList;\n\n    public Item(String customer_name, List&lt;SubItem&gt; subItemList) {\n        this.customer_name = customer_name;\n        this.subItemList = subItemList;\n    }\n\n    public String getCustomer_name() {\n        return customer_name;\n    }\n\n    public void setCustomer_name(String customer_name) {\n        this.customer_name = customer_name;\n    }\n\n    public List&lt;SubItem&gt; getSubItemList() {\n        return subItemList;\n    }\n\n    public void setSubItemList(List&lt;SubItem&gt; subItemList) {\n        this.subItemList = subItemList;\n    }\n}\n\n</code></pre>\n<p>ItemAdapter</p>\n<pre><code>\npackage com.example.recycledviewpoolexample;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ItemViewHolder&gt; {\n\n    public RecyclerView.RecycledViewPool viewPool = new RecyclerView.RecycledViewPool();\n\n    List&lt;Item&gt; itemList;\n\n    public ItemAdapter(List&lt;Item&gt; itemList) {\n        this.itemList = itemList;\n    }\n\n    @NonNull\n    @Override\n    public ItemViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.layout_item, viewGroup, false);\n        return new ItemViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ItemViewHolder itemViewHolder, int i) {\n        Item item = itemList.get(i);\n        itemViewHolder.customer_name.setText(item.getCustomer_name());\n\n        // Create layout manager with initial prefetch item count\n        LinearLayoutManager layoutManager = new LinearLayoutManager(\n                itemViewHolder.rvSubItem.getContext(),\n                LinearLayoutManager.VERTICAL,\n                false\n        );\n        layoutManager.setInitialPrefetchItemCount(item.getSubItemList().size());\n\n        // Create sub item view adapter\n        SubItemAdapter subItemAdapter = new SubItemAdapter(item.getSubItemList());\n\n        itemViewHolder.rvSubItem.setLayoutManager(layoutManager);\n        itemViewHolder.rvSubItem.setAdapter(subItemAdapter);\n        itemViewHolder.rvSubItem.setRecycledViewPool(viewPool);\n    }\n\n    @Override\n    public int getItemCount() {\n        return itemList.size();\n    }\n\n    class ItemViewHolder extends RecyclerView.ViewHolder {\n\n       TextView customer_name;\n       RecyclerView rvSubItem;\n\n        ItemViewHolder(View itemView) {\n            super(itemView);\n            customer_name = itemView.findViewById(R.id.todocustomer_name);\n            rvSubItem = itemView.findViewById(R.id.rv_sub_item);\n        }\n    }\n}\n\n</code></pre>\n<p>SubItem (model)</p>\n<pre><code>package com.example.recycledviewpoolexample;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class SubItem {\n\n    private int subItemImage;\n    private String subItemTitle;\n    private String subItemDesc;\n\n    @SerializedName(&quot;job_priority&quot;)\n    private String job_priority;\n\n    @SerializedName(&quot;job_order_number&quot;)\n    private String job_order_number;\n\n    @SerializedName(&quot;job_description&quot;)\n    private String job_description;\n\n    @SerializedName(&quot;machine_name&quot;)\n    private String machine_name;\n\n    @SerializedName(&quot;machine_type&quot;)\n    private String machine_type;\n\n    @SerializedName(&quot;serial_number&quot;)\n    private String serial_number;\n\n    @SerializedName(&quot;reason&quot;)\n    private String reason;\n\n    public SubItem(String subItemTitle,\n                   String subItemDesc,\n                   String job_priority,\n                   String job_order_number,\n                   String job_description,\n                   String machine_name,\n                   String machine_type,\n                   String serial_number,\n                   String reason)\n\n    {\n        this.subItemTitle = subItemTitle;\n        this.subItemDesc = subItemDesc;\n        this.job_priority = job_priority;\n        this.job_order_number = job_order_number;\n        this.job_description = job_description;\n        this.machine_name = machine_name;\n        this.machine_type = machine_type;\n        this.serial_number = serial_number;\n        this.reason = reason;\n    }\n\n    public int getSubItemImage() {\n        return subItemImage;\n    }\n\n    public void setSubItemImage(int subItemImage) {\n        this.subItemImage = subItemImage;\n    }\n\n    public String getSubItemDesc() {\n        return subItemDesc;\n    }\n\n    public void setSubItemDesc(String subItemDesc) {\n        this.subItemDesc = subItemDesc;\n    }\n\n    public String getJob_priority() {\n        return job_priority;\n    }\n\n    public void setJob_priority(String job_priority) {\n        this.job_priority = job_priority;\n    }\n\n    public String getJob_order_number() {\n        return job_order_number;\n    }\n\n    public void setJob_order_number(String job_order_number) {\n        this.job_order_number = job_order_number;\n    }\n\n    public String getJob_description() {\n        return job_description;\n    }\n\n    public void setJob_description(String job_description) {\n        this.job_description = job_description;\n    }\n\n    public String getMachine_name() {\n        return machine_name;\n    }\n\n    public void setMachine_name(String machine_name) {\n        this.machine_name = machine_name;\n    }\n\n    public String getMachine_type() {\n        return machine_type;\n    }\n\n    public void setMachine_type(String machine_type) {\n        this.machine_type = machine_type;\n    }\n\n    public String getSerial_number() {\n        return serial_number;\n    }\n\n    public void setSerial_number(String serial_number) {\n        this.serial_number = serial_number;\n    }\n\n    public String getReason() {\n        return reason;\n    }\n\n    public void setReason(String reason) {\n        this.reason = reason;\n    }\n}\n\n</code></pre>\n<p>SubItemAdapter</p>\n<pre><code>package com.example.recycledviewpoolexample;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class SubItemAdapter extends RecyclerView.Adapter&lt;SubItemAdapter.SubItemViewHolder&gt; {\n\n    List&lt;SubItem&gt; subItemList;\n\n    public SubItemAdapter(List&lt;SubItem&gt; subItemList) {\n        this.subItemList = subItemList;\n    }\n\n    @NonNull\n    @Override\n    public SubItemViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.layout_sub_item, viewGroup, false);\n        return new SubItemViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull SubItemViewHolder subItemViewHolder, int i) {\n        SubItem subItem = subItemList.get(i);\n        subItemViewHolder.job_order_number.setText(subItem.getJob_order_number());\n    }\n\n    @Override\n    public int getItemCount() {\n        return subItemList.size();\n    }\n\n    class SubItemViewHolder extends RecyclerView.ViewHolder {\n\n        TextView job_order_number;\n        TextView job_priority;\n        TextView job_description;\n        TextView machine_name;\n        TextView machine_type;\n        TextView serial_number;\n        TextView reason;\n\n        SubItemViewHolder(View itemView) {\n            super(itemView);\n            job_order_number = itemView.findViewById(R.id.todojob_order_number);\n            job_priority = itemView.findViewById(R.id.todojob_priority);\n            job_description = itemView.findViewById(R.id.todojob_description);\n            machine_name = itemView.findViewById(R.id.todomachine_name);\n            machine_type = itemView.findViewById(R.id.todomachine_type);\n            serial_number = itemView.findViewById(R.id.todoserialnumber);\n            reason = itemView.findViewById(R.id.reason);\n        }\n    }\n}\n\n</code></pre>\n<p>MainActivity</p>\n<pre><code>\npackage com.example.recycledviewpoolexample;\n\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.recycledviewpoolexample.API.RetrofitClient;\n\nimport java.util.ArrayList;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ArrayList&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\n    ArrayList&lt;SubItem&gt; subItemList = new ArrayList&lt;SubItem&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        RecyclerView rvItem = findViewById(R.id.rv_item);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(MainActivity.this);\n        ItemAdapter itemAdapter = new ItemAdapter(buildItemList());\n        rvItem.setAdapter(itemAdapter);\n        rvItem.setLayoutManager(layoutManager);\n    }\n\n    private ArrayList&lt;Item&gt; buildItemList() {\n\n        Call&lt;ArrayList&lt;Item&gt;&gt; call = RetrofitClient.getInstance().getAPI().getItem();\n\n        call.enqueue(new Callback&lt;ArrayList&lt;Item&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;ArrayList&lt;Item&gt;&gt; call, Response&lt;ArrayList&lt;Item&gt;&gt; response) {\n                itemList.addAll(response.body());\n                for (int i=0; i&lt;itemList.size(); i++) {\n                    Item item = new Item(&quot;Item &quot;+i, buildSubItemList());\n                    itemList.add(item);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;ArrayList&lt;Item&gt;&gt; call, Throwable t) {\n                Toast.makeText(getApplicationContext(),t.toString(), Toast.LENGTH_LONG).show();\n            }\n        });\n\n        return itemList;\n    }\n\n    private ArrayList&lt;SubItem&gt; buildSubItemList() {\n\n        Call&lt;ArrayList&lt;SubItem&gt;&gt; call = RetrofitClient.getInstance().getAPI().getSubItem();\n\n        call.enqueue(new Callback&lt;ArrayList&lt;SubItem&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;ArrayList&lt;SubItem&gt;&gt; call, Response&lt;ArrayList&lt;SubItem&gt;&gt; response) {\n                subItemList.addAll(response.body());\n                for (int i=0; i&lt;3; i++) {\n                    SubItem subItem = new SubItem(&quot;Sub Item &quot;+i, &quot;Description &quot;+i,\n                            &quot;Description &quot;+i,\n                            &quot;Description &quot;+i,\n                            &quot;Description &quot;+i,\n                            &quot;Description &quot;+i,\n                            &quot;Description &quot;+i,\n                            &quot;Description &quot;+i,\n                            &quot;Description &quot;+i);\n                    subItemList.add(subItem);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;ArrayList&lt;SubItem&gt;&gt; call, Throwable t) {\n                Toast.makeText(getApplicationContext(),t.toString(), Toast.LENGTH_LONG).show();\n            }\n        });\n\n        return subItemList;\n    }\n}\n\n</code></pre>\n<p>This is how I expect it to be</p>\n<p><a href=\"https://i.stack.imgur.com/4ZMDK.png\" rel=\"nofollow noreferrer\">Expected</a></p>\n<p>But currently it appear empty like this</p>\n<p><a href=\"https://i.stack.imgur.com/ShS9O.png\" rel=\"nofollow noreferrer\">What I get</a></p>\n"},{"tags":["java","spring","spring-boot","junit","maven-failsafe-plugin"],"answers":[{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613925846,"creation_date":1613925846,"answer_id":66304650,"question_id":66212146,"body_markdown":"The Surefire plugin uses `target/classes`.\r\nThe Failsafe plugin uses `target/your.jar` and so therefore you may see the difference. The Spring builds the fat JAR and therefore you should always consider this difference between plugins. The Failsafe plugin adds dependencies to the classpath and the `target/your.jar` is not considered a fat JAR by the plugin. It is supposed to be a normal package of project classes.","title":"Spring boot failsafe integration tests - Failed to find merged annotation after upgrade to 2.4.2","body":"<p>The Surefire plugin uses <code>target/classes</code>.\nThe Failsafe plugin uses <code>target/your.jar</code> and so therefore you may see the difference. The Spring builds the fat JAR and therefore you should always consider this difference between plugins. The Failsafe plugin adds dependencies to the classpath and the <code>target/your.jar</code> is not considered a fat JAR by the plugin. It is supposed to be a normal package of project classes.</p>\n"},{"tags":[],"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664441725,"creation_date":1664441725,"answer_id":73892829,"question_id":66212146,"body_markdown":"If you don&#39;t use spring-boot-starter-parent as a parent of your maven project, then you need to manually inform the Failsafe plugin which class directory to use by adding this configuration to the Failsafe plugin section in pom.xml:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\r\n    &lt;/configuration&gt;\r\n\r\nSource: [Comment on the Apache issue tracker][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/SUREFIRE-1198?focusedCommentId=16674086&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16674086","title":"Spring boot failsafe integration tests - Failed to find merged annotation after upgrade to 2.4.2","body":"<p>If you don't use spring-boot-starter-parent as a parent of your maven project, then you need to manually inform the Failsafe plugin which class directory to use by adding this configuration to the Failsafe plugin section in pom.xml:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Source: <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1198?focusedCommentId=16674086&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16674086\" rel=\"noreferrer\">Comment on the Apache issue tracker</a></p>\n"}],"owner":{"account_id":3089345,"reputation":2557,"user_id":2615824,"accept_rate":70,"display_name":"MGorgon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3296,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664441725,"creation_date":1613408070,"question_id":66212146,"body_markdown":"after upgrading to Spring Boot 2.4.2 (Spring 5.3.3) our Spring Context tests broke:\r\n\r\n```\r\nlut 15, 2021 4:37:49 PM org.junit.jupiter.engine.execution.JupiterEngineExecutionContext close\r\nSEVERE: Caught exception while closing extension context: org.junit.jupiter.engine.descriptor.JupiterEngineExtensionContext@27be17c8\r\njava.lang.IllegalStateException: Failed to find merged annotation for @org.springframework.test.context.BootstrapWith(org.springframework.boot.test.context.SpringBootTestContextBootstrapper.class)\r\n\tat org.springframework.util.Assert.state(Assert.java:97)\r\n\tat org.springframework.test.context.TestContextAnnotationUtils$AnnotationDescriptor.&lt;init&gt;(TestContextAnnotationUtils.java:513)\r\n\tat org.springframework.test.context.TestContextAnnotationUtils.findAnnotationDescriptor(TestContextAnnotationUtils.java:252)\r\n\tat org.springframework.test.context.TestContextAnnotationUtils.findAnnotationDescriptor(TestContextAnnotationUtils.java:214)\r\n\tat org.springframework.test.context.BootstrapUtils.resolveExplicitTestContextBootstrapper(BootstrapUtils.java:157)\r\n\tat org.springframework.test.context.BootstrapUtils.resolveTestContextBootstrapper(BootstrapUtils.java:130)\r\n\tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:122)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:205)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:182)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$closeAllStoredCloseableValues$1(ExtensionValuesStore.java:65)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap$ValueSpliterator.forEachRemaining(ConcurrentHashMap.java:3612)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.closeAllStoredCloseableValues(ExtensionValuesStore.java:68)\r\n\tat org.junit.jupiter.engine.descriptor.AbstractExtensionContext.close(AbstractExtensionContext.java:74)\r\n\tat org.junit.jupiter.engine.execution.JupiterEngineExecutionContext.close(JupiterEngineExecutionContext.java:53)\r\n\tat org.junit.jupiter.engine.descriptor.JupiterEngineDescriptor.cleanUp(JupiterEngineDescriptor.java:67)\r\n\tat org.junit.jupiter.engine.descriptor.JupiterEngineDescriptor.cleanUp(JupiterEngineDescriptor.java:29)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$9(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:87)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:188)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:154)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:128)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\r\n```\r\n\r\nI&#39;ve already upgraded Surefire and Failsafe maven plugins to 3.0.0-M5, but without any improvement. Junit Jupiter is at 5.7.0.\r\n\r\nThere are no dependency version conflicts between Spring, Spring Boot and Spring Tests. Issue only occurs for failsafe ```integration-test``` goal.","title":"Spring boot failsafe integration tests - Failed to find merged annotation after upgrade to 2.4.2","body":"<p>after upgrading to Spring Boot 2.4.2 (Spring 5.3.3) our Spring Context tests broke:</p>\n<pre><code>lut 15, 2021 4:37:49 PM org.junit.jupiter.engine.execution.JupiterEngineExecutionContext close\nSEVERE: Caught exception while closing extension context: org.junit.jupiter.engine.descriptor.JupiterEngineExtensionContext@27be17c8\njava.lang.IllegalStateException: Failed to find merged annotation for @org.springframework.test.context.BootstrapWith(org.springframework.boot.test.context.SpringBootTestContextBootstrapper.class)\n    at org.springframework.util.Assert.state(Assert.java:97)\n    at org.springframework.test.context.TestContextAnnotationUtils$AnnotationDescriptor.&lt;init&gt;(TestContextAnnotationUtils.java:513)\n    at org.springframework.test.context.TestContextAnnotationUtils.findAnnotationDescriptor(TestContextAnnotationUtils.java:252)\n    at org.springframework.test.context.TestContextAnnotationUtils.findAnnotationDescriptor(TestContextAnnotationUtils.java:214)\n    at org.springframework.test.context.BootstrapUtils.resolveExplicitTestContextBootstrapper(BootstrapUtils.java:157)\n    at org.springframework.test.context.BootstrapUtils.resolveTestContextBootstrapper(BootstrapUtils.java:130)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:122)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:205)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:182)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$closeAllStoredCloseableValues$1(ExtensionValuesStore.java:65)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176)\n    at java.base/java.util.concurrent.ConcurrentHashMap$ValueSpliterator.forEachRemaining(ConcurrentHashMap.java:3612)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.closeAllStoredCloseableValues(ExtensionValuesStore.java:68)\n    at org.junit.jupiter.engine.descriptor.AbstractExtensionContext.close(AbstractExtensionContext.java:74)\n    at org.junit.jupiter.engine.execution.JupiterEngineExecutionContext.close(JupiterEngineExecutionContext.java:53)\n    at org.junit.jupiter.engine.descriptor.JupiterEngineDescriptor.cleanUp(JupiterEngineDescriptor.java:67)\n    at org.junit.jupiter.engine.descriptor.JupiterEngineDescriptor.cleanUp(JupiterEngineDescriptor.java:29)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$9(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:87)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:188)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:154)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:128)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\n</code></pre>\n<p>I've already upgraded Surefire and Failsafe maven plugins to 3.0.0-M5, but without any improvement. Junit Jupiter is at 5.7.0.</p>\n<p>There are no dependency version conflicts between Spring, Spring Boot and Spring Tests. Issue only occurs for failsafe <code>integration-test</code> goal.</p>\n"},{"tags":["java","android","flutter","dart","android-native-library"],"comments":[{"owner":{"account_id":14759793,"reputation":7287,"user_id":10659482,"display_name":"Akif"},"score":0,"creation_date":1610304312,"post_id":61853913,"comment_id":116084705,"body_markdown":"Is there any progress about this issue?","body":"Is there any progress about this issue?"}],"answers":[{"tags":[],"owner":{"account_id":7652793,"reputation":158,"user_id":5800859,"display_name":"Asendo"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1613548441,"creation_date":1613548441,"answer_id":66237763,"question_id":61853913,"body_markdown":"Open your project manifest file and remove this Lines\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    meta-data\r\n    android:name=flutterEmbedding\r\n    android:value=2\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n Then build and run it again.","title":"Flutter:MainActivity cannot be converted to FlutterEngine in Java Native code","body":"<p>Open your project manifest file and remove this Lines</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>meta-data\nandroid:name=flutterEmbedding\nandroid:value=2</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then build and run it again.</p>\n"},{"tags":[],"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1650805391,"creation_date":1650805391,"answer_id":71988673,"question_id":61853913,"body_markdown":"This happened to me when upgrading a repository from older flutter version to the newer one. I followed the official [flutter link][1] for the migration.\r\n\r\nI made appropriate changes on the android manifest file. Namely:\r\n\r\n 1. Remove ```android:name``` attribute from ```&lt;application&gt;``` tag\r\n 2. Change ```android:name``` of the single ```&lt;activity&gt;``` to  ```android:name=&quot;io.flutter.embedding.android.FlutterActivity&quot;```\r\n 3. Add ```&lt;meta-data android:name=&quot;flutterEmbedding&quot; android:value=&quot;2&quot;/&gt;``` as child of &lt;activity&gt; tag\r\n\r\nHowever, I didn&#39;t change any code on the ```MainActivity``` which caused the error. The ```MainActivity``` was using older imports which was incompatible with the above three changes.\r\n\r\nFinal manifest file:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;co.appbrewery.magic8ball&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;application\r\n        android:label=&quot;magic_8_ball&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;io.flutter.embedding.android.FlutterActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;meta-data android:name=&quot;flutterEmbedding&quot; android:value=&quot;2&quot;/&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;io.flutter.app.android.SplashScreenUntilFirstFrame&quot;\r\n                android:value=&quot;true&quot; /&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n\r\nDeleting the ```MainActivity``` resolved the issue for me.\r\n\r\n  [1]: https://github.com/flutter/flutter/wiki/Upgrading-pre-1.12-Android-projects","title":"Flutter:MainActivity cannot be converted to FlutterEngine in Java Native code","body":"<p>This happened to me when upgrading a repository from older flutter version to the newer one. I followed the official <a href=\"https://github.com/flutter/flutter/wiki/Upgrading-pre-1.12-Android-projects\" rel=\"noreferrer\">flutter link</a> for the migration.</p>\n<p>I made appropriate changes on the android manifest file. Namely:</p>\n<ol>\n<li>Remove <code>android:name</code> attribute from <code>&lt;application&gt;</code> tag</li>\n<li>Change <code>android:name</code> of the single <code>&lt;activity&gt;</code> to  <code>android:name=&quot;io.flutter.embedding.android.FlutterActivity&quot;</code></li>\n<li>Add <code>&lt;meta-data android:name=&quot;flutterEmbedding&quot; android:value=&quot;2&quot;/&gt;</code> as child of  tag</li>\n</ol>\n<p>However, I didn't change any code on the <code>MainActivity</code> which caused the error. The <code>MainActivity</code> was using older imports which was incompatible with the above three changes.</p>\n<p>Final manifest file:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;co.appbrewery.magic8ball&quot;&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;application\n    android:label=&quot;magic_8_ball&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n    &lt;activity\n        android:name=&quot;io.flutter.embedding.android.FlutterActivity&quot;\n        android:launchMode=&quot;singleTop&quot;\n        android:theme=&quot;@style/LaunchTheme&quot;\n        android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n        &lt;meta-data android:name=&quot;flutterEmbedding&quot; android:value=&quot;2&quot;/&gt;\n        &lt;meta-data\n            android:name=&quot;io.flutter.app.android.SplashScreenUntilFirstFrame&quot;\n            android:value=&quot;true&quot; /&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Deleting the <code>MainActivity</code> resolved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":6726194,"reputation":1070,"user_id":5326444,"display_name":"RITESH KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664441588,"creation_date":1664441588,"answer_id":73892801,"question_id":61853913,"body_markdown":"I have solved this problem with the following steps:\r\ngoto android-&gt; app-&gt; src-&gt; main-&gt; java-&gt; com-&gt; (your package)-&gt; MainActivity.java. Now comment this line: \r\n\r\n    public class MainActivity extends FlutterActivity {\r\n      /*@Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        GeneratedPluginRegistrant.registerWith(this);\r\n      }*/\r\n   }\r\nNow your MainActivity will look like this: \r\n\r\n    import io.flutter.embedding.android.FlutterActivity;\r\n    public class MainActivity extends FlutterActivity {\r\n    }","title":"Flutter:MainActivity cannot be converted to FlutterEngine in Java Native code","body":"<p>I have solved this problem with the following steps:\ngoto android-&gt; app-&gt; src-&gt; main-&gt; java-&gt; com-&gt; (your package)-&gt; MainActivity.java. Now comment this line:</p>\n<pre><code>public class MainActivity extends FlutterActivity {\n  /*@Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    GeneratedPluginRegistrant.registerWith(this);\n  }*/\n</code></pre>\n<p>}\nNow your MainActivity will look like this:</p>\n<pre><code>import io.flutter.embedding.android.FlutterActivity;\npublic class MainActivity extends FlutterActivity {\n}\n</code></pre>\n"}],"owner":{"account_id":17252917,"reputation":1266,"user_id":12492675,"display_name":"Simran Aswani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9677,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1664441588,"creation_date":1589727749,"question_id":61853913,"body_markdown":"I am trying to create a plugin for Flutter in Java. I am trying to pass the `Android activity` parameter in my main `Java` class.\r\n\r\nThis is my native code: \r\n\r\n    package com.example.trsurveys;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import android.app.Activity;\r\n    \r\n    import io.flutter.embedding.engine.plugins.FlutterPlugin;\r\n    import io.flutter.plugin.common.MethodCall;\r\n    import io.flutter.plugin.common.MethodChannel;\r\n    import io.flutter.plugin.common.MethodChannel.MethodCallHandler;\r\n    import io.flutter.plugin.common.MethodChannel.Result;\r\n    import io.flutter.plugin.common.PluginRegistry.Registrar;\r\n    \r\n    import theoremreach.com.theoremreach.TheoremReach;\r\n    \r\n    \r\n    public class TrsurveysPlugin implements FlutterPlugin, MethodCallHandler {\r\n      private MethodChannel channel;\r\n      private Registrar registrar;\r\n      private Activity activity;\r\n    \r\n      @Override\r\n      public void onAttachedToEngine(@NonNull FlutterPluginBinding flutterPluginBinding) {\r\n        channel = new MethodChannel(flutterPluginBinding.getFlutterEngine().getDartExecutor(), &quot;trsurveys&quot;);\r\n        channel.setMethodCallHandler(this);\r\n      }\r\n\r\n    When I try to debug my app it shows me the following errors\r\n\r\n        private TrsurveysPlugin(Activity activity) {\r\n            this.activity = activity;\r\n        }\r\n    \r\n      public static void registerWith(Registrar registrar) {\r\n        final MethodChannel channel = new MethodChannel(registrar.messenger(), &quot;trsurveys&quot;);\r\n        channel.setMethodCallHandler(new TrsurveysPlugin(registrar.activity()));\r\n      }\r\n    \r\n      @Override\r\n      public void onMethodCall(@NonNull MethodCall call, @NonNull Result result) {\r\n        if (call.method.equals(&quot;init&quot;)) {\r\n          String apiKey = call.argument(&quot;apiKey&quot;);\r\n          TheoremReach.initWithApiKeyAndUserIdAndActivityContext(apiKey, &quot;USER_ID&quot;, activity);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void onDetachedFromEngine(@NonNull FlutterPluginBinding binding) {\r\n        channel.setMethodCallHandler(null);\r\n      }\r\n    }\r\n     \r\nWhen I try to debug my app I get the following errors: \r\n\r\n    error: constructor TrsurveysPlugin in class TrsurveysPlugin cannot be applied to given types;\r\n        flutterEngine.getPlugins().add(new com.example.trsurveys.TrsurveysPlugin());\r\n                                       ^\r\n      required: Activity\r\n      found: no arguments\r\n      reason: actual and formal argument lists differ in length\r\n\r\n    ...path/Downloads/TheoremReach-error/example/android/app/src/main/java/com/example/trsurveys_example/MainActivity.java:11: error: incompatible types: MainActivity cannot be converted to FlutterEngine\r\n        GeneratedPluginRegistrant.registerWith(this);\r\n                                           ^\r\nThis is the code that appears in my `GeneratedPluginRegistrant.java` file. \r\n\r\n    package io.flutter.plugins;\r\n    \r\n    import androidx.annotation.Keep;\r\n    import androidx.annotation.NonNull;\r\n    \r\n    import io.flutter.embedding.engine.FlutterEngine;\r\n    \r\n    @Keep\r\n    public final class GeneratedPluginRegistrant {\r\n      public static void registerWith(@NonNull FlutterEngine flutterEngine) {\r\n        flutterEngine.getPlugins().add(new com.example.trsurveys.TrsurveysPlugin());\r\n      }\r\n    }\r\n\r\nWhile making the Plugin I have tried deleting the GeneratedPluginRegistrant.java file but every time it gets generated with the same configurations. ","title":"Flutter:MainActivity cannot be converted to FlutterEngine in Java Native code","body":"<p>I am trying to create a plugin for Flutter in Java. I am trying to pass the <code>Android activity</code> parameter in my main <code>Java</code> class.</p>\n\n<p>This is my native code: </p>\n\n<pre><code>package com.example.trsurveys;\n\nimport androidx.annotation.NonNull;\nimport android.app.Activity;\n\nimport io.flutter.embedding.engine.plugins.FlutterPlugin;\nimport io.flutter.plugin.common.MethodCall;\nimport io.flutter.plugin.common.MethodChannel;\nimport io.flutter.plugin.common.MethodChannel.MethodCallHandler;\nimport io.flutter.plugin.common.MethodChannel.Result;\nimport io.flutter.plugin.common.PluginRegistry.Registrar;\n\nimport theoremreach.com.theoremreach.TheoremReach;\n\n\npublic class TrsurveysPlugin implements FlutterPlugin, MethodCallHandler {\n  private MethodChannel channel;\n  private Registrar registrar;\n  private Activity activity;\n\n  @Override\n  public void onAttachedToEngine(@NonNull FlutterPluginBinding flutterPluginBinding) {\n    channel = new MethodChannel(flutterPluginBinding.getFlutterEngine().getDartExecutor(), \"trsurveys\");\n    channel.setMethodCallHandler(this);\n  }\n\nWhen I try to debug my app it shows me the following errors\n\n    private TrsurveysPlugin(Activity activity) {\n        this.activity = activity;\n    }\n\n  public static void registerWith(Registrar registrar) {\n    final MethodChannel channel = new MethodChannel(registrar.messenger(), \"trsurveys\");\n    channel.setMethodCallHandler(new TrsurveysPlugin(registrar.activity()));\n  }\n\n  @Override\n  public void onMethodCall(@NonNull MethodCall call, @NonNull Result result) {\n    if (call.method.equals(\"init\")) {\n      String apiKey = call.argument(\"apiKey\");\n      TheoremReach.initWithApiKeyAndUserIdAndActivityContext(apiKey, \"USER_ID\", activity);\n    }\n  }\n\n  @Override\n  public void onDetachedFromEngine(@NonNull FlutterPluginBinding binding) {\n    channel.setMethodCallHandler(null);\n  }\n}\n</code></pre>\n\n<p>When I try to debug my app I get the following errors: </p>\n\n<pre><code>error: constructor TrsurveysPlugin in class TrsurveysPlugin cannot be applied to given types;\n    flutterEngine.getPlugins().add(new com.example.trsurveys.TrsurveysPlugin());\n                                   ^\n  required: Activity\n  found: no arguments\n  reason: actual and formal argument lists differ in length\n\n...path/Downloads/TheoremReach-error/example/android/app/src/main/java/com/example/trsurveys_example/MainActivity.java:11: error: incompatible types: MainActivity cannot be converted to FlutterEngine\n    GeneratedPluginRegistrant.registerWith(this);\n                                       ^\n</code></pre>\n\n<p>This is the code that appears in my <code>GeneratedPluginRegistrant.java</code> file. </p>\n\n<pre><code>package io.flutter.plugins;\n\nimport androidx.annotation.Keep;\nimport androidx.annotation.NonNull;\n\nimport io.flutter.embedding.engine.FlutterEngine;\n\n@Keep\npublic final class GeneratedPluginRegistrant {\n  public static void registerWith(@NonNull FlutterEngine flutterEngine) {\n    flutterEngine.getPlugins().add(new com.example.trsurveys.TrsurveysPlugin());\n  }\n}\n</code></pre>\n\n<p>While making the Plugin I have tried deleting the GeneratedPluginRegistrant.java file but every time it gets generated with the same configurations. </p>\n"},{"tags":["java","sql","postgresql","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664441708,"post_id":73892799,"comment_id":130474163,"body_markdown":"`&#236;like` is not sql standard, so jpql/hql can&#39;t handle it. `like` should work but without array","body":"<code>&#236;like</code> is not sql standard, so jpql/hql can&#39;t handle it. <code>like</code> should work but without array"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1664441932,"post_id":73892799,"comment_id":130474260,"body_markdown":"Okay I am connected to a postgresql DB which obviously knows ILIKE. However when I switch it to LIKE it still does not work - i tells me that the unexpected Token is ARRAY. Is there a workaround? Can I use LIKE with multiple ORs ?","body":"Okay I am connected to a postgresql DB which obviously knows ILIKE. However when I switch it to LIKE it still does not work - i tells me that the unexpected Token is ARRAY. Is there a workaround? Can I use LIKE with multiple ORs ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1664442070,"post_id":73892799,"comment_id":130474306,"body_markdown":"Like can not be used with `ARRAY`. also `ARRAY` is not sql standard","body":"Like can not be used with <code>ARRAY</code>. also <code>ARRAY</code> is not sql standard"},{"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"score":0,"creation_date":1664442141,"post_id":73892799,"comment_id":130474328,"body_markdown":"@Jens Okay I think I can handle it with multiple LIKE statements.","body":"@Jens Okay I think I can handle it with multiple LIKE statements."}],"owner":{"account_id":15622172,"reputation":2020,"user_id":11270696,"display_name":"yesIamFaded"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664441576,"creation_date":1664441576,"question_id":73892799,"body_markdown":"Hello I have a problem with the execution of a Query inside Java using Hibernate.\r\n\r\nWhen I use this Query: \r\n\r\n\t\t\tQuery query = dbSession.createQuery(&quot;SELECT activitydate, userid, sum(time) as homeofficeTime FROM Hours AS hours &quot; + \r\n\t\t\t\t   &quot;WHERE (hours.comment ILIKE ANY(ARRAY[&#39;%homeoffice%&#39;, &#39;%home office%&#39;]) OR &quot; +\r\n\t\t\t\t            &quot;remark ILIKE ANY(ARRAY[&#39;%homeoffice%&#39;, &#39;%home office%&#39;])) AND &quot; +\r\n\t\t\t\t        &quot;hours.activitydate BETWEEN :from AND :to &quot; +\r\n\t\t\t\t            &quot;AND userid = :user &quot; +\r\n\t\t\t\t    &quot;GROUP BY activitydate, userid ORDER BY activitydate &quot;);\r\n\t\t\t\r\n\r\n\t\t\tquery.setLong(&quot;user&quot;, employee.getUserid());\r\n\t\t\tquery.setCalendar(&quot;from&quot;, from);\r\n\t\t\tquery.setCalendar(&quot;to&quot;, to);\r\n\r\nI get this Error: \r\n\r\n    org.hibernate.hql.ast.QuerySyntaxException: unexpected token: ILIKE near line 1, column 129 [SELECT activitydate, userid, sum(time) as homeofficeTime FROM com.thiesen.timesheet.sql.dbo.Hours AS hours WHERE (hours.comment ILIKE ANY(ARRAY[&#39;%homeoffice%&#39;, &#39;%home office%&#39;]) OR remark ILIKE ANY(ARRAY[&#39;%homeoffice%&#39;, &#39;%home office%&#39;])) AND hours.activitydate BETWEEN :from AND :to AND userid = :user GROUP BY activitydate, userid ORDER BY activitydate ]\r\n\r\nHowever when I use this Query: \r\n\r\n\t\t\tQuery query = dbSession.createQuery(&quot;SELECT activitydate, userid, sum(time) as homeofficeTime FROM Hours AS hours &quot; + \r\n\t\t\t\t\t   &quot;WHERE hours.comment = &#39;test Homeoffice tst&#39; AND &quot; +\r\n\t\t\t\t\t        &quot;hours.activitydate BETWEEN :from AND :to &quot; +\r\n\t\t\t\t\t            &quot;AND userid = :user &quot; +\r\n\t\t\t\t\t    &quot;GROUP BY activitydate, userid ORDER BY activitydate &quot;);\r\n\r\n\t\t\tquery.setLong(&quot;user&quot;, employee.getUserid());\r\n\t\t\tquery.setCalendar(&quot;from&quot;, from);\r\n\t\t\tquery.setCalendar(&quot;to&quot;, to);\r\n\r\nIt works and I get a Result back: `[[Ljava.lang.Object;@7221ae50]`\r\n\r\nBoth of the Query work if I test them inside Adminer and run the Querys there but for some Reason the first one wont work in my Project. Does Hibernate not know what to do with &quot;ILIKE&quot; or &quot;LIKE&quot; or the &quot;Array[]&quot; Part? ","title":"Java Hibernate Error org.hibernate.hql.ast.QuerySyntaxException: unexpected token","body":"<p>Hello I have a problem with the execution of a Query inside Java using Hibernate.</p>\n<p>When I use this Query:</p>\n<pre><code>        Query query = dbSession.createQuery(&quot;SELECT activitydate, userid, sum(time) as homeofficeTime FROM Hours AS hours &quot; + \n               &quot;WHERE (hours.comment ILIKE ANY(ARRAY['%homeoffice%', '%home office%']) OR &quot; +\n                        &quot;remark ILIKE ANY(ARRAY['%homeoffice%', '%home office%'])) AND &quot; +\n                    &quot;hours.activitydate BETWEEN :from AND :to &quot; +\n                        &quot;AND userid = :user &quot; +\n                &quot;GROUP BY activitydate, userid ORDER BY activitydate &quot;);\n        \n\n        query.setLong(&quot;user&quot;, employee.getUserid());\n        query.setCalendar(&quot;from&quot;, from);\n        query.setCalendar(&quot;to&quot;, to);\n</code></pre>\n<p>I get this Error:</p>\n<pre><code>org.hibernate.hql.ast.QuerySyntaxException: unexpected token: ILIKE near line 1, column 129 [SELECT activitydate, userid, sum(time) as homeofficeTime FROM com.thiesen.timesheet.sql.dbo.Hours AS hours WHERE (hours.comment ILIKE ANY(ARRAY['%homeoffice%', '%home office%']) OR remark ILIKE ANY(ARRAY['%homeoffice%', '%home office%'])) AND hours.activitydate BETWEEN :from AND :to AND userid = :user GROUP BY activitydate, userid ORDER BY activitydate ]\n</code></pre>\n<p>However when I use this Query:</p>\n<pre><code>        Query query = dbSession.createQuery(&quot;SELECT activitydate, userid, sum(time) as homeofficeTime FROM Hours AS hours &quot; + \n                   &quot;WHERE hours.comment = 'test Homeoffice tst' AND &quot; +\n                        &quot;hours.activitydate BETWEEN :from AND :to &quot; +\n                            &quot;AND userid = :user &quot; +\n                    &quot;GROUP BY activitydate, userid ORDER BY activitydate &quot;);\n\n        query.setLong(&quot;user&quot;, employee.getUserid());\n        query.setCalendar(&quot;from&quot;, from);\n        query.setCalendar(&quot;to&quot;, to);\n</code></pre>\n<p>It works and I get a Result back: <code>[[Ljava.lang.Object;@7221ae50]</code></p>\n<p>Both of the Query work if I test them inside Adminer and run the Querys there but for some Reason the first one wont work in my Project. Does Hibernate not know what to do with &quot;ILIKE&quot; or &quot;LIKE&quot; or the &quot;Array[]&quot; Part?</p>\n"},{"tags":["java","oracle11g","apache-poi","multipartform-data"],"comments":[{"owner":{"account_id":962895,"reputation":2547,"user_id":986846,"display_name":"Renats Stozkovs"},"score":0,"creation_date":1493747092,"post_id":43743594,"comment_id":74531045,"body_markdown":"Looks good. Are you having a problem? Please consider providing [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve) where you explain which part does / does not work","body":"Looks good. Are you having a problem? Please consider providing <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> where you explain which part does / does not work"},{"owner":{"account_id":8652805,"reputation":1100,"user_id":6477936,"accept_rate":9,"display_name":"Amit Gujarathi"},"score":0,"creation_date":1493747420,"post_id":43743594,"comment_id":74531222,"body_markdown":"I m having problem in the approach to insert data from this iteration to database.","body":"I m having problem in the approach to insert data from this iteration to database."}],"answers":[{"tags":[],"owner":{"account_id":962895,"reputation":2547,"user_id":986846,"display_name":"Renats Stozkovs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493747807,"creation_date":1493747807,"answer_id":43744309,"question_id":43743594,"body_markdown":"You will need your connection string, as well as a stored procedure that does the insert (and possibly returns a token or maybe a new unique identifier):\r\n\r\n\tString sp = &quot;{call spInsertRecord(?, ?)}&quot;;\r\n\ttry (Connection con = /* you get your connection here*/) {\r\n\t\tif (con != null) {\r\n\t\t\ttry (CallableStatement cStatement = con.prepareCall(sp)) {\r\n\t\t\t    if (currentCell.getCellTypeEnum() == CellType.STRING)\r\n\t\t\t\t\tcStatement.setLong(&quot;columnString&quot;, currentCell.getStringCellValue());\r\n\t\t\t\telse if (currentCell.getCellTypeEnum() == CellType.NUMERIC)\r\n\t\t\t\t\tcStatement.setLong(&quot;columnLong&quot;, currentCell.getNumericCellValue());\r\n\t\t\t\ttry (ResultSet rs = cStatement.executeQuery()) {\r\n\t\t\t\t\tif (rs != null) {\r\n\t\t\t\t\t    // do something with your return value if you have any\r\n\t\t\t\t\t\trs.close();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlog.error(&quot;Exception in myMethod: [ResultSet is null]&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcStatement.close();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlog.error(&quot;Exception in myMethod.getConnection(): [Connection is null]&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\nYou can find more on how to create Oracle connection [here](https://www.javatpoint.com/example-to-connect-to-the-oracle-database)","title":"Upload an excel file read the data from file and insert it into database using spring boot rest api","body":"<p>You will need your connection string, as well as a stored procedure that does the insert (and possibly returns a token or maybe a new unique identifier):</p>\n\n<pre><code>String sp = \"{call spInsertRecord(?, ?)}\";\ntry (Connection con = /* you get your connection here*/) {\n    if (con != null) {\n        try (CallableStatement cStatement = con.prepareCall(sp)) {\n            if (currentCell.getCellTypeEnum() == CellType.STRING)\n                cStatement.setLong(\"columnString\", currentCell.getStringCellValue());\n            else if (currentCell.getCellTypeEnum() == CellType.NUMERIC)\n                cStatement.setLong(\"columnLong\", currentCell.getNumericCellValue());\n            try (ResultSet rs = cStatement.executeQuery()) {\n                if (rs != null) {\n                    // do something with your return value if you have any\n                    rs.close();\n                } else {\n                    log.error(\"Exception in myMethod: [ResultSet is null]\");\n                }\n            }\n            cStatement.close();\n        }\n    } else {\n        log.error(\"Exception in myMethod.getConnection(): [Connection is null]\");\n    }\n\n}\n</code></pre>\n\n<p>You can find more on how to create Oracle connection <a href=\"https://www.javatpoint.com/example-to-connect-to-the-oracle-database\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":12254286,"reputation":306,"user_id":8943710,"display_name":"amit singh tomar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664441389,"creation_date":1664441389,"answer_id":73892765,"question_id":43743594,"body_markdown":"Here I am writing logic to read data row by row and check every cell value based on value populate DB Entity object to persist in your oracle DB.\r\n\r\n    private ProductEntity createAndPopulateEntity(Row recordRow,List&lt;BulkProductDetailResponse.ErrorDetail&gt; processingError) {\r\n        List&lt;String&gt; headerNames = Arrays.asList(&quot;Index&quot;, &quot;Prouduct&quot;, &quot;Time&quot;, &quot;Year&quot;);\r\n        DataFormatter dataFormatter = new DataFormatter();\r\n        int MANDATORY_FIELDS_INDEX_LIMIT = 3;\r\n        ProductEntity entity = new ProductEntity();\r\n        int cellCount = 0;\r\n        for (Cell cellData : recordRow) {\r\n            String cellValue = dataFormatter.formatCellValue(cellData);\r\n            if (cellCount &lt;= MANDATORY_FIELDS_INDEX_LIMIT) {\r\n                if (StringUtils.isNotEmpty(cellValue)) {\r\n                    switch (cellCount) {\r\n                        case 0:\r\n                            if (cellData.getCellType().equals(CellType.STRING)) {\r\n                                entity.setTitle(cellValue);\r\n                                cellCount++;\r\n                            } else {\r\n                                BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\r\n                                        .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value data type is not expected.&quot;);\r\n                                processingError.add(error);\r\n                                cellCount++;\r\n                            }\r\n                            continue;\r\n                        case 1:\r\n                            if (cellData.getCellType().equals(CellType.STRING)) {\r\n                                entity.setProductName(cellValue);\r\n                                cellCount++;\r\n                            } else {\r\n                                BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\r\n                                        .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value data type is not expected.&quot;);\r\n                                processingError.add(error);\r\n                                cellCount++;\r\n                            }\r\n                            continue;\r\n                        case 2:\r\n                            if (cellData.getCellType().equals(CellType.STRING)) {\r\n                                entity.setPeriod(cellValue);\r\n                                cellCount++;\r\n                            } else {\r\n                                BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\r\n                                        .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value data type is not expected.&quot;);\r\n                                processingError.add(error);\r\n                                cellCount++;\r\n                            }\r\n                            continue;\r\n                        case 3:\r\n                            if (cellData.getCellType().equals(CellType.NUMERIC)) {\r\n                                entity.setYear(Integer.parseInt(cellValue));\r\n                                cellCount++;\r\n                            } else {\r\n                                BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\r\n                                        .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value data type is not expected.&quot;);\r\n                                processingError.add(error);\r\n                                cellCount++;\r\n                            }\r\n                            continue;\r\n\r\n                    }\r\n\r\n                } else {\r\n                    log.debug(&quot;Column value can not be blank for column:[&quot; + headerNames.get(cellCount) + &quot;].&quot;);\r\n                    BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\r\n                            .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value can not be blank for \\&quot;CPI\\&quot;, \\&quot;Portfolio\\&quot;, \\&quot;Time Period\\&quot; and \\&quot;Year\\&quot;.&quot;);\r\n                    processingError.add(error);\r\n                    cellCount++;\r\n                    continue;\r\n                }\r\n            } \r\n        }\r\n        return entity;\r\n    }","title":"Upload an excel file read the data from file and insert it into database using spring boot rest api","body":"<p>Here I am writing logic to read data row by row and check every cell value based on value populate DB Entity object to persist in your oracle DB.</p>\n<pre><code>private ProductEntity createAndPopulateEntity(Row recordRow,List&lt;BulkProductDetailResponse.ErrorDetail&gt; processingError) {\n    List&lt;String&gt; headerNames = Arrays.asList(&quot;Index&quot;, &quot;Prouduct&quot;, &quot;Time&quot;, &quot;Year&quot;);\n    DataFormatter dataFormatter = new DataFormatter();\n    int MANDATORY_FIELDS_INDEX_LIMIT = 3;\n    ProductEntity entity = new ProductEntity();\n    int cellCount = 0;\n    for (Cell cellData : recordRow) {\n        String cellValue = dataFormatter.formatCellValue(cellData);\n        if (cellCount &lt;= MANDATORY_FIELDS_INDEX_LIMIT) {\n            if (StringUtils.isNotEmpty(cellValue)) {\n                switch (cellCount) {\n                    case 0:\n                        if (cellData.getCellType().equals(CellType.STRING)) {\n                            entity.setTitle(cellValue);\n                            cellCount++;\n                        } else {\n                            BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\n                                    .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value data type is not expected.&quot;);\n                            processingError.add(error);\n                            cellCount++;\n                        }\n                        continue;\n                    case 1:\n                        if (cellData.getCellType().equals(CellType.STRING)) {\n                            entity.setProductName(cellValue);\n                            cellCount++;\n                        } else {\n                            BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\n                                    .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value data type is not expected.&quot;);\n                            processingError.add(error);\n                            cellCount++;\n                        }\n                        continue;\n                    case 2:\n                        if (cellData.getCellType().equals(CellType.STRING)) {\n                            entity.setPeriod(cellValue);\n                            cellCount++;\n                        } else {\n                            BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\n                                    .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value data type is not expected.&quot;);\n                            processingError.add(error);\n                            cellCount++;\n                        }\n                        continue;\n                    case 3:\n                        if (cellData.getCellType().equals(CellType.NUMERIC)) {\n                            entity.setYear(Integer.parseInt(cellValue));\n                            cellCount++;\n                        } else {\n                            BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\n                                    .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value data type is not expected.&quot;);\n                            processingError.add(error);\n                            cellCount++;\n                        }\n                        continue;\n\n                }\n\n            } else {\n                log.debug(&quot;Column value can not be blank for column:[&quot; + headerNames.get(cellCount) + &quot;].&quot;);\n                BulkProductDetailResponse.ErrorDetail error = new BulkProductDetailResponse\n                        .ErrorDetail(BulkProductDetailResponse.ValidationsType.INVALID_VALUES.getValue(), cellData.getRowIndex(), &quot;Column:[&quot; + headerNames.get(cellCount) + &quot;] value can not be blank for \\&quot;CPI\\&quot;, \\&quot;Portfolio\\&quot;, \\&quot;Time Period\\&quot; and \\&quot;Year\\&quot;.&quot;);\n                processingError.add(error);\n                cellCount++;\n                continue;\n            }\n        } \n    }\n    return entity;\n}\n</code></pre>\n"}],"owner":{"account_id":8652805,"reputation":1100,"user_id":6477936,"accept_rate":9,"display_name":"Amit Gujarathi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664441389,"creation_date":1493744924,"question_id":43743594,"body_markdown":"**I want to develope an rest api which will take excel sheet as an multipart object read the content in the file and upload it to the oracle database.**\r\nuntill now what i did is:\r\n\r\n\r\n \r\n\r\n       @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST, consumes = javax.ws.rs.core.MediaType.MULTIPART_FORM_DATA)\r\n        public void uploadFileHandler(@RequestParam(&quot;name&quot;) String name,\r\n                                     @RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n            try {\r\n    \r\n                ExcelController ex=new ExcelController();\r\n                File f1=ex.convert(file);\r\n                FileInputStream excelFile = new FileInputStream(f1);\r\n                Workbook workbook = new XSSFWorkbook(excelFile);\r\n                Sheet datatypeSheet = workbook.getSheetAt(0);\r\n                Iterator&lt;Row&gt; iterator = datatypeSheet.iterator();\r\n    \r\n                while (iterator.hasNext()) {\r\n    \r\n                    Row currentRow = iterator.next();\r\n                    Iterator&lt;Cell&gt; cellIterator = currentRow.iterator();\r\n    \r\n                    while (cellIterator.hasNext()) {\r\n    \r\n                        Cell currentCell = cellIterator.next();\r\n                        //getCellTypeEnum shown as deprecated for version 3.15\r\n                        //getCellTypeEnum ill be renamed to getCellType starting from version 4.0\r\n                        if (currentCell.getCellTypeEnum() == CellType.STRING) {\r\n                            System.out.print(currentCell.getStringCellValue() + &quot;--&quot;);\r\n                        } else if (currentCell.getCellTypeEnum() == CellType.NUMERIC) {\r\n                            System.out.print(currentCell.getNumericCellValue() + &quot;--&quot;);\r\n                        }\r\n    \r\n                    }\r\n                    System.out.println();\r\n    \r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n**Dependency:**\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThanks in advance.","title":"Upload an excel file read the data from file and insert it into database using spring boot rest api","body":"<p><strong>I want to develope an rest api which will take excel sheet as an multipart object read the content in the file and upload it to the oracle database.</strong>\nuntill now what i did is:</p>\n\n<pre><code>   @RequestMapping(value = \"/upload\", method = RequestMethod.POST, consumes = javax.ws.rs.core.MediaType.MULTIPART_FORM_DATA)\n    public void uploadFileHandler(@RequestParam(\"name\") String name,\n                                 @RequestParam(\"file\") MultipartFile file) throws IOException {\n        try {\n\n            ExcelController ex=new ExcelController();\n            File f1=ex.convert(file);\n            FileInputStream excelFile = new FileInputStream(f1);\n            Workbook workbook = new XSSFWorkbook(excelFile);\n            Sheet datatypeSheet = workbook.getSheetAt(0);\n            Iterator&lt;Row&gt; iterator = datatypeSheet.iterator();\n\n            while (iterator.hasNext()) {\n\n                Row currentRow = iterator.next();\n                Iterator&lt;Cell&gt; cellIterator = currentRow.iterator();\n\n                while (cellIterator.hasNext()) {\n\n                    Cell currentCell = cellIterator.next();\n                    //getCellTypeEnum shown as deprecated for version 3.15\n                    //getCellTypeEnum ill be renamed to getCellType starting from version 4.0\n                    if (currentCell.getCellTypeEnum() == CellType.STRING) {\n                        System.out.print(currentCell.getStringCellValue() + \"--\");\n                    } else if (currentCell.getCellTypeEnum() == CellType.NUMERIC) {\n                        System.out.print(currentCell.getNumericCellValue() + \"--\");\n                    }\n\n                }\n                System.out.println();\n\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p><strong>Dependency:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":2,"creation_date":1664440169,"post_id":73892445,"comment_id":130473600,"body_markdown":"I copied your code to a new Spring boot project, but I can&#39;t reproduce this. Do you have some interceptors/filters running that might cause the duplication?","body":"I copied your code to a new Spring boot project, but I can&#39;t reproduce this. Do you have some interceptors/filters running that might cause the duplication?"},{"owner":{"account_id":18738827,"reputation":979,"user_id":13662507,"display_name":"Kaita John"},"score":0,"creation_date":1664440824,"post_id":73892445,"comment_id":130473838,"body_markdown":"@g00glen00b I have edited my answer with the filters I pass","body":"@g00glen00b I have edited my answer with the filters I pass"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":1,"creation_date":1664441051,"post_id":73892445,"comment_id":130473912,"body_markdown":"The `{}{}` json result you got would be an invalid value. Seems to be more like a visual bug.\nHave you verified that CLI GET-requests or requesting the API on a browser is getting the same result? And what is the answer if you add some data to the response map called` fullObject`? Still redundant json shown?","body":"The <code>{}{}</code> json result you got would be an invalid value. Seems to be more like a visual bug. Have you verified that CLI GET-requests or requesting the API on a browser is getting the same result? And what is the answer if you add some data to the response map called` fullObject`? Still redundant json shown?"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664441118,"creation_date":1664441118,"answer_id":73892716,"question_id":73892445,"body_markdown":"In your `JwtTokenVerifier` you call `filterChain.doFilter(request, response)` multiple times. For example, you call it both in the try/catch and outside:\r\n\r\n```java\r\ntry {\r\n    // ...\r\n    // Called here\r\n    filterChain.doFilter(request, response);\r\n\r\n} catch (IllegalStateException e) {\r\n    throw new IllegalStateException(String.format(&quot;Token %s cannot be trusted&quot;, token));\r\n}\r\n\r\n// And here\r\nfilterChain.doFilter(request, response);\r\n```\r\n\r\nThe solution is to refactor your code so that it&#39;s only calling the `filterChain.doFilter(request, response)` statement once.\r\n\r\nP.S. You also call `filterChain.doFilter(request, response)` in the if-statements at the top of your logic. So for the `/login` or `/token/refresh` endpoint, the response might be tripled.","title":"Duplicate Json in Spring Boot Response","body":"<p>In your <code>JwtTokenVerifier</code> you call <code>filterChain.doFilter(request, response)</code> multiple times. For example, you call it both in the try/catch and outside:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // ...\n    // Called here\n    filterChain.doFilter(request, response);\n\n} catch (IllegalStateException e) {\n    throw new IllegalStateException(String.format(&quot;Token %s cannot be trusted&quot;, token));\n}\n\n// And here\nfilterChain.doFilter(request, response);\n</code></pre>\n<p>The solution is to refactor your code so that it's only calling the <code>filterChain.doFilter(request, response)</code> statement once.</p>\n<p>P.S. You also call <code>filterChain.doFilter(request, response)</code> in the if-statements at the top of your logic. So for the <code>/login</code> or <code>/token/refresh</code> endpoint, the response might be tripled.</p>\n"}],"owner":{"account_id":18738827,"reputation":979,"user_id":13662507,"display_name":"Kaita John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73892716,"answer_count":1,"score":0,"last_activity_date":1664441118,"creation_date":1664439744,"question_id":73892445,"body_markdown":"I have a RestController class with a method that returns duplicate json. Weird thing is when I pass a string to the response object. The Json is okay. However when I pass any other object, be it a list, hashmap etc. I get the json duplicated. Am checking the response in PostMan.\r\n\r\n   Sample Code sending correct response with string.\r\n\r\n \r\n    \r\n        @RequestMapping(value = &quot;test&quot;, method = RequestMethod.GET)\r\n        public ResponseEntity&lt;?&gt; test() {\r\n            return ResponseEntity\r\n                    .ok().\r\n                    body(&quot;My test string&quot;);\r\n        }\r\n\r\nOutput\r\n[![enter image description here][1]][1]\r\n\r\n\r\nCode sending duplicate Json with HashMap or any Model\r\n\r\n    @RequestMapping(value = &quot;test&quot;, method = RequestMethod.GET)\r\n        public ResponseEntity&lt;?&gt; test() {\r\n            HashMap&lt;String, Object&gt; fullObject = new HashMap&lt;String, Object&gt;();\r\n            return ResponseEntity\r\n                    .ok().\r\n                    body(fullObject);\r\n        }\r\n\r\nThe response I get\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IXhD9.png\r\n  [2]: https://i.stack.imgur.com/4iomx.png\r\n\r\nHere is my security config where I pass a few filters during authentication.\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final JwtConfig jwtConfig;\r\n    \r\n        private final PasswordEncoder passwordEncoder;\r\n        private final ApplicationUserService applicationUserService;\r\n    \r\n        @Autowired\r\n        public ApplicationSecurityConfig(PasswordEncoder passwordEncoder, ApplicationUserService applicationUserService, JwtConfig jwtConfig) {\r\n            this.applicationUserService = applicationUserService;\r\n            this.passwordEncoder = passwordEncoder;\r\n            this.jwtConfig = jwtConfig;\r\n        }\r\n    \r\n    \r\n        //JWT AUTHENTICATION\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager(),jwtConfig))\r\n                    .addFilterAfter(new JwtTokenVerifier(jwtConfig), JwtUsernameAndPasswordAuthenticationFilter.class)\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;, &quot;/h2/**&quot;,&quot;/login&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;, &quot;/token/refresh&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n                    .antMatchers(HttpMethod.DELETE, &quot;/management/api/**&quot;).hasAuthority(COURSE_WRITE.getPermission())\r\n                    .antMatchers(HttpMethod.POST, &quot;/management/api/**&quot;).hasAuthority(COURSE_WRITE.getPermission())\r\n                    .antMatchers(HttpMethod.PUT, &quot;/management/api/**&quot;).hasAuthority(COURSE_WRITE.getPermission())\r\n                    .antMatchers(&quot;/management/api/**&quot;).hasAnyRole(ADMIN.name(), ADMINTRAINEE.name())\r\n                    .anyRequest()\r\n                    .authenticated();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n            provider.setPasswordEncoder(passwordEncoder);\r\n            provider.setUserDetailsService(applicationUserService);\r\n            return provider;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(daoAuthenticationProvider());\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nMy JWTTokenVerifier\r\n\r\n    public class JwtTokenVerifier extends OncePerRequestFilter {\r\n    \r\n        private final JwtConfig jwtConfig;\r\n    \r\n        public JwtTokenVerifier(JwtConfig jwtConfig) {\r\n            this.jwtConfig = jwtConfig;\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            if (request.getServletPath().equals(&quot;/login&quot;) || request.getServletPath().equals(&quot;/token/refresh&quot;)) {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n    \r\n            String authorizationHeader = request.getHeader(jwtConfig.getAuthorizationHeader());\r\n    \r\n            if (Strings.isNullOrEmpty(authorizationHeader) || !authorizationHeader.startsWith(jwtConfig.getTokenPrefix())) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n    \r\n            String token = authorizationHeader.replace(jwtConfig.getTokenPrefix(), &quot;&quot;);\r\n    \r\n    \r\n            try {\r\n    \r\n                Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n                JWTVerifier verifier = JWT.require(algorithm).build();\r\n                DecodedJWT decodedJWT = verifier.verify(token);\r\n    \r\n                String username = decodedJWT.getSubject();\r\n                String[] roles = decodedJWT.getClaim(&quot;authorities&quot;).asArray(String.class);\r\n                Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n                stream(roles).forEach(role -&gt; {\r\n                    authorities.add(new SimpleGrantedAuthority(role));\r\n                });\r\n    \r\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n    \r\n                filterChain.doFilter(request, response);\r\n    \r\n            } catch (IllegalStateException e) {\r\n                throw new IllegalStateException(String.format(&quot;Token %s cannot be trusted&quot;, token));\r\n            }\r\n    \r\n            filterChain.doFilter(request, response);\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nMy JWTUsernameandpassword \r\n\r\n    public class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    \r\n        private final AuthenticationManager authenticationManager;\r\n        private final JwtConfig jwtConfig;\r\n    \r\n        public JwtUsernameAndPasswordAuthenticationFilter(AuthenticationManager authenticationManager,\r\n                                                          JwtConfig jwtConfig) {\r\n            this.authenticationManager = authenticationManager;\r\n            this.jwtConfig = jwtConfig;\r\n        }\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request,\r\n                                                    HttpServletResponse response) throws AuthenticationException {\r\n    \r\n            try {\r\n                UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper()\r\n                        .readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\r\n    \r\n                Authentication authentication = new UsernamePasswordAuthenticationToken(\r\n                        authenticationRequest.getUsername(),\r\n                        authenticationRequest.getPassword()\r\n                );\r\n    \r\n                Authentication authenticate = authenticationManager.authenticate(authentication);\r\n                return authenticate;\r\n    \r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n    \r\n           /* String access_token = Jwts.builder()\r\n                    .setSubject(authResult.getName())\r\n                    .claim(&quot;authorities&quot;, authResult.getAuthorities())\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusDays(jwtConfig.getTokenExpirationAfterDays())))\r\n                    .signWith(secretKey)\r\n                    .compact();\r\n    \r\n            String refresh_token = Jwts.builder()\r\n                    .setSubject(authResult.getName())\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusDays(jwtConfig.getRefreshTokenExpirationAfterDays())))\r\n                    .signWith(secretKey)\r\n                    .compact();*/\r\n    \r\n            Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n            String access_token = JWT.create()\r\n                    .withSubject(authResult.getName())\r\n                    .withExpiresAt(new Date(System.currentTimeMillis() + 10 * 6000 * 1000))\r\n                    .withIssuer(request.getRequestURL().toString())\r\n                    .withClaim(&quot;authorities&quot;, authResult.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n                    .sign(algorithm);\r\n    \r\n            String refresh_token = JWT.create()\r\n                    .withSubject(authResult.getName())\r\n                    .withExpiresAt(new Date(System.currentTimeMillis() + 30 * 60 * 1000))\r\n                    .withIssuer(request.getRequestURL().toString())\r\n                    .sign(algorithm);\r\n    \r\n    //        response.addHeader(jwtConfig.getAuthorizationHeader(), jwtConfig.getTokenPrefix() + access_token);\r\n    //        response.setHeader(&quot;jwt_access&quot;, jwtConfig.getTokenPrefix() + access_token);\r\n    //        response.setHeader(&quot;jwt_refresh&quot;, jwtConfig.getTokenPrefix() + refresh_token);\r\n    \r\n            Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\r\n            tokens.put(&quot;access_token&quot;, jwtConfig.getTokenPrefix() + access_token);\r\n            tokens.put(&quot;refresh_token&quot;, refresh_token);\r\n            response.setContentType(APPLICATION_JSON_VALUE); //&quot;application/json&quot;\r\n            new ObjectMapper().writeValue(response.getOutputStream(), tokens);\r\n    \r\n        }\r\n    }","title":"Duplicate Json in Spring Boot Response","body":"<p>I have a RestController class with a method that returns duplicate json. Weird thing is when I pass a string to the response object. The Json is okay. However when I pass any other object, be it a list, hashmap etc. I get the json duplicated. Am checking the response in PostMan.</p>\n<p>Sample Code sending correct response with string.</p>\n<pre><code>    @RequestMapping(value = &quot;test&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;?&gt; test() {\n        return ResponseEntity\n                .ok().\n                body(&quot;My test string&quot;);\n    }\n</code></pre>\n<p>Output\n<a href=\"https://i.stack.imgur.com/IXhD9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IXhD9.png\" alt=\"enter image description here\" /></a></p>\n<p>Code sending duplicate Json with HashMap or any Model</p>\n<pre><code>@RequestMapping(value = &quot;test&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;?&gt; test() {\n        HashMap&lt;String, Object&gt; fullObject = new HashMap&lt;String, Object&gt;();\n        return ResponseEntity\n                .ok().\n                body(fullObject);\n    }\n</code></pre>\n<p>The response I get</p>\n<p><a href=\"https://i.stack.imgur.com/4iomx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4iomx.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my security config where I pass a few filters during authentication.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final JwtConfig jwtConfig;\n\n    private final PasswordEncoder passwordEncoder;\n    private final ApplicationUserService applicationUserService;\n\n    @Autowired\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder, ApplicationUserService applicationUserService, JwtConfig jwtConfig) {\n        this.applicationUserService = applicationUserService;\n        this.passwordEncoder = passwordEncoder;\n        this.jwtConfig = jwtConfig;\n    }\n\n\n    //JWT AUTHENTICATION\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager(),jwtConfig))\n                .addFilterAfter(new JwtTokenVerifier(jwtConfig), JwtUsernameAndPasswordAuthenticationFilter.class)\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;, &quot;/h2/**&quot;,&quot;/login&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;, &quot;/token/refresh&quot;).permitAll()\n                .antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n                .antMatchers(HttpMethod.DELETE, &quot;/management/api/**&quot;).hasAuthority(COURSE_WRITE.getPermission())\n                .antMatchers(HttpMethod.POST, &quot;/management/api/**&quot;).hasAuthority(COURSE_WRITE.getPermission())\n                .antMatchers(HttpMethod.PUT, &quot;/management/api/**&quot;).hasAuthority(COURSE_WRITE.getPermission())\n                .antMatchers(&quot;/management/api/**&quot;).hasAnyRole(ADMIN.name(), ADMINTRAINEE.name())\n                .anyRequest()\n                .authenticated();\n    }\n\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n\n}\n</code></pre>\n<p>My JWTTokenVerifier</p>\n<pre><code>public class JwtTokenVerifier extends OncePerRequestFilter {\n\n    private final JwtConfig jwtConfig;\n\n    public JwtTokenVerifier(JwtConfig jwtConfig) {\n        this.jwtConfig = jwtConfig;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        if (request.getServletPath().equals(&quot;/login&quot;) || request.getServletPath().equals(&quot;/token/refresh&quot;)) {\n            filterChain.doFilter(request, response);\n        }\n\n        String authorizationHeader = request.getHeader(jwtConfig.getAuthorizationHeader());\n\n        if (Strings.isNullOrEmpty(authorizationHeader) || !authorizationHeader.startsWith(jwtConfig.getTokenPrefix())) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        String token = authorizationHeader.replace(jwtConfig.getTokenPrefix(), &quot;&quot;);\n\n\n        try {\n\n            Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n            JWTVerifier verifier = JWT.require(algorithm).build();\n            DecodedJWT decodedJWT = verifier.verify(token);\n\n            String username = decodedJWT.getSubject();\n            String[] roles = decodedJWT.getClaim(&quot;authorities&quot;).asArray(String.class);\n            Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n            stream(roles).forEach(role -&gt; {\n                authorities.add(new SimpleGrantedAuthority(role));\n            });\n\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, null, authorities);\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n\n            filterChain.doFilter(request, response);\n\n        } catch (IllegalStateException e) {\n            throw new IllegalStateException(String.format(&quot;Token %s cannot be trusted&quot;, token));\n        }\n\n        filterChain.doFilter(request, response);\n\n    }\n\n\n}\n</code></pre>\n<p>My JWTUsernameandpassword</p>\n<pre><code>public class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final AuthenticationManager authenticationManager;\n    private final JwtConfig jwtConfig;\n\n    public JwtUsernameAndPasswordAuthenticationFilter(AuthenticationManager authenticationManager,\n                                                      JwtConfig jwtConfig) {\n        this.authenticationManager = authenticationManager;\n        this.jwtConfig = jwtConfig;\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request,\n                                                HttpServletResponse response) throws AuthenticationException {\n\n        try {\n            UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper()\n                    .readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\n\n            Authentication authentication = new UsernamePasswordAuthenticationToken(\n                    authenticationRequest.getUsername(),\n                    authenticationRequest.getPassword()\n            );\n\n            Authentication authenticate = authenticationManager.authenticate(authentication);\n            return authenticate;\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n\n       /* String access_token = Jwts.builder()\n                .setSubject(authResult.getName())\n                .claim(&quot;authorities&quot;, authResult.getAuthorities())\n                .setIssuedAt(new Date())\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusDays(jwtConfig.getTokenExpirationAfterDays())))\n                .signWith(secretKey)\n                .compact();\n\n        String refresh_token = Jwts.builder()\n                .setSubject(authResult.getName())\n                .setIssuedAt(new Date())\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusDays(jwtConfig.getRefreshTokenExpirationAfterDays())))\n                .signWith(secretKey)\n                .compact();*/\n\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n        String access_token = JWT.create()\n                .withSubject(authResult.getName())\n                .withExpiresAt(new Date(System.currentTimeMillis() + 10 * 6000 * 1000))\n                .withIssuer(request.getRequestURL().toString())\n                .withClaim(&quot;authorities&quot;, authResult.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n                .sign(algorithm);\n\n        String refresh_token = JWT.create()\n                .withSubject(authResult.getName())\n                .withExpiresAt(new Date(System.currentTimeMillis() + 30 * 60 * 1000))\n                .withIssuer(request.getRequestURL().toString())\n                .sign(algorithm);\n\n//        response.addHeader(jwtConfig.getAuthorizationHeader(), jwtConfig.getTokenPrefix() + access_token);\n//        response.setHeader(&quot;jwt_access&quot;, jwtConfig.getTokenPrefix() + access_token);\n//        response.setHeader(&quot;jwt_refresh&quot;, jwtConfig.getTokenPrefix() + refresh_token);\n\n        Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\n        tokens.put(&quot;access_token&quot;, jwtConfig.getTokenPrefix() + access_token);\n        tokens.put(&quot;refresh_token&quot;, refresh_token);\n        response.setContentType(APPLICATION_JSON_VALUE); //&quot;application/json&quot;\n        new ObjectMapper().writeValue(response.getOutputStream(), tokens);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1664193712,"post_id":73831127,"comment_id":130407899,"body_markdown":"What are you trying to do exactly? You are not calling any persist method for storing the changed entity.","body":"What are you trying to do exactly? You are not calling any persist method for storing the changed entity."}],"answers":[{"tags":[],"owner":{"account_id":26308422,"reputation":126,"user_id":19972444,"display_name":"Neos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664335157,"creation_date":1664335157,"answer_id":73875861,"question_id":73831127,"body_markdown":"as far as i understand your changes are only commited when you log out . \r\njust try to synchronize and commit any modification at the right time and it would be safer that you manage sessions and transactions at the same time so you don&#39;t get any sort of incoherence when you do that.  then tell me about the results  .\r\n","title":"Data doesn&#39;t update immediately after changes in tables","body":"<p>as far as i understand your changes are only commited when you log out .\njust try to synchronize and commit any modification at the right time and it would be safer that you manage sessions and transactions at the same time so you don't get any sort of incoherence when you do that.  then tell me about the results  .</p>\n"},{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664440954,"creation_date":1664440954,"answer_id":73892675,"question_id":73831127,"body_markdown":"1. Check whether CTRL+F5 in your browser (force cache clearance) updates your data similarly to logging out and back in. If so, it&#39;s a question of cached information. (this and (3) may occur at the same time)\r\n\r\n2. Alternatively ... or perhaps complementarly ... your data fetch reqeust may be called before the database update/commit operation is completed. If so, it should become evident if you run distinct update and show routines. i.e. turn A into B, then into C, and you&#39;d get something like B when you&#39;re expecting C... A instead of B... etc.\r\n\r\n3. Lastly, depending on how you set up your back end, it is possible that you only populate whatever form you use for the front end exactly once, instead of dynamically querying the database whenever you access that form.","title":"Data doesn&#39;t update immediately after changes in tables","body":"<ol>\n<li><p>Check whether CTRL+F5 in your browser (force cache clearance) updates your data similarly to logging out and back in. If so, it's a question of cached information. (this and (3) may occur at the same time)</p>\n</li>\n<li><p>Alternatively ... or perhaps complementarly ... your data fetch reqeust may be called before the database update/commit operation is completed. If so, it should become evident if you run distinct update and show routines. i.e. turn A into B, then into C, and you'd get something like B when you're expecting C... A instead of B... etc.</p>\n</li>\n<li><p>Lastly, depending on how you set up your back end, it is possible that you only populate whatever form you use for the front end exactly once, instead of dynamically querying the database whenever you access that form.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1664440954,"creation_date":1663954025,"question_id":73831127,"body_markdown":"I&#39;ve recently tried to implement Spring Security into my web store project to distinguish between single users. Websites are working properly except there is one issue which I can&#39;t track to resolve. I have object called ```Customer``` within ```User``` class. ```Customer``` object has fields like ```id```, ```balance```, etc., and ```User``` has ```OneToOne``` relationship to ```Customer```, so I can have single object for credentials and foreign key to specifics of user - his first name, last name, balance, owned products, etc.\r\n\r\nI also have ```Product``` class which has ```ManyToOne``` relationship with ```Customer```. It has its&#39; own ```id```, ```productCost```, etc.\r\n\r\nI&#39;m using Spring MVC to take care of proper URL dispatching. When some action is taken, I&#39;m using ```@AuthenticationPrincipal``` annotation to get currently logged ```Customer``` (through foreign key in ```User```) and modify data regarding ```Customer``` linked with that foreign key.\r\n\r\nWhen I modify ```Customer``` data through ```@AuthenticationPrincipal``` in controller, changes are immediate and they show up on website. But when I try to modify data through some DAO, for example by searching for ```Customer``` through ```id``` or try to get ```Customer``` that owns ```Product``` from ```Product``` getter (```ManyToOne``` has reference to owning ```Customer```), changes are not immediate. Database updates itself immediately and properly, like in first case, but collections in code and website state are not changed **until** I logout and login again - that&#39;s when data is updated. I suspect it may be due to fact that updating ```UserDetails``` updates data directly for currently logged user but then - how may I achieve same effect for `Customer` found by `id`?\r\n\r\nSnippets of code:\r\nUsers.java:\r\n```\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\npublic class Users {\r\n\t\r\n\t@Id\r\n\t@Column(name=&quot;username&quot;)\r\n\tprivate String username;\r\n\t\r\n\t@Column(name=&quot;password&quot;)\r\n\tprivate String password;\r\n\t\r\n\t@Column(name=&quot;enabled&quot;)\r\n\tprivate boolean isActive;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;user&quot;)\r\n\tprivate Set&lt;Authorities&gt; authorities;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name=&quot;customer_id&quot;)\r\n\tprivate Customer customer;\r\n```\r\nProduct.java:\r\n```\r\n@Entity\r\n@Table(name=&quot;product&quot;)\r\npublic class Product {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;name&quot;)\r\n\tprivate String productName;\r\n\t\r\n\t@Column(name=&quot;description&quot;)\r\n\tprivate String productDescription;\r\n\t\r\n\t@Column(name=&quot;category&quot;)\r\n\tprivate String productCategory;\r\n\t\r\n\t@Column(name=&quot;cost&quot;)\r\n\tprivate int productCost;\r\n\t\r\n\t@ManyToOne(fetch=FetchType.EAGER)\r\n\t@JoinColumn(name=&quot;owner_id&quot;)\r\n\tprivate Customer productOwner;\r\n```\r\nCustomer.java:\r\n```\r\n@Entity\r\n@Table(name=&quot;customer&quot;)\r\npublic class Customer {\r\n\r\n\t//Class fields\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;balance&quot;)\r\n\tprivate int balance;\r\n\t\r\n\t@Column(name=&quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\t\r\n\t@Column(name=&quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name=&quot;email&quot;)\r\n\tprivate String email;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;productOwner&quot;, fetch=FetchType.EAGER)\r\n\tprivate List&lt;Product&gt; ownedProducts;\r\n```\r\n\r\n\r\nPiece of controller code:\r\n```\r\n@Autowired\r\n\tCustomerService customerService;\r\n\t\r\n\t@Autowired\r\n\tProductService productService;\r\n/*(...)*/\r\n@GetMapping(&quot;/showOffer/{offerId}&quot;)\r\n\tpublic String getOffer(@PathVariable int offerId, Model theModel, @AuthenticationPrincipal MyUserDetails user) {\r\n\t\tProduct retrievedProduct = productService.findById(offerId);\r\n\t\tif (user.getCustomer().getBalance() &gt;= retrievedProduct.getProductCost())\r\n\t\t{\r\n\t\t\tCustomer retrievedProductOwner = retrievedProduct.getProductOwner();\r\n/* This is where changes aren&#39;t applied immediately and I need to logout and login to process them. */\r\n            retrievedProductOwner.setBalance(1000);\r\n/* This is where changes are immediately shown and Java collections are updated: */\r\n\t\t\tuser.getCustomer().setBalance(user.getCustomer().getBalance()-retrievedProduct.getProductCost());\r\n/* Code below is an attempt to force immediate changes by updating collections directly from database - but that approach doesn&#39;t work */\r\n\t\t\tproductService.delete(retrievedProduct.getId());\r\n\t\t\tretrievedProduct.getProductOwner().getOwnedProducts().clear();\r\n\t\t\tretrievedProduct.getProductOwner().setOwnedProducts(productService.listOwnerProducts(retrievedProduct.getProductOwner()));\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Insufficient funds!&quot;);\r\n\t\t}\r\n\t\treturn &quot;redirect:/home&quot;;\r\n```\r\n\r\nTL:DR\r\nI use ```UserDetails``` object in controller and I am also using DAO for ```Customer``` used as foreign key in ```UserDetails```. Using ```UserDetails``` directly updates data and everything works fine, using DAO doesn&#39;t make changes until I logout and login. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pp6bT.png","title":"Data doesn&#39;t update immediately after changes in tables","body":"<p>I've recently tried to implement Spring Security into my web store project to distinguish between single users. Websites are working properly except there is one issue which I can't track to resolve. I have object called <code>Customer</code> within <code>User</code> class. <code>Customer</code> object has fields like <code>id</code>, <code>balance</code>, etc., and <code>User</code> has <code>OneToOne</code> relationship to <code>Customer</code>, so I can have single object for credentials and foreign key to specifics of user - his first name, last name, balance, owned products, etc.</p>\n<p>I also have <code>Product</code> class which has <code>ManyToOne</code> relationship with <code>Customer</code>. It has its' own <code>id</code>, <code>productCost</code>, etc.</p>\n<p>I'm using Spring MVC to take care of proper URL dispatching. When some action is taken, I'm using <code>@AuthenticationPrincipal</code> annotation to get currently logged <code>Customer</code> (through foreign key in <code>User</code>) and modify data regarding <code>Customer</code> linked with that foreign key.</p>\n<p>When I modify <code>Customer</code> data through <code>@AuthenticationPrincipal</code> in controller, changes are immediate and they show up on website. But when I try to modify data through some DAO, for example by searching for <code>Customer</code> through <code>id</code> or try to get <code>Customer</code> that owns <code>Product</code> from <code>Product</code> getter (<code>ManyToOne</code> has reference to owning <code>Customer</code>), changes are not immediate. Database updates itself immediately and properly, like in first case, but collections in code and website state are not changed <strong>until</strong> I logout and login again - that's when data is updated. I suspect it may be due to fact that updating <code>UserDetails</code> updates data directly for currently logged user but then - how may I achieve same effect for <code>Customer</code> found by <code>id</code>?</p>\n<p>Snippets of code:\nUsers.java:</p>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;)\npublic class Users {\n    \n    @Id\n    @Column(name=&quot;username&quot;)\n    private String username;\n    \n    @Column(name=&quot;password&quot;)\n    private String password;\n    \n    @Column(name=&quot;enabled&quot;)\n    private boolean isActive;\n    \n    @OneToMany(mappedBy=&quot;user&quot;)\n    private Set&lt;Authorities&gt; authorities;\n    \n    @OneToOne\n    @JoinColumn(name=&quot;customer_id&quot;)\n    private Customer customer;\n</code></pre>\n<p>Product.java:</p>\n<pre><code>@Entity\n@Table(name=&quot;product&quot;)\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n    \n    @Column(name=&quot;name&quot;)\n    private String productName;\n    \n    @Column(name=&quot;description&quot;)\n    private String productDescription;\n    \n    @Column(name=&quot;category&quot;)\n    private String productCategory;\n    \n    @Column(name=&quot;cost&quot;)\n    private int productCost;\n    \n    @ManyToOne(fetch=FetchType.EAGER)\n    @JoinColumn(name=&quot;owner_id&quot;)\n    private Customer productOwner;\n</code></pre>\n<p>Customer.java:</p>\n<pre><code>@Entity\n@Table(name=&quot;customer&quot;)\npublic class Customer {\n\n    //Class fields\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n    \n    @Column(name=&quot;balance&quot;)\n    private int balance;\n    \n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n    \n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name=&quot;email&quot;)\n    private String email;\n    \n    @OneToMany(mappedBy=&quot;productOwner&quot;, fetch=FetchType.EAGER)\n    private List&lt;Product&gt; ownedProducts;\n</code></pre>\n<p>Piece of controller code:</p>\n<pre><code>@Autowired\n    CustomerService customerService;\n    \n    @Autowired\n    ProductService productService;\n/*(...)*/\n@GetMapping(&quot;/showOffer/{offerId}&quot;)\n    public String getOffer(@PathVariable int offerId, Model theModel, @AuthenticationPrincipal MyUserDetails user) {\n        Product retrievedProduct = productService.findById(offerId);\n        if (user.getCustomer().getBalance() &gt;= retrievedProduct.getProductCost())\n        {\n            Customer retrievedProductOwner = retrievedProduct.getProductOwner();\n/* This is where changes aren't applied immediately and I need to logout and login to process them. */\n            retrievedProductOwner.setBalance(1000);\n/* This is where changes are immediately shown and Java collections are updated: */\n            user.getCustomer().setBalance(user.getCustomer().getBalance()-retrievedProduct.getProductCost());\n/* Code below is an attempt to force immediate changes by updating collections directly from database - but that approach doesn't work */\n            productService.delete(retrievedProduct.getId());\n            retrievedProduct.getProductOwner().getOwnedProducts().clear();\n            retrievedProduct.getProductOwner().setOwnedProducts(productService.listOwnerProducts(retrievedProduct.getProductOwner()));\n        }\n        else {\n            System.out.println(&quot;Insufficient funds!&quot;);\n        }\n        return &quot;redirect:/home&quot;;\n</code></pre>\n<p>TL:DR\nI use <code>UserDetails</code> object in controller and I am also using DAO for <code>Customer</code> used as foreign key in <code>UserDetails</code>. Using <code>UserDetails</code> directly updates data and everything works fine, using DAO doesn't make changes until I logout and login.\n<a href=\"https://i.stack.imgur.com/pp6bT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pp6bT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1664376114,"post_id":73883308,"comment_id":130458298,"body_markdown":"`String.join(&quot;\\n&quot;, events)`?","body":"<code>String.join(&quot;\\n&quot;, events)</code>?"},{"owner":{"account_id":5438104,"reputation":4798,"user_id":4326922,"display_name":"Prabhakar Reddy"},"score":0,"creation_date":1664409579,"post_id":73883308,"comment_id":130467531,"body_markdown":"update your question with full script that includes writing to file","body":"update your question with full script that includes writing to file"}],"owner":{"account_id":13462537,"reputation":1307,"user_id":9714034,"display_name":"CyberPunk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664440814,"creation_date":1664375539,"question_id":73883308,"body_markdown":"I have a list of objects that I want to write to s3. I am using the following code: \r\n\r\n        Region region = Region.US_EAST_1;\r\n        S3Client s3Client = S3Client.builder()\r\n                .region(region)\r\n                .build();\r\n    \r\n        for (Event event: events){\r\n    \r\n          final ByteBufferOutputStream serializedEvent = serialize(event);\r\n          if (serializedEvent == null) {\r\n            continue;\r\n          }\r\n          PutObjectRequest objectRequest = PutObjectRequest.builder()\r\n                  .bucket(bucket)\r\n                  .key(path)\r\n                  .build();\r\n          s3Client.putObject(objectRequest, RequestBody.fromByteBuffer(serializedEvent.toByteBuffer()));\r\n        }\r\n    \r\n    \r\n      public String getS3Path(String bucket){\r\n    \r\n        String year = Integer.toString(ZonedDateTime.now(ZoneOffset.UTC).getYear());\r\n        String month = Integer.toString(ZonedDateTime.now(ZoneOffset.UTC).getMonthValue());\r\n        String day = Integer.toString(ZonedDateTime.now(ZoneOffset.UTC).getDayOfMonth());\r\n        String hour = Integer.toString(ZonedDateTime.now(ZoneOffset.UTC).getHour());\r\n    \r\n        return bucket+&quot;/&quot;+year+&quot;/&quot;+month+&quot;/&quot;+day+&quot;/&quot;+hour+&quot;/&quot;;\r\n    \r\n      }\r\n    \r\n      private ByteBufferOutputStream serialize(final Object object) {\r\n        try {\r\n          final ByteBufferOutputStream outputStream = new ByteBufferOutputStream(128, true, false);\r\n          Json.writeValueAsToOutputStream(object, outputStream);\r\n          outputStream.write(&#39;\\n&#39;);\r\n          return outputStream;\r\n        }\r\n        catch (final Exception e) {\r\n          log.error(&quot;Error serializing data {}&quot;, object, e);\r\n          return null;\r\n        }\r\n      }\r\n\r\nI want to add a delimitter &#39;\\n&#39; after every object such that it could be read by Athena and I can query the json data. Any ideas how can I achieve tha ?\r\n\r\nEDIT: I am appending &#39;\\n&#39; but this write each event individually. I want to upload Event as a batch and each json delimitted by &#39;\\n&#39;","title":"Write list of objects to s3","body":"<p>I have a list of objects that I want to write to s3. I am using the following code:</p>\n<pre><code>    Region region = Region.US_EAST_1;\n    S3Client s3Client = S3Client.builder()\n            .region(region)\n            .build();\n\n    for (Event event: events){\n\n      final ByteBufferOutputStream serializedEvent = serialize(event);\n      if (serializedEvent == null) {\n        continue;\n      }\n      PutObjectRequest objectRequest = PutObjectRequest.builder()\n              .bucket(bucket)\n              .key(path)\n              .build();\n      s3Client.putObject(objectRequest, RequestBody.fromByteBuffer(serializedEvent.toByteBuffer()));\n    }\n\n\n  public String getS3Path(String bucket){\n\n    String year = Integer.toString(ZonedDateTime.now(ZoneOffset.UTC).getYear());\n    String month = Integer.toString(ZonedDateTime.now(ZoneOffset.UTC).getMonthValue());\n    String day = Integer.toString(ZonedDateTime.now(ZoneOffset.UTC).getDayOfMonth());\n    String hour = Integer.toString(ZonedDateTime.now(ZoneOffset.UTC).getHour());\n\n    return bucket+&quot;/&quot;+year+&quot;/&quot;+month+&quot;/&quot;+day+&quot;/&quot;+hour+&quot;/&quot;;\n\n  }\n\n  private ByteBufferOutputStream serialize(final Object object) {\n    try {\n      final ByteBufferOutputStream outputStream = new ByteBufferOutputStream(128, true, false);\n      Json.writeValueAsToOutputStream(object, outputStream);\n      outputStream.write('\\n');\n      return outputStream;\n    }\n    catch (final Exception e) {\n      log.error(&quot;Error serializing data {}&quot;, object, e);\n      return null;\n    }\n  }\n</code></pre>\n<p>I want to add a delimitter '\\n' after every object such that it could be read by Athena and I can query the json data. Any ideas how can I achieve tha ?</p>\n<p>EDIT: I am appending '\\n' but this write each event individually. I want to upload Event as a batch and each json delimitted by '\\n'</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1664438793,"post_id":73892156,"comment_id":130473154,"body_markdown":"As far as I&#39;m aware, there isn&#39;t one. You need to know which library provides your dependency, and I&#39;m not aware of a Maven search engine that indexes all files within the artifacts.","body":"As far as I&#39;m aware, there isn&#39;t one. You need to know which library provides your dependency, and I&#39;m not aware of a Maven search engine that indexes all files within the artifacts."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1664439432,"post_id":73892156,"comment_id":130473377,"body_markdown":"Related, and answers actually include answers to your question: https://stackoverflow.com/questions/1342894/find-a-class-somewhere-inside-dozens-of-jar-files","body":"Related, and answers actually include answers to your question: <a href=\"https://stackoverflow.com/questions/1342894/find-a-class-somewhere-inside-dozens-of-jar-files\" title=\"find a class somewhere inside dozens of jar files\">stackoverflow.com/questions/1342894/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664439856,"post_id":73892156,"comment_id":130473507,"body_markdown":"I can confirm Mark, when you &quot;mavenize&quot; an existing project: google/search is your (only;(() friend. But most IDE&#39;s offer same/similar functionality as/to search.maven.org...commonly in the &quot;add dependency dialog/frame&quot;.","body":"I can confirm Mark, when you &quot;mavenize&quot; an existing project: google/search is your (only;(() friend. But most IDE&#39;s offer same/similar functionality as/to search.maven.org...commonly in the &quot;add dependency dialog/frame&quot;."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1664440470,"post_id":73892156,"comment_id":130473711,"body_markdown":"On search.maven.org there is an enhanced search option to search on class base etc..??","body":"On search.maven.org there is an enhanced search option to search on class base etc..??"},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1664440586,"post_id":73892156,"comment_id":130473754,"body_markdown":"For example, what could someone enter into a google search to find out the relevant info?","body":"For example, what could someone enter into a google search to find out the relevant info?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664441664,"post_id":73892156,"comment_id":130474152,"body_markdown":"&quot;fully qualified name&quot;, so &quot;com.google.common.io.Files&quot; in this case ..should guide you to correct GitHub/maven/site..then the &quot;problem&quot; is only to find the correct/appropriate version..","body":"&quot;fully qualified name&quot;, so &quot;com.google.common.io.Files&quot; in this case ..should guide you to correct GitHub/maven/site..then the &quot;problem&quot; is only to find the correct/appropriate version.."}],"answers":[{"tags":[],"owner":{"account_id":25270220,"reputation":24,"user_id":19099647,"display_name":"stackoverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664440786,"creation_date":1664440786,"answer_id":73892644,"question_id":73892156,"body_markdown":"As you have said, the search.maven.org is the best answer.","title":"How can I accurately find out, which pom dependency?","body":"<p>As you have said, the search.maven.org is the best answer.</p>\n"}],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73892644,"answer_count":1,"score":0,"last_activity_date":1664440786,"creation_date":1664438365,"question_id":73892156,"body_markdown":"I&#39;m looking for a fool-proof method of finding the pom entry that will provide a project with a specific dependency. For example, if I have `import com.google.common.io.Files`, and it is not compiling because of a missing pom dependency entry, how can I find the specific dependency to add to my pom, with minimum fuss?\r\n\r\nI know of the existence of `search.maven.org`, but sometimes that is unhelpful.","title":"How can I accurately find out, which pom dependency?","body":"<p>I'm looking for a fool-proof method of finding the pom entry that will provide a project with a specific dependency. For example, if I have <code>import com.google.common.io.Files</code>, and it is not compiling because of a missing pom dependency entry, how can I find the specific dependency to add to my pom, with minimum fuss?</p>\n<p>I know of the existence of <code>search.maven.org</code>, but sometimes that is unhelpful.</p>\n"},{"tags":["java","ibm-mq","pcf"],"answers":[{"tags":[],"owner":{"account_id":15269010,"reputation":129,"user_id":11016749,"display_name":"ChrisL"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1549360950,"creation_date":1549359778,"answer_id":54531461,"question_id":54531082,"body_markdown":"You can use the alternate PCFAgent constructor which takes an MQQueueManager object.\r\n\r\nTo set connection parameters and UserID/password when creating the MQQueueManager object, use either the static MQEnvironment class, or pass a hashtable of desired properties on the MQQueueManager constructor.\r\n\r\nhttps://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/MQQueueManager.html\r\n\r\nhttps://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/MQEnvironment.html\r\n\r\n    Hashtable&lt;String, Comparable&lt;?&gt;&gt; props = new Hashtable&lt;String, Comparable&lt;?&gt;&gt;();\r\n    \r\n    props.put(MQConstants.TRANSPORT_PROPERTY, MQConstants.TRANSPORT_MQSERIES_CLIENT);\r\n    props.put(MQConstants.HOST_NAME_PROPERTY, hostname);\r\n    props.put(MQConstants.CHANNEL_PROPERTY, channel);\r\n    props.put(MQConstants.PORT_PROPERTY, new Integer(port));\r\n    props.put(MQConstants.USER_ID_PROPERTY, userName);\r\n    props.put(MQConstants.USE_MQCSP_AUTHENTICATION_PROPERTY, Boolean.TRUE);\r\n    props.put(MQConstants.PASSWORD_PROPERTY, password);\r\n    \r\n    MQQueueManager qm = new MQQueueManager(&quot;MY.QM&quot;, props);\r\n    \r\n    PCFAgent agent = new PCFAgent(qm);","title":"IBM MQ list queues with username/password","body":"<p>You can use the alternate PCFAgent constructor which takes an MQQueueManager object.</p>\n\n<p>To set connection parameters and UserID/password when creating the MQQueueManager object, use either the static MQEnvironment class, or pass a hashtable of desired properties on the MQQueueManager constructor.</p>\n\n<p><a href=\"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/MQQueueManager.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/MQQueueManager.html</a></p>\n\n<p><a href=\"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/MQEnvironment.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_8.0.0/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/MQEnvironment.html</a></p>\n\n<pre><code>Hashtable&lt;String, Comparable&lt;?&gt;&gt; props = new Hashtable&lt;String, Comparable&lt;?&gt;&gt;();\n\nprops.put(MQConstants.TRANSPORT_PROPERTY, MQConstants.TRANSPORT_MQSERIES_CLIENT);\nprops.put(MQConstants.HOST_NAME_PROPERTY, hostname);\nprops.put(MQConstants.CHANNEL_PROPERTY, channel);\nprops.put(MQConstants.PORT_PROPERTY, new Integer(port));\nprops.put(MQConstants.USER_ID_PROPERTY, userName);\nprops.put(MQConstants.USE_MQCSP_AUTHENTICATION_PROPERTY, Boolean.TRUE);\nprops.put(MQConstants.PASSWORD_PROPERTY, password);\n\nMQQueueManager qm = new MQQueueManager(\"MY.QM\", props);\n\nPCFAgent agent = new PCFAgent(qm);\n</code></pre>\n"}],"owner":{"account_id":877127,"reputation":433,"user_id":84666,"accept_rate":56,"display_name":"boffman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54531461,"answer_count":1,"score":2,"last_activity_date":1664440518,"creation_date":1549358494,"question_id":54531082,"body_markdown":"I&#39;m pretty new to IBM MQ, but I have looked at samples from IBM and written a tool in Java that can list queue names. I&#39;m using PCFAgent:\r\n\r\n    PCFAgent agent = new PCFAgent(hostname, port, channelName);\r\n    \r\n    PCFParameter[] parameters = { new MQCFST(CMQC.MQCA_Q_NAME, &quot;*&quot;),\r\n       new MQCFIN(CMQC.MQIA_Q_TYPE, CMQC.MQQT_LOCAL)};\r\n    \r\n    MQMessage[] responses = agent.send(CMQCFC.MQCMD_INQUIRE_Q_NAMES, parameters);\r\n    \t\t\tMQCFH cfh = new MQCFH(responses[0]);\r\n    \r\n    for (int i = 0; i &lt; cfh.parameterCount; i++) {\r\n    \tSystem.out.println (PCFParameter.nextParameter (responses [0]));\r\n    }\r\n\r\nThis works fine when there are no username/password authorization on the MQ, but when this is in place, I get the error RC2035 &quot;MQRC_NOT_AUTHORIZED&quot;. \r\n\r\nIs it possible to authenticate by specifying username/password somehow, using PCFAgent like this?\r\n\r\n(Or, is there another way to authenticate and list queues?)\r\n","title":"IBM MQ list queues with username/password","body":"<p>I'm pretty new to IBM MQ, but I have looked at samples from IBM and written a tool in Java that can list queue names. I'm using PCFAgent:</p>\n\n<pre><code>PCFAgent agent = new PCFAgent(hostname, port, channelName);\n\nPCFParameter[] parameters = { new MQCFST(CMQC.MQCA_Q_NAME, \"*\"),\n   new MQCFIN(CMQC.MQIA_Q_TYPE, CMQC.MQQT_LOCAL)};\n\nMQMessage[] responses = agent.send(CMQCFC.MQCMD_INQUIRE_Q_NAMES, parameters);\n            MQCFH cfh = new MQCFH(responses[0]);\n\nfor (int i = 0; i &lt; cfh.parameterCount; i++) {\n    System.out.println (PCFParameter.nextParameter (responses [0]));\n}\n</code></pre>\n\n<p>This works fine when there are no username/password authorization on the MQ, but when this is in place, I get the error RC2035 \"MQRC_NOT_AUTHORIZED\". </p>\n\n<p>Is it possible to authenticate by specifying username/password somehow, using PCFAgent like this?</p>\n\n<p>(Or, is there another way to authenticate and list queues?)</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664267101,"creation_date":1664258430,"answer_id":73862981,"question_id":73862879,"body_markdown":"JSch 0.1.55 does not support any of those.\r\n\r\nBut [@mwiede&#39;s fork of JSch](https://github.com/mwiede/jsch) supports all of them.","title":"Workaround for JSch unsupported KEX algorithms","body":"<p>JSch 0.1.55 does not support any of those.</p>\n<p>But <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">@mwiede's fork of JSch</a> supports all of them.</p>\n"}],"owner":{"account_id":26412902,"reputation":31,"user_id":20061749,"display_name":"Hardik Agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1365,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664440517,"creation_date":1664257533,"question_id":73862879,"body_markdown":"We are using JSch library (jsch-0.1.55.jar) to make connection with SFTP server (Bitvise).\r\nI am using the algorithm `diffie-hellman-group1-sha1`  and it&#39;s working fine. But when I use the following algorithms it shows the error \r\n\r\n&gt; Algorithm negotiation fail\r\n\r\n- `curve25519-sha256@libssh.org`\r\n- `diffie-hellman-group18-sha512` \r\n- `diffie-hellman-group16-sha512` \r\n- `diffie-hellman-group14-sha256`\r\n\r\nAre the above algorithms supported by JSch?\r\n\r\nIf they are not, Can someone please help with the article or any workaround to resolve the issue?","title":"Workaround for JSch unsupported KEX algorithms","body":"<p>We are using JSch library (jsch-0.1.55.jar) to make connection with SFTP server (Bitvise).\nI am using the algorithm <code>diffie-hellman-group1-sha1</code>  and it's working fine. But when I use the following algorithms it shows the error</p>\n<blockquote>\n<p>Algorithm negotiation fail</p>\n</blockquote>\n<ul>\n<li><code>curve25519-sha256@libssh.org</code></li>\n<li><code>diffie-hellman-group18-sha512</code></li>\n<li><code>diffie-hellman-group16-sha512</code></li>\n<li><code>diffie-hellman-group14-sha256</code></li>\n</ul>\n<p>Are the above algorithms supported by JSch?</p>\n<p>If they are not, Can someone please help with the article or any workaround to resolve the issue?</p>\n"},{"tags":["java","maven","aem","dependency-management","bnd"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1664439838,"post_id":73892421,"comment_id":130473503,"body_markdown":"Is this an OSGi project?","body":"Is this an OSGi project?"},{"owner":{"account_id":26479028,"reputation":1,"user_id":20118527,"display_name":"Vishnu Jangid"},"score":0,"creation_date":1664439873,"post_id":73892421,"comment_id":130473509,"body_markdown":"Yes @khmarbaise","body":"Yes @khmarbaise"},{"owner":{"account_id":26479028,"reputation":1,"user_id":20118527,"display_name":"Vishnu Jangid"},"score":0,"creation_date":1664440245,"post_id":73892421,"comment_id":130473627,"body_markdown":"It is an AEM Project which uses felix maven-bundle-plugin for building. Thanks","body":"It is an AEM Project which uses felix maven-bundle-plugin for building. Thanks"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1664441779,"post_id":73892421,"comment_id":130474184,"body_markdown":"is that `webp-imageio-sedja` an osgi bundle? if not, you should make an osgi wrapper for it. register it as service, then use it as a service as god (at least people who wrote osgi) intended. sorry i can&#39;t guide you on how to exactly do that, i don&#39;t have aem (or any osgi container) at hand to play with.","body":"is that <code>webp-imageio-sedja</code> an osgi bundle? if not, you should make an osgi wrapper for it. register it as service, then use it as a service as god (at least people who wrote osgi) intended. sorry i can&#39;t guide you on how to exactly do that, i don&#39;t have aem (or any osgi container) at hand to play with."},{"owner":{"account_id":26479028,"reputation":1,"user_id":20118527,"display_name":"Vishnu Jangid"},"score":0,"creation_date":1664443401,"post_id":73892421,"comment_id":130474760,"body_markdown":"Thanks @BagusTesa but actually I cannot remove dependency from the Project B. If I deploy the `webp-imageio-sedja` as a wrapper then It will create same problem in the project B.","body":"Thanks @BagusTesa but actually I cannot remove dependency from the Project B. If I deploy the <code>webp-imageio-sedja</code> as a wrapper then It will create same problem in the project B."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1664492020,"post_id":73892421,"comment_id":130490677,"body_markdown":"@VishnuJangid if you are confident that the library in project B will work as you expected (same version, and always available), you can change the dependency scope to `provided` and dont ember it. else, just take the source for that `webp-imageio-sedja` and put it in your source with different namespace. you can only do the latter if that library license allows it, consult a lawyer. i wont write this as an answer, the last guy accepted answer that changed his question even though hes adamant &quot;it cant be changed.&quot;","body":"@VishnuJangid if you are confident that the library in project B will work as you expected (same version, and always available), you can change the dependency scope to <code>provided</code> and dont ember it. else, just take the source for that <code>webp-imageio-sedja</code> and put it in your source with different namespace. you can only do the latter if that library license allows it, consult a lawyer. i wont write this as an answer, the last guy accepted answer that changed his question even though hes adamant &quot;it cant be changed.&quot;"},{"owner":{"account_id":26479028,"reputation":1,"user_id":20118527,"display_name":"Vishnu Jangid"},"score":0,"creation_date":1664507378,"post_id":73892421,"comment_id":130492783,"body_markdown":"Thanks @BagusTesa but the library is not exported by project B so I cannot use it. also cannot edit anything in project B.","body":"Thanks @BagusTesa but the library is not exported by project B so I cannot use it. also cannot edit anything in project B."}],"owner":{"account_id":26479028,"reputation":1,"user_id":20118527,"display_name":"Vishnu Jangid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664440412,"creation_date":1664439648,"question_id":73892421,"body_markdown":"I want to add a dependency specifically [webp-imageio-sejda][1] in my current project (project A), for this jar to be available to my bundle I have to embed it. In my AEM instance there already exist a bundle (project B) which  already contains the same dependency and it is also embedded into that bundle. \r\n\r\nProject A pom.xml :\r\n```\r\n   ......\r\n    &lt;Embed-dependency&gt; webp-iamgeio &lt;/Embed-dependency&gt;\r\n   ......\r\n\r\n&lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.sejda.imageio/webp-imageio --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.sejda.imageio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;webp-imageio&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.6&lt;/version&gt;\r\n        &lt;scope&gt; provided &lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nProject B POM.xml\r\n\r\n```\r\n.....\r\n    &lt;Embed-dependency&gt; webp-iamgeio &lt;/Embed-dependency&gt;\r\n......\r\n\r\n&lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.sejda.imageio/webp-imageio --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.sejda.imageio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;webp-imageio&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.6&lt;/version&gt;\r\n        &lt;scope&gt; provided &lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nThe problem is when I deploy my bundle (Project A) and run any service which is using a class (WebPWriteParam) from  webp-imageio-sejda I am facing an error \r\n\r\n&gt; java.lang.ClassCastException: class com.luciad.imageio.webp.WebPWriteParam cannot be cast to class com.luciad.imageio.webp.WebPWriteParam\r\n\r\nThis is because I have same JAR embedded in two different bundles. (Project A and Project B). I cannot Edit the POM of Project B.\r\n\r\nAny idea How can I resolve this issue.\r\n\r\nOne solution I found that I can upload jar as an bundle and use that in both the bundles without embedding but I cannot edit the POM in the second bundle to remove embedding.\r\n\r\nThanks\r\n\r\n \r\nAEM Community Post : [https://experienceleaguecommunities.adobe.com/t5/adobe-experience-manager/how-to-add-dependency-independent-of-another-bundle/td-p/548894][2]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.sejda.webp-imageio/webp-imageio-sejda\r\n  [2]: https://experienceleaguecommunities.adobe.com/t5/adobe-experience-manager/how-to-add-dependency-independent-of-another-bundle/td-p/548894","title":"How to add dependency independent of another bundle in AEM","body":"<p>I want to add a dependency specifically <a href=\"https://mvnrepository.com/artifact/org.sejda.webp-imageio/webp-imageio-sejda\" rel=\"nofollow noreferrer\">webp-imageio-sejda</a> in my current project (project A), for this jar to be available to my bundle I have to embed it. In my AEM instance there already exist a bundle (project B) which  already contains the same dependency and it is also embedded into that bundle.</p>\n<p>Project A pom.xml :</p>\n<pre><code>   ......\n    &lt;Embed-dependency&gt; webp-iamgeio &lt;/Embed-dependency&gt;\n   ......\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.sejda.imageio/webp-imageio --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.sejda.imageio&lt;/groupId&gt;\n        &lt;artifactId&gt;webp-imageio&lt;/artifactId&gt;\n        &lt;version&gt;0.1.6&lt;/version&gt;\n        &lt;scope&gt; provided &lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Project B POM.xml</p>\n<pre><code>.....\n    &lt;Embed-dependency&gt; webp-iamgeio &lt;/Embed-dependency&gt;\n......\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.sejda.imageio/webp-imageio --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.sejda.imageio&lt;/groupId&gt;\n        &lt;artifactId&gt;webp-imageio&lt;/artifactId&gt;\n        &lt;version&gt;0.1.6&lt;/version&gt;\n        &lt;scope&gt; provided &lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>The problem is when I deploy my bundle (Project A) and run any service which is using a class (WebPWriteParam) from  webp-imageio-sejda I am facing an error</p>\n<blockquote>\n<p>java.lang.ClassCastException: class com.luciad.imageio.webp.WebPWriteParam cannot be cast to class com.luciad.imageio.webp.WebPWriteParam</p>\n</blockquote>\n<p>This is because I have same JAR embedded in two different bundles. (Project A and Project B). I cannot Edit the POM of Project B.</p>\n<p>Any idea How can I resolve this issue.</p>\n<p>One solution I found that I can upload jar as an bundle and use that in both the bundles without embedding but I cannot edit the POM in the second bundle to remove embedding.</p>\n<p>Thanks</p>\n<p>AEM Community Post : <a href=\"https://experienceleaguecommunities.adobe.com/t5/adobe-experience-manager/how-to-add-dependency-independent-of-another-bundle/td-p/548894\" rel=\"nofollow noreferrer\">https://experienceleaguecommunities.adobe.com/t5/adobe-experience-manager/how-to-add-dependency-independent-of-another-bundle/td-p/548894</a></p>\n"},{"tags":["java","ssh","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664440395,"creation_date":1664200629,"answer_id":73855253,"question_id":73853290,"body_markdown":"JSch does not support PPK3.\r\n\r\nNor does the [@mwiede&#39;s fork](https://github.com/mwiede/jsch).\r\n\r\n---\r\n\r\nBut it&#39;s just a format of the private key. There&#39;s nothing preventing you from converting your key to the PPK2 format. The server cannot tell the difference.\r\n","title":"Does JSch support PPK3 format for authentication","body":"<p>JSch does not support PPK3.</p>\n<p>Nor does the <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">@mwiede's fork</a>.</p>\n<hr />\n<p>But it's just a format of the private key. There's nothing preventing you from converting your key to the PPK2 format. The server cannot tell the difference.</p>\n"}],"owner":{"account_id":26412902,"reputation":31,"user_id":20061749,"display_name":"Hardik Agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664440395,"creation_date":1664190563,"question_id":73853290,"body_markdown":"We are using JSch library (jsch-0.1.55.jar) to make connection with SFTP server (Bitvise).\r\n\r\nWe are using PPK2 private key format and it&#39;s working fine with mentioned SFTP server.\r\nBut when PPK3 private key format is used then it is not working with the same server.\r\n\r\nDoes JSch library (jsch-0.1.55.jar) supports PPK3 format?\r\n    \r\nCan someone please help with the article or any workaround to the issue?\r\n\r\n","title":"Does JSch support PPK3 format for authentication","body":"<p>We are using JSch library (jsch-0.1.55.jar) to make connection with SFTP server (Bitvise).</p>\n<p>We are using PPK2 private key format and it's working fine with mentioned SFTP server.\nBut when PPK3 private key format is used then it is not working with the same server.</p>\n<p>Does JSch library (jsch-0.1.55.jar) supports PPK3 format?</p>\n<p>Can someone please help with the article or any workaround to the issue?</p>\n"},{"tags":["java","arraylist","swap"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664440236,"post_id":73892503,"comment_id":130473621,"body_markdown":"Yes, sounds correct. You can use a debugger to step through the code to see exactly which statements are executed","body":"Yes, sounds correct. You can use a debugger to step through the code to see exactly which statements are executed"},{"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"score":2,"creation_date":1664441085,"post_id":73892503,"comment_id":130473933,"body_markdown":"Make sure to also check the complexity of `.size()` before declaring such operation to be O(1)","body":"Make sure to also check the complexity of <code>.size()</code> before declaring such operation to be O(1)"}],"owner":{"account_id":24722899,"reputation":19,"user_id":18611722,"display_name":"spectrbro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1664440232,"creation_date":1664440012,"question_id":73892503,"body_markdown":"So I want to implement a &quot;remove random index from arraylist&quot; method, but I am unsure if I am correct in my runtime.\r\n\r\nI generate a random index within bounds, which is what I want to be removed, then I swap that index with the last and do remove on list.size()-1. I then conclude that this is done in O(1) time since swap should be O(1) and I essentially circumvent the shift that is otherwise needed.\r\n\r\nThere is no requirment to not change the order of the list, so swapping around is ok.\r\n\r\nAm I correct in this?","title":"ArrayList swap and remove last index in O(1)","body":"<p>So I want to implement a &quot;remove random index from arraylist&quot; method, but I am unsure if I am correct in my runtime.</p>\n<p>I generate a random index within bounds, which is what I want to be removed, then I swap that index with the last and do remove on list.size()-1. I then conclude that this is done in O(1) time since swap should be O(1) and I essentially circumvent the shift that is otherwise needed.</p>\n<p>There is no requirment to not change the order of the list, so swapping around is ok.</p>\n<p>Am I correct in this?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664433825,"post_id":73888876,"comment_id":130471431,"body_markdown":"No. As the context-path is globally for the whole application. You would need another standalone service mapped to that URL. Or abandon the user of a context path and put that prefix in all your controllers (which is probably not what you want.","body":"No. As the context-path is globally for the whole application. You would need another standalone service mapped to that URL. Or abandon the user of a context path and put that prefix in all your controllers (which is probably not what you want."}],"answers":[{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664440015,"creation_date":1664440015,"answer_id":73892505,"question_id":73888876,"body_markdown":"No, Context-path is globally for the whole application, but still, there are two ways to archive what you want-\r\n\r\n 1. You can put your Context-path to all the controllers across the application manually, that way you can exclude your exception end-point from Context-path.\r\n 2. You can create a second Dispatcher-Servlet this way you can host your other end-point on a different port.\r\n\r\nI personally won&#39;t prefer any of the above solutions as the first one is not suitable for a large application and the second solution adds extra complexity.\r\n\r\n","title":"Exception to Context Path in Spring Boot Application","body":"<p>No, Context-path is globally for the whole application, but still, there are two ways to archive what you want-</p>\n<ol>\n<li>You can put your Context-path to all the controllers across the application manually, that way you can exclude your exception end-point from Context-path.</li>\n<li>You can create a second Dispatcher-Servlet this way you can host your other end-point on a different port.</li>\n</ol>\n<p>I personally won't prefer any of the above solutions as the first one is not suitable for a large application and the second solution adds extra complexity.</p>\n"}],"owner":{"account_id":26414744,"reputation":25,"user_id":20063314,"display_name":"Dannenberger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73892505,"answer_count":1,"score":1,"last_activity_date":1664440015,"creation_date":1664408791,"question_id":73888876,"body_markdown":"I am building a Spring Boot and Thymeleaf application with the custom context path:\r\n```\r\nserver.servlet.context-path=/myapp\r\n```\r\nSo the application can be accessed as:\r\n```\r\nhttp://localhost:8080/myapp\r\n```\r\nAll content is served on the `/myapp` context path, except for one mapping for a special case which needs to be:\r\n```\r\nhttp://localhost:8080/exception\r\n```\r\nIs there a way to make an exception to the custom context path for this special case?","title":"Exception to Context Path in Spring Boot Application","body":"<p>I am building a Spring Boot and Thymeleaf application with the custom context path:</p>\n<pre><code>server.servlet.context-path=/myapp\n</code></pre>\n<p>So the application can be accessed as:</p>\n<pre><code>http://localhost:8080/myapp\n</code></pre>\n<p>All content is served on the <code>/myapp</code> context path, except for one mapping for a special case which needs to be:</p>\n<pre><code>http://localhost:8080/exception\n</code></pre>\n<p>Is there a way to make an exception to the custom context path for this special case?</p>\n"},{"tags":["java","arrays","for-loop","if-statement"],"comments":[{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":1,"creation_date":1664421408,"post_id":73889913,"comment_id":130469140,"body_markdown":"Welcome to Stack Overflow! Certain questions here are more likely to get helpful answers. Questions that share code as images instead of code blocks usually indicate you haven&#39;t read [How to Ask](https://stackoverflow.com/questions/how-to-ask), and people often skip right over them. So share your code as indicated. If you encounter a specific technical problem during that attempt, we can help with that, and we want to - thats part of why were here. If youre really ambitious, read the [tour](https://stackoverflow.com/tour).","body":"Welcome to Stack Overflow! Certain questions here are more likely to get helpful answers. Questions that share code as images instead of code blocks usually indicate you haven&#39;t read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and people often skip right over them. So share your code as indicated. If you encounter a specific technical problem during that attempt, we can help with that, and we want to - thats part of why were here. If youre really ambitious, read the <a href=\"https://stackoverflow.com/tour\">tour</a>."}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664422090,"creation_date":1664422090,"answer_id":73889979,"question_id":73889913,"body_markdown":"right now you are still printing the invalid grades in a line. what you want is to check and make sure the grade is valid before printing it. Since you made all the invalid grade an empty string, you can simply check for that like so\r\n\r\n```\r\nif(!student[i][h].isEmpty()){\r\n  System.out.print(student[i][h] + &quot;\\t&quot;);\r\n}                   \r\n```","title":"How to show only the grades","body":"<p>right now you are still printing the invalid grades in a line. what you want is to check and make sure the grade is valid before printing it. Since you made all the invalid grade an empty string, you can simply check for that like so</p>\n<pre><code>if(!student[i][h].isEmpty()){\n  System.out.print(student[i][h] + &quot;\\t&quot;);\n}                   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664427277,"creation_date":1664427277,"answer_id":73890424,"question_id":73889913,"body_markdown":"If a grade entered by the user is invalid, just don&#39;t add it to `student` array. Then it won&#39;t get printed at all. You should also handle the case where the user does not enter a number when asked to enter a grade.\r\n\r\nWhen asking the user if she wants to add a new record, you only need to check whether she entered a `Y`. Anything else can be considered a *no*.\r\n\r\nThe below code uses method [printf](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)) to format the report. Also, in order to format the report, I keep track of the longest name entered by the user.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Students {\r\n    private static final int MAX_ROWS = 100;\r\n    private static final int NAME = 0;\r\n    private static final int GRADE = 1;\r\n    private static final int REMARK = 2;\r\n\r\n    public static void main(String args[]) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String[][] student = new String[MAX_ROWS][3];\r\n        int totalp = 0, totalf = 0, longest = 0;\r\n        int h = 0;\r\n        while (h &lt; MAX_ROWS) {\r\n            System.out.print(&quot;Enter Name: &quot;);\r\n            String name = sc.nextLine();\r\n            int len = name.length();\r\n            if (len &gt; longest) {\r\n                longest = len;\r\n            }\r\n            System.out.print(&quot;Enter Grade: &quot;);\r\n            String grade = sc.nextLine();\r\n            try {\r\n                int mark = Integer.parseInt(grade);\r\n                if (mark &gt;= 50  &amp;&amp;  mark &lt;= 100) {\r\n                    student[h][NAME] = name;\r\n                    student[h][GRADE] = grade;\r\n                    if (mark &gt;= 75) {\r\n                        student[h][REMARK] = &quot;Passed&quot;;\r\n                        totalp++;\r\n                    }\r\n                    else {\r\n                        student[h][REMARK] = &quot;Failed&quot;;\r\n                        totalf++;\r\n                    }\r\n                    h++;\r\n                    if (h == MAX_ROWS) {\r\n                        System.out.println(&quot;Maximum students entered.&quot;);\r\n                    }\r\n                    else {\r\n                        System.out.print(&quot;Add new record (Y/N)?: &quot;);\r\n                        String choice = sc.nextLine();\r\n                        if (!&quot;Y&quot;.equalsIgnoreCase(choice)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    throw new NumberFormatException();\r\n                }\r\n            }\r\n            catch (NumberFormatException xNumberFormat) {\r\n                System.out.println(&quot;Invalid. Grade is a number between 50 and 100.&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;\\nGRADE SUMMARY REPORT\\n&quot;);\r\n        if (longest &lt; 4) {\r\n            longest = 4;;\r\n        }\r\n        System.out.printf(&quot;%-&quot; + longest + &quot;s&quot;, &quot;Name&quot;);\r\n        System.out.println(&quot;   Grade  Remarks&quot;);\r\n        String format = &quot;%-&quot; + longest + &quot;s  %4s    %s%n&quot;;\r\n        for (int i = 0; i &lt; h; i++) {\r\n            System.out.printf(format, student[i][NAME], student[i][GRADE], student[i][REMARK]);\r\n        }\r\n        System.out.println();\r\n        System.out.println(&quot;Total passed: &quot; + totalp);\r\n        System.out.println(&quot;Total failed: &quot; + totalf);\r\n    }\r\n}\r\n```\r\nHere is output from a sample run of the above code:\r\n```none\r\nEnter Name: Superman\r\nEnter Grade: 99\r\nAdd new record (Y/N)?: y\r\n\r\nEnter Name: Batman\r\nEnter Grade: 23\r\nInvalid. Grade is a number between 50 and 100.\r\n\r\nEnter Name: Iron Man\r\nEnter Grade: 74\r\nAdd new record (Y/N)?: n\r\n\r\nGRADE SUMMARY REPORT\r\n\r\nName       Grade  Remarks\r\nSuperman    99    Passed\r\nIron Man    74    Failed\r\n\r\nTotal passed: 1\r\nTotal failed: 1\r\n```\r\nYou may also want to refer to the [Exceptions](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html) lesson in Oracle&#39;s Java tutorials.\r\n","title":"How to show only the grades","body":"<p>If a grade entered by the user is invalid, just don't add it to <code>student</code> array. Then it won't get printed at all. You should also handle the case where the user does not enter a number when asked to enter a grade.</p>\n<p>When asking the user if she wants to add a new record, you only need to check whether she entered a <code>Y</code>. Anything else can be considered a <em>no</em>.</p>\n<p>The below code uses method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">printf</a> to format the report. Also, in order to format the report, I keep track of the longest name entered by the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Students {\n    private static final int MAX_ROWS = 100;\n    private static final int NAME = 0;\n    private static final int GRADE = 1;\n    private static final int REMARK = 2;\n\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n        String[][] student = new String[MAX_ROWS][3];\n        int totalp = 0, totalf = 0, longest = 0;\n        int h = 0;\n        while (h &lt; MAX_ROWS) {\n            System.out.print(&quot;Enter Name: &quot;);\n            String name = sc.nextLine();\n            int len = name.length();\n            if (len &gt; longest) {\n                longest = len;\n            }\n            System.out.print(&quot;Enter Grade: &quot;);\n            String grade = sc.nextLine();\n            try {\n                int mark = Integer.parseInt(grade);\n                if (mark &gt;= 50  &amp;&amp;  mark &lt;= 100) {\n                    student[h][NAME] = name;\n                    student[h][GRADE] = grade;\n                    if (mark &gt;= 75) {\n                        student[h][REMARK] = &quot;Passed&quot;;\n                        totalp++;\n                    }\n                    else {\n                        student[h][REMARK] = &quot;Failed&quot;;\n                        totalf++;\n                    }\n                    h++;\n                    if (h == MAX_ROWS) {\n                        System.out.println(&quot;Maximum students entered.&quot;);\n                    }\n                    else {\n                        System.out.print(&quot;Add new record (Y/N)?: &quot;);\n                        String choice = sc.nextLine();\n                        if (!&quot;Y&quot;.equalsIgnoreCase(choice)) {\n                            break;\n                        }\n                    }\n                }\n                else {\n                    throw new NumberFormatException();\n                }\n            }\n            catch (NumberFormatException xNumberFormat) {\n                System.out.println(&quot;Invalid. Grade is a number between 50 and 100.&quot;);\n            }\n            System.out.println();\n        }\n        System.out.println(&quot;\\nGRADE SUMMARY REPORT\\n&quot;);\n        if (longest &lt; 4) {\n            longest = 4;;\n        }\n        System.out.printf(&quot;%-&quot; + longest + &quot;s&quot;, &quot;Name&quot;);\n        System.out.println(&quot;   Grade  Remarks&quot;);\n        String format = &quot;%-&quot; + longest + &quot;s  %4s    %s%n&quot;;\n        for (int i = 0; i &lt; h; i++) {\n            System.out.printf(format, student[i][NAME], student[i][GRADE], student[i][REMARK]);\n        }\n        System.out.println();\n        System.out.println(&quot;Total passed: &quot; + totalp);\n        System.out.println(&quot;Total failed: &quot; + totalf);\n    }\n}\n</code></pre>\n<p>Here is output from a sample run of the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter Name: Superman\nEnter Grade: 99\nAdd new record (Y/N)?: y\n\nEnter Name: Batman\nEnter Grade: 23\nInvalid. Grade is a number between 50 and 100.\n\nEnter Name: Iron Man\nEnter Grade: 74\nAdd new record (Y/N)?: n\n\nGRADE SUMMARY REPORT\n\nName       Grade  Remarks\nSuperman    99    Passed\nIron Man    74    Failed\n\nTotal passed: 1\nTotal failed: 1\n</code></pre>\n<p>You may also want to refer to the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">Exceptions</a> lesson in Oracle's Java tutorials.</p>\n"}],"owner":{"account_id":22983902,"reputation":3,"user_id":17110401,"display_name":"Mai Sakurajima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73890424,"answer_count":2,"score":-2,"last_activity_date":1664439805,"creation_date":1664421200,"question_id":73889913,"body_markdown":"I made the invalid grades into &quot; &quot; but it seems in output it&#39;s showing space like this https://i.stack.imgur.com/3kHZW.png how to show only the valid grades? the invalid grades is making blank space in output\r\n\r\nThis is the question https://i.stack.imgur.com/uxLhG.png\r\n\r\nThis is the needed output https://i.stack.imgur.com/HNZpZ.png\r\n\r\nThis is my Program\r\n\r\n```java\r\nString [][] student = new String[100][3];\r\nint stu = 0, totalp=0, totalf=0;\r\n\r\nfor(int h=0; h&lt;100; h++) {\r\n    System.out.print(&quot;Enter Name: &quot;);\r\n    student[h][0] = sc.nextLine();\r\n    System.out.print(&quot;Enter Grade: &quot;);\r\n    student[h][1] = sc.nextLine();\r\n\r\n    int grade = Integer.parseInt(student[h][1]);\r\n    if(grade &gt;100 || grade &lt;50) {\r\n        student[h][0] = &quot;&quot;;\r\n        student[h][1] = &quot;&quot;;\r\n        student[h][2] = &quot;&quot;;\r\n        System.out.println(&quot;Invalid Grade&quot;);\r\n    }\r\n    else if(grade &gt;=75) {\r\n        student[h][2] = (&quot;Passed&quot;);\r\n        totalp++;\r\n    }\r\n    else if(grade &lt;=74) {\r\n        student[h][2] = (&quot;Failed&quot;);\r\n        totalf++;\r\n    }\r\n    System.out.print(&quot;Add new record (Y/N)?: &quot;);\r\n    char choice = sc.nextLine().charAt(0);\r\n    System.out.println(&quot;&quot;);\r\n    if(choice == &#39;y&#39; || choice ==&#39;Y&#39;) {\r\n        stu++;\r\n        continue;\r\n    }\r\n    else if(choice == &#39;n&#39; ||choice ==&#39;N&#39;) {\r\n        break;\r\n    }\r\n}\r\nSystem.out.println(&quot;\\nGRADE SUMMARY REPORT&quot;);\r\nSystem.out.println(&quot;\\nName\\tGrades\\tRemarks&quot;);\r\nfor(int i =0; i&lt;stu+1; i++) {\r\n    for(int h =0; h&lt;student[i].length; h++) {\r\n        System.out.print(student[i][h] + &quot;\\t&quot;);\r\n    }\r\n    System.out.println();\r\n}\r\nSystem.out.println(&quot;\\nTotal Passed: &quot; + totalp);\r\nSystem.out.println(&quot;Total Failed: &quot;+ totalf);\r\n```\r\n","title":"How to show only the grades","body":"<p>I made the invalid grades into &quot; &quot; but it seems in output it's showing space like this <a href=\"https://i.stack.imgur.com/3kHZW.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3kHZW.png</a> how to show only the valid grades? the invalid grades is making blank space in output</p>\n<p>This is the question <a href=\"https://i.stack.imgur.com/uxLhG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/uxLhG.png</a></p>\n<p>This is the needed output <a href=\"https://i.stack.imgur.com/HNZpZ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/HNZpZ.png</a></p>\n<p>This is my Program</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [][] student = new String[100][3];\nint stu = 0, totalp=0, totalf=0;\n\nfor(int h=0; h&lt;100; h++) {\n    System.out.print(&quot;Enter Name: &quot;);\n    student[h][0] = sc.nextLine();\n    System.out.print(&quot;Enter Grade: &quot;);\n    student[h][1] = sc.nextLine();\n\n    int grade = Integer.parseInt(student[h][1]);\n    if(grade &gt;100 || grade &lt;50) {\n        student[h][0] = &quot;&quot;;\n        student[h][1] = &quot;&quot;;\n        student[h][2] = &quot;&quot;;\n        System.out.println(&quot;Invalid Grade&quot;);\n    }\n    else if(grade &gt;=75) {\n        student[h][2] = (&quot;Passed&quot;);\n        totalp++;\n    }\n    else if(grade &lt;=74) {\n        student[h][2] = (&quot;Failed&quot;);\n        totalf++;\n    }\n    System.out.print(&quot;Add new record (Y/N)?: &quot;);\n    char choice = sc.nextLine().charAt(0);\n    System.out.println(&quot;&quot;);\n    if(choice == 'y' || choice =='Y') {\n        stu++;\n        continue;\n    }\n    else if(choice == 'n' ||choice =='N') {\n        break;\n    }\n}\nSystem.out.println(&quot;\\nGRADE SUMMARY REPORT&quot;);\nSystem.out.println(&quot;\\nName\\tGrades\\tRemarks&quot;);\nfor(int i =0; i&lt;stu+1; i++) {\n    for(int h =0; h&lt;student[i].length; h++) {\n        System.out.print(student[i][h] + &quot;\\t&quot;);\n    }\n    System.out.println();\n}\nSystem.out.println(&quot;\\nTotal Passed: &quot; + totalp);\nSystem.out.println(&quot;Total Failed: &quot;+ totalf);\n</code></pre>\n"},{"tags":["java","spring-boot","application.properties","spring-context","tomcat10"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1662458992,"post_id":73620128,"comment_id":130004751,"body_markdown":"`encriptor`? You sure that is correct? Also you can use `/bin/tomcat10w.exe` to set java options","body":"<code>encriptor</code>? You sure that is correct? Also you can use <code>&#47;bin&#47;tomcat10w.exe</code> to set java options"},{"owner":{"account_id":13168541,"reputation":57,"user_id":9511815,"display_name":"abeld89"},"score":0,"creation_date":1662459874,"post_id":73620128,"comment_id":130005049,"body_markdown":"Yes, I need to set jasypt.encryptor.password before the app is UP because If this property is not set, the app throws an exception and don&#39;t start up. I tried to set this property in the /bin/setenv.bat like: set &quot;JAVA_OPTS=%JAVA_OPTS% -Djasypt.encryptor.password=&quot;secret&quot; and don&#39;t works.","body":"Yes, I need to set jasypt.encryptor.password before the app is UP because If this property is not set, the app throws an exception and don&#39;t start up. I tried to set this property in the /bin/setenv.bat like: set &quot;JAVA_OPTS=%JAVA_OPTS% -Djasypt.encryptor.password=&quot;secret&quot; and don&#39;t works."},{"owner":{"account_id":28153,"reputation":3983,"user_id":74890,"accept_rate":64,"display_name":"digitalbreed"},"score":0,"creation_date":1662460432,"post_id":73620128,"comment_id":130005210,"body_markdown":"Try removing the quotes from the password value; this might have unexpected effects on the parsing of the environment variable.","body":"Try removing the quotes from the password value; this might have unexpected effects on the parsing of the environment variable."},{"owner":{"account_id":13168541,"reputation":57,"user_id":9511815,"display_name":"abeld89"},"score":0,"creation_date":1662469360,"post_id":73620128,"comment_id":130008429,"body_markdown":"No, it doesn&#39;t matter. I tried to set with doble quote or simple quote or nothing, all time I get the same result. The main problem is that I can&#39;t arrive to Override method configure, the application fails before, because I added a log.debug before the line return application.sources(App.class); and don&#39;t see anything.","body":"No, it doesn&#39;t matter. I tried to set with doble quote or simple quote or nothing, all time I get the same result. The main problem is that I can&#39;t arrive to Override method configure, the application fails before, because I added a log.debug before the line return application.sources(App.class); and don&#39;t see anything."}],"answers":[{"tags":[],"owner":{"account_id":13168541,"reputation":57,"user_id":9511815,"display_name":"abeld89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664439805,"creation_date":1664439805,"answer_id":73892459,"question_id":73620128,"body_markdown":"The solution in the end was to create the file setenv.bat in ${TOMCAT_HOME}/bin/setenv.bat\r\n\r\nFollowing the approach: https://stackoverflow.com/questions/14984256/how-to-pass-the-d-additional-parameter-while-starting-tomcat\r\n\r\nThe content of setenv.bat:\r\n\r\n    set CATALINA_OPTS=%CATALINA_OPTS -Djasypt.encryptor.password=&quot;secret&quot;","title":"Tomcat 10 pass Environment Variable or Property to spring boot context","body":"<p>The solution in the end was to create the file setenv.bat in ${TOMCAT_HOME}/bin/setenv.bat</p>\n<p>Following the approach: <a href=\"https://stackoverflow.com/questions/14984256/how-to-pass-the-d-additional-parameter-while-starting-tomcat\">How to pass the -D additional parameter while starting tomcat?</a></p>\n<p>The content of setenv.bat:</p>\n<pre><code>set CATALINA_OPTS=%CATALINA_OPTS -Djasypt.encryptor.password=&quot;secret&quot;\n</code></pre>\n"}],"owner":{"account_id":13168541,"reputation":57,"user_id":9511815,"display_name":"abeld89"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73892459,"answer_count":1,"score":0,"last_activity_date":1664439805,"creation_date":1662458425,"question_id":73620128,"body_markdown":"Well, I&#39;m trying to deploy a spring boot application in a tomcat 10 server, passing a one environment key. I need to pass de &quot;secret&quot; of jasypt for decode the passwords in my application, but I can&#39;t do this because the context don&#39;t run the same as the spring boot application normally.\r\n\r\nIn my `App.java` with main loos like\r\n```java\r\npublic class App extends SpringBootServletInitializer {\r\n\r\n    @Override\r\n      protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(App.class);\r\n      }\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        setProp();\r\n        final SpringApplication application = new SpringApplication(AppBatch.class);\r\n        application.run(args);\r\n      }\r\n\r\n    private static void setProp() throws Exception {\r\n        // Context ctx = new InitialContext();\r\n        // Context envCtx = (Context) ctx.lookup(&quot;java:comp/env&quot;);\r\n        // String propertyKey = (String) envCtx.lookup(&quot;jasypt.encriptor.password&quot;);\r\n        String propertyKey = System.getProperty(&quot;jasypt.encriptor.password&quot;);\r\n        Properties props = new Properties(System.getProperties());\r\n        if (propertyKey != null &amp;&amp; !propertyKey.isEmpty()) {\r\n          props.setProperty(&quot;jasypt.encryptor.password&quot;, propertyKey);\r\n          System.setProperties(props);\r\n        } else {\r\n          throw new Exception(&quot;Not setted property in jasypt password&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nThis code works with an application runs in a normally deploy with Spring Boot, with the \r\n\r\n```\r\njava -jar -Djasypt.encryptor.password=&quot;secret&quot; app.jar ...\r\n```\r\n\r\nThe code commented is that I tried with tomcat but don&#39;t work, the application starts even before that this code, I can&#39;t see any log, even this log was in the method configure. But in the tomcat 10, this approach don&#39;t work. I need to pass this secret like a property or with the environment. How can I do?","title":"Tomcat 10 pass Environment Variable or Property to spring boot context","body":"<p>Well, I'm trying to deploy a spring boot application in a tomcat 10 server, passing a one environment key. I need to pass de &quot;secret&quot; of jasypt for decode the passwords in my application, but I can't do this because the context don't run the same as the spring boot application normally.</p>\n<p>In my <code>App.java</code> with main loos like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App extends SpringBootServletInitializer {\n\n    @Override\n      protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(App.class);\n      }\n    \n      public static void main(String[] args) throws Exception {\n        setProp();\n        final SpringApplication application = new SpringApplication(AppBatch.class);\n        application.run(args);\n      }\n\n    private static void setProp() throws Exception {\n        // Context ctx = new InitialContext();\n        // Context envCtx = (Context) ctx.lookup(&quot;java:comp/env&quot;);\n        // String propertyKey = (String) envCtx.lookup(&quot;jasypt.encriptor.password&quot;);\n        String propertyKey = System.getProperty(&quot;jasypt.encriptor.password&quot;);\n        Properties props = new Properties(System.getProperties());\n        if (propertyKey != null &amp;&amp; !propertyKey.isEmpty()) {\n          props.setProperty(&quot;jasypt.encryptor.password&quot;, propertyKey);\n          System.setProperties(props);\n        } else {\n          throw new Exception(&quot;Not setted property in jasypt password&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>This code works with an application runs in a normally deploy with Spring Boot, with the</p>\n<pre><code>java -jar -Djasypt.encryptor.password=&quot;secret&quot; app.jar ...\n</code></pre>\n<p>The code commented is that I tried with tomcat but don't work, the application starts even before that this code, I can't see any log, even this log was in the method configure. But in the tomcat 10, this approach don't work. I need to pass this secret like a property or with the environment. How can I do?</p>\n"},{"tags":["java","maven","parent-child","multi-module","maven-module"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1664438741,"post_id":73892194,"comment_id":130473134,"body_markdown":"Hello and welcome. Please don&#39;t indent the first line of each paragraph. It messes up the formatting. Also, generally, please go easy on the formatting and avoid superfluous blockquotes (`&gt;`) and **strong** text.","body":"Hello and welcome. Please don&#39;t indent the first line of each paragraph. It messes up the formatting. Also, generally, please go easy on the formatting and avoid superfluous blockquotes (<code>&gt;</code>) and <b>strong</b> text."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1664439458,"post_id":73892194,"comment_id":130473387,"body_markdown":"First you should check your build via `mvn clean verify` ... `mvn clean install` can hide some issues... furthermore it would be helpful to really see the failing output messages...","body":"First you should check your build via <code>mvn clean verify</code> ... <code>mvn clean install</code> can hide some issues... furthermore it would be helpful to really see the failing output messages..."},{"owner":{"account_id":26477986,"reputation":11,"user_id":20117605,"display_name":"user20117605"},"score":0,"creation_date":1664441067,"post_id":73892194,"comment_id":130473921,"body_markdown":"/Users/git/abc/xyz/src/main/java/com/abc/proj/xy/service/impl/CSTV2Service.java:[16,44] error: package com.abc.proj.commons.auth.accessor does not exist","body":"/Users/git/abc/xyz/src/main/java/com/abc/proj/xy/service/imp&zwnj;&#8203;l/CSTV2Service.java:&zwnj;&#8203;[16,44] error: package com.abc.proj.commons.auth.accessor does not exist"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1664441604,"post_id":73892194,"comment_id":130474127,"body_markdown":"Where are you running the maven command? In parent or in xyz?","body":"Where are you running the maven command? In parent or in xyz?"},{"owner":{"account_id":26477986,"reputation":11,"user_id":20117605,"display_name":"user20117605"},"score":0,"creation_date":1664447467,"post_id":73892194,"comment_id":130476124,"body_markdown":"I have tried in both parent and xyz","body":"I have tried in both parent and xyz"}],"owner":{"account_id":26477986,"reputation":11,"user_id":20117605,"display_name":"user20117605"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664439138,"creation_date":1664438523,"question_id":73892194,"body_markdown":"I have three child maven modules.\r\n    \r\n**Parent module pom looks like this:**\r\n    \r\n  \r\n\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n            &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;proj&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1&lt;/version&gt;\r\n        \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n            &lt;parent&gt;\r\n                &lt;groupId&gt;com.abc.xyz&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xyz-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;8.247.0&lt;/version&gt;\r\n                &lt;relativePath/&gt;\r\n            &lt;/parent&gt;\r\n        \r\n            &lt;properties&gt;\r\n                &lt;java.version&gt;11&lt;/java.version&gt;\r\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                &lt;start-class&gt;Application&lt;/start-class&gt;\r\n                &lt;cassandra.version&gt;3.7.1&lt;/cassandra.version&gt;\r\n             \r\n            &lt;/properties&gt;\r\n        \r\n            \r\n            &lt;name&gt;orders&lt;/name&gt;\r\n            \r\n        \r\n            &lt;dependencies&gt;\r\n        \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.3.19&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n        \r\n                \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.typesafe&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;config&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.openpojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openpojo&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.9.1&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.9&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            \r\n                &lt;dependency&gt;\r\n                    &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n        \t\t  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        \t\t  &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n        \t\t  &lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        \r\n        \r\n          \r\n            &lt;modules&gt;\r\n           \t \t&lt;module&gt;commons&lt;/module&gt;\r\n            \t&lt;module&gt;xyz&lt;/module&gt;\r\n            \t\r\n            &lt;/modules&gt;\r\n        &lt;/project&gt;\r\n    \r\n    \r\n    \r\n   \r\n\r\nChild Module - Common Looks like\r\n\r\n\r\n  \r\n\r\n     &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n          &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n          &lt;parent&gt;\r\n            &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;proj&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1&lt;/version&gt;\r\n          &lt;/parent&gt;\r\n          &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons&lt;/artifactId&gt;\r\n          &lt;name&gt;commons&lt;/name&gt;\r\n    \r\n      \r\n    &lt;/project&gt;\r\n        \r\n  \r\n\r\nChild Module - xyz Looks like\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;proj&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xyz&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      \r\n      \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\n   \r\nIn xyz Module I added commons dependency.\r\n    \r\nWhen I run `mvn clean install` in order to builds all the modules. xyz module is failing because it not able to resolve the package of from commons jar.\r\n\r\nI tried running `mvn dependency:list` I am able to see the common jars in xyz module.\r\n\r\nI commented all the classes in xyz and tried to build it once. I was able ti build successfully and when i extracted xyz-01.jar, I found that, it contains commons jar in it. But still not able to\r\n resolve the package.\r\n\r\nAny idea or help?\r\n\r\n","title":"Package can not be resolved error, even dependency is included in the maven module","body":"<p>I have three child maven modules.</p>\n<p><strong>Parent module pom looks like this:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    \n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n        &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\n        &lt;artifactId&gt;proj&lt;/artifactId&gt;\n        &lt;version&gt;0.1&lt;/version&gt;\n        &lt;packaging&gt;pom&lt;/packaging&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;com.abc.xyz&lt;/groupId&gt;\n            &lt;artifactId&gt;xyz-parent&lt;/artifactId&gt;\n            &lt;version&gt;8.247.0&lt;/version&gt;\n            &lt;relativePath/&gt;\n        &lt;/parent&gt;\n    \n        &lt;properties&gt;\n            &lt;java.version&gt;11&lt;/java.version&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;start-class&gt;Application&lt;/start-class&gt;\n            &lt;cassandra.version&gt;3.7.1&lt;/cassandra.version&gt;\n         \n        &lt;/properties&gt;\n    \n        \n        &lt;name&gt;orders&lt;/name&gt;\n        \n    \n        &lt;dependencies&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n                &lt;version&gt;5.3.19&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.typesafe&lt;/groupId&gt;\n                &lt;artifactId&gt;config&lt;/artifactId&gt;\n                &lt;version&gt;1.4.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.openpojo&lt;/groupId&gt;\n                &lt;artifactId&gt;openpojo&lt;/artifactId&gt;\n                &lt;version&gt;0.9.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n                &lt;version&gt;1.9&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n                &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\n                &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n              &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n              &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n    \n      \n        &lt;modules&gt;\n            &lt;module&gt;commons&lt;/module&gt;\n            &lt;module&gt;xyz&lt;/module&gt;\n            \n        &lt;/modules&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>Child Module - Common Looks like</p>\n<pre><code> &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;parent&gt;\n        &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\n        &lt;artifactId&gt;proj&lt;/artifactId&gt;\n        &lt;version&gt;0.1&lt;/version&gt;\n      &lt;/parent&gt;\n      &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\n      &lt;artifactId&gt;commons&lt;/artifactId&gt;\n      &lt;name&gt;commons&lt;/name&gt;\n\n  \n&lt;/project&gt;\n    \n</code></pre>\n<p>Child Module - xyz Looks like</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\n    &lt;artifactId&gt;proj&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n  &lt;/parent&gt;\n  \n  &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\n  &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  \n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.abc.proj&lt;/groupId&gt;\n        &lt;artifactId&gt;commons&lt;/artifactId&gt;\n        &lt;version&gt;0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<p>In xyz Module I added commons dependency.</p>\n<p>When I run <code>mvn clean install</code> in order to builds all the modules. xyz module is failing because it not able to resolve the package of from commons jar.</p>\n<p>I tried running <code>mvn dependency:list</code> I am able to see the common jars in xyz module.</p>\n<p>I commented all the classes in xyz and tried to build it once. I was able ti build successfully and when i extracted xyz-01.jar, I found that, it contains commons jar in it. But still not able to\nresolve the package.</p>\n<p>Any idea or help?</p>\n"},{"tags":["java","android","listview","hashmap"],"comments":[{"owner":{"account_id":7302782,"reputation":158,"user_id":5564845,"display_name":"Saurabh"},"score":0,"creation_date":1664443890,"post_id":73892327,"comment_id":130474938,"body_markdown":"If you want to show it in listview simply you can use your list with `arrayadapter` why you want to use hashmap? It would be better to use recyclerview instead of listview for better performance.","body":"If you want to show it in listview simply you can use your list with <code>arrayadapter</code> why you want to use hashmap? It would be better to use recyclerview instead of listview for better performance."},{"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"score":0,"creation_date":1664495442,"post_id":73892327,"comment_id":130491245,"body_markdown":"The reason a Hashmap is used was due to the requirements set out in the assignment explicitly requesting a hashmap. A listview was suggested by someone else to use as the output, however, I will try a recycler view instead. Thanks","body":"The reason a Hashmap is used was due to the requirements set out in the assignment explicitly requesting a hashmap. A listview was suggested by someone else to use as the output, however, I will try a recycler view instead. Thanks"}],"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664439132,"creation_date":1664439132,"question_id":73892327,"body_markdown":"I&#39;m very new to programming through Android Studio (Java) and completing an assignment that requires an endless list for a &quot;Product inventory&quot;. The Values, &lt;String, Integer&gt; Which are Product and quantity are retrieved from a local database (room). The expectation is that the values are first stored in a HashMap then output to a ListView. Unfortunately the learning material provided did not cover this process, and I have been unable to find a method online that I understand and can get to work. The code of what I have tried is below:\r\n\r\n````\r\n    private String product;\r\n    private Integer quantity;\r\n    private ListView inventoryListView;\r\n    private SimpleAdapter listAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_inventory_main_menu);\r\n        inventoryDatabase = Room.databaseBuilder(getApplicationContext(),\r\n                InventoryDatabase.class, &quot;inventorydb&quot;).allowMainThreadQueries().build();\r\n\r\n        // Set references to widgets\r\n        final TextView welcome = findViewById(R.id.textViewWelcome);\r\n        Button buttonManageInventory = findViewById(R.id.buttonManageInventory);\r\n        Button buttonLogout = findViewById(R.id.buttonLogOut);\r\n\r\n\r\n        //Set welcome message to active user and change color\r\n        welcome.setTextColor(MainActivity.activeUserFavColor);\r\n        welcome.setText(&quot;Welcome &quot; + MainActivity.activeUsername);\r\n        \r\n        // Query Database + Method for Product &amp; Quantity\r\n        List&lt;Inventory&gt; inventoryList = inventoryDatabase.dao().getInventory();\r\n\r\n        for (Inventory inv : inventoryList) {\r\n            product = inv.getProduct();\r\n            quantity = inv.getQuantity();\r\n\r\n            HashMap&lt;String, Integer&gt; inventory = new HashMap&lt;&gt;();\r\n            \r\n ````\r\nI have learnt how to retrieve info from the database via a List&lt;Inventory&gt; but I feel I should be able to complete the import direct to the HashMap. \r\n\r\nAs for the ListView, I have seen the use of a SimpleAdapter to allow the conversion from HashMap  to ListView to work, but have no experience in using this. Any suggestions would be greatly appreciated. \r\n","title":"Outputting data from a Hash Map to ListView in Android Studio (Java)","body":"<p>I'm very new to programming through Android Studio (Java) and completing an assignment that requires an endless list for a &quot;Product inventory&quot;. The Values, &lt;String, Integer&gt; Which are Product and quantity are retrieved from a local database (room). The expectation is that the values are first stored in a HashMap then output to a ListView. Unfortunately the learning material provided did not cover this process, and I have been unable to find a method online that I understand and can get to work. The code of what I have tried is below:</p>\n<pre><code>    private String product;\n    private Integer quantity;\n    private ListView inventoryListView;\n    private SimpleAdapter listAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_inventory_main_menu);\n        inventoryDatabase = Room.databaseBuilder(getApplicationContext(),\n                InventoryDatabase.class, &quot;inventorydb&quot;).allowMainThreadQueries().build();\n\n        // Set references to widgets\n        final TextView welcome = findViewById(R.id.textViewWelcome);\n        Button buttonManageInventory = findViewById(R.id.buttonManageInventory);\n        Button buttonLogout = findViewById(R.id.buttonLogOut);\n\n\n        //Set welcome message to active user and change color\n        welcome.setTextColor(MainActivity.activeUserFavColor);\n        welcome.setText(&quot;Welcome &quot; + MainActivity.activeUsername);\n        \n        // Query Database + Method for Product &amp; Quantity\n        List&lt;Inventory&gt; inventoryList = inventoryDatabase.dao().getInventory();\n\n        for (Inventory inv : inventoryList) {\n            product = inv.getProduct();\n            quantity = inv.getQuantity();\n\n            HashMap&lt;String, Integer&gt; inventory = new HashMap&lt;&gt;();\n            \n</code></pre>\n<p>I have learnt how to retrieve info from the database via a List but I feel I should be able to complete the import direct to the HashMap.</p>\n<p>As for the ListView, I have seen the use of a SimpleAdapter to allow the conversion from HashMap  to ListView to work, but have no experience in using this. Any suggestions would be greatly appreciated.</p>\n"},{"tags":["java","mongodb","quarkus","quarkus-panache","quarkus-reactive"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1663005346,"post_id":73459302,"comment_id":130132765,"body_markdown":"can you put a reproducer to github ? https://stackoverflow.com/help/minimal-reproducible-example","body":"can you put a reproducer to github ? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664438970,"creation_date":1664438970,"answer_id":73892304,"question_id":73459302,"body_markdown":"It seems at the moment, panache does not support transactions in mongodb which was the source of this issue.","title":"Pubsub message with reactive panache monogodb failing to create ReactiveTransaction with session is null error","body":"<p>It seems at the moment, panache does not support transactions in mongodb which was the source of this issue.</p>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73892304,"answer_count":1,"score":0,"last_activity_date":1664438970,"creation_date":1661260036,"question_id":73459302,"body_markdown":"I have a quarkus project connecting to monogdb using reactive panache. \r\n\r\nI would like my method to be wrapped in a transaction and my current code looks roughly as follows:\r\n\r\n```\r\n@Traced\r\n@ApplicationScoped\r\n@Startup\r\npublic class MyReceiver implements com.google.cloud.pubsub.v1.MessageRecevier {\r\n    @Override\r\n    @ActivateRequestContext\r\n    public void receiveMessage(PubsubMessage pubsubMessage, AckReplyConsumer ackReplyConsumer) {\r\n        try {\r\n            final String messageStr = pubsubMessage.getData().toStringUtf8();\r\n            final MyMessage messageContent = objectMapper.readValue(messageStr, getTypeReference());\r\n            handleMessage(messageContent).await().indefinitely();\r\n\r\n            ackReplyConsumer.ack();\r\n        } catch (Throwable ex) {\r\n            log.warn(&quot;{} Message ID: [{}]  on [{}] &quot;, ex.getMessage(), pubsubMessage.getMessageId(), subscriptionName);\r\n            ackReplyConsumer.nack();\r\n        }\r\n    }\r\n\r\n    public TypeReference&lt;MyMessage&gt; getTypeReference() { \r\n      return new TypeReference&lt;&gt;(){};\r\n    }\r\n\r\n    @ReactiveTransactional\r\n    public Uni&lt;Void&gt; handleMessage(MyMessage message) {\r\n        // code here is never reached\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nWhen i try to test my code however and get a message, \r\n\r\nI am getting this error: `java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.reactive.mutiny.Mutiny$Session.withTransaction(java.util.function.Function)&quot; because &quot;session&quot; is null` \r\n\r\nAnd it happens when the code tries to go into `handleMessage`, so when the aspect for `@ReactiveTransactional` is being triggered\r\n\r\nWhat can I look out for that is causing this cause I can&#39;t find anything that can be the source of the issue.\r\n","title":"Pubsub message with reactive panache monogodb failing to create ReactiveTransaction with session is null error","body":"<p>I have a quarkus project connecting to monogdb using reactive panache.</p>\n<p>I would like my method to be wrapped in a transaction and my current code looks roughly as follows:</p>\n<pre><code>@Traced\n@ApplicationScoped\n@Startup\npublic class MyReceiver implements com.google.cloud.pubsub.v1.MessageRecevier {\n    @Override\n    @ActivateRequestContext\n    public void receiveMessage(PubsubMessage pubsubMessage, AckReplyConsumer ackReplyConsumer) {\n        try {\n            final String messageStr = pubsubMessage.getData().toStringUtf8();\n            final MyMessage messageContent = objectMapper.readValue(messageStr, getTypeReference());\n            handleMessage(messageContent).await().indefinitely();\n\n            ackReplyConsumer.ack();\n        } catch (Throwable ex) {\n            log.warn(&quot;{} Message ID: [{}]  on [{}] &quot;, ex.getMessage(), pubsubMessage.getMessageId(), subscriptionName);\n            ackReplyConsumer.nack();\n        }\n    }\n\n    public TypeReference&lt;MyMessage&gt; getTypeReference() { \n      return new TypeReference&lt;&gt;(){};\n    }\n\n    @ReactiveTransactional\n    public Uni&lt;Void&gt; handleMessage(MyMessage message) {\n        // code here is never reached\n    }\n\n}\n</code></pre>\n<p>When i try to test my code however and get a message,</p>\n<p>I am getting this error: <code>java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.reactive.mutiny.Mutiny$Session.withTransaction(java.util.function.Function)&quot; because &quot;session&quot; is null</code></p>\n<p>And it happens when the code tries to go into <code>handleMessage</code>, so when the aspect for <code>@ReactiveTransactional</code> is being triggered</p>\n<p>What can I look out for that is causing this cause I can't find anything that can be the source of the issue.</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":25967794,"reputation":25,"user_id":19683506,"display_name":"Mohamed r"},"score":0,"creation_date":1664273645,"post_id":73865590,"comment_id":130428380,"body_markdown":"Hi, It is XMLTokenizeLanguage a full language ? with logical operator ( or , and, ... etc) and with more instructions ?","body":"Hi, It is XMLTokenizeLanguage a full language ? with logical operator ( or , and, ... etc) and with more instructions ?"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1664348342,"post_id":73865590,"comment_id":130447971,"body_markdown":"Please provide your input XML content and the real expression used as parameter of the method `xtokenize`","body":"Please provide your input XML content and the real expression used as parameter of the method <code>xtokenize</code>"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1664355619,"post_id":73865590,"comment_id":130450469,"body_markdown":"please add a simple example to your question instead of as comment","body":"please add a simple example to your question instead of as comment"},{"owner":{"account_id":25967794,"reputation":25,"user_id":19683506,"display_name":"Mohamed r"},"score":0,"creation_date":1664357801,"post_id":73865590,"comment_id":130451288,"body_markdown":"Sorry I tried to edit it in the summary, feel free to ask more details","body":"Sorry I tried to edit it in the summary, feel free to ask more details"},{"owner":{"account_id":25967794,"reputation":25,"user_id":19683506,"display_name":"Mohamed r"},"score":0,"creation_date":1664376977,"post_id":73865590,"comment_id":130458634,"body_markdown":"Hello Nicolas, Is the XML content understandable to you ?","body":"Hello Nicolas, Is the XML content understandable to you ?"}],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664438958,"creation_date":1664436907,"answer_id":73891862,"question_id":73865590,"body_markdown":"You need to change the `xtokenize` expression to include all its potential children which are `Links` and `Location` according to [its schema definition][1] by using the wildcard character `*`.\r\n\r\nThe right code for the `split` should then be `.split(body().xtokenize(&quot;/ns1:LocationMessages/ns1:*&quot;, &#39;i&#39;, ns)).streaming()`\r\n\r\n\r\n  [1]: https://standards.iso.org/iso/15143/-3/ed-1/en/Locations.xsd","title":"XMLTokenizeLanguage on camel split EIP","body":"<p>You need to change the <code>xtokenize</code> expression to include all its potential children which are <code>Links</code> and <code>Location</code> according to <a href=\"https://standards.iso.org/iso/15143/-3/ed-1/en/Locations.xsd\" rel=\"nofollow noreferrer\">its schema definition</a> by using the wildcard character <code>*</code>.</p>\n<p>The right code for the <code>split</code> should then be <code>.split(body().xtokenize(&quot;/ns1:LocationMessages/ns1:*&quot;, 'i', ns)).streaming()</code></p>\n"}],"owner":{"account_id":25967794,"reputation":25,"user_id":19683506,"display_name":"Mohamed r"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73891862,"answer_count":1,"score":1,"last_activity_date":1664438958,"creation_date":1664272289,"question_id":73865590,"body_markdown":"I have a question about `XMLTokenizeLanguage` more specifically about [`XMLTokenExpressionIterator.java`][1]:\r\n\r\n[![screenshot][2]][2]\r\n\r\n`this.splitpath` accepts multiple tokens separated by &quot;/&quot;.\r\n\r\nI try to use it in this way: ==&gt; \r\n```\r\n.split(body().xtokenize(&quot;/ns1:[some type]/ns1:[another type]&quot; &#39;i&#39;, ns))\r\n    .streaming()\r\n```\r\nwhere ns and ns1 are namespaces \r\n\r\nBut no result in the pipeline \r\n\r\nCan you please share with me more content about `XMLTokenizeLanguage`.\r\n\r\nThe example in Camel website is about split of XML by 1 type [JAXB java POJO], what about 2 or more types [JAXB java POJOs]? is it even possible?\r\n\r\nhttps://camel.apache.org/components/3.18.x/eips/split-eip.html \r\n\r\n\r\n  [1]: https://github.com/apache/camel/blob/camel-3.18.x/core/camel-xml-jaxp/src/main/java/org/apache/camel/language/xtokenizer/XMLTokenExpressionIterator.java\r\n  [2]: https://i.stack.imgur.com/IpCBt.png\r\n\r\nThis is my XML Content :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;LocationMessages xmlns=&quot;http://standards.iso.org/iso/15143/-3&quot;&gt;\r\n    &lt;Links&gt;\r\n        &lt;rel&gt;self&lt;/rel&gt;\r\n        &lt;href&gt;https://[source domain name ]/public/api/aemp/v2/15143/-3/Fleet/Equipment/ID/[equipement id]/Locations/2021-01-01T00:00/2022-09-28T09:34:06.439553/1&lt;/href&gt;\r\n    &lt;/Links&gt;\r\n    &lt;Links&gt;\r\n        &lt;rel&gt;last&lt;/rel&gt;\r\n        &lt;href&gt;https://[source domain\r\n            name]/public/api/aemp/v2/15143/-3/Fleet/Equipment/ID/[equipement\r\n            id]/Locations/2021-01-01T00:00/2022-09-\r\n            28T09:34:06.439553/1&lt;/href&gt;\r\n    &lt;/Links&gt;\r\n    &lt;Location datetime=&quot;2022-04-05T09:52:53Z&quot;&gt;\r\n        &lt;Latitude&gt;43.290143&lt;/Latitude&gt;\r\n        &lt;Longitude&gt;5.491987&lt;/Longitude&gt;\r\n        &lt;Altitude&gt;102.375&lt;/Altitude&gt;\r\n        &lt;AltitudeUnits&gt;metre&lt;/AltitudeUnits&gt;\r\n    &lt;/Location&gt;\r\n    &lt;Location datetime=&quot;2022-05-04T13:50:57Z&quot;&gt;\r\n        &lt;Latitude&gt;43.289926&lt;/Latitude&gt;\r\n        &lt;Longitude&gt;5.492582&lt;/Longitude&gt;\r\n        &lt;Altitude&gt;77.0&lt;/Altitude&gt;\r\n        &lt;AltitudeUnits&gt;metre&lt;/AltitudeUnits&gt;\r\n    &lt;/Location&gt;\r\n&lt;/LocationMessages&gt;\r\n```\r\n\r\nThis is namespace declaration :\r\n\r\n```\r\nNamespaces ns = new Namespaces(&quot;ns1&quot;, &quot;http://standards.iso.org/iso/15143/-3&quot;);\r\n```\r\n\r\nAnd this is the split by xtokenize language  definition :\r\n \r\n\r\n    .split(body().xtokenize(&quot;/ns1:Links/ns1:Location&quot;, &#39;i&#39;, ns)).streaming()\r\n\r\n \r\n The split xtokenize work for me when I use 1 type at a time ( Links or Location), but I don&#39;t want to use (.multicast()) to duplicate pipeline. \r\n \r\n I want tokenize by 2 types (Links and Location) and after that apply content routing EIP (choice()) to choose the route for every token type.\r\n \r\n Links and Location are JAXB pojo types generated by xjc from xsd schemas.\r\n Here a brief part of their structure  : \r\n********************\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Links&quot;, propOrder = {\r\n        &quot;rel&quot;,\r\n        &quot;href&quot;\r\n    })\r\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n    public class Links {\r\n    \r\n        @XmlElement(required = true)\r\n        @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n        protected String rel;\r\n        @XmlElement(required = true)\r\n        @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n        protected String href;\r\n\r\n*********************\r\n\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Location&quot;, propOrder = {\r\n        &quot;latitude&quot;,\r\n        &quot;longitude&quot;,\r\n        &quot;altitude&quot;,\r\n        &quot;altitudeUnits&quot;\r\n    })\r\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n    public class Location {\r\n    \r\n        @XmlElement(name = &quot;Latitude&quot;, required = true)\r\n        @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n        protected BigDecimal latitude;\r\n        @XmlElement(name = &quot;Longitude&quot;, required = true)\r\n        @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n        protected BigDecimal longitude;\r\n        @XmlElement(name = &quot;Altitude&quot;)\r\n        @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n        protected BigDecimal altitude;\r\n        @XmlElement(name = &quot;AltitudeUnits&quot;)\r\n        @XmlSchemaType(name = &quot;string&quot;)\r\n        @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n        protected Altitudeuom altitudeUnits;\r\n        @XmlAttribute(name = &quot;datetime&quot;, required = true)\r\n        @XmlSchemaType(name = &quot;dateTime&quot;)\r\n        @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\r\n        protected XMLGregorianCalendar datetime;\r\n\r\n\t\r\n****************************","title":"XMLTokenizeLanguage on camel split EIP","body":"<p>I have a question about <code>XMLTokenizeLanguage</code> more specifically about <a href=\"https://github.com/apache/camel/blob/camel-3.18.x/core/camel-xml-jaxp/src/main/java/org/apache/camel/language/xtokenizer/XMLTokenExpressionIterator.java\" rel=\"nofollow noreferrer\"><code>XMLTokenExpressionIterator.java</code></a>:</p>\n<p><a href=\"https://i.stack.imgur.com/IpCBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IpCBt.png\" alt=\"screenshot\" /></a></p>\n<p><code>this.splitpath</code> accepts multiple tokens separated by &quot;/&quot;.</p>\n<p>I try to use it in this way: ==&gt;</p>\n<pre><code>.split(body().xtokenize(&quot;/ns1:[some type]/ns1:[another type]&quot; 'i', ns))\n    .streaming()\n</code></pre>\n<p>where ns and ns1 are namespaces</p>\n<p>But no result in the pipeline</p>\n<p>Can you please share with me more content about <code>XMLTokenizeLanguage</code>.</p>\n<p>The example in Camel website is about split of XML by 1 type [JAXB java POJO], what about 2 or more types [JAXB java POJOs]? is it even possible?</p>\n<p><a href=\"https://camel.apache.org/components/3.18.x/eips/split-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/eips/split-eip.html</a></p>\n<p>This is my XML Content :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;LocationMessages xmlns=&quot;http://standards.iso.org/iso/15143/-3&quot;&gt;\n    &lt;Links&gt;\n        &lt;rel&gt;self&lt;/rel&gt;\n        &lt;href&gt;https://[source domain name ]/public/api/aemp/v2/15143/-3/Fleet/Equipment/ID/[equipement id]/Locations/2021-01-01T00:00/2022-09-28T09:34:06.439553/1&lt;/href&gt;\n    &lt;/Links&gt;\n    &lt;Links&gt;\n        &lt;rel&gt;last&lt;/rel&gt;\n        &lt;href&gt;https://[source domain\n            name]/public/api/aemp/v2/15143/-3/Fleet/Equipment/ID/[equipement\n            id]/Locations/2021-01-01T00:00/2022-09-\n            28T09:34:06.439553/1&lt;/href&gt;\n    &lt;/Links&gt;\n    &lt;Location datetime=&quot;2022-04-05T09:52:53Z&quot;&gt;\n        &lt;Latitude&gt;43.290143&lt;/Latitude&gt;\n        &lt;Longitude&gt;5.491987&lt;/Longitude&gt;\n        &lt;Altitude&gt;102.375&lt;/Altitude&gt;\n        &lt;AltitudeUnits&gt;metre&lt;/AltitudeUnits&gt;\n    &lt;/Location&gt;\n    &lt;Location datetime=&quot;2022-05-04T13:50:57Z&quot;&gt;\n        &lt;Latitude&gt;43.289926&lt;/Latitude&gt;\n        &lt;Longitude&gt;5.492582&lt;/Longitude&gt;\n        &lt;Altitude&gt;77.0&lt;/Altitude&gt;\n        &lt;AltitudeUnits&gt;metre&lt;/AltitudeUnits&gt;\n    &lt;/Location&gt;\n&lt;/LocationMessages&gt;\n</code></pre>\n<p>This is namespace declaration :</p>\n<pre><code>Namespaces ns = new Namespaces(&quot;ns1&quot;, &quot;http://standards.iso.org/iso/15143/-3&quot;);\n</code></pre>\n<p>And this is the split by xtokenize language  definition :</p>\n<pre><code>.split(body().xtokenize(&quot;/ns1:Links/ns1:Location&quot;, 'i', ns)).streaming()\n</code></pre>\n<p>The split xtokenize work for me when I use 1 type at a time ( Links or Location), but I don't want to use (.multicast()) to duplicate pipeline.</p>\n<p>I want tokenize by 2 types (Links and Location) and after that apply content routing EIP (choice()) to choose the route for every token type.</p>\n<p>Links and Location are JAXB pojo types generated by xjc from xsd schemas.\nHere a brief part of their structure  :</p>\n<hr />\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Links&quot;, propOrder = {\n    &quot;rel&quot;,\n    &quot;href&quot;\n})\n@Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\npublic class Links {\n\n    @XmlElement(required = true)\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\n    protected String rel;\n    @XmlElement(required = true)\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\n    protected String href;\n</code></pre>\n<hr />\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Location&quot;, propOrder = {\n    &quot;latitude&quot;,\n    &quot;longitude&quot;,\n    &quot;altitude&quot;,\n    &quot;altitudeUnits&quot;\n})\n@Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\npublic class Location {\n\n    @XmlElement(name = &quot;Latitude&quot;, required = true)\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\n    protected BigDecimal latitude;\n    @XmlElement(name = &quot;Longitude&quot;, required = true)\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\n    protected BigDecimal longitude;\n    @XmlElement(name = &quot;Altitude&quot;)\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\n    protected BigDecimal altitude;\n    @XmlElement(name = &quot;AltitudeUnits&quot;)\n    @XmlSchemaType(name = &quot;string&quot;)\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\n    protected Altitudeuom altitudeUnits;\n    @XmlAttribute(name = &quot;datetime&quot;, required = true)\n    @XmlSchemaType(name = &quot;dateTime&quot;)\n    @Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, comments = &quot;JAXB RI v3.0.2&quot;, date = &quot;2022-08-23T15:17:27+02:00&quot;)\n    protected XMLGregorianCalendar datetime;\n</code></pre>\n<hr />\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633355989,"post_id":69436566,"comment_id":122730779,"body_markdown":"Why are you trying to set a date using `setInt`? You may want to consider not using `java.sql.Date`, and instead use `java.time.LocalDate`.","body":"Why are you trying to set a date using <code>setInt</code>? You may want to consider not using <code>java.sql.Date</code>, and instead use <code>java.time.LocalDate</code>."},{"owner":{"account_id":22938176,"reputation":63,"user_id":17071331,"display_name":"Lu&#237;s Felipe Ambrozin"},"score":0,"creation_date":1633358325,"post_id":69436566,"comment_id":122731904,"body_markdown":"Already fixed the setInt for setDate, and im trying to send date of birth.","body":"Already fixed the setInt for setDate, and im trying to send date of birth."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1633363815,"post_id":69436566,"comment_id":122734401,"body_markdown":"That&#39;s great, but using `java.time.LocalDate` (with `setObject`) is the better choice when using recent JDBC drivers.","body":"That&#39;s great, but using <code>java.time.LocalDate</code> (with <code>setObject</code>) is the better choice when using recent JDBC drivers."}],"answers":[{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633359872,"creation_date":1633353794,"answer_id":69436738,"question_id":69436566,"body_markdown":"The `setInt()` method that you use is intended for integer values, and it accepts an integer. To set the date, use the `PreparedStatement.setDate()` method.\r\n\r\nThe `java.util.Date` you get from the `parse()` method should also be converted to `java.sql.Date`.\r\n\r\n```java\r\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\njava.util.Date utilDate = formatter.parse(jFormattedTextFieldDATA.getText());\r\njava.sql.Date sqlDate = new java.sql.Date(utilDate.getTime());\r\npst.setDate(5, sqlDate);\r\n```\r\n\r\nSee the documentation on the `PreparedStatement` class: https://docs.oracle.com/javase/9/docs/api/java/sql/PreparedStatement.html","title":"Sending dates into postgresql","body":"<p>The <code>setInt()</code> method that you use is intended for integer values, and it accepts an integer. To set the date, use the <code>PreparedStatement.setDate()</code> method.</p>\n<p>The <code>java.util.Date</code> you get from the <code>parse()</code> method should also be converted to <code>java.sql.Date</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\njava.util.Date utilDate = formatter.parse(jFormattedTextFieldDATA.getText());\njava.sql.Date sqlDate = new java.sql.Date(utilDate.getTime());\npst.setDate(5, sqlDate);\n</code></pre>\n<p>See the documentation on the <code>PreparedStatement</code> class: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/sql/PreparedStatement.html</a></p>\n"},{"tags":[],"owner":{"account_id":9527527,"reputation":48,"user_id":7080314,"display_name":"Vijay Kambala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633361200,"creation_date":1633361200,"answer_id":69438591,"question_id":69436566,"body_markdown":"pst.setInt(5, formatter.parse(jFormattedTextFieldDATA.getText())); \r\n\r\nThis is the culprit line. See you are using setInt() method in order to set a date. That is absolutely incorrect. Use setDate() method instead.\r\n\r\neg: pst.setDate(5, formatter.parse(jFormattedTextFieldDATA.getText())); \r\n\r\n\r\n","title":"Sending dates into postgresql","body":"<p>pst.setInt(5, formatter.parse(jFormattedTextFieldDATA.getText()));</p>\n<p>This is the culprit line. See you are using setInt() method in order to set a date. That is absolutely incorrect. Use setDate() method instead.</p>\n<p>eg: pst.setDate(5, formatter.parse(jFormattedTextFieldDATA.getText()));</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664438914,"creation_date":1633367253,"answer_id":69439874,"question_id":69436566,"body_markdown":"# Avoid legacy date-time classes\r\n\r\nNever use `java.util.Date`, `java.sql.Date`, `SimpleDateFormat` and such. These legacy date-time classes are *terrible*, tragically flawed in design. \r\n\r\nThe legacy classes were supplanted years ago by the modern *java.time* classes defined in JSR 310. \r\n\r\n# `java.time.LocalDate`\r\n\r\nParse your input string as a [`LocalDate`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html).\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu&quot; ) ; \r\n    LocalDate ld = LocalDate.parse ( input , f ) ;\r\n\r\nPass to your database via your prepared statement. \r\n\r\n    myPreparedStatement.setObject(  , ld ) ;\r\n\r\nTo retrieve from the database:\r\n\r\n    LocalDate ld = myResultSet.getObject(  , LocalDate.class ) ;\r\n\r\nIn Postgres, you would define your column to be of type [`DATE`](https://www.postgresql.org/docs/current/datatype-datetime.html).\r\n\r\nUse a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with version 4.2 or later of the [JDBC specification](https://jcp.org/en/jsr/detail?id=221).\r\n\r\nAll of this has been covered many many times on Stack Overflow. Search to learn more.","title":"Sending dates into postgresql","body":"<h1>Avoid legacy date-time classes</h1>\n<p>Never use <code>java.util.Date</code>, <code>java.sql.Date</code>, <code>SimpleDateFormat</code> and such. These legacy date-time classes are <em>terrible</em>, tragically flawed in design.</p>\n<p>The legacy classes were supplanted years ago by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><code>java.time.LocalDate</code></h1>\n<p>Parse your input string as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu&quot; ) ; \nLocalDate ld = LocalDate.parse ( input , f ) ;\n</code></pre>\n<p>Pass to your database via your prepared statement.</p>\n<pre><code>myPreparedStatement.setObject(  , ld ) ;\n</code></pre>\n<p>To retrieve from the database:</p>\n<pre><code>LocalDate ld = myResultSet.getObject(  , LocalDate.class ) ;\n</code></pre>\n<p>In Postgres, you would define your column to be of type <a href=\"https://www.postgresql.org/docs/current/datatype-datetime.html\" rel=\"nofollow noreferrer\"><code>DATE</code></a>.</p>\n<p>Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with version 4.2 or later of the <a href=\"https://jcp.org/en/jsr/detail?id=221\" rel=\"nofollow noreferrer\">JDBC specification</a>.</p>\n<p>All of this has been covered many many times on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":22938176,"reputation":63,"user_id":17071331,"display_name":"Lu&#237;s Felipe Ambrozin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1892,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69436738,"answer_count":3,"score":2,"last_activity_date":1664438914,"creation_date":1633353142,"question_id":69436566,"body_markdown":"I have some doubts about this one, I have gone through others topics but I still can&#39;t get the code workig properly.\r\n\r\nMy intent is to insert dates into my DB using JDBC, I&#39;m using a jTextField (or a JformattedField, trying both ways) and all I get is an error from the database. Its Because I&#39;m sending text instead date, so, how can I send dates ?\r\n\r\nEDIT1: I&#39;m trying to send date of birth.\r\n\r\nAlready made some tries, that&#39;s why I have: \r\n\r\n\t\r\n\r\n    SimpleDateFormat formatter  = new SimpleDateFormat (&quot;dd/MM/yyyy&quot;); \r\n        java.sql.Date data = new java.sql.Date(formatter.parse().getTime());\r\n\r\ncode:\r\n\r\n   \r\n\r\n    try {   \r\n            conecta.conn.setAutoCommit(false);\r\n            PreparedStatement pst = conecta.conn.prepareStatement(&quot;INSERT INTO cad_pessoa(cad_cpf,cad_nome, cad_idade, cad_apelido, cad_data) values (?,?,?,?,?)&quot;);\r\n    \r\n            \r\n            pst.setString(1, jFormattedTextFieldCPF.getText()); //pega o texto insirido e armazena no banco de dados\r\n            pst.setString(2, jTextFieldNOME.getText()); //pega o texto insirido e armazena no banco de dados\r\n            pst.setString(3, jTextFieldIDADE.getText()); //pega o texto insirido e armazena no banco de dados\r\n            pst.setString(4, jTextFieldApelido.getText());//pega o texto insirido e armazena no banco de dados\r\n            SimpleDateFormat formatter  = new SimpleDateFormat (&quot;dd/MM/yyyy&quot;);\r\n            java.sql.Date data = new java.sql.Date(formatter.parse().getTime());\r\n            pst.setDate(5, formatter.parse(jFormattedTextFieldDATA.getText())); //pega o texto insirido e armazena no banco de dados\r\n            pst.executeUpdate(); //executa o SQL\r\n            \r\n            \r\n            conecta.conn.commit();\r\n            \r\n            \r\n            jFormattedTextFieldCPF.setText(&quot;&quot;); //deixa o campo vazio\r\n            jTextFieldNOME.setText(&quot;&quot;); //deixa o campo vazio\r\n            jTextFieldIDADE.setText(&quot;&quot;); //deixa o campo vazio\r\n            jFormattedTextFieldDATA.setText(&quot;&quot;);\r\n            jTextFieldApelido.setText(&quot;&quot;); //deixa o campo vazio\r\n            \r\n            jFormattedTextFieldCPF.setEnabled(false);\r\n            jTextFieldNOME.setEnabled(false);\r\n            jTextFieldIDADE.setEnabled(false);\r\n            jFormattedTextFieldDATA.setEnabled(false);\r\n            jTextFieldApelido.setEnabled(false);\r\n            JOptionPane.showMessageDialog(null, &quot;Salvo!&quot;);\r\n            \r\n            \r\n        } catch (SQLException ex) {\r\n            JOptionPane.showMessageDialog(rootPane, &quot;Erro!\\n&quot; +ex);\r\n    \r\n        }","title":"Sending dates into postgresql","body":"<p>I have some doubts about this one, I have gone through others topics but I still can't get the code workig properly.</p>\n<p>My intent is to insert dates into my DB using JDBC, I'm using a jTextField (or a JformattedField, trying both ways) and all I get is an error from the database. Its Because I'm sending text instead date, so, how can I send dates ?</p>\n<p>EDIT1: I'm trying to send date of birth.</p>\n<p>Already made some tries, that's why I have:</p>\n<pre><code>SimpleDateFormat formatter  = new SimpleDateFormat (&quot;dd/MM/yyyy&quot;); \n    java.sql.Date data = new java.sql.Date(formatter.parse().getTime());\n</code></pre>\n<p>code:</p>\n<pre><code>try {   \n        conecta.conn.setAutoCommit(false);\n        PreparedStatement pst = conecta.conn.prepareStatement(&quot;INSERT INTO cad_pessoa(cad_cpf,cad_nome, cad_idade, cad_apelido, cad_data) values (?,?,?,?,?)&quot;);\n\n        \n        pst.setString(1, jFormattedTextFieldCPF.getText()); //pega o texto insirido e armazena no banco de dados\n        pst.setString(2, jTextFieldNOME.getText()); //pega o texto insirido e armazena no banco de dados\n        pst.setString(3, jTextFieldIDADE.getText()); //pega o texto insirido e armazena no banco de dados\n        pst.setString(4, jTextFieldApelido.getText());//pega o texto insirido e armazena no banco de dados\n        SimpleDateFormat formatter  = new SimpleDateFormat (&quot;dd/MM/yyyy&quot;);\n        java.sql.Date data = new java.sql.Date(formatter.parse().getTime());\n        pst.setDate(5, formatter.parse(jFormattedTextFieldDATA.getText())); //pega o texto insirido e armazena no banco de dados\n        pst.executeUpdate(); //executa o SQL\n        \n        \n        conecta.conn.commit();\n        \n        \n        jFormattedTextFieldCPF.setText(&quot;&quot;); //deixa o campo vazio\n        jTextFieldNOME.setText(&quot;&quot;); //deixa o campo vazio\n        jTextFieldIDADE.setText(&quot;&quot;); //deixa o campo vazio\n        jFormattedTextFieldDATA.setText(&quot;&quot;);\n        jTextFieldApelido.setText(&quot;&quot;); //deixa o campo vazio\n        \n        jFormattedTextFieldCPF.setEnabled(false);\n        jTextFieldNOME.setEnabled(false);\n        jTextFieldIDADE.setEnabled(false);\n        jFormattedTextFieldDATA.setEnabled(false);\n        jTextFieldApelido.setEnabled(false);\n        JOptionPane.showMessageDialog(null, &quot;Salvo!&quot;);\n        \n        \n    } catch (SQLException ex) {\n        JOptionPane.showMessageDialog(rootPane, &quot;Erro!\\n&quot; +ex);\n\n    }\n</code></pre>\n"},{"tags":["java","jpa","jpa-2.0","criteria-api","bitwise-and"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1585556963,"post_id":60926551,"comment_id":107791146,"body_markdown":"AFAIK JPA does not support bitwise operators, sorry.","body":"AFAIK JPA does not support bitwise operators, sorry."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1585557326,"post_id":60926551,"comment_id":107791291,"body_markdown":"How did you map the enum? Please show your User entity","body":"How did you map the enum? Please show your User entity"},{"owner":{"account_id":17604434,"reputation":161,"user_id":12773714,"display_name":"Unni"},"score":0,"creation_date":1585558704,"post_id":60926551,"comment_id":107791908,"body_markdown":"Hi @Simon, \n\nEnum is not mapped in entity. One user can have multiple roles. So based on user&#39;s roles, we will calculate the role_value for the user. (bitwise OR operation).\n\nEntity column is mapped using Column mapping only. \n\n@Column(name = &quot;role_value&quot;)\nprivate Integer roleValue;","body":"Hi @Simon,   Enum is not mapped in entity. One user can have multiple roles. So based on user&#39;s roles, we will calculate the role_value for the user. (bitwise OR operation).  Entity column is mapped using Column mapping only.   @Column(name = &quot;role_value&quot;) private Integer roleValue;"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1585559633,"post_id":60926551,"comment_id":107792328,"body_markdown":"In that case you simply have to calculate the value by yourself and pass it to equal","body":"In that case you simply have to calculate the value by yourself and pass it to equal"},{"owner":{"account_id":17604434,"reputation":161,"user_id":12773714,"display_name":"Unni"},"score":0,"creation_date":1585561302,"post_id":60926551,"comment_id":107793069,"body_markdown":"User can have multiple roles. If a user is havng roles &quot;SECURITY&quot; and &quot;ASSISTANT_USER&quot;, then his role_value field will be having value = 12 (ie, 4 | 8 = 12).\n\nIf i need user with role &quot;SECURITY&quot;, if i use equals method, it will not fech the record. I need to call the following query for this. (SELECT * FROM tbl_user where role_value &amp; 4 = 4).","body":"User can have multiple roles. If a user is havng roles &quot;SECURITY&quot; and &quot;ASSISTANT_USER&quot;, then his role_value field will be having value = 12 (ie, 4 | 8 = 12).  If i need user with role &quot;SECURITY&quot;, if i use equals method, it will not fech the record. I need to call the following query for this. (SELECT * FROM tbl_user where role_value &amp; 4 = 4)."},{"owner":{"account_id":7894007,"reputation":978,"user_id":5963300,"display_name":"AI_ROBOT"},"score":0,"creation_date":1653418672,"post_id":60926551,"comment_id":127847003,"body_markdown":"@Unni did you manage to get the answer for this? I&#39;m trying to get the solution as well.","body":"@Unni did you manage to get the answer for this? I&#39;m trying to get the solution as well."}],"answers":[{"tags":[],"owner":{"account_id":1587590,"reputation":3668,"user_id":1471588,"display_name":"Michael Wyraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664438688,"creation_date":1664438688,"answer_id":73892228,"question_id":60926551,"body_markdown":"Should be possible to implement your own expression and use it. See BinaryArithmeticOperation for example.","title":"How to use bitwise operators in JPA CriteriaBuilder","body":"<p>Should be possible to implement your own expression and use it. See BinaryArithmeticOperation for example.</p>\n"}],"owner":{"account_id":17604434,"reputation":161,"user_id":12773714,"display_name":"Unni"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664438688,"creation_date":1585556526,"question_id":60926551,"body_markdown":"I am using JPA CriteriaBuilder, and List&lt;Predicate&gt; for querying user table. I need to use bitwise &amp; operator in CriteriaBuilder. My sample code base is as follows. \r\n\r\nUser table structure is as follows. \r\n\r\n    create TABLE `tbl_user` (\r\n        `id` BIGINT NOT NULL AUTO_INCREMENT,\r\n        `login_id` VARCHAR(255) NOT NULL,\r\n        `name` VARCHAR(255) NOT NULL,\r\n        `email` VARCHAR(500) NOT NULL,\r\n        `role_value` INTEGER,\r\n        `password` VARCHAR(255) NOT NULL,\r\n        PRIMARY KEY (`id`)\r\n    );\r\n\r\nHere `role_value` is the field where we are specifying bitwise OR values to keep the role of the user. \r\n\r\nRoles are specified with below bit values\r\n\r\n    public enum Role {\r\n\r\n        ROLE_POLICE(1, &quot;POLICE&quot;),\r\n        ROLE_BRIDGE(2, &quot;BRIDGE&quot;),\r\n\r\n        ROLE_SECURITY(4, &quot;SECURITY&quot;),\r\n        ROLE_ASSISTANT_USER(8, &quot;ASSISTANT_USER&quot;),\r\n        ROLE_HARDWARE_USER(16, &quot;HARDWARE_USER&quot;),\r\n        ;\r\n\r\n        private final String roleValue;\r\n        private final Integer id;\r\n\r\n        Role(Integer id, String roleValue, Role... secondaryRoles) {\r\n            this.id = id;\r\n            this.roleValue = roleValue;\r\n            this.secondaryRoles = secondaryRoles;\r\n        }\r\n\r\n    }\r\n\r\nI would like to query user list using CriteriaBuilder, where i need to filter users with certain roleValues using &quot;Predicate&quot; and JPA &quot;Expressions&quot;.\r\n\r\nMy code is as follows. \r\n\r\n    @Override\r\n    public Page&lt;UserView&gt; listUsers(UserListRequest userListRequest) {\r\n\r\n    \t\r\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;User&gt; listCriteria = cb.createQuery(User.class);\r\n        Root&lt;User&gt; userRoot = listCriteria.from(User.class);\r\n        \r\n        if (!userListRequest.getUserIds().isEmpty()) {\r\n            wherePredicates.add(cb.in(userRoot.get(&quot;id&quot;)).value(userListRequest.getUserIds()));\r\n        }\r\n\r\n        /* this portion is having syntax error */\r\n        if (null != userListRequest.getRoleValue()) {\r\n            wherePredicates.add(cb.equal(userRoot.get(&quot;role_value&quot;), (userRoot.get(&quot;role_value&quot;) &amp; userListRequest.getRoleValue()));\r\n        }   \r\n\r\n        .\r\n        .\r\n        .\r\n        return getPageFromTypedQuery(cb, userRoot, listCriteria, wherePredicates, userListRequest, UserView.class);\r\n    }","title":"How to use bitwise operators in JPA CriteriaBuilder","body":"<p>I am using JPA CriteriaBuilder, and List for querying user table. I need to use bitwise &amp; operator in CriteriaBuilder. My sample code base is as follows. </p>\n\n<p>User table structure is as follows. </p>\n\n<pre><code>create TABLE `tbl_user` (\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\n    `login_id` VARCHAR(255) NOT NULL,\n    `name` VARCHAR(255) NOT NULL,\n    `email` VARCHAR(500) NOT NULL,\n    `role_value` INTEGER,\n    `password` VARCHAR(255) NOT NULL,\n    PRIMARY KEY (`id`)\n);\n</code></pre>\n\n<p>Here <code>role_value</code> is the field where we are specifying bitwise OR values to keep the role of the user. </p>\n\n<p>Roles are specified with below bit values</p>\n\n<pre><code>public enum Role {\n\n    ROLE_POLICE(1, \"POLICE\"),\n    ROLE_BRIDGE(2, \"BRIDGE\"),\n\n    ROLE_SECURITY(4, \"SECURITY\"),\n    ROLE_ASSISTANT_USER(8, \"ASSISTANT_USER\"),\n    ROLE_HARDWARE_USER(16, \"HARDWARE_USER\"),\n    ;\n\n    private final String roleValue;\n    private final Integer id;\n\n    Role(Integer id, String roleValue, Role... secondaryRoles) {\n        this.id = id;\n        this.roleValue = roleValue;\n        this.secondaryRoles = secondaryRoles;\n    }\n\n}\n</code></pre>\n\n<p>I would like to query user list using CriteriaBuilder, where i need to filter users with certain roleValues using \"Predicate\" and JPA \"Expressions\".</p>\n\n<p>My code is as follows. </p>\n\n<pre><code>@Override\npublic Page&lt;UserView&gt; listUsers(UserListRequest userListRequest) {\n\n\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;User&gt; listCriteria = cb.createQuery(User.class);\n    Root&lt;User&gt; userRoot = listCriteria.from(User.class);\n\n    if (!userListRequest.getUserIds().isEmpty()) {\n        wherePredicates.add(cb.in(userRoot.get(\"id\")).value(userListRequest.getUserIds()));\n    }\n\n    /* this portion is having syntax error */\n    if (null != userListRequest.getRoleValue()) {\n        wherePredicates.add(cb.equal(userRoot.get(\"role_value\"), (userRoot.get(\"role_value\") &amp; userListRequest.getRoleValue()));\n    }   \n\n    .\n    .\n    .\n    return getPageFromTypedQuery(cb, userRoot, listCriteria, wherePredicates, userListRequest, UserView.class);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1664366550,"post_id":73880281,"comment_id":130454350,"body_markdown":"where do you run the application? do you have junit tests?","body":"where do you run the application? do you have junit tests?"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1664366603,"post_id":73880281,"comment_id":130454369,"body_markdown":"Do you get any other error? I&#39;m thinking maybe it doesn&#39;t find the path for SSLContext when building...","body":"Do you get any other error? I&#39;m thinking maybe it doesn&#39;t find the path for SSLContext when building..."},{"owner":{"account_id":26420206,"reputation":11,"user_id":20067980,"display_name":"mamoon roshangar"},"score":0,"creation_date":1664368529,"post_id":73880281,"comment_id":130455112,"body_markdown":"Yes, there are junit tests written, Is it failing because of the tests ?. I am able to run application but not able to build it with maven @dcolazin","body":"Yes, there are junit tests written, Is it failing because of the tests ?. I am able to run application but not able to build it with maven @dcolazin"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1664388617,"post_id":73880281,"comment_id":130462631,"body_markdown":"You should post the entire stacktrace. Maybe you forgot a test configuration.","body":"You should post the entire stacktrace. Maybe you forgot a test configuration."}],"answers":[{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664376289,"creation_date":1664367840,"answer_id":73881374,"question_id":73880281,"body_markdown":"As you have defined the specific name for your Bean as `&quot;restTemplateBean&quot;`, when you want to inject that specific bean you need to qualify the bean name as well.\r\n\r\nI think you can do it as below:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;restTemplateBean&quot;)\r\n    RestTemplate restTemplate;\r\n\r\nAlso you can use @Qualifier with combination of constructor injection like this:\r\n\r\n    public class ClassA {\r\n    \r\n    private RestTemplate restTemplate;\r\n    \r\n    public ClassA(@Qualifier(&quot;restTemplateBean&quot;) RestTemplate restTemplate) {\r\n            this.restTemplate = restTemplate;\r\n        }\r\n    \r\n    }","title":"RestTemplate bean is not found in the service layer class even though i have autowired it","body":"<p>As you have defined the specific name for your Bean as <code>&quot;restTemplateBean&quot;</code>, when you want to inject that specific bean you need to qualify the bean name as well.</p>\n<p>I think you can do it as below:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;restTemplateBean&quot;)\nRestTemplate restTemplate;\n</code></pre>\n<p>Also you can use @Qualifier with combination of constructor injection like this:</p>\n<pre><code>public class ClassA {\n\nprivate RestTemplate restTemplate;\n\npublic ClassA(@Qualifier(&quot;restTemplateBean&quot;) RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26420206,"reputation":11,"user_id":20067980,"display_name":"mamoon roshangar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664438460,"creation_date":1664438460,"answer_id":73892180,"question_id":73880281,"body_markdown":"I had forgot to add a bean in Test configuration class, that is why i was getting this exception. Thanks everyone","title":"RestTemplate bean is not found in the service layer class even though i have autowired it","body":"<p>I had forgot to add a bean in Test configuration class, that is why i was getting this exception. Thanks everyone</p>\n"}],"owner":{"account_id":26420206,"reputation":11,"user_id":20067980,"display_name":"mamoon roshangar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664438460,"creation_date":1664362596,"question_id":73880281,"body_markdown":"When i run the application its working fine but when i build the app its throwing this exception - No qualifying bean of type &#39;org.springframework.web.client.RestTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate.\r\n\r\nbelow is the code snippet\r\n\r\nAs a note, i have created this bean in the main application, so its scope is throughout the application but it&#39;s still not found. Anyone can offer some help?\r\n\r\n```\r\n@Autowired\r\nRestTemplate restTemplateBean;\r\n\r\n```\r\n\r\n```\r\n@Bean(&quot;restTemplateBean&quot;)\r\n    public RestTemplate restTemplateBean(RestTemplateBuilder builder) throws IOException, CertificateException, NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n        SSLContext sslContext = new SSLContextBuilder()\r\n                .loadTrustMaterial(new URL(&quot;file:src/main/resources/itsm_qa_api-keystore.jks&quot;), &quot;changeit&quot;.toCharArray()).build();\r\n\r\n        SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\r\n\r\n        HttpClient httpClient = HttpClients.custom()\r\n                .setSSLSocketFactory(socketFactory)\r\n                .build();\r\n\r\n        return builder\r\n                .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\r\n                .build();\r\n    }\r\n```","title":"RestTemplate bean is not found in the service layer class even though i have autowired it","body":"<p>When i run the application its working fine but when i build the app its throwing this exception - No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate.</p>\n<p>below is the code snippet</p>\n<p>As a note, i have created this bean in the main application, so its scope is throughout the application but it's still not found. Anyone can offer some help?</p>\n<pre><code>@Autowired\nRestTemplate restTemplateBean;\n\n</code></pre>\n<pre><code>@Bean(&quot;restTemplateBean&quot;)\n    public RestTemplate restTemplateBean(RestTemplateBuilder builder) throws IOException, CertificateException, NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n        SSLContext sslContext = new SSLContextBuilder()\n                .loadTrustMaterial(new URL(&quot;file:src/main/resources/itsm_qa_api-keystore.jks&quot;), &quot;changeit&quot;.toCharArray()).build();\n\n        SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\n\n        HttpClient httpClient = HttpClients.custom()\n                .setSSLSocketFactory(socketFactory)\n                .build();\n\n        return builder\n                .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\n                .build();\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1504889847,"post_id":46121304,"comment_id":79205185,"body_markdown":"Possible duplicate of [Eclipse error ... cannot be resolved to a type](https://stackoverflow.com/questions/15794821/eclipse-error-cannot-be-resolved-to-a-type)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/15794821/eclipse-error-cannot-be-resolved-to-a-type\">Eclipse error ... cannot be resolved to a type</a>"},{"owner":{"account_id":4108526,"reputation":2327,"user_id":6935152,"accept_rate":100,"display_name":"kaza"},"score":2,"creation_date":1504890283,"post_id":46121304,"comment_id":79205378,"body_markdown":"`TextIO` is not a class that exists in your imports `import java.io.*;` &amp; `import java.util.*;`. Try to go back to where you referenced learnt about `TextIO` and get the relevant implementation of  the same. It is an overkill to re-write `TextIO`. I would use `java.util.Scanner` for input and `System.out.println` for output.","body":"<code>TextIO</code> is not a class that exists in your imports <code>import java.io.*;</code> &amp; <code>import java.util.*;</code>. Try to go back to where you referenced learnt about <code>TextIO</code> and get the relevant implementation of  the same. It is an overkill to re-write <code>TextIO</code>. I would use <code>java.util.Scanner</code> for input and <code>System.out.println</code> for output."},{"owner":{"account_id":10782072,"reputation":31,"user_id":7932294,"display_name":"VoidDemon"},"score":0,"creation_date":1504896347,"post_id":46121304,"comment_id":79208212,"body_markdown":"@bulbus Scanner worked thanks","body":"@bulbus Scanner worked thanks"}],"answers":[{"tags":[],"owner":{"account_id":19489451,"reputation":1,"user_id":14257949,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599794544,"creation_date":1599794544,"answer_id":63840347,"question_id":46121304,"body_markdown":"In order to get TextIO to work you need to have your TextIO.java file in the same directory as your source code (working directory).  \r\n\r\nYou can do this by going to [http://math.hws.edu/eck/cs124/javanotes6/source/index.html][1], scrolling to the bottom of the page, and use the &quot;save as&quot; command in your current web browser to get a copy of the file &quot;TextIO.java&quot; in the working directory.\r\n\r\nBest Regards.\r\n\r\n\r\n  [1]: http://math.hws.edu/eck/cs124/javanotes6/source/index.html","title":"TextIO cannot be resolved","body":"<p>In order to get TextIO to work you need to have your TextIO.java file in the same directory as your source code (working directory).</p>\n<p>You can do this by going to <a href=\"http://math.hws.edu/eck/cs124/javanotes6/source/index.html\" rel=\"nofollow noreferrer\">http://math.hws.edu/eck/cs124/javanotes6/source/index.html</a>, scrolling to the bottom of the page, and use the &quot;save as&quot; command in your current web browser to get a copy of the file &quot;TextIO.java&quot; in the working directory.</p>\n<p>Best Regards.</p>\n"},{"tags":[],"owner":{"account_id":20093322,"reputation":111,"user_id":14733337,"display_name":"Abdulfattah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664438311,"creation_date":1664438311,"answer_id":73892150,"question_id":46121304,"body_markdown":"In order to enable TextIO in your code, you&#39;ll need to include the TextIO file in the same directory as your code.","title":"TextIO cannot be resolved","body":"<p>In order to enable TextIO in your code, you'll need to include the TextIO file in the same directory as your code.</p>\n"}],"owner":{"account_id":10782072,"reputation":31,"user_id":7932294,"display_name":"VoidDemon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4084,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1664438311,"creation_date":1504889740,"question_id":46121304,"body_markdown":"TextIO cannot be resolved could you help me what i&#39;m missing in my below code?   \r\n\r\nDo i need to create a class as TextIO  \r\nor do I need to create local variable?  \r\n      \r\n    package practice.september;\r\n    \r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class EggsCount {\r\n    \r\n        public static void main(String[] args) {\r\n            int eggs;\r\n            int dozens;\r\n            int extras;\r\n    \r\n            TextIO.put(&quot;How many eggs do you have?  &quot;);\r\n            eggs = TextIO.getlnInt();\r\n    \r\n            dozens = eggs / 12;\r\n            extras = eggs % 12;\r\n    \r\n            TextIO.put(&quot;Your number of eggs is &quot;);\r\n            TextIO.put(dozens);\r\n            TextIO.put(&quot; dozen and &quot;);\r\n            TextIO.put(extras);\r\n            TextIO.putln();\r\n        }\r\n    }","title":"TextIO cannot be resolved","body":"<p>TextIO cannot be resolved could you help me what i'm missing in my below code?   </p>\n\n<p>Do i need to create a class as TextIO<br>\nor do I need to create local variable?  </p>\n\n<pre><code>package practice.september;\n\nimport java.io.*;\nimport java.util.*;\n\npublic class EggsCount {\n\n    public static void main(String[] args) {\n        int eggs;\n        int dozens;\n        int extras;\n\n        TextIO.put(\"How many eggs do you have?  \");\n        eggs = TextIO.getlnInt();\n\n        dozens = eggs / 12;\n        extras = eggs % 12;\n\n        TextIO.put(\"Your number of eggs is \");\n        TextIO.put(dozens);\n        TextIO.put(\" dozen and \");\n        TextIO.put(extras);\n        TextIO.putln();\n    }\n}\n</code></pre>\n"},{"tags":["java","checkstyle"],"comments":[{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":0,"creation_date":1430803275,"post_id":30044804,"comment_id":48204948,"body_markdown":"it is better to use it like this : `public static final int MAX_RAND= 100;`","body":"it is better to use it like this : <code>public static final int MAX_RAND= 100;</code>"},{"owner":{"account_id":5964460,"reputation":1426,"user_id":4688565,"accept_rate":62,"display_name":"moh"},"score":0,"creation_date":1430803536,"post_id":30044804,"comment_id":48205042,"body_markdown":"I need it in a single place still its better to declare in top?","body":"I need it in a single place still its better to declare in top?"},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":0,"creation_date":1562930732,"post_id":30044804,"comment_id":100544781,"body_markdown":"I came across a related ERROR, whilst doing a maven build using the checkstyle plugin:\n`(coding) MagicNumber: &#39;4&#39; is a magic number.`\nI found that I could avoid these errors using the method described in the accepted answer (of course adding a comment to the field you&#39;ve just added).","body":"I came across a related ERROR, whilst doing a maven build using the checkstyle plugin: <code>(coding) MagicNumber: &#39;4&#39; is a magic number.</code> I found that I could avoid these errors using the method described in the accepted answer (of course adding a comment to the field you&#39;ve just added)."}],"answers":[{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430803717,"creation_date":1430803260,"answer_id":30044831,"question_id":30044804,"body_markdown":"It doesn&#39;t really have to do with storage, it&#39;s readability.  If you want to change some number it can be difficult to find in code, if it&#39;s up at the top then it&#39;s better (if it&#39;s in a config file, better yet in many cases).\r\n\r\nYes, that&#39;s a good solution.\r\n\r\nIf you don&#39;t need it outside that file, you should make it &quot;private&quot;, and you might want to be even  more readable and use a name that indicates what it really means, like:\r\n\r\n    MAX_RANDOM_NUMBER=100\r\n\r\nbetter yet include what it&#39;s used for\r\n\r\n    MAX_RANDOM_FOR_CARD_SELECTION\r\n\r\nor something like that.\r\n\r\nIn this way when you go to look into that file 5 months from now because you added 20 new cards, it&#39;s completely obvious what you have to change without even glancing at the code.\r\n\r\n","title":"CheckStyle with warning &#39;100&#39; is a magic number","body":"<p>It doesn't really have to do with storage, it's readability.  If you want to change some number it can be difficult to find in code, if it's up at the top then it's better (if it's in a config file, better yet in many cases).</p>\n\n<p>Yes, that's a good solution.</p>\n\n<p>If you don't need it outside that file, you should make it \"private\", and you might want to be even  more readable and use a name that indicates what it really means, like:</p>\n\n<pre><code>MAX_RANDOM_NUMBER=100\n</code></pre>\n\n<p>better yet include what it's used for</p>\n\n<pre><code>MAX_RANDOM_FOR_CARD_SELECTION\n</code></pre>\n\n<p>or something like that.</p>\n\n<p>In this way when you go to look into that file 5 months from now because you added 20 new cards, it's completely obvious what you have to change without even glancing at the code.</p>\n"},{"tags":[],"owner":{"account_id":90866,"reputation":8063,"user_id":249878,"accept_rate":90,"display_name":"yurib"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1430844316,"creation_date":1430803305,"answer_id":30044845,"question_id":30044804,"body_markdown":"well `HUNDRED` really is kinda silly, but why did you choose 100 and what is its meaning?\r\n\r\nsomething like:  \r\n\r\n    public static final int RANDOM_UPPER_LIMIT=100;\r\n\r\nor something even more informative, depending on what you use the value for:\r\n\r\n    public static final int MAX_NUMBER_OF_COLORS=100;\r\n\r\nwould make more sense and improve readability.\r\n\r\nSpace saving should not be a consideration in this case, the space overhead of declaring a variable, if there is such, is completely negligible.","title":"CheckStyle with warning &#39;100&#39; is a magic number","body":"<p>well <code>HUNDRED</code> really is kinda silly, but why did you choose 100 and what is its meaning?</p>\n\n<p>something like:  </p>\n\n<pre><code>public static final int RANDOM_UPPER_LIMIT=100;\n</code></pre>\n\n<p>or something even more informative, depending on what you use the value for:</p>\n\n<pre><code>public static final int MAX_NUMBER_OF_COLORS=100;\n</code></pre>\n\n<p>would make more sense and improve readability.</p>\n\n<p>Space saving should not be a consideration in this case, the space overhead of declaring a variable, if there is such, is completely negligible.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1430803521,"creation_date":1430803521,"answer_id":30044874,"question_id":30044804,"body_markdown":"It&#39;s good to write not the shortest code, but code which is easy to understand and maintain. Storing this `100` to constant you may add a good name explaining why it&#39;s really `100`. For example if you want to generate random score and your maximal possible score is `100`, then you can define\r\n\r\n    static final int MAX_SCORE = 100;\r\n\r\nAfter that you can use it in other places as well. Everybody will understand why it&#39;s 100 and nothing else. And if someday you will need to change it, say, to 200, you will have to replace it in only one place without searching through the code.\r\n\r\nAlso it&#39;s possible that in some other part of your program you will have 100 which has different meaning (say, `MAX_PERCENT`). If you want to change `MAX_SCORE` to 200, but leave `MAX_PERCENT` as is, it would be much easier if you have separate constants.","title":"CheckStyle with warning &#39;100&#39; is a magic number","body":"<p>It's good to write not the shortest code, but code which is easy to understand and maintain. Storing this <code>100</code> to constant you may add a good name explaining why it's really <code>100</code>. For example if you want to generate random score and your maximal possible score is <code>100</code>, then you can define</p>\n\n<pre><code>static final int MAX_SCORE = 100;\n</code></pre>\n\n<p>After that you can use it in other places as well. Everybody will understand why it's 100 and nothing else. And if someday you will need to change it, say, to 200, you will have to replace it in only one place without searching through the code.</p>\n\n<p>Also it's possible that in some other part of your program you will have 100 which has different meaning (say, <code>MAX_PERCENT</code>). If you want to change <code>MAX_SCORE</code> to 200, but leave <code>MAX_PERCENT</code> as is, it would be much easier if you have separate constants.</p>\n"},{"tags":[],"owner":{"account_id":5552861,"reputation":994,"user_id":4405343,"display_name":"ttarczynski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430804051,"creation_date":1430804051,"answer_id":30044985,"question_id":30044804,"body_markdown":"Check out Robert Martin&#39;s (Uncle Bob)\r\n\r\n&gt; Clean Code\r\n\r\nbook for a thorough explanaition (or any other guide on coding style). Basically a hard coded &#39;100&#39; doesn&#39;t mean anything to the reader of your code. It won&#39;t mean anything to you in 6 months either, after you are done with your app. It is a magic number since it appears in the code - in 99 out of 100 cases - as almost out of nowhere. Why is it 100 and not 99 or 101? Why should your app limit the random number generation to 100 and not above (or below)? \r\n\r\nTo wrap up, it&#39;s a thing of readability of your code for yourself and for present or future readers of your code, it&#39;s a matter of coding style.","title":"CheckStyle with warning &#39;100&#39; is a magic number","body":"<p>Check out Robert Martin's (Uncle Bob)</p>\n\n<blockquote>\n  <p>Clean Code</p>\n</blockquote>\n\n<p>book for a thorough explanaition (or any other guide on coding style). Basically a hard coded '100' doesn't mean anything to the reader of your code. It won't mean anything to you in 6 months either, after you are done with your app. It is a magic number since it appears in the code - in 99 out of 100 cases - as almost out of nowhere. Why is it 100 and not 99 or 101? Why should your app limit the random number generation to 100 and not above (or below)? </p>\n\n<p>To wrap up, it's a thing of readability of your code for yourself and for present or future readers of your code, it's a matter of coding style.</p>\n"},{"tags":[],"owner":{"account_id":352038,"reputation":936,"user_id":688906,"accept_rate":50,"display_name":"Kindread"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664438287,"creation_date":1664438287,"answer_id":73892146,"question_id":30044804,"body_markdown":"Most compilers, including JIT compilers, will inline constant primitives, including statics. IE, at compile time it will remove the variable and expand your code back to \r\n\r\n    generator.nextInt(100);\r\n\r\nSo in practice there won&#39;t be space trade-offs, and you&#39;re improving readablity. \r\n\r\nBe careful about expanding the idea out to more complicated code though. There are compiler and language dependent rules on when it is able to do certain optimisations.","title":"CheckStyle with warning &#39;100&#39; is a magic number","body":"<p>Most compilers, including JIT compilers, will inline constant primitives, including statics. IE, at compile time it will remove the variable and expand your code back to</p>\n<pre><code>generator.nextInt(100);\n</code></pre>\n<p>So in practice there won't be space trade-offs, and you're improving readablity.</p>\n<p>Be careful about expanding the idea out to more complicated code though. There are compiler and language dependent rules on when it is able to do certain optimisations.</p>\n"}],"owner":{"account_id":5964460,"reputation":1426,"user_id":4688565,"accept_rate":62,"display_name":"moh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39504,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":30044845,"answer_count":5,"score":14,"last_activity_date":1664438287,"creation_date":1430803127,"question_id":30044804,"body_markdown":"In my code,it shows the warning with message &#39;100&#39; is a magic number.See the below code,\r\n\r\n    int randomNo = generator.nextInt(100);\r\n\r\nI read it here https://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad but my doubt is declaring 100 by creating variable with static will occupy more space,since i am using this in a single place.Is this a correct way to solve this?\r\n\r\n      public static final int HUNDRED= 100;\r\n\r\nAny Suggestion?","title":"CheckStyle with warning &#39;100&#39; is a magic number","body":"<p>In my code,it shows the warning with message '100' is a magic number.See the below code,</p>\n\n<pre><code>int randomNo = generator.nextInt(100);\n</code></pre>\n\n<p>I read it here <a href=\"https://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad\">What is a magic number, and why is it bad?</a> but my doubt is declaring 100 by creating variable with static will occupy more space,since i am using this in a single place.Is this a correct way to solve this?</p>\n\n<pre><code>  public static final int HUNDRED= 100;\n</code></pre>\n\n<p>Any Suggestion?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664438136,"post_id":73892076,"comment_id":130472926,"body_markdown":"You need `*` not `$`. Fix that error or add that error to your question.","body":"You need <code>*</code> not <code>$</code>. Fix that error or add that error to your question."},{"owner":{"account_id":23956379,"reputation":21,"user_id":17947202,"display_name":"bhd"},"score":0,"creation_date":1664438768,"post_id":73892076,"comment_id":130473146,"body_markdown":"Can not resolve &#39;comFunc&#39; errors in IntelliJ but it runs well and then gave the same error in localhost","body":"Can not resolve &#39;comFunc&#39; errors in IntelliJ but it runs well and then gave the same error in localhost"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664438895,"post_id":73892076,"comment_id":130473184,"body_markdown":"Please edit your question and provide the stacktrace you have. Is it the erro in Intellij (validation) or while running the application?","body":"Please edit your question and provide the stacktrace you have. Is it the erro in Intellij (validation) or while running the application?"}],"owner":{"account_id":23956379,"reputation":21,"user_id":17947202,"display_name":"bhd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664438002,"creation_date":1664438002,"question_id":73892076,"body_markdown":"I have 3 Html files, I tried all of them in IntelliJ&#39;s 3 of them worked well. But when I tried in\r\nlocalhost the file I mentioned below is giving an error, an error on the title. \r\n``` \r\n\r\npackage com.example.thymeleaf;\r\n\r\npublic class InputText {\r\n    private String mainText;\r\n    private String comFunc;\r\n    private String funcName;\r\n    private String expByText;\r\n    private Integer expByLimit;\r\n\r\n    public String getMainText() {\r\n        return mainText;\r\n    }\r\n\r\n    public void setMainText(String mainText) {\r\n        this.mainText = mainText;\r\n    }\r\n\r\n    public String getComFunc() {\r\n        return comFunc;\r\n    }\r\n\r\n    public void setComFunc(String comFunc) {\r\n        this.comFunc = comFunc;\r\n    }\r\n\r\n    public String getFuncName() {\r\n        return funcName;\r\n    }\r\n\r\n    public void setFuncName(String funcName) {\r\n        this.funcName = funcName;\r\n    }\r\n\r\n    public String getExpByText() {\r\n        return expByText;\r\n    }\r\n\r\n    public void setExpByText(String expByText) {\r\n        this.expByText = expByText;\r\n    }\r\n\r\n    public Integer getExpByLimit() {\r\n        return expByLimit;\r\n    }\r\n\r\n    public void setExpByLimit(Integer expByLimit) {\r\n        this.expByLimit = expByLimit;\r\n    }\r\n}\r\n \r\n``` \r\n**Controller class**\r\n\r\n\r\n\r\n\r\n``` \r\npackage com.example.thymeleaf;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\n@Controller\r\npublic class MainController {\r\n    @GetMapping(&quot;/inputForm&quot;)\r\n    public String showForm(Model model) {\r\n        InputText inputText = new InputText();\r\n        model.addAttribute(&quot;inputText&quot;, inputText);\r\n        return &quot;inputForm&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/inputForm&quot;)\r\n    public String submitForm(@ModelAttribute(&quot;inputText&quot;) InputText inputText){\r\n        System.out.println(inputText);\r\n        return &quot;inputformSuccess&quot;;\r\n    }\r\n}\r\n``` \r\n\r\n**Application class**\r\n\r\n``` \r\npackage com.example.thymeleaf;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class ThymeleafApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ThymeleafApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n``` \r\n**This is the html file which is not working** mainText, comFunc, funcName firstly have * tag but it gave error so i changed to $ but it still not working.\r\n\r\n\r\n``` \r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xlmns : th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt; User Registration&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div align=&quot;center&quot;&gt;\r\n        &lt;h1&gt;User Registration&lt;/h1&gt;\r\n        &lt;form action=&quot;#&quot; th:action=&quot;@{/inputform}&quot; th:object=&quot;${inputText}&quot; method=&quot;post&quot;&gt;\r\n            &lt;label&gt; Main Text:&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; th:field=&quot;${mainText}&quot; /&gt;&lt;br/&gt;\r\n\r\n            &lt;label&gt; Combine Function: &lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; th:field=&quot;${comFunc}&quot; /&gt;&lt;br/&gt;\r\n\r\n            &lt;label&gt; Function Name: &lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; th:field=&quot;${funcName}&quot;&gt;\r\n        &lt;/form&gt;\r\n\r\n\r\n    &lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n``` ","title":"Thymeleaf- spring error : The origin server did not find a current representation for the target resource or is not willing to disclose that one exis","body":"<p>I have 3 Html files, I tried all of them in IntelliJ's 3 of them worked well. But when I tried in\nlocalhost the file I mentioned below is giving an error, an error on the title.</p>\n<pre><code>\npackage com.example.thymeleaf;\n\npublic class InputText {\n    private String mainText;\n    private String comFunc;\n    private String funcName;\n    private String expByText;\n    private Integer expByLimit;\n\n    public String getMainText() {\n        return mainText;\n    }\n\n    public void setMainText(String mainText) {\n        this.mainText = mainText;\n    }\n\n    public String getComFunc() {\n        return comFunc;\n    }\n\n    public void setComFunc(String comFunc) {\n        this.comFunc = comFunc;\n    }\n\n    public String getFuncName() {\n        return funcName;\n    }\n\n    public void setFuncName(String funcName) {\n        this.funcName = funcName;\n    }\n\n    public String getExpByText() {\n        return expByText;\n    }\n\n    public void setExpByText(String expByText) {\n        this.expByText = expByText;\n    }\n\n    public Integer getExpByLimit() {\n        return expByLimit;\n    }\n\n    public void setExpByLimit(Integer expByLimit) {\n        this.expByLimit = expByLimit;\n    }\n}\n \n</code></pre>\n<p><strong>Controller class</strong></p>\n<pre><code>package com.example.thymeleaf;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\n\n@Controller\npublic class MainController {\n    @GetMapping(&quot;/inputForm&quot;)\n    public String showForm(Model model) {\n        InputText inputText = new InputText();\n        model.addAttribute(&quot;inputText&quot;, inputText);\n        return &quot;inputForm&quot;;\n    }\n\n    @PostMapping(&quot;/inputForm&quot;)\n    public String submitForm(@ModelAttribute(&quot;inputText&quot;) InputText inputText){\n        System.out.println(inputText);\n        return &quot;inputformSuccess&quot;;\n    }\n}\n</code></pre>\n<p><strong>Application class</strong></p>\n<pre><code>package com.example.thymeleaf;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ThymeleafApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ThymeleafApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p><strong>This is the html file which is not working</strong> mainText, comFunc, funcName firstly have * tag but it gave error so i changed to $ but it still not working.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xlmns : th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt; User Registration&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div align=&quot;center&quot;&gt;\n        &lt;h1&gt;User Registration&lt;/h1&gt;\n        &lt;form action=&quot;#&quot; th:action=&quot;@{/inputform}&quot; th:object=&quot;${inputText}&quot; method=&quot;post&quot;&gt;\n            &lt;label&gt; Main Text:&lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;${mainText}&quot; /&gt;&lt;br/&gt;\n\n            &lt;label&gt; Combine Function: &lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;${comFunc}&quot; /&gt;&lt;br/&gt;\n\n            &lt;label&gt; Function Name: &lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;${funcName}&quot;&gt;\n        &lt;/form&gt;\n\n\n    &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664370743,"post_id":73881549,"comment_id":130456051,"body_markdown":"The question would be easier to digest if you briefly explain in plain English what method `priceReducer()` is meant to do.","body":"The question would be easier to digest if you briefly explain in plain English what method <code>priceReducer()</code> is meant to do."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664370844,"post_id":73881549,"comment_id":130456111,"body_markdown":"*Sidenote:* according to the Language naming convention method-names are usually verbs (not nouns) because they represent actions.","body":"<i>Sidenote:</i> according to the Language naming convention method-names are usually verbs (not nouns) because they represent actions."}],"answers":[{"tags":[],"owner":{"account_id":10469593,"reputation":74,"user_id":7911017,"display_name":"Pavlo Kuchereshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664369923,"creation_date":1664369923,"answer_id":73881866,"question_id":73881549,"body_markdown":"I would suggest moving the logic of the processing of each `Price current` to a separate method, use `Optional` pipeline to handle nulls with `ifPresentOrElse` etc, then call this method in `prices.stream().forEach()`","title":"Remove elements from List within the range with lambda","body":"<p>I would suggest moving the logic of the processing of each <code>Price current</code> to a separate method, use <code>Optional</code> pipeline to handle nulls with <code>ifPresentOrElse</code> etc, then call this method in <code>prices.stream().forEach()</code></p>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664437932,"creation_date":1664437932,"answer_id":73892056,"question_id":73881549,"body_markdown":"I managed to solve the task using the following techniques:\r\n\r\n 1. separate the prices for tickers using `Collectors.groupingBy`. this produces a map where key is ticker and value is list of all related prices. this allows separate processing of each ticker.\r\n\r\n\t\tprivate void priceReducer(List&lt;Price&gt; prices, int intervalInSecond) {\r\n\t\t\tSystem.out.println(&quot;-- original list --------------&quot;);\r\n\t\t\tprices.forEach(System.out::println);\r\n\t\r\n\t\t\tList&lt;Price&gt; reducedList = new ArrayList&lt;&gt;();\r\n\r\n\t\t\t// separate prices by ticker\r\n\t\t\tMap&lt;String, List&lt;Price&gt;&gt; pricesByTicker = prices.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(price -&gt; price.getTicker()));\r\n\r\n\t\t\t// process each ticker&#39;s prices separately\r\n\t\t\tpricesByTicker.values().stream()\r\n\t\t\t\t.map(tickerPrices -&gt; reduceForTicker(tickerPrices, intervalInSecond))\r\n\t\t\t\t.forEach(reducedTickerPrices -&gt; reducedList.addAll(reducedTickerPrices));\r\n\t\r\n\t\t\tSystem.out.println(&quot;-- reduced list ---------------&quot;);\r\n\t\t\treducedList.forEach(System.out::println);\r\n\t\t}\r\n 2. for each ticker: sort the prices by trade date, assign first entry to reduced list, then iteratively remove items from list that are within interval range of last entry of reduced, add first remaining item from prices to reduced, repeat. \r\n\r\n\t\tprivate List&lt;Price&gt; reduceForTicker(List&lt;Price&gt; tickerPrices, int intervalInSecond) {\r\n\t\t\tList&lt;Price&gt; reducedList = new ArrayList&lt;&gt;();\r\n\t\t\t// sort by trade date asc\r\n\t\t\ttickerPrices.sort(Comparator.comparing(Price::getTradeDate));\r\n\t\t\t// first item added unconditionally\r\n\t\t\treducedList.add(tickerPrices.get(0));\r\n\r\n\t\t\twhile (!tickerPrices.isEmpty()) {\r\n\t\t\t\t// last item in reducedList signifies current minute\r\n\t\t\t\tPrice current = reducedList.get(reducedList.size()-1);\r\n\t\t\t\tLocalDateTime minuteAfterCurrent = current.getTradeDate().plusSeconds(intervalInSecond);\r\n\t\t\t\t// relying on ordered prices, remove all prices within minute after current\r\n\t\t\t\ttickerPrices.removeIf(price -&gt; price.getTradeDate().isBefore(minuteAfterCurrent));\r\n\t\t\t\t// first item in whatever is left in prices signifies next minute\r\n\t\t\t\tif (!tickerPrices.isEmpty()) {\r\n\t\t\t\t\treducedList.add(tickerPrices.get(0));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn reducedList;\r\n\t\t}\r\n","title":"Remove elements from List within the range with lambda","body":"<p>I managed to solve the task using the following techniques:</p>\n<ol>\n<li><p>separate the prices for tickers using <code>Collectors.groupingBy</code>. this produces a map where key is ticker and value is list of all related prices. this allows separate processing of each ticker.</p>\n<pre><code>private void priceReducer(List&lt;Price&gt; prices, int intervalInSecond) {\n    System.out.println(&quot;-- original list --------------&quot;);\n    prices.forEach(System.out::println);\n\n    List&lt;Price&gt; reducedList = new ArrayList&lt;&gt;();\n\n    // separate prices by ticker\n    Map&lt;String, List&lt;Price&gt;&gt; pricesByTicker = prices.stream()\n        .collect(Collectors.groupingBy(price -&gt; price.getTicker()));\n\n    // process each ticker's prices separately\n    pricesByTicker.values().stream()\n        .map(tickerPrices -&gt; reduceForTicker(tickerPrices, intervalInSecond))\n        .forEach(reducedTickerPrices -&gt; reducedList.addAll(reducedTickerPrices));\n\n    System.out.println(&quot;-- reduced list ---------------&quot;);\n    reducedList.forEach(System.out::println);\n}\n</code></pre>\n</li>\n<li><p>for each ticker: sort the prices by trade date, assign first entry to reduced list, then iteratively remove items from list that are within interval range of last entry of reduced, add first remaining item from prices to reduced, repeat.</p>\n<pre><code>private List&lt;Price&gt; reduceForTicker(List&lt;Price&gt; tickerPrices, int intervalInSecond) {\n    List&lt;Price&gt; reducedList = new ArrayList&lt;&gt;();\n    // sort by trade date asc\n    tickerPrices.sort(Comparator.comparing(Price::getTradeDate));\n    // first item added unconditionally\n    reducedList.add(tickerPrices.get(0));\n\n    while (!tickerPrices.isEmpty()) {\n        // last item in reducedList signifies current minute\n        Price current = reducedList.get(reducedList.size()-1);\n        LocalDateTime minuteAfterCurrent = current.getTradeDate().plusSeconds(intervalInSecond);\n        // relying on ordered prices, remove all prices within minute after current\n        tickerPrices.removeIf(price -&gt; price.getTradeDate().isBefore(minuteAfterCurrent));\n        // first item in whatever is left in prices signifies next minute\n        if (!tickerPrices.isEmpty()) {\n            reducedList.add(tickerPrices.get(0));\n        }\n    }\n    return reducedList;\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664437932,"creation_date":1664368514,"question_id":73881549,"body_markdown":"I have a list of timestamps. I need to keep only the first element within a range and remove the rest.\r\n\r\nInitial list:\r\n\r\n    AAPL -- 2022-09-28T14:32:53.424494377\r\n    AAPL -- 2022-09-28T14:32:58.424494377\r\n    AAPL -- 2022-09-28T14:33:03.424494377\r\n    AMZN -- 2022-09-28T14:33:08.424494377\r\n    AAPL -- 2022-09-28T14:33:13.424494377\r\n    MSFT -- 2022-09-28T14:33:18.424494377\r\n    AMZN -- 2022-09-28T14:33:23.424494377\r\n    MSFT -- 2022-09-28T14:33:28.424494377\r\n    AAPL -- 2022-09-28T14:33:33.424494377\r\n    AMZN -- 2022-09-28T14:33:38.424494377\r\n    AMZN -- 2022-09-28T14:33:43.424494377\r\n    AMZN -- 2022-09-28T14:33:48.424494377\r\n    AMZN -- 2022-09-28T14:33:53.424494377\r\n    AAPL -- 2022-09-28T14:33:58.424494377\r\n    AMZN -- 2022-09-28T14:34:03.424494377\r\n    AAPL -- 2022-09-28T14:34:08.424494377\r\n    AMZN -- 2022-09-28T14:34:13.424494377\r\n    AAPL -- 2022-09-28T14:34:18.424494377\r\n    AMZN -- 2022-09-28T14:34:23.424494377\r\n\r\nLet&#39;s use 60 sec as a range, then I expect this result:\r\n\r\n    AAPL -- 2022-09-28T14:32:53.424494377\r\n    AMZN -- 2022-09-28T14:33:08.424494377\r\n    MSFT -- 2022-09-28T14:33:18.424494377\r\n    AAPL -- 2022-09-28T14:33:58.424494377\r\n    AMZN -- 2022-09-28T14:34:13.424494377\r\n\r\nMy code works, but I use the &quot;old&quot; java loop with some conditions. I would like to reduce unnecessary lines and use lambda to make my code cleaner if it is possible.\r\n\r\nThe `priceReducer` method is what I want to simplify. The rest of the code is only needed to present you that working example.\r\n\r\n    public class Aaa {\r\n        final static String[] TICKERS = {&quot;AMZN&quot;, &quot;MSFT&quot;, &quot;AAPL&quot;};\r\n    \r\n        public static void main(String[] args) {\r\n            Aaa app = new Aaa();\r\n            List&lt;Price&gt; prices = app.initPrices(20);\r\n            app.priceReducer(prices, 60);\r\n        }\r\n       \r\n        private List&lt;Price&gt; initPrices(int numberOfElements) {\r\n            List&lt;Price&gt; list = new ArrayList&lt;&gt;();\r\n            var now = LocalDateTime.now();\r\n            var index = new AtomicInteger();\r\n    \r\n            IntStream.range(1, numberOfElements).forEach(i -&gt; list.add(\r\n                    new Price(getRandomTicker(), now.plusSeconds(5L * index.incrementAndGet())))\r\n            );\r\n            return list;\r\n        }\r\n    \r\n        public String getRandomTicker() {\r\n            int rnd = new Random().nextInt(TICKERS.length);\r\n            return TICKERS[rnd];\r\n        }\r\n        \r\n        private void priceReducer(List&lt;Price&gt; prices, int intervalInSecond) {\r\n            System.out.println(&quot;-- original list --------------&quot;);\r\n            prices.forEach(System.out::println);\r\n    \r\n            List&lt;Price&gt; reducedList = new ArrayList&lt;&gt;();\r\n            prices.sort(Comparator.comparing(Price::getTradeDate));\r\n    \r\n            Map&lt;String, LocalDateTime&gt; rangeEnds = new HashMap&lt;&gt;();\r\n            for (Price current : prices) {\r\n                var rangeEnd = rangeEnds.get(current.getTicker());\r\n                if (Objects.isNull(rangeEnd)) {\r\n                    reducedList.add(current);\r\n                    rangeEnds.put(current.getTicker(), current.getTradeDate().plusSeconds(intervalInSecond));\r\n                } else {\r\n                    if (current.getTradeDate().isAfter(rangeEnd)) {\r\n                        reducedList.add(current);\r\n                        rangeEnds.put(current.getTicker(), current.getTradeDate().plusSeconds(intervalInSecond));\r\n                    }\r\n                }\r\n            }\r\n    \r\n            prices.clear();\r\n            prices.addAll(reducedList);\r\n            System.out.println(&quot;-- reduced list ---------------&quot;);\r\n            prices.forEach(System.out::println);\r\n        }\r\n    \r\n        class Price {\r\n            LocalDateTime tradeDate;\r\n            String ticker;\r\n            BigDecimal price;\r\n    \r\n            public Price(String ticker, LocalDateTime tradeDate) {\r\n                this.ticker = ticker;\r\n                this.tradeDate = tradeDate;\r\n            }\r\n    \r\n            public LocalDateTime getTradeDate() {\r\n                return tradeDate;\r\n            }\r\n    \r\n            public String getTicker() {\r\n                return ticker;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return ticker + &quot; -- &quot; + tradeDate;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIs that possible to write a simpler code with lambda for this purpose?\r\n\r\nThis code will be part of [this][1] project.\r\n\r\nI use Java 17 LTS.\r\n\r\n\r\n  [1]: https://github.com/zappee/portfolio-analyzer/tree/feature/portfolio-summary","title":"Remove elements from List within the range with lambda","body":"<p>I have a list of timestamps. I need to keep only the first element within a range and remove the rest.</p>\n<p>Initial list:</p>\n<pre><code>AAPL -- 2022-09-28T14:32:53.424494377\nAAPL -- 2022-09-28T14:32:58.424494377\nAAPL -- 2022-09-28T14:33:03.424494377\nAMZN -- 2022-09-28T14:33:08.424494377\nAAPL -- 2022-09-28T14:33:13.424494377\nMSFT -- 2022-09-28T14:33:18.424494377\nAMZN -- 2022-09-28T14:33:23.424494377\nMSFT -- 2022-09-28T14:33:28.424494377\nAAPL -- 2022-09-28T14:33:33.424494377\nAMZN -- 2022-09-28T14:33:38.424494377\nAMZN -- 2022-09-28T14:33:43.424494377\nAMZN -- 2022-09-28T14:33:48.424494377\nAMZN -- 2022-09-28T14:33:53.424494377\nAAPL -- 2022-09-28T14:33:58.424494377\nAMZN -- 2022-09-28T14:34:03.424494377\nAAPL -- 2022-09-28T14:34:08.424494377\nAMZN -- 2022-09-28T14:34:13.424494377\nAAPL -- 2022-09-28T14:34:18.424494377\nAMZN -- 2022-09-28T14:34:23.424494377\n</code></pre>\n<p>Let's use 60 sec as a range, then I expect this result:</p>\n<pre><code>AAPL -- 2022-09-28T14:32:53.424494377\nAMZN -- 2022-09-28T14:33:08.424494377\nMSFT -- 2022-09-28T14:33:18.424494377\nAAPL -- 2022-09-28T14:33:58.424494377\nAMZN -- 2022-09-28T14:34:13.424494377\n</code></pre>\n<p>My code works, but I use the &quot;old&quot; java loop with some conditions. I would like to reduce unnecessary lines and use lambda to make my code cleaner if it is possible.</p>\n<p>The <code>priceReducer</code> method is what I want to simplify. The rest of the code is only needed to present you that working example.</p>\n<pre><code>public class Aaa {\n    final static String[] TICKERS = {&quot;AMZN&quot;, &quot;MSFT&quot;, &quot;AAPL&quot;};\n\n    public static void main(String[] args) {\n        Aaa app = new Aaa();\n        List&lt;Price&gt; prices = app.initPrices(20);\n        app.priceReducer(prices, 60);\n    }\n   \n    private List&lt;Price&gt; initPrices(int numberOfElements) {\n        List&lt;Price&gt; list = new ArrayList&lt;&gt;();\n        var now = LocalDateTime.now();\n        var index = new AtomicInteger();\n\n        IntStream.range(1, numberOfElements).forEach(i -&gt; list.add(\n                new Price(getRandomTicker(), now.plusSeconds(5L * index.incrementAndGet())))\n        );\n        return list;\n    }\n\n    public String getRandomTicker() {\n        int rnd = new Random().nextInt(TICKERS.length);\n        return TICKERS[rnd];\n    }\n    \n    private void priceReducer(List&lt;Price&gt; prices, int intervalInSecond) {\n        System.out.println(&quot;-- original list --------------&quot;);\n        prices.forEach(System.out::println);\n\n        List&lt;Price&gt; reducedList = new ArrayList&lt;&gt;();\n        prices.sort(Comparator.comparing(Price::getTradeDate));\n\n        Map&lt;String, LocalDateTime&gt; rangeEnds = new HashMap&lt;&gt;();\n        for (Price current : prices) {\n            var rangeEnd = rangeEnds.get(current.getTicker());\n            if (Objects.isNull(rangeEnd)) {\n                reducedList.add(current);\n                rangeEnds.put(current.getTicker(), current.getTradeDate().plusSeconds(intervalInSecond));\n            } else {\n                if (current.getTradeDate().isAfter(rangeEnd)) {\n                    reducedList.add(current);\n                    rangeEnds.put(current.getTicker(), current.getTradeDate().plusSeconds(intervalInSecond));\n                }\n            }\n        }\n\n        prices.clear();\n        prices.addAll(reducedList);\n        System.out.println(&quot;-- reduced list ---------------&quot;);\n        prices.forEach(System.out::println);\n    }\n\n    class Price {\n        LocalDateTime tradeDate;\n        String ticker;\n        BigDecimal price;\n\n        public Price(String ticker, LocalDateTime tradeDate) {\n            this.ticker = ticker;\n            this.tradeDate = tradeDate;\n        }\n\n        public LocalDateTime getTradeDate() {\n            return tradeDate;\n        }\n\n        public String getTicker() {\n            return ticker;\n        }\n\n        @Override\n        public String toString() {\n            return ticker + &quot; -- &quot; + tradeDate;\n        }\n    }\n}\n</code></pre>\n<p>Is that possible to write a simpler code with lambda for this purpose?</p>\n<p>This code will be part of <a href=\"https://github.com/zappee/portfolio-analyzer/tree/feature/portfolio-summary\" rel=\"nofollow noreferrer\">this</a> project.</p>\n<p>I use Java 17 LTS.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1664436618,"post_id":73891747,"comment_id":130472397,"body_markdown":"how about using the the fullName() ?","body":"how about using the the fullName() ?"},{"owner":{"account_id":22682239,"reputation":21,"user_id":16852452,"display_name":"Mani Maran"},"score":0,"creation_date":1664437039,"post_id":73891747,"comment_id":130472542,"body_markdown":"@Aleson thanks for the suggestion.Actually I tried it before.It can eliminate string length issue.But in my application i have to send First name and last name separately and if i use fullname() it won&#39;t look proper as an user will have 4 name strings.Is there any way to handle the length of the string that is genearted that u know of? TIA.","body":"@Aleson thanks for the suggestion.Actually I tried it before.It can eliminate string length issue.But in my application i have to send First name and last name separately and if i use fullname() it won&#39;t look proper as an user will have 4 name strings.Is there any way to handle the length of the string that is genearted that u know of? TIA."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664437059,"post_id":73891747,"comment_id":130472548,"body_markdown":"generate them in a while. Keep generating new ones, unless they are long enough","body":"generate them in a while. Keep generating new ones, unless they are long enough"}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664437408,"creation_date":1664437408,"answer_id":73891954,"question_id":73891747,"body_markdown":"Try this.\r\n\r\n```java\r\nfinal Faker faker = new Faker();\r\nString userName = faker.name().firstName();\r\nfinal Set&lt;String&gt; usernames = new HashSet&lt;&gt;();\r\nwhile (set.size() &lt; len &amp;&amp; userName.length() &gt;= size) {\r\n      usernames.add(userName);\r\n      userName = faker.name().firstName();\r\n}\r\n```","title":"handling string length in javafaker","body":"<p>Try this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Faker faker = new Faker();\nString userName = faker.name().firstName();\nfinal Set&lt;String&gt; usernames = new HashSet&lt;&gt;();\nwhile (set.size() &lt; len &amp;&amp; userName.length() &gt;= size) {\n      usernames.add(userName);\n      userName = faker.name().firstName();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14900571,"reputation":159,"user_id":10759522,"display_name":"Eusuf Kanchwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664437758,"creation_date":1664437758,"answer_id":73892025,"question_id":73891747,"body_markdown":"You can have a check for the length of the generated name and regenerate it if it is tripped. Check below code snippet.\r\n\r\n    Faker faker = new Faker();\r\n    String name = faker.name().firstName();\r\n    while (name.length() &lt;= 3) {\r\n    \tname = faker.name().firstName();\r\n    }","title":"handling string length in javafaker","body":"<p>You can have a check for the length of the generated name and regenerate it if it is tripped. Check below code snippet.</p>\n<pre><code>Faker faker = new Faker();\nString name = faker.name().firstName();\nwhile (name.length() &lt;= 3) {\n    name = faker.name().firstName();\n}\n</code></pre>\n"}],"owner":{"account_id":22682239,"reputation":21,"user_id":16852452,"display_name":"Mani Maran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664437758,"creation_date":1664436362,"question_id":73891747,"body_markdown":"i am using javafaker dependency to generate random Usernames for testing my application.But in my application the first name field doesn&#39;t accept names with less than 3 characters.Sometimes the names generated from java faker is less than 3 chars and validation message is thrown.So i want to generate names with string length greater than or equal to 3.\r\n\r\nMaven Dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCode\r\n\r\n    Faker faker = new Faker();\r\n    System.out.println(faker.name().firstName());\r\n\r\n\r\n","title":"handling string length in javafaker","body":"<p>i am using javafaker dependency to generate random Usernames for testing my application.But in my application the first name field doesn't accept names with less than 3 characters.Sometimes the names generated from java faker is less than 3 chars and validation message is thrown.So i want to generate names with string length greater than or equal to 3.</p>\n<p>Maven Dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n    &lt;version&gt;1.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code</p>\n<pre><code>Faker faker = new Faker();\nSystem.out.println(faker.name().firstName());\n</code></pre>\n"},{"tags":["java","dll","jna"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1664436996,"post_id":73891287,"comment_id":130472524,"body_markdown":"Note that given the callback is declared with `_stdcall`, make sure you use `StdCallLibrary.StdCallCallback` instead of `Callback`.","body":"Note that given the callback is declared with <code>_stdcall</code>, make sure you use <code>StdCallLibrary.StdCallCallback</code> instead of <code>Callback</code>."},{"owner":{"account_id":10889362,"reputation":11,"user_id":8005732,"display_name":"Dipendra Nath"},"score":0,"creation_date":1664437880,"post_id":73891287,"comment_id":130472815,"body_markdown":"I have edited the question. Can u  help with getting data now. as it gives &quot;Invalid memory access&quot; while doing System.out.println(hBitMap.getByte(0));","body":"I have edited the question. Can u  help with getting data now. as it gives &quot;Invalid memory access&quot; while doing System.out.println(hBitMap.getByte(0));"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1664516375,"post_id":73891287,"comment_id":130493938,"body_markdown":"Invalid memory access may be associated with the `Pointer` in the calling function becoming unreachable and getting GC&#39;d.  Use a reachability fence to preserve the pointer. As for using the hbitmap, looks like `GetObject()` shows up everywhere I&#39;m looking, hopefully that moves you forward.","body":"Invalid memory access may be associated with the <code>Pointer</code> in the calling function becoming unreachable and getting GC&#39;d.  Use a reachability fence to preserve the pointer. As for using the hbitmap, looks like <code>GetObject()</code> shows up everywhere I&#39;m looking, hopefully that moves you forward."}],"owner":{"account_id":10889362,"reputation":11,"user_id":8005732,"display_name":"Dipendra Nath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664437744,"creation_date":1664433760,"question_id":73891287,"body_markdown":"I am trying to access image data from scanner hardware. The provided DLL has the following callback function:\r\n\r\n[![callback function registration][1]][1]\r\n\r\n[![callback function structure][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SYECj.jpg\r\n  [2]: https://i.stack.imgur.com/jNYqR.png\r\n\r\nMy Java implementation (using JNA) is as given below:\r\n\r\n1) Import Lib\r\n\r\n```\r\n    public interface DllReader extends Library {\r\n    \r\n        public Boolean voRegisterImageCallback(ImageCallBack callback, \r\n       PointerByReference parameter);\r\n    \r\n        public DllReader INSTANCE = Native.load(&quot;VideoOCR.dll&quot;, \r\n    DllReader.class);\r\n    \r\n    }\r\n```\r\n\r\n2) callback interface:\r\n\r\n```\r\n    public interface ImageCallBack extends \r\n      StdCallLibrary.StdCallCallback {\r\n     void imageCallBack(PointerByReference reference, int imageType, \r\n      Pointer hBitMap);\r\n    }\r\n```\r\n\r\n3) Callback impl:\r\n\r\n    ```\r\n    public class ImageCallBackImpl implements ImageCallBack{\r\n    \r\n        @Override\r\n        public void imageCallBack(PointerByReference reference, int \r\n        imageType, Pointer hBitMap) {\r\n            System.out.println(&quot;image data&quot;);\r\n     \r\n            // How to read data on event trigger\r\n      \r\n        }\r\n    }\r\n    ```\r\n\r\nHow can I read data from hBitMap pointer?\r\n\r\n\r\n\r\n\r\n","title":"How to get value of Pointer from callback (DLL) function argument in Java using JNA?","body":"<p>I am trying to access image data from scanner hardware. The provided DLL has the following callback function:</p>\n<p><a href=\"https://i.stack.imgur.com/SYECj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYECj.jpg\" alt=\"callback function registration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jNYqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jNYqR.png\" alt=\"callback function structure\" /></a></p>\n<p>My Java implementation (using JNA) is as given below:</p>\n<ol>\n<li>Import Lib</li>\n</ol>\n<pre><code>    public interface DllReader extends Library {\n    \n        public Boolean voRegisterImageCallback(ImageCallBack callback, \n       PointerByReference parameter);\n    \n        public DllReader INSTANCE = Native.load(&quot;VideoOCR.dll&quot;, \n    DllReader.class);\n    \n    }\n</code></pre>\n<ol start=\"2\">\n<li>callback interface:</li>\n</ol>\n<pre><code>    public interface ImageCallBack extends \n      StdCallLibrary.StdCallCallback {\n     void imageCallBack(PointerByReference reference, int imageType, \n      Pointer hBitMap);\n    }\n</code></pre>\n<ol start=\"3\">\n<li><p>Callback impl:</p>\n<pre><code>public class ImageCallBackImpl implements ImageCallBack{\n\n    @Override\n    public void imageCallBack(PointerByReference reference, int \n    imageType, Pointer hBitMap) {\n        System.out.println(&quot;image data&quot;);\n\n        // How to read data on event trigger\n\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>How can I read data from hBitMap pointer?</p>\n"},{"tags":["java","sql","database","oop","design-patterns"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1664424027,"post_id":73890124,"comment_id":130469537,"body_markdown":"This sounds to me like a micro-optimisation.  The usual way is just to mark the whole object as dirty; and if something needs to be updated, just send every field to the database.","body":"This sounds to me like a micro-optimisation.  The usual way is just to mark the whole object as dirty; and if something needs to be updated, just send every field to the database."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1664424735,"post_id":73890124,"comment_id":130469646,"body_markdown":"Or to use JPA, which does this for you, instead of hand-writing the logic.","body":"Or to use JPA, which does this for you, instead of hand-writing the logic."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1664432771,"post_id":73890124,"comment_id":130471089,"body_markdown":"It&#39;s not a micro optimisation if the class(es) have multiple large object fields. Then a lot of network traffic could be saved. However I also agree JPA is still the better option.","body":"It&#39;s not a micro optimisation if the class(es) have multiple large object fields. Then a lot of network traffic could be saved. However I also agree JPA is still the better option."},{"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"score":0,"creation_date":1664454764,"post_id":73890124,"comment_id":130478750,"body_markdown":"Thanks! But would using JPA be overtreatment?","body":"Thanks! But would using JPA be overtreatment?"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664437418,"creation_date":1664437418,"answer_id":73891956,"question_id":73890124,"body_markdown":"In my view, there are many pros when you have `HashSet`:\r\n- it will take less space. I mean only dirty fields will be added into `HashSet`\r\n- the overall amount of field will be less. There is no need to add fields like `id_dirty`, `name_dirty;` or `progress_dirty`\r\n\r\nSo let me show how it would look:\r\n\r\n\r\n\tpublic class MyActiveRecord\r\n\t{\r\n\t\tint _id;\r\n\t\tstring _name;\r\n\t\tint _progress;\r\n\r\n\t\tHashSet&lt;string&gt; _dirtyFields = new HashSet&lt;string&gt;();\r\n\r\n\t\tpublic void SetId(int id) \r\n\t\t{ \r\n\t\t\t_id = id;\r\n\t\t\t_dirtyFields.Add(nameof(id));\r\n\t\t}\r\n\t}","title":"How to mark the modified fields in a class to be dirty","body":"<p>In my view, there are many pros when you have <code>HashSet</code>:</p>\n<ul>\n<li>it will take less space. I mean only dirty fields will be added into <code>HashSet</code></li>\n<li>the overall amount of field will be less. There is no need to add fields like <code>id_dirty</code>, <code>name_dirty;</code> or <code>progress_dirty</code></li>\n</ul>\n<p>So let me show how it would look:</p>\n<pre><code>public class MyActiveRecord\n{\n    int _id;\n    string _name;\n    int _progress;\n\n    HashSet&lt;string&gt; _dirtyFields = new HashSet&lt;string&gt;();\n\n    public void SetId(int id) \n    { \n        _id = id;\n        _dirtyFields.Add(nameof(id));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664437418,"creation_date":1664423595,"question_id":73890124,"body_markdown":"I have a class try to follow the [active record pattern][1]\r\n\r\n    class MyActiveRecord {\r\n        int id;\r\n        string name;\r\n        int progress;\r\n        ...\r\n    }\r\nWhen I try to use this class to update the corresponding row of the SQL Data base, I want to mark the modified field to be &quot;dirty&quot;. So, only the modified field, let&#39;s say `progress` will update the progress column in the data base.\r\n\r\nMy question is how to mark the modified field(s) to be dirty?\r\n\r\nOne way is to create booleans:\r\n\r\n    class MyActiveRecord {\r\n        int id;\r\n        boolean id_dirty;\r\n        string name;\r\n        boolean name_dirty;\r\n        int progress;\r\n        boolean progress_dirty;\r\n        ...\r\n    }\r\nAnother way is to create enums of the fields and having a HashSet to contain the modified field enums.\r\n\r\nWhich way is better? Or is there another better way to mark the modified field(s) to be dirty?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Active_record_pattern\r\n","title":"How to mark the modified fields in a class to be dirty","body":"<p>I have a class try to follow the <a href=\"https://en.wikipedia.org/wiki/Active_record_pattern\" rel=\"nofollow noreferrer\">active record pattern</a></p>\n<pre><code>class MyActiveRecord {\n    int id;\n    string name;\n    int progress;\n    ...\n}\n</code></pre>\n<p>When I try to use this class to update the corresponding row of the SQL Data base, I want to mark the modified field to be &quot;dirty&quot;. So, only the modified field, let's say <code>progress</code> will update the progress column in the data base.</p>\n<p>My question is how to mark the modified field(s) to be dirty?</p>\n<p>One way is to create booleans:</p>\n<pre><code>class MyActiveRecord {\n    int id;\n    boolean id_dirty;\n    string name;\n    boolean name_dirty;\n    int progress;\n    boolean progress_dirty;\n    ...\n}\n</code></pre>\n<p>Another way is to create enums of the fields and having a HashSet to contain the modified field enums.</p>\n<p>Which way is better? Or is there another better way to mark the modified field(s) to be dirty?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664436910,"post_id":73891649,"comment_id":130472495,"body_markdown":"Try flushing the stream before returning? Maybe closing of POI classes also required?","body":"Try flushing the stream before returning? Maybe closing of POI classes also required?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1664458445,"post_id":73891649,"comment_id":130480255,"body_markdown":"Are you creating all the Cell Styles up-front and re-using, or are you doing one per cell? Excel gets grumpy if you feed it too many styles... make sure you re-use them!","body":"Are you creating all the Cell Styles up-front and re-using, or are you doing one per cell? Excel gets grumpy if you feed it too many styles... make sure you re-use them!"},{"owner":{"account_id":23623857,"reputation":11,"user_id":17656676,"display_name":"Dminiac"},"score":0,"creation_date":1665475061,"post_id":73891649,"comment_id":130702775,"body_markdown":"@Gagravarr  I tried both of your suggestions didn&#39;t worked out.\nHowever I tried to create sample code to create Excel file and and then converting file to byteArray using ByteArrayOutputStream class &amp; retrieved it using toByteArray() method. Idk whether it&#39;s correct or not but I think the data is not passing completely through FileInputStream which might cause issue to pass it into OutputStream and hence not being retrived completely &amp; can be reason why the colors are missing from the excel file. Need your suggestion to this. Thanks in advance :D","body":"@Gagravarr  I tried both of your suggestions didn&#39;t worked out. However I tried to create sample code to create Excel file and and then converting file to byteArray using ByteArrayOutputStream class &amp; retrieved it using toByteArray() method. Idk whether it&#39;s correct or not but I think the data is not passing completely through FileInputStream which might cause issue to pass it into OutputStream and hence not being retrived completely &amp; can be reason why the colors are missing from the excel file. Need your suggestion to this. Thanks in advance :D"},{"owner":{"account_id":23623857,"reputation":11,"user_id":17656676,"display_name":"Dminiac"},"score":0,"creation_date":1665475154,"post_id":73891649,"comment_id":130702810,"body_markdown":"@g00se Even I tried your suggestions as you mentioned in the comments it didn&#39;t worked out unfortunately. Any other suggestion? Looking to my above comments please? Thanks.","body":"@g00se Even I tried your suggestions as you mentioned in the comments it didn&#39;t worked out unfortunately. Any other suggestion? Looking to my above comments please? Thanks."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665475392,"post_id":73891649,"comment_id":130702883,"body_markdown":"First try running it on another machine.","body":"First try running it on another machine."},{"owner":{"account_id":23623857,"reputation":11,"user_id":17656676,"display_name":"Dminiac"},"score":0,"creation_date":1665476554,"post_id":73891649,"comment_id":130703275,"body_markdown":"@g00se Thanks for quick response. I have checked with 2 team members and it&#39;s the same unfortunately. Everything except colour is reflecting on the downloaded excel file and same I have shared on the post as well.","body":"@g00se Thanks for quick response. I have checked with 2 team members and it&#39;s the same unfortunately. Everything except colour is reflecting on the downloaded excel file and same I have shared on the post as well."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1665478215,"post_id":73891649,"comment_id":130703840,"body_markdown":"You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":23623857,"reputation":11,"user_id":17656676,"display_name":"Dminiac"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664437293,"creation_date":1664435784,"question_id":73891649,"body_markdown":"My issue is that I am using ByteArrayOutputStream class to display excel file with data and retrieved using toByteArray()\r\n\r\n**Issue**: After I download the Excel file, the cells stops displaying required color after certain cells and I am unable to understand where it went wrong.\r\n\r\nCode being used:\r\n\r\n```java\r\nprotected ByteArrayOutputStream createXLS(Map contextMap) throws FwkException {\r\n    long compteurLigne = 0;\r\n    // On cree un classeur\r\n    HSSFWorkbook wb = new HSSFWorkbook();\r\n    // Pour chaque poste, on cree une feuille\r\n    // On cree une feuille\r\n    HSSFSheet s = wb.createSheet();\r\n\r\n    // Creation entete de la feuille\r\n    creerEntete(wb, s, contextMap);\r\n\r\n    setTableHead(wb, s, contextMap);\r\n\r\n    List listePoste = (List) contextMap.get(&quot;list&quot;);\r\n\r\n    for (Iterator ite = listePoste.iterator(); ite.hasNext();) {\r\n        HypothesesCompararerOutillagePoste hypothesesCompararerOutillagePoste = (HypothesesCompararerOutillagePoste) ite.next();\r\n        creerLigneMatrice(hypothesesCompararerOutillagePoste, s, wb);\r\n        setTailleColonne(s);\r\n    }\r\n\r\n    ByteArrayOutputStream dataOut = new ByteArrayOutputStream();\r\n    try {\r\n        wb.write(dataOut);\r\n    } catch (IOException e) {\r\n        throw new TechnicalException(&quot;Error while writing the output to de workbook&quot;, e);\r\n    }\r\n\r\n    return dataOut;\r\n}\r\n```\r\n  \r\nMain Logic for colour being displayed in Excel file(xls):\r\n\r\n```java\r\nprivate void setCsPplusOuMoinsOutillageColor(HSSFCellStyle csPplusOuMoinsOutillage, String plusOuMoinsOutillage) {\r\n    if (plusOuMoinsOutillage != null) {\r\n        if (plusOuMoinsOutillage.equals(&quot;-&quot;)) {\r\n            csPplusOuMoinsOutillage.setFillPattern(HSSFCellStyle.SOLID_FOREGROUND);\r\n            csPplusOuMoinsOutillage.setFillForegroundColor(HSSFColor.RED.index);\r\n        } else if (plusOuMoinsOutillage.equals(&quot;+&quot;)) {\r\n            csPplusOuMoinsOutillage.setFillPattern(HSSFCellStyle.SOLID_FOREGROUND);\r\n            csPplusOuMoinsOutillage.setFillForegroundColor(HSSFColor.LIGHT_GREEN.index);\r\n        } else {\r\n            csPplusOuMoinsOutillage.setFillPattern(HSSFCellStyle.NO_FILL);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBelow is the code where data gets retrieved toByteArray():\r\n\r\n```java\r\nprotected void doEoxExecute() throws FwkException {\r\n    try {\r\n        Map contextMap = (Map) getInput(IN_CONTEXT_MAP);\r\n\r\n        String langue = (String) getInput(IN_LOCALE_LANGUAGE);\r\n        String pays = (String) getInput(IN_LOCALE_COUNTRY);\r\n        Collection&lt;Object&gt; listeMsg = (Collection) getInput(IN_LOGGER_MSG);\r\n\r\n        if (listeMsg != null &amp;&amp; !listeMsg.isEmpty()) {\r\n            Iterator&lt;Object&gt; iter = listeMsg.iterator();\r\n            while (iter.hasNext()) {\r\n                Object msg = iter.next();\r\n                if (msg instanceof String)\r\n                    batchlog.info((String) msg);\r\n            }\r\n        }\r\n\r\n        locale = null;\r\n        if (langue != null) {\r\n            if (pays != null)\r\n                locale = new Locale(langue, pays);\r\n            else\r\n                locale = new Locale(langue);\r\n        } else\r\n            locale = Locale.FRANCE;\r\n\r\n        boolean inSec = Boolean.parseBoolean((String) getInput(IN_TIME_IN_SEC));\r\n        EOXContext.setCtx(!inSec, locale);\r\n\r\n        ByteArrayOutputStream out = createXLS(contextMap);\r\n\r\n        byte[] xls = out.toByteArray();\r\n\r\n        // si aucune donnee, on affiche un message a l&#39;utilisateur\r\n        if (xls == null) {\r\n            batchlog.info(getMessage(broker, &quot;commun.export.xls.aucuneDonnee&quot;, locale));\r\n        } else {\r\n            String repertoireTemporaire = EoxBatchService.getPropriete(FICHIER_PROPERTIES, &quot;GenererXlsDocPoste.io.temp&quot;, null);\r\n            if (repertoireTemporaire == null)\r\n                repertoireTemporaire = EoxBatchService.getPropriete(EoxConstants.FICHIER_PROPRIETES_SERVEUR, &quot;GenererXlsDocPoste.io.temp&quot;, null);\r\n\r\n            if (repertoireTemporaire != null) {\r\n\r\n                File repertoire = new File(repertoireTemporaire);\r\n                File fichierXls = File.createTempFile(&quot;doc&quot;, &quot;.xls&quot;, repertoire);\r\n\r\n                if (logger.isInfoEnabled())\r\n                    logger.info(&quot;creation fichier XLS : &quot; + fichierXls.getAbsolutePath());\r\n\r\n                FileOutputStream fos = new FileOutputStream(fichierXls);\r\n                fos.write(xls);\r\n                fos.flush();\r\n\r\n                fos.close();\r\n```\r\n \r\n\r\nAlso I am attaching the output of the excel file which shows no colors after certain 35th cell:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/peAuT.png","title":"Using ByteArrayOutputStream class to display Excel file but post download the excel file does not show colors as per logic","body":"<p>My issue is that I am using ByteArrayOutputStream class to display excel file with data and retrieved using toByteArray()</p>\n<p><strong>Issue</strong>: After I download the Excel file, the cells stops displaying required color after certain cells and I am unable to understand where it went wrong.</p>\n<p>Code being used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected ByteArrayOutputStream createXLS(Map contextMap) throws FwkException {\n    long compteurLigne = 0;\n    // On cree un classeur\n    HSSFWorkbook wb = new HSSFWorkbook();\n    // Pour chaque poste, on cree une feuille\n    // On cree une feuille\n    HSSFSheet s = wb.createSheet();\n\n    // Creation entete de la feuille\n    creerEntete(wb, s, contextMap);\n\n    setTableHead(wb, s, contextMap);\n\n    List listePoste = (List) contextMap.get(&quot;list&quot;);\n\n    for (Iterator ite = listePoste.iterator(); ite.hasNext();) {\n        HypothesesCompararerOutillagePoste hypothesesCompararerOutillagePoste = (HypothesesCompararerOutillagePoste) ite.next();\n        creerLigneMatrice(hypothesesCompararerOutillagePoste, s, wb);\n        setTailleColonne(s);\n    }\n\n    ByteArrayOutputStream dataOut = new ByteArrayOutputStream();\n    try {\n        wb.write(dataOut);\n    } catch (IOException e) {\n        throw new TechnicalException(&quot;Error while writing the output to de workbook&quot;, e);\n    }\n\n    return dataOut;\n}\n</code></pre>\n<p>Main Logic for colour being displayed in Excel file(xls):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setCsPplusOuMoinsOutillageColor(HSSFCellStyle csPplusOuMoinsOutillage, String plusOuMoinsOutillage) {\n    if (plusOuMoinsOutillage != null) {\n        if (plusOuMoinsOutillage.equals(&quot;-&quot;)) {\n            csPplusOuMoinsOutillage.setFillPattern(HSSFCellStyle.SOLID_FOREGROUND);\n            csPplusOuMoinsOutillage.setFillForegroundColor(HSSFColor.RED.index);\n        } else if (plusOuMoinsOutillage.equals(&quot;+&quot;)) {\n            csPplusOuMoinsOutillage.setFillPattern(HSSFCellStyle.SOLID_FOREGROUND);\n            csPplusOuMoinsOutillage.setFillForegroundColor(HSSFColor.LIGHT_GREEN.index);\n        } else {\n            csPplusOuMoinsOutillage.setFillPattern(HSSFCellStyle.NO_FILL);\n        }\n    }\n}\n</code></pre>\n<p>Below is the code where data gets retrieved toByteArray():</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void doEoxExecute() throws FwkException {\n    try {\n        Map contextMap = (Map) getInput(IN_CONTEXT_MAP);\n\n        String langue = (String) getInput(IN_LOCALE_LANGUAGE);\n        String pays = (String) getInput(IN_LOCALE_COUNTRY);\n        Collection&lt;Object&gt; listeMsg = (Collection) getInput(IN_LOGGER_MSG);\n\n        if (listeMsg != null &amp;&amp; !listeMsg.isEmpty()) {\n            Iterator&lt;Object&gt; iter = listeMsg.iterator();\n            while (iter.hasNext()) {\n                Object msg = iter.next();\n                if (msg instanceof String)\n                    batchlog.info((String) msg);\n            }\n        }\n\n        locale = null;\n        if (langue != null) {\n            if (pays != null)\n                locale = new Locale(langue, pays);\n            else\n                locale = new Locale(langue);\n        } else\n            locale = Locale.FRANCE;\n\n        boolean inSec = Boolean.parseBoolean((String) getInput(IN_TIME_IN_SEC));\n        EOXContext.setCtx(!inSec, locale);\n\n        ByteArrayOutputStream out = createXLS(contextMap);\n\n        byte[] xls = out.toByteArray();\n\n        // si aucune donnee, on affiche un message a l'utilisateur\n        if (xls == null) {\n            batchlog.info(getMessage(broker, &quot;commun.export.xls.aucuneDonnee&quot;, locale));\n        } else {\n            String repertoireTemporaire = EoxBatchService.getPropriete(FICHIER_PROPERTIES, &quot;GenererXlsDocPoste.io.temp&quot;, null);\n            if (repertoireTemporaire == null)\n                repertoireTemporaire = EoxBatchService.getPropriete(EoxConstants.FICHIER_PROPRIETES_SERVEUR, &quot;GenererXlsDocPoste.io.temp&quot;, null);\n\n            if (repertoireTemporaire != null) {\n\n                File repertoire = new File(repertoireTemporaire);\n                File fichierXls = File.createTempFile(&quot;doc&quot;, &quot;.xls&quot;, repertoire);\n\n                if (logger.isInfoEnabled())\n                    logger.info(&quot;creation fichier XLS : &quot; + fichierXls.getAbsolutePath());\n\n                FileOutputStream fos = new FileOutputStream(fichierXls);\n                fos.write(xls);\n                fos.flush();\n\n                fos.close();\n</code></pre>\n<p>Also I am attaching the output of the excel file which shows no colors after certain 35th cell:</p>\n<p><a href=\"https://i.stack.imgur.com/peAuT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peAuT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","reactive-programming","project-reactor","reactor-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1664456401,"post_id":73891932,"comment_id":130479450,"body_markdown":"What if you had multiple instances of your application in your consumer group, all consuming different partitions? Basically, you need an external database to track when you&#39;ve reached that timestamp for all consumers","body":"What if you had multiple instances of your application in your consumer group, all consuming different partitions? Basically, you need an external database to track when you&#39;ve reached that timestamp for all consumers"},{"owner":{"account_id":25890790,"reputation":21,"user_id":19618237,"display_name":"Rishav Jayswal"},"score":0,"creation_date":1664460914,"post_id":73891932,"comment_id":130481370,"body_markdown":"Nope, I will have just the one instance and due to various design constraints, consuming from Kafka is the only solution I have.","body":"Nope, I will have just the one instance and due to various design constraints, consuming from Kafka is the only solution I have."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1664475563,"post_id":73891932,"comment_id":130486649,"body_markdown":"Okay, maybe &quot;now&quot; you have one instance, but &quot;in production&quot;, you should ideally scale out your consumers. Regardless, you need an external store to track when threads read those offsets","body":"Okay, maybe &quot;now&quot; you have one instance, but &quot;in production&quot;, you should ideally scale out your consumers. Regardless, you need an external store to track when threads read those offsets"}],"owner":{"account_id":25890790,"reputation":21,"user_id":19618237,"display_name":"Rishav Jayswal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664437283,"creation_date":1664437283,"question_id":73891932,"body_markdown":"I need to consume messages from a Kafka topic within a specific time range. It is easy enough to determine the starting offset with the help of `partition.seekToTimestamp(startTimeInMillis)` like the code below:\r\n\r\n    ReceiverOptions&lt;ByteBuffer, ByteBuffer&gt; options =\r\n            receiverOptions\r\n                .subscription(topicConfig.getTopics())\r\n                .pollTimeout(Duration.ofMillis(topicConfig.getPollWaitTimeoutMs()))\r\n                .addAssignListener(\r\n                    partitions -&gt; {\r\n                      partitions.forEach(partition -&gt; partition.seekToTimestamp(startTimeInMillis));\r\n                    });\r\n\r\nbut how do I stop consuming once the messages start exceeding the end timestamp? \r\nI can use the below code:\r\n\r\n    KafkaReceiver.create(options)\r\n            .receive()\r\n            .takeWhile(record -&gt; record.timestamp() &lt; endTimeInMillis)\r\n            .map(this::handleConsumerRecord);\r\n\r\nBut the problem is that when the condition is met for a message, that message might be the last valid mesage in its partition, but it might be possible that other partitions in the topic still have messages below the end timestamp.\r\n\r\nHow do I ensure that I have consumed all the messages across partitions within the end timestamp?","title":"How to consume messages within specific timestamps using reactor kafka","body":"<p>I need to consume messages from a Kafka topic within a specific time range. It is easy enough to determine the starting offset with the help of <code>partition.seekToTimestamp(startTimeInMillis)</code> like the code below:</p>\n<pre><code>ReceiverOptions&lt;ByteBuffer, ByteBuffer&gt; options =\n        receiverOptions\n            .subscription(topicConfig.getTopics())\n            .pollTimeout(Duration.ofMillis(topicConfig.getPollWaitTimeoutMs()))\n            .addAssignListener(\n                partitions -&gt; {\n                  partitions.forEach(partition -&gt; partition.seekToTimestamp(startTimeInMillis));\n                });\n</code></pre>\n<p>but how do I stop consuming once the messages start exceeding the end timestamp?\nI can use the below code:</p>\n<pre><code>KafkaReceiver.create(options)\n        .receive()\n        .takeWhile(record -&gt; record.timestamp() &lt; endTimeInMillis)\n        .map(this::handleConsumerRecord);\n</code></pre>\n<p>But the problem is that when the condition is met for a message, that message might be the last valid mesage in its partition, but it might be possible that other partitions in the topic still have messages below the end timestamp.</p>\n<p>How do I ensure that I have consumed all the messages across partitions within the end timestamp?</p>\n"},{"tags":["java","multithreading","concurrency","thread-safety"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1664352361,"post_id":73878065,"comment_id":130449267,"body_markdown":"the *linked* &#185;  question is from 2010, just before Java 7 was released - Java did not have Lambdas back that time, or even before, when the book was written? (`computeIfAbsent` was added in Java 8, released 2014) || **&#185;** not really linked!","body":"the <i>linked</i> &#185;  question is from 2010, just before Java 7 was released - Java did not have Lambdas back that time, or even before, when the book was written? (<code>computeIfAbsent</code> was added in Java 8, released 2014) || <b>&#185;</b> not really linked!"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1664352409,"post_id":73878065,"comment_id":130449281,"body_markdown":"The advantage is that it implements a specific interface that is not implemented by (Concurrent)(Hash)Map.","body":"The advantage is that it implements a specific interface that is not implemented by (Concurrent)(Hash)Map."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664356284,"post_id":73878065,"comment_id":130450707,"body_markdown":"Your code has a syntax error (missing `)`) but besides that would work, but is pointless. Replace `Computable&lt;A, V&gt;` with `Function&lt;A, V&gt;` (mind that this also is an interface that didnt exist back then), then you can pass the computable directly to `computeIfAbsent`, which makes the entire `ConcurrentMemoizer` obsolete, as you can use a `ConcurrentHashMap` in the first place.","body":"Your code has a syntax error (missing <code>)</code>) but besides that would work, but is pointless. Replace <code>Computable&lt;A, V&gt;</code> with <code>Function&lt;A, V&gt;</code> (mind that this also is an interface that didnt exist back then), then you can pass the computable directly to <code>computeIfAbsent</code>, which makes the entire <code>ConcurrentMemoizer</code> obsolete, as you can use a <code>ConcurrentHashMap</code> in the first place."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1664360164,"post_id":73878065,"comment_id":130452145,"body_markdown":"From the [javadoc of `ConcurrentHashMap.computeIfAbsent`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function)): _&quot;Some attempted update operations on this map by other threads may be blocked while computation is in progress, so the computation should be short and simple.&quot;_, so if `c.compute(a)` is something that takes a while, it might not be a good idea.","body":"From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">javadoc of <code>ConcurrentHashMap.computeIfAbsent</code></a>: <i>&quot;Some attempted update operations on this map by other threads may be blocked while computation is in progress, so the computation should be short and simple.&quot;</i>, so if <code>c.compute(a)</code> is something that takes a while, it might not be a good idea."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664436674,"creation_date":1664364713,"answer_id":73880677,"question_id":73878065,"body_markdown":"&gt; In Java Concurrency In Practice by Brian Goetz, why not simply use `computeIfAbsent`.\r\n\r\nIf you are asking why the book didn&#39;t use it, one answer is that `ConcurrentHashMap` didn&#39;t have `computeIfAbsent` when the book was published.\r\n\r\nIf you are asking why *you* shouldn&#39;t use it, the reason is in the [javadoc][1] caveat that @Mark Rotteveel pointed out:\r\n\r\n&gt; *&quot;Some attempted update operations on this map by other threads may be blocked while computation is in progress, so the computation should be short and simple.&quot;*\r\n\r\nExplanation: If you look at the source code of `computeIfAbsent(key, function)` in a typical `ConcurrentHashMap` implementation, you will see that it holds a lock on the submap in which the `key` lives.  Other threads that access other keys in the same submap will be blocked.  This is problematic if the call to `function` takes a long time.  The book talks about this problem too.\r\n\r\nGoetz&#39;s final version on page 108 deals with this using a `FutureTask` and `putIfAbsent`.  The blocking time is minimal except when the another thread trying to get the value that you are currently computing.\r\n\r\n-----------------\r\n\r\n&gt; *&quot;... why is the `Memoizer` class not annotated with `@ThreadSafe`?&quot;*\r\n\r\nI&#39;d say that is just an oversight.  There are other examples in the book where thread-safe classes haven&#39;t been annotated with `@ThreadSafe`.  (Note that these annotations are only advisory.  They don&#39;t *make* the code thread-safe.) \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function)","title":"In Java Concurrency In Practice by Brian Goetz, why not simply use computeIfAbsent","body":"<blockquote>\n<p>In Java Concurrency In Practice by Brian Goetz, why not simply use <code>computeIfAbsent</code>.</p>\n</blockquote>\n<p>If you are asking why the book didn't use it, one answer is that <code>ConcurrentHashMap</code> didn't have <code>computeIfAbsent</code> when the book was published.</p>\n<p>If you are asking why <em>you</em> shouldn't use it, the reason is in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">javadoc</a> caveat that @Mark Rotteveel pointed out:</p>\n<blockquote>\n<p><em>&quot;Some attempted update operations on this map by other threads may be blocked while computation is in progress, so the computation should be short and simple.&quot;</em></p>\n</blockquote>\n<p>Explanation: If you look at the source code of <code>computeIfAbsent(key, function)</code> in a typical <code>ConcurrentHashMap</code> implementation, you will see that it holds a lock on the submap in which the <code>key</code> lives.  Other threads that access other keys in the same submap will be blocked.  This is problematic if the call to <code>function</code> takes a long time.  The book talks about this problem too.</p>\n<p>Goetz's final version on page 108 deals with this using a <code>FutureTask</code> and <code>putIfAbsent</code>.  The blocking time is minimal except when the another thread trying to get the value that you are currently computing.</p>\n<hr />\n<blockquote>\n<p><em>&quot;... why is the <code>Memoizer</code> class not annotated with <code>@ThreadSafe</code>?&quot;</em></p>\n</blockquote>\n<p>I'd say that is just an oversight.  There are other examples in the book where thread-safe classes haven't been annotated with <code>@ThreadSafe</code>.  (Note that these annotations are only advisory.  They don't <em>make</em> the code thread-safe.)</p>\n"}],"owner":{"account_id":1577308,"reputation":327,"user_id":1463440,"display_name":"joy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73880677,"answer_count":1,"score":-1,"last_activity_date":1664436674,"creation_date":1664352111,"question_id":73878065,"body_markdown":"Java Concurrency In Practice by Brian Goetz provides an implementation of Memoizer on pg 108: https://stackoverflow.com/questions/4528382/in-java-concurrency-in-practice-by-brian-goetz-why-is-the-memoizer-class-not-an\r\n\r\nInstead of this (perhaps over elaborate implementation) what potential downside does the below implementation have?\r\n\r\n    public class ConcurrentMemoizer&lt;A, V&gt; implements Computable&lt;A, V&gt; {\r\n    \r\n        private final ConcurrentMap&lt;A, V&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n        private final Computable&lt;A, V&gt; c;\r\n    \r\n        public ConcurrentMemoizer(Computable&lt;A, V&gt; c) {\r\n            this.c = c;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public V compute(A arg) {\r\n            return cache.computeIfAbsent(arg, a -&gt; c.compute(a);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"In Java Concurrency In Practice by Brian Goetz, why not simply use computeIfAbsent","body":"<p>Java Concurrency In Practice by Brian Goetz provides an implementation of Memoizer on pg 108: <a href=\"https://stackoverflow.com/questions/4528382/in-java-concurrency-in-practice-by-brian-goetz-why-is-the-memoizer-class-not-an\">In Java Concurrency In Practice by Brian Goetz, why is the Memoizer class not annotated with @ThreadSafe?</a></p>\n<p>Instead of this (perhaps over elaborate implementation) what potential downside does the below implementation have?</p>\n<pre><code>public class ConcurrentMemoizer&lt;A, V&gt; implements Computable&lt;A, V&gt; {\n\n    private final ConcurrentMap&lt;A, V&gt; cache = new ConcurrentHashMap&lt;&gt;();\n    private final Computable&lt;A, V&gt; c;\n\n    public ConcurrentMemoizer(Computable&lt;A, V&gt; c) {\n        this.c = c;\n    }\n\n\n    @Override\n    public V compute(A arg) {\n        return cache.computeIfAbsent(arg, a -&gt; c.compute(a);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","grails","groovy"],"answers":[{"tags":[],"owner":{"account_id":380677,"reputation":3656,"user_id":734861,"accept_rate":58,"display_name":"kofhearts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664436662,"creation_date":1664436662,"answer_id":73891816,"question_id":73887793,"body_markdown":"we have used google recaptcha in contact us form. \r\n\r\nI am using grails 2.2.\r\n\r\nIn the contact us gsp.\r\n\r\nput this in head\r\n\r\n    &lt;script src=&#39;https://www.google.com/recaptcha/api.js&#39;&gt;&lt;/script&gt;\r\n\r\nwhere you would like captcha to show\r\n\r\n    &lt;div id=&quot;captcha&quot; class=&quot;g-recaptcha&quot; data-sitekey=&quot;${grailsApplication.config.captchaSiteKey}&quot;&gt;&lt;/div&gt;\r\n\r\nput captchasitekey in config.groovy\r\n\r\n    captchaSiteKey = &quot;234234lkjh234kjhdsf98sdflhjsdf&quot;\r\n    captchaSecretKey = &quot;12121234jh234kjhdsf98sdflhjsdf&quot;\r\n\r\ncreate your keys in google recaptcha admin console\r\n\r\nhttps://www.google.com/recaptcha/about/\r\n\r\ncontact us submit button\r\n\r\n    &lt;input type=&quot;button&quot; value=&quot;Send&quot; onClick=&quot;sendRequest()&quot; class=&quot;button&quot;/&gt;\r\n\r\nJavascript code\r\n\r\n\r\n\r\n    &lt;g:javascript&gt;\r\n    \r\n    \t\t\tfunction sendRequest(){\r\n    \r\n    \r\n    \t\t\t\tvar email_string = $(&#39;input[name=&quot;email&quot;]&#39;).val();\r\n    \t\t\t\tvar body_string = $(&#39;textarea[name=&quot;body&quot;]&#39;).val();\r\n    \t\t\t\tvar cap_response = $(&#39;textarea[name=&quot;g-recaptcha-response&quot;]&#39;).val();\r\n    \r\n    \r\n    \t\t\t\tvar replying = &quot;${params[&#39;s&#39;]}&quot;\r\n    \t\t\t\tvar idd = &quot;${params[&#39;i&#39;]}&quot;\r\n    \r\n    \t\t\t\tif(email_string &amp;&amp; body_string){\r\n    \r\n    \t\t\t\t  $.ajax(&#39;&lt;g:createLink controller=&quot;public&quot; action=&quot;sendMessage&quot;/&gt;&#39;, {\r\n    \t\t\t            type:&quot;post&quot;,\r\n    \t\t\t            dataType: &#39;text&#39;,\r\n    \t\t\t            data:{body: body_string, email: email_string, reply: replying, id: idd, recap_response: cap_response},\r\n    \t\t\t            success: function(data) {\r\n    \r\n    \r\n    \t\t\t                $(&#39;#body&#39;).val(&quot;&quot;);\r\n    \t\t\t                $(&#39;#email&#39;).val(&quot;&quot;);\r\n    \r\n    \r\n    \t\t\t                alert(&quot;Thanks for contacting us! We will respond promptly.&quot;);\r\n    \r\n    \r\n    \t\t\t            },\r\n    \t\t\t            error: function(xhr){\r\n    \t\t\t                alert(&#39;Sorry there was a problem sending message. Please try again!&#39;); //&lt;----when no data alert the err msg\r\n    \r\n    \t\t\t            }\r\n    \t\t\t        });\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \r\n    \r\n    \t\t\t\t    alert(&quot;Please make sure you enter your email and message before sending us message.&quot;)\r\n    \t\t\t\t}\r\n    \r\n    \r\n    \r\n    \t\t\t}\r\n    \r\n    \r\n    \r\n    &lt;/g:javascript&gt;\r\n\r\n\r\n\r\nServer side\r\n\r\n\r\n\r\n\r\n\r\ndef sendMessage(){\r\n\r\n\r\n\tdef res = params[&#39;recap_response&#39;]\r\n\r\n\tHttpURLConnection post = (HttpURLConnection)(new URL(&quot;https://www.google.com/recaptcha/api/siteverify&quot;).openConnection());\r\n\r\n\tString urlParameters = &quot;secret=${grailsApplication.config.captchaSecretKey}&amp;response=${res}&quot;;\r\n\tbyte[] postData = urlParameters.getBytes(StandardCharsets.UTF_8);\r\n\r\n\tpost.setRequestMethod(&quot;POST&quot;)\r\n\tpost.setDoOutput(true)\r\n\tpost.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n\tpost.getOutputStream().write(postData);\r\n\tdef postRC = post.getResponseCode();\r\n\r\n\tdef recaptchaOK = false\r\n\r\n\r\n\tif(postRC.equals(200)) {\r\n\r\n\t\tdef jsonSlurper = new JsonSlurper()\r\n\r\n\t\tdef resp = jsonSlurper.parseText(post.getInputStream().getText())\r\n\r\n\t\trecaptchaOK = resp.success\r\n\r\n\t}\r\n\r\n\r\n\tif(!recaptchaOK){\r\n\r\n\t\trender &quot;Captcha was wrong. Please try again!&quot;\r\n\t\treturn\r\n\t}\r\n\r\n\r\nThis is the documentation i referred to implement mine. \r\n\r\nhttps://developers.google.com/recaptcha/intro\r\n\r\nhope this helps!\r\n\r\n\r\n\r\n","title":"how can i implement captcha v3 in a registration form in grails 2.5.6?","body":"<p>we have used google recaptcha in contact us form.</p>\n<p>I am using grails 2.2.</p>\n<p>In the contact us gsp.</p>\n<p>put this in head</p>\n<pre><code>&lt;script src='https://www.google.com/recaptcha/api.js'&gt;&lt;/script&gt;\n</code></pre>\n<p>where you would like captcha to show</p>\n<pre><code>&lt;div id=&quot;captcha&quot; class=&quot;g-recaptcha&quot; data-sitekey=&quot;${grailsApplication.config.captchaSiteKey}&quot;&gt;&lt;/div&gt;\n</code></pre>\n<p>put captchasitekey in config.groovy</p>\n<pre><code>captchaSiteKey = &quot;234234lkjh234kjhdsf98sdflhjsdf&quot;\ncaptchaSecretKey = &quot;12121234jh234kjhdsf98sdflhjsdf&quot;\n</code></pre>\n<p>create your keys in google recaptcha admin console</p>\n<p><a href=\"https://www.google.com/recaptcha/about/\" rel=\"nofollow noreferrer\">https://www.google.com/recaptcha/about/</a></p>\n<p>contact us submit button</p>\n<pre><code>&lt;input type=&quot;button&quot; value=&quot;Send&quot; onClick=&quot;sendRequest()&quot; class=&quot;button&quot;/&gt;\n</code></pre>\n<p>Javascript code</p>\n<pre><code>&lt;g:javascript&gt;\n\n            function sendRequest(){\n\n\n                var email_string = $('input[name=&quot;email&quot;]').val();\n                var body_string = $('textarea[name=&quot;body&quot;]').val();\n                var cap_response = $('textarea[name=&quot;g-recaptcha-response&quot;]').val();\n\n\n                var replying = &quot;${params['s']}&quot;\n                var idd = &quot;${params['i']}&quot;\n\n                if(email_string &amp;&amp; body_string){\n\n                  $.ajax('&lt;g:createLink controller=&quot;public&quot; action=&quot;sendMessage&quot;/&gt;', {\n                        type:&quot;post&quot;,\n                        dataType: 'text',\n                        data:{body: body_string, email: email_string, reply: replying, id: idd, recap_response: cap_response},\n                        success: function(data) {\n\n\n                            $('#body').val(&quot;&quot;);\n                            $('#email').val(&quot;&quot;);\n\n\n                            alert(&quot;Thanks for contacting us! We will respond promptly.&quot;);\n\n\n                        },\n                        error: function(xhr){\n                            alert('Sorry there was a problem sending message. Please try again!'); //&lt;----when no data alert the err msg\n\n                        }\n                    });\n\n                }\n                else{\n\n\n                    alert(&quot;Please make sure you enter your email and message before sending us message.&quot;)\n                }\n\n\n\n            }\n\n\n\n&lt;/g:javascript&gt;\n</code></pre>\n<p>Server side</p>\n<p>def sendMessage(){</p>\n<pre><code>def res = params['recap_response']\n\nHttpURLConnection post = (HttpURLConnection)(new URL(&quot;https://www.google.com/recaptcha/api/siteverify&quot;).openConnection());\n\nString urlParameters = &quot;secret=${grailsApplication.config.captchaSecretKey}&amp;response=${res}&quot;;\nbyte[] postData = urlParameters.getBytes(StandardCharsets.UTF_8);\n\npost.setRequestMethod(&quot;POST&quot;)\npost.setDoOutput(true)\npost.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\npost.getOutputStream().write(postData);\ndef postRC = post.getResponseCode();\n\ndef recaptchaOK = false\n\n\nif(postRC.equals(200)) {\n\n    def jsonSlurper = new JsonSlurper()\n\n    def resp = jsonSlurper.parseText(post.getInputStream().getText())\n\n    recaptchaOK = resp.success\n\n}\n\n\nif(!recaptchaOK){\n\n    render &quot;Captcha was wrong. Please try again!&quot;\n    return\n}\n</code></pre>\n<p>This is the documentation i referred to implement mine.</p>\n<p><a href=\"https://developers.google.com/recaptcha/intro\" rel=\"nofollow noreferrer\">https://developers.google.com/recaptcha/intro</a></p>\n<p>hope this helps!</p>\n"}],"owner":{"account_id":26474684,"reputation":3,"user_id":20114758,"display_name":"Javier Antonio Ay Pech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73891816,"answer_count":1,"score":0,"last_activity_date":1664436662,"creation_date":1664399216,"question_id":73887793,"body_markdown":"I need to implement a captcha with v3 in grails but I&#39;m relatively new to implementing captchas has anyone ever implemented it in grails 2.5.6?","title":"how can i implement captcha v3 in a registration form in grails 2.5.6?","body":"<p>I need to implement a captcha with v3 in grails but I'm relatively new to implementing captchas has anyone ever implemented it in grails 2.5.6?</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":16064317,"reputation":11,"user_id":11594415,"display_name":"Vladim&#237;r Dua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603901030,"creation_date":1603901030,"answer_id":64576730,"question_id":63566755,"body_markdown":"I went into the same problem. I wasn&#39;t able to eliminate the auto breaks, so I moved them using following code to the end of the last page:\r\n\r\n    sheet.setFitToPage(true);\r\n    XSSFPrintSetup printSetup = sheet.getPrintSetup()\r\n    printSetup.setFitWidth( (short) 1)\r\n    printSetup.setFitHeight( (short) 0)","title":"Apache POI setAutobreaks(false) not functioning as expected","body":"<p>I went into the same problem. I wasn't able to eliminate the auto breaks, so I moved them using following code to the end of the last page:</p>\n<pre><code>sheet.setFitToPage(true);\nXSSFPrintSetup printSetup = sheet.getPrintSetup()\nprintSetup.setFitWidth( (short) 1)\nprintSetup.setFitHeight( (short) 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16064317,"reputation":11,"user_id":11594415,"display_name":"Vladim&#237;r Dua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604475877,"creation_date":1604475877,"answer_id":64675931,"question_id":63566755,"body_markdown":"Following code (groovy) generates two workbooks.\r\n```\r\n\ttestPageBreaks(false) //generates sheet with auto page breaks (see image 1)\r\n\r\n\ttestPageBreaks(true) //generates sheet with auto page breaks but at the very last cell of the sheet (see image 2)\r\n\r\n\tdef testPageBreaks(boolean fitToPage) {\r\n\t\tWorkbook wb = new XSSFWorkbook()\r\n\t\tSheet sheet = wb.createSheet()\r\n\r\n\t\tdef r = sheet.createRow(90)\r\n\t\tdef c = r.createCell(30)\r\n\t\tc.setCellValue(&quot;last cell&quot;)\r\n\r\n\t\tsheet.setRowBreak(30)\r\n\t\tsheet.setRowBreak(60)\r\n\t\tsheet.setRowBreak(90)\r\n\r\n\t\tif ( fitToPage ) { \r\n\t\t\tsheet.setFitToPage(true)\r\n\t\t\tXSSFPrintSetup printSetup = sheet.getPrintSetup()\r\n\t\t\tprintSetup.setFitWidth( (short) 1)\r\n\t\t\tprintSetup.setFitHeight( (short) 0)\r\n\t\t}\r\n\r\n\t\tByteArrayOutputStream ostream = new ByteArrayOutputStream()\r\n\t\twb.write(ostream)\r\n\r\n\t\tresponse.contentType = &#39;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#39;\r\n\t\tresponse.setHeader(&#39;Content-Disposition&#39;, &quot;attachment; filename=test.xlsx&quot;)\r\n\t\tresponse.setIntHeader(&#39;Content-Length&#39;, ostream.size())\r\n\t\tostream.writeTo(response.outputStream)\r\n\t\tresponse.outputStream.flush()\r\n\t}\r\n```\r\n\r\nImage 1 - testPageBreaks(false)\r\n[![Image 1 - testPageBreaks(false)][1]][1]\r\n\r\nImage 2 - testPageBreaks(true)\r\n[![Image 2 - testPageBreaks(true)][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t2Zxn.png\r\n  [2]: https://i.stack.imgur.com/c609g.png","title":"Apache POI setAutobreaks(false) not functioning as expected","body":"<p>Following code (groovy) generates two workbooks.</p>\n<pre><code>    testPageBreaks(false) //generates sheet with auto page breaks (see image 1)\n\n    testPageBreaks(true) //generates sheet with auto page breaks but at the very last cell of the sheet (see image 2)\n\n    def testPageBreaks(boolean fitToPage) {\n        Workbook wb = new XSSFWorkbook()\n        Sheet sheet = wb.createSheet()\n\n        def r = sheet.createRow(90)\n        def c = r.createCell(30)\n        c.setCellValue(&quot;last cell&quot;)\n\n        sheet.setRowBreak(30)\n        sheet.setRowBreak(60)\n        sheet.setRowBreak(90)\n\n        if ( fitToPage ) { \n            sheet.setFitToPage(true)\n            XSSFPrintSetup printSetup = sheet.getPrintSetup()\n            printSetup.setFitWidth( (short) 1)\n            printSetup.setFitHeight( (short) 0)\n        }\n\n        ByteArrayOutputStream ostream = new ByteArrayOutputStream()\n        wb.write(ostream)\n\n        response.contentType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n        response.setHeader('Content-Disposition', &quot;attachment; filename=test.xlsx&quot;)\n        response.setIntHeader('Content-Length', ostream.size())\n        ostream.writeTo(response.outputStream)\n        response.outputStream.flush()\n    }\n</code></pre>\n<p>Image 1 - testPageBreaks(false)\n<a href=\"https://i.stack.imgur.com/t2Zxn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2Zxn.png\" alt=\"Image 1 - testPageBreaks(false)\" /></a></p>\n<p>Image 2 - testPageBreaks(true)\n<a href=\"https://i.stack.imgur.com/c609g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c609g.png\" alt=\"Image 2 - testPageBreaks(true)\" /></a></p>\n"}],"owner":{"account_id":4639116,"reputation":27,"user_id":3759478,"display_name":"cibin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664436662,"creation_date":1598293835,"question_id":63566755,"body_markdown":"I am trying to print an excel generated using the Apache POI and the manual page breaks are not functioning as expected I have set the following\r\n        \r\n        sheet.setAutobreaks(false);\r\n\t\tsheet.setRowBreak(50);\r\n\t\tsheet.setColumnBreak(20); \r\n\r\nBut as you can see below both the auto page break(doted lines) and the Manual page Breaks are coming and users have to manually drag the dotted lines to take a proper print out\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TRXDY.png","title":"Apache POI setAutobreaks(false) not functioning as expected","body":"<p>I am trying to print an excel generated using the Apache POI and the manual page breaks are not functioning as expected I have set the following</p>\n<pre><code>    sheet.setAutobreaks(false);\n    sheet.setRowBreak(50);\n    sheet.setColumnBreak(20); \n</code></pre>\n<p>But as you can see below both the auto page break(doted lines) and the Manual page Breaks are coming and users have to manually drag the dotted lines to take a proper print out</p>\n<p><a href=\"https://i.stack.imgur.com/TRXDY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TRXDY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sockets","nio","nonblocking","socketchannel"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664898954,"post_id":73852837,"comment_id":130573206,"body_markdown":"you must think of the code fragment &quot;asynchronous&quot;!? (the `do` executes simultaneously to &quot;shutdown&quot;, but in any case (only) `while (bytesRead &gt; 0)`)","body":"you must think of the code fragment &quot;asynchronous&quot;!? (the <code>do</code> executes simultaneously to &quot;shutdown&quot;, but in any case (only) <code>while (bytesRead &gt; 0)</code>)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1680603222,"post_id":73852837,"comment_id":133922408,"body_markdown":"Every time you do a read you are removing data from the socket receive buffer, which makes it possible for the sender to send more data. The answer here is `shutdownInput()`, at least in theory, but in practice there are at least three separate behaviours, two of which are not what you want.","body":"Every time you do a read you are removing data from the socket receive buffer, which makes it possible for the sender to send more data. The answer here is <code>shutdownInput()</code>, at least in theory, but in practice there are at least three separate behaviours, two of which are not what you want."}],"owner":{"account_id":99829,"reputation":13624,"user_id":269454,"accept_rate":51,"display_name":"lujop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664436439,"creation_date":1664188070,"question_id":73852837,"body_markdown":"The use case is, in an only reading server, when a shutdown request is received to prevent clients to send more data but do the best effort to process possible data in buffers.\r\n\r\nI&#39;ve tried with `shutdownInput()` and `socket.close()`, which successfully prevent further reading but also buffered content.\r\n\r\n`shutdownInput()` was my first bet, but documentation clearly says that further `read()` will return -1, althought I&#39;ve seen some code [in Apache NIFI][1] that seems to read data after shutdown.\r\n\r\n\r\n  [1]: https://github.com/apache/nifi/blob/aa741cc5967f62c3c38c2a47e712b7faa6fe19ff/nifi-commons/nifi-utils/src/main/java/org/apache/nifi/remote/io/socket/SocketChannelInputStream.java#L54","title":"It&#39;s possible with a non-blocking SocketChannel to read all present buffered data while preventing further receiving from clients?","body":"<p>The use case is, in an only reading server, when a shutdown request is received to prevent clients to send more data but do the best effort to process possible data in buffers.</p>\n<p>I've tried with <code>shutdownInput()</code> and <code>socket.close()</code>, which successfully prevent further reading but also buffered content.</p>\n<p><code>shutdownInput()</code> was my first bet, but documentation clearly says that further <code>read()</code> will return -1, althought I've seen some code <a href=\"https://github.com/apache/nifi/blob/aa741cc5967f62c3c38c2a47e712b7faa6fe19ff/nifi-commons/nifi-utils/src/main/java/org/apache/nifi/remote/io/socket/SocketChannelInputStream.java#L54\" rel=\"nofollow noreferrer\">in Apache NIFI</a> that seems to read data after shutdown.</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664436061,"creation_date":1664436061,"answer_id":73891697,"question_id":73888363,"body_markdown":"&gt; Why does Spring Data JPA `SimpleJpaRepository.java` validate if an entity exists with `findById()` method?\r\n\r\nBecause JPA will load the entity anyway. It needs to do that since it has to fire lifecycle events which require the entity.\r\n\r\n&gt; Should I validate if an entity exists in database before calling `deleteById` method, if `SimpleJpaRepository` does validate it, or is it redundant?\r\n\r\nCurrently this is redundant. I&#39;d recommend to still do it though since the behavior of the delete operations will change and they will no longer throw exceptions when nothing gets found to be deleted.\r\n\r\nI would recommend though to actually use `findById` instead of `existsById` because if it get found Spring Data JPA will execute a `findById` anyway. And if you did that before already it will be just a lookup in the first level cache. But if you only did an exists check another SQL statement has to be executed.","title":"Why does spring use findById before deleteById","body":"<blockquote>\n<p>Why does Spring Data JPA <code>SimpleJpaRepository.java</code> validate if an entity exists with <code>findById()</code> method?</p>\n</blockquote>\n<p>Because JPA will load the entity anyway. It needs to do that since it has to fire lifecycle events which require the entity.</p>\n<blockquote>\n<p>Should I validate if an entity exists in database before calling <code>deleteById</code> method, if <code>SimpleJpaRepository</code> does validate it, or is it redundant?</p>\n</blockquote>\n<p>Currently this is redundant. I'd recommend to still do it though since the behavior of the delete operations will change and they will no longer throw exceptions when nothing gets found to be deleted.</p>\n<p>I would recommend though to actually use <code>findById</code> instead of <code>existsById</code> because if it get found Spring Data JPA will execute a <code>findById</code> anyway. And if you did that before already it will be just a lookup in the first level cache. But if you only did an exists check another SQL statement has to be executed.</p>\n"}],"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Krek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73891697,"answer_count":1,"score":0,"last_activity_date":1664436061,"creation_date":1664403357,"question_id":73888363,"body_markdown":"In this &quot;[The best way to write a Spring Data Exists Query][1]&quot; article is mentioned how NOT to write exists query. One of two mentioned NOT TODO`s is:\r\n&gt; emulating existence with a findBy query\r\n```\r\nOptional&lt;Post&gt; findBySlug(String slug);\r\n```\r\n\r\nThe reason mentioned is: \r\n\r\n&gt; ... waste of resources ... to send the entity result set over the network to the JDBC Driver\r\n\r\nMy main question is then:\r\nWhy does Spring Data JPA SimpleJpaRepository.java validate if an entity exists with *findById()* method?\r\n    \r\n    this.delete(this.findById(id).orElseThrow(() -&gt; {\r\n      return new EmptyResultDataAccessException(...);\r\n    }));\r\n  }\r\n\r\nSecond question is:\r\nShould I validate if an entity exists in database before calling *deleteById* method, if SimpleJpaRepository does validate it, or is it redundant? My general delete method:\r\n```\r\n  public void delete(String id) {\r\n    if (!userRepository.existsById(id)) {\r\n      throw new ObjectNotFoundException();\r\n    }\r\n    userRepository.deleteById(id);\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://vladmihalcea.com/spring-data-exists-query/","title":"Why does spring use findById before deleteById","body":"<p>In this &quot;<a href=\"https://vladmihalcea.com/spring-data-exists-query/\" rel=\"nofollow noreferrer\">The best way to write a Spring Data Exists Query</a>&quot; article is mentioned how NOT to write exists query. One of two mentioned NOT TODO`s is:</p>\n<blockquote>\n<p>emulating existence with a findBy query</p>\n</blockquote>\n<pre><code>Optional&lt;Post&gt; findBySlug(String slug);\n</code></pre>\n<p>The reason mentioned is:</p>\n<blockquote>\n<p>... waste of resources ... to send the entity result set over the network to the JDBC Driver</p>\n</blockquote>\n<p>My main question is then:\nWhy does Spring Data JPA SimpleJpaRepository.java validate if an entity exists with <em>findById()</em> method?</p>\n<pre><code>this.delete(this.findById(id).orElseThrow(() -&gt; {\n  return new EmptyResultDataAccessException(...);\n}));\n</code></pre>\n<p>}</p>\n<p>Second question is:\nShould I validate if an entity exists in database before calling <em>deleteById</em> method, if SimpleJpaRepository does validate it, or is it redundant? My general delete method:</p>\n<pre><code>  public void delete(String id) {\n    if (!userRepository.existsById(id)) {\n      throw new ObjectNotFoundException();\n    }\n    userRepository.deleteById(id);\n  }\n</code></pre>\n"},{"tags":["java","flush","stream"],"answers":[{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1468324158,"creation_date":1267170000,"answer_id":2340125,"question_id":2340106,"body_markdown":"From the [docs][1] of the `flush` method:\r\n\r\n&gt; Flushes the output stream and forces any buffered output bytes to be written out. The general contract of flush is that calling it is an indication that, if any bytes previously written have been buffered by the implementation of the output stream, such bytes should immediately be written to their intended destination.\r\n\r\nThe buffering is mainly done to improve the I/O performance. More on this can be read from this article: [Tuning Java I/O Performance][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html#flush--\r\n  [2]: http://www.oracle.com/technetwork/articles/javase/perftuning-137844.html","title":"What is the purpose of flush() in Java streams?","body":"<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html#flush--\" rel=\"noreferrer\">docs</a> of the <code>flush</code> method:</p>\n\n<blockquote>\n  <p>Flushes the output stream and forces any buffered output bytes to be written out. The general contract of flush is that calling it is an indication that, if any bytes previously written have been buffered by the implementation of the output stream, such bytes should immediately be written to their intended destination.</p>\n</blockquote>\n\n<p>The buffering is mainly done to improve the I/O performance. More on this can be read from this article: <a href=\"http://www.oracle.com/technetwork/articles/javase/perftuning-137844.html\" rel=\"noreferrer\">Tuning Java I/O Performance</a>.</p>\n"},{"tags":[],"owner":{"account_id":76963,"reputation":3253,"user_id":219985,"accept_rate":83,"display_name":"Silvio Donnini"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1267170309,"creation_date":1267170309,"answer_id":2340138,"question_id":2340106,"body_markdown":"Streams are often accessed by threads that periodically empty their content and, for example, display it on the screen, send it to a socket or write it to a file. This is done for performance reasons. Flushing an output stream means that you want to stop, wait for the content of the stream to be completely transferred to its destination, and then resume execution with the stream empty and the content sent.","title":"What is the purpose of flush() in Java streams?","body":"<p>Streams are often accessed by threads that periodically empty their content and, for example, display it on the screen, send it to a socket or write it to a file. This is done for performance reasons. Flushing an output stream means that you want to stop, wait for the content of the stream to be completely transferred to its destination, and then resume execution with the stream empty and the content sent.</p>\n"},{"tags":[],"owner":{"account_id":1241486,"reputation":2776,"user_id":1203986,"accept_rate":90,"display_name":"Biman Tripathy"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1573496623,"creation_date":1351802652,"answer_id":13185166,"question_id":2340106,"body_markdown":"When you write data to a stream, it is not written immediately, and it is buffered. So use `flush()` when you need to be sure that all your data from buffer is written.\r\n\r\nWe need to be sure that all the writes are completed before we close the stream, and that is why `flush()` is called in file/buffered writer&#39;s `close()`.\r\n\r\nBut if you have a requirement that all your writes be saved anytime before you close the stream, use `flush()`.","title":"What is the purpose of flush() in Java streams?","body":"<p>When you write data to a stream, it is not written immediately, and it is buffered. So use <code>flush()</code> when you need to be sure that all your data from buffer is written.</p>\n\n<p>We need to be sure that all the writes are completed before we close the stream, and that is why <code>flush()</code> is called in file/buffered writer's <code>close()</code>.</p>\n\n<p>But if you have a requirement that all your writes be saved anytime before you close the stream, use <code>flush()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3601144,"reputation":319,"user_id":3004437,"display_name":"user3004437"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1540365739,"creation_date":1384773021,"answer_id":20046310,"question_id":2340106,"body_markdown":"When we give any command, the streams of that command are stored in the memory location called buffer(a temporary memory location) in our computer. When all the temporary memory location is full then we use flush(), which flushes all the streams of data and executes them completely and gives a new space to new streams in buffer temporary location.\r\n                        -Hope you will understand","title":"What is the purpose of flush() in Java streams?","body":"<p>When we give any command, the streams of that command are stored in the memory location called buffer(a temporary memory location) in our computer. When all the temporary memory location is full then we use flush(), which flushes all the streams of data and executes them completely and gives a new space to new streams in buffer temporary location.\n                        -Hope you will understand</p>\n"},{"tags":[],"owner":{"account_id":3209614,"reputation":824,"user_id":2709855,"accept_rate":46,"display_name":"vijaya kumar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1428163012,"creation_date":1428163012,"answer_id":29448422,"question_id":2340106,"body_markdown":"For performance issue, first data is to be written into Buffer. When buffer get full then data is written to output (File,console etc.). When buffer is partially filled and you want to send it to output(file,console) then you need to call flush() method manually in order to write partially filled buffer to output(file,console). \r\n","title":"What is the purpose of flush() in Java streams?","body":"<p>For performance issue, first data is to be written into Buffer. When buffer get full then data is written to output (File,console etc.). When buffer is partially filled and you want to send it to output(file,console) then you need to call flush() method manually in order to write partially filled buffer to output(file,console). </p>\n"},{"tags":[],"owner":{"account_id":4231428,"reputation":1077,"user_id":3463646,"accept_rate":80,"display_name":"sopehl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1474448604,"creation_date":1474448604,"answer_id":39612028,"question_id":2340106,"body_markdown":"If the buffer is full, all strings that is buffered on it, they will be saved onto the disk. Buffers is used for avoiding from Big Deals! and overhead.\r\n\r\nIn BufferedWriter class that is placed in java libs, there is a one line like:\r\n\r\n    private static int defaultCharBufferSize = 8192;\r\n\r\n&gt; If you do want to send data before the buffer is full, you do have control. Just Flush It. Calls to writer.flush() say, &quot;send whatever&#39;s in the buffer, now!\r\n\r\nreference book: https://www.amazon.com/Head-First-Java-Kathy-Sierra/dp/0596009208\r\n\r\npages:453","title":"What is the purpose of flush() in Java streams?","body":"<p>If the buffer is full, all strings that is buffered on it, they will be saved onto the disk. Buffers is used for avoiding from Big Deals! and overhead.</p>\n\n<p>In BufferedWriter class that is placed in java libs, there is a one line like:</p>\n\n<pre><code>private static int defaultCharBufferSize = 8192;\n</code></pre>\n\n<blockquote>\n  <p>If you do want to send data before the buffer is full, you do have control. Just Flush It. Calls to writer.flush() say, \"send whatever's in the buffer, now!</p>\n</blockquote>\n\n<p>reference book: <a href=\"https://rads.stackoverflow.com/amzn/click/com/0596009208\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">https://www.amazon.com/Head-First-Java-Kathy-Sierra/dp/0596009208</a></p>\n\n<p>pages:453</p>\n"},{"tags":[],"owner":{"account_id":2702308,"reputation":1444,"user_id":2332782,"display_name":"Ehsan Khaveh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1664436023,"creation_date":1608283587,"answer_id":65354502,"question_id":2340106,"body_markdown":"In addition to other good answers here, this explanation made it very clear for me:\r\n\r\n&gt; A buffer is a portion in memory that is used to store a stream of data\r\n&gt; (characters). These characters sometimes will only get sent to an\r\n&gt; output device (e.g. monitor) when the buffer is full or meets a\r\n&gt; certain number of characters. This can cause your system to lag if you\r\n&gt; just have a few characters to send to an output device. The flush()\r\n&gt; method will immediately flush the contents of the buffer to the output\r\n&gt; stream.\r\n\r\nSource: https://www.youtube.com/watch?v=MjK3dZTc0Lg","title":"What is the purpose of flush() in Java streams?","body":"<p>In addition to other good answers here, this explanation made it very clear for me:</p>\n<blockquote>\n<p>A buffer is a portion in memory that is used to store a stream of data\n(characters). These characters sometimes will only get sent to an\noutput device (e.g. monitor) when the buffer is full or meets a\ncertain number of characters. This can cause your system to lag if you\njust have a few characters to send to an output device. The flush()\nmethod will immediately flush the contents of the buffer to the output\nstream.</p>\n</blockquote>\n<p>Source: <a href=\"https://www.youtube.com/watch?v=MjK3dZTc0Lg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=MjK3dZTc0Lg</a></p>\n"}],"owner":{"account_id":103658,"reputation":20982,"user_id":277516,"accept_rate":77,"display_name":"Venkat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300615,"favorite_count":0,"down_vote_count":0,"up_vote_count":156,"accepted_answer_id":2340125,"answer_count":7,"score":156,"last_activity_date":1664436023,"creation_date":1267169742,"question_id":2340106,"body_markdown":"In Java, `flush()` method is used in streams. But I don&#39;t understand what are all the purpose of using this method?\r\n\r\n    fin.flush();\r\n\r\ntell me some suggestions.","title":"What is the purpose of flush() in Java streams?","body":"<p>In Java, <code>flush()</code> method is used in streams. But I don't understand what are all the purpose of using this method?</p>\n\n<pre><code>fin.flush();\n</code></pre>\n\n<p>tell me some suggestions.</p>\n"},{"tags":["java","refactoring"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664416420,"creation_date":1664416420,"answer_id":73889481,"question_id":73889421,"body_markdown":"You could make a method where you pass the text in.\r\n\r\n```\r\nprivate checkInterface0(String clientId, String msgTemplate) {\r\n  Long id;\r\n    try {\r\n        id = Long.parse(clientId);\r\n    } catch (Exception e) {\r\n        throw new InterfaceException(msgTemplate);\r\n    }\r\n    if(*clientId not exist in DB*) {\r\n        throw new InterfaceException(msgTemplate);\r\n    }\r\n  }\r\n```\r\n\r\nYou might want to treat the template as either a filler (`throw new InterfaceException(&quot;Parse ID error in &quot; + template);`) or by using string.format: `throw new InterfaceException(String.format(template, &quot;Parse ID error&quot;)`. The parameter would be something like `&quot;%s in interface A&quot;`.\r\n","title":"Same checking logic different exception message","body":"<p>You could make a method where you pass the text in.</p>\n<pre><code>private checkInterface0(String clientId, String msgTemplate) {\n  Long id;\n    try {\n        id = Long.parse(clientId);\n    } catch (Exception e) {\n        throw new InterfaceException(msgTemplate);\n    }\n    if(*clientId not exist in DB*) {\n        throw new InterfaceException(msgTemplate);\n    }\n  }\n</code></pre>\n<p>You might want to treat the template as either a filler (<code>throw new InterfaceException(&quot;Parse ID error in &quot; + template);</code>) or by using string.format: <code>throw new InterfaceException(String.format(template, &quot;Parse ID error&quot;)</code>. The parameter would be something like <code>&quot;%s in interface A&quot;</code>.</p>\n"}],"owner":{"account_id":16464678,"reputation":1,"user_id":11894996,"display_name":"TonyF93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664435751,"creation_date":1664415756,"question_id":73889421,"body_markdown":"I have a web service accept two different interfaces(i.e. A and B) and there are some common fields which share same checking logic. However different error message have to be returned if the checking is failed and point out which field in the request body is invalid. Is there any way to reduce the code duplication for the checking logic.\r\n\r\n```\r\nInterface A may be accepting json as the request body,\r\n{\r\n  &quot;companyAClient&quot;:{\r\n\t  &quot;id&quot;: 12345,\r\n\t\t&quot;name&quot;: &quot;ABC Limited&quot;,\r\n\t\t...\r\n\t},\r\n  ...\r\n}\r\n\r\nInterface B may be accepting xml as the request body with completly different structure compare to interface A\r\n&lt;MSG&gt;\r\n\t...\r\n\t&lt;MSG.BODY&gt;\r\n\t\t...\r\n\t\t&lt;COMPANY&gt;\r\n\t\t\t&lt;CLIENT&gt;\r\n\t\t\t\t&lt;ID&gt;23456&lt;/ID&gt;\r\n\t\t\t\t&lt;NAME&gt;XYZ Limited&lt;/NAME&gt;\r\n\t\t\t\t...\r\n\t\t\t&lt;/CLIENT&gt;\r\n\t\t\t...\r\n\t\t&lt;/COMPANY&gt;\r\n\t\t...\r\n\t&lt;/MSG.BODY&gt;\r\n&lt;/MSG&gt;\r\n\r\nprivate checkInterfaceA(String clientId, String clientName, other variables...) {\r\n    Long id;\r\n    try {\r\n\t\t  id = Long.parse(clientId);\r\n    } catch (Exception e) {\r\n\t\t    throw new InterfaceException(&quot;[EOS_E01] &#39;companyAClient.id&#39; is empty.&quot;);\r\n\t  }\r\n\t  if(*clientId not exist in DB*) {\r\n\t\t    throw new InterfaceException(&quot;[EOS_E02] &#39;companyAClient.id&#39; not match with DB records.&quot;);\r\n\t  }\r\n\t\tif(*clientName.toUpperCase() not found in DB*) {\r\n\t\t\t\tthrow new InterfaceException(&quot;[EOS_E03] &#39;companyAClient.name&#39; not match with DB records.&quot;);\r\n\t\t}\r\n\t  Other checking...\r\n}\r\n\r\nprivate checkInterfaceB(String clientId, String clientName, other variables...) {\r\n    Long id;\r\n    try {\r\n\t\t  id = Long.parse(clientId);\r\n    } catch (Exception e) {\r\n\t\t    throw new InterfaceException(&quot;[E_XML_001] Parse Client ID error. Please check &#39;/MSG/MSG.BODY/COMPANY/CLIENT/ID&#39;.&quot;);\r\n\t  }\r\n\t  if(*clientId not exist in DB*) {\r\n\t\t    throw new InterfaceException(&quot;[E_XML_002] Client ID not found error. Please check &#39;/MSG/MSG.BODY/COMPANY/CLIENT/ID&#39;&quot;);\r\n\t  }\r\n\t\tif(*clientName.toUpperCase() not found in DB*) {\r\n\t\t\t\tthrow new InterfaceException(&quot;[E_XML_003] Client name not found error. Please check &#39;/MSG/MSG.BODY/COMPANY/CLIENT/NAME&#39;&quot;);\r\n\t\t}\r\n\t  Other checking...\r\n}\r\n\r\n```","title":"Same checking logic different exception message","body":"<p>I have a web service accept two different interfaces(i.e. A and B) and there are some common fields which share same checking logic. However different error message have to be returned if the checking is failed and point out which field in the request body is invalid. Is there any way to reduce the code duplication for the checking logic.</p>\n<pre><code>Interface A may be accepting json as the request body,\n{\n  &quot;companyAClient&quot;:{\n      &quot;id&quot;: 12345,\n        &quot;name&quot;: &quot;ABC Limited&quot;,\n        ...\n    },\n  ...\n}\n\nInterface B may be accepting xml as the request body with completly different structure compare to interface A\n&lt;MSG&gt;\n    ...\n    &lt;MSG.BODY&gt;\n        ...\n        &lt;COMPANY&gt;\n            &lt;CLIENT&gt;\n                &lt;ID&gt;23456&lt;/ID&gt;\n                &lt;NAME&gt;XYZ Limited&lt;/NAME&gt;\n                ...\n            &lt;/CLIENT&gt;\n            ...\n        &lt;/COMPANY&gt;\n        ...\n    &lt;/MSG.BODY&gt;\n&lt;/MSG&gt;\n\nprivate checkInterfaceA(String clientId, String clientName, other variables...) {\n    Long id;\n    try {\n          id = Long.parse(clientId);\n    } catch (Exception e) {\n            throw new InterfaceException(&quot;[EOS_E01] 'companyAClient.id' is empty.&quot;);\n      }\n      if(*clientId not exist in DB*) {\n            throw new InterfaceException(&quot;[EOS_E02] 'companyAClient.id' not match with DB records.&quot;);\n      }\n        if(*clientName.toUpperCase() not found in DB*) {\n                throw new InterfaceException(&quot;[EOS_E03] 'companyAClient.name' not match with DB records.&quot;);\n        }\n      Other checking...\n}\n\nprivate checkInterfaceB(String clientId, String clientName, other variables...) {\n    Long id;\n    try {\n          id = Long.parse(clientId);\n    } catch (Exception e) {\n            throw new InterfaceException(&quot;[E_XML_001] Parse Client ID error. Please check '/MSG/MSG.BODY/COMPANY/CLIENT/ID'.&quot;);\n      }\n      if(*clientId not exist in DB*) {\n            throw new InterfaceException(&quot;[E_XML_002] Client ID not found error. Please check '/MSG/MSG.BODY/COMPANY/CLIENT/ID'&quot;);\n      }\n        if(*clientName.toUpperCase() not found in DB*) {\n                throw new InterfaceException(&quot;[E_XML_003] Client name not found error. Please check '/MSG/MSG.BODY/COMPANY/CLIENT/NAME'&quot;);\n        }\n      Other checking...\n}\n\n</code></pre>\n"},{"tags":["java","apache-spark","cassandra","spark-cassandra-connector","data-partitioning"],"comments":[{"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"score":0,"creation_date":1636441300,"post_id":69676599,"comment_id":123550659,"body_markdown":"Any ideas on this?","body":"Any ideas on this?"},{"owner":{"account_id":5909425,"reputation":119,"user_id":4650158,"accept_rate":100,"display_name":"Shai"},"score":1,"creation_date":1641472090,"post_id":69676599,"comment_id":124815519,"body_markdown":"I am having the same problem? Did you manage to solve this? Anyone?","body":"I am having the same problem? Did you manage to solve this? Anyone?"},{"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"score":0,"creation_date":1641487124,"post_id":69676599,"comment_id":124821639,"body_markdown":"Unfortunately not yet! But I think I will be able to try again next week most likely..!","body":"Unfortunately not yet! But I think I will be able to try again next week most likely..!"},{"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"score":0,"creation_date":1643710326,"post_id":69676599,"comment_id":125406292,"body_markdown":"I tried again but unfortunately no luck. Did you solve it? Any insights?","body":"I tried again but unfortunately no luck. Did you solve it? Any insights?"}],"answers":[{"tags":[],"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664435684,"creation_date":1664435684,"answer_id":73891627,"question_id":69676599,"body_markdown":"The answer is basically the same as here https://stackoverflow.com/questions/73618201/spark-cassandra-repartitionbycassandrareplica-or-converting-dataset-to-javardd\r\n\r\nJust had to do the repartitionByCassandraReplica and JoinWithCassandraTable on RDD and then convert back to dataset.","title":"spark-cassandra-connector - repartitionByCassandraReplica returns empty RDD - Java","body":"<p>The answer is basically the same as here <a href=\"https://stackoverflow.com/questions/73618201/spark-cassandra-repartitionbycassandrareplica-or-converting-dataset-to-javardd\">Spark-Cassandra: repartitionByCassandraReplica or converting dataset to JavaRDD and back do not maintain number of partitions?</a></p>\n<p>Just had to do the repartitionByCassandraReplica and JoinWithCassandraTable on RDD and then convert back to dataset.</p>\n"}],"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73891627,"answer_count":1,"score":1,"last_activity_date":1664435684,"creation_date":1634904280,"question_id":69676599,"body_markdown":"So, I have a 16 node cluster where every node has Spark and Cassandra installed while I am using the Spark-Cassandra Connector 3.0.0. I am trying to join a dataset with a cassandra table on the partition key, while also trying to use .repartitionByCassandraReplica.\r\n\r\nHowever it seems I just get an empty rdd with 0 partitions(line 5 below)! Any ideas why? \r\n\r\n    Encoder&lt;ExperimentForm&gt; ExpEncoder = Encoders.bean(ExperimentForm.class);\r\n    //FYI experimentlist is a List&lt;String&gt;\r\n    Dataset&lt;ExperimentForm&gt; dfexplistoriginal = sp.createDataset(experimentlist, Encoders.STRING()).toDF(&quot;experimentid&quot;).as(ExpEncoder);\r\n    JavaRDD&lt;ExperimentForm&gt; predf = CassandraJavaUtil.javaFunctions(dfexplistoriginal.toJavaRDD()).repartitionByCassandraReplica(&quot;mdb&quot;,&quot;experiment&quot;,experimentlist.size(),CassandraJavaUtil.someColumns(&quot;experimentid&quot;),CassandraJavaUtil.mapToRow(ExperimentForm.class));\r\n    System.out.println(predf.collect()); //Here it gives an empty dataset with 0 partitions\r\n    \r\n    Dataset&lt;ExperimentForm&gt; newdfexplist =  sp.createDataset(predf.rdd(), ExpEncoder);\r\n    Dataset&lt;Row&gt; readydfexplist = newdfexplist.as(Encoders.STRING()).toDF(&quot;experimentid&quot;);\r\n    \r\n    Dataset&lt;Row&gt; metlistinitial = sp.read().format(&quot;org.apache.spark.sql.cassandra&quot;)\r\n                    .options(new HashMap&lt;String, String&gt;() {\r\n                        {\r\n                            put(&quot;keyspace&quot;, &quot;mdb&quot;);\r\n                            put(&quot;table&quot;, &quot;experiment&quot;);\r\n                        }\r\n                    })\r\n                    .load().select(col(&quot;experimentid&quot;), col(&quot;description&quot;), col(&quot;intensity&quot;)).join(readydfexplist, &quot;experimentid&quot;);\r\n\r\nIn case needed this is the experiment table in Cassandra:\r\n\r\n    CREATE TABLE experiment(\r\n    experimentid varchar,\r\n    description text,\r\n    rt float,\r\n    intensity float,\r\n    mz float,\r\n    identifier text,\r\n    chemical_formula text,\r\n    filename text,\r\n    PRIMARY KEY ((experimentid),description, rt, intensity, mz, identifier, chemical_formula, filename));\r\n\r\nand this is the ExperimentForm class:\r\n\r\n    public class ExperimentForm {\r\n    \r\n        private String experimentid;\r\n    \r\n        public String getExperimentid() {\r\n            return experimentid;\r\n        }\r\n        public void setExperimentid(String experimentid) {\r\n            this.experimentid = experimentid;\r\n        }\r\n    }\r\n\r\nLet me know if you need any additional information.","title":"spark-cassandra-connector - repartitionByCassandraReplica returns empty RDD - Java","body":"<p>So, I have a 16 node cluster where every node has Spark and Cassandra installed while I am using the Spark-Cassandra Connector 3.0.0. I am trying to join a dataset with a cassandra table on the partition key, while also trying to use .repartitionByCassandraReplica.</p>\n<p>However it seems I just get an empty rdd with 0 partitions(line 5 below)! Any ideas why?</p>\n<pre><code>Encoder&lt;ExperimentForm&gt; ExpEncoder = Encoders.bean(ExperimentForm.class);\n//FYI experimentlist is a List&lt;String&gt;\nDataset&lt;ExperimentForm&gt; dfexplistoriginal = sp.createDataset(experimentlist, Encoders.STRING()).toDF(&quot;experimentid&quot;).as(ExpEncoder);\nJavaRDD&lt;ExperimentForm&gt; predf = CassandraJavaUtil.javaFunctions(dfexplistoriginal.toJavaRDD()).repartitionByCassandraReplica(&quot;mdb&quot;,&quot;experiment&quot;,experimentlist.size(),CassandraJavaUtil.someColumns(&quot;experimentid&quot;),CassandraJavaUtil.mapToRow(ExperimentForm.class));\nSystem.out.println(predf.collect()); //Here it gives an empty dataset with 0 partitions\n\nDataset&lt;ExperimentForm&gt; newdfexplist =  sp.createDataset(predf.rdd(), ExpEncoder);\nDataset&lt;Row&gt; readydfexplist = newdfexplist.as(Encoders.STRING()).toDF(&quot;experimentid&quot;);\n\nDataset&lt;Row&gt; metlistinitial = sp.read().format(&quot;org.apache.spark.sql.cassandra&quot;)\n                .options(new HashMap&lt;String, String&gt;() {\n                    {\n                        put(&quot;keyspace&quot;, &quot;mdb&quot;);\n                        put(&quot;table&quot;, &quot;experiment&quot;);\n                    }\n                })\n                .load().select(col(&quot;experimentid&quot;), col(&quot;description&quot;), col(&quot;intensity&quot;)).join(readydfexplist, &quot;experimentid&quot;);\n</code></pre>\n<p>In case needed this is the experiment table in Cassandra:</p>\n<pre><code>CREATE TABLE experiment(\nexperimentid varchar,\ndescription text,\nrt float,\nintensity float,\nmz float,\nidentifier text,\nchemical_formula text,\nfilename text,\nPRIMARY KEY ((experimentid),description, rt, intensity, mz, identifier, chemical_formula, filename));\n</code></pre>\n<p>and this is the ExperimentForm class:</p>\n<pre><code>public class ExperimentForm {\n\n    private String experimentid;\n\n    public String getExperimentid() {\n        return experimentid;\n    }\n    public void setExperimentid(String experimentid) {\n        this.experimentid = experimentid;\n    }\n}\n</code></pre>\n<p>Let me know if you need any additional information.</p>\n"},{"tags":["java","sql-server","docker","jdbc","camunda"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1568192107,"post_id":57850669,"comment_id":102193334,"body_markdown":"Most ways of running Java applications will not use the `CLASSPATH` environment variable at all.","body":"Most ways of running Java applications will not use the <code>CLASSPATH</code> environment variable at all."},{"owner":{"account_id":354947,"reputation":32825,"user_id":1014217,"accept_rate":97,"display_name":"Luis Valencia"},"score":0,"creation_date":1568192172,"post_id":57850669,"comment_id":102193372,"body_markdown":"any suggestion to fix this?","body":"any suggestion to fix this?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1568192262,"post_id":57850669,"comment_id":102193415,"body_markdown":"Possibly coping the driver to the tomcat `lib` folder instead will work.","body":"Possibly coping the driver to the tomcat <code>lib</code> folder instead will work."}],"answers":[{"tags":[],"owner":{"account_id":11163207,"reputation":17405,"user_id":8192635,"display_name":"LinPy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1568020306,"creation_date":1568019329,"answer_id":57850721,"question_id":57850669,"body_markdown":"that `RUN export CLASSPATH=&quot;$CLASSPATH:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar&quot;` will has no effect in your `dockerfile`:\r\n\r\ninstead you need to use `ENV` for runtime and `ARG` for build:\r\n \r\n    ENV CLASSPATH ${CLASSPATH}:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar\r\n    ARG CLASSPATH=${CLASSPATH}:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar","title":"java.lang.ClassNotFoundException: Unable to load class: com.microsoft.sqlserver.jdbc.SQLServerDriver on new docker container","body":"<p>that <code>RUN export CLASSPATH=\"$CLASSPATH:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar\"</code> will has no effect in your <code>dockerfile</code>:</p>\n\n<p>instead you need to use <code>ENV</code> for runtime and <code>ARG</code> for build:</p>\n\n<pre><code>ENV CLASSPATH ${CLASSPATH}:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar\nARG CLASSPATH=${CLASSPATH}:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18169293,"reputation":1,"user_id":13219249,"display_name":"Fireblade954"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664435538,"creation_date":1664435508,"answer_id":73891593,"question_id":57850669,"body_markdown":"For the people searching how to get the mssql-jdbc driver working with Camunda.\r\n\r\nI did it using the default docker image and extended it using a Dockerfile.\r\n\r\nDowload the driver from Microsoft:\r\n\r\nhttps://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server\r\n\r\nCreate a Dockerfile with contents:\r\n\r\n    FROM camunda/camunda-bpm-platform:${CAMUNDA_VERSION:-7.18.0-SNAPSHOT}\r\n\r\n    #MSSQL SERVER JDBC DRIVER INSTALL\r\n    COPY sqljdbc_11.2.0.0_enu.tar.gz /tmp/\r\n    WORKDIR /tmp\r\n    RUN tar -xf sqljdbc_11.2.0.0_enu.tar.gz\r\n    \r\n    RUN mv /tmp/sqljdbc_11.2/enu/mssql-jdbc-11.2.0.jre11.jar /camunda/lib/mssql-jdbc-11.2.0.jre11.jar\r\n    \r\n    WORKDIR /camunda\r\n\r\n\r\noffcourse the filenames can vary based on the jdbc version u are using.\r\n","title":"java.lang.ClassNotFoundException: Unable to load class: com.microsoft.sqlserver.jdbc.SQLServerDriver on new docker container","body":"<p>For the people searching how to get the mssql-jdbc driver working with Camunda.</p>\n<p>I did it using the default docker image and extended it using a Dockerfile.</p>\n<p>Dowload the driver from Microsoft:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server</a></p>\n<p>Create a Dockerfile with contents:</p>\n<pre><code>FROM camunda/camunda-bpm-platform:${CAMUNDA_VERSION:-7.18.0-SNAPSHOT}\n\n#MSSQL SERVER JDBC DRIVER INSTALL\nCOPY sqljdbc_11.2.0.0_enu.tar.gz /tmp/\nWORKDIR /tmp\nRUN tar -xf sqljdbc_11.2.0.0_enu.tar.gz\n\nRUN mv /tmp/sqljdbc_11.2/enu/mssql-jdbc-11.2.0.jre11.jar /camunda/lib/mssql-jdbc-11.2.0.jre11.jar\n\nWORKDIR /camunda\n</code></pre>\n<p>offcourse the filenames can vary based on the jdbc version u are using.</p>\n"}],"owner":{"account_id":354947,"reputation":32825,"user_id":1014217,"accept_rate":97,"display_name":"Luis Valencia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3172,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57850721,"answer_count":2,"score":6,"last_activity_date":1664435538,"creation_date":1568019123,"question_id":57850669,"body_markdown":"I am trying to create a docker image with Sql server JDBC Driver.\r\n\r\nHowever I am getting this error:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: Unable to load class: com.microsoft.sqlserver.jdbc.SQLServerDriver from ClassLoader:java.net.URLClassLoader@71423665;ClassLoader:java.net.URLClassLoader@71423665\r\n            at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:56)\r\n            at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:281)\r\n            ... 41 more\r\n    Caused by: java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n            at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:398)\r\n            at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:38)\r\n            ... 42 more\r\n\r\n\r\nMy Docker file is like this:\r\n\r\n    FROM alpine:3.10 as builder\r\n    \r\n    ARG VERSION=7.12.0\r\n    ARG DISTRO=tomcat\r\n    ARG SNAPSHOT=true\r\n    \r\n    ARG EE=false\r\n    ARG USER\r\n    ARG PASSWORD\r\n    \r\n    RUN apk add --no-cache \\\r\n            ca-certificates \\\r\n            maven \\\r\n            tar \\\r\n            wget \\\r\n            xmlstarlet\r\n    \r\n    COPY settings.xml download.sh camunda-tomcat.sh camunda-wildfly.sh  /tmp/\r\n    \r\n    RUN /tmp/download.sh\r\n    \r\n    \r\n    ##### FINAL IMAGE #####\r\n    \r\n    FROM alpine:3.10\r\n    \r\n    ARG VERSION=7.12.0\r\n    \r\n    #MSSQL SERVER JDBC DRIVER INSTALL\r\n    COPY sqljdbc_7.4.1.0_enu.tar.gz /tmp/\r\n    WORKDIR /tmp\r\n    RUN tar -xf sqljdbc_7.4.1.0_enu.tar.gz\r\n    RUN export CLASSPATH=&quot;$CLASSPATH:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar&quot;\r\n    \r\n    ENV CAMUNDA_VERSION=${VERSION}\r\n    ENV DB_DRIVER=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    ENV DB_URL=jdbc:sqlserver://xx.database.windows.net:1433;database=camundadb;user=demo@xx;password=xxx.;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\r\n    ENV DB_USERNAME=\r\n    ENV DB_PASSWORD=\r\n    ENV DB_CONN_MAXACTIVE=20\r\n    ENV DB_CONN_MINIDLE=5\r\n    ENV DB_CONN_MAXIDLE=20\r\n    ENV DB_VALIDATE_ON_BORROW=false\r\n    ENV DB_VALIDATION_QUERY=&quot;SELECT 1&quot;\r\n    ENV SKIP_DB_CONFIG=\r\n    ENV WAIT_FOR=\r\n    ENV WAIT_FOR_TIMEOUT=120\r\n    ENV TZ=UTC\r\n    ENV DEBUG=TRUE\r\n    ENV JAVA_OPTS=&quot;-Xmx768m -XX:MaxMetaspaceSize=256m&quot;\r\n    \r\n    EXPOSE 8080 8000\r\n    \r\n    \r\n    \r\n    # Downgrading wait-for-it is necessary until this PR is merged\r\n    # https://github.com/vishnubob/wait-for-it/pull/68\r\n    RUN apk add --no-cache \\\r\n            bash \\\r\n            ca-certificates \\\r\n            openjdk11-jre-headless \\\r\n            tzdata \\\r\n            tini \\\r\n            xmlstarlet \\\r\n        &amp;&amp; wget -O /usr/local/bin/wait-for-it.sh \\\r\n          &quot;https://raw.githubusercontent.com/vishnubob/wait-for-it/a454892f3c2ebbc22bd15e446415b8fcb7c1cfa4/wait-for-it.sh&quot; \\\r\n        &amp;&amp; chmod +x /usr/local/bin/wait-for-it.sh\r\n    \r\n    RUN addgroup -g 1000 -S camunda &amp;&amp; \\\r\n        adduser -u 1000 -S camunda -G camunda -h /camunda -s /bin/bash -D camunda\r\n    WORKDIR /camunda\r\n    USER camunda\r\n    \r\n    ENTRYPOINT [&quot;/sbin/tini&quot;, &quot;--&quot;]\r\n    CMD [&quot;./camunda.sh&quot;]\r\n    \r\n    COPY --chown=camunda:camunda --from=builder /camunda .\r\n\r\n\r\n**Update 1:**\r\n\r\nI removed the export line and added:\r\n\r\nENV CLASSPATH ${CLASSPATH}:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar\r\nARG CLASSPATH=${CLASSPATH}:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar\r\n\r\n\r\nbased on other SO questions, I tried also the jre11 and jre12 versions of the driver, but still have the same error, unable to load class.\r\n\r\n\r\n**Update 2:**\r\n\r\nAccording to Camunda documentation here: https://github.com/camunda/docker-camunda-bpm-platform\r\n\r\n\r\nJava Versions\r\nOur docker images are using the latest LTS OpenJDK version supported by Camunda BPM. This currently means:\r\n\r\nCamunda 7.12 will be based on OpenJDK 11\r\nAll previous versions are based on OpenJDK 8\r\n\r\n\r\nAccording to Microsoft documentation here: \r\nhttps://learn.microsoft.com/en-us/sql/connect/jdbc/system-requirements-for-the-jdbc-driver?view=sql-server-2017\r\n\r\n**Microsoft JDBC Driver 7.4 for SQL Server:**\r\n\r\nThe JDBC Driver 7.4 includes three JAR class libraries in each installation package: mssql-jdbc-7.4.1.jre8.jar, mssql-jdbc-7.4.1.jre11.jar, and mssql-jdbc-7.4.1.jre12.jar.\r\n\r\nThe JDBC Driver 7.4 is designed to work with and be supported by all major Java virtual machines, but is tested only on OpenJDK 1.8, OpenJDK 11.0, OpenJDK 12.0, Azul Zulu JRE 1.8, Azul Zulu JRE 11.0, and Azul Zulu JRE 12.0.\r\n\r\n\r\nversion 7.4 is supported by OpenJDK ","title":"java.lang.ClassNotFoundException: Unable to load class: com.microsoft.sqlserver.jdbc.SQLServerDriver on new docker container","body":"<p>I am trying to create a docker image with Sql server JDBC Driver.</p>\n\n<p>However I am getting this error:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: Unable to load class: com.microsoft.sqlserver.jdbc.SQLServerDriver from ClassLoader:java.net.URLClassLoader@71423665;ClassLoader:java.net.URLClassLoader@71423665\n        at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:56)\n        at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:281)\n        ... 41 more\nCaused by: java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:38)\n        ... 42 more\n</code></pre>\n\n<p>My Docker file is like this:</p>\n\n<pre><code>FROM alpine:3.10 as builder\n\nARG VERSION=7.12.0\nARG DISTRO=tomcat\nARG SNAPSHOT=true\n\nARG EE=false\nARG USER\nARG PASSWORD\n\nRUN apk add --no-cache \\\n        ca-certificates \\\n        maven \\\n        tar \\\n        wget \\\n        xmlstarlet\n\nCOPY settings.xml download.sh camunda-tomcat.sh camunda-wildfly.sh  /tmp/\n\nRUN /tmp/download.sh\n\n\n##### FINAL IMAGE #####\n\nFROM alpine:3.10\n\nARG VERSION=7.12.0\n\n#MSSQL SERVER JDBC DRIVER INSTALL\nCOPY sqljdbc_7.4.1.0_enu.tar.gz /tmp/\nWORKDIR /tmp\nRUN tar -xf sqljdbc_7.4.1.0_enu.tar.gz\nRUN export CLASSPATH=\"$CLASSPATH:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar\"\n\nENV CAMUNDA_VERSION=${VERSION}\nENV DB_DRIVER=com.microsoft.sqlserver.jdbc.SQLServerDriver\nENV DB_URL=jdbc:sqlserver://xx.database.windows.net:1433;database=camundadb;user=demo@xx;password=xxx.;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\nENV DB_USERNAME=\nENV DB_PASSWORD=\nENV DB_CONN_MAXACTIVE=20\nENV DB_CONN_MINIDLE=5\nENV DB_CONN_MAXIDLE=20\nENV DB_VALIDATE_ON_BORROW=false\nENV DB_VALIDATION_QUERY=\"SELECT 1\"\nENV SKIP_DB_CONFIG=\nENV WAIT_FOR=\nENV WAIT_FOR_TIMEOUT=120\nENV TZ=UTC\nENV DEBUG=TRUE\nENV JAVA_OPTS=\"-Xmx768m -XX:MaxMetaspaceSize=256m\"\n\nEXPOSE 8080 8000\n\n\n\n# Downgrading wait-for-it is necessary until this PR is merged\n# https://github.com/vishnubob/wait-for-it/pull/68\nRUN apk add --no-cache \\\n        bash \\\n        ca-certificates \\\n        openjdk11-jre-headless \\\n        tzdata \\\n        tini \\\n        xmlstarlet \\\n    &amp;&amp; wget -O /usr/local/bin/wait-for-it.sh \\\n      \"https://raw.githubusercontent.com/vishnubob/wait-for-it/a454892f3c2ebbc22bd15e446415b8fcb7c1cfa4/wait-for-it.sh\" \\\n    &amp;&amp; chmod +x /usr/local/bin/wait-for-it.sh\n\nRUN addgroup -g 1000 -S camunda &amp;&amp; \\\n    adduser -u 1000 -S camunda -G camunda -h /camunda -s /bin/bash -D camunda\nWORKDIR /camunda\nUSER camunda\n\nENTRYPOINT [\"/sbin/tini\", \"--\"]\nCMD [\"./camunda.sh\"]\n\nCOPY --chown=camunda:camunda --from=builder /camunda .\n</code></pre>\n\n<p><strong>Update 1:</strong></p>\n\n<p>I removed the export line and added:</p>\n\n<p>ENV CLASSPATH ${CLASSPATH}:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar\nARG CLASSPATH=${CLASSPATH}:/tmp/sqljdbc_7.4/enu/mssql-jdbc-7.4.1.jre8.jar</p>\n\n<p>based on other SO questions, I tried also the jre11 and jre12 versions of the driver, but still have the same error, unable to load class.</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>According to Camunda documentation here: <a href=\"https://github.com/camunda/docker-camunda-bpm-platform\" rel=\"noreferrer\">https://github.com/camunda/docker-camunda-bpm-platform</a></p>\n\n<p>Java Versions\nOur docker images are using the latest LTS OpenJDK version supported by Camunda BPM. This currently means:</p>\n\n<p>Camunda 7.12 will be based on OpenJDK 11\nAll previous versions are based on OpenJDK 8</p>\n\n<p>According to Microsoft documentation here: \n<a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/system-requirements-for-the-jdbc-driver?view=sql-server-2017\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/system-requirements-for-the-jdbc-driver?view=sql-server-2017</a></p>\n\n<p><strong>Microsoft JDBC Driver 7.4 for SQL Server:</strong></p>\n\n<p>The JDBC Driver 7.4 includes three JAR class libraries in each installation package: mssql-jdbc-7.4.1.jre8.jar, mssql-jdbc-7.4.1.jre11.jar, and mssql-jdbc-7.4.1.jre12.jar.</p>\n\n<p>The JDBC Driver 7.4 is designed to work with and be supported by all major Java virtual machines, but is tested only on OpenJDK 1.8, OpenJDK 11.0, OpenJDK 12.0, Azul Zulu JRE 1.8, Azul Zulu JRE 11.0, and Azul Zulu JRE 12.0.</p>\n\n<p>version 7.4 is supported by OpenJDK </p>\n"},{"tags":["java","jackson","json-deserialization","rest-assured"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1664432393,"post_id":73891048,"comment_id":130470994,"body_markdown":"Your endpoint returns an array.","body":"Your endpoint returns an array."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664432476,"post_id":73891048,"comment_id":130471019,"body_markdown":"As tgdavies already stated yur json contains a 1-element array: `[...]` means an array and you have `[{...}]`. So you need to parse the json into a list or array of `UsersResponseDetails` details.","body":"As tgdavies already stated yur json contains a 1-element array: <code>[...]</code> means an array and you have <code>[{...}]</code>. So you need to parse the json into a list or array of <code>UsersResponseDetails</code> details."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1664435489,"creation_date":1664435489,"answer_id":73891591,"question_id":73891048,"body_markdown":"My suggesstion are:\r\n\r\n- If you want to work with array, then\r\n\r\n```\r\nUsersResponseDetails[] b = responseBody.as(UsersResponseDetails[].class);\r\nsoftAssert.assertEquals(b[0].getId(), 1,&quot;invalid&quot;);\r\n```\r\n\r\n- If you prefer List, then\r\n```\r\nList&lt;UsersResponseDetails&gt; b= responseBody.as(new TypeRef&lt;List&lt;UsersResponseDetails&gt;&gt;() {});\r\nsoftAssert.assertEquals(b.get(0).getId(), 1,&quot;invalid&quot;);\r\n```","title":"MismatchedInputException: Cannot deserialize value of type `model.pojo class` from Array value (token `JsonToken.START_ARRAY`)","body":"<p>My suggesstion are:</p>\n<ul>\n<li>If you want to work with array, then</li>\n</ul>\n<pre><code>UsersResponseDetails[] b = responseBody.as(UsersResponseDetails[].class);\nsoftAssert.assertEquals(b[0].getId(), 1,&quot;invalid&quot;);\n</code></pre>\n<ul>\n<li>If you prefer List, then</li>\n</ul>\n<pre><code>List&lt;UsersResponseDetails&gt; b= responseBody.as(new TypeRef&lt;List&lt;UsersResponseDetails&gt;&gt;() {});\nsoftAssert.assertEquals(b.get(0).getId(), 1,&quot;invalid&quot;);\n</code></pre>\n"}],"owner":{"account_id":19919659,"reputation":3,"user_id":14595816,"display_name":"Chathumal Sangeeth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664532302,"accepted_answer_id":73891591,"answer_count":1,"score":-1,"last_activity_date":1664435489,"creation_date":1664432262,"question_id":73891048,"body_markdown":"I have created couple of POJO classes for serializing/deserializing. When I create a request to receive all categories I am expecting to receive an array of category objects. But I am getting the following error:-\r\n\r\n&gt;Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type POJO.Categories from Array value (token JsonToken.START_ARRAY)\r\n\r\n**1. This is my test class and I try to map the response to my POJO class(model) but it gives me an error.**\r\n```\r\n@Test(alwaysRun = true, priority = 1)\r\npublic void getUserDetail() {\r\n        String url = &quot;http://localhost:8081/users&quot;;\r\n        RequestSpecification httpRequest = RestAssured.given()\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .contentType(ContentType.JSON);\r\n\r\n        Response response = httpRequest.get(url);\r\n        ResponseBody responseBody = response.getBody();\r\n        UsersResponseDetails b = responseBody.as(UsersResponseDetails.class);\r\n        softAssert.assertEquals(b.getId(), 1,&quot;invalid&quot;);\r\n        softAssert.assertAll();\r\n    }\r\n```\r\n**2. Error**\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `model.UsersResponseDetails` from Array value (token `JsonToken.START_ARRAY`)\r\n at [Source: (String)&quot;[{&quot;id&quot;:1,&quot;name&quot;:&quot;litteleHelpByKR-1&quot;,&quot;dob&quot;:&quot;2020-05-23T&quot;,&quot;addressDetails&quot;:{&quot;houseNumber&quot;:&quot;H-55&quot;,&quot;aadharNumber&quot;:32345,&quot;addressLine1&quot;:&quot;Mg Road-1&quot;,&quot;addressLine2&quot;:&quot;12th Cross-1&quot;,&quot;landmark&quot;:&quot;Near Airport Road&quot;,&quot;pin&quot;:1,&quot;officeAddress&quot;:{&quot;buildingNumber&quot;:3,&quot;addressLine1&quot;:&quot;XYZ-1&quot;,&quot;addressLine2&quot;:&quot;Airport Road&quot;,&quot;landMark&quot;:&quot;Near U turn signal&quot;,&quot;cardId&quot;:&quot;EMP-001&quot;,&quot;pin&quot;:75943764}}}]&quot;; line: 1, column: 1]\r\n```\r\n**3. Used Jackson dependent but its not work**\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.4&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\n**4. API GET response**\r\n```\r\n[\r\n   {\r\n      &quot;id&quot;:1,\r\n      &quot;name&quot;:&quot;litteleHelpByKR-1&quot;,\r\n      &quot;dob&quot;:&quot;2020-05-23T&quot;,\r\n      &quot;addressDetails&quot;:{\r\n         &quot;houseNumber&quot;:&quot;H-55&quot;,\r\n         &quot;aadharNumber&quot;:32345,\r\n         &quot;addressLine1&quot;:&quot;Mg Road-1&quot;,\r\n         &quot;addressLine2&quot;:&quot;12th Cross-1&quot;,\r\n         &quot;landmark&quot;:&quot;Near Airport Road&quot;,\r\n         &quot;pin&quot;:1,\r\n         &quot;officeAddress&quot;:{\r\n            &quot;buildingNumber&quot;:3,\r\n            &quot;addressLine1&quot;:&quot;XYZ-1&quot;,\r\n            &quot;addressLine2&quot;:&quot;Airport Road&quot;,\r\n            &quot;landMark&quot;:&quot;Near U turn signal&quot;,\r\n            &quot;cardId&quot;:&quot;EMP-001&quot;,\r\n            &quot;pin&quot;:75943764\r\n         }\r\n      }\r\n   }\r\n]\r\n```\r\n**5. This model I created to map the response**\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class UsersResponseDetails {\r\n    private int id;\r\n    private String name;\r\n    private String dob;\r\n    private AddressDetails addressDetails;\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class AddressDetails {\r\n        private String houseNumber;\r\n        private int aadharNumber;\r\n        private String addressLine1;\r\n        private String addressLine2;\r\n        private String landmark;\r\n        private int pin;\r\n        private OfficeAddress officeAddress;\r\n\r\n        @Getter\r\n        @Setter\r\n        public static class OfficeAddress {\r\n            private int buildingNumber;\r\n            private String addressLine1;\r\n            private String addressLine2;\r\n            private String landMark;\r\n            private String cardId;\r\n            private int pin;\r\n        }\r\n    }\r\n}\r\n","title":"MismatchedInputException: Cannot deserialize value of type `model.pojo class` from Array value (token `JsonToken.START_ARRAY`)","body":"<p>I have created couple of POJO classes for serializing/deserializing. When I create a request to receive all categories I am expecting to receive an array of category objects. But I am getting the following error:-</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type POJO.Categories from Array value (token JsonToken.START_ARRAY)</p>\n</blockquote>\n<p><strong>1. This is my test class and I try to map the response to my POJO class(model) but it gives me an error.</strong></p>\n<pre><code>@Test(alwaysRun = true, priority = 1)\npublic void getUserDetail() {\n        String url = &quot;http://localhost:8081/users&quot;;\n        RequestSpecification httpRequest = RestAssured.given()\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .contentType(ContentType.JSON);\n\n        Response response = httpRequest.get(url);\n        ResponseBody responseBody = response.getBody();\n        UsersResponseDetails b = responseBody.as(UsersResponseDetails.class);\n        softAssert.assertEquals(b.getId(), 1,&quot;invalid&quot;);\n        softAssert.assertAll();\n    }\n</code></pre>\n<p><strong>2. Error</strong></p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `model.UsersResponseDetails` from Array value (token `JsonToken.START_ARRAY`)\n at [Source: (String)&quot;[{&quot;id&quot;:1,&quot;name&quot;:&quot;litteleHelpByKR-1&quot;,&quot;dob&quot;:&quot;2020-05-23T&quot;,&quot;addressDetails&quot;:{&quot;houseNumber&quot;:&quot;H-55&quot;,&quot;aadharNumber&quot;:32345,&quot;addressLine1&quot;:&quot;Mg Road-1&quot;,&quot;addressLine2&quot;:&quot;12th Cross-1&quot;,&quot;landmark&quot;:&quot;Near Airport Road&quot;,&quot;pin&quot;:1,&quot;officeAddress&quot;:{&quot;buildingNumber&quot;:3,&quot;addressLine1&quot;:&quot;XYZ-1&quot;,&quot;addressLine2&quot;:&quot;Airport Road&quot;,&quot;landMark&quot;:&quot;Near U turn signal&quot;,&quot;cardId&quot;:&quot;EMP-001&quot;,&quot;pin&quot;:75943764}}}]&quot;; line: 1, column: 1]\n</code></pre>\n<p><strong>3. Used Jackson dependent but its not work</strong></p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.4&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p><strong>4. API GET response</strong></p>\n<pre><code>[\n   {\n      &quot;id&quot;:1,\n      &quot;name&quot;:&quot;litteleHelpByKR-1&quot;,\n      &quot;dob&quot;:&quot;2020-05-23T&quot;,\n      &quot;addressDetails&quot;:{\n         &quot;houseNumber&quot;:&quot;H-55&quot;,\n         &quot;aadharNumber&quot;:32345,\n         &quot;addressLine1&quot;:&quot;Mg Road-1&quot;,\n         &quot;addressLine2&quot;:&quot;12th Cross-1&quot;,\n         &quot;landmark&quot;:&quot;Near Airport Road&quot;,\n         &quot;pin&quot;:1,\n         &quot;officeAddress&quot;:{\n            &quot;buildingNumber&quot;:3,\n            &quot;addressLine1&quot;:&quot;XYZ-1&quot;,\n            &quot;addressLine2&quot;:&quot;Airport Road&quot;,\n            &quot;landMark&quot;:&quot;Near U turn signal&quot;,\n            &quot;cardId&quot;:&quot;EMP-001&quot;,\n            &quot;pin&quot;:75943764\n         }\n      }\n   }\n]\n</code></pre>\n<p><strong>5. This model I created to map the response</strong></p>\n<pre><code>@Getter\n@Setter\npublic class UsersResponseDetails {\n    private int id;\n    private String name;\n    private String dob;\n    private AddressDetails addressDetails;\n\n    @Getter\n    @Setter\n    public static class AddressDetails {\n        private String houseNumber;\n        private int aadharNumber;\n        private String addressLine1;\n        private String addressLine2;\n        private String landmark;\n        private int pin;\n        private OfficeAddress officeAddress;\n\n        @Getter\n        @Setter\n        public static class OfficeAddress {\n            private int buildingNumber;\n            private String addressLine1;\n            private String addressLine2;\n            private String landMark;\n            private String cardId;\n            private int pin;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","pipeline","circleci","java-time","datetime-conversion"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1663838502,"post_id":73811892,"comment_id":130335153,"body_markdown":"Which is incorrect in `assertEquals(expectedConvertedTime, date);`? The actual or the expected value? It could be a problem with the sdf...","body":"Which is incorrect in <code>assertEquals(expectedConvertedTime, date);</code>? The actual or the expected value? It could be a problem with the sdf..."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1663838583,"post_id":73811892,"comment_id":130335177,"body_markdown":"You said that the default timezone is set when the application starts.  Is it also set when the tests run?  Maybe you need a setUp method in your tests that sets it.","body":"You said that the default timezone is set when the application starts.  Is it also set when the tests run?  Maybe you need a setUp method in your tests that sets it."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663838653,"post_id":73811892,"comment_id":130335201,"body_markdown":"Another thing you could try is setting the timezone on your local machine, then stepping through the test with the debugger to see what goes wrong with the assertion.","body":"Another thing you could try is setting the timezone on your local machine, then stepping through the test with the debugger to see what goes wrong with the assertion."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1663861652,"post_id":73811892,"comment_id":130344231,"body_markdown":"**`LocalDateTime` is the wrong class** to use here. Your input contains an indicator of offset from UTC, `+03`. Your use of `LocalDateTime` ignores that vital information. Instead, use `OffsetDateTime`. If you dont understand this, post another Question specific to the parsing alone, without Quarkus details.","body":"<b><code>LocalDateTime</code> is the wrong class</b> to use here. Your input contains an indicator of offset from UTC, <code>+03</code>. Your use of <code>LocalDateTime</code> ignores that vital information. Instead, use <code>OffsetDateTime</code>. If you dont understand this, post another Question specific to the parsing alone, without Quarkus details."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1663863158,"post_id":73811892,"comment_id":130344767,"body_markdown":"Do you indispensably need your method to return an old-fashioned `Date`? I recommend you avoid that. Use `Instant`. I unconditionally recommend you dont use `SimpleDateFormat` in your test, that class is notoriously troublesome. Use the `of` method of one of the modern date-time classes. I believe that your `convertTime` method can be considerably simplified.","body":"Do you indispensably need your method to return an old-fashioned <code>Date</code>? I recommend you avoid that. Use <code>Instant</code>. I unconditionally recommend you dont use <code>SimpleDateFormat</code> in your test, that class is notoriously troublesome. Use the <code>of</code> method of one of the modern date-time classes. I believe that your <code>convertTime</code> method can be considerably simplified."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1663872597,"post_id":73811892,"comment_id":130347752,"body_markdown":"`OffsetDateTime.parse(&quot;2022-09-20 22:33:16.4271382-03&quot;,  FORMATTER).toInstant()` where `FORMATTER` is built from `new DateTimeFormatterBuilder() .append(DateTimeFormatter.ISO_LOCAL_DATE) .appendLiteral(&#39; &#39;) .append(DateTimeFormatter.ISO_LOCAL_TIME) .appendOffset(&quot;+HH&quot;, &quot;+00&quot;)`.","body":"<code>OffsetDateTime.parse(&quot;2022-09-20 22:33:16.4271382-03&quot;,  FORMATTER).toInstant()</code> where <code>FORMATTER</code> is built from <code>new DateTimeFormatterBuilder() .append(DateTimeFormatter.ISO_LOCAL_DATE) .appendLiteral(&#39; &#39;) .append(DateTimeFormatter.ISO_LOCAL_TIME) .appendOffset(&quot;+HH&quot;, &quot;+00&quot;)</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1663872878,"post_id":73811892,"comment_id":130347843,"body_markdown":"Brussels and Berlin are not in the same time zone (and as my code in the previous comment demonstrates, there is no need to go via any of those two in your conversion, its nothing but a detour).","body":"Brussels and Berlin are not in the same time zone (and as my code in the previous comment demonstrates, there is no need to go via any of those two in your conversion, its nothing but a detour)."},{"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"score":0,"creation_date":1664435831,"post_id":73811892,"comment_id":130472108,"body_markdown":"Thank you @BasilBourque and Olev V.V! I&#39;ll do some research on this topic so I know the correct way to implement this. :) I&#39;ll post another question if I feel it&#39;s a bit tricky for me to understand.","body":"Thank you @BasilBourque and Olev V.V! I&#39;ll do some research on this topic so I know the correct way to implement this. :) I&#39;ll post another question if I feel it&#39;s a bit tricky for me to understand."}],"answers":[{"tags":[],"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663839903,"creation_date":1663839903,"answer_id":73812518,"question_id":73811892,"body_markdown":"Thanks to @Dawood ibn Kareem! \r\n\r\nI managed to solve this issue by adding `@QuarkusTest` above the test class declaration.\r\n\r\nI believe this runs the tests with the context that I&#39;ve set up in the Quarkus Application. Meaning that `TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));` now is invoked when running the tests.\r\n\r\n","title":"Java Date Time conversion, unit tests fails remotely","body":"<p>Thanks to @Dawood ibn Kareem!</p>\n<p>I managed to solve this issue by adding <code>@QuarkusTest</code> above the test class declaration.</p>\n<p>I believe this runs the tests with the context that I've set up in the Quarkus Application. Meaning that <code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));</code> now is invoked when running the tests.</p>\n"}],"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664435392,"creation_date":1663837110,"question_id":73811892,"body_markdown":"I&#39;ve got a quarkus application where I&#39;m converting a String timestamp with a GMT offset to Europe/Berlin time.\r\n\r\nFor example this time:\r\n`&quot;2022-08-13 10:13:56.48382+03&quot;`\r\n\r\nI&#39;ve got unit tests that runs completely fine locally but fails remotely in the pipeline?\r\n\r\nI thought I wrote code to explicitly create a time instance with the given timezone, but I&#39;m thinking it still picks up the local timezone of the pipeline server somehow?\r\n\r\nI&#39;ve also been looking into maybe changing the pipeline timezone to solve the test?\r\nhttps://support.circleci.com/hc/en-us/articles/115015772847-Setting-Timezone-in-2-0-MacOS-Builds\r\n\r\nDoes anyone have answers why these tests fails?\r\n\r\nWhen application starts this will get invoked \t\t`TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));`\r\n\r\n\r\n**Logic to convert time**\r\n\r\n    public static Date convertTime(String timestamp) {\r\n    \r\n        // offset being f.e. +01, +12, -03\r\n    \tString gmtZone = &quot;GMT&quot; + getOffset(timestamp);\r\n        // removes the milliseconds from time\r\n    \ttimestamp = stripMilliseconds(timestamp);\r\n    \r\n    \tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(INCOMING_TIMESTAMP_FORMAT);\r\n    \tLocalDateTime localDateTime = LocalDateTime.parse(timestamp, dtf);\r\n    \tZonedDateTime zdtGmt = ZonedDateTime.of(localDateTime, ZoneId.of(gmtZone));\r\n    \tZonedDateTime zdtBerlin = zdtGmt.withZoneSameInstant(ZoneId.of(TIME_ZONE_EUROPE_BERLIN));\r\n    \r\n    \treturn Date.from(zdtBerlin.toInstant());\r\n    }\r\n\r\n**TESTS**\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;timestampsWithOffsetWithCorrectlyConvertedTime&quot;)\r\n    void offsetShouldBeCorrectlyConvertedToBerlinTime(String timestamp, Date expectedConvertedTime) {\r\n    \r\n    \tDate date = TimeZoneConverter.convertTime(timestamp);\r\n    \r\n    \tassertEquals(expectedConvertedTime, date);\r\n    }\r\n    \r\n\r\n    private static Stream&lt;Arguments&gt; timestampsWithOffsetWithCorrectlyConvertedTime() throws ParseException {\r\n    \r\n    \tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \treturn Stream.of(\r\n    \t\t\tArguments.of(&quot;2022-08-13 10:13:56.48382+00&quot;, sdf.parse(&quot;2022-08-13 12:13:56&quot;)),\r\n    \t\t\tArguments.of(&quot;2022-09-20 22:33:16.4271382-03&quot;, sdf.parse(&quot;2022-09-21 03:33:16&quot;)),\r\n    \t\t\tArguments.of(&quot;2022-11-25 16:00:00.482+12&quot;, sdf.parse(&quot;2022-11-25 05:00:00&quot;)),\r\n    \t\t\tArguments.of(&quot;2022-03-03 11:33:16.483829+02&quot;, sdf.parse(&quot;2022-03-03 10:33:16&quot;))\r\n    \r\n    \t);\r\n    }\r\n\r\n","title":"Java Date Time conversion, unit tests fails remotely","body":"<p>I've got a quarkus application where I'm converting a String timestamp with a GMT offset to Europe/Berlin time.</p>\n<p>For example this time:\n<code>&quot;2022-08-13 10:13:56.48382+03&quot;</code></p>\n<p>I've got unit tests that runs completely fine locally but fails remotely in the pipeline?</p>\n<p>I thought I wrote code to explicitly create a time instance with the given timezone, but I'm thinking it still picks up the local timezone of the pipeline server somehow?</p>\n<p>I've also been looking into maybe changing the pipeline timezone to solve the test?\n<a href=\"https://support.circleci.com/hc/en-us/articles/115015772847-Setting-Timezone-in-2-0-MacOS-Builds\" rel=\"nofollow noreferrer\">https://support.circleci.com/hc/en-us/articles/115015772847-Setting-Timezone-in-2-0-MacOS-Builds</a></p>\n<p>Does anyone have answers why these tests fails?</p>\n<p>When application starts this will get invoked       <code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));</code></p>\n<p><strong>Logic to convert time</strong></p>\n<pre><code>public static Date convertTime(String timestamp) {\n\n    // offset being f.e. +01, +12, -03\n    String gmtZone = &quot;GMT&quot; + getOffset(timestamp);\n    // removes the milliseconds from time\n    timestamp = stripMilliseconds(timestamp);\n\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(INCOMING_TIMESTAMP_FORMAT);\n    LocalDateTime localDateTime = LocalDateTime.parse(timestamp, dtf);\n    ZonedDateTime zdtGmt = ZonedDateTime.of(localDateTime, ZoneId.of(gmtZone));\n    ZonedDateTime zdtBerlin = zdtGmt.withZoneSameInstant(ZoneId.of(TIME_ZONE_EUROPE_BERLIN));\n\n    return Date.from(zdtBerlin.toInstant());\n}\n</code></pre>\n<p><strong>TESTS</strong></p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;timestampsWithOffsetWithCorrectlyConvertedTime&quot;)\nvoid offsetShouldBeCorrectlyConvertedToBerlinTime(String timestamp, Date expectedConvertedTime) {\n\n    Date date = TimeZoneConverter.convertTime(timestamp);\n\n    assertEquals(expectedConvertedTime, date);\n}\n\n\nprivate static Stream&lt;Arguments&gt; timestampsWithOffsetWithCorrectlyConvertedTime() throws ParseException {\n\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    return Stream.of(\n            Arguments.of(&quot;2022-08-13 10:13:56.48382+00&quot;, sdf.parse(&quot;2022-08-13 12:13:56&quot;)),\n            Arguments.of(&quot;2022-09-20 22:33:16.4271382-03&quot;, sdf.parse(&quot;2022-09-21 03:33:16&quot;)),\n            Arguments.of(&quot;2022-11-25 16:00:00.482+12&quot;, sdf.parse(&quot;2022-11-25 05:00:00&quot;)),\n            Arguments.of(&quot;2022-03-03 11:33:16.483829+02&quot;, sdf.parse(&quot;2022-03-03 10:33:16&quot;))\n\n    );\n}\n</code></pre>\n"},{"tags":["java","android","android-10.0"],"comments":[{"owner":{"account_id":5589241,"reputation":768,"user_id":4473512,"display_name":"Manzotin"},"score":0,"creation_date":1602163774,"post_id":62483214,"comment_id":113637977,"body_markdown":"did you find a solution?","body":"did you find a solution?"},{"owner":{"account_id":15706315,"reputation":429,"user_id":11332949,"display_name":"kiki Kala2"},"score":1,"creation_date":1602239906,"post_id":62483214,"comment_id":113664258,"body_markdown":"@Manzotin yes I did","body":"@Manzotin yes I did"},{"owner":{"account_id":5589241,"reputation":768,"user_id":4473512,"display_name":"Manzotin"},"score":0,"creation_date":1602502477,"post_id":62483214,"comment_id":113731602,"body_markdown":"Do you mind to share it please?","body":"Do you mind to share it please?"},{"owner":{"account_id":15706315,"reputation":429,"user_id":11332949,"display_name":"kiki Kala2"},"score":1,"creation_date":1602828064,"post_id":62483214,"comment_id":113848129,"body_markdown":"@Manzotin yes  I share","body":"@Manzotin yes  I share"}],"answers":[{"tags":[],"owner":{"account_id":5599974,"reputation":11,"user_id":4436523,"display_name":"prav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602177571,"creation_date":1602177571,"answer_id":64267600,"question_id":62483214,"body_markdown":"Android 10 onwards accessing &quot;/proc/net/arp&quot; is not allowed. For more info refer [here][1] \r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/10/privacy/changes#proc-net-filesystem","title":"java android Q read ip from hotspot /proc/net/arp: open failed: EACCES (Permission denied)","body":"<p>Android 10 onwards accessing &quot;/proc/net/arp&quot; is not allowed. For more info refer <a href=\"https://developer.android.com/about/versions/10/privacy/changes#proc-net-filesystem\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":15706315,"reputation":429,"user_id":11332949,"display_name":"kiki Kala2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664383124,"creation_date":1602828038,"answer_id":64383674,"question_id":62483214,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n    Pattern macPattern = Pattern.compile(&quot;..:..:..:..:..:..&quot;);\r\n    \r\n    BufferedReader br = null;\r\n    try {\r\n      if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        Process ipProc = Runtime.getRuntime().exec(IP_CMD);\r\n        ipProc.waitFor();\r\n        if (ipProc.exitValue() != 0) {\r\n          throw new Exception(&quot;Unable to access ARP entries&quot;);\r\n        }\r\n    \r\n        br = new BufferedReader(\r\n            new InputStreamReader(ipProc.getInputStream(), &quot;UTF-8&quot;));\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n          String[] neighborLine = line.split(&quot;\\\\s+&quot;);\r\n          if (neighborLine.length &lt;= 4) {\r\n            continue;\r\n          }\r\n          String ip = neighborLine[0];\r\n          final String hwAddr = neighborLine[4];\r\n    \r\n          InetAddress addr = InetAddress.getByName(ip);\r\n          if (addr.isLinkLocalAddress() || addr.isLoopbackAddress()) {\r\n            continue;\r\n          }\r\n          String macAddress = neighborLine[4];\r\n          String state = neighborLine[neighborLine.length - 1];\r\n    \r\n          if (!NEIGHBOR_FAILED.equals(state)\r\n              &amp;&amp; !NEIGHBOR_INCOMPLETE.equals(state)) {\r\n            boolean isReachable = false;\r\n            try {\r\n              isReachable = InetAddress.getByName(ip).isReachable(5000);\r\n            } catch (IOException e) {\r\n              e.printStackTrace();\r\n            }\r\n            if (isReachable) {\r\n              result.add(new WifiClient(ip, hwAddr));\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        br = new BufferedReader(new FileReader(&quot;/proc/net/arp&quot;));\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n          String[] parts = line.split(&quot; +&quot;);\r\n          if (parts.length &lt; 6) {\r\n            continue;\r\n          }\r\n          final String ipAddr = parts[0];\r\n          final String hwAddr = parts[3];\r\n          if (!ipAddr.equalsIgnoreCase(&quot;IP&quot;)) {\r\n            boolean isReachable = false;\r\n            try {\r\n              isReachable = InetAddress.getByName(ipAddr).isReachable(5000);\r\n            } catch (IOException e) {\r\n              e.printStackTrace();\r\n            }\r\n            if (isReachable) {\r\n              result.add(new WifiClient(ipAddr, hwAddr));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } catch (Exception e) {\r\n    } finally {\r\n      try {\r\n        if (br != null) {\r\n          br.close();\r\n        }\r\n      } catch (IOException e) {\r\n      }\r\n    }","title":"java android Q read ip from hotspot /proc/net/arp: open failed: EACCES (Permission denied)","body":"<pre class=\"lang-java prettyprint-override\"><code>Pattern macPattern = Pattern.compile(&quot;..:..:..:..:..:..&quot;);\n\nBufferedReader br = null;\ntry {\n  if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    Process ipProc = Runtime.getRuntime().exec(IP_CMD);\n    ipProc.waitFor();\n    if (ipProc.exitValue() != 0) {\n      throw new Exception(&quot;Unable to access ARP entries&quot;);\n    }\n\n    br = new BufferedReader(\n        new InputStreamReader(ipProc.getInputStream(), &quot;UTF-8&quot;));\n    String line;\n    while ((line = br.readLine()) != null) {\n      String[] neighborLine = line.split(&quot;\\\\s+&quot;);\n      if (neighborLine.length &lt;= 4) {\n        continue;\n      }\n      String ip = neighborLine[0];\n      final String hwAddr = neighborLine[4];\n\n      InetAddress addr = InetAddress.getByName(ip);\n      if (addr.isLinkLocalAddress() || addr.isLoopbackAddress()) {\n        continue;\n      }\n      String macAddress = neighborLine[4];\n      String state = neighborLine[neighborLine.length - 1];\n\n      if (!NEIGHBOR_FAILED.equals(state)\n          &amp;&amp; !NEIGHBOR_INCOMPLETE.equals(state)) {\n        boolean isReachable = false;\n        try {\n          isReachable = InetAddress.getByName(ip).isReachable(5000);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (isReachable) {\n          result.add(new WifiClient(ip, hwAddr));\n        }\n      }\n    }\n  } else {\n    br = new BufferedReader(new FileReader(&quot;/proc/net/arp&quot;));\n    String line;\n    while ((line = br.readLine()) != null) {\n      String[] parts = line.split(&quot; +&quot;);\n      if (parts.length &lt; 6) {\n        continue;\n      }\n      final String ipAddr = parts[0];\n      final String hwAddr = parts[3];\n      if (!ipAddr.equalsIgnoreCase(&quot;IP&quot;)) {\n        boolean isReachable = false;\n        try {\n          isReachable = InetAddress.getByName(ipAddr).isReachable(5000);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (isReachable) {\n          result.add(new WifiClient(ipAddr, hwAddr));\n        }\n      }\n    }\n  }\n} catch (Exception e) {\n} finally {\n  try {\n    if (br != null) {\n      br.close();\n    }\n  } catch (IOException e) {\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":15706315,"reputation":429,"user_id":11332949,"display_name":"kiki Kala2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664435385,"creation_date":1592640307,"question_id":62483214,"body_markdown":"I want to read IPs which are connected to my hotspot only on Android Q I have a problem: \\\r\nThis is a log:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    java.io.FileNotFoundException: /proc/net/arp: open failed: EACCES (Permission denied)\r\n\r\nAnd here is what not work: \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     br = new BufferedReader(new FileReader(&quot;/proc/net/arp&quot;));\r\n\r\nI add to manifest:\r\n\r\n    android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\nAdd all permission are granted also I add:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        if (Settings.System.canWrite(ListOfTerminalsActivity.this)) {\r\n        } else {\r\n            Intent intent = new Intent(android.provider.Settings.ACTION_MANAGE_WRITE_SETTINGS);\r\n            intent.setData(Uri.parse(&quot;package:&quot; + getPackageName()));\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            try {\r\n                startActivity(intent);\r\n            } catch (ActivityNotFoundException ignored) {\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"java android Q read ip from hotspot /proc/net/arp: open failed: EACCES (Permission denied)","body":"<p>I want to read IPs which are connected to my hotspot only on Android Q I have a problem: <br />\nThis is a log:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.io.FileNotFoundException: /proc/net/arp: open failed: EACCES (Permission denied)\n</code></pre>\n<p>And here is what not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code> br = new BufferedReader(new FileReader(&quot;/proc/net/arp&quot;));\n</code></pre>\n<p>I add to manifest:</p>\n<pre><code>android:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p>Add all permission are granted also I add:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    if (Settings.System.canWrite(ListOfTerminalsActivity.this)) {\n    } else {\n        Intent intent = new Intent(android.provider.Settings.ACTION_MANAGE_WRITE_SETTINGS);\n        intent.setData(Uri.parse(&quot;package:&quot; + getPackageName()));\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        try {\n            startActivity(intent);\n        } catch (ActivityNotFoundException ignored) {\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","api"],"comments":[{"owner":{"account_id":11228857,"reputation":75,"user_id":8237651,"display_name":"Tarun Thapa"},"score":1,"creation_date":1664436959,"post_id":73891569,"comment_id":130472510,"body_markdown":"Does the third party have any api which accepts multiple ids and return a list of model responses? If so that would be the best approach.\nOtherwise, if `UpdateDataMaps` has to deal with multiple `project_id` you should pass list of project_ids in `UpdateDataMap`s method and for each ID, call the api and update the map and the proceed on calling the other methods.","body":"Does the third party have any api which accepts multiple ids and return a list of model responses? If so that would be the best approach. Otherwise, if <code>UpdateDataMaps</code> has to deal with multiple <code>project_id</code> you should pass list of project_ids in <code>UpdateDataMap</code>s method and for each ID, call the api and update the map and the proceed on calling the other methods."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664437023,"post_id":73891569,"comment_id":130472536,"body_markdown":"I find it hard to follow your explanation with the little code you&#39;ve provided. So `callAPIFunction(id)` calls some things and then `UpdateDataMaps(project_id)` too? How are `id` and `project_id` related? What data do you get? What and where do you want to store that information? Is the API endpoint a singleton or how are you sharing data between instances?","body":"I find it hard to follow your explanation with the little code you&#39;ve provided. So <code>callAPIFunction(id)</code> calls some things and then <code>UpdateDataMaps(project_id)</code> too? How are <code>id</code> and <code>project_id</code> related? What data do you get? What and where do you want to store that information? Is the API endpoint a singleton or how are you sharing data between instances?"},{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1664437255,"post_id":73891569,"comment_id":130472613,"body_markdown":"@Thomas assume that `id` is something like user_id and project_id is the projects of the user.","body":"@Thomas assume that <code>id</code> is something like user_id and project_id is the projects of the user."}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664435382,"creation_date":1664435382,"question_id":73891569,"body_markdown":"I am getting data from an API and storing the data into a map. The limitation is that I want to call the API once, then I have a loop over the API response and store the data into a map.\r\nWhat I have done so far is:\r\n\r\n    public void callAPIFunction(String id){\r\n       // here I am calling the API and saving the model response.\r\n    }\r\n    \r\n    public Map&lt;String, String&gt; UpdateDataMaps(String project_id){\r\n       // here I have a loop over the API response (callAPIFunction method&#39;s output)\r\n    }\r\n\r\nAfter all these I am going to have multiple functions that is for extracting data from the maps. So the functions are using the UpdateDataMaps method&#39;s output.\r\n\r\nI think something here is missing to connect these functions together. In this approach, I have to call the methods one by one, or maybe I should do something to run callAPIFunction and UpdateDataMaps functions frequently depending on the limitations of the API that I have, because it is a third-party API and I have some limitations.\r\n\r\nMy question is: is there any other approach that I can use to connect these methods and update my map values? Or is my approach efficient? I would appreciate any suggestions. \r\n","title":"Calling API and Updating a Map frequently","body":"<p>I am getting data from an API and storing the data into a map. The limitation is that I want to call the API once, then I have a loop over the API response and store the data into a map.\nWhat I have done so far is:</p>\n<pre><code>public void callAPIFunction(String id){\n   // here I am calling the API and saving the model response.\n}\n\npublic Map&lt;String, String&gt; UpdateDataMaps(String project_id){\n   // here I have a loop over the API response (callAPIFunction method's output)\n}\n</code></pre>\n<p>After all these I am going to have multiple functions that is for extracting data from the maps. So the functions are using the UpdateDataMaps method's output.</p>\n<p>I think something here is missing to connect these functions together. In this approach, I have to call the methods one by one, or maybe I should do something to run callAPIFunction and UpdateDataMaps functions frequently depending on the limitations of the API that I have, because it is a third-party API and I have some limitations.</p>\n<p>My question is: is there any other approach that I can use to connect these methods and update my map values? Or is my approach efficient? I would appreciate any suggestions.</p>\n"},{"tags":["java","api","rest","automation","rest-assured"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664363720,"post_id":73878672,"comment_id":130453316,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1664373944,"post_id":73878672,"comment_id":130457341,"body_markdown":"In your example you assert that your code would be `200` so your won&#39;t pass further if you have any different code..","body":"In your example you assert that your code would be <code>200</code> so your won&#39;t pass further if you have any different code.."},{"owner":{"account_id":26467722,"reputation":3,"user_id":20108706,"display_name":"RTest"},"score":0,"creation_date":1664376505,"post_id":73878672,"comment_id":130458463,"body_markdown":"That&#39;s adding assertion you are talking about, but I need to fetch the HTTP response status code and I am unable to do so using predefined method getStatusCode() as I have defined response(res) to be string @AlexeyR.","body":"That&#39;s adding assertion you are talking about, but I need to fetch the HTTP response status code and I am unable to do so using predefined method getStatusCode() as I have defined response(res) to be string @AlexeyR."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664434687,"creation_date":1664434687,"answer_id":73891452,"question_id":73878672,"body_markdown":"You can have both `Response` and `String`, for example.\r\n\r\n```\r\nResponse response = given().patch();\r\nint statusCode = response.statusCode();\r\n\r\nString res = response.asString();\r\n```","title":"How to fetch the http status code when the response type defined is string instead of Respone","body":"<p>You can have both <code>Response</code> and <code>String</code>, for example.</p>\n<pre><code>Response response = given().patch();\nint statusCode = response.statusCode();\n\nString res = response.asString();\n</code></pre>\n"}],"owner":{"account_id":26467722,"reputation":3,"user_id":20108706,"display_name":"RTest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73891452,"answer_count":1,"score":0,"last_activity_date":1664434687,"creation_date":1664355111,"question_id":73878672,"body_markdown":"int statusCode = res.getStatusLine&lt;String&gt;().getStatusCode();[Please refer for code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vbplZ.png\r\n\r\n\r\nIs there any way to cast string to Response to use the predefined method getStatusCode() else any other way to fetch the status code?","title":"How to fetch the http status code when the response type defined is string instead of Respone","body":"<p>int statusCode = res.getStatusLine().getStatusCode();<a href=\"https://i.stack.imgur.com/vbplZ.png\" rel=\"nofollow noreferrer\">Please refer for code</a></p>\n<p>Is there any way to cast string to Response to use the predefined method getStatusCode() else any other way to fetch the status code?</p>\n"},{"tags":["java","css","javafx","canvas","border"],"comments":[{"owner":{"account_id":15789830,"reputation":4772,"user_id":11393381,"display_name":"Awais"},"score":2,"creation_date":1576751901,"post_id":59407888,"comment_id":105003399,"body_markdown":"Does this answer your question? [Draw border around a Canvas](https://stackoverflow.com/questions/27083027/draw-border-around-a-canvas)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27083027/draw-border-around-a-canvas\">Draw border around a Canvas</a>"},{"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"score":0,"creation_date":1576752099,"post_id":59407888,"comment_id":105003504,"body_markdown":"Thanks, but I already viewed this answer before I posted my problem, but I want to use the method setStyle() of Canvas und use CSS inline. It has to work somehow ... ?","body":"Thanks, but I already viewed this answer before I posted my problem, but I want to use the method setStyle() of Canvas und use CSS inline. It has to work somehow ... ?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1576753893,"post_id":59407888,"comment_id":105004456,"body_markdown":"No, that won&#39;t work because `Canvas` is not a `Region` and it&#39;s the latter class which defines a `border` property.","body":"No, that won&#39;t work because <code>Canvas</code> is not a <code>Region</code> and it&#39;s the latter class which defines a <code>border</code> property."},{"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"score":0,"creation_date":1576754554,"post_id":59407888,"comment_id":105004753,"body_markdown":"ah, ok, now I understand. So, if I would wrap this Canvas in a Pane (which is a Region), it should work?","body":"ah, ok, now I understand. So, if I would wrap this Canvas in a Pane (which is a Region), it should work?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1576759760,"post_id":59407888,"comment_id":105007270,"body_markdown":"Yes, as long as you apply the border to the `Pane`. That said, if you look at [James_D&#39;s answer](https://stackoverflow.com/a/27092677/6395627) in the duplicate you&#39;ll see he uses a `StackPane`. You may want to do so as well since, as far as I can tell, `Pane` does not take the border or padding into account when laying out its children.","body":"Yes, as long as you apply the border to the <code>Pane</code>. That said, if you look at <a href=\"https://stackoverflow.com/a/27092677/6395627\">James_D&#39;s answer</a> in the duplicate you&#39;ll see he uses a <code>StackPane</code>. You may want to do so as well since, as far as I can tell, <code>Pane</code> does not take the border or padding into account when laying out its children."},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1576788071,"post_id":59407888,"comment_id":105020622,"body_markdown":"You cannot include selectors in your inline css style. Inline css styles must contain rules only, so even if your class did provide a `-fx-border-color` property, this kind of style wouldn&#39;t work; you&#39;d need to use `-fx-border-color: green;` (and you wouldn&#39;t be required to also add the style class to apply that rule.","body":"You cannot include selectors in your inline css style. Inline css styles must contain rules only, so even if your class did provide a <code>-fx-border-color</code> property, this kind of style wouldn&#39;t work; you&#39;d need to use <code>-fx-border-color: green;</code> (and you wouldn&#39;t be required to also add the style class to apply that rule."}],"answers":[{"tags":[],"owner":{"account_id":1412435,"reputation":1069,"user_id":1338769,"accept_rate":61,"display_name":"cbm64"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664434525,"creation_date":1576753904,"answer_id":59408527,"question_id":59407888,"body_markdown":"Should work fine - in one implementation I used the `setStyle` method to apply this style to the image when the image is clicked. Wrap your image in a `BorderPane`.\r\n\r\n    &quot;-fx-border-color:lightblue ; -fx-border-insets:3; -fx-border-radius:7; -fx-border-width:1.0&quot;","title":"HowTo set a border around a Canvas in Javafx","body":"<p>Should work fine - in one implementation I used the <code>setStyle</code> method to apply this style to the image when the image is clicked. Wrap your image in a <code>BorderPane</code>.</p>\n<pre><code>&quot;-fx-border-color:lightblue ; -fx-border-insets:3; -fx-border-radius:7; -fx-border-width:1.0&quot;\n</code></pre>\n"}],"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1576757129,"answer_count":1,"score":0,"last_activity_date":1664434525,"creation_date":1576751707,"question_id":59407888,"body_markdown":"I&#39;m new to JavaFX and I just can&#39;t figure out why my following attempt to set a simple border around my JavaFX-Canvas (the **TilesViewer** class in this example extends a **Canvas**) with the means of CSS does not have any effect.&lt;p&gt;\r\nI want to use the method setStyle() and inline CSS (no external file).\r\n\r\n    private void initMinimap() {\r\n\r\n        final double width = this.model.getTiles().length * 1.0;\r\n        final double height = this.model.getTiles()[0].length * 1.0;        \r\n        final TilesViewer minimap = new TilesViewer(this.model.getTiles(),\r\n                width, height);\r\n        \r\n        \r\n        minimap.setLayoutX(this.getWidth() - minimap.getWidth() * 1.1);\r\n        minimap.setLayoutY(\r\n                this.getHeight() - TOOLBAR_HEIGHT - minimap.getHeight() * 1.1);\r\n\r\n        \r\n        minimap.getStyleClass().add(&quot;minimap&quot;);\r\n        final String css = &quot;.minimap {-fx-border-color: green ;}&quot;;\r\n        minimap.setStyle(css);\r\n\r\n        minimap.autoScale();\r\n        minimap.render();\r\n\r\n        this.getChildren().add(minimap);\r\n    }","title":"HowTo set a border around a Canvas in Javafx","body":"<p>I'm new to JavaFX and I just can't figure out why my following attempt to set a simple border around my JavaFX-Canvas (the <strong>TilesViewer</strong> class in this example extends a <strong>Canvas</strong>) with the means of CSS does not have any effect.<p>\nI want to use the method setStyle() and inline CSS (no external file).</p>\n\n<pre><code>private void initMinimap() {\n\n    final double width = this.model.getTiles().length * 1.0;\n    final double height = this.model.getTiles()[0].length * 1.0;        \n    final TilesViewer minimap = new TilesViewer(this.model.getTiles(),\n            width, height);\n\n\n    minimap.setLayoutX(this.getWidth() - minimap.getWidth() * 1.1);\n    minimap.setLayoutY(\n            this.getHeight() - TOOLBAR_HEIGHT - minimap.getHeight() * 1.1);\n\n\n    minimap.getStyleClass().add(\"minimap\");\n    final String css = \".minimap {-fx-border-color: green ;}\";\n    minimap.setStyle(css);\n\n    minimap.autoScale();\n    minimap.render();\n\n    this.getChildren().add(minimap);\n}\n</code></pre>\n"},{"tags":["java","out-of-memory"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1482036539,"post_id":41205525,"comment_id":69610356,"body_markdown":"This is some peculiarity of Apache POI.","body":"This is some peculiarity of Apache POI."},{"owner":{"account_id":6399989,"reputation":193,"user_id":5175938,"accept_rate":86,"display_name":"lars"},"score":0,"creation_date":1482037552,"post_id":41205525,"comment_id":69610489,"body_markdown":"So you are saying that an InputStream would typically help? With what kind of follow up code? Could you offer an example of memory efficient Java?","body":"So you are saying that an InputStream would typically help? With what kind of follow up code? Could you offer an example of memory efficient Java?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1482038017,"post_id":41205525,"comment_id":69610557,"body_markdown":"`InputStream` doesn&#39;t use any significant memory. I don&#39;t understand your second question. The statement that &#39;using an `InputStream` requires buffering of everything into memory&#39; is BS, or at best application-specific.","body":"<code>InputStream</code> doesn&#39;t use any significant memory. I don&#39;t understand your second question. The statement that &#39;using an <code>InputStream</code> requires buffering of everything into memory&#39; is BS, or at best application-specific."},{"owner":{"account_id":9599750,"reputation":2970,"user_id":7208029,"display_name":"Chai T. Rex"},"score":0,"creation_date":1482039698,"post_id":41205525,"comment_id":69610816,"body_markdown":"You can&#39;t read a file using just a `File`, since that&#39;s just a path to a file and a way of getting file attributes, not a way of getting the file contents. You always have to provide a filename to a class which then uses a `FileReader` or a `FileInputStream` or something like that to actually read the file.","body":"You can&#39;t read a file using just a <code>File</code>, since that&#39;s just a path to a file and a way of getting file attributes, not a way of getting the file contents. You always have to provide a filename to a class which then uses a <code>FileReader</code> or a <code>FileInputStream</code> or something like that to actually read the file."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1664434356,"creation_date":1482038493,"answer_id":41205720,"question_id":41205525,"body_markdown":"&gt; So you are saying that an `InputStream` would typically help? \r\n\r\nIt entirely depends on how the application (or library) &gt;&gt;uses&lt;&lt; the `InputStream`\r\n\r\n&gt; With what kind of follow up code? Could you offer an example of memory efficient Java?\r\n\r\nFor example:\r\n\r\n      // Efficient use of memory\r\n      try (InputStream is = new FileInputStream(largeFileName);\r\n           BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\r\n          String line;\r\n          while ((line = br.readLine()) != null) {\r\n              // process one line\r\n          }\r\n      }\r\n\r\n      // Inefficient use of memory\r\n      try (InputStream is = new FileInputStream(largeFileName);\r\n           BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\r\n          StringBuilder sb = new StringBuilder();\r\n          while ((line = br.readLine()) != null) {\r\n              sb.append(line).append(&quot;\\n&quot;);\r\n          }\r\n          String everything = sb.toString();\r\n          // process the entire string\r\n      }\r\n\r\n      // Very inefficient use of memory\r\n      try (InputStream is = new FileInputStream(largeFileName);\r\n           BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\r\n          String everything = &quot;&quot;;\r\n          while ((line = br.readLine()) != null) {\r\n              everything += line + &quot;\\n&quot;;\r\n          }\r\n          // process the entire string\r\n      }\r\n\r\n(Note that there are more efficient ways of reading a file into memory.  The above examples are purely to illustrate the principles.)\r\n\r\nThe general principles here are:\r\n\r\n  - avoid holding the entire file in memory, all at the same time\r\n  - if you have to hold the entire file in memory, then be careful about you &quot;accumulate&quot; the characters.\r\n\r\n---------------\r\n\r\nThe posts that you linked to above:\r\n\r\n  - The first one is not really about memory efficiency.  Rather it is talking about a limitation of the AWS client-side library.  Apparently, the API doesn&#39;t provide an easy way to stream an object while reading it.  You have to save it the object to a file, then open the file as a stream.  Whether that is memory efficient or not depends on what the application *does* with the stream; see above.\r\n\r\n  - The second one specific to the POI APIs.  Apparently, the POI library itself is reading the stream contents into memory if you use a stream.  That would be an implementation *limitation* of that particular library.  (But there could be a good reason; e.g. maybe because POI needs to be able to &quot;seek&quot; or &quot;rewind&quot; the stream.)","title":"Does a Java InputStream help or hurt memory usage with large files?","body":"<blockquote>\n<p>So you are saying that an <code>InputStream</code> would typically help?</p>\n</blockquote>\n<p>It entirely depends on how the application (or library) &gt;&gt;uses&lt;&lt; the <code>InputStream</code></p>\n<blockquote>\n<p>With what kind of follow up code? Could you offer an example of memory efficient Java?</p>\n</blockquote>\n<p>For example:</p>\n<pre><code>  // Efficient use of memory\n  try (InputStream is = new FileInputStream(largeFileName);\n       BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\n      String line;\n      while ((line = br.readLine()) != null) {\n          // process one line\n      }\n  }\n\n  // Inefficient use of memory\n  try (InputStream is = new FileInputStream(largeFileName);\n       BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\n      StringBuilder sb = new StringBuilder();\n      while ((line = br.readLine()) != null) {\n          sb.append(line).append(&quot;\\n&quot;);\n      }\n      String everything = sb.toString();\n      // process the entire string\n  }\n\n  // Very inefficient use of memory\n  try (InputStream is = new FileInputStream(largeFileName);\n       BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\n      String everything = &quot;&quot;;\n      while ((line = br.readLine()) != null) {\n          everything += line + &quot;\\n&quot;;\n      }\n      // process the entire string\n  }\n</code></pre>\n<p>(Note that there are more efficient ways of reading a file into memory.  The above examples are purely to illustrate the principles.)</p>\n<p>The general principles here are:</p>\n<ul>\n<li>avoid holding the entire file in memory, all at the same time</li>\n<li>if you have to hold the entire file in memory, then be careful about you &quot;accumulate&quot; the characters.</li>\n</ul>\n<hr />\n<p>The posts that you linked to above:</p>\n<ul>\n<li><p>The first one is not really about memory efficiency.  Rather it is talking about a limitation of the AWS client-side library.  Apparently, the API doesn't provide an easy way to stream an object while reading it.  You have to save it the object to a file, then open the file as a stream.  Whether that is memory efficient or not depends on what the application <em>does</em> with the stream; see above.</p>\n</li>\n<li><p>The second one specific to the POI APIs.  Apparently, the POI library itself is reading the stream contents into memory if you use a stream.  That would be an implementation <em>limitation</em> of that particular library.  (But there could be a good reason; e.g. maybe because POI needs to be able to &quot;seek&quot; or &quot;rewind&quot; the stream.)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":6399989,"reputation":193,"user_id":5175938,"accept_rate":86,"display_name":"lars"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11771,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":41205720,"answer_count":1,"score":10,"last_activity_date":1664434356,"creation_date":1482036081,"question_id":41205525,"body_markdown":"I see some posts on StackOverflow that contradict each other, and I would like to get a definite answer. \r\n\r\nI started with the assumption that using a Java InputStream would allow me to stream bytes out of a file, and thus save on memory, as I would not have to consume the whole file at once. And that is exactly what I read here:\r\n\r\n&gt; Loading all bytes to memory is not a good practice. Consider returning the file and opening an input stream to read it, so your application won&#39;t crash when handling large files.  andrucz \r\n\r\nhttps://stackoverflow.com/questions/37255963/download-file-to-stream-instead-of-file\r\n\r\nBut then I used an InputStream to read a very large Microsoft Excel file (using the Apache POI library) and I ran into this error: \r\n\r\nhttps://stackoverflow.com/questions/11118703/java-lang-outofmemory-exception-while-reading-excel-file-xlsx-using-poi\r\n\r\nI got an OutOfMemory error. \r\n\r\nAnd this crucial bit of advice saved me:\r\n\r\n&gt; One thing that&#39;ll make a small difference is when opening the file to start with. If you have a file, then pass that in! Using an InputStream requires buffering of everything into memory, which eats up space. Since you don&#39;t need to do that buffering, don&#39;t!\r\n\r\nI got rid of the InputStream and just used a bare java.io.File, and then the OutOfMemory error went away.\r\n\r\nSo using java.io.File is better than an InputSteam, when it comes to memory use? That doesn&#39;t make any sense.\r\n\r\nWhat is the real answer?","title":"Does a Java InputStream help or hurt memory usage with large files?","body":"<p>I see some posts on StackOverflow that contradict each other, and I would like to get a definite answer. </p>\n\n<p>I started with the assumption that using a Java InputStream would allow me to stream bytes out of a file, and thus save on memory, as I would not have to consume the whole file at once. And that is exactly what I read here:</p>\n\n<blockquote>\n  <p>Loading all bytes to memory is not a good practice. Consider returning the file and opening an input stream to read it, so your application won't crash when handling large files.  andrucz </p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/37255963/download-file-to-stream-instead-of-file\">Download file to stream instead of File</a></p>\n\n<p>But then I used an InputStream to read a very large Microsoft Excel file (using the Apache POI library) and I ran into this error: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/11118703/java-lang-outofmemory-exception-while-reading-excel-file-xlsx-using-poi\">java.lang.outofmemory exception while reading excel file (xlsx) using POI</a></p>\n\n<p>I got an OutOfMemory error. </p>\n\n<p>And this crucial bit of advice saved me:</p>\n\n<blockquote>\n  <p>One thing that'll make a small difference is when opening the file to start with. If you have a file, then pass that in! Using an InputStream requires buffering of everything into memory, which eats up space. Since you don't need to do that buffering, don't!</p>\n</blockquote>\n\n<p>I got rid of the InputStream and just used a bare java.io.File, and then the OutOfMemory error went away.</p>\n\n<p>So using java.io.File is better than an InputSteam, when it comes to memory use? That doesn't make any sense.</p>\n\n<p>What is the real answer?</p>\n"},{"tags":["java","spring-boot","github","bitbucket","configserver"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1663959146,"post_id":73829964,"comment_id":130370259,"body_markdown":"Does this answer your question? [Spring cloud config server -Set directory of folder where git repo are cloned](https://stackoverflow.com/questions/32317112/spring-cloud-config-server-set-directory-of-folder-where-git-repo-are-cloned)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32317112/spring-cloud-config-server-set-directory-of-folder-where-git-repo-are-cloned\">Spring cloud config server -Set directory of folder where git repo are cloned</a>"},{"owner":{"account_id":2031219,"reputation":2191,"user_id":1814867,"accept_rate":50,"display_name":"Mandar Pandit"},"score":0,"creation_date":1664170231,"post_id":73829964,"comment_id":130401361,"body_markdown":"I am aware that option to set specific path for config repo on local. But still when fetched  configuration properties it show the values as  ```https://repodomain.com/xxuser/demo-project/file:C:\\\\Users\\\\xxuser\\\\AppData\\\\Local\\\\Temp\\\\config-repo-10289491717282597132\\\\configstore\\\\demo-service\\\\demo-service.yml```.\nThis is not the answer to my question,","body":"I am aware that option to set specific path for config repo on local. But still when fetched  configuration properties it show the values as  <code>https:&#47;&#47;repodomain.com&#47;xxuser&#47;demo-project&#47;file:C:\\\\Users\\\\x&zwnj;&#8203;xuser\\\\AppData\\\\Loca&zwnj;&#8203;l\\\\Temp\\\\config-repo&zwnj;&#8203;-1028949171728259713&zwnj;&#8203;2\\\\configstore\\\\demo&zwnj;&#8203;-service\\\\demo-servi&zwnj;&#8203;ce.yml</code>. This is not the answer to my question,"},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1664210786,"post_id":73829964,"comment_id":130414313,"body_markdown":"Spring Cloud Config Server [uses JGit](https://github.com/spring-cloud/spring-cloud-config/blob/main/spring-cloud-config-server/src/main/java/org/springframework/cloud/config/server/environment/JGitEnvironmentRepository.java) to clone the remote repository. JGit implements the clone operation by copying the files from the remote repository to a working tree on the local file system.","body":"Spring Cloud Config Server <a href=\"https://github.com/spring-cloud/spring-cloud-config/blob/main/spring-cloud-config-server/src/main/java/org/springframework/cloud/config/server/environment/JGitEnvironmentRepository.java\" rel=\"nofollow noreferrer\">uses JGit</a> to clone the remote repository. JGit implements the clone operation by copying the files from the remote repository to a working tree on the local file system."}],"owner":{"account_id":2031219,"reputation":2191,"user_id":1814867,"accept_rate":50,"display_name":"Mandar Pandit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664434091,"creation_date":1663946725,"question_id":73829964,"body_markdown":"In the example which I am working on to test latest Spring Boot and Spring Cloud versions.\r\nI am using below versions in my pom.xml for Config Server.\r\n\r\n    spring-boot-starter-parent - 2.7.3\r\n    java.version - 17\r\n    spring-cloud.version - 2021.0.3\r\n\r\n\r\nThe ```application.yml``` file in the **config-server** project has below configuraiton.\r\n\r\n    spring:\r\n      application:\r\n        name: config-server\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              default-label: main\r\n              clone-on-start: false\r\n              force-pull: false\r\n              search-paths:\r\n              - configstore/{application}\r\n\r\nI am passing the other parameters like URL and username and password from runtime config, after Jar is run.\r\n\r\n    spring.cloud.config.server.git.uri\r\n    spring.cloud.config.server.git.uri.username\r\n    spring.cloud.config.server.git.uri.password\r\n\r\n\r\nI added these ```clone-on-start``` and ```force-pull``` after I read this on some blog that by doing the Spring Cloud Server does not pull the config all the time,  but still I can see different folders getting created in my ```AppData\\Local\\Temp```.\r\n\r\nThe folder with some specific names as ```config-repo-10289491717282597132``` and the last 20  digit number keep on changing.\r\n\r\nMy question is, why such a need for Config Server to Download the configuration on a local directory like ```AppData\\Local\\Temp```.\r\nAnd what can be the alternative to this to which way Spring Cloud Config Server does not need to download the yaml config files all the time.\r\n\r\n\r\nThere is one more issue which I can see, when the config server is up and running.\r\nIt shows this  local ```AppData\\Local\\Temp``` path when configuration is viewed from browser.\r\n\r\nThe **propertySources** name is viewed as shown below (example):\r\n\r\n```https://repodomain.com/xxuser/demo-project/file:C:\\\\Users\\\\xxuser\\\\AppData\\\\Local\\\\Temp\\\\config-repo-10289491717282597132\\\\configstore\\\\demo-service\\\\demo-service.yml```\r\n\r\nThe details of one sample &quot;demo-service&quot; which is having configuration on the config-server.\r\nImage Screenshot is shared for the same.\r\n\r\n[![Image Screenshot for Example from Browser how config displays the AppData Local Path][1]][1]\r\n\r\n----------\r\n\r\n**Note**: This question is not about setting the directory path to clone files locally,  but to know why copying config files locally is required and can config server work without copying files locally.\r\n\r\nMajorly I am looking for, when at runtime you fetch profile config,  the &quot;propertySources -&gt; name&quot; - it should not include ```xxxxxx/file:C:\\\\Users\\\\xxxxxxxxx```  i.e. like reading config from a local file.\r\n\r\nThe &quot;propertySources -&gt; name&quot; should be like  ```https://repodomain.com/xxuser/demo-project/configstore/demo-service/demo-service.yml```.\r\n\r\n\r\n----------\r\n\r\n**Update** as on 29-Sept-2022\r\n\r\nI observed this issue when the Git Repository is GitHub, and in a similar project where repositories are stored in BitBucket, I can see the &quot;propertySources -&gt; name&quot; just as specified in Note - example (which is as expected)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TwSEa.png","title":"Why AppData/Local/Temp Copy is created by Spring Cloud Config Server?","body":"<p>In the example which I am working on to test latest Spring Boot and Spring Cloud versions.\nI am using below versions in my pom.xml for Config Server.</p>\n<pre><code>spring-boot-starter-parent - 2.7.3\njava.version - 17\nspring-cloud.version - 2021.0.3\n</code></pre>\n<p>The <code>application.yml</code> file in the <strong>config-server</strong> project has below configuraiton.</p>\n<pre><code>spring:\n  application:\n    name: config-server\n  cloud:\n    config:\n      server:\n        git:\n          default-label: main\n          clone-on-start: false\n          force-pull: false\n          search-paths:\n          - configstore/{application}\n</code></pre>\n<p>I am passing the other parameters like URL and username and password from runtime config, after Jar is run.</p>\n<pre><code>spring.cloud.config.server.git.uri\nspring.cloud.config.server.git.uri.username\nspring.cloud.config.server.git.uri.password\n</code></pre>\n<p>I added these <code>clone-on-start</code> and <code>force-pull</code> after I read this on some blog that by doing the Spring Cloud Server does not pull the config all the time,  but still I can see different folders getting created in my <code>AppData\\Local\\Temp</code>.</p>\n<p>The folder with some specific names as <code>config-repo-10289491717282597132</code> and the last 20  digit number keep on changing.</p>\n<p>My question is, why such a need for Config Server to Download the configuration on a local directory like <code>AppData\\Local\\Temp</code>.\nAnd what can be the alternative to this to which way Spring Cloud Config Server does not need to download the yaml config files all the time.</p>\n<p>There is one more issue which I can see, when the config server is up and running.\nIt shows this  local <code>AppData\\Local\\Temp</code> path when configuration is viewed from browser.</p>\n<p>The <strong>propertySources</strong> name is viewed as shown below (example):</p>\n<p><code>https://repodomain.com/xxuser/demo-project/file:C:\\\\Users\\\\xxuser\\\\AppData\\\\Local\\\\Temp\\\\config-repo-10289491717282597132\\\\configstore\\\\demo-service\\\\demo-service.yml</code></p>\n<p>The details of one sample &quot;demo-service&quot; which is having configuration on the config-server.\nImage Screenshot is shared for the same.</p>\n<p><a href=\"https://i.stack.imgur.com/TwSEa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TwSEa.png\" alt=\"Image Screenshot for Example from Browser how config displays the AppData Local Path\" /></a></p>\n<hr />\n<p><strong>Note</strong>: This question is not about setting the directory path to clone files locally,  but to know why copying config files locally is required and can config server work without copying files locally.</p>\n<p>Majorly I am looking for, when at runtime you fetch profile config,  the &quot;propertySources -&gt; name&quot; - it should not include <code>xxxxxx/file:C:\\\\Users\\\\xxxxxxxxx</code>  i.e. like reading config from a local file.</p>\n<p>The &quot;propertySources -&gt; name&quot; should be like  <code>https://repodomain.com/xxuser/demo-project/configstore/demo-service/demo-service.yml</code>.</p>\n<hr />\n<p><strong>Update</strong> as on 29-Sept-2022</p>\n<p>I observed this issue when the Git Repository is GitHub, and in a similar project where repositories are stored in BitBucket, I can see the &quot;propertySources -&gt; name&quot; just as specified in Note - example (which is as expected)</p>\n"},{"tags":["java","apache-kafka-streams","confluent-platform","ksqldb","confluent-cloud"],"answers":[{"tags":[],"owner":{"account_id":4338389,"reputation":1320,"user_id":3542319,"display_name":"GeoJim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646792823,"creation_date":1646784502,"answer_id":71402887,"question_id":71397801,"body_markdown":"It looks like you&#39;ll need to add ksqldb-udf to your classpath.  That jar contains `FormatOptions`.","title":"ksqlDB java client: not able to deserialize data from client.executeStatement()","body":"<p>It looks like you'll need to add ksqldb-udf to your classpath.  That jar contains <code>FormatOptions</code>.</p>\n"},{"tags":[],"owner":{"account_id":25608423,"reputation":15,"user_id":19382189,"display_name":"dark ninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664433980,"creation_date":1664432991,"answer_id":73891169,"question_id":71397801,"body_markdown":"I think this is due to version conflict. I&#39;m also getting the exact same error with version `7.2.1`. It&#39;s working fine in version`6.0.1` without additional dependency.","title":"ksqlDB java client: not able to deserialize data from client.executeStatement()","body":"<p>I think this is due to version conflict. I'm also getting the exact same error with version <code>7.2.1</code>. It's working fine in version<code>6.0.1</code> without additional dependency.</p>\n"}],"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664433980,"creation_date":1646754522,"question_id":71397801,"body_markdown":"I am trying to query a KSQL Stream on confluent cloud using Java ksqlDb-api-client:0.24.0 using the below code\r\n```\r\n        ClientOptions options = ClientOptions.create()\r\n                .setHost(KSQLDB_SERVER_HOST)\r\n                .setPort(KSQLDB_SERVER_HOST_PORT)\r\n                .setUseTls(true)\r\n                .setUseAlpn(true)\r\n                .setBasicAuthCredentials(USER_NAME,PASSWORD);\r\n\r\n        Client client = Client.create(options);\r\n        Map&lt;String, Object&gt; properties = Collections.singletonMap(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\r\n\r\n        client.streamQuery(&quot;select * from process_payments EMIT CHANGES;&quot;, properties)\r\n                .thenAccept(streamedQueryResult -&gt; {\r\n                    System.out.println(&quot;Query has started. Query ID: &quot; + streamedQueryResult.queryID());\r\n//                    RowSubscriber subscriber = new RowSubscriber();\r\n//                    streamedQueryResult.subscribe(subscriber);\r\n\r\n                }).exceptionally(e -&gt; {\r\n                    e.printStackTrace();\r\n                    System.out.println(&quot;Request failed: &quot; + e);\r\n                    return null;\r\n                });\r\n```\r\n\r\nEven with the RowSubscriber is commented out, I am still getting the below exception, FYI my msg is as simple as a single String column for ease of debugging:\r\n\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: io/confluent/ksql/schema/utils/FormatOptions\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\r\n\tat com.fasterxml.jackson.databind.util.ClassUtil.getClassMethods(ClassUtil.java:1231)\r\n\t... 88 more\r\nCaused by: java.lang.ClassNotFoundException: io.confluent.ksql.schema.utils.FormatOptions\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 92 more\r\n\r\nRequest failed: java.util.concurrent.CompletionException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Failed on call to `getDeclaredMethods()` on class `io.confluent.ksql.schema.ksql.LogicalSchema`, problem: (java.lang.NoClassDefFoundError) io/confluent/ksql/schema/utils/FormatOptions\r\n at [Source: (byte[])&quot;{&quot;queryId&quot;:&quot;transient_PROCESS_PAYMENTS_2977877146871246906&quot;,&quot;columnNames&quot;:[&quot;STATUS&quot;],&quot;columnTypes&quot;:[&quot;STRING&quot;]}&quot;; line: 1, column: 1]\r\n\r\n```\r\n\r\nAm I missing something?","title":"ksqlDB java client: not able to deserialize data from client.executeStatement()","body":"<p>I am trying to query a KSQL Stream on confluent cloud using Java ksqlDb-api-client:0.24.0 using the below code</p>\n<pre><code>        ClientOptions options = ClientOptions.create()\n                .setHost(KSQLDB_SERVER_HOST)\n                .setPort(KSQLDB_SERVER_HOST_PORT)\n                .setUseTls(true)\n                .setUseAlpn(true)\n                .setBasicAuthCredentials(USER_NAME,PASSWORD);\n\n        Client client = Client.create(options);\n        Map&lt;String, Object&gt; properties = Collections.singletonMap(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\n\n        client.streamQuery(&quot;select * from process_payments EMIT CHANGES;&quot;, properties)\n                .thenAccept(streamedQueryResult -&gt; {\n                    System.out.println(&quot;Query has started. Query ID: &quot; + streamedQueryResult.queryID());\n//                    RowSubscriber subscriber = new RowSubscriber();\n//                    streamedQueryResult.subscribe(subscriber);\n\n                }).exceptionally(e -&gt; {\n                    e.printStackTrace();\n                    System.out.println(&quot;Request failed: &quot; + e);\n                    return null;\n                });\n</code></pre>\n<p>Even with the RowSubscriber is commented out, I am still getting the below exception, FYI my msg is as simple as a single String column for ease of debugging:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: io/confluent/ksql/schema/utils/FormatOptions\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\n    at com.fasterxml.jackson.databind.util.ClassUtil.getClassMethods(ClassUtil.java:1231)\n    ... 88 more\nCaused by: java.lang.ClassNotFoundException: io.confluent.ksql.schema.utils.FormatOptions\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 92 more\n\nRequest failed: java.util.concurrent.CompletionException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Failed on call to `getDeclaredMethods()` on class `io.confluent.ksql.schema.ksql.LogicalSchema`, problem: (java.lang.NoClassDefFoundError) io/confluent/ksql/schema/utils/FormatOptions\n at [Source: (byte[])&quot;{&quot;queryId&quot;:&quot;transient_PROCESS_PAYMENTS_2977877146871246906&quot;,&quot;columnNames&quot;:[&quot;STATUS&quot;],&quot;columnTypes&quot;:[&quot;STRING&quot;]}&quot;; line: 1, column: 1]\n\n</code></pre>\n<p>Am I missing something?</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664391139,"creation_date":1664391139,"answer_id":73886521,"question_id":73885823,"body_markdown":"How are the index and the mapping created? \r\n\r\nIf you use Spring Data Elasticsearch repositories, then the index with the setting and mapping will be created if it does not yet exist on application startup.\r\n\r\nIf you do not use a repository, but use `ElasticsearchOperations`, you will need to create the index by yourself:\r\n\r\n```java\r\n  ElasticsearchOperations operations;\r\n\r\n  IndexOperations indexOps = operations.indexOps(ElasticTest.class);\r\n  indexOps.createWithMapping();\r\n```\r\n\r\nIf you do not create the index but just insert some data, then Elasticsearch will automatically create the index and the mapping. The mapping you show is the typical autocreated one for a String field.\r\n\r\nThe `@Field` annotation you use is correct, we have a similar setup in one of the tests that tests exactly this behaviour, see https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/core/index/MappingBuilderIntegrationTests.java#L126-L145","title":"Spring boot Elastic Search: Cannot set @Field Annotations while creating an Index","body":"<p>How are the index and the mapping created?</p>\n<p>If you use Spring Data Elasticsearch repositories, then the index with the setting and mapping will be created if it does not yet exist on application startup.</p>\n<p>If you do not use a repository, but use <code>ElasticsearchOperations</code>, you will need to create the index by yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  ElasticsearchOperations operations;\n\n  IndexOperations indexOps = operations.indexOps(ElasticTest.class);\n  indexOps.createWithMapping();\n</code></pre>\n<p>If you do not create the index but just insert some data, then Elasticsearch will automatically create the index and the mapping. The mapping you show is the typical autocreated one for a String field.</p>\n<p>The <code>@Field</code> annotation you use is correct, we have a similar setup in one of the tests that tests exactly this behaviour, see <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/core/index/MappingBuilderIntegrationTests.java#L126-L145\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/core/index/MappingBuilderIntegrationTests.java#L126-L145</a></p>\n"}],"owner":{"account_id":8451982,"reputation":554,"user_id":6340555,"display_name":"Vargis.mithun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73886521,"answer_count":1,"score":0,"last_activity_date":1664433875,"creation_date":1664387334,"question_id":73885823,"body_markdown":"I&#39;m quite new to elastic search, I&#39;m not able to set mapping via field annotation. I&#39;m using spring data elastic 4.3.4. I&#39;m adding settings via @Setting annotation which is actually working. But if I set Field type to Keyword it is not getting updated, and elastic dynamically maps the field type to text. My requirement is to add a normaliser to enable alphabetic sort on specific fields. Please find my set-up below, I really appreciate your help.\r\n\r\nConfiguration:\r\nElastic Search version :&quot;7.11.1&quot;,\r\nSpring data elastic 4.3.4.\r\n\r\nSample code\r\n\r\n    @Document(indexName = &quot;#{@environment.getProperty(&#39;elastic.index.prefix&#39;)}-test&quot;)\r\n@Setting(settingPath = &quot;/elasticsearch/analyzer.json&quot;)\r\npublic class ElasticTest {\r\n\r\n    @Id\r\n    String id;\r\n\r\n\r\n    @Field(type = FieldType.Keyword, normalizer=&quot;sort_normalizer&quot;)\r\n    private String name;\r\n\r\n    @Field\r\n    private String createdDate;\r\n\r\n\r\n    @Field(type=FieldType.Object)\r\n    private CustomerType customerType;\r\n\r\n=============================================================================\r\n\r\nSo once the index is created, I can see the settings added\r\n\r\n    &quot;creation_date&quot; : &quot;1664385255792&quot;,\r\n        &quot;analysis&quot; : {\r\n          &quot;normalizer&quot; : {\r\n            &quot;sort_normalizer&quot; : {\r\n              &quot;filter&quot; : [\r\n                &quot;lowercase&quot;,\r\n                &quot;asciifolding&quot;\r\n              ],\r\n              &quot;type&quot; : &quot;custom&quot;,\r\n              &quot;char_filter&quot; : [ ]\r\n            }\r\n          },\r\n          &quot;analyzer&quot; : {\r\n            &quot;custom_pattern_analyzer&quot; : {\r\n              &quot;lowercase&quot; : &quot;true&quot;,\r\n              &quot;pattern&quot; : &quot;&quot;&quot;\\W|_&quot;&quot;&quot;,\r\n              &quot;type&quot; : &quot;pattern&quot;\r\n            }\r\n          }\r\n        },\r\n\r\nMapping:\r\n\r\n          &quot;name&quot; : {\r\n          &quot;type&quot; : &quot;text&quot;,\r\n          &quot;fields&quot; : {\r\n            &quot;keyword&quot; : {\r\n              &quot;type&quot; : &quot;keyword&quot;,\r\n              &quot;ignore_above&quot; : 256\r\n            }\r\n          }\r\n        },\r\n\r\n\r\nNote: Since I&#39;m working locally I have to drop and recreate the index multiple times. I&#39;m able to set these field types via curl/kibana.\r\n\r\nUpdate: Here we create the index by:\r\n\r\n    if (!searchTemplate.indexOps(ElasticContract.class).exists()) {\r\n\t\t\t\t\tsearchTemplate.indexOps(ElasticContract.class).create();\r\n\t\t\t\t}\r\n\r\n And we also use ElasticsearchRepository for querying.  ","title":"Spring boot Elastic Search: Cannot set @Field Annotations while creating an Index","body":"<p>I'm quite new to elastic search, I'm not able to set mapping via field annotation. I'm using spring data elastic 4.3.4. I'm adding settings via @Setting annotation which is actually working. But if I set Field type to Keyword it is not getting updated, and elastic dynamically maps the field type to text. My requirement is to add a normaliser to enable alphabetic sort on specific fields. Please find my set-up below, I really appreciate your help.</p>\n<p>Configuration:\nElastic Search version :&quot;7.11.1&quot;,\nSpring data elastic 4.3.4.</p>\n<p>Sample code</p>\n<pre><code>@Document(indexName = &quot;#{@environment.getProperty('elastic.index.prefix')}-test&quot;)\n</code></pre>\n<p>@Setting(settingPath = &quot;/elasticsearch/analyzer.json&quot;)\npublic class ElasticTest {</p>\n<pre><code>@Id\nString id;\n\n\n@Field(type = FieldType.Keyword, normalizer=&quot;sort_normalizer&quot;)\nprivate String name;\n\n@Field\nprivate String createdDate;\n\n\n@Field(type=FieldType.Object)\nprivate CustomerType customerType;\n</code></pre>\n<p>=============================================================================</p>\n<p>So once the index is created, I can see the settings added</p>\n<pre><code>&quot;creation_date&quot; : &quot;1664385255792&quot;,\n    &quot;analysis&quot; : {\n      &quot;normalizer&quot; : {\n        &quot;sort_normalizer&quot; : {\n          &quot;filter&quot; : [\n            &quot;lowercase&quot;,\n            &quot;asciifolding&quot;\n          ],\n          &quot;type&quot; : &quot;custom&quot;,\n          &quot;char_filter&quot; : [ ]\n        }\n      },\n      &quot;analyzer&quot; : {\n        &quot;custom_pattern_analyzer&quot; : {\n          &quot;lowercase&quot; : &quot;true&quot;,\n          &quot;pattern&quot; : &quot;&quot;&quot;\\W|_&quot;&quot;&quot;,\n          &quot;type&quot; : &quot;pattern&quot;\n        }\n      }\n    },\n</code></pre>\n<p>Mapping:</p>\n<pre><code>      &quot;name&quot; : {\n      &quot;type&quot; : &quot;text&quot;,\n      &quot;fields&quot; : {\n        &quot;keyword&quot; : {\n          &quot;type&quot; : &quot;keyword&quot;,\n          &quot;ignore_above&quot; : 256\n        }\n      }\n    },\n</code></pre>\n<p>Note: Since I'm working locally I have to drop and recreate the index multiple times. I'm able to set these field types via curl/kibana.</p>\n<p>Update: Here we create the index by:</p>\n<pre><code>if (!searchTemplate.indexOps(ElasticContract.class).exists()) {\n                searchTemplate.indexOps(ElasticContract.class).create();\n            }\n</code></pre>\n<p>And we also use ElasticsearchRepository for querying.</p>\n"},{"tags":["java","curl"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1664433775,"post_id":73891264,"comment_id":130471412,"body_markdown":"**Never**  catch exceptions without handle it `} catch(Exception e) {}`. Atleast log them","body":"<b>Never</b>  catch exceptions without handle it <code>} catch(Exception e) {}</code>. Atleast log them"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1664433834,"post_id":73891264,"comment_id":130471434,"body_markdown":"Your code downloads the html page. It should call a function that is behind the download- buttom","body":"Your code downloads the html page. It should call a function that is behind the download- buttom"},{"owner":{"account_id":15322989,"reputation":107,"user_id":11054890,"display_name":"harish nune"},"score":0,"creation_date":1664433986,"post_id":73891264,"comment_id":130471491,"body_markdown":"@Jens i am facing the same issue but what if URL won&#39;t render automatic downloading ?","body":"@Jens i am facing the same issue but what if URL won&#39;t render automatic downloading ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664437368,"post_id":73891264,"comment_id":130472646,"body_markdown":"If you can download with curl what makes you think you *can&#39;t* download it with Java?","body":"If you can download with curl what makes you think you <i>can&#39;t</i> download it with Java?"},{"owner":{"account_id":17951952,"reputation":263,"user_id":21110842,"display_name":"lada"},"score":0,"creation_date":1664439249,"post_id":73891264,"comment_id":130473315,"body_markdown":"am unable to download with curl also i mentioned that i tried that one @g00se","body":"am unable to download with curl also i mentioned that i tried that one @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664445217,"post_id":73891264,"comment_id":130475405,"body_markdown":"Sorry - missed that. You&#39;re probably going to have to use a Java API that supports JavaScript","body":"Sorry - missed that. You&#39;re probably going to have to use a Java API that supports JavaScript"}],"owner":{"account_id":17951952,"reputation":263,"user_id":21110842,"display_name":"lada"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1664433869,"creation_date":1664433654,"question_id":73891264,"body_markdown":" \r\n\r\nWe have url(Ex:https://sns.ift.org.mx:8081/sns-frontend/planes-numeracion/descarga-publica.xhtml) that contain file download button.\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ct9UG.png\r\n\r\nAs per requirement need download that file using java from that URL. But it has the download button(manual) so am unable to implement java code  \r\n\r\nI tried following \r\n\r\n    try{\r\n    \turl = &quot;curl -k -o data.csv https://sns.ift.org.mx:8081/sns-frontend/planes-numeracion/descarga-publica.xhtml&quot;;\r\n    \tProcess p = Runtime.getRuntime().exec(new String[]{ &quot;/bin/sh&quot; , &quot;-c&quot; , url});\r\n    \texitStatus = p.waitFor();\r\n    } catch(Exception e) {\r\n        log.error(&quot;Exception &quot;+e);\r\n    }\r\n\r\n\r\n","title":"How to download a file which have download button in the webpage (https url) using java","body":"<p>We have url(Ex:<a href=\"https://sns.ift.org.mx:8081/sns-frontend/planes-numeracion/descarga-publica.xhtml\" rel=\"nofollow noreferrer\">https://sns.ift.org.mx:8081/sns-frontend/planes-numeracion/descarga-publica.xhtml</a>) that contain file download button.</p>\n<p><a href=\"https://i.stack.imgur.com/Ct9UG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ct9UG.png\" alt=\"enter image description here\" /></a></p>\n<p>As per requirement need download that file using java from that URL. But it has the download button(manual) so am unable to implement java code</p>\n<p>I tried following</p>\n<pre><code>try{\n    url = &quot;curl -k -o data.csv https://sns.ift.org.mx:8081/sns-frontend/planes-numeracion/descarga-publica.xhtml&quot;;\n    Process p = Runtime.getRuntime().exec(new String[]{ &quot;/bin/sh&quot; , &quot;-c&quot; , url});\n    exitStatus = p.waitFor();\n} catch(Exception e) {\n    log.error(&quot;Exception &quot;+e);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-vault-config"],"answers":[{"tags":[],"owner":{"account_id":10222317,"reputation":349,"user_id":7546132,"display_name":"phaen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1581941405,"creation_date":1581941150,"answer_id":60262088,"question_id":60261834,"body_markdown":"I guess its the matter of fact, that you do not provide a default / fallback. In this case, when it cannot find the corresponding environment variable it just declares the field PORT as the given string. try something with default using (:).\r\n\r\nYou can also provide another variable as default, which you know will be set. \r\n\r\n    spring.cloud.vault.port=${VAULT_PORT}:9000\r\n\r\n\r\n    spring.cloud.vault.port=${VAULT_PORT:8200}","title":"Dynamically operate on application properties - vault settings (or any other values)","body":"<p>I guess its the matter of fact, that you do not provide a default / fallback. In this case, when it cannot find the corresponding environment variable it just declares the field PORT as the given string. try something with default using (:).</p>\n\n<p>You can also provide another variable as default, which you know will be set. </p>\n\n<pre><code>spring.cloud.vault.port=${VAULT_PORT}:9000\n\n\nspring.cloud.vault.port=${VAULT_PORT:8200}\n</code></pre>\n"}],"owner":{"account_id":1486301,"reputation":2323,"user_id":1394504,"accept_rate":80,"display_name":"Mithrand1r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1273,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60262088,"answer_count":1,"score":4,"last_activity_date":1664433642,"creation_date":1581940300,"question_id":60261834,"body_markdown":"I would like to be able to flexibly choose between 3rd party components my application is using. ATM I have hardcoded values\r\n\r\n    spring.cloud.vault.token=ffffffff-ffff-ffff-ffff-ffffffffffff\r\n    spring.cloud.vault.scheme=http\r\n    spring.cloud.vault.application-name=test\r\n    spring.cloud.vault.host=127.0.0.1\r\n    spring.cloud.vault.port=8200\r\n\r\nThe goal is to : \r\n\r\n * If `spring.cloud.vault.host` is set try to use it. If `spring.cloud.vault.host` is empty use\r\n    local DB instead (with proper configuration)\r\n\r\nMy first thought was to use `environment` variables like:\r\n\r\n    spring.cloud.vault.token=${VAULT_TOKEN}\r\n    spring.cloud.vault.scheme=${VAULT_SCHEME}\r\n    spring.cloud.vault.application-name=${VAULT_APP_NAME}\r\n    spring.cloud.vault.host=${VAULT_HOST}\r\n    spring.cloud.vault.port=${VAULT_PORT}\r\n\r\nand later use the component class like:\r\n\r\n    @Component\r\n    public class VaultHelper {\r\n        private final VaultOperations vaultOperations;\r\n        @Value(&quot;${spring.cloud.vault.host}&quot;)\r\n        String vaultHostname;\r\n    \r\n        @Autowired\r\n        public VaultHelper(VaultOperations vaultOperations){\r\n            this.vaultOperations = vaultOperations;\r\n        }\r\n        \r\n        public void saveToVault(String password){\r\n            if (!vaultHostname.equals(&quot;&quot;)) { \r\n                // Use vaultOperations to store password\r\n            } else {\r\n                // Use plaintext db storage\r\n            }\r\n        }\r\n        \r\n        public byte[] readFromVault(String passwordLoc){\r\n            if (!vaultHostname.equals(&quot;&quot;)) {\r\n                // Use vaultOperations to access password\r\n            } else {\r\n                // return plaintext password\r\n            }\r\n            return new byte[0];\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThis way I could set `${VAULT_HOST}` both from the environment variable (running application from docker-compose) or just set `--spring.cloud.vault.host=URL` on the local machine as `java` parameter.\r\n\r\nUnfortunately, I get an exception while unparsing `${VAULT_PORT}` field \r\n\r\n    Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [int] for value &#39;${VAULT_PORT}&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;${VAULT_PORT}&quot;\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.boot.context.properties.bind.BindConverter$CompositeConversionService.convert(BindConverter.java:170) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.context.properties.bind.BindConverter.convert(BindConverter.java:96) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.context.properties.bind.BindConverter.convert(BindConverter.java:88) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.context.properties.bind.Binder.bindProperty(Binder.java:435) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:380) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:320) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \t... 83 common frames omitted\r\n    Caused by: java.lang.NumberFormatException: For input string: &quot;${VAULT_PORT}&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:1.8.0_231]\r\n    \tat java.lang.Integer.parseInt(Integer.java:569) ~[na:1.8.0_231]\r\n    \tat java.lang.Integer.valueOf(Integer.java:766) ~[na:1.8.0_231]\r\n    \tat org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:211) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:62) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:49) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:436) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \t... 90 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\ncould anyone give me a hint how to make it work?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Dynamically operate on application properties - vault settings (or any other values)","body":"<p>I would like to be able to flexibly choose between 3rd party components my application is using. ATM I have hardcoded values</p>\n<pre><code>spring.cloud.vault.token=ffffffff-ffff-ffff-ffff-ffffffffffff\nspring.cloud.vault.scheme=http\nspring.cloud.vault.application-name=test\nspring.cloud.vault.host=127.0.0.1\nspring.cloud.vault.port=8200\n</code></pre>\n<p>The goal is to :</p>\n<ul>\n<li>If <code>spring.cloud.vault.host</code> is set try to use it. If <code>spring.cloud.vault.host</code> is empty use\nlocal DB instead (with proper configuration)</li>\n</ul>\n<p>My first thought was to use <code>environment</code> variables like:</p>\n<pre><code>spring.cloud.vault.token=${VAULT_TOKEN}\nspring.cloud.vault.scheme=${VAULT_SCHEME}\nspring.cloud.vault.application-name=${VAULT_APP_NAME}\nspring.cloud.vault.host=${VAULT_HOST}\nspring.cloud.vault.port=${VAULT_PORT}\n</code></pre>\n<p>and later use the component class like:</p>\n<pre><code>@Component\npublic class VaultHelper {\n    private final VaultOperations vaultOperations;\n    @Value(&quot;${spring.cloud.vault.host}&quot;)\n    String vaultHostname;\n\n    @Autowired\n    public VaultHelper(VaultOperations vaultOperations){\n        this.vaultOperations = vaultOperations;\n    }\n    \n    public void saveToVault(String password){\n        if (!vaultHostname.equals(&quot;&quot;)) { \n            // Use vaultOperations to store password\n        } else {\n            // Use plaintext db storage\n        }\n    }\n    \n    public byte[] readFromVault(String passwordLoc){\n        if (!vaultHostname.equals(&quot;&quot;)) {\n            // Use vaultOperations to access password\n        } else {\n            // return plaintext password\n        }\n        return new byte[0];\n    }\n\n\n}\n</code></pre>\n<p>This way I could set <code>${VAULT_HOST}</code> both from the environment variable (running application from docker-compose) or just set <code>--spring.cloud.vault.host=URL</code> on the local machine as <code>java</code> parameter.</p>\n<p>Unfortunately, I get an exception while unparsing <code>${VAULT_PORT}</code> field</p>\n<pre><code>Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [int] for value '${VAULT_PORT}'; nested exception is java.lang.NumberFormatException: For input string: &quot;${VAULT_PORT}&quot;\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.boot.context.properties.bind.BindConverter$CompositeConversionService.convert(BindConverter.java:170) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.context.properties.bind.BindConverter.convert(BindConverter.java:96) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.context.properties.bind.BindConverter.convert(BindConverter.java:88) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.context.properties.bind.Binder.bindProperty(Binder.java:435) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:380) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:320) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    ... 83 common frames omitted\nCaused by: java.lang.NumberFormatException: For input string: &quot;${VAULT_PORT}&quot;\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:1.8.0_231]\n    at java.lang.Integer.parseInt(Integer.java:569) ~[na:1.8.0_231]\n    at java.lang.Integer.valueOf(Integer.java:766) ~[na:1.8.0_231]\n    at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:211) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:62) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:49) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:436) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    ... 90 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>could anyone give me a hint how to make it work?</p>\n"},{"tags":["java","android","nfc"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1664434464,"post_id":73891193,"comment_id":130471668,"body_markdown":"does this help https://developer.android.com/guide/topics/connectivity/nfc/nfc#java","body":"does this help <a href=\"https://developer.android.com/guide/topics/connectivity/nfc/nfc#java\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/nfc/nfc#java</a>"},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1664442132,"post_id":73891193,"comment_id":130474324,"body_markdown":"Not easy but could use  https://developer.android.com/guide/topics/connectivity/nfc/hce for sending device to emulate a Tag and then standard Tag reading for receiving device. Not tried this but https://github.com/hakonschia/nfc-card-emulator","body":"Not easy but could use  <a href=\"https://developer.android.com/guide/topics/connectivity/nfc/hce\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/nfc/hce</a> for sending device to emulate a Tag and then standard Tag reading for receiving device. Not tried this but <a href=\"https://github.com/hakonschia/nfc-card-emulator\" rel=\"nofollow noreferrer\">github.com/hakonschia/nfc-card-emulator</a>"},{"owner":{"account_id":8464711,"reputation":840,"user_id":6349183,"display_name":"RaJ"},"score":0,"creation_date":1686029506,"post_id":73891193,"comment_id":134739249,"body_markdown":"Do you have found any good resources or anything else on this? @RR_Pradhan","body":"Do you have found any good resources or anything else on this? @RR_Pradhan"},{"owner":{"account_id":7428890,"reputation":78,"user_id":5650567,"display_name":"RR_Pradhan"},"score":0,"creation_date":1686124188,"post_id":73891193,"comment_id":134754426,"body_markdown":"No. My requirement changed so i didn&#39;t need anymore. But check this one https://stackoverflow.com/questions/37394355/how-can-i-send-a-text-string-to-another-device-via-nfc","body":"No. My requirement changed so i didn&#39;t need anymore. But check this one <a href=\"https://stackoverflow.com/questions/37394355/how-can-i-send-a-text-string-to-another-device-via-nfc\" title=\"how can i send a text string to another device via nfc\">stackoverflow.com/questions/37394355/&hellip;</a>"}],"owner":{"account_id":7428890,"reputation":78,"user_id":5650567,"display_name":"RR_Pradhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664433130,"creation_date":1664433130,"question_id":73891193,"body_markdown":"I want to send a string to another device via NFC .\r\nI could not find any relevant information on how to send and how to receive data via NFC.\r\nI could not find any info on android official documentation and for file transfer document says use bluetooth.\r\nPlease help me.","title":"How can i send a string from one device to another via NFC?","body":"<p>I want to send a string to another device via NFC .\nI could not find any relevant information on how to send and how to receive data via NFC.\nI could not find any info on android official documentation and for file transfer document says use bluetooth.\nPlease help me.</p>\n"},{"tags":["java","spring-boot","lambda","foreach","response-entity"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664412851,"post_id":73885805,"comment_id":130467953,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1664416800,"post_id":73885805,"comment_id":130468555,"body_markdown":"Always use a programming language tag on your questions, it will ensure they get seen by the maximum number of people","body":"Always use a programming language tag on your questions, it will ensure they get seen by the maximum number of people"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1664422257,"post_id":73885805,"comment_id":130469246,"body_markdown":"`for (FieldError fieldError : ex.getBindingResult().getFieldErrors()) validationList.add(fieldError.getDefaultMessage());`","body":"<code>for (FieldError fieldError : ex.getBindingResult().getFieldErrors()) validationList.add(fieldError.getDefaultMessage());</code>"}],"answers":[{"tags":[],"owner":{"account_id":5160313,"reputation":614,"user_id":4132230,"display_name":"Sandeep Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664433086,"creation_date":1664431033,"answer_id":73890871,"question_id":73885805,"body_markdown":"```\r\n@Override\r\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n    List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors().stream()\r\n            .map(fieldError -&gt; fieldError.getDefaultMessage()).collect(Collectors.toList());\r\n    return new ResponseEntity&lt;&gt;(validationList, status);\r\n}\r\n```\r\nIt will be converted to below code:\r\n\r\n```\r\n@Override\r\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                HttpHeaders headers, \r\n\t\t\t\tHttpStatus status, \r\n\t\t\t\tWebRequest request) {\r\n\tList&lt;String&gt; validationList = new ArrayList&lt;&gt;();\r\n\tList&lt;FieldError&gt; validationErrorList = ex.getBindingResult().getFieldErrors();\r\n\tfor(FieldError fieldError: validationErrorList) {\r\n\t\tvalidationList.add(fieldError.getDefaultMessage());\r\n\t}\r\n    return new ResponseEntity&lt;&gt;(validationList, status);\r\n}\r\n```\r\n\r\n","title":"How can we convert below code without lambda expressions and streams?","body":"<pre><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                HttpHeaders headers, HttpStatus status, WebRequest request) {\n    List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors().stream()\n            .map(fieldError -&gt; fieldError.getDefaultMessage()).collect(Collectors.toList());\n    return new ResponseEntity&lt;&gt;(validationList, status);\n}\n</code></pre>\n<p>It will be converted to below code:</p>\n<pre><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                HttpHeaders headers, \n                HttpStatus status, \n                WebRequest request) {\n    List&lt;String&gt; validationList = new ArrayList&lt;&gt;();\n    List&lt;FieldError&gt; validationErrorList = ex.getBindingResult().getFieldErrors();\n    for(FieldError fieldError: validationErrorList) {\n        validationList.add(fieldError.getDefaultMessage());\n    }\n    return new ResponseEntity&lt;&gt;(validationList, status);\n}\n</code></pre>\n"}],"owner":{"account_id":26034930,"reputation":11,"user_id":19740510,"display_name":"Yugandhar "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664433086,"creation_date":1664387239,"question_id":73885805,"body_markdown":"How to convert below code to for each loop without using lambda expressions and streams in Java?\r\n```\r\n@Override\r\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n\t\tHttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\tList&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors().stream()\r\n\t\t\t.map(fieldError -&gt; fieldError.getDefaultMessage()).collect(Collectors.toList());\r\n\treturn new ResponseEntity&lt;&gt;(validationList, status);\r\n}\r\n```","title":"How can we convert below code without lambda expressions and streams?","body":"<p>How to convert below code to for each loop without using lambda expressions and streams in Java?</p>\n<pre><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n        HttpHeaders headers, HttpStatus status, WebRequest request) {\n    List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors().stream()\n            .map(fieldError -&gt; fieldError.getDefaultMessage()).collect(Collectors.toList());\n    return new ResponseEntity&lt;&gt;(validationList, status);\n}\n</code></pre>\n"},{"tags":["java","sql","spring","oracle","jdbctemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664434254,"post_id":73886147,"comment_id":130471605,"body_markdown":"What do you mean in batches? What is wrong with a list or streaming the result? What is it you are trying to achieve?","body":"What do you mean in batches? What is wrong with a list or streaming the result? What is it you are trying to achieve?"},{"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"score":0,"creation_date":1664869564,"post_id":73886147,"comment_id":130563095,"body_markdown":"This is a simplified query, the proper one has about 20 parameters and the whole data set is about 1 million in size","body":"This is a simplified query, the proper one has about 20 parameters and the whole data set is about 1 million in size"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664870801,"post_id":73886147,"comment_id":130563496,"body_markdown":"That still doesn&#39;t answer my question. What do you mean with batches? I would suggest using a `Stream` as that will lazily load the entries while you iterate over them and process them. That way you only always have a few results in memory to process. While with paging the query and logic becomes more complicated.","body":"That still doesn&#39;t answer my question. What do you mean with batches? I would suggest using a <code>Stream</code> as that will lazily load the entries while you iterate over them and process them. That way you only always have a few results in memory to process. While with paging the query and logic becomes more complicated."}],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664432059,"creation_date":1664432059,"answer_id":73891013,"question_id":73886147,"body_markdown":"First your query is not correct:\r\nfrom the syntax point of view &quot;date&quot; is a reserved word and \r\nfrom the logic point of view, you are doing a cross table join over the 3 tables because you don&#39;t have any condition to join them in the WHERE clause (and you should better do it using standard ANSI join).\r\nSecond if your intent is to have the table names be parameters of the template, the answer is NO: table names and column names can&#39;t be parameters of a query.\r\nThis has been answered several times on stackoverflow, including by AskTOM site&#39;s guys, explaining in details why: mainly the data structure of the result must be known at parse time.\r\n\r\n\r\n","title":"How can I batch select from several tables with jdbctemplate?","body":"<p>First your query is not correct:\nfrom the syntax point of view &quot;date&quot; is a reserved word and\nfrom the logic point of view, you are doing a cross table join over the 3 tables because you don't have any condition to join them in the WHERE clause (and you should better do it using standard ANSI join).\nSecond if your intent is to have the table names be parameters of the template, the answer is NO: table names and column names can't be parameters of a query.\nThis has been answered several times on stackoverflow, including by AskTOM site's guys, explaining in details why: mainly the data structure of the result must be known at parse time.</p>\n"}],"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73891013,"answer_count":1,"score":0,"last_activity_date":1664432812,"creation_date":1664389081,"question_id":73886147,"body_markdown":"I have the following query:\r\n```\r\nselect name_table.name, age_table.age, address_table.address\r\nfrom \r\nname_table name_table,\r\nage_table age_table,\r\naddress_table address_table\r\nwhere \r\nname_table.id = age_table.id\r\n and age_table.id = address_table.id\r\n and name_table.new_date between ?(start_date) and ?(end_date)\r\n```\r\nHow can i use JDBCTemplate to get the needed data in batches? The start_date and end_date are variables.","title":"How can I batch select from several tables with jdbctemplate?","body":"<p>I have the following query:</p>\n<pre><code>select name_table.name, age_table.age, address_table.address\nfrom \nname_table name_table,\nage_table age_table,\naddress_table address_table\nwhere \nname_table.id = age_table.id\n and age_table.id = address_table.id\n and name_table.new_date between ?(start_date) and ?(end_date)\n</code></pre>\n<p>How can i use JDBCTemplate to get the needed data in batches? The start_date and end_date are variables.</p>\n"},{"tags":["java","database","postgresql","hibernate","backend"],"answers":[{"tags":[],"owner":{"account_id":11810170,"reputation":2258,"user_id":8641776,"display_name":"Zakaria Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664432801,"creation_date":1647703678,"answer_id":71539471,"question_id":71538342,"body_markdown":"`referencedColumnName` value should be same as the referencing class field value. Look at the `Type` class/entity&#39;s fields, there is no field/variable `type_id`, only the `id` field/variable exists, so you should referencing the column name as id. \r\n\r\nChange other fields in this way.\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;books&quot;)\r\n    public class Book {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n    \r\n       @ManyToMany(fetch = FetchType.EAGER)\r\n       @JoinTable(name = &quot;books_types&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(referencedColumnName = &quot;id&quot;)\r\n       )\r\n       private Set&lt;Type&gt; types;\r\n    \r\n    } \r\n_\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;types&quot;)\r\n    public class Type {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n    \r\n       private String name;\r\n    \r\n       @ManyToMany(mappedBy = &quot;types&quot;)\r\n       private List&lt;Book&gt; books;\r\n    \r\n    }","title":"I&#39;m trying to establish many-to-many connections in the database. Because logically types and languages can have multiple books and vice versa","body":"<p><code>referencedColumnName</code> value should be same as the referencing class field value. Look at the <code>Type</code> class/entity's fields, there is no field/variable <code>type_id</code>, only the <code>id</code> field/variable exists, so you should referencing the column name as id.</p>\n<p>Change other fields in this way.</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;books&quot;)\npublic class Book {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @ManyToMany(fetch = FetchType.EAGER)\n   @JoinTable(name = &quot;books_types&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(referencedColumnName = &quot;id&quot;)\n   )\n   private Set&lt;Type&gt; types;\n\n} \n</code></pre>\n<p>_</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;types&quot;)\npublic class Type {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   private String name;\n\n   @ManyToMany(mappedBy = &quot;types&quot;)\n   private List&lt;Book&gt; books;\n\n}\n</code></pre>\n"}],"owner":{"account_id":24336293,"reputation":5,"user_id":18511473,"display_name":"NURBEK ABDIRASULOV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71539471,"answer_count":1,"score":0,"last_activity_date":1664432801,"creation_date":1647694770,"question_id":71538342,"body_markdown":"     import lombok.Data;\r\n\r\n     import javax.persistence.*;\r\n     import java.util.List;\r\n     import java.util.Objects;\r\n     import java.util.Optional;\r\n     import java.util.Set;\r\n\r\n\r\n     @Entity\r\n     @Data\r\n     @Table(name = &quot;books&quot;)\r\n    public class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String publisher;\r\n    private String author;\r\n    private String aboutBook;\r\n    private String fragment;\r\n    private int date;\r\n    private int volume;\r\n    private int quantity;\r\n    private int price;\r\n    private int discount;\r\n    private Boolean bestseller;\r\n    private String bookLink;//s3\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;users_books&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    private List&lt;User&gt; users;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;books_genres&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(referencedColumnName = &quot;genre_id&quot;))\r\n    private Set&lt;Genre&gt; genres;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;books_languages&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(referencedColumnName = &quot;language_id&quot;))\r\n    private Set&lt;Language&gt; languages;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;books_types&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(referencedColumnName = &quot;type_id&quot;))\r\n    private Set&lt;Type&gt; types;\r\n\r\n\r\n\r\n    public Optional&lt;String&gt; getBookLink() {\r\n        return Optional.ofNullable(bookLink);\r\n    }\r\n\r\n    public void setBookLink(String bookLink) {\r\n        this.bookLink = bookLink;\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Book book = (Book) o;\r\n        return date == book.date &amp;&amp;\r\n                volume == book.volume &amp;&amp;\r\n                quantity == book.quantity &amp;&amp;\r\n                price == book.price &amp;&amp;\r\n                discount == book.discount &amp;&amp;\r\n                id.equals(book.id) &amp;&amp;\r\n                name.equals(book.name) &amp;&amp;\r\n                publisher.equals(book.publisher) &amp;&amp;\r\n                author.equals(book.author) &amp;&amp;\r\n                aboutBook.equals(book.aboutBook) &amp;&amp;\r\n                fragment.equals(book.fragment) &amp;&amp;\r\n                bestseller.equals(book.bestseller)\r\n                &amp;&amp; users.equals(book.users);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, name, publisher, author, aboutBook, fragment, date, volume, quantity, price, discount, bestseller, users);\r\n    }\r\n\r\n     } \r\n\r\n\r\n----------\r\n\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;genres&quot;)\r\n    public class Genre {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;genres&quot;)\r\n    private List&lt;Book&gt; books;\r\n    }\r\n \r\n\r\n\r\n----------\r\n\r\n\r\n     @Entity\r\n     @Data\r\n     @Table(name = &quot;languages&quot;)\r\n     public class Language {\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private Long id;\r\n\r\n     private String name;\r\n\r\n     @ManyToMany(mappedBy = &quot;languages&quot;)\r\n     private List&lt;Book&gt; books;\r\n     }\r\n\r\n\r\n----------\r\n\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;types&quot;)\r\n    public class Type {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n    @ManyToMany(mappedBy = &quot;types&quot;)\r\n    private List&lt;Book&gt; books;\r\n\r\n    }\r\n\r\n\r\n----------\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;number_of_phone&quot;)\r\n    private Long number;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles;\r\n\r\n    public Set&lt;Role&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(Set&lt;Role&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n\r\n    }\r\n\r\n\r\n----------\r\n\r\nbut I get this error\r\n\r\n----------\r\n\r\n\r\n       org.springframework.beans.factory.BeanCreationException: Error creating bean with name \r\n      &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.cfg.RecoverableException: Unable to find column with logical name: type_id in org.hibernate.mapping.Table(types) and its related supertables and secondary tables\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.ebook.EBookApplication.main(EBookApplication.java:10) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.6.4.jar:2.6.4]\r\n    Caused by: org.hibernate.cfg.RecoverableException: Unable to find column with logical name: type_id in org.hibernate.mapping.Table(types) and its related supertables and secondary tables\r\n\tat org.hibernate.cfg.Ejb3JoinColumn.checkReferencedColumnsType(Ejb3JoinColumn.java:844) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:126) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.bindManytoManyInverseFk(CollectionBinder.java:1802) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1679) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:874) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:799) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:53) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1653) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1629) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\t... 21 common frames omitted\r\n    Caused by: org.hibernate.MappingException: Unable to find column with logical name: type_id in org.hibernate.mapping.Table(types) and its related supertables and secondary tables\r\n\tat org.hibernate.cfg.Ejb3JoinColumn.checkReferencedColumnsType(Ejb3JoinColumn.java:839) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\t... 39 common frames omitted`\r\n\r\n\r\n----------\r\n","title":"I&#39;m trying to establish many-to-many connections in the database. Because logically types and languages can have multiple books and vice versa","body":"<pre><code> import lombok.Data;\n\n import javax.persistence.*;\n import java.util.List;\n import java.util.Objects;\n import java.util.Optional;\n import java.util.Set;\n\n\n @Entity\n @Data\n @Table(name = &quot;books&quot;)\npublic class Book {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String name;\nprivate String publisher;\nprivate String author;\nprivate String aboutBook;\nprivate String fragment;\nprivate int date;\nprivate int volume;\nprivate int quantity;\nprivate int price;\nprivate int discount;\nprivate Boolean bestseller;\nprivate String bookLink;//s3\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;users_books&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\nprivate List&lt;User&gt; users;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;books_genres&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(referencedColumnName = &quot;genre_id&quot;))\nprivate Set&lt;Genre&gt; genres;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;books_languages&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(referencedColumnName = &quot;language_id&quot;))\nprivate Set&lt;Language&gt; languages;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;books_types&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(referencedColumnName = &quot;type_id&quot;))\nprivate Set&lt;Type&gt; types;\n\n\n\npublic Optional&lt;String&gt; getBookLink() {\n    return Optional.ofNullable(bookLink);\n}\n\npublic void setBookLink(String bookLink) {\n    this.bookLink = bookLink;\n}\n\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Book book = (Book) o;\n    return date == book.date &amp;&amp;\n            volume == book.volume &amp;&amp;\n            quantity == book.quantity &amp;&amp;\n            price == book.price &amp;&amp;\n            discount == book.discount &amp;&amp;\n            id.equals(book.id) &amp;&amp;\n            name.equals(book.name) &amp;&amp;\n            publisher.equals(book.publisher) &amp;&amp;\n            author.equals(book.author) &amp;&amp;\n            aboutBook.equals(book.aboutBook) &amp;&amp;\n            fragment.equals(book.fragment) &amp;&amp;\n            bestseller.equals(book.bestseller)\n            &amp;&amp; users.equals(book.users);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, name, publisher, author, aboutBook, fragment, date, volume, quantity, price, discount, bestseller, users);\n}\n\n } \n</code></pre>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;genres&quot;)\npublic class Genre {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String name;\n\n@ManyToMany(mappedBy = &quot;genres&quot;)\nprivate List&lt;Book&gt; books;\n}\n</code></pre>\n<hr />\n<pre><code> @Entity\n @Data\n @Table(name = &quot;languages&quot;)\n public class Language {\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n private String name;\n\n @ManyToMany(mappedBy = &quot;languages&quot;)\n private List&lt;Book&gt; books;\n }\n</code></pre>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;types&quot;)\npublic class Type {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String name;\n@ManyToMany(mappedBy = &quot;types&quot;)\nprivate List&lt;Book&gt; books;\n\n}\n</code></pre>\n<hr />\n<pre><code>@Entity\n@Data\n@Table(name = &quot;users&quot;)\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\n@Column(name = &quot;username&quot;)\nprivate String username;\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\n\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n@Column(name = &quot;email&quot;)\nprivate String email;\n\n@Column(name = &quot;number_of_phone&quot;)\nprivate Long number;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;users_roles&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\nprivate Set&lt;Role&gt; roles;\n\npublic Set&lt;Role&gt; getRoles() {\n    return roles;\n}\n\npublic void setRoles(Set&lt;Role&gt; roles) {\n    this.roles = roles;\n}\n\n}\n</code></pre>\n<hr />\n<p>but I get this error</p>\n<hr />\n<pre><code>   org.springframework.beans.factory.BeanCreationException: Error creating bean with name \n  'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.cfg.RecoverableException: Unable to find column with logical name: type_id in org.hibernate.mapping.Table(types) and its related supertables and secondary tables\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [spring-boot-2.6.4.jar:2.6.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.4.jar:2.6.4]\nat com.ebook.EBookApplication.main(EBookApplication.java:10) [classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.6.4.jar:2.6.4]\nCaused by: org.hibernate.cfg.RecoverableException: Unable to find column with logical name: type_id in org.hibernate.mapping.Table(types) and its related supertables and secondary tables\nat org.hibernate.cfg.Ejb3JoinColumn.checkReferencedColumnsType(Ejb3JoinColumn.java:844) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:126) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.cfg.annotations.CollectionBinder.bindManytoManyInverseFk(CollectionBinder.java:1802) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1679) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:874) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:799) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:53) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1653) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1629) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\n... 21 common frames omitted\nCaused by: org.hibernate.MappingException: Unable to find column with logical name: type_id in org.hibernate.mapping.Table(types) and its related supertables and secondary tables\nat org.hibernate.cfg.Ejb3JoinColumn.checkReferencedColumnsType(Ejb3JoinColumn.java:839) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n... 39 common frames omitted`\n</code></pre>\n<hr />\n"},{"tags":["java","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1664428931,"post_id":73890491,"comment_id":130470296,"body_markdown":"*java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment* - find the jar and add it to your classpath","body":"<i>java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment</i> - find the jar and add it to your classpath"},{"owner":{"account_id":16846226,"reputation":5,"user_id":12180324,"display_name":" "},"score":0,"creation_date":1664431152,"post_id":73890491,"comment_id":130470710,"body_markdown":"@ScaryWombat I&#39;m sorry for asking, but where can I get the jar file?","body":"@ScaryWombat I&#39;m sorry for asking, but where can I get the jar file?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1664432919,"post_id":73890491,"comment_id":130471123,"body_markdown":"Maybe not the version you want but from here you can get what you need https://jar-download.com/artifacts/org.hibernate/hibernate-core/5.3.1.Final/source-code/org/hibernate/cfg/Environment.java","body":"Maybe not the version you want but from here you can get what you need <a href=\"https://jar-download.com/artifacts/org.hibernate/hibernate-core/5.3.1.Final/source-code/org/hibernate/cfg/Environment.java\" rel=\"nofollow noreferrer\">jar-download.com/artifacts/org.hibernate/hibernate-core/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664434241,"post_id":73890491,"comment_id":130471599,"body_markdown":"@ScaryWombat the OP already has that dependency","body":"@ScaryWombat the OP already has that dependency"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1664438129,"post_id":73890491,"comment_id":130472925,"body_markdown":"@tgdavies You are very correct, but I was too lazy to instruct the OP how to find.","body":"@tgdavies You are very correct, but I was too lazy to instruct the OP how to find."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664438757,"post_id":73890491,"comment_id":130473145,"body_markdown":"You are using HIbernate 5.6, but Spring 5.3 supports upto version 5.4. So downgrade your Hibernate version to 5.4.33 (or the latest in the 5.4.x range).","body":"You are using HIbernate 5.6, but Spring 5.3 supports upto version 5.4. So downgrade your Hibernate version to 5.4.33 (or the latest in the 5.4.x range)."}],"answers":[{"tags":[],"owner":{"account_id":22367616,"reputation":11,"user_id":16583145,"display_name":"Piyush Kumar"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1664432703,"creation_date":1664432703,"answer_id":73891114,"question_id":73890491,"body_markdown":"Your error is found in this class `org/itsci/shop/config/HibernateConf.class`\r\n\r\n- method &#39;hibernateTransactionManager&#39; threw exception.\r\n\r\n- Error in creating bean with name &#39;sessionFactory&#39; defined in class path resource `[org/itsci/shop/config/HibernateConf.class]`\r\n\r\nplease show your `HibernateConf` file. or resolve errors by importing libraries.","title":"HTTP Status 500  Internal Server Error | So many errors! | IntelliJ | Hibernate &amp; Spring","body":"<p>Your error is found in this class <code>org/itsci/shop/config/HibernateConf.class</code></p>\n<ul>\n<li><p>method 'hibernateTransactionManager' threw exception.</p>\n</li>\n<li><p>Error in creating bean with name 'sessionFactory' defined in class path resource <code>[org/itsci/shop/config/HibernateConf.class]</code></p>\n</li>\n</ul>\n<p>please show your <code>HibernateConf</code> file. or resolve errors by importing libraries.</p>\n"}],"owner":{"account_id":16846226,"reputation":5,"user_id":12180324,"display_name":" "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1664432703,"creation_date":1664427872,"question_id":73890491,"body_markdown":"I&#39;ve got 500 error status on my spring &amp; hibernate projects. I&#39;ve tried to solve this problems for 2 hours and I&#39;m still stuck and the **exception** are happened as follows.\r\n\r\n    Exception\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:833)\r\n    Root Cause\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hibernateTransactionManager&#39; defined in class path resource [org/itsci/shop/config/HibernateConf.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method &#39;hibernateTransactionManager&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [org/itsci/shop/config/HibernateConf.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment\r\n    \torg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n    \torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:833)\r\n    Root Cause\r\n    \r\n    org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method &#39;hibernateTransactionManager&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [org/itsci/shop/config/HibernateConf.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment\r\n    \torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n    \torg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:833)\r\n    Root Cause\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [org/itsci/shop/config/HibernateConf.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:307)\r\n    \torg.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.sessionFactory(&lt;generated&gt;)\r\n    \torg.itsci.shop.config.HibernateConf.hibernateTransactionManager(HibernateConf.java:30)\r\n    \torg.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.CGLIB$hibernateTransactionManager$0(&lt;generated&gt;)\r\n    \torg.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966$$FastClassBySpringCGLIB$$f89b85cd.invoke(&lt;generated&gt;)\r\n    \torg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n    \torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \torg.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.hibernateTransactionManager(&lt;generated&gt;)\r\n    \tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tjava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \torg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:833)\r\n    Root Cause\r\n    \r\n    java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment\r\n    \torg.hibernate.boot.registry.StandardServiceRegistryBuilder.&lt;init&gt;(StandardServiceRegistryBuilder.java:161)\r\n    \torg.hibernate.boot.registry.StandardServiceRegistryBuilder.&lt;init&gt;(StandardServiceRegistryBuilder.java:96)\r\n    \torg.hibernate.cfg.Configuration.reset(Configuration.java:160)\r\n    \torg.hibernate.cfg.Configuration.&lt;init&gt;(Configuration.java:132)\r\n    \torg.springframework.orm.hibernate5.LocalSessionFactoryBuilder.&lt;init&gt;(LocalSessionFactoryBuilder.java:161)\r\n    \torg.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:496)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:307)\r\n    \torg.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.sessionFactory(&lt;generated&gt;)\r\n    \torg.itsci.shop.config.HibernateConf.hibernateTransactionManager(HibernateConf.java:30)\r\n    \torg.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.CGLIB$hibernateTransactionManager$0(&lt;generated&gt;)\r\n    \torg.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966$$FastClassBySpringCGLIB$$f89b85cd.invoke(&lt;generated&gt;)\r\n    \torg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n    \torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \torg.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.hibernateTransactionManager(&lt;generated&gt;)\r\n    \tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tjava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \torg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nHere is my **pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.itsci&lt;/groupId&gt;\r\n        &lt;artifactId&gt;shop&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;shop&lt;/name&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n            &lt;springframework.version&gt;5.3.22&lt;/springframework.version&gt;\r\n            &lt;jstl.version&gt;1.2.2&lt;/jstl.version&gt;\r\n            &lt;tld.version&gt;1.1.2&lt;/tld.version&gt;\r\n            &lt;c3p0.version&gt;0.9.5.2&lt;/c3p0.version&gt;\r\n            &lt;hsqldb.version&gt;1.8.0.10&lt;/hsqldb.version&gt;\r\n            &lt;hibernate.version&gt;5.6.11.Final&lt;/hibernate.version&gt;\r\n            &lt;hibernate.validator&gt;6.2.4.Final&lt;/hibernate.validator&gt;\r\n            &lt;mariadb.version&gt;3.0.6&lt;/mariadb.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${jstl.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n                &lt;version&gt;${tld.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;&lt;!--Hibernate Validator --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;${hibernate.validator}&lt;/version&gt;\r\n            &lt;/dependency&gt;&lt;!--Hibernate-C3P0 Integration --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n                &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;&lt;!--c3p0 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n                &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n                &lt;version&gt;${c3p0.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;&lt;!--Hibernate-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;&lt;!--mariadb-connector-java --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${mariadb.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI&#39;m using IntelliJ IDEA and Maven on this project. This project is my exercise on my java programming class, so please help me to fix this problem. &lt;3","title":"HTTP Status 500  Internal Server Error | So many errors! | IntelliJ | Hibernate &amp; Spring","body":"<p>I've got 500 error status on my spring &amp; hibernate projects. I've tried to solve this problems for 2 hours and I'm still stuck and the <strong>exception</strong> are happened as follows.</p>\n<pre><code>Exception\n\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\nRoot Cause\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hibernateTransactionManager' defined in class path resource [org/itsci/shop/config/HibernateConf.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method 'hibernateTransactionManager' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/itsci/shop/config/HibernateConf.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment\n    org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\nRoot Cause\n\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.transaction.PlatformTransactionManager]: Factory method 'hibernateTransactionManager' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/itsci/shop/config/HibernateConf.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\nRoot Cause\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/itsci/shop/config/HibernateConf.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:307)\n    org.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.sessionFactory(&lt;generated&gt;)\n    org.itsci.shop.config.HibernateConf.hibernateTransactionManager(HibernateConf.java:30)\n    org.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.CGLIB$hibernateTransactionManager$0(&lt;generated&gt;)\n    org.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966$$FastClassBySpringCGLIB$$f89b85cd.invoke(&lt;generated&gt;)\n    org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    org.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.hibernateTransactionManager(&lt;generated&gt;)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\nRoot Cause\n\njava.lang.NoClassDefFoundError: Could not initialize class org.hibernate.cfg.Environment\n    org.hibernate.boot.registry.StandardServiceRegistryBuilder.&lt;init&gt;(StandardServiceRegistryBuilder.java:161)\n    org.hibernate.boot.registry.StandardServiceRegistryBuilder.&lt;init&gt;(StandardServiceRegistryBuilder.java:96)\n    org.hibernate.cfg.Configuration.reset(Configuration.java:160)\n    org.hibernate.cfg.Configuration.&lt;init&gt;(Configuration.java:132)\n    org.springframework.orm.hibernate5.LocalSessionFactoryBuilder.&lt;init&gt;(LocalSessionFactoryBuilder.java:161)\n    org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:496)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:307)\n    org.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.sessionFactory(&lt;generated&gt;)\n    org.itsci.shop.config.HibernateConf.hibernateTransactionManager(HibernateConf.java:30)\n    org.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.CGLIB$hibernateTransactionManager$0(&lt;generated&gt;)\n    org.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966$$FastClassBySpringCGLIB$$f89b85cd.invoke(&lt;generated&gt;)\n    org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    org.itsci.shop.config.HibernateConf$$EnhancerBySpringCGLIB$$45130966.hibernateTransactionManager(&lt;generated&gt;)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:578)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Here is my <strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.itsci&lt;/groupId&gt;\n    &lt;artifactId&gt;shop&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;shop&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n        &lt;springframework.version&gt;5.3.22&lt;/springframework.version&gt;\n        &lt;jstl.version&gt;1.2.2&lt;/jstl.version&gt;\n        &lt;tld.version&gt;1.1.2&lt;/tld.version&gt;\n        &lt;c3p0.version&gt;0.9.5.2&lt;/c3p0.version&gt;\n        &lt;hsqldb.version&gt;1.8.0.10&lt;/hsqldb.version&gt;\n        &lt;hibernate.version&gt;5.6.11.Final&lt;/hibernate.version&gt;\n        &lt;hibernate.validator&gt;6.2.4.Final&lt;/hibernate.validator&gt;\n        &lt;mariadb.version&gt;3.0.6&lt;/mariadb.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n            &lt;version&gt;${jstl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;taglibs&lt;/groupId&gt;\n            &lt;artifactId&gt;standard&lt;/artifactId&gt;\n            &lt;version&gt;${tld.version}&lt;/version&gt;\n        &lt;/dependency&gt;&lt;!--Hibernate Validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.validator}&lt;/version&gt;\n        &lt;/dependency&gt;&lt;!--Hibernate-C3P0 Integration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;&lt;!--c3p0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;${c3p0.version}&lt;/version&gt;\n        &lt;/dependency&gt;&lt;!--Hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;&lt;!--mariadb-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;version&gt;${mariadb.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I'm using IntelliJ IDEA and Maven on this project. This project is my exercise on my java programming class, so please help me to fix this problem. &lt;3</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1663489479,"post_id":73761076,"comment_id":130248223,"body_markdown":"What error you are getting when using  getString(..) ? And Where you are trying to access the getString() ? For  your  Information  getString() can we used  with a context only like in  Activity/Fragment","body":"What error you are getting when using  getString(..) ? And Where you are trying to access the getString() ? For  your  Information  getString() can we used  with a context only like in  Activity/Fragment"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1663490680,"post_id":73761076,"comment_id":130248419,"body_markdown":"In which class is the code located in?","body":"In which class is the code located in?"},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1663511971,"post_id":73761076,"comment_id":130252357,"body_markdown":"Please refer to this link to improve your resource string design https://developer.android.com/guide/topics/resources/string-resource","body":"Please refer to this link to improve your resource string design <a href=\"https://developer.android.com/guide/topics/resources/string-resource\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/resources/string-resource</a>"}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663523184,"creation_date":1663523184,"answer_id":73765097,"question_id":73761076,"body_markdown":"`getString` [is a method on a `Context` object][1], so you can&#39;t just call it from anywhere. It works inside an `Activity` because that *is* a `Context`. And it works inside a `Fragment` because that class has its own `getString` method, and the framework provides it with a `Context` object it uses to get the string.\r\n\r\nDepending on where your code is, you might have access to a `Context` - `View`s have a `getContext` method, for example. But if you don&#39;t already have access to one wherever that code is (e.g. inside your own custom class), you&#39;ll need to *pass* a `Context` in. This is pretty typical in Android, lots of functions and constructors take a `context` parameter.\r\n\r\nSo in that case, you&#39;ll have to do something like this:\r\n\r\n````\r\npublic String getLabelOrWhatever(Context context, long time) {\r\n    final long diff = now - time;\r\n    if (diff &lt; MINUTE_MILLIS) {\r\n        return context.getString(R.string.lbl_just_now);\r\n    } else if (diff &lt; 2 * MINUTE_MILLIS) {\r\n        return context.getString(R.string.lbl_a_minute_ago);\r\n    }\r\n    // etc.\r\n}\r\n````\r\n\r\nAlso you should probably be using [format strings][2], like this:\r\n\r\n````\r\n&lt;string name=&quot;lbl_hours_ago&quot;&gt;%1$d hours ago&lt;/string&gt;\r\n````\r\n\r\nThat&#39;s argument *1*, which is a *decimal* (integer) value. (There&#39;s also `$f` for floating-point numbers, and $s for strings.) Then you can pass the values to insert into your `getString` call\r\n\r\n````\r\ncontext.getString(R.string.lbl_hours_ago, diff / HOUR_MILLIS)\r\n````\r\n\r\nand it&#39;ll be inserted in the right place. (You might want to look at [plural strings][3] too - they can pull out the correct string depending on the value, e.g. *hour* vs *hours* in English.)\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/Context#getString(int,%20java.lang.Object...)\r\n  [2]: https://developer.android.com/guide/topics/resources/string-resource#formatting-strings\r\n  [3]: https://developer.android.com/guide/topics/resources/string-resource#Plurals","title":"Giving string name to the texts in the code","body":"<p><code>getString</code> <a href=\"https://developer.android.com/reference/android/content/Context#getString(int,%20java.lang.Object...)\" rel=\"nofollow noreferrer\">is a method on a <code>Context</code> object</a>, so you can't just call it from anywhere. It works inside an <code>Activity</code> because that <em>is</em> a <code>Context</code>. And it works inside a <code>Fragment</code> because that class has its own <code>getString</code> method, and the framework provides it with a <code>Context</code> object it uses to get the string.</p>\n<p>Depending on where your code is, you might have access to a <code>Context</code> - <code>View</code>s have a <code>getContext</code> method, for example. But if you don't already have access to one wherever that code is (e.g. inside your own custom class), you'll need to <em>pass</em> a <code>Context</code> in. This is pretty typical in Android, lots of functions and constructors take a <code>context</code> parameter.</p>\n<p>So in that case, you'll have to do something like this:</p>\n<pre><code>public String getLabelOrWhatever(Context context, long time) {\n    final long diff = now - time;\n    if (diff &lt; MINUTE_MILLIS) {\n        return context.getString(R.string.lbl_just_now);\n    } else if (diff &lt; 2 * MINUTE_MILLIS) {\n        return context.getString(R.string.lbl_a_minute_ago);\n    }\n    // etc.\n}\n</code></pre>\n<p>Also you should probably be using <a href=\"https://developer.android.com/guide/topics/resources/string-resource#formatting-strings\" rel=\"nofollow noreferrer\">format strings</a>, like this:</p>\n<pre><code>&lt;string name=&quot;lbl_hours_ago&quot;&gt;%1$d hours ago&lt;/string&gt;\n</code></pre>\n<p>That's argument <em>1</em>, which is a <em>decimal</em> (integer) value. (There's also <code>$f</code> for floating-point numbers, and $s for strings.) Then you can pass the values to insert into your <code>getString</code> call</p>\n<pre><code>context.getString(R.string.lbl_hours_ago, diff / HOUR_MILLIS)\n</code></pre>\n<p>and it'll be inserted in the right place. (You might want to look at <a href=\"https://developer.android.com/guide/topics/resources/string-resource#Plurals\" rel=\"nofollow noreferrer\">plural strings</a> too - they can pull out the correct string depending on the value, e.g. <em>hour</em> vs <em>hours</em> in English.)</p>\n"},{"tags":[],"owner":{"display_name":"user19201225"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664430910,"creation_date":1664152225,"answer_id":73848677,"question_id":73761076,"body_markdown":"```\r\npackage com.whatsup;\r\n\r\nimport android.app.Application;\r\n\r\npublic class GetTimeAgo extends Application {\r\n\r\n    private static final int SECOND_MILLIS = 1000;\r\n    private static final int MINUTE_MILLIS = 60 * SECOND_MILLIS;\r\n    private static final int HOUR_MILLIS = 60 * MINUTE_MILLIS;\r\n    private static final int DAY_MILLIS = 24 * HOUR_MILLIS;\r\n\r\n\r\n    public static String getTimeAgo(long time) {\r\n        if (time &lt; 1000000000000L) {\r\n            // if timestamp given in seconds, convert to millis\r\n            time *= 1000;\r\n        }\r\n\r\n        long now = System.currentTimeMillis();\r\n        if (time &gt; now || time &lt;= 0) {\r\n            return null;\r\n        }\r\n\r\n        final long diff = now - time;\r\n        if (diff &lt; MINUTE_MILLIS) {\r\n            return &quot;just now&quot;;\r\n        } else if (diff &lt; 2 * MINUTE_MILLIS) {\r\n            return &quot;a minute ago&quot;;\r\n        } else if (diff &lt; 50 * MINUTE_MILLIS) {\r\n            return diff / MINUTE_MILLIS + &quot; minutes ago&quot;;\r\n        } else if (diff &lt; 90 * MINUTE_MILLIS) {\r\n            return &quot;an hour ago&quot;;\r\n        } else if (diff &lt; 24 * HOUR_MILLIS) {\r\n            return diff / HOUR_MILLIS + &quot; hours ago&quot;;\r\n        } else if (diff &lt; 48 * HOUR_MILLIS) {\r\n            return &quot;yesterday&quot;;\r\n        } else {\r\n            return diff / DAY_MILLIS + &quot; days ago&quot;;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n","title":"Giving string name to the texts in the code","body":"<pre><code>package com.whatsup;\n\nimport android.app.Application;\n\npublic class GetTimeAgo extends Application {\n\n    private static final int SECOND_MILLIS = 1000;\n    private static final int MINUTE_MILLIS = 60 * SECOND_MILLIS;\n    private static final int HOUR_MILLIS = 60 * MINUTE_MILLIS;\n    private static final int DAY_MILLIS = 24 * HOUR_MILLIS;\n\n\n    public static String getTimeAgo(long time) {\n        if (time &lt; 1000000000000L) {\n            // if timestamp given in seconds, convert to millis\n            time *= 1000;\n        }\n\n        long now = System.currentTimeMillis();\n        if (time &gt; now || time &lt;= 0) {\n            return null;\n        }\n\n        final long diff = now - time;\n        if (diff &lt; MINUTE_MILLIS) {\n            return &quot;just now&quot;;\n        } else if (diff &lt; 2 * MINUTE_MILLIS) {\n            return &quot;a minute ago&quot;;\n        } else if (diff &lt; 50 * MINUTE_MILLIS) {\n            return diff / MINUTE_MILLIS + &quot; minutes ago&quot;;\n        } else if (diff &lt; 90 * MINUTE_MILLIS) {\n            return &quot;an hour ago&quot;;\n        } else if (diff &lt; 24 * HOUR_MILLIS) {\n            return diff / HOUR_MILLIS + &quot; hours ago&quot;;\n        } else if (diff &lt; 48 * HOUR_MILLIS) {\n            return &quot;yesterday&quot;;\n        } else {\n            return diff / DAY_MILLIS + &quot; days ago&quot;;\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664432121,"creation_date":1664432121,"answer_id":73891024,"question_id":73761076,"body_markdown":"The answer by [cactustictacs][1] is perfect, however, I would like to clear up why your code is not working.\r\n\r\nYou try to call `getName()` in a `static` method inside of your `Application`. static members (methods, fields) can be called from anywhere, without having a reference to the `Application` (`this`). Thus, you need to remove `static` from `getTimeAgo`.\r\n\r\nHowever, you cannot call it from anywhere anymore. You&#39;ll have to have an object of `GetTimeAgo`, e.g:\r\n\r\n    GetTimeAgo application= ...;\r\n    application.getTimeAgo(System.currentTimeMillis());\r\n\r\nor call it from within a non-`static` method of `GetTimeAgo` itself.\r\n\r\np.s:\r\n\r\nWhen your class is really only calculating something, it doesn&#39;t need to extend Application at all, but take a `Context` as a parameter.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/13598222/cactustictacs","title":"Giving string name to the texts in the code","body":"<p>The answer by <a href=\"https://stackoverflow.com/users/13598222/cactustictacs\">cactustictacs</a> is perfect, however, I would like to clear up why your code is not working.</p>\n<p>You try to call <code>getName()</code> in a <code>static</code> method inside of your <code>Application</code>. static members (methods, fields) can be called from anywhere, without having a reference to the <code>Application</code> (<code>this</code>). Thus, you need to remove <code>static</code> from <code>getTimeAgo</code>.</p>\n<p>However, you cannot call it from anywhere anymore. You'll have to have an object of <code>GetTimeAgo</code>, e.g:</p>\n<pre><code>GetTimeAgo application= ...;\napplication.getTimeAgo(System.currentTimeMillis());\n</code></pre>\n<p>or call it from within a non-<code>static</code> method of <code>GetTimeAgo</code> itself.</p>\n<p>p.s:</p>\n<p>When your class is really only calculating something, it doesn't need to extend Application at all, but take a <code>Context</code> as a parameter.</p>\n"}],"owner":{"display_name":"user19201225"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1664432121,"creation_date":1663488605,"question_id":73761076,"body_markdown":"I want to give string name instead of text like &quot;**just now**&quot; &quot;**a minute ago**&quot; here but it doesn&#39;t accept I used **getString** or **R.string** it didn&#39;t work\r\n\r\n    final long diff = now - time;\r\n        if (diff &lt; MINUTE_MILLIS) {\r\n            return &quot;just now&quot;;\r\n        } else if (diff &lt; 2 * MINUTE_MILLIS) {\r\n            return &quot;a minute ago&quot;;\r\n        } else if (diff &lt; 50 * MINUTE_MILLIS) {\r\n            return diff / MINUTE_MILLIS + &quot; minutes ago&quot;;\r\n        } else if (diff &lt; 90 * MINUTE_MILLIS) {\r\n            return &quot;an hour ago&quot;;\r\n        } else if (diff &lt; 24 * HOUR_MILLIS) {\r\n            return diff / HOUR_MILLIS + &quot; hours ago&quot;;\r\n        } else if (diff &lt; 48 * HOUR_MILLIS) {\r\n            return &quot;yesterday&quot;;\r\n        } else {\r\n            return diff / DAY_MILLIS + &quot; days ago&quot;;\r\n        }\r\nWhat i want to do\r\n\r\n    final long diff = now - time;\r\n        if (diff &lt; MINUTE_MILLIS) {\r\n            return getString(R.string.lbl_just_now);\r\n        } else if (diff &lt; 2 * MINUTE_MILLIS) {\r\n            return getString(R.string.lbl_a_minute_ago);\r\n        } else if (diff &lt; 50 * MINUTE_MILLIS) {\r\n            return diff / MINUTE_MILLIS + getString(R.string.lbl_minutes_ago);\r\n        } else if (diff &lt; 90 * MINUTE_MILLIS) {\r\n            return getString(R.string.lbl_an_hour_ago);\r\n        } else if (diff &lt; 24 * HOUR_MILLIS) {\r\n            return diff / HOUR_MILLIS + getString(R.string.lbl_hours_ago);\r\n        } else if (diff &lt; 48 * HOUR_MILLIS) {\r\n            return getString(R.string.lbl_yesterday);\r\n        } else {\r\n            return diff / DAY_MILLIS + getString(R.string.lbl_days_ago);\r\n        }","title":"Giving string name to the texts in the code","body":"<p>I want to give string name instead of text like &quot;<strong>just now</strong>&quot; &quot;<strong>a minute ago</strong>&quot; here but it doesn't accept I used <strong>getString</strong> or <strong>R.string</strong> it didn't work</p>\n<pre><code>final long diff = now - time;\n    if (diff &lt; MINUTE_MILLIS) {\n        return &quot;just now&quot;;\n    } else if (diff &lt; 2 * MINUTE_MILLIS) {\n        return &quot;a minute ago&quot;;\n    } else if (diff &lt; 50 * MINUTE_MILLIS) {\n        return diff / MINUTE_MILLIS + &quot; minutes ago&quot;;\n    } else if (diff &lt; 90 * MINUTE_MILLIS) {\n        return &quot;an hour ago&quot;;\n    } else if (diff &lt; 24 * HOUR_MILLIS) {\n        return diff / HOUR_MILLIS + &quot; hours ago&quot;;\n    } else if (diff &lt; 48 * HOUR_MILLIS) {\n        return &quot;yesterday&quot;;\n    } else {\n        return diff / DAY_MILLIS + &quot; days ago&quot;;\n    }\n</code></pre>\n<p>What i want to do</p>\n<pre><code>final long diff = now - time;\n    if (diff &lt; MINUTE_MILLIS) {\n        return getString(R.string.lbl_just_now);\n    } else if (diff &lt; 2 * MINUTE_MILLIS) {\n        return getString(R.string.lbl_a_minute_ago);\n    } else if (diff &lt; 50 * MINUTE_MILLIS) {\n        return diff / MINUTE_MILLIS + getString(R.string.lbl_minutes_ago);\n    } else if (diff &lt; 90 * MINUTE_MILLIS) {\n        return getString(R.string.lbl_an_hour_ago);\n    } else if (diff &lt; 24 * HOUR_MILLIS) {\n        return diff / HOUR_MILLIS + getString(R.string.lbl_hours_ago);\n    } else if (diff &lt; 48 * HOUR_MILLIS) {\n        return getString(R.string.lbl_yesterday);\n    } else {\n        return diff / DAY_MILLIS + getString(R.string.lbl_days_ago);\n    }\n</code></pre>\n"},{"tags":["java","spring","postgresql","liquibase"],"answers":[{"tags":[],"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664431989,"creation_date":1664431989,"answer_id":73891003,"question_id":73807392,"body_markdown":"The problem you have is the fact that `SpringLiquibase` will by default auto run the changelog on the configured datasource, and for Postgres if no schema is specified the SQL scripts will be executed on the `public` aka default schema. So you have two choices to do to stop liquibase from auto-executing against the default schema.\r\n\r\n1. Just disable the autorun on `SpringLiquibase`. There is a specific configuration property which can be used to disable/enable the autorun functionality. The property name is `shouldRun`. So just set the value to false and the changelog will not be executed against the default schema.\r\n    \r\n       @Bean\r\n       public SpringLiquibase liquibase(@Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\r\n       DataSource dataSource, LiquibaseProperties liquibaseProperties) {\r\n         SpringLiquibase liquibase = new SpringLiquibase();\r\n         liquibase.setDataSource(dataSource);\r\n         liquibase.setChangeLog(&quot;config/liquibase/changelog/changelog-root.xml&quot;);\r\n         // here we tell the system not to run by default\r\n         liquibase.setShouldRun(false);\r\n         return liquibase;\r\n       }\r\n\r\n2. You can totally disable default functionality for spring liquibase by excluding the `LiquibaseAutoConfiguration` and just creating the `MultiTenantSpringLiquibase` bean and delete the `SpringLiquibase` bean creation.\r\n\r\nTo disable spring liquibase auto-configuration exclude the `LiquibaseAutoConfiguration`\r\n\r\n    @SpringBootApplication(exclude={LiquibaseAutoConfiguration.class}) \r\n\r\nDelete the creation of `SpringLiquibase` bean.\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties({LiquibaseProperties.class})\r\n    public class LiquibaseConfiguration {\r\n\r\n      @Bean\r\n      public MultiTenantSpringLiquibase liquibaseMt(DataSource dataSource, LiquibaseProperties liquibaseProperties) {\r\n\r\n        MultiTenantSpringLiquibase liquibase = new MultiTenantSpringLiquibase();\r\n        liquibase.setDataSource(dataSource);\r\n        liquibase.setChangeLog(&quot;config/liquibase/changelog/changelog-root.xml&quot;);\r\n        liquibase.setSchemas(Arrays.asList(&quot;001&quot;, &quot;002&quot;));\r\n        return liquibase;\r\n      }\r\n    }","title":"Prevent Liquibase migrating public schema in Postgres and only migrate configured schemas","body":"<p>The problem you have is the fact that <code>SpringLiquibase</code> will by default auto run the changelog on the configured datasource, and for Postgres if no schema is specified the SQL scripts will be executed on the <code>public</code> aka default schema. So you have two choices to do to stop liquibase from auto-executing against the default schema.</p>\n<ol>\n<li><p>Just disable the autorun on <code>SpringLiquibase</code>. There is a specific configuration property which can be used to disable/enable the autorun functionality. The property name is <code>shouldRun</code>. So just set the value to false and the changelog will not be executed against the default schema.</p>\n<pre><code>@Bean\npublic SpringLiquibase liquibase(@Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\nDataSource dataSource, LiquibaseProperties liquibaseProperties) {\n  SpringLiquibase liquibase = new SpringLiquibase();\n  liquibase.setDataSource(dataSource);\n  liquibase.setChangeLog(&quot;config/liquibase/changelog/changelog-root.xml&quot;);\n  // here we tell the system not to run by default\n  liquibase.setShouldRun(false);\n  return liquibase;\n}\n</code></pre>\n</li>\n<li><p>You can totally disable default functionality for spring liquibase by excluding the <code>LiquibaseAutoConfiguration</code> and just creating the <code>MultiTenantSpringLiquibase</code> bean and delete the <code>SpringLiquibase</code> bean creation.</p>\n</li>\n</ol>\n<p>To disable spring liquibase auto-configuration exclude the <code>LiquibaseAutoConfiguration</code></p>\n<pre><code>@SpringBootApplication(exclude={LiquibaseAutoConfiguration.class}) \n</code></pre>\n<p>Delete the creation of <code>SpringLiquibase</code> bean.</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties({LiquibaseProperties.class})\npublic class LiquibaseConfiguration {\n\n  @Bean\n  public MultiTenantSpringLiquibase liquibaseMt(DataSource dataSource, LiquibaseProperties liquibaseProperties) {\n\n    MultiTenantSpringLiquibase liquibase = new MultiTenantSpringLiquibase();\n    liquibase.setDataSource(dataSource);\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/changelog-root.xml&quot;);\n    liquibase.setSchemas(Arrays.asList(&quot;001&quot;, &quot;002&quot;));\n    return liquibase;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73891003,"answer_count":1,"score":1,"last_activity_date":1664431989,"creation_date":1663797901,"question_id":73807392,"body_markdown":"I&#39;m using `org.postgresql:postgresql:42.1.4` with an instance of the official Postgres Docker image running via `docker-compose`.\r\n\r\nThe database has the `public` schema by default, and I manually create schemas; `001` and `002` each for a separate tenant.\r\n\r\nThe problem is that on application start-up, Liquibase executes the changelogs against `public`.\r\n\r\nHow I can get Liquibase to only execute the changelogs against the 2 configured schemas? i.e `001` and `002`\r\n\r\nMy Liquibase configuration to run migration changelogs on application start-up:\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties({LiquibaseProperties.class})\r\npublic class LiquibaseConfiguration {\r\n\r\n  private final Logger log = LoggerFactory.getLogger(LiquibaseConfiguration.class);\r\n\r\n  private final Environment env;\r\n\r\n  public LiquibaseConfiguration(Environment env) {\r\n    this.env = env;\r\n  }\r\n\r\n  @Bean\r\n  public SpringLiquibase liquibase(@Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\r\n      DataSource dataSource, LiquibaseProperties liquibaseProperties) {\r\n    SpringLiquibase liquibase = new SpringLiquibase();\r\n    liquibase.setDataSource(dataSource);\r\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/changelog-root.xml&quot;);\r\n    return liquibase;\r\n  }\r\n\r\n  @Bean\r\n  @DependsOn(&quot;liquibase&quot;) // ensure execution after SpringLiquibase Bean\r\n  public MultiTenantSpringLiquibase liquibaseMt(DataSource dataSource, LiquibaseProperties liquibaseProperties) {\r\n\r\n    MultiTenantSpringLiquibase liquibase = new MultiTenantSpringLiquibase();\r\n    liquibase.setDataSource(dataSource);\r\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/changelog-root.xml&quot;);\r\n    liquibase.setSchemas(Arrays.asList(&quot;001&quot;, &quot;002&quot;));\r\n    return liquibase;\r\n  }\r\n}\r\n```\r\n\r\nAnd a default `DataSource`:\r\n```\r\n@Configuration\r\npublic class DataSourceConfig {\r\n\r\n  @Bean\r\n  public DataSource getDataSource() {\r\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n    dataSourceBuilder.driverClassName(&quot;org.postgresql.Driver&quot;);\r\n    dataSourceBuilder.url(&quot;jdbc:postgresql://localhost:5432/postgres&quot;);\r\n    dataSourceBuilder.username(&quot;postgres&quot;);\r\n    dataSourceBuilder.password(&quot;&quot;);\r\n    return dataSourceBuilder.build();\r\n  }\r\n}\r\n```","title":"Prevent Liquibase migrating public schema in Postgres and only migrate configured schemas","body":"<p>I'm using <code>org.postgresql:postgresql:42.1.4</code> with an instance of the official Postgres Docker image running via <code>docker-compose</code>.</p>\n<p>The database has the <code>public</code> schema by default, and I manually create schemas; <code>001</code> and <code>002</code> each for a separate tenant.</p>\n<p>The problem is that on application start-up, Liquibase executes the changelogs against <code>public</code>.</p>\n<p>How I can get Liquibase to only execute the changelogs against the 2 configured schemas? i.e <code>001</code> and <code>002</code></p>\n<p>My Liquibase configuration to run migration changelogs on application start-up:</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties({LiquibaseProperties.class})\npublic class LiquibaseConfiguration {\n\n  private final Logger log = LoggerFactory.getLogger(LiquibaseConfiguration.class);\n\n  private final Environment env;\n\n  public LiquibaseConfiguration(Environment env) {\n    this.env = env;\n  }\n\n  @Bean\n  public SpringLiquibase liquibase(@Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\n      DataSource dataSource, LiquibaseProperties liquibaseProperties) {\n    SpringLiquibase liquibase = new SpringLiquibase();\n    liquibase.setDataSource(dataSource);\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/changelog-root.xml&quot;);\n    return liquibase;\n  }\n\n  @Bean\n  @DependsOn(&quot;liquibase&quot;) // ensure execution after SpringLiquibase Bean\n  public MultiTenantSpringLiquibase liquibaseMt(DataSource dataSource, LiquibaseProperties liquibaseProperties) {\n\n    MultiTenantSpringLiquibase liquibase = new MultiTenantSpringLiquibase();\n    liquibase.setDataSource(dataSource);\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/changelog-root.xml&quot;);\n    liquibase.setSchemas(Arrays.asList(&quot;001&quot;, &quot;002&quot;));\n    return liquibase;\n  }\n}\n</code></pre>\n<p>And a default <code>DataSource</code>:</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n\n  @Bean\n  public DataSource getDataSource() {\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n    dataSourceBuilder.driverClassName(&quot;org.postgresql.Driver&quot;);\n    dataSourceBuilder.url(&quot;jdbc:postgresql://localhost:5432/postgres&quot;);\n    dataSourceBuilder.username(&quot;postgres&quot;);\n    dataSourceBuilder.password(&quot;&quot;);\n    return dataSourceBuilder.build();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664434125,"post_id":73887094,"comment_id":130471546,"body_markdown":"let me guess you are registering it like this `interceptorRegistry.addInterceptor(new Interceptador());`. See the question marked as duplicate.","body":"let me guess you are registering it like this <code>interceptorRegistry.addInterceptor(new Interceptador());</code>. See the question marked as duplicate."}],"answers":[{"tags":[],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":" "},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1664430502,"creation_date":1664430502,"answer_id":73890796,"question_id":73887094,"body_markdown":"You need to registry your interseptor.\r\n\r\nThis is the same issue question with an answer: https://stackoverflow.com/questions/18218386/cannot-autowire-service-in-handlerinterceptoradapter\r\n\r\nAnd this is link to baeldung example:\r\nhttps://www.baeldung.com/spring-mvc-handlerinterceptor","title":"Cannot use a service on a Interceptor","body":"<p>You need to registry your interseptor.</p>\n<p>This is the same issue question with an answer: <a href=\"https://stackoverflow.com/questions/18218386/cannot-autowire-service-in-handlerinterceptoradapter\">Cannot Autowire Service in HandlerInterceptorAdapter</a></p>\n<p>And this is link to baeldung example:\n<a href=\"https://www.baeldung.com/spring-mvc-handlerinterceptor\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-handlerinterceptor</a></p>\n"}],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664434032,"accepted_answer_id":73890796,"answer_count":1,"score":0,"last_activity_date":1664430502,"creation_date":1664394752,"question_id":73887094,"body_markdown":"I have an interceptor on spring that intercepts requisitions of the user. I want to calculate the duration of the requisition and save to the database. However spring wont autowire my bean, causing a NullPointerException on service.save(log);\r\n\r\nHere&#39;s the code:\r\n\r\n\r\n\r\n    import java.time.Duration;\r\n    import java.time.ZonedDateTime;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.servlet.HandlerInterceptor;\r\n     \r\n    /**\r\n     *\r\n     * @author Shadows\r\n     */\r\n    @Component\r\n    public class Interceptador implements HandlerInterceptor {\r\n     \r\n        @Autowired\r\n        LogService service;\r\n     \r\n        public Interceptador() {\r\n        }\r\n     \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n     \r\n            //Create the log\r\n            Log log = new Log();\r\n     \r\n            //Catch the URI the user is trying to access\r\n            log.setPath(request.getRequestURI());\r\n     \r\n            //Set the log to request attr\r\n            request.setAttribute(&quot;log&quot;, log);\r\n     \r\n            //\r\n            return HandlerInterceptor.super.preHandle(request, response, handler);\r\n        }\r\n     \r\n        @Override\r\n        public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\r\n     \r\n            //Retrieve the log\r\n            Log log = (Log) request.getAttribute(&quot;log&quot;);\r\n     \r\n            //Calculate the time of the requisition\r\n            log.setDuracao(Duration.between(log.getDataCriacao(), ZonedDateTime.now()));\r\n     \r\n            //java.lang.NullPointerException:\r\n            service.save(log);\r\n            \r\n            System.out.println(log.getDuracao());\r\n     \r\n            HandlerInterceptor.super.afterCompletion(request, response, handler, ex);\r\n        }\r\n  \r\nHow can I avoid this NPE ?\r\n   ","title":"Cannot use a service on a Interceptor","body":"<p>I have an interceptor on spring that intercepts requisitions of the user. I want to calculate the duration of the requisition and save to the database. However spring wont autowire my bean, causing a NullPointerException on service.save(log);</p>\n<p>Here's the code:</p>\n<pre><code>import java.time.Duration;\nimport java.time.ZonedDateTime;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.servlet.HandlerInterceptor;\n \n/**\n *\n * @author Shadows\n */\n@Component\npublic class Interceptador implements HandlerInterceptor {\n \n    @Autowired\n    LogService service;\n \n    public Interceptador() {\n    }\n \n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n \n        //Create the log\n        Log log = new Log();\n \n        //Catch the URI the user is trying to access\n        log.setPath(request.getRequestURI());\n \n        //Set the log to request attr\n        request.setAttribute(&quot;log&quot;, log);\n \n        //\n        return HandlerInterceptor.super.preHandle(request, response, handler);\n    }\n \n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\n \n        //Retrieve the log\n        Log log = (Log) request.getAttribute(&quot;log&quot;);\n \n        //Calculate the time of the requisition\n        log.setDuracao(Duration.between(log.getDataCriacao(), ZonedDateTime.now()));\n \n        //java.lang.NullPointerException:\n        service.save(log);\n        \n        System.out.println(log.getDuracao());\n \n        HandlerInterceptor.super.afterCompletion(request, response, handler, ex);\n    }\n</code></pre>\n<p>How can I avoid this NPE ?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":11577675,"reputation":4383,"user_id":8482479,"display_name":"b0gusb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1561115337,"creation_date":1561114779,"answer_id":56702119,"question_id":56700386,"body_markdown":"It seems that Downcast Mapping is not supported yet in `mapstruct`. See [Support for Type-Refinement mapping (or Downcast Mapping)](https://github.com/mapstruct/mapstruct/issues/131)\r\n\r\nIn order to keep things generic, you could implement a custom mapper that checks the type of the passed in object:\r\n\r\n    @Mapper\r\n    public interface ToDTOMapper {\r\n    \tToDTOMapper MAPPER = Mappers.getMapper(ToDTOMapper.class);\r\n    \t\r\n    \tBaseSubDTO toDTOFromBaseClass(BaseClass baseClass);\r\n    \t\r\n    \tBaseSubDTO toDTOFromSubClass(SubClass baseClass);\r\n    \t\r\n    \tdefault BaseSubDTO map(BaseClass baseClass) {\r\n    \t\tif(baseClass instanceof SubClass) {\r\n    \t\t\treturn toDTOFromSubClass((SubClass)baseClass);\r\n    \t\t} \r\n    \t\treturn toDTOFromBaseClass(baseClass);\r\n    \t}\r\n    }\r\n\r\nusage:\r\n\r\n    SubClass subClass = ...\r\n\tBaseClass baseClass = ...\r\n\r\n    ToDTOMapper mapper = ToDTOMapper.MAPPER;\r\n    BaseSubDTO dto = mapper.map(subClass);\r\n    dto = mapper.map(baseClass);\r\n\r\nHope that helps.\r\n\r\n","title":"MapStruct does not copy subclass properties","body":"<p>It seems that Downcast Mapping is not supported yet in <code>mapstruct</code>. See <a href=\"https://github.com/mapstruct/mapstruct/issues/131\" rel=\"nofollow noreferrer\">Support for Type-Refinement mapping (or Downcast Mapping)</a></p>\n\n<p>In order to keep things generic, you could implement a custom mapper that checks the type of the passed in object:</p>\n\n<pre><code>@Mapper\npublic interface ToDTOMapper {\n    ToDTOMapper MAPPER = Mappers.getMapper(ToDTOMapper.class);\n\n    BaseSubDTO toDTOFromBaseClass(BaseClass baseClass);\n\n    BaseSubDTO toDTOFromSubClass(SubClass baseClass);\n\n    default BaseSubDTO map(BaseClass baseClass) {\n        if(baseClass instanceof SubClass) {\n            return toDTOFromSubClass((SubClass)baseClass);\n        } \n        return toDTOFromBaseClass(baseClass);\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>SubClass subClass = ...\nBaseClass baseClass = ...\n\nToDTOMapper mapper = ToDTOMapper.MAPPER;\nBaseSubDTO dto = mapper.map(subClass);\ndto = mapper.map(baseClass);\n</code></pre>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664430297,"creation_date":1634699267,"answer_id":69639868,"question_id":56700386,"body_markdown":"The issue here is that the actual types of the mapper method are used to determine the mapping; subtypes are not taken into consideration.  Namely, only the properties on the exact input type (`BaseClass`) are mapped to `BaseSubDTO`, not any fields that might be on a subtype (e.g. `SubClass`).\r\n\r\nThis makes extra sense when you realize that mapping is done at compilation time based on the types of the class, not at runtime based on reflection.  In particular, note that there is no way to know at compile time what possible subtypes exist or will exist for a given superclass, so it&#39;s impossible for MapStruct to provide this functionality at compile time.\r\n\r\nThat being said MapStruct 1.5.0 and later provides a `@SubclassMapping` annotation which allows specifying known subclasses to be handled by the mapping method.  If a known subtype is passed in, a more specific mapping method will be delegated to.\r\n\r\nThis can be applied to your particular example as follows:\r\n\r\n```lang-java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface DTOMapper {\r\n    @SubclassMapping(source = SubClass.class, target = BaseSubDTO.class)\r\n    @Mapping(target = &quot;subProperty1&quot;, ignore = true)\r\n    @Mapping(target = &quot;subProperty2&quot;, ignore = true)\r\n    BaseSubDTO toDTO(final BaseClass entity);\r\n\r\n    BaseSubDTO toSubclassDTO(final SubClass entity);\r\n}\r\n```","title":"MapStruct does not copy subclass properties","body":"<p>The issue here is that the actual types of the mapper method are used to determine the mapping; subtypes are not taken into consideration.  Namely, only the properties on the exact input type (<code>BaseClass</code>) are mapped to <code>BaseSubDTO</code>, not any fields that might be on a subtype (e.g. <code>SubClass</code>).</p>\n<p>This makes extra sense when you realize that mapping is done at compilation time based on the types of the class, not at runtime based on reflection.  In particular, note that there is no way to know at compile time what possible subtypes exist or will exist for a given superclass, so it's impossible for MapStruct to provide this functionality at compile time.</p>\n<p>That being said MapStruct 1.5.0 and later provides a <code>@SubclassMapping</code> annotation which allows specifying known subclasses to be handled by the mapping method.  If a known subtype is passed in, a more specific mapping method will be delegated to.</p>\n<p>This can be applied to your particular example as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface DTOMapper {\n    @SubclassMapping(source = SubClass.class, target = BaseSubDTO.class)\n    @Mapping(target = &quot;subProperty1&quot;, ignore = true)\n    @Mapping(target = &quot;subProperty2&quot;, ignore = true)\n    BaseSubDTO toDTO(final BaseClass entity);\n\n    BaseSubDTO toSubclassDTO(final SubClass entity);\n}\n</code></pre>\n"}],"owner":{"account_id":2859169,"reputation":460,"user_id":4387455,"accept_rate":45,"display_name":"Saravana Kumar M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3752,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56702119,"answer_count":2,"score":5,"last_activity_date":1664430297,"creation_date":1561108552,"question_id":56700386,"body_markdown":"I have the below structure. The properties from my subclass are not getting copied to my DTO.\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    class BaseClass\r\n    {\r\n     private Integer baseProperty1;\r\n     private Integer baseProperty2;\r\n     //getters &amp; setters\r\n    }\r\n    \r\n    \r\n    class SubClass extends BaseClass\r\n    {\r\n     private Integer subProperty1;\r\n     private Integer subProperty2;\r\n     //getters &amp; setters\r\n    }\r\n    \r\n    class BaseSubDTO\r\n    {\r\n     private Integer baseProperty1;\r\n     private Integer baseProperty2;\r\n     private Integer subProperty1;\r\n     private Integer subProperty2;\r\n     //getters &amp; setters\r\n    }\r\n    \r\n    class BaseClassService\r\n    {\r\n     public BaseClass find()\r\n     {\r\n      return baseClassRepository.findById(101);\r\n     }\r\n    }\r\n    \r\n    class BaseClassController\r\n    {\r\n     public BaseSubDTO find()\r\n     {\r\n      return mapper.toDTO(baseClassService.find());\r\n     }\r\n    }\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface DTOMapper\r\n    {\r\n    \tBaseSubDTO toDTO(final BaseClass entity);\r\n    }\r\n\r\nThe line: \r\n\r\n    return mapper.toDTO(baseClassService.find());\r\n\r\nin the controller does not map the subclass properties `subProperty1`, `subProperty2` to my `BaseSubDTO`.\r\n\r\nHow can the subclass properties be mapped into the DTO?\r\n","title":"MapStruct does not copy subclass properties","body":"<p>I have the below structure. The properties from my subclass are not getting copied to my DTO.</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\nclass BaseClass\n{\n private Integer baseProperty1;\n private Integer baseProperty2;\n //getters &amp; setters\n}\n\n\nclass SubClass extends BaseClass\n{\n private Integer subProperty1;\n private Integer subProperty2;\n //getters &amp; setters\n}\n\nclass BaseSubDTO\n{\n private Integer baseProperty1;\n private Integer baseProperty2;\n private Integer subProperty1;\n private Integer subProperty2;\n //getters &amp; setters\n}\n\nclass BaseClassService\n{\n public BaseClass find()\n {\n  return baseClassRepository.findById(101);\n }\n}\n\nclass BaseClassController\n{\n public BaseSubDTO find()\n {\n  return mapper.toDTO(baseClassService.find());\n }\n}\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface DTOMapper\n{\n    BaseSubDTO toDTO(final BaseClass entity);\n}\n</code></pre>\n<p>The line:</p>\n<pre><code>return mapper.toDTO(baseClassService.find());\n</code></pre>\n<p>in the controller does not map the subclass properties <code>subProperty1</code>, <code>subProperty2</code> to my <code>BaseSubDTO</code>.</p>\n<p>How can the subclass properties be mapped into the DTO?</p>\n"},{"tags":["java","maven","jenkins"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664429583,"creation_date":1664429583,"answer_id":73890696,"question_id":73890520,"body_markdown":"To get all environment variables use\r\n```\r\nMap&lt;String, String&gt; env = System.getenv();\r\n```","title":"How to get the list of the environment variable from the jenkins in the test case","body":"<p>To get all environment variables use</p>\n<pre><code>Map&lt;String, String&gt; env = System.getenv();\n</code></pre>\n"}],"owner":{"account_id":19656070,"reputation":185,"user_id":14388691,"display_name":"Aayush Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664429583,"creation_date":1664428106,"question_id":73890520,"body_markdown":"I am creating a test case for a plugin, I want to fetch all the environment variables that are present on the current Jenkins server. Can anyone tell me how to fetch all the environment variables from the Jenkins server?\r\n\r\n \r\n\r\n       public class VariableExistsConditionTest {\r\n    \r\n        @Rule public JenkinsRule j = new JenkinsRule(); \r\n    \r\n    \r\n         @Test\r\n          public void someTest() throws IOException, InterruptedException {\r\n             EnvironmentVariablesNodeProperty prop = new EnvironmentVariablesNodeProperty();\r\n             EnvVars env = prop.getEnvVars();\r\n             env.put(&quot;DEPLOY_TARGET&quot;, &quot;staging&quot;);\r\n             j.jenkins.getGlobalNodeProperties().add(prop);\r\n            //Code to fetch the environment variables\r\n    \r\n    \r\n    }","title":"How to get the list of the environment variable from the jenkins in the test case","body":"<p>I am creating a test case for a plugin, I want to fetch all the environment variables that are present on the current Jenkins server. Can anyone tell me how to fetch all the environment variables from the Jenkins server?</p>\n<pre><code>   public class VariableExistsConditionTest {\n\n    @Rule public JenkinsRule j = new JenkinsRule(); \n\n\n     @Test\n      public void someTest() throws IOException, InterruptedException {\n         EnvironmentVariablesNodeProperty prop = new EnvironmentVariablesNodeProperty();\n         EnvVars env = prop.getEnvVars();\n         env.put(&quot;DEPLOY_TARGET&quot;, &quot;staging&quot;);\n         j.jenkins.getGlobalNodeProperties().add(prop);\n        //Code to fetch the environment variables\n\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4691900,"reputation":393,"user_id":3797829,"accept_rate":40,"display_name":"user3797829"},"score":0,"creation_date":1664431054,"post_id":73890684,"comment_id":130470686,"body_markdown":"@Slaw, I did it like this, ```        (info, cn) -&gt; {return info.user.equals(user);}\n``` but it complains that the return statement is missing.","body":"@Slaw, I did it like this, ```        (info, cn) -&gt; {return info.user.equals(user);} ``` but it complains that the return statement is missing."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1664431645,"post_id":73890684,"comment_id":130470832,"body_markdown":"You need to show a complete. runnable example.","body":"You need to show a complete. runnable example."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664432545,"post_id":73890684,"comment_id":130471040,"body_markdown":"I think you&#39;re having trouble separating the lambda expression from the instance. The `(info, cn) -&gt; info.user.equals(user)` bit is essentially a class definition for a class that implements the `MyClass` interface. You then return an _instance_ of this class. If you understand anonymous classes, then lambda expressions are really just shorter syntax for implementing anonymous classes of functional interfaces (under the hood the two things are implemented differently, but that doesn&#39;t matter to you).","body":"I think you&#39;re having trouble separating the lambda expression from the instance. The <code>(info, cn) -&gt; info.user.equals(user)</code> bit is essentially a class definition for a class that implements the <code>MyClass</code> interface. You then return an <i>instance</i> of this class. If you understand anonymous classes, then lambda expressions are really just shorter syntax for implementing anonymous classes of functional interfaces (under the hood the two things are implemented differently, but that doesn&#39;t matter to you)."}],"owner":{"account_id":4691900,"reputation":393,"user_id":3797829,"accept_rate":40,"display_name":"user3797829"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664429436,"creation_date":1664429436,"question_id":73890684,"body_markdown":"I am still learning lambdas in java. I have a lambda function like this. \r\n\r\n    static MyClass myFunc(ClassB user) {\r\n        return (info, cn) -&gt; info.user.equals(user);\r\n    }\r\n\r\nNow this is being called/used like this: \r\n\r\n    protected final MyClass myClassObject = MyClass.myFunc(userObject);\r\n\r\nWhere `MyClass` is an interface\r\n\r\nI have two doubts here: \r\n\r\n1. Since the lambda function requires `info` as well, where am I passing `info` object to it? I am definitely using it but not passing it anywhere. So, how is it using `info` \r\n2. I want to print the value of info object inside lambda function using `System.println`. How can I do that? \r\n\r\n\r\n","title":"Explanation and printing value inside lambda function","body":"<p>I am still learning lambdas in java. I have a lambda function like this.</p>\n<pre><code>static MyClass myFunc(ClassB user) {\n    return (info, cn) -&gt; info.user.equals(user);\n}\n</code></pre>\n<p>Now this is being called/used like this:</p>\n<pre><code>protected final MyClass myClassObject = MyClass.myFunc(userObject);\n</code></pre>\n<p>Where <code>MyClass</code> is an interface</p>\n<p>I have two doubts here:</p>\n<ol>\n<li>Since the lambda function requires <code>info</code> as well, where am I passing <code>info</code> object to it? I am definitely using it but not passing it anywhere. So, how is it using <code>info</code></li>\n<li>I want to print the value of info object inside lambda function using <code>System.println</code>. How can I do that?</li>\n</ol>\n"},{"tags":["java","gradle","netbeans","google-drive-api"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1664435584,"post_id":73890447,"comment_id":130472027,"body_markdown":"hmm I might be mistaken here, but it could be the path.\n\nCan you try DriveProyect.class.getResourceAsStream(&quot;tokensFileOnlyWithoutPath&quot;), as I believe that it will look under your resources in NetBeans/YourProject","body":"hmm I might be mistaken here, but it could be the path.  Can you try DriveProyect.class.getResourceAsStream(&quot;tokensFileOnlyWithou&zwnj;&#8203;tPath&quot;), as I believe that it will look under your resources in NetBeans/YourProject"},{"owner":{"account_id":25116918,"reputation":1,"user_id":18965830,"display_name":"syrup"},"score":0,"creation_date":1664512103,"post_id":73890447,"comment_id":130493307,"body_markdown":"Hi JCompetence, I tried what you told me but nothing happens, Netbeans throws another error &quot;Exception in thread &quot;main&quot; java.io.FileNotFoundException: Resource not found: /credentials.json&quot;","body":"Hi JCompetence, I tried what you told me but nothing happens, Netbeans throws another error &quot;Exception in thread &quot;main&quot; java.io.FileNotFoundException: Resource not found: /credentials.json&quot;"}],"owner":{"account_id":25116918,"reputation":1,"user_id":18965830,"display_name":"syrup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664429026,"creation_date":1664427490,"question_id":73890447,"body_markdown":"I followed this video tutorial https://www.youtube.com/watch?v=KaOfbJN7WRQ , and everything works correctly, I can execute the upload of the file to google drive using &quot;gradle run&quot; from the cmd. But when I try to run the project using Netbeans I get the following error: \r\n\r\n```\r\nJAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-17.0.3&quot;\r\ncd C:\\Users\\User\\Documents\\NetBeansProjects\\DriveProyect; .\\gradlew.bat --configure-on-demand -x check run\r\nConfiguration on demand is an incubating feature.\r\n&gt; Task :compileJava UP-TO-DATE\r\n\r\n&gt; Task :processResources UP-TO-DATE\r\n\r\n&gt; Task :classes UP-TO-DATE\r\n\r\n&gt; Task :run FAILED\r\nException in thread &quot;main&quot; java.nio.file.AccessDeniedException: C:\\Users\\User\\Documents\\NetBeansProjects\\DriveProyect\\tokens\r\n\r\n\tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:96)\r\n\tat java.base/sun.nio.fs.WindowsAclFileAttributeView.getFileSecurity(WindowsAclFileAttributeView.java:89)\r\n\tat java.base/sun.nio.fs.WindowsAclFileAttributeView.getOwner(WindowsAclFileAttributeView.java:122)\r\n\tat java.base/sun.nio.fs.FileOwnerAttributeViewImpl.getOwner(FileOwnerAttributeViewImpl.java:91)\r\n\tat com.google.api.client.util.store.FileDataStoreFactory.setPermissionsToOwnerOnlyWindows(FileDataStoreFactory.java:157)\r\n\tat com.google.api.client.util.store.FileDataStoreFactory.&lt;init&gt;(FileDataStoreFactory.java:77)\r\n\tat DriveProyect.getCredentials(DriveProyect.java:65)\r\n\tat DriveProyect.main(DriveProyect.java:78)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:run&#39;.\r\n&gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-17.0.3\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 894ms\r\n\r\nThis is the code structure that contains lines 65 (`throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);`) and 78(`return credential;`) :\r\n\r\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\r\n      throws IOException {\r\n    // Load client secrets.\r\n    InputStream in = DriveProyect.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n    if (in == null) {\r\n      throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n    }\r\n    GoogleClientSecrets clientSecrets =\r\n        GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n    // Build flow and trigger user authorization request.\r\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder( HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n        .setAccessType(&quot;offline&quot;)\r\n        .build();\r\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n    Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    //returns an authorized Credential object.\r\n    return credential;\r\n  }\r\n```\r\n\r\n\r\nI don&#39;t understand what could be the error, I searched and it seems that the Gradle plugin is well installed in my Netbeans 13. [my project image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0AhnA.png","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to run gradle project with Netbeans","body":"<p>I followed this video tutorial <a href=\"https://www.youtube.com/watch?v=KaOfbJN7WRQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=KaOfbJN7WRQ</a> , and everything works correctly, I can execute the upload of the file to google drive using &quot;gradle run&quot; from the cmd. But when I try to run the project using Netbeans I get the following error:</p>\n<pre><code>JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-17.0.3&quot;\ncd C:\\Users\\User\\Documents\\NetBeansProjects\\DriveProyect; .\\gradlew.bat --configure-on-demand -x check run\nConfiguration on demand is an incubating feature.\n&gt; Task :compileJava UP-TO-DATE\n\n&gt; Task :processResources UP-TO-DATE\n\n&gt; Task :classes UP-TO-DATE\n\n&gt; Task :run FAILED\nException in thread &quot;main&quot; java.nio.file.AccessDeniedException: C:\\Users\\User\\Documents\\NetBeansProjects\\DriveProyect\\tokens\n\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:96)\n    at java.base/sun.nio.fs.WindowsAclFileAttributeView.getFileSecurity(WindowsAclFileAttributeView.java:89)\n    at java.base/sun.nio.fs.WindowsAclFileAttributeView.getOwner(WindowsAclFileAttributeView.java:122)\n    at java.base/sun.nio.fs.FileOwnerAttributeViewImpl.getOwner(FileOwnerAttributeViewImpl.java:91)\n    at com.google.api.client.util.store.FileDataStoreFactory.setPermissionsToOwnerOnlyWindows(FileDataStoreFactory.java:157)\n    at com.google.api.client.util.store.FileDataStoreFactory.&lt;init&gt;(FileDataStoreFactory.java:77)\n    at DriveProyect.getCredentials(DriveProyect.java:65)\n    at DriveProyect.main(DriveProyect.java:78)\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk-17.0.3\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 894ms\n\nThis is the code structure that contains lines 65 (`throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);`) and 78(`return credential;`) :\n\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\n      throws IOException {\n    // Load client secrets.\n    InputStream in = DriveProyect.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n    if (in == null) {\n      throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n    }\n    GoogleClientSecrets clientSecrets =\n        GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n    // Build flow and trigger user authorization request.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder( HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n        .setAccessType(&quot;offline&quot;)\n        .build();\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n    Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    //returns an authorized Credential object.\n    return credential;\n  }\n</code></pre>\n<p>I don't understand what could be the error, I searched and it seems that the Gradle plugin is well installed in my Netbeans 13. <a href=\"https://i.stack.imgur.com/0AhnA.png\" rel=\"nofollow noreferrer\">my project image</a></p>\n"},{"tags":["java","android","bitmap","android-bitmap","bytebuffer"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1576062658,"post_id":59284342,"comment_id":104774595,"body_markdown":"We can&#39;t tell whether the problem is the data that you&#39;ve got in your `ByteBuffer` (which we don&#39;t know anything about) or the `setPixels` call. I suggest you separate those two entirely. For example, try writing code with no input, but which creates an image with three wide solid bars: one red, one green, one blue. When you&#39;ve got that working, you&#39;ll know what to put into `pixels`... you can then look at what&#39;s in your `ByteBuffer` as an entirely separate thing.","body":"We can&#39;t tell whether the problem is the data that you&#39;ve got in your <code>ByteBuffer</code> (which we don&#39;t know anything about) or the <code>setPixels</code> call. I suggest you separate those two entirely. For example, try writing code with no input, but which creates an image with three wide solid bars: one red, one green, one blue. When you&#39;ve got that working, you&#39;ll know what to put into <code>pixels</code>... you can then look at what&#39;s in your <code>ByteBuffer</code> as an entirely separate thing."},{"owner":{"account_id":6508670,"reputation":221,"user_id":5036747,"display_name":"Syed Nauyan Rashid"},"score":0,"creation_date":1576071216,"post_id":59284342,"comment_id":104779102,"body_markdown":"I have a tensorflow lite model that gives an image as output in the form of ByteBuffer and I am looking to convert this ByteBuffer by the function given above but the output I get is corrupted. So, please look at the function and tell me about the issue.","body":"I have a tensorflow lite model that gives an image as output in the form of ByteBuffer and I am looking to convert this ByteBuffer by the function given above but the output I get is corrupted. So, please look at the function and tell me about the issue."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1576071523,"post_id":59284342,"comment_id":104779283,"body_markdown":"I&#39;ve already suggested how to proceed. We have no idea what format the data in the ByteBuffer is - you&#39;re assuming it&#39;s 3-pixels-per-byte (RGB) but you haven&#39;t given us any evidence to support that assumption. Have you tried any of what I suggested in the previous comment?","body":"I&#39;ve already suggested how to proceed. We have no idea what format the data in the ByteBuffer is - you&#39;re assuming it&#39;s 3-pixels-per-byte (RGB) but you haven&#39;t given us any evidence to support that assumption. Have you tried any of what I suggested in the previous comment?"}],"answers":[{"tags":[],"owner":{"account_id":20976662,"reputation":31,"user_id":15412474,"display_name":"HNL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664428336,"creation_date":1664427994,"answer_id":73890502,"question_id":59284342,"body_markdown":"output.get() is read 1byte from buffer.\r\nmaybe you have to change output.get() to output.getFloat()\r\n\r\nthen well work.\r\n\r\nthis is my code.\r\n\r\n\r\n     ByteBuffer modelOutput = ByteBuffer.allocateDirect(200 * 200 * 3 * 4).order(ByteOrder.nativeOrder());\r\n\r\n     Interpreter tflite = getTfliteInterpreter(&quot;ESRGAN.tflite&quot;);\r\n     tflite.run(input, modelOutput);\r\n\r\n     modelOutput.rewind();\r\n\r\n     int outputWidth = 200;\r\n     int outputHeight = 200;\r\n\r\n     Bitmap bitmap2 = Bitmap.createBitmap(outputWidth, outputHeight, Bitmap.Config.ARGB_8888);\r\n\r\n     int [] pixels = new int[outputWidth * outputHeight];\r\n     for (int i = 0; i &lt; outputWidth * outputHeight; i++) {\r\n          int a = 0xFF;\r\n\r\n          float r = (modelOutput.getFloat());\r\n          float g = (modelOutput.getFloat());\r\n          float b = (modelOutput.getFloat());\r\n\r\n          pixels[i] = a &lt;&lt; 24 | ((int) r &lt;&lt; 16) | ((int) g &lt;&lt; 8) | (int) b;\r\n     }\r\n\r\n     bitmap2.setPixels(pixels, 0, outputWidth, 0, 0, outputWidth, outputHeight);","title":"Conversion ByteBuffer to Image give noisy output","body":"<p>output.get() is read 1byte from buffer.\nmaybe you have to change output.get() to output.getFloat()</p>\n<p>then well work.</p>\n<p>this is my code.</p>\n<pre><code> ByteBuffer modelOutput = ByteBuffer.allocateDirect(200 * 200 * 3 * 4).order(ByteOrder.nativeOrder());\n\n Interpreter tflite = getTfliteInterpreter(&quot;ESRGAN.tflite&quot;);\n tflite.run(input, modelOutput);\n\n modelOutput.rewind();\n\n int outputWidth = 200;\n int outputHeight = 200;\n\n Bitmap bitmap2 = Bitmap.createBitmap(outputWidth, outputHeight, Bitmap.Config.ARGB_8888);\n\n int [] pixels = new int[outputWidth * outputHeight];\n for (int i = 0; i &lt; outputWidth * outputHeight; i++) {\n      int a = 0xFF;\n\n      float r = (modelOutput.getFloat());\n      float g = (modelOutput.getFloat());\n      float b = (modelOutput.getFloat());\n\n      pixels[i] = a &lt;&lt; 24 | ((int) r &lt;&lt; 16) | ((int) g &lt;&lt; 8) | (int) b;\n }\n\n bitmap2.setPixels(pixels, 0, outputWidth, 0, 0, outputWidth, outputHeight);\n</code></pre>\n"}],"owner":{"account_id":6508670,"reputation":221,"user_id":5036747,"display_name":"Syed Nauyan Rashid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664428336,"creation_date":1576062114,"question_id":59284342,"body_markdown":"I am trying to convert ByteBuffer to Bitmap Image but the output I get is noisy i.e not what I had expected. My code is as follows:\r\n\r\n    private Bitmap getOutputImage(ByteBuffer output){\r\n            output.rewind();\r\n    \r\n            int outputWidth = 384;\r\n            int outputHeight = 384;\r\n            Bitmap bitmap = Bitmap.createBitmap(outputWidth, outputHeight, Bitmap.Config.RGB_565);\r\n            int [] pixels = new int[outputWidth * outputHeight];\r\n            for (int i = 0; i &lt; outputWidth * outputHeight; i++) {\r\n                //val a = 0xFF;\r\n                //float a = (float) 0xFF;\r\n    \r\n                //val r: Float = output?.float!! * 255.0f;\r\n                //byte val = output.get();\r\n                float r = ((float) output.get()) * 255.0f;\r\n    \r\n                //val g: Float = output?.float!! * 255.0f;\r\n                float g = ((float) output.get()) * 255.0f;\r\n    \r\n                //val b: Float = output?.float!! * 255.0f;\r\n                float b = ((float) output.get()) * 255.0f;\r\n    \r\n    \r\n                //pixels[i] = a shl 24 or (r.toInt() shl 16) or (g.toInt() shl 8) or b.toInt()\r\n                pixels[i] = (((int) r) &lt;&lt; 16) | (((int) g) &lt;&lt; 8) | ((int) b);\r\n            }\r\n            bitmap.setPixels(pixels, 0, outputWidth, 0, 0, outputWidth, outputHeight);\r\n    \r\n            return bitmap;\r\n        }\r\n\r\nThe out image I am getting is \r\n\r\n[![enter image description here][1]][1]\r\n\r\nPlease advise me what is wrong here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ATZtH.png","title":"Conversion ByteBuffer to Image give noisy output","body":"<p>I am trying to convert ByteBuffer to Bitmap Image but the output I get is noisy i.e not what I had expected. My code is as follows:</p>\n\n<pre><code>private Bitmap getOutputImage(ByteBuffer output){\n        output.rewind();\n\n        int outputWidth = 384;\n        int outputHeight = 384;\n        Bitmap bitmap = Bitmap.createBitmap(outputWidth, outputHeight, Bitmap.Config.RGB_565);\n        int [] pixels = new int[outputWidth * outputHeight];\n        for (int i = 0; i &lt; outputWidth * outputHeight; i++) {\n            //val a = 0xFF;\n            //float a = (float) 0xFF;\n\n            //val r: Float = output?.float!! * 255.0f;\n            //byte val = output.get();\n            float r = ((float) output.get()) * 255.0f;\n\n            //val g: Float = output?.float!! * 255.0f;\n            float g = ((float) output.get()) * 255.0f;\n\n            //val b: Float = output?.float!! * 255.0f;\n            float b = ((float) output.get()) * 255.0f;\n\n\n            //pixels[i] = a shl 24 or (r.toInt() shl 16) or (g.toInt() shl 8) or b.toInt()\n            pixels[i] = (((int) r) &lt;&lt; 16) | (((int) g) &lt;&lt; 8) | ((int) b);\n        }\n        bitmap.setPixels(pixels, 0, outputWidth, 0, 0, outputWidth, outputHeight);\n\n        return bitmap;\n    }\n</code></pre>\n\n<p>The out image I am getting is </p>\n\n<p><a href=\"https://i.stack.imgur.com/ATZtH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ATZtH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please advise me what is wrong here?</p>\n"},{"tags":["java","maven","runtime-error"],"comments":[{"owner":{"account_id":5160313,"reputation":614,"user_id":4132230,"display_name":"Sandeep Kumar"},"score":0,"creation_date":1664429808,"post_id":73885925,"comment_id":130470445,"body_markdown":"There could be various reasons for this. Add &#39;-X&#39; at mvn command to show the complete log why it is failing. Additionally, the exec plugin is used to invoke additional executable, Java classes can also be executed by exec but it must be available at classpath. You can refer exec documentation to run Java classes: https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html","body":"There could be various reasons for this. Add &#39;-X&#39; at mvn command to show the complete log why it is failing. Additionally, the exec plugin is used to invoke additional executable, Java classes can also be executed by exec but it must be available at classpath. You can refer exec documentation to run Java classes: <a href=\"https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html\" rel=\"nofollow noreferrer\">mojohaus.org/exec-maven-plugin/examples/&hellip;</a>"},{"owner":{"account_id":5160313,"reputation":614,"user_id":4132230,"display_name":"Sandeep Kumar"},"score":0,"creation_date":1664430074,"post_id":73885925,"comment_id":130470500,"body_markdown":"You can try running from command like like: mvn exec:java -Dexec.mainClass=&quot;com.mycompany.sortingproject.SortingProject&quot;","body":"You can try running from command like like: mvn exec:java -Dexec.mainClass=&quot;com.mycompany.sortingproject.SortingProjec&zwnj;&#8203;t&quot;"}],"owner":{"account_id":13304278,"reputation":124,"user_id":9604703,"display_name":"Golden_Eagle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664428279,"creation_date":1664387790,"question_id":73885925,"body_markdown":"I&#39;m new to Apache and Java in general (I&#39;m used to C# with Visual Studio but my school&#39;s making me use Java with Apache). I&#39;m trying to run a project, but every time I do, I get the following error: \r\n\r\n`Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project SortingProject: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]`\r\n\r\nNo solutions on here have worked so far but here&#39;s my pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.mycompany.sortingproject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SortingProject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n            &lt;exec.mainClass&gt;com.mycompany.sortingproject.SortingProject&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;","title":"Apache Maven: &quot;Failed to execute goal&quot; error","body":"<p>I'm new to Apache and Java in general (I'm used to C# with Visual Studio but my school's making me use Java with Apache). I'm trying to run a project, but every time I do, I get the following error:</p>\n<p><code>Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project SortingProject: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]</code></p>\n<p>No solutions on here have worked so far but here's my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany.sortingproject&lt;/groupId&gt;\n    &lt;artifactId&gt;SortingProject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;com.mycompany.sortingproject.SortingProject&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1664427381,"post_id":37161525,"comment_id":130470061,"body_markdown":"I strongly recommend you dont use `Calendar` and `Date`. Those classes are poorly designed and long outdated. Instead use classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you dont use <code>Calendar</code> and <code>Date</code>. Those classes are poorly designed and long outdated. Instead use classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1463028096,"creation_date":1462967181,"answer_id":37161690,"question_id":37161525,"body_markdown":"You can do something like this:\r\n\r\n    if(TimeUnit.MILLISECONDS.toDays((long)Math.abs(today.getTimeInMillis() - currentDate.getTimeInMillis())) &gt;= 365){\r\n        // Is one or more years after or before.\r\n    }\r\n\r\nIf you want to account for leap years, you can do this:\r\n\r\n    final GregorianCalendar gc = new GregorianCalendar();\r\n    public boolean moreTheOneYearDifference(Calendar c1, Calendar c2){\r\n        int days = 365;\r\n        if (c1.before(c2) &amp;&amp; gc.isLeapYear(c1.get(Calendar.YEAR))) {\r\n            days += 1;\r\n        } else if (gc.isLeapYear(c2.get(Calendar.YEAR))) {\r\n            days += 1;\r\n        }\r\n        return TimeUnit.MICROSECONDS.toDays((long)Math.abs(c1.getTimeInMillis() - c2.getTimeInMillis())) &gt;= days\r\n    }","title":"Checking if difference between two dates in greater than a year - Java","body":"<p>You can do something like this:</p>\n\n<pre><code>if(TimeUnit.MILLISECONDS.toDays((long)Math.abs(today.getTimeInMillis() - currentDate.getTimeInMillis())) &gt;= 365){\n    // Is one or more years after or before.\n}\n</code></pre>\n\n<p>If you want to account for leap years, you can do this:</p>\n\n<pre><code>final GregorianCalendar gc = new GregorianCalendar();\npublic boolean moreTheOneYearDifference(Calendar c1, Calendar c2){\n    int days = 365;\n    if (c1.before(c2) &amp;&amp; gc.isLeapYear(c1.get(Calendar.YEAR))) {\n        days += 1;\n    } else if (gc.isLeapYear(c2.get(Calendar.YEAR))) {\n        days += 1;\n    }\n    return TimeUnit.MICROSECONDS.toDays((long)Math.abs(c1.getTimeInMillis() - c2.getTimeInMillis())) &gt;= days\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5043336,"reputation":13459,"user_id":4407266,"accept_rate":95,"display_name":"Aditya Vyas-Lakhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462967351,"creation_date":1462967351,"answer_id":37161765,"question_id":37161525,"body_markdown":"I suggest you to use [Joda Times](http://joda-time.sourceforge.net/) and you can find [Years Between](http://joda-time.sourceforge.net/api-release/org/joda/time/Years.html#yearsBetween%28org.joda.time.ReadableInstant,%20org.joda.time.ReadableInstant%29) \r\n\r\n    public static Years yearsBetween(ReadableInstant start,\r\n                                     ReadableInstant end)","title":"Checking if difference between two dates in greater than a year - Java","body":"<p>I suggest you to use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow\">Joda Times</a> and you can find <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/Years.html#yearsBetween%28org.joda.time.ReadableInstant,%20org.joda.time.ReadableInstant%29\" rel=\"nofollow\">Years Between</a> </p>\n\n<pre><code>public static Years yearsBetween(ReadableInstant start,\n                                 ReadableInstant end)\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462969222,"creation_date":1462967880,"answer_id":37161982,"question_id":37161525,"body_markdown":"Your solution is only checking if the year part of the dates has a greater difference then 1, which of course will produce incorrect results for values like 2015-1-1 and 2016-12-31.\r\n\r\nI would recomment adding a year to the lower of the two dates (after cloning it ofc.) and then checking if it is still before the later date, in which case the difference is more than a year.\r\n\r\n    public static boolean isMoreThanAYearDifference(Calendar c1, Calendar c2) {\r\n\t\tfinal Calendar earlierDate;\r\n\t\tfinal Calendar laterDate;\r\n\t\tif(c1.before(c2)) {\r\n\t\t\tearlierDate = (Calendar) c1.clone();\r\n\t\t\tlaterDate = c2;\r\n\t\t} else {\r\n\t\t\tearlierDate = (Calendar) c2.clone();\r\n\t\t\tlaterDate = c1;\r\n\t\t}\r\n\t\t\r\n\t\tearlierDate.add(Calendar.YEAR, 1);\r\n\t\treturn earlierDate.before(laterDate);\r\n\t}","title":"Checking if difference between two dates in greater than a year - Java","body":"<p>Your solution is only checking if the year part of the dates has a greater difference then 1, which of course will produce incorrect results for values like 2015-1-1 and 2016-12-31.</p>\n\n<p>I would recomment adding a year to the lower of the two dates (after cloning it ofc.) and then checking if it is still before the later date, in which case the difference is more than a year.</p>\n\n<pre><code>public static boolean isMoreThanAYearDifference(Calendar c1, Calendar c2) {\n    final Calendar earlierDate;\n    final Calendar laterDate;\n    if(c1.before(c2)) {\n        earlierDate = (Calendar) c1.clone();\n        laterDate = c2;\n    } else {\n        earlierDate = (Calendar) c2.clone();\n        laterDate = c1;\n    }\n\n    earlierDate.add(Calendar.YEAR, 1);\n    return earlierDate.before(laterDate);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462968382,"creation_date":1462967897,"answer_id":37161991,"question_id":37161525,"body_markdown":"Given `today` is a Calendar of the actual date and `dateInQuestion` is a Calendar of the date to be checked:\r\n\r\n    Calendar oneYearPlus  = (today.clone()).add(Calendar.YEAR,1);\r\n    Calendar oneYearAgo   = (today.clone()).add(Calendar.YEAR,-1);\r\n    return oneYearPlus.after(dateInQuestion) || oneYearAgo.before(dateInQuestion);","title":"Checking if difference between two dates in greater than a year - Java","body":"<p>Given <code>today</code> is a Calendar of the actual date and <code>dateInQuestion</code> is a Calendar of the date to be checked:</p>\n\n<pre><code>Calendar oneYearPlus  = (today.clone()).add(Calendar.YEAR,1);\nCalendar oneYearAgo   = (today.clone()).add(Calendar.YEAR,-1);\nreturn oneYearPlus.after(dateInQuestion) || oneYearAgo.before(dateInQuestion);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4604579,"reputation":1434,"user_id":3735079,"display_name":"Narmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462970153,"creation_date":1462969529,"answer_id":37162651,"question_id":37161525,"body_markdown":"Just adding another way to do it:\r\n\r\n    public boolean checkIfInRange(Date date){\r\n\r\n        Calendar cal= Calendar.getInstance();\r\n        \r\n        cal.add(Calendar.YEAR, -1);\r\n        Date yearBeforeToday = cal.getTime();\r\n        cal.add(Calendar.YEAR, 2);\r\n        Date yearAfterToday = cal.getTime();\r\n\r\n        return date.after(yearBeforeToday) &amp;&amp; date.before(yearAfterToday);\r\n    }\r\n\r\n[Try it online!][1]\r\n\r\n\r\n  [1]: http://ideone.com/SzjQEa","title":"Checking if difference between two dates in greater than a year - Java","body":"<p>Just adding another way to do it:</p>\n\n<pre><code>public boolean checkIfInRange(Date date){\n\n    Calendar cal= Calendar.getInstance();\n\n    cal.add(Calendar.YEAR, -1);\n    Date yearBeforeToday = cal.getTime();\n    cal.add(Calendar.YEAR, 2);\n    Date yearAfterToday = cal.getTime();\n\n    return date.after(yearBeforeToday) &amp;&amp; date.before(yearAfterToday);\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/SzjQEa\" rel=\"nofollow\">Try it online!</a></p>\n"},{"tags":[],"owner":{"account_id":4819348,"reputation":440,"user_id":3890439,"accept_rate":83,"display_name":"OPMendeavor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516881123,"creation_date":1516881123,"answer_id":48442205,"question_id":37161525,"body_markdown":"I have the same need and found the official [jdk][1] answer. It gives the indication to use **Period** for such kind of check on dates:\r\n\r\n**I found the functionality so useful!**\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \r\n    int numYear = 1;\r\n    //checking if the period is more than the specified number of years (last parameter)\r\n    if(checkForPeriodLimit(sdf.parse(&quot;12/04/1977&quot;), sdf.parse(&quot;11/04/1978&quot;), numYear)){\r\n         System.out.println(&quot;less than&quot;+numYear+&quot; year ago&quot;);\r\n    } else {\r\n        System.out.println(&quot;more than&quot;+numYear+&quot; year ago&quot;);\r\n    }\r\n    \r\n    //period checking function\r\n    public boolean checkForPeriodLimit(Date dateFrom, Date dateTo, int periodInYear){\r\n        \r\n        Period p = Period.between(dateFrom.toInstant().atZone(ZoneId.systemDefault()).toLocalDate(),\r\n                dateTo.toInstant().atZone(ZoneId.systemDefault()).toLocalDate());\r\n\r\n        return ((p.getYears() &lt; periodInYear)?true:false);\r\n    }\r\n\r\n\r\nPrint the result:\r\n\r\n    **less than 1 years ago**\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/iso/period.html","title":"Checking if difference between two dates in greater than a year - Java","body":"<p>I have the same need and found the official <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"nofollow noreferrer\">jdk</a> answer. It gives the indication to use <strong>Period</strong> for such kind of check on dates:</p>\n\n<p><strong>I found the functionality so useful!</strong></p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\n\nint numYear = 1;\n//checking if the period is more than the specified number of years (last parameter)\nif(checkForPeriodLimit(sdf.parse(\"12/04/1977\"), sdf.parse(\"11/04/1978\"), numYear)){\n     System.out.println(\"less than\"+numYear+\" year ago\");\n} else {\n    System.out.println(\"more than\"+numYear+\" year ago\");\n}\n\n//period checking function\npublic boolean checkForPeriodLimit(Date dateFrom, Date dateTo, int periodInYear){\n\n    Period p = Period.between(dateFrom.toInstant().atZone(ZoneId.systemDefault()).toLocalDate(),\n            dateTo.toInstant().atZone(ZoneId.systemDefault()).toLocalDate());\n\n    return ((p.getYears() &lt; periodInYear)?true:false);\n}\n</code></pre>\n\n<p>Print the result:</p>\n\n<pre><code>**less than 1 years ago**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517088293,"creation_date":1516903307,"answer_id":48449221,"question_id":37161525,"body_markdown":"# tl;dr \r\n\r\n&gt;see if that date is further/less than 1 year away from today\r\n\r\nUse `LocalDate.isAfter` for comparison.\r\n\r\n    LocalDate.of( 2020 , Month.JANUARY , 23 ).isAfter(\r\n        LocalDate.now().plusYears( 1 )  // Better to pass an explicit time zone than rely on the JVMs current default: LocalDate.now( ZoneId.of( Pacific/Auckland ) )\r\n    )\r\n\r\n\r\n# Details\r\n\r\n\r\nThe modern approach uses the *java.time* classes. For earlier Android see the back-port project, *ThreeTenABP*.\r\n\r\nDetermine todays date requires a time zone. For any given moment the date varies around the globe by zone. For example, today in Paris France early morning is still yesterday in Montr&#233;al Qu&#233;bec. \r\n\r\n    ZoneId z = ZoneId.of( Africa/Tunis ) ;\r\n\r\nThe `LocalDate` class represents a date-only value without time of day and without time zone. \r\n\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nCalculate a year into future.\r\n\r\n    LocalDate yearFromToday = today.plusYears( 1 ) ;\r\n\r\nInstantiate your date.\r\n\r\n    LocalDate x = LocalDate.of( 2020 , Month.JANUARY , 23 ) ;\r\n\r\nCompare.\r\n\r\n    Boolean isOverYearInFuture = x.isAfter( yearFromToday ) ;\r\n\r\n \r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n","title":"Checking if difference between two dates in greater than a year - Java","body":"<h1>tl;dr</h1>\n\n<blockquote>\n  <p>see if that date is further/less than 1 year away from today</p>\n</blockquote>\n\n<p>Use <code>LocalDate.isAfter</code> for comparison.</p>\n\n<pre><code>LocalDate.of( 2020 , Month.JANUARY , 23 ).isAfter(\n    LocalDate.now().plusYears( 1 )  // Better to pass an explicit time zone than rely on the JVMs current default: LocalDate.now( ZoneId.of( Pacific/Auckland ) )\n)\n</code></pre>\n\n<h1>Details</h1>\n\n<p>The modern approach uses the <em>java.time</em> classes. For earlier Android see the back-port project, <em>ThreeTenABP</em>.</p>\n\n<p>Determine todays date requires a time zone. For any given moment the date varies around the globe by zone. For example, today in Paris France early morning is still yesterday in Montral Qubec. </p>\n\n<pre><code>ZoneId z = ZoneId.of( Africa/Tunis ) ;\n</code></pre>\n\n<p>The <code>LocalDate</code> class represents a date-only value without time of day and without time zone. </p>\n\n<pre><code>LocalDate today = LocalDate.now( z ) ;\n</code></pre>\n\n<p>Calculate a year into future.</p>\n\n<pre><code>LocalDate yearFromToday = today.plusYears( 1 ) ;\n</code></pre>\n\n<p>Instantiate your date.</p>\n\n<pre><code>LocalDate x = LocalDate.of( 2020 , Month.JANUARY , 23 ) ;\n</code></pre>\n\n<p>Compare.</p>\n\n<pre><code>Boolean isOverYearInFuture = x.isAfter( yearFromToday ) ;\n</code></pre>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3795131,"reputation":465,"user_id":3150464,"display_name":"klabe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664428201,"creation_date":1664417364,"answer_id":73889564,"question_id":37161525,"body_markdown":"```startDate.plusYears(1).isBefore(endDate);```\r\n\r\nI find the code pretty self explanatory. Rather than measuring the difference between the two dates, adding a year to the first date and comparing is simpler. The code works if `startDate` and `endDate` have type `LocalDate` or `ZonedDateTime` or `OffsetDateTime` or `LocalDateTime`. ","title":"Checking if difference between two dates in greater than a year - Java","body":"<p><code>startDate.plusYears(1).isBefore(endDate);</code></p>\n<p>I find the code pretty self explanatory. Rather than measuring the difference between the two dates, adding a year to the first date and comparing is simpler. The code works if <code>startDate</code> and <code>endDate</code> have type <code>LocalDate</code> or <code>ZonedDateTime</code> or <code>OffsetDateTime</code> or <code>LocalDateTime</code>.</p>\n"}],"owner":{"account_id":2147747,"reputation":1484,"user_id":1904999,"accept_rate":41,"display_name":"spogebob92"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":8,"score":0,"last_activity_date":1664428201,"creation_date":1462966774,"question_id":37161525,"body_markdown":"I have a date, and I want to see if that date is further/less than 1 year away from today. For example, the the date is 13th May 2017, it would return true, if it was 13th May 2018, it would return false.\r\n\r\nThe bug at the moment in my code is that it would return true for December 2014 (which should return false).\r\n\r\nAny ideas?\r\n\r\n    private boolean checkIfDateIsInRange() {\r\n            Calendar today = DateTimeHelper.dateToCalendar(new Date());\r\n            if (currentDate.get(Calendar.YEAR) &gt; today.get(Calendar.YEAR) + 1 || currentDate.get(Calendar.YEAR) &lt; today.get(Calendar.YEAR) - 1){\r\n                return false;\r\n            }\r\n            return true;\r\n        } \r\n\r\nThe dateToCalendar method is as follows:\r\n\r\n    public static Calendar dateToCalendar(Date date){\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);\r\n        return cal;\r\n    }","title":"Checking if difference between two dates in greater than a year - Java","body":"<p>I have a date, and I want to see if that date is further/less than 1 year away from today. For example, the the date is 13th May 2017, it would return true, if it was 13th May 2018, it would return false.</p>\n\n<p>The bug at the moment in my code is that it would return true for December 2014 (which should return false).</p>\n\n<p>Any ideas?</p>\n\n<pre><code>private boolean checkIfDateIsInRange() {\n        Calendar today = DateTimeHelper.dateToCalendar(new Date());\n        if (currentDate.get(Calendar.YEAR) &gt; today.get(Calendar.YEAR) + 1 || currentDate.get(Calendar.YEAR) &lt; today.get(Calendar.YEAR) - 1){\n            return false;\n        }\n        return true;\n    } \n</code></pre>\n\n<p>The dateToCalendar method is as follows:</p>\n\n<pre><code>public static Calendar dateToCalendar(Date date){\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(date);\n    return cal;\n}\n</code></pre>\n"},{"tags":["java","mongodb","kubernetes","locking","amazon-eks"],"answers":[{"tags":[],"owner":{"account_id":14394013,"reputation":99,"user_id":11605634,"display_name":"Igor Eul&#225;lio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664427762,"creation_date":1664427762,"answer_id":73890480,"question_id":73880616,"body_markdown":"You can use a shutdown hook from spring:\r\n```\r\n@Component\r\npublic class Bean1 {\r\n\r\n    @PreDestroy\r\n    public void destroy() {\r\n        ## handle database change\r\n        System.out.println(Status changed to ready);\r\n    }\r\n}\r\n```\r\n\r\nBeyond that, that kind of job could run better in a messaging architecture, using SQS for example. Instead of using the status on the database to handle and orchestrate the task, you can use an SQS, publish the message that needs to be consumed (the messages that were in ready state) and have a poll of workers consuming messages from this SQS, if something crashes or the pod of this workers needs to be reclaimed, the message goes back to SQS and can be consumed by another pod.","title":"Locking Mechanism if pod crashes while processing mongodb record","body":"<p>You can use a shutdown hook from spring:</p>\n<pre><code>@Component\npublic class Bean1 {\n\n    @PreDestroy\n    public void destroy() {\n        ## handle database change\n        System.out.println(Status changed to ready);\n    }\n}\n</code></pre>\n<p>Beyond that, that kind of job could run better in a messaging architecture, using SQS for example. Instead of using the status on the database to handle and orchestrate the task, you can use an SQS, publish the message that needs to be consumed (the messages that were in ready state) and have a poll of workers consuming messages from this SQS, if something crashes or the pod of this workers needs to be reclaimed, the message goes back to SQS and can be consumed by another pod.</p>\n"}],"owner":{"account_id":26469190,"reputation":1,"user_id":20110027,"display_name":"JavaDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664427762,"creation_date":1664364404,"question_id":73880616,"body_markdown":"We have a java/spring application which runs on EKS pods and we have records stored in MongoDB collection.\r\n\r\n```STATUS: READY,STARTED,COMPLETED```\r\n\r\nApplication needs to pick the records which are in ```READY``` status and update the status to ```STARTED```. Once the processing of the record is completed, the status will be updated to ```COMPLETED```\r\n\r\nOnce the record is ```STARTED```, it may take few hours to complete, until then other pods(other instance of the same app) should not pick this record. If some exception occurs, the app changes the status to ```READY``` so that other pods(or the same pod) can pick the ```READY``` record for processing.\r\n\r\n**Requirement**: If the pod crashes when the record is processing(```STARTED```) but crashes before changing the status to ```READY/COMPLETED```, the other pod should be able to pick this record and start processing again. \r\n\r\nWe have some solution in mind but trying to find the best solution. Request you to help me with some best approaches.\r\n\r\n","title":"Locking Mechanism if pod crashes while processing mongodb record","body":"<p>We have a java/spring application which runs on EKS pods and we have records stored in MongoDB collection.</p>\n<p><code>STATUS: READY,STARTED,COMPLETED</code></p>\n<p>Application needs to pick the records which are in <code>READY</code> status and update the status to <code>STARTED</code>. Once the processing of the record is completed, the status will be updated to <code>COMPLETED</code></p>\n<p>Once the record is <code>STARTED</code>, it may take few hours to complete, until then other pods(other instance of the same app) should not pick this record. If some exception occurs, the app changes the status to <code>READY</code> so that other pods(or the same pod) can pick the <code>READY</code> record for processing.</p>\n<p><strong>Requirement</strong>: If the pod crashes when the record is processing(<code>STARTED</code>) but crashes before changing the status to <code>READY/COMPLETED</code>, the other pod should be able to pick this record and start processing again.</p>\n<p>We have some solution in mind but trying to find the best solution. Request you to help me with some best approaches.</p>\n"},{"tags":["java","docker","hyperledger-fabric","hyperledger-chaincode"],"answers":[{"tags":[],"owner":{"account_id":6143565,"reputation":654,"user_id":4790157,"accept_rate":20,"display_name":"iOS-Developer84"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664427121,"creation_date":1664425527,"answer_id":73890273,"question_id":66661758,"body_markdown":"I also faced a similar issue yesterday.\r\n\r\nI have deployed the chaincode to an AWS instance. The previous version of chaincode was running. I have 2 peers to the AWS instance.\r\n\r\nYesterday when I was trying to install a new chaincode to the peers it shows the following error.\r\n\r\n        2022-09-27 12:14:50.389 UTC [endorser] SimulateProposal -&gt; ERRO 22f failed to invoke chaincode chaincode_test, error: docker build failed: Error returned from build: 1 &quot;failed to initialize build cache at /home/chaincode/.cache/go-build: mkdir /home/chaincode/.cache: permission denied\r\n    &quot;\r\n    docker image build failed\r\n    github.com/hyperledger/fabric/core/container/dockercontroller.(*DockerVM).Build\r\n    /go/src/github.com/hyperledger/fabric/core/container/dockercontroller/dockercontroller.go:200\r\n    github.com/hyperledger/fabric/core/container.(*Router).Build\r\n    /go/src/github.com/hyperledger/fabric/core/container/container.go:125\r\n    github.com/hyperledger/fabric/core/chaincode.(*ContainerRuntime).Build\r\n    /go/src/github.com/hyperledger/fabric/core/chaincode/container_runtime.go:39\r\n    github.com/hyperledger/fabric/core/chaincode.(*RuntimeLauncher).Launch.func1\r\n    /go/src/github.com/hyperledger/fabric/core/chaincode/runtime_launcher.go:82\r\n    runtime.goexit\r\n    /usr/local/go/src/runtime/asm_amd64.s:1373\r\n    docker build failed\r\n    error building image\r\n    error building chaincode\r\n    could not launch chaincode chaincode_test:v2.12\r\n    github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Launch\r\n    /go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:85\r\n    github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Invoke\r\n    /go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:197\r\n    github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute\r\n    /go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:155\r\n    github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/support.go:126\r\n    github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:119\r\n    github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:187\r\n    github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposalSuccessfullyOrError\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:397\r\n    github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:340\r\n    github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal\r\n    /go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61\r\n    github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal\r\n    /go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32\r\n    github.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler.func1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:107\r\n    github.com/hyperledger/fabric/internal/peer/node.unaryGrpcLimiter.func1\r\n    /go/src/github.com/hyperledger/fabric/internal/peer/node/grpc_limiters.go:51\r\n    github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\r\n    github.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1\r\n    /go/src/github.com/hyperledger/fabric/common/grpclogging/server.go:92\r\n    github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\r\n    github.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1\r\n    /go/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:31\r\n    github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\r\n    github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34\r\n    github.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:109\r\n    google.golang.org/grpc.(*Server).processUnaryRPC\r\n    /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1082\r\n    google.golang.org/grpc.(*Server).handleStream\r\n    /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1405\r\n    google.golang.org/grpc.(*Server).serveStreams.func1.1\r\n    /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:746\r\n    runtime.goexit\r\n    /usr/local/go/src/runtime/asm_amd64.s:1373\r\n    failed to execute transaction 6e7331ea3982d0f5d4629b697b09c8c326123f009b90ac5d7baed5240cb067ae\r\n    github.com/hyperledger/fabric/core/chaincode.processChaincodeExecutionResult\r\n    /go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:161\r\n    github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute\r\n    /go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:156\r\n    github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/support.go:126\r\n    github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:119\r\n    github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:187\r\n    github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposalSuccessfullyOrError\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:397\r\n    github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal\r\n    /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:340\r\n    github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal\r\n    /go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61\r\n    github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal\r\n    /go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32\r\n    github.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler.func1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:107\r\n    github.com/hyperledger/fabric/internal/peer/node.unaryGrpcLimiter.func1\r\n    /go/src/github.com/hyperledger/fabric/internal/peer/node/grpc_limiters.go:51\r\n    github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\r\n    github.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1\r\n    /go/src/github.com/hyperledger/fabric/common/grpclogging/server.go:92\r\n    github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\r\n    github.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1\r\n    /go/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:31\r\n    github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\r\n    github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34\r\n    github.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler\r\n    /go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:109\r\n    google.golang.org/grpc.(*Server).processUnaryRPC\r\n    /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1082\r\n    google.golang.org/grpc.(*Server).handleStream\r\n    /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1405\r\n    google.golang.org/grpc.(*Server).serveStreams.func1.1\r\n    /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:746\r\n    runtime.goexit\r\n    /usr/local/go/src/runtime/asm_amd64.s:1373 channel=test-channel txID=6e7331ea\r\n\r\n\r\nTo solve the issue temporarily we have taken the backup of the peers, couchdb and move the peers to a new AWS instance with proper changes. Now the chaincodes are running in the new AWS instance.\r\n\r\nNote: **dpkg --print-architecture** of both AWS instances shows **amd64** as cpu architecture.","title":"Failed to install chaincode with status: 500","body":"<p>I also faced a similar issue yesterday.</p>\n<p>I have deployed the chaincode to an AWS instance. The previous version of chaincode was running. I have 2 peers to the AWS instance.</p>\n<p>Yesterday when I was trying to install a new chaincode to the peers it shows the following error.</p>\n<pre><code>    2022-09-27 12:14:50.389 UTC [endorser] SimulateProposal -&gt; ERRO 22f failed to invoke chaincode chaincode_test, error: docker build failed: Error returned from build: 1 &quot;failed to initialize build cache at /home/chaincode/.cache/go-build: mkdir /home/chaincode/.cache: permission denied\n&quot;\ndocker image build failed\ngithub.com/hyperledger/fabric/core/container/dockercontroller.(*DockerVM).Build\n/go/src/github.com/hyperledger/fabric/core/container/dockercontroller/dockercontroller.go:200\ngithub.com/hyperledger/fabric/core/container.(*Router).Build\n/go/src/github.com/hyperledger/fabric/core/container/container.go:125\ngithub.com/hyperledger/fabric/core/chaincode.(*ContainerRuntime).Build\n/go/src/github.com/hyperledger/fabric/core/chaincode/container_runtime.go:39\ngithub.com/hyperledger/fabric/core/chaincode.(*RuntimeLauncher).Launch.func1\n/go/src/github.com/hyperledger/fabric/core/chaincode/runtime_launcher.go:82\nruntime.goexit\n/usr/local/go/src/runtime/asm_amd64.s:1373\ndocker build failed\nerror building image\nerror building chaincode\ncould not launch chaincode chaincode_test:v2.12\ngithub.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Launch\n/go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:85\ngithub.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Invoke\n/go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:197\ngithub.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute\n/go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:155\ngithub.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute\n/go/src/github.com/hyperledger/fabric/core/endorser/support.go:126\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode\n/go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:119\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal\n/go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:187\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposalSuccessfullyOrError\n/go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:397\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal\n/go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:340\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal\n/go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal\n/go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32\ngithub.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler.func1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:107\ngithub.com/hyperledger/fabric/internal/peer/node.unaryGrpcLimiter.func1\n/go/src/github.com/hyperledger/fabric/internal/peer/node/grpc_limiters.go:51\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\ngithub.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1\n/go/src/github.com/hyperledger/fabric/common/grpclogging/server.go:92\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\ngithub.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1\n/go/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:31\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34\ngithub.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler\n/go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:109\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1082\ngoogle.golang.org/grpc.(*Server).handleStream\n/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1405\ngoogle.golang.org/grpc.(*Server).serveStreams.func1.1\n/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:746\nruntime.goexit\n/usr/local/go/src/runtime/asm_amd64.s:1373\nfailed to execute transaction 6e7331ea3982d0f5d4629b697b09c8c326123f009b90ac5d7baed5240cb067ae\ngithub.com/hyperledger/fabric/core/chaincode.processChaincodeExecutionResult\n/go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:161\ngithub.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute\n/go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:156\ngithub.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute\n/go/src/github.com/hyperledger/fabric/core/endorser/support.go:126\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode\n/go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:119\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal\n/go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:187\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposalSuccessfullyOrError\n/go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:397\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal\n/go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:340\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal\n/go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal\n/go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32\ngithub.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler.func1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:107\ngithub.com/hyperledger/fabric/internal/peer/node.unaryGrpcLimiter.func1\n/go/src/github.com/hyperledger/fabric/internal/peer/node/grpc_limiters.go:51\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\ngithub.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1\n/go/src/github.com/hyperledger/fabric/common/grpclogging/server.go:92\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\ngithub.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1\n/go/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:31\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:25\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1\n/go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34\ngithub.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler\n/go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:109\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1082\ngoogle.golang.org/grpc.(*Server).handleStream\n/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1405\ngoogle.golang.org/grpc.(*Server).serveStreams.func1.1\n/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:746\nruntime.goexit\n/usr/local/go/src/runtime/asm_amd64.s:1373 channel=test-channel txID=6e7331ea\n</code></pre>\n<p>To solve the issue temporarily we have taken the backup of the peers, couchdb and move the peers to a new AWS instance with proper changes. Now the chaincodes are running in the new AWS instance.</p>\n<p>Note: <strong>dpkg --print-architecture</strong> of both AWS instances shows <strong>amd64</strong> as cpu architecture.</p>\n"}],"owner":{"account_id":20973371,"reputation":21,"user_id":15410018,"display_name":"Manoj Chaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664427121,"creation_date":1615921280,"question_id":66661758,"body_markdown":"I am running **hyperledger fabric 2.2.0 test-network**.It was working fine for 2 3 days,but now when i am trying to install chaincode(any),getting failed after packaging.Below is the error i am getting-\r\n\r\n**Error: chaincode install failed with status: 500 - failed to invoke backing implementation of &#39;InstallChaincode&#39;: could not build chaincode: docker build failed: docker image build failed: docker build failed: Error returned from build: 1 &quot;failed to initialize build cache at /home/chaincode/.cache/go-build: mkdir /home/chaincode/.cache: permission denied**\r\n\r\nI have not made any changes, was working fine untill yesterday.\r\nif it need to make directory &quot;/home/chaincode/.cache&quot; then how it was working for last 3 days,since it does not have the needed permission.\r\n\r\nI made a diretory &#39;chaincode&#39; inside home with proper access manually and changed its permission to 777 but still same error.\r\n\r\nAppreciate all the help. \r\nThank you","title":"Failed to install chaincode with status: 500","body":"<p>I am running <strong>hyperledger fabric 2.2.0 test-network</strong>.It was working fine for 2 3 days,but now when i am trying to install chaincode(any),getting failed after packaging.Below is the error i am getting-</p>\n<p><strong>Error: chaincode install failed with status: 500 - failed to invoke backing implementation of 'InstallChaincode': could not build chaincode: docker build failed: docker image build failed: docker build failed: Error returned from build: 1 &quot;failed to initialize build cache at /home/chaincode/.cache/go-build: mkdir /home/chaincode/.cache: permission denied</strong></p>\n<p>I have not made any changes, was working fine untill yesterday.\nif it need to make directory &quot;/home/chaincode/.cache&quot; then how it was working for last 3 days,since it does not have the needed permission.</p>\n<p>I made a diretory 'chaincode' inside home with proper access manually and changed its permission to 777 but still same error.</p>\n<p>Appreciate all the help.\nThank you</p>\n"},{"tags":["java","amazon-s3","hadoop","filesystems","hdfs"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1664341401,"post_id":73869755,"comment_id":130446341,"body_markdown":"Have you tried URI encoding the colon?","body":"Have you tried URI encoding the colon?"},{"owner":{"account_id":17305808,"reputation":29,"user_id":12534548,"display_name":"PseudoAccount"},"score":0,"creation_date":1664341858,"post_id":73869755,"comment_id":130446420,"body_markdown":"I am not sure how to encode it @OneCricketeer","body":"I am not sure how to encode it @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1664342011,"post_id":73869755,"comment_id":130446442,"body_markdown":"Java has a class called URLEncoder which may help","body":"Java has a class called URLEncoder which may help"},{"owner":{"account_id":17305808,"reputation":29,"user_id":12534548,"display_name":"PseudoAccount"},"score":0,"creation_date":1664343373,"post_id":73869755,"comment_id":130446695,"body_markdown":"I tried URL encoding but now I am not able to fetch any of the files or directory from the bucket. `val fileStatuses = fs.globStatus(new Path(URLEncoder.encode(&quot;bucket_name&quot;,&quot;UTF-8&quot;)))`. Plus is there way to encode URI and not URL using hadoop configuration since encoding has to be applied to individual directories as well and not just for bucket_name @OneCricketeer","body":"I tried URL encoding but now I am not able to fetch any of the files or directory from the bucket. <code>val fileStatuses = fs.globStatus(new Path(URLEncoder.encode(&quot;bucket_name&quot;,&quot;UTF-8&quot;)))</code>. Plus is there way to encode URI and not URL using hadoop configuration since encoding has to be applied to individual directories as well and not just for bucket_name @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1664343584,"post_id":73869755,"comment_id":130446728,"body_markdown":"It should work similarly... Or you do a simple string replace. Ref https://stackoverflow.com/questions/34093098/load-a-amazon-s3-file-which-has-colons-within-the-filename-through-pyspark","body":"It should work similarly... Or you do a simple string replace. Ref <a href=\"https://stackoverflow.com/questions/34093098/load-a-amazon-s3-file-which-has-colons-within-the-filename-through-pyspark\" title=\"load a amazon s3 file which has colons within the filename through pyspark\">stackoverflow.com/questions/34093098/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1664343647,"post_id":73869755,"comment_id":130446744,"body_markdown":"S3 doesn&#39;t have &quot;directories&quot;, only prefixes. You&#39;ll need to escape the colon and any other special characters that aren&#39;t valid file characters","body":"S3 doesn&#39;t have &quot;directories&quot;, only prefixes. You&#39;ll need to escape the colon and any other special characters that aren&#39;t valid file characters"}],"owner":{"account_id":17305808,"reputation":29,"user_id":12534548,"display_name":"PseudoAccount"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664426880,"creation_date":1664290806,"question_id":73869755,"body_markdown":"I am using globStatus to get all the files and directories from a s3 bucket using &quot;*&quot; wildcard\r\nand one of the directory present in the bucket has special character in it (directory name is \r\n**env:**) \r\n\r\n    import org.apache.hadoop.fs.{FileStatus, FileSystem, Path}\r\n\r\n\r\n    val uri = validatePath(&quot;Bucket_path&quot;)\r\n    val fs = getFs(uri)\r\n    val fileStatuses = fs.globStatus(new Path(uri))\r\n\r\nglobStatus is failing because of this directory with below error.\r\n\r\n    Caused by: java.lang.IllegalArgumentException: java.net.URISyntaxException: Expected scheme-specific part at index 4: env:\r\n\tat org.apache.hadoop.fs.Path.initialize(Path.java:263)\r\n\tat org.apache.hadoop.fs.Path.&lt;init&gt;(Path.java:221)\r\n\tat org.apache.hadoop.fs.Path.&lt;init&gt;(Path.java:129)\r\n\tat org.apache.hadoop.fs.Globber.doGlob(Globber.java:338)\r\n\tat org.apache.hadoop.fs.Globber.glob(Globber.java:202)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.globStatus(S3AFileSystem.java:4253)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.globStatus(S3AFileSystem.java:4233)\r\n\t... 40 more\r\n    Caused by: java.net.URISyntaxException: Expected scheme-specific part at index 4: env:\r\n\tat java.net.URI$Parser.fail(URI.java:2847)\r\n\tat java.net.URI$Parser.failExpecting(URI.java:2853)\r\n\tat java.net.URI$Parser.parse(URI.java:3056)\r\n\tat java.net.URI.&lt;init&gt;(URI.java:746)\r\n\tat org.apache.hadoop.fs.Path.initialize(Path.java:260)\r\n\t... 50 more\r\nIs there an alternate way to use wildcard and get all the files and directories from a bucket. \r\n\r\n**edit**\r\nthis issue is open on Hadoop Common jira board\r\nhttps://issues.apache.org/jira/browse/HADOOP-14235\r\n","title":"URISyntaxException while using GlobStatus for s3 bucket","body":"<p>I am using globStatus to get all the files and directories from a s3 bucket using &quot;*&quot; wildcard\nand one of the directory present in the bucket has special character in it (directory name is\n<strong>env:</strong>)</p>\n<pre><code>import org.apache.hadoop.fs.{FileStatus, FileSystem, Path}\n\n\nval uri = validatePath(&quot;Bucket_path&quot;)\nval fs = getFs(uri)\nval fileStatuses = fs.globStatus(new Path(uri))\n</code></pre>\n<p>globStatus is failing because of this directory with below error.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: java.net.URISyntaxException: Expected scheme-specific part at index 4: env:\nat org.apache.hadoop.fs.Path.initialize(Path.java:263)\nat org.apache.hadoop.fs.Path.&lt;init&gt;(Path.java:221)\nat org.apache.hadoop.fs.Path.&lt;init&gt;(Path.java:129)\nat org.apache.hadoop.fs.Globber.doGlob(Globber.java:338)\nat org.apache.hadoop.fs.Globber.glob(Globber.java:202)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.globStatus(S3AFileSystem.java:4253)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.globStatus(S3AFileSystem.java:4233)\n... 40 more\nCaused by: java.net.URISyntaxException: Expected scheme-specific part at index 4: env:\nat java.net.URI$Parser.fail(URI.java:2847)\nat java.net.URI$Parser.failExpecting(URI.java:2853)\nat java.net.URI$Parser.parse(URI.java:3056)\nat java.net.URI.&lt;init&gt;(URI.java:746)\nat org.apache.hadoop.fs.Path.initialize(Path.java:260)\n... 50 more\n</code></pre>\n<p>Is there an alternate way to use wildcard and get all the files and directories from a bucket.</p>\n<p><strong>edit</strong>\nthis issue is open on Hadoop Common jira board\n<a href=\"https://issues.apache.org/jira/browse/HADOOP-14235\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HADOOP-14235</a></p>\n"},{"tags":["java","arrays","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":1,"creation_date":1664425227,"post_id":73890225,"comment_id":130469717,"body_markdown":"Most people will use `int size = -1;` using what programmers refer to as a [magic number](https://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad).  Then later, if you need, you can check (guard) for the `-1` value in code to ensure your program works.","body":"Most people will use <code>int size = -1;</code> using what programmers refer to as a <a href=\"https://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad\">magic number</a>.  Then later, if you need, you can check (guard) for the <code>-1</code> value in code to ensure your program works."},{"owner":{"account_id":8870716,"reputation":3084,"user_id":6624509,"display_name":"Thum Choon Tat"},"score":0,"creation_date":1664425515,"post_id":73890225,"comment_id":130469747,"body_markdown":"You might also want to declare `size` outside the loop","body":"You might also want to declare <code>size</code> outside the loop"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1664425527,"post_id":73890225,"comment_id":130469748,"body_markdown":"Please don&#39;t make multiple scanners for `System.in`.  If you want to read from `System.in`, then create your `Scanner` right at the beginning of your program, and just use the same `Scanner` over and over.","body":"Please don&#39;t make multiple scanners for <code>System.in</code>.  If you want to read from <code>System.in</code>, then create your <code>Scanner</code> right at the beginning of your program, and just use the same <code>Scanner</code> over and over."},{"owner":{"account_id":23555804,"reputation":21,"user_id":17597844,"display_name":"TheTargetAudience"},"score":0,"creation_date":1664426635,"post_id":73890225,"comment_id":130469929,"body_markdown":"@tresf the issue with that is that I need size to be a positive integer, since it dicatates the size of the array used. Size has to be greater than or equal to 1, but if I initiailize it in the beginning, then it wont change after a value is inputed via the scanner.","body":"@tresf the issue with that is that I need size to be a positive integer, since it dicatates the size of the array used. Size has to be greater than or equal to 1, but if I initiailize it in the beginning, then it wont change after a value is inputed via the scanner."},{"owner":{"account_id":23555804,"reputation":21,"user_id":17597844,"display_name":"TheTargetAudience"},"score":0,"creation_date":1664426698,"post_id":73890225,"comment_id":130469939,"body_markdown":"@ThumChoonTat I have tried that and I still run into the same error. The issue is with trying to initialize it in the first if-statement. I need the size to be set as the input being taken in.","body":"@ThumChoonTat I have tried that and I still run into the same error. The issue is with trying to initialize it in the first if-statement. I need the size to be set as the input being taken in."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664427162,"post_id":73890225,"comment_id":130470029,"body_markdown":"You declared `size` inside your `while` loop. Next time through the loop you get a new `size` variable, and the old value is lost. Declare `size` *before* the `while` loop instead.","body":"You declared <code>size</code> inside your <code>while</code> loop. Next time through the loop you get a new <code>size</code> variable, and the old value is lost. Declare <code>size</code> <i>before</i> the <code>while</code> loop instead."},{"owner":{"account_id":23555804,"reputation":21,"user_id":17597844,"display_name":"TheTargetAudience"},"score":0,"creation_date":1664429142,"post_id":73890225,"comment_id":130470329,"body_markdown":"@OleV.V. Awesome. That worked! Thank you so much! I have another question. Would my grades[] array also go on the outside? I&#39;ve tried putting it inside and outside the while loop but I can&#39;t get it to properly store data. If I have it outside the while loop,I get an out of bounds error after the first entry. If i keep it inside the while loop, It takes in all the data for the size of the arrat but sets it to 0. Think you could help me on that?","body":"@OleV.V. Awesome. That worked! Thank you so much! I have another question. Would my grades[] array also go on the outside? I&#39;ve tried putting it inside and outside the while loop but I can&#39;t get it to properly store data. If I have it outside the while loop,I get an out of bounds error after the first entry. If i keep it inside the while loop, It takes in all the data for the size of the arrat but sets it to 0. Think you could help me on that?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664429503,"post_id":73890225,"comment_id":130470387,"body_markdown":"It needs to go outside so you can calculate the average after the user has previously entered the grades. However you can instantiate it (`grades = new int[size]`) only after the user has entered a size, so somewhere inside the loop.","body":"It needs to go outside so you can calculate the average after the user has previously entered the grades. However you can instantiate it (<code>grades = new int[size]</code>) only after the user has entered a size, so somewhere inside the loop."},{"owner":{"account_id":23555804,"reputation":21,"user_id":17597844,"display_name":"TheTargetAudience"},"score":0,"creation_date":1664430515,"post_id":73890225,"comment_id":130470578,"body_markdown":"@OleV.V. I was able to get it fixed. You were a big help on helping me understand this a bit more. Thanks so much!","body":"@OleV.V. I was able to get it fixed. You were a big help on helping me understand this a bit more. Thanks so much!"}],"owner":{"account_id":23555804,"reputation":21,"user_id":17597844,"display_name":"TheTargetAudience"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664426545,"creation_date":1664424983,"question_id":73890225,"body_markdown":"```import java.util.Scanner;\r\npublic class calGrades \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tint choice = 0;\r\n\t\twhile(choice != 4)\r\n\t\t{\r\n\t\t\tint size; \r\n\t\t\tScanner sizeScanner = new Scanner(System.in);\r\n\r\n            /* In the grades array, I get an error telling me that the local variable has not \r\n            yet been initialized. I want to initialize it using the scanner inside the if \r\n            statement*/ \r\n\t\t\tint[] grades = new int[size]; \r\n\r\n\t\t\tSystem.out.println(&quot;-----MENU-----&quot;);\r\n\t\t\tSystem.out.println(&quot;1) Enter size&quot;);\r\n\t\t\tSystem.out.println(&quot;2) Enter grades&quot;);\r\n\t\t\tSystem.out.println(&quot;3) Calculate average&quot;);\r\n\t\t\tSystem.out.println(&quot;4) Exit program.&quot;);\r\n\r\n\t\t\tScanner choiceScanner = new Scanner(System.in);\r\n\t\t\tchoice = choiceScanner.nextInt();\r\n\r\n\t\t\tif(choice == 1)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Enter size&quot;);\r\n\t\t\t\tsizeScanner = new Scanner(System.in);\r\n\t\t\t\tsize = sizeScanner.nextInt();\r\n\t\t\t}\r\n\t\t\tif(choice == 2)\r\n\t\t\t{\r\n\t\t\t\t/*If i initialize size = 0, and then try the print statement \r\n                below, it will print out a 0 instead of whatever is read \r\n                into it via the scanner. */\r\n                System.out.println(size)\r\n                System.out.println(&quot;Enter grades: &quot;); \r\n\t\t\t\tScanner gradeScanner = new Scanner(System.in);\r\n\t\t\t\tfor(int i = 0; i &lt; size; i++) //I get the same error here in my for loop.\r\n\t\t\t\t{\r\n\t\t\t\t\tgrades[i] = gradeScanner.nextInt();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI am trying to initialize variable &#39;size&#39; inside of the first &#39;if&#39; statement. If i initialize the variable in there, it does not change the actual value of size. I undertand that it is outside of the scope, but I do not know how to get it to store in there. This also creates problems with my grades array since I need to know the size of &#39;size&#39; to set the size of the array. The error I get is: The local variable size may not have been initialized Java(536870963)\r\n","title":"Initializing local variable with an if statement using scanner","body":"<pre><code>public class calGrades \n{\n    public static void main(String[] args) \n    {\n        int choice = 0;\n        while(choice != 4)\n        {\n            int size; \n            Scanner sizeScanner = new Scanner(System.in);\n\n            /* In the grades array, I get an error telling me that the local variable has not \n            yet been initialized. I want to initialize it using the scanner inside the if \n            statement*/ \n            int[] grades = new int[size]; \n\n            System.out.println(&quot;-----MENU-----&quot;);\n            System.out.println(&quot;1) Enter size&quot;);\n            System.out.println(&quot;2) Enter grades&quot;);\n            System.out.println(&quot;3) Calculate average&quot;);\n            System.out.println(&quot;4) Exit program.&quot;);\n\n            Scanner choiceScanner = new Scanner(System.in);\n            choice = choiceScanner.nextInt();\n\n            if(choice == 1)\n            {\n                System.out.println(&quot;Enter size&quot;);\n                sizeScanner = new Scanner(System.in);\n                size = sizeScanner.nextInt();\n            }\n            if(choice == 2)\n            {\n                /*If i initialize size = 0, and then try the print statement \n                below, it will print out a 0 instead of whatever is read \n                into it via the scanner. */\n                System.out.println(size)\n                System.out.println(&quot;Enter grades: &quot;); \n                Scanner gradeScanner = new Scanner(System.in);\n                for(int i = 0; i &lt; size; i++) //I get the same error here in my for loop.\n                {\n                    grades[i] = gradeScanner.nextInt();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am trying to initialize variable 'size' inside of the first 'if' statement. If i initialize the variable in there, it does not change the actual value of size. I undertand that it is outside of the scope, but I do not know how to get it to store in there. This also creates problems with my grades array since I need to know the size of 'size' to set the size of the array. The error I get is: The local variable size may not have been initialized Java(536870963)</p>\n"},{"tags":["python","java","network-programming","pickle","serversocket"],"comments":[{"owner":{"account_id":258701,"reputation":111265,"user_id":541038,"accept_rate":94,"display_name":"Joran Beasley"},"score":1,"creation_date":1664425416,"post_id":73890255,"comment_id":130469736,"body_markdown":"you cant send actual objects over a socket... only bytes... but you can definitely serialize in ways that will allow you to have the data to reconstruct the object on either end  (but pickle wont work since java doesnt speak pickle as far as i know ... maybe using jython you can tweak something else on the java end to actually pass the pickle ... but i doubt its trivial)","body":"you cant send actual objects over a socket... only bytes... but you can definitely serialize in ways that will allow you to have the data to reconstruct the object on either end  (but pickle wont work since java doesnt speak pickle as far as i know ... maybe using jython you can tweak something else on the java end to actually pass the pickle ... but i doubt its trivial)"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1664425511,"post_id":73890255,"comment_id":130469746,"body_markdown":"Serialize objects into some kind of textual representation, with a well-known format and encoding, and send the text.","body":"Serialize objects into some kind of textual representation, with a well-known format and encoding, and send the text."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1664425543,"post_id":73890255,"comment_id":130469750,"body_markdown":"Use an intermediate format, such as JSON. If you&#39;ve written the server yourself, then you can control what format to accept. Otherwise, look at the server&#39;s API documentation, and use one of its supported formats.","body":"Use an intermediate format, such as JSON. If you&#39;ve written the server yourself, then you can control what format to accept. Otherwise, look at the server&#39;s API documentation, and use one of its supported formats."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1664449842,"post_id":73890255,"comment_id":130476980,"body_markdown":"Network protocols are programming language agnostic. I does not matter which programming language, as lon as the you follow the network protocol definitions.","body":"Network protocols are programming language agnostic. I does not matter which programming language, as lon as the you follow the network protocol definitions."}],"owner":{"account_id":24343163,"reputation":13,"user_id":18280260,"display_name":"user18280260"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664425620,"creation_date":1664425325,"question_id":73890255,"body_markdown":"i&#39;m having a serializabled object from class called Account.  this object must be send from one device to other device using socket programing.  the problem is that the Server in written in Python and the Client class written in java , some people say that it is possible to write Server class in a language different from the Client class. is there any way to do that ?? \r\n\r\n     here is my code...\r\n\r\n\r\n\r\nClient class ( Java )\r\n```\r\npublic class CLIENT\r\n{\r\n           \r\n static Socket s;\r\n static OutputStream outputStream;\r\n static InputStream inputStream;\r\n \r\n static ObjectInputStream dis;\r\n static ObjectOutputStream dos;\r\n\r\n    //  Acccunt class\r\n    static class Account implements Serializable\r\n    {\r\n     String account_id = &quot;&quot;;\r\n     int amount = 0;\r\n     \r\n    }\r\n    \r\n     public static void main(String[] args)\r\n    {\r\n        int Port = 50007;              \r\n        try\r\n        {\r\n            Socket s = new Socket(&quot;localhost&quot;, Port);\r\n            System.out.println(&quot;Client trying to connect to port &quot;+Port);\r\n\r\n            OutputStream outputStream = s.getOutputStream();\r\n            ObjectOutputStream dos = new ObjectOutputStream(outputStream);\r\n             \r\n            InputStream inputStream = s.getInputStream();\r\n              ObjectInputStream dis = new ObjectInputStream(inputStream);\r\n                \r\n\r\n            System.out.println(&quot;Ready to communicate&quot;);\r\n            while (true)\r\n            {\r\n           \r\n                Account obj = new Account();\r\n                 obj.account_id = &quot;123&quot;;     obj.amount = 10000;\r\n\r\n                 dos.writeObject( obj );\r\n                 dos.flush();\r\n\r\n                 String inn = (String) dis.readObject();     \r\n                 System.out.println(&quot;Server: &quot; + inn );\r\n\r\n            }\r\n        }\r\n\r\n        catch (Exception ex) {  ex.printStackTrace();  }\r\n        \r\n     }  // END of main\r\n     \r\n    }  //  End of Class\r\n```\r\n\r\nServer Code ( Python )\r\n\r\n```\r\nimport socket, pickle\r\n\r\nclass Account:\r\n    account_id = &quot;&quot;\r\n    amount = 0\r\n\r\n\r\n\r\nHOST = &#39;localhost&#39;\r\nPORT = 50007\r\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\ns.bind((HOST, PORT))\r\ns.listen(5)\r\n\r\nconn, addr = s.accept()\r\nprint (&#39;Connected by&#39;, addr)\r\n\r\ndata = conn.recv(4096)\r\ndata_variable = pickle.loads(data)\r\n\r\nprint( data_variable.account_id  )\r\nconn.send(&#39;Thank you for connecting&#39;.encode())\r\nconn.close()\r\n```\r\n\r\n","title":"sending data to a Server implemented in other language","body":"<p>i'm having a serializabled object from class called Account.  this object must be send from one device to other device using socket programing.  the problem is that the Server in written in Python and the Client class written in java , some people say that it is possible to write Server class in a language different from the Client class. is there any way to do that ??</p>\n<pre><code> here is my code...\n</code></pre>\n<p>Client class ( Java )</p>\n<pre><code>public class CLIENT\n{\n           \n static Socket s;\n static OutputStream outputStream;\n static InputStream inputStream;\n \n static ObjectInputStream dis;\n static ObjectOutputStream dos;\n\n    //  Acccunt class\n    static class Account implements Serializable\n    {\n     String account_id = &quot;&quot;;\n     int amount = 0;\n     \n    }\n    \n     public static void main(String[] args)\n    {\n        int Port = 50007;              \n        try\n        {\n            Socket s = new Socket(&quot;localhost&quot;, Port);\n            System.out.println(&quot;Client trying to connect to port &quot;+Port);\n\n            OutputStream outputStream = s.getOutputStream();\n            ObjectOutputStream dos = new ObjectOutputStream(outputStream);\n             \n            InputStream inputStream = s.getInputStream();\n              ObjectInputStream dis = new ObjectInputStream(inputStream);\n                \n\n            System.out.println(&quot;Ready to communicate&quot;);\n            while (true)\n            {\n           \n                Account obj = new Account();\n                 obj.account_id = &quot;123&quot;;     obj.amount = 10000;\n\n                 dos.writeObject( obj );\n                 dos.flush();\n\n                 String inn = (String) dis.readObject();     \n                 System.out.println(&quot;Server: &quot; + inn );\n\n            }\n        }\n\n        catch (Exception ex) {  ex.printStackTrace();  }\n        \n     }  // END of main\n     \n    }  //  End of Class\n</code></pre>\n<p>Server Code ( Python )</p>\n<pre><code>import socket, pickle\n\nclass Account:\n    account_id = &quot;&quot;\n    amount = 0\n\n\n\nHOST = 'localhost'\nPORT = 50007\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.bind((HOST, PORT))\ns.listen(5)\n\nconn, addr = s.accept()\nprint ('Connected by', addr)\n\ndata = conn.recv(4096)\ndata_variable = pickle.loads(data)\n\nprint( data_variable.account_id  )\nconn.send('Thank you for connecting'.encode())\nconn.close()\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-architecture-navigation"],"comments":[{"owner":{"account_id":13351566,"reputation":1172,"user_id":9636642,"display_name":"Vivek Singh"},"score":0,"creation_date":1664414164,"post_id":73872420,"comment_id":130468164,"body_markdown":"Why are you extending Arraylist&lt;RecyclerViewModel&gt; in the RecyclerViewModel class?","body":"Why are you extending Arraylist&lt;RecyclerViewModel&gt; in the RecyclerViewModel class?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664419439,"post_id":73872420,"comment_id":130468882,"body_markdown":"I just removed it vivek bhai still it is throwing error","body":"I just removed it vivek bhai still it is throwing error"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664419596,"post_id":73872420,"comment_id":130468910,"body_markdown":"can i pass the Arraylist&lt;Model&gt; through the safe args bhai tried many documents but nothing works","body":"can i pass the Arraylist&lt;Model&gt; through the safe args bhai tried many documents but nothing works"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664420801,"post_id":73872420,"comment_id":130469077,"body_markdown":"basically what I want to do is that I want to pass this Arraylist&lt;Model&gt;  to the next fragment B from frag A so that I can set this arraylist data on the fragment B&#39;s recyclerview adapter","body":"basically what I want to do is that I want to pass this Arraylist&lt;Model&gt;  to the next fragment B from frag A so that I can set this arraylist data on the fragment B&#39;s recyclerview adapter"},{"owner":{"account_id":13351566,"reputation":1172,"user_id":9636642,"display_name":"Vivek Singh"},"score":0,"creation_date":1664423478,"post_id":73872420,"comment_id":130469429,"body_markdown":"Include the code for the navigation graph in the question where you defines your arguments for the navigation.","body":"Include the code for the navigation graph in the question where you defines your arguments for the navigation."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664423515,"post_id":73872420,"comment_id":130469433,"body_markdown":"vivek bhai can&#39;t we pass without safe args using bundles or something","body":"vivek bhai can&#39;t we pass without safe args using bundles or something"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664423711,"post_id":73872420,"comment_id":130469472,"body_markdown":"@please check i have added tha nav graph","body":"@please check i have added tha nav graph"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664428035,"post_id":73872420,"comment_id":130470179,"body_markdown":"vivek bhai i have used it it is showing some problem please check https://stackoverflow.com/questions/73881373/how-to-make-viewmodel-variable-assesible-outside-method-in-android","body":"vivek bhai i have used it it is showing some problem please check <a href=\"https://stackoverflow.com/questions/73881373/how-to-make-viewmodel-variable-assesible-outside-method-in-android\" title=\"how to make viewmodel variable assesible outside method in android\">stackoverflow.com/questions/73881373/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13351566,"reputation":1172,"user_id":9636642,"display_name":"Vivek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664424264,"creation_date":1664424264,"answer_id":73890171,"question_id":73872420,"body_markdown":"You should create another empty class which extends ArrayList&lt;RecyclerViewModel&gt; like this:\r\n\r\n    @Parcelize\r\n    public class RecyclerModels extends ArrayList&lt;RecyclerViewModels&gt; implements Parcelable\r\n\r\nThen set the type of the navigation argument to this class.\r\n\r\n    &lt;argument\r\n      android:name=&quot;mylist&quot;\r\n      app:argType=&quot;your.package.RecyclerModels&quot;/&gt;\r\n\r\nYour `RecyclerViewModel` should also be `Parcelable`","title":"Passing arraylist of object between fragments throwing error using safe args","body":"<p>You should create another empty class which extends ArrayList like this:</p>\n<pre><code>@Parcelize\npublic class RecyclerModels extends ArrayList&lt;RecyclerViewModels&gt; implements Parcelable\n</code></pre>\n<p>Then set the type of the navigation argument to this class.</p>\n<pre><code>&lt;argument\n  android:name=&quot;mylist&quot;\n  app:argType=&quot;your.package.RecyclerModels&quot;/&gt;\n</code></pre>\n<p>Your <code>RecyclerViewModel</code> should also be <code>Parcelable</code></p>\n"},{"tags":[],"owner":{"account_id":21461018,"reputation":40,"user_id":15811766,"display_name":"Star4Droid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664424299,"creation_date":1664424299,"answer_id":73890174,"question_id":73872420,"body_markdown":"if you dont know, you are trying to do something like this somewhere:\r\n```\r\nArrayList&lt;RecyclerviewModel&gt; arr=...;\r\nRecyclerviewModel rm=arr;\r\n```\r\nso, check your code again.\r\n\r\nyou can use a class and interface to pass the data (its not the best way, but i use that)\r\n```\r\npublic class Helper{\r\npublic static Sender sender;\r\ninterface Sender {\r\npublic void Send(Object object);\r\n}\r\n}\r\n```\r\nin fragment 2 (reciever): \r\n```\r\nHelper.sender = new Helper.Sender(){\r\npublic void Send(Object ob){\r\n//What it should do on recieve ?\r\n//e.g : RecyclerviewModel r=(RecyclerviewModel)ob;\r\n}\r\n}\r\n```\r\nin fragment 1 (sender): \r\n```\r\n//example:\r\nHelper.sender.Send(RecyclerviewModel);\r\n```\r\nI hope this will help you :)","title":"Passing arraylist of object between fragments throwing error using safe args","body":"<p>if you dont know, you are trying to do something like this somewhere:</p>\n<pre><code>ArrayList&lt;RecyclerviewModel&gt; arr=...;\nRecyclerviewModel rm=arr;\n</code></pre>\n<p>so, check your code again.</p>\n<p>you can use a class and interface to pass the data (its not the best way, but i use that)</p>\n<pre><code>public class Helper{\npublic static Sender sender;\ninterface Sender {\npublic void Send(Object object);\n}\n}\n</code></pre>\n<p>in fragment 2 (reciever):</p>\n<pre><code>Helper.sender = new Helper.Sender(){\npublic void Send(Object ob){\n//What it should do on recieve ?\n//e.g : RecyclerviewModel r=(RecyclerviewModel)ob;\n}\n}\n</code></pre>\n<p>in fragment 1 (sender):</p>\n<pre><code>//example:\nHelper.sender.Send(RecyclerviewModel);\n</code></pre>\n<p>I hope this will help you :)</p>\n"}],"owner":{"display_name":"user20008723"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664424299,"creation_date":1664304095,"question_id":73872420,"body_markdown":"I am working on an application where I need to pass the ArrayList model object to the next fragment but it is throwing an error. i tried many documents but nothing works please guide me why this is happening.I am retrieving data through firebase and want to set this ArrayList on my recyclerview adapter. how can I do that?? please guide me\r\n\r\n**CODE FROM FRAGMENT A**\r\n\r\n       ArrayList&lt;RecyclerviewModel&gt; mydatalist = new ArrayList&lt;&gt;();\r\n                    HomeFragmentDirections.ActionHomeToSearchDataFragment dr = HomeFragmentDirections.actionHomeToSearchDataFragment(mydatalist);\r\n                    Navigation.findNavController(view).navigate(dr);\r\n\r\n**CODE FROM FRAGMENT B(RECEIVING FRAGMENT)**\r\n\r\n     ArrayList&lt;RecyclerviewModel&gt; mylist;\r\n        if (getArguments()!=null)\r\n        {\r\n\r\n            SearchDataFragmentArgs args = SearchDataFragmentArgs.fromBundle(getArguments());\r\n            mylist = args.getMylist();\r\n            adapter = new SearchRecycleAdapter(mylist, getContext());\r\n            binding.searchDataRecyclerview.setAdapter(adapter);\r\n            \r\n        }\r\n\r\n\r\n**MODEL CLASS**\r\n\r\n    public class RecyclerviewModel implements Parcelable {\r\n\r\n    String name;\r\n    String email;\r\n    String desc;\r\n    String book;\r\n    List&lt;String&gt; images;\r\n    String uid;\r\n    String searching;\r\n\r\n\r\n    public RecyclerviewModel() {\r\n    }\r\n    \r\n    public RecyclerviewModel(String name, String email, String desc, String book, List&lt;String&gt; images, String uid,String searching) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.desc = desc;\r\n        this.book = book;\r\n        this.images= images;\r\n        this.uid = uid;\r\n        this.searching = searching;\r\n    }\r\n\r\n    protected RecyclerviewModel(Parcel in) {\r\n        name = in.readString();\r\n        email = in.readString();\r\n        desc = in.readString();\r\n        book = in.readString();\r\n        images = in.createStringArrayList();\r\n        uid = in.readString();\r\n        searching = in.readString();\r\n    }\r\n\r\n    public static final Creator&lt;RecyclerviewModel&gt; CREATOR = new Creator&lt;RecyclerviewModel&gt;() {\r\n        @Override\r\n        public RecyclerviewModel createFromParcel(Parcel in) {\r\n            return new RecyclerviewModel(in);\r\n        }\r\n\r\n        @Override\r\n        public RecyclerviewModel[] newArray(int size) {\r\n            return new RecyclerviewModel[size];\r\n        }\r\n    };\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getDesc() {\r\n        return desc;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        this.desc = desc;\r\n    }\r\n\r\n    public String getBook() {\r\n        return book;\r\n    }\r\n\r\n    public void setBook(String book) {\r\n        this.book = book;\r\n    }\r\n\r\n    public List&lt;String&gt; getImages() {\r\n        return images;\r\n    }\r\n\r\n    public void setImages(List&lt;String&gt; images) {\r\n        this.images = images;\r\n    }\r\n\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n\r\n\r\n    public String getSearching() {\r\n        return searching;\r\n    }\r\n\r\n    public void setSearching(String searching) {\r\n        this.searching = searching;\r\n    }\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel parcel, int i) {\r\n        parcel.writeString(name);\r\n        parcel.writeString(email);\r\n        parcel.writeString(desc);\r\n        parcel.writeString(book);\r\n        parcel.writeStringList(images);\r\n        parcel.writeString(uid);\r\n        parcel.writeString(searching);\r\n    }\r\n}\r\n\r\n\r\n**Navgraph**\r\n[![enter image description here][1]][1]\r\n**ERROR IT IS THROWING**\r\n\r\n    error: incompatible types: ArrayList&lt;RecyclerviewModel&gt; cannot be converted to RecyclerviewModel\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZZvsL.png","title":"Passing arraylist of object between fragments throwing error using safe args","body":"<p>I am working on an application where I need to pass the ArrayList model object to the next fragment but it is throwing an error. i tried many documents but nothing works please guide me why this is happening.I am retrieving data through firebase and want to set this ArrayList on my recyclerview adapter. how can I do that?? please guide me</p>\n<p><strong>CODE FROM FRAGMENT A</strong></p>\n<pre><code>   ArrayList&lt;RecyclerviewModel&gt; mydatalist = new ArrayList&lt;&gt;();\n                HomeFragmentDirections.ActionHomeToSearchDataFragment dr = HomeFragmentDirections.actionHomeToSearchDataFragment(mydatalist);\n                Navigation.findNavController(view).navigate(dr);\n</code></pre>\n<p><strong>CODE FROM FRAGMENT B(RECEIVING FRAGMENT)</strong></p>\n<pre><code> ArrayList&lt;RecyclerviewModel&gt; mylist;\n    if (getArguments()!=null)\n    {\n\n        SearchDataFragmentArgs args = SearchDataFragmentArgs.fromBundle(getArguments());\n        mylist = args.getMylist();\n        adapter = new SearchRecycleAdapter(mylist, getContext());\n        binding.searchDataRecyclerview.setAdapter(adapter);\n        \n    }\n</code></pre>\n<p><strong>MODEL CLASS</strong></p>\n<pre><code>public class RecyclerviewModel implements Parcelable {\n\nString name;\nString email;\nString desc;\nString book;\nList&lt;String&gt; images;\nString uid;\nString searching;\n\n\npublic RecyclerviewModel() {\n}\n\npublic RecyclerviewModel(String name, String email, String desc, String book, List&lt;String&gt; images, String uid,String searching) {\n    this.name = name;\n    this.email = email;\n    this.desc = desc;\n    this.book = book;\n    this.images= images;\n    this.uid = uid;\n    this.searching = searching;\n}\n\nprotected RecyclerviewModel(Parcel in) {\n    name = in.readString();\n    email = in.readString();\n    desc = in.readString();\n    book = in.readString();\n    images = in.createStringArrayList();\n    uid = in.readString();\n    searching = in.readString();\n}\n\npublic static final Creator&lt;RecyclerviewModel&gt; CREATOR = new Creator&lt;RecyclerviewModel&gt;() {\n    @Override\n    public RecyclerviewModel createFromParcel(Parcel in) {\n        return new RecyclerviewModel(in);\n    }\n\n    @Override\n    public RecyclerviewModel[] newArray(int size) {\n        return new RecyclerviewModel[size];\n    }\n};\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getDesc() {\n    return desc;\n}\n\npublic void setDesc(String desc) {\n    this.desc = desc;\n}\n\npublic String getBook() {\n    return book;\n}\n\npublic void setBook(String book) {\n    this.book = book;\n}\n\npublic List&lt;String&gt; getImages() {\n    return images;\n}\n\npublic void setImages(List&lt;String&gt; images) {\n    this.images = images;\n}\n\n\npublic String getUid() {\n    return uid;\n}\n\npublic void setUid(String uid) {\n    this.uid = uid;\n}\n\n\npublic String getSearching() {\n    return searching;\n}\n\npublic void setSearching(String searching) {\n    this.searching = searching;\n}\n\n@Override\npublic int describeContents() {\n    return 0;\n}\n\n@Override\npublic void writeToParcel(Parcel parcel, int i) {\n    parcel.writeString(name);\n    parcel.writeString(email);\n    parcel.writeString(desc);\n    parcel.writeString(book);\n    parcel.writeStringList(images);\n    parcel.writeString(uid);\n    parcel.writeString(searching);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Navgraph</strong>\n<a href=\"https://i.stack.imgur.com/ZZvsL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZZvsL.png\" alt=\"enter image description here\" /></a>\n<strong>ERROR IT IS THROWING</strong></p>\n<pre><code>error: incompatible types: ArrayList&lt;RecyclerviewModel&gt; cannot be converted to RecyclerviewModel\n</code></pre>\n"},{"tags":["python","java"],"answers":[{"tags":[],"owner":{"account_id":13364130,"reputation":172,"user_id":9645053,"display_name":"Vishal Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642761164,"creation_date":1642761164,"answer_id":70799901,"question_id":70570958,"body_markdown":"Since VdoCipher provides DRM encryption for Videos, you cannot download it unless you have a hack.","title":"How to download player.vdocipher video content?","body":"<p>Since VdoCipher provides DRM encryption for Videos, you cannot download it unless you have a hack.</p>\n"}],"owner":{"account_id":23817536,"reputation":39,"user_id":17825588,"display_name":"Asrorbek Sultanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70799901,"answer_count":1,"score":0,"last_activity_date":1664423878,"creation_date":1641240924,"question_id":70570958,"body_markdown":"I have this url: https://player.vdocipher.com/playerAssets/1.x/vdo/embed/index.html#otp=20************ When I clicked to download, I could not download it. I tried to make it work.\r\n\r\nI need to access it, but how to get it?","title":"How to download player.vdocipher video content?","body":"<p>I have this url: <a href=\"https://player.vdocipher.com/playerAssets/1.x/vdo/embed/index.html#otp=20***********\" rel=\"nofollow noreferrer\">https://player.vdocipher.com/playerAssets/1.x/vdo/embed/index.html#otp=20***********</a>* When I clicked to download, I could not download it. I tried to make it work.</p>\n<p>I need to access it, but how to get it?</p>\n"},{"tags":["java","types","linked-list","operands","incompatibility"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1664419711,"post_id":73889772,"comment_id":130468928,"body_markdown":"(1) There is no such keyword as &#39;let&#39; in Java.  (2) You don&#39;t show the code for &#39;contains&#39; but the name does not suggest it returns an integer position.","body":"(1) There is no such keyword as &#39;let&#39; in Java.  (2) You don&#39;t show the code for &#39;contains&#39; but the name does not suggest it returns an integer position."},{"owner":{"account_id":23294976,"reputation":53,"user_id":17376517,"display_name":"Carlo Viloria"},"score":0,"creation_date":1664420091,"post_id":73889772,"comment_id":130468983,"body_markdown":"sorry, added in the contains method","body":"sorry, added in the contains method"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1664420986,"post_id":73889772,"comment_id":130469099,"body_markdown":"i misunderstood your comment about an error in the while statement.  See answer.","body":"i misunderstood your comment about an error in the while statement.  See answer."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664420952,"creation_date":1664420952,"answer_id":73889894,"question_id":73889772,"body_markdown":"There is no such keyword as &#39;let&#39; in Java. &#39;int&#39; is the appropriate declaration, as you discovered.\r\n\r\nThere&#39;s nothing wrong with the while-statement itself, it&#39;s one of the statements that happens to be in the loop body.  And that is very clear - you cannot apply the &#39;++&#39; operator to a Node. That operator is for incrementing integer values. What do you expect it to do on a Node?  Or, equivalently - why have you declared &#39;numRemoved&#39; to be a Node, when it&#39;s obviously supposed to count something? &#39;int&#39; is appropriate here.\r\n\r\nAlso, you said that fixing the first error &quot;made my while loop have an error as well&quot;.  It is fairly common that some errors prevent the compiler from subsequent analysis (the code is already known to be wrong) so that other errors are not seen until you fix the known problems.\r\n","title":"Incompatible Types and Bad Operand Type Error for LinkedList","body":"<p>There is no such keyword as 'let' in Java. 'int' is the appropriate declaration, as you discovered.</p>\n<p>There's nothing wrong with the while-statement itself, it's one of the statements that happens to be in the loop body.  And that is very clear - you cannot apply the '++' operator to a Node. That operator is for incrementing integer values. What do you expect it to do on a Node?  Or, equivalently - why have you declared 'numRemoved' to be a Node, when it's obviously supposed to count something? 'int' is appropriate here.</p>\n<p>Also, you said that fixing the first error &quot;made my while loop have an error as well&quot;.  It is fairly common that some errors prevent the compiler from subsequent analysis (the code is already known to be wrong) so that other errors are not seen until you fix the known problems.</p>\n"}],"owner":{"account_id":23294976,"reputation":53,"user_id":17376517,"display_name":"Carlo Viloria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664423525,"creation_date":1664419520,"question_id":73889772,"body_markdown":"Hi for my project I&#39;m trying to remove all occurences of the item and return the number of items removed. All subsequent items are moved to the left and if the item is not found, this method will return 0.\r\n\r\nHere is my code :\r\n```\r\npublic class LinkedList&lt;T&gt; implements LinkedListInterface&lt;T&gt; {\r\n  private Node head;\r\n  private Node tail;\r\n  private int count;\r\n\r\n  public LinkedList() {\r\n    head = null;\r\n    tail = null;\r\n    count = 0;\r\n  }\r\n\r\n  class Node {\r\n    T data;\r\n    Node next;\r\n\r\n    Node(T data) {\r\n      this.data = data;\r\n      next = null;\r\n    }\r\n  }\r\n\r\n  public Node getHead() {\r\n    return head;\r\n  }\r\npublic int contains(T item) {\r\n    Node nd = this.head;\r\n    for (int pos = 1; pos &lt;= count; pos++) {\r\n      if (nd.data == item) {\r\n        return pos;\r\n      }\r\n      nd = nd.next;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public T remove(int pos) throws ListException {\r\n    if (pos &lt; 1 || pos &gt; count) {\r\n        throw new ListException(&quot;Invalid position to remove from&quot;);\r\n      }\r\n      Node removedItem = null;\r\n      if (count == 1) {\r\n        removedItem = head;\r\n        head = null;\r\n        tail = null;\r\n      }\r\n      else if (pos == 1) {\r\n        removedItem = head;\r\n        head = head.next;\r\n      }\r\n      else if (pos == count) {\r\n        removedItem = tail;\r\n        Node prev = jump(pos - 2);\r\n        prev.next = null;\r\n        tail = prev;\r\n      }\r\n      else {\r\n        Node prev = jump(pos - 2);\r\n        removedItem = prev.next;\r\n        prev.next = prev.next.next;\r\n      }\r\n      count--;\r\n      return removedItem.data;\r\n  }\r\n\r\n  public int remove(T item) { \r\n    Node numRemoved = 0;\r\n    let pos = -1; // cannot find symbol\r\n    while ((pos = contains(item)) &gt; 0) {\r\n      remove(pos);\r\n      numRemoved++; // bad operand type LinkedList&lt;T&gt;.Node for unary operator &#39;++&#39;\r\n    }\r\n    return numRemoved; // LinkedList&lt;T&gt;.Node cannot be converted to int\r\n  }\r\n\r\n  public void replace(T item, int pos) throws ListException {\r\n    if (pos &lt; 1 || pos &gt; count + 1) {\r\n      throw new ListException(&quot;Invalid position to insert at&quot;);\r\n    }\r\n  }\r\n\r\n}\r\n```\r\nUnder ...\r\n```\r\npublic int remove(T item) { \r\n    Node numRemoved = 0;\r\n    let pos = -1; // cannot find symbol\r\n    while ((pos = contains(item)) &gt; 0) {\r\n      remove(pos);\r\n      numRemoved++; // bad operand type LinkedList&lt;T&gt;.Node for unary operator &#39;++&#39;\r\n    }\r\n    return numRemoved; // LinkedList&lt;T&gt;.Node cannot be converted to int\r\n  }\r\n\r\n```\r\nI put a comment line that contains the error and some things I tried to do to fix was instead of\r\n\r\n    let pos = -1 \r\nI put\r\n\r\n    int pos = -1;\r\nbut it made my while loop have an error as well. I think it may have to do with the declaration of the data types for varibles numRemoved and pos. There is also a bad operand type for\r\n\r\n    numRemoved++\r\n\r\nAny ideas on how to fix? Thank you so much.\r\n\r\nHello, update, this is what it went down to:\r\n\r\n```\r\npublic int remove(T item) {\r\n    int numRemoved = 0;\r\n    int pos = -1;\r\n    try {\r\n      while ((pos = contains(item)) &gt; 0) {\r\n        remove(pos);\r\n        numRemoved++;\r\n      }\r\n    } catch (ListException e){\r\n      System.out.print(e);\r\n    }\r\n    return numRemoved;\r\n  }\r\n```\r\n\r\nHowever, when I tested it out, any matching name(s) in my program couldn&#39;t be removed, any reason why?\r\n\r\n","title":"Incompatible Types and Bad Operand Type Error for LinkedList","body":"<p>Hi for my project I'm trying to remove all occurences of the item and return the number of items removed. All subsequent items are moved to the left and if the item is not found, this method will return 0.</p>\n<p>Here is my code :</p>\n<pre><code>public class LinkedList&lt;T&gt; implements LinkedListInterface&lt;T&gt; {\n  private Node head;\n  private Node tail;\n  private int count;\n\n  public LinkedList() {\n    head = null;\n    tail = null;\n    count = 0;\n  }\n\n  class Node {\n    T data;\n    Node next;\n\n    Node(T data) {\n      this.data = data;\n      next = null;\n    }\n  }\n\n  public Node getHead() {\n    return head;\n  }\npublic int contains(T item) {\n    Node nd = this.head;\n    for (int pos = 1; pos &lt;= count; pos++) {\n      if (nd.data == item) {\n        return pos;\n      }\n      nd = nd.next;\n    }\n    return 0;\n  }\n\n  public T remove(int pos) throws ListException {\n    if (pos &lt; 1 || pos &gt; count) {\n        throw new ListException(&quot;Invalid position to remove from&quot;);\n      }\n      Node removedItem = null;\n      if (count == 1) {\n        removedItem = head;\n        head = null;\n        tail = null;\n      }\n      else if (pos == 1) {\n        removedItem = head;\n        head = head.next;\n      }\n      else if (pos == count) {\n        removedItem = tail;\n        Node prev = jump(pos - 2);\n        prev.next = null;\n        tail = prev;\n      }\n      else {\n        Node prev = jump(pos - 2);\n        removedItem = prev.next;\n        prev.next = prev.next.next;\n      }\n      count--;\n      return removedItem.data;\n  }\n\n  public int remove(T item) { \n    Node numRemoved = 0;\n    let pos = -1; // cannot find symbol\n    while ((pos = contains(item)) &gt; 0) {\n      remove(pos);\n      numRemoved++; // bad operand type LinkedList&lt;T&gt;.Node for unary operator '++'\n    }\n    return numRemoved; // LinkedList&lt;T&gt;.Node cannot be converted to int\n  }\n\n  public void replace(T item, int pos) throws ListException {\n    if (pos &lt; 1 || pos &gt; count + 1) {\n      throw new ListException(&quot;Invalid position to insert at&quot;);\n    }\n  }\n\n}\n</code></pre>\n<p>Under ...</p>\n<pre><code>public int remove(T item) { \n    Node numRemoved = 0;\n    let pos = -1; // cannot find symbol\n    while ((pos = contains(item)) &gt; 0) {\n      remove(pos);\n      numRemoved++; // bad operand type LinkedList&lt;T&gt;.Node for unary operator '++'\n    }\n    return numRemoved; // LinkedList&lt;T&gt;.Node cannot be converted to int\n  }\n\n</code></pre>\n<p>I put a comment line that contains the error and some things I tried to do to fix was instead of</p>\n<pre><code>let pos = -1 \n</code></pre>\n<p>I put</p>\n<pre><code>int pos = -1;\n</code></pre>\n<p>but it made my while loop have an error as well. I think it may have to do with the declaration of the data types for varibles numRemoved and pos. There is also a bad operand type for</p>\n<pre><code>numRemoved++\n</code></pre>\n<p>Any ideas on how to fix? Thank you so much.</p>\n<p>Hello, update, this is what it went down to:</p>\n<pre><code>public int remove(T item) {\n    int numRemoved = 0;\n    int pos = -1;\n    try {\n      while ((pos = contains(item)) &gt; 0) {\n        remove(pos);\n        numRemoved++;\n      }\n    } catch (ListException e){\n      System.out.print(e);\n    }\n    return numRemoved;\n  }\n</code></pre>\n<p>However, when I tested it out, any matching name(s) in my program couldn't be removed, any reason why?</p>\n"},{"tags":["java","curl","okhttp"],"answers":[{"tags":[],"owner":{"account_id":6438114,"reputation":350,"user_id":4988906,"display_name":"ankit jain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1569054771,"creation_date":1569054771,"answer_id":58038585,"question_id":58038417,"body_markdown":"The request you want to send has content-type as &quot;application/x-www-form-urlencoded&quot;.\r\nSo creating the body as a JSON would not work.\r\nYou should try forming body in following way:\r\n\r\nRequestBody body = new FormBody.Builder().add(&quot;client_id&quot;, &quot;id_value&quot;).build(); ","title":"How to map curl into java okhttp?","body":"<p>The request you want to send has content-type as \"application/x-www-form-urlencoded\".\nSo creating the body as a JSON would not work.\nYou should try forming body in following way:</p>\n\n<p>RequestBody body = new FormBody.Builder().add(\"client_id\", \"id_value\").build(); </p>\n"},{"tags":[],"owner":{"account_id":21386827,"reputation":1,"user_id":15751666,"display_name":"winter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664423055,"creation_date":1664423055,"answer_id":73890066,"question_id":58038417,"body_markdown":"`RequestBody body = new FormBody.Builder()\r\n                   .add(&quot;client_id&quot;, &quot;id_value&quot;);`\r\nHi hope you had resolved this problem.\r\nActually, if u want to send a request with &#39;form-body&#39; instead of &#39;json&#39;, you can easily use this class: &#39;FormBody&#39;. It inherits RequestBody.","title":"How to map curl into java okhttp?","body":"<p><code>RequestBody body = new FormBody.Builder() .add(&quot;client_id&quot;, &quot;id_value&quot;);</code>\nHi hope you had resolved this problem.\nActually, if u want to send a request with 'form-body' instead of 'json', you can easily use this class: 'FormBody'. It inherits RequestBody.</p>\n"}],"owner":{"account_id":14392309,"reputation":47,"user_id":10396598,"display_name":"Dawid Kowalski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3040,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58038585,"answer_count":2,"score":0,"last_activity_date":1664423055,"creation_date":1569053276,"question_id":58038417,"body_markdown":"I have got a basic curl like below:\r\n\r\n    curl -X POST \\\r\n        &#39;https://aogt.pl/auth/&#39; \\\r\n        -H &#39;Authorization: Basic NGZjMjExNWQyYTZk&#39; \\\r\n        -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n        -d &#39;client_id=4fc2115&#39;\r\n\r\nWhen I run it in the console on e.g. Ubuntu everything work correctly, I get a good response. Now I would like to map this curl into the java code using okhttp. I write below code:\r\n\r\n    public class TestMain {\r\n        private static final MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n        public static void main(String[] args) throws IOException {\r\n            String data = &quot;client_id=4fc2115&quot;;\r\n            RequestBody body = RequestBody.create(JSON, data);\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://aogt.pl/auth/&quot;)\r\n                    .addHeader(&quot;Authorization&quot;, &quot;Basic NGZjMjExNWQyYTZk&quot;)\r\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                    .post(body)\r\n                    .build();\r\n            OkHttpClient client = new OkHttpClient();\r\n            Response response = client.newCall(request).execute();\r\n            System.out.println(response.body().string());\r\n        }\r\n    }\r\n\r\nThe pom file look like:\r\n\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n             &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n          &lt;version&gt;4.2.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThe problem is that when I run this code I get &quot;400 Bad Request&quot; so this is problem with server. I wrong map above curl into the java code into the http. Probably the problem is in POST body, because it is not JSON, but what I need to change here, could you please tell me what is wrong? Thank you very much.","title":"How to map curl into java okhttp?","body":"<p>I have got a basic curl like below:</p>\n\n<pre><code>curl -X POST \\\n    'https://aogt.pl/auth/' \\\n    -H 'Authorization: Basic NGZjMjExNWQyYTZk' \\\n    -H 'Content-Type: application/x-www-form-urlencoded' \\\n    -d 'client_id=4fc2115'\n</code></pre>\n\n<p>When I run it in the console on e.g. Ubuntu everything work correctly, I get a good response. Now I would like to map this curl into the java code using okhttp. I write below code:</p>\n\n<pre><code>public class TestMain {\n    private static final MediaType JSON = MediaType.parse(\"application/json; charset=utf-8\");\n    public static void main(String[] args) throws IOException {\n        String data = \"client_id=4fc2115\";\n        RequestBody body = RequestBody.create(JSON, data);\n        Request request = new Request.Builder()\n                .url(\"https://aogt.pl/auth/\")\n                .addHeader(\"Authorization\", \"Basic NGZjMjExNWQyYTZk\")\n                .addHeader(\"Content-Type\", \"application/x-www-form-urlencoded\")\n                .post(body)\n                .build();\n        OkHttpClient client = new OkHttpClient();\n        Response response = client.newCall(request).execute();\n        System.out.println(response.body().string());\n    }\n}\n</code></pre>\n\n<p>The pom file look like:</p>\n\n<pre><code>&lt;dependencies&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n         &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n      &lt;version&gt;4.2.0&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>The problem is that when I run this code I get \"400 Bad Request\" so this is problem with server. I wrong map above curl into the java code into the http. Probably the problem is in POST body, because it is not JSON, but what I need to change here, could you please tell me what is wrong? Thank you very much.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-step-functions","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":1573341,"reputation":1503,"user_id":1460514,"accept_rate":50,"display_name":"Sudarshan kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664422613,"creation_date":1664422613,"answer_id":73890018,"question_id":73859434,"body_markdown":"You want to get response from Lambda or you want to know the response from Step function ? \r\nLambda will start the step function an return that&#39;s it .\r\nIn that case you will not want to get response from Lambda .\r\nWhere do you want to get response API gateway ? Amazon API has 29 sec time out .\r\n\r\nso it comes down to one option to get the response back from Step function .\r\nWhat you can do is to run step function.\r\nLet it take its own time and when finished create a trigger .\r\n\r\nYou can have a Event bridge [Event Bridge][1] on SUCCEEDED,FAILED,TIMED_OUT and on ABORTED.\r\nTarget of Event bridge will be another lambda function which can indicate you the status of the step function .\r\n\r\nIf you want to get the history of step function like input and output in every step function step function you can very well call   getExecutionHistory  in this lambda function .\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/step-functions/latest/dg/cw-events.html","title":"How to use getExecutionHistory from aws java sdk to check status of a step function","body":"<p>You want to get response from Lambda or you want to know the response from Step function ?\nLambda will start the step function an return that's it .\nIn that case you will not want to get response from Lambda .\nWhere do you want to get response API gateway ? Amazon API has 29 sec time out .</p>\n<p>so it comes down to one option to get the response back from Step function .\nWhat you can do is to run step function.\nLet it take its own time and when finished create a trigger .</p>\n<p>You can have a Event bridge <a href=\"https://docs.aws.amazon.com/step-functions/latest/dg/cw-events.html\" rel=\"nofollow noreferrer\">Event Bridge</a> on SUCCEEDED,FAILED,TIMED_OUT and on ABORTED.\nTarget of Event bridge will be another lambda function which can indicate you the status of the step function .</p>\n<p>If you want to get the history of step function like input and output in every step function step function you can very well call   getExecutionHistory  in this lambda function .</p>\n"}],"owner":{"account_id":26447773,"reputation":13,"user_id":20091403,"display_name":"Archit Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73890018,"answer_count":1,"score":0,"last_activity_date":1664422613,"creation_date":1664222933,"question_id":73859434,"body_markdown":"I am new to aws and doing a PoC around aws lambda and step function.\r\nSo my problem statement is:\r\nA http request comes to API gateway which triggers a lambda function and through that lambda I am trigerring a step function something like\r\n*awsStepFunction.startExecution(executionRequest)*\r\n\r\nNow, since this is asynchronous in nature it just triggers step function and returns response but\r\nI want to return a response from lambda only when the execution of lambda is completed or failed.\r\n\r\nI am using *getExecutionHistory* recursively to get the response of execution but that effects my execution time and also when doing load testing getting *Throttling exception saying rate exceeded*\r\n\r\n \r\n```java\r\nExecutionResult result = awsStepFunction.startExecution(executionRequest);\r\ngetHistory(awsStepFunction, result);\r\n\r\nprivate void getHistory(awsStepFunction, result){\r\n\r\nList&lt;HistoryEvents&gt; list = GetExecutionHistory(request).getEvents;\r\n\r\nwhile(true) {\r\nIf(list.get(0).getId == 71 || list.get(0).getStatus.equals(&quot;ExecutionFailed&quot;)){\r\n    return;\r\n} else {\r\n   Thread.sleep(1000);\r\n  getHistory(awsStepFuncrion,result);\r\n}\r\nreturn;\r\n}\r\n}\r\n```\r\n\r\n71 is the final id of the event confirming that execution has succeeded.\r\n\r\nBut here when multiple requests are triggered getting error 400 **Throttling exception rate exceeded** in cloudwatch logs and hence getting a http response of **502 bad gateway**\r\n\r\n[This is the error screenshot that I am getting][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/csZWA.png","title":"How to use getExecutionHistory from aws java sdk to check status of a step function","body":"<p>I am new to aws and doing a PoC around aws lambda and step function.\nSo my problem statement is:\nA http request comes to API gateway which triggers a lambda function and through that lambda I am trigerring a step function something like\n<em>awsStepFunction.startExecution(executionRequest)</em></p>\n<p>Now, since this is asynchronous in nature it just triggers step function and returns response but\nI want to return a response from lambda only when the execution of lambda is completed or failed.</p>\n<p>I am using <em>getExecutionHistory</em> recursively to get the response of execution but that effects my execution time and also when doing load testing getting <em>Throttling exception saying rate exceeded</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutionResult result = awsStepFunction.startExecution(executionRequest);\ngetHistory(awsStepFunction, result);\n\nprivate void getHistory(awsStepFunction, result){\n\nList&lt;HistoryEvents&gt; list = GetExecutionHistory(request).getEvents;\n\nwhile(true) {\nIf(list.get(0).getId == 71 || list.get(0).getStatus.equals(&quot;ExecutionFailed&quot;)){\n    return;\n} else {\n   Thread.sleep(1000);\n  getHistory(awsStepFuncrion,result);\n}\nreturn;\n}\n}\n</code></pre>\n<p>71 is the final id of the event confirming that execution has succeeded.</p>\n<p>But here when multiple requests are triggered getting error 400 <strong>Throttling exception rate exceeded</strong> in cloudwatch logs and hence getting a http response of <strong>502 bad gateway</strong></p>\n<p><a href=\"https://i.stack.imgur.com/csZWA.png\" rel=\"nofollow noreferrer\">This is the error screenshot that I am getting</a></p>\n"},{"tags":["java","json","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1664247173,"post_id":73861811,"comment_id":130421939,"body_markdown":"It&#39;s helpful if you can provide code of `plus180Days` and a sample of json file to help us reproduce issue in our ends.","body":"It&#39;s helpful if you can provide code of <code>plus180Days</code> and a sample of json file to help us reproduce issue in our ends."},{"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"score":0,"creation_date":1664248038,"post_id":73861811,"comment_id":130422059,"body_markdown":"@lucas-nguyen-17 I have added the code for plus180Days and sample json file. Thank you!","body":"@lucas-nguyen-17 I have added the code for plus180Days and sample json file. Thank you!"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1664248430,"post_id":73861811,"comment_id":130422116,"body_markdown":"@gg_man It seems that &quot;runTimeDate&quot; in your JSON sample is a _Value_. But JsonObject **remove** and **put** are operate on _Key_.","body":"@gg_man It seems that &quot;runTimeDate&quot; in your JSON sample is a <i>Value</i>. But JsonObject <b>remove</b> and <b>put</b> are operate on <i>Key</i>."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1664248465,"post_id":73861811,"comment_id":130422123,"body_markdown":"Oh, do you want to update `&quot;date1&quot;: &quot;runTimeDate&quot;` --&gt;`&quot;date1&quot;: &quot;2023-03-27&quot;` ? Look like you remove the wrong one. `JSONObject ` is a map actually, you have to remove key, not value. In this case, I think you can simple use String method `replaceAll()` to update from `runTimeDate` to `2023-03-27`.","body":"Oh, do you want to update <code>&quot;date1&quot;: &quot;runTimeDate&quot;</code> --&gt;<code>&quot;date1&quot;: &quot;2023-03-27&quot;</code> ? Look like you remove the wrong one. <code>JSONObject </code> is a map actually, you have to remove key, not value. In this case, I think you can simple use String method <code>replaceAll()</code> to update from <code>runTimeDate</code> to <code>2023-03-27</code>."},{"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"score":0,"creation_date":1664249183,"post_id":73861811,"comment_id":130422239,"body_markdown":"@lucas-nguyen-17  I updated the method to this \n`return jsonFile.replaceAll(&quot;runTimeDate&quot;, substituteDate);` but getting 400 - I&#39;m assuming that code is not reaching to the right element.","body":"@lucas-nguyen-17  I updated the method to this  <code>return jsonFile.replaceAll(&quot;runTimeDate&quot;, substituteDate);</code> but getting 400 - I&#39;m assuming that code is not reaching to the right element."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1664249611,"post_id":73861811,"comment_id":130422302,"body_markdown":"You can use `RestAssured.given().log().all()...` to print request information to console, then check that was it updated correctly or not.","body":"You can use <code>RestAssured.given().log().all()...</code> to print request information to console, then check that was it updated correctly or not."},{"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"score":0,"creation_date":1664249896,"post_id":73861811,"comment_id":130422357,"body_markdown":"@lucas-nguyen-17 I already am using that but its not printing anything. Also does replaceAll&#39;s first parameter be regex, passing String within &quot;&quot; should work right?","body":"@lucas-nguyen-17 I already am using that but its not printing anything. Also does replaceAll&#39;s first parameter be regex, passing String within &quot;&quot; should work right?"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":1,"creation_date":1664249937,"post_id":73861811,"comment_id":130422362,"body_markdown":"@gg_man You also replaced key &#39;runTimeDate|AUS|1234|SYD|MEL&#39;.  Try `replaceAll(&quot;\\&quot;runTimeDate\\&quot;&quot;, &quot;\\&quot;&quot; + substituteDate + &quot;\\&quot;&quot;)`.","body":"@gg_man You also replaced key &#39;runTimeDate|AUS|1234|SYD|MEL&#39;.  Try <code>replaceAll(&quot;\\&quot;runTimeDate\\&quot;&quot;, &quot;\\&quot;&quot; + substituteDate + &quot;\\&quot;&quot;)</code>."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1664250222,"post_id":73861811,"comment_id":130422418,"body_markdown":"@RaymondChoi lol, I&#39;d like to change the `runTimeDate` to another placeholder text to avoid complexity. Anw, good catch!","body":"@RaymondChoi lol, I&#39;d like to change the <code>runTimeDate</code> to another placeholder text to avoid complexity. Anw, good catch!"},{"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"score":0,"creation_date":1664250606,"post_id":73861811,"comment_id":130422488,"body_markdown":"@RaymondChoi I tried that too, same result - 400. I thought that since one of the dates is  a Key and also couple of it as a Value so wondering if that is causing it. Also, all the appearance of runTimeDate should be updated.","body":"@RaymondChoi I tried that too, same result - 400. I thought that since one of the dates is  a Key and also couple of it as a Value so wondering if that is causing it. Also, all the appearance of runTimeDate should be updated."},{"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"score":0,"creation_date":1664251543,"post_id":73861811,"comment_id":130422631,"body_markdown":"@RaymondChoi @lucas-nguyen-17 I updated the key with `keyDate|AUS|1234|SYD|MEL` and trying to update with JSONObject while keeping the value to &quot;runTimeDate&quot; but it is still giving 400. Trying to get the ouput printed.","body":"@RaymondChoi @lucas-nguyen-17 I updated the key with <code>keyDate|AUS|1234|SYD|MEL</code> and trying to update with JSONObject while keeping the value to &quot;runTimeDate&quot; but it is still giving 400. Trying to get the ouput printed."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1664256429,"post_id":73861811,"comment_id":130423351,"body_markdown":"@gg_man Good, keep going.  BTW, do you still get 400 if not replacing anything?","body":"@gg_man Good, keep going.  BTW, do you still get 400 if not replacing anything?"},{"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"score":0,"creation_date":1664259234,"post_id":73861811,"comment_id":130423894,"body_markdown":"@RaymondChoi sadly yes, still getting 400.","body":"@RaymondChoi sadly yes, still getting 400."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1664264319,"post_id":73861811,"comment_id":130425338,"body_markdown":"@gg_man Could you provide the correct request body to make request successful?","body":"@gg_man Could you provide the correct request body to make request successful?"},{"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"score":0,"creation_date":1664327287,"post_id":73861811,"comment_id":130444426,"body_markdown":"@RaymondChoi I updated the main code in main question with the changes to code and sample json.","body":"@RaymondChoi I updated the main code in main question with the changes to code and sample json."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1664341608,"post_id":73861811,"comment_id":130446378,"body_markdown":"@gg_man I mean that your final expected request body, not the sample json you want to edit.","body":"@gg_man I mean that your final expected request body, not the sample json you want to edit."},{"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"score":0,"creation_date":1664405949,"post_id":73861811,"comment_id":130466959,"body_markdown":"@lucas-nguyen-17 btw: as from the json &quot;keyDate&quot; is part of a bigger String, do you reckon when I&#39;m replacing it is replacing the whole thing and not just &quot;keyDate&quot;?","body":"@lucas-nguyen-17 btw: as from the json &quot;keyDate&quot; is part of a bigger String, do you reckon when I&#39;m replacing it is replacing the whole thing and not just &quot;keyDate&quot;?"}],"owner":{"account_id":26153705,"reputation":11,"user_id":19841247,"display_name":"gg_man"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664422601,"creation_date":1664246325,"question_id":73861811,"body_markdown":"I have the following code to update the key &quot;runTimeDate&quot; within my json file.\r\n\r\n    `final LocalDate plus180Days = LocalDate.now().plusDays(180);\r\n     DateTimeFormatter dateTimeFormatter = \r\n         DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n     String substituteDate = plus180Days.format(dateTimeFormatter);\r\n     String jsonFile = &quot;src/examples/sample.json&quot;;\r\n\r\n     public String Body_ValueDate()\r\n     {\r\n      return jsonFile.replaceAll(&quot;\\&quot;runTimeDate\\&quot;&quot;, &quot;\\&quot;&quot; + substituteDate + \r\n                   &quot;\\&quot;&quot;);\r\n     }\r\n     public String Body_KeyDate()\r\n     {\r\n      return Body_ValueDate().replaceAll(&quot;\\&quot;keyDate\\&quot;&quot;, &quot;\\&quot;&quot; + \r\n          substituteDate + &quot;\\&quot;&quot;);\r\n     }`\r\n\r\nI used the code above from here: https://stackoverflow.com/questions/7463414/what-s-the-best-way-to-load-a-jsonobject-from-a-json-text-file#:~:text=23-,With%20java%208,-you%20can%20try\r\n\r\nThing is, the date is not getting updated. plus180Days is basically a function adding 180 days from current date. Can anyone share what I am missing here?\r\n\r\n    final LocalDate plus180Days = LocalDate.now().plusDays(180);\r\n\r\nSample Json\r\n\r\n    {\r\n      &quot;city&quot;: {\r\n      &quot;details&quot;: {\r\n      &quot;a1&quot;: &quot;AUS&quot;,\r\n      &quot;a2&quot;: &quot;AUS&quot;,\r\n      &quot;country&quot;: &quot;AUS&quot;\r\n      }\r\n    },\r\n     &quot;detail&quot;: {\r\n        &quot;getCountryDetail&quot;: {\r\n            &quot;b1&quot;: &quot;SYD&quot;,\r\n            &quot;b2&quot;: &quot;MEL&quot;,\r\n            &quot;country&quot;: {\r\n                &quot;keyDate|AUS|1234|SYD|MEL&quot;: {\r\n                    &quot;date1&quot;: &quot;runTimeDate&quot;,\r\n                    &quot;time1&quot;: &quot;15:38&quot;,\r\n                    &quot;date2&quot;: &quot;runTimeDate&quot;,\r\n                    &quot;time2&quot;: &quot;19:13&quot;\r\n                     },\r\n                &quot;keyDate|AUS|1234|ADL|MEL&quot;: {\r\n                    &quot;date1&quot;: &quot;runTimeDate&quot;,\r\n                    &quot;time1&quot;: &quot;15:38&quot;,\r\n                    &quot;date2&quot;: &quot;runTimeDate&quot;,\r\n                    &quot;time2&quot;: &quot;19:13&quot;\r\n                     }\r\n                   }\r\n                 }\r\n               }\r\n             }\r\n\r\nI am using the updated json method &quot;Body_KeyDate&quot; as body parameter for my rest assured method as per here: \r\n\r\n    @Test\r\n    public void UA_Avail_Cascading_Request()\r\n      throws IOException\r\n    {\r\n     Response response = RestAssured.given()\r\n        .header(readConfigFile())\r\n        .contentType(&quot;application/json&quot;)\r\n        .body(Body_KeyDate())\r\n        .when()\r\n        .post(readBaseUrl() + &quot;samplePage&quot;)\r\n        .then().statusCode(200)\r\n        .log().all()\r\n        .extract().response();\r\n       }\r\n\r\nFollowing solution worked: with ObjectMapper\r\n\r\n    public JsonNode RequestBody_DynamicDate() throws Exception\r\n      {\r\n      String requestBodyJson = loadJson(&quot;Sample.json&quot;);\r\n      String removeKeyDate = requestBodyJson.replace(&quot;keyDate&quot;, NEW_DATE);\r\n      String removeValueDate = removeKeyDate.replace(&quot;runTimeDate&quot;, NEW_DATE);\r\n      JsonNode processedNewDates = OBJECT_MAPPER.readTree(removeValueDate);\r\n      System.out.println(&quot;New JSON Body: &quot;\r\n        + OBJECT_MAPPER\r\n        .writerWithDefaultPrettyPrinter()\r\n        .writeValueAsString(processedNewDates));\r\n      return processedNewDates;\r\n    }\r\n\r\nHere is the code for `loadJson`: `BASEPATH` is the folder location\r\n\r\n    String loadJson(String filePath)\r\n      {\r\n        try\r\n        {\r\n          return new String(Files.readAllBytes(Paths.get(BASEPATH + filePath)));\r\n        }\r\n        catch (Exception e)\r\n        {\r\n          Assertions.fail(&quot;unable to load test data, check file path, and format&quot;);\r\n          throw new RuntimeException();\r\n        }\r\n\r\nHope this helps someone. Also turns there was some restrictions and limitations on which library and packages can be used. ","title":"Updating JSON Key within Json File","body":"<p>I have the following code to update the key &quot;runTimeDate&quot; within my json file.</p>\n<pre><code>`final LocalDate plus180Days = LocalDate.now().plusDays(180);\n DateTimeFormatter dateTimeFormatter = \n     DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n String substituteDate = plus180Days.format(dateTimeFormatter);\n String jsonFile = &quot;src/examples/sample.json&quot;;\n\n public String Body_ValueDate()\n {\n  return jsonFile.replaceAll(&quot;\\&quot;runTimeDate\\&quot;&quot;, &quot;\\&quot;&quot; + substituteDate + \n               &quot;\\&quot;&quot;);\n }\n public String Body_KeyDate()\n {\n  return Body_ValueDate().replaceAll(&quot;\\&quot;keyDate\\&quot;&quot;, &quot;\\&quot;&quot; + \n      substituteDate + &quot;\\&quot;&quot;);\n }`\n</code></pre>\n<p>I used the code above from here: <a href=\"https://stackoverflow.com/questions/7463414/what-s-the-best-way-to-load-a-jsonobject-from-a-json-text-file#:%7E:text=23-,With%20java%208,-you%20can%20try\">https://stackoverflow.com/questions/7463414/what-s-the-best-way-to-load-a-jsonobject-from-a-json-text-file#:~:text=23-,With%20java%208,-you%20can%20try</a></p>\n<p>Thing is, the date is not getting updated. plus180Days is basically a function adding 180 days from current date. Can anyone share what I am missing here?</p>\n<pre><code>final LocalDate plus180Days = LocalDate.now().plusDays(180);\n</code></pre>\n<p>Sample Json</p>\n<pre><code>{\n  &quot;city&quot;: {\n  &quot;details&quot;: {\n  &quot;a1&quot;: &quot;AUS&quot;,\n  &quot;a2&quot;: &quot;AUS&quot;,\n  &quot;country&quot;: &quot;AUS&quot;\n  }\n},\n &quot;detail&quot;: {\n    &quot;getCountryDetail&quot;: {\n        &quot;b1&quot;: &quot;SYD&quot;,\n        &quot;b2&quot;: &quot;MEL&quot;,\n        &quot;country&quot;: {\n            &quot;keyDate|AUS|1234|SYD|MEL&quot;: {\n                &quot;date1&quot;: &quot;runTimeDate&quot;,\n                &quot;time1&quot;: &quot;15:38&quot;,\n                &quot;date2&quot;: &quot;runTimeDate&quot;,\n                &quot;time2&quot;: &quot;19:13&quot;\n                 },\n            &quot;keyDate|AUS|1234|ADL|MEL&quot;: {\n                &quot;date1&quot;: &quot;runTimeDate&quot;,\n                &quot;time1&quot;: &quot;15:38&quot;,\n                &quot;date2&quot;: &quot;runTimeDate&quot;,\n                &quot;time2&quot;: &quot;19:13&quot;\n                 }\n               }\n             }\n           }\n         }\n</code></pre>\n<p>I am using the updated json method &quot;Body_KeyDate&quot; as body parameter for my rest assured method as per here:</p>\n<pre><code>@Test\npublic void UA_Avail_Cascading_Request()\n  throws IOException\n{\n Response response = RestAssured.given()\n    .header(readConfigFile())\n    .contentType(&quot;application/json&quot;)\n    .body(Body_KeyDate())\n    .when()\n    .post(readBaseUrl() + &quot;samplePage&quot;)\n    .then().statusCode(200)\n    .log().all()\n    .extract().response();\n   }\n</code></pre>\n<p>Following solution worked: with ObjectMapper</p>\n<pre><code>public JsonNode RequestBody_DynamicDate() throws Exception\n  {\n  String requestBodyJson = loadJson(&quot;Sample.json&quot;);\n  String removeKeyDate = requestBodyJson.replace(&quot;keyDate&quot;, NEW_DATE);\n  String removeValueDate = removeKeyDate.replace(&quot;runTimeDate&quot;, NEW_DATE);\n  JsonNode processedNewDates = OBJECT_MAPPER.readTree(removeValueDate);\n  System.out.println(&quot;New JSON Body: &quot;\n    + OBJECT_MAPPER\n    .writerWithDefaultPrettyPrinter()\n    .writeValueAsString(processedNewDates));\n  return processedNewDates;\n}\n</code></pre>\n<p>Here is the code for <code>loadJson</code>: <code>BASEPATH</code> is the folder location</p>\n<pre><code>String loadJson(String filePath)\n  {\n    try\n    {\n      return new String(Files.readAllBytes(Paths.get(BASEPATH + filePath)));\n    }\n    catch (Exception e)\n    {\n      Assertions.fail(&quot;unable to load test data, check file path, and format&quot;);\n      throw new RuntimeException();\n    }\n</code></pre>\n<p>Hope this helps someone. Also turns there was some restrictions and limitations on which library and packages can be used.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19270717,"reputation":392,"user_id":14084688,"display_name":"Haris"},"score":1,"creation_date":1664415730,"post_id":73889251,"comment_id":130468388,"body_markdown":"add some code, what you have done so far, that will help us understand. Here  read how to ask a question on StackOverflow https://stackoverflow.com/help/how-to-ask","body":"add some code, what you have done so far, that will help us understand. Here  read how to ask a question on StackOverflow <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":21461018,"reputation":40,"user_id":15811766,"display_name":"Star4Droid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664422495,"creation_date":1664422495,"answer_id":73890006,"question_id":73889251,"body_markdown":"i dont understand the question well, \r\nif you can add some pictures to explain more or code. \r\ni think translation can help you:-\r\n```\r\nimageview.setTranslationY(-50);\r\n```\r\n&lt;b&gt;result&lt;/b&gt;\r\n[![description][1]][1]\r\nor:\r\n```\r\nimageview.setY(-50);\r\n```\r\nbut remember, &lt;b&gt;setY&lt;/b&gt; change the real position, and &lt;b&gt;setTranslationY&lt;/b&gt; change the position based on its first position (position = position + translation).\r\n\r\n  [1]: https://i.stack.imgur.com/h725z.png","title":"How can I make an imageView sticks to another one if it&#39;s near the other one in Android Studio?","body":"<p>i dont understand the question well,\nif you can add some pictures to explain more or code.\ni think translation can help you:-</p>\n<pre><code>imageview.setTranslationY(-50);\n</code></pre>\n<p><b>result</b>\n<a href=\"https://i.stack.imgur.com/h725z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h725z.png\" alt=\"description\" /></a>\nor:</p>\n<pre><code>imageview.setY(-50);\n</code></pre>\n<p>but remember, <b>setY</b> change the real position, and <b>setTranslationY</b> change the position based on its first position (position = position + translation).</p>\n"}],"owner":{"account_id":25142429,"reputation":15,"user_id":18988632,"display_name":"Carolina743433"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73890006,"answer_count":1,"score":0,"last_activity_date":1664422495,"creation_date":1664413769,"question_id":73889251,"body_markdown":"I want to make an image view to stick to another in the when I run my project. I&#39;ve done Drag and Drop, but that would only make the ImageView move. Can anybody help me please?","title":"How can I make an imageView sticks to another one if it&#39;s near the other one in Android Studio?","body":"<p>I want to make an image view to stick to another in the when I run my project. I've done Drag and Drop, but that would only make the ImageView move. Can anybody help me please?</p>\n"},{"tags":["java","spring","aop","spring-aop"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1664370518,"post_id":73881071,"comment_id":130455949,"body_markdown":"Do you have J`ackson/ObjectMapper` on your classpath?","body":"Do you have J<code>ackson&#47;ObjectMapper</code> on your classpath?"}],"answers":[{"tags":[],"owner":{"account_id":24700544,"reputation":26,"user_id":18591911,"display_name":"Altair1908"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664421177,"creation_date":1664421177,"answer_id":73889911,"question_id":73881071,"body_markdown":"Add class:\r\n\r\n    @Configuration\r\n    public class BeanConfig {\r\n    \r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n            return new ObjectMapper();\r\n        }\r\n    }\r\n\r\n","title":"Spring AOP: UnsatisfiedDependencyException error with configuration with annotation","body":"<p>Add class:</p>\n<pre><code>@Configuration\npublic class BeanConfig {\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        return new ObjectMapper();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25314756,"reputation":3,"user_id":19137038,"display_name":"denizer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73889911,"answer_count":1,"score":0,"last_activity_date":1664421177,"creation_date":1664366534,"question_id":73881071,"body_markdown":"I&#39;m having a trouble while configuring Spring AOP. \r\nI created an aspect class which is below:\r\n\r\n    @Slf4j\r\n    @Aspect\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class LoggingAspect {\r\n\r\n        private static final Logger logger = CommonLogger.getLogger(LoggingAspect.class);\r\n\r\n        private final ObjectMapper mapper;\r\n        private final JobExecutionService jobExecutionService;\r\n    }\r\n\r\n\r\nThen I added a configuration file:\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy(proxyTargetClass = true)\r\n    @RequiredArgsConstructor\r\n    public class AspectConfiguration {\r\n        private final ObjectMapper objectMapper;\r\n        private final JobExecutionService jobExecutionService;\r\n\r\n        @Bean\r\n        public LoggingAspect loggingAspect() {\r\n            return new LoggingAspect(objectMapper, jobExecutionService);\r\n        }\r\n    }\r\n\r\n\r\nBut when I started the application, I am getting below errors:\r\n\r\n*Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;aspectConfiguration&#39; defined in URL: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.fasterxml.jackson.databind.ObjectMapper&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}*\r\n\r\n\r\nI have added aspectjrt and aspectjweaver dependencies to pom.xml.\r\n\r\nSpring version is 4.3.6\r\n\r\nI couldn&#39;t figure out where the problem is. Any help would be appreciated.","title":"Spring AOP: UnsatisfiedDependencyException error with configuration with annotation","body":"<p>I'm having a trouble while configuring Spring AOP.\nI created an aspect class which is below:</p>\n<pre><code>@Slf4j\n@Aspect\n@RequiredArgsConstructor\n@Component\npublic class LoggingAspect {\n\n    private static final Logger logger = CommonLogger.getLogger(LoggingAspect.class);\n\n    private final ObjectMapper mapper;\n    private final JobExecutionService jobExecutionService;\n}\n</code></pre>\n<p>Then I added a configuration file:</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy(proxyTargetClass = true)\n@RequiredArgsConstructor\npublic class AspectConfiguration {\n    private final ObjectMapper objectMapper;\n    private final JobExecutionService jobExecutionService;\n\n    @Bean\n    public LoggingAspect loggingAspect() {\n        return new LoggingAspect(objectMapper, jobExecutionService);\n    }\n}\n</code></pre>\n<p>But when I started the application, I am getting below errors:</p>\n<p><em>Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'aspectConfiguration' defined in URL: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.fasterxml.jackson.databind.ObjectMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</em></p>\n<p>I have added aspectjrt and aspectjweaver dependencies to pom.xml.</p>\n<p>Spring version is 4.3.6</p>\n<p>I couldn't figure out where the problem is. Any help would be appreciated.</p>\n"},{"tags":["java","string","nullpointerexception","null","tostring"],"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":1,"creation_date":1663774612,"post_id":73803457,"comment_id":130319789,"body_markdown":"You never initialise `test1`","body":"You never initialise <code>test1</code>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1663774821,"post_id":73803457,"comment_id":130319882,"body_markdown":"And here `sub` is not used.","body":"And here <code>sub</code> is not used."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1663776357,"post_id":73803457,"comment_id":130320518,"body_markdown":"There are few things wrong with your toString().","body":"There are few things wrong with your toString()."}],"answers":[{"tags":[],"owner":{"account_id":9256997,"reputation":484,"user_id":6875522,"display_name":"Szellem"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663774696,"creation_date":1663774696,"answer_id":73803527,"question_id":73803457,"body_markdown":"To me it prints `nullcare ful with NPE` which is understandable because `test1` is never initialized so its value is `null` and the String representation of a `null` `Object` is `&quot;null&quot;`.","title":"toString() givies null value and why?","body":"<p>To me it prints <code>nullcare ful with NPE</code> which is understandable because <code>test1</code> is never initialized so its value is <code>null</code> and the String representation of a <code>null</code> <code>Object</code> is <code>&quot;null&quot;</code>.</p>\n"}],"owner":{"account_id":13191945,"reputation":1,"user_id":20053754,"display_name":"ramulu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664420551,"creation_date":1663774404,"question_id":73803457,"body_markdown":"      public class TestString {\r\n                public Test test1;\r\n        \r\n                      @Override\r\n                public String toString() {\r\n                    StringBuilder sub = new StringBuilder();\r\n                    sub.append(test1);\r\n                    sub.append(&quot;care ful with NPE&quot;);\r\n                    return test1 +&quot;care ful with NPE&quot;;\r\n                }\r\n        \r\n                public static void main(String[] args) {\r\n                    final TestString testToString = new TestString();\r\n                    System.out.println(testToString);\r\n                    \r\n                }\r\n            }\r\n     public class Test {\r\n            private final String fieldName;\r\n    \r\n       public Test() {\r\n                fieldName = &quot;&quot;;\r\n            }\r\n            public Test(String fieldName) {\r\n                this.fieldName = fieldName;\r\n            }\r\n        \r\n            public String toString() {\r\n                StringBuilder sub = new StringBuilder();\r\n                sub.append(&quot;xxxasd&quot;);\r\n                return &quot;xxxasd&quot;;\r\n            }\r\n            public int hashCode() {\r\n                return fieldName.hashCode();\r\n            }\r\n        \r\n        }\r\n   how to get the value of test1 toString().here why i get null value here? I use string buffer to append the string but I can return the value as string.\r\n\r\n","title":"toString() givies null value and why?","body":"<pre><code>  public class TestString {\n            public Test test1;\n    \n                  @Override\n            public String toString() {\n                StringBuilder sub = new StringBuilder();\n                sub.append(test1);\n                sub.append(&quot;care ful with NPE&quot;);\n                return test1 +&quot;care ful with NPE&quot;;\n            }\n    \n            public static void main(String[] args) {\n                final TestString testToString = new TestString();\n                System.out.println(testToString);\n                \n            }\n        }\n public class Test {\n        private final String fieldName;\n\n   public Test() {\n            fieldName = &quot;&quot;;\n        }\n        public Test(String fieldName) {\n            this.fieldName = fieldName;\n        }\n    \n        public String toString() {\n            StringBuilder sub = new StringBuilder();\n            sub.append(&quot;xxxasd&quot;);\n            return &quot;xxxasd&quot;;\n        }\n        public int hashCode() {\n            return fieldName.hashCode();\n        }\n    \n    }\n</code></pre>\n<p>how to get the value of test1 toString().here why i get null value here? I use string buffer to append the string but I can return the value as string.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8991,"page":1001,"page_size":100}
