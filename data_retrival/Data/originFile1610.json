{"items":[{"tags":["java","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644388083,"creation_date":1644388083,"answer_id":71044914,"question_id":71037568,"body_markdown":"To be able to get the value of the `name` field that exists under the following location:\r\n\r\n    root/Ansatte/Name/$uid\r\n\r\nPlease use the following lines of code:\r\n\r\n\tString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference uidRef = db.child(&quot;Ansatte&quot;).child(&quot;Name&quot;).child(uid);\r\n    uidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n                DataSnapshot snapshot = task.getResult();\r\n\t\t\t\tString name = snapshot.child(&quot;name&quot;).getValue(String.class);\r\n                tvtest.setText(name);\r\n\t\t\t\tLog.d(&quot;TAG&quot;, name);\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nThe result in the logcat will be:\r\n\r\n    name\r\n\r\nAnd this value will be also set to your `tvtest` TextView.\r\n\r\n---\r\nP.S. Don&#39;t forget to have set the proper security rules.","title":"How to get data from a child in Firebase Database?","body":"<p>To be able to get the value of the <code>name</code> field that exists under the following location:</p>\n<pre><code>root/Ansatte/Name/$uid\n</code></pre>\n<p>Please use the following lines of code:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference uidRef = db.child(&quot;Ansatte&quot;).child(&quot;Name&quot;).child(uid);\nuidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            DataSnapshot snapshot = task.getResult();\n            String name = snapshot.child(&quot;name&quot;).getValue(String.class);\n            tvtest.setText(name);\n            Log.d(&quot;TAG&quot;, name);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>name\n</code></pre>\n<p>And this value will be also set to your <code>tvtest</code> TextView.</p>\n<hr />\n<p>P.S. Don't forget to have set the proper security rules.</p>\n"}],"owner":{"account_id":24194927,"reputation":27,"user_id":18153634,"display_name":"TB AS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71044914,"answer_count":1,"score":0,"last_activity_date":1644388083,"creation_date":1644338572,"question_id":71037568,"body_markdown":"I am struggling to get data from a child in my Database to settext in a `TextView`.\r\n\r\nHere is my Database: \r\n[Database][1]\r\n\r\nI think the problem is that I don&#39;t have the Uid right after `Ansatte` but the `name` instead. \r\nIf I take away `name`, and just have `Ansatte`,Uid, and the rest of the data it works. \r\n\r\n\r\nHere is my code for getting data:\r\n\r\n     databaseReference = FirebaseDatabase.getInstance(&quot;&quot;).getReference(&quot;Ansatte&quot;);\r\n        btnadd = (findViewById(R.id.btn_leggtilansatt));\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        currentid = mAuth.getCurrentUser().getUid();\r\n\r\n\r\n\r\n\r\n        tvtest = findViewById(R.id.tvtest);\r\n\r\n        databaseReference.child(currentid).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if (snapshot.exists()){\r\n                    String user = snapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n                    tvtest.setText(user);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\nAnd here is the code for storing:\r\n\r\n    private void add() {\r\n        String name = editText1.getText().toString().trim();\r\n        String email = editText2.getText().toString().trim();\r\n        String storage = editText3.getText().toString().trim();\r\n        String password = tv.getText().toString().trim();\r\n\r\n        if (!TextUtils.isEmpty(name)){\r\n\r\n\r\n\r\n\r\n\r\n            mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                    if (task.isSuccessful()){\r\n\r\n                        Ansatt ansatt = new Ansatt (name, email, storage);\r\n\r\n                        databaseAnsatt.child(name).child(mAuth.getUid()).setValue(ansatt);\r\n\r\n                        Toast.makeText(getApplicationContext(), &quot;Hei&quot; , Toast.LENGTH_LONG).toString().trim();\r\n                        Intent intent = new Intent(AddEmployeeActivity.this, MainActivity.class);\r\n                        startActivity(intent);\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OJAvp.png","title":"How to get data from a child in Firebase Database?","body":"<p>I am struggling to get data from a child in my Database to settext in a <code>TextView</code>.</p>\n<p>Here is my Database:\n<a href=\"https://i.stack.imgur.com/OJAvp.png\" rel=\"nofollow noreferrer\">Database</a></p>\n<p>I think the problem is that I don't have the Uid right after <code>Ansatte</code> but the <code>name</code> instead.\nIf I take away <code>name</code>, and just have <code>Ansatte</code>,Uid, and the rest of the data it works.</p>\n<p>Here is my code for getting data:</p>\n<pre><code> databaseReference = FirebaseDatabase.getInstance(&quot;&quot;).getReference(&quot;Ansatte&quot;);\n    btnadd = (findViewById(R.id.btn_leggtilansatt));\n\n    mAuth = FirebaseAuth.getInstance();\n    currentid = mAuth.getCurrentUser().getUid();\n\n\n\n\n    tvtest = findViewById(R.id.tvtest);\n\n    databaseReference.child(currentid).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            if (snapshot.exists()){\n                String user = snapshot.child(&quot;name&quot;).getValue().toString();\n\n                tvtest.setText(user);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n</code></pre>\n<p>And here is the code for storing:</p>\n<pre><code>private void add() {\n    String name = editText1.getText().toString().trim();\n    String email = editText2.getText().toString().trim();\n    String storage = editText3.getText().toString().trim();\n    String password = tv.getText().toString().trim();\n\n    if (!TextUtils.isEmpty(name)){\n\n\n\n\n\n        mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                if (task.isSuccessful()){\n\n                    Ansatt ansatt = new Ansatt (name, email, storage);\n\n                    databaseAnsatt.child(name).child(mAuth.getUid()).setValue(ansatt);\n\n                    Toast.makeText(getApplicationContext(), &quot;Hei&quot; , Toast.LENGTH_LONG).toString().trim();\n                    Intent intent = new Intent(AddEmployeeActivity.this, MainActivity.class);\n                    startActivity(intent);\n                }\n            }\n        });\n\n    }\n</code></pre>\n"},{"tags":["java","tomcat","drools","tomcat9"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1613748816,"post_id":66248688,"comment_id":117179967,"body_markdown":"That class is part of drools-core. Check your classpath that this dependency/jar is being included in your build.","body":"That class is part of drools-core. Check your classpath that this dependency/jar is being included in your build."},{"owner":{"account_id":16563530,"reputation":11,"user_id":11968826,"display_name":"ABHISHEK KUMAR"},"score":0,"creation_date":1613960917,"post_id":66248688,"comment_id":117228890,"body_markdown":"Yes. that i verified. drools-core jar is present in webapp&#39;s WEB-INF/lib.\n\nInteresting thing is when i place the same war file in tomcat 7, it works but it does not work in tomcat 9.","body":"Yes. that i verified. drools-core jar is present in webapp&#39;s WEB-INF/lib.  Interesting thing is when i place the same war file in tomcat 7, it works but it does not work in tomcat 9."}],"owner":{"account_id":16563530,"reputation":11,"user_id":11968826,"display_name":"ABHISHEK KUMAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644388037,"creation_date":1613589801,"question_id":66248688,"body_markdown":"Facing issues with drools jars when upgrading tomcat to tomcat9.\r\n\r\nI had a drools based rule engine deployed in a tomcat 7. I was using 7.28.0.Final for drools.\r\n\r\nWhen I upgraded the tomcat to tomcat 9, it started giving me following exception\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: Unable to load dialect &#39;org.drools.compiler.rule.builder.dialect.java.JavaDialectConfiguration:java:null&#39;\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.addDialect(KnowledgeBuilderConfigurationImpl.java:394)\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.buildDialectConfigurationMap(KnowledgeBuilderConfigurationImpl.java:380)\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.init(KnowledgeBuilderConfigurationImpl.java:235)\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.init(KnowledgeBuilderConfigurationImpl.java:187)\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.&lt;init&gt;(KnowledgeBuilderConfigurationImpl.java:177)\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.&lt;init&gt;(KnowledgeBuilderImpl.java:293)\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.&lt;init&gt;(KnowledgeBuilderImpl.java:229)\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderFactoryServiceImpl.newKnowledgeBuilder(KnowledgeBuilderFactoryServiceImpl.java:54)\r\n            at org.kie.internal.builder.KnowledgeBuilderFactory.newKnowledgeBuilder(KnowledgeBuilderFactory.java:48)\r\n            at com.rbccm.fic.mrd.ruleEngine.evaluation.util.evaluator.impl.ModelMappingFileRulesKnowldegeBase.createKnowledgeBase(ModelMappingFileRulesKnowldegeBase.java:44)\r\n            at com.rbccm.fic.mrd.ruleEngine.evaluation.util.ModelMappingEvaluatorUtil.evaluateAndCreateOutputs(ModelMappingEvaluatorUtil.java:76)\r\n            at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.getResponseForASource(ModelMappingRequestProcessorImpl.java:85)\r\n            at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.get(ModelMappingRequestProcessorImpl.java:62)\r\n            at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.get(ModelMappingRequestProcessorImpl.java:21)\r\n            at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\r\n            at java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1596)\r\n            at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n            at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n            at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n            at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n    Caused by: java.lang.ClassNotFoundException: org.drools.compiler.rule.builder.dialect.java.JavaDialectConfiguration\r\n            at org.drools.core.common.ProjectClassLoader.tryDefineType(ProjectClassLoader.java:197)\r\n            at org.drools.core.common.ProjectClassLoader.loadType(ProjectClassLoader.java:187)\r\n            at org.drools.core.common.ProjectClassLoader.loadClass(ProjectClassLoader.java:154)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.addDialect(KnowledgeBuilderConfigurationImpl.java:388)\r\n```\r\n\r\n\r\nThen I upgraded the Drools to much higher version 7.49.0.Final and now I am getting same error but for some other class.\r\n\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: Error loading accumulate function for identifier sumBD. Class org.drools.core.base.accumulators.BigDecimalSumAccumulateFunction not found\r\n\tat org.drools.compiler.rule.builder.util.AccumulateUtil.loadAccumulateFunction(AccumulateUtil.java:63)\r\n\tat org.drools.compiler.rule.builder.util.AccumulateUtil.buildAccumulateFunctionsMap(AccumulateUtil.java:84)\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.init(KnowledgeBuilderConfigurationImpl.java:245)\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.init(KnowledgeBuilderConfigurationImpl.java:197)\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.&lt;init&gt;(KnowledgeBuilderConfigurationImpl.java:187)\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.&lt;init&gt;(KnowledgeBuilderImpl.java:291)\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.&lt;init&gt;(KnowledgeBuilderImpl.java:227)\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderFactoryServiceImpl.newKnowledgeBuilder(KnowledgeBuilderFactoryServiceImpl.java:54)\r\n\tat org.kie.internal.builder.KnowledgeBuilderFactory.newKnowledgeBuilder(KnowledgeBuilderFactory.java:52)\r\n\tat com.rbccm.fic.mrd.ruleEngine.evaluation.util.evaluator.impl.ModelMappingFileRulesKnowldegeBase.createKnowledgeBase(ModelMappingFileRulesKnowldegeBase.java:44)\r\n\tat com.rbccm.fic.mrd.ruleEngine.evaluation.util.ModelMappingEvaluatorUtil.evaluateAndCreateOutputs(ModelMappingEvaluatorUtil.java:88)\r\n\tat com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.getResponseForASource(ModelMappingRequestProcessorImpl.java:85)\r\n\tat com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.get(ModelMappingRequestProcessorImpl.java:62)\r\n\tat com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.get(ModelMappingRequestProcessorImpl.java:21)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1582)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.ClassNotFoundException: org.drools.core.base.accumulators.BigDecimalSumAccumulateFunction\r\n\tat org.drools.reflective.classloader.ProjectClassLoader.tryDefineType(ProjectClassLoader.java:171)\r\n\tat org.drools.reflective.classloader.ProjectClassLoader.loadType(ProjectClassLoader.java:161)\r\n\tat org.drools.reflective.classloader.ProjectClassLoader.loadClass(ProjectClassLoader.java:128)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\tat org.drools.compiler.rule.builder.util.AccumulateUtil.loadAccumulateFunction(AccumulateUtil.java:60)\r\n\t... 19 more\r\n```","title":"Drools ClassCastException when tomcat upgraded from tomcat 7 to tomcat 9","body":"<p>Facing issues with drools jars when upgrading tomcat to tomcat9.</p>\n<p>I had a drools based rule engine deployed in a tomcat 7. I was using 7.28.0.Final for drools.</p>\n<p>When I upgraded the tomcat to tomcat 9, it started giving me following exception</p>\n<pre><code>Caused by: java.lang.RuntimeException: Unable to load dialect 'org.drools.compiler.rule.builder.dialect.java.JavaDialectConfiguration:java:null'\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.addDialect(KnowledgeBuilderConfigurationImpl.java:394)\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.buildDialectConfigurationMap(KnowledgeBuilderConfigurationImpl.java:380)\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.init(KnowledgeBuilderConfigurationImpl.java:235)\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.init(KnowledgeBuilderConfigurationImpl.java:187)\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.&lt;init&gt;(KnowledgeBuilderConfigurationImpl.java:177)\n            at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.&lt;init&gt;(KnowledgeBuilderImpl.java:293)\n            at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.&lt;init&gt;(KnowledgeBuilderImpl.java:229)\n            at org.drools.compiler.builder.impl.KnowledgeBuilderFactoryServiceImpl.newKnowledgeBuilder(KnowledgeBuilderFactoryServiceImpl.java:54)\n            at org.kie.internal.builder.KnowledgeBuilderFactory.newKnowledgeBuilder(KnowledgeBuilderFactory.java:48)\n            at com.rbccm.fic.mrd.ruleEngine.evaluation.util.evaluator.impl.ModelMappingFileRulesKnowldegeBase.createKnowledgeBase(ModelMappingFileRulesKnowldegeBase.java:44)\n            at com.rbccm.fic.mrd.ruleEngine.evaluation.util.ModelMappingEvaluatorUtil.evaluateAndCreateOutputs(ModelMappingEvaluatorUtil.java:76)\n            at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.getResponseForASource(ModelMappingRequestProcessorImpl.java:85)\n            at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.get(ModelMappingRequestProcessorImpl.java:62)\n            at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.get(ModelMappingRequestProcessorImpl.java:21)\n            at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\n            at java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1596)\n            at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n            at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n            at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n            at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n    Caused by: java.lang.ClassNotFoundException: org.drools.compiler.rule.builder.dialect.java.JavaDialectConfiguration\n            at org.drools.core.common.ProjectClassLoader.tryDefineType(ProjectClassLoader.java:197)\n            at org.drools.core.common.ProjectClassLoader.loadType(ProjectClassLoader.java:187)\n            at org.drools.core.common.ProjectClassLoader.loadClass(ProjectClassLoader.java:154)\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n            at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.addDialect(KnowledgeBuilderConfigurationImpl.java:388)\n</code></pre>\n<p>Then I upgraded the Drools to much higher version 7.49.0.Final and now I am getting same error but for some other class.</p>\n<pre><code>Caused by: java.lang.RuntimeException: Error loading accumulate function for identifier sumBD. Class org.drools.core.base.accumulators.BigDecimalSumAccumulateFunction not found\n    at org.drools.compiler.rule.builder.util.AccumulateUtil.loadAccumulateFunction(AccumulateUtil.java:63)\n    at org.drools.compiler.rule.builder.util.AccumulateUtil.buildAccumulateFunctionsMap(AccumulateUtil.java:84)\n    at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.init(KnowledgeBuilderConfigurationImpl.java:245)\n    at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.init(KnowledgeBuilderConfigurationImpl.java:197)\n    at org.drools.compiler.builder.impl.KnowledgeBuilderConfigurationImpl.&lt;init&gt;(KnowledgeBuilderConfigurationImpl.java:187)\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.&lt;init&gt;(KnowledgeBuilderImpl.java:291)\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.&lt;init&gt;(KnowledgeBuilderImpl.java:227)\n    at org.drools.compiler.builder.impl.KnowledgeBuilderFactoryServiceImpl.newKnowledgeBuilder(KnowledgeBuilderFactoryServiceImpl.java:54)\n    at org.kie.internal.builder.KnowledgeBuilderFactory.newKnowledgeBuilder(KnowledgeBuilderFactory.java:52)\n    at com.rbccm.fic.mrd.ruleEngine.evaluation.util.evaluator.impl.ModelMappingFileRulesKnowldegeBase.createKnowledgeBase(ModelMappingFileRulesKnowldegeBase.java:44)\n    at com.rbccm.fic.mrd.ruleEngine.evaluation.util.ModelMappingEvaluatorUtil.evaluateAndCreateOutputs(ModelMappingEvaluatorUtil.java:88)\n    at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.getResponseForASource(ModelMappingRequestProcessorImpl.java:85)\n    at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.get(ModelMappingRequestProcessorImpl.java:62)\n    at com.rbccm.fic.productcode.service.evaluation.impl.processor.ModelMappingRequestProcessorImpl.get(ModelMappingRequestProcessorImpl.java:21)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1582)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\nCaused by: java.lang.ClassNotFoundException: org.drools.core.base.accumulators.BigDecimalSumAccumulateFunction\n    at org.drools.reflective.classloader.ProjectClassLoader.tryDefineType(ProjectClassLoader.java:171)\n    at org.drools.reflective.classloader.ProjectClassLoader.loadType(ProjectClassLoader.java:161)\n    at org.drools.reflective.classloader.ProjectClassLoader.loadClass(ProjectClassLoader.java:128)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at org.drools.compiler.rule.builder.util.AccumulateUtil.loadAccumulateFunction(AccumulateUtil.java:60)\n    ... 19 more\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496320488,"creation_date":1496320488,"answer_id":44307693,"question_id":44307104,"body_markdown":"You are explicitly closing the context just after starting it. This doesn&#39;t allow it enough time to receive and process events. The `start` method doesn&#39;t block (at least in camel 2).\r\n\r\nYou need to block after Camel start. For that you have some options:\r\n\r\n* Block using `Thread.currentThread().join();` just after `ctx.start();`\r\n* Block using the camel utility class, See [thiese javadocs][1]\r\n\r\n\r\n  [1]: http://camel.apache.org/maven/camel-2.15.0/camel-core/apidocs/org/apache/camel/main/MainSupport.html","title":"Apache Camel - Context getting closed before job ends","body":"<p>You are explicitly closing the context just after starting it. This doesn't allow it enough time to receive and process events. The <code>start</code> method doesn't block (at least in camel 2).</p>\n\n<p>You need to block after Camel start. For that you have some options:</p>\n\n<ul>\n<li>Block using <code>Thread.currentThread().join();</code> just after <code>ctx.start();</code></li>\n<li>Block using the camel utility class, See <a href=\"http://camel.apache.org/maven/camel-2.15.0/camel-core/apidocs/org/apache/camel/main/MainSupport.html\" rel=\"nofollow noreferrer\">thiese javadocs</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":273136,"reputation":1626,"user_id":564553,"accept_rate":92,"display_name":"BPS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496321808,"creation_date":1496321808,"answer_id":44308169,"question_id":44307104,"body_markdown":"Camel&#39;s MainSupport classes may be what you want.\r\n\r\nIf you only expect to copy one file, then the following will also work:\r\n\r\nPass a CountDownLatch to the constructor of your HdfsRouteBuilder1.  Then call await on the CountDownLatch after your call to ctx.start.\r\n\r\nInside your HdfsRouteBuilder1, count down the latch after it&#39;s done.\r\n\r\nIf you expect there to be more than one file, then this won&#39;t work.","title":"Apache Camel - Context getting closed before job ends","body":"<p>Camel's MainSupport classes may be what you want.</p>\n\n<p>If you only expect to copy one file, then the following will also work:</p>\n\n<p>Pass a CountDownLatch to the constructor of your HdfsRouteBuilder1.  Then call await on the CountDownLatch after your call to ctx.start.</p>\n\n<p>Inside your HdfsRouteBuilder1, count down the latch after it's done.</p>\n\n<p>If you expect there to be more than one file, then this won't work.</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496322328,"creation_date":1496322328,"answer_id":44308381,"question_id":44307104,"body_markdown":"See this FAQ about running Camel standalone: http://camel.apache.org/running-camel-standalone.html and in particular this link: http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html","title":"Apache Camel - Context getting closed before job ends","body":"<p>See this FAQ about running Camel standalone: <a href=\"http://camel.apache.org/running-camel-standalone.html\" rel=\"nofollow noreferrer\">http://camel.apache.org/running-camel-standalone.html</a> and in particular this link: <a href=\"http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html\" rel=\"nofollow noreferrer\">http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html</a></p>\n"},{"tags":[],"owner":{"account_id":12708689,"reputation":1,"user_id":9233003,"display_name":"Biswajit Jana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644387881,"creation_date":1644387881,"answer_id":71044889,"question_id":44307104,"body_markdown":"You can use Thread.sleep(Time_in_millisecond) after starting camel context.\r\nOr else you can use camel main instead of DefaultCamelContext.\r\n\r\n    Main main = new Main();\r\n    main.configure().addRoutesBuilder(anotherRouteBuilder);\r\n    main.run();","title":"Apache Camel - Context getting closed before job ends","body":"<p>You can use Thread.sleep(Time_in_millisecond) after starting camel context.\nOr else you can use camel main instead of DefaultCamelContext.</p>\n<pre><code>Main main = new Main();\nmain.configure().addRoutesBuilder(anotherRouteBuilder);\nmain.run();\n</code></pre>\n"}],"owner":{"account_id":973008,"reputation":320,"user_id":5096888,"accept_rate":58,"display_name":"Anuj Mehra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44308381,"answer_count":4,"score":2,"last_activity_date":1644387881,"creation_date":1496318800,"question_id":44307104,"body_markdown":"I am creating a basic route to copy files from one folder to another.\r\n\r\nMy ultimate goal, if to have a multiple routes in my application, and every route will be invoked as a step in batch process, one after the other. So I will have to start and stop camel context for each route.\r\n\r\nI have written following code.\r\n\r\nBut camel context end&#39;s before completing the job.\r\n\r\nI can&#39;t put thread sleep, as I am not sure how much time job will take.\r\n\r\nAny help in this regard will be great help.\r\n\r\n\r\n    public class FileTransporter {\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tHdfsRouteBuilder1 anotherRouteBuilder =new HdfsRouteBuilder1();\r\n\t\t\r\n\t\tCamelContext ctx = new DefaultCamelContext();\r\n\t\t\r\n\t\ttry{\r\n\t\t\tctx.addRoutes(anotherRouteBuilder);\r\n\t\t\t\r\n\t\t\tctx.start();\r\n\t\r\n\t\t\tctx.stop();\r\n\t\t} catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}//end of main method\r\n    }\r\n\r\n    public class HdfsRouteBuilder1 extends RouteBuilder{\r\n\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\r\n\t\tfrom(&quot;file://E:/test/?noop=true&quot;)\r\n\t\t.threads(1)\r\n\t\t.to(&quot;file://E:/test1/&quot;);\r\n\t}\r\n    }\r\n\r\nI also tried using oncompletion() option, in route, but that also doesn&#39;t help.\r\n\r\nThanks","title":"Apache Camel - Context getting closed before job ends","body":"<p>I am creating a basic route to copy files from one folder to another.</p>\n\n<p>My ultimate goal, if to have a multiple routes in my application, and every route will be invoked as a step in batch process, one after the other. So I will have to start and stop camel context for each route.</p>\n\n<p>I have written following code.</p>\n\n<p>But camel context end's before completing the job.</p>\n\n<p>I can't put thread sleep, as I am not sure how much time job will take.</p>\n\n<p>Any help in this regard will be great help.</p>\n\n<pre><code>public class FileTransporter {\n\n\npublic static void main(String[] args) {\n\n    HdfsRouteBuilder1 anotherRouteBuilder =new HdfsRouteBuilder1();\n\n    CamelContext ctx = new DefaultCamelContext();\n\n    try{\n        ctx.addRoutes(anotherRouteBuilder);\n\n        ctx.start();\n\n        ctx.stop();\n    } catch(Exception e){\n        e.printStackTrace();\n    }\n}//end of main method\n}\n\npublic class HdfsRouteBuilder1 extends RouteBuilder{\n\n@Override\npublic void configure() throws Exception {\n\n    from(\"file://E:/test/?noop=true\")\n    .threads(1)\n    .to(\"file://E:/test1/\");\n}\n}\n</code></pre>\n\n<p>I also tried using oncompletion() option, in route, but that also doesn't help.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","json","imageview"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1644386448,"post_id":71044649,"comment_id":125590074,"body_markdown":"Not sure what you are asking but does https://stackoverflow.com/questions/34485420/how-do-you-put-an-image-file-in-a-json-object answer your question?","body":"Not sure what you are asking but does <a href=\"https://stackoverflow.com/questions/34485420/how-do-you-put-an-image-file-in-a-json-object\" title=\"how do you put an image file in a json object\">stackoverflow.com/questions/34485420/&hellip;</a> answer your question?"}],"answers":[{"tags":[],"owner":{"account_id":21205098,"reputation":63,"user_id":15594906,"display_name":"NJAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644386447,"creation_date":1644386447,"answer_id":71044677,"question_id":71044649,"body_markdown":"Say your json is something like:\r\n\r\n    const book = {\r\n    id: 1,\r\n    title: &quot;my title&quot;,\r\n    img:&quot;/image/file.png&quot;,\r\n    ...\r\n    }\r\n    ...\r\n\r\nyou may pass that object directly in your image tag:\r\n\r\neg.\r\n\r\n    &lt;img src=&quot;{book.img}&quot; /&gt;","title":"I Want to load image from json in my assest as a string and then pass it to an imageview. How to do it?","body":"<p>Say your json is something like:</p>\n<pre><code>const book = {\nid: 1,\ntitle: &quot;my title&quot;,\nimg:&quot;/image/file.png&quot;,\n...\n}\n...\n</code></pre>\n<p>you may pass that object directly in your image tag:</p>\n<p>eg.</p>\n<pre><code>&lt;img src=&quot;{book.img}&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23655286,"reputation":261,"user_id":17683676,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644386894,"creation_date":1644386894,"answer_id":71044727,"question_id":71044649,"body_markdown":"You can use Library like Glide and Picasso for load image in imageview as a string \r\nPlease check below link \r\nhttps://stackoverflow.com/questions/45232608/how-to-load-image-into-imageview-from-url-using-glide-v4-0-0rc1","title":"I Want to load image from json in my assest as a string and then pass it to an imageview. How to do it?","body":"<p>You can use Library like Glide and Picasso for load image in imageview as a string\nPlease check below link\n<a href=\"https://stackoverflow.com/questions/45232608/how-to-load-image-into-imageview-from-url-using-glide-v4-0-0rc1\">How to load Image into ImageView from Url using Glide v4.0.0RC1</a></p>\n"},{"tags":[],"owner":{"account_id":18728352,"reputation":76,"user_id":13654416,"display_name":"AlexAlbu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644386954,"creation_date":1644386954,"answer_id":71044745,"question_id":71044649,"body_markdown":"If you want to store the whole image in your JSON, than you could use base64 to convert from byte[] to String and vice versa. Java has base64 encoders and decoders in it&#39;s util packages. Wiki page: &lt;https://en.wikipedia.org/wiki/Base64&gt;.","title":"I Want to load image from json in my assest as a string and then pass it to an imageview. How to do it?","body":"<p>If you want to store the whole image in your JSON, than you could use base64 to convert from byte[] to String and vice versa. Java has base64 encoders and decoders in it's util packages. Wiki page: <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Base64</a>.</p>\n"}],"owner":{"account_id":20858235,"reputation":11,"user_id":15321043,"display_name":"ASAD JAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1644387857,"creation_date":1644386156,"question_id":71044649,"body_markdown":"I Want to load image from json in my assest as a string  and then pass it  to an imageview. How to do it?","title":"I Want to load image from json in my assest as a string and then pass it to an imageview. How to do it?","body":"<p>I Want to load image from json in my assest as a string  and then pass it  to an imageview. How to do it?</p>\n"},{"tags":["java","swing","layout","gridbaglayout"],"comments":[{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":1,"creation_date":1336758075,"post_id":10556034,"comment_id":13661725,"body_markdown":"GridBagLayout is fairly difficult to write with by hand, especially for people new to Swing.  You could achieve that layout far more simply through the use of BorderLayout, having a panel for the left side that contains the three left side components.","body":"GridBagLayout is fairly difficult to write with by hand, especially for people new to Swing.  You could achieve that layout far more simply through the use of BorderLayout, having a panel for the left side that contains the three left side components."},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":0,"creation_date":1336758249,"post_id":10556034,"comment_id":13661776,"body_markdown":"Agreed that GridBagLayout is overly complex, especially if you are new to swing. I recommend using either MigLayout or JGoodies FormLayout. The allow for complex layouts but make it a lot more clear on how to layout the panels.","body":"Agreed that GridBagLayout is overly complex, especially if you are new to swing. I recommend using either MigLayout or JGoodies FormLayout. The allow for complex layouts but make it a lot more clear on how to layout the panels."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1336758251,"post_id":10556034,"comment_id":13661779,"body_markdown":"Related: http://stackoverflow.com/questions/10333559/gridbaglayout-jscrollpane-how-to-reduce-row-height","body":"Related: <a href=\"http://stackoverflow.com/questions/10333559/gridbaglayout-jscrollpane-how-to-reduce-row-height\" title=\"gridbaglayout jscrollpane how to reduce row height\">stackoverflow.com/questions/10333559/&hellip;</a>"},{"owner":{"account_id":1369968,"reputation":603,"user_id":1305463,"accept_rate":75,"display_name":"cgasser"},"score":0,"creation_date":1336758663,"post_id":10556034,"comment_id":13661932,"body_markdown":"@Vulcan  I&#39;m trying to learn swing, not go with what is easiest. I&#39;ll give BorderLayout a try, I just thought GridBagLayout seemed the most versatile and be most useful to use in the long run.","body":"@Vulcan  I&#39;m trying to learn swing, not go with what is easiest. I&#39;ll give BorderLayout a try, I just thought GridBagLayout seemed the most versatile and be most useful to use in the long run."},{"owner":{"account_id":1369968,"reputation":603,"user_id":1305463,"accept_rate":75,"display_name":"cgasser"},"score":0,"creation_date":1336758749,"post_id":10556034,"comment_id":13661960,"body_markdown":"@JeffStorey I want to try to learn the libraries included in java then I&#39;ll move on to use something like JGoodies.","body":"@JeffStorey I want to try to learn the libraries included in java then I&#39;ll move on to use something like JGoodies."},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1336758871,"post_id":10556034,"comment_id":13662005,"body_markdown":"@Zexanima GridBagLayout is generally intended for GUI builders rather than hand coding.  It&#39;s possible to do, but terribly inconvenient.  GridBagLayout is the most versatile, you&#39;re right, but if you want to make extremely complex GUIs, you should use a GUI builder tool such as Netbeans GUI builder or JFormDesigner.","body":"@Zexanima GridBagLayout is generally intended for GUI builders rather than hand coding.  It&#39;s possible to do, but terribly inconvenient.  GridBagLayout is the most versatile, you&#39;re right, but if you want to make extremely complex GUIs, you should use a GUI builder tool such as Netbeans GUI builder or JFormDesigner."},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":0,"creation_date":1336758874,"post_id":10556034,"comment_id":13662007,"body_markdown":"@Zexanima, while I understand that, GridBagLayout is not usually used in practice (in my experiences) because of its complexity. There is definite value in learning the layouts that you will likely use like BorderLayout, GridLayout, etc. But take advantage of the fact that these other layout managers exist.","body":"@Zexanima, while I understand that, GridBagLayout is not usually used in practice (in my experiences) because of its complexity. There is definite value in learning the layouts that you will likely use like BorderLayout, GridLayout, etc. But take advantage of the fact that these other layout managers exist."},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":1,"creation_date":1336759426,"post_id":10556034,"comment_id":13662209,"body_markdown":"I kind of disagree that GridBagLayout should only be used with GUI builders. I personnally don&#39;t like GUI builders, but that&#39;s religious. GridBagLayout has some basic concepts that may look difficult to learn but are actually quite logic. The parallel with HTML table is obvious and basing your thinking on that makes it not that hard to master. Combine a GridBagLayout with a Model, and it becomes both very powerful and easy to write. For what it&#39;s worth, I tend to use mainly BorderLayout, GridBagLayout and sometimes FlowLayout.","body":"I kind of disagree that GridBagLayout should only be used with GUI builders. I personnally don&#39;t like GUI builders, but that&#39;s religious. GridBagLayout has some basic concepts that may look difficult to learn but are actually quite logic. The parallel with HTML table is obvious and basing your thinking on that makes it not that hard to master. Combine a GridBagLayout with a Model, and it becomes both very powerful and easy to write. For what it&#39;s worth, I tend to use mainly BorderLayout, GridBagLayout and sometimes FlowLayout."}],"answers":[{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1336758655,"creation_date":1336758655,"answer_id":10556258,"question_id":10556034,"body_markdown":"What you could do, and probably gives the desired result\r\n\r\n    JPanel somethingHere = ...;\r\n    JPanel chat = ...;\r\n    JPanel userList = ...;\r\n    \r\n    JPanel leftPanel = new JPanel( new BorderLayout() );\r\n    leftPanel.add( somethingHere, BorderLayout.CENTER );\r\n    leftPanel.add( chat, BorderLayout.SOUTH );\r\n    \r\n    JPanel total = new JPanel( new BorderLayout() );\r\n    total.add( leftPanel, BorderLayout.CENTER );\r\n    total.add( userList, BorderLayout.EAST );\r\n\r\nWay simpler then messing with `GridBagLayout`","title":"Aligning panels with GridBagLayout","body":"<p>What you could do, and probably gives the desired result</p>\n\n<pre><code>JPanel somethingHere = ...;\nJPanel chat = ...;\nJPanel userList = ...;\n\nJPanel leftPanel = new JPanel( new BorderLayout() );\nleftPanel.add( somethingHere, BorderLayout.CENTER );\nleftPanel.add( chat, BorderLayout.SOUTH );\n\nJPanel total = new JPanel( new BorderLayout() );\ntotal.add( leftPanel, BorderLayout.CENTER );\ntotal.add( userList, BorderLayout.EAST );\n</code></pre>\n\n<p>Way simpler then messing with <code>GridBagLayout</code></p>\n"},{"tags":[],"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1336839981,"creation_date":1336798444,"answer_id":10561185,"question_id":10556034,"body_markdown":"If you wanted something like this as an output : \r\n\r\n![MESSENGER WINDOW][1]\r\n\r\nYou can take help from this code example, though you can remove the last `ButtonPanel` if you don&#39;t need that : \r\n\r\n    package to.uk.gagandeepbali.swing.messenger.gui;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Color;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class ChatPanel extends JPanel\r\n    {\r\n    \tprivate JButton backButton;\r\n    \tprivate JButton exitButton;\r\n    \tprivate JButton sendButton;\r\n    \t\r\n    \tprivate JTextPane chatPane;\r\n    \tprivate JTextPane namePane;\r\n    \tprivate JTextField chatField;\r\n    \t\r\n    \tprivate GridBagConstraints gbc;\r\n    \t\r\n    \tprivate final int GAP = 10;\r\n    \tprivate final int SMALLGAP = 1;\r\n    \t\r\n    \tpublic ChatPanel()\r\n    \t{\r\n    \t\tgbc = new GridBagConstraints();\r\n    \t}\r\n    \t\r\n    \tprotected void createGUI()\r\n    \t{\r\n    \t\tsetOpaque(true);\r\n    \t\tsetBackground(Color.WHITE);\r\n    \t\tsetLayout(new BorderLayout(5, 5));\r\n    \t\t\r\n    \t\tJPanel centerPanel = new JPanel();\r\n    \t\tcenterPanel.setOpaque(true);\r\n    \t\tcenterPanel.setBackground(Color.WHITE);\r\n    \t\tcenterPanel.setBorder(BorderFactory.createEmptyBorder(GAP, GAP, 0, GAP));\r\n    \t\tcenterPanel.setLayout(new GridBagLayout());\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tgbc.gridwidth = 5;\r\n    \t\tgbc.weightx = 0.8;\r\n    \t\tgbc.weighty = 1.0;\r\n    \t\tgbc.fill = GridBagConstraints.BOTH;\r\n    \t\tgbc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n    \t\tchatPane = new JTextPane();\r\n    \t\tJScrollPane scrollerChat = new JScrollPane();\r\n    \t\tscrollerChat.setBorder(BorderFactory.createTitledBorder(&quot;Chat&quot;));\r\n    \t\tscrollerChat.setViewportView(chatPane);\r\n    \t\tcenterPanel.add(scrollerChat, gbc);\r\n    \t\t\r\n    \t\tgbc.gridx = 5;\r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.weightx = 0.2;\r\n    \t\tnamePane = new JTextPane();\r\n    \t\tJScrollPane scrollerName = new JScrollPane(namePane);\r\n    \t\tscrollerName.setBorder(BorderFactory.createTitledBorder(&quot;Names&quot;));\r\n    \t\tcenterPanel.add(scrollerName, gbc);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 5;\r\n    \t\tgbc.gridwidth = 5;\r\n    \t\tgbc.weightx = 0.8;\r\n    \t\tgbc.weighty = 0.1;\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tchatField = new JTextField();\r\n    \t\tchatField.setOpaque(true);\r\n    \t\tchatField.setBorder(BorderFactory.createCompoundBorder(\r\n    \t\t\t\tBorderFactory.createTitledBorder(&quot;&quot;)\r\n    \t\t\t\t, BorderFactory.createEmptyBorder(SMALLGAP, SMALLGAP, SMALLGAP, SMALLGAP)));\r\n    \t\tcenterPanel.add(chatField, gbc);\r\n    \t\t\r\n    \t\tgbc.gridx = 5;\r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.weightx = 0.2;\r\n    \t\tsendButton = new JButton(&quot;Send&quot;);\r\n    \t\tsendButton.setBorder(BorderFactory.createTitledBorder(&quot;&quot;));\r\n    \t\tcenterPanel.add(sendButton, gbc);\t\t\r\n    \t\t\r\n    \t\tJPanel bottomPanel = new JPanel();\r\n    \t\tbottomPanel.setOpaque(true);\r\n    \t\tbottomPanel.setBackground(Color.WHITE);\r\n    \t\tbottomPanel.setBorder(\r\n    \t\t\t\tBorderFactory.createTitledBorder(&quot;&quot;));\r\n    \t\tbottomPanel.setLayout(new BorderLayout());\r\n    \r\n    \t\tJPanel buttonPanel = new JPanel();\r\n    \t\tbuttonPanel.setOpaque(true);\r\n    \t\tbuttonPanel.setBackground(Color.WHITE);\r\n    \t\tbuttonPanel.setBorder(BorderFactory.createEmptyBorder(GAP, GAP, 0, GAP));\r\n    \t\tbackButton = new JButton(&quot;Back&quot;);\r\n    \t\texitButton = new JButton(&quot;Exit&quot;);\r\n    \t\tbuttonPanel.add(backButton);\r\n    \t\tbuttonPanel.add(exitButton);\r\n    \t\tbottomPanel.add(buttonPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tadd(centerPanel, BorderLayout.CENTER);\r\n    \t\tadd(bottomPanel, BorderLayout.PAGE_END);\r\n    \t}\r\n    \t\r\n    \tpublic JTextPane getChatPane()\r\n    \t{\r\n    \t\treturn chatPane;\r\n    \t}\r\n    \t\r\n    \tpublic JTextPane getNamePane()\r\n    \t{\r\n    \t\treturn namePane;\r\n    \t}\r\n    \t\r\n    \tpublic JTextField getChatField()\r\n    \t{\r\n    \t\treturn chatField;\r\n    \t}\r\n    \t\r\n    \tpublic JButton getExitButton()\r\n    \t{\r\n    \t\treturn exitButton;\r\n    \t}\t\r\n    \t\r\n    \tpublic JButton getBackButton()\r\n    \t{\r\n    \t\treturn backButton;\r\n    \t}\r\n    \t\r\n    \tpublic JButton getSendButton()\r\n    \t{\r\n    \t\treturn sendButton;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Wj8UH.jpg","title":"Aligning panels with GridBagLayout","body":"<p>If you wanted something like this as an output : </p>\n\n<p><img src=\"https://i.stack.imgur.com/Wj8UH.jpg\" alt=\"MESSENGER WINDOW\"></p>\n\n<p>You can take help from this code example, though you can remove the last <code>ButtonPanel</code> if you don't need that : </p>\n\n<pre><code>package to.uk.gagandeepbali.swing.messenger.gui;\n\nimport java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Color;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextPane;\nimport javax.swing.JTextField;\n\npublic class ChatPanel extends JPanel\n{\n    private JButton backButton;\n    private JButton exitButton;\n    private JButton sendButton;\n\n    private JTextPane chatPane;\n    private JTextPane namePane;\n    private JTextField chatField;\n\n    private GridBagConstraints gbc;\n\n    private final int GAP = 10;\n    private final int SMALLGAP = 1;\n\n    public ChatPanel()\n    {\n        gbc = new GridBagConstraints();\n    }\n\n    protected void createGUI()\n    {\n        setOpaque(true);\n        setBackground(Color.WHITE);\n        setLayout(new BorderLayout(5, 5));\n\n        JPanel centerPanel = new JPanel();\n        centerPanel.setOpaque(true);\n        centerPanel.setBackground(Color.WHITE);\n        centerPanel.setBorder(BorderFactory.createEmptyBorder(GAP, GAP, 0, GAP));\n        centerPanel.setLayout(new GridBagLayout());\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 5;\n        gbc.weightx = 0.8;\n        gbc.weighty = 1.0;\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.anchor = GridBagConstraints.FIRST_LINE_START;\n        chatPane = new JTextPane();\n        JScrollPane scrollerChat = new JScrollPane();\n        scrollerChat.setBorder(BorderFactory.createTitledBorder(\"Chat\"));\n        scrollerChat.setViewportView(chatPane);\n        centerPanel.add(scrollerChat, gbc);\n\n        gbc.gridx = 5;\n        gbc.gridwidth = 2;\n        gbc.weightx = 0.2;\n        namePane = new JTextPane();\n        JScrollPane scrollerName = new JScrollPane(namePane);\n        scrollerName.setBorder(BorderFactory.createTitledBorder(\"Names\"));\n        centerPanel.add(scrollerName, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 5;\n        gbc.gridwidth = 5;\n        gbc.weightx = 0.8;\n        gbc.weighty = 0.1;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        chatField = new JTextField();\n        chatField.setOpaque(true);\n        chatField.setBorder(BorderFactory.createCompoundBorder(\n                BorderFactory.createTitledBorder(\"\")\n                , BorderFactory.createEmptyBorder(SMALLGAP, SMALLGAP, SMALLGAP, SMALLGAP)));\n        centerPanel.add(chatField, gbc);\n\n        gbc.gridx = 5;\n        gbc.gridwidth = 2;\n        gbc.weightx = 0.2;\n        sendButton = new JButton(\"Send\");\n        sendButton.setBorder(BorderFactory.createTitledBorder(\"\"));\n        centerPanel.add(sendButton, gbc);       \n\n        JPanel bottomPanel = new JPanel();\n        bottomPanel.setOpaque(true);\n        bottomPanel.setBackground(Color.WHITE);\n        bottomPanel.setBorder(\n                BorderFactory.createTitledBorder(\"\"));\n        bottomPanel.setLayout(new BorderLayout());\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setOpaque(true);\n        buttonPanel.setBackground(Color.WHITE);\n        buttonPanel.setBorder(BorderFactory.createEmptyBorder(GAP, GAP, 0, GAP));\n        backButton = new JButton(\"Back\");\n        exitButton = new JButton(\"Exit\");\n        buttonPanel.add(backButton);\n        buttonPanel.add(exitButton);\n        bottomPanel.add(buttonPanel, BorderLayout.CENTER);\n\n        add(centerPanel, BorderLayout.CENTER);\n        add(bottomPanel, BorderLayout.PAGE_END);\n    }\n\n    public JTextPane getChatPane()\n    {\n        return chatPane;\n    }\n\n    public JTextPane getNamePane()\n    {\n        return namePane;\n    }\n\n    public JTextField getChatField()\n    {\n        return chatField;\n    }\n\n    public JButton getExitButton()\n    {\n        return exitButton;\n    }   \n\n    public JButton getBackButton()\n    {\n        return backButton;\n    }\n\n    public JButton getSendButton()\n    {\n        return sendButton;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1369968,"reputation":603,"user_id":1305463,"accept_rate":75,"display_name":"cgasser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336841162,"creation_date":1336841162,"answer_id":10565615,"question_id":10556034,"body_markdown":"Here is what I came out with thus far. The red box is where I plan to add a simple 2D avatar interface with LWJGL. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9Dsbw.png\r\n\r\nHere is the code for it\r\n\r\n    package com.client.core;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.event.DocumentEvent;\r\n    import javax.swing.event.DocumentListener;\r\n\r\n\r\n    public class Window extends JFrame{\r\n\t\r\n\tprivate int screenWidth = 800;\r\n\tprivate int screenHeight = 600;\r\n\t\r\n\tpublic Window(){\r\n\t\t\r\n\t\t//Initial Setup\r\n\t\tsuper(&quot;NAMEHERE - Chat Client Alpha v0.0.1&quot;);\r\n\t\tsetResizable(true);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetSize(screenWidth,screenHeight);\r\n\r\n\t\t\r\n\t\t//Main Panels\r\n\t\tJPanel window = new JPanel(new BorderLayout());\r\n\t\tJPanel center = new JPanel(new BorderLayout());\r\n\t\tJPanel right = new JPanel(new BorderLayout());\r\n\t\t\r\n\t\t\r\n\t\t//Panels\r\n\t\tJPanel display = new JPanel( new BorderLayout());\r\n\t\tdisplay.setBackground(Color.red);\r\n\t\tJPanel chat = new JPanel();\r\n\t\tchat.setLayout(new BoxLayout(chat, BoxLayout.Y_AXIS));\r\n\t\tchat.setBackground(Color.blue);\r\n\t\tJPanel users = new JPanel(new BorderLayout());\r\n\t\tusers.setBackground(Color.green);\r\n\t\t\r\n\t\t\r\n\t\t//TextFields\r\n\t\tJTextArea chatBox = new JTextArea(&quot;Welcome to the chat!&quot;, 7,50);\r\n\t\tchatBox.setEditable(false);\r\n\t\tJTextField chatWrite = new JTextField();\r\n\t\tJScrollPane userList = new JScrollPane();\r\n\t\tJTextField userSearch = new JTextField(10);\r\n\t\tuserList.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tusers.add(userList);\r\n\t\tusers.add(userSearch, BorderLayout.NORTH);\r\n\t\tchat.add(chatBox);\r\n\t\tchat.add(chatWrite);\r\n\t\tchat.setBorder(BorderFactory.createEmptyBorder(1, 1, 1, 1));\r\n\t\t\r\n\t\t//Menu bar\r\n\t\tJMenuBar menu = new JMenuBar();\r\n\t\t\tJMenu file = new JMenu(&quot;File&quot;);\r\n\t\t\t\tJMenuItem exit = new JMenuItem(&quot;Exit&quot;);\r\n\t\t\t\tJMenuItem ipconnect = new JMenuItem(&quot;Connect to IP&quot;);\r\n\t\tfile.add(ipconnect);\r\n\t\tfile.add(exit);\r\n\t\tmenu.add(file);\r\n\t\t\r\n\t\t\r\n\t\t//Main window adding\r\n\t\tright.add(users);\r\n\t\tcenter.add(display, BorderLayout.CENTER);\r\n\t\tcenter.add(chat, BorderLayout.SOUTH);\r\n\t\twindow.add(center, BorderLayout.CENTER);\r\n\t\twindow.add(right, BorderLayout.EAST);\r\n\t\twindow.add(menu, BorderLayout.NORTH);\r\n\t\tadd(window);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//Listeners\r\n\t\tchatWrite.addKeyListener(new KeyLis());\r\n\t\tipconnect.addActionListener(new ActLis());\r\n\t\texit.addActionListener(new ActLis());\r\n\t}\r\n\t\r\n\r\n\t\t\r\n\t\r\n\t\r\n\r\n\t\r\n\tstatic class KeyLis implements KeyListener{\r\n\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_ENTER){\r\n\t\t\t\tSystem.out.println(&quot;Message recieved.&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tstatic class ActLis implements ActionListener{\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getActionCommand() == &quot;Exit&quot;){\r\n\t\t\tSystem.exit(0);\r\n\t\t} else if(e.getActionCommand() == &quot;Connect to IP&quot;){\r\n\t\t\tSystem.out.println(&quot;Connecting....&quot;);\r\n\t\t\tJFrame frameip = new JFrame();\r\n\t\t\tJPanel panelip = new JPanel();\t\r\n\t\t\tJButton buttonip = new JButton(&quot;Hello&quot;);\r\n\t\t\tframeip.add(panelip);\r\n\t\t\tpanelip.add(buttonip);\r\n\t\t\tJDialog ippop =  new JDialog(frameip, &quot;Enter IP&quot;, false);\r\n\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n","title":"Aligning panels with GridBagLayout","body":"<p>Here is what I came out with thus far. The red box is where I plan to add a simple 2D avatar interface with LWJGL. </p>\n\n<p><img src=\"https://i.stack.imgur.com/9Dsbw.png\" alt=\"enter image description here\"></p>\n\n<p>Here is the code for it</p>\n\n<pre><code>package com.client.core;\n\nimport java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\n\n\npublic class Window extends JFrame{\n\nprivate int screenWidth = 800;\nprivate int screenHeight = 600;\n\npublic Window(){\n\n    //Initial Setup\n    super(\"NAMEHERE - Chat Client Alpha v0.0.1\");\n    setResizable(true);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setSize(screenWidth,screenHeight);\n\n\n    //Main Panels\n    JPanel window = new JPanel(new BorderLayout());\n    JPanel center = new JPanel(new BorderLayout());\n    JPanel right = new JPanel(new BorderLayout());\n\n\n    //Panels\n    JPanel display = new JPanel( new BorderLayout());\n    display.setBackground(Color.red);\n    JPanel chat = new JPanel();\n    chat.setLayout(new BoxLayout(chat, BoxLayout.Y_AXIS));\n    chat.setBackground(Color.blue);\n    JPanel users = new JPanel(new BorderLayout());\n    users.setBackground(Color.green);\n\n\n    //TextFields\n    JTextArea chatBox = new JTextArea(\"Welcome to the chat!\", 7,50);\n    chatBox.setEditable(false);\n    JTextField chatWrite = new JTextField();\n    JScrollPane userList = new JScrollPane();\n    JTextField userSearch = new JTextField(10);\n    userList.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n    users.add(userList);\n    users.add(userSearch, BorderLayout.NORTH);\n    chat.add(chatBox);\n    chat.add(chatWrite);\n    chat.setBorder(BorderFactory.createEmptyBorder(1, 1, 1, 1));\n\n    //Menu bar\n    JMenuBar menu = new JMenuBar();\n        JMenu file = new JMenu(\"File\");\n            JMenuItem exit = new JMenuItem(\"Exit\");\n            JMenuItem ipconnect = new JMenuItem(\"Connect to IP\");\n    file.add(ipconnect);\n    file.add(exit);\n    menu.add(file);\n\n\n    //Main window adding\n    right.add(users);\n    center.add(display, BorderLayout.CENTER);\n    center.add(chat, BorderLayout.SOUTH);\n    window.add(center, BorderLayout.CENTER);\n    window.add(right, BorderLayout.EAST);\n    window.add(menu, BorderLayout.NORTH);\n    add(window);\n\n\n\n\n    //Listeners\n    chatWrite.addKeyListener(new KeyLis());\n    ipconnect.addActionListener(new ActLis());\n    exit.addActionListener(new ActLis());\n}\n\n\n\n\n\n\n\nstatic class KeyLis implements KeyListener{\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if(e.getKeyCode() == KeyEvent.VK_ENTER){\n            System.out.println(\"Message recieved.\");\n        }\n\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n\n\n}\n\nstatic class ActLis implements ActionListener{\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n    if(e.getActionCommand() == \"Exit\"){\n        System.exit(0);\n    } else if(e.getActionCommand() == \"Connect to IP\"){\n        System.out.println(\"Connecting....\");\n        JFrame frameip = new JFrame();\n        JPanel panelip = new JPanel();  \n        JButton buttonip = new JButton(\"Hello\");\n        frameip.add(panelip);\n        panelip.add(buttonip);\n        JDialog ippop =  new JDialog(frameip, \"Enter IP\", false);\n    }\n\n\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4519828,"reputation":505,"user_id":3673444,"display_name":"MosesSoftEng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644387237,"creation_date":1644387237,"answer_id":71044795,"question_id":10556034,"body_markdown":"I had to build a similar layout using a GridBagLayout. The code below shows how I achieved it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class GridBagLayoutTest {\r\n\t    public GridBagLayoutTest() {\r\n\t\t\r\n\t\tJFrame jframe = new JFrame();\r\n\t\tjframe.setLayout(new GridBagLayout());\r\n\t\tjframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tjframe.setSize(800, 600);\r\n\t\tjframe.setVisible(true);\r\n\t\t\r\n\t\t// Left\r\n\t\tJPanel leftPanel = new JPanel(new GridBagLayout());\r\n\t\tleftPanel.setBackground(Color.YELLOW);\r\n\t\t\r\n\t\tGridBagConstraints gridBagConstraints = new GridBagConstraints();\r\n\t\tgridBagConstraints.fill = GridBagConstraints.BOTH;\r\n\t\tgridBagConstraints.weightx = .7f;\r\n\t\tgridBagConstraints.weighty = 1f;\r\n\t\tgridBagConstraints.gridx = 0;\r\n\t\tgridBagConstraints.gridy = 0;\r\n\t\t\r\n\t\tjframe.add(leftPanel, gridBagConstraints);\r\n\t\t\r\n\t\tJPanel leftTopPanel = new JPanel(new FlowLayout());\r\n\t\tleftTopPanel.setBackground(Color.RED);\r\n\t\t\r\n\t\tGridBagConstraints gridBagConstraints0 = new GridBagConstraints();\r\n\t\tgridBagConstraints0.fill = GridBagConstraints.BOTH;\r\n\t\tgridBagConstraints0.weightx = 1f;\r\n\t\tgridBagConstraints0.weighty = .7f;\r\n\t\tgridBagConstraints0.gridx = 0;\r\n\t\tgridBagConstraints0.gridy = 0;\r\n\t\t\r\n\t\tleftPanel.add(leftTopPanel, gridBagConstraints0);\r\n\t\t\r\n\t\tJPanel leftMiddlePanel = new JPanel(new FlowLayout());\r\n\t\tleftMiddlePanel.setBackground(Color.BLACK);\r\n\t\t\r\n\t\tgridBagConstraints0 = new GridBagConstraints();\r\n\t\tgridBagConstraints0.fill = GridBagConstraints.BOTH;\r\n\t\tgridBagConstraints0.weightx = 1f;\r\n\t\tgridBagConstraints0.weighty = .2f;\r\n\t\tgridBagConstraints0.gridx = 0;\r\n\t\tgridBagConstraints0.gridy = 1;\r\n\t\t\r\n\t\tleftPanel.add(leftMiddlePanel, gridBagConstraints0);\r\n\t\t\r\n\t\tJPanel leftBottomBottomPanel = new JPanel(new FlowLayout());\r\n\t\tleftBottomBottomPanel.setBackground(Color.PINK);\r\n\t\t\r\n\t\tgridBagConstraints0 = new GridBagConstraints();\r\n\t\tgridBagConstraints0.fill = GridBagConstraints.BOTH;\r\n\t\tgridBagConstraints0.weightx = 1f;\r\n\t\tgridBagConstraints0.weighty = .1f;\r\n\t\tgridBagConstraints0.gridx = 0;\r\n\t\tgridBagConstraints0.gridy = 2;\r\n\t\t\r\n\t\tleftPanel.add(leftBottomBottomPanel, gridBagConstraints0);\r\n\t\t\r\n\t\t// Right\r\n\t\tJPanel rightPanel = new JPanel();\r\n\t\trightPanel.setBackground(Color.GREEN);\r\n\t\t\r\n\t\tgridBagConstraints = new GridBagConstraints();\r\n\t\tgridBagConstraints.fill = GridBagConstraints.BOTH;\r\n\t\tgridBagConstraints.weightx = .3f;\r\n\t\tgridBagConstraints.weighty = 1f;\r\n\t\tgridBagConstraints.gridx = 1;\r\n\t\tgridBagConstraints.gridy = 0;\r\n\t\t\r\n\t\tjframe.add(rightPanel, gridBagConstraints);\r\n\t}\r\n\r\n\t\r\n\tpublic static void main (String args[]) {\r\n\t\tnew GridBagLayoutTest();\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XZABI.png","title":"Aligning panels with GridBagLayout","body":"<p>I had to build a similar layout using a GridBagLayout. The code below shows how I achieved it.</p>\n<p><a href=\"https://i.stack.imgur.com/XZABI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XZABI.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class GridBagLayoutTest {\n    public GridBagLayoutTest() {\n    \n    JFrame jframe = new JFrame();\n    jframe.setLayout(new GridBagLayout());\n    jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    jframe.setSize(800, 600);\n    jframe.setVisible(true);\n    \n    // Left\n    JPanel leftPanel = new JPanel(new GridBagLayout());\n    leftPanel.setBackground(Color.YELLOW);\n    \n    GridBagConstraints gridBagConstraints = new GridBagConstraints();\n    gridBagConstraints.fill = GridBagConstraints.BOTH;\n    gridBagConstraints.weightx = .7f;\n    gridBagConstraints.weighty = 1f;\n    gridBagConstraints.gridx = 0;\n    gridBagConstraints.gridy = 0;\n    \n    jframe.add(leftPanel, gridBagConstraints);\n    \n    JPanel leftTopPanel = new JPanel(new FlowLayout());\n    leftTopPanel.setBackground(Color.RED);\n    \n    GridBagConstraints gridBagConstraints0 = new GridBagConstraints();\n    gridBagConstraints0.fill = GridBagConstraints.BOTH;\n    gridBagConstraints0.weightx = 1f;\n    gridBagConstraints0.weighty = .7f;\n    gridBagConstraints0.gridx = 0;\n    gridBagConstraints0.gridy = 0;\n    \n    leftPanel.add(leftTopPanel, gridBagConstraints0);\n    \n    JPanel leftMiddlePanel = new JPanel(new FlowLayout());\n    leftMiddlePanel.setBackground(Color.BLACK);\n    \n    gridBagConstraints0 = new GridBagConstraints();\n    gridBagConstraints0.fill = GridBagConstraints.BOTH;\n    gridBagConstraints0.weightx = 1f;\n    gridBagConstraints0.weighty = .2f;\n    gridBagConstraints0.gridx = 0;\n    gridBagConstraints0.gridy = 1;\n    \n    leftPanel.add(leftMiddlePanel, gridBagConstraints0);\n    \n    JPanel leftBottomBottomPanel = new JPanel(new FlowLayout());\n    leftBottomBottomPanel.setBackground(Color.PINK);\n    \n    gridBagConstraints0 = new GridBagConstraints();\n    gridBagConstraints0.fill = GridBagConstraints.BOTH;\n    gridBagConstraints0.weightx = 1f;\n    gridBagConstraints0.weighty = .1f;\n    gridBagConstraints0.gridx = 0;\n    gridBagConstraints0.gridy = 2;\n    \n    leftPanel.add(leftBottomBottomPanel, gridBagConstraints0);\n    \n    // Right\n    JPanel rightPanel = new JPanel();\n    rightPanel.setBackground(Color.GREEN);\n    \n    gridBagConstraints = new GridBagConstraints();\n    gridBagConstraints.fill = GridBagConstraints.BOTH;\n    gridBagConstraints.weightx = .3f;\n    gridBagConstraints.weighty = 1f;\n    gridBagConstraints.gridx = 1;\n    gridBagConstraints.gridy = 0;\n    \n    jframe.add(rightPanel, gridBagConstraints);\n}\n\n\npublic static void main (String args[]) {\n    new GridBagLayoutTest();\n}\n</code></pre>\n"}],"owner":{"account_id":1369968,"reputation":603,"user_id":1305463,"accept_rate":75,"display_name":"cgasser"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8252,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":10556258,"answer_count":4,"score":6,"last_activity_date":1644387237,"creation_date":1336757571,"question_id":10556034,"body_markdown":"I&#39;m not exactly new to java (I&#39;ve been using it for a year now) but this is my first go at swing. I&#39;m trying to make a very simple chat client to learn both socket and swing at once. My question is &quot;What must I do to align my panels correctly?&quot;. I&#39;ve tried a lot of things (Though I don&#39;t have it in my code). Usually I work something like this out on my own, but I&#39;m to the point I need to ask for help.  Do I need to change the wieghtx, weighty? What I want the client to look like is something like this. \r\n\r\n![enter image description here][1]\r\n\r\n\r\nThis is what it currently looks like.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ATtli.png\r\n  [2]: http://i.stack.imgur.com/WNtEl.png\r\n\r\nHere is my code.\r\n\r\n    package com.client.core;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n\r\n\r\n    public class Window extends JFrame{\r\n\t\r\n\tprivate int screenWidth = 800;\r\n\tprivate int screenHeight = 600;\r\n\t\r\n\tpublic Window(){\r\n\t\t\r\n\t\t//Initial Setup\r\n\t\tsuper(&quot;NAMEHERE - Chat Client Alpha v0.0.1&quot;);\r\n\t\tsetResizable(true);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetSize(screenWidth,screenHeight);\r\n\t\tGridBagConstraints c = new GridBagConstraints();\r\n\t\t\r\n\t\t//Main Panel\r\n\t\tJPanel window = new JPanel();\r\n\t\twindow.setLayout(new GridBagLayout());\r\n\t\twindow.setBackground(Color.black);\r\n\t\t\r\n\t\t//Panels\r\n\t\tJPanel display = new JPanel();\r\n\t\tJPanel chat = new JPanel();\r\n\t\tchat.setLayout(new GridBagLayout());\r\n\t\tJPanel users = new JPanel();\r\n\r\n\t\t\r\n\t\tdisplay.setBackground(Color.blue);\r\n\t\tc.gridx = 0;\r\n\t\tc.gridy = 0;\r\n\t\tc.insets= new Insets(5,5,5,5);\r\n\t\twindow.add(display, c);\r\n\t\t\r\n\t\tchat.setBackground(Color.red);\r\n\t\tc.gridx = 0;\r\n\t\tc.gridy = 3;\r\n\t\tc.gridheight = 2;\r\n\t\tc.gridwidth = 1;\r\n\t\tc.insets= new Insets(5,5,5,5);\r\n\t\twindow.add(chat, c);\r\n\t\t\r\n\t\tusers.setBackground(Color.green);\r\n\t\tc.gridx = 2;\r\n\t\tc.gridy = 0;\r\n\t\tc.insets= new Insets(5,5,5,5);\r\n\t\twindow.add(users, c);\r\n\t\t\r\n\t\t//Buttons\r\n\r\n\t\t\r\n\t\t//Text fields\r\n\t\tJTextArea text = new JTextArea(&quot;DEREADFADSFEWFASDFSADFASDF&quot;);\r\n\t\tc.gridx = 0;\r\n\t\tc.gridy = 0;\r\n\t\tchat.add(text);\r\n\t\tJTextField input = new JTextField(&quot;type here to chat&quot;, 50);\r\n\t\tc.gridx = 0;\r\n\t\tc.gridy = 1;\r\n\t\tc.insets= new Insets(5,5,5,5);\r\n\t\tchat.add(input);\r\n\t\t\r\n\t\t\r\n\t\tadd(window);\r\n\r\n\t\t\r\n\t}\r\n\r\n\tstatic class ActLis implements ActionListener{\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n    }\r\n","title":"Aligning panels with GridBagLayout","body":"<p>I'm not exactly new to java (I've been using it for a year now) but this is my first go at swing. I'm trying to make a very simple chat client to learn both socket and swing at once. My question is \"What must I do to align my panels correctly?\". I've tried a lot of things (Though I don't have it in my code). Usually I work something like this out on my own, but I'm to the point I need to ask for help.  Do I need to change the wieghtx, weighty? What I want the client to look like is something like this. </p>\n\n<p><img src=\"https://i.stack.imgur.com/ATtli.png\" alt=\"enter image description here\"></p>\n\n<p>This is what it currently looks like.</p>\n\n<p><img src=\"https://i.stack.imgur.com/WNtEl.png\" alt=\"enter image description here\"></p>\n\n<p>Here is my code.</p>\n\n<pre><code>package com.client.core;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\n\npublic class Window extends JFrame{\n\nprivate int screenWidth = 800;\nprivate int screenHeight = 600;\n\npublic Window(){\n\n    //Initial Setup\n    super(\"NAMEHERE - Chat Client Alpha v0.0.1\");\n    setResizable(true);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setSize(screenWidth,screenHeight);\n    GridBagConstraints c = new GridBagConstraints();\n\n    //Main Panel\n    JPanel window = new JPanel();\n    window.setLayout(new GridBagLayout());\n    window.setBackground(Color.black);\n\n    //Panels\n    JPanel display = new JPanel();\n    JPanel chat = new JPanel();\n    chat.setLayout(new GridBagLayout());\n    JPanel users = new JPanel();\n\n\n    display.setBackground(Color.blue);\n    c.gridx = 0;\n    c.gridy = 0;\n    c.insets= new Insets(5,5,5,5);\n    window.add(display, c);\n\n    chat.setBackground(Color.red);\n    c.gridx = 0;\n    c.gridy = 3;\n    c.gridheight = 2;\n    c.gridwidth = 1;\n    c.insets= new Insets(5,5,5,5);\n    window.add(chat, c);\n\n    users.setBackground(Color.green);\n    c.gridx = 2;\n    c.gridy = 0;\n    c.insets= new Insets(5,5,5,5);\n    window.add(users, c);\n\n    //Buttons\n\n\n    //Text fields\n    JTextArea text = new JTextArea(\"DEREADFADSFEWFASDFSADFASDF\");\n    c.gridx = 0;\n    c.gridy = 0;\n    chat.add(text);\n    JTextField input = new JTextField(\"type here to chat\", 50);\n    c.gridx = 0;\n    c.gridy = 1;\n    c.insets= new Insets(5,5,5,5);\n    chat.add(input);\n\n\n    add(window);\n\n\n}\n\nstatic class ActLis implements ActionListener{\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n}\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-bigquery","bignum","spring-cloud-gcp"],"comments":[{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1644563645,"post_id":71042961,"comment_id":125644588,"body_markdown":"Hi @Vladimir, were you able to update to the latest version of **com.google.cloud:google-cloud-bigquery** library and use the `BIGNUMERIC` enum? If yes, consider accepting the answer so the community knows if you&#39;ve been helped. See [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"Hi @Vladimir, were you able to update to the latest version of <b>com.google.cloud:google-cloud-bigquery</b> library and use the <code>BIGNUMERIC</code> enum? If yes, consider accepting the answer so the community knows if you&#39;ve been helped. See <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"},{"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"score":0,"creation_date":1644686117,"post_id":71042961,"comment_id":125674488,"body_markdown":"Yes thank you for the lead! It looked like there was a very old BOM import for all GCP libraries including BigQuery that was being prioritized over my current imports. Once that was resolved, I saw the BigNumber enumeration. Thank you for your help.","body":"Yes thank you for the lead! It looked like there was a very old BOM import for all GCP libraries including BigQuery that was being prioritized over my current imports. Once that was resolved, I saw the BigNumber enumeration. Thank you for your help."}],"answers":[{"tags":[],"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644387009,"creation_date":1644386247,"answer_id":71044658,"question_id":71042961,"body_markdown":"If you&#39;re using versions [`1.124.7`][1] and below, the enum for **StandardSQLTypeName.BIGNUMERIC** is not yet present. I suggest you use the latest version ([1.125.0][2] and up).\r\n\r\nYou can refer to this [doc][3] for a detailed guide on how to create and use BigQuery table. \r\n\r\n\r\n  [1]: https://googleapis.dev/java/google-cloud-bigquery/1.124.7/index.html?com/google/cloud/bigquery/StandardSQLTypeName.html\r\n  [2]: https://googleapis.dev/java/google-cloud-bigquery/1.125.0/index.html?com/google/cloud/bigquery/StandardSQLTypeName.html\r\n  [3]: https://cloud.google.com/bigquery/docs/tables","title":"Creating BigQuery table column with BIGNUMERIC data type using Java","body":"<p>If you're using versions <a href=\"https://googleapis.dev/java/google-cloud-bigquery/1.124.7/index.html?com/google/cloud/bigquery/StandardSQLTypeName.html\" rel=\"nofollow noreferrer\"><code>1.124.7</code></a> and below, the enum for <strong>StandardSQLTypeName.BIGNUMERIC</strong> is not yet present. I suggest you use the latest version (<a href=\"https://googleapis.dev/java/google-cloud-bigquery/1.125.0/index.html?com/google/cloud/bigquery/StandardSQLTypeName.html\" rel=\"nofollow noreferrer\">1.125.0</a> and up).</p>\n<p>You can refer to this <a href=\"https://cloud.google.com/bigquery/docs/tables\" rel=\"nofollow noreferrer\">doc</a> for a detailed guide on how to create and use BigQuery table.</p>\n"}],"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71044658,"answer_count":1,"score":0,"last_activity_date":1644387009,"creation_date":1644370273,"question_id":71042961,"body_markdown":"When creating BigQuery tables using the Java ***com.google.cloud:google-cloud-bigquery*** library, I don&#39;t see the ***BIGNUMERIC*** column data-type in the **StandardSQLTypeName** enumerations. I see ***NUMERIC*** but not ***BIGNUMERIC***. How would I create a table with a BIGNUMERIC column programmatically? Thanks!\r\n\r\n\r\n      Field f1 = Field.newBuilder(&quot;first_name&quot;, StandardSQLTypeName.STRING).build();\r\n      Field f2 = Field.newBuilder(&quot;score&quot;, StandardSQLTypeName.NUMERIC).build();\r\n      Schema schema = Schema.of(Arrays.asList(f1,f2));\r\n\r\n      TableId tableId = TableId.of(&quot;my_data_set&quot;, &quot;tbl_people&quot;));\r\n      TableDefinition tableDefinition = StandardTableDefinition.of(schema);\r\n      TableInfo tableInfo = TableInfo.newBuilder(tableId, tableDefinition).build();\r\n\r\n      bigQuery.create(tableInfo);","title":"Creating BigQuery table column with BIGNUMERIC data type using Java","body":"<p>When creating BigQuery tables using the Java <em><strong>com.google.cloud:google-cloud-bigquery</strong></em> library, I don't see the <em><strong>BIGNUMERIC</strong></em> column data-type in the <strong>StandardSQLTypeName</strong> enumerations. I see <em><strong>NUMERIC</strong></em> but not <em><strong>BIGNUMERIC</strong></em>. How would I create a table with a BIGNUMERIC column programmatically? Thanks!</p>\n<pre><code>  Field f1 = Field.newBuilder(&quot;first_name&quot;, StandardSQLTypeName.STRING).build();\n  Field f2 = Field.newBuilder(&quot;score&quot;, StandardSQLTypeName.NUMERIC).build();\n  Schema schema = Schema.of(Arrays.asList(f1,f2));\n\n  TableId tableId = TableId.of(&quot;my_data_set&quot;, &quot;tbl_people&quot;));\n  TableDefinition tableDefinition = StandardTableDefinition.of(schema);\n  TableInfo tableInfo = TableInfo.newBuilder(tableId, tableDefinition).build();\n\n  bigQuery.create(tableInfo);\n</code></pre>\n"},{"tags":["java","sorting","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":1310033,"reputation":2369,"user_id":1258206,"accept_rate":50,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1366758175,"creation_date":1366758175,"answer_id":16180596,"question_id":16180569,"body_markdown":"A binary tree can be represented in an array; if this were the case, all you would need to do is sort the array.\r\n\r\nHere&#39;s some more info on representing the tree in the array:  [wikipedia][1]\r\n\r\nThis is not necessarily the most space-efficient representation; the &quot;nodes with references&quot; representation may waste less space.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Binary_tree#Arrays","title":"Turning a Binary Tree to a sorted array","body":"<p>A binary tree can be represented in an array; if this were the case, all you would need to do is sort the array.</p>\n\n<p>Here's some more info on representing the tree in the array:  <a href=\"http://en.wikipedia.org/wiki/Binary_tree#Arrays\" rel=\"nofollow\">wikipedia</a></p>\n\n<p>This is not necessarily the most space-efficient representation; the \"nodes with references\" representation may waste less space.</p>\n"},{"tags":[],"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1366758275,"creation_date":1366758275,"answer_id":16180612,"question_id":16180569,"body_markdown":"What you want is an in-order traversal, which is generally implemented recursively like:\r\n\r\n - Traverse left subtree.\r\n - Handle this node (ie. insert as the next element in your array)\r\n - Traverse right subtree.","title":"Turning a Binary Tree to a sorted array","body":"<p>What you want is an in-order traversal, which is generally implemented recursively like:</p>\n\n<ul>\n<li>Traverse left subtree.</li>\n<li>Handle this node (ie. insert as the next element in your array)</li>\n<li>Traverse right subtree.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1366758282,"creation_date":1366758282,"answer_id":16180615,"question_id":16180569,"body_markdown":"Yes, you can do that: run an [*in-order traversal*][1] of the tree, keep the current position of the array, and store the node&#39;s value at the then-current position of the array.\r\n\r\nYou can do in-order traversal recursively, or you can do it with a stack data structure. If you want to do it recursively, you can do this:\r\n\r\n    int fill_array(Node root, int [] array, int pos) {\r\n        if (root.left != null) {\r\n            pos = fill_array(root.left, array, pos);\r\n        }\r\n        array[pos++] = root.element;\r\n        if (root.right != null) {\r\n            pos = fill_array(root.right, array, pos);\r\n        }\r\n        return pos; // return the last position filled in by this invocation\r\n    }\r\n\r\nNote that in order for the above recursive procedure to work, the caller must allocate enough space in the `array` passed into the function.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Tree_traversal#In-order","title":"Turning a Binary Tree to a sorted array","body":"<p>Yes, you can do that: run an <a href=\"http://en.wikipedia.org/wiki/Tree_traversal#In-order\"><em>in-order traversal</em></a> of the tree, keep the current position of the array, and store the node's value at the then-current position of the array.</p>\n\n<p>You can do in-order traversal recursively, or you can do it with a stack data structure. If you want to do it recursively, you can do this:</p>\n\n<pre><code>int fill_array(Node root, int [] array, int pos) {\n    if (root.left != null) {\n        pos = fill_array(root.left, array, pos);\n    }\n    array[pos++] = root.element;\n    if (root.right != null) {\n        pos = fill_array(root.right, array, pos);\n    }\n    return pos; // return the last position filled in by this invocation\n}\n</code></pre>\n\n<p>Note that in order for the above recursive procedure to work, the caller must allocate enough space in the <code>array</code> passed into the function.</p>\n"},{"tags":[],"owner":{"account_id":24200364,"reputation":1,"user_id":18158278,"display_name":"Deepak K Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644386647,"creation_date":1644386647,"answer_id":71044701,"question_id":16180569,"body_markdown":"    Here is java code for same:\r\n    \r\n    int[] result = new int[9];\r\n    fillArray(tree, result, 0);\r\n    \r\n    public int fillArray(Tree tree, int[] result, int index) {\r\n            if (tree.left != null) {\r\n                index = fillArray(tree.left, result, index);\r\n            }\r\n            result[index++] = tree.val;\r\n    \r\n            if (tree.right != null) {\r\n                index = fillArray(tree.right, result, index);\r\n            }\r\n    \r\n       return index;\r\n    }","title":"Turning a Binary Tree to a sorted array","body":"<pre><code>Here is java code for same:\n\nint[] result = new int[9];\nfillArray(tree, result, 0);\n\npublic int fillArray(Tree tree, int[] result, int index) {\n        if (tree.left != null) {\n            index = fillArray(tree.left, result, index);\n        }\n        result[index++] = tree.val;\n\n        if (tree.right != null) {\n            index = fillArray(tree.right, result, index);\n        }\n\n   return index;\n}\n</code></pre>\n"}],"owner":{"account_id":1228445,"reputation":925,"user_id":1193534,"accept_rate":70,"display_name":"MosesA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29841,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1644386647,"creation_date":1366758016,"question_id":16180569,"body_markdown":"Is there a way to turn a Binary to a sorted array without having to traverse the tree for every array index?\r\n\r\n    Node root;\r\n    Node runner;\r\n    int current_smallest;\r\n\r\n    void findsmallest(Node root){\r\n        //Pre-order traversal\r\n\t    if(root == null){\r\n\t    \treturn;\r\n     \t}else{\r\n\t    \trunner = root;\r\n\t    \tif(current_smallest == null){\r\n\t    \t\tcurrent_smallest = runner.element;\r\n\t    \t}else{\r\n\t    \t\tif(current_smallest &gt; runner.element){\r\n\t\t\t\tcurrent_smallest = runner.element;\r\n\t\t\t    }\r\n\t\t    }\r\n    \t\tfindsmallest(runner.left);\r\n     \t\tfindsmallest(runner.right);\r\n    \t}\t\r\n    }\r\n\r\n    void fill_array( int [] array ){\r\n\r\n    \tfor(int i =0; i &lt; array.length(); i++){\r\n    \t\tfindsmallest(root);\r\n    \t\tarray[i] = current_smallest;\r\n    \t}\r\n    } \r\n\r\nAs you can see this can be take a long time if there are a lot of nodes in the tree.\r\nBtw, I forgot to show that the whole tree would have to be traversed at the start to get the length of the array.","title":"Turning a Binary Tree to a sorted array","body":"<p>Is there a way to turn a Binary to a sorted array without having to traverse the tree for every array index?</p>\n\n<pre><code>Node root;\nNode runner;\nint current_smallest;\n\nvoid findsmallest(Node root){\n    //Pre-order traversal\n    if(root == null){\n        return;\n    }else{\n        runner = root;\n        if(current_smallest == null){\n            current_smallest = runner.element;\n        }else{\n            if(current_smallest &gt; runner.element){\n            current_smallest = runner.element;\n            }\n        }\n        findsmallest(runner.left);\n        findsmallest(runner.right);\n    }   \n}\n\nvoid fill_array( int [] array ){\n\n    for(int i =0; i &lt; array.length(); i++){\n        findsmallest(root);\n        array[i] = current_smallest;\n    }\n} \n</code></pre>\n\n<p>As you can see this can be take a long time if there are a lot of nodes in the tree.\nBtw, I forgot to show that the whole tree would have to be traversed at the start to get the length of the array.</p>\n"},{"tags":["java","rest","url","struts2","wildcard-mapping"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1644408759,"post_id":71044199,"comment_id":125597830,"body_markdown":"The problem related to action mapper and action mapping for *non-mapped* URL could be resolved if you understand Struts configuration. To defeat configuration problems you&#39;d better read [this](https://stackoverflow.com/a/40658006/573032) answer.","body":"The problem related to action mapper and action mapping for <i>non-mapped</i> URL could be resolved if you understand Struts configuration. To defeat configuration problems you&#39;d better read <a href=\"https://stackoverflow.com/a/40658006/573032\">this</a> answer."},{"owner":{"account_id":10992847,"reputation":1274,"user_id":8076143,"display_name":"Kavin Raju S"},"score":0,"creation_date":1644412178,"post_id":71044199,"comment_id":125599213,"body_markdown":"Thank you @RomanC, will check it out...","body":"Thank you @RomanC, will check it out..."}],"owner":{"account_id":10992847,"reputation":1274,"user_id":8076143,"display_name":"Kavin Raju S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644484814,"answer_count":0,"score":0,"last_activity_date":1644386373,"creation_date":1644382557,"question_id":71044199,"body_markdown":"I am trying to implement the **SEO friendly URL** something like `/movies/{id}/actors/{actor_id}` to point out to the actor details of a particular movie. So I tried using the [Advanced Wildcard mappings][1], but it isn&#39;t working when I have the REST API implemention in my project, but the same is working in a project where I have a simple struts2 application, which shows the JSP pages as results.\r\n\r\nHere are the files of the simple struts2 application that works:\r\n\r\n`struts.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n\r\n&lt;struts&gt;\r\n\r\n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /&gt;\r\n\r\n    &lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\r\n    &lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\r\n    &lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\r\n    &lt;constant name=&quot;struts.matcher.appendNamedParameters&quot; value=&quot;true&quot;/&gt;\r\n\r\n    &lt;package name=&quot;basicstruts2&quot; extends=&quot;struts-default&quot;&gt;\r\n        &lt;action name=&quot;index&quot;&gt;\r\n            &lt;result&gt;/index.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;/{uid}/hello/{userName}&quot; class=&quot;com.struts.kavin.action.HelloWorldAction&quot; method=&quot;execute&quot;&gt;\r\n           &lt;result name=&quot;success&quot;&gt;/hello_world.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n   &lt;/package&gt; \r\n&lt;/struts&gt;\r\n```\r\n\r\n`HelloWorldAction.java`\r\n\r\n```\r\npackage com.struts.kavin.action;\r\n\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\npublic class HelloWorldAction  extends ActionSupport {\r\n    private String userName;\r\n    private String uid;\r\n\r\n    public String execute(){\r\n        return SUCCESS;\r\n    }\r\n\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n}\r\n```\r\n\r\n`hello_world.jsp`\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;title&gt;Hello World!&lt;/title&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n\r\n    &lt;p&gt;Username: &lt;s:property value=&quot;userName&quot; /&gt;&lt;/p&gt;\r\n    &lt;p&gt;UID: &lt;s:property value=&quot;uid&quot; /&gt;&lt;/p&gt;\r\n\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n`index.jsp`: Displays the Hyperlinks to navigate to various pages.\r\n\r\n&lt;b&gt;`OUTPUT:`&lt;/b&gt;\r\n`URL:` http://localhost:8080/Sample/dsadsadsad/hello/kavin.action\r\n\r\n`Displays:`\r\n\r\n&gt; UID: dsadsadsad\r\n&gt;\r\n&gt; Username: kavin\r\n\r\n-------\r\n\r\nHere are the files of the struts2 REST API application that doesn&#39;t work:\r\n\r\n`struts.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n&lt;struts&gt;\r\n\r\n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot;/&gt;\r\n    &lt;constant name=&quot;struts.convention.action.suffix&quot; value=&quot;Controller&quot;/&gt;\r\n    &lt;constant name=&quot;struts.convention.action.mapAllMatches&quot; value=&quot;true&quot;/&gt;\r\n    &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;rest-default&quot;/&gt;\r\n    &lt;constant name=&quot;struts.convention.package.locators&quot; value=&quot;action&quot;/&gt;\r\n\r\n    &lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\r\n    &lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\r\n    &lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\r\n    &lt;constant name=&quot;struts.matcher.appendNamedParameters&quot; value=&quot;true&quot;/&gt;\r\n\r\n    &lt;constant name=&quot;struts.rest.content.restrictToGET&quot; value=&quot;false&quot;/&gt;\r\n\r\n&lt;package name=&quot;movies&quot; extends=&quot;rest-default, json-default&quot;&gt;\r\n\r\n        &lt;interceptors&gt;\r\n            &lt;interceptor name=&quot;json&quot; class=&quot;org.apache.struts2.json.JSONInterceptor&quot;/&gt;\r\n\r\n            &lt;interceptor-stack name=&quot;jsonStack&quot;&gt;\r\n                &lt;interceptor-ref name=&quot;json&quot;/&gt;\r\n                &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n            &lt;/interceptor-stack&gt;\r\n        &lt;/interceptors&gt;\r\n\r\n&lt;action name=&quot;movies&quot; class=&quot;com.struts.movie.action.MoviesController&quot;&gt;\r\n            &lt;interceptor-ref name=&quot;jsonStack&quot;/&gt;\r\n\r\n            &lt;result type=&quot;json&quot;&gt;\r\n                &lt;!-- declarations for mappings from Request JSON Body goes here--&gt;\r\n                &lt;param name=&quot;root&quot;&gt;movie&lt;/param&gt;\r\n            &lt;/result&gt;\r\n        &lt;/action&gt;\r\n\r\n &lt;/package&gt;\r\n\r\n &lt;package name=&quot;actors&quot; namespace=&quot;/movies&quot; extends=&quot;rest-default, json-default&quot;&gt;\r\n        &lt;interceptors&gt;\r\n            &lt;interceptor name=&quot;json&quot; class=&quot;org.apache.struts2.json.JSONInterceptor&quot;/&gt;\r\n\r\n            &lt;interceptor-stack name=&quot;jsonStack&quot;&gt;\r\n                &lt;interceptor-ref name=&quot;json&quot;/&gt;\r\n                &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n            &lt;/interceptor-stack&gt;\r\n        &lt;/interceptors&gt;\r\n\r\n        &lt;action name=&quot;/{movie_id}/actors/&quot; class=&quot;com.struts.movie.action.ActorsController&quot;&gt;\r\n            &lt;interceptor-ref name=&quot;jsonStack&quot;/&gt;\r\n            &lt;!-- &lt;param name=&quot;movie_id&quot;&gt;{1}&lt;/param&gt; --&gt;\r\n            &lt;result type=&quot;json&quot;&gt;\r\n                &lt;!-- declarations for mappings from Request JSON Body goes here--&gt;\r\n                &lt;param name=&quot;root&quot;&gt;actor&lt;/param&gt;\r\n            &lt;/result&gt;\r\n        &lt;/action&gt;\r\n    &lt;/package&gt;\r\n&lt;/struts&gt;\r\n```\r\n\r\n`ActorsController.java`\r\n\r\n```\r\npackage com.struts.movie.action;\r\npublic class ActorsController implements ModelDriven&lt;Object&gt; {\r\n    private Actor actor;\r\n    private String id;\r\n    private String movie_id;\r\n    private Object model;\r\n    \r\n    @Override\r\n    public Object getModel() {\r\n        return model;\r\n    }\r\n    \r\n   // RESETful method implementations\r\n\r\n   // Respective getters &amp; setters are added\r\n}\r\n```\r\n\r\n&lt;b&gt;`OUTPUT:`&lt;/b&gt;\r\n\r\n`URL:` `GET:` http://localhost:8080/movie_api/movies/1/actors.json\r\n\r\n`Error:`\r\n\r\n&gt; Struts Problem Report\r\n&gt;\r\n&gt; Struts has detected an unhandled exception:\r\n&gt;\r\n&gt; Messages:\t There is no Action mapped for namespace /movies and action\r\n&gt; name 1. Stacktraces There is no Action mapped for namespace /movies\r\n&gt; and action name 1. - [unknown location]\r\n&gt;     com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:195)\r\n&gt;     com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:76)\r\n&gt;     org.apache.struts2.rest.RestActionProxyFactory.createActionProxy(RestActionProxyFactory.java:50)\r\n&gt;     org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)\r\n&gt;     org.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:79)\r\n&gt;     org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:141)\r\n&gt;     org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)\r\n&gt;     org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)\r\n&gt;     org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n&gt;     org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n&gt;     org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\r\n&gt;     org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\r\n&gt;     org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\r\n&gt;     org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n&gt;     org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n&gt;     org.mortbay.jetty.Server.handle(Server.java:324)\r\n&gt;     org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\r\n&gt;     org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:843)\r\n&gt;     org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)\r\n&gt;     org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\r\n&gt;     org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\r\n&gt;     org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\r\n&gt;     org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)\r\n\r\n--------\r\n\r\nCan someone please help me to figure out what should be done to make it working? I also tried adding `&lt;constant name=&quot;struts.mapper.class&quot; value=&quot;org.apache.struts2.dispatcher.mapper.Restful2ActionMapper&quot; /&gt;` from [Restful2ActionMapper][2].\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/wildcard-mappings.html#advanced-wildcards\r\n  [2]: https://struts.apache.org/core-developers/restful-action-mapper.html#restful2actionmapper","title":"Struts2 Wildcard mapping not working while using Struts2 REST api implementation","body":"<p>I am trying to implement the <strong>SEO friendly URL</strong> something like <code>/movies/{id}/actors/{actor_id}</code> to point out to the actor details of a particular movie. So I tried using the <a href=\"https://struts.apache.org/core-developers/wildcard-mappings.html#advanced-wildcards\" rel=\"nofollow noreferrer\">Advanced Wildcard mappings</a>, but it isn't working when I have the REST API implemention in my project, but the same is working in a project where I have a simple struts2 application, which shows the JSP pages as results.</p>\n<p>Here are the files of the simple struts2 application that works:</p>\n<p><code>struts.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n\n&lt;struts&gt;\n\n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /&gt;\n\n    &lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\n    &lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\n    &lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\n    &lt;constant name=&quot;struts.matcher.appendNamedParameters&quot; value=&quot;true&quot;/&gt;\n\n    &lt;package name=&quot;basicstruts2&quot; extends=&quot;struts-default&quot;&gt;\n        &lt;action name=&quot;index&quot;&gt;\n            &lt;result&gt;/index.jsp&lt;/result&gt;\n        &lt;/action&gt;\n        &lt;action name=&quot;/{uid}/hello/{userName}&quot; class=&quot;com.struts.kavin.action.HelloWorldAction&quot; method=&quot;execute&quot;&gt;\n           &lt;result name=&quot;success&quot;&gt;/hello_world.jsp&lt;/result&gt;\n        &lt;/action&gt; \n   &lt;/package&gt; \n&lt;/struts&gt;\n</code></pre>\n<p><code>HelloWorldAction.java</code></p>\n<pre><code>package com.struts.kavin.action;\n\nimport com.opensymphony.xwork2.ActionSupport;\n\npublic class HelloWorldAction  extends ActionSupport {\n    private String userName;\n    private String uid;\n\n    public String execute(){\n        return SUCCESS;\n    }\n\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getUid() {\n        return uid;\n    }\n\n    public void setUid(String uid) {\n        this.uid = uid;\n    }\n}\n</code></pre>\n<p><code>hello_world.jsp</code></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n    &lt;title&gt;Hello World!&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n    &lt;p&gt;Username: &lt;s:property value=&quot;userName&quot; /&gt;&lt;/p&gt;\n    &lt;p&gt;UID: &lt;s:property value=&quot;uid&quot; /&gt;&lt;/p&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><code>index.jsp</code>: Displays the Hyperlinks to navigate to various pages.</p>\n<p><b><code>OUTPUT:</code></b>\n<code>URL:</code> http://localhost:8080/Sample/dsadsadsad/hello/kavin.action</p>\n<p><code>Displays:</code></p>\n<blockquote>\n<p>UID: dsadsadsad</p>\n<p>Username: kavin</p>\n</blockquote>\n<hr />\n<p>Here are the files of the struts2 REST API application that doesn't work:</p>\n<p><code>struts.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n&lt;struts&gt;\n\n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot;/&gt;\n    &lt;constant name=&quot;struts.convention.action.suffix&quot; value=&quot;Controller&quot;/&gt;\n    &lt;constant name=&quot;struts.convention.action.mapAllMatches&quot; value=&quot;true&quot;/&gt;\n    &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;rest-default&quot;/&gt;\n    &lt;constant name=&quot;struts.convention.package.locators&quot; value=&quot;action&quot;/&gt;\n\n    &lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\n    &lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\n    &lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\n    &lt;constant name=&quot;struts.matcher.appendNamedParameters&quot; value=&quot;true&quot;/&gt;\n\n    &lt;constant name=&quot;struts.rest.content.restrictToGET&quot; value=&quot;false&quot;/&gt;\n\n&lt;package name=&quot;movies&quot; extends=&quot;rest-default, json-default&quot;&gt;\n\n        &lt;interceptors&gt;\n            &lt;interceptor name=&quot;json&quot; class=&quot;org.apache.struts2.json.JSONInterceptor&quot;/&gt;\n\n            &lt;interceptor-stack name=&quot;jsonStack&quot;&gt;\n                &lt;interceptor-ref name=&quot;json&quot;/&gt;\n                &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\n            &lt;/interceptor-stack&gt;\n        &lt;/interceptors&gt;\n\n&lt;action name=&quot;movies&quot; class=&quot;com.struts.movie.action.MoviesController&quot;&gt;\n            &lt;interceptor-ref name=&quot;jsonStack&quot;/&gt;\n\n            &lt;result type=&quot;json&quot;&gt;\n                &lt;!-- declarations for mappings from Request JSON Body goes here--&gt;\n                &lt;param name=&quot;root&quot;&gt;movie&lt;/param&gt;\n            &lt;/result&gt;\n        &lt;/action&gt;\n\n &lt;/package&gt;\n\n &lt;package name=&quot;actors&quot; namespace=&quot;/movies&quot; extends=&quot;rest-default, json-default&quot;&gt;\n        &lt;interceptors&gt;\n            &lt;interceptor name=&quot;json&quot; class=&quot;org.apache.struts2.json.JSONInterceptor&quot;/&gt;\n\n            &lt;interceptor-stack name=&quot;jsonStack&quot;&gt;\n                &lt;interceptor-ref name=&quot;json&quot;/&gt;\n                &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\n            &lt;/interceptor-stack&gt;\n        &lt;/interceptors&gt;\n\n        &lt;action name=&quot;/{movie_id}/actors/&quot; class=&quot;com.struts.movie.action.ActorsController&quot;&gt;\n            &lt;interceptor-ref name=&quot;jsonStack&quot;/&gt;\n            &lt;!-- &lt;param name=&quot;movie_id&quot;&gt;{1}&lt;/param&gt; --&gt;\n            &lt;result type=&quot;json&quot;&gt;\n                &lt;!-- declarations for mappings from Request JSON Body goes here--&gt;\n                &lt;param name=&quot;root&quot;&gt;actor&lt;/param&gt;\n            &lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p><code>ActorsController.java</code></p>\n<pre><code>package com.struts.movie.action;\npublic class ActorsController implements ModelDriven&lt;Object&gt; {\n    private Actor actor;\n    private String id;\n    private String movie_id;\n    private Object model;\n    \n    @Override\n    public Object getModel() {\n        return model;\n    }\n    \n   // RESETful method implementations\n\n   // Respective getters &amp; setters are added\n}\n</code></pre>\n<p><b><code>OUTPUT:</code></b></p>\n<p><code>URL:</code> <code>GET:</code> http://localhost:8080/movie_api/movies/1/actors.json</p>\n<p><code>Error:</code></p>\n<blockquote>\n<p>Struts Problem Report</p>\n<p>Struts has detected an unhandled exception:</p>\n<p>Messages:  There is no Action mapped for namespace /movies and action\nname 1. Stacktraces There is no Action mapped for namespace /movies\nand action name 1. - [unknown location]\ncom.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:195)\ncom.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:76)\norg.apache.struts2.rest.RestActionProxyFactory.createActionProxy(RestActionProxyFactory.java:50)\norg.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)\norg.apache.struts2.dispatcher.ExecuteOperations.executeAction(ExecuteOperations.java:79)\norg.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:141)\norg.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)\norg.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)\norg.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\norg.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\norg.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\norg.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\norg.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\norg.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\norg.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\norg.mortbay.jetty.Server.handle(Server.java:324)\norg.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\norg.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:843)\norg.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)\norg.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\norg.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\norg.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\norg.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)</p>\n</blockquote>\n<hr />\n<p>Can someone please help me to figure out what should be done to make it working? I also tried adding <code>&lt;constant name=&quot;struts.mapper.class&quot; value=&quot;org.apache.struts2.dispatcher.mapper.Restful2ActionMapper&quot; /&gt;</code> from <a href=\"https://struts.apache.org/core-developers/restful-action-mapper.html#restful2actionmapper\" rel=\"nofollow noreferrer\">Restful2ActionMapper</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644220090,"post_id":71014742,"comment_id":125537493,"body_markdown":"What created the bad string? Why not fix it there rather than later?","body":"What created the bad string? Why not fix it there rather than later?"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644218626,"creation_date":1644218626,"answer_id":71014777,"question_id":71014742,"body_markdown":"`replaceAll` with pattern `&quot;,\\\\s*,&quot;` should do the job\r\n\r\n    ashok = ashok.replaceAll(&quot;,\\\\s*,&quot;,&quot;,&quot;)","title":"Java String remove double comma","body":"<p><code>replaceAll</code> with pattern <code>&quot;,\\\\s*,&quot;</code> should do the job</p>\n<pre><code>ashok = ashok.replaceAll(&quot;,\\\\s*,&quot;,&quot;,&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4218155,"reputation":1,"user_id":3453640,"display_name":"Rika Venturiano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644386362,"creation_date":1644218775,"answer_id":71014797,"question_id":71014742,"body_markdown":"if you know there&#39;s always gonna be two spaces between the commas just use replace:\r\n\r\n    ashok = ashok.replace(&quot;,  ,&quot;,&quot;,&quot;);","title":"Java String remove double comma","body":"<p>if you know there's always gonna be two spaces between the commas just use replace:</p>\n<pre><code>ashok = ashok.replace(&quot;,  ,&quot;,&quot;,&quot;);\n</code></pre>\n"}],"owner":{"display_name":"user18139299"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1644386362,"creation_date":1644218451,"question_id":71014742,"body_markdown":"How to remove double comma from given below string \r\n\r\n    String ashok = &quot;RCEX1P.RXCLAIMNBR, RCEX1P.CLMSEQNBR , RCEX1P.CLAIMSTS,  ,RCOCDP.APR7N2APUIP1&quot;;\r\n\r\nexpected output should as follows \r\n\r\nexpected \r\n\r\n    ashok=&quot;RCEX1P.RXCLAIMNBR, RCEX1P.CLMSEQNBR , RCEX1P.CLAIMSTS,RCOCDP.APR7N2APUIP1&quot;;\r\n\r\n","title":"Java String remove double comma","body":"<p>How to remove double comma from given below string</p>\n<pre><code>String ashok = &quot;RCEX1P.RXCLAIMNBR, RCEX1P.CLMSEQNBR , RCEX1P.CLAIMSTS,  ,RCOCDP.APR7N2APUIP1&quot;;\n</code></pre>\n<p>expected output should as follows</p>\n<p>expected</p>\n<pre><code>ashok=&quot;RCEX1P.RXCLAIMNBR, RCEX1P.CLMSEQNBR , RCEX1P.CLAIMSTS,RCOCDP.APR7N2APUIP1&quot;;\n</code></pre>\n"},{"tags":["java","android","oop"],"comments":[{"owner":{"account_id":11547848,"reputation":1276,"user_id":8461344,"display_name":"Code Demon"},"score":0,"creation_date":1644295356,"post_id":71021967,"comment_id":125562016,"body_markdown":"what exactly is not working.this code seems fine to me exccept for having to extend Onclicklistener on the interface id have this instead   ` interface newsOnCkicked {\n        void onItemClicked(String s);\n    }`","body":"what exactly is not working.this code seems fine to me exccept for having to extend Onclicklistener on the interface id have this instead   ` interface newsOnCkicked {         void onItemClicked(String s);     }`"}],"answers":[{"tags":[],"owner":{"account_id":11547848,"reputation":1276,"user_id":8461344,"display_name":"Code Demon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644296034,"creation_date":1644296034,"answer_id":71028772,"question_id":71021967,"body_markdown":"This code seems fine except for these parts i noted you had to do\r\n1)Extending onclick listener\r\n2)The function and position of your interface.\r\n\r\nFirst place your interface in a separate file or inside the adapter class,remove the extends and replace the string to return void:\r\n\r\n       interface newsOnCkicked {\r\n            void onItemClicked(String s);\r\n        }\r\n\r\nThen call it like this from your activity\r\n\r\n     new RecyclerView(this)/* &lt;- your recyclerview*/.setAdapter(new CustomAdapter(new String[20]/*your array*/, new CustomAdapter.newsOnCkicked() {\r\n            @Override\r\n            public void onItemClicked(String s) {\r\n                //here s is your clicked string\r\n            }\r\n        }));\r\n\r\nThe code should look more or less like below:\r\n\r\n\r\n    public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\r\n    \r\n        private String[] localDataSet;\r\n        private newsOnCkicked k;\r\n    \r\n        /**\r\n         * Provide a reference to the type of views that you are using\r\n         * (custom ViewHolder).\r\n         */\r\n        public static class ViewHolder extends RecyclerView.ViewHolder {\r\n            private final TextView textView;\r\n    \r\n            public ViewHolder(View view) {\r\n                super(view);\r\n                // Define click listener for the ViewHolder&#39;s View\r\n    \r\n                textView = (TextView) view.findViewById(R.id.textView2);\r\n            }\r\n    \r\n            public TextView getTextView() {\r\n                return textView;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Initialize the dataset of the Adapter.\r\n         *\r\n         * @param dataSet String[] containing the data to populate views to be used\r\n         * by RecyclerView.\r\n         */\r\n        public CustomAdapter(String[] dataSet,newsOnCkicked k) {\r\n            localDataSet = dataSet;\r\n            this.k=k;\r\n        }\r\n    \r\n        // Create new views (invoked by the layout manager)\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n            // Create a new view, which defines the UI of the list item\r\n            View view = LayoutInflater.from(viewGroup.getContext())\r\n                    .inflate(R.layout.mylayout, viewGroup, false);\r\n            RecyclerView.ViewHolder v=new ViewHolder(view);\r\n            view.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    k.onItemClicked(localDataSet[v.getAdapterPosition()]);\r\n                }\r\n            });\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        // Replace the contents of a view (invoked by the layout manager)\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder viewHolder, final int position) {\r\n    \r\n            // Get element from your dataset at this position and replace the\r\n            // contents of the view with that element\r\n            viewHolder.getTextView().setText(localDataSet[viewHolder.getAdapterPosition()]);\r\n        }\r\n    \r\n        // Return the size of your dataset (invoked by the layout manager)\r\n        @Override\r\n        public int getItemCount() {\r\n            return localDataSet.length;\r\n        }\r\n    \r\n        interface newsOnCkicked {\r\n            void onItemClicked(String s);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n","title":"How to return string from interface to setonclicklistener","body":"<p>This code seems fine except for these parts i noted you had to do\n1)Extending onclick listener\n2)The function and position of your interface.</p>\n<p>First place your interface in a separate file or inside the adapter class,remove the extends and replace the string to return void:</p>\n<pre><code>   interface newsOnCkicked {\n        void onItemClicked(String s);\n    }\n</code></pre>\n<p>Then call it like this from your activity</p>\n<pre><code> new RecyclerView(this)/* &lt;- your recyclerview*/.setAdapter(new CustomAdapter(new String[20]/*your array*/, new CustomAdapter.newsOnCkicked() {\n        @Override\n        public void onItemClicked(String s) {\n            //here s is your clicked string\n        }\n    }));\n</code></pre>\n<p>The code should look more or less like below:</p>\n<pre><code>public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\n\n    private String[] localDataSet;\n    private newsOnCkicked k;\n\n    /**\n     * Provide a reference to the type of views that you are using\n     * (custom ViewHolder).\n     */\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        private final TextView textView;\n\n        public ViewHolder(View view) {\n            super(view);\n            // Define click listener for the ViewHolder's View\n\n            textView = (TextView) view.findViewById(R.id.textView2);\n        }\n\n        public TextView getTextView() {\n            return textView;\n        }\n    }\n\n    /**\n     * Initialize the dataset of the Adapter.\n     *\n     * @param dataSet String[] containing the data to populate views to be used\n     * by RecyclerView.\n     */\n    public CustomAdapter(String[] dataSet,newsOnCkicked k) {\n        localDataSet = dataSet;\n        this.k=k;\n    }\n\n    // Create new views (invoked by the layout manager)\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n        // Create a new view, which defines the UI of the list item\n        View view = LayoutInflater.from(viewGroup.getContext())\n                .inflate(R.layout.mylayout, viewGroup, false);\n        RecyclerView.ViewHolder v=new ViewHolder(view);\n        view.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                k.onItemClicked(localDataSet[v.getAdapterPosition()]);\n            }\n        });\n        return new ViewHolder(view);\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, final int position) {\n\n        // Get element from your dataset at this position and replace the\n        // contents of the view with that element\n        viewHolder.getTextView().setText(localDataSet[viewHolder.getAdapterPosition()]);\n    }\n\n    // Return the size of your dataset (invoked by the layout manager)\n    @Override\n    public int getItemCount() {\n        return localDataSet.length;\n    }\n\n    interface newsOnCkicked {\n        void onItemClicked(String s);\n    }\n    \n    \n}\n</code></pre>\n"}],"owner":{"account_id":22438780,"reputation":23,"user_id":16643636,"display_name":"Jinay Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644386096,"creation_date":1644251420,"question_id":71021967,"body_markdown":"I&#39;m trying to learn android development and i was learning about the  recyclerView. I want to send a string via an interface when a list item is clicked but I dont know how to do that.Can anyone please tell me what to do to achieve this.\r\nThis is my java code of the custom recyclerview adapter that I&#39;ve created.\r\n\r\n\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\r\n    \r\n        private String[] localDataSet;\r\n        private newsOnCkicked k;\r\n    \r\n        /**\r\n         * Provide a reference to the type of views that you are using\r\n         * (custom ViewHolder).\r\n         */\r\n        public static class ViewHolder extends RecyclerView.ViewHolder {\r\n            private final TextView textView;\r\n    \r\n            public ViewHolder(View view) {\r\n                super(view);\r\n                // Define click listener for the ViewHolder&#39;s View\r\n    \r\n                textView = (TextView) view.findViewById(R.id.textView2);\r\n            }\r\n    \r\n            public TextView getTextView() {\r\n                return textView;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Initialize the dataset of the Adapter.\r\n         *\r\n         * @param dataSet String[] containing the data to populate views to be used\r\n         * by RecyclerView.\r\n         */\r\n        public CustomAdapter(String[] dataSet,newsOnCkicked k) {\r\n            localDataSet = dataSet;\r\n            this.k=k;\r\n        }\r\n    \r\n        // Create new views (invoked by the layout manager)\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n            // Create a new view, which defines the UI of the list item\r\n            View view = LayoutInflater.from(viewGroup.getContext())\r\n                    .inflate(R.layout.mylayout, viewGroup, false);\r\n            RecyclerView.ViewHolder v=new ViewHolder(view);\r\n            view.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    k.onItemClicked(localDataSet[v.getAdapterPosition()]);\r\n                }\r\n            });\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        // Replace the contents of a view (invoked by the layout manager)\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder viewHolder, final int position) {\r\n    \r\n            // Get element from your dataset at this position and replace the\r\n            // contents of the view with that element\r\n            viewHolder.getTextView().setText(localDataSet[viewHolder.getAdapterPosition()]);\r\n        }\r\n    \r\n        // Return the size of your dataset (invoked by the layout manager)\r\n        @Override\r\n        public int getItemCount() {\r\n            return localDataSet.length;\r\n        }\r\n    }\r\n    interface newsOnCkicked extends View.OnClickListener {\r\n        String onItemClicked(String s);\r\n    }\r\n\r\nKindly help me to figure this out!!","title":"How to return string from interface to setonclicklistener","body":"<p>I'm trying to learn android development and i was learning about the  recyclerView. I want to send a string via an interface when a list item is clicked but I dont know how to do that.Can anyone please tell me what to do to achieve this.\nThis is my java code of the custom recyclerview adapter that I've created.</p>\n<pre><code>import android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\n\n    private String[] localDataSet;\n    private newsOnCkicked k;\n\n    /**\n     * Provide a reference to the type of views that you are using\n     * (custom ViewHolder).\n     */\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        private final TextView textView;\n\n        public ViewHolder(View view) {\n            super(view);\n            // Define click listener for the ViewHolder's View\n\n            textView = (TextView) view.findViewById(R.id.textView2);\n        }\n\n        public TextView getTextView() {\n            return textView;\n        }\n    }\n\n    /**\n     * Initialize the dataset of the Adapter.\n     *\n     * @param dataSet String[] containing the data to populate views to be used\n     * by RecyclerView.\n     */\n    public CustomAdapter(String[] dataSet,newsOnCkicked k) {\n        localDataSet = dataSet;\n        this.k=k;\n    }\n\n    // Create new views (invoked by the layout manager)\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n        // Create a new view, which defines the UI of the list item\n        View view = LayoutInflater.from(viewGroup.getContext())\n                .inflate(R.layout.mylayout, viewGroup, false);\n        RecyclerView.ViewHolder v=new ViewHolder(view);\n        view.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                k.onItemClicked(localDataSet[v.getAdapterPosition()]);\n            }\n        });\n        return new ViewHolder(view);\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, final int position) {\n\n        // Get element from your dataset at this position and replace the\n        // contents of the view with that element\n        viewHolder.getTextView().setText(localDataSet[viewHolder.getAdapterPosition()]);\n    }\n\n    // Return the size of your dataset (invoked by the layout manager)\n    @Override\n    public int getItemCount() {\n        return localDataSet.length;\n    }\n}\ninterface newsOnCkicked extends View.OnClickListener {\n    String onItemClicked(String s);\n}\n</code></pre>\n<p>Kindly help me to figure this out!!</p>\n"},{"tags":["java","spring","list","filtering","predicate"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1644321284,"post_id":71033406,"comment_id":125570243,"body_markdown":"Shouldn&#39;t you simply implement an `equals` method for `NetworkObject`?","body":"Shouldn&#39;t you simply implement an <code>equals</code> method for <code>NetworkObject</code>?"},{"owner":{"account_id":23039944,"reputation":15,"user_id":17158239,"display_name":"KG_stackoverflow"},"score":0,"creation_date":1644322039,"post_id":71033406,"comment_id":125570503,"body_markdown":"no because soon I will also have to implement &quot;like&quot; methods, so for example if the id is contained in the id of the object and so on.","body":"no because soon I will also have to implement &quot;like&quot; methods, so for example if the id is contained in the id of the object and so on."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1644322580,"post_id":71033406,"comment_id":125570736,"body_markdown":"`equals` may not suffice, but you can still build your own `boolean matches(NetworkObject other)` method that can ignore fields where one side is `null` etc.","body":"<code>equals</code> may not suffice, but you can still build your own <code>boolean matches(NetworkObject other)</code> method that can ignore fields where one side is <code>null</code> etc."},{"owner":{"account_id":23039944,"reputation":15,"user_id":17158239,"display_name":"KG_stackoverflow"},"score":0,"creation_date":1644327977,"post_id":71033406,"comment_id":125572960,"body_markdown":"can you give me a practical example?","body":"can you give me a practical example?"}],"owner":{"account_id":23039944,"reputation":15,"user_id":17158239,"display_name":"KG_stackoverflow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644385957,"creation_date":1644321098,"question_id":71033406,"body_markdown":"i need to figure out if it is possible to filter by creating a method that uses the generics of a list of objects. Below is the reference object:\r\n\r\n    public class NetworkObject implements Serializable {\r\n       \r\n        private String xsiType;\r\n        private Long id;        \r\n        private String uid;        \r\n        private String name;\r\n        private String displayName;\r\n    }\r\n\r\nso, I&#39;ll have a list like this: \r\n\r\n    List&lt;NetworkObject&gt; networkObjectList = new ArrayList&lt;&gt;(); \r\n    NetworkObject n1 = new NetworkObject();\r\n    n1.setXsiType(&quot;test1&quot;);\r\n    n1.setId(1L);\r\n    n1.setUid(&quot;1234&quot;);\r\n    n1.setName(&quot;test1&quot;);\r\n    n1.setDisplayName(&quot;disp1&quot;);\r\n    NetworkObject n2 = new NetworkObject();\r\n    n2.setXsiType(&quot;test2&quot;);\r\n    n2.setId(2L);\r\n    n2.setUid(&quot;4321&quot;);\r\n    n2.setName(&quot;test2&quot;);\r\n    n2.setDisplayName(&quot;disp2&quot;);\r\n    networkObjectList.add(n1);\r\n    networkObjectList.add(n2);\r\n\r\nIn the input I will receive an object of the same type of NetworkObject which may have none, one or more fields validated. And so I will have to filter the list based on those fields. I&#39;m only interested in the case where the fields are the same. For example:\r\n\r\n    NetworkObject filter = new NetworkObject();\r\n    filter.setXsiType(&quot;test2&quot;);\r\n    filter.setId(2L);\r\n    filter.setUid(&quot;4321&quot;);\r\n    filter.setName(null);\r\n    filter.setDisplayName(null);\r\n\r\nIn this case as a result I expect object n2.\r\n\r\n","title":"How to filter a list of objects based on some or more fields using generics?","body":"<p>i need to figure out if it is possible to filter by creating a method that uses the generics of a list of objects. Below is the reference object:</p>\n<pre><code>public class NetworkObject implements Serializable {\n   \n    private String xsiType;\n    private Long id;        \n    private String uid;        \n    private String name;\n    private String displayName;\n}\n</code></pre>\n<p>so, I'll have a list like this:</p>\n<pre><code>List&lt;NetworkObject&gt; networkObjectList = new ArrayList&lt;&gt;(); \nNetworkObject n1 = new NetworkObject();\nn1.setXsiType(&quot;test1&quot;);\nn1.setId(1L);\nn1.setUid(&quot;1234&quot;);\nn1.setName(&quot;test1&quot;);\nn1.setDisplayName(&quot;disp1&quot;);\nNetworkObject n2 = new NetworkObject();\nn2.setXsiType(&quot;test2&quot;);\nn2.setId(2L);\nn2.setUid(&quot;4321&quot;);\nn2.setName(&quot;test2&quot;);\nn2.setDisplayName(&quot;disp2&quot;);\nnetworkObjectList.add(n1);\nnetworkObjectList.add(n2);\n</code></pre>\n<p>In the input I will receive an object of the same type of NetworkObject which may have none, one or more fields validated. And so I will have to filter the list based on those fields. I'm only interested in the case where the fields are the same. For example:</p>\n<pre><code>NetworkObject filter = new NetworkObject();\nfilter.setXsiType(&quot;test2&quot;);\nfilter.setId(2L);\nfilter.setUid(&quot;4321&quot;);\nfilter.setName(null);\nfilter.setDisplayName(null);\n</code></pre>\n<p>In this case as a result I expect object n2.</p>\n"},{"tags":["java","caching","retrofit","okhttp","offline-caching"],"comments":[{"owner":{"account_id":192994,"reputation":2329,"user_id":434452,"display_name":"Hassan Ibraheem"},"score":1,"creation_date":1399147108,"post_id":23429046,"comment_id":35943894,"body_markdown":"Is the server you&#39;re calling responding with an appropriate Cache-Control header?","body":"Is the server you&#39;re calling responding with an appropriate Cache-Control header?"},{"owner":{"account_id":1134862,"reputation":7688,"user_id":1120126,"accept_rate":62,"display_name":"osrl"},"score":0,"creation_date":1399230148,"post_id":23429046,"comment_id":35965111,"body_markdown":"it returns this `Cache-Control: s-maxage=1209600, max-age=1209600` I don&#39;t know if it&#39;s enough.","body":"it returns this <code>Cache-Control: s-maxage=1209600, max-age=1209600</code> I don&#39;t know if it&#39;s enough."},{"owner":{"account_id":1134862,"reputation":7688,"user_id":1120126,"accept_rate":62,"display_name":"osrl"},"score":0,"creation_date":1399391679,"post_id":23429046,"comment_id":36037683,"body_markdown":"Seems like the `public` keyword was needed to be in response header to make it work offline. But, these headers doesn&#39;t let OkClient to use network when there is available. Is there anyway to set cache policy/strategy to use network when available?","body":"Seems like the <code>public</code> keyword was needed to be in response header to make it work offline. But, these headers doesn&#39;t let OkClient to use network when there is available. Is there anyway to set cache policy/strategy to use network when available?"},{"owner":{"account_id":192994,"reputation":2329,"user_id":434452,"display_name":"Hassan Ibraheem"},"score":0,"creation_date":1399394127,"post_id":23429046,"comment_id":36039202,"body_markdown":"I&#39;m not sure whether you can do that in the same request. You can check the relevant [CacheControl](https://github.com/square/okhttp/blob/master/okhttp/src/main/java/com/squareup/okhttp/CacheControl.java) class, and the [Cache-Control](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9) headers. If there&#39;s no such behavior, I would probably opt for making two requests, a cached only request (only-if-cached), followed by a network (max-age=0) one.","body":"I&#39;m not sure whether you can do that in the same request. You can check the relevant <a href=\"https://github.com/square/okhttp/blob/master/okhttp/src/main/java/com/squareup/okhttp/CacheControl.java\" rel=\"nofollow noreferrer\">CacheControl</a> class, and the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9\" rel=\"nofollow noreferrer\">Cache-Control</a> headers. If there&#39;s no such behavior, I would probably opt for making two requests, a cached only request (only-if-cached), followed by a network (max-age=0) one."},{"owner":{"account_id":1134862,"reputation":7688,"user_id":1120126,"accept_rate":62,"display_name":"osrl"},"score":0,"creation_date":1399399199,"post_id":23429046,"comment_id":36042191,"body_markdown":"that was the first thing came to my mind. I spent days in that CacheControl and [CacheStrategy](https://github.com/square/okhttp/blob/276908f5322af10ddad0bb4ed024d2edf8939731/okhttp/src/main/java/com/squareup/okhttp/internal/http/CacheStrategy.java) classes. But two requests idea didn&#39;t made much sense. If `max-stale + max-age` is passed, it does request from network. But I want to set max-stale a week. This makes it read response from cache even if there is network available.","body":"that was the first thing came to my mind. I spent days in that CacheControl and <a href=\"https://github.com/square/okhttp/blob/276908f5322af10ddad0bb4ed024d2edf8939731/okhttp/src/main/java/com/squareup/okhttp/internal/http/CacheStrategy.java\" rel=\"nofollow noreferrer\">CacheStrategy</a> classes. But two requests idea didn&#39;t made much sense. If <code>max-stale + max-age</code> is passed, it does request from network. But I want to set max-stale a week. This makes it read response from cache even if there is network available."},{"owner":{"account_id":3383469,"reputation":798,"user_id":2840009,"accept_rate":25,"display_name":"McNinja"},"score":0,"creation_date":1413475014,"post_id":23429046,"comment_id":41466049,"body_markdown":"Isn&#39;t s-maxage for the server side only, not clients?","body":"Isn&#39;t s-maxage for the server side only, not clients?"},{"owner":{"account_id":1047568,"reputation":11330,"user_id":1052261,"accept_rate":100,"display_name":"Gelldur"},"score":0,"creation_date":1437729071,"post_id":23429046,"comment_id":51163312,"body_markdown":"Also checkout headers from server like here: http://stackoverflow.com/questions/31321963/how-retrofit-with-okhttp-use-cache-data-when-offline/31606496#31606496","body":"Also checkout headers from server like here: <a href=\"http://stackoverflow.com/questions/31321963/how-retrofit-with-okhttp-use-cache-data-when-offline/31606496#31606496\" title=\"how retrofit with okhttp use cache data when offline\">stackoverflow.com/questions/31321963/&hellip;</a>"},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1595446407,"post_id":23429046,"comment_id":111481147,"body_markdown":"rtm: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cache/#force-a-cache-response","body":"rtm: <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cache/#force-a-cache-response\" rel=\"nofollow noreferrer\">square.github.io/okhttp/4.x/okhttp/okhttp3/-cache/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1134862,"reputation":7688,"user_id":1120126,"accept_rate":62,"display_name":"osrl"},"down_vote_count":1,"up_vote_count":199,"is_accepted":true,"score":198,"last_activity_date":1485853034,"creation_date":1399406199,"answer_id":23503804,"question_id":23429046,"body_markdown":"**Edit for Retrofit 2.x:**\r\n----------------------\r\n\r\nOkHttp Interceptor is the right way to access cache when offline: \r\n\r\n1) Create Interceptor:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static final Interceptor REWRITE_CACHE_CONTROL_INTERCEPTOR = new Interceptor() {\r\n        @Override public Response intercept(Chain chain) throws IOException {\r\n            Response originalResponse = chain.proceed(chain.request());\r\n            if (Utils.isNetworkAvailable(context)) {\r\n                int maxAge = 60; // read from cache for 1 minute\r\n                return originalResponse.newBuilder()\r\n                        .header(&quot;Cache-Control&quot;, &quot;public, max-age=&quot; + maxAge)\r\n                        .build();\r\n            } else {\r\n                int maxStale = 60 * 60 * 24 * 28; // tolerate 4-weeks stale\r\n                return originalResponse.newBuilder()\r\n                        .header(&quot;Cache-Control&quot;, &quot;public, only-if-cached, max-stale=&quot; + maxStale)\r\n                        .build();\r\n            }\r\n        }\r\n\r\n2) Setup client:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    client.networkInterceptors().add(REWRITE_CACHE_CONTROL_INTERCEPTOR);\r\n\r\n    //setup cache\r\n    File httpCacheDirectory = new File(context.getCacheDir(), &quot;responses&quot;);\r\n    int cacheSize = 10 * 1024 * 1024; // 10 MiB\r\n    Cache cache = new Cache(httpCacheDirectory, cacheSize);\r\n\r\n    //add cache to the client\r\n    client.setCache(cache);\r\n\r\n\r\n3) Add client to retrofit\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Retrofit retrofit = new Retrofit.Builder()\r\n            .baseUrl(BASE_URL)\r\n            .client(client)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build();\r\n\r\n\r\nAlso check **@kosiara - Bartosz Kosarzycki**&#39;s [answer][1]. You may need to remove some header from the response.\r\n\r\n----------\r\n\r\n\r\n**OKHttp 2.0.x (Check the original answer):**\r\n---------------------------------------------\r\n\r\nSince OKHttp 2.0.x `HttpResponseCache` is `Cache`, `setResponseCache` is `setCache`. So you should `setCache` like this:\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n            File httpCacheDirectory = new File(context.getCacheDir(), &quot;responses&quot;);\r\n\r\n            Cache cache = null;\r\n            try {\r\n                cache = new Cache(httpCacheDirectory, 10 * 1024 * 1024);\r\n            } catch (IOException e) {\r\n                Log.e(&quot;OKHttp&quot;, &quot;Could not create http cache&quot;, e);\r\n            }\r\n\r\n            OkHttpClient okHttpClient = new OkHttpClient();\r\n            if (cache != null) {\r\n                okHttpClient.setCache(cache);\r\n            }\r\n            String hostURL = context.getString(R.string.host_url);\r\n\r\n            api = new RestAdapter.Builder()\r\n                    .setEndpoint(hostURL)\r\n                    .setClient(new OkClient(okHttpClient))\r\n                    .setRequestInterceptor(/*rest of the answer here */)\r\n                    .build()\r\n                    .create(MyApi.class);\r\n\r\n\r\n----------\r\n\r\n\r\n**Original Answer:**\r\n--------------------\r\n\r\nIt turns out that server response must have `Cache-Control: public` to make `OkClient` to read from cache. \r\n\r\nAlso If you want to request from network when available, you should add `Cache-Control: max-age=0` request header. [This answer][2] shows how to do it parameterized. This is how I used it:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    RestAdapter.Builder builder= new RestAdapter.Builder()\r\n       .setRequestInterceptor(new RequestInterceptor() {\r\n            @Override\r\n            public void intercept(RequestFacade request) {\r\n                request.addHeader(&quot;Accept&quot;, &quot;application/json;versions=1&quot;);\r\n                if (MyApplicationUtils.isNetworkAvailable(context)) {\r\n                    int maxAge = 60; // read from cache for 1 minute\r\n                    request.addHeader(&quot;Cache-Control&quot;, &quot;public, max-age=&quot; + maxAge);\r\n                } else {\r\n                    int maxStale = 60 * 60 * 24 * 28; // tolerate 4-weeks stale\r\n                    request.addHeader(&quot;Cache-Control&quot;, \r\n                        &quot;public, only-if-cached, max-stale=&quot; + maxStale);\r\n                }\r\n            }\r\n    });\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34266019/1120126 &quot;answer&quot;\r\n  [2]: https://stackoverflow.com/a/20493369/1120126","title":"Can Retrofit with OKHttp use cache data when offline","body":"<h2><strong>Edit for Retrofit 2.x:</strong></h2>\n\n<p>OkHttp Interceptor is the right way to access cache when offline: </p>\n\n<p>1) Create Interceptor:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final Interceptor REWRITE_CACHE_CONTROL_INTERCEPTOR = new Interceptor() {\n    @Override public Response intercept(Chain chain) throws IOException {\n        Response originalResponse = chain.proceed(chain.request());\n        if (Utils.isNetworkAvailable(context)) {\n            int maxAge = 60; // read from cache for 1 minute\n            return originalResponse.newBuilder()\n                    .header(\"Cache-Control\", \"public, max-age=\" + maxAge)\n                    .build();\n        } else {\n            int maxStale = 60 * 60 * 24 * 28; // tolerate 4-weeks stale\n            return originalResponse.newBuilder()\n                    .header(\"Cache-Control\", \"public, only-if-cached, max-stale=\" + maxStale)\n                    .build();\n        }\n    }\n</code></pre>\n\n<p>2) Setup client:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>OkHttpClient client = new OkHttpClient();\nclient.networkInterceptors().add(REWRITE_CACHE_CONTROL_INTERCEPTOR);\n\n//setup cache\nFile httpCacheDirectory = new File(context.getCacheDir(), \"responses\");\nint cacheSize = 10 * 1024 * 1024; // 10 MiB\nCache cache = new Cache(httpCacheDirectory, cacheSize);\n\n//add cache to the client\nclient.setCache(cache);\n</code></pre>\n\n<p>3) Add client to retrofit</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Retrofit retrofit = new Retrofit.Builder()\n        .baseUrl(BASE_URL)\n        .client(client)\n        .addConverterFactory(GsonConverterFactory.create())\n        .build();\n</code></pre>\n\n<p>Also check <strong>@kosiara - Bartosz Kosarzycki</strong>'s <a href=\"https://stackoverflow.com/a/34266019/1120126\" title=\"answer\">answer</a>. You may need to remove some header from the response.</p>\n\n<hr>\n\n<h2><strong>OKHttp 2.0.x (Check the original answer):</strong></h2>\n\n<p>Since OKHttp 2.0.x <code>HttpResponseCache</code> is <code>Cache</code>, <code>setResponseCache</code> is <code>setCache</code>. So you should <code>setCache</code> like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        File httpCacheDirectory = new File(context.getCacheDir(), \"responses\");\n\n        Cache cache = null;\n        try {\n            cache = new Cache(httpCacheDirectory, 10 * 1024 * 1024);\n        } catch (IOException e) {\n            Log.e(\"OKHttp\", \"Could not create http cache\", e);\n        }\n\n        OkHttpClient okHttpClient = new OkHttpClient();\n        if (cache != null) {\n            okHttpClient.setCache(cache);\n        }\n        String hostURL = context.getString(R.string.host_url);\n\n        api = new RestAdapter.Builder()\n                .setEndpoint(hostURL)\n                .setClient(new OkClient(okHttpClient))\n                .setRequestInterceptor(/*rest of the answer here */)\n                .build()\n                .create(MyApi.class);\n</code></pre>\n\n<hr>\n\n<h2><strong>Original Answer:</strong></h2>\n\n<p>It turns out that server response must have <code>Cache-Control: public</code> to make <code>OkClient</code> to read from cache. </p>\n\n<p>Also If you want to request from network when available, you should add <code>Cache-Control: max-age=0</code> request header. <a href=\"https://stackoverflow.com/a/20493369/1120126\">This answer</a> shows how to do it parameterized. This is how I used it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>RestAdapter.Builder builder= new RestAdapter.Builder()\n   .setRequestInterceptor(new RequestInterceptor() {\n        @Override\n        public void intercept(RequestFacade request) {\n            request.addHeader(\"Accept\", \"application/json;versions=1\");\n            if (MyApplicationUtils.isNetworkAvailable(context)) {\n                int maxAge = 60; // read from cache for 1 minute\n                request.addHeader(\"Cache-Control\", \"public, max-age=\" + maxAge);\n            } else {\n                int maxStale = 60 * 60 * 24 * 28; // tolerate 4-weeks stale\n                request.addHeader(\"Cache-Control\", \n                    \"public, only-if-cached, max-stale=\" + maxStale);\n            }\n        }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362929,"reputation":11172,"user_id":706387,"accept_rate":53,"display_name":"kosiara - Bartosz Kosarzycki"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1450283646,"creation_date":1450092856,"answer_id":34266019,"question_id":23429046,"body_markdown":"All of the anwsers above did not work for me. I tried to implement offline cache in **retrofit 2.0.0-beta2**. I added an interceptor using `okHttpClient.networkInterceptors()` method but received `java.net.UnknownHostException` when I tried to use the cache offline. It turned out that I had to add `okHttpClient.interceptors()` as well.\r\n\r\nThe problem was that cache wasn&#39;t written to flash storage because the server returned `Pragma:no-cache` which prevents OkHttp from storing the response. Offline cache didn&#39;t work even after modifying request header values. After some trial-and-error I got the cache to work without modifying the backend side by removing pragma from reponse instead of the request - `response.newBuilder().removeHeader(&quot;Pragma&quot;);`\r\n\r\nRetrofit: **2.0.0-beta2**; OkHttp: **2.5.0**\r\n\r\n\r\n    OkHttpClient okHttpClient = createCachedClient(context);\r\n    Retrofit retrofit = new Retrofit.Builder()\r\n            .client(okHttpClient)\r\n            .baseUrl(API_URL)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build();\r\n    service = retrofit.create(RestDataResource.class);\r\n\r\n...\r\n\r\n\r\n    private OkHttpClient createCachedClient(final Context context) {\r\n        File httpCacheDirectory = new File(context.getCacheDir(), &quot;cache_file&quot;);\r\n\r\n        Cache cache = new Cache(httpCacheDirectory, 20 * 1024 * 1024);\r\n        OkHttpClient okHttpClient = new OkHttpClient();\r\n        okHttpClient.setCache(cache);\r\n        okHttpClient.interceptors().add(\r\n                new Interceptor() {\r\n                    @Override\r\n                    public Response intercept(Chain chain) throws IOException {\r\n                        Request originalRequest = chain.request();\r\n                        String cacheHeaderValue = isOnline(context) \r\n                            ? &quot;public, max-age=2419200&quot; \r\n                            : &quot;public, only-if-cached, max-stale=2419200&quot; ;\r\n                        Request request = originalRequest.newBuilder().build();\r\n                        Response response = chain.proceed(request);\r\n                        return response.newBuilder()\r\n                            .removeHeader(&quot;Pragma&quot;)\r\n                            .removeHeader(&quot;Cache-Control&quot;)\r\n                            .header(&quot;Cache-Control&quot;, cacheHeaderValue)\r\n                            .build();\r\n                    }\r\n                }\r\n        );\r\n        okHttpClient.networkInterceptors().add(\r\n                new Interceptor() {\r\n                    @Override\r\n                    public Response intercept(Chain chain) throws IOException {\r\n                        Request originalRequest = chain.request();\r\n                        String cacheHeaderValue = isOnline(context) \r\n                            ? &quot;public, max-age=2419200&quot; \r\n                            : &quot;public, only-if-cached, max-stale=2419200&quot; ;\r\n                        Request request = originalRequest.newBuilder().build();\r\n                        Response response = chain.proceed(request);\r\n                        return response.newBuilder()\r\n                            .removeHeader(&quot;Pragma&quot;)\r\n                            .removeHeader(&quot;Cache-Control&quot;)\r\n                            .header(&quot;Cache-Control&quot;, cacheHeaderValue)\r\n                            .build();\r\n                    }\r\n                }\r\n        );\r\n        return okHttpClient;\r\n    }\r\n\r\n...\r\n\r\n    public interface RestDataResource {\r\n\r\n        @GET(&quot;rest-data&quot;) \r\n        Call&lt;List&lt;RestItem&gt;&gt; getRestData();\r\n\r\n    }\r\n\r\n","title":"Can Retrofit with OKHttp use cache data when offline","body":"<p>All of the anwsers above did not work for me. I tried to implement offline cache in <strong>retrofit 2.0.0-beta2</strong>. I added an interceptor using <code>okHttpClient.networkInterceptors()</code> method but received <code>java.net.UnknownHostException</code> when I tried to use the cache offline. It turned out that I had to add <code>okHttpClient.interceptors()</code> as well.</p>\n\n<p>The problem was that cache wasn't written to flash storage because the server returned <code>Pragma:no-cache</code> which prevents OkHttp from storing the response. Offline cache didn't work even after modifying request header values. After some trial-and-error I got the cache to work without modifying the backend side by removing pragma from reponse instead of the request - <code>response.newBuilder().removeHeader(\"Pragma\");</code></p>\n\n<p>Retrofit: <strong>2.0.0-beta2</strong>; OkHttp: <strong>2.5.0</strong></p>\n\n<pre><code>OkHttpClient okHttpClient = createCachedClient(context);\nRetrofit retrofit = new Retrofit.Builder()\n        .client(okHttpClient)\n        .baseUrl(API_URL)\n        .addConverterFactory(GsonConverterFactory.create())\n        .build();\nservice = retrofit.create(RestDataResource.class);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private OkHttpClient createCachedClient(final Context context) {\n    File httpCacheDirectory = new File(context.getCacheDir(), \"cache_file\");\n\n    Cache cache = new Cache(httpCacheDirectory, 20 * 1024 * 1024);\n    OkHttpClient okHttpClient = new OkHttpClient();\n    okHttpClient.setCache(cache);\n    okHttpClient.interceptors().add(\n            new Interceptor() {\n                @Override\n                public Response intercept(Chain chain) throws IOException {\n                    Request originalRequest = chain.request();\n                    String cacheHeaderValue = isOnline(context) \n                        ? \"public, max-age=2419200\" \n                        : \"public, only-if-cached, max-stale=2419200\" ;\n                    Request request = originalRequest.newBuilder().build();\n                    Response response = chain.proceed(request);\n                    return response.newBuilder()\n                        .removeHeader(\"Pragma\")\n                        .removeHeader(\"Cache-Control\")\n                        .header(\"Cache-Control\", cacheHeaderValue)\n                        .build();\n                }\n            }\n    );\n    okHttpClient.networkInterceptors().add(\n            new Interceptor() {\n                @Override\n                public Response intercept(Chain chain) throws IOException {\n                    Request originalRequest = chain.request();\n                    String cacheHeaderValue = isOnline(context) \n                        ? \"public, max-age=2419200\" \n                        : \"public, only-if-cached, max-stale=2419200\" ;\n                    Request request = originalRequest.newBuilder().build();\n                    Response response = chain.proceed(request);\n                    return response.newBuilder()\n                        .removeHeader(\"Pragma\")\n                        .removeHeader(\"Cache-Control\")\n                        .header(\"Cache-Control\", cacheHeaderValue)\n                        .build();\n                }\n            }\n    );\n    return okHttpClient;\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>public interface RestDataResource {\n\n    @GET(\"rest-data\") \n    Call&lt;List&lt;RestItem&gt;&gt; getRestData();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2226498,"reputation":2867,"user_id":1965124,"accept_rate":56,"display_name":"FriendlyMikhail"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1490979872,"creation_date":1450717452,"answer_id":34400872,"question_id":23429046,"body_markdown":"building on @kosiara-bartosz-kasarzycki&#39;s [answer][1], I created a sample project that properly loads from memory-&gt;disk-&gt;network using retrofit, okhttp, rxjava and guava.\r\nhttps://github.com/digitalbuddha/StoreDemo\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34266019/1235698","title":"Can Retrofit with OKHttp use cache data when offline","body":"<p>building on @kosiara-bartosz-kasarzycki's <a href=\"https://stackoverflow.com/a/34266019/1235698\">answer</a>, I created a sample project that properly loads from memory->disk->network using retrofit, okhttp, rxjava and guava.\n<a href=\"https://github.com/digitalbuddha/StoreDemo\" rel=\"nofollow noreferrer\">https://github.com/digitalbuddha/StoreDemo</a></p>\n"},{"tags":[],"owner":{"account_id":454836,"reputation":1149,"user_id":852671,"display_name":"Arkadiusz Konior"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1479134470,"creation_date":1461331726,"answer_id":36795214,"question_id":23429046,"body_markdown":"My solution:\r\n\r\n    private BackendService() {\r\n\r\n        httpCacheDirectory = new File(context.getCacheDir(),  &quot;responses&quot;);\r\n        int cacheSize = 10 * 1024 * 1024; // 10 MiB\r\n        Cache cache = new Cache(httpCacheDirectory, cacheSize);\r\n\r\n        httpClient = new OkHttpClient.Builder()\r\n                .addNetworkInterceptor(REWRITE_RESPONSE_INTERCEPTOR)\r\n                .addInterceptor(OFFLINE_INTERCEPTOR)\r\n                .cache(cache)\r\n                .build();\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://api.backend.com&quot;)\r\n                .client(httpClient)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        backendApi = retrofit.create(BackendApi.class);\r\n    }\r\n\r\n    private static final Interceptor REWRITE_RESPONSE_INTERCEPTOR = chain -&gt; {\r\n        Response originalResponse = chain.proceed(chain.request());\r\n        String cacheControl = originalResponse.header(&quot;Cache-Control&quot;);\r\n\r\n        if (cacheControl == null || cacheControl.contains(&quot;no-store&quot;) || cacheControl.contains(&quot;no-cache&quot;) ||\r\n                cacheControl.contains(&quot;must-revalidate&quot;) || cacheControl.contains(&quot;max-age=0&quot;)) {\r\n            return originalResponse.newBuilder()\r\n                    .header(&quot;Cache-Control&quot;, &quot;public, max-age=&quot; + 10)\r\n                    .build();\r\n        } else {\r\n            return originalResponse;\r\n        }\r\n    };\r\n\r\n    private static final Interceptor OFFLINE_INTERCEPTOR = chain -&gt; {\r\n        Request request = chain.request();\r\n\r\n        if (!isOnline()) {\r\n            Log.d(TAG, &quot;rewriting request&quot;);\r\n\r\n            int maxStale = 60 * 60 * 24 * 28; // tolerate 4-weeks stale\r\n            request = request.newBuilder()\r\n                    .header(&quot;Cache-Control&quot;, &quot;public, only-if-cached, max-stale=&quot; + maxStale)\r\n                    .build();\r\n        }\r\n\r\n        return chain.proceed(request);\r\n    };\r\n\r\n    public static boolean isOnline() {\r\n        ConnectivityManager cm = (ConnectivityManager) MyApplication.getApplication().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo netInfo = cm.getActiveNetworkInfo();\r\n        return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\r\n    }","title":"Can Retrofit with OKHttp use cache data when offline","body":"<p>My solution:</p>\n\n<pre><code>private BackendService() {\n\n    httpCacheDirectory = new File(context.getCacheDir(),  \"responses\");\n    int cacheSize = 10 * 1024 * 1024; // 10 MiB\n    Cache cache = new Cache(httpCacheDirectory, cacheSize);\n\n    httpClient = new OkHttpClient.Builder()\n            .addNetworkInterceptor(REWRITE_RESPONSE_INTERCEPTOR)\n            .addInterceptor(OFFLINE_INTERCEPTOR)\n            .cache(cache)\n            .build();\n\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(\"https://api.backend.com\")\n            .client(httpClient)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n\n    backendApi = retrofit.create(BackendApi.class);\n}\n\nprivate static final Interceptor REWRITE_RESPONSE_INTERCEPTOR = chain -&gt; {\n    Response originalResponse = chain.proceed(chain.request());\n    String cacheControl = originalResponse.header(\"Cache-Control\");\n\n    if (cacheControl == null || cacheControl.contains(\"no-store\") || cacheControl.contains(\"no-cache\") ||\n            cacheControl.contains(\"must-revalidate\") || cacheControl.contains(\"max-age=0\")) {\n        return originalResponse.newBuilder()\n                .header(\"Cache-Control\", \"public, max-age=\" + 10)\n                .build();\n    } else {\n        return originalResponse;\n    }\n};\n\nprivate static final Interceptor OFFLINE_INTERCEPTOR = chain -&gt; {\n    Request request = chain.request();\n\n    if (!isOnline()) {\n        Log.d(TAG, \"rewriting request\");\n\n        int maxStale = 60 * 60 * 24 * 28; // tolerate 4-weeks stale\n        request = request.newBuilder()\n                .header(\"Cache-Control\", \"public, only-if-cached, max-stale=\" + maxStale)\n                .build();\n    }\n\n    return chain.proceed(request);\n};\n\npublic static boolean isOnline() {\n    ConnectivityManager cm = (ConnectivityManager) MyApplication.getApplication().getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo netInfo = cm.getActiveNetworkInfo();\n    return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5995894,"reputation":1248,"user_id":4710549,"accept_rate":42,"display_name":"Владимир Широков"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1464506242,"creation_date":1464506242,"answer_id":37507242,"question_id":23429046,"body_markdown":"Cache with Retrofit2 and OkHTTP3:\r\n\r\n    OkHttpClient client = new OkHttpClient\r\n      .Builder()\r\n      .cache(new Cache(App.sApp.getCacheDir(), 10 * 1024 * 1024)) // 10 MB\r\n      .addInterceptor(new Interceptor() {\r\n        @Override public Response intercept(Chain chain) throws IOException {\r\n          Request request = chain.request();\r\n          if (NetworkUtils.isNetworkAvailable()) {\r\n            request = request.newBuilder().header(&quot;Cache-Control&quot;, &quot;public, max-age=&quot; + 60).build();\r\n          } else {\r\n            request = request.newBuilder().header(&quot;Cache-Control&quot;, &quot;public, only-if-cached, max-stale=&quot; + 60 * 60 * 24 * 7).build();\r\n          }\r\n          return chain.proceed(request);\r\n        }\r\n      })\r\n      .build();\r\nNetworkUtils.isNetworkAvailable() static method:\r\n\r\n    public static boolean isNetworkAvailable(Context context) {\r\n            ConnectivityManager cm =\r\n                    (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n            return activeNetwork != null &amp;&amp;\r\n                    activeNetwork.isConnectedOrConnecting();\r\n        }\r\n\r\nThen just add client to the retrofit builder:\r\n\r\n    Retrofit retrofit = new Retrofit.Builder()\r\n                        .baseUrl(BASE_URL)\r\n                        .client(client)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n\r\nOriginal source: https://newfivefour.com/android-retrofit2-okhttp3-cache-network-request-offline.html","title":"Can Retrofit with OKHttp use cache data when offline","body":"<p>Cache with Retrofit2 and OkHTTP3:</p>\n\n<pre><code>OkHttpClient client = new OkHttpClient\n  .Builder()\n  .cache(new Cache(App.sApp.getCacheDir(), 10 * 1024 * 1024)) // 10 MB\n  .addInterceptor(new Interceptor() {\n    @Override public Response intercept(Chain chain) throws IOException {\n      Request request = chain.request();\n      if (NetworkUtils.isNetworkAvailable()) {\n        request = request.newBuilder().header(\"Cache-Control\", \"public, max-age=\" + 60).build();\n      } else {\n        request = request.newBuilder().header(\"Cache-Control\", \"public, only-if-cached, max-stale=\" + 60 * 60 * 24 * 7).build();\n      }\n      return chain.proceed(request);\n    }\n  })\n  .build();\n</code></pre>\n\n<p>NetworkUtils.isNetworkAvailable() static method:</p>\n\n<pre><code>public static boolean isNetworkAvailable(Context context) {\n        ConnectivityManager cm =\n                (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        return activeNetwork != null &amp;&amp;\n                activeNetwork.isConnectedOrConnecting();\n    }\n</code></pre>\n\n<p>Then just add client to the retrofit builder:</p>\n\n<pre><code>Retrofit retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .client(client)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n</code></pre>\n\n<p>Original source: <a href=\"https://newfivefour.com/android-retrofit2-okhttp3-cache-network-request-offline.html\" rel=\"nofollow\">https://newfivefour.com/android-retrofit2-okhttp3-cache-network-request-offline.html</a></p>\n"},{"tags":[],"owner":{"account_id":4214154,"reputation":772,"user_id":3453164,"display_name":"Nicolas Cornette"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1466754944,"creation_date":1466604501,"answer_id":37970524,"question_id":23429046,"body_markdown":"The answer is YES, based on the above answers, I started writing unit tests to verify all possible use cases : \r\n\r\n - **Use cache when offline**\r\n - Use cached response first until expired, then network\r\n - Use network first then cache for some requests\r\n - Do not store in cache for some responses\r\n\r\nI built a small helper lib to configure OKHttp cache easily, you can see the related unittest here on Github : https://github.com/ncornette/OkCacheControl/blob/master/okcache-control/src/test/java/com/ncornette/cache/OkCacheControlTest.java\r\n\r\nUnittest that demonstrates the use of cache when offline : \r\n\r\n    @Test\r\n    public void test_USE_CACHE_WHEN_OFFLINE() throws Exception {\r\n        //given\r\n        givenResponseInCache(&quot;Expired Response in cache&quot;, -5, MINUTES);\r\n        given(networkMonitor.isOnline()).willReturn(false);\r\n\r\n        //when\r\n        //This response is only used to not block when test fails\r\n        mockWebServer.enqueue(new MockResponse().setResponseCode(404));\r\n        Response response = getResponse();\r\n\r\n        //then\r\n        then(response.body().string()).isEqualTo(&quot;Expired Response in cache&quot;);\r\n        then(cache.hitCount()).isEqualTo(1);\r\n    }\r\n\r\nAs you can see, cache can be used even if it has expired.\r\nHope it will help. \r\n","title":"Can Retrofit with OKHttp use cache data when offline","body":"<p>The answer is YES, based on the above answers, I started writing unit tests to verify all possible use cases : </p>\n\n<ul>\n<li><strong>Use cache when offline</strong></li>\n<li>Use cached response first until expired, then network</li>\n<li>Use network first then cache for some requests</li>\n<li>Do not store in cache for some responses</li>\n</ul>\n\n<p>I built a small helper lib to configure OKHttp cache easily, you can see the related unittest here on Github : <a href=\"https://github.com/ncornette/OkCacheControl/blob/master/okcache-control/src/test/java/com/ncornette/cache/OkCacheControlTest.java\" rel=\"noreferrer\">https://github.com/ncornette/OkCacheControl/blob/master/okcache-control/src/test/java/com/ncornette/cache/OkCacheControlTest.java</a></p>\n\n<p>Unittest that demonstrates the use of cache when offline : </p>\n\n<pre><code>@Test\npublic void test_USE_CACHE_WHEN_OFFLINE() throws Exception {\n    //given\n    givenResponseInCache(\"Expired Response in cache\", -5, MINUTES);\n    given(networkMonitor.isOnline()).willReturn(false);\n\n    //when\n    //This response is only used to not block when test fails\n    mockWebServer.enqueue(new MockResponse().setResponseCode(404));\n    Response response = getResponse();\n\n    //then\n    then(response.body().string()).isEqualTo(\"Expired Response in cache\");\n    then(cache.hitCount()).isEqualTo(1);\n}\n</code></pre>\n\n<p>As you can see, cache can be used even if it has expired.\nHope it will help. </p>\n"},{"tags":[],"owner":{"account_id":20517189,"reputation":1752,"user_id":15057576,"display_name":"聂超群"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644385190,"creation_date":1644385190,"answer_id":71044496,"question_id":23429046,"body_markdown":"Attention! OkHttp build in cache only work for `GET` method(refer to above solution). If you want to cache `POST` request, you must implement yourself.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YKIdw.png","title":"Can Retrofit with OKHttp use cache data when offline","body":"<p>Attention! OkHttp build in cache only work for <code>GET</code> method(refer to above solution). If you want to cache <code>POST</code> request, you must implement yourself.\n<a href=\"https://i.stack.imgur.com/YKIdw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKIdw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1134862,"reputation":7688,"user_id":1120126,"accept_rate":62,"display_name":"osrl"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99643,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":23503804,"answer_count":7,"score":158,"last_activity_date":1644385190,"creation_date":1399036405,"question_id":23429046,"body_markdown":"I&#39;m trying to use Retrofit &amp; OKHttp to cache HTTP responses. I followed [this gist][1] and, ended up with this code:\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    File httpCacheDirectory = new File(context.getCacheDir(), &quot;responses&quot;);\r\n\r\n    HttpResponseCache httpResponseCache = null;\r\n    try {\r\n         httpResponseCache = new HttpResponseCache(httpCacheDirectory, 10 * 1024 * 1024);\r\n    } catch (IOException e) {\r\n         Log.e(&quot;Retrofit&quot;, &quot;Could not create http cache&quot;, e);\r\n    }\r\n\r\n    OkHttpClient okHttpClient = new OkHttpClient();\r\n    okHttpClient.setResponseCache(httpResponseCache);\r\n\r\n    api = new RestAdapter.Builder()\r\n              .setEndpoint(API_URL)\r\n              .setLogLevel(RestAdapter.LogLevel.FULL)\r\n              .setClient(new OkClient(okHttpClient))\r\n              .build()\r\n              .create(MyApi.class);\r\n\r\n\r\nAnd this is MyApi with the Cache-Control headers\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public interface MyApi {\r\n       @Headers(&quot;Cache-Control: public, max-age=640000, s-maxage=640000 , max-stale=2419200&quot;)\r\n       @GET(&quot;/api/v1/person/1/&quot;)\r\n       void requestPerson(\r\n               Callback&lt;Person&gt; callback\r\n       );\r\n\r\nFirst I request online and check the cache files. The correct JSON response and headers are there. But when I try to request offline, I always get `RetrofitError UnknownHostException`. Is there anything else I should do to make Retrofit read the response from cache?\r\n\r\n**EDIT:**\r\nSince OKHttp 2.0.x `HttpResponseCache` is `Cache`, `setResponseCache` is `setCache`\r\n\r\n  [1]: https://gist.github.com/swankjesse/5889518 &quot;gist&quot;","title":"Can Retrofit with OKHttp use cache data when offline","body":"<p>I'm trying to use Retrofit &amp; OKHttp to cache HTTP responses. I followed <a href=\"https://gist.github.com/swankjesse/5889518\" rel=\"noreferrer\" title=\"gist\">this gist</a> and, ended up with this code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>File httpCacheDirectory = new File(context.getCacheDir(), \"responses\");\n\nHttpResponseCache httpResponseCache = null;\ntry {\n     httpResponseCache = new HttpResponseCache(httpCacheDirectory, 10 * 1024 * 1024);\n} catch (IOException e) {\n     Log.e(\"Retrofit\", \"Could not create http cache\", e);\n}\n\nOkHttpClient okHttpClient = new OkHttpClient();\nokHttpClient.setResponseCache(httpResponseCache);\n\napi = new RestAdapter.Builder()\n          .setEndpoint(API_URL)\n          .setLogLevel(RestAdapter.LogLevel.FULL)\n          .setClient(new OkClient(okHttpClient))\n          .build()\n          .create(MyApi.class);\n</code></pre>\n\n<p>And this is MyApi with the Cache-Control headers\n</p>\n\n<pre><code>public interface MyApi {\n   @Headers(\"Cache-Control: public, max-age=640000, s-maxage=640000 , max-stale=2419200\")\n   @GET(\"/api/v1/person/1/\")\n   void requestPerson(\n           Callback&lt;Person&gt; callback\n   );\n</code></pre>\n\n<p>First I request online and check the cache files. The correct JSON response and headers are there. But when I try to request offline, I always get <code>RetrofitError UnknownHostException</code>. Is there anything else I should do to make Retrofit read the response from cache?</p>\n\n<p><strong>EDIT:</strong>\nSince OKHttp 2.0.x <code>HttpResponseCache</code> is <code>Cache</code>, <code>setResponseCache</code> is <code>setCache</code></p>\n"},{"tags":["java","spring-boot","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":17922454,"reputation":99,"user_id":13021900,"display_name":"Maickeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644384570,"creation_date":1644384570,"answer_id":71044432,"question_id":60574275,"body_markdown":"After Spring 5, the **DefaultUriBuilderFactory**, used by **RestTemplate**, defaults is ***EncodingMode.URI_COMPONENT***, as described below:\r\n\r\n&gt; Expand URI variables first, and then encode the resulting URI component values, replacing only non-ASCII and illegal (within a given URI component type) characters, but not characters with reserved meaning.\r\n\r\nIf you want your URI to be unencoded like I do, just create a new **DefaultUriBuilderFactory** with ***EncodingMode.NONE*** and add it to your **RestTemplate**:\r\n\r\n    DefaultUriBuilderFactory uriBuilderFactory = new DefaultUriBuilderFactory();\r\n    uriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.NONE);\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.setUriTemplateHandler(uriBuilderFactory);\r\n\r\nYou can check [here][1] for other EncondingModes.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/DefaultUriBuilderFactory.EncodingMode.html","title":"How can i use % with RestTemplate","body":"<p>After Spring 5, the <strong>DefaultUriBuilderFactory</strong>, used by <strong>RestTemplate</strong>, defaults is <em><strong>EncodingMode.URI_COMPONENT</strong></em>, as described below:</p>\n<blockquote>\n<p>Expand URI variables first, and then encode the resulting URI component values, replacing only non-ASCII and illegal (within a given URI component type) characters, but not characters with reserved meaning.</p>\n</blockquote>\n<p>If you want your URI to be unencoded like I do, just create a new <strong>DefaultUriBuilderFactory</strong> with <em><strong>EncodingMode.NONE</strong></em> and add it to your <strong>RestTemplate</strong>:</p>\n<pre><code>DefaultUriBuilderFactory uriBuilderFactory = new DefaultUriBuilderFactory();\nuriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.NONE);\nRestTemplate restTemplate = new RestTemplate();\nrestTemplate.setUriTemplateHandler(uriBuilderFactory);\n</code></pre>\n<p>You can check <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/DefaultUriBuilderFactory.EncodingMode.html\" rel=\"nofollow noreferrer\">here</a> for other EncondingModes.</p>\n"}],"owner":{"account_id":17922454,"reputation":99,"user_id":13021900,"display_name":"Maickeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71044432,"answer_count":1,"score":2,"last_activity_date":1644384649,"creation_date":1583553862,"question_id":60574275,"body_markdown":"I am trying to make a HTTP request to a API with a route like this:\r\n\r\nhttps://example.test/{ID}/get\r\n\r\nThe problem is, the ID starts with %, something like &quot;%123123123&quot;, after the &quot;excute&quot; method, locate in RestTemplate class, this ID&#39;s becomes %25123123123, % changes into %25. \r\nMore specific, in this line of the method:\r\n\r\n    URI expanded = getUriTemplateHandler().expand(url, uriVariables);\r\n\r\nHere my uriVariables is just a empty Object, and when i manually change the value of expanded variable removing &quot;25&quot;, the request works just fine.\r\n\r\nAnyone knows how to fix it ?","title":"How can i use % with RestTemplate","body":"<p>I am trying to make a HTTP request to a API with a route like this:</p>\n<p><a href=\"https://example.test/%7BID%7D/get\" rel=\"nofollow noreferrer\">https://example.test/{ID}/get</a></p>\n<p>The problem is, the ID starts with %, something like &quot;%123123123&quot;, after the &quot;excute&quot; method, locate in RestTemplate class, this ID's becomes %25123123123, % changes into %25.\nMore specific, in this line of the method:</p>\n<pre><code>URI expanded = getUriTemplateHandler().expand(url, uriVariables);\n</code></pre>\n<p>Here my uriVariables is just a empty Object, and when i manually change the value of expanded variable removing &quot;25&quot;, the request works just fine.</p>\n<p>Anyone knows how to fix it ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1644384287,"post_id":71044363,"comment_id":125589651,"body_markdown":"*&quot;the access modifier should have a generic type information&quot;*: which &quot;access modifier&quot; are you referring to (none is shown)? `&lt;T&gt;` is about the method being generic, and it has **a** correct place in the method declaration. Is that what your question is about?","body":"<i>&quot;the access modifier should have a generic type information&quot;</i>: which &quot;access modifier&quot; are you referring to (none is shown)? <code>&lt;T&gt;</code> is about the method being generic, and it has <b>a</b> correct place in the method declaration. Is that what your question is about?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1644384319,"post_id":71044363,"comment_id":125589656,"body_markdown":"Read about &quot;generic methods&quot;.  The `&lt;T&gt;` is a type parameter for the method, not for the access modifier.  Also, `static` is not an access modifier.","body":"Read about &quot;generic methods&quot;.  The <code>&lt;T&gt;</code> is a type parameter for the method, not for the access modifier.  Also, <code>static</code> is not an access modifier."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1644384348,"post_id":71044363,"comment_id":125589660,"body_markdown":"Do you know what [generics](https://docs.oracle.com/javase/tutorial/java/generics/index.html) are in Java?","body":"Do you know what <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">generics</a> are in Java?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1644384423,"post_id":71044363,"comment_id":125589670,"body_markdown":"@Abra, lots of people know about &quot;generic types&quot;, and think they know all there is to know about generics.  They don&#39;t necessarily know about the other side of the coin - &quot;generic methods&quot;.","body":"@Abra, lots of people know about &quot;generic types&quot;, and think they know all there is to know about generics.  They don&#39;t necessarily know about the other side of the coin - &quot;generic methods&quot;."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1644384577,"post_id":71044363,"comment_id":125589689,"body_markdown":"@DawoodibnKareem do you mean [Generic Methods and Bounded Types](https://docs.oracle.com/javase/tutorial/java/generics/boundedTypeParams.html)?","body":"@DawoodibnKareem do you mean <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/boundedTypeParams.html\" rel=\"nofollow noreferrer\">Generic Methods and Bounded Types</a>?"},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1644385714,"post_id":71044363,"comment_id":125589907,"body_markdown":"what is the different between normal List&lt;T&gt; vs  &lt;T&gt; List&lt;T&gt;  in the documentation?","body":"what is the different between normal List&lt;T&gt; vs  &lt;T&gt; List&lt;T&gt;  in the documentation?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1644386965,"post_id":71044363,"comment_id":125590175,"body_markdown":"@BabyishTank `&lt;T&gt; List&lt;T&gt;` is not a type. It is a type parameter for a method (declaring that the method signature will use a type parameter named T) followed by a `List&lt;T&gt;`.","body":"@BabyishTank <code>&lt;T&gt; List&lt;T&gt;</code> is not a type. It is a type parameter for a method (declaring that the method signature will use a type parameter named T) followed by a <code>List&lt;T&gt;</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1644387739,"post_id":71044363,"comment_id":125590343,"body_markdown":"(and I should have said &quot;declaring that the method will use...&quot; as the type parameter can be used in the method body as well)","body":"(and I should have said &quot;declaring that the method will use...&quot; as the type parameter can be used in the method body as well)"},{"owner":{"account_id":20676194,"reputation":47,"user_id":15180745,"display_name":"June Park"},"score":1,"creation_date":1644736945,"post_id":71044363,"comment_id":125682123,"body_markdown":"Oh, I didn&#39;t know the concept &quot;type parameter&quot;. I must have passed the concept &quot;generic methods&quot; when learning. Thanks all for answering. The following [link](https://www.tutorialspoint.com/where-exactly-type-parameter-need-to-be-specified-while-declaring-generic-method-in-java) helped.","body":"Oh, I didn&#39;t know the concept &quot;type parameter&quot;. I must have passed the concept &quot;generic methods&quot; when learning. Thanks all for answering. The following <a href=\"https://www.tutorialspoint.com/where-exactly-type-parameter-need-to-be-specified-while-declaring-generic-method-in-java\" rel=\"nofollow noreferrer\">link</a> helped."}],"owner":{"account_id":20676194,"reputation":47,"user_id":15180745,"display_name":"June Park"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1644384094,"creation_date":1644384094,"question_id":71044363,"body_markdown":"Can anyone tell me what the \\&lt;T&gt; means in the capture below??  \r\nI don&#39;t get why the access modifier should have a generic type information.  \r\nThanks for all your help in advance.\r\n\r\n[![Java Documentation capture][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/o23dn.png","title":"What does the generic type in modifier mean in the Java Documentation?","body":"<p>Can anyone tell me what the &lt;T&gt; means in the capture below??<br />\nI don't get why the access modifier should have a generic type information.<br />\nThanks for all your help in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/o23dn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o23dn.png\" alt=\"Java Documentation capture\" /></a></p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1644379793,"post_id":71043812,"comment_id":125588980,"body_markdown":"Note that these instructions are _completely nonstandard_ for Maven. Binance should have published this for you already, and all you should have to do is add the dependency in your POM.","body":"Note that these instructions are <i>completely nonstandard</i> for Maven. Binance should have published this for you already, and all you should have to do is add the dependency in your POM."},{"owner":{"account_id":1969960,"reputation":2164,"user_id":1769197,"accept_rate":50,"display_name":"user1769197"},"score":0,"creation_date":1644379882,"post_id":71043812,"comment_id":125588994,"body_markdown":"yes i added the dependency code add in the POM but it&#39;s saying that jar is missing ...do i need to enable something in eclipse to ensure that it is pulling the jar files?","body":"yes i added the dependency code add in the POM but it&#39;s saying that jar is missing ...do i need to enable something in eclipse to ensure that it is pulling the jar files?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1644380444,"post_id":71043812,"comment_id":125589077,"body_markdown":"You need to clone the binance-api-client repo, and run `mvn install` in the root directory of the repo.","body":"You need to clone the binance-api-client repo, and run <code>mvn install</code> in the root directory of the repo."}],"owner":{"account_id":1969960,"reputation":2164,"user_id":1769197,"accept_rate":50,"display_name":"user1769197"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644383321,"creation_date":1644379002,"question_id":71043812,"body_markdown":"I am completely new to Maven. I am using eclipse 2021-12 and i am trying to follow the installation from [this link][1] but do it in eclipse. \r\n\r\nHowever, i am struggling to carry out the first step in eclipse &quot;Install library into your Maven&#39;s local repository by running `mvn install`&quot;. I have created a new simple Maven Project and added the dependency code in step 2. And it gave me an error saying missing jar file. \r\n\r\n  [1]: https://github.com/binance-exchange/binance-java-api\r\n\r\nMy question is how do i carry out step 1 in eclipse ? \r\n\r\nThis is how the `pom.xml` looks like:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;binance.crypto&lt;/groupId&gt;\r\n      &lt;artifactId&gt;binance.crypto&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;com.binance.api&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;binance-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThe error i am getting is `missing artifact com.binance.api:binance-api-client:jar:1.0.0:`\r\n\r\n**Solution:**\r\n\r\n 1. Clone the project from github and import as a normal project (not maven project) in eclipse\r\n 2. Right Click and run as `Maven Install`\r\n\r\nThen it&#39;s completed","title":"How to install library into my maven&#39;s local repo in Eclipse?","body":"<p>I am completely new to Maven. I am using eclipse 2021-12 and i am trying to follow the installation from <a href=\"https://github.com/binance-exchange/binance-java-api\" rel=\"nofollow noreferrer\">this link</a> but do it in eclipse.</p>\n<p>However, i am struggling to carry out the first step in eclipse &quot;Install library into your Maven's local repository by running <code>mvn install</code>&quot;. I have created a new simple Maven Project and added the dependency code in step 2. And it gave me an error saying missing jar file.</p>\n<p>My question is how do i carry out step 1 in eclipse ?</p>\n<p>This is how the <code>pom.xml</code> looks like:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;binance.crypto&lt;/groupId&gt;\n  &lt;artifactId&gt;binance.crypto&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.binance.api&lt;/groupId&gt;\n        &lt;artifactId&gt;binance-api-client&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The error i am getting is <code>missing artifact com.binance.api:binance-api-client:jar:1.0.0:</code></p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li>Clone the project from github and import as a normal project (not maven project) in eclipse</li>\n<li>Right Click and run as <code>Maven Install</code></li>\n</ol>\n<p>Then it's completed</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1641735980,"post_id":70641837,"comment_id":124878335,"body_markdown":"You have your expected and actual reversed.","body":"You have your expected and actual reversed."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641735915,"creation_date":1641735915,"answer_id":70641879,"question_id":70641837,"body_markdown":"`i` is an array, so when you put it as the key of your `Map`, you get a `Map&lt;Object[],Object&gt;`.\r\n\r\nYou don&#39;t need a nested loop:\r\n\r\n    public Map&lt;Character, Integer&gt; arrayToMap(Object[][] args) {\r\n        Map&lt;Character, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n        for (Object[] i : args) {\r\n            map.put((Character) i[0], (Integer) i[1]);\r\n        }\r\n        return map;\r\n    }\r\n\r\nEach inner array of your 2D array should become a pair of key and value in the output `Map`.","title":"How to write method array to Map","body":"<p><code>i</code> is an array, so when you put it as the key of your <code>Map</code>, you get a <code>Map&lt;Object[],Object&gt;</code>.</p>\n<p>You don't need a nested loop:</p>\n<pre><code>public Map&lt;Character, Integer&gt; arrayToMap(Object[][] args) {\n    Map&lt;Character, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n    for (Object[] i : args) {\n        map.put((Character) i[0], (Integer) i[1]);\n    }\n    return map;\n}\n</code></pre>\n<p>Each inner array of your 2D array should become a pair of key and value in the output <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641752131,"creation_date":1641739539,"answer_id":70642369,"question_id":70641837,"body_markdown":"Use Stream API with Callectors.toMap method:\r\n\r\n````\r\npublic static Map&lt;Character, Integer&gt; arrayToMap(Object[][] arr) {  \r\n  return Arrays.stream(arr)\r\n               .collect(Collectors.toMap(o -&gt; (Character)o[0],\r\n                                         o -&gt; (Integer)o[1],\r\n                                         (oldV, newV) -&gt; newV,\r\n                                         LinkedHashMap::new\r\n                                         ));\r\n}\r\n````","title":"How to write method array to Map","body":"<p>Use Stream API with Callectors.toMap method:</p>\n<pre><code>public static Map&lt;Character, Integer&gt; arrayToMap(Object[][] arr) {  \n  return Arrays.stream(arr)\n               .collect(Collectors.toMap(o -&gt; (Character)o[0],\n                                         o -&gt; (Integer)o[1],\n                                         (oldV, newV) -&gt; newV,\n                                         LinkedHashMap::new\n                                         ));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641753794,"creation_date":1641753794,"answer_id":70644373,"question_id":70641837,"body_markdown":"2D array in `Java` is an *array of arrays*; i.e. in your example, you have a 1D array of 1D arrays with exactly 2 elements `[char, int]`\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Object[][] arr = {\r\n            { &#39;1&#39;, 1 }, { &#39; &#39;, 5 }, { &#39;2&#39;, 2 }, { &#39;3&#39;, 3 },\r\n            { &#39;4&#39;, 4 }, { &#39;5&#39;, 5 }, { &#39;6&#39;, 6 } };\r\n\r\n    Map&lt;Character, Integer&gt; map = arrayToMap(arr);\r\n    System.out.println(map);\r\n}\r\n\r\npublic static Map&lt;Character, Integer&gt; arrayToMap(Object[][] arr) {\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; arr.length; i++)\r\n        map.put((char)arr[i][0], (int)arr[i][1]);\r\n\r\n    return map;\r\n}\r\n```","title":"How to write method array to Map","body":"<p>2D array in <code>Java</code> is an <em>array of arrays</em>; i.e. in your example, you have a 1D array of 1D arrays with exactly 2 elements <code>[char, int]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Object[][] arr = {\n            { '1', 1 }, { ' ', 5 }, { '2', 2 }, { '3', 3 },\n            { '4', 4 }, { '5', 5 }, { '6', 6 } };\n\n    Map&lt;Character, Integer&gt; map = arrayToMap(arr);\n    System.out.println(map);\n}\n\npublic static Map&lt;Character, Integer&gt; arrayToMap(Object[][] arr) {\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; arr.length; i++)\n        map.put((char)arr[i][0], (int)arr[i][1]);\n\n    return map;\n}\n</code></pre>\n"}],"owner":{"account_id":22346107,"reputation":89,"user_id":16565086,"display_name":"Vitalii Smahlenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70641879,"answer_count":3,"score":3,"last_activity_date":1644383125,"creation_date":1641735640,"question_id":70641837,"body_markdown":"I need to write a method that will convert the mass into Map","title":"How to write method array to Map","body":"<p>I need to write a method that will convert the mass into Map</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":5624342,"reputation":162,"user_id":4453230,"display_name":"Andi"},"score":0,"creation_date":1644381907,"post_id":71044015,"comment_id":125589301,"body_markdown":"`\\G` is &quot;The end of the previous match&quot;; `.{2}` matches any 2 characters. the way i see it, this just matches the whole string in 2 character segments (except for the last part if length is odd).","body":"<code>\\G</code> is &quot;The end of the previous match&quot;; <code>.{2}</code> matches any 2 characters. the way i see it, this just matches the whole string in 2 character segments (except for the last part if length is odd)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644382314,"creation_date":1644382314,"answer_id":71044167,"question_id":71044015,"body_markdown":"Let&#39;s break it down:\r\n\r\n* `&quot;(?&lt;=\\\\G.{&quot; + 2 + &quot;})&quot;` is just a silly way to write `&quot;(?&lt;=\\\\G.{2})&quot;`.\r\n* `.{2}` is &#39;any 2 characters&#39;. `.` is &#39;any character&#39;, and `{2}` is &#39;the thing before this, exactly twice.\r\n* Now for the fancypants features here: `\\\\G` is &#39;the end of the previous match, which is a thing that only makes sense in the context of repeatedly calling `find()` on a matcher.. and `split`. Thus, `\\\\G.{2}` matches exactly 2 characters that immediately follow the previous match.\r\n\r\nThe regexp you pass to split actually identifies _the separator_. Whatever you match will not be part of the result: `&quot;a,b,c&quot;.split(&quot;,&quot;)` ends up not returning any commas, so `.split(&quot;\\\\G.{2}&quot;)` would eat up everything and end up returning a few empty strings. Which is why there&#39;s one more thing we didn&#39;t cover:\r\n\r\n* `?&lt;=` is so-called &#39;positive lookbehind&#39;.\r\n\r\nTo explain that, we first need to delve into how regexes work. Regexes consist of a series of &#39;nodes&#39;. Each node does 2 utterly unrelated things: It either matches or it doesn&#39;t, and it &#39;moves the pointer&#39; some slots to the right. The regexp `&quot;a&quot;` consists of a single node, which matches if the thing &#39;at the pointer&#39; is, exactly, the character &quot;a&quot;, and will fail to match if there&#39;s anything else there. If it matches, it moves the cursor one to the right.\r\n\r\nSome nodes don&#39;t move the cursor. They match or fail but don&#39;t &#39;consume&#39; anything. For example, `^` matches if you&#39;re at the start of a string and fails otherwise, but it doesn&#39;t consume anything (&#39;start of the string&#39; is not a consumable concept, that has no width. There is no &#39;start&#39; character). `\\\\b` (word break) is similar.\r\n\r\nlookahead and lookbehind are tools to make your own non-consuming nodes. They consist of two things:\r\n\r\n* Which lookX you want. There are 4 types: Positive/Negative Lookahead/Lookbehind.\r\n* A regexp to match.\r\n\r\nnegative means: It fails if the regexp is there (positive means: it fails if the regexp is not there). lookahead means that the regexp needs to match at the cursor looking to the right, and lookbehind means that the regexp needs to match at the cursor looking left.\r\n\r\n`?&lt;=` selects positive lookbehind, the rest is therefore the regexp to look for - it no longer consumes.\r\n\r\nNow you can put it all together:\r\n\r\nThis regexp &#39;matches&#39; (consumes) nothing, because it&#39;s entirely a positive lookbehind construction. That explains why all the characters are returned (your `array` variable) - remember, in the more usual `&quot;a,b,c&quot;.split(&quot;,&quot;)` style mode, stuff disappears (the commas).\r\n\r\nInstead, this regexp matches the space in between every 2 characters.\r\n\r\nFor what its worth, this is stupidly convoluted. This is a horrible, horrible way to separate a string into consecutive character pairs. I think someone is trying to show off, or this is some sort of &#39;ha! Check out what regexes can do!&#39; puzzler thing. Fair enough.\r\n","title":"can someone explain how split(&quot;(?&lt;=\\\\G.{&quot; + 2 + &quot;})&quot;) in java splits the spring in 2 characters each?","body":"<p>Let's break it down:</p>\n<ul>\n<li><code>&quot;(?&lt;=\\\\G.{&quot; + 2 + &quot;})&quot;</code> is just a silly way to write <code>&quot;(?&lt;=\\\\G.{2})&quot;</code>.</li>\n<li><code>.{2}</code> is 'any 2 characters'. <code>.</code> is 'any character', and <code>{2}</code> is 'the thing before this, exactly twice.</li>\n<li>Now for the fancypants features here: <code>\\\\G</code> is 'the end of the previous match, which is a thing that only makes sense in the context of repeatedly calling <code>find()</code> on a matcher.. and <code>split</code>. Thus, <code>\\\\G.{2}</code> matches exactly 2 characters that immediately follow the previous match.</li>\n</ul>\n<p>The regexp you pass to split actually identifies <em>the separator</em>. Whatever you match will not be part of the result: <code>&quot;a,b,c&quot;.split(&quot;,&quot;)</code> ends up not returning any commas, so <code>.split(&quot;\\\\G.{2}&quot;)</code> would eat up everything and end up returning a few empty strings. Which is why there's one more thing we didn't cover:</p>\n<ul>\n<li><code>?&lt;=</code> is so-called 'positive lookbehind'.</li>\n</ul>\n<p>To explain that, we first need to delve into how regexes work. Regexes consist of a series of 'nodes'. Each node does 2 utterly unrelated things: It either matches or it doesn't, and it 'moves the pointer' some slots to the right. The regexp <code>&quot;a&quot;</code> consists of a single node, which matches if the thing 'at the pointer' is, exactly, the character &quot;a&quot;, and will fail to match if there's anything else there. If it matches, it moves the cursor one to the right.</p>\n<p>Some nodes don't move the cursor. They match or fail but don't 'consume' anything. For example, <code>^</code> matches if you're at the start of a string and fails otherwise, but it doesn't consume anything ('start of the string' is not a consumable concept, that has no width. There is no 'start' character). <code>\\\\b</code> (word break) is similar.</p>\n<p>lookahead and lookbehind are tools to make your own non-consuming nodes. They consist of two things:</p>\n<ul>\n<li>Which lookX you want. There are 4 types: Positive/Negative Lookahead/Lookbehind.</li>\n<li>A regexp to match.</li>\n</ul>\n<p>negative means: It fails if the regexp is there (positive means: it fails if the regexp is not there). lookahead means that the regexp needs to match at the cursor looking to the right, and lookbehind means that the regexp needs to match at the cursor looking left.</p>\n<p><code>?&lt;=</code> selects positive lookbehind, the rest is therefore the regexp to look for - it no longer consumes.</p>\n<p>Now you can put it all together:</p>\n<p>This regexp 'matches' (consumes) nothing, because it's entirely a positive lookbehind construction. That explains why all the characters are returned (your <code>array</code> variable) - remember, in the more usual <code>&quot;a,b,c&quot;.split(&quot;,&quot;)</code> style mode, stuff disappears (the commas).</p>\n<p>Instead, this regexp matches the space in between every 2 characters.</p>\n<p>For what its worth, this is stupidly convoluted. This is a horrible, horrible way to separate a string into consecutive character pairs. I think someone is trying to show off, or this is some sort of 'ha! Check out what regexes can do!' puzzler thing. Fair enough.</p>\n"}],"owner":{"account_id":24199659,"reputation":1,"user_id":18157674,"display_name":"Subhan Siddique"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1644382314,"creation_date":1644380939,"question_id":71044015,"body_markdown":"\r\n        String s = &quot;()[]{}&quot;;\r\n        String[] array = s.split(&quot;(?&lt;=\\\\G.{&quot; + 2 + &quot;})&quot;);\r\n\r\n        for(int i = 0; i&lt; array.length; i++){\r\n            System.out.println(array[i]);\r\n        }\r\nOutput:\r\n()\r\n[]\r\n{}\r\n\r\nI just don&#39;t understand the regex.","title":"can someone explain how split(&quot;(?&lt;=\\\\G.{&quot; + 2 + &quot;})&quot;) in java splits the spring in 2 characters each?","body":"<pre><code>    String s = &quot;()[]{}&quot;;\n    String[] array = s.split(&quot;(?&lt;=\\\\G.{&quot; + 2 + &quot;})&quot;);\n\n    for(int i = 0; i&lt; array.length; i++){\n        System.out.println(array[i]);\n    }\n</code></pre>\n<p>Output:\n()\n[]\n{}</p>\n<p>I just don't understand the regex.</p>\n"},{"tags":["java","apache-poi","xwpf"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1644381165,"creation_date":1477934322,"answer_id":40347193,"question_id":40345285,"body_markdown":"I would delete paragraphs by deleting paragraphs, not by deleting only the runs in this paragraphs. Deleting paragraphs is not part of the `apache poi` high level API. But using `XWPFDocument.getDocument().getBody()` we can get the low level `CTBody` and there is a `removeP(int i)`.\r\n\r\nExample:\r\n\r\n    import java.io.*;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import java.awt.Desktop;\r\n    \r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    \r\n    public class WordRemoveParagraph {\r\n    \r\n     /*\r\n      * Deletes the given paragraph.\r\n      */\r\n    \r\n     public static void deleteParagraph(XWPFParagraph p) {\r\n      XWPFDocument doc = p.getDocument();\r\n      int pPos = doc.getPosOfParagraph(p);\r\n      //doc.getDocument().getBody().removeP(pPos);\r\n      doc.removeBodyElement(pPos);\r\n     }\r\n    \r\n     public static void main(String[] args) throws IOException, InvalidFormatException {\r\n    \r\n      XWPFDocument doc = new XWPFDocument(new FileInputStream(&quot;source.docx&quot;));\r\n    \r\n      int pNumber = doc.getParagraphs().size() -1;\r\n      while (pNumber &gt;= 0) {\r\n       XWPFParagraph p = doc.getParagraphs().get(pNumber);\r\n       if (p.getParagraphText().contains(&quot;delete&quot;)) {\r\n        deleteParagraph(p);\r\n       }\r\n       pNumber--;\r\n      }\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;result.docx&quot;);\r\n      doc.write(out);\r\n      out.close();\r\n      doc.close();\r\n    \r\n      System.out.println(&quot;Done&quot;);\r\n      Desktop.getDesktop().open(new File(&quot;result.docx&quot;));\r\n    \r\n     }\r\n    \r\n    }\r\n\r\nThis deletes all paragraphs from the document source.docx where the text contains &quot;delete&quot; and saves the result in result.docx.\r\n\r\n__________________________\r\n\r\nEdited:\r\n\r\nAlthough `doc.getDocument().getBody().removeP(pPos);` works, it will not update the `XWPFDocument`&#39;s paragraphs list. So it will destroy paragraph iterators and other accesses to that list since the list is only updated while reading the document again.\r\n\r\nSo the better approach is using `doc.removeBodyElement(pPos);` instead. [removeBodyElement(int pos)](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#removeBodyElement-int-) does exactly the same as `doc.getDocument().getBody().removeP(pos);` if the `pos` is pointing to a pagagraph in the document body since that paragraph is an `BodyElement` too. But in addition, it will update the `XWPFDocument`&#39;s paragraphs list.\r\n","title":"Removing an XWPFParagraph keeps the paragraph symbol (&#182;) for it","body":"<p>I would delete paragraphs by deleting paragraphs, not by deleting only the runs in this paragraphs. Deleting paragraphs is not part of the <code>apache poi</code> high level API. But using <code>XWPFDocument.getDocument().getBody()</code> we can get the low level <code>CTBody</code> and there is a <code>removeP(int i)</code>.</p>\n<p>Example:</p>\n<pre><code>import java.io.*;\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport java.awt.Desktop;\n\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\n\npublic class WordRemoveParagraph {\n\n /*\n  * Deletes the given paragraph.\n  */\n\n public static void deleteParagraph(XWPFParagraph p) {\n  XWPFDocument doc = p.getDocument();\n  int pPos = doc.getPosOfParagraph(p);\n  //doc.getDocument().getBody().removeP(pPos);\n  doc.removeBodyElement(pPos);\n }\n\n public static void main(String[] args) throws IOException, InvalidFormatException {\n\n  XWPFDocument doc = new XWPFDocument(new FileInputStream(&quot;source.docx&quot;));\n\n  int pNumber = doc.getParagraphs().size() -1;\n  while (pNumber &gt;= 0) {\n   XWPFParagraph p = doc.getParagraphs().get(pNumber);\n   if (p.getParagraphText().contains(&quot;delete&quot;)) {\n    deleteParagraph(p);\n   }\n   pNumber--;\n  }\n\n  FileOutputStream out = new FileOutputStream(&quot;result.docx&quot;);\n  doc.write(out);\n  out.close();\n  doc.close();\n\n  System.out.println(&quot;Done&quot;);\n  Desktop.getDesktop().open(new File(&quot;result.docx&quot;));\n\n }\n\n}\n</code></pre>\n<p>This deletes all paragraphs from the document source.docx where the text contains &quot;delete&quot; and saves the result in result.docx.</p>\n<hr />\n<p>Edited:</p>\n<p>Although <code>doc.getDocument().getBody().removeP(pPos);</code> works, it will not update the <code>XWPFDocument</code>'s paragraphs list. So it will destroy paragraph iterators and other accesses to that list since the list is only updated while reading the document again.</p>\n<p>So the better approach is using <code>doc.removeBodyElement(pPos);</code> instead. <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#removeBodyElement-int-\" rel=\"nofollow noreferrer\">removeBodyElement(int pos)</a> does exactly the same as <code>doc.getDocument().getBody().removeP(pos);</code> if the <code>pos</code> is pointing to a pagagraph in the document body since that paragraph is an <code>BodyElement</code> too. But in addition, it will update the <code>XWPFDocument</code>'s paragraphs list.</p>\n"},{"tags":[],"owner":{"account_id":3916043,"reputation":2182,"user_id":3239833,"accept_rate":67,"display_name":"SebastianH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492081523,"creation_date":1492081523,"answer_id":43390584,"question_id":40345285,"body_markdown":"When you are inside of a table you need to use the functions of the `XWPFTableCell` instead of the `XWPFDocument`:\r\n\r\n    cell.removeParagraph(cell.getParagraphs().indexOf(para));","title":"Removing an XWPFParagraph keeps the paragraph symbol (&#182;) for it","body":"<p>When you are inside of a table you need to use the functions of the <code>XWPFTableCell</code> instead of the <code>XWPFDocument</code>:</p>\n\n<pre><code>cell.removeParagraph(cell.getParagraphs().indexOf(para));\n</code></pre>\n"}],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5425,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40347193,"answer_count":2,"score":3,"last_activity_date":1644381165,"creation_date":1477927531,"question_id":40345285,"body_markdown":"I am trying to remove a set of contiguous paragraphs from a Microsoft Word document, using `Apache POI`.\r\n\r\nFrom what I have understood, deleting a paragraph is possible by removing all of its runs, this way:\r\n\r\n\t/*\r\n\t * Deletes the given paragraph.\r\n\t */\r\n\tpublic static void deleteParagraph(XWPFParagraph p) {\r\n\t\tif (p != null) {\r\n\t\t\tList&lt;XWPFRun&gt; runs = p.getRuns();\r\n\t\t\t//Delete all the runs\r\n\t\t\tfor (int i = runs.size() - 1; i &gt;= 0; i--) {\r\n\t\t\t\tp.removeRun(i);\r\n\t\t\t}\r\n\t\t\tp.setPageBreak(false); //Remove the eventual page break\r\n\t\t}\r\n\t}\r\n\r\nIn fact, it works, but there&#39;s something strange. The block of removed paragraphs does not disappear from the document, but it&#39;s converted in a set of empty lines. It&#39;s just like every paragraph would be converted into a new line.\r\n\r\nBy printing the paragraphs&#39; content from code I can see, in fact, a space (for each one removed). Looking at the content directly from the document, with the formatting mark&#39;s visualization enabled, I can see this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe vertical column of &#182; corresponds to the block of deleted elements.\r\n\r\nDo you have an idea for that? I&#39;d like my paragraphs to be *completely* removed.\r\n\r\nI also tried by replacing the text (with `setText()`) and by removing eventual spaces that could be added automatically, this way:\r\n\r\n    p.setSpacingAfter(0);\r\n    p.setSpacingAfterLines(0);\r\n    p.setSpacingBefore(0);\r\n    p.setSpacingBeforeLines(0);\r\n    p.setIndentFromLeft(0);\r\n    p.setIndentFromRight(0);\r\n    p.setIndentationFirstLine(0);\r\n    p.setIndentationLeft(0);\r\n    p.setIndentationRight(0);\r\n\r\nBut with no luck.\r\n\r\n  [1]: https://i.stack.imgur.com/WrcRb.png","title":"Removing an XWPFParagraph keeps the paragraph symbol (&#182;) for it","body":"<p>I am trying to remove a set of contiguous paragraphs from a Microsoft Word document, using <code>Apache POI</code>.</p>\n\n<p>From what I have understood, deleting a paragraph is possible by removing all of its runs, this way:</p>\n\n<pre><code>/*\n * Deletes the given paragraph.\n */\npublic static void deleteParagraph(XWPFParagraph p) {\n    if (p != null) {\n        List&lt;XWPFRun&gt; runs = p.getRuns();\n        //Delete all the runs\n        for (int i = runs.size() - 1; i &gt;= 0; i--) {\n            p.removeRun(i);\n        }\n        p.setPageBreak(false); //Remove the eventual page break\n    }\n}\n</code></pre>\n\n<p>In fact, it works, but there's something strange. The block of removed paragraphs does not disappear from the document, but it's converted in a set of empty lines. It's just like every paragraph would be converted into a new line.</p>\n\n<p>By printing the paragraphs' content from code I can see, in fact, a space (for each one removed). Looking at the content directly from the document, with the formatting mark's visualization enabled, I can see this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WrcRb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WrcRb.png\" alt=\"enter image description here\"></a></p>\n\n<p>The vertical column of ¶ corresponds to the block of deleted elements.</p>\n\n<p>Do you have an idea for that? I'd like my paragraphs to be <em>completely</em> removed.</p>\n\n<p>I also tried by replacing the text (with <code>setText()</code>) and by removing eventual spaces that could be added automatically, this way:</p>\n\n<pre><code>p.setSpacingAfter(0);\np.setSpacingAfterLines(0);\np.setSpacingBefore(0);\np.setSpacingBeforeLines(0);\np.setIndentFromLeft(0);\np.setIndentFromRight(0);\np.setIndentationFirstLine(0);\np.setIndentationLeft(0);\np.setIndentationRight(0);\n</code></pre>\n\n<p>But with no luck.</p>\n"},{"tags":["java","arrays","methods","replace","duplicates"],"comments":[{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":1,"creation_date":1378804271,"post_id":18714797,"comment_id":27575666,"body_markdown":"If input array {1,4,5,1,2} out put {1,4,5,-1,2}? or {-1,4,5,-1,2}?","body":"If input array {1,4,5,1,2} out put {1,4,5,-1,2}? or {-1,4,5,-1,2}?"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1378804352,"post_id":18714797,"comment_id":27575705,"body_markdown":"Actually you&#39;re not finding duplicates.. your `j` is fixed.","body":"Actually you&#39;re not finding duplicates.. your <code>j</code> is fixed."},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378804357,"post_id":18714797,"comment_id":27575707,"body_markdown":"your code has some errors... you only see duplicates next to each other. but what about `[1,2,3,4,1]`?","body":"your code has some errors... you only see duplicates next to each other. but what about <code>[1,2,3,4,1]</code>?"},{"owner":{"account_id":1759579,"reputation":6837,"user_id":1607051,"accept_rate":100,"display_name":"lulyon"},"score":0,"creation_date":1378804387,"post_id":18714797,"comment_id":27575725,"body_markdown":"The whole code in `check` function is of no use. Need to be rewritten.","body":"The whole code in <code>check</code> function is of no use. Need to be rewritten."},{"owner":{"account_id":3266430,"reputation":17,"user_id":2750830,"accept_rate":33,"display_name":"user2750830"},"score":0,"creation_date":1378804498,"post_id":18714797,"comment_id":27575779,"body_markdown":"i want it  {1,4,5,1,2} out put {1,4,5,-1,2}...","body":"i want it  {1,4,5,1,2} out put {1,4,5,-1,2}..."},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":1,"creation_date":1378804557,"post_id":18714797,"comment_id":27575805,"body_markdown":"use a `Set&lt;Integer&gt;` to keep track of the numbers you already have. Iterate over your array and check if the set contains the number at your current position. if yes: replace it with -1. if no: add the number to the set.","body":"use a <code>Set&lt;Integer&gt;</code> to keep track of the numbers you already have. Iterate over your array and check if the set contains the number at your current position. if yes: replace it with -1. if no: add the number to the set."}],"answers":[{"tags":[],"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378804537,"creation_date":1378804537,"answer_id":18714966,"question_id":18714797,"body_markdown":"you replace number in the array like this:\r\n\r\n    y[i] = -1;\r\n\r\nbut your check function will not work this way.","title":"Replacing a number in an array if duplicates are found","body":"<p>you replace number in the array like this:</p>\n\n<pre><code>y[i] = -1;\n</code></pre>\n\n<p>but your check function will not work this way.</p>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378804562,"creation_date":1378804562,"answer_id":18714976,"question_id":18714797,"body_markdown":"Since this is homework, I will not go into details however, if you look at your `check` function:\r\n\r\n    public static void check(int []y) {\r\n          //  int pos = y[0];\r\n            int len=y.length;\r\n            int i=0;\r\n            int j = i+1;\r\n           for (i=0; i&lt;len-1; i++) {\r\n                if (y[i]==y[j]) {\r\n                    //how to replace numbers???\r\n                    System.out.println(&quot;Duplicate found&quot;);\r\n                }\r\n            } \r\n    \r\n        }\r\n\r\nYou will notice that you are initially setting `j` to 1, but you are never updating its value. So in your `for` loop, you need to update the value of `j` at the end of each iteration.\r\n\r\nYou also need to include an extra loop, one which holds the current number and another one which checks the rest. Lastly, to overwrite the value you have, simply write to the array like so: `y[i] = -1`.","title":"Replacing a number in an array if duplicates are found","body":"<p>Since this is homework, I will not go into details however, if you look at your <code>check</code> function:</p>\n\n<pre><code>public static void check(int []y) {\n      //  int pos = y[0];\n        int len=y.length;\n        int i=0;\n        int j = i+1;\n       for (i=0; i&lt;len-1; i++) {\n            if (y[i]==y[j]) {\n                //how to replace numbers???\n                System.out.println(\"Duplicate found\");\n            }\n        } \n\n    }\n</code></pre>\n\n<p>You will notice that you are initially setting <code>j</code> to 1, but you are never updating its value. So in your <code>for</code> loop, you need to update the value of <code>j</code> at the end of each iteration.</p>\n\n<p>You also need to include an extra loop, one which holds the current number and another one which checks the rest. Lastly, to overwrite the value you have, simply write to the array like so: <code>y[i] = -1</code>.</p>\n"},{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378805410,"creation_date":1378804660,"answer_id":18715009,"question_id":18714797,"body_markdown":"Change your whole like this way\r\n\r\n \r\n\r\n       import java.util.*;\r\n    \tpublic class test1 {\r\n    \t    public static void main (String[]args) {\r\n    \t    Scanner in = new Scanner (System.in);\r\n    \t    System.out.println(&quot;Enter 5 integers:  &quot;);\r\n    \t    int [] x= new int [5];\r\n    \t    for (int i=0; i&lt;5; i++) {\r\n    \t    x[i]=in.nextInt();\r\n    \t}\r\n    \t    int z[]=check(x);\r\n    \t    for(int o=0;o&lt;z.length;o++)\r\n    \t    {\r\n    \t    \tSystem.out.println(z[o]);\r\n    \t    }\r\n    \t   // Insert method here \r\n    \t}\r\n    \t    //Method check starts here...\r\n    \t    public static int[] check(int []y) {\r\n    \t      //  int pos = y[0];\r\n    \t        int len=y.length;\r\n    \t        int i=0;\r\n    \t        //int j = i+1;\r\n    \t       for (i=0; i&lt;len; i++) {\r\n    \t    \t   for(int j=0;j&lt;i;j++)\r\n    \t    \t   {\r\n    \t            if (y[i]==y[j]) {\r\n    \t                //how to replace numbers???\r\n    \t            \ty[i]=-1;\r\n    \t               // System.out.println(&quot;Duplicate found&quot;);\r\n    \t            }\r\n    \t        } }\r\n    \t       for(int k=0;k&lt;len;k++)\r\n    \t       {\r\n    \t    \t   //System.out.println(y[k]);\r\n    \t       }\r\n    return y;\r\n    \t    }\r\n    \t\r\n    }","title":"Replacing a number in an array if duplicates are found","body":"<p>Change your whole like this way</p>\n\n<pre><code>   import java.util.*;\n    public class test1 {\n        public static void main (String[]args) {\n        Scanner in = new Scanner (System.in);\n        System.out.println(\"Enter 5 integers:  \");\n        int [] x= new int [5];\n        for (int i=0; i&lt;5; i++) {\n        x[i]=in.nextInt();\n    }\n        int z[]=check(x);\n        for(int o=0;o&lt;z.length;o++)\n        {\n            System.out.println(z[o]);\n        }\n       // Insert method here \n    }\n        //Method check starts here...\n        public static int[] check(int []y) {\n          //  int pos = y[0];\n            int len=y.length;\n            int i=0;\n            //int j = i+1;\n           for (i=0; i&lt;len; i++) {\n               for(int j=0;j&lt;i;j++)\n               {\n                if (y[i]==y[j]) {\n                    //how to replace numbers???\n                    y[i]=-1;\n                   // System.out.println(\"Duplicate found\");\n                }\n            } }\n           for(int k=0;k&lt;len;k++)\n           {\n               //System.out.println(y[k]);\n           }\nreturn y;\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378804809,"creation_date":1378804809,"answer_id":18715074,"question_id":18714797,"body_markdown":"use a Set&lt;Integer&gt; to keep track of the numbers you already have. Iterate over your array and check if the set contains the number at your current position. if yes: replace it with -1. if no: add the number to the set...\r\n\r\n    public static void check(int []y) {\r\n        Set&lt;Integer&gt; foundNumbers = new HashSet&lt;Integer&gt;();\r\n\r\n        for(int index = 0; index &lt; y.length; index++) {\r\n            if(foundNumbers.contains(y[index]) {\r\n                y[index] = -1;\r\n            } else {\r\n                foundNumbers.add(y[index]);\r\n            }\r\n        }\r\n    }","title":"Replacing a number in an array if duplicates are found","body":"<p>use a Set to keep track of the numbers you already have. Iterate over your array and check if the set contains the number at your current position. if yes: replace it with -1. if no: add the number to the set...</p>\n\n<pre><code>public static void check(int []y) {\n    Set&lt;Integer&gt; foundNumbers = new HashSet&lt;Integer&gt;();\n\n    for(int index = 0; index &lt; y.length; index++) {\n        if(foundNumbers.contains(y[index]) {\n            y[index] = -1;\n        } else {\n            foundNumbers.add(y[index]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378806061,"creation_date":1378805731,"answer_id":18715396,"question_id":18714797,"body_markdown":"This will work for you. \r\n\r\n        public static void main(String[] args){\r\n        Scanner in = new Scanner (System.in);\r\n        System.out.println(&quot;Enter 5 integers:  &quot;);\r\n        Map&lt;Integer,Integer&gt; map=new HashMap&lt;&gt;();\r\n        int [] x= new int [5];\r\n        for (int i=0; i&lt;5; i++) {\r\n            int val=in.nextInt();\r\n            x[i]=val;\r\n            Integer iniVal=map.get(val);\r\n            if(iniVal==null){\r\n                 iniVal=0;\r\n            }\r\n            map.put(val,iniVal+1);\r\n        }\r\n        int[] y=getNewArr(x,map);\r\n        for (int i=0;i&lt;y.length;i++){\r\n            System.out.println(y[i]);\r\n        }\r\n    }\r\n    public static int[] getNewArr(int[] x,Map&lt;Integer,Integer&gt; map){\r\n        for(int i=0;i&lt;x.length;i++){\r\n            int numElement=map.get(x[i]);\r\n            if(numElement!=1){\r\n              for(int j=0;j&lt;i;j++){\r\n                 if(x[i]==x[j]){\r\n                        x[i]=-1;\r\n                 }\r\n              }\r\n            }\r\n        }\r\n         return x;\r\n    }\r\n\r\ninput array: `{1,4,5,1,2}`\r\n\r\nOutput array: `{1,4,5,-1,2}`\r\n\r\n   ","title":"Replacing a number in an array if duplicates are found","body":"<p>This will work for you. </p>\n\n<pre><code>    public static void main(String[] args){\n    Scanner in = new Scanner (System.in);\n    System.out.println(\"Enter 5 integers:  \");\n    Map&lt;Integer,Integer&gt; map=new HashMap&lt;&gt;();\n    int [] x= new int [5];\n    for (int i=0; i&lt;5; i++) {\n        int val=in.nextInt();\n        x[i]=val;\n        Integer iniVal=map.get(val);\n        if(iniVal==null){\n             iniVal=0;\n        }\n        map.put(val,iniVal+1);\n    }\n    int[] y=getNewArr(x,map);\n    for (int i=0;i&lt;y.length;i++){\n        System.out.println(y[i]);\n    }\n}\npublic static int[] getNewArr(int[] x,Map&lt;Integer,Integer&gt; map){\n    for(int i=0;i&lt;x.length;i++){\n        int numElement=map.get(x[i]);\n        if(numElement!=1){\n          for(int j=0;j&lt;i;j++){\n             if(x[i]==x[j]){\n                    x[i]=-1;\n             }\n          }\n        }\n    }\n     return x;\n}\n</code></pre>\n\n<p>input array: <code>{1,4,5,1,2}</code></p>\n\n<p>Output array: <code>{1,4,5,-1,2}</code></p>\n"},{"tags":[],"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644380590,"creation_date":1644378309,"answer_id":71043743,"question_id":18714797,"body_markdown":"Though this is a very old post I think there is an error in the accepted answer. We should be adding the replaced number back to the array. However in the accepted answer we are replacing it with -1 but we are never adding it back to SET.\r\nBelow is my corrected solution : \r\n\r\n        public static Set&lt;Integer&gt; check(int []y) {\r\n            Set&lt;Integer&gt; foundNumbers = new HashSet&lt;Integer&gt;();\r\n        \r\n            for(int index = 0; index &lt; y.length; index++) {\r\n                if(foundNumbers.contains(y[index])){\r\n                    y[index] = -1;      \r\n                   \r\n                } \r\n                \r\n                foundNumbers.add(y[index]);\r\n            }\r\n             return foundNumbers;\r\n            \r\n        }\r\n\r\n","title":"Replacing a number in an array if duplicates are found","body":"<p>Though this is a very old post I think there is an error in the accepted answer. We should be adding the replaced number back to the array. However in the accepted answer we are replacing it with -1 but we are never adding it back to SET.\nBelow is my corrected solution :</p>\n<pre><code>    public static Set&lt;Integer&gt; check(int []y) {\n        Set&lt;Integer&gt; foundNumbers = new HashSet&lt;Integer&gt;();\n    \n        for(int index = 0; index &lt; y.length; index++) {\n            if(foundNumbers.contains(y[index])){\n                y[index] = -1;      \n               \n            } \n            \n            foundNumbers.add(y[index]);\n        }\n         return foundNumbers;\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":3266430,"reputation":17,"user_id":2750830,"accept_rate":33,"display_name":"user2750830"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1644380590,"creation_date":1378804076,"question_id":18714797,"body_markdown":"Make the user enter 5 integer values into the array in the main method. Pass array into a separate function. There, check for duplicated values in the array. If duplicates are found, eliminate the duplicate integer and replace it with -1. \r\nPrint the processed array back in the main method.. i think i know how to replace the value with -1 but how do I return the array to the main back again. The code is:\r\n\r\n   \r\n\r\n     package methods;\r\n    import java.util.*;\r\n    public class remdup {\r\n        public static void main (String[]args) {\r\n        Scanner in = new Scanner (System.in);\r\n        System.out.println(&quot;Enter 5 integers:  &quot;);\r\n        int [] x= new int [5];\r\n        for (int i=0; i&lt;5; i++) {\r\n        x[i]=in.nextInt();\r\n    }\r\n        check(x);\r\n       // Insert method here \r\n    }\r\n        //Method check starts here...\r\n        public static void check(int []y) {\r\n          //  int pos = y[0];\r\n            int len=y.length;\r\n            int i=0;\r\n            int j = i+1;\r\n           for (i=0; i&lt;len-1; i++) {\r\n               for (j=i+1; j&lt;len-1;j++ ) {\r\n                if (y[i]==y[j]) {\r\n                    //how to replace numbers???\r\n                   y[i]=-1;\r\n                    System.out.println(&quot;Duplicate found&quot;);\r\n                }\r\n                }\r\n            } \r\n           \r\n        }\r\n    }","title":"Replacing a number in an array if duplicates are found","body":"<p>Make the user enter 5 integer values into the array in the main method. Pass array into a separate function. There, check for duplicated values in the array. If duplicates are found, eliminate the duplicate integer and replace it with -1. \nPrint the processed array back in the main method.. i think i know how to replace the value with -1 but how do I return the array to the main back again. The code is:</p>\n\n<pre><code> package methods;\nimport java.util.*;\npublic class remdup {\n    public static void main (String[]args) {\n    Scanner in = new Scanner (System.in);\n    System.out.println(\"Enter 5 integers:  \");\n    int [] x= new int [5];\n    for (int i=0; i&lt;5; i++) {\n    x[i]=in.nextInt();\n}\n    check(x);\n   // Insert method here \n}\n    //Method check starts here...\n    public static void check(int []y) {\n      //  int pos = y[0];\n        int len=y.length;\n        int i=0;\n        int j = i+1;\n       for (i=0; i&lt;len-1; i++) {\n           for (j=i+1; j&lt;len-1;j++ ) {\n            if (y[i]==y[j]) {\n                //how to replace numbers???\n               y[i]=-1;\n                System.out.println(\"Duplicate found\");\n            }\n            }\n        } \n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","bitmap","internal-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644318053,"post_id":71032401,"comment_id":125569052,"body_markdown":"`String imageDir = String.format( &quot;%s/%d/%d&quot;, dataType, zoom, x );` That is not one directory but already three. Probably getDir() does not like that. For some tests change to `String imageDir = String.format( &quot;%s-%d-%d&quot;, dataType, zoom, x );` as then it is one directory. But then still... getDir() expects part of a name. (The resulting directory name starts with &#39;app_&#39;). Why dont you use getFilesDir()?","body":"<code>String imageDir = String.format( &quot;%s&#47;%d&#47;%d&quot;, dataType, zoom, x );</code> That is not one directory but already three. Probably getDir() does not like that. For some tests change to <code>String imageDir = String.format( &quot;%s-%d-%d&quot;, dataType, zoom, x );</code> as then it is one directory. But then still... getDir() expects part of a name. (The resulting directory name starts with &#39;app_&#39;). Why dont you use getFilesDir()?"},{"owner":{"account_id":23983200,"reputation":53,"user_id":17970328,"display_name":"Matt N."},"score":0,"creation_date":1644337877,"post_id":71032401,"comment_id":125577655,"body_markdown":"@blackapps That would make sense. But based on the answer [here](https://stackoverflow.com/questions/11781260/what-is-the-difference-between-getdir-and-getfilesdir-on-android), it seems like getFilesDir() is nearly the same function? However, I will try creating one directory at a time and seeing if that works.","body":"@blackapps That would make sense. But based on the answer <a href=\"https://stackoverflow.com/questions/11781260/what-is-the-difference-between-getdir-and-getfilesdir-on-android\">here</a>, it seems like getFilesDir() is nearly the same function? However, I will try creating one directory at a time and seeing if that works."}],"answers":[{"tags":[],"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644380059,"creation_date":1644318348,"answer_id":71032820,"question_id":71032401,"body_markdown":"In This Way I Saved the image in android folder \r\nCreate a directory &quot;xml&quot; in res folder and paste\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-path name=&quot;my_images&quot; path=&quot;Android/data/com.example.project/files/Pictures&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\nIn Manifest file add this line under application\r\n```\r\n&lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.xyz.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_path&quot; /&gt;\r\n&lt;/provider&gt;\r\n```\r\ninitialize this in your respective activity\r\n```\r\nFile photoFile = null;\r\n```\r\nEdit this function according to your requirements !!\r\n```\r\ntry {\r\n\r\n                    photoFile = createImageFile();\r\n                    displayMessage(getBaseContext(), photoFile.getAbsolutePath());\r\n\r\n                    // Continue only if the File was successfully created\r\n                    if (photoFile != null) {\r\n                        Uri photoURI = FileProvider.getUriForFile(this,&quot;com.xyz.fileprovider&quot;,photoFile);\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                        startActivityForResult(takePictureIntent, CAPTURE_IMAGE_REQUEST);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    // Error occurred while creating the File\r\n                    displayMessage(getBaseContext(), ex.getMessage().toString());\r\n                }\r\n```","title":"Bitmaps Not Being Saved to Internal Storage (Android)","body":"<p>In This Way I Saved the image in android folder\nCreate a directory &quot;xml&quot; in res folder and paste</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-path name=&quot;my_images&quot; path=&quot;Android/data/com.example.project/files/Pictures&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>In Manifest file add this line under application</p>\n<pre><code>&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.xyz.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_path&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>initialize this in your respective activity</p>\n<pre><code>File photoFile = null;\n</code></pre>\n<p>Edit this function according to your requirements !!</p>\n<pre><code>try {\n\n                    photoFile = createImageFile();\n                    displayMessage(getBaseContext(), photoFile.getAbsolutePath());\n\n                    // Continue only if the File was successfully created\n                    if (photoFile != null) {\n                        Uri photoURI = FileProvider.getUriForFile(this,&quot;com.xyz.fileprovider&quot;,photoFile);\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n                        startActivityForResult(takePictureIntent, CAPTURE_IMAGE_REQUEST);\n                    }\n                } catch (Exception ex) {\n                    // Error occurred while creating the File\n                    displayMessage(getBaseContext(), ex.getMessage().toString());\n                }\n</code></pre>\n"}],"owner":{"account_id":23983200,"reputation":53,"user_id":17970328,"display_name":"Matt N."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644380059,"creation_date":1644316536,"question_id":71032401,"body_markdown":"## Problem ##\r\nI am creating an Android app within Android Studio using Java. It needs a function that takes a bitmap image and saves it to a folder structure in internal memory. The images I&#39;m working with are PNGs. My current implementation is based on the answer found [here (Saving and Reading Bitmaps/Images from Internal memory in Android)][1]. I am very lost as to why not all of the log statements are being executed and no files are being created:\r\n```\r\n    private String saveToInternalStorage( Bitmap bitmapImage, String dataType, int zoom, int x, int y )\r\n    {\r\n        Log.w(TAG, &quot;Function Started.&quot;);\r\n        String imageDir = String.format( &quot;%s/%d/%d&quot;, dataType, zoom, x );\r\n        String imageName = String.format( &quot;%d.png&quot;, y );\r\n\r\n        ContextWrapper contextWrapper = new ContextWrapper( getContext() );\r\n        Log.w(TAG, &quot;Passed Context Wrapper.&quot;);\r\n\r\n        // path to /data/data/app_name/app_data/&lt;dataType&gt;/&lt;zoom&gt;/&lt;x&gt;\r\n        // - - - NO LOGS SHOWN PAST THIS POINT - - -\r\n        File directory = contextWrapper.getDir( imageDir, Context.MODE_PRIVATE );\r\n        Log.w(TAG, &quot;Passed Directory Creation.&quot;);\r\n\r\n        // Create image at imageDir (&lt;y&gt;.png)\r\n        File imageFile = new File( directory, imageName );\r\n        Log.w(TAG, &quot;Passed File Creation.&quot;);\r\n\r\n        FileOutputStream outputStream = null;\r\n        Log.e(TAG, &quot;Begining to Output to File.&quot;);\r\n        try\r\n        {\r\n            outputStream = new FileOutputStream( imageFile );\r\n            // Use the compress method on the BitMap object to write image to the OutputStream\r\n            bitmapImage.compress( Bitmap.CompressFormat.PNG, 100, outputStream );\r\n        }\r\n        catch( Exception e )\r\n        {\r\n            Log.e(TAG, &quot;Error Adding Image to Internal Storage.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        finally\r\n        {\r\n            try\r\n            {\r\n                outputStream.flush();\r\n                outputStream.close();\r\n            }\r\n            catch( Exception e )\r\n            {\r\n                Log.e(TAG, &quot;Error Closing Output Stream.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return directory.getAbsolutePath();\r\n    }\r\n```\r\n\r\nThe following two lines are the only relevant output shown in Logcat. **I am not shown any errors and no other logs from the above function are shown**.\r\n```\r\n2022-02-08 02:52:56.433 18914-18990/com.example.biomapper W/ContentValues: Function Started.\r\n2022-02-08 02:52:56.434 18914-18990/com.example.biomapper W/ContentValues: Passed Context Wrapper.\r\n```\r\n## What I&#39;ve Tried ##\r\nThis is my third attempt at creating this function, and the closest I&#39;ve gotten to making it work. I have looked at many other questions on Stack Overflow regarding this topic. I added many log statements to see where/what might be going wrong. I&#39;ve tried using the `file.exists()` command to  test if the file(s) were ever created. I am sure that the parameters given to this function when testing it are correct.\r\n\r\nAny advice on saving images to internal storage, checking if the files exist, or improving my code in any way are greatly appreciated.\r\n\r\n  [1]: https://stackoverflow.com/questions/17674634/saving-and-reading-bitmaps-images-from-internal-memory-in-android","title":"Bitmaps Not Being Saved to Internal Storage (Android)","body":"<h2>Problem</h2>\n<p>I am creating an Android app within Android Studio using Java. It needs a function that takes a bitmap image and saves it to a folder structure in internal memory. The images I'm working with are PNGs. My current implementation is based on the answer found <a href=\"https://stackoverflow.com/questions/17674634/saving-and-reading-bitmaps-images-from-internal-memory-in-android\">here (Saving and Reading Bitmaps/Images from Internal memory in Android)</a>. I am very lost as to why not all of the log statements are being executed and no files are being created:</p>\n<pre><code>    private String saveToInternalStorage( Bitmap bitmapImage, String dataType, int zoom, int x, int y )\n    {\n        Log.w(TAG, &quot;Function Started.&quot;);\n        String imageDir = String.format( &quot;%s/%d/%d&quot;, dataType, zoom, x );\n        String imageName = String.format( &quot;%d.png&quot;, y );\n\n        ContextWrapper contextWrapper = new ContextWrapper( getContext() );\n        Log.w(TAG, &quot;Passed Context Wrapper.&quot;);\n\n        // path to /data/data/app_name/app_data/&lt;dataType&gt;/&lt;zoom&gt;/&lt;x&gt;\n        // - - - NO LOGS SHOWN PAST THIS POINT - - -\n        File directory = contextWrapper.getDir( imageDir, Context.MODE_PRIVATE );\n        Log.w(TAG, &quot;Passed Directory Creation.&quot;);\n\n        // Create image at imageDir (&lt;y&gt;.png)\n        File imageFile = new File( directory, imageName );\n        Log.w(TAG, &quot;Passed File Creation.&quot;);\n\n        FileOutputStream outputStream = null;\n        Log.e(TAG, &quot;Begining to Output to File.&quot;);\n        try\n        {\n            outputStream = new FileOutputStream( imageFile );\n            // Use the compress method on the BitMap object to write image to the OutputStream\n            bitmapImage.compress( Bitmap.CompressFormat.PNG, 100, outputStream );\n        }\n        catch( Exception e )\n        {\n            Log.e(TAG, &quot;Error Adding Image to Internal Storage.&quot;);\n            e.printStackTrace();\n        }\n        finally\n        {\n            try\n            {\n                outputStream.flush();\n                outputStream.close();\n            }\n            catch( Exception e )\n            {\n                Log.e(TAG, &quot;Error Closing Output Stream.&quot;);\n                e.printStackTrace();\n            }\n        }\n\n        return directory.getAbsolutePath();\n    }\n</code></pre>\n<p>The following two lines are the only relevant output shown in Logcat. <strong>I am not shown any errors and no other logs from the above function are shown</strong>.</p>\n<pre><code>2022-02-08 02:52:56.433 18914-18990/com.example.biomapper W/ContentValues: Function Started.\n2022-02-08 02:52:56.434 18914-18990/com.example.biomapper W/ContentValues: Passed Context Wrapper.\n</code></pre>\n<h2>What I've Tried</h2>\n<p>This is my third attempt at creating this function, and the closest I've gotten to making it work. I have looked at many other questions on Stack Overflow regarding this topic. I added many log statements to see where/what might be going wrong. I've tried using the <code>file.exists()</code> command to  test if the file(s) were ever created. I am sure that the parameters given to this function when testing it are correct.</p>\n<p>Any advice on saving images to internal storage, checking if the files exist, or improving my code in any way are greatly appreciated.</p>\n"},{"tags":["java","spring-data-jpa","orm","dto"],"answers":[{"tags":[],"owner":{"account_id":15851924,"reputation":76,"user_id":11437513,"display_name":"Ari Ohsie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644352206,"creation_date":1644352206,"answer_id":71040481,"question_id":71040242,"body_markdown":"It seems you&#39;re trying to retrieve a CV by its `employer.id`. In that case, you can really just use the JPA query method containing keywords. In this case it would look like:\r\n\r\n`CV findByEmployeeId(int employeeId);`\r\n\r\nThis should return the complete `CV` object as you would expect.\r\n\r\nSee [here][1] for more details on JPA query method keywords.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods","title":"One-Many Relationship in Jpa","body":"<p>It seems you're trying to retrieve a CV by its <code>employer.id</code>. In that case, you can really just use the JPA query method containing keywords. In this case it would look like:</p>\n<p><code>CV findByEmployeeId(int employeeId);</code></p>\n<p>This should return the complete <code>CV</code> object as you would expect.</p>\n<p>See <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"nofollow noreferrer\">here</a> for more details on JPA query method keywords.</p>\n"}],"owner":{"account_id":20860872,"reputation":38,"user_id":15323137,"display_name":"Hasan Can"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71040481,"answer_count":1,"score":0,"last_activity_date":1644380036,"creation_date":1644350827,"question_id":71040242,"body_markdown":"I want to get data from my entity with 1-M relationships.\r\nUsers have an entity for cv information.With JpaRepo, \r\nCv class :\r\n\r\n    @Entity\r\n    @Table(name = &quot;cvs&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;, &quot;educations&quot;, &quot;works&quot;, &quot;langueges&quot;, &quot;technologies&quot;})\r\n    public class CV {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private int id;\r\n    \r\n        //ToDo : Employee bilgilerinin g&#246;r&#252;nmesi problemi giderilecek.\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;employee_id&quot;)\r\n        private Employee employee;\r\n    \r\n        @OneToMany(mappedBy = &quot;cv&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        List&lt;Education&gt; educations;\r\n    \r\n        @OneToMany(mappedBy = &quot;cv&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        List&lt;Work&gt; works;\r\n    \r\n        @OneToMany(mappedBy = &quot;cv&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        List&lt;Languege&gt; langueges;\r\n    \r\n        @OneToMany(mappedBy = &quot;cv&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        List&lt;Technology&gt; technologies;\r\n    \r\n        @Column(name = &quot;github&quot;)\r\n        private String github;\r\n    \r\n        @Column(name = &quot;linkedin&quot;)\r\n        private String linkedin;\r\n    \r\n        @NotNull\r\n        @NotBlank\r\n        @Column(name = &quot;cover_letter&quot;)\r\n        private String coverLetter;\r\n    \r\n        @Column(name = &quot;photo&quot;)\r\n        private String photo;\r\n        \r\n    }\r\nThis is Education class (work, languege, technology classes same):\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;cv_educations&quot;)\r\n    public class Education {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private int id;\r\n    \r\n        @NotNull\r\n        @NotBlank\r\n        @Column(name = &quot;school_name&quot;)\r\n        private String schoolName;\r\n    \r\n        @NotNull\r\n        @NotBlank\r\n        @Column(name = &quot;department&quot;)\r\n        private String department;\r\n    \r\n        @NotNull\r\n        @NotBlank\r\n        @PastOrPresent\r\n        @Column(name = &quot;starting_date&quot;)\r\n        @DateTimeFormat(pattern = &quot;yyyy-mm-dd&quot;)\r\n        private LocalDate startingDate;\r\n    \r\n        @NotBlank\r\n        @Column(name = &quot;graduation_date&quot;)\r\n        @DateTimeFormat(pattern = &quot;yyyy-mm-dd&quot;)\r\n        private LocalDate graduationDate;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;cv_id&quot;)\r\n        private CV cv;\r\n    }\r\nI tried to build the following structure with jpa, but the constructer takes list&lt;Education&gt; parameter. I got an error because I couldn&#39;t write it with jpql\r\n\r\n    public interface CvRepository extends JpaRepository&lt;CV, Integer&gt; {\r\n    \r\n            @Query(&quot;select new com.demo.humanresourcesmanagementsystem.Entities.concretes.CV&quot; +\r\n                    &quot;(employee.firstName, employee.lastName, cv.github, cv.linkedin, cv.coverLetter,&quot; +\r\n                    &quot;educations, works, langueges, technologies)&quot; +\r\n                    &quot;from CV cv inner join cv.employee employee inner join cv.educations educations &quot; +\r\n                    &quot;inner join cv.works works inner join cv.langueges langueges &quot; +\r\n                    &quot;inner join cv.technologies technologies where cv.employee.id =:employeeId&quot;)\r\n            CV findByCv(int employeeId);\r\n        }\r\n\r\nI&#39;d like to read about the educations, works, langueges and technologies in this entity. This means that there will be one cv as output, but there may be more than one education object within the cv (such as primary school, high school), and the incoming data will be in the following format, for example:\r\n\r\n    &quot;firstName&quot;: &quot;X&quot;,\r\n    &quot;lastName&quot; : &quot;X&quot;,\r\n    &quot;educations&quot; : [\r\n               &quot;education1&quot; {\r\n                      &quot;school&quot; : &quot;x&quot;, \r\n                      &quot;department&quot; : &quot;x&quot; ...}, \r\n               &quot;education2&quot; {\r\n                      &quot;school&quot; : &quot;x&quot;, \r\n                      &quot;department&quot; : &quot;x&quot;...}\r\n    &quot;works&quot; : [\r\n        &quot;work1&quot; {\r\n               &quot;workplace&quot; : &quot;x&quot;, \r\n               &quot;job&quot; : &quot;x&quot; ...\r\n              }\r\n           ]\r\n    &quot;github&quot; : &quot;x&quot;,\r\n    &quot;linkedin&quot; : &quot;x&quot;\r\n\r\nHow do i set up this structure with the jpa repository? What kind of dto should I write if I&#39;m gonna use it? Thanks.\r\n\r\n**UPDATE** \r\n\r\nWhen i use spring jpa derivered query (findByEmployeeId) i receive data with this format : \r\n\r\n    {\r\n      &quot;success&quot;: true,\r\n      &quot;message&quot;: &quot;string&quot;,\r\n      &quot;data&quot;: {\r\n        &quot;id&quot;: 0,\r\n        &quot;employee&quot;: {\r\n          &quot;id&quot;: 0,\r\n          &quot;email&quot;: &quot;string&quot;,\r\n          &quot;password&quot;: &quot;string&quot;,\r\n          &quot;firstName&quot;: &quot;string&quot;,\r\n          &quot;lastName&quot;: &quot;string&quot;,\r\n          &quot;nationalIdentity&quot;: &quot;string&quot;,\r\n          &quot;yearOfBirth&quot;: 0\r\n        },\r\n        &quot;github&quot;: &quot;string&quot;,\r\n        &quot;linkedin&quot;: &quot;string&quot;,\r\n        &quot;coverLetter&quot;: &quot;string&quot;,\r\n        &quot;photo&quot;: &quot;string&quot;\r\n      }\r\n    }\r\nSo i cant receive data for education, work, languege and technology.\r\n","title":"One-Many Relationship in Jpa","body":"<p>I want to get data from my entity with 1-M relationships.\nUsers have an entity for cv information.With JpaRepo,\nCv class :</p>\n<pre><code>@Entity\n@Table(name = &quot;cvs&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;, &quot;educations&quot;, &quot;works&quot;, &quot;langueges&quot;, &quot;technologies&quot;})\npublic class CV {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    //ToDo : Employee bilgilerinin görünmesi problemi giderilecek.\n    @OneToOne\n    @JoinColumn(name = &quot;employee_id&quot;)\n    private Employee employee;\n\n    @OneToMany(mappedBy = &quot;cv&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    List&lt;Education&gt; educations;\n\n    @OneToMany(mappedBy = &quot;cv&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    List&lt;Work&gt; works;\n\n    @OneToMany(mappedBy = &quot;cv&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    List&lt;Languege&gt; langueges;\n\n    @OneToMany(mappedBy = &quot;cv&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    List&lt;Technology&gt; technologies;\n\n    @Column(name = &quot;github&quot;)\n    private String github;\n\n    @Column(name = &quot;linkedin&quot;)\n    private String linkedin;\n\n    @NotNull\n    @NotBlank\n    @Column(name = &quot;cover_letter&quot;)\n    private String coverLetter;\n\n    @Column(name = &quot;photo&quot;)\n    private String photo;\n    \n}\n</code></pre>\n<p>This is Education class (work, languege, technology classes same):</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;cv_educations&quot;)\npublic class Education {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @NotNull\n    @NotBlank\n    @Column(name = &quot;school_name&quot;)\n    private String schoolName;\n\n    @NotNull\n    @NotBlank\n    @Column(name = &quot;department&quot;)\n    private String department;\n\n    @NotNull\n    @NotBlank\n    @PastOrPresent\n    @Column(name = &quot;starting_date&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-mm-dd&quot;)\n    private LocalDate startingDate;\n\n    @NotBlank\n    @Column(name = &quot;graduation_date&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-mm-dd&quot;)\n    private LocalDate graduationDate;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;cv_id&quot;)\n    private CV cv;\n}\n</code></pre>\n<p>I tried to build the following structure with jpa, but the constructer takes list parameter. I got an error because I couldn't write it with jpql</p>\n<pre><code>public interface CvRepository extends JpaRepository&lt;CV, Integer&gt; {\n\n        @Query(&quot;select new com.demo.humanresourcesmanagementsystem.Entities.concretes.CV&quot; +\n                &quot;(employee.firstName, employee.lastName, cv.github, cv.linkedin, cv.coverLetter,&quot; +\n                &quot;educations, works, langueges, technologies)&quot; +\n                &quot;from CV cv inner join cv.employee employee inner join cv.educations educations &quot; +\n                &quot;inner join cv.works works inner join cv.langueges langueges &quot; +\n                &quot;inner join cv.technologies technologies where cv.employee.id =:employeeId&quot;)\n        CV findByCv(int employeeId);\n    }\n</code></pre>\n<p>I'd like to read about the educations, works, langueges and technologies in this entity. This means that there will be one cv as output, but there may be more than one education object within the cv (such as primary school, high school), and the incoming data will be in the following format, for example:</p>\n<pre><code>&quot;firstName&quot;: &quot;X&quot;,\n&quot;lastName&quot; : &quot;X&quot;,\n&quot;educations&quot; : [\n           &quot;education1&quot; {\n                  &quot;school&quot; : &quot;x&quot;, \n                  &quot;department&quot; : &quot;x&quot; ...}, \n           &quot;education2&quot; {\n                  &quot;school&quot; : &quot;x&quot;, \n                  &quot;department&quot; : &quot;x&quot;...}\n&quot;works&quot; : [\n    &quot;work1&quot; {\n           &quot;workplace&quot; : &quot;x&quot;, \n           &quot;job&quot; : &quot;x&quot; ...\n          }\n       ]\n&quot;github&quot; : &quot;x&quot;,\n&quot;linkedin&quot; : &quot;x&quot;\n</code></pre>\n<p>How do i set up this structure with the jpa repository? What kind of dto should I write if I'm gonna use it? Thanks.</p>\n<p><strong>UPDATE</strong></p>\n<p>When i use spring jpa derivered query (findByEmployeeId) i receive data with this format :</p>\n<pre><code>{\n  &quot;success&quot;: true,\n  &quot;message&quot;: &quot;string&quot;,\n  &quot;data&quot;: {\n    &quot;id&quot;: 0,\n    &quot;employee&quot;: {\n      &quot;id&quot;: 0,\n      &quot;email&quot;: &quot;string&quot;,\n      &quot;password&quot;: &quot;string&quot;,\n      &quot;firstName&quot;: &quot;string&quot;,\n      &quot;lastName&quot;: &quot;string&quot;,\n      &quot;nationalIdentity&quot;: &quot;string&quot;,\n      &quot;yearOfBirth&quot;: 0\n    },\n    &quot;github&quot;: &quot;string&quot;,\n    &quot;linkedin&quot;: &quot;string&quot;,\n    &quot;coverLetter&quot;: &quot;string&quot;,\n    &quot;photo&quot;: &quot;string&quot;\n  }\n}\n</code></pre>\n<p>So i cant receive data for education, work, languege and technology.</p>\n"},{"tags":["java","android","popup","navigationbar","popupmenu"],"comments":[{"owner":{"account_id":9109500,"reputation":1728,"user_id":6778758,"display_name":"Nainal"},"score":0,"creation_date":1483700315,"post_id":41504096,"comment_id":70213634,"body_markdown":"call hideDefaultControls()  just before showing popup menu, i.e, before popupMenu.show();","body":"call hideDefaultControls()  just before showing popup menu, i.e, before popupMenu.show();"},{"owner":{"account_id":2094556,"reputation":102,"user_id":1863639,"display_name":"MonStar"},"score":0,"creation_date":1483957109,"post_id":41504096,"comment_id":70295842,"body_markdown":"Yes, I do this. But navigation bar  is shown when popup is shown.","body":"Yes, I do this. But navigation bar  is shown when popup is shown."},{"owner":{"account_id":9109500,"reputation":1728,"user_id":6778758,"display_name":"Nainal"},"score":0,"creation_date":1483965732,"post_id":41504096,"comment_id":70301325,"body_markdown":"Your code is working fine in my case. just you have to call hideDefaultControls() just before showing popup menu, i.e, before popupMenu.show();","body":"Your code is working fine in my case. just you have to call hideDefaultControls() just before showing popup menu, i.e, before popupMenu.show();"},{"owner":{"account_id":10078643,"reputation":1776,"user_id":7449805,"accept_rate":75,"display_name":"Georgiy Chebotarev"},"score":0,"creation_date":1614757627,"post_id":41504096,"comment_id":117479127,"body_markdown":"Hi, @MonStar. Did you resolve this issue?","body":"Hi, @MonStar. Did you resolve this issue?"},{"owner":{"account_id":2094556,"reputation":102,"user_id":1863639,"display_name":"MonStar"},"score":0,"creation_date":1614769382,"post_id":41504096,"comment_id":117484194,"body_markdown":"@GeorgiyChebotarev unfortunately I don&#39;t remember","body":"@GeorgiyChebotarev unfortunately I don&#39;t remember"},{"owner":{"account_id":10078643,"reputation":1776,"user_id":7449805,"accept_rate":75,"display_name":"Georgiy Chebotarev"},"score":0,"creation_date":1614950831,"post_id":41504096,"comment_id":117548931,"body_markdown":"@MonStar, all fine, I just change behavior for bottom navigation menu. Thx","body":"@MonStar, all fine, I just change behavior for bottom navigation menu. Thx"}],"answers":[{"tags":[],"owner":{"account_id":24199369,"reputation":21,"user_id":18157410,"display_name":"Hong Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644379470,"creation_date":1644379470,"answer_id":71043864,"question_id":41504096,"body_markdown":"Because PopupMenu use new DecorView (PopupDecorView), try:\r\n\r\n    @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n    super.onWindowFocusChanged(hasFocus);\r\n    if(hasFocus)\r\n    {\r\n        fullSceen(getWindow().getDecorView());\r\n    }\r\n    else {\r\n        try {\r\n            Object wmgInstance = Class.forName(&quot;android.view.WindowManagerGlobal&quot;).getMethod(&quot;getInstance&quot;).invoke(null);\r\n            Field viewsField = Class.forName(&quot;android.view.WindowManagerGlobal&quot;).getDeclaredField(&quot;mViews&quot;);\r\n\r\n            viewsField.setAccessible(true);\r\n            ArrayList&lt;View&gt; views = (ArrayList&lt;View&gt;) viewsField.get(wmgInstance);\r\n            for (View view: views) {\r\n                fullSceen(view);\r\n\r\n                view.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() {\r\n                    @Override\r\n                    public void onSystemUiVisibilityChange(int visibility) {\r\n                        fullSceen(view);\r\n                    }\r\n                });\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        AppUtils.console(this,TAG, &quot;hasFocus == false&quot;);\r\n    }\r\n    }\r\n    private void fullSceen(View view){\r\n    view.setSystemUiVisibility(\r\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n    }","title":"Hide navigation bar while popup menu is showing","body":"<p>Because PopupMenu use new DecorView (PopupDecorView), try:</p>\n<pre><code>@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\nsuper.onWindowFocusChanged(hasFocus);\nif(hasFocus)\n{\n    fullSceen(getWindow().getDecorView());\n}\nelse {\n    try {\n        Object wmgInstance = Class.forName(&quot;android.view.WindowManagerGlobal&quot;).getMethod(&quot;getInstance&quot;).invoke(null);\n        Field viewsField = Class.forName(&quot;android.view.WindowManagerGlobal&quot;).getDeclaredField(&quot;mViews&quot;);\n\n        viewsField.setAccessible(true);\n        ArrayList&lt;View&gt; views = (ArrayList&lt;View&gt;) viewsField.get(wmgInstance);\n        for (View view: views) {\n            fullSceen(view);\n\n            view.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() {\n                @Override\n                public void onSystemUiVisibilityChange(int visibility) {\n                    fullSceen(view);\n                }\n            });\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    AppUtils.console(this,TAG, &quot;hasFocus == false&quot;);\n}\n}\nprivate void fullSceen(View view){\nview.setSystemUiVisibility(\n        View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                | View.SYSTEM_UI_FLAG_FULLSCREEN\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n}\n</code></pre>\n"}],"owner":{"account_id":2094556,"reputation":102,"user_id":1863639,"display_name":"MonStar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644379470,"creation_date":1483699983,"question_id":41504096,"body_markdown":"My application works in full screen mode. Below code to hide navigation bar.\r\n\r\n       public static void hideDefaultControls(@NonNull final Activity activity) {\r\n            activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);\r\n            activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n     \r\n            final Window window = activity.getWindow();\r\n     \r\n            if (window == null) {\r\n                return;\r\n            }\r\n     \r\n            final View decorView = window.getDecorView();\r\n     \r\n            if (decorView != null) {\r\n                int uiOptions = decorView.getSystemUiVisibility();\r\n     \r\n                if (Build.VERSION.SDK_INT &gt;= 14) {\r\n                    uiOptions |= View.SYSTEM_UI_FLAG_LOW_PROFILE;\r\n                }\r\n     \r\n                if (Build.VERSION.SDK_INT &gt;= 16) {\r\n                    uiOptions |= View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;\r\n                }\r\n     \r\n                if (Build.VERSION.SDK_INT &gt;= 19) {\r\n                    uiOptions |= View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;\r\n                }\r\n     \r\n                decorView.setSystemUiVisibility(uiOptions);\r\n            }\r\n        }\r\n\r\n    android.widget.PopupMenu;\r\n     \r\n    PopupMenu popupMenu = new PopupMenu(context, anchor);\r\n    \r\n    //init code...\r\n    popupMenu.show();\r\n\r\n\r\nI want have full screen mode while popup menu is showing. I&#39;m trying to call `hideDefaultControls()` method after popup shown, but controls is hiding only after popup hidden. ","title":"Hide navigation bar while popup menu is showing","body":"<p>My application works in full screen mode. Below code to hide navigation bar.</p>\n\n<pre><code>   public static void hideDefaultControls(@NonNull final Activity activity) {\n        activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);\n        activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        final Window window = activity.getWindow();\n\n        if (window == null) {\n            return;\n        }\n\n        final View decorView = window.getDecorView();\n\n        if (decorView != null) {\n            int uiOptions = decorView.getSystemUiVisibility();\n\n            if (Build.VERSION.SDK_INT &gt;= 14) {\n                uiOptions |= View.SYSTEM_UI_FLAG_LOW_PROFILE;\n            }\n\n            if (Build.VERSION.SDK_INT &gt;= 16) {\n                uiOptions |= View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;\n            }\n\n            if (Build.VERSION.SDK_INT &gt;= 19) {\n                uiOptions |= View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;\n            }\n\n            decorView.setSystemUiVisibility(uiOptions);\n        }\n    }\n\nandroid.widget.PopupMenu;\n\nPopupMenu popupMenu = new PopupMenu(context, anchor);\n\n//init code...\npopupMenu.show();\n</code></pre>\n\n<p>I want have full screen mode while popup menu is showing. I'm trying to call <code>hideDefaultControls()</code> method after popup shown, but controls is hiding only after popup hidden. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1644379652,"post_id":71043835,"comment_id":125588956,"body_markdown":"`while (in.hasNext()){ recs.add(in.next()); }` is going to add an indefinite number of ID numbers. You have no terminating condition except ALL input. Does `SafeInput.getNonZeroLenString(in, &quot;Enter the ID Number: &quot;);` perhaps **`return`** something?","body":"<code>while (in.hasNext()){ recs.add(in.next()); }</code> is going to add an indefinite number of ID numbers. You have no terminating condition except ALL input. Does <code>SafeInput.getNonZeroLenString(in, &quot;Enter the ID Number: &quot;);</code> perhaps <b><code>return</code></b> something?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1644379657,"post_id":71043835,"comment_id":125588957,"body_markdown":"Learn to use the debugger, and step through the code. Also, don&#39;t ignore the exception, let it be thrown from your main method by removing the try/catch block.","body":"Learn to use the debugger, and step through the code. Also, don&#39;t ignore the exception, let it be thrown from your main method by removing the try/catch block."},{"owner":{"account_id":24199452,"reputation":1,"user_id":18157489,"display_name":"reedaleson"},"score":0,"creation_date":1644379984,"post_id":71043835,"comment_id":125589006,"body_markdown":"@ElliottFrisch The safeinput code there is a method that allows input only if the string has a value. If the string doesn&#39;t have a value it asks the user to enter a value instead of nothing. I&#39;m trying to store this data in an array list and print it to a file.","body":"@ElliottFrisch The safeinput code there is a method that allows input only if the string has a value. If the string doesn&#39;t have a value it asks the user to enter a value instead of nothing. I&#39;m trying to store this data in an array list and print it to a file."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1644388666,"post_id":71043835,"comment_id":125590586,"body_markdown":"@reedaleson Elliot&#39;s inquiry about whether SafeInput returns something suggests that your code should look something like, `recs.add(SafeInput.getNonZeroLenString(in, &quot;Enter the ID Number: &quot;));`","body":"@reedaleson Elliot&#39;s inquiry about whether SafeInput returns something suggests that your code should look something like, <code>recs.add(SafeInput.getNonZeroLenString(in, &quot;Enter the ID Number: &quot;));</code>"}],"owner":{"account_id":24199452,"reputation":1,"user_id":18157489,"display_name":"reedaleson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644379205,"creation_date":1644379205,"question_id":71043835,"body_markdown":"The user adds information about a person and stores it in an array list which is written to a file. The information is an ID number, first and last name, title and year of birth. When I use a for loop for the user&#39;s inputs my program asks for the ID number, and after the input, stops. The run doesn&#39;t stop, it just does not ask for the rest of the inputs. \r\nI&#39;ve tried multiple different ways to get input from the user, including most recently the while loop.\r\nAny tips on what I can do?\r\n```\r\nimport java.util.Scanner;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.nio.*;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport static java.nio.file.StandardOpenOption.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class PersonGenerator {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        ArrayList &lt;String&gt; recs = new ArrayList&lt;&gt;();\r\n        File workingDirectory = new File(System.getProperty(&quot;user.dir&quot;));\r\n        Path file = Paths.get(workingDirectory.getPath() + &quot;\\\\src\\\\PersonTestData.txt&quot;);\r\n        String idNum = &quot;&quot;;\r\n        String firstName = &quot;&quot;;\r\n        String lastName = &quot;&quot;;\r\n        String title = &quot;&quot;;\r\n        String YOB = &quot;&quot;;\r\n        int i = 0;\r\n        for(i=0; i&lt;5; i++) {\r\n            SafeInput.getNonZeroLenString(in, &quot;Enter the ID Number: &quot;);\r\n            while (in.hasNext()){\r\n                recs.add(in.next());\r\n            }\r\n            SafeInput.getNonZeroLenString(in, &quot;Enter the first name: &quot;);\r\n            SafeInput.getNonZeroLenString(in, &quot;Enter the last name: &quot;);\r\n            SafeInput.getNonZeroLenString(in, &quot;Enter their title: &quot;);\r\n            SafeInput.getNonZeroLenString(in, &quot;Enter the YOB: &quot;);\r\n            SafeInput.getYNConfirm(in, &quot;Do you have more people to add?&quot;);\r\n            recs.add(idNum);\r\n            recs.add(firstName);\r\n            recs.add(lastName);\r\n            recs.add(title);\r\n            recs.add(YOB);\r\n        }\r\n\r\n        try\r\n        {\r\n            OutputStream out = new BufferedOutputStream(Files.newOutputStream(file, CREATE));\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(out));\r\n            for (String rec : recs)\r\n            {\r\n                writer.write(rec, 0, rec.length());\r\n                writer.newLine();\r\n            }\r\n            writer.close();\r\n            System.out.println(&quot;Data file written&quot;);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"My for loop stops after I ask for a user input","body":"<p>The user adds information about a person and stores it in an array list which is written to a file. The information is an ID number, first and last name, title and year of birth. When I use a for loop for the user's inputs my program asks for the ID number, and after the input, stops. The run doesn't stop, it just does not ask for the rest of the inputs.\nI've tried multiple different ways to get input from the user, including most recently the while loop.\nAny tips on what I can do?</p>\n<pre><code>import java.util.Scanner;\nimport java.io.BufferedOutputStream;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.nio.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport static java.nio.file.StandardOpenOption.*;\nimport java.util.ArrayList;\n\npublic class PersonGenerator {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        ArrayList &lt;String&gt; recs = new ArrayList&lt;&gt;();\n        File workingDirectory = new File(System.getProperty(&quot;user.dir&quot;));\n        Path file = Paths.get(workingDirectory.getPath() + &quot;\\\\src\\\\PersonTestData.txt&quot;);\n        String idNum = &quot;&quot;;\n        String firstName = &quot;&quot;;\n        String lastName = &quot;&quot;;\n        String title = &quot;&quot;;\n        String YOB = &quot;&quot;;\n        int i = 0;\n        for(i=0; i&lt;5; i++) {\n            SafeInput.getNonZeroLenString(in, &quot;Enter the ID Number: &quot;);\n            while (in.hasNext()){\n                recs.add(in.next());\n            }\n            SafeInput.getNonZeroLenString(in, &quot;Enter the first name: &quot;);\n            SafeInput.getNonZeroLenString(in, &quot;Enter the last name: &quot;);\n            SafeInput.getNonZeroLenString(in, &quot;Enter their title: &quot;);\n            SafeInput.getNonZeroLenString(in, &quot;Enter the YOB: &quot;);\n            SafeInput.getYNConfirm(in, &quot;Do you have more people to add?&quot;);\n            recs.add(idNum);\n            recs.add(firstName);\n            recs.add(lastName);\n            recs.add(title);\n            recs.add(YOB);\n        }\n\n        try\n        {\n            OutputStream out = new BufferedOutputStream(Files.newOutputStream(file, CREATE));\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(out));\n            for (String rec : recs)\n            {\n                writer.write(rec, 0, rec.length());\n                writer.newLine();\n            }\n            writer.close();\n            System.out.println(&quot;Data file written&quot;);\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","cordova"],"answers":[{"tags":[],"owner":{"account_id":21450242,"reputation":41,"user_id":15844954,"display_name":"Gilluisf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644234693,"creation_date":1644230870,"answer_id":71017260,"question_id":71016580,"body_markdown":"You should download the latest version","title":"cordova build cannot agree on Java version","body":"<p>You should download the latest version</p>\n"},{"tags":[],"owner":{"account_id":5960289,"reputation":2267,"user_id":4685664,"display_name":"Norman Breau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644378875,"creation_date":1644378875,"answer_id":71043800,"question_id":71016580,"body_markdown":"Older versions of cordova-android required Java 8, which was requirements from the parts &amp; versions of Android SDK cordova used. There is a Android SDK / cordova-android version mismatch in your environment.\r\n\r\nAs of cordova-android@10 (current version at the time of writing), the Java 8 restriction was opened up to allow Java 11 as cordova-android was updated to use more modern versions of the Android SDK which consequentially requires Java 11.\r\n\r\n&gt; Requirements check failed for JDK 8 (&#39;1.8.*&#39;)\r\n\r\nNot sure which cordova-android version you&#39;re running but this error definitely means you aren&#39;t running cordova-android@10, so I&#39;d suggest to update the cordova-android platform.\r\n\r\n```\r\ncordova platform remove android\r\ncordova platform add android@10\r\n```\r\n\r\nI&#39;d also suggest ensuring you&#39;re running cordova cli verison 10 or later as well. (Checkable via `cordova -v`)","title":"cordova build cannot agree on Java version","body":"<p>Older versions of cordova-android required Java 8, which was requirements from the parts &amp; versions of Android SDK cordova used. There is a Android SDK / cordova-android version mismatch in your environment.</p>\n<p>As of cordova-android@10 (current version at the time of writing), the Java 8 restriction was opened up to allow Java 11 as cordova-android was updated to use more modern versions of the Android SDK which consequentially requires Java 11.</p>\n<blockquote>\n<p>Requirements check failed for JDK 8 ('1.8.*')</p>\n</blockquote>\n<p>Not sure which cordova-android version you're running but this error definitely means you aren't running cordova-android@10, so I'd suggest to update the cordova-android platform.</p>\n<pre><code>cordova platform remove android\ncordova platform add android@10\n</code></pre>\n<p>I'd also suggest ensuring you're running cordova cli verison 10 or later as well. (Checkable via <code>cordova -v</code>)</p>\n"}],"owner":{"account_id":1706103,"reputation":746,"user_id":1565112,"accept_rate":36,"display_name":"Free Bud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71043800,"answer_count":2,"score":0,"last_activity_date":1644378875,"creation_date":1644227860,"question_id":71016580,"body_markdown":"``` $ cordova build android –release ```  \r\nWhen ```JAVA_HOME``` points to old ```C:\\Program Files\\Java\\jdk1.8.0_261``` - I get:  \r\n  **Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.**  \r\nWhen ```JAVA_HOME``` points to new ```C:\\Program Files\\Java\\jdk-17.0.2``` - I get:  \r\n  **Requirements check failed for JDK 8 (&#39;1.8.*&#39;)! Detected version: 17.0.2**  \r\nHow do I solve this?","title":"cordova build cannot agree on Java version","body":"<p><code>$ cordova build android –release</code><br />\nWhen <code>JAVA_HOME</code> points to old <code>C:\\Program Files\\Java\\jdk1.8.0_261</code> - I get:<br />\n<strong>Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.</strong><br />\nWhen <code>JAVA_HOME</code> points to new <code>C:\\Program Files\\Java\\jdk-17.0.2</code> - I get:<br />\n<strong>Requirements check failed for JDK 8 ('1.8.*')! Detected version: 17.0.2</strong><br />\nHow do I solve this?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644379165,"post_id":71043755,"comment_id":125588875,"body_markdown":"I don&#39;t think there&#39;s any design pattern here, it&#39;s just a simple code encapsulation.","body":"I don&#39;t think there&#39;s any design pattern here, it&#39;s just a simple code encapsulation."},{"owner":{"account_id":922885,"reputation":2206,"user_id":954224,"accept_rate":90,"display_name":"Rawr"},"score":0,"creation_date":1644379834,"post_id":71043755,"comment_id":125588987,"body_markdown":"Do you happen to know of any other projects that utilizes encapsulation for database connection management?","body":"Do you happen to know of any other projects that utilizes encapsulation for database connection management?"}],"owner":{"account_id":922885,"reputation":2206,"user_id":954224,"accept_rate":90,"display_name":"Rawr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644378630,"creation_date":1644378385,"question_id":71043755,"body_markdown":"I ran into some code and I wanted to research other people&#39;s approaches to it, but I&#39;m not sure what the design pattern is called. I tried searching for &quot;database executer&quot; and mostly got results about Java&#39;s Executor framework which is unrelated.\r\n\r\nThe pattern I&#39;m trying to identify uses a single class to manage connections and execute queries through the use of functions that allow you to isolate any issues related to connection management.\r\n\r\nExample:\r\n\r\n```\r\n// Service class\r\n\r\npublic Service {\r\n  private final Executor executor;\r\n\r\n  public void query(String query) {\r\n    ResultSet rs = (ResultSet) executor.execute((connection) -&gt; {\r\n      Statement st = connection.createStatement();\r\n      return st.executeQuery(query);\r\n    });\r\n  }\r\n}\r\n\r\n// Executer class\r\n\r\npublic Executer {\r\n  private final DataSource dataSource;\r\n\r\n  public Object execute(Function function) {\r\n    Connection connection = dataSource.getConnection();\r\n    try {\r\n      return function(connection);\r\n    } catch(Exception e) {\r\n      log...\r\n    } finally {\r\n      // close or return connection to pool\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAs you can see from above, if you ever have a connection leak you don&#39;t need to search through a bunch of DAOs or services, it&#39;s all contained in a single executor class. Any idea what this strategy or design pattern is called? Anyone see this before or know of open source projects that utilize this strategy/pattern?","title":"Trying to identify a design pattern or strategy used to isolate, utilize, and manage database connections","body":"<p>I ran into some code and I wanted to research other people's approaches to it, but I'm not sure what the design pattern is called. I tried searching for &quot;database executer&quot; and mostly got results about Java's Executor framework which is unrelated.</p>\n<p>The pattern I'm trying to identify uses a single class to manage connections and execute queries through the use of functions that allow you to isolate any issues related to connection management.</p>\n<p>Example:</p>\n<pre><code>// Service class\n\npublic Service {\n  private final Executor executor;\n\n  public void query(String query) {\n    ResultSet rs = (ResultSet) executor.execute((connection) -&gt; {\n      Statement st = connection.createStatement();\n      return st.executeQuery(query);\n    });\n  }\n}\n\n// Executer class\n\npublic Executer {\n  private final DataSource dataSource;\n\n  public Object execute(Function function) {\n    Connection connection = dataSource.getConnection();\n    try {\n      return function(connection);\n    } catch(Exception e) {\n      log...\n    } finally {\n      // close or return connection to pool\n    }\n  }\n}\n</code></pre>\n<p>As you can see from above, if you ever have a connection leak you don't need to search through a bunch of DAOs or services, it's all contained in a single executor class. Any idea what this strategy or design pattern is called? Anyone see this before or know of open source projects that utilize this strategy/pattern?</p>\n"},{"tags":["java","reactjs","session","servlets"],"comments":[{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":3,"creation_date":1644378276,"post_id":71043708,"comment_id":125588751,"body_markdown":"Check whether your frontend programs allow cookies. Some network libraries do not contain cookies by default. The implementation of the session depends on the jsessionid stored in the cookie. If cookies are not supported, a new session is created for each request.","body":"Check whether your frontend programs allow cookies. Some network libraries do not contain cookies by default. The implementation of the session depends on the jsessionid stored in the cookie. If cookies are not supported, a new session is created for each request."},{"owner":{"account_id":23983674,"reputation":47,"user_id":17970750,"display_name":"Shelton"},"score":0,"creation_date":1644379987,"post_id":71043708,"comment_id":125589007,"body_markdown":"@HUTUTU I can find the jsessionid int response header. I don&#39;t find it in the cookies tab","body":"@HUTUTU I can find the jsessionid int response header. I don&#39;t find it in the cookies tab"},{"owner":{"account_id":23983674,"reputation":47,"user_id":17970750,"display_name":"Shelton"},"score":0,"creation_date":1644386149,"post_id":71043708,"comment_id":125590002,"body_markdown":"@HUTUTU Can you tell me how I can add those cookies to the browser cookies?","body":"@HUTUTU Can you tell me how I can add those cookies to the browser cookies?"},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644387948,"post_id":71043708,"comment_id":125590393,"body_markdown":"If you are using Chrome, you need to check &quot;show filtered request cookies&quot;. Check two different network requests to see if JSESSIONID is the same. What network library do you use in react?","body":"If you are using Chrome, you need to check &quot;show filtered request cookies&quot;. Check two different network requests to see if JSESSIONID is the same. What network library do you use in react?"},{"owner":{"account_id":23983674,"reputation":47,"user_id":17970750,"display_name":"Shelton"},"score":0,"creation_date":1644389055,"post_id":71043708,"comment_id":125590667,"body_markdown":"@HUTUTU I&#39;m using fetch API to get the data from java","body":"@HUTUTU I&#39;m using fetch API to get the data from java"},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644389846,"post_id":71043708,"comment_id":125590866,"body_markdown":"https://stackoverflow.com/questions/51291831/fetch-api-call-causes-new-asp-net-session","body":"<a href=\"https://stackoverflow.com/questions/51291831/fetch-api-call-causes-new-asp-net-session\" title=\"fetch api call causes new asp net session\">stackoverflow.com/questions/51291831/&hellip;</a>"},{"owner":{"account_id":23983674,"reputation":47,"user_id":17970750,"display_name":"Shelton"},"score":0,"creation_date":1644397743,"post_id":71043708,"comment_id":125593440,"body_markdown":"@HUTUTU I tried this out and it was raising a pre-flight CORS. Is there something that I have to add on the server side as well?","body":"@HUTUTU I tried this out and it was raising a pre-flight CORS. Is there something that I have to add on the server side as well?"},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644398971,"post_id":71043708,"comment_id":125593923,"body_markdown":"Did you set credentials to include? If so, I think it should be set to same-origin.","body":"Did you set credentials to include? If so, I think it should be set to same-origin."},{"owner":{"account_id":23983674,"reputation":47,"user_id":17970750,"display_name":"Shelton"},"score":0,"creation_date":1644409481,"post_id":71043708,"comment_id":125598094,"body_markdown":"@HUTUTU In the client side, I have this header ```credentials: &quot;include&quot;``` In the server side I have ```\t\tresponse.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;same-origin&quot;);``` Still getting CORS error. Anything else I&#39;m supposed to add","body":"@HUTUTU In the client side, I have this header <code>credentials: &quot;include&quot;</code> In the server side I have ```\t\tresponse.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;same-origin&quot;);``` Still getting CORS error. Anything else I&#39;m supposed to add"},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644455176,"post_id":71043708,"comment_id":125614404,"body_markdown":"credentials:&quot;same-origin&quot;","body":"credentials:&quot;same-origin&quot;"}],"owner":{"account_id":23983674,"reputation":47,"user_id":17970750,"display_name":"Shelton"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644377823,"creation_date":1644377823,"question_id":71043708,"body_markdown":"I am working on an application with react on the front end and java(running on tomcat server JDK17) in the backend. Whenever I login into the application, I send the user data to the server(java) and see if the user exists in the database. Whenever I move across the components in the react application, I would like to check if the user is authenticated/allowed to use that particular component. Hence I stored the data onto a session in the login servlet. I tried to access the session from another servlet called AuthenticationServlet, it returns null. Do I have to configure something so that I can access the data across all the servlets.\r\n\r\nThis is how I set the session data in the login servlet:\r\n```\r\nHttpSession session = request.getSession();\r\nsession.setAttribute(&quot;uname&quot;, uname);\r\n```\r\nPrinting it on the console in the same servlet displays the username.\r\nThis is where I&#39;m accessing it(AuthenticationServlet)\r\n```\r\nHttpSession session = request.getSession();\r\nString k = (String) session.getAttribute(&quot;uname&quot;);\r\nSystem.out.println(k);\r\n```\r\nThis displays null. What am I doing wrong or did I miss something. Much appreciated!","title":"How to access session data across servlets in java?","body":"<p>I am working on an application with react on the front end and java(running on tomcat server JDK17) in the backend. Whenever I login into the application, I send the user data to the server(java) and see if the user exists in the database. Whenever I move across the components in the react application, I would like to check if the user is authenticated/allowed to use that particular component. Hence I stored the data onto a session in the login servlet. I tried to access the session from another servlet called AuthenticationServlet, it returns null. Do I have to configure something so that I can access the data across all the servlets.</p>\n<p>This is how I set the session data in the login servlet:</p>\n<pre><code>HttpSession session = request.getSession();\nsession.setAttribute(&quot;uname&quot;, uname);\n</code></pre>\n<p>Printing it on the console in the same servlet displays the username.\nThis is where I'm accessing it(AuthenticationServlet)</p>\n<pre><code>HttpSession session = request.getSession();\nString k = (String) session.getAttribute(&quot;uname&quot;);\nSystem.out.println(k);\n</code></pre>\n<p>This displays null. What am I doing wrong or did I miss something. Much appreciated!</p>\n"},{"tags":["java","azure","apache-spark","azure-devops","azure-hdinsight"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1644232136,"post_id":71017361,"comment_id":125541639,"body_markdown":"I think you cannot do that. There is no option for that. If you are using the Azure infrastructure you do not install those products, so you cannot change any version.","body":"I think you cannot do that. There is no option for that. If you are using the Azure infrastructure you do not install those products, so you cannot change any version."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1644232609,"post_id":71017361,"comment_id":125541793,"body_markdown":"It seems that your cluster type is &quot;Spark&quot;, so I believe your only option is upgrading the Cluster Version of that.  Not Java specifically.","body":"It seems that your cluster type is &quot;Spark&quot;, so I believe your only option is upgrading the Cluster Version of that.  Not Java specifically."},{"owner":{"account_id":24180120,"reputation":19,"user_id":18140931,"display_name":"Ramu"},"score":0,"creation_date":1644237691,"post_id":71017361,"comment_id":125543664,"body_markdown":"What version of java it uses default ?","body":"What version of java it uses default ?"}],"answers":[{"tags":[],"owner":{"account_id":21648949,"reputation":1274,"user_id":15969858,"display_name":"RKM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644377261,"creation_date":1644377261,"answer_id":71043648,"question_id":71017361,"body_markdown":"    `Do we have an option to set the java version ?`\r\n    \r\n  \r\n  No, We don&#39;t have an option to set the java version using Azure cli cmdlet.\r\n\r\nWe can only update the tags of the specified HDInsight cluster using below cmdlet.\r\n\r\n    az hdinsight update --name MyCluster --resource-group rg --tags key=value\r\n\r\nFor more information about the supported `az` commands to Manage HDInsight resources, refer this [document](https://learn.microsoft.com/en-us/cli/azure/hdinsight?view=azure-cli-latest).\r\n","title":"How to set java version in the Azure hdinsight while creating a cluster","body":"<pre><code>`Do we have an option to set the java version ?`\n</code></pre>\n<p>No, We don't have an option to set the java version using Azure cli cmdlet.</p>\n<p>We can only update the tags of the specified HDInsight cluster using below cmdlet.</p>\n<pre><code>az hdinsight update --name MyCluster --resource-group rg --tags key=value\n</code></pre>\n<p>For more information about the supported <code>az</code> commands to Manage HDInsight resources, refer this <a href=\"https://learn.microsoft.com/en-us/cli/azure/hdinsight?view=azure-cli-latest\" rel=\"nofollow noreferrer\">document</a>.</p>\n"}],"owner":{"account_id":24180120,"reputation":19,"user_id":18140931,"display_name":"Ramu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644377261,"creation_date":1644231276,"question_id":71017361,"body_markdown":"We are creating a cluster in Azure we need to upgrade the java version.\r\nHere is the command -\r\n ``` az hdinsight create --name test_cluster --resource-group $resource_group --type spark --cluster-tier Standard --component-version Spark=$component_version --headnode-size $headnode_size --location $location --http-password $http_password --http-user $http_user --ssh-user $ssh_user --ssh-public-key &quot;$ssh_pub_key&quot; --storage-account $storage_account_name --storage-account-key $storage_account_key --storage-container $storage_container --subnet $subnet_name --vnet-name $vnet_name --version $version --workernode-count $workernode_count --workernode-size $workernode_size --tags Name=$cluster_name ```\r\n\r\n\r\nDo we have an option to set the java version ?\r\n","title":"How to set java version in the Azure hdinsight while creating a cluster","body":"<p>We are creating a cluster in Azure we need to upgrade the java version.\nHere is the command -\n<code>az hdinsight create --name test_cluster --resource-group $resource_group --type spark --cluster-tier Standard --component-version Spark=$component_version --headnode-size $headnode_size --location $location --http-password $http_password --http-user $http_user --ssh-user $ssh_user --ssh-public-key &quot;$ssh_pub_key&quot; --storage-account $storage_account_name --storage-account-key $storage_account_key --storage-container $storage_container --subnet $subnet_name --vnet-name $vnet_name --version $version --workernode-count $workernode_count --workernode-size $workernode_size --tags Name=$cluster_name</code></p>\n<p>Do we have an option to set the java version ?</p>\n"},{"tags":["java","string","oop","integer"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1644375118,"post_id":71043426,"comment_id":125588335,"body_markdown":"Because `&quot;John 24&quot;` is a `String` not an `int`.","body":"Because <code>&quot;John 24&quot;</code> is a <code>String</code> not an <code>int</code>."},{"owner":{"account_id":19536334,"reputation":3,"user_id":14295044,"display_name":"Yasir Zubair"},"score":0,"creation_date":1644375675,"post_id":71043426,"comment_id":125588422,"body_markdown":"Thanks for taking a look at it, @DawoodibnKareem. But, in the program, you can see I have saved the value &quot;24&quot; into an int datatype variable that is age.","body":"Thanks for taking a look at it, @DawoodibnKareem. But, in the program, you can see I have saved the value &quot;24&quot; into an int datatype variable that is age."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1644383519,"post_id":71043426,"comment_id":125589556,"body_markdown":"Yes, I can see that, but your method is not just returning the age, it&#39;s returning `&quot;John 24&quot;`, which is NOT an integer.","body":"Yes, I can see that, but your method is not just returning the age, it&#39;s returning <code>&quot;John 24&quot;</code>, which is NOT an integer."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644375954,"creation_date":1644375638,"answer_id":71043490,"question_id":71043426,"body_markdown":"The string concatenation in your code:\r\n\r\n    return ( this.name + &quot; &quot; + this.age );\r\n\r\n… implicitly generates a string from your `int` member field, `this.age`.\r\n\r\nThat is equivalent to a call to [`String.valueof`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#valueOf(int)):\r\n\r\n    return ( this.name + &quot; &quot; + String.valueOf( this.age ) );\r\n\r\nSee [*Converting Numbers to Strings*](https://docs.oracle.com/javase/tutorial/java/data/converting.html) in the *Java Tutorials* provided by Oracle free of cost. ","title":"Java -- The return type of a function is &quot;String&quot; but it can return both String and int data types","body":"<p>The string concatenation in your code:</p>\n<pre><code>return ( this.name + &quot; &quot; + this.age );\n</code></pre>\n<p>… implicitly generates a string from your <code>int</code> member field, <code>this.age</code>.</p>\n<p>That is equivalent to a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#valueOf(int)\" rel=\"nofollow noreferrer\"><code>String.valueof</code></a>:</p>\n<pre><code>return ( this.name + &quot; &quot; + String.valueOf( this.age ) );\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/java/data/converting.html\" rel=\"nofollow noreferrer\"><em>Converting Numbers to Strings</em></a> in the <em>Java Tutorials</em> provided by Oracle free of cost.</p>\n"}],"owner":{"account_id":19536334,"reputation":3,"user_id":14295044,"display_name":"Yasir Zubair"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1644407424,"accepted_answer_id":71043490,"answer_count":1,"score":-4,"last_activity_date":1644375954,"creation_date":1644375011,"question_id":71043426,"body_markdown":"``` \r\nclass Student {\r\n\tString name;\r\n\tint age;\r\n\r\n\tpublic void setInfo(String n, int a) {\r\n\t\tthis.name = n;\r\n\t\tthis.age = a;\r\n\t}\r\n\r\n\tpublic String getInfo() { // Notice the &quot;String&quot; data type in this function\r\n\t\treturn (this.name + &quot; &quot; + this.age);  // &quot;this.age&quot; is a &quot;int&quot; data type but the function is supposed to be returning only &quot;String&quot; data type, right?\r\n\t}\r\n}\r\n\r\npublic class OOPS {\r\n\tpublic static void main(String args[]) {\r\n\t\tStudent s1 = new Student();\r\n\r\n\t\ts1.setInfo(&quot;John&quot;, 24);\r\n\t\tSystem.out.println(s1.getInfo());\r\n\t}\r\n}\r\n```\r\n\r\nHere is the output: [Click me to see the output][1]\r\n\r\nThe next thing I tried to do was replace &quot;String&quot; with &quot;int&quot; in the function.\r\n\r\nLike this:\r\n\r\n``` \r\npublic int getInfo() { \t\t\r\n     return (this.name + &quot; &quot; + this.age); \r\n}\r\n``` \r\n\r\nIt throws this error: [Click me to see the error][2]\r\n\r\n**The question is why is it so?**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UleFP.png\r\n  [2]: https://i.stack.imgur.com/dbs4L.png","title":"Java -- The return type of a function is &quot;String&quot; but it can return both String and int data types","body":"<pre><code>class Student {\n    String name;\n    int age;\n\n    public void setInfo(String n, int a) {\n        this.name = n;\n        this.age = a;\n    }\n\n    public String getInfo() { // Notice the &quot;String&quot; data type in this function\n        return (this.name + &quot; &quot; + this.age);  // &quot;this.age&quot; is a &quot;int&quot; data type but the function is supposed to be returning only &quot;String&quot; data type, right?\n    }\n}\n\npublic class OOPS {\n    public static void main(String args[]) {\n        Student s1 = new Student();\n\n        s1.setInfo(&quot;John&quot;, 24);\n        System.out.println(s1.getInfo());\n    }\n}\n</code></pre>\n<p>Here is the output: <a href=\"https://i.stack.imgur.com/UleFP.png\" rel=\"nofollow noreferrer\">Click me to see the output</a></p>\n<p>The next thing I tried to do was replace &quot;String&quot; with &quot;int&quot; in the function.</p>\n<p>Like this:</p>\n<pre><code>public int getInfo() {      \n     return (this.name + &quot; &quot; + this.age); \n}\n</code></pre>\n<p>It throws this error: <a href=\"https://i.stack.imgur.com/dbs4L.png\" rel=\"nofollow noreferrer\">Click me to see the error</a></p>\n<p><strong>The question is why is it so?</strong></p>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644375510,"creation_date":1644375510,"answer_id":71043476,"question_id":71043434,"body_markdown":"This\r\n\r\n    try {\r\n      return binding.getApplicationContext().getAssets().open(assetPath);\r\n    } \r\n    catch (IOException e) {\r\n      throw e;\r\n    }\r\n\r\nis functionally equivalent to this:\r\n\r\n      return binding.getApplicationContext().getAssets().open(assetPath);\r\n\r\nYour IDE is telling you that your try-catch is pointless. It does nothing.\r\n\r\nSo what do you want to do? \r\n\r\n1. Pass the exception on to your caller?  In which case get rid of the try-catch\r\n\r\n2. Signal a different exception on to the caller - maybe one with a more appropriate error message for the specific circumstances?  Then make and throw a new exception object with a better error message.\r\n\r\n3. Do something to handle the situation - at the very least, maybe display an error message?  Log the event to enable debugging? Then write code in the catch-block to do that. And then you have to decide what happens next.\r\n\r\nFundamentally, this is a design issue. IO errors happen. So how does this method that you&#39;re writing want to handle IO errors?\r\n","title":"Java: Caught exception is immediately rethrown? What&#39;s the problem?","body":"<p>This</p>\n<pre><code>try {\n  return binding.getApplicationContext().getAssets().open(assetPath);\n} \ncatch (IOException e) {\n  throw e;\n}\n</code></pre>\n<p>is functionally equivalent to this:</p>\n<pre><code>  return binding.getApplicationContext().getAssets().open(assetPath);\n</code></pre>\n<p>Your IDE is telling you that your try-catch is pointless. It does nothing.</p>\n<p>So what do you want to do?</p>\n<ol>\n<li><p>Pass the exception on to your caller?  In which case get rid of the try-catch</p>\n</li>\n<li><p>Signal a different exception on to the caller - maybe one with a more appropriate error message for the specific circumstances?  Then make and throw a new exception object with a better error message.</p>\n</li>\n<li><p>Do something to handle the situation - at the very least, maybe display an error message?  Log the event to enable debugging? Then write code in the catch-block to do that. And then you have to decide what happens next.</p>\n</li>\n</ol>\n<p>Fundamentally, this is a design issue. IO errors happen. So how does this method that you're writing want to handle IO errors?</p>\n"}],"owner":{"account_id":7528450,"reputation":6499,"user_id":5717640,"accept_rate":98,"display_name":"Nerdy Bunz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71043476,"answer_count":1,"score":-1,"last_activity_date":1644375558,"creation_date":1644375088,"question_id":71043434,"body_markdown":"I have the following Java code (that I thought was OK) but the IDE is warning me that &quot;IOExcpetion e is immediately rethrown.&quot;\r\n\r\nI&#39;m new to exception handling in Java, and I wasn&#39;t aware there was anything wrong with doing that.\r\n\r\nFrom what I&#39;m reading, it looks like my other options is to simply delete the catch block and replace it with a finally block... but then it warns that the finally block is empty.\r\n\r\nI don&#39;t have any ideas on what I should do differently.\r\n\r\n    private InputStream getFlutterAssetAsInputStream(String fromAsset) throws IOException {\r\n        String assetPath = binding\r\n                .getFlutterAssets()\r\n                .getAssetFilePathBySubpath(fromAsset, PACKAGE_NAME);\r\n    \r\n        try {\r\n          return binding.getApplicationContext().getAssets().open(assetPath);\r\n        } catch (IOException e) {\r\n          throw e;\r\n        }\r\n      }","title":"Java: Caught exception is immediately rethrown? What&#39;s the problem?","body":"<p>I have the following Java code (that I thought was OK) but the IDE is warning me that &quot;IOExcpetion e is immediately rethrown.&quot;</p>\n<p>I'm new to exception handling in Java, and I wasn't aware there was anything wrong with doing that.</p>\n<p>From what I'm reading, it looks like my other options is to simply delete the catch block and replace it with a finally block... but then it warns that the finally block is empty.</p>\n<p>I don't have any ideas on what I should do differently.</p>\n<pre><code>private InputStream getFlutterAssetAsInputStream(String fromAsset) throws IOException {\n    String assetPath = binding\n            .getFlutterAssets()\n            .getAssetFilePathBySubpath(fromAsset, PACKAGE_NAME);\n\n    try {\n      return binding.getApplicationContext().getAssets().open(assetPath);\n    } catch (IOException e) {\n      throw e;\n    }\n  }\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15772203,"reputation":1225,"user_id":11380925,"display_name":"Jonathan Southern"},"score":0,"creation_date":1576714583,"post_id":59401690,"comment_id":104992481,"body_markdown":"Could you provide more context as to what your program might consist of?","body":"Could you provide more context as to what your program might consist of?"},{"owner":{"account_id":17341165,"reputation":11,"user_id":12561772,"display_name":"Nate Barrett"},"score":0,"creation_date":1576714791,"post_id":59401690,"comment_id":104992516,"body_markdown":"My program is just a simple hello world program. I was testing it so it&#39;s basically the first thing you ever learn in java","body":"My program is just a simple hello world program. I was testing it so it&#39;s basically the first thing you ever learn in java"},{"owner":{"account_id":6203680,"reputation":224,"user_id":4832558,"display_name":"dnunez32"},"score":0,"creation_date":1576715075,"post_id":59401690,"comment_id":104992560,"body_markdown":"Are you doing something similar to this video? https://www.youtube.com/watch?v=o4BTKD3iyYE (equivalent of https://code.visualstudio.com/docs/java/java-tutorial) Try running it in debug mode (tap F5).","body":"Are you doing something similar to this video? <a href=\"https://www.youtube.com/watch?v=o4BTKD3iyYE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=o4BTKD3iyYE</a> (equivalent of <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-tutorial</a>) Try running it in debug mode (tap F5)."},{"owner":{"account_id":17341165,"reputation":11,"user_id":12561772,"display_name":"Nate Barrett"},"score":1,"creation_date":1576715914,"post_id":59401690,"comment_id":104992725,"body_markdown":"@dnunez32 i did that and i still only printed in the terminal, not the debug console","body":"@dnunez32 i did that and i still only printed in the terminal, not the debug console"},{"owner":{"account_id":1077256,"reputation":2167,"user_id":1075119,"accept_rate":85,"display_name":"mneri"},"score":1,"creation_date":1576716006,"post_id":59401690,"comment_id":104992745,"body_markdown":"It&#39;s really hard to understand what the problem is, actually. On our side we have zero context. Maybe provide a code snippet with some screenshots?","body":"It&#39;s really hard to understand what the problem is, actually. On our side we have zero context. Maybe provide a code snippet with some screenshots?"},{"owner":{"account_id":17341165,"reputation":11,"user_id":12561772,"display_name":"Nate Barrett"},"score":0,"creation_date":1576716208,"post_id":59401690,"comment_id":104992776,"body_markdown":"`/**\n * Hello\n */\npublic class Hello {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}`","body":"<code>&#47;**  * Hello  *&#47; public class Hello {      public static void main(String[] args) {         System.out.println(&quot;Hello World!&quot;);     } }</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1576723668,"post_id":59401690,"comment_id":104994130,"body_markdown":"You can [edit] your question and add your code. Never mind, I did it for you.","body":"You can <a href=\"https://stackoverflow.com/posts/59401690/edit\">edit</a> your question and add your code. Never mind, I did it for you."}],"answers":[{"tags":[],"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576740747,"creation_date":1576740747,"answer_id":59405114,"question_id":59401690,"body_markdown":"you could try to add `&quot;console&quot;: &quot;internalConsole&quot;` in your **launch.json** like :\r\n\r\n    &quot;configurations&quot;: [\r\n               {\r\n                 &quot;type&quot;: &quot;java&quot;,\r\n                 &quot;name&quot;: &quot;CodeLens (Launch) - App&quot;,\r\n                 &quot;request&quot;: &quot;launch&quot;,\r\n                 &quot;mainClass&quot;: &quot;com.test.maven.App&quot;,\r\n                 &quot;console&quot;: &quot;internalConsole&quot;,\r\n                 &quot;projectName&quot;: &quot;my.app&quot;\r\n               }\r\n             ]\r\n\r\nthen it will show in `Debug Console`","title":"Why is my code not printing in the debug console?","body":"<p>you could try to add <code>\"console\": \"internalConsole\"</code> in your <strong>launch.json</strong> like :</p>\n\n<pre><code>\"configurations\": [\n           {\n             \"type\": \"java\",\n             \"name\": \"CodeLens (Launch) - App\",\n             \"request\": \"launch\",\n             \"mainClass\": \"com.test.maven.App\",\n             \"console\": \"internalConsole\",\n             \"projectName\": \"my.app\"\n           }\n         ]\n</code></pre>\n\n<p>then it will show in <code>Debug Console</code></p>\n"},{"tags":[],"owner":{"account_id":552770,"reputation":2556,"user_id":917672,"accept_rate":100,"display_name":"Neifen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644374988,"creation_date":1644374988,"answer_id":71043423,"question_id":59401690,"body_markdown":" 1. Go to your settings (ctrl + , | apple-key + , | by clicking on the Wheel Icon on the bottom left -&gt; &quot;Settings&quot; | ctrl+p -&gt; type in &quot;settings&quot;)\r\n 2. Search for &quot;java.debug.settings.console&quot;. \r\n3. Change your default console to &quot;internalConsole&quot;.\r\n","title":"Why is my code not printing in the debug console?","body":"<ol>\n<li>Go to your settings (ctrl + , | apple-key + , | by clicking on the Wheel Icon on the bottom left -&gt; &quot;Settings&quot; | ctrl+p -&gt; type in &quot;settings&quot;)</li>\n<li>Search for &quot;java.debug.settings.console&quot;.</li>\n<li>Change your default console to &quot;internalConsole&quot;.</li>\n</ol>\n"}],"owner":{"account_id":17341165,"reputation":11,"user_id":12561772,"display_name":"Nate Barrett"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644374988,"creation_date":1576714262,"question_id":59401690,"body_markdown":"I am new to coding and to Visual Studio Code so I am trying to teach myself how to use the program. I primarily want to code in Java and I have it set up correctly. The problem is that every time I try to run a basic program, it prints in the terminal but in the tutorial videos it prints in debug console. Has anyone had this problem and can anyone help me fix this?\r\n```java\r\n/**\r\n * Hello\r\n */\r\npublic class Hello {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```","title":"Why is my code not printing in the debug console?","body":"<p>I am new to coding and to Visual Studio Code so I am trying to teach myself how to use the program. I primarily want to code in Java and I have it set up correctly. The problem is that every time I try to run a basic program, it prints in the terminal but in the tutorial videos it prints in debug console. Has anyone had this problem and can anyone help me fix this?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Hello\n */\npublic class Hello {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":427554,"reputation":8841,"user_id":809384,"accept_rate":82,"display_name":"Andr&#233; Puel"},"score":0,"creation_date":1319136030,"post_id":7840541,"comment_id":9559844,"body_markdown":"It is not possible to happen.","body":"It is not possible to happen."},{"owner":{"account_id":420891,"reputation":11018,"user_id":798818,"accept_rate":91,"display_name":"Mob"},"score":1,"creation_date":1319136067,"post_id":7840541,"comment_id":9559854,"body_markdown":"This Q is not clear. A constructor doesn&#39;t return anything.","body":"This Q is not clear. A constructor doesn&#39;t return anything."},{"owner":{"account_id":41031,"reputation":37399,"user_id":119159,"display_name":"Martin"},"score":2,"creation_date":1319136206,"post_id":7840541,"comment_id":9559888,"body_markdown":"You could use a factory method instead, i.e. `Foo foo = createNewFoo(...);`","body":"You could use a factory method instead, i.e. <code>Foo foo = createNewFoo(...);</code>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1319208883,"post_id":7840541,"comment_id":9574622,"body_markdown":"Why do you want to do that. There is no good reason to do so.","body":"Why do you want to do that. There is no good reason to do so."}],"answers":[{"tags":[],"owner":{"account_id":22973,"reputation":80348,"user_id":57191,"accept_rate":100,"display_name":"cwallenpoole"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1319135976,"creation_date":1319135976,"answer_id":7840564,"question_id":7840541,"body_markdown":"No, there is no way to have a new object be `null`. This, of course, assumes that there was not an error in the constructor, but if there is, then you will not be able to use the variable anyway.\r\n\r\nFor more information on the Class Instance Creation Expression, I recommend the [language specification][1].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.9","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>No, there is no way to have a new object be <code>null</code>. This, of course, assumes that there was not an error in the constructor, but if there is, then you will not be able to use the variable anyway.</p>\n\n<p>For more information on the Class Instance Creation Expression, I recommend the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.9\" rel=\"nofollow\">language specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319136014,"creation_date":1319136014,"answer_id":7840572,"question_id":7840541,"body_markdown":"No, this is not possible. By convention, if an object fails to initialize, an exception is thrown.","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>No, this is not possible. By convention, if an object fails to initialize, an exception is thrown.</p>\n"},{"tags":[],"owner":{"account_id":966946,"reputation":573,"user_id":990223,"display_name":"CamelSlack"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1319136030,"creation_date":1319136030,"answer_id":7840576,"question_id":7840541,"body_markdown":"Typically you would just have it throw an exception for this situation. You can easily write your own exception or just use something like `throw new Exception(&quot;foo failed to initialize&quot;);` and capture that.\r\n\r\nWriting your own Exception: http://www.javaplex.com/blog/java-creating-custom-exceptions/","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>Typically you would just have it throw an exception for this situation. You can easily write your own exception or just use something like <code>throw new Exception(\"foo failed to initialize\");</code> and capture that.</p>\n\n<p>Writing your own Exception: <a href=\"http://www.javaplex.com/blog/java-creating-custom-exceptions/\">http://www.javaplex.com/blog/java-creating-custom-exceptions/</a></p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319136126,"creation_date":1319136126,"answer_id":7840595,"question_id":7840541,"body_markdown":"No, this isn&#39;t possible - you can however throw a checked exception in the constructor which would need to be caught at the other end if you really want this type of behaviour.\r\n\r\nIn terms of dealing with errors in constructors a Java specialist newsletter looked at this topic a while back. Might be worth a read: http://www.javaspecialists.eu/archive/Issue120.html","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>No, this isn't possible - you can however throw a checked exception in the constructor which would need to be caught at the other end if you really want this type of behaviour.</p>\n\n<p>In terms of dealing with errors in constructors a Java specialist newsletter looked at this topic a while back. Might be worth a read: <a href=\"http://www.javaspecialists.eu/archive/Issue120.html\" rel=\"nofollow\">http://www.javaspecialists.eu/archive/Issue120.html</a></p>\n"},{"tags":[],"owner":{"account_id":240839,"reputation":2955,"user_id":511298,"accept_rate":83,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319136219,"creation_date":1319136219,"answer_id":7840616,"question_id":7840541,"body_markdown":"Does it have to be a constructor?  If this is truly what you need, why not use a function that can return a new instance of Foo or null?","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>Does it have to be a constructor?  If this is truly what you need, why not use a function that can return a new instance of Foo or null?</p>\n"},{"tags":[],"owner":{"account_id":948871,"reputation":41,"user_id":975484,"display_name":"user975484"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1319136309,"creation_date":1319136309,"answer_id":7840636,"question_id":7840541,"body_markdown":"No, constructors have no return value, but whenever you use &quot;new&quot; you get a create a reference to an object. I think what you want is this:\r\n\r\n\r\n    class Factory\r\n    {\r\n        static MyClass getMyClass()\r\n        {\r\n        if(true or false expression)\r\n            return new MyClass();\r\n        else if(true or false expression)\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\nand then you can create your class like this\r\n\r\n    MyClass bla = Factory.getMyClass();\r\n\r\n    if(null)\r\n        do something","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>No, constructors have no return value, but whenever you use \"new\" you get a create a reference to an object. I think what you want is this:</p>\n\n<pre><code>class Factory\n{\n    static MyClass getMyClass()\n    {\n    if(true or false expression)\n        return new MyClass();\n    else if(true or false expression)\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>and then you can create your class like this</p>\n\n<pre><code>MyClass bla = Factory.getMyClass();\n\nif(null)\n    do something\n</code></pre>\n"},{"tags":[],"owner":{"account_id":388401,"reputation":6292,"user_id":747320,"accept_rate":100,"display_name":"Basanth Roy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1319136390,"creation_date":1319136390,"answer_id":7840657,"question_id":7840541,"body_markdown":"I knew this is impossible; but just out of curiosity, I tried out a piece of code.\r\n\r\n\r\n    public class Test {\r\n    \r\n      public Test () {\r\n        this = null;\r\n      }\r\n    \r\n    }\r\n\r\n\r\nAnd of course it failed to compile since &quot;this&quot; is final.","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>I knew this is impossible; but just out of curiosity, I tried out a piece of code.</p>\n\n<pre><code>public class Test {\n\n  public Test () {\n    this = null;\n  }\n\n}\n</code></pre>\n\n<p>And of course it failed to compile since \"this\" is final.</p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319137071,"creation_date":1319137071,"answer_id":7840801,"question_id":7840541,"body_markdown":"No, it&#39;s not possible for a constructor to return null.  If there&#39;s a problem creating the object, then the constructor should throw an exception.\r\n\r\nTake the `FileInputStream` class for example.  This class is used to read data from a file.  If a non-existent file is passed into the constructor, it throws a `FileNotFoundException`:\r\n\r\n    try{\r\n      FileInputStream in = new FileInputStream(&quot;file.txt&quot;);\r\n    } catch (FileNotFoundException e){\r\n      System.out.println(&quot;File &#39;file.txt&#39; doesn&#39;t exist.&quot;);\r\n    }","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>No, it's not possible for a constructor to return null.  If there's a problem creating the object, then the constructor should throw an exception.</p>\n\n<p>Take the <code>FileInputStream</code> class for example.  This class is used to read data from a file.  If a non-existent file is passed into the constructor, it throws a <code>FileNotFoundException</code>:</p>\n\n<pre><code>try{\n  FileInputStream in = new FileInputStream(\"file.txt\");\n} catch (FileNotFoundException e){\n  System.out.println(\"File 'file.txt' doesn't exist.\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23782726,"reputation":441,"user_id":17795208,"display_name":"Display name"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644374504,"creation_date":1644374504,"answer_id":71043376,"question_id":7840541,"body_markdown":"11 years later and we still have the issue. To summarize the valid responses and add an idea as well:\r\n\r\nIdea 1: Create a wrapper class to work like a factory. This wrapper class will create new instances of the inner class if the data is valid. (by user975484)\r\n//Idea 1 is great if you are working solo, but if you are creating an object for a school or company project then you may not be allowed to use a factory.\r\n\r\nIdea 2: Throw an exception if data is invalid in the constructor. (by CamelSlack)\r\n//Idea 2 is great as well if the user catches and handles the error. However, you may not be allowed to use this method for school or company rules. I believe that this may be the best solution if you can use it.\r\n\r\nIdea 3: return null or default data from functions in the object after verifying data. In essence, run your data verification before running functions.\r\n//Idea 3 might be the only option for students and employees who are forced to follow an overly strict set of requirements. Really isn&#39;t useful unless idea 1 and 2 cannot be used.","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>11 years later and we still have the issue. To summarize the valid responses and add an idea as well:</p>\n<p>Idea 1: Create a wrapper class to work like a factory. This wrapper class will create new instances of the inner class if the data is valid. (by user975484)\n//Idea 1 is great if you are working solo, but if you are creating an object for a school or company project then you may not be allowed to use a factory.</p>\n<p>Idea 2: Throw an exception if data is invalid in the constructor. (by CamelSlack)\n//Idea 2 is great as well if the user catches and handles the error. However, you may not be allowed to use this method for school or company rules. I believe that this may be the best solution if you can use it.</p>\n<p>Idea 3: return null or default data from functions in the object after verifying data. In essence, run your data verification before running functions.\n//Idea 3 might be the only option for students and employees who are forced to follow an overly strict set of requirements. Really isn't useful unless idea 1 and 2 cannot be used.</p>\n"}],"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5237,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7840576,"answer_count":9,"score":3,"last_activity_date":1644374504,"creation_date":1319135861,"question_id":7840541,"body_markdown":"I have a feeling the answer is &quot;no&quot; but thought I&#39;d ask just in case...\r\n\r\npseudo code:\r\n\r\n    Foo foo = new Foo();\r\n    \r\n    if(foo != null){\r\n        foo.useMe();\r\n    }else{\r\n       System.out.println(&quot;foo failed to initialize&quot;);\r\n    }\r\n\r\nWhat would I have to do in Foo to make this a reality? \r\n","title":"Is there a way to have a constructor return an object that == null in Java?","body":"<p>I have a feeling the answer is \"no\" but thought I'd ask just in case...</p>\n\n<p>pseudo code:</p>\n\n<pre><code>Foo foo = new Foo();\n\nif(foo != null){\n    foo.useMe();\n}else{\n   System.out.println(\"foo failed to initialize\");\n}\n</code></pre>\n\n<p>What would I have to do in Foo to make this a reality? </p>\n"},{"tags":["java","jakarta-mail","mime","mime-message"],"answers":[{"tags":[],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1592316759,"creation_date":1592313691,"answer_id":62409532,"question_id":62408990,"body_markdown":"Not quite sure about your email structure. But be aware that multiparts can be nested - so you&#39;ll have to go all the way down in your search for the body. And with mutlipart/alternative, there might be more than one body.\r\n\r\nIn your case, you could be looking at\r\n\r\n    multipart/mixed\r\n      multipart/alternative\r\n        text/plain\r\n        text/html\r\n    attachment\r\n\r\nkind of structure. So the first multipart really does not include the body.\r\nConsider this code:\r\n\r\n    public void seperateBodyAndAttachments(MimeMessage mm) throws MessagingException, IOException {\r\n       String mimeType = message.getContentType();\r\n       System.out.println(&quot;Message is a &quot; + mimeType);  \r\n       Object content = mm.getContent();\r\n\t   if(content instanceof String) {\r\n\t\t System.out.println(&quot;Body: &quot; + content);\r\n\t   } else if(content instanceof MimeMultipart) {\t\t\t\t\r\n\t\t MimeMultipart multi = (MimeMultipart)content;\r\n\t\t System.out.println(&quot;We have a &quot;+ multi.getContentType());\t\t\t\t\r\n\t\t for(int i = 0; i &lt; multi.getCount(); ++i) {\r\n\t\t\tBodyPart bo = multi.getBodyPart(i);\r\n\t\t\tSystem.out.println(&quot;Content &quot;+i+&quot; is a &quot; + bo.getContentType());\r\n\t\t\t//Now that body part could again be a MimeMultipart...\r\n\t\t\tObject bodyContent = bo.getContent();\r\n\t\t\t//possibly build a recurion here -&gt; the logic is the same as for mm.getContent() above\r\n  \t\t  }\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Some other content: &quot; + content.getClass().getName());\r\n\t\t}\r\n    }\r\n\r\nIn your case, the confusion comes from adding body-part twice:\r\n\r\n        // This is the object created\r\n        BodyPart messageBodyPart = new MimeBodyPart();\r\n        messageBodyPart.setText(&quot;This is a message body&quot;);\r\n\r\n        Multipart multipart = new MimeMultipart();\r\n\r\n        // you add a reference to this object into the multipart\r\n        multipart.addBodyPart(messageBodyPart);\r\n\r\n        \r\n        DataSource source = new FileDataSource(new File(System.getProperty(&quot;user.dir&quot;).concat(&quot;\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\CustomerEngineer.png&quot;)));\r\n\r\n        //you CHANGE THE CONTENTS of the object to now contain your attachment\r\n        messageBodyPart.setDataHandler(new DataHandler(source));\r\n        messageBodyPart.setFileName(&quot;CustomerEngineer.ahmet&quot;);\r\n        \r\n        //and add it a second time.\r\n        multipart.addBodyPart(messageBodyPart);\r\n\r\nMaybe try this for sending:\r\n\r\n            // Set Subject\r\n\t        message.setSubject(&quot;Hi JAXenter&quot;);\r\n\r\n\t        \r\n\t        Multipart multipart = new MimeMultipart(&quot;mixed&quot;);\r\n\t        //Add Text Part\t        \r\n\t        BodyPart textBodyPart = new MimeBodyPart();\r\n\t        textBodyPart.setContent(&quot;This is a message body&quot;, &quot;text/plain&quot;);\r\n\t        multipart.addBodyPart(textBodyPart);\r\n\r\n\t        //Add attachment\r\n\t        DataSource source = new FileDataSource(new File(System.getProperty(&quot;user.dir&quot;).concat(&quot;\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\CustomerEngineer.png&quot;)));\r\n\t        BodyPart messageBodyPart = new MimeBodyPart();\r\n\t        messageBodyPart.setDataHandler(new DataHandler(source));\r\n\t        messageBodyPart.setFileName(&quot;CustomerEngineer.ahmet&quot;);\r\n\t        multipart.addBodyPart(messageBodyPart);\r\n\r\n\t        //Set this as message content\r\n\t        message.setContent(multipart);\r\n\t        \r\n\t        \r\n\t        \r\n\t        //This will show you internal structure of your message! D\r\n\t        message.saveChanges();\r\n\t        message.writeTo(System.out);\r\n\r\n            Transport.send(message);\t        \r\n\r\n\r\n","title":"How to get email body text and attachments using mimemessage class in java","body":"<p>Not quite sure about your email structure. But be aware that multiparts can be nested - so you'll have to go all the way down in your search for the body. And with mutlipart/alternative, there might be more than one body.</p>\n\n<p>In your case, you could be looking at</p>\n\n<pre><code>multipart/mixed\n  multipart/alternative\n    text/plain\n    text/html\nattachment\n</code></pre>\n\n<p>kind of structure. So the first multipart really does not include the body.\nConsider this code:</p>\n\n<pre><code>public void seperateBodyAndAttachments(MimeMessage mm) throws MessagingException, IOException {\n   String mimeType = message.getContentType();\n   System.out.println(\"Message is a \" + mimeType);  \n   Object content = mm.getContent();\n   if(content instanceof String) {\n     System.out.println(\"Body: \" + content);\n   } else if(content instanceof MimeMultipart) {                \n     MimeMultipart multi = (MimeMultipart)content;\n     System.out.println(\"We have a \"+ multi.getContentType());              \n     for(int i = 0; i &lt; multi.getCount(); ++i) {\n        BodyPart bo = multi.getBodyPart(i);\n        System.out.println(\"Content \"+i+\" is a \" + bo.getContentType());\n        //Now that body part could again be a MimeMultipart...\n        Object bodyContent = bo.getContent();\n        //possibly build a recurion here -&gt; the logic is the same as for mm.getContent() above\n      }\n    } else {\n        System.out.println(\"Some other content: \" + content.getClass().getName());\n    }\n}\n</code></pre>\n\n<p>In your case, the confusion comes from adding body-part twice:</p>\n\n<pre><code>    // This is the object created\n    BodyPart messageBodyPart = new MimeBodyPart();\n    messageBodyPart.setText(\"This is a message body\");\n\n    Multipart multipart = new MimeMultipart();\n\n    // you add a reference to this object into the multipart\n    multipart.addBodyPart(messageBodyPart);\n\n\n    DataSource source = new FileDataSource(new File(System.getProperty(\"user.dir\").concat(\"\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\CustomerEngineer.png\")));\n\n    //you CHANGE THE CONTENTS of the object to now contain your attachment\n    messageBodyPart.setDataHandler(new DataHandler(source));\n    messageBodyPart.setFileName(\"CustomerEngineer.ahmet\");\n\n    //and add it a second time.\n    multipart.addBodyPart(messageBodyPart);\n</code></pre>\n\n<p>Maybe try this for sending:</p>\n\n<pre><code>        // Set Subject\n        message.setSubject(\"Hi JAXenter\");\n\n\n        Multipart multipart = new MimeMultipart(\"mixed\");\n        //Add Text Part         \n        BodyPart textBodyPart = new MimeBodyPart();\n        textBodyPart.setContent(\"This is a message body\", \"text/plain\");\n        multipart.addBodyPart(textBodyPart);\n\n        //Add attachment\n        DataSource source = new FileDataSource(new File(System.getProperty(\"user.dir\").concat(\"\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\CustomerEngineer.png\")));\n        BodyPart messageBodyPart = new MimeBodyPart();\n        messageBodyPart.setDataHandler(new DataHandler(source));\n        messageBodyPart.setFileName(\"CustomerEngineer.ahmet\");\n        multipart.addBodyPart(messageBodyPart);\n\n        //Set this as message content\n        message.setContent(multipart);\n\n\n\n        //This will show you internal structure of your message! D\n        message.saveChanges();\n        message.writeTo(System.out);\n\n        Transport.send(message);            \n</code></pre>\n"},{"tags":[],"owner":{"account_id":213874,"reputation":22203,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644373886,"creation_date":1644373886,"answer_id":71043322,"question_id":62408990,"body_markdown":"In my case I needed to extract a `MimeBodyPart` from a `MimeMessage`. It was trickier than I thought but I ended up robbing these 2 methods from [BouncyCastle][1]\r\n\r\n     /**\r\n     * extract an appropriate body part from the passed in MimeMessage\r\n     */\r\n    protected MimeBodyPart makeContentBodyPart(\r\n        MimeMessage message)\r\n        throws SMIMEException\r\n    {\r\n        MimeBodyPart content = new MimeBodyPart();\r\n        //\r\n        // add the headers to the body part.\r\n        //\r\n        try\r\n        {\r\n            message.removeHeader(&quot;Message-Id&quot;);\r\n            message.removeHeader(&quot;Mime-Version&quot;);\r\n\r\n            // JavaMail has a habit of reparsing some content types, if the bodypart is\r\n            // a multipart it might be signed, we rebuild the body part using the raw input stream for the message.\r\n            try\r\n            {\r\n                if (message.getContent() instanceof Multipart)\r\n                {\r\n                    content.setContent(message.getRawInputStream(), message.getContentType());\r\n                    extractHeaders(content, message);\r\n                    return content;\r\n                }\r\n            }\r\n            catch (MessagingException e)\r\n            {\r\n                // fall back to usual method below\r\n            }\r\n            content.setContent(message.getContent(), message.getContentType());\r\n            content.setDataHandler(message.getDataHandler());\r\n            extractHeaders(content, message);\r\n        }\r\n        catch (MessagingException e)\r\n        {\r\n            throw new SMIMEException(&quot;exception saving message state.&quot;, e);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            throw new SMIMEException(&quot;exception getting message content.&quot;, e);\r\n        }\r\n\r\n        return content;\r\n    }\r\n\r\n    private void extractHeaders(MimeBodyPart content, MimeMessage message)\r\n        throws MessagingException\r\n    {\r\n        Enumeration e = message.getAllHeaders();\r\n\r\n        while (e.hasMoreElements())\r\n        {\r\n            Header hdr = (Header)e.nextElement();\r\n            content.addHeader(hdr.getName(), hdr.getValue());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/bcgit/bc-java/blob/master/mail/src/main/java/org/bouncycastle/mail/smime/SMIMEGenerator.java#L124","title":"How to get email body text and attachments using mimemessage class in java","body":"<p>In my case I needed to extract a <code>MimeBodyPart</code> from a <code>MimeMessage</code>. It was trickier than I thought but I ended up robbing these 2 methods from <a href=\"https://github.com/bcgit/bc-java/blob/master/mail/src/main/java/org/bouncycastle/mail/smime/SMIMEGenerator.java#L124\" rel=\"nofollow noreferrer\">BouncyCastle</a></p>\n<pre><code> /**\n * extract an appropriate body part from the passed in MimeMessage\n */\nprotected MimeBodyPart makeContentBodyPart(\n    MimeMessage message)\n    throws SMIMEException\n{\n    MimeBodyPart content = new MimeBodyPart();\n    //\n    // add the headers to the body part.\n    //\n    try\n    {\n        message.removeHeader(&quot;Message-Id&quot;);\n        message.removeHeader(&quot;Mime-Version&quot;);\n\n        // JavaMail has a habit of reparsing some content types, if the bodypart is\n        // a multipart it might be signed, we rebuild the body part using the raw input stream for the message.\n        try\n        {\n            if (message.getContent() instanceof Multipart)\n            {\n                content.setContent(message.getRawInputStream(), message.getContentType());\n                extractHeaders(content, message);\n                return content;\n            }\n        }\n        catch (MessagingException e)\n        {\n            // fall back to usual method below\n        }\n        content.setContent(message.getContent(), message.getContentType());\n        content.setDataHandler(message.getDataHandler());\n        extractHeaders(content, message);\n    }\n    catch (MessagingException e)\n    {\n        throw new SMIMEException(&quot;exception saving message state.&quot;, e);\n    }\n    catch (IOException e)\n    {\n        throw new SMIMEException(&quot;exception getting message content.&quot;, e);\n    }\n\n    return content;\n}\n\nprivate void extractHeaders(MimeBodyPart content, MimeMessage message)\n    throws MessagingException\n{\n    Enumeration e = message.getAllHeaders();\n\n    while (e.hasMoreElements())\n    {\n        Header hdr = (Header)e.nextElement();\n        content.addHeader(hdr.getName(), hdr.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5568337,"reputation":614,"user_id":4414667,"display_name":"Ahmet Eroğlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62409532,"answer_count":2,"score":0,"last_activity_date":1644373886,"creation_date":1592311983,"question_id":62408990,"body_markdown":"In my SMTP server code, I have a MimeMessage instance that I want to use for extracting the incoming mailbody(mail text) and mail attachments. To do this, I use the below implementation on client and server sides. However, I am only able to retrieve mail attachments. The code somehow detects CustomerEngineer.ahmet thing two times and none of them contains the mail body which is : &quot;This is a message body&quot;.  I can retrieve the image though.\r\n\r\nIn my java mail client, I created a mail with the following schema:\r\n\r\n    try {\r\n\t\t\t// Create a default MimeMessage object\r\n\t\t\tMessage message = new MimeMessage(session);\r\n\r\n\t\t\tmessage.setFrom(new InternetAddress(from));\r\n\r\n\t\t\tmessage.setRecipients(Message.RecipientType.TO, InternetAddress.parse(to));\r\n\r\n\t\t\t// Set Subject\r\n\t\t\tmessage.setSubject(&quot;Hi JAXenter&quot;);\r\n\r\n\t\t\tBodyPart messageBodyPart = new MimeBodyPart();\r\n\t\t\t\r\n\t\t\tmessageBodyPart.setText(&quot;This is a message body&quot;);\r\n\t\t\t\r\n\t\t\tMultipart multipart = new MimeMultipart();\r\n\t\t\t\r\n\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\r\n\t\t    DataSource source = new FileDataSource(new File(System.getProperty(&quot;user.dir&quot;).concat(&quot;\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\CustomerEngineer.png&quot;)));\r\n\t\t    messageBodyPart.setDataHandler(new DataHandler(source));\r\n\t\t    messageBodyPart.setFileName(&quot;CustomerEngineer.ahmet&quot;);\r\n\t\t    multipart.addBodyPart(messageBodyPart);\r\n\t\t    \r\n\t\t    message.setContent(multipart);\r\n\t\t\t\r\n\t\t\t// Send message\r\n\t\t\tTransport.send(message);\r\n\r\n\t\t\tSystem.out.println(&quot;Sent message successfully....&quot;);\r\n\r\n\t\t} catch (MessagingException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\nOn my server side I use the following logic: \r\n\r\n   \r\n\r\n     MimeMessage message = new MimeMessage(session, data);\r\n\r\n    public void seperateBodyAndAttachments(MimeMessage message) throws MessagingException, IOException {\r\n        String mimeType = message.getContentType();\r\n        Date dt = new Date();\r\n\r\n        if (message.isMimeType(&quot;text/*&quot;)) {\r\n            System.out.println(&quot;this containst a text file&quot;);\r\n        }  else if (message.isMimeType(&quot;multipart/*&quot;)) {\r\n            Multipart mp = (Multipart) message.getContent();\r\n            int idx = 0;\r\n            int count = mp.getCount();\r\n            for (int i = 0; i &lt; count; i++) {\r\n                BodyPart part = mp.getBodyPart(i);\r\n                String name = part.getDataHandler().getName();\r\n                if (part.isMimeType(&quot;text/*&quot;)) {\r\n                    if (name == null) {\r\n                        name = &quot;text-&quot; + (++idx) + &quot;.txt&quot;;\r\n                    }\r\n                    System.out.println(name);\r\n                } else {\r\n                    if (name == null) {\r\n                        name = &quot;attachment-&quot; + (++idx);\r\n                    }\r\n                    FileOutputStream fos = new FileOutputStream(System.getProperty(&quot;user.dir&quot;).concat(&quot;\\\\src\\\\main\\\\resources\\\\DevEnvironmentConfigFile\\\\&quot; + name));\r\n                    BufferedOutputStream bos = new BufferedOutputStream(fos);\r\n                    part.getDataHandler().writeTo(bos);\r\n                    bos.close();\r\n                }\r\n            }\r\n        } else if (message.isMimeType(&quot;message/rfc822&quot;)) {\r\n            // Not implemented\r\n        } else {\r\n            Object o = message.getContent();\r\n            if (o instanceof String) {\r\n                FileWriter fw = new FileWriter(System.getProperty(&quot;user.dir&quot;).concat(&quot;\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\downloads\\\\&quot;  + &quot;text.txt&quot;));\r\n                BufferedWriter bw = new BufferedWriter(fw);\r\n                bw.write((String)o);\r\n                bw.close();\r\n            } else if (o instanceof InputStream) {\r\n                FileOutputStream fos = new FileOutputStream(System.getProperty(&quot;user.dir&quot;).concat(&quot;\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\downloads\\\\&quot;  +&quot;message.dat&quot;));\r\n                BufferedOutputStream bos = new BufferedOutputStream(fos);\r\n                message.getDataHandler().writeTo(bos);\r\n                bos.close();\r\n            } else {\r\n                FileWriter fw = new FileWriter(System.getProperty(&quot;user.dir&quot;).concat(&quot;\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\downloads\\\\&quot;  +&quot;unknown.txt&quot;));\r\n                BufferedWriter bw = new BufferedWriter(fw);\r\n                bw.write((String)o);\r\n                bw.close();\r\n            }\r\n        }\r\n    }","title":"How to get email body text and attachments using mimemessage class in java","body":"<p>In my SMTP server code, I have a MimeMessage instance that I want to use for extracting the incoming mailbody(mail text) and mail attachments. To do this, I use the below implementation on client and server sides. However, I am only able to retrieve mail attachments. The code somehow detects CustomerEngineer.ahmet thing two times and none of them contains the mail body which is : \"This is a message body\".  I can retrieve the image though.</p>\n\n<p>In my java mail client, I created a mail with the following schema:</p>\n\n<pre><code>try {\n        // Create a default MimeMessage object\n        Message message = new MimeMessage(session);\n\n        message.setFrom(new InternetAddress(from));\n\n        message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(to));\n\n        // Set Subject\n        message.setSubject(\"Hi JAXenter\");\n\n        BodyPart messageBodyPart = new MimeBodyPart();\n\n        messageBodyPart.setText(\"This is a message body\");\n\n        Multipart multipart = new MimeMultipart();\n\n        multipart.addBodyPart(messageBodyPart);\n\n        DataSource source = new FileDataSource(new File(System.getProperty(\"user.dir\").concat(\"\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\CustomerEngineer.png\")));\n        messageBodyPart.setDataHandler(new DataHandler(source));\n        messageBodyPart.setFileName(\"CustomerEngineer.ahmet\");\n        multipart.addBodyPart(messageBodyPart);\n\n        message.setContent(multipart);\n\n        // Send message\n        Transport.send(message);\n\n        System.out.println(\"Sent message successfully....\");\n\n    } catch (MessagingException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n\n<p>On my server side I use the following logic: </p>\n\n<pre><code> MimeMessage message = new MimeMessage(session, data);\n\npublic void seperateBodyAndAttachments(MimeMessage message) throws MessagingException, IOException {\n    String mimeType = message.getContentType();\n    Date dt = new Date();\n\n    if (message.isMimeType(\"text/*\")) {\n        System.out.println(\"this containst a text file\");\n    }  else if (message.isMimeType(\"multipart/*\")) {\n        Multipart mp = (Multipart) message.getContent();\n        int idx = 0;\n        int count = mp.getCount();\n        for (int i = 0; i &lt; count; i++) {\n            BodyPart part = mp.getBodyPart(i);\n            String name = part.getDataHandler().getName();\n            if (part.isMimeType(\"text/*\")) {\n                if (name == null) {\n                    name = \"text-\" + (++idx) + \".txt\";\n                }\n                System.out.println(name);\n            } else {\n                if (name == null) {\n                    name = \"attachment-\" + (++idx);\n                }\n                FileOutputStream fos = new FileOutputStream(System.getProperty(\"user.dir\").concat(\"\\\\src\\\\main\\\\resources\\\\DevEnvironmentConfigFile\\\\\" + name));\n                BufferedOutputStream bos = new BufferedOutputStream(fos);\n                part.getDataHandler().writeTo(bos);\n                bos.close();\n            }\n        }\n    } else if (message.isMimeType(\"message/rfc822\")) {\n        // Not implemented\n    } else {\n        Object o = message.getContent();\n        if (o instanceof String) {\n            FileWriter fw = new FileWriter(System.getProperty(\"user.dir\").concat(\"\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\downloads\\\\\"  + \"text.txt\"));\n            BufferedWriter bw = new BufferedWriter(fw);\n            bw.write((String)o);\n            bw.close();\n        } else if (o instanceof InputStream) {\n            FileOutputStream fos = new FileOutputStream(System.getProperty(\"user.dir\").concat(\"\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\downloads\\\\\"  +\"message.dat\"));\n            BufferedOutputStream bos = new BufferedOutputStream(fos);\n            message.getDataHandler().writeTo(bos);\n            bos.close();\n        } else {\n            FileWriter fw = new FileWriter(System.getProperty(\"user.dir\").concat(\"\\\\src\\\\main\\\\java\\\\emailrelayserver\\\\downloads\\\\\"  +\"unknown.txt\"));\n            BufferedWriter bw = new BufferedWriter(fw);\n            bw.write((String)o);\n            bw.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","groovy"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1644349117,"post_id":71037370,"comment_id":125582244,"body_markdown":"I wouldn&#39;t expect `taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208]` to work because that is an `ArrayList`.  Does `taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208] as int[]` work?","body":"I wouldn&#39;t expect <code>taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208]</code> to work because that is an <code>ArrayList</code>.  Does <code>taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208] as int[]</code> work?"}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644373572,"creation_date":1644373572,"answer_id":71043289,"question_id":71037370,"body_markdown":"Use [`ListProperty&lt;Integer&gt;`](https://docs.gradle.org/current/javadoc/org/gradle/api/provider/ListProperty.html) instead:\r\n\r\n    plugins {\r\n        id(&quot;java&quot;)\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    abstract class MyTask extends DefaultTask {\r\n    \r\n        @Input\r\n        protected abstract ListProperty&lt;Integer&gt; getTaxonomyElementIds();\r\n    \r\n        @TaskAction\r\n        void generate() {\r\n            taxonomyElementIds.get().each {\r\n                println it\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    tasks.register(&quot;myTask&quot;, MyTask) {\r\n        taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208]\r\n    }\r\n\r\nOutput of the above:\r\n\r\n    &gt; Task :myTask\r\n    200\r\n    201\r\n    202\r\n    203\r\n    204\r\n    205\r\n    206\r\n    207\r\n    208","title":"Authoring Gradle task with int[] input property","body":"<p>Use <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/provider/ListProperty.html\" rel=\"nofollow noreferrer\"><code>ListProperty&lt;Integer&gt;</code></a> instead:</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n}\n\nrepositories {\n    mavenCentral()\n}\n\nabstract class MyTask extends DefaultTask {\n\n    @Input\n    protected abstract ListProperty&lt;Integer&gt; getTaxonomyElementIds();\n\n    @TaskAction\n    void generate() {\n        taxonomyElementIds.get().each {\n            println it\n        }\n    }\n\n}\n\ntasks.register(&quot;myTask&quot;, MyTask) {\n    taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208]\n}\n</code></pre>\n<p>Output of the above:</p>\n<pre><code>&gt; Task :myTask\n200\n201\n202\n203\n204\n205\n206\n207\n208\n</code></pre>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71043289,"answer_count":1,"score":1,"last_activity_date":1644373572,"creation_date":1644337785,"question_id":71037370,"body_markdown":"I am authoring a Gradle task that needs to work on an array of integers (dispatching a job for each value).\r\n\r\nI don&#39;t understand how to properly use `Property&lt;T&gt;` to accept a Groovy array syntax.\r\n\r\nThe following does not work\r\n\r\nInside Task.java\r\n\r\n    /**\r\n     * Element IDs to download\r\n     */\r\n    @Input\r\n    protected abstract Property&lt;Integer[]&gt; getTaxonomyElementIds();\r\n\r\n\r\nInside build.gradle\r\n\r\n    taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208]\r\n\r\n\r\nError\r\n\r\n    Cannot set the value of task &#39;:downloadMasterDb&#39; property &#39;taxonomyElementIds&#39; of type [Ljava.lang.Integer; using an instance of type java.util.ArrayList.\r\n\r\n\r\n\r\nThe following workaround works, but I prefer a cleaner Groovy syntax\r\n\r\n        taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208].toArray(Integer[]::new)\r\n\r\n\r\nI also tried to change the type of the property to `List&lt;Integer&gt;` (which essentially doesn&#39;t change my task code) but doesn&#39;t work.\r\n\r\nHow can I change my property in order to accept the Groovy array/list syntax?","title":"Authoring Gradle task with int[] input property","body":"<p>I am authoring a Gradle task that needs to work on an array of integers (dispatching a job for each value).</p>\n<p>I don't understand how to properly use <code>Property&lt;T&gt;</code> to accept a Groovy array syntax.</p>\n<p>The following does not work</p>\n<p>Inside Task.java</p>\n<pre><code>/**\n * Element IDs to download\n */\n@Input\nprotected abstract Property&lt;Integer[]&gt; getTaxonomyElementIds();\n</code></pre>\n<p>Inside build.gradle</p>\n<pre><code>taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208]\n</code></pre>\n<p>Error</p>\n<pre><code>Cannot set the value of task ':downloadMasterDb' property 'taxonomyElementIds' of type [Ljava.lang.Integer; using an instance of type java.util.ArrayList.\n</code></pre>\n<p>The following workaround works, but I prefer a cleaner Groovy syntax</p>\n<pre><code>    taxonomyElementIds = [200, 201, 202, 203, 204, 205, 206, 207, 208].toArray(Integer[]::new)\n</code></pre>\n<p>I also tried to change the type of the property to <code>List&lt;Integer&gt;</code> (which essentially doesn't change my task code) but doesn't work.</p>\n<p>How can I change my property in order to accept the Groovy array/list syntax?</p>\n"},{"tags":["java","struts2","pattern-matching","mapping","wildcard"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1461744795,"post_id":36882538,"comment_id":61332911,"body_markdown":"What is `/hello`? Is it a context path?","body":"What is <code>&#47;hello</code>? Is it a context path?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1461747020,"post_id":36882538,"comment_id":61334393,"body_markdown":"See https://struts.apache.org/docs/action-configuration.html#ActionConfiguration-WildcardDefault.","body":"See <a href=\"https://struts.apache.org/docs/action-configuration.html#ActionConfiguration-WildcardDefault\" rel=\"nofollow noreferrer\">struts.apache.org/docs/&hellip;</a>."},{"owner":{"account_id":1398858,"reputation":137,"user_id":1328011,"accept_rate":50,"display_name":"Jiro Manio"},"score":0,"creation_date":1461747525,"post_id":36882538,"comment_id":61334752,"body_markdown":"@RomanC I&#39;m not sure about the meaning of context path. the /hello can be any word, i need to query it if exists in the database. the next slash are actions","body":"@RomanC I&#39;m not sure about the meaning of context path. the /hello can be any word, i need to query it if exists in the database. the next slash are actions"},{"owner":{"account_id":1398858,"reputation":137,"user_id":1328011,"accept_rate":50,"display_name":"Jiro Manio"},"score":0,"creation_date":1461747915,"post_id":36882538,"comment_id":61335027,"body_markdown":"@AleksandrM hm but the default wont work for me since I need to have specific actions on the last slash (eg: postPreview1, hi). I&#39;m just baffled that my wildcards are working on a different way that were declared in the doc","body":"@AleksandrM hm but the default wont work for me since I need to have specific actions on the last slash (eg: postPreview1, hi). I&#39;m just baffled that my wildcards are working on a different way that were declared in the doc"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1461748323,"post_id":36882538,"comment_id":61335291,"body_markdown":"Why it is different? Your `/*/*` looks similar to `*`.","body":"Why it is different? Your <code>&#47;*&#47;*</code> looks similar to <code>*</code>."},{"owner":{"account_id":1398858,"reputation":137,"user_id":1328011,"accept_rate":50,"display_name":"Jiro Manio"},"score":0,"creation_date":1461748641,"post_id":36882538,"comment_id":61335486,"body_markdown":"does it work that way? I wanted to &quot;force&quot; it so that the /*/* will trigger if and only if there are two slashes because i need the two variables ({1}, {2})","body":"does it work that way? I wanted to &quot;force&quot; it so that the /*/* will trigger if and only if there are two slashes because i need the two variables ({1}, {2})"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1461748890,"post_id":36882538,"comment_id":61335642,"body_markdown":"@JiroManio No, it doesn&#39;t work that way.","body":"@JiroManio No, it doesn&#39;t work that way."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1461748894,"post_id":36882538,"comment_id":61335643,"body_markdown":"Read the docs. -&gt; *It&#39;s important to put a &quot;catchall&quot; wildcard mapping like this at the end of your configuration so it won&#39;t attempt to map every request!*","body":"Read the docs. -&gt; <i>It&#39;s important to put a &quot;catchall&quot; wildcard mapping like this at the end of your configuration so it won&#39;t attempt to map every request!</i>"},{"owner":{"account_id":1398858,"reputation":137,"user_id":1328011,"accept_rate":50,"display_name":"Jiro Manio"},"score":0,"creation_date":1461749245,"post_id":36882538,"comment_id":61335887,"body_markdown":"Hm thanks. I&#39;ve added it. Will play around it again","body":"Hm thanks. I&#39;ve added it. Will play around it again"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1461749528,"post_id":36882538,"comment_id":61336104,"body_markdown":"The ball to your gate http://stackoverflow.com/q/26741967/573032","body":"The ball to your gate <a href=\"http://stackoverflow.com/q/26741967/573032\">stackoverflow.com/q/26741967/573032</a>"},{"owner":{"account_id":1398858,"reputation":137,"user_id":1328011,"accept_rate":50,"display_name":"Jiro Manio"},"score":0,"creation_date":1461749979,"post_id":36882538,"comment_id":61336470,"body_markdown":"@RomanC oh so that&#39;s how. Thanks. Can you post an answer, or tag this question as duplicate?","body":"@RomanC oh so that&#39;s how. Thanks. Can you post an answer, or tag this question as duplicate?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1461752757,"post_id":36882538,"comment_id":61338510,"body_markdown":"@JiroManio Done. See the answer below.","body":"@JiroManio Done. See the answer below."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1616389112,"creation_date":1461752706,"answer_id":36887123,"question_id":36882538,"body_markdown":"You are using slashes in action name, that incorrectly works with wildcard mapper. As I said in the linked [answer][1], the best pattern matcher in this case is the `regex` pattern matcher.\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\r\n\r\nSee [Advanced Wildcards][2].\r\n\r\n    &lt;action name=&quot;/{blogSiteUrl}/{test}&quot; class=&quot;checkBlogUrl&quot; method=&quot;testing&quot;&gt;\r\n        &lt;result name=&quot;success&quot;&gt;/WEB-INF/jsp/cmsPages/index.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\n    &lt;action name=&quot;/{blogSiteUrl}/postPreview1&quot; class=&quot;blogPostAction&quot; method=&quot;test&quot;&gt;\r\n        &lt;result name=&quot;success&quot;&gt;/WEB-INF/jsp/cmsPages/templatePicker.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nAbout docs for wildcard mapper. Lets look at the example *blank* application:\r\n\r\n    &lt;package name=&quot;example&quot; namespace=&quot;/example&quot; extends=&quot;default&quot;&gt;\r\n\r\n        &lt;action name=&quot;HelloWorld&quot; class=&quot;example.HelloWorld&quot;&gt;\r\n            &lt;result&gt;/WEB-INF/jsp/example/HelloWorld.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n\r\n        &lt;action name=&quot;Login_*&quot; method=&quot;{1}&quot; class=&quot;example.Login&quot;&gt;\r\n            &lt;result name=&quot;input&quot;&gt;/WEB-INF/jsp/example/Login.jsp&lt;/result&gt;\r\n            &lt;result type=&quot;redirectAction&quot;&gt;Menu&lt;/result&gt;\r\n        &lt;/action&gt;\r\n\r\n        &lt;action name=&quot;*&quot; class=&quot;example.ExampleSupport&quot;&gt;\r\n            &lt;result&gt;/WEB-INF/jsp/example/{1}.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n\r\n        &lt;!-- Add actions here --&gt;\r\n    &lt;/package&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nSo URLs will be matched in the order:\r\n\r\n1. `http://localhost:8080/example/HelloWorld`\r\n2. `http://localhost:8080/example/Login_input`\r\n3. `http://localhost:8080/example/Register`\r\n\r\nI would say that more specific mapping goes before less specific/common mapping and it wins because it&#39;s found first in the order of action configs. Everything that doesn&#39;t match the ordered configs fall into last mapping which is less specific.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26747410/573032\r\n  [2]: https://struts.apache.org/core-developers/wildcard-mappings#advanced-wildcards","title":"Struts2 Wildcard Mapping - more specific one is being handled by generic one","body":"<p>You are using slashes in action name, that incorrectly works with wildcard mapper. As I said in the linked <a href=\"https://stackoverflow.com/a/26747410/573032\">answer</a>, the best pattern matcher in this case is the <code>regex</code> pattern matcher.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\n</code></pre>\n<p>See <a href=\"https://struts.apache.org/core-developers/wildcard-mappings#advanced-wildcards\" rel=\"nofollow noreferrer\">Advanced Wildcards</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;/{blogSiteUrl}/{test}&quot; class=&quot;checkBlogUrl&quot; method=&quot;testing&quot;&gt;\n    &lt;result name=&quot;success&quot;&gt;/WEB-INF/jsp/cmsPages/index.jsp&lt;/result&gt;\n&lt;/action&gt;\n\n&lt;action name=&quot;/{blogSiteUrl}/postPreview1&quot; class=&quot;blogPostAction&quot; method=&quot;test&quot;&gt;\n    &lt;result name=&quot;success&quot;&gt;/WEB-INF/jsp/cmsPages/templatePicker.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<hr />\n<p>About docs for wildcard mapper. Lets look at the example <em>blank</em> application:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;package name=&quot;example&quot; namespace=&quot;/example&quot; extends=&quot;default&quot;&gt;\n\n    &lt;action name=&quot;HelloWorld&quot; class=&quot;example.HelloWorld&quot;&gt;\n        &lt;result&gt;/WEB-INF/jsp/example/HelloWorld.jsp&lt;/result&gt;\n    &lt;/action&gt;\n\n    &lt;action name=&quot;Login_*&quot; method=&quot;{1}&quot; class=&quot;example.Login&quot;&gt;\n        &lt;result name=&quot;input&quot;&gt;/WEB-INF/jsp/example/Login.jsp&lt;/result&gt;\n        &lt;result type=&quot;redirectAction&quot;&gt;Menu&lt;/result&gt;\n    &lt;/action&gt;\n\n    &lt;action name=&quot;*&quot; class=&quot;example.ExampleSupport&quot;&gt;\n        &lt;result&gt;/WEB-INF/jsp/example/{1}.jsp&lt;/result&gt;\n    &lt;/action&gt;\n\n    &lt;!-- Add actions here --&gt;\n&lt;/package&gt;\n</code></pre>\n<hr />\n<p>So URLs will be matched in the order:</p>\n<ol>\n<li><code>http://localhost:8080/example/HelloWorld</code></li>\n<li><code>http://localhost:8080/example/Login_input</code></li>\n<li><code>http://localhost:8080/example/Register</code></li>\n</ol>\n<p>I would say that more specific mapping goes before less specific/common mapping and it wins because it's found first in the order of action configs. Everything that doesn't match the ordered configs fall into last mapping which is less specific.</p>\n"},{"tags":[],"owner":{"account_id":10992847,"reputation":1274,"user_id":8076143,"display_name":"Kavin Raju S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644373066,"creation_date":1644373066,"answer_id":71043245,"question_id":36882538,"body_markdown":"In your case,from the official docs,\r\n\r\n`Mappings are matched against the request in the order they appear in the framework’s configuration file. If more than one pattern matches the last one wins, so less specific patterns must appear before more specific ones. However, if the request URL can be matched against a path without any wildcards in it, no wildcard matching is performed and order is not important.`  \r\n\r\nhttps://struts.apache.org/core-developers/wildcard-mappings.html#wildcards","title":"Struts2 Wildcard Mapping - more specific one is being handled by generic one","body":"<p>In your case,from the official docs,</p>\n<p><code>Mappings are matched against the request in the order they appear in the framework’s configuration file. If more than one pattern matches the last one wins, so less specific patterns must appear before more specific ones. However, if the request URL can be matched against a path without any wildcards in it, no wildcard matching is performed and order is not important.</code></p>\n<p><a href=\"https://struts.apache.org/core-developers/wildcard-mappings.html#wildcards\" rel=\"nofollow noreferrer\">https://struts.apache.org/core-developers/wildcard-mappings.html#wildcards</a></p>\n"}],"owner":{"account_id":1398858,"reputation":137,"user_id":1328011,"accept_rate":50,"display_name":"Jiro Manio"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36887123,"answer_count":2,"score":4,"last_activity_date":1644373066,"creation_date":1461740244,"question_id":36882538,"body_markdown":"I&#39;m currently playing around with my Struts2 config for wildcard testing and I&#39;m stuck with this one.\r\n    \r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t\t&lt;action name=&quot;/*/*&quot; class=&quot;checkBlogUrl&quot; method=&quot;testing&quot;&gt;\r\n\t\t\t&lt;param name=&quot;blogSiteUrl&quot;&gt;{1}&lt;/param&gt;\r\n\t\t\t&lt;param name=&quot;test&quot;&gt;{2}&lt;/param&gt;\r\n\t\t\t&lt;result name=&quot;success&quot;&gt;/WEB-INF/jsp/cmsPages/index.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\t\t\r\n\t\t&lt;action name=&quot;/*/postPreview1&quot; class=&quot;blogPostAction&quot; method=&quot;test&quot;&gt;\r\n\t\t\t&lt;param name=&quot;blogSiteUrl&quot;&gt;{1}&lt;/param&gt;\r\n\t\t\t&lt;result name=&quot;success&quot;&gt;/WEB-INF/jsp/cmsPages/templatePicker.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\r\n\r\n\r\nIf I access `myurl.com/hello/hi` I will be redirected to `index.jsp`.\r\n\r\nBut if I access `myurl.com/hello/postPreview1` I will also be redirected to `index.jsp` instead of `templatePicker.jsp`.\r\n\r\nAm I doing something wrong here? The [struts wildcard doc][1] said that the last one will win \r\n\r\n**EDIT:**\r\n\r\nJust tried to switch them around and it worked! Am I misreading the doc? \r\n\r\n  [1]: https://struts.apache.org/core-developers/wildcard-mappings.html","title":"Struts2 Wildcard Mapping - more specific one is being handled by generic one","body":"<p>I'm currently playing around with my Struts2 config for wildcard testing and I'm stuck with this one.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;action name=&quot;/*/*&quot; class=&quot;checkBlogUrl&quot; method=&quot;testing&quot;&gt;\n        &lt;param name=&quot;blogSiteUrl&quot;&gt;{1}&lt;/param&gt;\n        &lt;param name=&quot;test&quot;&gt;{2}&lt;/param&gt;\n        &lt;result name=&quot;success&quot;&gt;/WEB-INF/jsp/cmsPages/index.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    \n    &lt;action name=&quot;/*/postPreview1&quot; class=&quot;blogPostAction&quot; method=&quot;test&quot;&gt;\n        &lt;param name=&quot;blogSiteUrl&quot;&gt;{1}&lt;/param&gt;\n        &lt;result name=&quot;success&quot;&gt;/WEB-INF/jsp/cmsPages/templatePicker.jsp&lt;/result&gt;\n    &lt;/action&gt;\n</code></pre>\n<p>If I access <code>myurl.com/hello/hi</code> I will be redirected to <code>index.jsp</code>.</p>\n<p>But if I access <code>myurl.com/hello/postPreview1</code> I will also be redirected to <code>index.jsp</code> instead of <code>templatePicker.jsp</code>.</p>\n<p>Am I doing something wrong here? The <a href=\"https://struts.apache.org/core-developers/wildcard-mappings.html\" rel=\"nofollow noreferrer\">struts wildcard doc</a> said that the last one will win</p>\n<p><strong>EDIT:</strong></p>\n<p>Just tried to switch them around and it worked! Am I misreading the doc?</p>\n"},{"tags":["java","reader"],"comments":[{"owner":{"account_id":13582235,"reputation":1,"user_id":9797848,"display_name":"Газиз Валитов"},"score":0,"creation_date":1644243067,"post_id":71019884,"comment_id":125545824,"body_markdown":"I am sorry question is done.","body":"I am sorry question is done."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1644243375,"post_id":71019884,"comment_id":125545943,"body_markdown":"`switchTrigger = new BufferedReader(new InputStreamReader(System.in))` — Warning: you are creating a new reader on each loop iteration. You should move this line outside of the loop.","body":"<code>switchTrigger = new BufferedReader(new InputStreamReader(System.in))</code> — Warning: you are creating a new reader on each loop iteration. You should move this line outside of the loop."},{"owner":{"account_id":2109306,"reputation":5484,"user_id":1879699,"display_name":"Andreas"},"score":0,"creation_date":1644244284,"post_id":71019884,"comment_id":125546350,"body_markdown":"@ГазизВалитов If you solved the problem then you can post your solution as an answer to your own question or simply delete the question.","body":"@ГазизВалитов If you solved the problem then you can post your solution as an answer to your own question or simply delete the question."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1644244783,"post_id":71019884,"comment_id":125546582,"body_markdown":"Your code works fine for me. No `NullPointerException`. Of-course you didn&#39;t post a [mcve] so I added dummy methods `add`, `ask`, `export`, etc.","body":"Your code works fine for me. No <code>NullPointerException</code>. Of-course you didn&#39;t post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so I added dummy methods <code>add</code>, <code>ask</code>, <code>export</code>, etc."}],"answers":[{"tags":[],"owner":{"account_id":13582235,"reputation":1,"user_id":9797848,"display_name":"Газиз Валитов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644372594,"creation_date":1644372594,"answer_id":71043194,"question_id":71019884,"body_markdown":"I solve this problem by deleting Reader into another methods (into add(), remove()) and creat one method with one reader for all program.","title":"Why the bufferedREader is close after call to another funcation. How can I write that I can read after callin another function","body":"<p>I solve this problem by deleting Reader into another methods (into add(), remove()) and creat one method with one reader for all program.</p>\n"}],"owner":{"account_id":13582235,"reputation":1,"user_id":9797848,"display_name":"Газиз Валитов"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644372896,"creation_date":1644242644,"question_id":71019884,"body_markdown":"Why is `BufferedReader` closed after calling another method? How can I read after calling another method? After execution of method `add()` the reader is closed and reader into main throwing `NullPointerException`(closed).\r\n\r\nQuweston was solved. Into another method I made readers too and after calling method with reader(into try with resorces) both reader closed.\r\nI solve this by deleting all readers and made one into one static methos with static reader for all programm.\r\n\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ReaderIn reader = new ReaderIn();\r\n        while (true) {\r\n            System.out.println(&quot;Input the action (add, remove, import, export, ask, exit):&quot;);\r\n            String switchTrigger = null;\r\n            try {\r\n                switchTrigger = new BufferedReader(new InputStreamReader(System.in)).readLine();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (switchTrigger == null) {\r\n                System.out.println(&quot;SwitchTrigger is null.&quot;);\r\n                System.exit(0);\r\n            }\r\n            switch (switchTrigger) {\r\n                case &quot;add&quot;:\r\n                    add();\r\n                    break;\r\n                case &quot;remove&quot;:\r\n                    remove();\r\n                    break;\r\n                case &quot;import&quot;:\r\n                    importCardFromFile();\r\n                    break;\r\n                case &quot;export&quot;:\r\n                    export();\r\n                    break;\r\n                case &quot;ask&quot;:\r\n                    ask();\r\n                    break;\r\n                case &quot;exit&quot;:\r\n                    System.out.println(&quot;Bye bye!&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Why the bufferedREader is close after call to another funcation. How can I write that I can read after callin another function","body":"<p>Why is <code>BufferedReader</code> closed after calling another method? How can I read after calling another method? After execution of method <code>add()</code> the reader is closed and reader into main throwing <code>NullPointerException</code>(closed).</p>\n<p>Quweston was solved. Into another method I made readers too and after calling method with reader(into try with resorces) both reader closed.\nI solve this by deleting all readers and made one into one static methos with static reader for all programm.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        ReaderIn reader = new ReaderIn();\n        while (true) {\n            System.out.println(&quot;Input the action (add, remove, import, export, ask, exit):&quot;);\n            String switchTrigger = null;\n            try {\n                switchTrigger = new BufferedReader(new InputStreamReader(System.in)).readLine();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (switchTrigger == null) {\n                System.out.println(&quot;SwitchTrigger is null.&quot;);\n                System.exit(0);\n            }\n            switch (switchTrigger) {\n                case &quot;add&quot;:\n                    add();\n                    break;\n                case &quot;remove&quot;:\n                    remove();\n                    break;\n                case &quot;import&quot;:\n                    importCardFromFile();\n                    break;\n                case &quot;export&quot;:\n                    export();\n                    break;\n                case &quot;ask&quot;:\n                    ask();\n                    break;\n                case &quot;exit&quot;:\n                    System.out.println(&quot;Bye bye!&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","ssl","url","ssl-certificate","jsoup"],"comments":[{"owner":{"account_id":17209179,"reputation":143,"user_id":17313162,"display_name":"Some Guy"},"score":0,"creation_date":1644372832,"post_id":71043186,"comment_id":125587963,"body_markdown":"@ScaryWombat Google is the only problem website for me, other sites that use https are easily converted to http (by me) and show no problem.","body":"@ScaryWombat Google is the only problem website for me, other sites that use https are easily converted to http (by me) and show no problem."},{"owner":{"account_id":471659,"reputation":3578,"user_id":879592,"accept_rate":84,"display_name":"Yan"},"score":1,"creation_date":1644372894,"post_id":71043186,"comment_id":125587970,"body_markdown":"Have you tried this code not on a school computer?  There is a chance school computer has a forward proxy and response with it&#39;s own SSL certificate that your java doesn&#39;t trust.  Check https://www.google.com certificate in chrome and see if it&#39;s signed by GTS Root CA .. Just a thought","body":"Have you tried this code not on a school computer?  There is a chance school computer has a forward proxy and response with it&#39;s own SSL certificate that your java doesn&#39;t trust.  Check <a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">google.com</a> certificate in chrome and see if it&#39;s signed by GTS Root CA .. Just a thought"},{"owner":{"account_id":17209179,"reputation":143,"user_id":17313162,"display_name":"Some Guy"},"score":0,"creation_date":1644372961,"post_id":71043186,"comment_id":125587984,"body_markdown":"@Yan Google is unblocked on my school computer","body":"@Yan Google is unblocked on my school computer"},{"owner":{"account_id":471659,"reputation":3578,"user_id":879592,"accept_rate":84,"display_name":"Yan"},"score":1,"creation_date":1644373059,"post_id":71043186,"comment_id":125588001,"body_markdown":"It&#39;s unblocked but school might have a forward proxy to inspect traffic like men in the middle.  If that&#39;s the case when your app makes a request to google it connects to the proxy and then proxy connects to google gets the data and response to your app presenting proxies SSL certificate","body":"It&#39;s unblocked but school might have a forward proxy to inspect traffic like men in the middle.  If that&#39;s the case when your app makes a request to google it connects to the proxy and then proxy connects to google gets the data and response to your app presenting proxies SSL certificate"},{"owner":{"account_id":17209179,"reputation":143,"user_id":17313162,"display_name":"Some Guy"},"score":0,"creation_date":1644374501,"post_id":71043186,"comment_id":125588234,"body_markdown":"Ok I have used the second answer from this link https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error to turn off my security measures. This is okay since I am using a safe site like google, correct?","body":"Ok I have used the second answer from this link <a href=\"https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error\" title=\"how to solve javax net ssl sslhandshakeexception error\">stackoverflow.com/questions/6659360/&hellip;</a> to turn off my security measures. This is okay since I am using a safe site like google, correct?"},{"owner":{"account_id":471659,"reputation":3578,"user_id":879592,"accept_rate":84,"display_name":"Yan"},"score":0,"creation_date":1644418187,"post_id":71043186,"comment_id":125601905,"body_markdown":"That&#39;s fine when you write code to learn but not good when deploying your application in &quot;production&quot;.","body":"That&#39;s fine when you write code to learn but not good when deploying your application in &quot;production&quot;."}],"owner":{"account_id":17209179,"reputation":143,"user_id":17313162,"display_name":"Some Guy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644372557,"creation_date":1644372557,"question_id":71043186,"body_markdown":"Here is the code. I am using the JSoup library to access the HTML elements and get the locations of the images. Then, I pass those image locations into an image downloader that downloads the images to the desktop.\r\n````\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\n\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.helper.Validate;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Elements;\r\n\r\npublic class JSoupExtractor {\r\n\tpublic static int i = 1;\r\n\tpublic static void main (String[] args) {\r\n\t\tValidate.isTrue(true, &quot;usage: supply url to fetch&quot;);\r\n\t\tString destinationFile = &quot;C:\\\\Users\\\\MYNAME\\\\Desktop\\\\Output\\\\image&quot;;\r\n\t\tDocument doc = null;\r\n\t\ttry {\r\n\t\t\tdoc = Jsoup.connect(&quot;http://google.com/&quot;).get();\r\n\t\t} catch (IOException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tSystem.out.println(&quot;OOF!&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\tElements pngs = doc.select(&quot;img[src$=.png]&quot;);\r\n\t\tElements jpgs = doc.select(&quot;img[src$=.jpg]&quot;);\r\n\t\t//int i = 1;\r\n\t\tfor (Element e : pngs) {\r\n\t\t\tSystem.out.println(&quot;hi&quot;);\r\n\t\t\tSystem.out.println(e.attr(&quot;abs:src&quot;));\r\n\t\t\ttry {\r\n\t\t\t\tsaveImage(e.attr(&quot;abs:src&quot;), destinationFile + (i) + &quot;.png&quot;);\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\tSystem.out.println(&quot;DANG!&quot;);\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n\tpublic static void saveImage(String imageUrl, String destinationFile) throws IOException {\r\n\t    URL url = new URL(imageUrl);\r\n\t    URLConnection connection = url.openConnection();\r\n\t    connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Chrome/56.0.2924.87&quot;);\r\n\t    InputStream is = connection.getInputStream();\r\n\t    FileOutputStream os = new FileOutputStream(destinationFile);\r\n\t    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t    byte[] b = new byte [4096];\r\n\t   \r\n\t    int length;\r\n\t    \r\n\t    while ((length = is.read(b)) &gt;= 0) {\r\n\t    \tSystem.out.println(i);\r\n\t        out.write(b, 0, length);\r\n\t    }\r\n\t    byte[] response = out.toByteArray();\r\n\t    os.write(response);\r\n\r\n\t    is.close();\r\n\t    os.close();\r\n\t}\r\n}\r\n````\r\n\r\nWhen I run the above code, this is my error stack trace.\r\n\r\n````\r\nOOF!\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n\tat sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n\tat sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n\tat sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n\tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(Unknown Source)\r\n\tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(Unknown Source)\r\n\tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(Unknown Source)\r\n\tat sun.security.ssl.SSLHandshake.consume(Unknown Source)\r\n\tat sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\r\n\tat sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\r\n\tat sun.security.ssl.TransportContext.dispatch(Unknown Source)\r\n\tat sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\r\n\tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:859)\r\n\tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:887)\r\n\tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:887)\r\n\tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:829)\r\n\tat org.jsoup.helper.HttpConnection.execute(HttpConnection.java:366)\r\n\tat org.jsoup.helper.HttpConnection.get(HttpConnection.java:353)\r\n\tat JSoupExtractor.main(JSoupExtractor.java:22)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n\tat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n\t... 22 more\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n\tat java.security.cert.CertPathBuilder.build(Unknown Source)\r\n\t... 28 more\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat JSoupExtractor.main(JSoupExtractor.java:28)\r\n````\r\n\r\nTo fix this error, I made the address used http instead of https, because https causes a lot of SSL errors for some reason. Also, I used a user agent connection to access the site since I know that many sites want real people visiting instead of bots. I am using a school computer, but Google is unblocked here. I believe I have exhausted the most common sources of error.","title":"SSL Handshake Error trying to access Google","body":"<p>Here is the code. I am using the JSoup library to access the HTML elements and get the locations of the images. Then, I pass those image locations into an image downloader that downloads the images to the desktop.</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.URL;\nimport java.net.URLConnection;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.helper.Validate;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\npublic class JSoupExtractor {\n    public static int i = 1;\n    public static void main (String[] args) {\n        Validate.isTrue(true, &quot;usage: supply url to fetch&quot;);\n        String destinationFile = &quot;C:\\\\Users\\\\MYNAME\\\\Desktop\\\\Output\\\\image&quot;;\n        Document doc = null;\n        try {\n            doc = Jsoup.connect(&quot;http://google.com/&quot;).get();\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            System.out.println(&quot;OOF!&quot;);\n            e1.printStackTrace();\n        }\n        Elements pngs = doc.select(&quot;img[src$=.png]&quot;);\n        Elements jpgs = doc.select(&quot;img[src$=.jpg]&quot;);\n        //int i = 1;\n        for (Element e : pngs) {\n            System.out.println(&quot;hi&quot;);\n            System.out.println(e.attr(&quot;abs:src&quot;));\n            try {\n                saveImage(e.attr(&quot;abs:src&quot;), destinationFile + (i) + &quot;.png&quot;);\n            } catch (Exception e1) {\n                System.out.println(&quot;DANG!&quot;);\n                e1.printStackTrace();\n            }\n            i++;\n        }\n    }\n    public static void saveImage(String imageUrl, String destinationFile) throws IOException {\n        URL url = new URL(imageUrl);\n        URLConnection connection = url.openConnection();\n        connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Chrome/56.0.2924.87&quot;);\n        InputStream is = connection.getInputStream();\n        FileOutputStream os = new FileOutputStream(destinationFile);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        byte[] b = new byte [4096];\n       \n        int length;\n        \n        while ((length = is.read(b)) &gt;= 0) {\n            System.out.println(i);\n            out.write(b, 0, length);\n        }\n        byte[] response = out.toByteArray();\n        os.write(response);\n\n        is.close();\n        os.close();\n    }\n}\n</code></pre>\n<p>When I run the above code, this is my error stack trace.</p>\n<pre><code>OOF!\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alert.createSSLException(Unknown Source)\n    at sun.security.ssl.TransportContext.fatal(Unknown Source)\n    at sun.security.ssl.TransportContext.fatal(Unknown Source)\n    at sun.security.ssl.TransportContext.fatal(Unknown Source)\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(Unknown Source)\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(Unknown Source)\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(Unknown Source)\n    at sun.security.ssl.SSLHandshake.consume(Unknown Source)\n    at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\n    at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\n    at sun.security.ssl.TransportContext.dispatch(Unknown Source)\n    at sun.security.ssl.SSLTransport.decode(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:859)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:887)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:887)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:829)\n    at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:366)\n    at org.jsoup.helper.HttpConnection.get(HttpConnection.java:353)\n    at JSoupExtractor.main(JSoupExtractor.java:22)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\n    at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\n    at sun.security.validator.Validator.validate(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n    ... 22 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\n    at java.security.cert.CertPathBuilder.build(Unknown Source)\n    ... 28 more\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at JSoupExtractor.main(JSoupExtractor.java:28)\n</code></pre>\n<p>To fix this error, I made the address used http instead of https, because https causes a lot of SSL errors for some reason. Also, I used a user agent connection to access the site since I know that many sites want real people visiting instead of bots. I am using a school computer, but Google is unblocked here. I believe I have exhausted the most common sources of error.</p>\n"},{"tags":["java","api","servlets","swagger","oas3"],"owner":{"account_id":20836662,"reputation":11,"user_id":15304385,"display_name":"Isha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644372555,"creation_date":1644282541,"question_id":71027393,"body_markdown":"I use Swagger OAS3 and trying to display an elaborated error message when the endpoint which is supposed to return an image fails. \r\nWhen I set the MIME type of the **success response** to *image/png*, the *Response body doesn&#39;t appear if an error is thrown. If I change it to *application/json*, it appears but the actual success response we expect is an image, not a json. So I am not sure whether it&#39;s the correct approach!\r\n\r\n[Response body doesn&#39;t appear with the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z2evi.png\r\n\r\nIf I add both MIME types on the success response, and select json before executing, it appears again. But it never respond to the MIME types I add for the failure responses. \r\n\r\n\r\n                        final ObjectNode responses = httpMethod.putObject(&quot;responses&quot;);\r\n                        final ObjectNode success = responses.putObject(&quot;200&quot;);\r\n                        success.put(DESCRIPTION, &quot;Success&quot;);\r\n                        final ObjectNode content = success.putObject(&quot;content&quot;);\r\n\r\n                        final ObjectNode mime = content.putObject(IMAGE_PNG);\r\n                        final ObjectNode schema = mime.putObject(SCHEMA);\r\n                        schema.put(&quot;type&quot;, &quot;string&quot;);\r\n                        schema.put(&quot;format&quot;, &quot;binary&quot;);\r\n\r\n                        final ObjectNode mimeTextFail = content.putObject(APPLICATION_JSON);\r\n                        final ObjectNode schemaTextfail = mimeTextFail.putObject(SCHEMA);\r\n                        schemaTextfail.put(&quot;type&quot;, OBJECT);\r\n\r\n\r\n                        final ObjectNode fail = responses.putObject(&quot;401&quot;);\r\n                        fail.put(DESCRIPTION, &quot;Error: Unauthorized&quot;);\r\n                        final ObjectNode contentfail = fail.putObject(&quot;content&quot;);\r\n                        final ObjectNode mimefail = contentfail.putObject(APPLICATION_JSON);\r\n                        final ObjectNode schemafail = mimefail.putObject(SCHEMA);\r\n                        schemafail.put(&quot;type&quot;, OBJECT);\r\n\r\n\r\nIs it not possible or am I doing it incorrectly? Any help is really appreciated.\r\n\r\n(If I remove all MIME types, the response body appears but the format is html by default and I cannot change it to JSON, other than by specifying the MIME type of successful response to json as stated above.)","title":"Swagger response body missing for failure responses when the Success response Media Type is image/png","body":"<p>I use Swagger OAS3 and trying to display an elaborated error message when the endpoint which is supposed to return an image fails.\nWhen I set the MIME type of the <strong>success response</strong> to <em>image/png</em>, the *Response body doesn't appear if an error is thrown. If I change it to <em>application/json</em>, it appears but the actual success response we expect is an image, not a json. So I am not sure whether it's the correct approach!</p>\n<p><a href=\"https://i.stack.imgur.com/z2evi.png\" rel=\"nofollow noreferrer\">Response body doesn't appear with the error</a></p>\n<p>If I add both MIME types on the success response, and select json before executing, it appears again. But it never respond to the MIME types I add for the failure responses.</p>\n<pre><code>                    final ObjectNode responses = httpMethod.putObject(&quot;responses&quot;);\n                    final ObjectNode success = responses.putObject(&quot;200&quot;);\n                    success.put(DESCRIPTION, &quot;Success&quot;);\n                    final ObjectNode content = success.putObject(&quot;content&quot;);\n\n                    final ObjectNode mime = content.putObject(IMAGE_PNG);\n                    final ObjectNode schema = mime.putObject(SCHEMA);\n                    schema.put(&quot;type&quot;, &quot;string&quot;);\n                    schema.put(&quot;format&quot;, &quot;binary&quot;);\n\n                    final ObjectNode mimeTextFail = content.putObject(APPLICATION_JSON);\n                    final ObjectNode schemaTextfail = mimeTextFail.putObject(SCHEMA);\n                    schemaTextfail.put(&quot;type&quot;, OBJECT);\n\n\n                    final ObjectNode fail = responses.putObject(&quot;401&quot;);\n                    fail.put(DESCRIPTION, &quot;Error: Unauthorized&quot;);\n                    final ObjectNode contentfail = fail.putObject(&quot;content&quot;);\n                    final ObjectNode mimefail = contentfail.putObject(APPLICATION_JSON);\n                    final ObjectNode schemafail = mimefail.putObject(SCHEMA);\n                    schemafail.put(&quot;type&quot;, OBJECT);\n</code></pre>\n<p>Is it not possible or am I doing it incorrectly? Any help is really appreciated.</p>\n<p>(If I remove all MIME types, the response body appears but the format is html by default and I cannot change it to JSON, other than by specifying the MIME type of successful response to json as stated above.)</p>\n"},{"tags":["java","if-statement","implicit-conversion","order-of-execution","relational-operators"],"comments":[{"owner":{"account_id":23557777,"reputation":193,"user_id":17600104,"display_name":"Cookie"},"score":0,"creation_date":1644373457,"post_id":71043090,"comment_id":125588065,"body_markdown":"I run your code and i get the same result in both variants, with false in case which you are describing","body":"I run your code and i get the same result in both variants, with false in case which you are describing"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1644377147,"post_id":71043090,"comment_id":125588616,"body_markdown":"re: *(19 + 2 * 9 &lt; 27) -&gt; (38 &lt; 27)*  FWIW, the left-hand side of the inequality evaluates to 37.  Which doesn&#39;t change the answer.","body":"re: <i>(19 + 2 * 9 &lt; 27) -&gt; (38 &lt; 27)</i>  FWIW, the left-hand side of the inequality evaluates to 37.  Which doesn&#39;t change the answer."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1644377719,"post_id":71043090,"comment_id":125588684,"body_markdown":"Are you absolutely sure you didn&#39;t write `else if (1 + 2 * m &lt; i)` ?  A lower-case `l` is usually a poor choice of identifier for precisely that reason.","body":"Are you absolutely sure you didn&#39;t write <code>else if (1 + 2 * m &lt; i)</code> ?  A lower-case <code>l</code> is usually a poor choice of identifier for precisely that reason."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644372412,"creation_date":1644372412,"answer_id":71043175,"question_id":71043090,"body_markdown":"To simplify your question,\r\n\r\nIt seems that you are suggesting that\r\n\r\n\t\tLong l = 19L;\r\n\t\tLong m = 9L;\r\n\t\tlong i = 27;\r\n\t\tSystem.out.println(l + 2L * m &lt; i);\r\n\r\nwould print true.\r\n\r\n**output**\r\n\r\n    false","title":"Does an implicit typecast in Java have an effect on the order of operations?","body":"<p>To simplify your question,</p>\n<p>It seems that you are suggesting that</p>\n<pre><code>    Long l = 19L;\n    Long m = 9L;\n    long i = 27;\n    System.out.println(l + 2L * m &lt; i);\n</code></pre>\n<p>would print true.</p>\n<p><strong>output</strong></p>\n<pre><code>false\n</code></pre>\n"}],"owner":{"account_id":17111588,"reputation":1,"user_id":12382231,"display_name":"Christian Lolis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644372412,"creation_date":1644371629,"question_id":71043090,"body_markdown":"I have a snippet from my code where a statement that seems like it should evaluate to &quot;false&quot; actually returns true.\r\n\r\n```\r\n        long composite = -1L;\r\n        \r\n        ArrayList&lt;Long&gt; primes = new ArrayList&lt;Long&gt;();\r\n        ArrayList&lt;Long&gt; squares = new ArrayList&lt;Long&gt;();\r\n        squares.add(1L);\r\n        primes.add(2L);\r\n        primes.add(3L);\r\n        \r\n        for (long i = 4; composite == -1L; i++) {\r\n            double sqrt_max = Math.sqrt((double) i); \r\n            if (sqrt_max == (int) sqrt_max) squares.add(i);\r\n            if (i % 2 == 0) continue;\r\n            boolean prime = true;\r\n            for (int j = 0; primes.get(j) &lt;= sqrt_max; j++) { \r\n                if (i % primes.get(j) == 0) {// number is not prime\r\n                    prime = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (prime) { // number is prime\r\n                primes.add(i);\r\n            }\r\n            else {\r\n                boolean conjTrue = false;\r\n                for (Long l : primes) {\r\n                    ListIterator&lt;Long&gt; it = squares.listIterator(squares.size() - 1);\r\n                    while (it.hasPrevious()) {\r\n                        long m = it.previous();\r\n                        if (l + 2L * m == i) {\r\n                            conjTrue = true;\r\n                            break;\r\n                        }\r\n                        else if (l + 2L * m &lt; i) break;\r\n                    }\r\n                    if (conjTrue) break;\r\n                }\r\n                if (!conjTrue) composite = i;\r\n            }\r\n        }\r\n        \r\n        System.out.println(&quot;\\nAnswer: &quot; + composite);\r\n```\r\n\r\nAs it stands, this code works fine (I finished debugging), but I found a problem that I could not explain and I wanted to learn.\r\n\r\nThe relational statement `else if (l + 2L * m &lt; i)`, when the variables evaluate to `(19 + 2 * 9 &lt; 27)` -&gt; `(38 &lt; 27)` (obviously false) would evaluate to `true` if the code was instead `else if (l + 2 * m &lt; i)`. Note the 2L is replaced with a 2 (int). I even used a print statement directly after the `else if` to test the value of the `boolean` `l + 2 * m &lt; i` and would get `true`.\r\n\r\nSomething about being within the `else if` conditional parentheses and the implicit typecast caused the relation to erroneously evaluate to `true`. Within other contexts it would compute correctly. What could cause this issue?","title":"Does an implicit typecast in Java have an effect on the order of operations?","body":"<p>I have a snippet from my code where a statement that seems like it should evaluate to &quot;false&quot; actually returns true.</p>\n<pre><code>        long composite = -1L;\n        \n        ArrayList&lt;Long&gt; primes = new ArrayList&lt;Long&gt;();\n        ArrayList&lt;Long&gt; squares = new ArrayList&lt;Long&gt;();\n        squares.add(1L);\n        primes.add(2L);\n        primes.add(3L);\n        \n        for (long i = 4; composite == -1L; i++) {\n            double sqrt_max = Math.sqrt((double) i); \n            if (sqrt_max == (int) sqrt_max) squares.add(i);\n            if (i % 2 == 0) continue;\n            boolean prime = true;\n            for (int j = 0; primes.get(j) &lt;= sqrt_max; j++) { \n                if (i % primes.get(j) == 0) {// number is not prime\n                    prime = false;\n                    break;\n                }\n            }\n            if (prime) { // number is prime\n                primes.add(i);\n            }\n            else {\n                boolean conjTrue = false;\n                for (Long l : primes) {\n                    ListIterator&lt;Long&gt; it = squares.listIterator(squares.size() - 1);\n                    while (it.hasPrevious()) {\n                        long m = it.previous();\n                        if (l + 2L * m == i) {\n                            conjTrue = true;\n                            break;\n                        }\n                        else if (l + 2L * m &lt; i) break;\n                    }\n                    if (conjTrue) break;\n                }\n                if (!conjTrue) composite = i;\n            }\n        }\n        \n        System.out.println(&quot;\\nAnswer: &quot; + composite);\n</code></pre>\n<p>As it stands, this code works fine (I finished debugging), but I found a problem that I could not explain and I wanted to learn.</p>\n<p>The relational statement <code>else if (l + 2L * m &lt; i)</code>, when the variables evaluate to <code>(19 + 2 * 9 &lt; 27)</code> -&gt; <code>(38 &lt; 27)</code> (obviously false) would evaluate to <code>true</code> if the code was instead <code>else if (l + 2 * m &lt; i)</code>. Note the 2L is replaced with a 2 (int). I even used a print statement directly after the <code>else if</code> to test the value of the <code>boolean</code> <code>l + 2 * m &lt; i</code> and would get <code>true</code>.</p>\n<p>Something about being within the <code>else if</code> conditional parentheses and the implicit typecast caused the relation to erroneously evaluate to <code>true</code>. Within other contexts it would compute correctly. What could cause this issue?</p>\n"},{"tags":["java","jboss","wildfly","keycloak","fips"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584659082,"creation_date":1584659082,"answer_id":60766303,"question_id":60730657,"body_markdown":"I don&#39;t know if there&#39;s a canonical answer to this, but I ended up making this work by registering my modules as explicit dependencies of the root module `org.jboss.as.server` in the file `$KEYCLOAK_ROOT/modules/system/layers/base/org/jboss/as/server/main/module.xml`.","title":"Using Keycloak with a FIPS-compliant JDK","body":"<p>I don't know if there's a canonical answer to this, but I ended up making this work by registering my modules as explicit dependencies of the root module <code>org.jboss.as.server</code> in the file <code>$KEYCLOAK_ROOT/modules/system/layers/base/org/jboss/as/server/main/module.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":20251205,"reputation":1,"user_id":14852267,"display_name":"isaacjensen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644371065,"creation_date":1644371065,"answer_id":71043042,"question_id":60730657,"body_markdown":"Sean, running into the exact same issue you did. \r\n\r\nGetting NoSuchMethodError on keycloak startup from the server-dist distribution. My keycloak calls isInApprovedOnlyMode() from bc-fips upon startup, and since i dont have the library in my container, i get the NoSuchMethodError. I&#39;ve included bc-fips,bctls-fips, and bcpkix-fips libraries from BouncyCastle, and now need to get them to work with WildFly/JBoss (never worked with these techs before).\r\n\r\nI&#39;m going to try adding these deps explicitly as you did. ","title":"Using Keycloak with a FIPS-compliant JDK","body":"<p>Sean, running into the exact same issue you did.</p>\n<p>Getting NoSuchMethodError on keycloak startup from the server-dist distribution. My keycloak calls isInApprovedOnlyMode() from bc-fips upon startup, and since i dont have the library in my container, i get the NoSuchMethodError. I've included bc-fips,bctls-fips, and bcpkix-fips libraries from BouncyCastle, and now need to get them to work with WildFly/JBoss (never worked with these techs before).</p>\n<p>I'm going to try adding these deps explicitly as you did.</p>\n"}],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1644371065,"creation_date":1584481422,"question_id":60730657,"body_markdown":"I have the requirement to build a Docker image with [Keycloak][1] and a FIPS-compliant JDK (based on OpenJDK 8).\r\n\r\nMy company has an internal FIPS JDK distribution which works somewhat like this:\r\n\r\nIn a `-Djava.endorsed.dirs` directory, a security provider is installed, which dispatches all security calls to BouncyCastle. This security provider has dependencies, which I pull in via Maven: several BouncyCastle jars, but also other stuff like Jackson, Scala, Guava, the kitchen sink.\r\n\r\nI&#39;m doing [`mvn dependency:copy-dependencies`][2] to copy the BouncyCastle jars to a library folder, and I&#39;m using the Maven Shade Plugin to build an UberJar with everything else, minus what&#39;s already present in Keycloak. To prevent conflicts, I apply package shading in this UberJar (package `com.foo` is moved to `myteam.com.foo`), except for the public entrypoint referenced by above security provider.\r\n\r\nI have a little Java test class that verifies this setup works in FIPS-compatible mode, basically the test is that\r\n\r\n    MessageDigest.getInstance(&quot;SHA-256&quot;, &quot;SUN&quot;).getProvider().getName()\r\n\r\nreturns `BCFIPS` instead of `SUN`, and this works.\r\n\r\nNow my problem is how to get this setup working on Keycloak, given that it runs on JBoss / WildFly, and has its completely own ideas about class loading.\r\n\r\nI launch Keycloak with the `-Djava.endorsed.dirs` parameter in my `JAVA_OPTS`, which leaves the dependencies to BouncyCastle and the other libraries.\r\n\r\nI have tried the following approaches\r\n\r\nApproach 1:\r\nDeclare everything as a module. Inside `/opt/jboss/keycloak/modules/system/layers/keycloak` (or `base`, I tried both), declare an `org/bouncycastle` module with all bc jars and a `com/mycompany module` with the UberJar. Register both [as global modules][3] (KC currently runs on WildFly 18, so the global directories option isn&#39;t available yet)\r\n\r\nApproach 2:\r\nPlace all jars in a directory and [reference that using `-Djava.ext.dirs`][4] in my `JAVA_OPTS`.\r\n\r\nEach of these have led to the identical error message:\r\n\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider from [Module\r\n&gt; &quot;org.jboss.as.server&quot; version 10.0.3.Final from local module loader\r\n&gt; @52a86356 (finder: local module finder @5ce81285 (roots:\r\n&gt; /opt/jboss/keycloak/modules, /opt/jboss/keycloak/modules/system/layers/keycloak, /opt/jboss/keycloak/modules/system/layers/base))]\r\n\r\nCan anybody point me toward a solution?\r\n\r\n  [1]: https://www.keycloak.org/\r\n  [2]: https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\r\n  [3]: http://www.mastertheboss.com/jboss-server/jboss-configuration/configuring-global-modules-and-directories-in-wildfly\r\n  [4]: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html/how_to_configure_server_security/reference_material#configure_java_bouncycastle_provider","title":"Using Keycloak with a FIPS-compliant JDK","body":"<p>I have the requirement to build a Docker image with <a href=\"https://www.keycloak.org/\" rel=\"nofollow noreferrer\">Keycloak</a> and a FIPS-compliant JDK (based on OpenJDK 8).</p>\n\n<p>My company has an internal FIPS JDK distribution which works somewhat like this:</p>\n\n<p>In a <code>-Djava.endorsed.dirs</code> directory, a security provider is installed, which dispatches all security calls to BouncyCastle. This security provider has dependencies, which I pull in via Maven: several BouncyCastle jars, but also other stuff like Jackson, Scala, Guava, the kitchen sink.</p>\n\n<p>I'm doing <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\" rel=\"nofollow noreferrer\"><code>mvn dependency:copy-dependencies</code></a> to copy the BouncyCastle jars to a library folder, and I'm using the Maven Shade Plugin to build an UberJar with everything else, minus what's already present in Keycloak. To prevent conflicts, I apply package shading in this UberJar (package <code>com.foo</code> is moved to <code>myteam.com.foo</code>), except for the public entrypoint referenced by above security provider.</p>\n\n<p>I have a little Java test class that verifies this setup works in FIPS-compatible mode, basically the test is that</p>\n\n<pre><code>MessageDigest.getInstance(\"SHA-256\", \"SUN\").getProvider().getName()\n</code></pre>\n\n<p>returns <code>BCFIPS</code> instead of <code>SUN</code>, and this works.</p>\n\n<p>Now my problem is how to get this setup working on Keycloak, given that it runs on JBoss / WildFly, and has its completely own ideas about class loading.</p>\n\n<p>I launch Keycloak with the <code>-Djava.endorsed.dirs</code> parameter in my <code>JAVA_OPTS</code>, which leaves the dependencies to BouncyCastle and the other libraries.</p>\n\n<p>I have tried the following approaches</p>\n\n<p>Approach 1:\nDeclare everything as a module. Inside <code>/opt/jboss/keycloak/modules/system/layers/keycloak</code> (or <code>base</code>, I tried both), declare an <code>org/bouncycastle</code> module with all bc jars and a <code>com/mycompany module</code> with the UberJar. Register both <a href=\"http://www.mastertheboss.com/jboss-server/jboss-configuration/configuring-global-modules-and-directories-in-wildfly\" rel=\"nofollow noreferrer\">as global modules</a> (KC currently runs on WildFly 18, so the global directories option isn't available yet)</p>\n\n<p>Approach 2:\nPlace all jars in a directory and <a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html/how_to_configure_server_security/reference_material#configure_java_bouncycastle_provider\" rel=\"nofollow noreferrer\">reference that using <code>-Djava.ext.dirs</code></a> in my <code>JAVA_OPTS</code>.</p>\n\n<p>Each of these have led to the identical error message:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.ClassNotFoundException:\n  org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider from [Module\n  \"org.jboss.as.server\" version 10.0.3.Final from local module loader\n  @52a86356 (finder: local module finder @5ce81285 (roots:\n  /opt/jboss/keycloak/modules, /opt/jboss/keycloak/modules/system/layers/keycloak, /opt/jboss/keycloak/modules/system/layers/base))]</p>\n</blockquote>\n\n<p>Can anybody point me toward a solution?</p>\n"},{"tags":["java","import","netbeans"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644370908,"creation_date":1644370908,"answer_id":71043025,"question_id":71027078,"body_markdown":"Navigate to **Tools &gt; Options &gt; Editor &gt; Formatting**, then select **Language: Java** and **Category: Imports**. Finally, select the option **Use Package Imports**, and then click **Apply**:\r\n\r\n\r\n[![importStyle][1]][1] \r\n\r\nBe aware that this configuration change will affect all of your projects; I don&#39;t think it can be set at the project level. Also, note that while the approach you are choosing certainly may reduce the number of lines in your source, it is more usual to have a separate import for each class.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NKX1l.png","title":"Can Netbeans configured to fix imports, using *, to decrease code lines","body":"<p>Navigate to <strong>Tools &gt; Options &gt; Editor &gt; Formatting</strong>, then select <strong>Language: Java</strong> and <strong>Category: Imports</strong>. Finally, select the option <strong>Use Package Imports</strong>, and then click <strong>Apply</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/NKX1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NKX1l.png\" alt=\"importStyle\" /></a></p>\n<p>Be aware that this configuration change will affect all of your projects; I don't think it can be set at the project level. Also, note that while the approach you are choosing certainly may reduce the number of lines in your source, it is more usual to have a separate import for each class.</p>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71043025,"answer_count":1,"score":0,"last_activity_date":1644370908,"creation_date":1644279562,"question_id":71027078,"body_markdown":"I know that with **Ctrl + Shift + I**, one can fix imports easily in Netbeans.\r\n\r\nCan Netbeans configured in a way that \r\n- rather than importing **com.google.gwt.user.client.ui.HTML**,\r\n- it will import **com.google.gwt.user.client.ui.***.\r\n\r\nHence, my code lines will be decreased.","title":"Can Netbeans configured to fix imports, using *, to decrease code lines","body":"<p>I know that with <strong>Ctrl + Shift + I</strong>, one can fix imports easily in Netbeans.</p>\n<p>Can Netbeans configured in a way that</p>\n<ul>\n<li>rather than importing <strong>com.google.gwt.user.client.ui.HTML</strong>,</li>\n<li>it will import <strong>com.google.gwt.user.client.ui.</strong>*.</li>\n</ul>\n<p>Hence, my code lines will be decreased.</p>\n"},{"tags":["java","jls"],"comments":[{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644371667,"post_id":71042938,"comment_id":125587791,"body_markdown":"I think this is the &quot;bridge method&quot; in the general sense, simply forwarding to other methods. A lot of articles say that &quot;bridge method&quot; is for type erasure, but I think that&#39;s just one of his functions.","body":"I think this is the &quot;bridge method&quot; in the general sense, simply forwarding to other methods. A lot of articles say that &quot;bridge method&quot; is for type erasure, but I think that&#39;s just one of his functions."},{"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"score":0,"creation_date":1644424995,"post_id":71042938,"comment_id":125604980,"body_markdown":"I think you&#39;re right. But there is still a problem, which is that &quot;bridge method&quot; does not actually appear to be precisely defined anywhere.","body":"I think you&#39;re right. But there is still a problem, which is that &quot;bridge method&quot; does not actually appear to be precisely defined anywhere."}],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1644369985,"creation_date":1644369985,"question_id":71042938,"body_markdown":"Consider the following Java program:\r\n```java\r\nimport java.lang.reflect.Method;\r\npublic class BridgeTest {\r\n\r\n    public static class ClassA {\r\n        public void foo() {\r\n        }\r\n    }\r\n\r\n    protected static class ClassB extends ClassA {\r\n        @Override\r\n        public void foo() {\r\n        }\r\n    }\r\n\r\n    public static class ClassC extends ClassB {\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final Method method = ClassC.class.getMethod(&quot;foo&quot;);\r\n        System.out.println(method + &quot; -&gt; isBridge() = &quot; + method.isBridge());\r\n    }\r\n}\r\n```\r\n\r\nThe output of this program is:\r\n```\r\npublic void BridgeTest$ClassC.foo() -&gt; isBridge() = true\r\n```\r\n\r\nLooking more closely, `javap` reports:\r\n```\r\npublic BridgeTest$ClassC();\r\n...\r\n  public void foo();\r\n    descriptor: ()V\r\n    flags: ACC_PUBLIC, ACC_BRIDGE, ACC_SYNTHETIC\r\n    Code:\r\n      stack=1, locals=1, args_size=1\r\n         0: aload_0\r\n         1: invokespecial #2                  // Method BridgeTest$ClassB.foo:()V\r\n         4: return\r\n      LineNumberTable:\r\n        line 15: 0\r\n```\r\n\r\nSo clearly the compiler has synthesized the method `ClassC.foo()`, which makes sense because otherwise the method you&#39;d get from instrospection is `ClassB.foo()` which won&#39;t be as usable because it&#39;s a member of a non-public class.\r\n\r\nThat explains the `ACC_SYNTHETIC` flag...\r\n\r\nBut why the `ACC_BRIDGE` flag?\r\n\r\nThe Javadoc for `Method.isBridge()` says it returns true _if this method is a bridge method as defined by the Java Language Specification._\r\n\r\nBut I can&#39;t find any actual definition in the JLS.\r\n\r\nThis is not a &quot;bridge method&quot; under the normal definition of that term as I&#39;ve understood it, which is one created to handle narrowing types due to generics and type erasure.\r\n\r\nPerhaps there&#39;s really just some ambiguity here, in which case `Method.isBridge()` needs a more precise definition... ?\r\n\r\n```\r\n$ javac -version\r\njavac 11.0.12\r\n$ java -version\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20\r\nOpenJDK Runtime Environment Homebrew (build 11.0.12+0)\r\nOpenJDK 64-Bit Server VM Homebrew (build 11.0.12+0, mixed mode)\r\n```","title":"Why is this Java method reported as a bridge method?","body":"<p>Consider the following Java program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Method;\npublic class BridgeTest {\n\n    public static class ClassA {\n        public void foo() {\n        }\n    }\n\n    protected static class ClassB extends ClassA {\n        @Override\n        public void foo() {\n        }\n    }\n\n    public static class ClassC extends ClassB {\n    }\n\n    public static void main(String[] args) throws Exception {\n        final Method method = ClassC.class.getMethod(&quot;foo&quot;);\n        System.out.println(method + &quot; -&gt; isBridge() = &quot; + method.isBridge());\n    }\n}\n</code></pre>\n<p>The output of this program is:</p>\n<pre><code>public void BridgeTest$ClassC.foo() -&gt; isBridge() = true\n</code></pre>\n<p>Looking more closely, <code>javap</code> reports:</p>\n<pre><code>public BridgeTest$ClassC();\n...\n  public void foo();\n    descriptor: ()V\n    flags: ACC_PUBLIC, ACC_BRIDGE, ACC_SYNTHETIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #2                  // Method BridgeTest$ClassB.foo:()V\n         4: return\n      LineNumberTable:\n        line 15: 0\n</code></pre>\n<p>So clearly the compiler has synthesized the method <code>ClassC.foo()</code>, which makes sense because otherwise the method you'd get from instrospection is <code>ClassB.foo()</code> which won't be as usable because it's a member of a non-public class.</p>\n<p>That explains the <code>ACC_SYNTHETIC</code> flag...</p>\n<p>But why the <code>ACC_BRIDGE</code> flag?</p>\n<p>The Javadoc for <code>Method.isBridge()</code> says it returns true <em>if this method is a bridge method as defined by the Java Language Specification.</em></p>\n<p>But I can't find any actual definition in the JLS.</p>\n<p>This is not a &quot;bridge method&quot; under the normal definition of that term as I've understood it, which is one created to handle narrowing types due to generics and type erasure.</p>\n<p>Perhaps there's really just some ambiguity here, in which case <code>Method.isBridge()</code> needs a more precise definition... ?</p>\n<pre><code>$ javac -version\njavac 11.0.12\n$ java -version\nopenjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment Homebrew (build 11.0.12+0)\nOpenJDK 64-Bit Server VM Homebrew (build 11.0.12+0, mixed mode)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":0,"creation_date":1644352604,"post_id":71040538,"comment_id":125583399,"body_markdown":"Not a lot to go on here, you should upload a minimum reproducible example","body":"Not a lot to go on here, you should upload a minimum reproducible example"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1644352700,"post_id":71040538,"comment_id":125583427,"body_markdown":"Looks like `CoreWarsEngine` doesn&#39;t have a `main` method","body":"Looks like <code>CoreWarsEngine</code> doesn&#39;t have a <code>main</code> method"},{"owner":{"account_id":11973659,"reputation":1295,"user_id":8761466,"display_name":"bsaverino"},"score":0,"creation_date":1644354276,"post_id":71040538,"comment_id":125583937,"body_markdown":"Try without &quot;throws IOException&quot; in main() method prototype?","body":"Try without &quot;throws IOException&quot; in main() method prototype?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1644364402,"post_id":71040538,"comment_id":125586596,"body_markdown":"(1) the file for that class should be `il/co/codeguru/codewars8086/CoreWarsEngine.class` not what you said (2) your text says `/lib/jarfile.jar` but your command uses `lib/jarfile.jar` -- these are NOT the same; which is correct? @MadProgrammer: if that were the (only) problem it would produce a very different error message","body":"(1) the file for that class should be <code>il&#47;co&#47;codeguru&#47;codewars8086&#47;CoreWarsEngine.class</code> not what you said (2) your text says <code>&#47;lib&#47;jarfile.jar</code> but your command uses <code>lib&#47;jarfile.jar</code> -- these are NOT the same; which is correct? @MadProgrammer: if that were the (only) problem it would produce a very different error message"}],"answers":[{"tags":[],"owner":{"account_id":181490,"reputation":706,"user_id":415522,"display_name":"hidralisk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644369313,"creation_date":1644369313,"answer_id":71042878,"question_id":71040538,"body_markdown":"Make sure the jar file exists at the location you expect it to be and matches the jar file name in the command. This may seam silly, but java that I have, 11 AdoptOpenJDK does not complain that it did not find the jar file:\r\n\r\n    java -cp nonexistingfile.jar il.co.codeguru.corewars8086.CoreWarsEngine\r\n    Error: Could not find or load main class il.co.codeguru.corewars8086.CoreWarsEngine\r\n    Caused by: java.lang.ClassNotFoundException: il.co.codeguru.corewars8086.CoreWarsEngine\r\n\r\nSecond make sure the jar contains the class you are trying to start. I have stumbled on at least one `corewars8086` download on the net that does not have the `CoreWarsEngine` class.\r\n\r\nIf you got the sources from [GitHub/codeguru-il/corewars8086][1] then you need maven to build it. The resulting jar will be in `target/corewars8086-4.0.0-SNAPSHOT-jar-with-dependencies.jar`. Or if you build it a different way then you need to figure out where the result jar will be and what is the name.\r\n\r\nI managed to run it from the sources of the above repo[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/codeguru-il/corewars8086\r\n  [2]: https://i.stack.imgur.com/FMJPB.png","title":"java ClassNotFoundException in jar files","body":"<p>Make sure the jar file exists at the location you expect it to be and matches the jar file name in the command. This may seam silly, but java that I have, 11 AdoptOpenJDK does not complain that it did not find the jar file:</p>\n<pre><code>java -cp nonexistingfile.jar il.co.codeguru.corewars8086.CoreWarsEngine\nError: Could not find or load main class il.co.codeguru.corewars8086.CoreWarsEngine\nCaused by: java.lang.ClassNotFoundException: il.co.codeguru.corewars8086.CoreWarsEngine\n</code></pre>\n<p>Second make sure the jar contains the class you are trying to start. I have stumbled on at least one <code>corewars8086</code> download on the net that does not have the <code>CoreWarsEngine</code> class.</p>\n<p>If you got the sources from <a href=\"https://github.com/codeguru-il/corewars8086\" rel=\"nofollow noreferrer\">GitHub/codeguru-il/corewars8086</a> then you need maven to build it. The resulting jar will be in <code>target/corewars8086-4.0.0-SNAPSHOT-jar-with-dependencies.jar</code>. Or if you build it a different way then you need to figure out where the result jar will be and what is the name.</p>\n<p>I managed to run it from the sources of the above repo<a href=\"https://i.stack.imgur.com/FMJPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FMJPB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19336553,"reputation":157,"user_id":14137041,"display_name":"neta cohen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644369313,"creation_date":1644352501,"question_id":71040538,"body_markdown":"I&#39;m trying to run a java file which is in the /lib/jarfile.jar jar file in the path &quot;il/co/codeguru/corewars8086/CoreWarsEngine&quot; with this command in linux:\r\n```\r\njava -cp lib/jarfile.jar il.co.codeguru.corewars8086.CoreWarsEngine\r\n```\r\nbut I get this error message:\r\n```\r\nError: Could not find or load main class il.co.codeguru.corewars8086.CoreWarsEngine\r\n```\r\nI read I little bit about classpathes in java but i still don&#39;t know what is wrong with what I did...  \r\n\r\nthis is the content of CoreWarsEngine\r\n\r\n```\r\npackage il.co.codeguru.corewars8086;\r\n\r\nimport il.co.codeguru.corewars8086.gui.CompetitionWindow;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class CoreWarsEngine\r\n{\r\n\tpublic static void main (String args[]) throws IOException\r\n\t{\r\n        CompetitionWindow c = new CompetitionWindow();\r\n        c.setVisible(true);\r\n        c.pack();\r\n    }\r\n}\r\n```","title":"java ClassNotFoundException in jar files","body":"<p>I'm trying to run a java file which is in the /lib/jarfile.jar jar file in the path &quot;il/co/codeguru/corewars8086/CoreWarsEngine&quot; with this command in linux:</p>\n<pre><code>java -cp lib/jarfile.jar il.co.codeguru.corewars8086.CoreWarsEngine\n</code></pre>\n<p>but I get this error message:</p>\n<pre><code>Error: Could not find or load main class il.co.codeguru.corewars8086.CoreWarsEngine\n</code></pre>\n<p>I read I little bit about classpathes in java but i still don't know what is wrong with what I did...</p>\n<p>this is the content of CoreWarsEngine</p>\n<pre><code>package il.co.codeguru.corewars8086;\n\nimport il.co.codeguru.corewars8086.gui.CompetitionWindow;\n\nimport java.io.IOException;\n\npublic class CoreWarsEngine\n{\n    public static void main (String args[]) throws IOException\n    {\n        CompetitionWindow c = new CompetitionWindow();\n        c.setVisible(true);\n        c.pack();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","repository"],"answers":[{"tags":[],"owner":{"account_id":1068101,"reputation":87,"user_id":1068074,"accept_rate":80,"display_name":"rev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644345497,"creation_date":1644345497,"answer_id":71039158,"question_id":71038989,"body_markdown":"It is working because spring will scan the class path and identify given class is repository (DAO) based on the imports, when use @Repositary spring context know how to handle expections like re-throw to pre defined methods ..etc, and also this annotation help readability of the code. ","title":"Best Practises of @Repository in Spring boot framework","body":"<p>It is working because spring will scan the class path and identify given class is repository (DAO) based on the imports, when use @Repositary spring context know how to handle expections like re-throw to pre defined methods ..etc, and also this annotation help readability of the code.</p>\n"},{"tags":[],"owner":{"account_id":23826766,"reputation":1,"user_id":17833695,"display_name":"Ajinkya Taranekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644345631,"creation_date":1644345631,"answer_id":71039188,"question_id":71038989,"body_markdown":"For `@Repository` annotation even if you haven&#39;t mentioned Spring recognizes the repositories by the fact that they are extending Repository interfaces like JPARepository or CrudRepository.\r\n\r\nSo, it&#39;s not mandatory to mention annotation, you can check in your code whether you have mentioned `@EnableJpaRepositories(&quot;packages&quot;)` above Main class or not. That might also be one of the reasons why it is working.\r\n\r\nAs per best practices for annotations, they have a purpose to fulfill, @Repository is important from a database connection perspective, where it has lots of proper exceptions throw, or pre-defined methods. \r\n\r\nIf you do not use the proper annotations, you may face commit exceptions overridden by rollback transactions. You will see exceptions during the stress load test that is related to roll-back JDBC transactions.\r\n\r\nFor more clarity have a look at this [post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in","title":"Best Practises of @Repository in Spring boot framework","body":"<p>For <code>@Repository</code> annotation even if you haven't mentioned Spring recognizes the repositories by the fact that they are extending Repository interfaces like JPARepository or CrudRepository.</p>\n<p>So, it's not mandatory to mention annotation, you can check in your code whether you have mentioned <code>@EnableJpaRepositories(&quot;packages&quot;)</code> above Main class or not. That might also be one of the reasons why it is working.</p>\n<p>As per best practices for annotations, they have a purpose to fulfill, @Repository is important from a database connection perspective, where it has lots of proper exceptions throw, or pre-defined methods.</p>\n<p>If you do not use the proper annotations, you may face commit exceptions overridden by rollback transactions. You will see exceptions during the stress load test that is related to roll-back JDBC transactions.</p>\n<p>For more clarity have a look at this <a href=\"https://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in\">post</a></p>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644345819,"creation_date":1644345819,"answer_id":71039229,"question_id":71038989,"body_markdown":"I assume you have somewhere implicitly or explicitly a `EnableJpaRepositories` annotation which scans all Spring repositories and your repositories are extending `CrudRepository` or other Spring Data base classes.\r\n\r\nThe annotation is only needed when defining you own repositories without using Spring Data mechanism. Note, that `Repository` is just a special `Component`, latter should also do it to have DI enabled, so this is more for better recognizing the purpose of the class.","title":"Best Practises of @Repository in Spring boot framework","body":"<p>I assume you have somewhere implicitly or explicitly a <code>EnableJpaRepositories</code> annotation which scans all Spring repositories and your repositories are extending <code>CrudRepository</code> or other Spring Data base classes.</p>\n<p>The annotation is only needed when defining you own repositories without using Spring Data mechanism. Note, that <code>Repository</code> is just a special <code>Component</code>, latter should also do it to have DI enabled, so this is more for better recognizing the purpose of the class.</p>\n"},{"tags":[],"owner":{"account_id":24144022,"reputation":11,"user_id":18109901,"display_name":"Andr&#233; Meira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644369131,"creation_date":1644348575,"answer_id":71039812,"question_id":71038989,"body_markdown":"@Repository is used to indicate interface that extends a jpa repository, for example. Notice in the example below, the interface extends the Beer class and the BeerQueries query interface.\r\n```\r\npackage com.algaworks.brewer.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.algaworks.brewer.model.Beer;\r\nimport com.algaworks.brewer.repository.helper.beer.BeersQueries;\r\n\r\n@Repository\r\npublic interface Beers extends JpaRepository&lt;Beer, Long&gt;, BeersQueries {\r\n\r\n}\r\n```\r\n","title":"Best Practises of @Repository in Spring boot framework","body":"<p>@Repository is used to indicate interface that extends a jpa repository, for example. Notice in the example below, the interface extends the Beer class and the BeerQueries query interface.</p>\n<pre><code>package com.algaworks.brewer.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.algaworks.brewer.model.Beer;\nimport com.algaworks.brewer.repository.helper.beer.BeersQueries;\n\n@Repository\npublic interface Beers extends JpaRepository&lt;Beer, Long&gt;, BeersQueries {\n\n}\n</code></pre>\n"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1644369131,"creation_date":1644344793,"question_id":71038989,"body_markdown":"I have a Spring boot application which has a UserRepository but I have not annotated that repository with @Repository but still my application works fine.\r\n\r\nWhy @Repository annotation is optional in Spring boot and what is the best practise that should we annotate it or not in repository classes.","title":"Best Practises of @Repository in Spring boot framework","body":"<p>I have a Spring boot application which has a UserRepository but I have not annotated that repository with @Repository but still my application works fine.</p>\n<p>Why @Repository annotation is optional in Spring boot and what is the best practise that should we annotate it or not in repository classes.</p>\n"},{"tags":["java","spring-boot","spring-4"],"comments":[{"owner":{"account_id":1882982,"reputation":63,"user_id":1702759,"display_name":"csr"},"score":0,"creation_date":1588311482,"post_id":61537318,"comment_id":108854139,"body_markdown":"@levant pied : I have seen similar question do you have any findings","body":"@levant pied : I have seen similar question do you have any findings"},{"owner":{"account_id":1915903,"reputation":2018,"user_id":1728511,"accept_rate":80,"display_name":"Mikhail Kopylov"},"score":0,"creation_date":1588312859,"post_id":61537318,"comment_id":108854441,"body_markdown":"It seems you&#39;re using Condition for not the same thing that they&#39;re intended to be used. Could you please describe your case in detail so that I can recommend you smth useful?","body":"It seems you&#39;re using Condition for not the same thing that they&#39;re intended to be used. Could you please describe your case in detail so that I can recommend you smth useful?"},{"owner":{"account_id":1882982,"reputation":63,"user_id":1702759,"display_name":"csr"},"score":0,"creation_date":1588314075,"post_id":61537318,"comment_id":108854784,"body_markdown":"Interface has multiple implementations and table has enable or disable value for each implemented class to decide the initialize the bean, so thinking of using @Condition to achieve this   ?","body":"Interface has multiple implementations and table has enable or disable value for each implemented class to decide the initialize the bean, so thinking of using @Condition to achieve this   ?"},{"owner":{"account_id":6434548,"reputation":240,"user_id":4986530,"display_name":"Ryan Guamos"},"score":0,"creation_date":1588314721,"post_id":61537318,"comment_id":108854963,"body_markdown":"@user1702759 so how are you going to inject those enabled &quot;multiple implementations&quot; of your interface?","body":"@user1702759 so how are you going to inject those enabled &quot;multiple implementations&quot; of your interface?"}],"answers":[{"tags":[],"owner":{"account_id":6434548,"reputation":240,"user_id":4986530,"display_name":"Ryan Guamos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588313869,"creation_date":1588313869,"answer_id":61537774,"question_id":61537318,"body_markdown":"Hmm, maybe you can just create a Configuration Class and Inject your Repository then create a Bean. Then inside the bean method fetch the value from the database and return conditional instance. something like this\r\n\r\n    @Configuration\r\n    public class Config {\r\n\r\n    @Autowired  \r\n    private Repository repository;\r\n\r\n    @Bean\r\n    public Interface interface(){\r\n      boolean val = reposiory.getDBValue();\r\n      if(val)\r\n        return new Impl1();\r\n      else\r\n        return new Impl2();\r\n      }\r\n    }","title":"Spring @Conditional based on a value in database table","body":"<p>Hmm, maybe you can just create a Configuration Class and Inject your Repository then create a Bean. Then inside the bean method fetch the value from the database and return conditional instance. something like this</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n@Autowired  \nprivate Repository repository;\n\n@Bean\npublic Interface interface(){\n  boolean val = reposiory.getDBValue();\n  if(val)\n    return new Impl1();\n  else\n    return new Impl2();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1915903,"reputation":2018,"user_id":1728511,"accept_rate":80,"display_name":"Mikhail Kopylov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588315159,"creation_date":1588315159,"answer_id":61537971,"question_id":61537318,"body_markdown":"Database values can be changed during application work, while it doesn&#39;t seem a good idea to reload application context. \nSo I would recommended using configuration properties to choose which beans should be available in context. \n\nMoreover, there&#39;s a Spring Cloud Config that allows you to store configuration in git or some other storages. Its consumers may restart context once configuration changes.\nIt seems worth talking a look at it as well. ","title":"Spring @Conditional based on a value in database table","body":"<p>Database values can be changed during application work, while it doesn't seem a good idea to reload application context. \nSo I would recommended using configuration properties to choose which beans should be available in context. </p>\n\n<p>Moreover, there's a Spring Cloud Config that allows you to store configuration in git or some other storages. Its consumers may restart context once configuration changes.\nIt seems worth talking a look at it as well. </p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588316172,"creation_date":1588316172,"answer_id":61538123,"question_id":61537318,"body_markdown":"Well, you&#39;re trying to do something that doesn&#39;t map well to spring boot in this form.\r\n\r\nI suggest to slightly change the requirement:\r\n\r\nInstead of trying to access the database in the custom condition, create a custom source of configuration and load the property from the database into the Environment so that when the conditionals get evaluated later on during the startup process, the property with an associated value (previously resolved from the database) is already available.\r\n\r\nExamples of following such an approach are:\r\n- Spring boot cloud config that reads the configuration properties from &quot;remote&quot; config service (via REST)\r\n- Spring boot consul integration (that reads from consul obviously)\r\n\r\nThis approach is much more spring-friendly, and also has can save the application from calling the database multiple times (what if you have 100 beans with this custom conditional) - will it do 100 queries?  \r\n\r\nNow, this will mean probably that you won&#39;t need a custom conditional - probably it will be `@Condition` on property.\r\n\r\nAnother caveat is that you won&#39;t be able to use JPA/Spring Data to load this property, probably you&#39;ll have to go with a Plain JDBC here.","title":"Spring @Conditional based on a value in database table","body":"<p>Well, you're trying to do something that doesn't map well to spring boot in this form.</p>\n\n<p>I suggest to slightly change the requirement:</p>\n\n<p>Instead of trying to access the database in the custom condition, create a custom source of configuration and load the property from the database into the Environment so that when the conditionals get evaluated later on during the startup process, the property with an associated value (previously resolved from the database) is already available.</p>\n\n<p>Examples of following such an approach are:\n- Spring boot cloud config that reads the configuration properties from \"remote\" config service (via REST)\n- Spring boot consul integration (that reads from consul obviously)</p>\n\n<p>This approach is much more spring-friendly, and also has can save the application from calling the database multiple times (what if you have 100 beans with this custom conditional) - will it do 100 queries?  </p>\n\n<p>Now, this will mean probably that you won't need a custom conditional - probably it will be <code>@Condition</code> on property.</p>\n\n<p>Another caveat is that you won't be able to use JPA/Spring Data to load this property, probably you'll have to go with a Plain JDBC here.</p>\n"},{"tags":[],"owner":{"account_id":19616073,"reputation":41,"user_id":14357518,"display_name":"user3423"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616622558,"creation_date":1616622558,"answer_id":66789904,"question_id":61537318,"body_markdown":"sadly you cannot inject a lot into condition: so try with plain url and make manual connection to server, \r\nbut in my case this didn&#39;t work as I had flyway migration that was adding the same configuration value into the database (chicken and egg problem)\r\n\r\n\r\n\r\n    class EnableXXXCondition implements Condition {\r\n        private Environment environment;\r\n\r\n        @SneakyThrows\r\n        @Override\r\n        public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n            environment = context.getBeanFactory().getBean(Environment.class);\r\n\r\n            final String url = environment.getProperty(&quot;spring.datasource.url&quot;);\r\n            final String user = environment.getProperty(&quot;spring.datasource.username&quot;);\r\n            final String password = environment.getProperty(&quot;spring.datasource.password&quot;);\r\n\r\n            String x;\r\n\r\n            //we have problems with flyway before\r\n            try (Connection connection = DriverManager.getConnection(url, user, password)) {\r\n                try (Statement statement = connection.createStatement()) {\r\n                    try (final ResultSet resultSet = statement.executeQuery(&quot;select x from y&quot;)) {\r\n                        resultSet.next();\r\n                        x = resultSet.getString(&quot;x&quot;);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return Boolean.valueOf(x);\r\n        }\r\n    }","title":"Spring @Conditional based on a value in database table","body":"<p>sadly you cannot inject a lot into condition: so try with plain url and make manual connection to server,\nbut in my case this didn't work as I had flyway migration that was adding the same configuration value into the database (chicken and egg problem)</p>\n<pre><code>class EnableXXXCondition implements Condition {\n    private Environment environment;\n\n    @SneakyThrows\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        environment = context.getBeanFactory().getBean(Environment.class);\n\n        final String url = environment.getProperty(&quot;spring.datasource.url&quot;);\n        final String user = environment.getProperty(&quot;spring.datasource.username&quot;);\n        final String password = environment.getProperty(&quot;spring.datasource.password&quot;);\n\n        String x;\n\n        //we have problems with flyway before\n        try (Connection connection = DriverManager.getConnection(url, user, password)) {\n            try (Statement statement = connection.createStatement()) {\n                try (final ResultSet resultSet = statement.executeQuery(&quot;select x from y&quot;)) {\n                    resultSet.next();\n                    x = resultSet.getString(&quot;x&quot;);\n                }\n            }\n        }\n\n        return Boolean.valueOf(x);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16963758,"reputation":1,"user_id":12270234,"display_name":"ankita singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644368662,"creation_date":1644352236,"answer_id":71040484,"question_id":61537318,"body_markdown":"You can try defining your condition in your configuration file and use it like below :\r\n```\r\n@ConditionalOnProperty(name=&quot;filter.enabled&quot;, havingValue=&quot;true&quot;)\r\n```","title":"Spring @Conditional based on a value in database table","body":"<p>You can try defining your condition in your configuration file and use it like below :</p>\n<pre><code>@ConditionalOnProperty(name=&quot;filter.enabled&quot;, havingValue=&quot;true&quot;)\n</code></pre>\n"}],"owner":{"account_id":1882982,"reputation":63,"user_id":1702759,"display_name":"csr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4248,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61537971,"answer_count":5,"score":3,"last_activity_date":1644368662,"creation_date":1588311083,"question_id":61537318,"body_markdown":"Condition evaluation depends on a value provided in data base table\r\n\r\n    @Component\r\n    public class XYZCondition implements Condition{\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n                  //based on value defined in DB should return true/false\r\n        }\r\n    \r\n    }\r\n\r\nAs Condition is executing very early, unable to fetch db value\r\nis there any alternate way to achieve this ?\r\n","title":"Spring @Conditional based on a value in database table","body":"<p>Condition evaluation depends on a value provided in data base table</p>\n\n<pre><code>@Component\npublic class XYZCondition implements Condition{\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n              //based on value defined in DB should return true/false\n    }\n\n}\n</code></pre>\n\n<p>As Condition is executing very early, unable to fetch db value\nis there any alternate way to achieve this ?</p>\n"},{"tags":["java","spring-boot","session","spring-security","dropwizard"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":2,"creation_date":1644232235,"post_id":71015115,"comment_id":125541668,"body_markdown":"Please update your question with your configuration and what you have tried so far. With that, it&#39;d be easier for us to help you.","body":"Please update your question with your configuration and what you have tried so far. With that, it&#39;d be easier for us to help you."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645085579,"post_id":71015115,"comment_id":125778141,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":13620239,"reputation":1,"user_id":9825003,"display_name":"Houssem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644368432,"creation_date":1644337762,"answer_id":71037365,"question_id":71015115,"body_markdown":"Try to pass a parameter of type HttpSession to your controller.\r\n\r\nThen access it using :\r\n```\r\nsession.getAttribut(atr)\r\n```\r\nAnd modify it using \r\n```\r\nsession.setAttribut(atr,&quot;value&quot;)\r\n```\r\n\r\n","title":"How intercept session get attribute?","body":"<p>Try to pass a parameter of type HttpSession to your controller.</p>\n<p>Then access it using :</p>\n<pre><code>session.getAttribut(atr)\n</code></pre>\n<p>And modify it using</p>\n<pre><code>session.setAttribut(atr,&quot;value&quot;)\n</code></pre>\n"}],"owner":{"account_id":24178474,"reputation":1,"user_id":18139481,"display_name":"Athul Pai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1644368432,"creation_date":1644220676,"question_id":71015115,"body_markdown":"I was trying to implement persistence for sessions. I want to basically store the session data in a db and currently I&#39;m using HttpSessionAttributeListener to store value in db when a new session is created.\r\n\r\nI want to know how to retrieve the session from database ie how do I override the getSession attribute to retrieve from database.\r\n\r\n","title":"How intercept session get attribute?","body":"<p>I was trying to implement persistence for sessions. I want to basically store the session data in a db and currently I'm using HttpSessionAttributeListener to store value in db when a new session is created.</p>\n<p>I want to know how to retrieve the session from database ie how do I override the getSession attribute to retrieve from database.</p>\n"},{"tags":["java","jpa","entitygraph"],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644368222,"creation_date":1644368222,"answer_id":71042767,"question_id":71042383,"body_markdown":"Did my experiment, it appears to be on the `from` field.\r\n\r\n```\r\n@EntityGraph(attributePaths = {\r\n  &quot;organization.attributes&quot;,\r\n})\r\n@Query(&quot;select om.organization from OrganizationMember om&quot;)\r\n```\r\n\r\nDoing otherwise would get\r\n\r\n&gt; org.springframework.dao.InvalidDataAccessApiUsageException: Unable to locate Attribute  with the the given name [attributes] on this ManagedType ...","title":"Is @EntityGraph applied on the Select or the FROM?","body":"<p>Did my experiment, it appears to be on the <code>from</code> field.</p>\n<pre><code>@EntityGraph(attributePaths = {\n  &quot;organization.attributes&quot;,\n})\n@Query(&quot;select om.organization from OrganizationMember om&quot;)\n</code></pre>\n<p>Doing otherwise would get</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: Unable to locate Attribute  with the the given name [attributes] on this ManagedType ...</p>\n</blockquote>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644368222,"creation_date":1644364460,"question_id":71042383,"body_markdown":"I am trying to debug a n+1 query issue and I was trying to use EntityGraphs to solve it.  \r\n\r\nSay I have the following query\r\n\r\n```\r\n@Query(&quot;select om.organization from OrganizationMember om&quot;)\r\n```\r\n\r\nAnd Organization has some extra fields say &quot;attributes&quot;\r\n\r\nWould the `EntityGraph` optimization get applied to the select?\r\n```\r\n@EntityGraph(attributePaths = {\r\n  &quot;attributes&quot;,\r\n})\r\n@Query(&quot;select om.organization from OrganizationMember om&quot;)\r\n```\r\n\r\nOr should I do it like this?\r\n\r\n```\r\n@EntityGraph(attributePaths = {\r\n  &quot;organization.attributes&quot;,\r\n})\r\n@Query(&quot;select om.organization from OrganizationMember om&quot;)\r\n```\r\n","title":"Is @EntityGraph applied on the Select or the FROM?","body":"<p>I am trying to debug a n+1 query issue and I was trying to use EntityGraphs to solve it.</p>\n<p>Say I have the following query</p>\n<pre><code>@Query(&quot;select om.organization from OrganizationMember om&quot;)\n</code></pre>\n<p>And Organization has some extra fields say &quot;attributes&quot;</p>\n<p>Would the <code>EntityGraph</code> optimization get applied to the select?</p>\n<pre><code>@EntityGraph(attributePaths = {\n  &quot;attributes&quot;,\n})\n@Query(&quot;select om.organization from OrganizationMember om&quot;)\n</code></pre>\n<p>Or should I do it like this?</p>\n<pre><code>@EntityGraph(attributePaths = {\n  &quot;organization.attributes&quot;,\n})\n@Query(&quot;select om.organization from OrganizationMember om&quot;)\n</code></pre>\n"},{"tags":["java","groovy","split","integration"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1644340142,"post_id":71037880,"comment_id":125578755,"body_markdown":"That&#39;s not CSV. CSV is ***comma*** separated values. I&#39;ve noticed a disturbing trend of people referring to any delimited text file as a CSV file.","body":"That&#39;s not CSV. CSV is <b><i>comma</i></b> separated values. I&#39;ve noticed a disturbing trend of people referring to any delimited text file as a CSV file."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644340821,"post_id":71037880,"comment_id":125579045,"body_markdown":"The `split` breaks the string into three parts: an empty string before the first &quot;Header&quot;, the part after the first and before the second, and the part after the second. The for loop starts at 1 so it skips the empty string, and it goes up to length - 1, so it should include both the non-empty parts. You need to add debugging details showing what you&#39;re getting, and what you&#39;re expecting to get.","body":"The <code>split</code> breaks the string into three parts: an empty string before the first &quot;Header&quot;, the part after the first and before the second, and the part after the second. The for loop starts at 1 so it skips the empty string, and it goes up to length - 1, so it should include both the non-empty parts. You need to add debugging details showing what you&#39;re getting, and what you&#39;re expecting to get."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644340862,"post_id":71037880,"comment_id":125579063,"body_markdown":"Note: `i&lt;=arrayLength-1` instead of `i &lt; arrayLength` is a non-idiomatic way of writing the loop condition.","body":"Note: <code>i&lt;=arrayLength-1</code> instead of <code>i &lt; arrayLength</code> is a non-idiomatic way of writing the loop condition."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644341051,"post_id":71037880,"comment_id":125579139,"body_markdown":"Wait. Each time around the loop, you do `message.setBody(str)`. That is obviously going to replace the body each time, leaving only the last one on the message. How are you expecting this to include more than one string in the message body? Your problem has nothing to do with splitting strings.","body":"Wait. Each time around the loop, you do <code>message.setBody(str)</code>. That is obviously going to replace the body each time, leaving only the last one on the message. How are you expecting this to include more than one string in the message body? Your problem has nothing to do with splitting strings."}],"answers":[{"tags":[],"owner":{"account_id":19437283,"reputation":12,"user_id":14216457,"display_name":"UgoIvy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644365568,"creation_date":1644365112,"answer_id":71042452,"question_id":71037880,"body_markdown":"There must be a simpler way but this should do what you want for the sample string you sent\r\n\r\nwhere ```toMod``` is your string\r\n\r\n```def arr = []\r\ndef split = toMod.splitEachLine(&quot;\\\\|&quot;) { it }\r\n\r\nint counter = 0\r\nsplit.each {\r\n    def tmpMap = [:]\r\n    def val = it.trim()\r\n    if (val.contains(&quot;Header&quot;) || val.contains(&quot;header&quot;)) {\r\n        counter++\r\n    } else {\r\n        tmpMap[counter] = val\r\n    }\r\n    arr.add(tmpMap)\r\n}\r\n\r\ndef finalArr = []\r\n\r\nfor (int i = 1; i &lt;= counter; i++) {\r\n    def tmp = []\r\n    arr.each {\r\n        if (it[i] != null) {\r\n            tmp.add(it[i])\r\n        }\r\n\r\n    }\r\n    finalArr.add(tmp)\r\n}\r\n```\r\nOutput:\r\n```\r\n[[1000, SA, 20210902, 20210902], [USD, Line, 6101200, WTAppUpload-02, 2000, 40005001, Line, 1110100, WTAppUpload-03, 2000, Line, 6101200, WTAppUpload-04, 1500, 40005002, Line, 1110100, WTAppUpload-05, 1500, Line, 6101200, WTAppUpload-06, 1500, 40005003, Line, 1110100, WTAppUpload-07, 1500], [1100, SA, 20210902, 20210902], [USD, Line, 6101200, WTAppUpload-12, 2000, 40005001, Line, 1110100, WTAppUpload-13, , 2000, Line, 6101200, WTAppUpload-14, 1500, 40005002, Line, 1110100, WTAppUpload-15, 1500, Line, 6101200, WTAppUpload-16, 1500, 40005003, Line, 1110100, WTAppUpload-17, 1500]]\r\n```","title":"Splitting CSV at each header and passing each split sequentially","body":"<p>There must be a simpler way but this should do what you want for the sample string you sent</p>\n<p>where <code>toMod</code> is your string</p>\n<pre><code>def split = toMod.splitEachLine(&quot;\\\\|&quot;) { it }\n\nint counter = 0\nsplit.each {\n    def tmpMap = [:]\n    def val = it.trim()\n    if (val.contains(&quot;Header&quot;) || val.contains(&quot;header&quot;)) {\n        counter++\n    } else {\n        tmpMap[counter] = val\n    }\n    arr.add(tmpMap)\n}\n\ndef finalArr = []\n\nfor (int i = 1; i &lt;= counter; i++) {\n    def tmp = []\n    arr.each {\n        if (it[i] != null) {\n            tmp.add(it[i])\n        }\n\n    }\n    finalArr.add(tmp)\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[[1000, SA, 20210902, 20210902], [USD, Line, 6101200, WTAppUpload-02, 2000, 40005001, Line, 1110100, WTAppUpload-03, 2000, Line, 6101200, WTAppUpload-04, 1500, 40005002, Line, 1110100, WTAppUpload-05, 1500, Line, 6101200, WTAppUpload-06, 1500, 40005003, Line, 1110100, WTAppUpload-07, 1500], [1100, SA, 20210902, 20210902], [USD, Line, 6101200, WTAppUpload-12, 2000, 40005001, Line, 1110100, WTAppUpload-13, , 2000, Line, 6101200, WTAppUpload-14, 1500, 40005002, Line, 1110100, WTAppUpload-15, 1500, Line, 6101200, WTAppUpload-16, 1500, 40005003, Line, 1110100, WTAppUpload-17, 1500]]\n</code></pre>\n"}],"owner":{"account_id":24154622,"reputation":1,"user_id":18119011,"display_name":"T_Tarun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644365568,"creation_date":1644339834,"question_id":71037880,"body_markdown":"I am trying to split the below CSV File based on occurrence of &quot;Header&quot; i.e. for the payload below , two separate CSV should pass after the application of Script. Any help for this case using Groovy/JavaScript would be helpful.\r\n\r\n    Header|1000|SA|20210902|20210902|header text-01|USD| Line|6101200|WTAppUpload-02|2000|40005001| Line|1110100|WTAppUpload-03|2000| Line|6101200|WTAppUpload-04|1500|40005002| Line|1110100|WTAppUpload-05|1500| Line|6101200|WTAppUpload-06|1500|40005003| Line|1110100|WTAppUpload-07|1500| Header|1100|SA|20210902|20210902|header text-02|USD| Line|6101200|WTAppUpload-12|2000|40005001| Line|1110100|WTAppUpload-13||2000| Line|6101200|WTAppUpload-14|1500|40005002| Line|1110100|WTAppUpload-15|1500| Line|6101200|WTAppUpload-16|1500|40005003| Line|1110100|WTAppUpload-17|1500|\r\n\r\n\r\nOnly the last value for each Split is getting displayed by below script, we require all to be populated respectively in each split. Can someone please suggest.\r\n\r\n    def body= message.getBody(String.class);\r\n    String[] value = body.split(&quot;Header&quot;);\r\n\r\n    def arrayLength = value.size();\r\n\r\n    message.setHeader(&quot;value&quot;,arrayLength);\r\n    for(int i=1; i&lt;=arrayLength-1;i++) {         \r\n    def str = value[i];\r\n    message.setBody(str);\r\n    }\r\n    return message;","title":"Splitting CSV at each header and passing each split sequentially","body":"<p>I am trying to split the below CSV File based on occurrence of &quot;Header&quot; i.e. for the payload below , two separate CSV should pass after the application of Script. Any help for this case using Groovy/JavaScript would be helpful.</p>\n<pre><code>Header|1000|SA|20210902|20210902|header text-01|USD| Line|6101200|WTAppUpload-02|2000|40005001| Line|1110100|WTAppUpload-03|2000| Line|6101200|WTAppUpload-04|1500|40005002| Line|1110100|WTAppUpload-05|1500| Line|6101200|WTAppUpload-06|1500|40005003| Line|1110100|WTAppUpload-07|1500| Header|1100|SA|20210902|20210902|header text-02|USD| Line|6101200|WTAppUpload-12|2000|40005001| Line|1110100|WTAppUpload-13||2000| Line|6101200|WTAppUpload-14|1500|40005002| Line|1110100|WTAppUpload-15|1500| Line|6101200|WTAppUpload-16|1500|40005003| Line|1110100|WTAppUpload-17|1500|\n</code></pre>\n<p>Only the last value for each Split is getting displayed by below script, we require all to be populated respectively in each split. Can someone please suggest.</p>\n<pre><code>def body= message.getBody(String.class);\nString[] value = body.split(&quot;Header&quot;);\n\ndef arrayLength = value.size();\n\nmessage.setHeader(&quot;value&quot;,arrayLength);\nfor(int i=1; i&lt;=arrayLength-1;i++) {         \ndef str = value[i];\nmessage.setBody(str);\n}\nreturn message;\n</code></pre>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":10700640,"reputation":221,"user_id":8425969,"display_name":"Виктор"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1644365537,"creation_date":1512246279,"answer_id":47612213,"question_id":47612133,"body_markdown":"You should use `maven-assembly-plugin` instead of `maven-compiler-plugin`. \r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n          &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;single&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven","title":"Could not find goal &#39;single&#39; with Maven running mvn package","body":"<p>You should use <code>maven-assembly-plugin</code> instead of <code>maven-compiler-plugin</code>.</p>\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n    &lt;descriptorRefs&gt;\n      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n    &lt;/descriptorRefs&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n      &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;single&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\">source</a></p>\n"}],"owner":{"account_id":6472505,"reputation":90,"user_id":7705573,"display_name":"james king"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47612213,"answer_count":1,"score":1,"last_activity_date":1644365537,"creation_date":1512245762,"question_id":47612133,"body_markdown":"I am trying to compile some java classes with maven to produce an executable jar file that is stand alone\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;grids&lt;/groupId&gt;\r\n    &lt;artifactId&gt;grids&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;MainMap_Challange&lt;/name&gt;\r\n    &lt;description&gt;Tickets and Events System&lt;/description&gt;\r\n    &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n\t\t  &lt;descriptorRefs&gt;\r\n\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t  &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t  &lt;execution&gt;\r\n\t\t    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n\t\t\t  &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n\t\t\t  &lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t      &lt;/goals&gt;\r\n\t\t  &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nI would like to produce a stand alone jar file like explained here \r\nhttps://maven.apache.org/plugins/maven-assembly-plugin/usage.html\r\n\r\nThe error i get is:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building MainMap_Challange 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.335 s\r\n    [INFO] Finished at: 2017-12-02T20:08:49Z\r\n    [INFO] Final Memory: 5M/15M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Could not find goal &#39;single&#39; in plugin org.apache.maven.plugins:maven-compiler-plugin:3.5.1 among available goals compile, help, testCompile -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] \r\n    http://cwiki.apache.org/confluence/display/MAVEN/MojoNotFoundException\r\n\r\nwhen running &quot;mvn package&quot; on the command line\r\n\r\n\r\n","title":"Could not find goal &#39;single&#39; with Maven running mvn package","body":"<p>I am trying to compile some java classes with maven to produce an executable jar file that is stand alone</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;grids&lt;/groupId&gt;\n&lt;artifactId&gt;grids&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;MainMap_Challange&lt;/name&gt;\n&lt;description&gt;Tickets and Events System&lt;/description&gt;\n&lt;build&gt;\n&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n      &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n          &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;single&lt;/goal&gt;\n          &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>I would like to produce a stand alone jar file like explained here \n<a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/usage.html</a></p>\n\n<p>The error i get is:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building MainMap_Challange 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.335 s\n[INFO] Finished at: 2017-12-02T20:08:49Z\n[INFO] Final Memory: 5M/15M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Could not find goal 'single' in plugin org.apache.maven.plugins:maven-compiler-plugin:3.5.1 among available goals compile, help, testCompile -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] \nhttp://cwiki.apache.org/confluence/display/MAVEN/MojoNotFoundException\n</code></pre>\n\n<p>when running \"mvn package\" on the command line</p>\n"},{"tags":["java","selenium","testing","junit","cucumber"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":3,"creation_date":1588074455,"post_id":61479158,"comment_id":108754252,"body_markdown":"https://cucumber.io/docs/guides/parallel-execution/","body":"<a href=\"https://cucumber.io/docs/guides/parallel-execution/\" rel=\"nofollow noreferrer\">cucumber.io/docs/guides/parallel-execution</a>"},{"owner":{"account_id":13424136,"reputation":252,"user_id":9686029,"display_name":"user9686029"},"score":0,"creation_date":1588079789,"post_id":61479158,"comment_id":108757222,"body_markdown":"Thanks but i dont understand the Scenario Outlines feature file, does this group all the feature files together or something?","body":"Thanks but i dont understand the Scenario Outlines feature file, does this group all the feature files together or something?"},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1588081670,"post_id":61479158,"comment_id":108758420,"body_markdown":"U should look at this - https://cucumber.io/docs/gherkin/reference/. Search for scenario outline. Basically it runs a specific scenario with different data sets.","body":"U should look at this - <a href=\"https://cucumber.io/docs/gherkin/reference/\" rel=\"nofollow noreferrer\">cucumber.io/docs/gherkin/reference</a>. Search for scenario outline. Basically it runs a specific scenario with different data sets."},{"owner":{"account_id":13424136,"reputation":252,"user_id":9686029,"display_name":"user9686029"},"score":0,"creation_date":1588084262,"post_id":61479158,"comment_id":108760151,"body_markdown":"Oh ok, I have numerous scenarios outlines, my main question is how do i run parallel tests form the main runner? It doesnt seem to be possible and all i can see is that i add the scenarios to to resources file and add the surefire plugin, but cant seem to see anyway to run the from the main runner ?","body":"Oh ok, I have numerous scenarios outlines, my main question is how do i run parallel tests form the main runner? It doesnt seem to be possible and all i can see is that i add the scenarios to to resources file and add the surefire plugin, but cant seem to see anyway to run the from the main runner ?"},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1588085367,"post_id":61479158,"comment_id":108760932,"body_markdown":"with junit u cannot run in parallel by using the runner. U have to use maven. with testng runner it is possible to run directly.Else u can run by using threads option from command line. https://cucumber.io/docs/guides/parallel-execution/#cli","body":"with junit u cannot run in parallel by using the runner. U have to use maven. with testng runner it is possible to run directly.Else u can run by using threads option from command line. <a href=\"https://cucumber.io/docs/guides/parallel-execution/#cli\" rel=\"nofollow noreferrer\">cucumber.io/docs/guides/parallel-execution/#cli</a>"}],"owner":{"account_id":13424136,"reputation":252,"user_id":9686029,"display_name":"user9686029"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644365372,"creation_date":1588073414,"question_id":61479158,"body_markdown":"Hi I currently have a large project where i run my cucumber tests, I am running these at night but im finding the jenkins build keeps breaking after an hour or so, so I want to now run my tests in parallel.\r\n\r\nIs this possible to do with an existing project, my project is set up with the feature files, steps,runner etc in the src/test/java directory \r\n[![enter image description here][1]][1]\r\n\r\nand my test runner looks like this\r\n\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import io.cucumber.junit.Cucumber;\r\n    import org.junit.runner.RunWith;\r\n    import org.testng.annotations.DataProvider;\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n        features = {&quot;src/test/java/noting/feature_files/&quot;},\r\n        glue = {&quot;noting.steps&quot;, &quot;noting.hooks&quot;},\r\n        tags = {&quot;@regression&quot;},\r\n        monochrome = true,\r\n        plugin = {&quot;pretty&quot;, &quot;json:target/cucumber-report/cucumber.json&quot;, &quot;rerun:target/rerun.txt&quot;}\r\n    )\r\n\r\n    public class MainRunner {\r\n\r\n\r\n\r\n    }\r\n\r\nIs there a way to convert this to run in parallel, maybe by annotation or feature package? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AHFPZ.png","title":"How to convert my cucumber project to run in parallell?","body":"<p>Hi I currently have a large project where i run my cucumber tests, I am running these at night but im finding the jenkins build keeps breaking after an hour or so, so I want to now run my tests in parallel.</p>\n\n<p>Is this possible to do with an existing project, my project is set up with the feature files, steps,runner etc in the src/test/java directory \n<a href=\"https://i.stack.imgur.com/AHFPZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AHFPZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>and my test runner looks like this</p>\n\n<pre><code>import io.cucumber.junit.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\nimport org.junit.runner.RunWith;\nimport org.testng.annotations.DataProvider;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n    features = {\"src/test/java/noting/feature_files/\"},\n    glue = {\"noting.steps\", \"noting.hooks\"},\n    tags = {\"@regression\"},\n    monochrome = true,\n    plugin = {\"pretty\", \"json:target/cucumber-report/cucumber.json\", \"rerun:target/rerun.txt\"}\n)\n\npublic class MainRunner {\n\n\n\n}\n</code></pre>\n\n<p>Is there a way to convert this to run in parallel, maybe by annotation or feature package? </p>\n"},{"tags":["java","spring-boot","spring-data-jpa","jboss","db2"],"comments":[{"owner":{"account_id":10716927,"reputation":583,"user_id":8907132,"display_name":"Satya"},"score":0,"creation_date":1642043428,"post_id":70687336,"comment_id":124969383,"body_markdown":"Are you running two instances of jboss using same configuration? Second instance of jboss will not start due to port conflicts and other issues.","body":"Are you running two instances of jboss using same configuration? Second instance of jboss will not start due to port conflicts and other issues."},{"owner":{"account_id":23846545,"reputation":1,"user_id":17850963,"display_name":"HCoding"},"score":0,"creation_date":1642100458,"post_id":70687336,"comment_id":124988597,"body_markdown":"We have fixed configuration issue and have made sure that ports are not conflicting.","body":"We have fixed configuration issue and have made sure that ports are not conflicting."},{"owner":{"account_id":23846545,"reputation":1,"user_id":17850963,"display_name":"HCoding"},"score":0,"creation_date":1642100507,"post_id":70687336,"comment_id":124988617,"body_markdown":"While deploying new war file we are getting connection pooling error which was mostly cause of driver not found we have provided that as well","body":"While deploying new war file we are getting connection pooling error which was mostly cause of driver not found we have provided that as well"}],"answers":[{"tags":[],"owner":{"account_id":23846545,"reputation":1,"user_id":17850963,"display_name":"HCoding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644364503,"creation_date":1644364503,"answer_id":71042390,"question_id":70687336,"body_markdown":"Was able to fixed this issue cause, \r\nIssue was we were not mentioning any initialSize in Jndi datasource and it was taking by Default value which is 10.\r\nAnd at Db side we have restriction that only 30 connection can be established, since we were able to bring 4th appliup which means we were trying to create 10 more connections (30 already created by other 3 application) db was getting locked and it wasn&#39;t allowing us to deploy the code.\r\n\r\n\r\n","title":"Spring boot application is not getting installed when 2 jvm are running on Unix server","body":"<p>Was able to fixed this issue cause,\nIssue was we were not mentioning any initialSize in Jndi datasource and it was taking by Default value which is 10.\nAnd at Db side we have restriction that only 30 connection can be established, since we were able to bring 4th appliup which means we were trying to create 10 more connections (30 already created by other 3 application) db was getting locked and it wasn't allowing us to deploy the code.</p>\n"}],"owner":{"account_id":23846545,"reputation":1,"user_id":17850963,"display_name":"HCoding"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71042390,"answer_count":1,"score":0,"last_activity_date":1644364503,"creation_date":1642015650,"question_id":70687336,"body_markdown":"I have 2 application both are connected to DB2 using jndi and are installed on same jboss location but on different JVM. both are having different jndi name as well but it&#39;s connected to same db and same user.\r\n\r\nWhile starting server if one app is up, we are unable to install 2nd application.\r\n\r\nCan this be spring boot DB2 connectivity issue? Or configuration of servers are not proper.\r\n\r\nMy question may not be properly understandable as I am posting anything for the first time here.","title":"Spring boot application is not getting installed when 2 jvm are running on Unix server","body":"<p>I have 2 application both are connected to DB2 using jndi and are installed on same jboss location but on different JVM. both are having different jndi name as well but it's connected to same db and same user.</p>\n<p>While starting server if one app is up, we are unable to install 2nd application.</p>\n<p>Can this be spring boot DB2 connectivity issue? Or configuration of servers are not proper.</p>\n<p>My question may not be properly understandable as I am posting anything for the first time here.</p>\n"},{"tags":["java","date","time","compare","comparison"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1644363089,"post_id":71042050,"comment_id":125586298,"body_markdown":"This site is not a code-writing service, and you’ve provided none. We can help you with *specific* questions about *your* code, ideally accompanied by an [MCVE](https://stackoverflow.com/help/mcve). That said, most of your needs can be met using classes from the `java.time` package","body":"This site is not a code-writing service, and you’ve provided none. We can help you with <i>specific</i> questions about <i>your</i> code, ideally accompanied by an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. That said, most of your needs can be met using classes from the <code>java.time</code> package"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1644363311,"post_id":71042050,"comment_id":125586353,"body_markdown":"Also, your function is underdefined since it needs to be antisymmetric (i.e., give consistent results if you swap the order of the operands, which might have differing levels of detail).","body":"Also, your function is underdefined since it needs to be antisymmetric (i.e., give consistent results if you swap the order of the operands, which might have differing levels of detail)."},{"owner":{"account_id":15637172,"reputation":61,"user_id":11281688,"display_name":"Ookami"},"score":0,"creation_date":1644363595,"post_id":71042050,"comment_id":125586427,"body_markdown":"Thank you, I have added my own attempt of implementing this to my original question. The order of the operands shouldn&#39;t actually matter at all and give the same result no matter the order. For where the variables are inputted, I actually let the user input the variables in any random order","body":"Thank you, I have added my own attempt of implementing this to my original question. The order of the operands shouldn&#39;t actually matter at all and give the same result no matter the order. For where the variables are inputted, I actually let the user input the variables in any random order"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1644363952,"post_id":71042050,"comment_id":125586498,"body_markdown":"`LocalDateTime` does not allow &quot;blank&quot; values such a `-1` for any of its fields. But `java.time` has classes for all the time fields, eg `Day`, `Month`, `Year`, etc. I would create a class with fields using each of these as their type and have a `compareTo()` method that still works when any of them are `null`.","body":"<code>LocalDateTime</code> does not allow &quot;blank&quot; values such a <code>-1</code> for any of its fields. But <code>java.time</code> has classes for all the time fields, eg <code>Day</code>, <code>Month</code>, <code>Year</code>, etc. I would create a class with fields using each of these as their type and have a <code>compareTo()</code> method that still works when any of them are <code>null</code>."},{"owner":{"account_id":15637172,"reputation":61,"user_id":11281688,"display_name":"Ookami"},"score":0,"creation_date":1644364245,"post_id":71042050,"comment_id":125586572,"body_markdown":"@Bohemian Since it doesn&#39;t allow blank values, I have just used the current time instead of blank values in `LocalDateTime`, which shoould work correctly. Would an own class with its own `Day`, `Month`, `Year` etc. fields still be better there? And how would the `compareTo()` implementation work approximately - can I use some methods from `java.time` as help there, or would I need to implement it from scratch to support null values?","body":"@Bohemian Since it doesn&#39;t allow blank values, I have just used the current time instead of blank values in <code>LocalDateTime</code>, which shoould work correctly. Would an own class with its own <code>Day</code>, <code>Month</code>, <code>Year</code> etc. fields still be better there? And how would the <code>compareTo()</code> implementation work approximately - can I use some methods from <code>java.time</code> as help there, or would I need to implement it from scratch to support null values?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1644364733,"post_id":71042050,"comment_id":125586666,"body_markdown":"@Ookami I don&#39;t think using current values will work for &quot;blank&quot; fields; an object with a blank field is fundamentally different from one that has a value for that field.","body":"@Ookami I don&#39;t think using current values will work for &quot;blank&quot; fields; an object with a blank field is fundamentally different from one that has a value for that field."},{"owner":{"account_id":15637172,"reputation":61,"user_id":11281688,"display_name":"Ookami"},"score":0,"creation_date":1644365738,"post_id":71042050,"comment_id":125586856,"body_markdown":"Oh as for &quot;semantics&quot; it wouldn&#39;t make sense, yeah. But I&#39;d use that object with current values as temporary object only, so I can use the java.time methods to do the comparison for me. Wouldn&#39;t the end result be correct?","body":"Oh as for &quot;semantics&quot; it wouldn&#39;t make sense, yeah. But I&#39;d use that object with current values as temporary object only, so I can use the java.time methods to do the comparison for me. Wouldn&#39;t the end result be correct?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1644370802,"post_id":71042050,"comment_id":125587651,"body_markdown":"Misuse of a class in contradiction to its documented semantics is *abuse* of a class. You most definitely should write your own class, as suggested in Answer by Bohemian.","body":"Misuse of a class in contradiction to its documented semantics is <i>abuse</i> of a class. You most definitely should write your own class, as suggested in Answer by Bohemian."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644364401,"creation_date":1644364401,"answer_id":71042379,"question_id":71042050,"body_markdown":"I would apply the [KISS][1] principle:\r\n\r\n    record PartialDateTime (Integer year, Integer month, Integer day, Integer hour, Integer minute, Integer second) \r\n            implements Comparable&lt;PartialDateTime&gt; {\r\n\r\n        public int compareTo(PartialDateTime other) {\r\n            // your impl here\r\n        }\r\n\r\n        public boolean isBefore(PartialDateTime other) {\r\n            return compareTo(other) &lt; 0;\r\n        }\r\n    \r\n        // etc for other truthy comparison methods\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/KISS_principle","title":"Comparing Dates with optional &quot;comparison values&quot;","body":"<p>I would apply the <a href=\"https://en.wikipedia.org/wiki/KISS_principle\" rel=\"nofollow noreferrer\">KISS</a> principle:</p>\n<pre><code>record PartialDateTime (Integer year, Integer month, Integer day, Integer hour, Integer minute, Integer second) \n        implements Comparable&lt;PartialDateTime&gt; {\n\n    public int compareTo(PartialDateTime other) {\n        // your impl here\n    }\n\n    public boolean isBefore(PartialDateTime other) {\n        return compareTo(other) &lt; 0;\n    }\n\n    // etc for other truthy comparison methods\n}\n</code></pre>\n"}],"owner":{"account_id":15637172,"reputation":61,"user_id":11281688,"display_name":"Ookami"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644364401,"creation_date":1644361736,"question_id":71042050,"body_markdown":"I would like to compare the current date with the following optional variables which will be provided (multiple can be used): Year, Month, Day, Hours, Minutes, Seconds.\r\n\r\nPossible comparison operators would be &quot;before&quot;, &quot;after&quot; or &quot;equals&quot; - for single-variable comparisons a beforeOrEquals, afterOrEquals operator would be helpful as well.\r\n\r\n\r\n**Here are two examples how it would work:**\r\n\r\nIf only the year is set, it would only check if the year is before/after the current year. If both the year and the month is set, it would consider both year and month in the comparisons.\r\n\r\nThe **special thing with this comparison** is if, for example, only the month is set, but not the year. In that case, the 21. February 2020 should be before the 21. March 2020 but AFTER the 21. January 2021.\r\n\r\nFor the current date, a LocalDateTime will be used. The comparison values (year, month etc.) are Integers. If they are -1, they should not be compared (= they are not provided).\r\n\r\nThis is how I&#39;m currently doing the comparison:\r\n\r\n```java\r\n    public final boolean compare(){\r\n        //These values will need to be changed accordingly before the comparison. I have my own way of letting the user provide them as input.\r\n        int year = -1;\r\n        int month = -1;\r\n        int day = -1;\r\n        int hours = -1;\r\n        int minutes = -1;\r\n        int seconds = -1;\r\n        String operation = &quot;&quot;;\r\n        String timeZone = null;\r\n\r\n        final LocalDateTime currentTime = timeZone == null ? LocalDateTime.now() : LocalDateTime.now(timeZone.toZoneId());\r\n\r\n\r\n        final LocalDateTime timeToCompare = LocalDateTime.of(\r\n                year &gt; -1 ? year  : currentTime.getYear(),\r\n                month &gt; -1 ? month : currentTime.getMonthValue(),\r\n                day &gt; -1 ? day : currentTime.getDayOfMonth(),\r\n                hours &gt; -1 ? hours : currentTime.getHour(),\r\n                minutes &gt; -1 ? minutes : currentTime.getMinute(),\r\n                seconds &gt; -1 ? seconds : currentTime.getSecond()\r\n        );\r\n\r\n        if(operation.equals(&quot;before&quot;)){\r\n            if(!currentTime.isBefore(timeToCompare)){\r\n                return false;\r\n            }\r\n        } else if(operation.equals(&quot;after&quot;)){\r\n            if(!currentTime.isAfter(timeToCompare)){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n```\r\n\r\nIs this a good way of implementing it, or is there a more performant way, since not every variable needs to be compared at all?","title":"Comparing Dates with optional &quot;comparison values&quot;","body":"<p>I would like to compare the current date with the following optional variables which will be provided (multiple can be used): Year, Month, Day, Hours, Minutes, Seconds.</p>\n<p>Possible comparison operators would be &quot;before&quot;, &quot;after&quot; or &quot;equals&quot; - for single-variable comparisons a beforeOrEquals, afterOrEquals operator would be helpful as well.</p>\n<p><strong>Here are two examples how it would work:</strong></p>\n<p>If only the year is set, it would only check if the year is before/after the current year. If both the year and the month is set, it would consider both year and month in the comparisons.</p>\n<p>The <strong>special thing with this comparison</strong> is if, for example, only the month is set, but not the year. In that case, the 21. February 2020 should be before the 21. March 2020 but AFTER the 21. January 2021.</p>\n<p>For the current date, a LocalDateTime will be used. The comparison values (year, month etc.) are Integers. If they are -1, they should not be compared (= they are not provided).</p>\n<p>This is how I'm currently doing the comparison:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public final boolean compare(){\n        //These values will need to be changed accordingly before the comparison. I have my own way of letting the user provide them as input.\n        int year = -1;\n        int month = -1;\n        int day = -1;\n        int hours = -1;\n        int minutes = -1;\n        int seconds = -1;\n        String operation = &quot;&quot;;\n        String timeZone = null;\n\n        final LocalDateTime currentTime = timeZone == null ? LocalDateTime.now() : LocalDateTime.now(timeZone.toZoneId());\n\n\n        final LocalDateTime timeToCompare = LocalDateTime.of(\n                year &gt; -1 ? year  : currentTime.getYear(),\n                month &gt; -1 ? month : currentTime.getMonthValue(),\n                day &gt; -1 ? day : currentTime.getDayOfMonth(),\n                hours &gt; -1 ? hours : currentTime.getHour(),\n                minutes &gt; -1 ? minutes : currentTime.getMinute(),\n                seconds &gt; -1 ? seconds : currentTime.getSecond()\n        );\n\n        if(operation.equals(&quot;before&quot;)){\n            if(!currentTime.isBefore(timeToCompare)){\n                return false;\n            }\n        } else if(operation.equals(&quot;after&quot;)){\n            if(!currentTime.isAfter(timeToCompare)){\n                return false;\n            }\n        }\n        return true;\n    }\n</code></pre>\n<p>Is this a good way of implementing it, or is there a more performant way, since not every variable needs to be compared at all?</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":551032,"reputation":6317,"user_id":948909,"accept_rate":86,"display_name":"user35443"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433687017,"creation_date":1433687017,"answer_id":30694606,"question_id":30694596,"body_markdown":"Yes, you&#39;re right.\r\n\r\n`&quot;java is fun&quot;` and `&quot; and good&quot;` are going to be stored in the constant pool. I would call them objects, but yes, it&#39;s more like it.\r\n\r\n`b` in this case is going to be an object with a limited lifespan. It may actually store its own copy of both strings in its buffer to work with, so that originals won&#39;t be modified. ","title":"How many objects are created in StringBuilder?","body":"<p>Yes, you're right.</p>\n\n<p><code>\"java is fun\"</code> and <code>\" and good\"</code> are going to be stored in the constant pool. I would call them objects, but yes, it's more like it.</p>\n\n<p><code>b</code> in this case is going to be an object with a limited lifespan. It may actually store its own copy of both strings in its buffer to work with, so that originals won't be modified. </p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1433714509,"creation_date":1433687058,"answer_id":30694612,"question_id":30694596,"body_markdown":"Yes, your understanding is correct. (But see below.) String literals go in the constant pool, while the `new String(...)` and `new StringBuilder(...)` create additional objects. (The `StringBuilder` also creates an internal character array object, so that there are at least four objects involved in the second example.) Note that the call to `b.append(...)` may internally create another object and some garbage, but only if the internal character array used by `b` needs to expand.\r\n\r\nEDIT: As @fdreger [points out in a comment][1], the string objects corresponding to the string literals are created not at run time, but rather at the time the class is created during the creation and loading phase of the class life cycle (as described in the [Java Language Specification][2]; see also the section on the [runtime constant pool][3]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30694596/how-many-objects-are-created-in-stringbuilder-java/30694621?noredirect=1#comment49455769_30694621\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-5.html#jvms-5.3\r\n  [3]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-5.html#jvms-5.1","title":"How many objects are created in StringBuilder?","body":"<p>Yes, your understanding is correct. (But see below.) String literals go in the constant pool, while the <code>new String(...)</code> and <code>new StringBuilder(...)</code> create additional objects. (The <code>StringBuilder</code> also creates an internal character array object, so that there are at least four objects involved in the second example.) Note that the call to <code>b.append(...)</code> may internally create another object and some garbage, but only if the internal character array used by <code>b</code> needs to expand.</p>\n\n<p>EDIT: As @fdreger <a href=\"https://stackoverflow.com/questions/30694596/how-many-objects-are-created-in-stringbuilder-java/30694621?noredirect=1#comment49455769_30694621\">points out in a comment</a>, the string objects corresponding to the string literals are created not at run time, but rather at the time the class is created during the creation and loading phase of the class life cycle (as described in the <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-5.html#jvms-5.3\" rel=\"nofollow noreferrer\">Java Language Specification</a>; see also the section on the <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-5.html#jvms-5.1\" rel=\"nofollow noreferrer\">runtime constant pool</a>).</p>\n"},{"tags":[],"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433687141,"creation_date":1433687141,"answer_id":30694621,"question_id":30694596,"body_markdown":"The strings are created when the class is loaded, not when the actual code is executed. You may think of them as part of your code, exactly as any other literal value.\r\n\r\nSo in your second example:\r\n\r\n* two strings are created *when the code is loaded for the first time*\r\n* no strings are created during the execution of the code. \r\n","title":"How many objects are created in StringBuilder?","body":"<p>The strings are created when the class is loaded, not when the actual code is executed. You may think of them as part of your code, exactly as any other literal value.</p>\n\n<p>So in your second example:</p>\n\n<ul>\n<li>two strings are created <em>when the code is loaded for the first time</em></li>\n<li>no strings are created during the execution of the code. </li>\n</ul>\n"}],"owner":{"account_id":3399605,"reputation":967,"user_id":2852193,"accept_rate":43,"display_name":"anathema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30694612,"answer_count":3,"score":2,"last_activity_date":1644364395,"creation_date":1433686924,"question_id":30694596,"body_markdown":"Based on my understanding on String objects, that every string literal is being added/created on the String Constant Pool.\r\n\r\n    String a = new String(&quot;hello world&quot;);\r\n\r\ntwo objects are being created, one is the &quot;hello world&quot; being added on the constant pool and the other object is the new instance of String. Does the same principle is being applied when it comes to StringBuilder?\r\n\r\n    StringBuilder b = new StringBuilder(&quot;java is fun&quot;);\r\n    b.append(&quot; and good&quot;);\r\n\r\nin the StringBuilder example does it mean that there are 3 objects being created? The first one is the new instance of StringBuilder and the other 2 objects are the string literals &quot;java is fun&quot; and &quot; and good&quot;?","title":"How many objects are created in StringBuilder?","body":"<p>Based on my understanding on String objects, that every string literal is being added/created on the String Constant Pool.</p>\n\n<pre><code>String a = new String(\"hello world\");\n</code></pre>\n\n<p>two objects are being created, one is the \"hello world\" being added on the constant pool and the other object is the new instance of String. Does the same principle is being applied when it comes to StringBuilder?</p>\n\n<pre><code>StringBuilder b = new StringBuilder(\"java is fun\");\nb.append(\" and good\");\n</code></pre>\n\n<p>in the StringBuilder example does it mean that there are 3 objects being created? The first one is the new instance of StringBuilder and the other 2 objects are the string literals \"java is fun\" and \" and good\"?</p>\n"},{"tags":["java","maven","gwt"],"comments":[{"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"score":1,"creation_date":1644281739,"post_id":71027018,"comment_id":125559645,"body_markdown":"You say your module file is .../module.xml.  Do you mean .../module.gwt.xml?","body":"You say your module file is .../module.xml.  Do you mean .../module.gwt.xml?"},{"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"score":0,"creation_date":1644282468,"post_id":71027018,"comment_id":125559769,"body_markdown":"It may be useful to show how you configured the plugin in your pom.xml","body":"It may be useful to show how you configured the plugin in your pom.xml"},{"owner":{"account_id":78924,"reputation":4734,"user_id":224239,"accept_rate":71,"display_name":"Jaroslav Z&#225;ruba"},"score":0,"creation_date":1644283360,"post_id":71027018,"comment_id":125559955,"body_markdown":"@RobertNewton You nailed it sir. I completely missed that. Thanks! I have now moved to another error, but you nailed it. Please write a reply, so I can mark it as the answer. Thank you very much!","body":"@RobertNewton You nailed it sir. I completely missed that. Thanks! I have now moved to another error, but you nailed it. Please write a reply, so I can mark it as the answer. Thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644363797,"creation_date":1644363797,"answer_id":71042313,"question_id":71027018,"body_markdown":"You have named your module file ```module.mxl```.  The correct name is ```module.gwt.xml```","title":"&quot;Module has no entry points defined&quot;, except it does (migrating the gwt-maven-plugin)","body":"<p>You have named your module file <code>module.mxl</code>.  The correct name is <code>module.gwt.xml</code></p>\n"}],"owner":{"account_id":78924,"reputation":4734,"user_id":224239,"accept_rate":71,"display_name":"Jaroslav Z&#225;ruba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71042313,"answer_count":1,"score":0,"last_activity_date":1644363797,"creation_date":1644278986,"question_id":71027018,"body_markdown":"```[INFO]    [ERROR] Module has no entry points defined```\r\n\r\nI am migrating from org.codehaus.mojo:gwt-maven-plugin to net.ltgt.gwt.maven:gwt-maven-plugin, and I can&#39;t seem to convince the compiler that my module DOES have an entry point defined.\r\n\r\nThe old plugin could only work with older Java, which I don&#39;t have anymore... So I moved on to the newer incarnation of the GWT Maven plugin... Unfortunately this plugin uses parameters that GWT 2.0.2 compiler does not recognize (like -deploy or -sourceLevel)... Which forced me to change ${gwt.version} to 2.8.2. That&#39;s rather massive jump, but I don&#39;t see how that could invalidate something as simple as implementing the EntryPoint interface.\r\n\r\nTheApp/Web/src/main/module.xml:\r\n```\r\n    &lt;entry-point class=&#39;net.theapp.client.TheEntryPoint&#39; /&gt;\r\n...\r\n\t&lt;source path=&#39;net/theapp/client&#39;/&gt;\r\n\t&lt;source path=&#39;net/theapp/data&#39;/&gt;\r\n```\r\nLocation of the entry-point class:\r\n```\r\nTheApp/Web/src/main/java/net/theapp/client/\r\n  - TheEntryPoint.java\r\n```\r\nThe class:\r\n```\r\n...\r\npublic class TheEntryPoint\r\n\timplements EntryPoint\r\n{\r\n...\r\n```","title":"&quot;Module has no entry points defined&quot;, except it does (migrating the gwt-maven-plugin)","body":"<p><code>[INFO]    [ERROR] Module has no entry points defined</code></p>\n<p>I am migrating from org.codehaus.mojo:gwt-maven-plugin to net.ltgt.gwt.maven:gwt-maven-plugin, and I can't seem to convince the compiler that my module DOES have an entry point defined.</p>\n<p>The old plugin could only work with older Java, which I don't have anymore... So I moved on to the newer incarnation of the GWT Maven plugin... Unfortunately this plugin uses parameters that GWT 2.0.2 compiler does not recognize (like -deploy or -sourceLevel)... Which forced me to change ${gwt.version} to 2.8.2. That's rather massive jump, but I don't see how that could invalidate something as simple as implementing the EntryPoint interface.</p>\n<p>TheApp/Web/src/main/module.xml:</p>\n<pre><code>    &lt;entry-point class='net.theapp.client.TheEntryPoint' /&gt;\n...\n    &lt;source path='net/theapp/client'/&gt;\n    &lt;source path='net/theapp/data'/&gt;\n</code></pre>\n<p>Location of the entry-point class:</p>\n<pre><code>TheApp/Web/src/main/java/net/theapp/client/\n  - TheEntryPoint.java\n</code></pre>\n<p>The class:</p>\n<pre><code>...\npublic class TheEntryPoint\n    implements EntryPoint\n{\n...\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","postgis","jdbi"],"answers":[{"tags":[],"owner":{"account_id":7080911,"reputation":246,"user_id":5419359,"display_name":"Sharang Chopra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631163196,"creation_date":1631163196,"answer_id":69112413,"question_id":68934671,"body_markdown":"You can convert the Jts geometry to geoJson and then bind the geoJson as string in Jdbi.\r\n\r\n```\r\n\r\npublic class GeometryUtils {\r\n    private static final GeometryJSON geometryJSON = new GeometryJSON(10);\r\n    \r\n    private static String writeToGeoJson(Geometry geometry) throws IOException {\r\n        final var stringWriter = new StringWriter();\r\n        geometryJSON.write(geometry, stringWriter);\r\n        return stringWriter.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\nand then let&#39;s say your sql query looks like this\r\n\r\n```\r\nINSERT INTO XYZ(shape) VALUES (st_geomfromgeojson(:shape::jsonb))    \r\n```\r\n\r\nand  bind  `shape` as `GeometryUtils.writeToGeoJson(geom)`","title":"How to bind JTS Geometry via JDBI","body":"<p>You can convert the Jts geometry to geoJson and then bind the geoJson as string in Jdbi.</p>\n<pre><code>\npublic class GeometryUtils {\n    private static final GeometryJSON geometryJSON = new GeometryJSON(10);\n    \n    private static String writeToGeoJson(Geometry geometry) throws IOException {\n        final var stringWriter = new StringWriter();\n        geometryJSON.write(geometry, stringWriter);\n        return stringWriter.toString();\n    }\n}\n</code></pre>\n<p>and then let's say your sql query looks like this</p>\n<pre><code>INSERT INTO XYZ(shape) VALUES (st_geomfromgeojson(:shape::jsonb))    \n</code></pre>\n<p>and  bind  <code>shape</code> as <code>GeometryUtils.writeToGeoJson(geom)</code></p>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644363529,"creation_date":1629964582,"question_id":68934671,"body_markdown":"I am trying to use JDBI with PostgreSQL geometric type and get the following error:\r\n\r\n```\r\norg.jdbi.v3.core.statement.UnableToCreateStatementException with message:   \r\nNo argument factory registered for type [com.vividsolutions.jts.geom.Geometry]\r\n```\r\n\r\nThe Geometry is part of a bean I am binding with `.bindBean()`.\r\n\r\nI found a related [question](https://stackoverflow.com/questions/66354903/jdbi-postgis-jts-wrapper) but the answers are not so helpful.\r\n\r\n\r\nWhat is the best approach for binding such type?","title":"How to bind JTS Geometry via JDBI","body":"<p>I am trying to use JDBI with PostgreSQL geometric type and get the following error:</p>\n<pre><code>org.jdbi.v3.core.statement.UnableToCreateStatementException with message:   \nNo argument factory registered for type [com.vividsolutions.jts.geom.Geometry]\n</code></pre>\n<p>The Geometry is part of a bean I am binding with <code>.bindBean()</code>.</p>\n<p>I found a related <a href=\"https://stackoverflow.com/questions/66354903/jdbi-postgis-jts-wrapper\">question</a> but the answers are not so helpful.</p>\n<p>What is the best approach for binding such type?</p>\n"},{"tags":["java","factorial"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644363184,"creation_date":1644360932,"answer_id":71041937,"question_id":71041896,"body_markdown":"## `int` is finite\r\n\r\nYour problem is the 32bit integer limit.\r\n\r\nJava&#39;s `int` datatype represents a signed 32bit integer meaning it can store values from -2^31 to 2^31-1 (2 147 483 647)\r\n\r\n13! is 6 227 020 800 which is higher than that so it doesn&#39;t fit in an `int`.\r\n\r\n## `long` is bigger than `int` but still finite\r\n\r\nIn order to fix this, you can use `long` which represents a signed 64bit integer:\r\n\r\n```java\r\npublic static long factorial(long n) {\r\n       \r\n    for(int i=(int)n-1;i&gt;=1;i--){\r\n        n=n*i;\r\n }\r\n    return n;\r\n}\r\n```\r\n`long` allows ranges from -2^63 up to 2^63-1 (a number with 18 digits) which allows factorials until `20!`.\r\n\r\n## Get real big with `BigInteger`\r\n\r\nIf you want to. go even further, you can use [`BigInteger`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html):\r\n\r\n```java\r\npublic static BigInteger factorial(long n) {\r\n    BigInteger value=BigInteger.valueOf(n);\r\n    for(int i=n-1;i&gt;=1;i--){\r\n        value=value.multiply(BigInteger.valueOf(i));\r\n    }\r\n    return value;\r\n}\r\n```\r\n\r\nWhile `BigInteger` also isn&#39;t infinite (ranging from `-2^(2^32)` until to `-2^(2^32)` at minimum), it should be sufficient for your purpose. This is explained in [the Javadoc of `BigInteger`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html):\r\n\r\n&gt; BigInteger must support values in the range -2&lt;sup&gt;Integer.MAX_VALUE&lt;/sup&gt; (exclusive) to +2&lt;sup&gt;Integer.MAX_VALUE&lt;/sup&gt; (exclusive)","title":"Code is returning wrong value for factorials","body":"<h2><code>int</code> is finite</h2>\n<p>Your problem is the 32bit integer limit.</p>\n<p>Java's <code>int</code> datatype represents a signed 32bit integer meaning it can store values from -2^31 to 2^31-1 (2 147 483 647)</p>\n<p>13! is 6 227 020 800 which is higher than that so it doesn't fit in an <code>int</code>.</p>\n<h2><code>long</code> is bigger than <code>int</code> but still finite</h2>\n<p>In order to fix this, you can use <code>long</code> which represents a signed 64bit integer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long factorial(long n) {\n       \n    for(int i=(int)n-1;i&gt;=1;i--){\n        n=n*i;\n }\n    return n;\n}\n</code></pre>\n<p><code>long</code> allows ranges from -2^63 up to 2^63-1 (a number with 18 digits) which allows factorials until <code>20!</code>.</p>\n<h2>Get real big with <code>BigInteger</code></h2>\n<p>If you want to. go even further, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>BigInteger</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static BigInteger factorial(long n) {\n    BigInteger value=BigInteger.valueOf(n);\n    for(int i=n-1;i&gt;=1;i--){\n        value=value.multiply(BigInteger.valueOf(i));\n    }\n    return value;\n}\n</code></pre>\n<p>While <code>BigInteger</code> also isn't infinite (ranging from <code>-2^(2^32)</code> until to <code>-2^(2^32)</code> at minimum), it should be sufficient for your purpose. This is explained in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">the Javadoc of <code>BigInteger</code></a>:</p>\n<blockquote>\n<p>BigInteger must support values in the range -2<sup>Integer.MAX_VALUE</sup> (exclusive) to +2<sup>Integer.MAX_VALUE</sup> (exclusive)</p>\n</blockquote>\n"}],"owner":{"account_id":24197748,"reputation":13,"user_id":18155990,"display_name":"Pumkinword"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1644361996,"answer_count":1,"score":1,"last_activity_date":1644363184,"creation_date":1644360642,"question_id":71041896,"body_markdown":"  My code for factorials works fine up until n=13 where it then starts giving me the wrong answer. Does anyone know why?\r\n\r\n\r\n\r\n```\r\npublic class Factorial {\r\n    public static void main(String[] args) {\r\n        System.out.println(factorial(13));\r\n    }\r\n\r\n    public static int factorial(int n) {\r\n        for (int i = n - 1; i &gt;= 1; i--) {\r\n            n=n*i;\r\n        }\r\n\r\n        return n;\r\n    }    \r\n}\r\n```","title":"Code is returning wrong value for factorials","body":"<p>My code for factorials works fine up until n=13 where it then starts giving me the wrong answer. Does anyone know why?</p>\n<pre><code>public class Factorial {\n    public static void main(String[] args) {\n        System.out.println(factorial(13));\n    }\n\n    public static int factorial(int n) {\n        for (int i = n - 1; i &gt;= 1; i--) {\n            n=n*i;\n        }\n\n        return n;\n    }    \n}\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":0,"creation_date":1356071495,"post_id":13984381,"comment_id":19300165,"body_markdown":"you mean you want to run the code without opening Java container?","body":"you mean you want to run the code without opening Java container?"},{"owner":{"account_id":20271,"reputation":2049,"user_id":48256,"accept_rate":86,"display_name":"mparaz"},"score":0,"creation_date":1356072561,"post_id":13984381,"comment_id":19300499,"body_markdown":"I want to run the code without opening the X Window System or a GUI. I can make it run in a container, or, directly as a console app.","body":"I want to run the code without opening the X Window System or a GUI. I can make it run in a container, or, directly as a console app."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1644362310,"creation_date":1356074386,"answer_id":13985919,"question_id":13984381,"body_markdown":"The article [*Using Headless Mode in the Java SE Platform*][1] outlines the limitations imposed on such applications.\r\n\r\nAs a concrete example [`JFreeChart`][2] is a graphic program widely used in both desktop and servlet contexts. For the latter, any of several [`ChartUtils`][3] may be used to stream rendered content in a headless environment.\r\n\r\nAlternatively, although deprecated, consider [Java Web Start][4] to deploy an existing Swing application, for example the `JFreeChart` demo seen [here][5].\r\n\r\nAddendum: This Oracle forum [thread][6] suggests that the Java Media Framework can indeed throw `HeadlessException`; a suggested workaround is to specify a particular system property value:\r\n\r\n    -Dawt.toolkit=sun.awt.HeadlessToolkit\r\n\r\nThis `JFreeChart` forum [thread][7] suggests [`Xvfb`][8] or [`vnc`][9] as alternatives when `headless` mode is not available.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/javase/headless-136834.html\r\n  [2]: https://stackoverflow.com/tags/jfreechart/info\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartUtils.html\r\n  [4]: https://stackoverflow.com/tags/java-web-start/info\r\n  [5]: http://www.jfree.org/jfreechart/samples.html\r\n  [6]: https://forums.oracle.com/forums/thread.jspa?threadID=1280600\r\n  [7]: https://web.archive.org/web/20160323222859/http://www.jfree.org/phpBB2/viewtopic.php?t=1012\r\n  [8]: http://en.wikipedia.org/wiki/Xvfb\r\n  [9]: http://en.wikipedia.org/wiki/Virtual_Network_Computing","title":"Porting a Java app that uses AWT and Swing for drawing movies to the server-side","body":"<p>The article <a href=\"http://www.oracle.com/technetwork/articles/javase/headless-136834.html\" rel=\"nofollow noreferrer\"><em>Using Headless Mode in the Java SE Platform</em></a> outlines the limitations imposed on such applications.</p>\n<p>As a concrete example <a href=\"https://stackoverflow.com/tags/jfreechart/info\"><code>JFreeChart</code></a> is a graphic program widely used in both desktop and servlet contexts. For the latter, any of several <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartUtils.html\" rel=\"nofollow noreferrer\"><code>ChartUtils</code></a> may be used to stream rendered content in a headless environment.</p>\n<p>Alternatively, although deprecated, consider <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a> to deploy an existing Swing application, for example the <code>JFreeChart</code> demo seen <a href=\"http://www.jfree.org/jfreechart/samples.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Addendum: This Oracle forum <a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=1280600\" rel=\"nofollow noreferrer\">thread</a> suggests that the Java Media Framework can indeed throw <code>HeadlessException</code>; a suggested workaround is to specify a particular system property value:</p>\n<pre><code>-Dawt.toolkit=sun.awt.HeadlessToolkit\n</code></pre>\n<p>This <code>JFreeChart</code> forum <a href=\"https://web.archive.org/web/20160323222859/http://www.jfree.org/phpBB2/viewtopic.php?t=1012\" rel=\"nofollow noreferrer\">thread</a> suggests <a href=\"http://en.wikipedia.org/wiki/Xvfb\" rel=\"nofollow noreferrer\"><code>Xvfb</code></a> or <a href=\"http://en.wikipedia.org/wiki/Virtual_Network_Computing\" rel=\"nofollow noreferrer\"><code>vnc</code></a> as alternatives when <code>headless</code> mode is not available.</p>\n"}],"owner":{"account_id":20271,"reputation":2049,"user_id":48256,"accept_rate":86,"display_name":"mparaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2996,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":13985919,"answer_count":1,"score":7,"last_activity_date":1644362310,"creation_date":1356065029,"question_id":13984381,"body_markdown":"I am working with some code that writes animated output to the desktop using AWT and Swing features. It draws using 2D graphics and renders text in fonts.\r\n\r\nThis code can use the Java Media Framework to save the animationto movie files.\r\n\r\nI would like to port this code to a pure server-side environment, for working with a Web UI. The drawing code could either run inside the servlet container, or outside as a command-line program. (Or I could opt not to use a servlet container and instead use the newer ways of running Java web servers from the command line.)\r\n\r\nCan I use AWT and Swing drawing features without starting the X Window System on the server?","title":"Porting a Java app that uses AWT and Swing for drawing movies to the server-side","body":"<p>I am working with some code that writes animated output to the desktop using AWT and Swing features. It draws using 2D graphics and renders text in fonts.</p>\n\n<p>This code can use the Java Media Framework to save the animationto movie files.</p>\n\n<p>I would like to port this code to a pure server-side environment, for working with a Web UI. The drawing code could either run inside the servlet container, or outside as a command-line program. (Or I could opt not to use a servlet container and instead use the newer ways of running Java web servers from the command line.)</p>\n\n<p>Can I use AWT and Swing drawing features without starting the X Window System on the server?</p>\n"},{"tags":["java","biginteger","fibonacci"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1428972571,"creation_date":1428972571,"answer_id":29617405,"question_id":29617340,"body_markdown":"The `return` value is the one that needs to be a `BigInteger`, not your argument `number`. Your initial tests are `1` and `2` (not `0` and `1` - which is how developers count). Basically, the quick and dirty solution is something like\r\n\r\n\tpublic static BigInteger fibonacci2(int n) {\r\n\t\tif (n == 0 || n == 1) {\r\n\t\t\treturn BigInteger.ONE;\r\n\t\t}\r\n\t\treturn fibonacci2(n - 2).add(fibonacci2(n - 1));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tSystem.out.println(fibonacci2(i));\r\n\t\t}\r\n\t}\r\n\r\nIf you need to calculate large values then I suggest using a [memoization](http://en.wikipedia.org/wiki/Memoization) like\r\n\r\n\tprivate static Map&lt;Integer, BigInteger&gt; memo = new HashMap&lt;&gt;();\r\n\r\n\tpublic static BigInteger fibonacci3(int n) {\r\n\t\tif (n == 0 || n == 1) {\r\n\t\t\treturn BigInteger.ONE;\r\n\t\t}\r\n\t\tif (memo.containsKey(n)) {\r\n\t\t\treturn memo.get(n);\r\n\t\t}\r\n\t\tBigInteger v = fibonacci3(n - 2).add(fibonacci3(n - 1));\r\n\t\tmemo.put(n, v);\r\n\t\treturn v;\r\n\t}\r\n\r\nNote that `fibonacci3` will be significantly faster than the initial recursive version.","title":"Fibonacci calculator with BigIntegers","body":"<p>The <code>return</code> value is the one that needs to be a <code>BigInteger</code>, not your argument <code>number</code>. Your initial tests are <code>1</code> and <code>2</code> (not <code>0</code> and <code>1</code> - which is how developers count). Basically, the quick and dirty solution is something like</p>\n\n<pre><code>public static BigInteger fibonacci2(int n) {\n    if (n == 0 || n == 1) {\n        return BigInteger.ONE;\n    }\n    return fibonacci2(n - 2).add(fibonacci2(n - 1));\n}\n\npublic static void main(String[] args) {\n    for (int i = 0; i &lt; 10; i++) {\n        System.out.println(fibonacci2(i));\n    }\n}\n</code></pre>\n\n<p>If you need to calculate large values then I suggest using a <a href=\"http://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow\">memoization</a> like</p>\n\n<pre><code>private static Map&lt;Integer, BigInteger&gt; memo = new HashMap&lt;&gt;();\n\npublic static BigInteger fibonacci3(int n) {\n    if (n == 0 || n == 1) {\n        return BigInteger.ONE;\n    }\n    if (memo.containsKey(n)) {\n        return memo.get(n);\n    }\n    BigInteger v = fibonacci3(n - 2).add(fibonacci3(n - 1));\n    memo.put(n, v);\n    return v;\n}\n</code></pre>\n\n<p>Note that <code>fibonacci3</code> will be significantly faster than the initial recursive version.</p>\n"}],"owner":{"account_id":4868731,"reputation":95,"user_id":3926009,"accept_rate":100,"display_name":"public static void"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8718,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29617405,"answer_count":1,"score":2,"last_activity_date":1644361163,"creation_date":1428972112,"question_id":29617340,"body_markdown":"I&#39;m working on a homework project where I must have the user input a number, and the computer spits out the Fibonacci numbers up to that one. I&#39;d normally be able to do this, with int values, except that for this program, I need to use the BigInteger type instead, because int, long, double, etc. types are too small to hold the values I&#39;ll need. So, this is the code I&#39;ve got. The problem is that it doesn&#39;t print the numbers it&#39;s supposed to.\r\nMy imports:\r\n\r\n    import java.math.*;\r\n    import java.util.Scanner;\r\n\r\nAnd the rest of the code:\r\n\r\n\t    public static void main(String args[]) {\r\n\t    \r\n\t       //input to print Fibonacci series up to how many numbers\r\n\t        System.out.println(&quot;Enter number up to which Fibonacci series to print: &quot;);\r\n\t        BigInteger i = BigInteger.valueOf(new Scanner(System.in).nextLong());\r\n\t      \r\n\t        System.out.println(&quot;First &quot; + i + &quot; Fibonacci numbers: &quot;);\r\n\t        //printing Fibonacci series upto number\r\n\t        for(int j=1; i.compareTo(BigInteger.valueOf(j))&lt;0; j++){\r\n\t            System.out.print(fibonacci2(BigInteger.valueOf(j)) +&quot; &quot;);\r\n\t        }\r\n\t  \r\n\t    \r\n\t    } \r\n\t  \r\n\r\n\t    \r\n\t  \r\n\r\n\r\n\t   \r\n\t    public static BigInteger fibonacci2(BigInteger number){\r\n\t        if(number.compareTo(BigInteger.valueOf(1)) == 0 || number.compareTo(BigInteger.valueOf(2)) == 0){\r\n\t            return BigInteger.valueOf(1);\r\n\t        }\r\n\t        BigInteger fibo1=BigInteger.valueOf(1), fibo2=BigInteger.valueOf(1), fibonacci=BigInteger.valueOf(1);\r\n\t        for(int i=3; number.compareTo(BigInteger.valueOf(i))&lt;=0; i++){\r\n\t           \r\n\t          //Fibonacci number is sum of previous two Fibonacci number\r\n\t          fibonacci = fibonacci.add(fibo1.add(fibo2));             \r\n\t          fibo1 = fibo2;\r\n\t          fibo2 = fibonacci;\r\n\t          \r\n\t        }\r\n\t        return fibonacci; //The current Fibonacci number\r\n\t      \r\n\t    }\t\r\n    }\r\n\r\nI know it *should* work, because I was able to use it with the int type, but then I started to need values that were waaay bigger, so I was forced into BigInteger. Can someone see what&#39;s wrong with it? I think the problem is in the return for fibonacci2 method.","title":"Fibonacci calculator with BigIntegers","body":"<p>I'm working on a homework project where I must have the user input a number, and the computer spits out the Fibonacci numbers up to that one. I'd normally be able to do this, with int values, except that for this program, I need to use the BigInteger type instead, because int, long, double, etc. types are too small to hold the values I'll need. So, this is the code I've got. The problem is that it doesn't print the numbers it's supposed to.\nMy imports:</p>\n\n<pre><code>import java.math.*;\nimport java.util.Scanner;\n</code></pre>\n\n<p>And the rest of the code:</p>\n\n<pre><code>    public static void main(String args[]) {\n\n       //input to print Fibonacci series up to how many numbers\n        System.out.println(\"Enter number up to which Fibonacci series to print: \");\n        BigInteger i = BigInteger.valueOf(new Scanner(System.in).nextLong());\n\n        System.out.println(\"First \" + i + \" Fibonacci numbers: \");\n        //printing Fibonacci series upto number\n        for(int j=1; i.compareTo(BigInteger.valueOf(j))&lt;0; j++){\n            System.out.print(fibonacci2(BigInteger.valueOf(j)) +\" \");\n        }\n\n\n    } \n\n\n\n\n\n\n\n    public static BigInteger fibonacci2(BigInteger number){\n        if(number.compareTo(BigInteger.valueOf(1)) == 0 || number.compareTo(BigInteger.valueOf(2)) == 0){\n            return BigInteger.valueOf(1);\n        }\n        BigInteger fibo1=BigInteger.valueOf(1), fibo2=BigInteger.valueOf(1), fibonacci=BigInteger.valueOf(1);\n        for(int i=3; number.compareTo(BigInteger.valueOf(i))&lt;=0; i++){\n\n          //Fibonacci number is sum of previous two Fibonacci number\n          fibonacci = fibonacci.add(fibo1.add(fibo2));             \n          fibo1 = fibo2;\n          fibo2 = fibonacci;\n\n        }\n        return fibonacci; //The current Fibonacci number\n\n    }   \n}\n</code></pre>\n\n<p>I know it <em>should</em> work, because I was able to use it with the int type, but then I started to need values that were waaay bigger, so I was forced into BigInteger. Can someone see what's wrong with it? I think the problem is in the return for fibonacci2 method.</p>\n"},{"tags":["java","swing","testing","javafx","headless"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1644361318,"post_id":71041813,"comment_id":125585897,"body_markdown":"If you look at the stack trace, you can see it is trying to create an awt.Window.  If you look at the [awt headless docs](https://www.oracle.com/technical-resources/articles/javase/headless.html), it says &quot;Many components are affected if a display device, keyboard, or mouse is not supported. An appropriate class constructor throws a HeadlessException: Such heavyweight components require a peer at the operating-system level, which cannot be guaranteed on headless machines.&quot;.  An awt.Window is one of those components which is not supported.  I don&#39;t have a solution for you.","body":"If you look at the stack trace, you can see it is trying to create an awt.Window.  If you look at the <a href=\"https://www.oracle.com/technical-resources/articles/javase/headless.html\" rel=\"nofollow noreferrer\">awt headless docs</a>, it says &quot;Many components are affected if a display device, keyboard, or mouse is not supported. An appropriate class constructor throws a HeadlessException: Such heavyweight components require a peer at the operating-system level, which cannot be guaranteed on headless machines.&quot;.  An awt.Window is one of those components which is not supported.  I don&#39;t have a solution for you."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1644361443,"post_id":71041813,"comment_id":125585922,"body_markdown":"Some alternatives are mentioned [here](https://stackoverflow.com/a/13985919/230513).","body":"Some alternatives are mentioned <a href=\"https://stackoverflow.com/a/13985919/230513\">here</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1644370857,"post_id":71041813,"comment_id":125587662,"body_markdown":"For your testing, you might consider a dedicated machine, VM or docker environment, either local or cloud based. Perhaps then you won’t get interference from outlook popups and such.  You can automate such testing using Jenkins and a Jenkins file in an appropriate pipeline, though that takes a little skill.","body":"For your testing, you might consider a dedicated machine, VM or docker environment, either local or cloud based. Perhaps then you won’t get interference from outlook popups and such.  You can automate such testing using Jenkins and a Jenkins file in an appropriate pipeline, though that takes a little skill."}],"owner":{"account_id":20526346,"reputation":111,"user_id":15064705,"display_name":"Jacob Abel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644360447,"creation_date":1644360076,"question_id":71041813,"body_markdown":"We&#39;ve been working on building some integration tests for our JavaFX program and the one pain point we&#39;ve been running into is that JavaFx&#39;s SwingNode seems to throw whenever operating in a testing environment even when using TestFX and Monocle&#39;s headless mode.\r\n\r\nOur project uses some lightweight Swing code that seems to work fine on it&#39;s own in headless tests however as soon as any swing components get included in a javafx view using a swingnode, everything seems to blow up.\r\n\r\nIdeally we&#39;d like these tests to run each time we build the project along with our test suite on all machines however as a temporary fix we are making these test cases manual-run only on our windows machines and using Xvfb on linux machines + CI.\r\n\r\nBelow is a minimal example demonstrating the issue (running on JDK 11 with JavaFX 11 however in our main codebase I&#39;ve also verified the issue appears on JDK 17 with JavaFX 17 as well):\r\n\r\n`build.gradle.kts`\r\n\r\n```\r\nimport org.gradle.api.tasks.testing.logging.TestExceptionFormat\r\n\r\nplugins {\r\n    application\r\n    id (&quot;org.openjfx.javafxplugin&quot;) version &quot;0.0.10&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.8.1&quot;)\r\n    testImplementation(&quot;org.testfx:testfx-junit5:4.0.16-alpha&quot;)\r\n    testImplementation(&quot;org.testfx:openjfx-monocle:jdk-11+26&quot;)\r\n}\r\n\r\njavafx {\r\n    version = &quot;11&quot;\r\n    modules(&quot;javafx.controls&quot;, &quot;javafx.swing&quot;)\r\n}\r\n\r\napplication {\r\n    mainClass.set(&quot;test.example.SwingNodeExample&quot;)\r\n}\r\n\r\ntasks.named&lt;Test&gt;(&quot;test&quot;) {\r\n    useJUnitPlatform()\r\n    systemProperties = mapOf(\r\n        &quot;java.awt.headless&quot; to true,\r\n        &quot;testfx.robot&quot; to &quot;glass&quot;,\r\n        &quot;testfx.headless&quot; to true,\r\n        &quot;glass.platform&quot; to &quot;Monocle&quot;,\r\n        &quot;headless.geometry&quot; to &quot;1920x1080-32&quot;,\r\n        &quot;prism.order&quot; to &quot;sw&quot;\r\n    )\r\n    testLogging {\r\n        exceptionFormat = TestExceptionFormat.FULL\r\n    }\r\n}\r\n```\r\n\r\n`src/test/java/test/example/SwingNodeTest.java`\r\n```\r\npackage test.example;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.testfx.framework.junit5.ApplicationExtension;\r\nimport org.testfx.framework.junit5.Start;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.testfx.api.FxRobot;\r\nimport javafx.embed.swing.SwingNode;\r\nimport javax.swing.JButton;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\n@ExtendWith(ApplicationExtension.class)\r\npublic class SwingNodeTest {\r\n\r\n    private Group root;\r\n    private SwingNode node;\r\n    private JButton button;\r\n\r\n    @Start\r\n    private void start(Stage stage) {\r\n        root = new Group();\r\n        node = new SwingNode();\r\n        root.getChildren().add(node);\r\n\r\n        button = new JButton(&quot;Help&quot;);\r\n        node.setContent(button);\r\n\r\n        stage.setScene(new Scene(root));\r\n        stage.show();\r\n    }\r\n\r\n    @Test\r\n    void shouldInstance(FxRobot robot) {\r\n    }\r\n\r\n}\r\n```\r\n\r\n`src/main/java/test/example/SwingNodeExample.java`\r\n\r\n```\r\npackage test.example;\r\n\r\npublic class SwingNodeExample {\r\n    // Empty class to satisfy gradle.\r\n}\r\n```\r\n\r\n---\r\n\r\nResults:\r\n\r\n```\r\nuser@localhost ~/tmp/javatest $ ./gradlew test\r\n\r\n&gt; Configure project :example\r\nProject :example =&gt; no module-info.java found\r\n\r\n&gt; Task :example:test FAILED\r\n\r\nSwingNodeTest &gt; shouldInstance(FxRobot) FAILED\r\n    java.lang.RuntimeException: java.awt.HeadlessException\r\n        at org.testfx.util.WaitForAsyncUtils.---- Delayed Exception: (See Trace Below) ----(WaitForAsyncUtils.java:0)\r\n\r\n        Caused by:\r\n        java.awt.HeadlessException:\r\n        No X11 DISPLAY variable was set, but this program performed an operation which requires it.\r\n            at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:208)\r\n            at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:548)\r\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:423)\r\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:388)\r\n            at java.desktop/sun.awt.LightweightFrame.&lt;init&gt;(LightweightFrame.java:62)\r\n            at java.desktop/sun.swing.JLightweightFrame.&lt;init&gt;(JLightweightFrame.java:118)\r\n            at jdk.unsupported.desktop/jdk.swing.interop.LightweightFrameWrapper.&lt;init&gt;(LightweightFrameWrapper.java:51)\r\n            at com.sun.javafx.embed.swing.newimpl.SwingNodeInteropN.createLightweightFrame(SwingNodeInteropN.java:88)\r\n            at com.sun.javafx.embed.swing.newimpl.SwingNodeInteropN.createLightweightFrame(SwingNodeInteropN.java:59)\r\n            at javafx.embed.swing.SwingNode.setContentImpl(SwingNode.java:375)\r\n            at javafx.embed.swing.SwingNode.lambda$setContent$5(SwingNode.java:347)\r\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n1 test completed, 1 failed\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:example:test&#39;.\r\n&gt; There were failing tests. See the report at: file:///home/user/tmp/javatest/example/build/reports/tests/test/index.html\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\n\r\n---\r\n\r\nI understand &quot;why&quot; this is occurring in that SwingNode instantiates an internal helper class that throws when instantiated in a headless environment.\r\n\r\nMy question instead is: What is the technical reason that SwingNode is unable to be instantiated and loaded with Swing content without throwing in a Headless environment?\r\n\r\nThe follow-up would be: How could we work around this, either in the test suite or in the application itself (such as an alternative to `javafx.embed.swing.SwingNode`)? Like previously mentioned we have a temporary &quot;hack&quot; using Xvfb on *nix machines however on Windows there doesn&#39;t seem to be any real solution from what I can see.\r\n\r\n---\r\n\r\nEdit: I realised I forgot to mention why the tests can&#39;t be headless on Windows. With TestFx, the tests steal mouse + keyboard input and draw on the monitor itself. This makes the tests very fragile since they can be easily failed just by the developer interacting with their machine or another application triggering a popup or notification (such as MS Teams or Outlook).","title":"JavaFX SwingNode HeadlessException","body":"<p>We've been working on building some integration tests for our JavaFX program and the one pain point we've been running into is that JavaFx's SwingNode seems to throw whenever operating in a testing environment even when using TestFX and Monocle's headless mode.</p>\n<p>Our project uses some lightweight Swing code that seems to work fine on it's own in headless tests however as soon as any swing components get included in a javafx view using a swingnode, everything seems to blow up.</p>\n<p>Ideally we'd like these tests to run each time we build the project along with our test suite on all machines however as a temporary fix we are making these test cases manual-run only on our windows machines and using Xvfb on linux machines + CI.</p>\n<p>Below is a minimal example demonstrating the issue (running on JDK 11 with JavaFX 11 however in our main codebase I've also verified the issue appears on JDK 17 with JavaFX 17 as well):</p>\n<p><code>build.gradle.kts</code></p>\n<pre><code>import org.gradle.api.tasks.testing.logging.TestExceptionFormat\n\nplugins {\n    application\n    id (&quot;org.openjfx.javafxplugin&quot;) version &quot;0.0.10&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.8.1&quot;)\n    testImplementation(&quot;org.testfx:testfx-junit5:4.0.16-alpha&quot;)\n    testImplementation(&quot;org.testfx:openjfx-monocle:jdk-11+26&quot;)\n}\n\njavafx {\n    version = &quot;11&quot;\n    modules(&quot;javafx.controls&quot;, &quot;javafx.swing&quot;)\n}\n\napplication {\n    mainClass.set(&quot;test.example.SwingNodeExample&quot;)\n}\n\ntasks.named&lt;Test&gt;(&quot;test&quot;) {\n    useJUnitPlatform()\n    systemProperties = mapOf(\n        &quot;java.awt.headless&quot; to true,\n        &quot;testfx.robot&quot; to &quot;glass&quot;,\n        &quot;testfx.headless&quot; to true,\n        &quot;glass.platform&quot; to &quot;Monocle&quot;,\n        &quot;headless.geometry&quot; to &quot;1920x1080-32&quot;,\n        &quot;prism.order&quot; to &quot;sw&quot;\n    )\n    testLogging {\n        exceptionFormat = TestExceptionFormat.FULL\n    }\n}\n</code></pre>\n<p><code>src/test/java/test/example/SwingNodeTest.java</code></p>\n<pre><code>package test.example;\n\nimport org.junit.jupiter.api.Test;\nimport org.testfx.framework.junit5.ApplicationExtension;\nimport org.testfx.framework.junit5.Start;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.testfx.api.FxRobot;\nimport javafx.embed.swing.SwingNode;\nimport javax.swing.JButton;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\n@ExtendWith(ApplicationExtension.class)\npublic class SwingNodeTest {\n\n    private Group root;\n    private SwingNode node;\n    private JButton button;\n\n    @Start\n    private void start(Stage stage) {\n        root = new Group();\n        node = new SwingNode();\n        root.getChildren().add(node);\n\n        button = new JButton(&quot;Help&quot;);\n        node.setContent(button);\n\n        stage.setScene(new Scene(root));\n        stage.show();\n    }\n\n    @Test\n    void shouldInstance(FxRobot robot) {\n    }\n\n}\n</code></pre>\n<p><code>src/main/java/test/example/SwingNodeExample.java</code></p>\n<pre><code>package test.example;\n\npublic class SwingNodeExample {\n    // Empty class to satisfy gradle.\n}\n</code></pre>\n<hr />\n<p>Results:</p>\n<pre><code>user@localhost ~/tmp/javatest $ ./gradlew test\n\n&gt; Configure project :example\nProject :example =&gt; no module-info.java found\n\n&gt; Task :example:test FAILED\n\nSwingNodeTest &gt; shouldInstance(FxRobot) FAILED\n    java.lang.RuntimeException: java.awt.HeadlessException\n        at org.testfx.util.WaitForAsyncUtils.---- Delayed Exception: (See Trace Below) ----(WaitForAsyncUtils.java:0)\n\n        Caused by:\n        java.awt.HeadlessException:\n        No X11 DISPLAY variable was set, but this program performed an operation which requires it.\n            at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:208)\n            at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:548)\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:423)\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:388)\n            at java.desktop/sun.awt.LightweightFrame.&lt;init&gt;(LightweightFrame.java:62)\n            at java.desktop/sun.swing.JLightweightFrame.&lt;init&gt;(JLightweightFrame.java:118)\n            at jdk.unsupported.desktop/jdk.swing.interop.LightweightFrameWrapper.&lt;init&gt;(LightweightFrameWrapper.java:51)\n            at com.sun.javafx.embed.swing.newimpl.SwingNodeInteropN.createLightweightFrame(SwingNodeInteropN.java:88)\n            at com.sun.javafx.embed.swing.newimpl.SwingNodeInteropN.createLightweightFrame(SwingNodeInteropN.java:59)\n            at javafx.embed.swing.SwingNode.setContentImpl(SwingNode.java:375)\n            at javafx.embed.swing.SwingNode.lambda$setContent$5(SwingNode.java:347)\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n\n1 test completed, 1 failed\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':example:test'.\n&gt; There were failing tests. See the report at: file:///home/user/tmp/javatest/example/build/reports/tests/test/index.html\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<hr />\n<p>I understand &quot;why&quot; this is occurring in that SwingNode instantiates an internal helper class that throws when instantiated in a headless environment.</p>\n<p>My question instead is: What is the technical reason that SwingNode is unable to be instantiated and loaded with Swing content without throwing in a Headless environment?</p>\n<p>The follow-up would be: How could we work around this, either in the test suite or in the application itself (such as an alternative to <code>javafx.embed.swing.SwingNode</code>)? Like previously mentioned we have a temporary &quot;hack&quot; using Xvfb on *nix machines however on Windows there doesn't seem to be any real solution from what I can see.</p>\n<hr />\n<p>Edit: I realised I forgot to mention why the tests can't be headless on Windows. With TestFx, the tests steal mouse + keyboard input and draw on the monitor itself. This makes the tests very fragile since they can be easily failed just by the developer interacting with their machine or another application triggering a popup or notification (such as MS Teams or Outlook).</p>\n"},{"tags":["java","stream","akka"],"answers":[{"tags":[],"owner":{"account_id":910136,"reputation":1710,"user_id":944174,"accept_rate":56,"display_name":"artur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644359853,"creation_date":1644358387,"answer_id":71041534,"question_id":71040859,"body_markdown":"[EDIT]\r\nTL;DR\r\nYou basically need to work around calling Scala vararg method from Java. You can do it like this using  `scala.collection.mutable.ArrayBuffer`\r\n\r\n```\r\n    ArrayBuffer&lt;Outlet&lt;DeviceInfo&gt;&gt; arrayBuffer = new ArrayBuffer&lt;&gt;();\r\n    arrayBuffer.append(temp_out);\r\n    arrayBuffer.append(humidity_out);\r\n    arrayBuffer.append(illumination_out);\r\n\r\n    final UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt; shape =\r\n      UniformFanOutShape.apply(in, arrayBuffer.toSeq());\r\n```\r\n\r\nsource: https://stackoverflow.com/questions/10060377/how-to-use-scala-varargs-from-java-code\r\n\r\n[/EDIT]\r\n\r\n&gt;  (the documentation isn&#39;t the best for custom components)\r\n\r\nI disagree. The documentation is pretty comprehensive (https://doc.akka.io/docs/akka/current/stream/stream-customize.html)\r\n\r\nYou shouldn&#39;t extend `UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt;`, but rather `GraphStage&lt;UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt;&gt;`. \r\n\r\nYou then need to override two methods:\r\n\r\n```\r\n public UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt; shape() {\r\n    //implement\r\n }\r\n\r\n @Override\r\n public GraphStageLogic createLogic(Attributes inheritedAttributes) {\r\n   //implement\r\n }\r\n```\r\n\r\nthe documentation shows you how to create shapes and how to implement `GraphStageLogic` with detailed information about handling backpressure, etc.\r\n\r\nThe documentation shows examples for `SourceShape`, `SinkShape` and `FlowShape`. If you understand those examples, but need some more guidance you can look at the source code. In `akka.stream.scaladsl.Graph.scala` you can find implementation of all built in `GraphStage`s Akka Streams provide. For example `Broadcast` is an example of a `UniformFanOutShape` stage and this is how the code for it starts:\r\n\r\n`final class Broadcast[T](val outputPorts: Int, val eagerCancel: Boolean) extends GraphStage[UniformFanOutShape[T, T]]`\r\n\r\nThe implementation is under 100 lines of code and follows the same pattern like the documentation shows. The code is Scala, because Akka is implemented in that language with a thin Java layer meant to be used from Java code. So for example there&#39;s also `akka.stream.javadsl.Graph.scala`, but you will see that the code there is delegating to implementations in `scaladsl` package. You will see that pattern all over Akka code. So in short you will need to understand a bit of scala to understand the implementation but in this case here it&#39;s very similar to what Java implementation could look like.\r\n\r\n\r\n","title":"How to create a custom Uniform Fan Out Shape in Akka through the Java library","body":"<p>[EDIT]\nTL;DR\nYou basically need to work around calling Scala vararg method from Java. You can do it like this using  <code>scala.collection.mutable.ArrayBuffer</code></p>\n<pre><code>    ArrayBuffer&lt;Outlet&lt;DeviceInfo&gt;&gt; arrayBuffer = new ArrayBuffer&lt;&gt;();\n    arrayBuffer.append(temp_out);\n    arrayBuffer.append(humidity_out);\n    arrayBuffer.append(illumination_out);\n\n    final UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt; shape =\n      UniformFanOutShape.apply(in, arrayBuffer.toSeq());\n</code></pre>\n<p>source: <a href=\"https://stackoverflow.com/questions/10060377/how-to-use-scala-varargs-from-java-code\">How to use Scala varargs from Java code</a></p>\n<p>[/EDIT]</p>\n<blockquote>\n<p>(the documentation isn't the best for custom components)</p>\n</blockquote>\n<p>I disagree. The documentation is pretty comprehensive (<a href=\"https://doc.akka.io/docs/akka/current/stream/stream-customize.html\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka/current/stream/stream-customize.html</a>)</p>\n<p>You shouldn't extend <code>UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt;</code>, but rather <code>GraphStage&lt;UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt;&gt;</code>.</p>\n<p>You then need to override two methods:</p>\n<pre><code> public UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt; shape() {\n    //implement\n }\n\n @Override\n public GraphStageLogic createLogic(Attributes inheritedAttributes) {\n   //implement\n }\n</code></pre>\n<p>the documentation shows you how to create shapes and how to implement <code>GraphStageLogic</code> with detailed information about handling backpressure, etc.</p>\n<p>The documentation shows examples for <code>SourceShape</code>, <code>SinkShape</code> and <code>FlowShape</code>. If you understand those examples, but need some more guidance you can look at the source code. In <code>akka.stream.scaladsl.Graph.scala</code> you can find implementation of all built in <code>GraphStage</code>s Akka Streams provide. For example <code>Broadcast</code> is an example of a <code>UniformFanOutShape</code> stage and this is how the code for it starts:</p>\n<p><code>final class Broadcast[T](val outputPorts: Int, val eagerCancel: Boolean) extends GraphStage[UniformFanOutShape[T, T]]</code></p>\n<p>The implementation is under 100 lines of code and follows the same pattern like the documentation shows. The code is Scala, because Akka is implemented in that language with a thin Java layer meant to be used from Java code. So for example there's also <code>akka.stream.javadsl.Graph.scala</code>, but you will see that the code there is delegating to implementations in <code>scaladsl</code> package. You will see that pattern all over Akka code. So in short you will need to understand a bit of scala to understand the implementation but in this case here it's very similar to what Java implementation could look like.</p>\n"}],"owner":{"account_id":22121660,"reputation":3,"user_id":16374771,"display_name":"Chanaka Perera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71041534,"answer_count":1,"score":0,"last_activity_date":1644359853,"creation_date":1644354189,"question_id":71040859,"body_markdown":"So I am building an Akka custom component to learn the framework. I need to create a UnifromFanOut shape custom component. So I tried to extend the shape but the issue is how do I create the shape with 1 input and 3 outputs. The class requires a seq object which is a part of Scala but I am a bit confused on whether the whole shape itself is correct. I just started learning Akka so I can understand if my approach is wrong. Also I the purpose of the exercise was to create a custom component and I know I can get the logic done through GraphDSL but it needs to be a custom component. My question is how do I create this shape correctly. (the documentation isn&#39;t the best for custom components)\r\n\r\n```\r\n    public final Inlet&lt;DeviceInfo&gt; in = Inlet.create(&quot;Map.in&quot;);\r\n  \tpublic final Outlet&lt;DeviceInfo&gt; temp_out = Outlet.create(&quot;Map.out&quot;);\r\n\tpublic final Outlet&lt;DeviceInfo&gt; humidity_out = Outlet.create(&quot;Map.out&quot;);\r\n\tpublic final Outlet&lt;DeviceInfo&gt; illumination_out = Outlet.create(&quot;Map.out&quot;);\r\n\t//Does not work\r\n\tprivate final UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt; shape = UniformFanOutShape.apply(in, Arrays.asList(temp_out, humidity_out));\r\n\r\n\t@Override\r\n\tpublic UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt; shape() {\t\t\r\n\t\treturn shape;\r\n    }\r\n```","title":"How to create a custom Uniform Fan Out Shape in Akka through the Java library","body":"<p>So I am building an Akka custom component to learn the framework. I need to create a UnifromFanOut shape custom component. So I tried to extend the shape but the issue is how do I create the shape with 1 input and 3 outputs. The class requires a seq object which is a part of Scala but I am a bit confused on whether the whole shape itself is correct. I just started learning Akka so I can understand if my approach is wrong. Also I the purpose of the exercise was to create a custom component and I know I can get the logic done through GraphDSL but it needs to be a custom component. My question is how do I create this shape correctly. (the documentation isn't the best for custom components)</p>\n<pre><code>    public final Inlet&lt;DeviceInfo&gt; in = Inlet.create(&quot;Map.in&quot;);\n    public final Outlet&lt;DeviceInfo&gt; temp_out = Outlet.create(&quot;Map.out&quot;);\n    public final Outlet&lt;DeviceInfo&gt; humidity_out = Outlet.create(&quot;Map.out&quot;);\n    public final Outlet&lt;DeviceInfo&gt; illumination_out = Outlet.create(&quot;Map.out&quot;);\n    //Does not work\n    private final UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt; shape = UniformFanOutShape.apply(in, Arrays.asList(temp_out, humidity_out));\n\n    @Override\n    public UniformFanOutShape&lt;DeviceInfo, DeviceInfo&gt; shape() {     \n        return shape;\n    }\n</code></pre>\n"},{"tags":["java","android","xml","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":18904466,"reputation":228,"user_id":13791872,"display_name":"Courtesy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644358695,"creation_date":1644358695,"answer_id":71041585,"question_id":71026920,"body_markdown":"I&#39;m not sure I understand the question\r\n`Navigation.findNavController(view).navigate(R.id.nav_signup);` - it should do the navigation and `R.id.nav_signup` should be destination or action. I&#39;m not sure what `R.id.nav_signup` is atm. If destination then probably it should be fragment id.\r\n\r\n* Here&#39;s doc about navigations https://developer.android.com/guide/navigation/navigation-navigate#java\r\n\r\n* And here is Google course about navigation between fragments https://developer.android.com/codelabs/basic-android-kotlin-training-fragments-navigation-component#6 (This guide is in Kotlin but that&#39;s just a syntax difference, hopefully still can be useful)\r\n  * And the final code of this is here https://github.com/google-developer-training/android-basics-kotlin-words-app (it uses navigation/nav_graph.xml to define navigations between fragments)\r\n  * And for example in *src/main/java/com/example/wordsapp/LetterAdapter.kt* has navigation to different fragment.\r\n```kotlin\r\n       holder.button.setOnClickListener {\r\n            // LetterListFragmentDirections is defined in nav_graph.xml\r\n            val action = LetterListFragmentDirections.actionLetterListFragmentToWordListFragment(letter = holder.button.text.toString())\r\n            // Navigate using that action\r\n            holder.view.findNavController().navigate(action)\r\n        }\r\n```\r\n\r\nI haven&#39;t used fragments a long time, but I hope this will be helpful :)\r\n","title":"Where do I put the nav_host portion of the xml code?","body":"<p>I'm not sure I understand the question\n<code>Navigation.findNavController(view).navigate(R.id.nav_signup);</code> - it should do the navigation and <code>R.id.nav_signup</code> should be destination or action. I'm not sure what <code>R.id.nav_signup</code> is atm. If destination then probably it should be fragment id.</p>\n<ul>\n<li><p>Here's doc about navigations <a href=\"https://developer.android.com/guide/navigation/navigation-navigate#java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-navigate#java</a></p>\n</li>\n<li><p>And here is Google course about navigation between fragments <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-fragments-navigation-component#6\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/basic-android-kotlin-training-fragments-navigation-component#6</a> (This guide is in Kotlin but that's just a syntax difference, hopefully still can be useful)</p>\n<ul>\n<li>And the final code of this is here <a href=\"https://github.com/google-developer-training/android-basics-kotlin-words-app\" rel=\"nofollow noreferrer\">https://github.com/google-developer-training/android-basics-kotlin-words-app</a> (it uses navigation/nav_graph.xml to define navigations between fragments)</li>\n<li>And for example in <em>src/main/java/com/example/wordsapp/LetterAdapter.kt</em> has navigation to different fragment.</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>       holder.button.setOnClickListener {\n            // LetterListFragmentDirections is defined in nav_graph.xml\n            val action = LetterListFragmentDirections.actionLetterListFragmentToWordListFragment(letter = holder.button.text.toString())\n            // Navigate using that action\n            holder.view.findNavController().navigate(action)\n        }\n</code></pre>\n<p>I haven't used fragments a long time, but I hope this will be helpful :)</p>\n"}],"owner":{"account_id":18445494,"reputation":39,"user_id":13436929,"display_name":"J Stark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644358695,"creation_date":1644278092,"question_id":71026920,"body_markdown":"I am trying to figure out where I should be putting the nav_host in my xml files. I am not fully understanding how to get around my application fragments in general.\r\n\r\nI have read this &lt;https://stackoverflow.com/questions/42687639/add-drawer-layout-into-main-activity&gt;\r\n\r\nI had most of this working before trying to add the Navigation host (Meaning I could use the drawer menu and navigate). I have not been able to navigate from a fragment to anywhere else with a button that is on that fragment. \r\n\r\nMy current activity_main.xml\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;@color/colorPrimary&quot;\r\n                    android:elevation=&quot;4dp&quot;\r\n                    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;/&gt;\r\n    \r\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n        \r\n    \r\n        &lt;androidx.fragment.app.FragmentContainerView\r\n            android:id=&quot;@+id/mainActivityHost&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation&quot;\r\n            tools:layout=&quot;@layout/fragment_home&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:headerLayout=&quot;@layout/nav_header_main&quot;\r\n            app:menu=&quot;@menu/drawer_menu&quot;/&gt;\r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n```\r\nIs where I have the nav_host correct? Or should I have a different Fragment all together for the nav_host?\r\n\r\nMy MainActivity.class\r\n```\r\n\r\n    package com.signin.app;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.MenuItem;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.ActionBarDrawerToggle;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    import androidx.core.view.GravityCompat;\r\n    import androidx.drawerlayout.widget.DrawerLayout;\r\n    \r\n    import com.google.android.material.navigation.NavigationView;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n    \r\n        private Toolbar toolbar;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n    \r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                    this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.addDrawerListener(toggle);\r\n            toggle.syncState();\r\n    \r\n            NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n    \r\n            // The program should always start on home.\r\n            if (savedInstanceState == null) {\r\n                getSupportFragmentManager().beginTransaction().replace(R.id.mainActivityHost, new HomeFragment()).commit();\r\n                navigationView.setCheckedItem(R.id.nav_home);\r\n            }\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            // Handle navigation view item clicks here.\r\n            int id = item.getItemId();\r\n    \r\n            if (id == R.id.nav_home) {\r\n    \r\n            } else if (id == R.id.nav_signin) {\r\n    \r\n            } else if (id == R.id.nav_flights) {\r\n    \r\n            } else if (id == R.id.nav_hotels) {\r\n    \r\n            } else if (id == R.id.nav_profile) {\r\n    \r\n            }\r\n    \r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            drawer.closeDrawer(GravityCompat.START);\r\n            return true;\r\n        }\r\n    //\r\n    //    @Override\r\n    //    public void onBackPressed() {\r\n    //        if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n    //            drawer.closeDrawer(GravityCompat.START);\r\n    //        } else {\r\n    //            super.onBackPressed();\r\n    //        }\r\n    //    }\r\n    \r\n    }\r\n\r\n```\r\n\r\nBefore I messed with it I could open the drawer click the menu items and go to a fragment, so pretending that still worked the problem was that I could go to Signin fragment, but the buttons on that fragment would not take me anywhere, they mostly just crashed the application. \r\n\r\n```\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.navigation.Navigation;\r\n\r\n\r\npublic class SigninFragment extends Fragment {\r\n    private EditText editText;\r\n    private Button btn_signup, btn_signin, btn_forgot_pass;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.activity_main, container,false);\r\n\r\n        editText = view.findViewById(R.id.email);\r\n        btn_signup = view.findViewById(R.id.btn_signup);\r\n        btn_signin = view.findViewById(R.id.btn_signin);\r\n        btn_forgot_pass = view.findViewById(R.id.btn_forgot_pass);\r\n\r\n        btn_signup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //Toast.makeText(getContext(), &quot;Sign Up&quot;, Toast.LENGTH_SHORT).show();\r\n                Navigation.findNavController(view).navigate(R.id.nav_signup);\r\n            }\r\n        });\r\n\r\n        btn_signin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(getContext(), &quot;Sign in&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n}```\r\nAlso, please note that nav_signup is not in the drawer menu so I wasn&#39;t sure where I was supposed to identify it, (i.e., in the fragment_signup.xml, in its own menu, somewhere else.) right now the id for fragment_signup, is `android:id=&quot;@+id/nav_signup&quot;`\r\n\r\n\r\n\r\n\r\n\r\n","title":"Where do I put the nav_host portion of the xml code?","body":"<p>I am trying to figure out where I should be putting the nav_host in my xml files. I am not fully understanding how to get around my application fragments in general.</p>\n<p>I have read this <a href=\"https://stackoverflow.com/questions/42687639/add-drawer-layout-into-main-activity\">Add Drawer layout into main activity</a></p>\n<p>I had most of this working before trying to add the Navigation host (Meaning I could use the drawer menu and navigate). I have not been able to navigate from a fragment to anywhere else with a button that is on that fragment.</p>\n<p>My current activity_main.xml</p>\n<pre><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:id=&quot;@+id/drawer_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        tools:context=&quot;.MainActivity&quot;\n        tools:openDrawer=&quot;start&quot;&gt;\n    \n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;com.google.android.material.appbar.AppBarLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;&gt;\n    \n                &lt;androidx.appcompat.widget.Toolbar\n                    android:id=&quot;@+id/toolbar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\n                    android:background=&quot;@color/colorPrimary&quot;\n                    android:elevation=&quot;4dp&quot;\n                    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;/&gt;\n    \n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n    \n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n        \n    \n        &lt;androidx.fragment.app.FragmentContainerView\n            android:id=&quot;@+id/mainActivityHost&quot;\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:defaultNavHost=&quot;true&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:navGraph=&quot;@navigation/mobile_navigation&quot;\n            tools:layout=&quot;@layout/fragment_home&quot; /&gt;\n    \n        &lt;com.google.android.material.navigation.NavigationView\n            android:id=&quot;@+id/nav_view&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;start&quot;\n            app:headerLayout=&quot;@layout/nav_header_main&quot;\n            app:menu=&quot;@menu/drawer_menu&quot;/&gt;\n    \n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n</code></pre>\n<p>Is where I have the nav_host correct? Or should I have a different Fragment all together for the nav_host?</p>\n<p>My MainActivity.class</p>\n<pre><code>\n    package com.signin.app;\n    \n    import android.os.Bundle;\n    import android.view.MenuItem;\n    import android.widget.Toast;\n    \n    import androidx.annotation.NonNull;\n    import androidx.appcompat.app.ActionBarDrawerToggle;\n    import androidx.appcompat.app.AppCompatActivity;\n    import androidx.appcompat.widget.Toolbar;\n    import androidx.core.view.GravityCompat;\n    import androidx.drawerlayout.widget.DrawerLayout;\n    \n    import com.google.android.material.navigation.NavigationView;\n    \n    \n    public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n    \n        private Toolbar toolbar;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            toolbar = findViewById(R.id.toolbar);\n            setSupportActionBar(toolbar);\n    \n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                    this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n            drawer.addDrawerListener(toggle);\n            toggle.syncState();\n    \n            NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\n            navigationView.setNavigationItemSelectedListener(this);\n    \n            // The program should always start on home.\n            if (savedInstanceState == null) {\n                getSupportFragmentManager().beginTransaction().replace(R.id.mainActivityHost, new HomeFragment()).commit();\n                navigationView.setCheckedItem(R.id.nav_home);\n            }\n        }\n    \n        @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            // Handle navigation view item clicks here.\n            int id = item.getItemId();\n    \n            if (id == R.id.nav_home) {\n    \n            } else if (id == R.id.nav_signin) {\n    \n            } else if (id == R.id.nav_flights) {\n    \n            } else if (id == R.id.nav_hotels) {\n    \n            } else if (id == R.id.nav_profile) {\n    \n            }\n    \n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n            drawer.closeDrawer(GravityCompat.START);\n            return true;\n        }\n    //\n    //    @Override\n    //    public void onBackPressed() {\n    //        if (drawer.isDrawerOpen(GravityCompat.START)) {\n    //            drawer.closeDrawer(GravityCompat.START);\n    //        } else {\n    //            super.onBackPressed();\n    //        }\n    //    }\n    \n    }\n\n</code></pre>\n<p>Before I messed with it I could open the drawer click the menu items and go to a fragment, so pretending that still worked the problem was that I could go to Signin fragment, but the buttons on that fragment would not take me anywhere, they mostly just crashed the application.</p>\n<pre><code>\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.Navigation;\n\n\npublic class SigninFragment extends Fragment {\n    private EditText editText;\n    private Button btn_signup, btn_signin, btn_forgot_pass;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.activity_main, container,false);\n\n        editText = view.findViewById(R.id.email);\n        btn_signup = view.findViewById(R.id.btn_signup);\n        btn_signin = view.findViewById(R.id.btn_signin);\n        btn_forgot_pass = view.findViewById(R.id.btn_forgot_pass);\n\n        btn_signup.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //Toast.makeText(getContext(), &quot;Sign Up&quot;, Toast.LENGTH_SHORT).show();\n                Navigation.findNavController(view).navigate(R.id.nav_signup);\n            }\n        });\n\n        btn_signin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getContext(), &quot;Sign in&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        return view;\n    }\n\n}```\nAlso, please note that nav_signup is not in the drawer menu so I wasn't sure where I was supposed to identify it, (i.e., in the fragment_signup.xml, in its own menu, somewhere else.) right now the id for fragment_signup, is `android:id=&quot;@+id/nav_signup&quot;`\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1648672294,"post_id":71041583,"comment_id":126687162,"body_markdown":"Is there any way to add the resources file content to the `@ExampleObject`? I am trying to add the `@ExampleObject` from the `resources file` using `ref` but its not working for some reason. I have posted my question:  https://stackoverflow.com/q/71616547/7584240","body":"Is there any way to add the resources file content to the <code>@ExampleObject</code>? I am trying to add the <code>@ExampleObject</code> from the <code>resources file</code> using <code>ref</code> but its not working for some reason. I have posted my question:  <a href=\"https://stackoverflow.com/q/71616547/7584240\">stackoverflow.com/q/71616547/7584240</a>"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644358694,"creation_date":1644358694,"question_id":71041583,"body_markdown":"I have an endpoint that accepts and sends back objects of the form `{a: 1, b: 2, c:3}` where either `b` or `c` is missing. To precise, admissible objects are `{a: 1, b: 2}`, `{a: 1, c:3}` where the values are free to choose.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v42&quot;)\r\npublic class MyAPI {\r\n\r\n    @PostMapping(&quot;/subsets&quot;)\r\n    public Subset getSubsets(@RequestParam Subset subset) {\r\n\r\n        return subset;\r\n    }\r\n\r\n}\r\n```\r\nInternally the JSON object is parsed into a subclass of `Subset`:\r\n```\r\n@JsonDeserialize(using = SubsetDeserializer.class)\r\npublic abstract class Subset {\r\n}\r\n\r\n@AllArgsConstructor\r\npublic class SubsetAB extends Subset {\r\n    int a,b;\r\n}\r\n@AllArgsConstructor\r\npublic class SubsetAC extends Subset {\r\n    int a,c;\r\n}\r\n```\r\nBut since the parent class has no fields the generated spec does not list them:\r\n```\r\npaths:\r\n  /v42/subsets:\r\n    post:\r\n      tags:\r\n      - pet-api\r\n      operationId: getSubset\r\n      parameters:\r\n      - name: subset\r\n        in: query\r\n        required: true\r\n        schema:\r\n          $ref: &#39;#/components/schemas/com.myservice.api.v42.Subset&#39;\r\n      responses:\r\n        200:\r\n          description: OK\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/com.myservice.api.v42.Subset&#39;\r\n...\r\ncomponents:\r\n  schemas:\r\n    com.myservice.api.v42.Subset:\r\n      type: object\r\n```\r\n\r\nHow can I annotate my `Subset` class so that if shows as having either the form `SubsetAB` or `SubsetAC`?\r\n\r\n# I&#39;ve tried:\r\n## Defining my own examples:\r\n\r\n\r\n    @PostMapping(&quot;/subsets&quot;)\r\n    @ApiResponses(value = {\r\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Subset that comes back&quot;, content = {\r\n            @Content(mediaType = &quot;application/json&quot;, examples = {\r\n                @ExampleObject(name = &quot;subsetAB&quot;, description = &quot;With A and B&quot;, value = &quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;),\r\n                @ExampleObject(name = &quot;subsetAC&quot;, description = &quot;With A and C&quot;, value = &quot;{\\&quot;a\\&quot;: 1, \\&quot;c\\&quot;: 3}&quot;)\r\n            })\r\n        })\r\n    })\r\n    public Subset getSubset(@io.swagger.v3.oas.annotations.parameters.RequestBody(content = @Content(examples = {\r\n            @ExampleObject(name = &quot;subsetAB&quot;, description = &quot;With A and B&quot;, value = &quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;),\r\n            @ExampleObject(name = &quot;subsetAC&quot;, description = &quot;With A and C&quot;, value = &quot;{\\&quot;a\\&quot;: 1, \\&quot;c\\&quot;: 3}&quot;)\r\n    })) @RequestBody Subset subset) {\r\n\r\n        return subset;\r\n    }\r\n\r\nThis works pretty good already:\r\n\r\n```\r\npaths:\r\n  /v42/subsets:\r\n    post:\r\n      tags:\r\n      - pet-api\r\n      operationId: getSubset\r\n      requestBody:\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/com.myservice.api.v42.Subset&#39;\r\n            examples:\r\n              subsetAB:\r\n                description: With A and B\r\n                value:\r\n                  a: 1\r\n                  b: 2\r\n              subsetAC:\r\n                description: With A and C\r\n                value:\r\n                  a: 1\r\n                  c: 3\r\n        required: true\r\n      responses:\r\n        200:\r\n          description: Subset that comes back\r\n          content:\r\n            application/json:\r\n              examples:\r\n                subsetAB:\r\n                  description: With A and B\r\n                  value:\r\n                    a: 1\r\n                    b: 2\r\n                subsetAC:\r\n                  description: With A and C\r\n                  value:\r\n                    a: 1\r\n                    c: 3\r\n...\r\ncomponents:\r\n  schemas:\r\n    com.myservice.api.v42.Subset:\r\n      type: object\r\n```\r\nI have examples for input and output and can also see them nicely displayed in the /swagger-ui.html endpoint.\r\nHowever, the schema definition is still empty. And it would be convenient to just define and reference the schemas and have the examples generated automatically.","title":"How to programmatically include a custom property into spec generated by springdoc-openapi?","body":"<p>I have an endpoint that accepts and sends back objects of the form <code>{a: 1, b: 2, c:3}</code> where either <code>b</code> or <code>c</code> is missing. To precise, admissible objects are <code>{a: 1, b: 2}</code>, <code>{a: 1, c:3}</code> where the values are free to choose.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v42&quot;)\npublic class MyAPI {\n\n    @PostMapping(&quot;/subsets&quot;)\n    public Subset getSubsets(@RequestParam Subset subset) {\n\n        return subset;\n    }\n\n}\n</code></pre>\n<p>Internally the JSON object is parsed into a subclass of <code>Subset</code>:</p>\n<pre><code>@JsonDeserialize(using = SubsetDeserializer.class)\npublic abstract class Subset {\n}\n\n@AllArgsConstructor\npublic class SubsetAB extends Subset {\n    int a,b;\n}\n@AllArgsConstructor\npublic class SubsetAC extends Subset {\n    int a,c;\n}\n</code></pre>\n<p>But since the parent class has no fields the generated spec does not list them:</p>\n<pre><code>paths:\n  /v42/subsets:\n    post:\n      tags:\n      - pet-api\n      operationId: getSubset\n      parameters:\n      - name: subset\n        in: query\n        required: true\n        schema:\n          $ref: '#/components/schemas/com.myservice.api.v42.Subset'\n      responses:\n        200:\n          description: OK\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/com.myservice.api.v42.Subset'\n...\ncomponents:\n  schemas:\n    com.myservice.api.v42.Subset:\n      type: object\n</code></pre>\n<p>How can I annotate my <code>Subset</code> class so that if shows as having either the form <code>SubsetAB</code> or <code>SubsetAC</code>?</p>\n<h1>I've tried:</h1>\n<h2>Defining my own examples:</h2>\n<pre><code>@PostMapping(&quot;/subsets&quot;)\n@ApiResponses(value = {\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Subset that comes back&quot;, content = {\n        @Content(mediaType = &quot;application/json&quot;, examples = {\n            @ExampleObject(name = &quot;subsetAB&quot;, description = &quot;With A and B&quot;, value = &quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;),\n            @ExampleObject(name = &quot;subsetAC&quot;, description = &quot;With A and C&quot;, value = &quot;{\\&quot;a\\&quot;: 1, \\&quot;c\\&quot;: 3}&quot;)\n        })\n    })\n})\npublic Subset getSubset(@io.swagger.v3.oas.annotations.parameters.RequestBody(content = @Content(examples = {\n        @ExampleObject(name = &quot;subsetAB&quot;, description = &quot;With A and B&quot;, value = &quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;),\n        @ExampleObject(name = &quot;subsetAC&quot;, description = &quot;With A and C&quot;, value = &quot;{\\&quot;a\\&quot;: 1, \\&quot;c\\&quot;: 3}&quot;)\n})) @RequestBody Subset subset) {\n\n    return subset;\n}\n</code></pre>\n<p>This works pretty good already:</p>\n<pre><code>paths:\n  /v42/subsets:\n    post:\n      tags:\n      - pet-api\n      operationId: getSubset\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/com.myservice.api.v42.Subset'\n            examples:\n              subsetAB:\n                description: With A and B\n                value:\n                  a: 1\n                  b: 2\n              subsetAC:\n                description: With A and C\n                value:\n                  a: 1\n                  c: 3\n        required: true\n      responses:\n        200:\n          description: Subset that comes back\n          content:\n            application/json:\n              examples:\n                subsetAB:\n                  description: With A and B\n                  value:\n                    a: 1\n                    b: 2\n                subsetAC:\n                  description: With A and C\n                  value:\n                    a: 1\n                    c: 3\n...\ncomponents:\n  schemas:\n    com.myservice.api.v42.Subset:\n      type: object\n</code></pre>\n<p>I have examples for input and output and can also see them nicely displayed in the /swagger-ui.html endpoint.\nHowever, the schema definition is still empty. And it would be convenient to just define and reference the schemas and have the examples generated automatically.</p>\n"},{"tags":["java","selenium","cucumber","testng","assert"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644357247,"creation_date":1644356615,"answer_id":71041254,"question_id":71040988,"body_markdown":"With the assertion you can use your customized error text. Something like this:\r\n```java\r\nAssert.assertEquals(resultText, expectedResult, &quot;Expected: &quot; + expectedResult + &quot; but found &quot; + resultText);\r\n```\r\nOr this\r\n```java\r\nAssert.assertTrue(expectedResult.equals(resultText), &quot;Expected: &quot; + expectedResult + &quot; but found &quot; + resultText);\r\n```\r\nIn case of non-equal parameters it will present you output like this for the first case:   \r\n&gt;java.lang.AssertionError: Expected: expectedResult but found resultText   \r\nExpected :expectedResult  \r\nActual   :resultText\r\n\r\n\r\nAnd for the second case:\r\n&gt;java.lang.AssertionError: Expected: expectedResult but found resultText  \r\nExpected :true  \r\nActual   :false\r\n","title":"Selenium web driver assert webelement contains text and display actual vs expected","body":"<p>With the assertion you can use your customized error text. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Assert.assertEquals(resultText, expectedResult, &quot;Expected: &quot; + expectedResult + &quot; but found &quot; + resultText);\n</code></pre>\n<p>Or this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Assert.assertTrue(expectedResult.equals(resultText), &quot;Expected: &quot; + expectedResult + &quot; but found &quot; + resultText);\n</code></pre>\n<p>In case of non-equal parameters it will present you output like this for the first case:</p>\n<blockquote>\n<p>java.lang.AssertionError: Expected: expectedResult but found resultText<br />\nExpected :expectedResult<br />\nActual   :resultText</p>\n</blockquote>\n<p>And for the second case:</p>\n<blockquote>\n<p>java.lang.AssertionError: Expected: expectedResult but found resultText<br />\nExpected :true<br />\nActual   :false</p>\n</blockquote>\n"}],"owner":{"account_id":1597231,"reputation":837,"user_id":1479019,"accept_rate":28,"display_name":"chucknor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71041254,"answer_count":1,"score":1,"last_activity_date":1644358386,"creation_date":1644354911,"question_id":71040988,"body_markdown":"I have a demo selenium cucumber project that just runs some maths expressions in google search box and validates the results.\r\n\r\nI want the reports to show the actual value vs expected when it fails.\r\n\r\nI&#39;m storing the returned text as string with ..\r\n\r\n    String resultText = driver.findElement(By.cssSelector(&quot;div[class=&#39;dDoNo vrBOv vk_bk&#39;]&quot;)).getText();\r\n\r\nand then asserting against expected which gets passed from my feature files with ...\r\n\r\n    assertTrue(resultText.equals(expectedResult));\r\n\r\n but the reports show ...\r\n\r\n    java.lang.AssertionError: expected [true] but found [false]\r\n\r\nI want it to display the actual expected result vs actual i.e. \r\n\r\n    java.lang.AssertionError: expected [200] but found [201]\r\n\r\nI&#39;ve also tried ...\r\n\r\n    Assert.assertEquals(expectedResult, resultText);\r\n\r\nI&#39;m using ... org.testng.Assert\r\n\r\n\r\nThanks\r\n\r\n","title":"Selenium web driver assert webelement contains text and display actual vs expected","body":"<p>I have a demo selenium cucumber project that just runs some maths expressions in google search box and validates the results.</p>\n<p>I want the reports to show the actual value vs expected when it fails.</p>\n<p>I'm storing the returned text as string with ..</p>\n<pre><code>String resultText = driver.findElement(By.cssSelector(&quot;div[class='dDoNo vrBOv vk_bk']&quot;)).getText();\n</code></pre>\n<p>and then asserting against expected which gets passed from my feature files with ...</p>\n<pre><code>assertTrue(resultText.equals(expectedResult));\n</code></pre>\n<p>but the reports show ...</p>\n<pre><code>java.lang.AssertionError: expected [true] but found [false]\n</code></pre>\n<p>I want it to display the actual expected result vs actual i.e.</p>\n<pre><code>java.lang.AssertionError: expected [200] but found [201]\n</code></pre>\n<p>I've also tried ...</p>\n<pre><code>Assert.assertEquals(expectedResult, resultText);\n</code></pre>\n<p>I'm using ... org.testng.Assert</p>\n<p>Thanks</p>\n"},{"tags":["java","android","react-native","maven"],"owner":{"account_id":11890515,"reputation":10368,"user_id":8701527,"display_name":"Alwaysblue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644357977,"creation_date":1644296165,"question_id":71028787,"body_markdown":"I am using a library in my sdk. \r\n\r\nA user might also use that library for his project. In my SDK, that library only works for specific version. \r\n\r\nSo, if user is also using that library (very likely he is going to be at higher version), I don&#39;t want to initialize/run (init method) that in my sdk (library is for tracing). \r\n\r\nIn Android, if two libraries having different sdk version are specified in dependency then it is going to pick the one with higher version? \r\n\r\nI was thinking about getting library version on compile time and then check if the version is equivalent to my version and if yes, then only call the init function. \r\n\r\nbut I am not sure how to get a library version inside code. Is this possible? and if yes, how can I do it?   ","title":"How to get dependency version on compile time","body":"<p>I am using a library in my sdk.</p>\n<p>A user might also use that library for his project. In my SDK, that library only works for specific version.</p>\n<p>So, if user is also using that library (very likely he is going to be at higher version), I don't want to initialize/run (init method) that in my sdk (library is for tracing).</p>\n<p>In Android, if two libraries having different sdk version are specified in dependency then it is going to pick the one with higher version?</p>\n<p>I was thinking about getting library version on compile time and then check if the version is equivalent to my version and if yes, then only call the init function.</p>\n<p>but I am not sure how to get a library version inside code. Is this possible? and if yes, how can I do it?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1483899168,"post_id":41536063,"comment_id":70277243,"body_markdown":"Given all those &quot;Project not ready&quot; messages, I would assume that there is some issue with your project overall. How did you create this project?","body":"Given all those &quot;Project not ready&quot; messages, I would assume that there is some issue with your project overall. How did you create this project?"},{"owner":{"account_id":8214564,"reputation":3867,"user_id":6181476,"accept_rate":66,"display_name":"X09"},"score":0,"creation_date":1483900863,"post_id":41536063,"comment_id":70277927,"body_markdown":"@CommonsWare is right. Has your project been fully built? I doubt. That&#39;s what is causing this problem.","body":"@CommonsWare is right. Has your project been fully built? I doubt. That&#39;s what is causing this problem."},{"owner":{"account_id":8823568,"reputation":443,"user_id":6592496,"accept_rate":62,"display_name":"Pooja Rajendran C"},"score":1,"creation_date":1483903163,"post_id":41536063,"comment_id":70278763,"body_markdown":"The issue is not with your project. You  tried to create the class at the time of project indexing. Try it after indexing get completed","body":"The issue is not with your project. You  tried to create the class at the time of project indexing. Try it after indexing get completed"},{"owner":{"account_id":9947248,"reputation":1083,"user_id":7361453,"display_name":"Fahim Al Mahmud Ashik"},"score":0,"creation_date":1483905863,"post_id":41536063,"comment_id":70279651,"body_markdown":"You can&#39;t access and make those component while the gradle is building the project or indexing.","body":"You can&#39;t access and make those component while the gradle is building the project or indexing."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1483912159,"post_id":41536063,"comment_id":70281809,"body_markdown":"&quot;in one of my folders&quot; We can&#39;t see where you&#39;re right clicking there.","body":"&quot;in one of my folders&quot; We can&#39;t see where you&#39;re right clicking there."}],"answers":[{"tags":[],"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483924166,"creation_date":1483924166,"answer_id":41539665,"question_id":41536063,"body_markdown":"Like the comments suggest, you might have a build issue, but you can just create an activity and not extend the activity class in order to have a normal java class","title":"Why can&#39;t I create a Java Class in Android Studio","body":"<p>Like the comments suggest, you might have a build issue, but you can just create an activity and not extend the activity class in order to have a normal java class</p>\n"},{"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644357283,"creation_date":1644357283,"answer_id":71041352,"question_id":41536063,"body_markdown":"I discovered at least one reason why android studio may not offer you the option to create a new Java Class.  If you have an unresolved gradle build sync issue the option to create a new Java Class may not be offered up as an option by Android Studio. That happened to me using Android Studio 2021.1.1.  The problem went away once I fixed the issue with my gradle.build script.  In my case, I had a dependency that I hadn&#39;t resolved properly.  It&#39;s a bit odd to see that happen especially since the project was created as a Java Project.  At any rate, there appears to be some dependency on having your gradle build not have any issues before Android Studio can determine that the project is a Java Project. I&#39;m not sure if this problem happens in every circumstance because it was a new empty java library module that I observed that problem and I was trying to add my first class to that module.","title":"Why can&#39;t I create a Java Class in Android Studio","body":"<p>I discovered at least one reason why android studio may not offer you the option to create a new Java Class.  If you have an unresolved gradle build sync issue the option to create a new Java Class may not be offered up as an option by Android Studio. That happened to me using Android Studio 2021.1.1.  The problem went away once I fixed the issue with my gradle.build script.  In my case, I had a dependency that I hadn't resolved properly.  It's a bit odd to see that happen especially since the project was created as a Java Project.  At any rate, there appears to be some dependency on having your gradle build not have any issues before Android Studio can determine that the project is a Java Project. I'm not sure if this problem happens in every circumstance because it was a new empty java library module that I observed that problem and I was trying to add my first class to that module.</p>\n"}],"owner":{"account_id":4714985,"reputation":139,"user_id":3814413,"display_name":"user3814413"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1644357283,"creation_date":1483899103,"question_id":41536063,"body_markdown":"I am trying to create a new Java Class in one of my folders in Android Studio. When I right click, and click the option &#39;new&#39;, it offers me the option of creating a new C++ class, but does not offer any option to creating a Java Class. \r\n\r\n[![screenshot][1]][1]\r\n\r\nHow do I create a new Java Class?\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XKXA7.png","title":"Why can&#39;t I create a Java Class in Android Studio","body":"<p>I am trying to create a new Java Class in one of my folders in Android Studio. When I right click, and click the option 'new', it offers me the option of creating a new C++ class, but does not offer any option to creating a Java Class. </p>\n\n<p><a href=\"https://i.stack.imgur.com/XKXA7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XKXA7.png\" alt=\"screenshot\"></a></p>\n\n<p>How do I create a new Java Class?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2397281,"reputation":4871,"user_id":2095855,"accept_rate":65,"display_name":"Edward van Raak"},"score":0,"creation_date":1644345992,"post_id":71039173,"comment_id":125581155,"body_markdown":"I recommend to learn how to debug first https://developer.android.com/studio/debug/stacktraces","body":"I recommend to learn how to debug first <a href=\"https://developer.android.com/studio/debug/stacktraces\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug/stacktraces</a>"},{"owner":{"account_id":2496876,"reputation":249,"user_id":2173056,"display_name":"simon5678"},"score":0,"creation_date":1644346371,"post_id":71039173,"comment_id":125581295,"body_markdown":"Paste the detail exception of the crash.","body":"Paste the detail exception of the crash."}],"answers":[{"tags":[],"owner":{"account_id":23818152,"reputation":26,"user_id":17826114,"display_name":"Hamzeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644356306,"creation_date":1644356306,"answer_id":71041211,"question_id":71039173,"body_markdown":"You need to initialize the seekbar object instead of calling the findViewById method. \r\n\r\nSo just replace the dot with equal sign :\r\n\r\n      s=findViewById(R.id.seekBar);","title":"MediaPlayer App is crashing when i try to run","body":"<p>You need to initialize the seekbar object instead of calling the findViewById method.</p>\n<p>So just replace the dot with equal sign :</p>\n<pre><code>  s=findViewById(R.id.seekBar);\n</code></pre>\n"}],"owner":{"account_id":22438780,"reputation":23,"user_id":16643636,"display_name":"Jinay Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1644356306,"creation_date":1644345573,"question_id":71039173,"body_markdown":"I&#39;m beginner in android development and tried to create a simple mediaplayer app which plays media from local source.\r\n\r\nBut it&#39;s crashing when i try to open it.\r\n\r\nThis is my java code.\r\n\r\n    package com.example.media;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.media.MediaPlayer;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.SeekBar;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        Button play,pause;\r\n        SeekBar s;\r\n        MediaPlayer m;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            m=MediaPlayer.create(this,R.raw.live);\r\n    \r\n            play=findViewById(R.id.button3);\r\n            pause=findViewById(R.id.button4);\r\n            s.findViewById(R.id.seekBar);\r\n            s.setMax(m.getDuration());\r\n            s.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                    if(fromUser)m.seekTo(progress);\r\n                }\r\n    \r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n    \r\n                }\r\n            });\r\n            play.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    m.start();\r\n                }\r\n            });\r\n            pause.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    m.pause();\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n","title":"MediaPlayer App is crashing when i try to run","body":"<p>I'm beginner in android development and tried to create a simple mediaplayer app which plays media from local source.</p>\n<p>But it's crashing when i try to open it.</p>\n<p>This is my java code.</p>\n<pre><code>package com.example.media;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.SeekBar;\n\npublic class MainActivity extends AppCompatActivity {\n    Button play,pause;\n    SeekBar s;\n    MediaPlayer m;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        m=MediaPlayer.create(this,R.raw.live);\n\n        play=findViewById(R.id.button3);\n        pause=findViewById(R.id.button4);\n        s.findViewById(R.id.seekBar);\n        s.setMax(m.getDuration());\n        s.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n                if(fromUser)m.seekTo(progress);\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n        play.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                m.start();\n            }\n        });\n        pause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                m.pause();\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","linked-list","nodes"],"answers":[{"tags":[],"owner":{"account_id":2018711,"reputation":6103,"user_id":1805388,"accept_rate":80,"display_name":"ValarDohaeris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1368361639,"creation_date":1368361639,"answer_id":16507335,"question_id":16507299,"body_markdown":"If you have a list A-&gt;B-&gt;C, A being the head (&quot;contents&quot;) of your list, in order to remove it, you simply have to advance the pointer to B, i.e. the next node in your list:\r\n\r\n\r\n    public T removeFirst() throws EmptyCollectionException {\r\n        // Checking to see if the List is empty or not\r\n        if ( isEmpty() )\r\n            throw new EmptyCollectionException(&quot;LinkedList&quot;);\r\n\r\n        Node&lt;T&gt; first = contents;\r\n\r\n        contents = contents.getNext();\r\n        count--;\r\n\r\n        return first.getItem();\r\n    }\r\n\r\nSince you also need to return the data associated with the first node, you need to keep a temporary reference to it. (I called it `first`)","title":"How do you remove the first Node in a Linked List?","body":"<p>If you have a list A->B->C, A being the head (\"contents\") of your list, in order to remove it, you simply have to advance the pointer to B, i.e. the next node in your list:</p>\n\n<pre><code>public T removeFirst() throws EmptyCollectionException {\n    // Checking to see if the List is empty or not\n    if ( isEmpty() )\n        throw new EmptyCollectionException(\"LinkedList\");\n\n    Node&lt;T&gt; first = contents;\n\n    contents = contents.getNext();\n    count--;\n\n    return first.getItem();\n}\n</code></pre>\n\n<p>Since you also need to return the data associated with the first node, you need to keep a temporary reference to it. (I called it <code>first</code>)</p>\n"},{"tags":[],"owner":{"account_id":2574858,"reputation":245,"user_id":2232794,"accept_rate":44,"display_name":"htkaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644354443,"creation_date":1368361694,"answer_id":16507340,"question_id":16507299,"body_markdown":"I think you need to add head node to your linked list class for defining the first node of the list.\r\n\r\n    public void deleteFront()\r\n    {\r\n       if (head!=null){\r\n       head = head.next;\r\n       }\r\n    }","title":"How do you remove the first Node in a Linked List?","body":"<p>I think you need to add head node to your linked list class for defining the first node of the list.</p>\n<pre><code>public void deleteFront()\n{\n   if (head!=null){\n   head = head.next;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368366977,"creation_date":1368366977,"answer_id":16508108,"question_id":16507299,"body_markdown":" \r\n   \r\n    public void removeFirst() {\r\n            if (head == null)\r\n                  return;\r\n            else {\r\n                  if (head == tail) {\r\n                        head = null;\r\n                        tail = null;\r\n                  } else {\r\n                        head = head.next;\r\n                  }\r\n            }\r\n      }\r\n\r\n ","title":"How do you remove the first Node in a Linked List?","body":"<pre><code>public void removeFirst() {\n        if (head == null)\n              return;\n        else {\n              if (head == tail) {\n                    head = null;\n                    tail = null;\n              } else {\n                    head = head.next;\n              }\n        }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2681706,"reputation":11,"user_id":2316967,"display_name":"Mahmud Hoque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519943748,"creation_date":1368374157,"answer_id":16509208,"question_id":16507299,"body_markdown":"    public T removeFirst() throws EmptyCollectionException {\r\n     if (isEmpty())\r\n        throw new EmptyCollectionException(&quot;LinkedList&quot;);\r\n\r\n    Node &lt; T &gt; temp  = contents;\r\n\r\n    T  next = contents.getNext().getItem();\r\n\r\n    contents = new Node ( next, contents );\r\n    count--;\r\n\r\n  \r\n\r\n      return temp.getItem();\r\n    }\r\n\r\n\r\nIn this method comment last three statement. then add below three lines\r\n\r\n    contents=contents.getNext()\r\n    count--;\r\n    return next;\r\n\r\nFor removing last node: Its looks fine to me.\r\n","title":"How do you remove the first Node in a Linked List?","body":"<pre><code>public T removeFirst() throws EmptyCollectionException {\n if (isEmpty())\n    throw new EmptyCollectionException(\"LinkedList\");\n\nNode &lt; T &gt; temp  = contents;\n\nT  next = contents.getNext().getItem();\n\ncontents = new Node ( next, contents );\ncount--;\n\n\n\n  return temp.getItem();\n}\n</code></pre>\n\n<p>In this method comment last three statement. then add below three lines</p>\n\n<pre><code>contents=contents.getNext()\ncount--;\nreturn next;\n</code></pre>\n\n<p>For removing last node: Its looks fine to me.</p>\n"}],"owner":{"display_name":"user2124140"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16507335,"answer_count":4,"score":1,"last_activity_date":1644354443,"creation_date":1368361348,"question_id":16507299,"body_markdown":"Sup guys so I&#39;m going over a few of my methods in my Linked List class and I&#39;m getting a logical error when removing a node from a linked list. I was working on my removeFirst() method when I then encountered a error in my removeLast() method as well. The problem is that both remove the last item in the list. not sure why but here is my code.\r\n\r\n&lt;b&gt;Remove First Node&lt;/b&gt;\r\n\r\n    public T removeFirst() throws EmptyCollectionException\r\n\t{\r\n     // Checking to see if the List is empty or not\r\n\t\tif ( isEmpty() )\r\n\t\t\tthrow new EmptyCollectionException(&quot;LinkedList&quot;);\r\n\t\t\r\n\t\tNode &lt; T &gt; temp  = contents;\r\n\t\t\r\n\t\tT  next = contents.getNext().getItem();\r\n\t\t\r\n\t\tcontents = new Node ( next, contents );\r\n\t\tcount--;\r\n\t\t\r\n\t\treturn temp.getItem();\r\n\t}\r\n&lt;br&gt;&lt;br&gt;\r\n&lt;b&gt;Remove Last Node&lt;/b&gt;\r\n\r\n    public T removeLast() // fixed\r\n\t{\r\n     // Checking to see if the List is empty or not\r\n\t\tif (isEmpty())\r\n\t\t\tthrow new EmptyCollectionException(&quot;LinkedList&quot;);\r\n\r\n\t\t// Node&lt;T&gt; temp = contents;\r\n\t\tNode&lt;T&gt; current = contents;  \r\n\t\tNode&lt;T&gt; prev = null;\t\t\r\n\r\n\t\twhile (current.getNext() != null) \r\n\t\t{\r\n\t\t\tprev = current; \r\n\t\t\tcurrent = current.getNext();\r\n\t\t} \r\n\r\n\t\tprev.setNext(null); \r\n\r\n\t\tcount--;\r\n\r\n\t\treturn current.getItem();\r\n\r\n\t}\r\n\r\nI&#39;ve looked around the questions already posted but I can&#39;t seem to find the answer I&#39;m looking for.&lt;br&gt;\r\nI Know that a node has at least two values&lt;br&gt;\r\none to hold the data and another to hold the reference to the next node&lt;br&gt;&lt;br&gt;\r\nThat&#39;s what I think is going on for the first one. But when I call the methods one after another they both get rid off the last node. Idk I will look over my code and update this question if necessary. But can you guys see where I&#39;m going wrong and point me in the right direction. Thank you.","title":"How do you remove the first Node in a Linked List?","body":"<p>Sup guys so I'm going over a few of my methods in my Linked List class and I'm getting a logical error when removing a node from a linked list. I was working on my removeFirst() method when I then encountered a error in my removeLast() method as well. The problem is that both remove the last item in the list. not sure why but here is my code.</p>\n\n<p><b>Remove First Node</b></p>\n\n<pre><code>public T removeFirst() throws EmptyCollectionException\n{\n // Checking to see if the List is empty or not\n    if ( isEmpty() )\n        throw new EmptyCollectionException(\"LinkedList\");\n\n    Node &lt; T &gt; temp  = contents;\n\n    T  next = contents.getNext().getItem();\n\n    contents = new Node ( next, contents );\n    count--;\n\n    return temp.getItem();\n}\n</code></pre>\n\n<p><br><br>\n<b>Remove Last Node</b></p>\n\n<pre><code>public T removeLast() // fixed\n{\n // Checking to see if the List is empty or not\n    if (isEmpty())\n        throw new EmptyCollectionException(\"LinkedList\");\n\n    // Node&lt;T&gt; temp = contents;\n    Node&lt;T&gt; current = contents;  \n    Node&lt;T&gt; prev = null;        \n\n    while (current.getNext() != null) \n    {\n        prev = current; \n        current = current.getNext();\n    } \n\n    prev.setNext(null); \n\n    count--;\n\n    return current.getItem();\n\n}\n</code></pre>\n\n<p>I've looked around the questions already posted but I can't seem to find the answer I'm looking for.<br>\nI Know that a node has at least two values<br>\none to hold the data and another to hold the reference to the next node<br><br>\nThat's what I think is going on for the first one. But when I call the methods one after another they both get rid off the last node. Idk I will look over my code and update this question if necessary. But can you guys see where I'm going wrong and point me in the right direction. Thank you.</p>\n"},{"tags":["java","install4j","software-distribution","highdpi"],"comments":[{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":1,"creation_date":1644349668,"post_id":71037675,"comment_id":125582445,"body_markdown":"By &quot;application properties&quot;, do you mean the &quot;DPI Awareness&quot; setting in the &quot;Executable info-&gt;Windows manifest options&quot; step of the launcher wizard?","body":"By &quot;application properties&quot;, do you mean the &quot;DPI Awareness&quot; setting in the &quot;Executable info-&gt;Windows manifest options&quot; step of the launcher wizard?"},{"owner":{"account_id":15282790,"reputation":53,"user_id":11026620,"display_name":"Anthony Berrios"},"score":1,"creation_date":1644354441,"post_id":71037675,"comment_id":125583996,"body_markdown":"@IngoKegel Yes I am trying to override high dpi scaling within the application&#39;s properties. I will take a look at the windows manifest options within the GUI and see if this can work for me.","body":"@IngoKegel Yes I am trying to override high dpi scaling within the application&#39;s properties. I will take a look at the windows manifest options within the GUI and see if this can work for me."},{"owner":{"account_id":35994,"reputation":2003,"user_id":102367,"accept_rate":75,"display_name":"Mike Kucera"},"score":0,"creation_date":1673552430,"post_id":71037675,"comment_id":132531120,"body_markdown":"Hi, is there any follow-up on this? My application is having the same issue.","body":"Hi, is there any follow-up on this? My application is having the same issue."}],"owner":{"account_id":15282790,"reputation":53,"user_id":11026620,"display_name":"Anthony Berrios"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644354345,"creation_date":1644339014,"question_id":71037675,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nThe software I am working on uses high-dpi scaling and I have noticed that some users specifically on higher res screens are having issues seeing font sizes within the software. This seemed to be fixed by going into the application properties and overriding the high dpi scaling behavior. My question is within install4j is there a way to add this property change during the installation process so that a user doesn&#39;t have to manually make this change? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QWKZg.png","title":"Install4j: Changing Application Properties During Installation","body":"<p><a href=\"https://i.stack.imgur.com/QWKZg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QWKZg.png\" alt=\"enter image description here\" /></a></p>\n<p>The software I am working on uses high-dpi scaling and I have noticed that some users specifically on higher res screens are having issues seeing font sizes within the software. This seemed to be fixed by going into the application properties and overriding the high dpi scaling behavior. My question is within install4j is there a way to add this property change during the installation process so that a user doesn't have to manually make this change?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1644319607,"post_id":71033091,"comment_id":125569625,"body_markdown":"Please add a suitable tag for the language you&#39;re using. (I strongly suspect it&#39;s Java, but we shouldn&#39;t have to guess.)","body":"Please add a suitable tag for the language you&#39;re using. (I strongly suspect it&#39;s Java, but we shouldn&#39;t have to guess.)"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1644319655,"post_id":71033091,"comment_id":125569651,"body_markdown":"Next, to understand the error itself: what do you expect the value returned by `result.add(false)` to be? What does the documentation say the return type of `List&lt;E&gt;.add()` is? Are you sure you want to return immediately on the first iteration of your second `for` loop? (I suspect you don&#39;t.)","body":"Next, to understand the error itself: what do you expect the value returned by <code>result.add(false)</code> to be? What does the documentation say the return type of <code>List&lt;E&gt;.add()</code> is? Are you sure you want to return immediately on the first iteration of your second <code>for</code> loop? (I suspect you don&#39;t.)"},{"owner":{"display_name":"user17247595"},"score":0,"creation_date":1644320615,"post_id":71033091,"comment_id":125570034,"body_markdown":"Thank you, i got it! i need to remove the return tags as i want it to return at the end of the loop!","body":"Thank you, i got it! i need to remove the return tags as i want it to return at the end of the loop!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1644334124,"post_id":71033091,"comment_id":125575871,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":271996,"reputation":2422,"user_id":562836,"accept_rate":75,"display_name":"Mira Weller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644319653,"creation_date":1644319653,"answer_id":71033119,"question_id":71033091,"body_markdown":"You should remove the `return` before the `result.add(...)`. Otherwise, you try to return the value you just added to the list, instead of returning the list itself like you want.","title":"Why am I getting a type error in this LeetCode solution?","body":"<p>You should remove the <code>return</code> before the <code>result.add(...)</code>. Otherwise, you try to return the value you just added to the list, instead of returning the list itself like you want.</p>\n"}],"owner":{"display_name":"user17247595"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1644353635,"creation_date":1644319536,"question_id":71033091,"body_markdown":"For my solution in Leetcode, I am getting the following error. The question is : https://leetcode.com/problems/kids-with-the-greatest-number-of-candies/\r\n\r\nError :\r\n\r\n    Line 15: error: incompatible types: boolean cannot be converted to List&lt;Boolean&gt;\r\n                    return result.add(false);\r\n                                     ^\r\n    Line 18: error: incompatible types: boolean cannot be converted to List&lt;Boolean&gt;\r\n                    return result.add(true);\r\n                                     ^\r\n    2 errors\r\n\r\n\r\nMy code: \r\n\r\n    class Solution {\r\n    public List&lt;Boolean&gt; kidsWithCandies(int[] candies, int extraCandies) {\r\n        \r\n        List&lt;Boolean&gt; result = new ArrayList&lt;Boolean&gt;();\r\n        int max = 0;\r\n        \r\n        for(int i=0; i&lt;candies.length; i++) {\r\n            if(candies[i] &gt; max) {\r\n                candies[i] = max;\r\n            }\r\n        }\r\n        \r\n        for(int i=0; i&lt;candies.length; i++) {\r\n            if(candies[i] + extraCandies &gt; max) {\r\n                return result.add(false);\r\n            }\r\n            else {\r\n                return result.add(true);\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n    }\r\n","title":"Why am I getting a type error in this LeetCode solution?","body":"<p>For my solution in Leetcode, I am getting the following error. The question is : <a href=\"https://leetcode.com/problems/kids-with-the-greatest-number-of-candies/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/kids-with-the-greatest-number-of-candies/</a></p>\n<p>Error :</p>\n<pre><code>Line 15: error: incompatible types: boolean cannot be converted to List&lt;Boolean&gt;\n                return result.add(false);\n                                 ^\nLine 18: error: incompatible types: boolean cannot be converted to List&lt;Boolean&gt;\n                return result.add(true);\n                                 ^\n2 errors\n</code></pre>\n<p>My code:</p>\n<pre><code>class Solution {\npublic List&lt;Boolean&gt; kidsWithCandies(int[] candies, int extraCandies) {\n    \n    List&lt;Boolean&gt; result = new ArrayList&lt;Boolean&gt;();\n    int max = 0;\n    \n    for(int i=0; i&lt;candies.length; i++) {\n        if(candies[i] &gt; max) {\n            candies[i] = max;\n        }\n    }\n    \n    for(int i=0; i&lt;candies.length; i++) {\n        if(candies[i] + extraCandies &gt; max) {\n            return result.add(false);\n        }\n        else {\n            return result.add(true);\n        }\n    }\n    \n    return result;\n}\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1109050,"reputation":4259,"user_id":1099851,"accept_rate":77,"display_name":"hbogert"},"score":0,"creation_date":1468075572,"post_id":38281267,"comment_id":63984574,"body_markdown":"Because the variable `i` is used as index, and indexes in java  start at 0. If the `-1` would not have been executed, then the first statement in the for-loop would&#39;ve triggered an error, since `s.charAt(s.length())` does not exist -  verify this, this is a crucial understanding in most languages which use 0-based indexes.","body":"Because the variable <code>i</code> is used as index, and indexes in java  start at 0. If the <code>-1</code> would not have been executed, then the first statement in the for-loop would&#39;ve triggered an error, since <code>s.charAt(s.length())</code> does not exist -  verify this, this is a crucial understanding in most languages which use 0-based indexes."},{"owner":{"account_id":5108950,"reputation":902,"user_id":4096214,"display_name":"Burkely91"},"score":0,"creation_date":1468075946,"post_id":38281267,"comment_id":63984689,"body_markdown":"Possible duplicate of [Reason for subtracting substring()&#39;s endIndex by 1](http://stackoverflow.com/questions/13781907/reason-for-subtracting-substrings-endindex-by-1)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/13781907/reason-for-subtracting-substrings-endindex-by-1\">Reason for subtracting substring()&#39;s endIndex by 1</a>"}],"answers":[{"tags":[],"owner":{"account_id":3130803,"reputation":386,"user_id":2648634,"display_name":"Ruben Pirotte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468063336,"creation_date":1468063336,"answer_id":38281289,"question_id":38281267,"body_markdown":"Strings are arrays of chars, and array indexes start to count from 0.\r\n\r\nlength is the amount of elements in that char array, but because the array starts at 0 the highest index is the amount of elements - 1 ==&gt; .length() -1","title":"why string length -1","body":"<p>Strings are arrays of chars, and array indexes start to count from 0.</p>\n\n<p>length is the amount of elements in that char array, but because the array starts at 0 the highest index is the amount of elements - 1 ==> .length() -1</p>\n"},{"tags":[],"owner":{"account_id":441841,"reputation":469,"user_id":832169,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468063338,"creation_date":1468063338,"answer_id":38281291,"question_id":38281267,"body_markdown":"The index for charAt starts at 0. ie. 0 is the first character. \r\n\r\nThis means a string of length 10, has chars between 0-9, not 1-10.","title":"why string length -1","body":"<p>The index for charAt starts at 0. ie. 0 is the first character. </p>\n\n<p>This means a string of length 10, has chars between 0-9, not 1-10.</p>\n"},{"tags":[],"owner":{"account_id":6087526,"reputation":98,"user_id":4750973,"display_name":"Vamshidhar R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468063386,"creation_date":1468063386,"answer_id":38281297,"question_id":38281267,"body_markdown":"Because Java Strings use zero-based indexing.\r\n\r\ni.e. Character indices in the string are from 0...n-1","title":"why string length -1","body":"<p>Because Java Strings use zero-based indexing.</p>\n\n<p>i.e. Character indices in the string are from 0...n-1</p>\n"},{"tags":[],"owner":{"account_id":8785910,"reputation":21,"user_id":6567863,"display_name":"来自中国的星星"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468063468,"creation_date":1468063468,"answer_id":38281309,"question_id":38281267,"body_markdown":"The index for charAt starts at 0. ie. 0 is the first character.\r\n\r\nThis means a string of length 10, has chars between 0-9, not 1-10. 应该是这样子的","title":"why string length -1","body":"<p>The index for charAt starts at 0. ie. 0 is the first character.</p>\n\n<p>This means a string of length 10, has chars between 0-9, not 1-10. 应该是这样子的</p>\n"},{"tags":[],"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468063650,"creation_date":1468063650,"answer_id":38281329,"question_id":38281267,"body_markdown":"Because java indexing arrays from 0. \r\n\r\nFor example &quot;Hello&quot; string&#39;s length is 5. the &#39;H&#39; is the 0. charachter of the &quot;Hello&quot; string.\r\nAccording to this, the &#39;e&#39; charachter is int the 1. position, and the &#39;o&#39; is in the 4. \r\n\r\nEasy to see that there are no 5 (the length of the string) position, so if we want the last charachter, we need the length-1. position.\r\n\r\nAlso I suggest take a look at [this]\r\n\r\n\r\n  [this]: https://docs.oracle.com/javase/tutorial/java/data/manipstrings.html","title":"why string length -1","body":"<p>Because java indexing arrays from 0. </p>\n\n<p>For example \"Hello\" string's length is 5. the 'H' is the 0. charachter of the \"Hello\" string.\nAccording to this, the 'e' charachter is int the 1. position, and the 'o' is in the 4. </p>\n\n<p>Easy to see that there are no 5 (the length of the string) position, so if we want the last charachter, we need the length-1. position.</p>\n\n<p>Also I suggest take a look at <a href=\"https://docs.oracle.com/javase/tutorial/java/data/manipstrings.html\" rel=\"nofollow\">this</a></p>\n"},{"tags":[],"owner":{"account_id":5108950,"reputation":902,"user_id":4096214,"display_name":"Burkely91"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644353603,"creation_date":1468064587,"answer_id":38281459,"question_id":38281267,"body_markdown":"The indices of elements in Java (and most other languages) will always begin with 0. When considering an array/string the indices of the contained elements will start at 0 and end at (size of array/length of string - 1). \r\n    \r\n    String string = &quot;Hello World&quot;\r\n\r\nIn the example above we have an array with 11 elements. Therefore the indices range from 0 to 10 (The string length minus one).\r\n\r\n&quot;H&quot; is the first element in the string and is therefore indexed &#39;0&#39;, i.e. string[0] = &quot;H&quot;. \r\n&quot;e&quot; is indexed &#39;1&#39; i.e. string[1] = &quot;e&quot;, etc. The last element will be indexed &#39;10&#39; i.e. string[10] = &quot;d&quot;.\r\n\r\n\r\nI think this explains it better than I do (and has pictures!) -- http://codingbat.com/doc/java-string-introduction.html\r\n\r\nRead this for more info on manipulating and accessing arrays -- http://tutorials.jenkov.com/java/arrays.html\r\n","title":"why string length -1","body":"<p>The indices of elements in Java (and most other languages) will always begin with 0. When considering an array/string the indices of the contained elements will start at 0 and end at (size of array/length of string - 1).</p>\n<pre><code>String string = &quot;Hello World&quot;\n</code></pre>\n<p>In the example above we have an array with 11 elements. Therefore the indices range from 0 to 10 (The string length minus one).</p>\n<p>&quot;H&quot; is the first element in the string and is therefore indexed '0', i.e. string[0] = &quot;H&quot;.\n&quot;e&quot; is indexed '1' i.e. string[1] = &quot;e&quot;, etc. The last element will be indexed '10' i.e. string[10] = &quot;d&quot;.</p>\n<p>I think this explains it better than I do (and has pictures!) -- <a href=\"http://codingbat.com/doc/java-string-introduction.html\" rel=\"nofollow noreferrer\">http://codingbat.com/doc/java-string-introduction.html</a></p>\n<p>Read this for more info on manipulating and accessing arrays -- <a href=\"http://tutorials.jenkov.com/java/arrays.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java/arrays.html</a></p>\n"}],"owner":{"account_id":8786930,"reputation":21,"user_id":6568472,"display_name":"Siddhartha Rayaprolu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34992,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":6,"score":1,"last_activity_date":1644353603,"creation_date":1468063186,"question_id":38281267,"body_markdown":"I have found the following program to check if a string is palindrome. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class PalindromeString{\r\n        public static void main(String[] args){\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the string which you want to check whether that is palindrome or not: &quot;);\r\n            String s = in.next();\r\n            String r = &quot;&quot;;\r\n            for(int i=s.length()-1; i&gt;=0; i--){\r\n                r = r+s.charAt(i);\r\n            }\r\n            System.out.println(&quot;Reverse of entered string &quot;+s+&quot; is &quot;+r);\r\n            if(r.equals(s)){\r\n                System.out.println(&quot;String &quot;+s+&quot; is palindrome.&quot;);\r\n            }else{\r\n                System.out.println(&quot;String &quot;+s+&quot; is not palindrome.&quot;);\r\n            }\r\n        }\r\n    }\r\nI did not understand why the coder initialized the loop variable `i` to `s.length()-1`. Can anyone explain me why? I have searched related content for string length but couldn&#39;t find an answer for this. ","title":"why string length -1","body":"<p>I have found the following program to check if a string is palindrome. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class PalindromeString{\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter the string which you want to check whether that is palindrome or not: \");\n        String s = in.next();\n        String r = \"\";\n        for(int i=s.length()-1; i&gt;=0; i--){\n            r = r+s.charAt(i);\n        }\n        System.out.println(\"Reverse of entered string \"+s+\" is \"+r);\n        if(r.equals(s)){\n            System.out.println(\"String \"+s+\" is palindrome.\");\n        }else{\n            System.out.println(\"String \"+s+\" is not palindrome.\");\n        }\n    }\n}\n</code></pre>\n\n<p>I did not understand why the coder initialized the loop variable <code>i</code> to <code>s.length()-1</code>. Can anyone explain me why? I have searched related content for string length but couldn't find an answer for this. </p>\n"},{"tags":["java","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":4846874,"reputation":119,"user_id":3910282,"display_name":"roma2341"},"score":0,"creation_date":1693744959,"post_id":69867560,"comment_id":135798273,"body_markdown":"Have you solved this problem ?","body":"Have you solved this problem ?"}],"owner":{"account_id":4172148,"reputation":145,"user_id":3419676,"display_name":"Pavello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1644353448,"creation_date":1636229593,"question_id":69867560,"body_markdown":"I&#39;m completely stucked with a problem with my config client not fetchig configuration from config file server. I am trying to do that with &quot;new way&quot; using spring.config.import but it looks like I am missing something.\r\n\r\nI have my properties files stored in a private github repository. Here is my config file server:\r\napplication.properties:\r\n\r\n    spring.application.name=config-server\r\n    server.port=8888\r\n    spring.cloud.config.server.git.uri=https://github.com/Pavello/simple-microservices-app-config-files-repo\r\n    spring.cloud.config.server.git.username=//My username\r\n    spring.cloud.config.server.git.password=//Here I am using my private token\r\n    spring.cloud.config.server.git.default-label=master\r\n    \r\n    management.endpoints.web.exposure.include=busrefresh\r\n    \r\n    spring.rabbitmq.host=localhost\r\n    spring.rabbitmq.user=guest\r\n    spring.rabbitmq.password=guest\r\n    spring.rabbitmq.port=5672\r\n\r\npom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-bus&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-config-monitor&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-stream-rabbit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nMy client application looks like this:\r\napplication.properties:\r\n\r\n    server.port=${PORT:0}\r\n    spring.application.name=user-service\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\r\n    eureka.instance.prefer-ip-address=true\r\n    eureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}\r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.settings.web-allow-others=true\r\n    \r\n    spring.config.import=optional:configserver:http://localhost:8888\r\n    management.endpoints.web.exposure.include=*\r\n\r\npom.xml dependecies:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;42.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-bus&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-config-monitor&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-stream-rabbit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nAfter running my config file server I&#39;m getting following response under /user-service/default:\r\n\r\n    {\r\n    &quot;name&quot;: &quot;user-service&quot;,\r\n    &quot;profiles&quot;: [\r\n    &quot;default&quot;\r\n    ],\r\n    &quot;label&quot;: null,\r\n    &quot;version&quot;: &quot;889d16cb37b5467ed4546d617fc5ba8280c96f2d&quot;,\r\n    &quot;state&quot;: null,\r\n    &quot;propertySources&quot;: [\r\n    {\r\n    &quot;name&quot;: &quot;https://github.com/Pavello/simple-microservices-app-config-files-repo/file:C:\\\\Users\\\\PAWEL~1.KAN\\\\AppData\\\\Local\\\\Temp\\\\config-repo-15000982762999853489\\\\user-service.properties&quot;,\r\n    &quot;source&quot;: {\r\n    &quot;login.url.path&quot;: &quot;/users/login&quot;,\r\n    &quot;jwt.expiration&quot;: &quot;864002324&quot;,\r\n    &quot;jwt.key&quot;: &quot;passwordpasswordpasswordblabla&quot;,\r\n    &quot;logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter&quot;: &quot;DEBUG&quot;,\r\n    &quot;spring.datasource.url&quot;: &quot;jdbc:postgresql://127.0.0.1:5432/postgres&quot;,\r\n    &quot;spring.datasource.driver-class-name&quot;: &quot;org.postgresql.Driver&quot;,\r\n    &quot;spring.datasource.jdbc-url&quot;: &quot;jdbc:postgresql://127.0.0.1:5432/postgres&quot;,\r\n    &quot;spring.datasource.username&quot;: &quot;postgres&quot;,\r\n    &quot;spring.datasource.password&quot;: &quot;postgres&quot;,\r\n    &quot;spring.datasource.initialization-mode&quot;: &quot;always&quot;\r\n    }\r\n    },\r\n    {\r\n    &quot;name&quot;: &quot;https://github.com/Pavello/simple-microservices-app-config-files-repo/file:C:\\\\Users\\\\PAWEL~1.KAN\\\\AppData\\\\Local\\\\Temp\\\\config-repo-15000982762999853489\\\\application.properties&quot;,\r\n    &quot;source&quot;: {\r\n    &quot;login.url.path&quot;: &quot;/users/login&quot;,\r\n    &quot;jwt.expiration&quot;: &quot;864002324&quot;,\r\n    &quot;jwt.key&quot;: &quot;passwordpasswordpasswordblabla&quot;,\r\n    &quot;logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter&quot;: &quot;DEBUG&quot;,\r\n    &quot;spring.datasource.url&quot;: &quot;jdbc:postgresql://127.0.0.1:5432/postgres&quot;,\r\n    &quot;spring.datasource.driver-class-name&quot;: &quot;org.postgresql.Driver&quot;,\r\n    &quot;spring.datasource.jdbc-url&quot;: &quot;jdbc:postgresql://127.0.0.1:5432/postgres&quot;,\r\n    &quot;spring.datasource.username&quot;: &quot;postgres&quot;,\r\n    &quot;spring.datasource.password&quot;: &quot;postgres&quot;,\r\n    &quot;spring.datasource.initialization-mode&quot;: &quot;always&quot;\r\n    }\r\n    }\r\n    ]\r\n    }\r\nSo it looks like it&#39;s fetching configuration properly but on the client side I don&#39;t these values and I&#39;m getting this error: \r\n\r\n    java.lang.IllegalStateException: Unable to load config data from &#39;optional:configserver:http://localhost:8888&#39;\r\n    \tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:141)\r\n    \tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:126)\r\n    \tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:119)\r\n    \tat org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$1(ConfigDataLocationResolvers.java:115)\r\n    \tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:126)\r\n    \tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:115)\r\n    \tat org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:107)\r\n    \tat org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:105)\r\n    \tat org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:97)\r\n    \tat org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:85)\r\n    \tat org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:121)\r\n    \tat org.springframework.boot.context.config.ConfigDataEnvironment.processInitial(ConfigDataEnvironment.java:240)\r\n    \tat org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:227)\r\n    \tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\r\n    \tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\r\n    \tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n    \tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:374)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\r\n    \tat io.github.pavello.userservice.UserServiceApplication.main(UserServiceApplication.java:13)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: java.lang.IllegalStateException: File extension is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in &#39;/&#39; or File.separator\r\n    \tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferencesForFile(StandardConfigDataLocationResolver.java:229)\r\n    \tat org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:138)\r\n    \t... 36 common frames omitted\r\n\r\nI&#39;ve read a couple of similar issues related to mismatch of spring boot and spring cloud version but I suppose I&#39;m using the newest (at the moment) version of both spring boot (2.5.6) and spring cloud (2020.0.4). I&#39;ve tried to add spring cloud bootstrap dependency (although I think it&#39;s not necessary) to my user service (like some other issues suggested):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut it didn&#39;t help either. Can anyone help please ? \r\n","title":"Spring cloud - client does not fetch configuration from config file server using spring.config.import in Spring boot 2.5.6","body":"<p>I'm completely stucked with a problem with my config client not fetchig configuration from config file server. I am trying to do that with &quot;new way&quot; using spring.config.import but it looks like I am missing something.</p>\n<p>I have my properties files stored in a private github repository. Here is my config file server:\napplication.properties:</p>\n<pre><code>spring.application.name=config-server\nserver.port=8888\nspring.cloud.config.server.git.uri=https://github.com/Pavello/simple-microservices-app-config-files-repo\nspring.cloud.config.server.git.username=//My username\nspring.cloud.config.server.git.password=//Here I am using my private token\nspring.cloud.config.server.git.default-label=master\n\nmanagement.endpoints.web.exposure.include=busrefresh\n\nspring.rabbitmq.host=localhost\nspring.rabbitmq.user=guest\nspring.rabbitmq.password=guest\nspring.rabbitmq.port=5672\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-bus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-monitor&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-stream-rabbit&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My client application looks like this:\napplication.properties:</p>\n<pre><code>server.port=${PORT:0}\nspring.application.name=user-service\neureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\neureka.instance.prefer-ip-address=true\neureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}\nspring.h2.console.enabled=true\nspring.h2.console.settings.web-allow-others=true\n\nspring.config.import=optional:configserver:http://localhost:8888\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n<p>pom.xml dependecies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-bus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-monitor&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-stream-rabbit&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>After running my config file server I'm getting following response under /user-service/default:</p>\n<pre><code>{\n&quot;name&quot;: &quot;user-service&quot;,\n&quot;profiles&quot;: [\n&quot;default&quot;\n],\n&quot;label&quot;: null,\n&quot;version&quot;: &quot;889d16cb37b5467ed4546d617fc5ba8280c96f2d&quot;,\n&quot;state&quot;: null,\n&quot;propertySources&quot;: [\n{\n&quot;name&quot;: &quot;https://github.com/Pavello/simple-microservices-app-config-files-repo/file:C:\\\\Users\\\\PAWEL~1.KAN\\\\AppData\\\\Local\\\\Temp\\\\config-repo-15000982762999853489\\\\user-service.properties&quot;,\n&quot;source&quot;: {\n&quot;login.url.path&quot;: &quot;/users/login&quot;,\n&quot;jwt.expiration&quot;: &quot;864002324&quot;,\n&quot;jwt.key&quot;: &quot;passwordpasswordpasswordblabla&quot;,\n&quot;logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter&quot;: &quot;DEBUG&quot;,\n&quot;spring.datasource.url&quot;: &quot;jdbc:postgresql://127.0.0.1:5432/postgres&quot;,\n&quot;spring.datasource.driver-class-name&quot;: &quot;org.postgresql.Driver&quot;,\n&quot;spring.datasource.jdbc-url&quot;: &quot;jdbc:postgresql://127.0.0.1:5432/postgres&quot;,\n&quot;spring.datasource.username&quot;: &quot;postgres&quot;,\n&quot;spring.datasource.password&quot;: &quot;postgres&quot;,\n&quot;spring.datasource.initialization-mode&quot;: &quot;always&quot;\n}\n},\n{\n&quot;name&quot;: &quot;https://github.com/Pavello/simple-microservices-app-config-files-repo/file:C:\\\\Users\\\\PAWEL~1.KAN\\\\AppData\\\\Local\\\\Temp\\\\config-repo-15000982762999853489\\\\application.properties&quot;,\n&quot;source&quot;: {\n&quot;login.url.path&quot;: &quot;/users/login&quot;,\n&quot;jwt.expiration&quot;: &quot;864002324&quot;,\n&quot;jwt.key&quot;: &quot;passwordpasswordpasswordblabla&quot;,\n&quot;logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter&quot;: &quot;DEBUG&quot;,\n&quot;spring.datasource.url&quot;: &quot;jdbc:postgresql://127.0.0.1:5432/postgres&quot;,\n&quot;spring.datasource.driver-class-name&quot;: &quot;org.postgresql.Driver&quot;,\n&quot;spring.datasource.jdbc-url&quot;: &quot;jdbc:postgresql://127.0.0.1:5432/postgres&quot;,\n&quot;spring.datasource.username&quot;: &quot;postgres&quot;,\n&quot;spring.datasource.password&quot;: &quot;postgres&quot;,\n&quot;spring.datasource.initialization-mode&quot;: &quot;always&quot;\n}\n}\n]\n}\n</code></pre>\n<p>So it looks like it's fetching configuration properly but on the client side I don't these values and I'm getting this error:</p>\n<pre><code>java.lang.IllegalStateException: Unable to load config data from 'optional:configserver:http://localhost:8888'\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:141)\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:126)\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:119)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$1(ConfigDataLocationResolvers.java:115)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:126)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:115)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:107)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:105)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:97)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:85)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:121)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.processInitial(ConfigDataEnvironment.java:240)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:227)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:374)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\n    at io.github.pavello.userservice.UserServiceApplication.main(UserServiceApplication.java:13)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalStateException: File extension is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in '/' or File.separator\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferencesForFile(StandardConfigDataLocationResolver.java:229)\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:138)\n    ... 36 common frames omitted\n</code></pre>\n<p>I've read a couple of similar issues related to mismatch of spring boot and spring cloud version but I suppose I'm using the newest (at the moment) version of both spring boot (2.5.6) and spring cloud (2020.0.4). I've tried to add spring cloud bootstrap dependency (although I think it's not necessary) to my user service (like some other issues suggested):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but it didn't help either. Can anyone help please ?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1644353178,"post_id":71040573,"comment_id":125583597,"body_markdown":"Why is `Interval` generic?","body":"Why is <code>Interval</code> generic?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1644353654,"post_id":71040573,"comment_id":125583749,"body_markdown":"I put together a Span class many year ago. It seems similar to what you are doing here: https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java","body":"I put together a Span class many year ago. It seems similar to what you are doing here: <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java</a>"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1644364371,"post_id":71040573,"comment_id":125586591,"body_markdown":"`I.factory` is `null` (`I.factory` is just an obfuscated way of saying `Interval.factory`). The cast is the least of your worries.","body":"<code>I.factory</code> is <code>null</code> (<code>I.factory</code> is just an obfuscated way of saying <code>Interval.factory</code>). The cast is the least of your worries."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1644352975,"creation_date":1644352975,"answer_id":71040634,"question_id":71040573,"body_markdown":"The cast in the `SomeClass` constructor doesn&#39;t even work.  It&#39;ll always use `Interval.factory`, whether or not that corresponds to the kind of factory you want.  `I.factory` does not do what you think.\r\n\r\nBy far the most common and sensical approach: to pass in the appropriate factory to the constructor.  You can add some syntactic sugar around this with static imports  and static factory methods to make it look like e.g. `new DistributorForSlowQuantifier(days())` or the like.  There are other, much more convoluted and messy workarounds, but all things considered, they&#39;re worse.","title":"Avoid cast in generic factories","body":"<p>The cast in the <code>SomeClass</code> constructor doesn't even work.  It'll always use <code>Interval.factory</code>, whether or not that corresponds to the kind of factory you want.  <code>I.factory</code> does not do what you think.</p>\n<p>By far the most common and sensical approach: to pass in the appropriate factory to the constructor.  You can add some syntactic sugar around this with static imports  and static factory methods to make it look like e.g. <code>new DistributorForSlowQuantifier(days())</code> or the like.  There are other, much more convoluted and messy workarounds, but all things considered, they're worse.</p>\n"}],"owner":{"account_id":2868348,"reputation":357,"user_id":3142010,"accept_rate":60,"display_name":"chaosflaws"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71040634,"answer_count":1,"score":0,"last_activity_date":1644352975,"creation_date":1644352715,"question_id":71040573,"body_markdown":"Suppose I have a class structure looking like this:\r\n\r\n```java\r\npublic abstract class Interval&lt;I extends Interval&lt;?&gt;&gt; {\r\n    public static final IntervalFactory&lt;? extends Interval&lt;?&gt;&gt; factory = null;\r\n\r\n    // some variables and methods\r\n}\r\n\r\npublic class Week extends Interval&lt;Week&gt; {\r\n    public static final IntervalFactory&lt;Week&gt; factory = new WeekFactory();\r\n    \r\n    // some variables and methods\r\n}\r\n\r\npublic interface IntervalFactory&lt;I extends Interval&gt; {\r\n    I containing(LocalDate date);\r\n    List&lt;I&gt; containing(LocalDate startDate, LocalDate endDate);\r\n}\r\n\r\npublic class WeekFactory implements IntervalFactory&lt;Week&gt; {\r\n    @Override\r\n    public Week containing(LocalDate date) {\r\n        // implementation\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Week&gt; containing(LocalDate startDate, LocalDate endDate) {\r\n        // implementation\r\n    }\r\n}\r\n```\r\n\r\nNow I have a class that uses those intervals and factories:\r\n\r\n```\r\npublic class SomeClass&lt;I extends Interval&lt;?&gt;&gt; {\r\n    private final IntervalFactory&lt;I&gt; intervalFactory;\r\n\r\n    public DistributorForSlowQuantifier() {\r\n        this.intervalFactory = (IntervalFactory&lt;I&gt;) I.factory;\r\n    }\r\n    \r\n    public Map&lt;I, Double&gt; distribute(double value) {\r\n        // implementation\r\n    }\r\n}\r\n```\r\n\r\nIs this the right way of approaching the problem if a class needs to create instances from a type variable?\r\n\r\nIs there a way around the cast in the `SomeClass` constructor?\r\n\r\nThe obvious things don&#39;t work - having a wildcard as the type parameter of intervalFactory in `SomeClass` loses all the type information, the factories are static, so I cannot use `I` as a type parameter, and if I don&#39;t mark them as static, I need an instance of I to access the factory...\r\n\r\nThe cast is absolutely safe, as long as Interval implementations choose the &quot;corresponding&quot; factory, but it still feels... wrong.","title":"Avoid cast in generic factories","body":"<p>Suppose I have a class structure looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Interval&lt;I extends Interval&lt;?&gt;&gt; {\n    public static final IntervalFactory&lt;? extends Interval&lt;?&gt;&gt; factory = null;\n\n    // some variables and methods\n}\n\npublic class Week extends Interval&lt;Week&gt; {\n    public static final IntervalFactory&lt;Week&gt; factory = new WeekFactory();\n    \n    // some variables and methods\n}\n\npublic interface IntervalFactory&lt;I extends Interval&gt; {\n    I containing(LocalDate date);\n    List&lt;I&gt; containing(LocalDate startDate, LocalDate endDate);\n}\n\npublic class WeekFactory implements IntervalFactory&lt;Week&gt; {\n    @Override\n    public Week containing(LocalDate date) {\n        // implementation\n    }\n\n    @Override\n    public List&lt;Week&gt; containing(LocalDate startDate, LocalDate endDate) {\n        // implementation\n    }\n}\n</code></pre>\n<p>Now I have a class that uses those intervals and factories:</p>\n<pre><code>public class SomeClass&lt;I extends Interval&lt;?&gt;&gt; {\n    private final IntervalFactory&lt;I&gt; intervalFactory;\n\n    public DistributorForSlowQuantifier() {\n        this.intervalFactory = (IntervalFactory&lt;I&gt;) I.factory;\n    }\n    \n    public Map&lt;I, Double&gt; distribute(double value) {\n        // implementation\n    }\n}\n</code></pre>\n<p>Is this the right way of approaching the problem if a class needs to create instances from a type variable?</p>\n<p>Is there a way around the cast in the <code>SomeClass</code> constructor?</p>\n<p>The obvious things don't work - having a wildcard as the type parameter of intervalFactory in <code>SomeClass</code> loses all the type information, the factories are static, so I cannot use <code>I</code> as a type parameter, and if I don't mark them as static, I need an instance of I to access the factory...</p>\n<p>The cast is absolutely safe, as long as Interval implementations choose the &quot;corresponding&quot; factory, but it still feels... wrong.</p>\n"},{"tags":["java","server","client","chat","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1644460008,"post_id":71040621,"comment_id":125615219,"body_markdown":"@HiranChaudhuri This is RMI. It handles multiple connections automatically.","body":"@HiranChaudhuri This is RMI. It handles multiple connections automatically."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1644723715,"post_id":71040621,"comment_id":125680808,"body_markdown":"Well you need to set not just one client but a list of clients in the server, and traverse and send to them all on every input line.","body":"Well you need to set not just one client but a list of clients in the server, and traverse and send to them all on every input line."}],"owner":{"account_id":11365703,"reputation":11,"user_id":8332681,"display_name":"S.AYmen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644352912,"creation_date":1644352912,"question_id":71040621,"body_markdown":"i made chat room using java rmi but the problem is that the message appears only to one client(the last to connect) for example 3 clients connect to the server(client1,client2,client3)\r\nif client3 sends a message it appears only in server&#39;s console . and if server sends a message it appears only to client3&#39;s console.\r\ni want to make the message to be shown to all the users connected to the server.\r\n\r\nhere is my code( i used eclipse for this project):\r\n\r\nserveur.java    \r\n```\t\r\nimport java.rmi.*;\r\nimport java.rmi.server.*;\r\nimport java.util.*;\r\n import  java.rmi.registry.*;\r\npublic class serveur  {\r\npublic static void main (String[] argv) {\r\n    try {\r\n\r\n\t    \tScanner s = new Scanner(System.in);\r\n\t    \tSystem.out.println(&quot;Entrez votre nom et appuyez sur Entree:&quot;);\r\n\t    \tString name=s.nextLine().trim();\r\n \r\n\t    \tchat server = new chat(name);\r\n\t\tRegistry registre = LocateRegistry.createRegistry(1099);\r\n\r\n\t\tNaming.rebind( &quot;CHAT&quot;,server);\r\n\r\n\t    \tSystem.out.println(&quot; Le CHAT est pret:&quot;);\r\n\r\n\t    \twhile(true){\r\n\t    \t\tString msg = s.nextLine().trim();\r\n\t    \t\tif (server.getClient() != null){\r\n\t    \t\t\tchatint Client = server.getClient();\r\n\t    \t\t\tmsg = server.getName()+&quot; : &quot;+msg;\r\n\t    \t\t\tClient.send(msg);\r\n\r\n\r\n\r\n\r\n\r\n\t    \t\t}\r\n\t    \t}\r\n \r\n    \t}catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nclient.java\r\n\r\n```\r\npublic class client   {\r\n\r\n\r\n\tpublic static void main(String args[]) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tScanner s = new Scanner(in);\r\n\t\t\tout.println(&quot;Entrez votre nom et appuyez sur Entrez:&quot;);\r\n\t\t\tString name = s.nextLine().trim();\r\n\t\t\tchatint client = new chat(name);\r\n\r\n\t\t\tchatint server = (chatint)Naming.lookup(&quot;CHAT&quot;);\r\n\t\t\tString msg = &quot;[&quot;+client.getName()+&quot;] s&#39;est connecte&quot;;\r\n\t\t\tserver.send(msg);\r\n\r\n\t\t\tout.println(&quot;[System] Le CHAT est pret:&quot;);\r\n\r\n\t\t\tserver.setClient(client);\r\n\r\n\r\n\t\t\twhile(true){\r\n\t\t\t\tmsg = s.nextLine().trim();\r\n\t\t\t\tmsg = client.getName()+&quot; : &quot;+msg;\r\n\t\t\t\tserver.send(msg);\r\n\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t}catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nchatint.java\r\n\r\n\r\n```\r\nimport java.rmi.*;\r\n\r\npublic interface chatint extends Remote{\r\n\tpublic String getName() throws RemoteException;\r\n\t\r\n\tpublic void send(String s) throws RemoteException;\r\n\t\r\n\tpublic void setClient( chatint c) throws RemoteException;\r\n\t\r\n\tpublic  chatint getClient() throws RemoteException;\r\n}\r\n\r\n```\r\n\r\nchat.java\r\n\r\n\r\n```\r\npackage projetSid;\r\n\r\n\r\nimport java.rmi.*;\r\nimport java.rmi.server.*;\r\n\r\n\r\npublic class chat extends UnicastRemoteObject implements chatint {\r\n \r\n\tpublic String name;\r\n\tpublic chatint client = null;\r\n \r\n\tpublic chat(String n) throws RemoteException { \r\n\t\tthis.name = n;   \r\n\t}\r\n\tpublic String getName() throws RemoteException {\r\n\t\treturn this.name;\r\n\t}\r\n \r\n\tpublic void setClient(chatint c){\r\n\t\tclient = c;\r\n\t}\r\n \r\n\tpublic chatint getClient(){\r\n\t\treturn client;\r\n\t}\r\n \r\n\r\n\tpublic void send(String s) throws RemoteException{\r\n\t\tSystem.out.println(s);\r\n\t}\r\n}\r\n```","title":"how to make multi-clients server chat app with java rmi","body":"<p>i made chat room using java rmi but the problem is that the message appears only to one client(the last to connect) for example 3 clients connect to the server(client1,client2,client3)\nif client3 sends a message it appears only in server's console . and if server sends a message it appears only to client3's console.\ni want to make the message to be shown to all the users connected to the server.</p>\n<p>here is my code( i used eclipse for this project):</p>\n<p>serveur.java</p>\n<pre><code>import java.rmi.*;\nimport java.rmi.server.*;\nimport java.util.*;\n import  java.rmi.registry.*;\npublic class serveur  {\npublic static void main (String[] argv) {\n    try {\n\n            Scanner s = new Scanner(System.in);\n            System.out.println(&quot;Entrez votre nom et appuyez sur Entree:&quot;);\n            String name=s.nextLine().trim();\n \n            chat server = new chat(name);\n        Registry registre = LocateRegistry.createRegistry(1099);\n\n        Naming.rebind( &quot;CHAT&quot;,server);\n\n            System.out.println(&quot; Le CHAT est pret:&quot;);\n\n            while(true){\n                String msg = s.nextLine().trim();\n                if (server.getClient() != null){\n                    chatint Client = server.getClient();\n                    msg = server.getName()+&quot; : &quot;+msg;\n                    Client.send(msg);\n\n\n\n\n\n                }\n            }\n \n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>client.java</p>\n<pre><code>public class client   {\n\n\n    public static void main(String args[]) {\n\n        try {\n\n            Scanner s = new Scanner(in);\n            out.println(&quot;Entrez votre nom et appuyez sur Entrez:&quot;);\n            String name = s.nextLine().trim();\n            chatint client = new chat(name);\n\n            chatint server = (chatint)Naming.lookup(&quot;CHAT&quot;);\n            String msg = &quot;[&quot;+client.getName()+&quot;] s'est connecte&quot;;\n            server.send(msg);\n\n            out.println(&quot;[System] Le CHAT est pret:&quot;);\n\n            server.setClient(client);\n\n\n            while(true){\n                msg = s.nextLine().trim();\n                msg = client.getName()+&quot; : &quot;+msg;\n                server.send(msg);\n\n\n\n            }\n\n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n    }\n\n\n}\n</code></pre>\n<p>chatint.java</p>\n<pre><code>import java.rmi.*;\n\npublic interface chatint extends Remote{\n    public String getName() throws RemoteException;\n    \n    public void send(String s) throws RemoteException;\n    \n    public void setClient( chatint c) throws RemoteException;\n    \n    public  chatint getClient() throws RemoteException;\n}\n\n</code></pre>\n<p>chat.java</p>\n<pre><code>package projetSid;\n\n\nimport java.rmi.*;\nimport java.rmi.server.*;\n\n\npublic class chat extends UnicastRemoteObject implements chatint {\n \n    public String name;\n    public chatint client = null;\n \n    public chat(String n) throws RemoteException { \n        this.name = n;   \n    }\n    public String getName() throws RemoteException {\n        return this.name;\n    }\n \n    public void setClient(chatint c){\n        client = c;\n    }\n \n    public chatint getClient(){\n        return client;\n    }\n \n\n    public void send(String s) throws RemoteException{\n        System.out.println(s);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":304631,"reputation":1486,"user_id":614253,"accept_rate":80,"display_name":"Svein Terje Gaup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637399398,"creation_date":1637397533,"answer_id":70044409,"question_id":70044029,"body_markdown":"Perhaps something like this?\n\nSELECT (CHARINDEX(column1, column2) &gt; 0)\nFROM Table1  \n\nBut you really need to provide more details in your question. \n","title":"SQL contains string","body":"<p>Perhaps something like this?</p>\n<p>SELECT (CHARINDEX(column1, column2) &gt; 0)\nFROM Table1</p>\n<p>But you really need to provide more details in your question.</p>\n"}],"owner":{"account_id":22767999,"reputation":11,"user_id":16925773,"display_name":"Niket dubey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644352840,"creation_date":1637393278,"question_id":70044029,"body_markdown":"I want to compare the string stored in column1 with column2 (contains the unique id of string)\r\n\r\n* Column1: Facebook - Google Chrome\r\n* Column2: Facebook \r\n* Column3:..........\r\n\r\n`Facebook - Google Chrome` compare with all the data in column2, if `Facebook - Google Chrome` matches with **Facebook** then I need to store **Facebook** in different columns (column3).\r\n\r\nI need a SQL query for this.\r\n\r\n","title":"SQL contains string","body":"<p>I want to compare the string stored in column1 with column2 (contains the unique id of string)</p>\n<ul>\n<li>Column1: Facebook - Google Chrome</li>\n<li>Column2: Facebook</li>\n<li>Column3:..........</li>\n</ul>\n<p><code>Facebook - Google Chrome</code> compare with all the data in column2, if <code>Facebook - Google Chrome</code> matches with <strong>Facebook</strong> then I need to store <strong>Facebook</strong> in different columns (column3).</p>\n<p>I need a SQL query for this.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1644330355,"post_id":71035399,"comment_id":125574109,"body_markdown":"Write a Comparator for Airline. https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","body":"Write a Comparator for Airline. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644330534,"creation_date":1644330534,"answer_id":71035604,"question_id":71035399,"body_markdown":"you can use something like :\r\n\r\n    @Query(&quot;select * from Airline a order by substring(a.description, 0,search_text_length)&quot;)\r\n    List&lt;Airline&gt; findAirline();\r\n\r\nYou can get an idea [here][1]\r\n\r\n\r\n  [1]: https://www.objectdb.com/java/jpa/query/jpql/string#substring___getting_a_portion_of_a_string\r\n","title":"How can I sort a JPA query result where the parameter is a String and the result is a List of Objects?","body":"<p>you can use something like :</p>\n<pre><code>@Query(&quot;select * from Airline a order by substring(a.description, 0,search_text_length)&quot;)\nList&lt;Airline&gt; findAirline();\n</code></pre>\n<p>You can get an idea <a href=\"https://www.objectdb.com/java/jpa/query/jpql/string#substring___getting_a_portion_of_a_string\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10643203,"reputation":541,"user_id":7837530,"display_name":"Geeth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644352332,"creation_date":1644333150,"answer_id":71036258,"question_id":71035399,"body_markdown":"Passed `description` as a sorting column and create `pageRequest` as follows. And description parameter and pageRequest send to `findByDescriptionStartsWith` method in `AirlineRepository` \r\n\r\n    PageRequest pageRequest = PageRequest\r\n                    .of((int) Math.ceil((float) (start / pageDataSize)), pageDataSize, Sort.by(&#39;description&#39;).ascending());\r\n    \r\n    \r\n    List&lt;Airline&gt; findByDescriptionStartsWith(String description, Pageable pageable);\r\n\r\n","title":"How can I sort a JPA query result where the parameter is a String and the result is a List of Objects?","body":"<p>Passed <code>description</code> as a sorting column and create <code>pageRequest</code> as follows. And description parameter and pageRequest send to <code>findByDescriptionStartsWith</code> method in <code>AirlineRepository</code></p>\n<pre><code>PageRequest pageRequest = PageRequest\n                .of((int) Math.ceil((float) (start / pageDataSize)), pageDataSize, Sort.by('description').ascending());\n\n\nList&lt;Airline&gt; findByDescriptionStartsWith(String description, Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644335076,"creation_date":1644335076,"answer_id":71036718,"question_id":71035399,"body_markdown":"i&#39;m not quite sure if i understood your requirement completly.\r\n\r\nTo fetch all airlines in an ordered way i would add the following method to the AirlineRepository\r\n```\r\nList&lt;Airline&gt; findByDescriptionStartsWithIgnoreCaseOrderByDescriptionAsc(String description, Pageable pageable);\r\n```\r\nIf you also need all other airlines i would add this method, too.\r\n```\r\nList&lt;Airline&gt; findByDescriptionNotLikeIgnoreCaseOrderByDescriptionAsc(String description, Pageable pageable);\r\n```\r\n\r\nAdd an &#39;%&#39; to the description and combine both lists.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I sort a JPA query result where the parameter is a String and the result is a List of Objects?","body":"<p>i'm not quite sure if i understood your requirement completly.</p>\n<p>To fetch all airlines in an ordered way i would add the following method to the AirlineRepository</p>\n<pre><code>List&lt;Airline&gt; findByDescriptionStartsWithIgnoreCaseOrderByDescriptionAsc(String description, Pageable pageable);\n</code></pre>\n<p>If you also need all other airlines i would add this method, too.</p>\n<pre><code>List&lt;Airline&gt; findByDescriptionNotLikeIgnoreCaseOrderByDescriptionAsc(String description, Pageable pageable);\n</code></pre>\n<p>Add an '%' to the description and combine both lists.</p>\n"}],"owner":{"account_id":5004642,"reputation":21,"user_id":4022649,"display_name":"Ismael Marquez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1644352332,"creation_date":1644329736,"question_id":71035399,"body_markdown":"I&#39;m writing a Spring Boot API endpoint and I need to return a list of Airlines ordered by a String (description) of 3 or more chars, the List must be sorted with the results that match the String at the beginning of the word at the top and the rest by alphabetical order\r\n\r\n\r\nAirline class:\r\n--------------\r\n\r\n````\r\n@Getter\r\n@Setter\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;airline&quot;)\r\npublic class Airline implements Serializable {\r\n\tprivate static final long serialVersionUID = -5962418077659300886L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Integer id;\r\n\r\n\t@Column\r\n\tprivate String code;\r\n\r\n    @Column\r\n    private String description;\r\n}\r\n````\r\nI get the list that matches the String but I cannot get the order right\r\n\r\nAirlineRepository\r\n-----------------\r\n````\r\npublic interface AirlineRepository extends JpaRepository&lt;Airline, Integer&gt; {\r\n    Airline getById(Integer id);\r\n\r\n    List&lt;Airline&gt; findByDescriptionContainingIgnoreCase(String description, Pageable pageable);\r\n    List&lt;Airline&gt; findByDescriptionStartsWithIgnoreCase(String description, Pageable pageable);\r\n}\r\n````\r\n\r\nIf I search the keyword &#39;ala&#39; all airlines whose name starts with &#39;ala&#39; should come first.\r\n\r\nThis is what I get\r\n\r\n`````\r\n{\r\n  &quot;status&quot;: &quot;SUCCESS&quot;,\r\n  &quot;message&quot;: &quot;Execution Successful&quot;,\r\n  &quot;totalCount&quot;: 10,\r\n  &quot;content&quot;: [\r\n    {\r\n      &quot;id&quot;: 962,\r\n      &quot;code&quot;: &quot;6T&quot;,\r\n      &quot;description&quot;: &quot;Air Mandalay&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 46,\r\n      &quot;code&quot;: &quot;NZ&quot;,\r\n      &quot;description&quot;: &quot;Air New Zealand&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 18,\r\n      &quot;code&quot;: &quot;AS&quot;,\r\n      &quot;description&quot;: &quot;Alaska Airlines&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 519,\r\n      &quot;code&quot;: &quot;KO&quot;,\r\n      &quot;description&quot;: &quot;Alaska Central Express&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 477,\r\n      &quot;code&quot;: &quot;J5&quot;,\r\n      &quot;description&quot;: &quot;Alaska Seaplane&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 30,\r\n      &quot;code&quot;: &quot;YZ&quot;,\r\n      &quot;description&quot;: &quot;ALAS URUGUAY&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 324,\r\n      &quot;code&quot;: &quot;C9&quot;,\r\n      &quot;description&quot;: &quot;Alphaland Aviation&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 286,\r\n      &quot;code&quot;: &quot;A7&quot;,\r\n      &quot;description&quot;: &quot;Calafia Airlines&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 330,\r\n      &quot;code&quot;: &quot;CE&quot;,\r\n      &quot;description&quot;: &quot;Chalair&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 521,\r\n      &quot;code&quot;: &quot;L3&quot;,\r\n      &quot;description&quot;: &quot;DHL de Guatemala&quot;\r\n    }\r\n  ],\r\n  &quot;timestamp&quot;: null\r\n}````","title":"How can I sort a JPA query result where the parameter is a String and the result is a List of Objects?","body":"<p>I'm writing a Spring Boot API endpoint and I need to return a list of Airlines ordered by a String (description) of 3 or more chars, the List must be sorted with the results that match the String at the beginning of the word at the top and the rest by alphabetical order</p>\n<h2>Airline class:</h2>\n<pre><code>@Getter\n@Setter\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;airline&quot;)\npublic class Airline implements Serializable {\n    private static final long serialVersionUID = -5962418077659300886L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column\n    private String code;\n\n    @Column\n    private String description;\n}\n</code></pre>\n<p>I get the list that matches the String but I cannot get the order right</p>\n<h2>AirlineRepository</h2>\n<pre><code>public interface AirlineRepository extends JpaRepository&lt;Airline, Integer&gt; {\n    Airline getById(Integer id);\n\n    List&lt;Airline&gt; findByDescriptionContainingIgnoreCase(String description, Pageable pageable);\n    List&lt;Airline&gt; findByDescriptionStartsWithIgnoreCase(String description, Pageable pageable);\n}\n</code></pre>\n<p>If I search the keyword 'ala' all airlines whose name starts with 'ala' should come first.</p>\n<p>This is what I get</p>\n<pre><code>{\n  &quot;status&quot;: &quot;SUCCESS&quot;,\n  &quot;message&quot;: &quot;Execution Successful&quot;,\n  &quot;totalCount&quot;: 10,\n  &quot;content&quot;: [\n    {\n      &quot;id&quot;: 962,\n      &quot;code&quot;: &quot;6T&quot;,\n      &quot;description&quot;: &quot;Air Mandalay&quot;\n    },\n    {\n      &quot;id&quot;: 46,\n      &quot;code&quot;: &quot;NZ&quot;,\n      &quot;description&quot;: &quot;Air New Zealand&quot;\n    },\n    {\n      &quot;id&quot;: 18,\n      &quot;code&quot;: &quot;AS&quot;,\n      &quot;description&quot;: &quot;Alaska Airlines&quot;\n    },\n    {\n      &quot;id&quot;: 519,\n      &quot;code&quot;: &quot;KO&quot;,\n      &quot;description&quot;: &quot;Alaska Central Express&quot;\n    },\n    {\n      &quot;id&quot;: 477,\n      &quot;code&quot;: &quot;J5&quot;,\n      &quot;description&quot;: &quot;Alaska Seaplane&quot;\n    },\n    {\n      &quot;id&quot;: 30,\n      &quot;code&quot;: &quot;YZ&quot;,\n      &quot;description&quot;: &quot;ALAS URUGUAY&quot;\n    },\n    {\n      &quot;id&quot;: 324,\n      &quot;code&quot;: &quot;C9&quot;,\n      &quot;description&quot;: &quot;Alphaland Aviation&quot;\n    },\n    {\n      &quot;id&quot;: 286,\n      &quot;code&quot;: &quot;A7&quot;,\n      &quot;description&quot;: &quot;Calafia Airlines&quot;\n    },\n    {\n      &quot;id&quot;: 330,\n      &quot;code&quot;: &quot;CE&quot;,\n      &quot;description&quot;: &quot;Chalair&quot;\n    },\n    {\n      &quot;id&quot;: 521,\n      &quot;code&quot;: &quot;L3&quot;,\n      &quot;description&quot;: &quot;DHL de Guatemala&quot;\n    }\n  ],\n  &quot;timestamp&quot;: null\n}````\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1587325825,"post_id":61310060,"comment_id":108461975,"body_markdown":"Which IDE are you using?\nWhen you execute Maven from the command line (or within the IDE) what is the output you get?","body":"Which IDE are you using? When you execute Maven from the command line (or within the IDE) what is the output you get?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1587326403,"post_id":61310060,"comment_id":108462200,"body_markdown":"Please try to run on plain command line I suspect some warnings about not found artifacts etc. Can you write which Maven version you are using ? And post the full log output here..","body":"Please try to run on plain command line I suspect some warnings about not found artifacts etc. Can you write which Maven version you are using ? And post the full log output here.."},{"owner":{"account_id":16791449,"reputation":23,"user_id":12138998,"display_name":"SlimD"},"score":0,"creation_date":1587327668,"post_id":61310060,"comment_id":108462602,"body_markdown":"tmarwen @khmarbaise i have edited the post and added the execution and where i got the failure. Also im using Apache Maven 3.6.3","body":"tmarwen @khmarbaise i have edited the post and added the execution and where i got the failure. Also im using Apache Maven 3.6.3"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1587376151,"post_id":61310060,"comment_id":108477457,"body_markdown":"Sorry but that output of exec-maven-plugin is completely unrelated to the rest of the question? and shows already the issue `The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java are missing or invalid `...?","body":"Sorry but that output of exec-maven-plugin is completely unrelated to the rest of the question? and shows already the issue <code>The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java are missing or invalid </code>...?"},{"owner":{"account_id":16791449,"reputation":23,"user_id":12138998,"display_name":"SlimD"},"score":0,"creation_date":1587380487,"post_id":61310060,"comment_id":108479725,"body_markdown":"well thats the only error i get, im completely new to maven","body":"well thats the only error i get, im completely new to maven"}],"answers":[{"tags":[],"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644351542,"creation_date":1644351542,"answer_id":71040356,"question_id":61310060,"body_markdown":"For my part, try adding a new dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd that&#39;s it, check the version and try it. \r\n","title":"Plugin &#39;org.apache.maven.plugins:maven-compiler-plugin:3.8.0&#39; not found","body":"<p>For my part, try adding a new dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And that's it, check the version and try it.</p>\n"}],"owner":{"account_id":16791449,"reputation":23,"user_id":12138998,"display_name":"SlimD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2837,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644351542,"creation_date":1587323145,"question_id":61310060,"body_markdown":"I am having problems with the *maven-compiler-plugin* version.\r\nIt&#39;s underlined in red color, when I hover over the `&lt;version&gt;3.8.0&lt;/version&gt;` field, a pop-up with below error appears:\r\n\r\n&gt; Plugin &#39;org.apache.maven.plugins:maven-compiler-plugin:3.8.0&#39; not found \r\n\r\nHere down my plugin declaration section:\r\n   \r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAfter executing the maven project: \r\n```[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  25.886 s\r\n[INFO] Finished at: 2020-04-19T22:13:16+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project untitled19: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java are missing or invalid -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginParameterException```","title":"Plugin &#39;org.apache.maven.plugins:maven-compiler-plugin:3.8.0&#39; not found","body":"<p>I am having problems with the <em>maven-compiler-plugin</em> version.\nIt's underlined in red color, when I hover over the <code>&lt;version&gt;3.8.0&lt;/version&gt;</code> field, a pop-up with below error appears:</p>\n\n<blockquote>\n  <p>Plugin 'org.apache.maven.plugins:maven-compiler-plugin:3.8.0' not found </p>\n</blockquote>\n\n<p>Here down my plugin declaration section:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>After executing the maven project: </p>\n\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  25.886 s\n[INFO] Finished at: 2020-04-19T22:13:16+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project untitled19: The parameters 'mainClass' for goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java are missing or invalid -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginParameterException```\n</code></pre>\n"},{"tags":["java","json","postgresql","jpa","eclipselink"],"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1475497576,"post_id":39830842,"comment_id":66952555,"body_markdown":"There is an example somewhere on SO, let me see if i can find...","body":"There is an example somewhere on SO, let me see if i can find..."}],"answers":[{"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591163836,"creation_date":1475497839,"answer_id":39831717,"question_id":39830842,"body_markdown":"Edit: I see now that this is pretty much `Hibernate` dependent. But perhaps you can find something similar for `EclipseLink`.\r\n\r\nI&#39;ll just add what I have as an answer, it originates from another SO answer but whatever. This will map `jsonb` to `JsonObject` of Google `gson`, but you can change it to something else if needed. To change to something else, change `nullSafeGet`, `nullSafeSet`and `deepCopy` methods.\r\n\r\n    public class JsonbType implements UserType {\r\n    \r\n        @Override\r\n        public int[] sqlTypes() {\r\n            return new int[] { Types.JAVA_OBJECT };\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;JsonObject&gt; returnedClass() {\r\n            return JsonObject.class;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(final Object x, final Object y) {\r\n            if (x == y) {\r\n                return true;\r\n            }\r\n            if (x == null || y == null) {\r\n                return false;\r\n            }\r\n            return x.equals(y);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode(final Object x) {\r\n            if (x == null) {\r\n                return 0;\r\n            }\r\n    \r\n            return x.hashCode();\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public Object nullSafeGet(final ResultSet rs,\r\n                                  final String[] names,\r\n                                  final SessionImplementor session,\r\n                                  final Object owner) throws SQLException {\r\n            final String json = rs.getString(names[0]);\r\n            if (json == null) {\r\n                return null;\r\n            }\r\n    \r\n            final JsonParser jsonParser = new JsonParser();\r\n            return jsonParser.parse(json).getAsJsonObject();\r\n        }\r\n    \r\n        @Override\r\n        public void nullSafeSet(final PreparedStatement st,\r\n                                final Object value,\r\n                                final int index,\r\n                                final SessionImplementor session) throws SQLException {\r\n            if (value == null) {\r\n                st.setNull(index, Types.OTHER);\r\n                return;\r\n            }\r\n    \r\n            st.setObject(index, value.toString(), Types.OTHER);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public Object deepCopy(@Nullable final Object value) {\r\n            if (value == null) {\r\n                return null;\r\n            }\r\n            final JsonParser jsonParser = new JsonParser();\r\n            return jsonParser.parse(value.toString()).getAsJsonObject();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isMutable() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public Serializable disassemble(final Object value) {\r\n            final Object deepCopy = deepCopy(value);\r\n    \r\n            if (!(deepCopy instanceof Serializable)) {\r\n                throw new SerializationException(\r\n                        String.format(&quot;deepCopy of %s is not serializable&quot;, value), null);\r\n            }\r\n    \r\n            return (Serializable) deepCopy;\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public Object assemble(final Serializable cached, final Object owner) {\r\n            return deepCopy(cached);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public Object replace(final Object original, final Object target, final Object owner) {\r\n            return deepCopy(original);\r\n        }\r\n    }\r\n\r\nTo use this, do:\r\n\r\n    public class SomeEntity {\r\n\r\n        @Column(name = &quot;jsonobject&quot;)\r\n        @Type(type = &quot;com.myapp.JsonbType&quot;) \r\n        private JsonObject jsonObject;\r\n\r\nIn addition, you need to set your dialect to indicate that `JAVA_OBJECT` = `jsonb`:\r\n\r\n    registerColumnType(Types.JAVA_OBJECT, &quot;jsonb&quot;);\r\n","title":"How to use Postgres JSONB datatype with JPA?","body":"<p>Edit: I see now that this is pretty much <code>Hibernate</code> dependent. But perhaps you can find something similar for <code>EclipseLink</code>.</p>\n\n<p>I'll just add what I have as an answer, it originates from another SO answer but whatever. This will map <code>jsonb</code> to <code>JsonObject</code> of Google <code>gson</code>, but you can change it to something else if needed. To change to something else, change <code>nullSafeGet</code>, <code>nullSafeSet</code>and <code>deepCopy</code> methods.</p>\n\n<pre><code>public class JsonbType implements UserType {\n\n    @Override\n    public int[] sqlTypes() {\n        return new int[] { Types.JAVA_OBJECT };\n    }\n\n    @Override\n    public Class&lt;JsonObject&gt; returnedClass() {\n        return JsonObject.class;\n    }\n\n    @Override\n    public boolean equals(final Object x, final Object y) {\n        if (x == y) {\n            return true;\n        }\n        if (x == null || y == null) {\n            return false;\n        }\n        return x.equals(y);\n    }\n\n    @Override\n    public int hashCode(final Object x) {\n        if (x == null) {\n            return 0;\n        }\n\n        return x.hashCode();\n    }\n\n    @Nullable\n    @Override\n    public Object nullSafeGet(final ResultSet rs,\n                              final String[] names,\n                              final SessionImplementor session,\n                              final Object owner) throws SQLException {\n        final String json = rs.getString(names[0]);\n        if (json == null) {\n            return null;\n        }\n\n        final JsonParser jsonParser = new JsonParser();\n        return jsonParser.parse(json).getAsJsonObject();\n    }\n\n    @Override\n    public void nullSafeSet(final PreparedStatement st,\n                            final Object value,\n                            final int index,\n                            final SessionImplementor session) throws SQLException {\n        if (value == null) {\n            st.setNull(index, Types.OTHER);\n            return;\n        }\n\n        st.setObject(index, value.toString(), Types.OTHER);\n    }\n\n    @Nullable\n    @Override\n    public Object deepCopy(@Nullable final Object value) {\n        if (value == null) {\n            return null;\n        }\n        final JsonParser jsonParser = new JsonParser();\n        return jsonParser.parse(value.toString()).getAsJsonObject();\n    }\n\n    @Override\n    public boolean isMutable() {\n        return true;\n    }\n\n    @Override\n    public Serializable disassemble(final Object value) {\n        final Object deepCopy = deepCopy(value);\n\n        if (!(deepCopy instanceof Serializable)) {\n            throw new SerializationException(\n                    String.format(\"deepCopy of %s is not serializable\", value), null);\n        }\n\n        return (Serializable) deepCopy;\n    }\n\n    @Nullable\n    @Override\n    public Object assemble(final Serializable cached, final Object owner) {\n        return deepCopy(cached);\n    }\n\n    @Nullable\n    @Override\n    public Object replace(final Object original, final Object target, final Object owner) {\n        return deepCopy(original);\n    }\n}\n</code></pre>\n\n<p>To use this, do:</p>\n\n<pre><code>public class SomeEntity {\n\n    @Column(name = \"jsonobject\")\n    @Type(type = \"com.myapp.JsonbType\") \n    private JsonObject jsonObject;\n</code></pre>\n\n<p>In addition, you need to set your dialect to indicate that <code>JAVA_OBJECT</code> = <code>jsonb</code>:</p>\n\n<pre><code>registerColumnType(Types.JAVA_OBJECT, \"jsonb\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475609625,"creation_date":1475609625,"answer_id":39860369,"question_id":39830842,"body_markdown":"I think I found an analogy to Hibernate&#39;s UserType for EclipseLink.\r\n\r\nhttp://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/annotations_ref.htm#CHDEHJEB\r\n\r\nYou have to make a class that implements `org.eclipse.persistence.mappings.converters.Converter` and does the conversion for you, then use the `@Convert` annotation on every field where you are using that type.","title":"How to use Postgres JSONB datatype with JPA?","body":"<p>I think I found an analogy to Hibernate's UserType for EclipseLink.</p>\n\n<p><a href=\"http://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/annotations_ref.htm#CHDEHJEB\" rel=\"nofollow\">http://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/annotations_ref.htm#CHDEHJEB</a></p>\n\n<p>You have to make a class that implements <code>org.eclipse.persistence.mappings.converters.Converter</code> and does the conversion for you, then use the <code>@Convert</code> annotation on every field where you are using that type.</p>\n"},{"tags":[],"owner":{"account_id":1392485,"reputation":1562,"user_id":1322957,"display_name":"justcode"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1510319222,"creation_date":1475710935,"answer_id":39885334,"question_id":39830842,"body_markdown":"All the answers helped me to reach the final solution that is ready for JPA and not EclipseLink or Hibernate specifically.\r\n\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.io.IOException;\r\n    import javax.json.Json;\r\n    import javax.json.JsonObject;\r\n    import javax.persistence.Converter;\r\n    import org.postgresql.util.PGobject;\r\n    \r\n    @Converter(autoApply = true)\r\n    public class JsonConverter implements javax.persistence.AttributeConverter&lt;JsonObject, Object&gt; {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n      private static ObjectMapper mapper = new ObjectMapper();\r\n    \r\n      @Override\r\n      public Object convertToDatabaseColumn(JsonObject objectValue) {\r\n        try {\r\n          PGobject out = new PGobject();\r\n          out.setType(&quot;json&quot;);\r\n          out.setValue(objectValue.toString());\r\n          return out;\r\n        } catch (Exception e) {\r\n          throw new IllegalArgumentException(&quot;Unable to serialize to json field &quot;, e);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public JsonObject convertToEntityAttribute(Object dataValue) {\r\n        try {\r\n          if (dataValue instanceof PGobject &amp;&amp; ((PGobject) dataValue).getType().equals(&quot;json&quot;)) {\r\n            return mapper.reader(new TypeReference&lt;JsonObject&gt;() {\r\n            }).readValue(((PGobject) dataValue).getValue());\r\n          }\r\n          return Json.createObjectBuilder().build();\r\n        } catch (IOException e) {\r\n          throw new IllegalArgumentException(&quot;Unable to deserialize to json field &quot;, e);\r\n        }\r\n      }\r\n    }","title":"How to use Postgres JSONB datatype with JPA?","body":"<p>All the answers helped me to reach the final solution that is ready for JPA and not EclipseLink or Hibernate specifically.</p>\n\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.io.IOException;\nimport javax.json.Json;\nimport javax.json.JsonObject;\nimport javax.persistence.Converter;\nimport org.postgresql.util.PGobject;\n\n@Converter(autoApply = true)\npublic class JsonConverter implements javax.persistence.AttributeConverter&lt;JsonObject, Object&gt; {\n\n  private static final long serialVersionUID = 1L;\n  private static ObjectMapper mapper = new ObjectMapper();\n\n  @Override\n  public Object convertToDatabaseColumn(JsonObject objectValue) {\n    try {\n      PGobject out = new PGobject();\n      out.setType(\"json\");\n      out.setValue(objectValue.toString());\n      return out;\n    } catch (Exception e) {\n      throw new IllegalArgumentException(\"Unable to serialize to json field \", e);\n    }\n  }\n\n  @Override\n  public JsonObject convertToEntityAttribute(Object dataValue) {\n    try {\n      if (dataValue instanceof PGobject &amp;&amp; ((PGobject) dataValue).getType().equals(\"json\")) {\n        return mapper.reader(new TypeReference&lt;JsonObject&gt;() {\n        }).readValue(((PGobject) dataValue).getValue());\n      }\n      return Json.createObjectBuilder().build();\n    } catch (IOException e) {\n      throw new IllegalArgumentException(\"Unable to deserialize to json field \", e);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1100177,"reputation":406,"user_id":1092761,"display_name":"guymac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644351073,"creation_date":1644351073,"answer_id":71040286,"question_id":39830842,"body_markdown":"For anyone looking for a Mysql solution with the JSON column type, here it is. FWIW I am using EclipseLink but this is a pure JPA solution.\r\n\r\n    @Column(name = &quot;JSON_DATA&quot;, columnDefinition=&quot;JSON&quot;)\r\n    @Convert(converter=JsonAttributeConverter.class)\r\n    private Object jsonData;\r\n\r\nand\r\n\r\n    @Converter\r\n    public class JsonAttributeConverter implements AttributeConverter &lt;Object, String&gt;\r\n    {\r\n    \r\n    \tprivate JsonbConfig cfg = new JsonbConfig().withFormatting(true);\r\n    \r\n        private Jsonb jsonb = JsonbBuilder.create(cfg);\r\n        \r\n    \t@Override\r\n    \tpublic String convertToDatabaseColumn(Object object)\r\n    \t{      \r\n    \t\tif (object == null) return null;\r\n    \r\n    \t\treturn jsonb.toJson(object);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object convertToEntityAttribute(String value)\r\n    \t{\r\n    \t\tif (value == null) return null;\r\n    \r\n    \t\treturn jsonb.fromJson(value, value.getClass());\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How to use Postgres JSONB datatype with JPA?","body":"<p>For anyone looking for a Mysql solution with the JSON column type, here it is. FWIW I am using EclipseLink but this is a pure JPA solution.</p>\n<pre><code>@Column(name = &quot;JSON_DATA&quot;, columnDefinition=&quot;JSON&quot;)\n@Convert(converter=JsonAttributeConverter.class)\nprivate Object jsonData;\n</code></pre>\n<p>and</p>\n<pre><code>@Converter\npublic class JsonAttributeConverter implements AttributeConverter &lt;Object, String&gt;\n{\n\n    private JsonbConfig cfg = new JsonbConfig().withFormatting(true);\n\n    private Jsonb jsonb = JsonbBuilder.create(cfg);\n    \n    @Override\n    public String convertToDatabaseColumn(Object object)\n    {      \n        if (object == null) return null;\n\n        return jsonb.toJson(object);\n    }\n\n    @Override\n    public Object convertToEntityAttribute(String value)\n    {\n        if (value == null) return null;\n\n        return jsonb.fromJson(value, value.getClass());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1392485,"reputation":1562,"user_id":1322957,"display_name":"justcode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35873,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":39885334,"answer_count":4,"score":32,"last_activity_date":1644351073,"creation_date":1475495161,"question_id":39830842,"body_markdown":"Im not finding a way to map the JSON and JSONB datatypes from PostgreSQL using JPA (EclipseLink). Is some one using this datatypes with JPA and can give me some working examples?\r\n","title":"How to use Postgres JSONB datatype with JPA?","body":"<p>Im not finding a way to map the JSON and JSONB datatypes from PostgreSQL using JPA (EclipseLink). Is some one using this datatypes with JPA and can give me some working examples?</p>\n"},{"tags":["java","html","j2html"],"answers":[{"tags":[],"owner":{"account_id":8205380,"reputation":61,"user_id":6175282,"display_name":"Dipaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644350787,"creation_date":1644350787,"answer_id":71040238,"question_id":50171164,"body_markdown":"You would need to nest the `tr` within the `table`. Also, you can&#39;t have `b(&quot;Some Info: &quot;)` directly within `tr`, it needs to be nested inside a `td`. Here is how the code should look:\r\n\r\n     table(\r\n         tr(\r\n             td().withStyle(&quot;vertical-align: top&quot;).withText(b(&quot;Some Info: &quot;)),\r\n             td().withStyle(&quot;vertical-align: top&quot;).withText(p(&quot;some fetched info&quot;))))","title":"j2html nesting for tables","body":"<p>You would need to nest the <code>tr</code> within the <code>table</code>. Also, you can't have <code>b(&quot;Some Info: &quot;)</code> directly within <code>tr</code>, it needs to be nested inside a <code>td</code>. Here is how the code should look:</p>\n<pre><code> table(\n     tr(\n         td().withStyle(&quot;vertical-align: top&quot;).withText(b(&quot;Some Info: &quot;)),\n         td().withStyle(&quot;vertical-align: top&quot;).withText(p(&quot;some fetched info&quot;))))\n</code></pre>\n"}],"owner":{"account_id":13500487,"reputation":13,"user_id":9740019,"display_name":"Emily"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644350787,"creation_date":1525424595,"question_id":50171164,"body_markdown":"I am trying to use j2html to render a really simple table, but I have gotten completely stuck on the nesting and can not find any docs for this. \r\n\r\nTrying to keep this short and to the point, this is the exact html that I want to achieve: \r\n\r\n    &lt;table border=0&gt;\r\n    &lt;tr&gt;\r\n    &lt;td style=&quot;vertical-align: top&quot;&gt;\r\n    &lt;b&gt;Some Info:&lt;/b&gt;\r\n    &lt;/td&gt;\r\n    &lt;td style=&quot;vertical-align: top&quot;&gt;\r\n    &lt;p&gt;&quot;some fetched info&quot;&lt;/p&gt; \r\n    &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n\r\nNow, what I wrote is this (note that this is one of many attempts): \r\n\r\n      table(),\r\n\r\n     tr(\r\n        b(&quot;Some Info: &quot;),\r\n        td().withStyle(&quot;vertical-align: top&quot;).withText(&quot;some fetched info&quot;)),\r\n        br()\r\n        \r\n\r\nThe result I get is: \r\n\r\n    &lt;body&gt;\r\n    &lt;table&gt;\r\n    &lt;/table&gt;\r\n    &lt;tr&gt;\r\n    &lt;b&gt;Some Info: &lt;/b&gt;\r\n    &lt;td style=&quot;vertical-align: top&quot;&gt;Some fetched info\r\n    &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nI can not seem to get a grasp of the proper nesting for this problem (or how to add the table border attribute for that matter). \r\n\r\n I wrote a very short example here hoping that someone could help, thinking that if I just get this one right the whole thing will probably click in my brain.\r\n\r\n(Realizing just now I can&#39;t close the table bracket that way...) \r\n\r\n","title":"j2html nesting for tables","body":"<p>I am trying to use j2html to render a really simple table, but I have gotten completely stuck on the nesting and can not find any docs for this. </p>\n\n<p>Trying to keep this short and to the point, this is the exact html that I want to achieve: </p>\n\n<pre><code>&lt;table border=0&gt;\n&lt;tr&gt;\n&lt;td style=\"vertical-align: top\"&gt;\n&lt;b&gt;Some Info:&lt;/b&gt;\n&lt;/td&gt;\n&lt;td style=\"vertical-align: top\"&gt;\n&lt;p&gt;\"some fetched info\"&lt;/p&gt; \n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Now, what I wrote is this (note that this is one of many attempts): </p>\n\n<pre><code>  table(),\n\n tr(\n    b(\"Some Info: \"),\n    td().withStyle(\"vertical-align: top\").withText(\"some fetched info\")),\n    br()\n</code></pre>\n\n<p>The result I get is: </p>\n\n<pre><code>&lt;body&gt;\n&lt;table&gt;\n&lt;/table&gt;\n&lt;tr&gt;\n&lt;b&gt;Some Info: &lt;/b&gt;\n&lt;td style=\"vertical-align: top\"&gt;Some fetched info\n&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>I can not seem to get a grasp of the proper nesting for this problem (or how to add the table border attribute for that matter). </p>\n\n<p>I wrote a very short example here hoping that someone could help, thinking that if I just get this one right the whole thing will probably click in my brain.</p>\n\n<p>(Realizing just now I can't close the table bracket that way...) </p>\n"},{"tags":["java","android","android-fragments","android-viewpager","android-pageradapter"],"answers":[{"tags":[],"owner":{"account_id":18895089,"reputation":420,"user_id":13784437,"display_name":"Gouse Mohiddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644350766,"creation_date":1644350766,"answer_id":71040232,"question_id":70985739,"body_markdown":"First thing, \r\n\r\n&gt; fragment should contain different data\r\n\r\nSaving tab name after tab selected will not work. You should remove this\r\n\r\n    AppPreferences.setCurrentValueForRetrofit(getApplicationContext(), \r\n    tab.getPosition());\r\n\r\nYou should call retrofit code inside the fragment with the tabName (Not from sharedPref) to get data for that tab.\r\n\r\nFor this, make the following changes,\r\n\r\nYou are already passing the tabName to fragment instance\r\n\r\n    newInstance(int page, String tabName)\r\n\r\nuse that tabName and pass to your AsyncTask -&gt; loadData() as \r\n\r\n    loadData(tabName);\r\n\r\nThen you can use that in your retrofit call and get the data.\r\n\r\n\r\nNote: \r\n\r\n    setOffscreenPageLimit()\r\n\r\nThis method will load fragments just before they are completely visible. It would be useful and a great user experience to display data directly rather than fetching only when user selects the tab.\r\n    \r\n    \r\n\r\n                ","title":"Get different data via Retrofit for the Fragment in FragmentPagerAdapter for the several tablayout tabs","body":"<p>First thing,</p>\n<blockquote>\n<p>fragment should contain different data</p>\n</blockquote>\n<p>Saving tab name after tab selected will not work. You should remove this</p>\n<pre><code>AppPreferences.setCurrentValueForRetrofit(getApplicationContext(), \ntab.getPosition());\n</code></pre>\n<p>You should call retrofit code inside the fragment with the tabName (Not from sharedPref) to get data for that tab.</p>\n<p>For this, make the following changes,</p>\n<p>You are already passing the tabName to fragment instance</p>\n<pre><code>newInstance(int page, String tabName)\n</code></pre>\n<p>use that tabName and pass to your AsyncTask -&gt; loadData() as</p>\n<pre><code>loadData(tabName);\n</code></pre>\n<p>Then you can use that in your retrofit call and get the data.</p>\n<p>Note:</p>\n<pre><code>setOffscreenPageLimit()\n</code></pre>\n<p>This method will load fragments just before they are completely visible. It would be useful and a great user experience to display data directly rather than fetching only when user selects the tab.</p>\n"}],"owner":{"account_id":14911195,"reputation":2478,"user_id":10766642,"display_name":"danyapd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1644350766,"creation_date":1643974632,"question_id":70985739,"body_markdown":"**Conditions:**\r\nI have an Activity and I&#39;m creating `PagerAdapter extends FragmentPagerAdapter` with one Fragment class. TabLayout includes 10 tabs. I have `TabLayout.addOnTabSelectedListener` and there in `onTabSelected()` I am updating some custom variable in app&#39;s `SharedPreferences` which depends on current tab name and tab index. Tab&#39;s names are not static - there are loading from server too.\r\n\r\n**My task:**\r\nWith this value I should make a `retrofit2` `Call` to my server and load values in adapter with recyclerview for my `Fragment`.\r\n\r\n**My problem:**\r\nI am loading the same data for the different tabs, which should contatin different data! I am understand that this happens because in all cases I have the same `SharedPreferences` variable&#39;s value so I am making `retrofit` `Call` with same conditions.\r\n\r\n\r\n`setOffscreenPageLimit()` can&#39;t be setted to **0**  - default is 1 according documentation: \r\nhttps://developer.android.com/reference/kotlin/androidx/viewpager/widget/ViewPager#setoffscreenpagelimit;\r\n\r\n`setUserVisibleHint()` on SO I&#39;ve found this like some variant for solving my problem, but it can&#39;t be overrided because is deprecated now.\r\n\r\n**Solution:**\r\nI think I should save previous and next tab name in some way and then I can make different parallel retrofit `Call`s with different conditions. When tab selected I can get current, previous and next tab name. **But how, where and when I should make two more retrofit calls?**\r\n\r\n**UPD 08.02.2022:** Still thinking about this problem.\r\n\r\n**Code:**\r\n\r\n**SomeActivity.java**\r\n\r\n    public class SomeActivity extends BaseActivity  {\r\n    \r\n        private String TAG=&quot;SomeActivity&quot;;\r\n        private Context context;\r\n    \r\n        private TabLayout tabs;\r\n        private ViewPager viewpager;\r\n        private ProgressBar PBLoading;\r\n        private PagerAdapter_SomePAdapter adapter;\r\n    \r\n    \r\n        List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        private String[] tabTitles;\r\n    \r\n        public String previousTabName;\r\n        public String nextTabName;\r\n        public int counterForPreviousTabName;\r\n        public int counterForNextTabName;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_layout);\r\n    \t\tcontext = getApplicationContext();\r\n    \r\n            String categories = AppPreferences.getCategories(context);\r\n            tabTitles = categories.split(&quot;;&quot;);\r\n    \r\n            tabs = findViewById(R.id.tabs);\r\n            viewpager = findViewById(R.id.viewpager);\r\n            PBLoading = findViewById(R.id.PBLoading);\r\n    \t\ttabs.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n                @Override\r\n                public void onTabUnselected(TabLayout.Tab tab) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTabReselected(TabLayout.Tab tab) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTabSelected(TabLayout.Tab tab) {\r\n                    Log.d(TAG, &quot;onTabSelected&quot;);\r\n                    AppPreferences.setCurrentValueForRetrofit(getApplicationContext(), tab.getPosition());\r\n    \t\t\t\t\r\n    \t\t\t\tcounterForPreviousTabName = tmpTab.getPosition() - 1;\r\n                    counterForNextTabName = tmpTab.getPosition() + 1;\r\n    \t\t\t\t\r\n    \t\t\t\t//here I can get tab names.\r\n                }\r\n            });\r\n    \r\n            adapter = new PagerAdapter_SomePAdapter(getSupportFragmentManager(), SomeActivity.this);\r\n            viewpager.setAdapter(adapter);\r\n            adapter.updateTitleData(tabTitles);\r\n            tabs.setupWithViewPager(viewpager);\r\n            adapter.notifyDataSetChanged();\r\n    \r\n        }\r\n    }\r\n\r\n**PagerAdapter_SomePAdapter.java:**\r\n\r\n    public class PagerAdapter_SomePAdapter  extends FragmentPagerAdapter {\r\n    \r\n        int PAGE_COUNT = 2;\r\n        private String[] tabTitles = new String[] { &quot;&quot;, &quot;&quot;};\r\n        private Context mContext;\r\n        Fragment_fragment fragment_fragment;\r\n    \r\n        String TAG = &quot;PagerAdapter_SomePAdapter&quot;;\r\n    \r\n        public PagerAdapter_SomePAdapter(FragmentManager fm, Context context) {\r\n            super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n            mContext = context;\r\n            fragment_fragment = new Fragment_fragment();\r\n        }\r\n    \r\n        @Override public int getCount() {\r\n            return PAGE_COUNT;\r\n        }\r\n    \r\n        @Override public Fragment getItem(int position) {\r\n            return fragment_fragment.newInstance(position + 1, tabTitles[position]);\r\n        }\r\n    \r\n        @Override public CharSequence getPageTitle(int position) {\r\n            return tabTitles[position];\r\n        }\r\n    \r\n        public void updateTitleData(String[] tabTitlesNew) {\r\n            tabTitles = tabTitlesNew;\r\n            PAGE_COUNT = tabTitlesNew.length;\r\n            notifyDataSetChanged();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Fragment_fragment.java:**\r\n\r\n    public class Fragment_fragment extends Fragment {\r\n        private String TAG = &quot;Fragment_fragment&quot;;\r\n        private static final String ARG_PAGE = &quot;ARG_PAGE&quot;;\r\n        private int mPage;\r\n        private View rootView;\r\n        private RecyclerView RV;\r\n        private Adapter_Items adapter;\r\n    \r\n        public static Fragment_fragment newInstance(int page, String tabName) {\r\n            Bundle args = new Bundle();\r\n            args.putInt(ARG_PAGE, page);\r\n            Fragment_fragment fragment = new Fragment_fragment();\r\n            fragment.setArguments(args);\r\n    \r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if (getArguments() != null) {\r\n                mPage = getArguments().getInt(ARG_PAGE);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onAttach(@NonNull Context context) {\r\n            super.onAttach(context);\r\n            mContext=context;\r\n        }\r\n    \r\n        @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            rootView = inflater.inflate(R.layout.content_list, container, false);\r\n            RV = rootView.findViewById(R.id.recycler_view);\r\n            new loadDataAS().execute();\r\n            return rootView;\r\n        }\r\n    \r\n        private void loadData(){\r\n    \t\t//retrofit call code;\r\n        }\r\n    \r\n        class loadDataAS extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            final ProgressDialog progress = new ProgressDialog(mContext);\r\n            @Override\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n    \r\n            }\r\n            @Override\r\n            protected Void doInBackground(Void... arg0) {\r\n                loadData();\r\n                return null;\r\n            }\r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                super.onPostExecute(result);\r\n    \r\n                adapter = new Adapter_Items(arguments, arguments2, arguments3);\r\n                RV.setAdapter(adapter);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Adapter_Items:**\r\n\r\n    public class Adapter_Items extends RecyclerView.Adapter&lt;Adapter_Items.ViewHolder&gt;{\r\n    \r\n        private LayoutInflater mInflater;\r\n        private Context mContext;\r\n        private static String TAG = &quot;Adapter_Items&quot;;\r\n    \r\n        public Adapter_Items(List&lt;Integer&gt;arguments, List&lt;String&gt;arguments2, List&lt;String&gt;arguments3){\r\n    \t\t//initializing arguments\r\n        }\r\n    \r\n        // inflates the row layout from xml when needed\r\n        @NotNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NotNull ViewGroup parent, int viewType) {\r\n            View view = mInflater.inflate(R.layout.recycle_item, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n    \t\r\n    \t\t//setting view&#39;s information\r\n    \t\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return arguments.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n    \r\n            ViewHolder(View itemView) {\r\n                super(itemView);\r\n                itemView.setOnClickListener(this);\r\n            }\r\n    \r\n            @Override\r\n            public void onClick(View view) {\r\n                \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Get different data via Retrofit for the Fragment in FragmentPagerAdapter for the several tablayout tabs","body":"<p><strong>Conditions:</strong>\nI have an Activity and I'm creating <code>PagerAdapter extends FragmentPagerAdapter</code> with one Fragment class. TabLayout includes 10 tabs. I have <code>TabLayout.addOnTabSelectedListener</code> and there in <code>onTabSelected()</code> I am updating some custom variable in app's <code>SharedPreferences</code> which depends on current tab name and tab index. Tab's names are not static - there are loading from server too.</p>\n<p><strong>My task:</strong>\nWith this value I should make a <code>retrofit2</code> <code>Call</code> to my server and load values in adapter with recyclerview for my <code>Fragment</code>.</p>\n<p><strong>My problem:</strong>\nI am loading the same data for the different tabs, which should contatin different data! I am understand that this happens because in all cases I have the same <code>SharedPreferences</code> variable's value so I am making <code>retrofit</code> <code>Call</code> with same conditions.</p>\n<p><code>setOffscreenPageLimit()</code> can't be setted to <strong>0</strong>  - default is 1 according documentation:\n<a href=\"https://developer.android.com/reference/kotlin/androidx/viewpager/widget/ViewPager#setoffscreenpagelimit;\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/androidx/viewpager/widget/ViewPager#setoffscreenpagelimit;</a></p>\n<p><code>setUserVisibleHint()</code> on SO I've found this like some variant for solving my problem, but it can't be overrided because is deprecated now.</p>\n<p><strong>Solution:</strong>\nI think I should save previous and next tab name in some way and then I can make different parallel retrofit <code>Call</code>s with different conditions. When tab selected I can get current, previous and next tab name. <strong>But how, where and when I should make two more retrofit calls?</strong></p>\n<p><strong>UPD 08.02.2022:</strong> Still thinking about this problem.</p>\n<p><strong>Code:</strong></p>\n<p><strong>SomeActivity.java</strong></p>\n<pre><code>public class SomeActivity extends BaseActivity  {\n\n    private String TAG=&quot;SomeActivity&quot;;\n    private Context context;\n\n    private TabLayout tabs;\n    private ViewPager viewpager;\n    private ProgressBar PBLoading;\n    private PagerAdapter_SomePAdapter adapter;\n\n\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n    private String[] tabTitles;\n\n    public String previousTabName;\n    public String nextTabName;\n    public int counterForPreviousTabName;\n    public int counterForNextTabName;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_layout);\n        context = getApplicationContext();\n\n        String categories = AppPreferences.getCategories(context);\n        tabTitles = categories.split(&quot;;&quot;);\n\n        tabs = findViewById(R.id.tabs);\n        viewpager = findViewById(R.id.viewpager);\n        PBLoading = findViewById(R.id.PBLoading);\n        tabs.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n                Log.d(TAG, &quot;onTabSelected&quot;);\n                AppPreferences.setCurrentValueForRetrofit(getApplicationContext(), tab.getPosition());\n                \n                counterForPreviousTabName = tmpTab.getPosition() - 1;\n                counterForNextTabName = tmpTab.getPosition() + 1;\n                \n                //here I can get tab names.\n            }\n        });\n\n        adapter = new PagerAdapter_SomePAdapter(getSupportFragmentManager(), SomeActivity.this);\n        viewpager.setAdapter(adapter);\n        adapter.updateTitleData(tabTitles);\n        tabs.setupWithViewPager(viewpager);\n        adapter.notifyDataSetChanged();\n\n    }\n}\n</code></pre>\n<p><strong>PagerAdapter_SomePAdapter.java:</strong></p>\n<pre><code>public class PagerAdapter_SomePAdapter  extends FragmentPagerAdapter {\n\n    int PAGE_COUNT = 2;\n    private String[] tabTitles = new String[] { &quot;&quot;, &quot;&quot;};\n    private Context mContext;\n    Fragment_fragment fragment_fragment;\n\n    String TAG = &quot;PagerAdapter_SomePAdapter&quot;;\n\n    public PagerAdapter_SomePAdapter(FragmentManager fm, Context context) {\n        super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n        mContext = context;\n        fragment_fragment = new Fragment_fragment();\n    }\n\n    @Override public int getCount() {\n        return PAGE_COUNT;\n    }\n\n    @Override public Fragment getItem(int position) {\n        return fragment_fragment.newInstance(position + 1, tabTitles[position]);\n    }\n\n    @Override public CharSequence getPageTitle(int position) {\n        return tabTitles[position];\n    }\n\n    public void updateTitleData(String[] tabTitlesNew) {\n        tabTitles = tabTitlesNew;\n        PAGE_COUNT = tabTitlesNew.length;\n        notifyDataSetChanged();\n    }\n\n}\n</code></pre>\n<p><strong>Fragment_fragment.java:</strong></p>\n<pre><code>public class Fragment_fragment extends Fragment {\n    private String TAG = &quot;Fragment_fragment&quot;;\n    private static final String ARG_PAGE = &quot;ARG_PAGE&quot;;\n    private int mPage;\n    private View rootView;\n    private RecyclerView RV;\n    private Adapter_Items adapter;\n\n    public static Fragment_fragment newInstance(int page, String tabName) {\n        Bundle args = new Bundle();\n        args.putInt(ARG_PAGE, page);\n        Fragment_fragment fragment = new Fragment_fragment();\n        fragment.setArguments(args);\n\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mPage = getArguments().getInt(ARG_PAGE);\n        }\n    }\n\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n        mContext=context;\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        rootView = inflater.inflate(R.layout.content_list, container, false);\n        RV = rootView.findViewById(R.id.recycler_view);\n        new loadDataAS().execute();\n        return rootView;\n    }\n\n    private void loadData(){\n        //retrofit call code;\n    }\n\n    class loadDataAS extends AsyncTask&lt;Void, Void, Void&gt; {\n        final ProgressDialog progress = new ProgressDialog(mContext);\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n\n        }\n        @Override\n        protected Void doInBackground(Void... arg0) {\n            loadData();\n            return null;\n        }\n        @Override\n        protected void onPostExecute(Void result) {\n            super.onPostExecute(result);\n\n            adapter = new Adapter_Items(arguments, arguments2, arguments3);\n            RV.setAdapter(adapter);\n            adapter.notifyDataSetChanged();\n        }\n    }\n}\n</code></pre>\n<p><strong>Adapter_Items:</strong></p>\n<pre><code>public class Adapter_Items extends RecyclerView.Adapter&lt;Adapter_Items.ViewHolder&gt;{\n\n    private LayoutInflater mInflater;\n    private Context mContext;\n    private static String TAG = &quot;Adapter_Items&quot;;\n\n    public Adapter_Items(List&lt;Integer&gt;arguments, List&lt;String&gt;arguments2, List&lt;String&gt;arguments3){\n        //initializing arguments\n    }\n\n    // inflates the row layout from xml when needed\n    @NotNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NotNull ViewGroup parent, int viewType) {\n        View view = mInflater.inflate(R.layout.recycle_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    \n        //setting view's information\n    \n    }\n\n    @Override\n    public int getItemCount() {\n        return arguments.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n        ViewHolder(View itemView) {\n            super(itemView);\n            itemView.setOnClickListener(this);\n        }\n\n        @Override\n        public void onClick(View view) {\n            \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-8","openjfx"],"answers":[{"tags":[],"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644350399,"creation_date":1644350399,"answer_id":71040164,"question_id":71040093,"body_markdown":"According to the official documentation (https://openjfx.io/openjfx-docs/)\r\n\r\n&gt; In any case, for both options, it is required to have a recent version of JDK 16, or at least JDK 11.\r\n\r\nyou have to use Java 11 or higher. Unfortunatley, it won&#39;t work with Java 8 as OpenJFX is build with a byte code level for Java 11.\r\n\r\nOlder versions of Java will bundle JavaFX, so If you are Java 8 based, you do not need to declare dependencies towards JavaFX in Maven, see this question: https://stackoverflow.com/questions/35974003/javafx-comes-with-jdk-8 (but this JFX version is outdated)","title":"How to deal with &#39;class file has wrong version 55.0, should be 52.0&#39; under OpenJFX?","body":"<p>According to the official documentation (<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a>)</p>\n<blockquote>\n<p>In any case, for both options, it is required to have a recent version of JDK 16, or at least JDK 11.</p>\n</blockquote>\n<p>you have to use Java 11 or higher. Unfortunatley, it won't work with Java 8 as OpenJFX is build with a byte code level for Java 11.</p>\n<p>Older versions of Java will bundle JavaFX, so If you are Java 8 based, you do not need to declare dependencies towards JavaFX in Maven, see this question: <a href=\"https://stackoverflow.com/questions/35974003/javafx-comes-with-jdk-8\">JavaFX comes with JDK 8?</a> (but this JFX version is outdated)</p>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644350625,"creation_date":1644350021,"question_id":71040093,"body_markdown":"    Linux Mint 20.3\r\n       os.name = Linux\r\n       os.arch = amd64\r\n       os.version = 5.13.0-25-generic\r\n    \r\n    \r\n    \r\n     Java : \r\n        openjdk version &quot;1.8.0_322&quot;\r\n        OpenJDK Runtime Environment (build 1.8.0_322-b06)\r\n        OpenJDK 64-Bit Server VM (build 25.322-b06, mixed mode)\r\n    \r\n    Maven 3.8.3\r\n\r\n\r\n    major version number of the class file format being used.[3]\r\n    Java SE 17 = 61 (0x3D hex),\r\n    Java SE 16 = 60 (0x3C hex),\r\n    Java SE 15 = 59 (0x3B hex),\r\n    Java SE 14 = 58 (0x3A hex),\r\n    Java SE 13 = 57 (0x39 hex),\r\n    Java SE 12 = 56 (0x38 hex),\r\n    Java SE 11 = 55 (0x37 hex),\r\n    Java SE 10 = 54 (0x36 hex),\r\n    Java SE 9 = 53 (0x35 hex),\r\n    Java SE 8 = 52 (0x34 hex),\r\n\r\n\r\nIn pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nIn my class files:\r\n\r\n\r\n    package com.myproject;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import javafx.util.Pair; // error here\r\n    \r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public interface ManagedGroupCommonDao extends GenericDao&lt;ManagedGroupCommon, Integer&gt; {\r\n    \tMap&lt;Integer, List&lt;Pair&lt;Integer,Integer&gt;&gt;&gt; findAllMgIdsAssociatedNsPairs();\r\n    \tList&lt;Integer&gt; findMGsParentsIdsAssociatedToNS(int nsDbId);\r\n    \tMap&lt;Integer, List&lt;Integer&gt;&gt; findMGsParentsIdsAssociatedPerNSesAsMap(Collection&lt;Integer&gt; nsDbIds);\r\n    \t\r\n    }\r\n\r\nBut I get error:\r\n\r\n    ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project persistence-face: Compilation failure\r\n    [ERROR] /com/myproject/server-persistence/persistence-face/src/main/java/ManagedGroupCommonDao.java:[10,19] cannot access javafx.util.Pair\r\n    [ERROR]   bad class file: /home/alexeij/.m2/repository/org/openjfx/javafx-base/17/javafx-base-17-linux.jar(javafx/util/Pair.class)\r\n    [ERROR]     class file has wrong version 55.0, should be 52.0\r\n    [ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\n\r\nThe project **must build by OpenJDK 8**. This is a client&#39;s requirement.\r\n","title":"How to deal with &#39;class file has wrong version 55.0, should be 52.0&#39; under OpenJFX?","body":"<pre><code>Linux Mint 20.3\n   os.name = Linux\n   os.arch = amd64\n   os.version = 5.13.0-25-generic\n\n\n\n Java : \n    openjdk version &quot;1.8.0_322&quot;\n    OpenJDK Runtime Environment (build 1.8.0_322-b06)\n    OpenJDK 64-Bit Server VM (build 25.322-b06, mixed mode)\n\nMaven 3.8.3\n\n\nmajor version number of the class file format being used.[3]\nJava SE 17 = 61 (0x3D hex),\nJava SE 16 = 60 (0x3C hex),\nJava SE 15 = 59 (0x3B hex),\nJava SE 14 = 58 (0x3A hex),\nJava SE 13 = 57 (0x39 hex),\nJava SE 12 = 56 (0x38 hex),\nJava SE 11 = 55 (0x37 hex),\nJava SE 10 = 54 (0x36 hex),\nJava SE 9 = 53 (0x35 hex),\nJava SE 8 = 52 (0x34 hex),\n</code></pre>\n<p>In pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n            &lt;version&gt;17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>In my class files:</p>\n<pre><code>package com.myproject;\n\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\nimport javafx.util.Pair; // error here\n\n@SuppressWarnings(&quot;rawtypes&quot;)\npublic interface ManagedGroupCommonDao extends GenericDao&lt;ManagedGroupCommon, Integer&gt; {\n    Map&lt;Integer, List&lt;Pair&lt;Integer,Integer&gt;&gt;&gt; findAllMgIdsAssociatedNsPairs();\n    List&lt;Integer&gt; findMGsParentsIdsAssociatedToNS(int nsDbId);\n    Map&lt;Integer, List&lt;Integer&gt;&gt; findMGsParentsIdsAssociatedPerNSesAsMap(Collection&lt;Integer&gt; nsDbIds);\n    \n}\n</code></pre>\n<p>But I get error:</p>\n<pre><code>ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project persistence-face: Compilation failure\n[ERROR] /com/myproject/server-persistence/persistence-face/src/main/java/ManagedGroupCommonDao.java:[10,19] cannot access javafx.util.Pair\n[ERROR]   bad class file: /home/alexeij/.m2/repository/org/openjfx/javafx-base/17/javafx-base-17-linux.jar(javafx/util/Pair.class)\n[ERROR]     class file has wrong version 55.0, should be 52.0\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n<p>The project <strong>must build by OpenJDK 8</strong>. This is a client's requirement.</p>\n"},{"tags":["java","awtrobot"],"answers":[{"tags":[],"owner":{"account_id":17990726,"reputation":38,"user_id":13074882,"display_name":"siavosh noor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644350536,"creation_date":1644350536,"answer_id":71040193,"question_id":71038896,"body_markdown":"You should  implement  MouseListener interface in your class   then override these two methods :  mousePressed  and  mouseReleased .\r\n\r\n    \r\n      \r\n    public void mousePressed(MouseEvent e) {\r\n    //do the auto click code here\r\n    }\r\n\r\n    public void mouseReleased(MouseEvent e) {\r\n      //turn off the auto click here\r\n    }\r\n  \r\n         \r\n[read this article][1]\r\n  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html","title":"How to check if left click is pressed after unpressing it from Robot class?","body":"<p>You should  implement  MouseListener interface in your class   then override these two methods :  mousePressed  and  mouseReleased .</p>\n<pre><code>public void mousePressed(MouseEvent e) {\n//do the auto click code here\n}\n\npublic void mouseReleased(MouseEvent e) {\n  //turn off the auto click here\n}\n\n     \n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html\" rel=\"nofollow noreferrer\">read this article</a></p>\n"}],"owner":{"account_id":19136733,"reputation":67,"user_id":16967432,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71040193,"answer_count":1,"score":0,"last_activity_date":1644350536,"creation_date":1644344361,"question_id":71038896,"body_markdown":"I&#39;m making something like an auto clicker. \r\nI would like to make it so that when the left mouse button is pressed, the auto clicker should turn on. When the button is released, the auto clicker should turn off. \r\n\r\nIs there a way to check if the left mouse click (in real life) is pressed after calling the `robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK)` method?","title":"How to check if left click is pressed after unpressing it from Robot class?","body":"<p>I'm making something like an auto clicker.\nI would like to make it so that when the left mouse button is pressed, the auto clicker should turn on. When the button is released, the auto clicker should turn off.</p>\n<p>Is there a way to check if the left mouse click (in real life) is pressed after calling the <code>robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK)</code> method?</p>\n"},{"tags":["java","maven","jakarta-ee","apache-tomee","tomee-8"],"answers":[{"tags":[],"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644348999,"creation_date":1644348490,"answer_id":71039791,"question_id":71027086,"body_markdown":"You are using Java 16 (as shown in the log file) with Maven. In this case, you should use TomEE in version 8.0.9 as this release contains important fixes regarding illegal reflective access (due to the use of Unsafe for proxy creation) in higher versions of Java. You find some details in https://issues.apache.org/jira/browse/TOMEE-3795\r\n\r\nIt looks like you are using a lower Java version for running your standalone TomEE deployment, which works as it isn&#39;t as restrictive as newer Java versions.\r\n\r\nSide Note: Java 16 is end-of-life and you should better switch to Java 17.","title":"Running an application with TomEE Maven plugin gives me &quot;Error waiting for multi-thread deployment of WAR files to complete&quot;","body":"<p>You are using Java 16 (as shown in the log file) with Maven. In this case, you should use TomEE in version 8.0.9 as this release contains important fixes regarding illegal reflective access (due to the use of Unsafe for proxy creation) in higher versions of Java. You find some details in <a href=\"https://issues.apache.org/jira/browse/TOMEE-3795\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/TOMEE-3795</a></p>\n<p>It looks like you are using a lower Java version for running your standalone TomEE deployment, which works as it isn't as restrictive as newer Java versions.</p>\n<p>Side Note: Java 16 is end-of-life and you should better switch to Java 17.</p>\n"}],"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71039791,"answer_count":1,"score":2,"last_activity_date":1644349829,"creation_date":1644279604,"question_id":71027086,"body_markdown":"The following error is given when I try to deploy a simple app (the default one that IntelliJ provides when you create a new Java EE Web App project):  \r\n    \r\n\r\n\r\n    PS C:\\Users\\Anton\\IdeaProjects\\demo5&gt; mvn clean; mvn package; mvn tomee:run\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ----------------------------&lt; com.so:myApp &gt;----------------------------\r\n    [INFO] Building myApp 1.0\r\n    [INFO] --------------------------------[ war ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ myApp ---\r\n    [INFO] Deleting C:\\Users\\Anton\\IdeaProjects\\demo5\\target\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.913 s\r\n    [INFO] Finished at: 2022-02-08T01:03:45+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ----------------------------&lt; com.so:myApp &gt;----------------------------\r\n    [INFO] Building myApp 1.0                                                      \r\n    [INFO] --------------------------------[ war ]---------------------------------\r\n    [INFO]                                                                         \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ myApp ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 2 resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ myApp ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [INFO] Compiling 3 source files to C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\classes\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ myApp ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 0 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ myApp ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ myApp ---\r\n    [INFO] \r\n    [INFO] --- maven-war-plugin:3.3.0:war (default-war) @ myApp ---\r\n    [INFO] Packaging webapp\r\n    [INFO] Assembling webapp [myApp] in [C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\myApp]\r\n    [INFO] Processing war project\r\n    [INFO] Copying webapp resources [C:\\Users\\Anton\\IdeaProjects\\demo5\\src\\main\\webapp]\r\n    [INFO] Building war: C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\myApp.war\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  3.402 s\r\n    [INFO] Finished at: 2022-02-08T01:03:51+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ----------------------------&lt; com.so:myApp &gt;----------------------------\r\n    [INFO] Building myApp 1.0\r\n    [INFO] --------------------------------[ war ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- tomee-maven-plugin:8.0.7:run (default-cli) @ myApp ---\r\n    [INFO] TomEE was unzipped in &#39;C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\apache-tomee&#39;\r\n    [INFO] Removed not mandatory default webapps\r\n    [INFO] Installed &#39;C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\myApp.war&#39; in C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\apache-tomee\\webapps\\myApp.war\r\n    [INFO] TomEE will run in development mode\r\n    [INFO] Running &#39;org.apache.openejb.maven.plugin.run&#39;. Configured TomEE in plugin is localhost:8080 (plugin shutdown port is 8005 and https port is null)\r\n    08-Feb-2022 01:03:57.331 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Server version name:   Apache Tomcat/9.0.45\r\n    08-Feb-2022 01:03:57.332 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Server built:          Mar 30 2021 10:29:04 UTC\r\n    08-Feb-2022 01:03:57.332 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Server version number: 9.0.45.0\r\n    08-Feb-2022 01:03:57.332 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke OS Name:               Windows 10\r\n    08-Feb-2022 01:03:57.332 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke OS Version:            10.0\r\n    08-Feb-2022 01:03:57.333 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Architecture:          amd64\r\n    08-Feb-2022 01:03:57.333 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Java Home:             C:\\Program Files\\Java\\jdk-16\r\n\r\n\r\n    //Omitted because of stackoverflow message length limits\r\n\r\n \r\n    08-Feb-2022 01:04:00.592 INFO [main] org.apache.openejb.assembler.classic.Assembler.createApplication Assembling app: C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\apache-tomee\\webapps\\myApp\r\n    08-Feb-2022 01:04:01.012 INFO [main] null.openjpa.Enhance You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, which might increase class load times significantly.\r\n    08-Feb-2022 01:04:01.066 INFO [main] null.openjpa.Runtime OpenJPA dynamically loaded a validation provider.\r\n    08-Feb-2022 01:04:01.083 INFO [main] org.apache.openejb.assembler.classic.ReloadableEntityManagerFactory.createDelegate PersistenceUnit(name=default, provider=org.apache.openjpa.persistence.PersistenceProviderImpl) - provider time 438ms\r\n    08-Feb-2022 01:04:01.145 INFO [main] org.apache.openejb.cdi.CdiBuilder.initSingleton Existing thread singleton service in SystemInstance(): org.apache.openejb.cdi.ThreadSingletonServiceImpl@6dee4f1b\r\n    08-Feb-2022 01:04:01.224 INFO [main] org.apache.openejb.cdi.ManagedSecurityService.&lt;init&gt; Some Principal APIs could not be loaded: org.eclipse.microprofile.jwt.JsonWebToken out of org.eclipse.microprofile.jwt.JsonWebToken not found\r\n    08-Feb-2022 01:04:01.265 INFO [main] org.apache.openejb.cdi.OpenEJBLifecycle.startApplication OpenWebBeans Container is starting...\r\n    08-Feb-2022 01:04:01.272 INFO [main] org.apache.webbeans.plugins.PluginLoader.startUp Adding OpenWebBeansPlugin : [CdiPlugin]\r\n    08-Feb-2022 01:04:01.867 INFO [main] org.apache.webbeans.config.BeansDeployer.validateInjectionPoints All injection points were validated successfully.\r\n    08-Feb-2022 01:04:01.886 INFO [main] org.apache.openejb.cdi.OpenEJBLifecycle.startApplication OpenWebBeans Container has started, it took 620 ms.\r\n    08-Feb-2022 01:04:01.897 INFO [main] org.apache.openejb.assembler.classic.Assembler.createApplication Deployed Application(path=C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\apache-tomee\\webapps\\myApp)\r\n    08-Feb-2022 01:04:01.904 SEVERE [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Error waiting for multi-thread deployment of WAR files to complete\r\n            java.util.concurrent.ExecutionException: java.lang.InternalError: LocalBeanProxyFactory.createProxy: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,i\r\n    nt,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @cb644e\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n            at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n            at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n            at org.apache.openejb.util.proxy.LocalBeanProxyFactory$Unsafe.getClassLoaderDefineClassMethod(LocalBeanProxyFactory.java:845)\r\n            at org.apache.openejb.util.proxy.LocalBeanProxyFactory$Unsafe.defineClass(LocalBeanProxyFactory.java:828)\r\n            at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:142)\r\n            at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:152)\r\n            at org.apache.tomee.catalina.TomcatWebAppBuilder.eagerInitOfLocalBeanProxies(TomcatWebAppBuilder.java:1598)\r\n            at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1344)\r\n            at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\r\n            at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\r\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5077)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\r\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\r\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n            at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\r\n            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\r\n            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1611)\r\n            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n            at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n            at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\r\n            at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n            at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\n    \r\n                    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n                    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n                    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:836)\r\n                    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\r\n                    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1611)\r\n                    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n                    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n                    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n                    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n                    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\r\n                    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n                    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n                    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n                    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n                    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n                    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n                    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n                    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\n            Caused by: java.lang.InternalError: LocalBeanProxyFactory.createProxy: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDom\r\n    ain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @cb644e\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n            at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n            at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n            at org.apache.openejb.util.proxy.LocalBeanProxyFactory$Unsafe.getClassLoaderDefineClassMethod(LocalBeanProxyFactory.java:845)\r\n            at org.apache.openejb.util.proxy.LocalBeanProxyFactory$Unsafe.defineClass(LocalBeanProxyFactory.java:828)\r\n            at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:142)\r\n            at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:152)\r\n            at org.apache.tomee.catalina.TomcatWebAppBuilder.eagerInitOfLocalBeanProxies(TomcatWebAppBuilder.java:1598)\r\n            at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1344)\r\n            at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\r\n            at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\r\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5077)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\r\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\r\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n            at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\r\n            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\r\n            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1611)\r\n            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n            at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n            at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\r\n            at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n            at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\n    \r\n                    at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:145)\r\n                    at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:152)\r\n                    at org.apache.tomee.catalina.TomcatWebAppBuilder.eagerInitOfLocalBeanProxies(TomcatWebAppBuilder.java:1598)\r\n                    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1344)\r\n                    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\r\n                    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\r\n                    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n                    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5077)\r\n                    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n                    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n                    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\r\n                    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\r\n                    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\r\n                    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n                    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n                    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\r\n                    ... 28 more\r\n    08-Feb-2022 01:04:02.027 INFO [main] jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    08-Feb-2022 01:04:02.036 INFO [main] jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke Server startup in [2983] milliseconds\r\n\r\nIf I try to manually deploy the same .war file in my personal TomEE installation using ``startup.bat`` this error does not occur.  \r\n\r\nI have tried both TomEE 8.0.7 and 8.0.8; this is the ``pom.xml``:  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.so&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myApp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;name&gt;myApp&lt;/name&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;finalName&gt;myApp&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;warName&gt;${project.artifactId}&lt;/warName&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.tomee.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomee-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;8.0.7&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;tomeeClassifier&gt;webprofile&lt;/tomeeClassifier&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nWhat can possibly be the cause?","title":"Running an application with TomEE Maven plugin gives me &quot;Error waiting for multi-thread deployment of WAR files to complete&quot;","body":"<p>The following error is given when I try to deploy a simple app (the default one that IntelliJ provides when you create a new Java EE Web App project):</p>\n<pre><code>PS C:\\Users\\Anton\\IdeaProjects\\demo5&gt; mvn clean; mvn package; mvn tomee:run\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ----------------------------&lt; com.so:myApp &gt;----------------------------\n[INFO] Building myApp 1.0\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ myApp ---\n[INFO] Deleting C:\\Users\\Anton\\IdeaProjects\\demo5\\target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.913 s\n[INFO] Finished at: 2022-02-08T01:03:45+01:00\n[INFO] ------------------------------------------------------------------------\n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ----------------------------&lt; com.so:myApp &gt;----------------------------\n[INFO] Building myApp 1.0                                                      \n[INFO] --------------------------------[ war ]---------------------------------\n[INFO]                                                                         \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ myApp ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 2 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ myApp ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO] Compiling 3 source files to C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ myApp ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 0 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ myApp ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO]\n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ myApp ---\n[INFO] \n[INFO] --- maven-war-plugin:3.3.0:war (default-war) @ myApp ---\n[INFO] Packaging webapp\n[INFO] Assembling webapp [myApp] in [C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\myApp]\n[INFO] Processing war project\n[INFO] Copying webapp resources [C:\\Users\\Anton\\IdeaProjects\\demo5\\src\\main\\webapp]\n[INFO] Building war: C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\myApp.war\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.402 s\n[INFO] Finished at: 2022-02-08T01:03:51+01:00\n[INFO] ------------------------------------------------------------------------\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------------------&lt; com.so:myApp &gt;----------------------------\n[INFO] Building myApp 1.0\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] \n[INFO] --- tomee-maven-plugin:8.0.7:run (default-cli) @ myApp ---\n[INFO] TomEE was unzipped in 'C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\apache-tomee'\n[INFO] Removed not mandatory default webapps\n[INFO] Installed 'C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\myApp.war' in C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\apache-tomee\\webapps\\myApp.war\n[INFO] TomEE will run in development mode\n[INFO] Running 'org.apache.openejb.maven.plugin.run'. Configured TomEE in plugin is localhost:8080 (plugin shutdown port is 8005 and https port is null)\n08-Feb-2022 01:03:57.331 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Server version name:   Apache Tomcat/9.0.45\n08-Feb-2022 01:03:57.332 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Server built:          Mar 30 2021 10:29:04 UTC\n08-Feb-2022 01:03:57.332 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Server version number: 9.0.45.0\n08-Feb-2022 01:03:57.332 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke OS Name:               Windows 10\n08-Feb-2022 01:03:57.332 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke OS Version:            10.0\n08-Feb-2022 01:03:57.333 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Architecture:          amd64\n08-Feb-2022 01:03:57.333 INFO [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Java Home:             C:\\Program Files\\Java\\jdk-16\n\n\n//Omitted because of stackoverflow message length limits\n\n\n08-Feb-2022 01:04:00.592 INFO [main] org.apache.openejb.assembler.classic.Assembler.createApplication Assembling app: C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\apache-tomee\\webapps\\myApp\n08-Feb-2022 01:04:01.012 INFO [main] null.openjpa.Enhance You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, which might increase class load times significantly.\n08-Feb-2022 01:04:01.066 INFO [main] null.openjpa.Runtime OpenJPA dynamically loaded a validation provider.\n08-Feb-2022 01:04:01.083 INFO [main] org.apache.openejb.assembler.classic.ReloadableEntityManagerFactory.createDelegate PersistenceUnit(name=default, provider=org.apache.openjpa.persistence.PersistenceProviderImpl) - provider time 438ms\n08-Feb-2022 01:04:01.145 INFO [main] org.apache.openejb.cdi.CdiBuilder.initSingleton Existing thread singleton service in SystemInstance(): org.apache.openejb.cdi.ThreadSingletonServiceImpl@6dee4f1b\n08-Feb-2022 01:04:01.224 INFO [main] org.apache.openejb.cdi.ManagedSecurityService.&lt;init&gt; Some Principal APIs could not be loaded: org.eclipse.microprofile.jwt.JsonWebToken out of org.eclipse.microprofile.jwt.JsonWebToken not found\n08-Feb-2022 01:04:01.265 INFO [main] org.apache.openejb.cdi.OpenEJBLifecycle.startApplication OpenWebBeans Container is starting...\n08-Feb-2022 01:04:01.272 INFO [main] org.apache.webbeans.plugins.PluginLoader.startUp Adding OpenWebBeansPlugin : [CdiPlugin]\n08-Feb-2022 01:04:01.867 INFO [main] org.apache.webbeans.config.BeansDeployer.validateInjectionPoints All injection points were validated successfully.\n08-Feb-2022 01:04:01.886 INFO [main] org.apache.openejb.cdi.OpenEJBLifecycle.startApplication OpenWebBeans Container has started, it took 620 ms.\n08-Feb-2022 01:04:01.897 INFO [main] org.apache.openejb.assembler.classic.Assembler.createApplication Deployed Application(path=C:\\Users\\Anton\\IdeaProjects\\demo5\\target\\apache-tomee\\webapps\\myApp)\n08-Feb-2022 01:04:01.904 SEVERE [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Error waiting for multi-thread deployment of WAR files to complete\n        java.util.concurrent.ExecutionException: java.lang.InternalError: LocalBeanProxyFactory.createProxy: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,i\nnt,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @cb644e\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n        at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n        at org.apache.openejb.util.proxy.LocalBeanProxyFactory$Unsafe.getClassLoaderDefineClassMethod(LocalBeanProxyFactory.java:845)\n        at org.apache.openejb.util.proxy.LocalBeanProxyFactory$Unsafe.defineClass(LocalBeanProxyFactory.java:828)\n        at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:142)\n        at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:152)\n        at org.apache.tomee.catalina.TomcatWebAppBuilder.eagerInitOfLocalBeanProxies(TomcatWebAppBuilder.java:1598)\n        at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1344)\n        at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\n        at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5077)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1611)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\n\n                at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n                at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n                at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:836)\n                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n                at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1611)\n                at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n                at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n                at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\n                at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n                at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n                at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\n        Caused by: java.lang.InternalError: LocalBeanProxyFactory.createProxy: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDom\nain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @cb644e\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n        at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n        at org.apache.openejb.util.proxy.LocalBeanProxyFactory$Unsafe.getClassLoaderDefineClassMethod(LocalBeanProxyFactory.java:845)\n        at org.apache.openejb.util.proxy.LocalBeanProxyFactory$Unsafe.defineClass(LocalBeanProxyFactory.java:828)\n        at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:142)\n        at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:152)\n        at org.apache.tomee.catalina.TomcatWebAppBuilder.eagerInitOfLocalBeanProxies(TomcatWebAppBuilder.java:1598)\n        at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1344)\n        at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\n        at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5077)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1611)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\n\n                at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:145)\n                at org.apache.openejb.util.proxy.LocalBeanProxyFactory.createProxy(LocalBeanProxyFactory.java:152)\n                at org.apache.tomee.catalina.TomcatWebAppBuilder.eagerInitOfLocalBeanProxies(TomcatWebAppBuilder.java:1598)\n                at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1344)\n                at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1160)\n                at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:134)\n                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5077)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\n                at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\n                at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1903)\n                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n                at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\n                ... 28 more\n08-Feb-2022 01:04:02.027 INFO [main] jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n08-Feb-2022 01:04:02.036 INFO [main] jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke Server startup in [2983] milliseconds\n</code></pre>\n<p>If I try to manually deploy the same .war file in my personal TomEE installation using <code>startup.bat</code> this error does not occur.</p>\n<p>I have tried both TomEE 8.0.7 and 8.0.8; this is the <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.so&lt;/groupId&gt;\n    &lt;artifactId&gt;myApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;myApp&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;myApp&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;warName&gt;${project.artifactId}&lt;/warName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomee.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomee-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;8.0.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;tomeeClassifier&gt;webprofile&lt;/tomeeClassifier&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>What can possibly be the cause?</p>\n"},{"tags":["java","mysql","spring-boot","amazon-aurora"],"comments":[{"owner":{"account_id":2435239,"reputation":46,"user_id":2125308,"display_name":"sgorgulu"},"score":0,"creation_date":1643804145,"post_id":70955407,"comment_id":125435142,"body_markdown":"Have you added `@Repository` annotation to the CredentialRepository","body":"Have you added <code>@Repository</code> annotation to the CredentialRepository"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643804359,"post_id":70955407,"comment_id":125435207,"body_markdown":"Change jdbcUrl to url","body":"Change jdbcUrl to url"},{"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"score":0,"creation_date":1643805228,"post_id":70955407,"comment_id":125435530,"body_markdown":"Yes I  have tried it with the  @Repository annotation  and changed jdbcUrl to url. I have feeling it might be pom related a missing dependenacy","body":"Yes I  have tried it with the  @Repository annotation  and changed jdbcUrl to url. I have feeling it might be pom related a missing dependenacy"}],"answers":[{"tags":[],"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644349451,"creation_date":1644349451,"answer_id":71039977,"question_id":70955407,"body_markdown":"Ok the data source is as \r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://&lt;aurora-mysql-reader-endpoint_instance&gt;:3306/credentialdb?sslMode=DISABLED\r\n    username: admin\r\n    password: password\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL5Dialect\r\n  hibernate:\r\n    ddl-auto: update\r\n```\r\n\r\nConnects to the aurora db","title":"Getting an error Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Ok the data source is as</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://&lt;aurora-mysql-reader-endpoint_instance&gt;:3306/credentialdb?sslMode=DISABLED\n    username: admin\n    password: password\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL5Dialect\n  hibernate:\n    ddl-auto: update\n</code></pre>\n<p>Connects to the aurora db</p>\n"}],"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644349451,"creation_date":1643803888,"question_id":70955407,"body_markdown":"The full error is \r\n\r\n```\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n```\r\nI have the following datasource set up in my application.yml\r\n```\r\nspring:\r\n  datasource:\r\n    reader:\r\n      username: admin\r\n      password: password\r\n      driver-class-name: com.mysql.cj.jdbc.Driver\r\n      jdbcUrl: jdbc:mysql://&lt;aurora-mysql-reader-endpoint_instance&gt;:3306/credentialdb\r\n      pattern: get*,find*\r\n    writer:\r\n      username: admin\r\n      password: password\r\n      driver-class-name: com.mysql.cj.jdbc.Driver\r\n      jdbcUrl: jdbc:mysql://&lt;aurora-mysql-reader-endpoint_instance&gt;/credentialdb\r\n      pattern: add*,update*\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n```\r\n\r\nI did google and the number one comment is\r\n\r\n```\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\r\n```\r\n\r\nBut causes the following code to fall over\r\n```\r\npublic interface CredentialRepository extends CrudRepository&lt;CredentialEntity, Long&gt; {\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class CredentialServicesImpl implements CredentialServices {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tCredentialRepository credentialrepository;\r\n\r\n```\r\n\r\nWith the exception\r\n```\r\nNoSuchBeanDefinitionException: No qualifying bean of type &#39;com.opsec.shared.harvesting.fetcher.credentialmanger.repository.CredentialRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\nSo ho how do I get around the original exception \r\n Failed to configure a DataSource: &#39;url&#39; attribute is not specified \r\n\r\nI think it may be a dependency issue i am trying to connect to a AWS RDS aurora mysql but my dependency is\r\n```\r\n &lt;!-- spring  --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- SQL --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n``` \r\n\r\n\r\n","title":"Getting an error Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>The full error is</p>\n<pre><code>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>I have the following datasource set up in my application.yml</p>\n<pre><code>spring:\n  datasource:\n    reader:\n      username: admin\n      password: password\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      jdbcUrl: jdbc:mysql://&lt;aurora-mysql-reader-endpoint_instance&gt;:3306/credentialdb\n      pattern: get*,find*\n    writer:\n      username: admin\n      password: password\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      jdbcUrl: jdbc:mysql://&lt;aurora-mysql-reader-endpoint_instance&gt;/credentialdb\n      pattern: add*,update*\n  jpa:\n    hibernate:\n      ddl-auto: update\n</code></pre>\n<p>I did google and the number one comment is</p>\n<pre><code>@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\n</code></pre>\n<p>But causes the following code to fall over</p>\n<pre><code>public interface CredentialRepository extends CrudRepository&lt;CredentialEntity, Long&gt; {\n}\n</code></pre>\n<pre><code>@Service\npublic class CredentialServicesImpl implements CredentialServices {\n    \n    \n    @Autowired\n    CredentialRepository credentialrepository;\n\n</code></pre>\n<p>With the exception</p>\n<pre><code>NoSuchBeanDefinitionException: No qualifying bean of type 'com.opsec.shared.harvesting.fetcher.credentialmanger.repository.CredentialRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>So ho how do I get around the original exception\nFailed to configure a DataSource: 'url' attribute is not specified</p>\n<p>I think it may be a dependency issue i am trying to connect to a AWS RDS aurora mysql but my dependency is</p>\n<pre><code> &lt;!-- spring  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- SQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.15&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jar","noclassdeffounderror"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1644349787,"post_id":71039949,"comment_id":125582483,"body_markdown":"Have you tried this https://stackoverflow.com/questions/2910115/include-external-jar-when-running-java-jar","body":"Have you tried this <a href=\"https://stackoverflow.com/questions/2910115/include-external-jar-when-running-java-jar\" title=\"include external jar when running java jar\">stackoverflow.com/questions/2910115/&hellip;</a>"},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":1,"creation_date":1644359347,"post_id":71039949,"comment_id":125585432,"body_markdown":"Thank you, @hfontanez, that helped! The jar was looking for its components only through the declaration in MANIFEST.MF, and not paying attention to any environment settings or command line switches for classpath.","body":"Thank you, @hfontanez, that helped! The jar was looking for its components only through the declaration in MANIFEST.MF, and not paying attention to any environment settings or command line switches for classpath."},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1653654107,"post_id":71039949,"comment_id":127908999,"body_markdown":"Does this answer your question? [What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?](https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn\">What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?</a>"}],"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644349277,"creation_date":1644349277,"question_id":71039949,"body_markdown":"This question has so many answers, yet nothing works for me. I try to run a JAR file which I created and which depends on org.json library. I have my WebCfgSigner.jar and json-20180130.jar in C:\\bin directory. It all works fine on my computer development computer:\r\n\r\n    java -jar c:\\bin\\WebCfgSigner.jar some parameters\r\n\r\nI need to run it on my server (Windows Server 2016), where I installed first Java 1.8.something, then 17.0.2... All I get on the server is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/JSONObject\r\n\r\nI know about CLASSPATH environment variable, so I set it to all the variants below in turn, and nothing changes:\r\n\r\n    CLASSPATH=c:\\bin\\\r\n    CLASSPATH=c:\\bin\\*\r\n    CLASSPATH=c:\\bin\\json-20180130.jar\r\n\r\nThen I try to add -classpath or -cp to the command line, no difference.\r\n\r\n    java -classpath c:\\bin\\json-20180130.jar -jar c:\\bin\\WebCfgSigner.jar some parameters\r\n    java -classpath c:\\bin\\* -jar c:\\bin\\WebCfgSigner.jar some parameters\r\n    java -cp c:\\bin\\json-20180130.jar -jar c:\\bin\\WebCfgSigner.jar some parameters\r\n\r\nWhat else could I do? The json-20180130.jar is what works fine on my dev computer, but again not on the server...\r\n\r\n","title":"Java on Windows command line - NoClassDefFoundError again","body":"<p>This question has so many answers, yet nothing works for me. I try to run a JAR file which I created and which depends on org.json library. I have my WebCfgSigner.jar and json-20180130.jar in C:\\bin directory. It all works fine on my computer development computer:</p>\n<pre><code>java -jar c:\\bin\\WebCfgSigner.jar some parameters\n</code></pre>\n<p>I need to run it on my server (Windows Server 2016), where I installed first Java 1.8.something, then 17.0.2... All I get on the server is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/JSONObject\n</code></pre>\n<p>I know about CLASSPATH environment variable, so I set it to all the variants below in turn, and nothing changes:</p>\n<pre><code>CLASSPATH=c:\\bin\\\nCLASSPATH=c:\\bin\\*\nCLASSPATH=c:\\bin\\json-20180130.jar\n</code></pre>\n<p>Then I try to add -classpath or -cp to the command line, no difference.</p>\n<pre><code>java -classpath c:\\bin\\json-20180130.jar -jar c:\\bin\\WebCfgSigner.jar some parameters\njava -classpath c:\\bin\\* -jar c:\\bin\\WebCfgSigner.jar some parameters\njava -cp c:\\bin\\json-20180130.jar -jar c:\\bin\\WebCfgSigner.jar some parameters\n</code></pre>\n<p>What else could I do? The json-20180130.jar is what works fine on my dev computer, but again not on the server...</p>\n"},{"tags":["java","java-8","bearer-token"],"answers":[{"tags":[],"owner":{"account_id":1256882,"reputation":2244,"user_id":1216166,"display_name":"Andreas Berheim Brudin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644348846,"creation_date":1644348512,"answer_id":71039798,"question_id":71036783,"body_markdown":"There is a constant String array in HttpURLConnection that is called `EXCLUDE_HEADERS` and has the following comment:\r\n\r\n    // the following http request headers should NOT have their values\r\n    // returned for security reasons.\r\n    private static final String[] EXCLUDE_HEADERS = {\r\n            &quot;Proxy-Authorization&quot;,\r\n            &quot;Authorization&quot;\r\n    };\r\n\r\nThe purpose is probably to not accidentally dump those headers, e.g. while logging the request.\r\n\r\n**Note!** This doesn&#39;t mean they do not get set, just that they aren&#39;t being returned when you query for them. To test the actual values, one idea could be to use something like WireMock (or any custom server) to inspect what is actually sent.","title":"Bearer token using HttpURLConnection (Java 8)","body":"<p>There is a constant String array in HttpURLConnection that is called <code>EXCLUDE_HEADERS</code> and has the following comment:</p>\n<pre><code>// the following http request headers should NOT have their values\n// returned for security reasons.\nprivate static final String[] EXCLUDE_HEADERS = {\n        &quot;Proxy-Authorization&quot;,\n        &quot;Authorization&quot;\n};\n</code></pre>\n<p>The purpose is probably to not accidentally dump those headers, e.g. while logging the request.</p>\n<p><strong>Note!</strong> This doesn't mean they do not get set, just that they aren't being returned when you query for them. To test the actual values, one idea could be to use something like WireMock (or any custom server) to inspect what is actually sent.</p>\n"}],"owner":{"account_id":24194397,"reputation":13,"user_id":18153188,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71039798,"answer_count":1,"score":1,"last_activity_date":1644348846,"creation_date":1644335303,"question_id":71036783,"body_markdown":"Good afternoon, \r\n\r\nI&#39;m working on a project with 2 apps, the first one is a php app that provides me an API. \r\nThe second one is the app that I&#39;m working on (Java 8 base, no Spring) My question is : Can I use the Bearer token authorization using the HttpURLConnection object ? \r\n\r\nI&#39;m still trying to make this work but it seems to make the value of &quot;Authorization&quot; null. \r\n\r\n                //responseLogin is the token that the php app provides.\r\n                String token = &quot;Bearer &quot; + responseLogin.toString();\r\n                HttpURLConnection httpApi = (HttpURLConnection) apiUrl.openConnection();\r\n                httpApi = (HttpURLConnection) apiUrl.openConnection();\r\n                httpApi.setRequestMethod(&quot;GET&quot;);\r\n                httpApi.setDoOutput(true);\r\n                httpApi.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                httpApi.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n                httpApi.setRequestProperty(&quot;Authorization&quot;, token);\r\n                httpApi.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                httpApi.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip, deflate, br&quot;);\r\n                LOG.info(&quot;Token : &quot; + httpApi.getRequestProperty(&quot;Authorization&quot;));\r\n                LOG.info(&quot;Accept : &quot; + httpApi.getRequestProperty(&quot;Accept&quot;));\r\n\r\nhttpApi.getRequestProperty(&quot;Authorization&quot;)); this part gets me a null response, I have no idea why.\r\n\r\nI Hope anyone can help me with that, feel free to ask me if you need more information about my code.\r\n\r\nThanks :)  ","title":"Bearer token using HttpURLConnection (Java 8)","body":"<p>Good afternoon,</p>\n<p>I'm working on a project with 2 apps, the first one is a php app that provides me an API.\nThe second one is the app that I'm working on (Java 8 base, no Spring) My question is : Can I use the Bearer token authorization using the HttpURLConnection object ?</p>\n<p>I'm still trying to make this work but it seems to make the value of &quot;Authorization&quot; null.</p>\n<pre><code>            //responseLogin is the token that the php app provides.\n            String token = &quot;Bearer &quot; + responseLogin.toString();\n            HttpURLConnection httpApi = (HttpURLConnection) apiUrl.openConnection();\n            httpApi = (HttpURLConnection) apiUrl.openConnection();\n            httpApi.setRequestMethod(&quot;GET&quot;);\n            httpApi.setDoOutput(true);\n            httpApi.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            httpApi.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n            httpApi.setRequestProperty(&quot;Authorization&quot;, token);\n            httpApi.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            httpApi.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip, deflate, br&quot;);\n            LOG.info(&quot;Token : &quot; + httpApi.getRequestProperty(&quot;Authorization&quot;));\n            LOG.info(&quot;Accept : &quot; + httpApi.getRequestProperty(&quot;Accept&quot;));\n</code></pre>\n<p>httpApi.getRequestProperty(&quot;Authorization&quot;)); this part gets me a null response, I have no idea why.</p>\n<p>I Hope anyone can help me with that, feel free to ask me if you need more information about my code.</p>\n<p>Thanks :)</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":2496876,"reputation":249,"user_id":2173056,"display_name":"simon5678"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644347594,"creation_date":1644347594,"answer_id":71039609,"question_id":71039347,"body_markdown":"It seems like every item has right padding. \r\n\r\nYou should use ```addItemDecoration``` on your RecyclerView instead. \r\n\r\nOr use this: https://github.com/grzegorzojdana/SpacingItemDecoration ","title":"recyclerView layout grid items not aligning properly","body":"<p>It seems like every item has right padding.</p>\n<p>You should use <code>addItemDecoration</code> on your RecyclerView instead.</p>\n<p>Or use this: <a href=\"https://github.com/grzegorzojdana/SpacingItemDecoration\" rel=\"nofollow noreferrer\">https://github.com/grzegorzojdana/SpacingItemDecoration</a></p>\n"},{"tags":[],"owner":{"account_id":20013596,"reputation":1154,"user_id":14670123,"display_name":"Thanasis M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644348772,"creation_date":1644348772,"answer_id":71039853,"question_id":71039347,"body_markdown":"You need to create a custom item decoration by extending `RecyclerView.ItemDecoration`. You can do something like this:\r\n\r\n    import android.graphics.Rect;\r\n    import android.view.View;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    public class GridSpacingItemDecoration extends RecyclerView.ItemDecoration {\r\n\r\n    private final int numberOfColumns;\r\n    private final int spacing;\r\n    private final boolean addSpacingToPerimeter;\r\n\r\n    public GridSpacingItemDecoration(int numberOfColumns, int spacing, boolean addSpacingToPerimeter) {\r\n        this.numberOfColumns = numberOfColumns;\r\n        this.spacing = spacing;\r\n        this.addSpacingToPerimeter = addSpacingToPerimeter;\r\n    }\r\n\r\n    @Override\r\n    public void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent, @NonNull RecyclerView.State state) {\r\n        int position = parent.getChildAdapterPosition(view); // item position\r\n        int column = position % numberOfColumns; // item column\r\n\r\n        if (addSpacingToPerimeter) {\r\n            outRect.left = spacing - column * spacing / numberOfColumns;\r\n            outRect.right = (column + 1) * spacing / numberOfColumns; \r\n\r\n            if (position &lt; numberOfColumns) { // top edge\r\n                outRect.top = spacing;\r\n            }\r\n            outRect.bottom = spacing; // item bottom\r\n        } else {\r\n            outRect.left = column * spacing / numberOfColumns;\r\n            outRect.right = spacing - (column + 1) * spacing / numberOfColumns;\r\n            if (position &gt;= numberOfColumns) {\r\n                outRect.top = spacing; // item top\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nand then use it like this\r\n\r\n    int numberOfColumns = 3; // 3 columns\r\n    int spacing = 50; // 50px\r\n    boolean addSpacingToPerimeter = false;\r\n    recyclerView.addItemDecoration(new GridSpacingItemDecoration(numberOfColumns, spacing, addSpacingToPerimeter))\r\n\r\n\r\nThe `GridSpacingItemDecoration` class takes as a parameter the number of columns, the spacing in pixel and a boolean value that specifies whether you want spacing to be added to the list&#39;s perimeter as well. This boolean if set to true will add the given spacing as a margin not only between the grid adapter&#39;s items, but also between the items and the whole recyclerView.\r\n\r\nKeep in mind that spacing is in pixels. So if you want to use dp instead, you can convert dp to px using \r\n\r\n    Math.round(dpValue * getResources().getDisplayMetrics().density)) ","title":"recyclerView layout grid items not aligning properly","body":"<p>You need to create a custom item decoration by extending <code>RecyclerView.ItemDecoration</code>. You can do something like this:</p>\n<pre><code>import android.graphics.Rect;\nimport android.view.View;\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class GridSpacingItemDecoration extends RecyclerView.ItemDecoration {\n\nprivate final int numberOfColumns;\nprivate final int spacing;\nprivate final boolean addSpacingToPerimeter;\n\npublic GridSpacingItemDecoration(int numberOfColumns, int spacing, boolean addSpacingToPerimeter) {\n    this.numberOfColumns = numberOfColumns;\n    this.spacing = spacing;\n    this.addSpacingToPerimeter = addSpacingToPerimeter;\n}\n\n@Override\npublic void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent, @NonNull RecyclerView.State state) {\n    int position = parent.getChildAdapterPosition(view); // item position\n    int column = position % numberOfColumns; // item column\n\n    if (addSpacingToPerimeter) {\n        outRect.left = spacing - column * spacing / numberOfColumns;\n        outRect.right = (column + 1) * spacing / numberOfColumns; \n\n        if (position &lt; numberOfColumns) { // top edge\n            outRect.top = spacing;\n        }\n        outRect.bottom = spacing; // item bottom\n    } else {\n        outRect.left = column * spacing / numberOfColumns;\n        outRect.right = spacing - (column + 1) * spacing / numberOfColumns;\n        if (position &gt;= numberOfColumns) {\n            outRect.top = spacing; // item top\n        }\n    }\n}\n}\n</code></pre>\n<p>and then use it like this</p>\n<pre><code>int numberOfColumns = 3; // 3 columns\nint spacing = 50; // 50px\nboolean addSpacingToPerimeter = false;\nrecyclerView.addItemDecoration(new GridSpacingItemDecoration(numberOfColumns, spacing, addSpacingToPerimeter))\n</code></pre>\n<p>The <code>GridSpacingItemDecoration</code> class takes as a parameter the number of columns, the spacing in pixel and a boolean value that specifies whether you want spacing to be added to the list's perimeter as well. This boolean if set to true will add the given spacing as a margin not only between the grid adapter's items, but also between the items and the whole recyclerView.</p>\n<p>Keep in mind that spacing is in pixels. So if you want to use dp instead, you can convert dp to px using</p>\n<pre><code>Math.round(dpValue * getResources().getDisplayMetrics().density)) \n</code></pre>\n"}],"owner":{"account_id":23090493,"reputation":198,"user_id":17201436,"display_name":"Ishan Jindal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71039853,"answer_count":2,"score":1,"last_activity_date":1644348772,"creation_date":1644346366,"question_id":71039347,"body_markdown":"i don&#39;t know much about java, just started, so i will have difficulties understanding the answers. emli5.\r\n\r\nscreenshot:\r\n\r\n[![screenshot][1]][1]\r\n\r\nexpected output:\r\n\r\n[![expected output][2]][2]\r\n\r\nin the recyclerview (right), these items are not aligning up like i want them to.\r\n\r\nI want that each cell has a fixed size, and maximum number of columns possible in the grid.\r\nspacing b/w each cell (both vertical and horizontal) is equal to (left space) divided by (number of columns minus one).   [with no extra space left at start, top, bottom or end]\r\n\r\n\r\nhere is the code:\r\n\r\n```java\r\npackage com.MyStickersWA.DogeStickers;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.text.format.Formatter;\r\nimport android.view.View;\r\nimport android.view.ViewTreeObserver;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.facebook.drawee.view.SimpleDraweeView;\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.google.android.gms.ads.MobileAds;\r\n\r\n\r\nimport java.lang.ref.WeakReference;\r\nimport java.util.ArrayList;\r\n\r\n@SuppressWarnings(&quot;ALL&quot;)\r\npublic class StickerPackDetailsActivity extends AddStickerPackActivity {\r\n\r\n    /**\r\n     * Do not change below values of below 3 lines as this is also used by WhatsApp\r\n     */\r\n    public static final String EXTRA_STICKER_PACK_ID = &quot;sticker_pack_id&quot;;\r\n    public static final String EXTRA_STICKER_PACK_AUTHORITY = &quot;sticker_pack_authority&quot;;\r\n    public static final String EXTRA_STICKER_PACK_NAME = &quot;sticker_pack_name&quot;;\r\n\r\n    public static final String EXTRA_STICKER_PACK_WEBSITE = &quot;sticker_pack_website&quot;;\r\n    public static final String EXTRA_STICKER_PACK_EMAIL = &quot;sticker_pack_email&quot;;\r\n    public static final String EXTRA_STICKER_PACK_PRIVACY_POLICY = &quot;sticker_pack_privacy_policy&quot;;\r\n    public static final String EXTRA_STICKER_PACK_LICENSE_AGREEMENT = &quot;sticker_pack_license_agreement&quot;;\r\n    public static final String EXTRA_STICKER_PACK_TRAY_ICON = &quot;sticker_pack_tray_icon&quot;;\r\n    public static final String EXTRA_SHOW_UP_BUTTON = &quot;show_up_button&quot;;\r\n    public static final String EXTRA_STICKER_PACK_DATA = &quot;sticker_pack&quot;;\r\n\r\n    private RecyclerView recyclerView;\r\n    private GridLayoutManager layoutManager;\r\n    private StickerPreviewAdapter stickerPreviewAdapter;\r\n    private int numColumns;\r\n    private View addButton;\r\n    private View infoButton;\r\n    private View backButton;\r\n    private View alreadyAdded;\r\n    private StickerPack stickerPack;\r\n    private WhiteListCheckAsyncTask whiteListCheckAsyncTask;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sticker_pack_details);\r\n\r\n        AdView mAdView = findViewById(R.id.adView);\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        MobileAds.initialize(this, initializationStatus -&gt; { });\r\n\r\n        mAdView.loadAd(adRequest);\r\n\r\n\r\n        boolean showUpButton = getIntent().getBooleanExtra(EXTRA_SHOW_UP_BUTTON, false);\r\n        stickerPack = getIntent().getParcelableExtra(EXTRA_STICKER_PACK_DATA);\r\n        TextView packNameTextView = findViewById(R.id.pack_name);\r\n        TextView packPublisherTextView = findViewById(R.id.author);\r\n        ImageView packTrayIcon = findViewById(R.id.tray_image);\r\n        TextView packSizeTextView = findViewById(R.id.pack_size);\r\n        TextView stickersQtyTextView = findViewById(R.id.stickers_qty);\r\n        TextView stickersAnimatedView = findViewById(R.id.stickers_animated);\r\n        ImageView stickersAnimatedImage = findViewById(R.id.sticker_pack_animation_indicator);\r\n        SimpleDraweeView expandedStickerView = findViewById(R.id.sticker_details_expanded_sticker);\r\n\r\n        addButton = findViewById(R.id.add_to_whatsapp_button);\r\n        infoButton = findViewById(R.id.action_info);\r\n        backButton = findViewById(R.id.action_back);\r\n        alreadyAdded = findViewById(R.id.already_added_button);\r\n        layoutManager = new GridLayoutManager(this, 1);\r\n        recyclerView = findViewById(R.id.sticker_list);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.getViewTreeObserver().addOnGlobalLayoutListener(pageLayoutListener);\r\n\r\n        if (stickerPreviewAdapter == null) {\r\n            stickerPreviewAdapter = new StickerPreviewAdapter(getLayoutInflater(), R.drawable.sticker_error, getResources().getDimensionPixelSize(R.dimen.sticker_pack_details_image_size), getResources().getDimensionPixelSize(R.dimen.sticker_pack_details_image_padding), stickerPack, expandedStickerView);\r\n            recyclerView.setAdapter(stickerPreviewAdapter);\r\n        }\r\n        packNameTextView.setText(stickerPack.name);\r\n        packPublisherTextView.setText(stickerPack.publisher);\r\n        packTrayIcon.setImageURI(StickerPackLoader.getStickerAssetUri(stickerPack.identifier, stickerPack.trayImageFile));\r\n        packSizeTextView.setText(Formatter.formatShortFileSize(this, stickerPack.getTotalSize()));\r\n        stickersQtyTextView.setText(stickerPack.getTotalQty() + &quot;&quot;);\r\n        addButton.setOnClickListener(v -&gt; addStickerPackToWhatsApp(stickerPack.identifier, stickerPack.name));\r\n        infoButton.setOnClickListener(v -&gt; onOptionsItemSelected());\r\n        backButton.setOnClickListener(v -&gt; finish());\r\n\r\n        if (stickerPack.animatedStickerPack) {\r\n            Uri animatedIcon = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot;+R.drawable.animated_indicator_vector);\r\n            stickersAnimatedImage.setImageURI(animatedIcon);\r\n            stickersAnimatedView.setText(&quot;Animated&quot;);\r\n        } else {\r\n            Uri animatedIcon = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot;+R.drawable.static_indicator_vector);\r\n            stickersAnimatedImage.setImageURI(animatedIcon);\r\n            stickersAnimatedView.setText(&quot;Static&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    private void launchInfoActivity(String publisherWebsite, String publisherEmail, String privacyPolicyWebsite, String licenseAgreementWebsite, String trayIconUriString) {\r\n        Intent intent = new Intent(StickerPackDetailsActivity.this, StickerPackInfoActivity.class);\r\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_ID, stickerPack.identifier);\r\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_WEBSITE, publisherWebsite);\r\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_EMAIL, publisherEmail);\r\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_PRIVACY_POLICY, privacyPolicyWebsite);\r\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_LICENSE_AGREEMENT, licenseAgreementWebsite);\r\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_TRAY_ICON, trayIconUriString);\r\n        startActivity(intent);\r\n    }\r\n\r\n\r\n    public boolean onOptionsItemSelected() {\r\n        if (stickerPack != null) {\r\n            Uri trayIconUri = StickerPackLoader.getStickerAssetUri(stickerPack.identifier, stickerPack.trayImageFile);\r\n            launchInfoActivity(stickerPack.publisherWebsite, stickerPack.publisherEmail, stickerPack.privacyPolicyWebsite, stickerPack.licenseAgreementWebsite, trayIconUri.toString());\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    private final ViewTreeObserver.OnGlobalLayoutListener pageLayoutListener = new ViewTreeObserver.OnGlobalLayoutListener() {\r\n        @Override\r\n        public void onGlobalLayout() {\r\n\r\n            int imgSize = recyclerView.getContext().getResources().getDimensionPixelSize(R.dimen.sticker_pack_details_image_size);\r\n            int recyclerViewWidth = recyclerView.getWidth();\r\n\r\n            int numColumns = recyclerViewWidth / imgSize;\r\n            int colSpacing = (recyclerViewWidth - (numColumns * imgSize)) / (numColumns - 1);\r\n//            int colSpacing = recyclerView.getWidth() - imgSize * numColumns;\r\n\r\n            setNumColumns(numColumns, colSpacing);\r\n        }\r\n    };\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    private void setNumColumns(int numColumns, int colSpacing) {\r\n        if (this.numColumns != numColumns) {\r\n\r\n//            recyclerView.addItemDecoration(new GridSpacingItemDecoration(4, 2, 2));\r\n            layoutManager.setSpanCount(numColumns);\r\n            recyclerView.setLayoutManager(layoutManager);\r\n\r\n            this.numColumns = numColumns;\r\n            if (stickerPreviewAdapter != null) {\r\n                stickerPreviewAdapter.notifyDataSetChanged();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        whiteListCheckAsyncTask = new WhiteListCheckAsyncTask(this);\r\n        whiteListCheckAsyncTask.execute(stickerPack);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        if (whiteListCheckAsyncTask != null &amp;&amp; !whiteListCheckAsyncTask.isCancelled()) {\r\n            whiteListCheckAsyncTask.cancel(true);\r\n        }\r\n    }\r\n\r\n    private void updateAddUI(Boolean isWhitelisted) {\r\n        if (isWhitelisted) {\r\n            addButton.setVisibility(View.GONE);\r\n            alreadyAdded.setVisibility(View.VISIBLE);\r\n        } else {\r\n            addButton.setVisibility(View.VISIBLE);\r\n            alreadyAdded.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    static class WhiteListCheckAsyncTask extends AsyncTask&lt;StickerPack, Void, Boolean&gt; {\r\n        private final WeakReference&lt;StickerPackDetailsActivity&gt; stickerPackDetailsActivityWeakReference;\r\n\r\n        WhiteListCheckAsyncTask(StickerPackDetailsActivity stickerPackListActivity) {\r\n            this.stickerPackDetailsActivityWeakReference = new WeakReference&lt;&gt;(stickerPackListActivity);\r\n        }\r\n\r\n        @Override\r\n        protected final Boolean doInBackground(StickerPack... stickerPacks) {\r\n            StickerPack stickerPack = stickerPacks[0];\r\n            final StickerPackDetailsActivity stickerPackDetailsActivity = stickerPackDetailsActivityWeakReference.get();\r\n            if (stickerPackDetailsActivity == null) {\r\n                return false;\r\n            }\r\n            return WhitelistCheck.isWhitelisted(stickerPackDetailsActivity, stickerPack.identifier);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Boolean isWhitelisted) {\r\n            final StickerPackDetailsActivity stickerPackDetailsActivity = stickerPackDetailsActivityWeakReference.get();\r\n            if (stickerPackDetailsActivity != null) {\r\n                stickerPackDetailsActivity.updateAddUI(isWhitelisted);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n``` java\r\n/*\r\n * Copyright (c) WhatsApp Inc. and its affiliates.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n\r\npackage com.MyStickersWA.DogeStickers;\r\n\r\nimport android.net.Uri;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.facebook.drawee.backends.pipeline.Fresco;\r\nimport com.facebook.drawee.interfaces.DraweeController;\r\nimport com.facebook.drawee.view.SimpleDraweeView;\r\n\r\npublic class StickerPreviewAdapter extends RecyclerView.Adapter&lt;StickerPreviewViewHolder&gt; {\r\n\r\n    private static final float COLLAPSED_STICKER_PREVIEW_BACKGROUND_ALPHA = 1f;\r\n    private static final float EXPANDED_STICKER_PREVIEW_BACKGROUND_ALPHA = 0.2f;\r\n\r\n    @NonNull\r\n    private final StickerPack stickerPack;\r\n\r\n    private final int cellSize;\r\n    private final int cellLimit;\r\n    private final int cellPadding;\r\n    private final int errorResource;\r\n    private final SimpleDraweeView expandedStickerPreview;\r\n\r\n    private final LayoutInflater layoutInflater;\r\n    private RecyclerView recyclerView;\r\n    private View clickedStickerPreview;\r\n    float expandedViewLeftX;\r\n    float expandedViewTopY;\r\n\r\n    StickerPreviewAdapter(\r\n            @NonNull final LayoutInflater layoutInflater,\r\n            final int errorResource,\r\n            final int cellSize,\r\n            final int cellPadding,\r\n            @NonNull final StickerPack stickerPack,\r\n            final SimpleDraweeView expandedStickerView) {\r\n        this.cellSize = cellSize;\r\n        this.cellPadding = cellPadding;\r\n        this.cellLimit = 0;\r\n        this.layoutInflater = layoutInflater;\r\n        this.errorResource = errorResource;\r\n        this.stickerPack = stickerPack;\r\n        this.expandedStickerPreview = expandedStickerView;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public StickerPreviewViewHolder onCreateViewHolder(@NonNull final ViewGroup viewGroup, final int i) {\r\n        View itemView = layoutInflater.inflate(R.layout.sticker_image_item, viewGroup, false);\r\n        StickerPreviewViewHolder vh = new StickerPreviewViewHolder(itemView);\r\n\r\n        ViewGroup.LayoutParams layoutParams = vh.stickerPreviewView.getLayoutParams();\r\n        layoutParams.height = cellSize;\r\n        layoutParams.width = cellSize;\r\n        vh.stickerPreviewView.setLayoutParams(layoutParams);\r\n        vh.stickerPreviewView.setPadding(cellPadding, cellPadding, cellPadding, cellPadding);\r\n\r\n        return vh;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final StickerPreviewViewHolder stickerPreviewViewHolder, final int i) {\r\n        stickerPreviewViewHolder.stickerPreviewView.setImageResource(errorResource);\r\n        stickerPreviewViewHolder.stickerPreviewView.setImageURI(StickerPackLoader.getStickerAssetUri(stickerPack.identifier, stickerPack.getStickers().get(i).imageFileName));\r\n        stickerPreviewViewHolder.stickerPreviewView.setOnClickListener(v -&gt; expandPreview(i, stickerPreviewViewHolder.stickerPreviewView));\r\n    }\r\n\r\n    @Override\r\n    public void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\r\n        super.onAttachedToRecyclerView(recyclerView);\r\n        this.recyclerView = recyclerView;\r\n        recyclerView.addOnScrollListener(hideExpandedViewScrollListener);\r\n    }\r\n\r\n    @Override\r\n    public void onDetachedFromRecyclerView(@NonNull RecyclerView recyclerView) {\r\n        super.onDetachedFromRecyclerView(recyclerView);\r\n        recyclerView.removeOnScrollListener(hideExpandedViewScrollListener);\r\n        this.recyclerView = null;\r\n    }\r\n\r\n    private final RecyclerView.OnScrollListener hideExpandedViewScrollListener =\r\n            new RecyclerView.OnScrollListener() {\r\n                @Override\r\n                public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                    super.onScrolled(recyclerView, dx, dy);\r\n                    if (dx != 0 || dy != 0) {\r\n                        hideExpandedStickerPreview();\r\n                    }\r\n                }\r\n            };\r\n\r\n    private void positionExpandedStickerPreview(int selectedPosition) {\r\n        if (expandedStickerPreview != null) {\r\n            // Calculate the view&#39;s center (x, y), then use expandedStickerPreview&#39;s height and\r\n            // width to\r\n            // figure out what where to position it.\r\n            final ViewGroup.MarginLayoutParams recyclerViewLayoutParams =\r\n                    ((ViewGroup.MarginLayoutParams) recyclerView.getLayoutParams());\r\n            final int recyclerViewLeftMargin = recyclerViewLayoutParams.leftMargin;\r\n            final int recyclerViewRightMargin = recyclerViewLayoutParams.rightMargin;\r\n            final int recyclerViewWidth = recyclerView.getWidth();\r\n            final int recyclerViewHeight = recyclerView.getHeight();\r\n\r\n            final StickerPreviewViewHolder clickedViewHolder =\r\n                    (StickerPreviewViewHolder)\r\n                            recyclerView.findViewHolderForAdapterPosition(selectedPosition);\r\n            if (clickedViewHolder == null) {\r\n                hideExpandedStickerPreview();\r\n                return;\r\n            }\r\n            clickedStickerPreview = clickedViewHolder.itemView;\r\n            final float clickedViewCenterX =\r\n                    clickedStickerPreview.getX()\r\n                            + recyclerViewLeftMargin\r\n                            + clickedStickerPreview.getWidth() / 2f;\r\n            final float clickedViewCenterY =\r\n                    clickedStickerPreview.getY() + clickedStickerPreview.getHeight() / 2f;\r\n\r\n            expandedViewLeftX = clickedViewCenterX - expandedStickerPreview.getWidth() / 2f;\r\n            expandedViewTopY = clickedViewCenterY - expandedStickerPreview.getHeight() / 2f;\r\n\r\n            // If the new x or y positions are negative, anchor them to 0 to avoid clipping\r\n            // the left side of the device and the top of the recycler view.\r\n            expandedViewLeftX = Math.max(expandedViewLeftX, 0);\r\n            expandedViewTopY = Math.max(expandedViewTopY, 0);\r\n\r\n            // If the bottom or right sides are clipped, we need to move the top left positions\r\n            // so that those sides are no longer clipped.\r\n            final float adjustmentX =\r\n                    Math.max(\r\n                            expandedViewLeftX\r\n                                    + expandedStickerPreview.getWidth()\r\n                                    - recyclerViewWidth\r\n                                    - recyclerViewRightMargin,\r\n                            0);\r\n            final float adjustmentY =\r\n                    Math.max(expandedViewTopY + expandedStickerPreview.getHeight() - recyclerViewHeight, 0);\r\n\r\n            expandedViewLeftX -= adjustmentX;\r\n            expandedViewTopY -= adjustmentY;\r\n\r\n\r\n            expandedStickerPreview.setX(expandedViewLeftX);\r\n            expandedStickerPreview.setY(expandedViewTopY);\r\n        }\r\n    }\r\n\r\n    private void expandPreview(int position, View clickedStickerPreview) {\r\n        if (isStickerPreviewExpanded()) {\r\n            hideExpandedStickerPreview();\r\n            return;\r\n        }\r\n\r\n        this.clickedStickerPreview = clickedStickerPreview;\r\n        if (expandedStickerPreview != null) {\r\n            positionExpandedStickerPreview(position);\r\n\r\n            final Uri stickerAssetUri = StickerPackLoader.getStickerAssetUri(stickerPack.identifier, stickerPack.getStickers().get(position).imageFileName);\r\n            DraweeController controller = Fresco.newDraweeControllerBuilder()\r\n                    .setUri(stickerAssetUri)\r\n                    .setAutoPlayAnimations(true)\r\n                    .build();\r\n            expandedStickerPreview.setImageResource(errorResource);\r\n            expandedStickerPreview.setController(controller);\r\n\r\n            expandedStickerPreview.setVisibility(View.VISIBLE);\r\n            recyclerView.setAlpha(EXPANDED_STICKER_PREVIEW_BACKGROUND_ALPHA);\r\n\r\n            expandedStickerPreview.setOnClickListener(v -&gt; hideExpandedStickerPreview());\r\n        }\r\n    }\r\n\r\n    public void hideExpandedStickerPreview() {\r\n        if (isStickerPreviewExpanded() &amp;&amp; expandedStickerPreview != null) {\r\n            clickedStickerPreview.setVisibility(View.VISIBLE);\r\n            expandedStickerPreview.setVisibility(View.INVISIBLE);\r\n            recyclerView.setAlpha(COLLAPSED_STICKER_PREVIEW_BACKGROUND_ALPHA);\r\n        }\r\n    }\r\n\r\n    private boolean isStickerPreviewExpanded() {\r\n        return expandedStickerPreview != null &amp;&amp; expandedStickerPreview.getVisibility() == View.VISIBLE;\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        int numberOfPreviewImagesInPack;\r\n        numberOfPreviewImagesInPack = stickerPack.getStickers().size();\r\n        if (cellLimit &gt; 0) {\r\n            return Math.min(numberOfPreviewImagesInPack, cellLimit);\r\n        }\r\n        return numberOfPreviewImagesInPack;\r\n    }\r\n}\r\n```\r\n\r\nthanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gShhl.jpg\r\n  [2]: https://i.stack.imgur.com/ihi3t.png","title":"recyclerView layout grid items not aligning properly","body":"<p>i don't know much about java, just started, so i will have difficulties understanding the answers. emli5.</p>\n<p>screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/gShhl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gShhl.jpg\" alt=\"screenshot\" /></a></p>\n<p>expected output:</p>\n<p><a href=\"https://i.stack.imgur.com/ihi3t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ihi3t.png\" alt=\"expected output\" /></a></p>\n<p>in the recyclerview (right), these items are not aligning up like i want them to.</p>\n<p>I want that each cell has a fixed size, and maximum number of columns possible in the grid.\nspacing b/w each cell (both vertical and horizontal) is equal to (left space) divided by (number of columns minus one).   [with no extra space left at start, top, bottom or end]</p>\n<p>here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.MyStickersWA.DogeStickers;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.text.format.Formatter;\nimport android.view.View;\nimport android.view.ViewTreeObserver;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.facebook.drawee.view.SimpleDraweeView;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.MobileAds;\n\n\nimport java.lang.ref.WeakReference;\nimport java.util.ArrayList;\n\n@SuppressWarnings(&quot;ALL&quot;)\npublic class StickerPackDetailsActivity extends AddStickerPackActivity {\n\n    /**\n     * Do not change below values of below 3 lines as this is also used by WhatsApp\n     */\n    public static final String EXTRA_STICKER_PACK_ID = &quot;sticker_pack_id&quot;;\n    public static final String EXTRA_STICKER_PACK_AUTHORITY = &quot;sticker_pack_authority&quot;;\n    public static final String EXTRA_STICKER_PACK_NAME = &quot;sticker_pack_name&quot;;\n\n    public static final String EXTRA_STICKER_PACK_WEBSITE = &quot;sticker_pack_website&quot;;\n    public static final String EXTRA_STICKER_PACK_EMAIL = &quot;sticker_pack_email&quot;;\n    public static final String EXTRA_STICKER_PACK_PRIVACY_POLICY = &quot;sticker_pack_privacy_policy&quot;;\n    public static final String EXTRA_STICKER_PACK_LICENSE_AGREEMENT = &quot;sticker_pack_license_agreement&quot;;\n    public static final String EXTRA_STICKER_PACK_TRAY_ICON = &quot;sticker_pack_tray_icon&quot;;\n    public static final String EXTRA_SHOW_UP_BUTTON = &quot;show_up_button&quot;;\n    public static final String EXTRA_STICKER_PACK_DATA = &quot;sticker_pack&quot;;\n\n    private RecyclerView recyclerView;\n    private GridLayoutManager layoutManager;\n    private StickerPreviewAdapter stickerPreviewAdapter;\n    private int numColumns;\n    private View addButton;\n    private View infoButton;\n    private View backButton;\n    private View alreadyAdded;\n    private StickerPack stickerPack;\n    private WhiteListCheckAsyncTask whiteListCheckAsyncTask;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sticker_pack_details);\n\n        AdView mAdView = findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder().build();\n        MobileAds.initialize(this, initializationStatus -&gt; { });\n\n        mAdView.loadAd(adRequest);\n\n\n        boolean showUpButton = getIntent().getBooleanExtra(EXTRA_SHOW_UP_BUTTON, false);\n        stickerPack = getIntent().getParcelableExtra(EXTRA_STICKER_PACK_DATA);\n        TextView packNameTextView = findViewById(R.id.pack_name);\n        TextView packPublisherTextView = findViewById(R.id.author);\n        ImageView packTrayIcon = findViewById(R.id.tray_image);\n        TextView packSizeTextView = findViewById(R.id.pack_size);\n        TextView stickersQtyTextView = findViewById(R.id.stickers_qty);\n        TextView stickersAnimatedView = findViewById(R.id.stickers_animated);\n        ImageView stickersAnimatedImage = findViewById(R.id.sticker_pack_animation_indicator);\n        SimpleDraweeView expandedStickerView = findViewById(R.id.sticker_details_expanded_sticker);\n\n        addButton = findViewById(R.id.add_to_whatsapp_button);\n        infoButton = findViewById(R.id.action_info);\n        backButton = findViewById(R.id.action_back);\n        alreadyAdded = findViewById(R.id.already_added_button);\n        layoutManager = new GridLayoutManager(this, 1);\n        recyclerView = findViewById(R.id.sticker_list);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.getViewTreeObserver().addOnGlobalLayoutListener(pageLayoutListener);\n\n        if (stickerPreviewAdapter == null) {\n            stickerPreviewAdapter = new StickerPreviewAdapter(getLayoutInflater(), R.drawable.sticker_error, getResources().getDimensionPixelSize(R.dimen.sticker_pack_details_image_size), getResources().getDimensionPixelSize(R.dimen.sticker_pack_details_image_padding), stickerPack, expandedStickerView);\n            recyclerView.setAdapter(stickerPreviewAdapter);\n        }\n        packNameTextView.setText(stickerPack.name);\n        packPublisherTextView.setText(stickerPack.publisher);\n        packTrayIcon.setImageURI(StickerPackLoader.getStickerAssetUri(stickerPack.identifier, stickerPack.trayImageFile));\n        packSizeTextView.setText(Formatter.formatShortFileSize(this, stickerPack.getTotalSize()));\n        stickersQtyTextView.setText(stickerPack.getTotalQty() + &quot;&quot;);\n        addButton.setOnClickListener(v -&gt; addStickerPackToWhatsApp(stickerPack.identifier, stickerPack.name));\n        infoButton.setOnClickListener(v -&gt; onOptionsItemSelected());\n        backButton.setOnClickListener(v -&gt; finish());\n\n        if (stickerPack.animatedStickerPack) {\n            Uri animatedIcon = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot;+R.drawable.animated_indicator_vector);\n            stickersAnimatedImage.setImageURI(animatedIcon);\n            stickersAnimatedView.setText(&quot;Animated&quot;);\n        } else {\n            Uri animatedIcon = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot;+R.drawable.static_indicator_vector);\n            stickersAnimatedImage.setImageURI(animatedIcon);\n            stickersAnimatedView.setText(&quot;Static&quot;);\n        }\n    }\n\n\n    private void launchInfoActivity(String publisherWebsite, String publisherEmail, String privacyPolicyWebsite, String licenseAgreementWebsite, String trayIconUriString) {\n        Intent intent = new Intent(StickerPackDetailsActivity.this, StickerPackInfoActivity.class);\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_ID, stickerPack.identifier);\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_WEBSITE, publisherWebsite);\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_EMAIL, publisherEmail);\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_PRIVACY_POLICY, privacyPolicyWebsite);\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_LICENSE_AGREEMENT, licenseAgreementWebsite);\n        intent.putExtra(StickerPackDetailsActivity.EXTRA_STICKER_PACK_TRAY_ICON, trayIconUriString);\n        startActivity(intent);\n    }\n\n\n    public boolean onOptionsItemSelected() {\n        if (stickerPack != null) {\n            Uri trayIconUri = StickerPackLoader.getStickerAssetUri(stickerPack.identifier, stickerPack.trayImageFile);\n            launchInfoActivity(stickerPack.publisherWebsite, stickerPack.publisherEmail, stickerPack.privacyPolicyWebsite, stickerPack.licenseAgreementWebsite, trayIconUri.toString());\n            return true;\n        }\n        return false;\n    }\n\n\n    private final ViewTreeObserver.OnGlobalLayoutListener pageLayoutListener = new ViewTreeObserver.OnGlobalLayoutListener() {\n        @Override\n        public void onGlobalLayout() {\n\n            int imgSize = recyclerView.getContext().getResources().getDimensionPixelSize(R.dimen.sticker_pack_details_image_size);\n            int recyclerViewWidth = recyclerView.getWidth();\n\n            int numColumns = recyclerViewWidth / imgSize;\n            int colSpacing = (recyclerViewWidth - (numColumns * imgSize)) / (numColumns - 1);\n//            int colSpacing = recyclerView.getWidth() - imgSize * numColumns;\n\n            setNumColumns(numColumns, colSpacing);\n        }\n    };\n\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    private void setNumColumns(int numColumns, int colSpacing) {\n        if (this.numColumns != numColumns) {\n\n//            recyclerView.addItemDecoration(new GridSpacingItemDecoration(4, 2, 2));\n            layoutManager.setSpanCount(numColumns);\n            recyclerView.setLayoutManager(layoutManager);\n\n            this.numColumns = numColumns;\n            if (stickerPreviewAdapter != null) {\n                stickerPreviewAdapter.notifyDataSetChanged();\n            }\n        }\n    }\n\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        whiteListCheckAsyncTask = new WhiteListCheckAsyncTask(this);\n        whiteListCheckAsyncTask.execute(stickerPack);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        if (whiteListCheckAsyncTask != null &amp;&amp; !whiteListCheckAsyncTask.isCancelled()) {\n            whiteListCheckAsyncTask.cancel(true);\n        }\n    }\n\n    private void updateAddUI(Boolean isWhitelisted) {\n        if (isWhitelisted) {\n            addButton.setVisibility(View.GONE);\n            alreadyAdded.setVisibility(View.VISIBLE);\n        } else {\n            addButton.setVisibility(View.VISIBLE);\n            alreadyAdded.setVisibility(View.GONE);\n        }\n    }\n\n    static class WhiteListCheckAsyncTask extends AsyncTask&lt;StickerPack, Void, Boolean&gt; {\n        private final WeakReference&lt;StickerPackDetailsActivity&gt; stickerPackDetailsActivityWeakReference;\n\n        WhiteListCheckAsyncTask(StickerPackDetailsActivity stickerPackListActivity) {\n            this.stickerPackDetailsActivityWeakReference = new WeakReference&lt;&gt;(stickerPackListActivity);\n        }\n\n        @Override\n        protected final Boolean doInBackground(StickerPack... stickerPacks) {\n            StickerPack stickerPack = stickerPacks[0];\n            final StickerPackDetailsActivity stickerPackDetailsActivity = stickerPackDetailsActivityWeakReference.get();\n            if (stickerPackDetailsActivity == null) {\n                return false;\n            }\n            return WhitelistCheck.isWhitelisted(stickerPackDetailsActivity, stickerPack.identifier);\n        }\n\n        @Override\n        protected void onPostExecute(Boolean isWhitelisted) {\n            final StickerPackDetailsActivity stickerPackDetailsActivity = stickerPackDetailsActivityWeakReference.get();\n            if (stickerPackDetailsActivity != null) {\n                stickerPackDetailsActivity.updateAddUI(isWhitelisted);\n            }\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Copyright (c) WhatsApp Inc. and its affiliates.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\npackage com.MyStickersWA.DogeStickers;\n\nimport android.net.Uri;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.facebook.drawee.backends.pipeline.Fresco;\nimport com.facebook.drawee.interfaces.DraweeController;\nimport com.facebook.drawee.view.SimpleDraweeView;\n\npublic class StickerPreviewAdapter extends RecyclerView.Adapter&lt;StickerPreviewViewHolder&gt; {\n\n    private static final float COLLAPSED_STICKER_PREVIEW_BACKGROUND_ALPHA = 1f;\n    private static final float EXPANDED_STICKER_PREVIEW_BACKGROUND_ALPHA = 0.2f;\n\n    @NonNull\n    private final StickerPack stickerPack;\n\n    private final int cellSize;\n    private final int cellLimit;\n    private final int cellPadding;\n    private final int errorResource;\n    private final SimpleDraweeView expandedStickerPreview;\n\n    private final LayoutInflater layoutInflater;\n    private RecyclerView recyclerView;\n    private View clickedStickerPreview;\n    float expandedViewLeftX;\n    float expandedViewTopY;\n\n    StickerPreviewAdapter(\n            @NonNull final LayoutInflater layoutInflater,\n            final int errorResource,\n            final int cellSize,\n            final int cellPadding,\n            @NonNull final StickerPack stickerPack,\n            final SimpleDraweeView expandedStickerView) {\n        this.cellSize = cellSize;\n        this.cellPadding = cellPadding;\n        this.cellLimit = 0;\n        this.layoutInflater = layoutInflater;\n        this.errorResource = errorResource;\n        this.stickerPack = stickerPack;\n        this.expandedStickerPreview = expandedStickerView;\n    }\n\n    @NonNull\n    @Override\n    public StickerPreviewViewHolder onCreateViewHolder(@NonNull final ViewGroup viewGroup, final int i) {\n        View itemView = layoutInflater.inflate(R.layout.sticker_image_item, viewGroup, false);\n        StickerPreviewViewHolder vh = new StickerPreviewViewHolder(itemView);\n\n        ViewGroup.LayoutParams layoutParams = vh.stickerPreviewView.getLayoutParams();\n        layoutParams.height = cellSize;\n        layoutParams.width = cellSize;\n        vh.stickerPreviewView.setLayoutParams(layoutParams);\n        vh.stickerPreviewView.setPadding(cellPadding, cellPadding, cellPadding, cellPadding);\n\n        return vh;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull final StickerPreviewViewHolder stickerPreviewViewHolder, final int i) {\n        stickerPreviewViewHolder.stickerPreviewView.setImageResource(errorResource);\n        stickerPreviewViewHolder.stickerPreviewView.setImageURI(StickerPackLoader.getStickerAssetUri(stickerPack.identifier, stickerPack.getStickers().get(i).imageFileName));\n        stickerPreviewViewHolder.stickerPreviewView.setOnClickListener(v -&gt; expandPreview(i, stickerPreviewViewHolder.stickerPreviewView));\n    }\n\n    @Override\n    public void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\n        super.onAttachedToRecyclerView(recyclerView);\n        this.recyclerView = recyclerView;\n        recyclerView.addOnScrollListener(hideExpandedViewScrollListener);\n    }\n\n    @Override\n    public void onDetachedFromRecyclerView(@NonNull RecyclerView recyclerView) {\n        super.onDetachedFromRecyclerView(recyclerView);\n        recyclerView.removeOnScrollListener(hideExpandedViewScrollListener);\n        this.recyclerView = null;\n    }\n\n    private final RecyclerView.OnScrollListener hideExpandedViewScrollListener =\n            new RecyclerView.OnScrollListener() {\n                @Override\n                public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n                    super.onScrolled(recyclerView, dx, dy);\n                    if (dx != 0 || dy != 0) {\n                        hideExpandedStickerPreview();\n                    }\n                }\n            };\n\n    private void positionExpandedStickerPreview(int selectedPosition) {\n        if (expandedStickerPreview != null) {\n            // Calculate the view's center (x, y), then use expandedStickerPreview's height and\n            // width to\n            // figure out what where to position it.\n            final ViewGroup.MarginLayoutParams recyclerViewLayoutParams =\n                    ((ViewGroup.MarginLayoutParams) recyclerView.getLayoutParams());\n            final int recyclerViewLeftMargin = recyclerViewLayoutParams.leftMargin;\n            final int recyclerViewRightMargin = recyclerViewLayoutParams.rightMargin;\n            final int recyclerViewWidth = recyclerView.getWidth();\n            final int recyclerViewHeight = recyclerView.getHeight();\n\n            final StickerPreviewViewHolder clickedViewHolder =\n                    (StickerPreviewViewHolder)\n                            recyclerView.findViewHolderForAdapterPosition(selectedPosition);\n            if (clickedViewHolder == null) {\n                hideExpandedStickerPreview();\n                return;\n            }\n            clickedStickerPreview = clickedViewHolder.itemView;\n            final float clickedViewCenterX =\n                    clickedStickerPreview.getX()\n                            + recyclerViewLeftMargin\n                            + clickedStickerPreview.getWidth() / 2f;\n            final float clickedViewCenterY =\n                    clickedStickerPreview.getY() + clickedStickerPreview.getHeight() / 2f;\n\n            expandedViewLeftX = clickedViewCenterX - expandedStickerPreview.getWidth() / 2f;\n            expandedViewTopY = clickedViewCenterY - expandedStickerPreview.getHeight() / 2f;\n\n            // If the new x or y positions are negative, anchor them to 0 to avoid clipping\n            // the left side of the device and the top of the recycler view.\n            expandedViewLeftX = Math.max(expandedViewLeftX, 0);\n            expandedViewTopY = Math.max(expandedViewTopY, 0);\n\n            // If the bottom or right sides are clipped, we need to move the top left positions\n            // so that those sides are no longer clipped.\n            final float adjustmentX =\n                    Math.max(\n                            expandedViewLeftX\n                                    + expandedStickerPreview.getWidth()\n                                    - recyclerViewWidth\n                                    - recyclerViewRightMargin,\n                            0);\n            final float adjustmentY =\n                    Math.max(expandedViewTopY + expandedStickerPreview.getHeight() - recyclerViewHeight, 0);\n\n            expandedViewLeftX -= adjustmentX;\n            expandedViewTopY -= adjustmentY;\n\n\n            expandedStickerPreview.setX(expandedViewLeftX);\n            expandedStickerPreview.setY(expandedViewTopY);\n        }\n    }\n\n    private void expandPreview(int position, View clickedStickerPreview) {\n        if (isStickerPreviewExpanded()) {\n            hideExpandedStickerPreview();\n            return;\n        }\n\n        this.clickedStickerPreview = clickedStickerPreview;\n        if (expandedStickerPreview != null) {\n            positionExpandedStickerPreview(position);\n\n            final Uri stickerAssetUri = StickerPackLoader.getStickerAssetUri(stickerPack.identifier, stickerPack.getStickers().get(position).imageFileName);\n            DraweeController controller = Fresco.newDraweeControllerBuilder()\n                    .setUri(stickerAssetUri)\n                    .setAutoPlayAnimations(true)\n                    .build();\n            expandedStickerPreview.setImageResource(errorResource);\n            expandedStickerPreview.setController(controller);\n\n            expandedStickerPreview.setVisibility(View.VISIBLE);\n            recyclerView.setAlpha(EXPANDED_STICKER_PREVIEW_BACKGROUND_ALPHA);\n\n            expandedStickerPreview.setOnClickListener(v -&gt; hideExpandedStickerPreview());\n        }\n    }\n\n    public void hideExpandedStickerPreview() {\n        if (isStickerPreviewExpanded() &amp;&amp; expandedStickerPreview != null) {\n            clickedStickerPreview.setVisibility(View.VISIBLE);\n            expandedStickerPreview.setVisibility(View.INVISIBLE);\n            recyclerView.setAlpha(COLLAPSED_STICKER_PREVIEW_BACKGROUND_ALPHA);\n        }\n    }\n\n    private boolean isStickerPreviewExpanded() {\n        return expandedStickerPreview != null &amp;&amp; expandedStickerPreview.getVisibility() == View.VISIBLE;\n    }\n\n    @Override\n    public int getItemCount() {\n        int numberOfPreviewImagesInPack;\n        numberOfPreviewImagesInPack = stickerPack.getStickers().size();\n        if (cellLimit &gt; 0) {\n            return Math.min(numberOfPreviewImagesInPack, cellLimit);\n        }\n        return numberOfPreviewImagesInPack;\n    }\n}\n</code></pre>\n<p>thanks in advance</p>\n"},{"tags":["java","eclipse","guava","minecraft"],"answers":[{"tags":[],"owner":{"account_id":20157184,"reputation":300,"user_id":16996584,"display_name":"The Justice King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644346603,"creation_date":1644346603,"answer_id":71039409,"question_id":71038978,"body_markdown":"I have found a solution. For anyone who wants to know, you must put the line &#39;requires com.google.common;&#39; into your module-info.java file. An error will appear saying you must add this to the project dependencies. Once you do this, then it should work.","title":"Eclipse &#39;com.google.common.collect.ForwardingMultimap cannot be resolved. Referenced in class files&#39; when using custom skull generator (Minecraft)","body":"<p>I have found a solution. For anyone who wants to know, you must put the line 'requires com.google.common;' into your module-info.java file. An error will appear saying you must add this to the project dependencies. Once you do this, then it should work.</p>\n"}],"owner":{"account_id":20157184,"reputation":300,"user_id":16996584,"display_name":"The Justice King"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644346603,"creation_date":1644344726,"question_id":71038978,"body_markdown":"I am using a SkullCreator class created by deanveloper ([GitHub Page](https://github.com/deanveloper/SkullCreator/blob/master/src/main/java/dev/dbassett/skullcreator/SkullCreator.java &quot;Link to Github Page&quot;)). When I added it to my project, the error appears on the first line on the first character of the package keyword. (Yes I made sure to change the package correctly). I did research and found I needed to add Google Guava as a dependency. I added it and made sure it contained the ForwardingMultimap class, but the error still persists. Am I missing something with adding the dependency?\r\n\r\nDependency code:\r\n```\r\n&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI am new to Maven and dependencies, so if I missed something that might be obvious please explain.\r\n\r\n","title":"Eclipse &#39;com.google.common.collect.ForwardingMultimap cannot be resolved. Referenced in class files&#39; when using custom skull generator (Minecraft)","body":"<p>I am using a SkullCreator class created by deanveloper (<a href=\"https://github.com/deanveloper/SkullCreator/blob/master/src/main/java/dev/dbassett/skullcreator/SkullCreator.java\" rel=\"nofollow noreferrer\" title=\"Link to Github Page\">GitHub Page</a>). When I added it to my project, the error appears on the first line on the first character of the package keyword. (Yes I made sure to change the package correctly). I did research and found I needed to add Google Guava as a dependency. I added it and made sure it contained the ForwardingMultimap class, but the error still persists. Am I missing something with adding the dependency?</p>\n<p>Dependency code:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;31.0.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am new to Maven and dependencies, so if I missed something that might be obvious please explain.</p>\n"},{"tags":["java","json","list","hibernate","jpa"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1644160947,"post_id":71007612,"comment_id":125526807,"body_markdown":"Can add your entity classes in question? Sounds as if there is a circular reference JSONOject can&#39;t deal with.","body":"Can add your entity classes in question? Sounds as if there is a circular reference JSONOject can&#39;t deal with."},{"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"score":0,"creation_date":1644323263,"post_id":71007612,"comment_id":125570990,"body_markdown":"@Chaosfire i updated my question with the entities&#39;s definitions , sorry for the late response.","body":"@Chaosfire i updated my question with the entities&#39;s definitions , sorry for the late response."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1644323578,"post_id":71007612,"comment_id":125571100,"body_markdown":"`recursivelyDefined`... Think for one second. `Ticket` refers to `Planification` and `Planification` refers back to `Ticket`. It&#39;s literally in the exception! -&gt; JavaBean object contains recursively defined member variable of key &quot;planification&quot;","body":"<code>recursivelyDefined</code>... Think for one second. <code>Ticket</code> refers to <code>Planification</code> and <code>Planification</code> refers back to <code>Ticket</code>. It&#39;s literally in the exception! -&gt; JavaBean object contains recursively defined member variable of key &quot;planification&quot;"},{"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"score":0,"creation_date":1644324179,"post_id":71007612,"comment_id":125571352,"body_markdown":"Looks like a good old @OneToOne relation to me, how would you map them together ? please elaborate ?","body":"Looks like a good old @OneToOne relation to me, how would you map them together ? please elaborate ?"}],"answers":[{"tags":[],"owner":{"account_id":13921899,"reputation":86,"user_id":10052086,"display_name":"Vivek Gajbhiye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644324358,"creation_date":1644324358,"answer_id":71034165,"question_id":71007612,"body_markdown":"You can go with Map.\r\n\r\n    Map&lt;String,Object&gt; mapObject = new HashMap&lt;&gt;();\r\n    List allTickets = ticketDao.getTicketsByUserDao(user);\r\n    mapObject.put(&quot;ticket&quot;,allTickets);\r\n\r\n","title":"JSONObject().put using a List Throws recursivelyDefinedObjectException","body":"<p>You can go with Map.</p>\n<pre><code>Map&lt;String,Object&gt; mapObject = new HashMap&lt;&gt;();\nList allTickets = ticketDao.getTicketsByUserDao(user);\nmapObject.put(&quot;ticket&quot;,allTickets);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644335778,"creation_date":1644335778,"answer_id":71036894,"question_id":71007612,"body_markdown":"The Error :\r\n-\r\nThe `allTickets` List contains an infinitely recursive `User` object, and therefore could not be parsed to a `JSONObject`.\r\n\r\nWhat caused it ?\r\n-\r\nthis query :\r\n\r\n    Query query = session.createQuery(\r\n            &quot;SELECT T.id, T.Objet, T.Details, T.Etat,T.Severity, T.createDateTime, T.user, T.Attachment, U.lastName, L.nomLogiciel, V.nomVersion,T.AssignedTo,T.ClosedBy,T.closedDateTime,T.assignedDateTime, U.firstName, U.username, U.Email, U.Phone  FROM Ticket T, User U, Logiciel L, Version V &quot;\r\n            + &quot;WHERE T.user= :user and T.user=U.user_id AND L.logiciel_id=T.Logiciel AND T.Version=V.version_id AND T.Etat!=&#39;fermer&#39; ORDER BY T.createDateTime &quot;)\r\n            .setParameter(&quot;user&quot;, user);\r\n\r\n*Emphasis on `T.user` here* : \r\n\r\nThere is no column called `User` in the `Tickets` table, instead there is `user_id`, so `query.list()` method returned an instance of an infinitely recusive `User` Object instead of the `user_id` which is an `integer`, * *i think* *.\r\n\r\nThe Fix \r\n-\r\nChange `T.user` to `T.user_id`.\r\n\r\nThe List can now be parsed to a `JSONObject` now with no errors.","title":"JSONObject().put using a List Throws recursivelyDefinedObjectException","body":"<h2>The Error :</h2>\n<p>The <code>allTickets</code> List contains an infinitely recursive <code>User</code> object, and therefore could not be parsed to a <code>JSONObject</code>.</p>\n<h2>What caused it ?</h2>\n<p>this query :</p>\n<pre><code>Query query = session.createQuery(\n        &quot;SELECT T.id, T.Objet, T.Details, T.Etat,T.Severity, T.createDateTime, T.user, T.Attachment, U.lastName, L.nomLogiciel, V.nomVersion,T.AssignedTo,T.ClosedBy,T.closedDateTime,T.assignedDateTime, U.firstName, U.username, U.Email, U.Phone  FROM Ticket T, User U, Logiciel L, Version V &quot;\n        + &quot;WHERE T.user= :user and T.user=U.user_id AND L.logiciel_id=T.Logiciel AND T.Version=V.version_id AND T.Etat!='fermer' ORDER BY T.createDateTime &quot;)\n        .setParameter(&quot;user&quot;, user);\n</code></pre>\n<p><em>Emphasis on <code>T.user</code> here</em> :</p>\n<p>There is no column called <code>User</code> in the <code>Tickets</code> table, instead there is <code>user_id</code>, so <code>query.list()</code> method returned an instance of an infinitely recusive <code>User</code> Object instead of the <code>user_id</code> which is an <code>integer</code>, * <em>i think</em> *.</p>\n<h2>The Fix</h2>\n<p>Change <code>T.user</code> to <code>T.user_id</code>.</p>\n<p>The List can now be parsed to a <code>JSONObject</code> now with no errors.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644346502,"creation_date":1644346502,"answer_id":71039383,"question_id":71007612,"body_markdown":"I see you managed to fix it, but i&#39;ll add another option for completeness. I managed to recreate your exact exception with two simple classes, whose instances form a circular refference, as in your case.\r\n\r\nUser:\r\n```\r\npublic class User {\r\n\r\n    private long id;\r\n    private Ticket ticket;\r\n\r\n    public User(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    //getters and setters\r\n}\r\n```\r\nTicket\r\n```\r\npublic class Ticket {\r\n\r\n    private long id;\r\n    private User user;\r\n\r\n    public Ticket(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    //getters and setters\r\n}\r\n```\r\nThe setup:\r\n```\r\nUser user = new User(1);\r\nTicket ticket = new Ticket(2);\r\nuser.setTicket(ticket);\r\nticket.setUser(user);\r\nList&lt;User&gt; users = Arrays.asList(user, user, user);\r\n```\r\nThe instances refference each other into infinity, as in your case. That&#39;s totally valid in java, but it&#39;s hard to represent in json. According to my tests directly adding the collection, causes `Exception in thread &quot;main&quot; org.json.JSONException: JavaBean object contains recursively defined member variable of key &quot;ticket&quot;`.\r\n```\r\nJSONObject jsonObject = new JSONObject();\r\njsonObject.put(&quot;users&quot;, users);\r\nSystem.out.println(jsonObject);\r\n```\r\n`jsonObject.put(key, collection)` creates json array from the collection, but for some reason can&#39;t deal with circular refferences in collection elements.\r\n\r\n**The workaround**, which fixed it, was to manually create `JSONArray`, then iterate the collection adding each element manually JSONArray. Then add the prepared json array in `JSONObject`.\r\n```\r\nJSONArray jsonArray = new JSONArray();\r\nusers.forEach(jsonArray::put);\r\nJSONObject jsonObject = new JSONObject();\r\njsonObject.put(&quot;users&quot;, jsonArray);\r\nSystem.out.println(jsonObject);\r\n```","title":"JSONObject().put using a List Throws recursivelyDefinedObjectException","body":"<p>I see you managed to fix it, but i'll add another option for completeness. I managed to recreate your exact exception with two simple classes, whose instances form a circular refference, as in your case.</p>\n<p>User:</p>\n<pre><code>public class User {\n\n    private long id;\n    private Ticket ticket;\n\n    public User(long id) {\n        this.id = id;\n    }\n\n    //getters and setters\n}\n</code></pre>\n<p>Ticket</p>\n<pre><code>public class Ticket {\n\n    private long id;\n    private User user;\n\n    public Ticket(long id) {\n        this.id = id;\n    }\n\n    //getters and setters\n}\n</code></pre>\n<p>The setup:</p>\n<pre><code>User user = new User(1);\nTicket ticket = new Ticket(2);\nuser.setTicket(ticket);\nticket.setUser(user);\nList&lt;User&gt; users = Arrays.asList(user, user, user);\n</code></pre>\n<p>The instances refference each other into infinity, as in your case. That's totally valid in java, but it's hard to represent in json. According to my tests directly adding the collection, causes <code>Exception in thread &quot;main&quot; org.json.JSONException: JavaBean object contains recursively defined member variable of key &quot;ticket&quot;</code>.</p>\n<pre><code>JSONObject jsonObject = new JSONObject();\njsonObject.put(&quot;users&quot;, users);\nSystem.out.println(jsonObject);\n</code></pre>\n<p><code>jsonObject.put(key, collection)</code> creates json array from the collection, but for some reason can't deal with circular refferences in collection elements.</p>\n<p><strong>The workaround</strong>, which fixed it, was to manually create <code>JSONArray</code>, then iterate the collection adding each element manually JSONArray. Then add the prepared json array in <code>JSONObject</code>.</p>\n<pre><code>JSONArray jsonArray = new JSONArray();\nusers.forEach(jsonArray::put);\nJSONObject jsonObject = new JSONObject();\njsonObject.put(&quot;users&quot;, jsonArray);\nSystem.out.println(jsonObject);\n</code></pre>\n"}],"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71039383,"answer_count":3,"score":0,"last_activity_date":1644346502,"creation_date":1644153881,"question_id":71007612,"body_markdown":"I have a query that generates a `List` of `Tickets` using hibernate like so :\r\n\r\n\tQuery query = session.createQuery(\r\n\t\t\t&quot;SELECT T.id, T.Objet, T.Details, T.Etat,T.Severity, T.createDateTime, T.user, T.Attachment, U.lastName, L.nomLogiciel, V.nomVersion,T.AssignedTo,T.ClosedBy,T.closedDateTime,T.assignedDateTime, U.firstName, U.username, U.Email, U.Phone  FROM Ticket T, User U, Logiciel L, Version V &quot;\r\n\t\t\t+ &quot;WHERE T.user= :user and T.user=U.user_id AND L.logiciel_id=T.Logiciel AND T.Version=V.version_id AND T.Etat!=&#39;fermer&#39; ORDER BY T.createDateTime &quot;)\r\n\t\t\t.setParameter(&quot;user&quot;, user);\r\n\r\n\r\nI tried to [put][1] the list in a JSONObject :\r\n\r\n\t\tList allTickets = ticketDao.getTicketsByUserDao(user);\r\n\t\tJSONObject jo = new JSONObject();\r\n\t\tjo.put(&quot;ticket&quot;, allTickets);\r\n\r\nIt throws this exception :\r\n\r\n    Hibernate: select ticket0_.ticket_id as col_0_0_, ticket0_.objet as col_1_0_, ticket0_.details as col_2_0_, ticket0_.etat as col_3_0_, ticket0_.severity as col_4_0_, ticket0_.createDateTime as col_5_0_, ticket0_.user_id as col_6_0_, ticket0_.attachment_path as col_7_0_, user1_.last_name as col_8_0_, logiciel2_.nom_logiciel as col_9_0_, version3_.nom_version as col_10_0_, ticket0_.assigned_to as col_11_0_, ticket0_.closed_by as col_12_0_, ticket0_.closedDateTime as col_13_0_, ticket0_.assignedDateTime as col_14_0_, user1_.first_name as col_15_0_, user1_.username as col_16_0_, user1_.email as col_17_0_, user1_.phone as col_18_0_, user4_.user_id as user_id1_9_, user4_.email as email2_9_, user4_.etat as etat3_9_, user4_.phone as phone4_9_, user4_.currentAccessDate as currenta5_9_, user4_.dateExpiration as dateexpi6_9_, user4_.first_name as first_na7_9_, user4_.lastAccessDate as lastacce8_9_, user4_.last_name as last_nam9_9_, user4_.password as passwor10_9_, user4_.structure_id as structu12_9_, user4_.username as usernam11_9_ from tickets ticket0_ cross join users user1_ cross join logiciel logiciel2_ cross join version version3_ inner join users user4_ on ticket0_.user_id=user4_.user_id where ticket0_.user_id=? and ticket0_.user_id=user1_.user_id and logiciel2_.logiciel_id=ticket0_.logiciel_id and ticket0_.version_id=version3_.version_id and ticket0_.etat&lt;&gt;&#39;fermer&#39; order by ticket0_.createDateTime\r\n    Hibernate: select tickets0_.user_id as user_id14_8_2_, tickets0_.ticket_id as ticket_i1_8_2_, tickets0_.ticket_id as ticket_i1_8_1_, tickets0_.assigned_to as assigned2_8_1_, tickets0_.attachment_path as attachme3_8_1_, tickets0_.closed_by as closed_b4_8_1_, tickets0_.details as details5_8_1_, tickets0_.etat as etat6_8_1_, tickets0_.logiciel_id as logiciel7_8_1_, tickets0_.objet as objet8_8_1_, tickets0_.severity as severity9_8_1_, tickets0_.version_id as version10_8_1_, tickets0_.assignedDateTime as assigne11_8_1_, tickets0_.closedDateTime as closedd12_8_1_, tickets0_.createDateTime as created13_8_1_, tickets0_.user_id as user_id14_8_1_, planificat1_.planif_id as planif_i1_4_0_, planificat1_.observation as observat2_4_0_, planificat1_.date_debut_planif as date_deb3_4_0_, planificat1_.date_debut_realise as date_deb4_4_0_, planificat1_.date_fin_planif as date_fin5_4_0_, planificat1_.date_fin_realise as date_fin6_4_0_, planificat1_.ticket_id as ticket_i7_4_0_ from tickets tickets0_ left outer join planification planificat1_ on tickets0_.ticket_id=planificat1_.ticket_id where tickets0_.user_id in (select user4_.user_id from tickets ticket0_ cross join users user1_ cross join logiciel logiciel2_ cross join version version3_ inner join users user4_ on ticket0_.user_id=user4_.user_id where ticket0_.user_id=? and ticket0_.user_id=user1_.user_id and logiciel2_.logiciel_id=ticket0_.logiciel_id and ticket0_.version_id=version3_.version_id and ticket0_.etat&lt;&gt;&#39;fermer&#39; )\r\n    Hibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\r\n    Hibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\r\n    Hibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\r\n    Hibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\r\n    Hibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\r\n    Hibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\r\n    Hibernate: select responses0_.user_id as user_id5_5_4_, responses0_.response_id as response1_5_4_, responses0_.response_id as response1_5_3_, responses0_.response as response2_5_3_, responses0_.createDateTime as createda3_5_3_, responses0_.ticket_id as ticket_i4_5_3_, responses0_.user_id as user_id5_5_3_, ticket1_.ticket_id as ticket_i1_8_0_, ticket1_.assigned_to as assigned2_8_0_, ticket1_.attachment_path as attachme3_8_0_, ticket1_.closed_by as closed_b4_8_0_, ticket1_.details as details5_8_0_, ticket1_.etat as etat6_8_0_, ticket1_.logiciel_id as logiciel7_8_0_, ticket1_.objet as objet8_8_0_, ticket1_.severity as severity9_8_0_, ticket1_.version_id as version10_8_0_, ticket1_.assignedDateTime as assigne11_8_0_, ticket1_.closedDateTime as closedd12_8_0_, ticket1_.createDateTime as created13_8_0_, ticket1_.user_id as user_id14_8_0_, user2_.user_id as user_id1_9_1_, user2_.email as email2_9_1_, user2_.etat as etat3_9_1_, user2_.phone as phone4_9_1_, user2_.currentAccessDate as currenta5_9_1_, user2_.dateExpiration as dateexpi6_9_1_, user2_.first_name as first_na7_9_1_, user2_.lastAccessDate as lastacce8_9_1_, user2_.last_name as last_nam9_9_1_, user2_.password as passwor10_9_1_, user2_.structure_id as structu12_9_1_, user2_.username as usernam11_9_1_, planificat3_.planif_id as planif_i1_4_2_, planificat3_.observation as observat2_4_2_, planificat3_.date_debut_planif as date_deb3_4_2_, planificat3_.date_debut_realise as date_deb4_4_2_, planificat3_.date_fin_planif as date_fin5_4_2_, planificat3_.date_fin_realise as date_fin6_4_2_, planificat3_.ticket_id as ticket_i7_4_2_ from responses responses0_ inner join tickets ticket1_ on responses0_.ticket_id=ticket1_.ticket_id left outer join users user2_ on ticket1_.user_id=user2_.user_id left outer join planification planificat3_ on ticket1_.ticket_id=planificat3_.ticket_id where responses0_.user_id in (select user4_.user_id from tickets ticket0_ cross join users user1_ cross join logiciel logiciel2_ cross join version version3_ inner join users user4_ on ticket0_.user_id=user4_.user_id where ticket0_.user_id=? and ticket0_.user_id=user1_.user_id and logiciel2_.logiciel_id=ticket0_.logiciel_id and ticket0_.version_id=version3_.version_id and ticket0_.etat&lt;&gt;&#39;fermer&#39; )\r\n    org.json.JSONException: JavaBean object contains recursively defined member variable of key &quot;planification&quot;\r\n    \tat org.json.JSONObject.recursivelyDefinedObjectException(JSONObject.java:2722)\r\n    \tat org.json.JSONObject.populateMap(JSONObject.java:1558)\r\n    \tat org.json.JSONObject.&lt;init&gt;(JSONObject.java:372)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2496)\r\n    \tat org.json.JSONObject.populateMap(JSONObject.java:1563)\r\n    \tat org.json.JSONObject.&lt;init&gt;(JSONObject.java:372)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2496)\r\n    \tat org.json.JSONObject.populateMap(JSONObject.java:1563)\r\n    \tat org.json.JSONObject.populateMap(JSONObject.java:1530)\r\n    \tat org.json.JSONObject.&lt;init&gt;(JSONObject.java:367)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2499)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2457)\r\n    \tat org.json.JSONArray.addAll(JSONArray.java:1609)\r\n    \tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:176)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2478)\r\n    \tat org.json.JSONObject.populateMap(JSONObject.java:1563)\r\n    \tat org.json.JSONObject.populateMap(JSONObject.java:1530)\r\n    \tat org.json.JSONObject.&lt;init&gt;(JSONObject.java:367)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2499)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2457)\r\n    \tat org.json.JSONArray.addAll(JSONArray.java:1661)\r\n    \tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:228)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2481)\r\n    \tat org.json.JSONObject.wrap(JSONObject.java:2457)\r\n    \tat org.json.JSONArray.addAll(JSONArray.java:1609)\r\n    \tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:176)\r\n    \tat org.json.JSONObject.put(JSONObject.java:1771)\r\n    \tat com.myproject.helpdesk.controllers.TicketManagement.getTicketsByUser(TicketManagement.java:610)\r\n    \tat com.myproject.helpdesk.controllers.TicketManagement.doGet(TicketManagement.java:95)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat com.myproject.helpdesk.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:33)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:366)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:847)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1680)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nWhat is a `recursivelyDefinedObjectException` ? my Google searches always lead to the subject of Recursion &amp;  Functions, not the exception.\r\n\r\nWhen debugging, the `allTickets` List contains 4 objects like so :\r\n\r\n    [\r\n     [Ljava.lang.Object;@10e63606,\r\n     [Ljava.lang.Object;@3c76d000,\r\n     [Ljava.lang.Object;@5f5bfd07, \r\n     [Ljava.lang.Object;@3a14ab96\r\n    ]\r\n\r\nHe&#39;s the content of one first object for example :\r\n\r\n    [1455, test ticket, hello world, cr&#233;&#233;, Critique, 2022-02-03T15:48:41.058086, com.myproject.helpdesk.models.User@6f643c88, null, CTH, dummy, 10.1.1.v, null, null, 2022-02-03T15:48:41.058086, 2022-02-03T15:48:41.058086, CTH, CTH, email@something.com, 00999999999]\r\n\r\nEnvironment :\r\n-\r\n- Eclipse : Version: 2021-06 (4.20.0) Build id: 20210612-2011\r\n- Java 8 \r\n- my JSONOject comes from this [dependency][2]\r\n\r\nAny help appreciated.\r\n\r\nEDIT: Adding Entities\r\n=\r\n\r\nFetching the `Tickets` list is what&#39;s causing the problem so .\r\n\r\nTicket\r\n-\r\n\r\n    @Entity\r\n    @Table(name = &quot;tickets&quot;)\r\n    public class Ticket implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;ticket_id&quot;)\r\n    \tprivate int ticket_id;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;user_id&quot;, nullable = false, insertable = true)\r\n    \tprivate User user;\r\n    \t\r\n    \t@OneToMany(fetch = FetchType.EAGER,mappedBy=&quot;ticket&quot;)\r\n        private List&lt;Response&gt; response;\r\n    \t\r\n    \t @OneToOne(mappedBy = &quot;ticket&quot;)\r\n    \t private Planification planification;\r\n\r\nPlanification \r\n-\r\n\r\n    @Entity\r\n    @Table(name = &quot;planification&quot;)\r\n    public class Planification implements Serializable{\r\n    \t\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;planif_id&quot;)\r\n        private int planifId;\r\n    \r\n    \t@OneToOne\r\n        @JoinColumn(name = &quot;ticket_id&quot;,unique = true)\r\n        private Ticket ticket;\r\n\r\nUser\r\n-\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;user_id&quot;)\r\n        private int user_id;\r\n    \r\n        @OneToMany(fetch = FetchType.EAGER ,mappedBy=&quot;user&quot;)\r\n        @Fetch(value = FetchMode.SUBSELECT)\r\n        private List&lt;Ticket&gt; tickets;\r\n        \r\n        @OneToMany(fetch = FetchType.EAGER ,mappedBy=&quot;user&quot;)\r\n        @Fetch(value = FetchMode.SUBSELECT)\r\n        private List&lt;Response&gt; responses;\r\n        \r\n        @ManyToOne(fetch = FetchType.EAGER ,cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;structure_id&quot;)\r\n        private Structure structure;\r\n\r\nResponse \r\n-\r\n\r\n    @Entity\r\n    @Table(name = &quot;responses&quot;)\r\n    public class Response implements Serializable{\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;response_id&quot;)\r\n        private int responseId;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;ticket_id&quot;, nullable = false, insertable = true)\r\n    \tprivate Ticket ticket;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;user_id&quot;, nullable = false, insertable = true)\r\n    \tprivate User user;\r\n\r\nStructure \r\n-\r\n\r\n    @Entity\r\n    @Table(name = &quot;structure&quot;)\r\n    public class Structure implements Serializable {\r\n    \t\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;structure_id&quot;)\r\n        private int structure_id;\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;structure&quot;)\r\n        private List&lt;User&gt; user;\r\n\r\nEDIT 2 :\r\n=\r\nWhen debugging I noticed that a`Structure` of `User`&#39;s `Ticket` has exception stack trace as content for it&#39;s PersistentBag, [![see screenshot][3]][3]\r\n\r\nWhat the hell is causing this ?! I checked my Entity definitions and they look alright to me.\r\n\r\nSide note\r\n-\r\nMy `Ticket` object contains the `User` object, which contains a list of the `User`s&#39;s `Ticket`s, and it goes on and on forever, infinite recursion, is this normal ? are my Entity definitions wrong ? how can i fix this ?\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E94257_01/mobile/api-ref/oracle/adfmf/json/JSONObject.html\r\n  [2]: https://mvnrepository.com/artifact/org.json/json/20211205\r\n  [3]: https://i.stack.imgur.com/zXGtr.png","title":"JSONObject().put using a List Throws recursivelyDefinedObjectException","body":"<p>I have a query that generates a <code>List</code> of <code>Tickets</code> using hibernate like so :</p>\n<pre><code>Query query = session.createQuery(\n        &quot;SELECT T.id, T.Objet, T.Details, T.Etat,T.Severity, T.createDateTime, T.user, T.Attachment, U.lastName, L.nomLogiciel, V.nomVersion,T.AssignedTo,T.ClosedBy,T.closedDateTime,T.assignedDateTime, U.firstName, U.username, U.Email, U.Phone  FROM Ticket T, User U, Logiciel L, Version V &quot;\n        + &quot;WHERE T.user= :user and T.user=U.user_id AND L.logiciel_id=T.Logiciel AND T.Version=V.version_id AND T.Etat!='fermer' ORDER BY T.createDateTime &quot;)\n        .setParameter(&quot;user&quot;, user);\n</code></pre>\n<p>I tried to <a href=\"https://docs.oracle.com/cd/E94257_01/mobile/api-ref/oracle/adfmf/json/JSONObject.html\" rel=\"nofollow noreferrer\">put</a> the list in a JSONObject :</p>\n<pre><code>    List allTickets = ticketDao.getTicketsByUserDao(user);\n    JSONObject jo = new JSONObject();\n    jo.put(&quot;ticket&quot;, allTickets);\n</code></pre>\n<p>It throws this exception :</p>\n<pre><code>Hibernate: select ticket0_.ticket_id as col_0_0_, ticket0_.objet as col_1_0_, ticket0_.details as col_2_0_, ticket0_.etat as col_3_0_, ticket0_.severity as col_4_0_, ticket0_.createDateTime as col_5_0_, ticket0_.user_id as col_6_0_, ticket0_.attachment_path as col_7_0_, user1_.last_name as col_8_0_, logiciel2_.nom_logiciel as col_9_0_, version3_.nom_version as col_10_0_, ticket0_.assigned_to as col_11_0_, ticket0_.closed_by as col_12_0_, ticket0_.closedDateTime as col_13_0_, ticket0_.assignedDateTime as col_14_0_, user1_.first_name as col_15_0_, user1_.username as col_16_0_, user1_.email as col_17_0_, user1_.phone as col_18_0_, user4_.user_id as user_id1_9_, user4_.email as email2_9_, user4_.etat as etat3_9_, user4_.phone as phone4_9_, user4_.currentAccessDate as currenta5_9_, user4_.dateExpiration as dateexpi6_9_, user4_.first_name as first_na7_9_, user4_.lastAccessDate as lastacce8_9_, user4_.last_name as last_nam9_9_, user4_.password as passwor10_9_, user4_.structure_id as structu12_9_, user4_.username as usernam11_9_ from tickets ticket0_ cross join users user1_ cross join logiciel logiciel2_ cross join version version3_ inner join users user4_ on ticket0_.user_id=user4_.user_id where ticket0_.user_id=? and ticket0_.user_id=user1_.user_id and logiciel2_.logiciel_id=ticket0_.logiciel_id and ticket0_.version_id=version3_.version_id and ticket0_.etat&lt;&gt;'fermer' order by ticket0_.createDateTime\nHibernate: select tickets0_.user_id as user_id14_8_2_, tickets0_.ticket_id as ticket_i1_8_2_, tickets0_.ticket_id as ticket_i1_8_1_, tickets0_.assigned_to as assigned2_8_1_, tickets0_.attachment_path as attachme3_8_1_, tickets0_.closed_by as closed_b4_8_1_, tickets0_.details as details5_8_1_, tickets0_.etat as etat6_8_1_, tickets0_.logiciel_id as logiciel7_8_1_, tickets0_.objet as objet8_8_1_, tickets0_.severity as severity9_8_1_, tickets0_.version_id as version10_8_1_, tickets0_.assignedDateTime as assigne11_8_1_, tickets0_.closedDateTime as closedd12_8_1_, tickets0_.createDateTime as created13_8_1_, tickets0_.user_id as user_id14_8_1_, planificat1_.planif_id as planif_i1_4_0_, planificat1_.observation as observat2_4_0_, planificat1_.date_debut_planif as date_deb3_4_0_, planificat1_.date_debut_realise as date_deb4_4_0_, planificat1_.date_fin_planif as date_fin5_4_0_, planificat1_.date_fin_realise as date_fin6_4_0_, planificat1_.ticket_id as ticket_i7_4_0_ from tickets tickets0_ left outer join planification planificat1_ on tickets0_.ticket_id=planificat1_.ticket_id where tickets0_.user_id in (select user4_.user_id from tickets ticket0_ cross join users user1_ cross join logiciel logiciel2_ cross join version version3_ inner join users user4_ on ticket0_.user_id=user4_.user_id where ticket0_.user_id=? and ticket0_.user_id=user1_.user_id and logiciel2_.logiciel_id=ticket0_.logiciel_id and ticket0_.version_id=version3_.version_id and ticket0_.etat&lt;&gt;'fermer' )\nHibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\nHibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\nHibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\nHibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\nHibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\nHibernate: select response0_.ticket_id as ticket_i4_5_0_, response0_.response_id as response1_5_0_, response0_.response_id as response1_5_1_, response0_.response as response2_5_1_, response0_.createDateTime as createda3_5_1_, response0_.ticket_id as ticket_i4_5_1_, response0_.user_id as user_id5_5_1_, user1_.user_id as user_id1_9_2_, user1_.email as email2_9_2_, user1_.etat as etat3_9_2_, user1_.phone as phone4_9_2_, user1_.currentAccessDate as currenta5_9_2_, user1_.dateExpiration as dateexpi6_9_2_, user1_.first_name as first_na7_9_2_, user1_.lastAccessDate as lastacce8_9_2_, user1_.last_name as last_nam9_9_2_, user1_.password as passwor10_9_2_, user1_.structure_id as structu12_9_2_, user1_.username as usernam11_9_2_, structure2_.structure_id as structur1_6_3_, structure2_.nom_structure as nom_stru2_6_3_ from responses response0_ inner join users user1_ on response0_.user_id=user1_.user_id left outer join structure structure2_ on user1_.structure_id=structure2_.structure_id where response0_.ticket_id=?\nHibernate: select responses0_.user_id as user_id5_5_4_, responses0_.response_id as response1_5_4_, responses0_.response_id as response1_5_3_, responses0_.response as response2_5_3_, responses0_.createDateTime as createda3_5_3_, responses0_.ticket_id as ticket_i4_5_3_, responses0_.user_id as user_id5_5_3_, ticket1_.ticket_id as ticket_i1_8_0_, ticket1_.assigned_to as assigned2_8_0_, ticket1_.attachment_path as attachme3_8_0_, ticket1_.closed_by as closed_b4_8_0_, ticket1_.details as details5_8_0_, ticket1_.etat as etat6_8_0_, ticket1_.logiciel_id as logiciel7_8_0_, ticket1_.objet as objet8_8_0_, ticket1_.severity as severity9_8_0_, ticket1_.version_id as version10_8_0_, ticket1_.assignedDateTime as assigne11_8_0_, ticket1_.closedDateTime as closedd12_8_0_, ticket1_.createDateTime as created13_8_0_, ticket1_.user_id as user_id14_8_0_, user2_.user_id as user_id1_9_1_, user2_.email as email2_9_1_, user2_.etat as etat3_9_1_, user2_.phone as phone4_9_1_, user2_.currentAccessDate as currenta5_9_1_, user2_.dateExpiration as dateexpi6_9_1_, user2_.first_name as first_na7_9_1_, user2_.lastAccessDate as lastacce8_9_1_, user2_.last_name as last_nam9_9_1_, user2_.password as passwor10_9_1_, user2_.structure_id as structu12_9_1_, user2_.username as usernam11_9_1_, planificat3_.planif_id as planif_i1_4_2_, planificat3_.observation as observat2_4_2_, planificat3_.date_debut_planif as date_deb3_4_2_, planificat3_.date_debut_realise as date_deb4_4_2_, planificat3_.date_fin_planif as date_fin5_4_2_, planificat3_.date_fin_realise as date_fin6_4_2_, planificat3_.ticket_id as ticket_i7_4_2_ from responses responses0_ inner join tickets ticket1_ on responses0_.ticket_id=ticket1_.ticket_id left outer join users user2_ on ticket1_.user_id=user2_.user_id left outer join planification planificat3_ on ticket1_.ticket_id=planificat3_.ticket_id where responses0_.user_id in (select user4_.user_id from tickets ticket0_ cross join users user1_ cross join logiciel logiciel2_ cross join version version3_ inner join users user4_ on ticket0_.user_id=user4_.user_id where ticket0_.user_id=? and ticket0_.user_id=user1_.user_id and logiciel2_.logiciel_id=ticket0_.logiciel_id and ticket0_.version_id=version3_.version_id and ticket0_.etat&lt;&gt;'fermer' )\norg.json.JSONException: JavaBean object contains recursively defined member variable of key &quot;planification&quot;\n    at org.json.JSONObject.recursivelyDefinedObjectException(JSONObject.java:2722)\n    at org.json.JSONObject.populateMap(JSONObject.java:1558)\n    at org.json.JSONObject.&lt;init&gt;(JSONObject.java:372)\n    at org.json.JSONObject.wrap(JSONObject.java:2496)\n    at org.json.JSONObject.populateMap(JSONObject.java:1563)\n    at org.json.JSONObject.&lt;init&gt;(JSONObject.java:372)\n    at org.json.JSONObject.wrap(JSONObject.java:2496)\n    at org.json.JSONObject.populateMap(JSONObject.java:1563)\n    at org.json.JSONObject.populateMap(JSONObject.java:1530)\n    at org.json.JSONObject.&lt;init&gt;(JSONObject.java:367)\n    at org.json.JSONObject.wrap(JSONObject.java:2499)\n    at org.json.JSONObject.wrap(JSONObject.java:2457)\n    at org.json.JSONArray.addAll(JSONArray.java:1609)\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:176)\n    at org.json.JSONObject.wrap(JSONObject.java:2478)\n    at org.json.JSONObject.populateMap(JSONObject.java:1563)\n    at org.json.JSONObject.populateMap(JSONObject.java:1530)\n    at org.json.JSONObject.&lt;init&gt;(JSONObject.java:367)\n    at org.json.JSONObject.wrap(JSONObject.java:2499)\n    at org.json.JSONObject.wrap(JSONObject.java:2457)\n    at org.json.JSONArray.addAll(JSONArray.java:1661)\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:228)\n    at org.json.JSONObject.wrap(JSONObject.java:2481)\n    at org.json.JSONObject.wrap(JSONObject.java:2457)\n    at org.json.JSONArray.addAll(JSONArray.java:1609)\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:176)\n    at org.json.JSONObject.put(JSONObject.java:1771)\n    at com.myproject.helpdesk.controllers.TicketManagement.getTicketsByUser(TicketManagement.java:610)\n    at com.myproject.helpdesk.controllers.TicketManagement.doGet(TicketManagement.java:95)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.myproject.helpdesk.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:33)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:366)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:847)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1680)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>What is a <code>recursivelyDefinedObjectException</code> ? my Google searches always lead to the subject of Recursion &amp;  Functions, not the exception.</p>\n<p>When debugging, the <code>allTickets</code> List contains 4 objects like so :</p>\n<pre><code>[\n [Ljava.lang.Object;@10e63606,\n [Ljava.lang.Object;@3c76d000,\n [Ljava.lang.Object;@5f5bfd07, \n [Ljava.lang.Object;@3a14ab96\n]\n</code></pre>\n<p>He's the content of one first object for example :</p>\n<pre><code>[1455, test ticket, hello world, créé, Critique, 2022-02-03T15:48:41.058086, com.myproject.helpdesk.models.User@6f643c88, null, CTH, dummy, 10.1.1.v, null, null, 2022-02-03T15:48:41.058086, 2022-02-03T15:48:41.058086, CTH, CTH, email@something.com, 00999999999]\n</code></pre>\n<h2>Environment :</h2>\n<ul>\n<li>Eclipse : Version: 2021-06 (4.20.0) Build id: 20210612-2011</li>\n<li>Java 8</li>\n<li>my JSONOject comes from this <a href=\"https://mvnrepository.com/artifact/org.json/json/20211205\" rel=\"nofollow noreferrer\">dependency</a></li>\n</ul>\n<p>Any help appreciated.</p>\n<h1>EDIT: Adding Entities</h1>\n<p>Fetching the <code>Tickets</code> list is what's causing the problem so .</p>\n<h2>Ticket</h2>\n<pre><code>@Entity\n@Table(name = &quot;tickets&quot;)\npublic class Ticket implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ticket_id&quot;)\n    private int ticket_id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, insertable = true)\n    private User user;\n    \n    @OneToMany(fetch = FetchType.EAGER,mappedBy=&quot;ticket&quot;)\n    private List&lt;Response&gt; response;\n    \n     @OneToOne(mappedBy = &quot;ticket&quot;)\n     private Planification planification;\n</code></pre>\n<h2>Planification</h2>\n<pre><code>@Entity\n@Table(name = &quot;planification&quot;)\npublic class Planification implements Serializable{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;planif_id&quot;)\n    private int planifId;\n\n    @OneToOne\n    @JoinColumn(name = &quot;ticket_id&quot;,unique = true)\n    private Ticket ticket;\n</code></pre>\n<h2>User</h2>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;user_id&quot;)\n    private int user_id;\n\n    @OneToMany(fetch = FetchType.EAGER ,mappedBy=&quot;user&quot;)\n    @Fetch(value = FetchMode.SUBSELECT)\n    private List&lt;Ticket&gt; tickets;\n    \n    @OneToMany(fetch = FetchType.EAGER ,mappedBy=&quot;user&quot;)\n    @Fetch(value = FetchMode.SUBSELECT)\n    private List&lt;Response&gt; responses;\n    \n    @ManyToOne(fetch = FetchType.EAGER ,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;structure_id&quot;)\n    private Structure structure;\n</code></pre>\n<h2>Response</h2>\n<pre><code>@Entity\n@Table(name = &quot;responses&quot;)\npublic class Response implements Serializable{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;response_id&quot;)\n    private int responseId;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;ticket_id&quot;, nullable = false, insertable = true)\n    private Ticket ticket;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, insertable = true)\n    private User user;\n</code></pre>\n<h2>Structure</h2>\n<pre><code>@Entity\n@Table(name = &quot;structure&quot;)\npublic class Structure implements Serializable {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;structure_id&quot;)\n    private int structure_id;\n    \n    @OneToMany(mappedBy = &quot;structure&quot;)\n    private List&lt;User&gt; user;\n</code></pre>\n<h1>EDIT 2 :</h1>\n<p>When debugging I noticed that a<code>Structure</code> of <code>User</code>'s <code>Ticket</code> has exception stack trace as content for it's PersistentBag, <a href=\"https://i.stack.imgur.com/zXGtr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXGtr.png\" alt=\"see screenshot\" /></a></p>\n<p>What the hell is causing this ?! I checked my Entity definitions and they look alright to me.</p>\n<h2>Side note</h2>\n<p>My <code>Ticket</code> object contains the <code>User</code> object, which contains a list of the <code>User</code>s's <code>Ticket</code>s, and it goes on and on forever, infinite recursion, is this normal ? are my Entity definitions wrong ? how can i fix this ?</p>\n"},{"tags":["javascript","java","html","jsp","iframe"],"comments":[{"owner":{"account_id":1206451,"reputation":171026,"user_id":1175966,"display_name":"charlietfl"},"score":1,"creation_date":1644346842,"post_id":71039381,"comment_id":125581466,"body_markdown":"Try listening for load event on iframe before querying for elements inside it","body":"Try listening for load event on iframe before querying for elements inside it"},{"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"score":0,"creation_date":1644347267,"post_id":71039381,"comment_id":125581626,"body_markdown":"@charlietfl  wow it works Thanks did not know it should be that way","body":"@charlietfl  wow it works Thanks did not know it should be that way"},{"owner":{"account_id":1206451,"reputation":171026,"user_id":1175966,"display_name":"charlietfl"},"score":0,"creation_date":1644347419,"post_id":71039381,"comment_id":125581674,"body_markdown":"An iframe has it&#39;s own window and that window goes through same load process as the main parent window does","body":"An iframe has it&#39;s own window and that window goes through same load process as the main parent window does"}],"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644346498,"creation_date":1644346498,"question_id":71039381,"body_markdown":"First, my iframe page is in same domain (in the same project of parent).\r\nI tried to get the element by id of the iframe.\r\nThis is my /views/index.html\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=EUC-KR&quot;\r\n    pageEncoding=&quot;EUC-KR&quot;%&gt;\r\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n&lt;%@ taglib uri = &quot;http://java.sun.com/jsp/jstl/functions&quot; prefix = &quot;fn&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;!-- Required meta tags --&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n&lt;title&gt;SubWay&lt;/title&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t\r\n\t\r\n\t&lt;iframe src=&quot;/test&quot; id=&quot;test&quot;&gt;&lt;/iframe&gt;\r\n\t\r\n\t&lt;script&gt;\r\n\tconsole.log(document.getElementById(&quot;test&quot;).contentWindow.document.getElementById(&quot;test));\r\n\t&lt;/script&gt;\r\n\t\r\n\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThis is my iframe, which is /views/test.jsp\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=EUC-KR&quot;\r\n    pageEncoding=&quot;EUC-KR&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;EUC-KR&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div id=&quot;test&quot;&gt;test&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nSo, simply, I tried to get the div from test.jsp in the index.jsp.\r\niframe shows up in the index.jsp.\r\nHowever, as I tried to print console.log(document.getElementById(&quot;test&quot;).contentWindow.document.getElementById(&quot;test));\r\nconsole shows null.\r\nYet, &quot;document.getElementById(&quot;test&quot;).contentWindow.document&quot; this is not null;","title":"Iframe contentWindow getElementById Question","body":"<p>First, my iframe page is in same domain (in the same project of parent).\nI tried to get the element by id of the iframe.\nThis is my /views/index.html</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=EUC-KR&quot;\n    pageEncoding=&quot;EUC-KR&quot;%&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;%@ taglib uri = &quot;http://java.sun.com/jsp/jstl/functions&quot; prefix = &quot;fn&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;!-- Required meta tags --&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n&lt;title&gt;SubWay&lt;/title&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n    &lt;iframe src=&quot;/test&quot; id=&quot;test&quot;&gt;&lt;/iframe&gt;\n    \n    &lt;script&gt;\n    console.log(document.getElementById(&quot;test&quot;).contentWindow.document.getElementById(&quot;test));\n    &lt;/script&gt;\n    \n    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is my iframe, which is /views/test.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=EUC-KR&quot;\n    pageEncoding=&quot;EUC-KR&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;EUC-KR&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=&quot;test&quot;&gt;test&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>So, simply, I tried to get the div from test.jsp in the index.jsp.\niframe shows up in the index.jsp.\nHowever, as I tried to print console.log(document.getElementById(&quot;test&quot;).contentWindow.document.getElementById(&quot;test));\nconsole shows null.\nYet, &quot;document.getElementById(&quot;test&quot;).contentWindow.document&quot; this is not null;</p>\n"},{"tags":["java","android","firebase-realtime-database","user-profile"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1644344960,"post_id":71038725,"comment_id":125580745,"body_markdown":"Please edit your question to show the data you have in `donor` in the database (as text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"Please edit your question to show the data you have in <code>donor</code> in the database (as text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1644388257,"post_id":71038725,"comment_id":125590479,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond with @.","body":"Please edit your question and add the information Frank asked for, and please also respond with @."}],"owner":{"account_id":24195530,"reputation":1,"user_id":18154139,"display_name":"jeganm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644346169,"creation_date":1644343624,"question_id":71038725,"body_markdown":"I am developing a mobile App where I am currently facing problem on user profile page. Actually i want the current user&#39;s detail from login page to display in the user profile page. But unfortunately it only display the data of first user. I need a user profile page to print the information of that user and I am struggling with it. This application login with phone Number.\r\n\r\nPlease try to help me with this and let me know if you need more information.\r\n\r\nI have entered the coding that I have done.\r\n\r\nUserProfile.java:\r\n\r\n```\r\npublic class UserProfile extends AppCompatActivity {\r\n    TextInputLayout UfullName, Uusername, Upassword, Uemail, UpNumber, Udate, Ugender;\r\n    TextView Vname;\r\n  \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_profile);\r\n        \r\n        UfullName = findViewById(R.id.Update_Fname);\r\n        Uusername = findViewById(R.id.Update_Uname);\r\n        Upassword = findViewById(R.id.Update_password);\r\n        Uemail = findViewById(R.id.Update_email);\r\n        UpNumber = findViewById(R.id.Update_Pnumber);\r\n        Ugender = findViewById(R.id.Update_gender);\r\n        Udate = findViewById(R.id.Update_DoB);\r\n        Vname = findViewById(R.id.ViewDName);\r\n       \r\n        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n       \r\n        Query usersRef = rootRef.child(&quot;donor&quot;);\r\n        ValueEventListener eventListener = new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot ds : dataSnapshot.getChildren()){\r\n                    \r\n                    String VfullName = ds.child(&quot;fullName&quot;).getValue(String.class);\r\n                    String fullName = ds.child(&quot;fullName&quot;).getValue(String.class);\r\n                    String username = ds.child(&quot;username&quot;).getValue(String.class);\r\n                    String password = ds.child(&quot;password&quot;).getValue(String.class);\r\n                    String email = ds.child(&quot;email&quot;).getValue(String.class);\r\n                    String phoneNo = ds.child(&quot;phoneNo&quot;).getValue(String.class);\r\n                    String gender = ds.child(&quot;gender&quot;).getValue(String.class);\r\n                    String date = ds.child(&quot;date&quot;).getValue(String.class);\r\n\r\n                    Vname.setText(VfullName);\r\n                    UfullName.getEditText().setText(fullName);\r\n                    Uusername.getEditText().setText(username);\r\n                    Upassword.getEditText().setText(password);\r\n                    Uemail.getEditText().setText(email);\r\n                    UpNumber.getEditText().setText(phoneNo);\r\n                    Ugender.getEditText().setText(gender);\r\n                    Udate.getEditText().setText(date);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        };\r\n        usersRef.addListenerForSingleValueEvent(eventListener);\r\n    }\r\n}\r\n```\r\n","title":"can&#39;t get current user data in user profile","body":"<p>I am developing a mobile App where I am currently facing problem on user profile page. Actually i want the current user's detail from login page to display in the user profile page. But unfortunately it only display the data of first user. I need a user profile page to print the information of that user and I am struggling with it. This application login with phone Number.</p>\n<p>Please try to help me with this and let me know if you need more information.</p>\n<p>I have entered the coding that I have done.</p>\n<p>UserProfile.java:</p>\n<pre><code>public class UserProfile extends AppCompatActivity {\n    TextInputLayout UfullName, Uusername, Upassword, Uemail, UpNumber, Udate, Ugender;\n    TextView Vname;\n  \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_user_profile);\n        \n        UfullName = findViewById(R.id.Update_Fname);\n        Uusername = findViewById(R.id.Update_Uname);\n        Upassword = findViewById(R.id.Update_password);\n        Uemail = findViewById(R.id.Update_email);\n        UpNumber = findViewById(R.id.Update_Pnumber);\n        Ugender = findViewById(R.id.Update_gender);\n        Udate = findViewById(R.id.Update_DoB);\n        Vname = findViewById(R.id.ViewDName);\n       \n        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n       \n        Query usersRef = rootRef.child(&quot;donor&quot;);\n        ValueEventListener eventListener = new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                for (DataSnapshot ds : dataSnapshot.getChildren()){\n                    \n                    String VfullName = ds.child(&quot;fullName&quot;).getValue(String.class);\n                    String fullName = ds.child(&quot;fullName&quot;).getValue(String.class);\n                    String username = ds.child(&quot;username&quot;).getValue(String.class);\n                    String password = ds.child(&quot;password&quot;).getValue(String.class);\n                    String email = ds.child(&quot;email&quot;).getValue(String.class);\n                    String phoneNo = ds.child(&quot;phoneNo&quot;).getValue(String.class);\n                    String gender = ds.child(&quot;gender&quot;).getValue(String.class);\n                    String date = ds.child(&quot;date&quot;).getValue(String.class);\n\n                    Vname.setText(VfullName);\n                    UfullName.getEditText().setText(fullName);\n                    Uusername.getEditText().setText(username);\n                    Upassword.getEditText().setText(password);\n                    Uemail.getEditText().setText(email);\n                    UpNumber.getEditText().setText(phoneNo);\n                    Ugender.getEditText().setText(gender);\n                    Udate.getEditText().setText(date);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        };\n        usersRef.addListenerForSingleValueEvent(eventListener);\n    }\n}\n</code></pre>\n"},{"tags":["java","ffmpeg"],"comments":[{"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"score":0,"creation_date":1644346744,"post_id":71039273,"comment_id":125581433,"body_markdown":"In general I think hard coding a final print statement after it completes is correct. To fine tune that, what about taking the progress values to date as an array and then interpolating forward to see when you expect to be at 100%? https://stackoverflow.com/questions/1221944/interpolation-over-an-array-or-two","body":"In general I think hard coding a final print statement after it completes is correct. To fine tune that, what about taking the progress values to date as an array and then interpolating forward to see when you expect to be at 100%? <a href=\"https://stackoverflow.com/questions/1221944/interpolation-over-an-array-or-two\" title=\"interpolation over an array or two\">stackoverflow.com/questions/1221944/&hellip;</a>"}],"owner":{"account_id":16246494,"reputation":11,"user_id":11731494,"display_name":"asdf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644346016,"creation_date":1644346016,"question_id":71039273,"body_markdown":"```new Thread() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tScanner sc = new Scanner(process.getErrorStream());\r\n\t\t\t\t\r\n\t\t\t\tPattern durPattern = Pattern.compile(&quot;(?&lt;=Duration: )[^,]*&quot;);\r\n\t\t        String dur = sc.findWithinHorizon(durPattern, 0);\r\n\t\t        if (dur == null)\r\n\t\t          throw new RuntimeException(&quot;Could not parse duration.&quot;);\r\n\t\t        String[] hms = dur.split(&quot;:&quot;);\r\n\t\t        double totalSecs = Integer.parseInt(hms[0]) * 3600\r\n\t\t                         + Integer.parseInt(hms[1]) *   60\r\n\t\t                         + Double.parseDouble(hms[2]);\r\n\t\t        System.out.println(&quot;Total duration: &quot; + totalSecs + &quot; seconds.&quot;);\r\n\r\n\t\t        Pattern timePattern = Pattern.compile(&quot;(?&lt;=time=)[^ ]*&quot;);\r\n\t\t        String match;\r\n\t\t        String[] matchSplit;\r\n\t\t        while (null != (match = sc.findWithinHorizon(timePattern, 0))) {\r\n\t\t            matchSplit = match.split(&quot;:&quot;);\r\n\t\t            int hour = Integer.parseInt(matchSplit[0]) * 3600;\r\n\t\t            int minute = Integer.parseInt(matchSplit[1]) * 60;\r\n\t\t            double second = Double.parseDouble(matchSplit[2]);\r\n\t\t            double progress = (hour + minute + second) / totalSecs;\r\n\t\t            System.out.printf(&quot;Progress: %.2f%%%n&quot;, progress * 100);\r\n\t\t        }\r\n\t\t\t}\r\n\t\t}.start();\r\n```\r\nOutput:\r\n```\r\nTotal duration: 9.94 seconds.\r\nProgress: 3.72%\r\nProgress: 33.10%\r\nProgress: 51.11%\r\nProgress: 64.89%\r\nProgress: 80.08%\r\nProgress: 98.99%\r\nProgress: 99.50%\r\n```\r\nLooking at the CLI, sometimes the progress duration will never hit the total duration so the percentage will never hit 100%. The only way I can see it reaching 100% is if we hardcode it in, like when it reaches 99.50+% then just print 100% but what if the speed is only going up by 0.01% every second? Can&#39;t think of any consistent way of achieving this. Thoughts?","title":"How to get FFMPEG to show 100% finished in Java?","body":"<pre><code>            public void run() {\n                Scanner sc = new Scanner(process.getErrorStream());\n                \n                Pattern durPattern = Pattern.compile(&quot;(?&lt;=Duration: )[^,]*&quot;);\n                String dur = sc.findWithinHorizon(durPattern, 0);\n                if (dur == null)\n                  throw new RuntimeException(&quot;Could not parse duration.&quot;);\n                String[] hms = dur.split(&quot;:&quot;);\n                double totalSecs = Integer.parseInt(hms[0]) * 3600\n                                 + Integer.parseInt(hms[1]) *   60\n                                 + Double.parseDouble(hms[2]);\n                System.out.println(&quot;Total duration: &quot; + totalSecs + &quot; seconds.&quot;);\n\n                Pattern timePattern = Pattern.compile(&quot;(?&lt;=time=)[^ ]*&quot;);\n                String match;\n                String[] matchSplit;\n                while (null != (match = sc.findWithinHorizon(timePattern, 0))) {\n                    matchSplit = match.split(&quot;:&quot;);\n                    int hour = Integer.parseInt(matchSplit[0]) * 3600;\n                    int minute = Integer.parseInt(matchSplit[1]) * 60;\n                    double second = Double.parseDouble(matchSplit[2]);\n                    double progress = (hour + minute + second) / totalSecs;\n                    System.out.printf(&quot;Progress: %.2f%%%n&quot;, progress * 100);\n                }\n            }\n        }.start();\n</code></pre>\n<p>Output:</p>\n<pre><code>Total duration: 9.94 seconds.\nProgress: 3.72%\nProgress: 33.10%\nProgress: 51.11%\nProgress: 64.89%\nProgress: 80.08%\nProgress: 98.99%\nProgress: 99.50%\n</code></pre>\n<p>Looking at the CLI, sometimes the progress duration will never hit the total duration so the percentage will never hit 100%. The only way I can see it reaching 100% is if we hardcode it in, like when it reaches 99.50+% then just print 100% but what if the speed is only going up by 0.01% every second? Can't think of any consistent way of achieving this. Thoughts?</p>\n"},{"tags":["java","loops","oop","while-loop","tic-tac-toe"],"answers":[{"tags":[],"owner":{"account_id":23921256,"reputation":42,"user_id":17917069,"display_name":"Wesley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644345483,"creation_date":1644344795,"answer_id":71038990,"question_id":71038944,"body_markdown":"There are absolutely alternatives / more efficient ways to solve this program but to answer your question, nested loops are not at all uncommon or unconventional in Java and this would be acceptable. The negative effect of using nested loops would be the algorithm runtime which you likely don&#39;t need to worry about for this problem!","title":"Is the use of while loops ok here? Or it&#39;s excesive","body":"<p>There are absolutely alternatives / more efficient ways to solve this program but to answer your question, nested loops are not at all uncommon or unconventional in Java and this would be acceptable. The negative effect of using nested loops would be the algorithm runtime which you likely don't need to worry about for this problem!</p>\n"},{"tags":[],"owner":{"account_id":19756745,"reputation":2160,"user_id":14466860,"display_name":"Munsif Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644345033,"creation_date":1644345033,"answer_id":71039050,"question_id":71038944,"body_markdown":"Of course there are other efficient ways for this type of problems as your question is concern that it not conventional. most of the developers are using it but nested loops are not a good choice performance wise.","title":"Is the use of while loops ok here? Or it&#39;s excesive","body":"<p>Of course there are other efficient ways for this type of problems as your question is concern that it not conventional. most of the developers are using it but nested loops are not a good choice performance wise.</p>\n"}],"owner":{"account_id":21781930,"reputation":1,"user_id":16083524,"display_name":"Clozer Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1644345483,"creation_date":1644344552,"question_id":71038944,"body_markdown":"I want to know if it is ok to use as much while loops as I want or it is just not conventional. Also searhing for another solution to check only if the user enters the two symbols of the tic tac toe ***(X, O)***, but only one user can have each of them.\r\n\r\nIn other words, when the user is prompted for choosing the symbol he wants for playing, if he introduces an invalid one, keep asking till it&#39;s one of the both above. Then, for the second player he can only choose, for example, the ***&#39;O&#39;*** if the first player have chosen the ***&#39;X&#39;***, and also ensuring it&#39;s only one of the two symbols and not an invalid one. \r\n\r\n```public class Runner {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String playerName, playerMove;\r\n\r\n        System.out.print(&quot;Introduce el nombre del primer jugador: &quot;);\r\n        playerName = sc.next();\r\n        playerName = playerName.substring(0, 1).toUpperCase() + playerName.substring(1);\r\n\r\n        System.out.print(&quot;Introduce el s&#237;mbolo que quieres jugar (&#39;X&#39;, &#39;O&#39;): &quot;);\r\n        playerMove = sc.next();\r\n\r\n        while (!playerMove.equalsIgnoreCase(&quot;X&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;O&quot;)) {\r\n            System.out.print(&quot;Introduce un s&#237;mbolo v&#225;lido: &quot;);\r\n            playerMove = sc.next();\r\n        }\r\n\r\n        playerMove = playerMove.toUpperCase();\r\n\r\n        Player player1 = new Player(playerName, playerMove);\r\n        System.out.println();\r\n        System.out.println(&quot;&#161;Bienvenido &quot; + player1.name + &quot;!&quot;);\r\n\r\n        System.out.println();\r\n        System.out.print(&quot;Introduce el nombre del segundo jugador: &quot;);\r\n        playerName = sc.next();\r\n        playerName = playerName.substring(0, 1).toUpperCase() + playerName.substring(1);\r\n\r\n        System.out.print(&quot;Introduce el s&#237;mbolo que quieres jugar (&#39;X&#39;, &#39;O&#39;): &quot;);\r\n        playerMove = sc.next();\r\n\r\n\r\n        while (!playerMove.equalsIgnoreCase(&quot;X&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;O&quot;)) {\r\n            System.out.print(&quot;Introduce un s&#237;mbolo v&#225;lido: &quot;);\r\n            playerMove = sc.next();\r\n        }\r\n\r\n        while (playerMove.equalsIgnoreCase(player1.moveType)) {\r\n            System.out.print(&quot;Introduce un s&#237;mbolo distinto al del otro jugador: &quot;);\r\n            playerMove = sc.next();\r\n\r\n            while (!playerMove.equalsIgnoreCase(&quot;X&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;O&quot;)) {\r\n                System.out.print(&quot;Introduce un s&#237;mbolo v&#225;lido: &quot;);\r\n                playerMove = sc.next();\r\n            }\r\n        }\r\n\r\n        playerMove = playerMove.toUpperCase();\r\n\r\n        Player player2 = new Player(playerName, playerMove);\r\n        System.out.println();\r\n        System.out.println(&quot;&#161;Bienvenido &quot; + player2.name + &quot;!&quot;);\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;El s&#237;mbolo de &quot; + player1.name + &quot; es &quot; + player1.moveType + &quot;.&quot;);\r\n        System.out.println(&quot;El s&#237;mbolo de &quot; + player2.name + &quot; es &quot; + player2.moveType + &quot;.&quot;);\r\n\r\n        System.out.println();\r\n\r\n        Board board = new Board();\r\n\r\n        System.out.println(&quot;El tablero es: &quot;);\r\n        System.out.println();\r\n\r\n        board.displayBoard();\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n","title":"Is the use of while loops ok here? Or it&#39;s excesive","body":"<p>I want to know if it is ok to use as much while loops as I want or it is just not conventional. Also searhing for another solution to check only if the user enters the two symbols of the tic tac toe <em><strong>(X, O)</strong></em>, but only one user can have each of them.</p>\n<p>In other words, when the user is prompted for choosing the symbol he wants for playing, if he introduces an invalid one, keep asking till it's one of the both above. Then, for the second player he can only choose, for example, the <em><strong>'O'</strong></em> if the first player have chosen the <em><strong>'X'</strong></em>, and also ensuring it's only one of the two symbols and not an invalid one.</p>\n<pre><code>    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String playerName, playerMove;\n\n        System.out.print(&quot;Introduce el nombre del primer jugador: &quot;);\n        playerName = sc.next();\n        playerName = playerName.substring(0, 1).toUpperCase() + playerName.substring(1);\n\n        System.out.print(&quot;Introduce el símbolo que quieres jugar ('X', 'O'): &quot;);\n        playerMove = sc.next();\n\n        while (!playerMove.equalsIgnoreCase(&quot;X&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;O&quot;)) {\n            System.out.print(&quot;Introduce un símbolo válido: &quot;);\n            playerMove = sc.next();\n        }\n\n        playerMove = playerMove.toUpperCase();\n\n        Player player1 = new Player(playerName, playerMove);\n        System.out.println();\n        System.out.println(&quot;¡Bienvenido &quot; + player1.name + &quot;!&quot;);\n\n        System.out.println();\n        System.out.print(&quot;Introduce el nombre del segundo jugador: &quot;);\n        playerName = sc.next();\n        playerName = playerName.substring(0, 1).toUpperCase() + playerName.substring(1);\n\n        System.out.print(&quot;Introduce el símbolo que quieres jugar ('X', 'O'): &quot;);\n        playerMove = sc.next();\n\n\n        while (!playerMove.equalsIgnoreCase(&quot;X&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;O&quot;)) {\n            System.out.print(&quot;Introduce un símbolo válido: &quot;);\n            playerMove = sc.next();\n        }\n\n        while (playerMove.equalsIgnoreCase(player1.moveType)) {\n            System.out.print(&quot;Introduce un símbolo distinto al del otro jugador: &quot;);\n            playerMove = sc.next();\n\n            while (!playerMove.equalsIgnoreCase(&quot;X&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;O&quot;)) {\n                System.out.print(&quot;Introduce un símbolo válido: &quot;);\n                playerMove = sc.next();\n            }\n        }\n\n        playerMove = playerMove.toUpperCase();\n\n        Player player2 = new Player(playerName, playerMove);\n        System.out.println();\n        System.out.println(&quot;¡Bienvenido &quot; + player2.name + &quot;!&quot;);\n        System.out.println();\n\n        System.out.println(&quot;El símbolo de &quot; + player1.name + &quot; es &quot; + player1.moveType + &quot;.&quot;);\n        System.out.println(&quot;El símbolo de &quot; + player2.name + &quot; es &quot; + player2.moveType + &quot;.&quot;);\n\n        System.out.println();\n\n        Board board = new Board();\n\n        System.out.println(&quot;El tablero es: &quot;);\n        System.out.println();\n\n        board.displayBoard();\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1342957586,"post_id":11599604,"comment_id":15354003,"body_markdown":"That comment is not a javadoc comment, so it means nothing.","body":"That comment is not a javadoc comment, so it means nothing."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1342954385,"creation_date":1342954052,"answer_id":11599618,"question_id":11599604,"body_markdown":"@Deprecated is a marker interface whereas deprecated is not. [@deprecated][1] is a Javadoc Tag.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html#javadoc_tag","title":"Eclipse @deprecated not working, but @Deprecated work","body":"<p>@Deprecated is a marker interface whereas deprecated is not. <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html#javadoc_tag\" rel=\"noreferrer\">@deprecated</a> is a Javadoc Tag.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342954073,"creation_date":1342954073,"answer_id":11599624,"question_id":11599604,"body_markdown":"I believe `@deprecated` is only for use in Javadoc comments in explaining deprecation, and is not itself an annotation usable on methods.","title":"Eclipse @deprecated not working, but @Deprecated work","body":"<p>I believe <code>@deprecated</code> is only for use in Javadoc comments in explaining deprecation, and is not itself an annotation usable on methods.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342954747,"creation_date":1342954747,"answer_id":11599691,"question_id":11599604,"body_markdown":"**1.** Annotation types are, in fact, a **form of interface**.\r\n\r\n**2.** the `@Deprecated` annotation **indicates that the marked element is deprecated and should no longer be used.**\r\n\r\n**3.** When an element is deprecated, it should also be **documented** using the Javadoc `@deprecated` tag, which means that `@deprecated` **is only for the use in Javadoc documentation, and not for applying on the methods**.\r\n\r\nFor more details see this:\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/javaOO/annotations.html","title":"Eclipse @deprecated not working, but @Deprecated work","body":"<p><strong>1.</strong> Annotation types are, in fact, a <strong>form of interface</strong>.</p>\n\n<p><strong>2.</strong> the <code>@Deprecated</code> annotation <strong>indicates that the marked element is deprecated and should no longer be used.</strong></p>\n\n<p><strong>3.</strong> When an element is deprecated, it should also be <strong>documented</strong> using the Javadoc <code>@deprecated</code> tag, which means that <code>@deprecated</code> <strong>is only for the use in Javadoc documentation, and not for applying on the methods</strong>.</p>\n\n<p>For more details see this:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/annotations.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/javaOO/annotations.html</a></p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1342957704,"creation_date":1342957704,"answer_id":11600028,"question_id":11599604,"body_markdown":"Your comment is not a javadoc comment so it is ignored by Eclipse. If you would have used \r\n\r\n    /**\r\n     * @deprecated\r\n     */\r\n\r\nthen Eclipse would have handled it exactly the same as when you specify the `@Deprecated` annotation.","title":"Eclipse @deprecated not working, but @Deprecated work","body":"<p>Your comment is not a javadoc comment so it is ignored by Eclipse. If you would have used </p>\n\n<pre><code>/**\n * @deprecated\n */\n</code></pre>\n\n<p>then Eclipse would have handled it exactly the same as when you specify the <code>@Deprecated</code> annotation.</p>\n"}],"owner":{"account_id":171062,"reputation":10231,"user_id":398230,"accept_rate":47,"display_name":"Ryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11600028,"answer_count":4,"score":2,"last_activity_date":1644345205,"creation_date":1342953901,"question_id":11599604,"body_markdown":"In my Eclipse Indigo, only `@Deprecated` work but not `@deprecated` in comment, any idea?\r\n\r\ne.g.\r\n\r\n    // @deprecated &lt;-- not work\r\n    @Deprecated    &lt;-- work\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }","title":"Eclipse @deprecated not working, but @Deprecated work","body":"<p>In my Eclipse Indigo, only <code>@Deprecated</code> work but not <code>@deprecated</code> in comment, any idea?</p>\n\n<p>e.g.</p>\n\n<pre><code>// @deprecated &lt;-- not work\n@Deprecated    &lt;-- work\npublic String getName()\n{\n    return name;\n}\n</code></pre>\n"},{"tags":["java","return","settings"],"comments":[{"owner":{"account_id":9754652,"reputation":156,"user_id":7231810,"display_name":"mihir raj"},"score":0,"creation_date":1644348759,"post_id":71039041,"comment_id":125582123,"body_markdown":"Basically you want to build getter setter without actually writing getters and setters right?","body":"Basically you want to build getter setter without actually writing getters and setters right?"},{"owner":{"account_id":24195913,"reputation":1,"user_id":18154480,"display_name":"bad_At_Java"},"score":0,"creation_date":1644445661,"post_id":71039041,"comment_id":125612402,"body_markdown":"I want to be able to call a function that changes the output depending on the setting, so that In code i dont need to write a different function for each type of setting\nlike if booleansetting return boolean if stringSetting return string @mihirraj","body":"I want to be able to call a function that changes the output depending on the setting, so that In code i dont need to write a different function for each type of setting like if booleansetting return boolean if stringSetting return string @mihirraj"},{"owner":{"account_id":9754652,"reputation":156,"user_id":7231810,"display_name":"mihir raj"},"score":0,"creation_date":1645483321,"post_id":71039041,"comment_id":125879027,"body_markdown":"Try to use Lombok. \nNot sure if that is what you are asking.\nhttps://projectlombok.org/features/GetterSetter","body":"Try to use Lombok.  Not sure if that is what you are asking. <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">projectlombok.org/features/GetterSetter</a>"}],"owner":{"account_id":24195913,"reputation":1,"user_id":18154480,"display_name":"bad_At_Java"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644344992,"creation_date":1644344992,"question_id":71039041,"body_markdown":"I have a setting system and I want to be able to return the correct setting with the correct type of variable without making a new function for each.\r\nSo I have some code to save some settings. \r\n```\r\nSetting (String name, Object value){\r\n\r\n}\r\n```\r\nThis would work fine but I have many different types of settings to save. So I made sub-classes\r\nFor example:\r\n```\r\nBooleanSetting (String name, boolean value){\r\nsuper(name,value);\r\n}\r\n```\r\nNow I wanted to make 1 function that would work for all, but I&#39;m not sure how.\r\n\r\nIn setting I have this method\r\n```\r\npublic Object getValue(String name){\r\n// I have some code here to search through the setting list for the setting with the name\r\n// Lets call this setting setting\r\nif(setting instanceof BooleanSetting){\r\nreturn ect;\r\n}\r\n...\r\n}\r\n```\r\nNow if I return anything it would still be an object so is this even possible. If not what is the next best solution.\r\n\r\nWhat is the next step.\r\n\r\nThanks for any help.","title":"multiple types of outputs from return statment","body":"<p>I have a setting system and I want to be able to return the correct setting with the correct type of variable without making a new function for each.\nSo I have some code to save some settings.</p>\n<pre><code>Setting (String name, Object value){\n\n}\n</code></pre>\n<p>This would work fine but I have many different types of settings to save. So I made sub-classes\nFor example:</p>\n<pre><code>BooleanSetting (String name, boolean value){\nsuper(name,value);\n}\n</code></pre>\n<p>Now I wanted to make 1 function that would work for all, but I'm not sure how.</p>\n<p>In setting I have this method</p>\n<pre><code>public Object getValue(String name){\n// I have some code here to search through the setting list for the setting with the name\n// Lets call this setting setting\nif(setting instanceof BooleanSetting){\nreturn ect;\n}\n...\n}\n</code></pre>\n<p>Now if I return anything it would still be an object so is this even possible. If not what is the next best solution.</p>\n<p>What is the next step.</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1644341873,"post_id":71038254,"comment_id":125579486,"body_markdown":"You&#39;re using a mock which doesn&#39;t have any behavior at all, so you can&#39;t call `isOfficeOpen` on it. If you need a partial mock, where you just mock your `getCurrentTime` method, you need a `Mockito.spy` instead.","body":"You&#39;re using a mock which doesn&#39;t have any behavior at all, so you can&#39;t call <code>isOfficeOpen</code> on it. If you need a partial mock, where you just mock your <code>getCurrentTime</code> method, you need a <code>Mockito.spy</code> instead."},{"owner":{"account_id":10939087,"reputation":11,"user_id":8039603,"display_name":"aakash"},"score":0,"creation_date":1644342139,"post_id":71038254,"comment_id":125579590,"body_markdown":"Is there any other way to write this test? I am na&#239;ve to this hence missing out on few things","body":"Is there any other way to write this test? I am na&#239;ve to this hence missing out on few things"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644342753,"post_id":71038254,"comment_id":125579861,"body_markdown":"You are testing if the current time is between the opening time and the opening time: `if (currentTime.isAfter(Opentime)&amp;&amp;currentTime.isBefore(Opentime))`. Also, the name of the field should begin with a lowercase letter.","body":"You are testing if the current time is between the opening time and the opening time: <code>if (currentTime.isAfter(Opentime)&amp;&amp;currentTime.isBefore(Opentim&zwnj;&#8203;e))</code>. Also, the name of the field should begin with a lowercase letter."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644342801,"post_id":71038254,"comment_id":125579881,"body_markdown":"Why are you mocking the class under test? You should only mock its dependencies. You should inject a [`Clock`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html) into your class and use it when getting the current time, so you can control it in your test.","body":"Why are you mocking the class under test? You should only mock its dependencies. You should inject a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> into your class and use it when getting the current time, so you can control it in your test."},{"owner":{"account_id":10939087,"reputation":11,"user_id":8039603,"display_name":"aakash"},"score":0,"creation_date":1644343155,"post_id":71038254,"comment_id":125580023,"body_markdown":"@DavidConrad Apologies for the typo, corrected it now in question:\nif (currentTime.isAfter(openTime)&amp;&amp;currentTime.isBefore(closeTime)","body":"@DavidConrad Apologies for the typo, corrected it now in question: if (currentTime.isAfter(openTime)&amp;&amp;currentTime.isBefore(closeTi&zwnj;&#8203;me)"},{"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"score":0,"creation_date":1644343758,"post_id":71038254,"comment_id":125580239,"body_markdown":"If you initialize openingTime , closeTime in your test case, It wont reflect in the `isOfficeOpen ` method.","body":"If you initialize openingTime , closeTime in your test case, It wont reflect in the <code>isOfficeOpen </code> method."},{"owner":{"account_id":10939087,"reputation":11,"user_id":8039603,"display_name":"aakash"},"score":0,"creation_date":1644344034,"post_id":71038254,"comment_id":125580354,"body_markdown":"@Tris Can you please suggest an approach, how I can achieve it?","body":"@Tris Can you please suggest an approach, how I can achieve it?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1644344234,"post_id":71038254,"comment_id":125580437,"body_markdown":"You are literally testing a mock which is not something you should do. Test implementation, mock dependencies","body":"You are literally testing a mock which is not something you should do. Test implementation, mock dependencies"},{"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"score":0,"creation_date":1644344569,"post_id":71038254,"comment_id":125580580,"body_markdown":"Change method param to `public boolean isOfficeOpen(openingTime , closingTime)`  and \n pass `offc.isOfficeOpen(openingTime , closingTime)` in the test case. It will work. By the way this is not a good example to learn mockito.","body":"Change method param to <code>public boolean isOfficeOpen(openingTime , closingTime)</code>  and   pass <code>offc.isOfficeOpen(openingTime , closingTime)</code> in the test case. It will work. By the way this is not a good example to learn mockito."}],"answers":[{"tags":[],"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644344135,"creation_date":1644344135,"answer_id":71038844,"question_id":71038254,"body_markdown":"`Office.isOfficeOpen()` is never called. Instead the mock is used. But because you didn&#39;t provide any behaviour with `Mockito.when(offc.isOfficeOpen()).thenReturn(...);` Mockito just returns null/false and your test fails.\r\n\r\nBut the big question is: why are you using Mockito here instead of testing the class directly?","title":"Mockito not working for a Boolean Function","body":"<p><code>Office.isOfficeOpen()</code> is never called. Instead the mock is used. But because you didn't provide any behaviour with <code>Mockito.when(offc.isOfficeOpen()).thenReturn(...);</code> Mockito just returns null/false and your test fails.</p>\n<p>But the big question is: why are you using Mockito here instead of testing the class directly?</p>\n"},{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644344490,"creation_date":1644344490,"answer_id":71038924,"question_id":71038254,"body_markdown":"You are trying to test a mock which is not something that you normally do. You should test implementation, and mock dependencies.\r\n\r\n\r\n    @AllArgsConstructor // if you are not using lombok, just create all args constructor yourself\r\n    public class Office {\r\n        public LocalTime openTime;\r\n        public LocalTime closeTime;\r\n        public Producer&lt;LocalTime&gt; currentTimeProvider;\r\n        \r\n            public boolean isOfficeOpen() {\r\n            currentTime = getCurrentTime();\r\n    \r\n            if (currentTime.isAfter(openTime)&amp;&amp;currentTime.isBefore(closeTime)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n            \r\n        }\r\n        public LocalTime getCurrentTime(){ return  this.currentTimeProvider.get() }\r\n    }\r\n\r\n:\r\n\r\n    @Test\r\n    public void is_office_open_pass_test(){\r\n        LocalTime openingTime = LocalTime.parse(&quot;10:30:00&quot;);\r\n        LocalTime closingTime = LocalTime.parse(&quot;23:00:00&quot;);\r\n        LocalTime currentTime = openingTime.plusHours(1);\r\n    \r\n        Office offc = new Office(openingTime,closingTime,()-&gt;currentTime)\r\n        boolean status = offc.isOfficeOpen();\r\n        assertTrue(status);\r\n    }","title":"Mockito not working for a Boolean Function","body":"<p>You are trying to test a mock which is not something that you normally do. You should test implementation, and mock dependencies.</p>\n<pre><code>@AllArgsConstructor // if you are not using lombok, just create all args constructor yourself\npublic class Office {\n    public LocalTime openTime;\n    public LocalTime closeTime;\n    public Producer&lt;LocalTime&gt; currentTimeProvider;\n    \n        public boolean isOfficeOpen() {\n        currentTime = getCurrentTime();\n\n        if (currentTime.isAfter(openTime)&amp;&amp;currentTime.isBefore(closeTime)) {\n            return true;\n        } else {\n            return false;\n        }\n        \n    }\n    public LocalTime getCurrentTime(){ return  this.currentTimeProvider.get() }\n}\n</code></pre>\n<p>:</p>\n<pre><code>@Test\npublic void is_office_open_pass_test(){\n    LocalTime openingTime = LocalTime.parse(&quot;10:30:00&quot;);\n    LocalTime closingTime = LocalTime.parse(&quot;23:00:00&quot;);\n    LocalTime currentTime = openingTime.plusHours(1);\n\n    Office offc = new Office(openingTime,closingTime,()-&gt;currentTime)\n    boolean status = offc.isOfficeOpen();\n    assertTrue(status);\n}\n</code></pre>\n"}],"owner":{"account_id":10939087,"reputation":11,"user_id":8039603,"display_name":"aakash"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1644344490,"creation_date":1644341577,"question_id":71038254,"body_markdown":"I have a function which tells whether the office is open or closed. I have written a test case which is giving result as False but expecting True. I am not able to figure out reason.\r\n\r\n        public class Office {\r\n            public LocalTime openTime;\r\n            public LocalTime closeTime;\r\n            public LocalTime currentTime;\r\n            \r\n                public boolean isOfficeOpen() {\r\n                currentTime = getCurrentTime();\r\n        \r\n                if (currentTime.isAfter(openTime)&amp;&amp;currentTime.isBefore(closeTime)) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n                \r\n            }\r\n            public LocalTime getCurrentTime(){ return  LocalTime.now(); }\r\n        }\r\n    \r\n    :\r\n    \r\n    @Test\r\n    public void is_office_open_pass_test(){\r\n        Office offc = Mockito.mock(Office.class);\r\n        LocalTime openingTime = LocalTime.parse(&quot;10:30:00&quot;);\r\n        LocalTime closingTime = LocalTime.parse(&quot;23:00:00&quot;);\r\n        LocalTime currentTime = openingTime.plusHours(1);\r\n        Mockito.when(offc.getCurrentTime()).thenReturn(currentTime);\r\n        boolean status = offc.isOfficeOpen();\r\n        assertTrue(status);\r\n    }","title":"Mockito not working for a Boolean Function","body":"<p>I have a function which tells whether the office is open or closed. I have written a test case which is giving result as False but expecting True. I am not able to figure out reason.</p>\n<pre><code>    public class Office {\n        public LocalTime openTime;\n        public LocalTime closeTime;\n        public LocalTime currentTime;\n        \n            public boolean isOfficeOpen() {\n            currentTime = getCurrentTime();\n    \n            if (currentTime.isAfter(openTime)&amp;&amp;currentTime.isBefore(closeTime)) {\n                return true;\n            } else {\n                return false;\n            }\n            \n        }\n        public LocalTime getCurrentTime(){ return  LocalTime.now(); }\n    }\n\n:\n\n@Test\npublic void is_office_open_pass_test(){\n    Office offc = Mockito.mock(Office.class);\n    LocalTime openingTime = LocalTime.parse(&quot;10:30:00&quot;);\n    LocalTime closingTime = LocalTime.parse(&quot;23:00:00&quot;);\n    LocalTime currentTime = openingTime.plusHours(1);\n    Mockito.when(offc.getCurrentTime()).thenReturn(currentTime);\n    boolean status = offc.isOfficeOpen();\n    assertTrue(status);\n}\n</code></pre>\n"},{"tags":["java","spring-data","project-reactor","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601470106,"creation_date":1601470106,"answer_id":64137931,"question_id":64118830,"body_markdown":"1. In the RestController, validate the incoming request body using the annotations from Bean validation and Hibernate validators.\r\n2. For RouterFunction or manal validation in your service, inject a Validator or ValidatorFactory to validate the request body before the data is (converted and) persisted into databases.\r\n3. JPA is tightly integrated with Bean Validation/Hibernate Validator, besides validation, it will affect the generated schemes by default. \r\n4. In a real world application, do not use the data layered entity classes in the web layer as request body class.","title":"How can I validate entities with spring data r2dbc?","body":"<ol>\n<li>In the RestController, validate the incoming request body using the annotations from Bean validation and Hibernate validators.</li>\n<li>For RouterFunction or manal validation in your service, inject a Validator or ValidatorFactory to validate the request body before the data is (converted and) persisted into databases.</li>\n<li>JPA is tightly integrated with Bean Validation/Hibernate Validator, besides validation, it will affect the generated schemes by default.</li>\n<li>In a real world application, do not use the data layered entity classes in the web layer as request body class.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14888928,"reputation":9,"user_id":10751267,"display_name":"Cibele Watt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644344025,"creation_date":1644344025,"answer_id":71038824,"question_id":64118830,"body_markdown":"It works very fine with Bean Validation and Hibernate Validation. \r\n\r\nYou can use all the same annotations you did in JPA, since you do it in your DTOs.\r\n\r\nSee the example:  \r\n\r\n    @Data\r\n    public class UserDto {\r\n    \r\n        private String name;\r\n    \r\n        @NotNull(message = &quot;Last name can not be empty&quot;)\r\n        private String lastName;\r\n    \r\n        @Min(value = 10, message = &quot;Required min age is 10&quot;)\r\n        @Max(value = 50, message = &quot;Required max age is 50&quot;)\r\n        private int age;\r\n    }\r\n\r\nThen your controller would be annotated:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;user&quot;)\r\n    public class RegistrationController {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @PostMapping(&quot;register&quot;)\r\n        public Mono&lt;UserDto&gt; register(@Valid @RequestBody Mono&lt;UserDto&gt; userDtoMono{\r\n            return this.userService.registerUser(userDtoMono);\r\n        }\r\n    }\r\n\r\nThe only thing now is that you have to personalize your message, so that it returns the one you have set in your DTO. To override it you should create an ExceptionHandler. \r\n\r\n    @ControllerAdvice\r\n    public class ValidationHandler {\r\n    \r\n        @ExceptionHandler(WebExchangeBindException.class)\r\n        public ResponseEntity&lt;List&lt;String&gt;&gt; handleException(WebExchangeBindException e) {\r\n            var errors = e.getBindingResult()\r\n                    .getAllErrors()\r\n                    .stream()\r\n                    .map(DefaultMessageSourceResolvable::getDefaultMessage)\r\n                    .collect(Collectors.toList());\r\n            return ResponseEntity.badRequest().body(errors);\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;ve been using it in my projects and got this example from: https://www.vinsguru.com/spring-webflux-validation/\r\n","title":"How can I validate entities with spring data r2dbc?","body":"<p>It works very fine with Bean Validation and Hibernate Validation.</p>\n<p>You can use all the same annotations you did in JPA, since you do it in your DTOs.</p>\n<p>See the example:</p>\n<pre><code>@Data\npublic class UserDto {\n\n    private String name;\n\n    @NotNull(message = &quot;Last name can not be empty&quot;)\n    private String lastName;\n\n    @Min(value = 10, message = &quot;Required min age is 10&quot;)\n    @Max(value = 50, message = &quot;Required max age is 50&quot;)\n    private int age;\n}\n</code></pre>\n<p>Then your controller would be annotated:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;user&quot;)\npublic class RegistrationController {\n\n    @Autowired\n    private UserService userService;\n\n    @PostMapping(&quot;register&quot;)\n    public Mono&lt;UserDto&gt; register(@Valid @RequestBody Mono&lt;UserDto&gt; userDtoMono{\n        return this.userService.registerUser(userDtoMono);\n    }\n}\n</code></pre>\n<p>The only thing now is that you have to personalize your message, so that it returns the one you have set in your DTO. To override it you should create an ExceptionHandler.</p>\n<pre><code>@ControllerAdvice\npublic class ValidationHandler {\n\n    @ExceptionHandler(WebExchangeBindException.class)\n    public ResponseEntity&lt;List&lt;String&gt;&gt; handleException(WebExchangeBindException e) {\n        var errors = e.getBindingResult()\n                .getAllErrors()\n                .stream()\n                .map(DefaultMessageSourceResolvable::getDefaultMessage)\n                .collect(Collectors.toList());\n        return ResponseEntity.badRequest().body(errors);\n    }\n\n}\n</code></pre>\n<p>I've been using it in my projects and got this example from: <a href=\"https://www.vinsguru.com/spring-webflux-validation/\" rel=\"nofollow noreferrer\">https://www.vinsguru.com/spring-webflux-validation/</a></p>\n"}],"owner":{"account_id":10561548,"reputation":2425,"user_id":7781169,"display_name":"fyrkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1644344025,"creation_date":1601379458,"question_id":64118830,"body_markdown":"In Spring data JPA there are annotations that can be used to set up validations for entities in a declarative manner. They can be found in `javax.validation.constraints.*` or additionally in `org.hibernate.validator.constraints.*` (in the case when Hibernate is plugged in).\r\n\r\nExample: \r\n```\r\n    @NotNull\r\n    private String lastName;\r\n```\r\n\r\nHowever, if the case of Spring data r2dbc they do not work out of the box. \r\n\r\nIs there any simple and smooth way to set up validations for entities in Spring data r2dbc? That should not be too difficult in my opinion because probably it does not require full ORM support, just a matter of callbacks for checking object fields before persisting it.","title":"How can I validate entities with spring data r2dbc?","body":"<p>In Spring data JPA there are annotations that can be used to set up validations for entities in a declarative manner. They can be found in <code>javax.validation.constraints.*</code> or additionally in <code>org.hibernate.validator.constraints.*</code> (in the case when Hibernate is plugged in).</p>\n<p>Example:</p>\n<pre><code>    @NotNull\n    private String lastName;\n</code></pre>\n<p>However, if the case of Spring data r2dbc they do not work out of the box.</p>\n<p>Is there any simple and smooth way to set up validations for entities in Spring data r2dbc? That should not be too difficult in my opinion because probably it does not require full ORM support, just a matter of callbacks for checking object fields before persisting it.</p>\n"},{"tags":["java","jpanel","border","dotted-line"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1349398102,"post_id":12738045,"comment_id":17206451,"body_markdown":"Take a look at [MatteBorder](http://docs.oracle.com/javase/7/docs/api/javax/swing/border/MatteBorder.html) and [How to use borders](http://docs.oracle.com/javase/tutorial/uiswing/components/border.html) for examples","body":"Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/border/MatteBorder.html\" rel=\"nofollow noreferrer\">MatteBorder</a> and <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to use borders</a> for examples"},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1349398161,"post_id":12738045,"comment_id":17206462,"body_markdown":"http://docs.oracle.com/javase/tutorial/uiswing/components/border.html#custom","body":"<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/border.html#custom\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1249558,"reputation":5689,"user_id":1210260,"accept_rate":71,"display_name":"gobernador"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1349400958,"creation_date":1349400958,"answer_id":12738348,"question_id":12738045,"body_markdown":"You&#39;re looking for [`BorderFactory.createDashedBorder(Paint)`](http://docs.oracle.com/javase/7/docs/api/javax/swing/BorderFactory.html#createDashedBorder(java.awt.Paint)).","title":"Java add a Dashed or dotted border to a JPanel","body":"<p>You're looking for <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/BorderFactory.html#createDashedBorder%28java.awt.Paint%29\"><code>BorderFactory.createDashedBorder(Paint)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":361630,"reputation":3255,"user_id":704335,"accept_rate":50,"display_name":"Timmos"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1362658346,"creation_date":1362658346,"answer_id":15270947,"question_id":12738045,"body_markdown":"Starting from Java 7, you can use ``BorderFactory.createDashedBorder(Paint)``.\r\n\r\nPrior to Java 7, you have to define this border yourself. Then you can use this self-written border:\r\n\r\n    private class DashedBorder extends AbstractBorder {\r\n        @Override\r\n        public void paintBorder(Component comp, Graphics g, int x, int y, int w, int h) {\r\n            Graphics2D gg = (Graphics2D) g;\r\n            gg.setColor(Color.GRAY);\r\n            gg.setStroke(new BasicStroke(1, BasicStroke.CAP_BUTT, BasicStroke.JOIN_BEVEL, 0, new float[]{1}, 0));\r\n            gg.drawRect(x, y, w - 1, h - 1);\r\n        }\r\n    }","title":"Java add a Dashed or dotted border to a JPanel","body":"<p>Starting from Java 7, you can use <code>BorderFactory.createDashedBorder(Paint)</code>.</p>\n\n<p>Prior to Java 7, you have to define this border yourself. Then you can use this self-written border:</p>\n\n<pre><code>private class DashedBorder extends AbstractBorder {\n    @Override\n    public void paintBorder(Component comp, Graphics g, int x, int y, int w, int h) {\n        Graphics2D gg = (Graphics2D) g;\n        gg.setColor(Color.GRAY);\n        gg.setStroke(new BasicStroke(1, BasicStroke.CAP_BUTT, BasicStroke.JOIN_BEVEL, 0, new float[]{1}, 0));\n        gg.drawRect(x, y, w - 1, h - 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2998171,"reputation":563,"user_id":2544255,"accept_rate":75,"display_name":"Olmstov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644343806,"creation_date":1644343806,"answer_id":71038779,"question_id":12738045,"body_markdown":"Using Java 6 I had issues with getting a custom AbstractBorder from [Timmos][1] solution (above) to work. The drawing would show odd artifacts like only a few pixels would draw sporadically. The insets needed to be defined and can be done by adding the following methods:\r\n\r\n    public Insets getBorderInsets(Component c)\r\n    {\r\n        return new Insets(thickness, thickness, thickness, thickness);\r\n    }\r\n    \r\n    public Insets getBorderInsets(Component c, Insets insets)\r\n        insets.left = insets.right = insets.top = insets.bottom = thickness;\r\n        return insets;\r\n    }\r\n\r\nWhere the thickness is whatever you want for your border. e.g. 1\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15270947/2544255","title":"Java add a Dashed or dotted border to a JPanel","body":"<p>Using Java 6 I had issues with getting a custom AbstractBorder from <a href=\"https://stackoverflow.com/a/15270947/2544255\">Timmos</a> solution (above) to work. The drawing would show odd artifacts like only a few pixels would draw sporadically. The insets needed to be defined and can be done by adding the following methods:</p>\n<pre><code>public Insets getBorderInsets(Component c)\n{\n    return new Insets(thickness, thickness, thickness, thickness);\n}\n\npublic Insets getBorderInsets(Component c, Insets insets)\n    insets.left = insets.right = insets.top = insets.bottom = thickness;\n    return insets;\n}\n</code></pre>\n<p>Where the thickness is whatever you want for your border. e.g. 1</p>\n"}],"owner":{"account_id":1407559,"reputation":2536,"user_id":1334859,"accept_rate":50,"display_name":"Gianmarco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8418,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":12738348,"answer_count":3,"score":6,"last_activity_date":1644343806,"creation_date":1349397999,"question_id":12738045,"body_markdown":"I am having problems with this thing: can I, in some way, add a dashed (or dotted, no matter) border to a JPanel?\r\n\r\nI searched SO questions but seems that no one asked this before.\r\n\r\nI&#39;m wondering if is there any class to use. actually I am using:\r\n\r\n    myPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n\r\nObviously this is a standard class that give only few standard borders, no one is useful for me.\r\n\r\n\r\n\r\n","title":"Java add a Dashed or dotted border to a JPanel","body":"<p>I am having problems with this thing: can I, in some way, add a dashed (or dotted, no matter) border to a JPanel?</p>\n\n<p>I searched SO questions but seems that no one asked this before.</p>\n\n<p>I'm wondering if is there any class to use. actually I am using:</p>\n\n<pre><code>myPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n</code></pre>\n\n<p>Obviously this is a standard class that give only few standard borders, no one is useful for me.</p>\n"},{"tags":["java","spring","model-view-controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644344982,"post_id":71038707,"comment_id":125580753,"body_markdown":"1. Unless explicitly marked as a session scoped object it is only available during the request. Each request has a new model. Instead of storing the full object (do you really need it) you might be better of passing the ID around instead of stuffing the full object in the session.","body":"1. Unless explicitly marked as a session scoped object it is only available during the request. Each request has a new model. Instead of storing the full object (do you really need it) you might be better of passing the ID around instead of stuffing the full object in the session."},{"owner":{"account_id":14009694,"reputation":11,"user_id":10118698,"display_name":"Maty"},"score":0,"creation_date":1644347106,"post_id":71038707,"comment_id":125581561,"body_markdown":"Thank you, you really helped me understanding that :)","body":"Thank you, you really helped me understanding that :)"}],"owner":{"account_id":14009694,"reputation":11,"user_id":10118698,"display_name":"Maty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644343533,"creation_date":1644343533,"question_id":71038707,"body_markdown":"I do have some issues understanding the basics of Spring. I am writing a very simple discussion platform.\r\n\r\nThis is the GET part\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n        public String getThreadPage(@PathVariable Long id, Model model) {\r\n            if(threadRepository.existsById(id)) {\r\n                var discussionThread = threadRepository.getById(id);\r\n                model.addAttribute(&quot;thread&quot;, discussionThread);\r\n                model.addAttribute(&quot;newPost&quot;, new Post());\r\n                return &quot;thread&quot;;\r\n            } else {\r\n                return &quot;thread-not-found&quot;;\r\n            }\r\n        }\r\nIt works as supposed. The view (html) is able to access both thread and post objects via Thymeleaf.\r\n\r\n    @PostMapping(&quot;/{id}&quot;)\r\n        public String addNewPost(@PathVariable Long id, Post newPost, Model model) {\r\n            var th = (DiscussionThread) model.getAttribute(&quot;thread&quot;);\r\n            th.addPost(newPost);\r\n            threadRepository.save(th);\r\n            return &quot;redirect:/thread/&quot;+id;\r\n        }\r\nThis POST mapping is a bit problematic though. The object **newPost** passes without any problems (it is supposedly correctly mapped via Thymeleaf). However, I am not able to access the **thread** object which was given in the get request. I tried getting it as an method argument or via getAttribute method but nothing works. It always returns **null**.\r\n\r\nMy questions are:\r\n1) Does the Model remain with its given objects/atributes throughout the entire session or does it clear after every request?\r\n2) Is it possible to pass like that objects via view?\r\nThese questions are quite theoretical, I would like to understand how does it work. I am obivously able to resolve that by recalling getting the object from repo by ID.\r\n","title":"How do I pass multiple objects into model in Spring MVC?","body":"<p>I do have some issues understanding the basics of Spring. I am writing a very simple discussion platform.</p>\n<p>This is the GET part</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\n    public String getThreadPage(@PathVariable Long id, Model model) {\n        if(threadRepository.existsById(id)) {\n            var discussionThread = threadRepository.getById(id);\n            model.addAttribute(&quot;thread&quot;, discussionThread);\n            model.addAttribute(&quot;newPost&quot;, new Post());\n            return &quot;thread&quot;;\n        } else {\n            return &quot;thread-not-found&quot;;\n        }\n    }\n</code></pre>\n<p>It works as supposed. The view (html) is able to access both thread and post objects via Thymeleaf.</p>\n<pre><code>@PostMapping(&quot;/{id}&quot;)\n    public String addNewPost(@PathVariable Long id, Post newPost, Model model) {\n        var th = (DiscussionThread) model.getAttribute(&quot;thread&quot;);\n        th.addPost(newPost);\n        threadRepository.save(th);\n        return &quot;redirect:/thread/&quot;+id;\n    }\n</code></pre>\n<p>This POST mapping is a bit problematic though. The object <strong>newPost</strong> passes without any problems (it is supposedly correctly mapped via Thymeleaf). However, I am not able to access the <strong>thread</strong> object which was given in the get request. I tried getting it as an method argument or via getAttribute method but nothing works. It always returns <strong>null</strong>.</p>\n<p>My questions are:</p>\n<ol>\n<li>Does the Model remain with its given objects/atributes throughout the entire session or does it clear after every request?</li>\n<li>Is it possible to pass like that objects via view?\nThese questions are quite theoretical, I would like to understand how does it work. I am obivously able to resolve that by recalling getting the object from repo by ID.</li>\n</ol>\n"},{"tags":["java","eclipse","maven","gradle"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1644298749,"post_id":71028209,"comment_id":125562637,"body_markdown":"I hope that directory is called `src/test/java`...and yes the tests classes are not available by default outside your own module. The question is why you like to have access to the test sources(classes) of a different module.","body":"I hope that directory is called <code>src&#47;test&#47;java</code>...and yes the tests classes are not available by default outside your own module. The question is why you like to have access to the test sources(classes) of a different module."},{"owner":{"account_id":4308781,"reputation":2167,"user_id":3520484,"accept_rate":84,"display_name":"Mark"},"score":0,"creation_date":1644324738,"post_id":71028209,"comment_id":125571586,"body_markdown":"@khmarbaise They are utility test classes that help with testing shared code between other projects. Maven gives this example: https://maven.apache.org/guides/mini/guide-attached-tests.html. It&#39;s ok that test classes are not available by default, but the configuration says &quot;Without test code: No&quot;, so why is it still not available?","body":"@khmarbaise They are utility test classes that help with testing shared code between other projects. Maven gives this example: <a href=\"https://maven.apache.org/guides/mini/guide-attached-tests.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-attached-tests.html</a>. It&#39;s ok that test classes are not available by default, but the configuration says &quot;Without test code: No&quot;, so why is it still not available?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1644326258,"post_id":71028209,"comment_id":125572233,"body_markdown":"Please show your pom files etc. furthermore change to the default locations...","body":"Please show your pom files etc. furthermore change to the default locations..."},{"owner":{"account_id":4308781,"reputation":2167,"user_id":3520484,"accept_rate":84,"display_name":"Mark"},"score":0,"creation_date":1644327880,"post_id":71028209,"comment_id":125572917,"body_markdown":"@khmarbaise You don&#39;t need pom files to reproduce it. I created 2 simple projects in Eclipse, added one to the other in the build path, created 2 classes in their test folders, and tried to use one in the other. I can post that.","body":"@khmarbaise You don&#39;t need pom files to reproduce it. I created 2 simple projects in Eclipse, added one to the other in the build path, created 2 classes in their test folders, and tried to use one in the other. I can post that."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1644328618,"post_id":71028209,"comment_id":125573274,"body_markdown":"If your project is a maven project, then maven controls this and fixing it in maven is the right approach.  Fixing it for non-maven vanilla eclipse projects is different.  For maven, read this: https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html. I expect gradle will be similar but not familiar enough with gradle to give details.","body":"If your project is a maven project, then maven controls this and fixing it in maven is the right approach.  Fixing it for non-maven vanilla eclipse projects is different.  For maven, read this: <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-jar-plugin/examples/&hellip;</a>. I expect gradle will be similar but not familiar enough with gradle to give details."},{"owner":{"account_id":4308781,"reputation":2167,"user_id":3520484,"accept_rate":84,"display_name":"Mark"},"score":0,"creation_date":1644342705,"post_id":71028209,"comment_id":125579841,"body_markdown":"@khmarbaise I added the poms.","body":"@khmarbaise I added the poms."},{"owner":{"account_id":4308781,"reputation":2167,"user_id":3520484,"accept_rate":84,"display_name":"Mark"},"score":0,"creation_date":1644342879,"post_id":71028209,"comment_id":125579921,"body_markdown":"@Taylor I added the poms. From the link, it seems that this is not really possible without a different project. I thought that there would be some configuration to export the tests.","body":"@Taylor I added the poms. From the link, it seems that this is not really possible without a different project. I thought that there would be some configuration to export the tests."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1644355050,"post_id":71028209,"comment_id":125584174,"body_markdown":"Yeah, work is required in Project B pom to produce a test artifact.  (i.e. a jar containing the tests)","body":"Yeah, work is required in Project B pom to produce a test artifact.  (i.e. a jar containing the tests)"}],"owner":{"account_id":4308781,"reputation":2167,"user_id":3520484,"accept_rate":84,"display_name":"Mark"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644342682,"creation_date":1644290609,"question_id":71028209,"body_markdown":"I have project A with a `source/test/java` folder and a class `com.testA.TestA`.\r\n\r\nI also have project B with a `source/test/java` folder and a class `com.testB.TestB`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nProject B is included as a dependency in project A. This is the build configuration of A:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBy default maven sets the &quot;without test code&quot; to Yes, but even if I change it to No and apply there is no difference.\r\n\r\nThese are the tests classes:\r\n\r\n```\r\npackage com.testB;\r\n\r\npublic class TestB {}\r\n```\r\n\r\n```\r\npackage com.sourceB;\r\n\r\npublic class SourceB {}\r\n```\r\n\r\n```\r\npackage com.testA;\r\n\r\nimport com.testB.TestB; // The import com.testsB cannot be resolved\r\nimport com.sourceB.SourceB;\r\n\r\npublic class TestA {\r\n\r\n\tpublic void testMyA() {\r\n\t\tnew SourceB();\r\n\t\tnew TestB();\r\n\t}\r\n}\r\n```\r\n\r\nThe non-test sources from project B are indeed visible to project A&#39;s both test and non-test sources, it&#39;s only B&#39;s test sources that are not available to A&#39;s test sources.\r\n\r\nAm I missing some configuration? I thought that if &quot;without test code&quot; is No then it should work.\r\n\r\nI also tried adding the project through a maven dependency with default scope and a gradle dependency with `api` scope (because I need both test and non-test sources). It didn&#39;t change much.\r\n\r\nHere&#39;s the POM of B: \r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;projectB&lt;/groupId&gt;\r\n  &lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;17&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nProject A:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;projectA&lt;/groupId&gt;\r\n  &lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;dependencies&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t &lt;groupId&gt;projectB&lt;/groupId&gt;\r\n \t\t &lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n \t\t &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;17&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zQMUk.png\r\n  [2]: https://i.stack.imgur.com/jqR11.png","title":"Test sources in one project are not available to test sources in another project","body":"<p>I have project A with a <code>source/test/java</code> folder and a class <code>com.testA.TestA</code>.</p>\n<p>I also have project B with a <code>source/test/java</code> folder and a class <code>com.testB.TestB</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/zQMUk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zQMUk.png\" alt=\"enter image description here\" /></a></p>\n<p>Project B is included as a dependency in project A. This is the build configuration of A:</p>\n<p><a href=\"https://i.stack.imgur.com/jqR11.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jqR11.png\" alt=\"enter image description here\" /></a></p>\n<p>By default maven sets the &quot;without test code&quot; to Yes, but even if I change it to No and apply there is no difference.</p>\n<p>These are the tests classes:</p>\n<pre><code>package com.testB;\n\npublic class TestB {}\n</code></pre>\n<pre><code>package com.sourceB;\n\npublic class SourceB {}\n</code></pre>\n<pre><code>package com.testA;\n\nimport com.testB.TestB; // The import com.testsB cannot be resolved\nimport com.sourceB.SourceB;\n\npublic class TestA {\n\n    public void testMyA() {\n        new SourceB();\n        new TestB();\n    }\n}\n</code></pre>\n<p>The non-test sources from project B are indeed visible to project A's both test and non-test sources, it's only B's test sources that are not available to A's test sources.</p>\n<p>Am I missing some configuration? I thought that if &quot;without test code&quot; is No then it should work.</p>\n<p>I also tried adding the project through a maven dependency with default scope and a gradle dependency with <code>api</code> scope (because I need both test and non-test sources). It didn't change much.</p>\n<p>Here's the POM of B:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;projectB&lt;/groupId&gt;\n  &lt;artifactId&gt;projectB&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;17&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Project A:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;projectA&lt;/groupId&gt;\n  &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;projectB&lt;/groupId&gt;\n         &lt;artifactId&gt;projectB&lt;/artifactId&gt;\n         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;17&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1644340137,"post_id":71037462,"comment_id":125578747,"body_markdown":"What is `List&lt;String, Object&gt;`?  `List` is a container of objects of _one_ type.  What is `ObjectOne` -- a class or an instance of a class?  Where does it come from?","body":"What is <code>List&lt;String, Object&gt;</code>?  <code>List</code> is a container of objects of <i>one</i> type.  What is <code>ObjectOne</code> -- a class or an instance of a class?  Where does it come from?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1644340625,"post_id":71037462,"comment_id":125578967,"body_markdown":"I don’t understand the problem. As far as I can see, your `forEach` code is equivalent to `Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; giantMap = initalMap.entrySet().stream() .collect(Collectors.groupingBy(e -&gt; repository.getCodeById(e.getKey()), Collectors.mapping(Map.Entry::getValue, Collectors.toList())))`. You already named the relevant pointers, `Collectors.groupingBy()` and `Collectors.mapping()`, and their use for this task is rather straight-forward. But it won’t work with your incompatible types, the same way as your `forEach` approach can’t actually work as long as you don’t fix them.","body":"I don’t understand the problem. As far as I can see, your <code>forEach</code> code is equivalent to <code>Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; giantMap = initalMap.entrySet().stream() .collect(Collectors.groupingBy(e -&gt; repository.getCodeById(e.getKey()), Collectors.mapping(Map.Entry::getValue, Collectors.toList())))</code>. You already named the relevant pointers, <code>Collectors.groupingBy()</code> and <code>Collectors.mapping()</code>, and their use for this task is rather straight-forward. But it won’t work with your incompatible types, the same way as your <code>forEach</code> approach can’t actually work as long as you don’t fix them."},{"owner":{"account_id":7154568,"reputation":238,"user_id":5467492,"display_name":"Thomas Verhoeven"},"score":0,"creation_date":1644342479,"post_id":71037462,"comment_id":125579737,"body_markdown":"I indeed had a typo in my question, it had to be List&lt;Map&lt;String, Object&gt;&gt;. The object itself contains a Map&lt;LocalDate, Object&gt;","body":"I indeed had a typo in my question, it had to be List&lt;Map&lt;String, Object&gt;&gt;. The object itself contains a Map&lt;LocalDate, Object&gt;"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644349973,"post_id":71037462,"comment_id":125582547,"body_markdown":"It sounds like you want a [`Multimap`](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html).","body":"It sounds like you want a <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\"><code>Multimap</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644340839,"creation_date":1644340839,"answer_id":71038098,"question_id":71037462,"body_markdown":"So, let&#39;s assume there is a map of some ids to objects of type `ObjectOne`: `Map&lt;ID, ObjectOne&gt;`.\r\n\r\nThe key IDs are converted to some `Code` type by a database call, and the `ObjectOne` values of the first map are just collected into another map using `Collectors.groupingBy` and `Collectors.mapping` as intended initially:\r\n```java\r\nMap&lt;ID, ObjectOne&gt; initialMap = ...;\r\n\r\nMap&lt;Code, List&lt;ObjectOne&gt;&gt; mapByCode = initialMap\r\n        .entrySet()\r\n        .stream() // Stream&lt;Map.Entry&lt;ID, ObjectOne&gt;&gt;\r\n        .collect(Collectors.groupingBy(\r\n            e -&gt; repository.getCodeById(e.getKey()),\r\n            Collectors.mapping(Map.Entry::getValue, Collectors.toList())\r\n        ));\r\n```\r\nAlso, a `keySet` of the initial map may be iterated upon:\r\n```java\r\n// or using keySet()\r\nMap&lt;Code, List&lt;ObjectOne&gt;&gt; mapByCode2 = initialMap\r\n        .keySet()\r\n        .stream() // Stream&lt;ID&gt;\r\n        .collect(Collectors.groupingBy(\r\n            repository::getCodeById,\r\n            Collectors.mapping(initialMap::get, Collectors.toList())\r\n        ));\r\n```","title":"Map&lt;String, List&lt;String, Object&gt;&gt; add new list entry when key exists","body":"<p>So, let's assume there is a map of some ids to objects of type <code>ObjectOne</code>: <code>Map&lt;ID, ObjectOne&gt;</code>.</p>\n<p>The key IDs are converted to some <code>Code</code> type by a database call, and the <code>ObjectOne</code> values of the first map are just collected into another map using <code>Collectors.groupingBy</code> and <code>Collectors.mapping</code> as intended initially:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;ID, ObjectOne&gt; initialMap = ...;\n\nMap&lt;Code, List&lt;ObjectOne&gt;&gt; mapByCode = initialMap\n        .entrySet()\n        .stream() // Stream&lt;Map.Entry&lt;ID, ObjectOne&gt;&gt;\n        .collect(Collectors.groupingBy(\n            e -&gt; repository.getCodeById(e.getKey()),\n            Collectors.mapping(Map.Entry::getValue, Collectors.toList())\n        ));\n</code></pre>\n<p>Also, a <code>keySet</code> of the initial map may be iterated upon:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// or using keySet()\nMap&lt;Code, List&lt;ObjectOne&gt;&gt; mapByCode2 = initialMap\n        .keySet()\n        .stream() // Stream&lt;ID&gt;\n        .collect(Collectors.groupingBy(\n            repository::getCodeById,\n            Collectors.mapping(initialMap::get, Collectors.toList())\n        ));\n</code></pre>\n"}],"owner":{"account_id":7154568,"reputation":238,"user_id":5467492,"display_name":"Thomas Verhoeven"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71038098,"answer_count":1,"score":1,"last_activity_date":1644342397,"creation_date":1644338165,"question_id":71037462,"body_markdown":"Let&#39;s say I got `Map&lt;ID, Object&gt;` when looping over the entries via `.entrySet().stream()`\r\n\r\nI want to map it to `Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;`\r\n\r\nWhen using `toMap()` I change the ID of my initial map to a String (with a database call), but different ID&#39;s can return the same string so there can be duplicates. Is it possible if my key already exists in the toMap of my new map that I&#39;m collecting, that my ObjectOne is added in a new list entry of my new map in the format of `Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;` .\r\n\r\nI tried stuff with `Collectors.groupingBy()` and `Collectors.mapping()` but not getting it to work, curious if there is a way to do this\r\n\r\n\r\nWhat I got now is the following solution, but I would like to collect it to map without having to define it first: \r\n\r\n      Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; giantMap = new HashMap&lt;&gt;();\r\n       \r\n      initalMap.forEach((id, object) -&gt; {\r\n          Code code = repository.getCodeById(id);\r\n          giantMap.computeIfAbsent(code, ignore -&gt; new ArrayList&lt;&gt;())\r\n                            .add(object);\r\n       });","title":"Map&lt;String, List&lt;String, Object&gt;&gt; add new list entry when key exists","body":"<p>Let's say I got <code>Map&lt;ID, Object&gt;</code> when looping over the entries via <code>.entrySet().stream()</code></p>\n<p>I want to map it to <code>Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;</code></p>\n<p>When using <code>toMap()</code> I change the ID of my initial map to a String (with a database call), but different ID's can return the same string so there can be duplicates. Is it possible if my key already exists in the toMap of my new map that I'm collecting, that my ObjectOne is added in a new list entry of my new map in the format of <code>Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;</code> .</p>\n<p>I tried stuff with <code>Collectors.groupingBy()</code> and <code>Collectors.mapping()</code> but not getting it to work, curious if there is a way to do this</p>\n<p>What I got now is the following solution, but I would like to collect it to map without having to define it first:</p>\n<pre><code>  Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; giantMap = new HashMap&lt;&gt;();\n   \n  initalMap.forEach((id, object) -&gt; {\n      Code code = repository.getCodeById(id);\n      giantMap.computeIfAbsent(code, ignore -&gt; new ArrayList&lt;&gt;())\n                        .add(object);\n   });\n</code></pre>\n"},{"tags":["java","spring","java-8","mapstruct"],"comments":[{"owner":{"account_id":3033455,"reputation":230,"user_id":2572030,"display_name":"user2572030"},"score":0,"creation_date":1583319590,"post_id":60523230,"comment_id":107073480,"body_markdown":"Which version of lombok and mapstruct are you using?","body":"Which version of lombok and mapstruct are you using?"},{"owner":{"account_id":111089,"reputation":518,"user_id":293655,"accept_rate":50,"display_name":"user293655"},"score":0,"creation_date":1583319710,"post_id":60523230,"comment_id":107073544,"body_markdown":"mapstruct 1.3.0.Final\n\nlombok 1.18.8","body":"mapstruct 1.3.0.Final  lombok 1.18.8"},{"owner":{"account_id":3033455,"reputation":230,"user_id":2572030,"display_name":"user2572030"},"score":0,"creation_date":1583320588,"post_id":60523230,"comment_id":107073986,"body_markdown":"It looks like there&#39;s a mistake in your class HistoryDynamo... the attribute identifier precedes its type, which is HistoryDynamo instead of... myproject.entity.dynamo.Identifier?","body":"It looks like there&#39;s a mistake in your class HistoryDynamo... the attribute identifier precedes its type, which is HistoryDynamo instead of... myproject.entity.dynamo.Identifier?"},{"owner":{"account_id":111089,"reputation":518,"user_id":293655,"accept_rate":50,"display_name":"user293655"},"score":0,"creation_date":1583320806,"post_id":60523230,"comment_id":107074110,"body_markdown":"Thanks. It was a typo. I have fixed the question","body":"Thanks. It was a typo. I have fixed the question"}],"answers":[{"tags":[],"owner":{"account_id":17371019,"reputation":641,"user_id":12585170,"display_name":"Misha Lemko"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1623757544,"creation_date":1583326897,"answer_id":60526721,"question_id":60523230,"body_markdown":" - First of all you don&#39;t have to create instance in Spring. You could\r\n   just Autowire your Mapper.\r\n - Second of all you don&#39;t have to provide `@Mapping` annotation for\r\n   each field if it has the same name. Mapstruct will do it for you.\r\n - Your issue could be done using `uses` parameter of MapStruct mapper\r\n   `HistoryMapper` could have in `@Mapper` annotation parameter `uses =\r\n   IdentifierMapper.class`. It will autowire `IdentifierMapper` into\r\n   `HistoryMapper`. By default it will do via field. You could change it\r\n   also in parameters: `injectionStrategy =\r\n   InjectionStrategy.CONSTRUCTOR` and probably it will be enough as you\r\n   have the same name of field (identifier) and MapStruct should realize\r\n   that should be use `IdentifierMapper`\r\n\r\n","title":"How can I use another mapping from different class in mapstruct","body":"<ul>\n<li>First of all you don't have to create instance in Spring. You could\njust Autowire your Mapper.</li>\n<li>Second of all you don't have to provide <code>@Mapping</code> annotation for\neach field if it has the same name. Mapstruct will do it for you.</li>\n<li>Your issue could be done using <code>uses</code> parameter of MapStruct mapper\n<code>HistoryMapper</code> could have in <code>@Mapper</code> annotation parameter <code>uses = IdentifierMapper.class</code>. It will autowire <code>IdentifierMapper</code> into\n<code>HistoryMapper</code>. By default it will do via field. You could change it\nalso in parameters: <code>injectionStrategy = InjectionStrategy.CONSTRUCTOR</code> and probably it will be enough as you\nhave the same name of field (identifier) and MapStruct should realize\nthat should be use <code>IdentifierMapper</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10041978,"reputation":192,"user_id":7424520,"display_name":"Rakesh Chauhan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1644342318,"creation_date":1644342318,"answer_id":71038436,"question_id":60523230,"body_markdown":"Using spring dependency can be injected easily as  \r\n\r\n    private final HistoryMapper \r\n     historyMapper;\r\n\r\nAlso for fields with same name in target and source no need to use `@Mapping`, so in above case below mapper definition is enough to acheive desired result.\r\n\r\n    @Mapper(\r\n        componentModel = &quot;spring&quot;,\r\n        injectionStrategy = InjectionStrategy.CONSTRUCTOR,\r\n        uses = {IdentifierMapper.class})\r\n    public interface HistoryMapper {\r\n    \r\n      HistoryDynamo toHistoryDynamo(History history);\r\n\r\n    } \r\n\r\nRefer github sample here https://github.com/rakesh-singh-samples/map-struct-samples/tree/stack-question-60523230/src/sample/mapstruct/mapper  ","title":"How can I use another mapping from different class in mapstruct","body":"<p>Using spring dependency can be injected easily as</p>\n<pre><code>private final HistoryMapper \n historyMapper;\n</code></pre>\n<p>Also for fields with same name in target and source no need to use <code>@Mapping</code>, so in above case below mapper definition is enough to acheive desired result.</p>\n<pre><code>@Mapper(\n    componentModel = &quot;spring&quot;,\n    injectionStrategy = InjectionStrategy.CONSTRUCTOR,\n    uses = {IdentifierMapper.class})\npublic interface HistoryMapper {\n\n  HistoryDynamo toHistoryDynamo(History history);\n\n} \n</code></pre>\n<p>Refer github sample here <a href=\"https://github.com/rakesh-singh-samples/map-struct-samples/tree/stack-question-60523230/src/sample/mapstruct/mapper\" rel=\"noreferrer\">https://github.com/rakesh-singh-samples/map-struct-samples/tree/stack-question-60523230/src/sample/mapstruct/mapper</a></p>\n"}],"owner":{"account_id":111089,"reputation":518,"user_id":293655,"accept_rate":50,"display_name":"user293655"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49860,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":60526721,"answer_count":2,"score":11,"last_activity_date":1644342318,"creation_date":1583315465,"question_id":60523230,"body_markdown":"I would like to mapping a model object to dto model. I already have mapper for one of the object.\r\nHow can I reuse this mapper in another mapper which is in another class?\r\n\r\nI have below as model\r\n```\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @ToString\r\n    public class History {\r\n\r\n      @JsonProperty(&quot;identifier&quot;)\r\n      private final Identifier identifier;\r\n\r\n    @JsonProperty(&quot;submitTime&quot;)\r\n    private final ZonedDateTime submitTime;\r\n\r\n    @JsonProperty(&quot;method&quot;)\r\n    private final String method;\r\n\r\n    @JsonProperty(&quot;reason&quot;)\r\n    private final String reason;\r\n\r\n    @JsonProperty(&quot;dataList&quot;)\r\n    private final List&lt;Data&gt; dataList;\r\n   }\r\n\r\n     @DynamoDBTable(tableName = &quot;history&quot;)\r\n     @Data\r\n     @NoArgsConstructor\r\n     public class HistoryDynamo {\r\n        @DynamoDBRangeKey(attributeName = &quot;submitTime&quot;)\r\n        @DynamoDBTypeConverted(converter = ZonedDateTimeType.Converter.class)\r\n        private ZonedDateTime submitTime;\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;identifier&quot;)\r\n        @NonNull\r\n        private Identifier identifier;\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;method&quot;)\r\n        private String method;\r\n\r\n         @DynamoDBAttribute(attributeName = &quot;reason&quot;)\r\n         private String reason;\r\n\r\n         @DynamoDBAttribute(attributeName = &quot;dataList&quot;)\r\n         private List&lt;Data&gt; dataList;\r\n     }\r\n\r\n        @Data\r\n        @DynamoDBDocument\r\n        @NoArgsConstructor\r\n        public class Identifier implements Serializable {\r\n    \r\n            @DynamoDBAttribute(attributeName = &quot;number&quot;)\r\n            private String number;\r\n    \r\n        @DynamoDBAttribute(attributeName = &quot;cityCode&quot;)\r\n        @NonNull\r\n        private String cityCode;\r\n    \r\n        @DynamoDBAttribute(attributeName = &quot;countryCode&quot;)\r\n        @NonNull\r\n        private String countryCode;\r\n    \r\n        @DynamoDBTypeConverted(converter = LocalDateType.Converter.class)\r\n        private LocalDate mydate;\r\n    }\r\n    \r\n         @Data\r\n         @EqualsAndHashCode\r\n         @NoArgsConstructor\r\n         @RequiredArgsConstructor\r\n         @JsonInclude(JsonInclude.Include.NON_NULL)\r\n         public class Identifier implements Serializable {\r\n    \r\n        @NonNull\r\n        @lombok.NonNull\r\n        @NotNull\r\n        private String number;\r\n    \r\n        @NonNull\r\n        @lombok.NonNull\r\n        @NotNull\r\n        private City city;\r\n    \r\n        @NonNull\r\n        @lombok.NonNull\r\n        @NotNull\r\n        private Country country;\r\n    \r\n        @JsonDeserialize(using = LocalDateDeserializer.class)\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;Z&#39;&quot;)\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;Z&#39;&quot;)\r\n        @NonNull\r\n        @lombok.NonNull\r\n        @NotNull\r\n        private LocalDate mydate;\r\n    }\r\n```\r\nAnd here is my mapping\r\n```\r\n    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.WARN, injectionStrategy = InjectionStrategy.CONSTRUCTOR, nullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\r\n    public interface IdentifierMapper {\r\n    \r\n        IdentifierMapper MAPPER = Mappers.getMapper(IdentifierMapper.class);\r\n    \r\n    \r\n        @Mappings({@Mapping(source = &quot;identifier.number&quot;, target = &quot;number&quot;),\r\n                   @Mapping(source = &quot;identifier.city.code&quot;, target = &quot;cityCode&quot;),\r\n                   @Mapping(source = &quot;identifier.country.code&quot;, target = &quot;countryCode&quot;),\r\n                   @Mapping(source = &quot;identifier.mydate&quot;, target = &quot;mydate&quot;)})\r\n        @Named(&quot;toIdentifierDynamo&quot;)\r\n        myproject.entity.dynamo.Identifier toIdentifierDynamo(myproject.model.Identifier identifier);\r\n    }\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.WARN, injectionStrategy = InjectionStrategy.CONSTRUCTOR,\r\n            nullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL, uses = {IdentifierMapper.class})\r\n    public interface HistoryMapper {\r\n    \r\n        HistoryMapper MAPPER = Mappers.getMapper(HistoryMapper.class);\r\n    \r\n        @Mappings({@Mapping(source = &quot;identifier&quot;, target = &quot;identifier&quot;, qualifiedByName = &quot;toIdentifierDynamo&quot;),\r\n                  @Mapping(source = &quot;method&quot;, target = &quot;method&quot;),\r\n                  @Mapping(source = &quot;reason&quot;, target = &quot;reason&quot;),\r\n                  @Mapping(source = &quot;timestamp&quot;, target = &quot;timestamp&quot;)})\r\n        HistoryDynamo toHistoryDynamo(History history);\r\n    }\r\n```\r\nI would like to map History to HistoryDynamo and reuse IdentifierMapper to map one of the object in HistoryDynamo.\r\nHow can I use toIdentifierDynamo in toHistoryDynamo?","title":"How can I use another mapping from different class in mapstruct","body":"<p>I would like to mapping a model object to dto model. I already have mapper for one of the object.\nHow can I reuse this mapper in another mapper which is in another class?</p>\n<p>I have below as model</p>\n<pre><code>    @Getter\n    @AllArgsConstructor\n    @ToString\n    public class History {\n\n      @JsonProperty(&quot;identifier&quot;)\n      private final Identifier identifier;\n\n    @JsonProperty(&quot;submitTime&quot;)\n    private final ZonedDateTime submitTime;\n\n    @JsonProperty(&quot;method&quot;)\n    private final String method;\n\n    @JsonProperty(&quot;reason&quot;)\n    private final String reason;\n\n    @JsonProperty(&quot;dataList&quot;)\n    private final List&lt;Data&gt; dataList;\n   }\n\n     @DynamoDBTable(tableName = &quot;history&quot;)\n     @Data\n     @NoArgsConstructor\n     public class HistoryDynamo {\n        @DynamoDBRangeKey(attributeName = &quot;submitTime&quot;)\n        @DynamoDBTypeConverted(converter = ZonedDateTimeType.Converter.class)\n        private ZonedDateTime submitTime;\n\n        @DynamoDBAttribute(attributeName = &quot;identifier&quot;)\n        @NonNull\n        private Identifier identifier;\n\n        @DynamoDBAttribute(attributeName = &quot;method&quot;)\n        private String method;\n\n         @DynamoDBAttribute(attributeName = &quot;reason&quot;)\n         private String reason;\n\n         @DynamoDBAttribute(attributeName = &quot;dataList&quot;)\n         private List&lt;Data&gt; dataList;\n     }\n\n        @Data\n        @DynamoDBDocument\n        @NoArgsConstructor\n        public class Identifier implements Serializable {\n    \n            @DynamoDBAttribute(attributeName = &quot;number&quot;)\n            private String number;\n    \n        @DynamoDBAttribute(attributeName = &quot;cityCode&quot;)\n        @NonNull\n        private String cityCode;\n    \n        @DynamoDBAttribute(attributeName = &quot;countryCode&quot;)\n        @NonNull\n        private String countryCode;\n    \n        @DynamoDBTypeConverted(converter = LocalDateType.Converter.class)\n        private LocalDate mydate;\n    }\n    \n         @Data\n         @EqualsAndHashCode\n         @NoArgsConstructor\n         @RequiredArgsConstructor\n         @JsonInclude(JsonInclude.Include.NON_NULL)\n         public class Identifier implements Serializable {\n    \n        @NonNull\n        @lombok.NonNull\n        @NotNull\n        private String number;\n    \n        @NonNull\n        @lombok.NonNull\n        @NotNull\n        private City city;\n    \n        @NonNull\n        @lombok.NonNull\n        @NotNull\n        private Country country;\n    \n        @JsonDeserialize(using = LocalDateDeserializer.class)\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'Z'&quot;)\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd'Z'&quot;)\n        @NonNull\n        @lombok.NonNull\n        @NotNull\n        private LocalDate mydate;\n    }\n</code></pre>\n<p>And here is my mapping</p>\n<pre><code>    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.WARN, injectionStrategy = InjectionStrategy.CONSTRUCTOR, nullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\n    public interface IdentifierMapper {\n    \n        IdentifierMapper MAPPER = Mappers.getMapper(IdentifierMapper.class);\n    \n    \n        @Mappings({@Mapping(source = &quot;identifier.number&quot;, target = &quot;number&quot;),\n                   @Mapping(source = &quot;identifier.city.code&quot;, target = &quot;cityCode&quot;),\n                   @Mapping(source = &quot;identifier.country.code&quot;, target = &quot;countryCode&quot;),\n                   @Mapping(source = &quot;identifier.mydate&quot;, target = &quot;mydate&quot;)})\n        @Named(&quot;toIdentifierDynamo&quot;)\n        myproject.entity.dynamo.Identifier toIdentifierDynamo(myproject.model.Identifier identifier);\n    }\n    \n    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.WARN, injectionStrategy = InjectionStrategy.CONSTRUCTOR,\n            nullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL, uses = {IdentifierMapper.class})\n    public interface HistoryMapper {\n    \n        HistoryMapper MAPPER = Mappers.getMapper(HistoryMapper.class);\n    \n        @Mappings({@Mapping(source = &quot;identifier&quot;, target = &quot;identifier&quot;, qualifiedByName = &quot;toIdentifierDynamo&quot;),\n                  @Mapping(source = &quot;method&quot;, target = &quot;method&quot;),\n                  @Mapping(source = &quot;reason&quot;, target = &quot;reason&quot;),\n                  @Mapping(source = &quot;timestamp&quot;, target = &quot;timestamp&quot;)})\n        HistoryDynamo toHistoryDynamo(History history);\n    }\n</code></pre>\n<p>I would like to map History to HistoryDynamo and reuse IdentifierMapper to map one of the object in HistoryDynamo.\nHow can I use toIdentifierDynamo in toHistoryDynamo?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8382,"page":1610,"page_size":100}
