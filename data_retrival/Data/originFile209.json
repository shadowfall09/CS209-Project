{"items":[{"tags":["java","android","android-gradle-plugin","android-api-31"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693551738,"post_id":77020725,"comment_id":135778697,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27751241,"reputation":1,"user_id":21185644,"display_name":"SAGAR DIXIT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693546702,"creation_date":1693546702,"question_id":77020725,"body_markdown":"Failed to apply plugin class &#39;org.gradle.plugins.ide.idea.IdeaPlugin&#39;.\r\nCannot run Project.afterEvaluate(Action) when the project is already evaluated.\r\n\r\n\r\nI am New to android programming  and i face this error when try to open build view i serach about it but not found the solution \r\nthank you","title":"I face an error when try to open build view","body":"<p>Failed to apply plugin class 'org.gradle.plugins.ide.idea.IdeaPlugin'.\nCannot run Project.afterEvaluate(Action) when the project is already evaluated.</p>\n<p>I am New to android programming  and i face this error when try to open build view i serach about it but not found the solution\nthank you</p>\n"},{"tags":["java","docker","jdbc","mysql-connector","graalvm"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655966064,"post_id":72723781,"comment_id":128457856,"body_markdown":"The error indicates that the resource file `com/mysql/cj/LocalizedErrorMessages.properties` is missing. I have never used Graal, but https://www.graalvm.org/22.0/reference-manual/native-image/Resources/ mentions _&quot;By default, the native-image tool will not integrate any of the resources which are on the classpath during the generation into the final image. To make calls such as Class.getResource() or Class.getResourceAsStream() (or their corresponding ClassLoader methods) return specific resources (instead of null), you must specify the resources that should be accessible at run time.&quot;_","body":"The error indicates that the resource file <code>com&#47;mysql&#47;cj&#47;LocalizedErrorMessages.properties</code> is missing. I have never used Graal, but <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/Resources/\" rel=\"nofollow noreferrer\">graalvm.org/22.0/reference-manual/native-image/Resources</a> mentions <i>&quot;By default, the native-image tool will not integrate any of the resources which are on the classpath during the generation into the final image. To make calls such as Class.getResource() or Class.getResourceAsStream() (or their corresponding ClassLoader methods) return specific resources (instead of null), you must specify the resources that should be accessible at run time.&quot;</i>"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655966148,"post_id":72723781,"comment_id":128457889,"body_markdown":"In other words, you will need to identify all resources needed by your application and its dependencies, and specify them to be included. Also read the section title [_&quot;Resource Bundles in Native Image&quot;_](https://www.graalvm.org/22.0/reference-manual/native-image/Resources/#resource-bundles-in-native-image) as that seems to be specifically relevant to your case.","body":"In other words, you will need to identify all resources needed by your application and its dependencies, and specify them to be included. Also read the section title <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/Resources/#resource-bundles-in-native-image\" rel=\"nofollow noreferrer\"><i>&quot;Resource Bundles in Native Image&quot;</i></a> as that seems to be specifically relevant to your case."},{"owner":{"account_id":94604,"reputation":1021,"user_id":258182,"display_name":"EderBaum"},"score":0,"creation_date":1656002660,"post_id":72723781,"comment_id":128471606,"body_markdown":"Thank you very much Mark. Fixed the current error, but as expected we have a new one. I&#39;ll put the details right away.","body":"Thank you very much Mark. Fixed the current error, but as expected we have a new one. I&#39;ll put the details right away."},{"owner":{"account_id":12527141,"reputation":747,"user_id":9390343,"display_name":"jms"},"score":0,"creation_date":1656390187,"post_id":72723781,"comment_id":128553715,"body_markdown":"I&#39;m not very familiar with GraalVM, but from what I see, you are copying an uber/fat jar into the container which contains all the dependencies. Could it be that the mysql-connecter library included in this fat jar(which your build tool downloaded for your current architecture) is one compatible with `amazoncorretto:18-alpine` and not compatible with `ghcr.io/graalvm/graalvm-ce:latest` ?","body":"I&#39;m not very familiar with GraalVM, but from what I see, you are copying an uber/fat jar into the container which contains all the dependencies. Could it be that the mysql-connecter library included in this fat jar(which your build tool downloaded for your current architecture) is one compatible with <code>amazoncorretto:18-alpine</code> and not compatible with <code>ghcr.io&#47;graalvm&#47;graalvm-ce:latest</code> ?"},{"owner":{"account_id":94604,"reputation":1021,"user_id":258182,"display_name":"EderBaum"},"score":0,"creation_date":1656421508,"post_id":72723781,"comment_id":128564123,"body_markdown":"The command `RUN native-image -jar ./app.jar --verbose --no-fallback` transforms the java code to native. In my example on GitHub I changed the docker file to use a `FROM scratch`  image, where the code that &quot;was java&quot;, now runs without even needing an OS or VM. I tested several versions of `mysql-connector-java`, all are in the maven repository which in principle works on different platforms.","body":"The command <code>RUN native-image -jar .&#47;app.jar --verbose --no-fallback</code> transforms the java code to native. In my example on GitHub I changed the docker file to use a <code>FROM scratch</code>  image, where the code that &quot;was java&quot;, now runs without even needing an OS or VM. I tested several versions of <code>mysql-connector-java</code>, all are in the maven repository which in principle works on different platforms."}],"owner":{"account_id":94604,"reputation":1021,"user_id":258182,"display_name":"EderBaum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693546243,"creation_date":1655950096,"question_id":72723781,"body_markdown":"I&#39;m trying to do a basic SQL query using JDBC and mysql-connector-java on an image with Graalvm (The cause of the problem). \r\n\r\nApparently everyone who tries to use GraalVM with JDBC/MySQL and Docker will have the same problem every time.\r\n\r\nI&#39;m having the following Exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\t   at com.mysql.cj.Constants.&lt;clinit&gt;(Constants.java:49)\r\n\t   at com.mysql.cj.util.Util.&lt;clinit&gt;(Util.java:67)\r\n\t   at com.mysql.cj.conf.ConnectionUrl$Type.getImplementingInstance(ConnectionUrl.java:241)\r\n\t   at com.mysql.cj.conf.ConnectionUrl$Type.getConnectionUrlInstance(ConnectionUrl.java:211)\r\n\t   at com.mysql.cj.conf.ConnectionUrl.getConnectionUrlInstance(ConnectionUrl.java:280)\r\n\t   at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:195)\r\n\t   at java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\t   at java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\t   at com.me.test.Main.testJDBC(Main.java:73)\r\n\t   at com.me.test.Main.main(Main.java:94)\r\n    Caused by: java.lang.RuntimeException: Can&#39;t load resource bundle due to underlying     exception java.util.MissingResourceException: Can&#39;t find bundle for base name com.mysql.cj.LocalizedErrorMessages, locale en_US\r\n\t   at com.mysql.cj.Messages.&lt;clinit&gt;(Messages.java:60)\r\n\t... 10 more\r\n    Caused by: java.util.MissingResourceException: Can&#39;t find bundle for base name com.mysql.cj.LocalizedErrorMessages, locale en_US\r\n\t   at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2045)\r\n\t   at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683)\r\n\t   at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586)\r\n\t   at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1549)\r\n\t   at java.util.ResourceBundle.getBundle(ResourceBundle.java:858)\r\n\t   at com.mysql.cj.Messages.&lt;clinit&gt;(Messages.java:58)\r\n\t... 10 more\r\n\r\nMy Dockerfile\r\n\r\n    FROM ghcr.io/graalvm/graalvm-ce:latest\r\n\r\n    RUN gu install native-image\r\n    WORKDIR /tmp/dist\r\n    ADD ./app.jar ./app.jar\r\n\r\n    COPY ./reflect-config.json ./reflect-config.json\r\n\r\n    RUN native-image -jar ./app.jar --verbose --no-fallback\r\n    RUN  microdnf install zip\r\n\r\n    ADD bootstrap bootstrap\r\n\r\n    RUN chmod +x bootstrap\r\n    RUN chmod +x ./app\r\n\r\n    RUN zip -j function.zip bootstrap app\r\n\r\n\r\n    ENTRYPOINT [&quot;./app&quot;]\r\n\r\n\r\n\r\nDependencies in my pom file\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.29&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n  &lt;version&gt;21.5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd finally my java code:\r\n\r\n```java\r\npublic void testJDBC() throws SQLException, IOException {\r\n    String url = &quot;jdbc:mysql://foo.blabla.aws-region.rds.amazonaws.com:3306/database&quot;;\r\n    String user = &quot;root&quot;;\r\n    String password = &quot;password&quot;;\r\n    try(java.sql.Connection conn = java.sql.DriverManager.getConnection(url, user, password)){\r\n        doSomething(conn);\r\n    }\r\n}\r\n```\r\n\r\n**EDIT 1:**\r\n\r\nI followed Mark Rotteveel&#39;s recommendation, and added a *&quot;resource-config.json&quot;* file with the following:\r\n\r\n    {\r\n      &quot;resources&quot;: {\r\n        &quot;includes&quot;: [\r\n          {&quot;pattern&quot;: &quot;com.mysql.cj.LocalizedErrorMessages.properties&quot;}\r\n        ]\r\n      }\r\n    }\r\n\r\nAnd in the *&quot;native-image.properties&quot;* file the following\r\n\r\n    Args = -H:EnableURLProtocols=http,https -H:ReflectionConfigurationFiles=/tmp/dist/reflect-config.json -H:ResourceConfigurationFiles=/tmp/dist/resource-config.json\r\n\r\nFixed the current error, but as expected we have a new one:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: com.mysql.cj.exceptions.CJException cannot be cast to com.mysql.cj.exceptions.WrongArgumentException\r\n\t   at com.mysql.cj.util.Util.getInstance(Util.java:169)\r\n\t   at com.mysql.cj.util.Util.getInstance(Util.java:174)\r\n\t   at com.mysql.cj.conf.ConnectionUrl$Type.getImplementingInstance(ConnectionUrl.java:241)\r\n\t   at com.mysql.cj.conf.ConnectionUrl$Type.getConnectionUrlInstance(ConnectionUrl.java:211)\r\n\t   at com.mysql.cj.conf.ConnectionUrl.getConnectionUrlInstance(ConnectionUrl.java:280)\r\n\t   at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:195)\r\n\t   at java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\t   at java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\t   at com.me.test.Main.testJDBC(Main.java:77)\r\n\t   at com.me.test.Main.main(Main.java:98)\r\n\r\n\r\n**EDIT 2:**\r\n\r\nI configured the following in the file *&quot;reflect-config.json&quot;*\r\n\r\n    [\r\n    \r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.conf.url.SingleConnectionUrl&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.conf.url.FailoverDnsSrvConnectionUrl&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.conf.url.LoadBalanceDnsSrvConnectionUrl&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.conf.url.ReplicationDnsSrvConnectionUrl&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.conf.url.XDevApiDnsSrvConnectionUrl&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.conf.url.FailoverConnectionUrl&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.conf.url.LoadBalanceConnectionUrl&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.conf.url.ReplicationConnectionUrl&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },  {\r\n      &quot;name&quot;: &quot;com.mysql.cj.conf.url.XDevApiConnectionUrl&quot;,\r\n      &quot;allDeclaredFields&quot;: true,\r\n      &quot;allDeclaredMethods&quot;: true,\r\n      &quot;allDeclaredConstructors&quot;: true\r\n    },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.log.Jdk14Logger&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.cj.log.NullLogger&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n      {\r\n            &quot;name&quot;: &quot;com.mysql.cj.log.Slf4JLogger&quot;,\r\n            &quot;allDeclaredFields&quot;: true,\r\n            &quot;allDeclaredMethods&quot;: true,\r\n            &quot;allDeclaredConstructors&quot;: true\r\n        },\r\n      {\r\n      &quot;name&quot;: &quot;com.mysql.cj.log.StandardLogger&quot;,\r\n      &quot;allDeclaredFields&quot;: true,\r\n      &quot;allDeclaredMethods&quot;: true,\r\n      &quot;allDeclaredConstructors&quot;: true\r\n    },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysql.jdbc.Driver&quot;,\r\n        &quot;allDeclaredFields&quot;: true,\r\n        &quot;allDeclaredMethods&quot;: true,\r\n        &quot;allDeclaredConstructors&quot;: true\r\n      },\r\n    \r\n      {\r\n        &quot;name&quot;:&quot;oracle.jdbc.OracleDriver&quot;,\r\n        &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n      },\r\n      {\r\n        &quot;name&quot;:&quot;oracle.jdbc.driver.T4CDriverExtension&quot;,\r\n        &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n      },\r\n      {\r\n        &quot;name&quot; : &quot;oracle.jdbc.driver.T2CDriverExtension&quot;,\r\n        &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n      },\r\n      {\r\n        &quot;name&quot;:&quot;oracle.net.ano.Ano&quot;,\r\n        &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n      },\r\n      {\r\n        &quot;name&quot;:&quot;oracle.net.ano.AuthenticationService&quot;,\r\n        &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n      },\r\n      {\r\n        &quot;name&quot;:&quot;oracle.net.ano.DataIntegrityService&quot;,\r\n        &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n      },\r\n      {\r\n        &quot;name&quot;:&quot;oracle.net.ano.EncryptionService&quot;,\r\n        &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n      },\r\n      {\r\n        &quot;name&quot;:&quot;oracle.net.ano.SupervisorService&quot;,\r\n        &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n      }\r\n    ]\r\n\r\nBut for some reason there is a connection error (Tested With AWS RDS, and host.docker.internal). \r\n\r\n    Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: Cannot connect to MySQL server on foo.blabla.aws-region.rds.amazonaws.com:3,306.\r\n    \r\n    Make sure that there is a MySQL server running on the machine/port you are trying to connect to and that the machine this software is running on is able to connect to this host/port (i.e. not firewalled). Also make sure that the server has not been started with the --skip-networking flag.\r\n    \r\n    \r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:462)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n    \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n    \tat com.me.test.Main.testJDBC(Main.java:104)\r\n    \tat com.me.test.Main.main(Main.java:125)\r\n    Caused by: java.lang.ClassCastException: com.mysql.cj.exceptions.CJException cannot be cast to com.mysql.cj.exceptions.UnableToConnectException\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\r\n    \t... 6 more\r\n\r\n\r\nThis error only occurs using *&quot;ghcr.io/graalvm/graalvm-ce:latest&quot;*, if I use another VM like *&quot;amazoncorretto:18-alpine&quot;* everything works perfect.\r\n\r\nFull Source Code: https://github.com/ederbaum/MySQLGraalVM\r\n\r\nAny possible solution?","title":"MySQL connector does not work with GraalVM and Docker","body":"<p>I'm trying to do a basic SQL query using JDBC and mysql-connector-java on an image with Graalvm (The cause of the problem).</p>\n<p>Apparently everyone who tries to use GraalVM with JDBC/MySQL and Docker will have the same problem every time.</p>\n<p>I'm having the following Exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n   at com.mysql.cj.Constants.&lt;clinit&gt;(Constants.java:49)\n   at com.mysql.cj.util.Util.&lt;clinit&gt;(Util.java:67)\n   at com.mysql.cj.conf.ConnectionUrl$Type.getImplementingInstance(ConnectionUrl.java:241)\n   at com.mysql.cj.conf.ConnectionUrl$Type.getConnectionUrlInstance(ConnectionUrl.java:211)\n   at com.mysql.cj.conf.ConnectionUrl.getConnectionUrlInstance(ConnectionUrl.java:280)\n   at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:195)\n   at java.sql.DriverManager.getConnection(DriverManager.java:681)\n   at java.sql.DriverManager.getConnection(DriverManager.java:229)\n   at com.me.test.Main.testJDBC(Main.java:73)\n   at com.me.test.Main.main(Main.java:94)\nCaused by: java.lang.RuntimeException: Can't load resource bundle due to underlying     exception java.util.MissingResourceException: Can't find bundle for base name com.mysql.cj.LocalizedErrorMessages, locale en_US\n   at com.mysql.cj.Messages.&lt;clinit&gt;(Messages.java:60)\n... 10 more\nCaused by: java.util.MissingResourceException: Can't find bundle for base name com.mysql.cj.LocalizedErrorMessages, locale en_US\n   at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2045)\n   at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683)\n   at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586)\n   at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1549)\n   at java.util.ResourceBundle.getBundle(ResourceBundle.java:858)\n   at com.mysql.cj.Messages.&lt;clinit&gt;(Messages.java:58)\n... 10 more\n</code></pre>\n<p>My Dockerfile</p>\n<pre><code>FROM ghcr.io/graalvm/graalvm-ce:latest\n\nRUN gu install native-image\nWORKDIR /tmp/dist\nADD ./app.jar ./app.jar\n\nCOPY ./reflect-config.json ./reflect-config.json\n\nRUN native-image -jar ./app.jar --verbose --no-fallback\nRUN  microdnf install zip\n\nADD bootstrap bootstrap\n\nRUN chmod +x bootstrap\nRUN chmod +x ./app\n\nRUN zip -j function.zip bootstrap app\n\n\nENTRYPOINT [&quot;./app&quot;]\n</code></pre>\n<p>Dependencies in my pom file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;version&gt;8.0.29&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n  &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n  &lt;version&gt;21.5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And finally my java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void testJDBC() throws SQLException, IOException {\n    String url = &quot;jdbc:mysql://foo.blabla.aws-region.rds.amazonaws.com:3306/database&quot;;\n    String user = &quot;root&quot;;\n    String password = &quot;password&quot;;\n    try(java.sql.Connection conn = java.sql.DriverManager.getConnection(url, user, password)){\n        doSomething(conn);\n    }\n}\n</code></pre>\n<p><strong>EDIT 1:</strong></p>\n<p>I followed Mark Rotteveel's recommendation, and added a <em>&quot;resource-config.json&quot;</em> file with the following:</p>\n<pre><code>{\n  &quot;resources&quot;: {\n    &quot;includes&quot;: [\n      {&quot;pattern&quot;: &quot;com.mysql.cj.LocalizedErrorMessages.properties&quot;}\n    ]\n  }\n}\n</code></pre>\n<p>And in the <em>&quot;native-image.properties&quot;</em> file the following</p>\n<pre><code>Args = -H:EnableURLProtocols=http,https -H:ReflectionConfigurationFiles=/tmp/dist/reflect-config.json -H:ResourceConfigurationFiles=/tmp/dist/resource-config.json\n</code></pre>\n<p>Fixed the current error, but as expected we have a new one:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: com.mysql.cj.exceptions.CJException cannot be cast to com.mysql.cj.exceptions.WrongArgumentException\n   at com.mysql.cj.util.Util.getInstance(Util.java:169)\n   at com.mysql.cj.util.Util.getInstance(Util.java:174)\n   at com.mysql.cj.conf.ConnectionUrl$Type.getImplementingInstance(ConnectionUrl.java:241)\n   at com.mysql.cj.conf.ConnectionUrl$Type.getConnectionUrlInstance(ConnectionUrl.java:211)\n   at com.mysql.cj.conf.ConnectionUrl.getConnectionUrlInstance(ConnectionUrl.java:280)\n   at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:195)\n   at java.sql.DriverManager.getConnection(DriverManager.java:681)\n   at java.sql.DriverManager.getConnection(DriverManager.java:229)\n   at com.me.test.Main.testJDBC(Main.java:77)\n   at com.me.test.Main.main(Main.java:98)\n</code></pre>\n<p><strong>EDIT 2:</strong></p>\n<p>I configured the following in the file <em>&quot;reflect-config.json&quot;</em></p>\n<pre><code>[\n\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.conf.url.SingleConnectionUrl&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.conf.url.FailoverDnsSrvConnectionUrl&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.conf.url.LoadBalanceDnsSrvConnectionUrl&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.conf.url.ReplicationDnsSrvConnectionUrl&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.conf.url.XDevApiDnsSrvConnectionUrl&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.conf.url.FailoverConnectionUrl&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.conf.url.LoadBalanceConnectionUrl&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.conf.url.ReplicationConnectionUrl&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },  {\n  &quot;name&quot;: &quot;com.mysql.cj.conf.url.XDevApiConnectionUrl&quot;,\n  &quot;allDeclaredFields&quot;: true,\n  &quot;allDeclaredMethods&quot;: true,\n  &quot;allDeclaredConstructors&quot;: true\n},\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.log.Jdk14Logger&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysql.cj.log.NullLogger&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n  {\n        &quot;name&quot;: &quot;com.mysql.cj.log.Slf4JLogger&quot;,\n        &quot;allDeclaredFields&quot;: true,\n        &quot;allDeclaredMethods&quot;: true,\n        &quot;allDeclaredConstructors&quot;: true\n    },\n  {\n  &quot;name&quot;: &quot;com.mysql.cj.log.StandardLogger&quot;,\n  &quot;allDeclaredFields&quot;: true,\n  &quot;allDeclaredMethods&quot;: true,\n  &quot;allDeclaredConstructors&quot;: true\n},\n  {\n    &quot;name&quot;: &quot;com.mysql.jdbc.Driver&quot;,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allDeclaredConstructors&quot;: true\n  },\n\n  {\n    &quot;name&quot;:&quot;oracle.jdbc.OracleDriver&quot;,\n    &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n  },\n  {\n    &quot;name&quot;:&quot;oracle.jdbc.driver.T4CDriverExtension&quot;,\n    &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n  },\n  {\n    &quot;name&quot; : &quot;oracle.jdbc.driver.T2CDriverExtension&quot;,\n    &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n  },\n  {\n    &quot;name&quot;:&quot;oracle.net.ano.Ano&quot;,\n    &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n  },\n  {\n    &quot;name&quot;:&quot;oracle.net.ano.AuthenticationService&quot;,\n    &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n  },\n  {\n    &quot;name&quot;:&quot;oracle.net.ano.DataIntegrityService&quot;,\n    &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n  },\n  {\n    &quot;name&quot;:&quot;oracle.net.ano.EncryptionService&quot;,\n    &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n  },\n  {\n    &quot;name&quot;:&quot;oracle.net.ano.SupervisorService&quot;,\n    &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n  }\n]\n</code></pre>\n<p>But for some reason there is a connection error (Tested With AWS RDS, and host.docker.internal).</p>\n<pre><code>Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: Cannot connect to MySQL server on foo.blabla.aws-region.rds.amazonaws.com:3,306.\n\nMake sure that there is a MySQL server running on the machine/port you are trying to connect to and that the machine this software is running on is able to connect to this host/port (i.e. not firewalled). Also make sure that the server has not been started with the --skip-networking flag.\n\n\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:462)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at com.me.test.Main.testJDBC(Main.java:104)\n    at com.me.test.Main.main(Main.java:125)\nCaused by: java.lang.ClassCastException: com.mysql.cj.exceptions.CJException cannot be cast to com.mysql.cj.exceptions.UnableToConnectException\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\n    ... 6 more\n</code></pre>\n<p>This error only occurs using <em>&quot;ghcr.io/graalvm/graalvm-ce:latest&quot;</em>, if I use another VM like <em>&quot;amazoncorretto:18-alpine&quot;</em> everything works perfect.</p>\n<p>Full Source Code: <a href=\"https://github.com/ederbaum/MySQLGraalVM\" rel=\"nofollow noreferrer\">https://github.com/ederbaum/MySQLGraalVM</a></p>\n<p>Any possible solution?</p>\n"},{"tags":["java","freemarker"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457640848,"creation_date":1457640848,"answer_id":35926330,"question_id":35918052,"body_markdown":"There&#39;s no such feature out of the box, but it&#39;s just the question of the `TemplateHashModel` implementation you pass in as the data model. (The data model is always a `TemplateHashModel`, though if you pass in a POJO FreeMarker will adapt it automatically via the `ObjectWrapper` in the `Configuration`.) You could easily write a `TemplateHashModel` implementation that encloses a list of other `TemplateHashModel`-s, and whose `get(String)` returns the requested variable from the first enclosed `TemplateHashModel` whose `get(String)` returns non-`null`. To adapt your POJO (`CDATA1` etc.) to `TemplateHashModel` call `cfg.getObjectWrapper().wrap(myObject)`, where `cfg` is the `freemarker.template.Configuration` object.","title":"Java: Using 2 or more Classes for Freemarker Data Model processing","body":"<p>There's no such feature out of the box, but it's just the question of the <code>TemplateHashModel</code> implementation you pass in as the data model. (The data model is always a <code>TemplateHashModel</code>, though if you pass in a POJO FreeMarker will adapt it automatically via the <code>ObjectWrapper</code> in the <code>Configuration</code>.) You could easily write a <code>TemplateHashModel</code> implementation that encloses a list of other <code>TemplateHashModel</code>-s, and whose <code>get(String)</code> returns the requested variable from the first enclosed <code>TemplateHashModel</code> whose <code>get(String)</code> returns non-<code>null</code>. To adapt your POJO (<code>CDATA1</code> etc.) to <code>TemplateHashModel</code> call <code>cfg.getObjectWrapper().wrap(myObject)</code>, where <code>cfg</code> is the <code>freemarker.template.Configuration</code> object.</p>\n"},{"tags":[],"owner":{"account_id":12025007,"reputation":83,"user_id":8797251,"display_name":"mohd sabahat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693545573,"creation_date":1693545573,"answer_id":77020658,"question_id":35918052,"body_markdown":"I know i am too late but why not do something like\r\n```java\r\nMap&lt;String, Object&gt; dataModel = new HashMap&lt;&gt;();\r\ndataModel.put(&quot;CDATA1&quot;, config_generator.CDATA1);\r\ndataModel.put(&quot;CDATA2&quot;, config_generator.CDATA2);\r\ntemplateValues.process(dataModel, stringWriter);\r\n```\r\nCorrect me if I got something wrong.","title":"Java: Using 2 or more Classes for Freemarker Data Model processing","body":"<p>I know i am too late but why not do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; dataModel = new HashMap&lt;&gt;();\ndataModel.put(&quot;CDATA1&quot;, config_generator.CDATA1);\ndataModel.put(&quot;CDATA2&quot;, config_generator.CDATA2);\ntemplateValues.process(dataModel, stringWriter);\n</code></pre>\n<p>Correct me if I got something wrong.</p>\n"}],"owner":{"account_id":7943601,"reputation":15,"user_id":5996770,"display_name":"Marcus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693545573,"creation_date":1457616942,"question_id":35918052,"body_markdown":"I&#39;ve got a problem with understanding the Freemarker Data Model and how to work with it correctly.\r\nI currently have 1 Core Data Class.\r\nIt is stuffed as hell (a lot of variables with getters and setters) and I want to split it into different Classes.\r\n\r\nBut my Core Class is fueling a Freemarker processing... And I just don&#39;t get, how to get this working with several classes.\r\n\r\nCurrently I use this:\r\n\r\n    templateValues.process(config_generator.CDATA, stringWriter);\r\nCDATA is my Core Data Class...\r\nI checked the Freemarker guide several times, but I just don&#39;t get it.\r\n\r\nIf I would implement 2 Classes (CDATA1 &amp; CDATA2 i.e.) how would I set up the processing? And would this work with even more Classes as well? (CDATA3 to X).","title":"Java: Using 2 or more Classes for Freemarker Data Model processing","body":"<p>I've got a problem with understanding the Freemarker Data Model and how to work with it correctly.\nI currently have 1 Core Data Class.\nIt is stuffed as hell (a lot of variables with getters and setters) and I want to split it into different Classes.</p>\n\n<p>But my Core Class is fueling a Freemarker processing... And I just don't get, how to get this working with several classes.</p>\n\n<p>Currently I use this:</p>\n\n<pre><code>templateValues.process(config_generator.CDATA, stringWriter);\n</code></pre>\n\n<p>CDATA is my Core Data Class...\nI checked the Freemarker guide several times, but I just don't get it.</p>\n\n<p>If I would implement 2 Classes (CDATA1 &amp; CDATA2 i.e.) how would I set up the processing? And would this work with even more Classes as well? (CDATA3 to X).</p>\n"},{"tags":["java","arrays","arraylist"],"answers":[{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693542330,"creation_date":1693541173,"answer_id":77020446,"question_id":77020391,"body_markdown":"`arr` is an `ArrayList`. Its syntax is little bit different from `Array`.\r\n\r\nTo get a value: `arr.get(i)` \r\n\r\nTo get length: `arr.size()`\r\n\r\n**Update:**\r\n\r\nTo update a value in `ArrayList`, you cannot do `arr.get(left) = arr.get(right)` or `arr.get(right) = temp`. Rather you have to do:\r\n\r\n    \r\n    arr.set(left, arr.get(right));\r\n    arr.set(right, temp);\r\n","title":"Reverse the array after a fixed position","body":"<p><code>arr</code> is an <code>ArrayList</code>. Its syntax is little bit different from <code>Array</code>.</p>\n<p>To get a value: <code>arr.get(i)</code></p>\n<p>To get length: <code>arr.size()</code></p>\n<p><strong>Update:</strong></p>\n<p>To update a value in <code>ArrayList</code>, you cannot do <code>arr.get(left) = arr.get(right)</code> or <code>arr.get(right) = temp</code>. Rather you have to do:</p>\n<pre><code>arr.set(left, arr.get(right));\narr.set(right, temp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693544911,"creation_date":1693544372,"answer_id":77020610,"question_id":77020391,"body_markdown":"```java\r\npublic static void reverse(int[] arr, int m) {\r\n    int lo = Math.max(0, m + 1);\r\n    int hi = arr.length - 1;\r\n\r\n    for (int i = lo, j = hi; i &lt; j; i++, j--) {\r\n        // swap arr[i] and arr[j]\r\n        int tmp = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = tmp;\r\n    }\r\n}\r\n```\r\n\r\n**Demo:**\r\n```java\r\nint[] arr = { 0, 1, 2, 3, 4, 5, 6 };\r\nreverse(arr, 3);\r\nSystem.out.println(Arrays.toString(arr));    // [0, 1, 2, 3, 6, 5, 4]\r\n```\r\n---\r\nIn case you have a `ArrayList`, then you shuld do similar:\r\n```java\r\npublic static void reverse(List&lt;Integer&gt; arr, int m) {\r\n    int lo = Math.max(0, m + 1);\r\n    int hi = arr.size() - 1;\r\n\r\n    for (int i = lo, j = hi; i &lt; j; i++, j--) {\r\n        // swap arr[i] and arr[j]\r\n        int tmp = arr.get(i);\r\n        arr.set(i, arr.get(j));\r\n        arr.set(j, tmp);\r\n    }\r\n}\r\n``` ","title":"Reverse the array after a fixed position","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void reverse(int[] arr, int m) {\n    int lo = Math.max(0, m + 1);\n    int hi = arr.length - 1;\n\n    for (int i = lo, j = hi; i &lt; j; i++, j--) {\n        // swap arr[i] and arr[j]\n        int tmp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = tmp;\n    }\n}\n</code></pre>\n<p><strong>Demo:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] arr = { 0, 1, 2, 3, 4, 5, 6 };\nreverse(arr, 3);\nSystem.out.println(Arrays.toString(arr));    // [0, 1, 2, 3, 6, 5, 4]\n</code></pre>\n<hr />\n<p>In case you have a <code>ArrayList</code>, then you shuld do similar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void reverse(List&lt;Integer&gt; arr, int m) {\n    int lo = Math.max(0, m + 1);\n    int hi = arr.size() - 1;\n\n    for (int i = lo, j = hi; i &lt; j; i++, j--) {\n        // swap arr[i] and arr[j]\n        int tmp = arr.get(i);\n        arr.set(i, arr.get(j));\n        arr.set(j, tmp);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29342033,"reputation":1,"user_id":22481220,"display_name":"Immortal Sugimoto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1693544911,"creation_date":1693539974,"question_id":77020391,"body_markdown":"Given an ArrayList &#39;arr&#39; of integers and a position &#39;m&#39; . You have to reverse the array after that position.\r\n\r\nExample\r\n```\r\nWe have an Array arr = {1, 2, 3, 4, 5, 6} and m = 3, considering O based indexing so the subarray   {5, 6} will be reversed and our output array will be {1, 2, 3, 4, 6, 5}\r\n```\r\n\r\nConstraints\r\n```\r\n1&lt;=T&lt;=10\r\n0 &lt;= M &lt;= N &lt;= 5*10^4\r\n10^(-9) &lt;= arr[i] &lt;= 10^(9)\r\nTime Limit: 1 second\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nfor this question this is what I did\r\n\r\n```\r\nimport java.util.* ;\r\nimport java.io.*; \r\nimport java.util.ArrayList;\r\n\r\npublic class Solution \r\n{\r\n    \r\n    public static void reverseArray(ArrayList&lt;Integer&gt; arr, int m)\r\n    {\r\n        ArrayList&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\r\n\r\n        for(int i = 0; i&lt;= m ; i++){\r\n            nums.add(arr.get[i]);\r\n        }\r\n        int left = m+1;\r\n        int right = arr.length -1;\r\n        while(left&lt;right){\r\n            int temp = arr.get[left];\r\n            arr.get[left] = arr.get[right];\r\n            arr.get[right] = temp;\r\n\r\n            teft++;\r\n            right--;\r\n        }\r\n        for(int i = m+1; i&lt; arr.length; i++){\r\n            nums.add(arr.get[m+1]);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\non running it shows this error\r\n\r\n```\r\nCompilation Failed\r\n./Solution.java:13: error: cannot find symbol\r\n            nums.add(arr.get[i]);\r\n                        ^\r\n  symbol:   variable get\r\n  location: variable arr of type ArrayList\r\n./Solution.java:16: error: cannot find symbol\r\n        int right = arr.length -1;\r\n                       ^\r\n  symbol:   variable length\r\n  location: variable arr of type ArrayList\r\n./Solution.java:18: error: cannot find symbol\r\n            int temp = arr.get[left];\r\n                          ^\r\n  symbol:   variable get\r\n  location: variable arr of type ArrayList\r\n\r\n```\r\n\r\nCan you help in identifying my mistake in the code and as well as how to read the compilation error like I&#39;m not able to understand them.\r\n","title":"Reverse the array after a fixed position","body":"<p>Given an ArrayList 'arr' of integers and a position 'm' . You have to reverse the array after that position.</p>\n<p>Example</p>\n<pre><code>We have an Array arr = {1, 2, 3, 4, 5, 6} and m = 3, considering O based indexing so the subarray   {5, 6} will be reversed and our output array will be {1, 2, 3, 4, 6, 5}\n</code></pre>\n<p>Constraints</p>\n<pre><code>1&lt;=T&lt;=10\n0 &lt;= M &lt;= N &lt;= 5*10^4\n10^(-9) &lt;= arr[i] &lt;= 10^(9)\nTime Limit: 1 second\n</code></pre>\n<p>for this question this is what I did</p>\n<pre><code>import java.util.* ;\nimport java.io.*; \nimport java.util.ArrayList;\n\npublic class Solution \n{\n    \n    public static void reverseArray(ArrayList&lt;Integer&gt; arr, int m)\n    {\n        ArrayList&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\n\n        for(int i = 0; i&lt;= m ; i++){\n            nums.add(arr.get[i]);\n        }\n        int left = m+1;\n        int right = arr.length -1;\n        while(left&lt;right){\n            int temp = arr.get[left];\n            arr.get[left] = arr.get[right];\n            arr.get[right] = temp;\n\n            teft++;\n            right--;\n        }\n        for(int i = m+1; i&lt; arr.length; i++){\n            nums.add(arr.get[m+1]);\n        }\n\n    }\n}\n\n</code></pre>\n<p>on running it shows this error</p>\n<pre><code>Compilation Failed\n./Solution.java:13: error: cannot find symbol\n            nums.add(arr.get[i]);\n                        ^\n  symbol:   variable get\n  location: variable arr of type ArrayList\n./Solution.java:16: error: cannot find symbol\n        int right = arr.length -1;\n                       ^\n  symbol:   variable length\n  location: variable arr of type ArrayList\n./Solution.java:18: error: cannot find symbol\n            int temp = arr.get[left];\n                          ^\n  symbol:   variable get\n  location: variable arr of type ArrayList\n\n</code></pre>\n<p>Can you help in identifying my mistake in the code and as well as how to read the compilation error like I'm not able to understand them.</p>\n"},{"tags":["java","spring-boot","testing"],"answers":[{"tags":[],"owner":{"account_id":5853192,"reputation":58,"user_id":4611288,"display_name":"Randi Trigger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614567351,"creation_date":1614567351,"answer_id":66416049,"question_id":66415881,"body_markdown":"It sounds like you&#39;ll want to define a ContentNegotiationCongiurer. Here&#39;s a doc: https://www.baeldung.com/spring-mvc-content-negotiation-json-xml\r\n\r\nThe short answer is to add something like this to the Spring context\r\n\r\n```\r\n@Configuration\r\npublic class WebConfig extends WebMvcConfigurerAdapter {\r\n    @Override\r\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n        configurer.defaultContentType(MediaType.APPLICATION_JSON);\r\n    }\r\n}\r\n```","title":"How to force springboot return Json response with global settings","body":"<p>It sounds like you'll want to define a ContentNegotiationCongiurer. Here's a doc: <a href=\"https://www.baeldung.com/spring-mvc-content-negotiation-json-xml\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-content-negotiation-json-xml</a></p>\n<p>The short answer is to add something like this to the Spring context</p>\n<pre><code>@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n        configurer.defaultContentType(MediaType.APPLICATION_JSON);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8609684,"reputation":996,"user_id":6448518,"display_name":"rougou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693543459,"creation_date":1693543459,"answer_id":77020564,"question_id":66415881,"body_markdown":"You can force a JSON response with the following configuration:\r\n\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n            configurer.strategies(List.of(new FixedContentNegotiationStrategy(MediaType.APPLICATION_JSON)));\r\n        }\r\n    }","title":"How to force springboot return Json response with global settings","body":"<p>You can force a JSON response with the following configuration:</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n        configurer.strategies(List.of(new FixedContentNegotiationStrategy(MediaType.APPLICATION_JSON)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693543459,"creation_date":1614565595,"question_id":66415881,"body_markdown":"Here are problems. They who are testing my application told me that when they trying to directly input the url into address to query a GET url by chrome. My api will always return a XML formatted response like this.\r\n[![enter image description here][1]][1]\r\n&lt;br&gt;&lt;br&gt;\r\nBut all the response should be formatted in JSON string ! XML is unacceptable !\r\n&lt;br&gt;&lt;br&gt;\r\nI tried to analyze the source code and found request sending by chrome directly will bear attributes like this:\r\n&lt;br&gt;&lt;br&gt;\r\naccept= text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\n&lt;br&gt;\r\ncontent-type=null\r\n&lt;br&gt;&lt;br&gt;\r\nwhile any other application will send request with:\r\n&lt;br&gt;&lt;br&gt;\r\naccept= \\*/*   (or accept = application/json)\r\n&lt;br&gt;\r\ncontent-type = application/json\r\n&lt;br&gt;&lt;br&gt;\r\nIn this case , springboot will then response XML to the request send by chrome because of the missing content-type and specified accept properties.\r\n&lt;br&gt;&lt;br&gt;\r\nThere is a way to fix this case by excluding jackson for XML in pom. But I don&#39;t think it is a graceful way.\r\n&lt;br&gt;&lt;br&gt;\r\nSo far I refused to fix this problem because I have told Front-end code colleague to send request with specified &quot;application/json&quot; attribute and no problem occured again.\r\n&lt;br&gt;&lt;br&gt;\r\nBut still, I think I have responsibilities to fix it and there should be ways more graceful to fix this problem.\r\n&lt;br&gt;&lt;br&gt;\r\nThere are too many api deployed in my application and there is no way to set a response type for every controller. I&#39;m looking for a global setting for this case.\r\n&lt;br&gt;&lt;br&gt;\r\nI think there should be some way to act like RequestInterceptor to set headers of a request, but I found that impossible to directly modify the headers from those request in my gateway service.\r\n&lt;br&gt;&lt;br&gt;\r\nHelp me with this case please. Thanks a lot!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8BNrQ.png","title":"How to force springboot return Json response with global settings","body":"<p>Here are problems. They who are testing my application told me that when they trying to directly input the url into address to query a GET url by chrome. My api will always return a XML formatted response like this.\n<a href=\"https://i.stack.imgur.com/8BNrQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BNrQ.png\" alt=\"enter image description here\" /></a>\n<br><br>\nBut all the response should be formatted in JSON string ! XML is unacceptable !\n<br><br>\nI tried to analyze the source code and found request sending by chrome directly will bear attributes like this:\n<br><br>\naccept= text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,<em>/</em>;q=0.8,application/signed-exchange;v=b3;q=0.9\n<br>\ncontent-type=null\n<br><br>\nwhile any other application will send request with:\n<br><br>\naccept= */*   (or accept = application/json)\n<br>\ncontent-type = application/json\n<br><br>\nIn this case , springboot will then response XML to the request send by chrome because of the missing content-type and specified accept properties.\n<br><br>\nThere is a way to fix this case by excluding jackson for XML in pom. But I don't think it is a graceful way.\n<br><br>\nSo far I refused to fix this problem because I have told Front-end code colleague to send request with specified &quot;application/json&quot; attribute and no problem occured again.\n<br><br>\nBut still, I think I have responsibilities to fix it and there should be ways more graceful to fix this problem.\n<br><br>\nThere are too many api deployed in my application and there is no way to set a response type for every controller. I'm looking for a global setting for this case.\n<br><br>\nI think there should be some way to act like RequestInterceptor to set headers of a request, but I found that impossible to directly modify the headers from those request in my gateway service.\n<br><br>\nHelp me with this case please. Thanks a lot!</p>\n"},{"tags":["java","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693543220,"creation_date":1693543220,"answer_id":77020552,"question_id":77001146,"body_markdown":"You can use `switchIfEmpty` operator to handle empty responses and as an option return error\r\n\r\n```\r\nwebClient.get()\r\n  .uri(&quot;&lt;endpoint&gt;&quot;)\r\n  .retrieve()\r\n  .bodyToMono(Response.class)\r\n  .switchIfEmpty(Mono.error(new RuntimeException(&quot;Error response&quot;)));\r\n```","title":"Handle empty response with Spring WebClient in a reactive way","body":"<p>You can use <code>switchIfEmpty</code> operator to handle empty responses and as an option return error</p>\n<pre><code>webClient.get()\n  .uri(&quot;&lt;endpoint&gt;&quot;)\n  .retrieve()\n  .bodyToMono(Response.class)\n  .switchIfEmpty(Mono.error(new RuntimeException(&quot;Error response&quot;)));\n</code></pre>\n"}],"owner":{"account_id":896384,"reputation":163,"user_id":933547,"accept_rate":71,"display_name":"Christof Buechi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77020552,"answer_count":1,"score":1,"last_activity_date":1693543255,"creation_date":1693319686,"question_id":77001146,"body_markdown":"Is there a way to react on empty responses in Spring WebClient without checking the http status code? The endpoint from which I get data does return http200 even if an error occurs, which is why I need to check the payload itself. In case of an error it returns empty, in case of success it returns a valid payload which should be mapped into a POJO. \r\n\r\nAs the payload could only consumed once, is a there a way to handle this in a reactive way?","title":"Handle empty response with Spring WebClient in a reactive way","body":"<p>Is there a way to react on empty responses in Spring WebClient without checking the http status code? The endpoint from which I get data does return http200 even if an error occurs, which is why I need to check the payload itself. In case of an error it returns empty, in case of success it returns a valid payload which should be mapped into a POJO.</p>\n<p>As the payload could only consumed once, is a there a way to handle this in a reactive way?</p>\n"},{"tags":["java","android","kotlin","android-developer-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693514409,"post_id":77009709,"comment_id":135775221,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":21095103,"reputation":11,"user_id":15506243,"display_name":"Axim Amin"},"score":0,"creation_date":1693542876,"post_id":77009709,"comment_id":135777630,"body_markdown":"code added. please help.;","body":"code added. please help.;"}],"owner":{"account_id":21095103,"reputation":11,"user_id":15506243,"display_name":"Axim Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693542855,"creation_date":1693411250,"question_id":77009709,"body_markdown":"I&#39;m currently facing an issue where the overlay layout fails to appear upon launching the system settings app. The intended functionality is reminiscent of an app lock feature: upon tapping the settings app, an overlay layout should activate, requesting a pattern input to initiate the unlocking process. However, I&#39;m unable to achieve this behavior successfully.\r\n\r\nAfter successfully granting permission for the top app overlay. The desired behavior is similar to an app lock functionality, where upon clicking the settings app, an overlay layout should appear asking for a pattern to unlock. \r\n\r\nWhile my overlay layouts work seamlessly in various apps, they don&#39;t seem to function as intended in the system settings app, particularly on Android versions above 10.\r\n\r\n\r\n    private fun CheckOverlayPermission() {\r\n        // Choose a request code\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !Settings.canDrawOverlays(this)) {\r\n            // If the permission is not granted, open the overlay permission settings\r\n            val intent = Intent(\r\n                Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\r\n                Uri.parse(&quot;package:$packageName&quot;)\r\n            )\r\n            startActivityForResult(intent, overlayPermissionCode)\r\n        } else {\r\n            // Permission is already granted or not needed on this version\r\n            // Your overlay logic here\r\n        }\r\n    \r\n    }\r\n    // this function to to check the package name if exist in the \r\n    database and show the overlay layout \r\n    \r\n    private fun onAppForeground(foregroundAppPackage: String) {\r\n    \r\n        hideOverlay()\r\n    \r\n        //UnInstall Application............\r\n    \r\n        //Lock overlay work\r\n        if (lockedAppPackageSet.contains(foregroundAppPackage)) {\r\n            if (appLockerPreferences.getFingerPrintEnabled() || PermissionChecker.checkOverlayPermission(\r\n                    applicationContext\r\n                ).not()\r\n            ) {\r\n                val intent =\r\n                    OverlayValidationActivity.newIntent(applicationContext, foregroundAppPackage)\r\n                if (lastForegroundAppPackage == applicationContext.packageName) {\r\n                    intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\r\n                } else {\r\n                    intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK\r\n                }\r\n    \r\n                startActivity(intent)\r\n    \r\n            } else {\r\n                showOverlay(foregroundAppPackage)\r\n            }\r\n        }\r\n        lastForegroundAppPackage = foregroundAppPackage\r\n    }\r\n    \r\n    // show overlay layout \r\n    \r\n    private fun showOverlay(lockedAppPackageName: String) {\r\n        if (isOverlayShowing.not()) {\r\n            isOverlayShowing = true\r\n            overlayView.setHiddenDrawingMode(appLockerPreferences.getHiddenDrawingMode())\r\n            overlayView.setAppPackageName(lockedAppPackageName)\r\n            windowManager.addView(overlayView, overlayParams);\r\n        }\r\n    }\r\n    \r\n    // forground observer to checks the locked apps\r\n    \r\n    \r\n    //         for above 10 or 11\r\n    \r\n        private fun getForegroundObservableaboveQ(): Flowable&lt;String&gt;? {\r\n            return Flowable.interval(0, TimeUnit.MILLISECONDS)\r\n                .filter { PermissionChecker.checkUsageAccessPermission(context) }\r\n                .map {\r\n                    val mUsageStatsManager =\r\n                        context.getSystemService(Service.USAGE_STATS_SERVICE) as UsageStatsManager\r\n                    val time = System.currentTimeMillis()\r\n    \r\n                    val usageEvents =\r\n                        mUsageStatsManager.queryUsageStats(INTERVAL_DAILY, time - 10000, time)\r\n                    val sortedUsageEvents = usageEvents.sortedBy { it.lastTimeUsed }\r\n                    val usageEvent = sortedUsageEvents.lastOrNull()\r\n    \r\n                    UsageEventWrapper(usageEvent)\r\n                }\r\n                .filter { it.usageEvent != null }\r\n                .map { it.usageEvent }\r\n                .filter { it.packageName != null }\r\n                .map { it.packageName }\r\n                .distinctUntilChanged()\r\n        }\r\n    \r\n    // overlay layouts params\r\n    \r\n    \r\n    object OverlayViewLayoutParams {\r\n    \r\n        fun get(): WindowManager.LayoutParams {\r\n            val layoutFlag: Int = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\r\n            } else {\r\n                WindowManager.LayoutParams.TYPE_PHONE\r\n            }\r\n    \r\n    \r\n            return WindowManager.LayoutParams(\r\n                    WindowManager.LayoutParams.MATCH_PARENT,\r\n                    WindowManager.LayoutParams.MATCH_PARENT,\r\n                    layoutFlag,\r\n                    WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH or\r\n                            WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN or\r\n                            WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL or\r\n    \r\n                            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n                    PixelFormat.TRANSLUCENT\r\n                )\r\n        }\r\n    } \r\n\r\n","title":"why overlay layout does not work on the system settings app?","body":"<p>I'm currently facing an issue where the overlay layout fails to appear upon launching the system settings app. The intended functionality is reminiscent of an app lock feature: upon tapping the settings app, an overlay layout should activate, requesting a pattern input to initiate the unlocking process. However, I'm unable to achieve this behavior successfully.</p>\n<p>After successfully granting permission for the top app overlay. The desired behavior is similar to an app lock functionality, where upon clicking the settings app, an overlay layout should appear asking for a pattern to unlock.</p>\n<p>While my overlay layouts work seamlessly in various apps, they don't seem to function as intended in the system settings app, particularly on Android versions above 10.</p>\n<pre><code>private fun CheckOverlayPermission() {\n    // Choose a request code\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !Settings.canDrawOverlays(this)) {\n        // If the permission is not granted, open the overlay permission settings\n        val intent = Intent(\n            Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\n            Uri.parse(&quot;package:$packageName&quot;)\n        )\n        startActivityForResult(intent, overlayPermissionCode)\n    } else {\n        // Permission is already granted or not needed on this version\n        // Your overlay logic here\n    }\n\n}\n// this function to to check the package name if exist in the \ndatabase and show the overlay layout \n\nprivate fun onAppForeground(foregroundAppPackage: String) {\n\n    hideOverlay()\n\n    //UnInstall Application............\n\n    //Lock overlay work\n    if (lockedAppPackageSet.contains(foregroundAppPackage)) {\n        if (appLockerPreferences.getFingerPrintEnabled() || PermissionChecker.checkOverlayPermission(\n                applicationContext\n            ).not()\n        ) {\n            val intent =\n                OverlayValidationActivity.newIntent(applicationContext, foregroundAppPackage)\n            if (lastForegroundAppPackage == applicationContext.packageName) {\n                intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n            } else {\n                intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK\n            }\n\n            startActivity(intent)\n\n        } else {\n            showOverlay(foregroundAppPackage)\n        }\n    }\n    lastForegroundAppPackage = foregroundAppPackage\n}\n\n// show overlay layout \n\nprivate fun showOverlay(lockedAppPackageName: String) {\n    if (isOverlayShowing.not()) {\n        isOverlayShowing = true\n        overlayView.setHiddenDrawingMode(appLockerPreferences.getHiddenDrawingMode())\n        overlayView.setAppPackageName(lockedAppPackageName)\n        windowManager.addView(overlayView, overlayParams);\n    }\n}\n\n// forground observer to checks the locked apps\n\n\n//         for above 10 or 11\n\n    private fun getForegroundObservableaboveQ(): Flowable&lt;String&gt;? {\n        return Flowable.interval(0, TimeUnit.MILLISECONDS)\n            .filter { PermissionChecker.checkUsageAccessPermission(context) }\n            .map {\n                val mUsageStatsManager =\n                    context.getSystemService(Service.USAGE_STATS_SERVICE) as UsageStatsManager\n                val time = System.currentTimeMillis()\n\n                val usageEvents =\n                    mUsageStatsManager.queryUsageStats(INTERVAL_DAILY, time - 10000, time)\n                val sortedUsageEvents = usageEvents.sortedBy { it.lastTimeUsed }\n                val usageEvent = sortedUsageEvents.lastOrNull()\n\n                UsageEventWrapper(usageEvent)\n            }\n            .filter { it.usageEvent != null }\n            .map { it.usageEvent }\n            .filter { it.packageName != null }\n            .map { it.packageName }\n            .distinctUntilChanged()\n    }\n\n// overlay layouts params\n\n\nobject OverlayViewLayoutParams {\n\n    fun get(): WindowManager.LayoutParams {\n        val layoutFlag: Int = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\n        } else {\n            WindowManager.LayoutParams.TYPE_PHONE\n        }\n\n\n        return WindowManager.LayoutParams(\n                WindowManager.LayoutParams.MATCH_PARENT,\n                WindowManager.LayoutParams.MATCH_PARENT,\n                layoutFlag,\n                WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH or\n                        WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN or\n                        WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL or\n\n                        WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n                PixelFormat.TRANSLUCENT\n            )\n    }\n} \n</code></pre>\n"},{"tags":["java","xpath","pmd"],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693349761,"creation_date":1693349127,"answer_id":77004012,"question_id":76974522,"body_markdown":"I don&#39;t know anything about PMD and didn&#39;t succeed in getting it set up, so here&#39;s a guess based upon my XPath experience:\r\n```xpath\r\n//Name[@Image=&#39;System&#39;]/Name[@Image=&#39;out&#39;]/Name[@Image=&#39;println&#39;][not(ancestor::IfStatement)]\r\n```\r\nAt any point in the tree,  \r\n  look for a Name element with an Image attribute of &quot;System&quot;,  \r\n  find its Name child element with an Image attribute of &quot;out&quot;,  \r\n  find its Name child element with an Image attribute of &quot;println&quot;,\r\n  and it also has a predicate for not having an IfStatement ancestor.\r\n\r\nXPath refresher: https://www.w3schools.com/xml/xpath_syntax.asp","title":"Xpath expression not working to identify print statements in java code using eclipse-PMD","body":"<p>I don't know anything about PMD and didn't succeed in getting it set up, so here's a guess based upon my XPath experience:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>//Name[@Image='System']/Name[@Image='out']/Name[@Image='println'][not(ancestor::IfStatement)]\n</code></pre>\n<p>At any point in the tree,<br />\nlook for a Name element with an Image attribute of &quot;System&quot;,<br />\nfind its Name child element with an Image attribute of &quot;out&quot;,<br />\nfind its Name child element with an Image attribute of &quot;println&quot;,\nand it also has a predicate for not having an IfStatement ancestor.</p>\n<p>XPath refresher: <a href=\"https://www.w3schools.com/xml/xpath_syntax.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/xml/xpath_syntax.asp</a></p>\n"},{"tags":[],"owner":{"account_id":22162173,"reputation":186,"user_id":16408987,"display_name":"DeLorean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693542236,"creation_date":1693542236,"answer_id":77020493,"question_id":76974522,"body_markdown":"After 3 days of beating my head, I finally figured it out. I&#39;m not too fond of the documentation of the PMD\r\n\r\nanyways here is the solution\r\n```\r\n//MethodCall[ starts-with(@MethodName, &#39;print&#39;) ]\r\n  /FieldAccess[ @Name = (&#39;err&#39;, &#39;out&#39;) ]\r\n  /TypeExpression[ pmd-java:typeIsExactly(&#39;java.lang.System&#39;) ]\r\n  [not(ancestor::IfStatement[VariableAccess[@Name = &#39;verbose&#39;]])]\r\n```\r\n\r\nThis expression is used to select the print statements in Java code that are not inside an if statement whose condition is not verbose. Let me break it down for you:\r\n\r\n - `//MethodCall[ starts-with(@MethodName, &#39;print&#39;) ]` : This part selects all the method calls that start with the word print, such as println, printf, or printStackTrace.\r\n\r\n- `/FieldAccess[ @Name = (&#39;err&#39;, &#39;out&#39;) ]` : This part selects the field accesses that have the name err or out, such as System.err or System.out.\r\n\r\n- `/TypeExpression[ pmd-java:typeIsExactly(&#39;java.lang.System&#39;) ]` : This part selects the type expressions that are exactly the java.lang.System class, such as System or (System).\r\n\r\n- `[not(ancestor::IfStatement[VariableAccess[@Name != &#39;verbose&#39;]])]` : This part filters out the nodes that have an ancestor (parent, grandparent, etc.) that is an if statement whose condition is a variable access with a name that is not verbose, such as if (DEBUG) or if (flag).","title":"Xpath expression not working to identify print statements in java code using eclipse-PMD","body":"<p>After 3 days of beating my head, I finally figured it out. I'm not too fond of the documentation of the PMD</p>\n<p>anyways here is the solution</p>\n<pre><code>//MethodCall[ starts-with(@MethodName, 'print') ]\n  /FieldAccess[ @Name = ('err', 'out') ]\n  /TypeExpression[ pmd-java:typeIsExactly('java.lang.System') ]\n  [not(ancestor::IfStatement[VariableAccess[@Name = 'verbose']])]\n</code></pre>\n<p>This expression is used to select the print statements in Java code that are not inside an if statement whose condition is not verbose. Let me break it down for you:</p>\n<ul>\n<li><p><code>//MethodCall[ starts-with(@MethodName, 'print') ]</code> : This part selects all the method calls that start with the word print, such as println, printf, or printStackTrace.</p>\n</li>\n<li><p><code>/FieldAccess[ @Name = ('err', 'out') ]</code> : This part selects the field accesses that have the name err or out, such as System.err or System.out.</p>\n</li>\n<li><p><code>/TypeExpression[ pmd-java:typeIsExactly('java.lang.System') ]</code> : This part selects the type expressions that are exactly the java.lang.System class, such as System or (System).</p>\n</li>\n<li><p><code>[not(ancestor::IfStatement[VariableAccess[@Name != 'verbose']])]</code> : This part filters out the nodes that have an ancestor (parent, grandparent, etc.) that is an if statement whose condition is a variable access with a name that is not verbose, such as if (DEBUG) or if (flag).</p>\n</li>\n</ul>\n"}],"owner":{"account_id":22162173,"reputation":186,"user_id":16408987,"display_name":"DeLorean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77020493,"answer_count":2,"score":2,"last_activity_date":1693542236,"creation_date":1692942222,"question_id":76974522,"body_markdown":"I want to identify print statements that are not inside the conditional statements (i.e., to check if the print statement has any if statement as its ancestor)\r\n\r\nfew test cases are as follows :\r\n\r\n* Identify all the print statements in the snippet below\r\n\r\n```\r\nint x = 5;\r\nint y = 10;\r\nSystem.out.println(&quot;The value of x is &quot; + x);\r\nSystem.out.println(&quot;The value of y is &quot; + y);\r\n```\r\n\r\n\r\n* Ignore the first print statement and identify the second print statement as the second print statement is not inside an if statement.\r\n```\r\nif (x &gt; 10) {\r\n    System.out.println(&quot;x is greater than 10&quot;);\r\n}\r\nSystem.out.println(&quot;This is the end of the program&quot;);\r\n\r\n```\r\n\r\n\r\nI have tried the below Xpath expressions but have had no luck could anyone help me out with it?\r\n\r\n * Expression 1\r\n```\r\n//Name[@Image=&#39;System&#39;]/following-sibling::Name[@Image=&#39;out&#39;]/following-sibling::Name[@Image=&#39;println&#39;][not(ancestor::IfStatement)]\r\n```\r\n\r\n * Expression 2\r\n```\r\n//Name[@Image=&#39;System&#39;]/descendant-or-self::Name[@Image=&#39;println&#39;][not(ancestor::IfStatement)]\r\n```\r\n\r\n * Expression 3\r\n```\r\n//Name[@Image=&#39;System&#39;]/child::Name[@Image=&#39;println&#39;][not(ancestor::IfStatement)]\r\n```\r\n\r\n * Expression 4\r\n```\r\n//attribute::Image[.=&#39;System&#39;]/parent::Name/following-sibling::Name[attribute::Image=&#39;out&#39;]/following-sibling::Name[attribute::Image=&#39;println&#39;][not(ancestor::IfStatement)]\r\n```\r\n\r\n * Expression 5\r\n```\r\n//Name[@Image=&#39;System&#39;]/preceding-sibling::Name[@Image=&#39;out&#39;]/preceding-sibling::Name[@Image=&#39;println&#39;][not(ancestor::IfStatement)]\r\n```\r\n\r\nPlease note I am using PMD rule designer from PMD to test the XPath expressions.\r\n\r\nThanks in advance.\r\n\r\n","title":"Xpath expression not working to identify print statements in java code using eclipse-PMD","body":"<p>I want to identify print statements that are not inside the conditional statements (i.e., to check if the print statement has any if statement as its ancestor)</p>\n<p>few test cases are as follows :</p>\n<ul>\n<li>Identify all the print statements in the snippet below</li>\n</ul>\n<pre><code>int x = 5;\nint y = 10;\nSystem.out.println(&quot;The value of x is &quot; + x);\nSystem.out.println(&quot;The value of y is &quot; + y);\n</code></pre>\n<ul>\n<li>Ignore the first print statement and identify the second print statement as the second print statement is not inside an if statement.</li>\n</ul>\n<pre><code>if (x &gt; 10) {\n    System.out.println(&quot;x is greater than 10&quot;);\n}\nSystem.out.println(&quot;This is the end of the program&quot;);\n\n</code></pre>\n<p>I have tried the below Xpath expressions but have had no luck could anyone help me out with it?</p>\n<ul>\n<li>Expression 1</li>\n</ul>\n<pre><code>//Name[@Image='System']/following-sibling::Name[@Image='out']/following-sibling::Name[@Image='println'][not(ancestor::IfStatement)]\n</code></pre>\n<ul>\n<li>Expression 2</li>\n</ul>\n<pre><code>//Name[@Image='System']/descendant-or-self::Name[@Image='println'][not(ancestor::IfStatement)]\n</code></pre>\n<ul>\n<li>Expression 3</li>\n</ul>\n<pre><code>//Name[@Image='System']/child::Name[@Image='println'][not(ancestor::IfStatement)]\n</code></pre>\n<ul>\n<li>Expression 4</li>\n</ul>\n<pre><code>//attribute::Image[.='System']/parent::Name/following-sibling::Name[attribute::Image='out']/following-sibling::Name[attribute::Image='println'][not(ancestor::IfStatement)]\n</code></pre>\n<ul>\n<li>Expression 5</li>\n</ul>\n<pre><code>//Name[@Image='System']/preceding-sibling::Name[@Image='out']/preceding-sibling::Name[@Image='println'][not(ancestor::IfStatement)]\n</code></pre>\n<p>Please note I am using PMD rule designer from PMD to test the XPath expressions.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven","jenkins","maven-surefire-plugin"],"comments":[{"owner":{"account_id":4872208,"reputation":1786,"user_id":3928295,"accept_rate":80,"display_name":"Manmohan_singh"},"score":0,"creation_date":1575546328,"post_id":59194387,"comment_id":104607208,"body_markdown":"add more [Error] logs please.","body":"add more [Error] logs please."}],"answers":[{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577482479,"creation_date":1577482479,"answer_id":59506242,"question_id":59194387,"body_markdown":"@Nivi\r\nFirst of all, the rule is not to read all what the people write on the Google because they also write bad pages. The right thing is to read the original tutorial from the Apache Maven.\r\n\r\nCan you read this documentation properly and see all occurences of the word **&quot;suiteXmlFiles&quot;** on the page https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html that these configuration parameters, you have used in your POM, should not be combined.\r\n\r\nNext that you use absolute paths completely breaks all what the Maven is about. Your file **Learning_Suite.xml** should be a realtive path to module&#39;s base dir. Therefore it is a resource file and the configuration looks like this `&lt;file&gt;src/test/resources/suite.xml&lt;/file&gt;` in the documentation:\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html\r\n\r\nAdditionally, the version **&lt;java.version&gt;1.8.0_222&lt;/java.version&gt;** is something what nobody should use. This is enough and transparent for every POM:\r\n\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test (default-test)","body":"<p>@Nivi\nFirst of all, the rule is not to read all what the people write on the Google because they also write bad pages. The right thing is to read the original tutorial from the Apache Maven.</p>\n\n<p>Can you read this documentation properly and see all occurences of the word <strong>\"suiteXmlFiles\"</strong> on the page <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html</a> that these configuration parameters, you have used in your POM, should not be combined.</p>\n\n<p>Next that you use absolute paths completely breaks all what the Maven is about. Your file <strong>Learning_Suite.xml</strong> should be a realtive path to module's base dir. Therefore it is a resource file and the configuration looks like this <code>&lt;file&gt;src/test/resources/suite.xml&lt;/file&gt;</code> in the documentation:\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html</a></p>\n\n<p>Additionally, the version <strong>1.8.0_222</strong> is something what nobody should use. This is enough and transparent for every POM:</p>\n\n<pre><code>&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13133212,"reputation":1,"user_id":9487115,"display_name":"Gabri EL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585897375,"creation_date":1585895340,"answer_id":61006202,"question_id":59194387,"body_markdown":"    &lt;suiteXmlFile&gt;src/test/resources/${suiteXmlFile}.xml&lt;/suiteXmlFile&gt;\r\n\r\nAny name will have the XML file, the tests will run","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test (default-test)","body":"<pre><code>&lt;suiteXmlFile&gt;src/test/resources/${suiteXmlFile}.xml&lt;/suiteXmlFile&gt;\n</code></pre>\n\n<p>Any name will have the XML file, the tests will run</p>\n"}],"owner":{"account_id":7170593,"reputation":1,"user_id":5478188,"display_name":"Nivi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693541255,"creation_date":1575546160,"question_id":59194387,"body_markdown":"I am facing this issue with maven-surefire-plugin 3.0.0-M4 and Maven versions 3.6.3, 3.6.0 and 3.3.9 with jdk1.8.0_222 (Ubuntu 18.0.4). My pom.xml is as follows:\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t  &lt;groupId&gt;Expertus&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;Expertus&lt;/artifactId&gt;\r\n\t  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t  &lt;name&gt;ExpertusONE_4.5&lt;/name&gt;\r\n\t  &lt;description&gt;ExpertusONE_4.5&lt;/description&gt;\r\n\t  &lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t      &lt;version&gt;3.141.59&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t      &lt;version&gt;7.0.0&lt;/version&gt;\r\n\t      &lt;scope&gt;test&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t      &lt;version&gt;1.2.17&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t      &lt;version&gt;4.1.1&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t      &lt;version&gt;4.1.1&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t      &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n\t      &lt;scope&gt;test&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t  &lt;/dependencies&gt;\r\n\t  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t  &lt;build&gt;\r\n\t    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t    &lt;resources&gt;\r\n\t      &lt;resource&gt;\r\n\t        &lt;directory&gt;src&lt;/directory&gt;\r\n\t      &lt;/resource&gt;\r\n\t    &lt;/resources&gt;\r\n\t    &lt;plugins&gt;\r\n\t      &lt;plugin&gt;\r\n\t        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t        &lt;version&gt;3.8.0&lt;/version&gt;\r\n\t        &lt;configuration&gt;\r\n\t          &lt;source&gt;1.8&lt;/source&gt;\r\n\t          &lt;target&gt;1.8&lt;/target&gt;\r\n\t        &lt;/configuration&gt;\r\n\t      &lt;/plugin&gt;\r\n\t      &lt;plugin&gt;\r\n\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t        &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n\t        &lt;configuration&gt;\r\n\t          &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n\t          &lt;includes&gt;\r\n\t            &lt;include&gt;CreateOrganization.java&lt;/include&gt;\r\n\t          &lt;/includes&gt;\r\n\t          &lt;suiteXmlFiles&gt;\r\n\t            &lt;suiteXmlFile&gt;/home/nivedab/Desktop/LocalCode/ExpertusONE_4.5/Learning_Suite.xml&lt;/suiteXmlFile&gt;\r\n\t          &lt;/suiteXmlFiles&gt;\r\n\t        &lt;/configuration&gt;\r\n\t      &lt;/plugin&gt;\r\n\t    &lt;/plugins&gt;\r\n\t  &lt;/build&gt;\r\n\t  &lt;properties&gt;\r\n\t    &lt;java.version&gt;1.8.0_222&lt;/java.version&gt;\r\n\t    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t  &lt;/properties&gt;\r\n\t&lt;/project&gt;\r\n\r\nJenkins output is as follows:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test\r\n      (default-test) on project Expertus: There are test failures.","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test (default-test)","body":"<p>I am facing this issue with maven-surefire-plugin 3.0.0-M4 and Maven versions 3.6.3, 3.6.0 and 3.3.9 with jdk1.8.0_222 (Ubuntu 18.0.4). My pom.xml is as follows:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;Expertus&lt;/groupId&gt;\n  &lt;artifactId&gt;Expertus&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;ExpertusONE_4.5&lt;/name&gt;\n  &lt;description&gt;ExpertusONE_4.5&lt;/description&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.0.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n      &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n      &lt;artifactId&gt;poi&lt;/artifactId&gt;\n      &lt;version&gt;4.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n      &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n      &lt;version&gt;4.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M4&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src&lt;/directory&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n          &lt;includes&gt;\n            &lt;include&gt;CreateOrganization.java&lt;/include&gt;\n          &lt;/includes&gt;\n          &lt;suiteXmlFiles&gt;\n            &lt;suiteXmlFile&gt;/home/nivedab/Desktop/LocalCode/ExpertusONE_4.5/Learning_Suite.xml&lt;/suiteXmlFile&gt;\n          &lt;/suiteXmlFiles&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;1.8.0_222&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Jenkins output is as follows:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test\n  (default-test) on project Expertus: There are test failures.\n</code></pre>\n"},{"tags":["java","fonts","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":15306923,"reputation":35,"user_id":11043320,"display_name":"A. O&#39;Mary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634672749,"creation_date":1634672749,"answer_id":69636858,"question_id":69635887,"body_markdown":"I removed version 3.0.0-alpha2 and added 2.0.24 and was able to pick the font. 3.0.0-alpha2 was not working for me.","title":"HELVETICA cannot be resolved or is not a field","body":"<p>I removed version 3.0.0-alpha2 and added 2.0.24 and was able to pick the font. 3.0.0-alpha2 was not working for me.</p>\n"},{"tags":[],"owner":{"account_id":25824501,"reputation":71,"user_id":19562950,"display_name":"HS Nain."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1693540878,"creation_date":1693540878,"answer_id":77020431,"question_id":69635887,"body_markdown":"Use this line of code instead.\r\n\r\n     contentStream.setFont(new PDType1Font(Standard14Fonts.FontName.HELVETICA), 14);\r\n\r\n","title":"HELVETICA cannot be resolved or is not a field","body":"<p>Use this line of code instead.</p>\n<pre><code> contentStream.setFont(new PDType1Font(Standard14Fonts.FontName.HELVETICA), 14);\n</code></pre>\n"}],"owner":{"account_id":15306923,"reputation":35,"user_id":11043320,"display_name":"A. O&#39;Mary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693540878,"creation_date":1634667441,"question_id":69635887,"body_markdown":"I am following a tutorial online. I am working with PDFBox with Eclipse and am having issues with loading the font that is suppose to be in the libraries. I&#39;ve loaded all 9 jars into my external libraries and the different fonts give me the same &quot;cannot be resolved or is not a field&quot;.\r\n```\r\nimport java.io.IOException;  \r\nimport org.apache.pdfbox.pdmodel.*;\r\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\r\nimport org.apache.pdfbox.pdmodel.font.PDFont;\r\n\r\npublic class PCSRR {\r\n\t\r\n\tpublic static void main(String[] args)throws IOException {\r\n\t     PDDocument doc = new PDDocument();   \r\n\t     PDPage blankPage = new PDPage();  \r\n\t\t doc.addPage( blankPage );  \r\n\t\t \r\n\t\t PDPage page = doc.getPage(1);  \r\n         PDPageContentStream contentStream = new PDPageContentStream(doc, page);  \r\n         \r\n         //Begin the Content stream   \r\n         contentStream.beginText();   \r\n         contentStream.setFont(PDType1Font.HELVETICA , 14);\r\n         contentStream.newLineAtOffset(20, 450);  \r\n         \tString text = &quot;Hi!!! This is the first sample PDF document.&quot;;  \r\n         contentStream.showText(text);        \r\n         contentStream.endText();  \r\n         \tSystem.out.println(&quot;New Text Content is added in the PDF Document.&quot;);  \r\n         contentStream.close();  \r\n         \r\n         doc.save(&quot;C:\\\\Users\\\\Aaron\\\\Desktop\\\\pdfbox\\\\practice.pdf&quot;);  \r\n\t\t\tSystem.out.println(&quot;PDF created&quot;); \r\n\t\t doc.close();  \r\n\t}\r\n}\r\n```\r\n[![External Jars][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xENq3.png","title":"HELVETICA cannot be resolved or is not a field","body":"<p>I am following a tutorial online. I am working with PDFBox with Eclipse and am having issues with loading the font that is suppose to be in the libraries. I've loaded all 9 jars into my external libraries and the different fonts give me the same &quot;cannot be resolved or is not a field&quot;.</p>\n<pre><code>import java.io.IOException;  \nimport org.apache.pdfbox.pdmodel.*;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\n\npublic class PCSRR {\n    \n    public static void main(String[] args)throws IOException {\n         PDDocument doc = new PDDocument();   \n         PDPage blankPage = new PDPage();  \n         doc.addPage( blankPage );  \n         \n         PDPage page = doc.getPage(1);  \n         PDPageContentStream contentStream = new PDPageContentStream(doc, page);  \n         \n         //Begin the Content stream   \n         contentStream.beginText();   \n         contentStream.setFont(PDType1Font.HELVETICA , 14);\n         contentStream.newLineAtOffset(20, 450);  \n            String text = &quot;Hi!!! This is the first sample PDF document.&quot;;  \n         contentStream.showText(text);        \n         contentStream.endText();  \n            System.out.println(&quot;New Text Content is added in the PDF Document.&quot;);  \n         contentStream.close();  \n         \n         doc.save(&quot;C:\\\\Users\\\\Aaron\\\\Desktop\\\\pdfbox\\\\practice.pdf&quot;);  \n            System.out.println(&quot;PDF created&quot;); \n         doc.close();  \n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xENq3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xENq3.png\" alt=\"External Jars\" /></a></p>\n"},{"tags":["java","lombok","non-nullable","java-annotations","nullaway"],"comments":[{"owner":{"account_id":1880443,"reputation":11,"user_id":1700773,"display_name":"user1700773"},"score":0,"creation_date":1693524337,"post_id":77019739,"comment_id":135776430,"body_markdown":"From the docs: &quot;@RequiredArgsConstructor generates a constructor with 1 parameter for each field that requires special handling. All non-initialized final fields get a parameter, as well as any fields that are marked as @NonNull that aren&#39;t initialized where they are declared.&quot;\n\nEssentially what I&#39;d like to do is change what it means to &quot;require special handling&quot;.\n\nhttps://projectlombok.org/features/constructor","body":"From the docs: &quot;@RequiredArgsConstructor generates a constructor with 1 parameter for each field that requires special handling. All non-initialized final fields get a parameter, as well as any fields that are marked as @NonNull that aren&#39;t initialized where they are declared.&quot;  Essentially what I&#39;d like to do is change what it means to &quot;require special handling&quot;.  <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">projectlombok.org/features/constructor</a>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1693531025,"post_id":77019739,"comment_id":135776889,"body_markdown":"Did you read [this section](https://github.com/uber/NullAway#lombok) of the NullAway readme?","body":"Did you read <a href=\"https://github.com/uber/NullAway#lombok\" rel=\"nofollow noreferrer\">this section</a> of the NullAway readme?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693540603,"creation_date":1693540603,"answer_id":77020418,"question_id":77019739,"body_markdown":"Make a text file and name it `lombok.config`. Inside, stick some lines of text. See [the documentation](https://projectlombok.org/features/configuration#addNullAnnotations) of the feature. You can tell lombok about your nullable annotations. You can also tell it to add `@Generated` annotations which [NullAway understands](https://github.com/uber/NullAway#lombok) - thanks to @Sweeper who linked to that section of the NullAway docs in the comments.\r\n\r\nlombok.config can be in a package, or any parent directory of it; even `/` / `C:\\` though that&#39;d perhaps be a bit weird. Generally you&#39;d put this either in `projectroot` or `projectroot/src`.","title":"How to use Lombok&#39;s RequiredArgsConstructor with Nullaway?","body":"<p>Make a text file and name it <code>lombok.config</code>. Inside, stick some lines of text. See <a href=\"https://projectlombok.org/features/configuration#addNullAnnotations\" rel=\"nofollow noreferrer\">the documentation</a> of the feature. You can tell lombok about your nullable annotations. You can also tell it to add <code>@Generated</code> annotations which <a href=\"https://github.com/uber/NullAway#lombok\" rel=\"nofollow noreferrer\">NullAway understands</a> - thanks to @Sweeper who linked to that section of the NullAway docs in the comments.</p>\n<p>lombok.config can be in a package, or any parent directory of it; even <code>/</code> / <code>C:\\</code> though that'd perhaps be a bit weird. Generally you'd put this either in <code>projectroot</code> or <code>projectroot/src</code>.</p>\n"}],"owner":{"account_id":1880443,"reputation":11,"user_id":1700773,"display_name":"user1700773"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693540603,"creation_date":1693523724,"question_id":77019739,"body_markdown":"We&#39;re trying to add &quot;Nullaway&quot; (https://github.com/uber/NullAway) to our repo. This is a tool that assumes everything not annotated with @Nullable can&#39;t be null and enforces it in compile time. \r\n\r\nWe also use Lombok, with focus on @Data. Lombok decides which fields to add to the RequiredArgsConstructor based on a @NonNull annotation. Furthermore, Nullaway requires that all constructurs set a value to all the fields not marked as @Nullable.\r\n\r\nOur issue is - we don&#39;t wish to annotate all fields (both with @Nonnull and @Nullable), as it&#39;s redundant. We&#39;d like to have one of them be a &quot;default&quot; (preferably the @Nonnull option).\r\n\r\nHow can we solve this? An ideal solution would be to configure the RequiredArgsConstructor to treat any field not marked as @Nullable as required, but that option doesn&#39;t exist. We&#39;re open to any and all creative ideas.\r\n\r\nI tried looking for such a configuration in Lombok, which doesn&#39;t exist. I also tried annotating at the class level to no avail.","title":"How to use Lombok&#39;s RequiredArgsConstructor with Nullaway?","body":"<p>We're trying to add &quot;Nullaway&quot; (<a href=\"https://github.com/uber/NullAway\" rel=\"nofollow noreferrer\">https://github.com/uber/NullAway</a>) to our repo. This is a tool that assumes everything not annotated with @Nullable can't be null and enforces it in compile time.</p>\n<p>We also use Lombok, with focus on @Data. Lombok decides which fields to add to the RequiredArgsConstructor based on a @NonNull annotation. Furthermore, Nullaway requires that all constructurs set a value to all the fields not marked as @Nullable.</p>\n<p>Our issue is - we don't wish to annotate all fields (both with @Nonnull and @Nullable), as it's redundant. We'd like to have one of them be a &quot;default&quot; (preferably the @Nonnull option).</p>\n<p>How can we solve this? An ideal solution would be to configure the RequiredArgsConstructor to treat any field not marked as @Nullable as required, but that option doesn't exist. We're open to any and all creative ideas.</p>\n<p>I tried looking for such a configuration in Lombok, which doesn't exist. I also tried annotating at the class level to no avail.</p>\n"},{"tags":["java","lombok","builder"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693462715,"post_id":77013246,"comment_id":135764702,"body_markdown":"Why would you have separate `userEmail` and `email` properties?","body":"Why would you have separate <code>userEmail</code> and <code>email</code> properties?"},{"owner":{"account_id":11293769,"reputation":13,"user_id":8281866,"display_name":"ragingDino"},"score":0,"creation_date":1693464767,"post_id":77013246,"comment_id":135765032,"body_markdown":"It was just for example purpose, in my use case I have a class variable whose value would depend on one of these inputs","body":"It was just for example purpose, in my use case I have a class variable whose value would depend on one of these inputs"},{"owner":{"account_id":11293769,"reputation":13,"user_id":8281866,"display_name":"ragingDino"},"score":0,"creation_date":1693465090,"post_id":77013246,"comment_id":135765074,"body_markdown":"I updated the question with the real use case","body":"I updated the question with the real use case"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693535372,"creation_date":1693463216,"answer_id":77013307,"question_id":77013246,"body_markdown":"You could use Lombok&#39;s [GetterLazy](https://projectlombok.org/features/GetterLazy)\r\n\r\nFrom the doc,\r\n&gt; You can let lombok generate a getter which will calculate a value once, the first time this getter is called, and cache it from then on. [...] To use this feature, create a private final variable, initialize it with the expression that&#39;s expensive to run, and annotate your field with @Getter(lazy=true). The field will be hidden from the rest of your code, and the expression will be evaluated no more than once, when the getter is first called. \r\n\r\n```\r\n@Builder\r\nprivate static class User {\r\n    private String userName;\r\n    private String email;\r\n    private String device;\r\n    @Getter(lazy=true)\r\n    private final String deviceType = deriveDeviceType();\r\n\r\n    private String deriveDeviceType() {\r\n        Objects.requireNonNull(device);\r\n        switch (device) {\r\n            case &quot;iPhone&quot;: return &quot;mobile&quot;;\r\n            case &quot;Kindle&quot;: return &quot;tablet&quot;;\r\n            // and so on...\r\n        }\r\n        throw new RuntimeException(&quot;Invalid value set for device&quot;);\r\n    }\r\n}\r\n```\r\nWith this, the `deviceType` field won&#39;t be available to be set via the builder.\r\n\r\nNote that the field will be initialized *only* when the getter (`getDeviceType()`) is called and not when the field is accessed directly.\r\n\r\n```\r\nUser u = User.builder()\r\n            .userName(&quot;test-name&quot;)\r\n            .email(&quot;test-email&quot;)\r\n            .device(&quot;Kindle&quot;)\r\n            .build();\r\n\r\nSystem.out.println(user.getDeviceType()); //tablet \r\n```\r\n\r\nSince it is possible to pass an invalid value for device, I suggest you to look into using *enums* to model `device` and `deviceType` (if possible).","title":"Update a different variable in the class with Java Lombok Builder","body":"<p>You could use Lombok's <a href=\"https://projectlombok.org/features/GetterLazy\" rel=\"nofollow noreferrer\">GetterLazy</a></p>\n<p>From the doc,</p>\n<blockquote>\n<p>You can let lombok generate a getter which will calculate a value once, the first time this getter is called, and cache it from then on. [...] To use this feature, create a private final variable, initialize it with the expression that's expensive to run, and annotate your field with @Getter(lazy=true). The field will be hidden from the rest of your code, and the expression will be evaluated no more than once, when the getter is first called.</p>\n</blockquote>\n<pre><code>@Builder\nprivate static class User {\n    private String userName;\n    private String email;\n    private String device;\n    @Getter(lazy=true)\n    private final String deviceType = deriveDeviceType();\n\n    private String deriveDeviceType() {\n        Objects.requireNonNull(device);\n        switch (device) {\n            case &quot;iPhone&quot;: return &quot;mobile&quot;;\n            case &quot;Kindle&quot;: return &quot;tablet&quot;;\n            // and so on...\n        }\n        throw new RuntimeException(&quot;Invalid value set for device&quot;);\n    }\n}\n</code></pre>\n<p>With this, the <code>deviceType</code> field won't be available to be set via the builder.</p>\n<p>Note that the field will be initialized <em>only</em> when the getter (<code>getDeviceType()</code>) is called and not when the field is accessed directly.</p>\n<pre><code>User u = User.builder()\n            .userName(&quot;test-name&quot;)\n            .email(&quot;test-email&quot;)\n            .device(&quot;Kindle&quot;)\n            .build();\n\nSystem.out.println(user.getDeviceType()); //tablet \n</code></pre>\n<p>Since it is possible to pass an invalid value for device, I suggest you to look into using <em>enums</em> to model <code>device</code> and <code>deviceType</code> (if possible).</p>\n"}],"owner":{"account_id":11293769,"reputation":13,"user_id":8281866,"display_name":"ragingDino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77013307,"answer_count":1,"score":0,"last_activity_date":1693539949,"creation_date":1693462632,"question_id":77013246,"body_markdown":"I have the following class\r\n\r\n```\r\n@Builder\r\npublic class User {\r\n\r\n    private String userName;\r\n    private String email;\r\n    private String device;\r\n    private String deviceType;\r\n}\r\n```\r\n\r\nI want to set the value `deviceType` based on the inputs I get for `device`. Is that possible with `Builder`? I don&#39;t want to set the value of `deviceType` directly.\r\n\r\nExample\r\n\r\n```\r\nif (device == &quot;iPhone&quot;) {\r\n    this.deviceType = &quot;mobile&quot;\r\n} else if (device == &quot;Kindle&quot;) {\r\n    this.deviceType = &quot;tablet&quot;\r\n} .. and so on\r\n```\r\nIdeally, I want this to be done in the constructor one time\r\n\r\nI am currently building the object like this but I am not sure how to initialize the `userEmail` field.\r\n\r\n```\r\nUser.builder()\r\n.userName(&quot;sample-username)\r\n.email(&quot;sample-email&quot;)\r\n.device(&quot;iPhone&quot;)\r\n.build();\r\n```","title":"Update a different variable in the class with Java Lombok Builder","body":"<p>I have the following class</p>\n<pre><code>@Builder\npublic class User {\n\n    private String userName;\n    private String email;\n    private String device;\n    private String deviceType;\n}\n</code></pre>\n<p>I want to set the value <code>deviceType</code> based on the inputs I get for <code>device</code>. Is that possible with <code>Builder</code>? I don't want to set the value of <code>deviceType</code> directly.</p>\n<p>Example</p>\n<pre><code>if (device == &quot;iPhone&quot;) {\n    this.deviceType = &quot;mobile&quot;\n} else if (device == &quot;Kindle&quot;) {\n    this.deviceType = &quot;tablet&quot;\n} .. and so on\n</code></pre>\n<p>Ideally, I want this to be done in the constructor one time</p>\n<p>I am currently building the object like this but I am not sure how to initialize the <code>userEmail</code> field.</p>\n<pre><code>User.builder()\n.userName(&quot;sample-username)\n.email(&quot;sample-email&quot;)\n.device(&quot;iPhone&quot;)\n.build();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693539903,"creation_date":1693539903,"answer_id":77020387,"question_id":77019729,"body_markdown":"Assuming you are using JPA , you can make sure `@Transactional` is executed before `@PreAuthorize` such that both business service method and the `@PreAuthorize` method are running in the same transaction as JPA will cache the entity that is fetched by Id into the 1st level cache for the same transaction. \r\n\r\nThat means in the `@PreAuthorize` method , it fetches the entity from DB and then will put it in the 1st level cache. Then later in the business method, it  will check if the 1st level cache contain the entity with the same Id. If yes it will get it without hitting DB.\r\n\r\nYou can configure the execution order of `@Transactional` and `@PreAuthorize`  through `@EnableTransactionManagement` and `@EnableGlobalMethodSecurity` like :\r\n\r\n``` java \r\n@EnableTransactionManagement(order=1)\r\n@EnableGlobalMethodSecurity(order=2)\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n\r\n}\r\n```\r\n\r\nGuess that the smaller order value will execute first but I leave it to you to confirm.\r\n","title":"@PreAuthorize Spring Security - avoid duplicate queries to bdd","body":"<p>Assuming you are using JPA , you can make sure <code>@Transactional</code> is executed before <code>@PreAuthorize</code> such that both business service method and the <code>@PreAuthorize</code> method are running in the same transaction as JPA will cache the entity that is fetched by Id into the 1st level cache for the same transaction.</p>\n<p>That means in the <code>@PreAuthorize</code> method , it fetches the entity from DB and then will put it in the 1st level cache. Then later in the business method, it  will check if the 1st level cache contain the entity with the same Id. If yes it will get it without hitting DB.</p>\n<p>You can configure the execution order of <code>@Transactional</code> and <code>@PreAuthorize</code>  through <code>@EnableTransactionManagement</code> and <code>@EnableGlobalMethodSecurity</code> like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableTransactionManagement(order=1)\n@EnableGlobalMethodSecurity(order=2)\n@Configuration\npublic class AppConfig {\n\n\n}\n</code></pre>\n<p>Guess that the smaller order value will execute first but I leave it to you to confirm.</p>\n"}],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693539903,"creation_date":1693523526,"question_id":77019729,"body_markdown":"I have an authorization class (Spring `@Component`) with methods that take an entity as a param and check whether the current user has the necessary rights to access it.\r\n\r\n\r\n\r\nSo first, I annotate my controller&#39;s method to check rights:\r\n```java\r\n@PreAuthorize(&quot;@authorizationComponent.hasPermission(@myService.findById(#entityId))&quot;)\r\n```\r\n\r\nThis makes ***an initial query*** to the database to retrieve the entity via `findById`.\r\n\r\nThen, once again, I want to retrieve the entity in the body of the method to perform my route logic:\r\n\r\n```java\r\n// can be inside a service method\r\nMyEntity entity = this.myService.findById(entityId)\r\n```\r\n\r\nThis makes ***a second request*** to the database.\r\n\r\n**Is this the right way to do things with Spring?**\r\nI know I could, for example, create a method in my authorization component that would return the loaded entity and which I could then call, but is this really the way to go?\r\n\r\nI have complicated requirements for my authorizations, where I sometimes have to check that the entity is owned by a certain relationship to which the user have rights on it... This can quickly become complicated.\r\n\r\n","title":"@PreAuthorize Spring Security - avoid duplicate queries to bdd","body":"<p>I have an authorization class (Spring <code>@Component</code>) with methods that take an entity as a param and check whether the current user has the necessary rights to access it.</p>\n<p>So first, I annotate my controller's method to check rights:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(&quot;@authorizationComponent.hasPermission(@myService.findById(#entityId))&quot;)\n</code></pre>\n<p>This makes <em><strong>an initial query</strong></em> to the database to retrieve the entity via <code>findById</code>.</p>\n<p>Then, once again, I want to retrieve the entity in the body of the method to perform my route logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// can be inside a service method\nMyEntity entity = this.myService.findById(entityId)\n</code></pre>\n<p>This makes <em><strong>a second request</strong></em> to the database.</p>\n<p><strong>Is this the right way to do things with Spring?</strong>\nI know I could, for example, create a method in my authorization component that would return the loaded entity and which I could then call, but is this really the way to go?</p>\n<p>I have complicated requirements for my authorizations, where I sometimes have to check that the entity is owned by a certain relationship to which the user have rights on it... This can quickly become complicated.</p>\n"},{"tags":["java","spring-boot","rest","apache-camel"],"owner":{"account_id":27897187,"reputation":11,"user_id":21302227,"display_name":"simak35"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693538554,"creation_date":1677568579,"question_id":75588910,"body_markdown":"I have defined the following RouteBuilder in Apache Camel framework:\r\n\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class FilesRouteBuilder extends RouteBuilder {\r\n\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\trest()\r\n\t\t\t\t.post(&quot;/files/{version}/file-import&quot;)\r\n\t\t\t\t.id(FilesConstants.REST_FILE_IMPORT_ROUTE)\r\n\t\t\t\t.produces(&quot;application/zip&quot;)\r\n\t\t\t\t.consumes(&quot;multipart/form-data&quot;)\r\n\t\t\t\t.route()\r\n\t\t\t\t.doTry()\r\n\t\t\t\t.to(FilesConstants.FILE_IMPORT)\r\n\r\n\t\tString apiEndpoint = RouteUtil.toHttpRoute(&quot;https://localhost:8080&quot;);\r\n\r\n\t\tfrom(FilesConstants.FILE_IMPORT)\r\n\t\t\t\t.id(FilesConstants.FILE_IMPORT)\r\n\t\t\t\t.setHeader(Exchange.HTTP_PATH, constant(String.format(&quot;/cust/files/%s/file-import&quot;, &quot;v1.56&quot;)))\r\n\t\t\t\t.setHeader(Exchange.HTTP_METHOD, constant(HttpMethod.POST))\r\n\t\t\t\t.process(exchange -&gt; {\r\n\t\t\t\t\tFileImportRequest fileImportRequest = exchange.getMessage().getBody(FileImportRequest.class);\r\n\t\t\t\t})\r\n\t\t\t\t.to(RouteHelper.createToEndpoint(apiEndpoint));\r\n\r\n\t}\r\n}\r\n```\r\nIn RouteBuilder above I am exposing rest api endpoint for files import. This is request body I get:\r\n\r\n```\r\n----------------------------894364363213737457457453\r\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;some_file.csv&quot;\r\nContent-Type: text/csv\r\n\r\n7;abcdefe;8efsefs4;34\r\n----------------------------894364363213737457457453\r\nContent-Disposition: form-data; name=&quot;configuration&quot;\r\nContent-Type: application/json\r\n\r\n{&quot;fileTypeId&quot;:19}\r\n----------------------------894364363213737457457453--\r\n```\r\n\r\n\r\n\r\nMy questions are:\r\n1. How can I modify &quot;configuration&quot; content part in processor block to add another parameter in json body to have something like that:\r\n```\r\n----------------------------894364363213737457457453\r\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;some_file.csv&quot;\r\nContent-Type: text/csv\r\n\r\n7;abcdefe;8efsefs4;34\r\n----------------------------894364363213737457457453\r\nContent-Disposition: form-data; name=&quot;configuration&quot;\r\nContent-Type: application/json\r\n\r\n{&quot;fileTypeId&quot;:19, &quot;sample_second_name&quot;:&quot;abcdefg&quot;}\r\n----------------------------894364363213737457457453--\r\n```\r\n2. How to assign request body to some entity class?\r\n\r\n\r\n\r\nI have tried to assign request body to FileImportRequest that has following definition:\r\n\r\n```\r\n@Value\r\n@Data\r\n@AllArgsConstructor\r\npublic class FileImportRequest implements Serializable {\r\n\r\n\t\tMultipartFile file;\r\n\r\n\t\tConfiguration configuration;\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Value\r\n@Data\r\npublic class Configuration implements Serializable {\r\n\r\n\tLong fileTypeId;\r\n\r\n}\r\n```\r\n\r\nbut it returns null value in processor block.\r\n","title":"How to retrieve individual parts of multipart/form-data request body in Apache Camel framework?","body":"<p>I have defined the following RouteBuilder in Apache Camel framework:</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class FilesRouteBuilder extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n        rest()\n                .post(&quot;/files/{version}/file-import&quot;)\n                .id(FilesConstants.REST_FILE_IMPORT_ROUTE)\n                .produces(&quot;application/zip&quot;)\n                .consumes(&quot;multipart/form-data&quot;)\n                .route()\n                .doTry()\n                .to(FilesConstants.FILE_IMPORT)\n\n        String apiEndpoint = RouteUtil.toHttpRoute(&quot;https://localhost:8080&quot;);\n\n        from(FilesConstants.FILE_IMPORT)\n                .id(FilesConstants.FILE_IMPORT)\n                .setHeader(Exchange.HTTP_PATH, constant(String.format(&quot;/cust/files/%s/file-import&quot;, &quot;v1.56&quot;)))\n                .setHeader(Exchange.HTTP_METHOD, constant(HttpMethod.POST))\n                .process(exchange -&gt; {\n                    FileImportRequest fileImportRequest = exchange.getMessage().getBody(FileImportRequest.class);\n                })\n                .to(RouteHelper.createToEndpoint(apiEndpoint));\n\n    }\n}\n</code></pre>\n<p>In RouteBuilder above I am exposing rest api endpoint for files import. This is request body I get:</p>\n<pre><code>----------------------------894364363213737457457453\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;some_file.csv&quot;\nContent-Type: text/csv\n\n7;abcdefe;8efsefs4;34\n----------------------------894364363213737457457453\nContent-Disposition: form-data; name=&quot;configuration&quot;\nContent-Type: application/json\n\n{&quot;fileTypeId&quot;:19}\n----------------------------894364363213737457457453--\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li>How can I modify &quot;configuration&quot; content part in processor block to add another parameter in json body to have something like that:</li>\n</ol>\n<pre><code>----------------------------894364363213737457457453\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;some_file.csv&quot;\nContent-Type: text/csv\n\n7;abcdefe;8efsefs4;34\n----------------------------894364363213737457457453\nContent-Disposition: form-data; name=&quot;configuration&quot;\nContent-Type: application/json\n\n{&quot;fileTypeId&quot;:19, &quot;sample_second_name&quot;:&quot;abcdefg&quot;}\n----------------------------894364363213737457457453--\n</code></pre>\n<ol start=\"2\">\n<li>How to assign request body to some entity class?</li>\n</ol>\n<p>I have tried to assign request body to FileImportRequest that has following definition:</p>\n<pre><code>@Value\n@Data\n@AllArgsConstructor\npublic class FileImportRequest implements Serializable {\n\n        MultipartFile file;\n\n        Configuration configuration;\n\n}\n</code></pre>\n<pre><code>@RequiredArgsConstructor\n@Value\n@Data\npublic class Configuration implements Serializable {\n\n    Long fileTypeId;\n\n}\n</code></pre>\n<p>but it returns null value in processor block.</p>\n"},{"tags":["java","logging","fluent"],"answers":[{"tags":[],"owner":{"account_id":2158186,"reputation":182,"user_id":1912944,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693536586,"creation_date":1693536586,"answer_id":77020243,"question_id":75630967,"body_markdown":"In general I would not advise turning off the context segment altogether (some code in libraries you don&#39;t control may want to provide useful data using it).\r\n\r\nThere is, internal to Google, a customizable formatter which I think would do what you want. You could trying raising an issue and asking them to open-source it (I no longer work at Google so cannot help directly).\r\n\r\nFailing that, it&#39;s not actually that difficult to replace the default backend with an alternative, which uses a different &quot;MetadataProcessor&quot; and can be configured to ignore certain metadata keys.\r\n\r\nIf you are using the JDK backend, you would be able to easily replace `SimpleBackendFactory` and have your own version of `SimpleLoggerBackend` and `SimpleLogRecord` to go with it.\r\n\r\nIn your version of `SimpleLogRecord` you would overload the method:\r\n\r\n```\r\n  protected LogMessageFormatter getLogMessageFormatter()\r\n```\r\n\r\nAnd return a customized formatter.\r\n\r\nI would start by looking at the following method in `SimpleMessageFormatter`:\r\n\r\n```\r\npublic static LogMessageFormatter getSimpleFormatterIgnoring(MetadataKey&lt;?&gt;... extraIgnoredKeys)\r\n```\r\n\r\nWhich you can pass a list of keys you want ignored (in your case the keys are in `LogContext.Keys.XXX`)\r\n\r\nWhen I wrote Flogger I always envisaged people would want to make their own customized backends, so rather than attempt to add hundreds of flags and options to customize things, I made a lot of helper classes and made it easy to replace the default (simple) backend implementation(s) if they don&#39;t suit your needs.","title":"Can Google flogger be configured to omit CONTEXT from being included in log","body":"<p>In general I would not advise turning off the context segment altogether (some code in libraries you don't control may want to provide useful data using it).</p>\n<p>There is, internal to Google, a customizable formatter which I think would do what you want. You could trying raising an issue and asking them to open-source it (I no longer work at Google so cannot help directly).</p>\n<p>Failing that, it's not actually that difficult to replace the default backend with an alternative, which uses a different &quot;MetadataProcessor&quot; and can be configured to ignore certain metadata keys.</p>\n<p>If you are using the JDK backend, you would be able to easily replace <code>SimpleBackendFactory</code> and have your own version of <code>SimpleLoggerBackend</code> and <code>SimpleLogRecord</code> to go with it.</p>\n<p>In your version of <code>SimpleLogRecord</code> you would overload the method:</p>\n<pre><code>  protected LogMessageFormatter getLogMessageFormatter()\n</code></pre>\n<p>And return a customized formatter.</p>\n<p>I would start by looking at the following method in <code>SimpleMessageFormatter</code>:</p>\n<pre><code>public static LogMessageFormatter getSimpleFormatterIgnoring(MetadataKey&lt;?&gt;... extraIgnoredKeys)\n</code></pre>\n<p>Which you can pass a list of keys you want ignored (in your case the keys are in <code>LogContext.Keys.XXX</code>)</p>\n<p>When I wrote Flogger I always envisaged people would want to make their own customized backends, so rather than attempt to add hundreds of flags and options to customize things, I made a lot of helper classes and made it easy to replace the default (simple) backend implementation(s) if they don't suit your needs.</p>\n"}],"owner":{"account_id":41830,"reputation":1442,"user_id":121678,"accept_rate":42,"display_name":"stanlick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693536586,"creation_date":1677870383,"question_id":75630967,"body_markdown":"We are using the rate limiting support in FluentLogger and this is resulting in spurious output being included with our log messages \r\n\r\n&gt; messages have been saved destined for corp [CONTEXT ratelimit_period=&quot;30 SECONDS [skipped: 6]&quot; ]\r\n\r\nIs there a way to turn this off?","title":"Can Google flogger be configured to omit CONTEXT from being included in log","body":"<p>We are using the rate limiting support in FluentLogger and this is resulting in spurious output being included with our log messages</p>\n<blockquote>\n<p>messages have been saved destined for corp [CONTEXT ratelimit_period=&quot;30 SECONDS [skipped: 6]&quot; ]</p>\n</blockquote>\n<p>Is there a way to turn this off?</p>\n"},{"tags":["java","intellij-idea","java-8","mapstruct"],"comments":[{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1693509457,"post_id":47694501,"comment_id":135774372,"body_markdown":"by side-effect of your question, thank you for helping me learn `expression = &quot;java()&quot;`","body":"by side-effect of your question, thank you for helping me learn <code>expression = &quot;java()&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1512751738,"creation_date":1512686363,"answer_id":47705023,"question_id":47694501,"body_markdown":"Currently MapStruct does not support mapping methods with multiple source properties.\r\n\r\nHowever, in your case you can use the `@Context` from 1.2.0. From what I understand the `projId` and the `code` are there just as helper of the mapping, and they are not used to map target properties from.\r\n\r\nSo you can do something like (It should work in theory):\r\n\r\n\r\n    @Mapper\r\n    public interface OneMapper {\r\n    \r\n        @Mapping(target=&quot;id&quot;, source=&quot;one.id&quot;)\r\n        @Mapping(target=&quot;qualified&quot;, qualifiedByName=&quot;checkQualifiedNamed&quot;)\r\n        OneDto createOne (One one, @Context Integer projId, @Context String code);\r\n    \r\n        @Named(&quot;checkQualifiedNamed&quot;)\r\n        default Boolean checkQualified (One one, @Context Integer projId, @Context String code) {\r\n            if(one.getProjectId() == projId &amp;&amp; one.getCode().equalsIgnoreCase(code)) {\r\n                return Boolean.TRUE;\r\n            }\r\n            return Boolean.FALSE;                   \r\n        }\r\n    }\r\n\r\nAnother alternative would be to extract all those properties into a separate class and pass that along (this would allow for multiple parameters of the same type).\r\n\r\nThe class would look like:\r\n\r\n    public class Filter {\r\n\r\n        private final Integer projId;\r\n        private final Integer val;\r\n        private final String code;\r\n\r\n        public Filter (Integer projId, Integer val, String code) {\r\n            this.projId = projId;\r\n            this.val = val;\r\n            this.code = code;\r\n        }\r\n\r\n        //getters\r\n    }\r\n\r\nYour mapper will then look like:\r\n\r\n\r\n    @Mapper\r\n    public interface OneMapper {\r\n    \r\n        @Mapping(target=&quot;id&quot;, source=&quot;one.id&quot;)\r\n        @Mapping(target=&quot;qualified&quot;, qualifiedByName=&quot;checkQualifiedNamed&quot;)\r\n        OneDto createOne (One one, @Context Filter filter);\r\n    \r\n        @Named(&quot;checkQualifiedNamed&quot;)\r\n        default Boolean checkQualified (One one, @Context Filter filter) {\r\n            if(one.getProjectId() == filter.getProjId() &amp;&amp; one.getVal() == filter.getVal() &amp;&amp; one.getCode().equalsIgnoreCase(filter.getCode())) {\r\n                return Boolean.TRUE;\r\n            }\r\n            return Boolean.FALSE;                   \r\n        }\r\n    }\r\n\r\nYou can then call the mapper like: `mapper.createOne(one, new Filter(projId, val, code));`\r\n","title":"MapStruct QualifiedByName with multiple parameters","body":"<p>Currently MapStruct does not support mapping methods with multiple source properties.</p>\n\n<p>However, in your case you can use the <code>@Context</code> from 1.2.0. From what I understand the <code>projId</code> and the <code>code</code> are there just as helper of the mapping, and they are not used to map target properties from.</p>\n\n<p>So you can do something like (It should work in theory):</p>\n\n<pre><code>@Mapper\npublic interface OneMapper {\n\n    @Mapping(target=\"id\", source=\"one.id\")\n    @Mapping(target=\"qualified\", qualifiedByName=\"checkQualifiedNamed\")\n    OneDto createOne (One one, @Context Integer projId, @Context String code);\n\n    @Named(\"checkQualifiedNamed\")\n    default Boolean checkQualified (One one, @Context Integer projId, @Context String code) {\n        if(one.getProjectId() == projId &amp;&amp; one.getCode().equalsIgnoreCase(code)) {\n            return Boolean.TRUE;\n        }\n        return Boolean.FALSE;                   \n    }\n}\n</code></pre>\n\n<p>Another alternative would be to extract all those properties into a separate class and pass that along (this would allow for multiple parameters of the same type).</p>\n\n<p>The class would look like:</p>\n\n<pre><code>public class Filter {\n\n    private final Integer projId;\n    private final Integer val;\n    private final String code;\n\n    public Filter (Integer projId, Integer val, String code) {\n        this.projId = projId;\n        this.val = val;\n        this.code = code;\n    }\n\n    //getters\n}\n</code></pre>\n\n<p>Your mapper will then look like:</p>\n\n<pre><code>@Mapper\npublic interface OneMapper {\n\n    @Mapping(target=\"id\", source=\"one.id\")\n    @Mapping(target=\"qualified\", qualifiedByName=\"checkQualifiedNamed\")\n    OneDto createOne (One one, @Context Filter filter);\n\n    @Named(\"checkQualifiedNamed\")\n    default Boolean checkQualified (One one, @Context Filter filter) {\n        if(one.getProjectId() == filter.getProjId() &amp;&amp; one.getVal() == filter.getVal() &amp;&amp; one.getCode().equalsIgnoreCase(filter.getCode())) {\n            return Boolean.TRUE;\n        }\n        return Boolean.FALSE;                   \n    }\n}\n</code></pre>\n\n<p>You can then call the mapper like: <code>mapper.createOne(one, new Filter(projId, val, code));</code></p>\n"},{"tags":[],"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1611506236,"creation_date":1536071486,"answer_id":52168618,"question_id":47694501,"body_markdown":"Since version 1.2 it is supported:\r\nhttp://mapstruct.org/documentation/stable/reference/html/#mappings-with-several-source-parameters\r\n\r\nFor example like this:\r\n\r\n    @Mapping(source = &quot;person.description&quot;, target = &quot;description&quot;)\r\n    @Mapping(source = &quot;address.houseNo&quot;, target = &quot;houseNumber&quot;)\r\n    DeliveryAddressDto personAndAddressToDeliveryAddressDto(Person person, Address address);\r\n\r\nUPDATE\r\n\r\nSince Mapstruct allows to map multiple source arguments into a single target, I would advise to extract the `checkQualified` method from the mapper and instead compute the outcome beforehand and invoke the mapper with the result of the checkQualified method. Mapstruct is a _mapping_ library, and does not excel in performing arbitrary logic. It&#39;s not impossible, but personally, I don&#39;t see the value it adds in your particular case. \r\n\r\nWith the logic extracted your mapper could look like this:\r\n\r\n```java\r\n@Mapper\r\npublic interface OneMapper {\r\n    OneDto toOneDto(One one, Boolean qualified);\r\n}\r\n```\r\n\r\nThe mapper can be used like this:\r\n```java\r\nOne one = new One(1, 10, 100, &quot;one&quot;);\r\nboolean qualified = checkQualified(one, 10, 100, &quot;one&quot;);\r\nboolean notQualified = checkQualified(one, 10, 100, &quot;two&quot;);\r\nOneDto oneDto = mapper.toOneDto(one, isQualified);\r\n```\r\n\r\nFor a full example, see: https://github.com/phazebroek/so-mapstruct/blob/master/src/main/java/nl/phazebroek/so/MapStructDemo.java","title":"MapStruct QualifiedByName with multiple parameters","body":"<p>Since version 1.2 it is supported:\n<a href=\"http://mapstruct.org/documentation/stable/reference/html/#mappings-with-several-source-parameters\" rel=\"noreferrer\">http://mapstruct.org/documentation/stable/reference/html/#mappings-with-several-source-parameters</a></p>\n<p>For example like this:</p>\n<pre><code>@Mapping(source = &quot;person.description&quot;, target = &quot;description&quot;)\n@Mapping(source = &quot;address.houseNo&quot;, target = &quot;houseNumber&quot;)\nDeliveryAddressDto personAndAddressToDeliveryAddressDto(Person person, Address address);\n</code></pre>\n<p>UPDATE</p>\n<p>Since Mapstruct allows to map multiple source arguments into a single target, I would advise to extract the <code>checkQualified</code> method from the mapper and instead compute the outcome beforehand and invoke the mapper with the result of the checkQualified method. Mapstruct is a <em>mapping</em> library, and does not excel in performing arbitrary logic. It's not impossible, but personally, I don't see the value it adds in your particular case.</p>\n<p>With the logic extracted your mapper could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface OneMapper {\n    OneDto toOneDto(One one, Boolean qualified);\n}\n</code></pre>\n<p>The mapper can be used like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>One one = new One(1, 10, 100, &quot;one&quot;);\nboolean qualified = checkQualified(one, 10, 100, &quot;one&quot;);\nboolean notQualified = checkQualified(one, 10, 100, &quot;two&quot;);\nOneDto oneDto = mapper.toOneDto(one, isQualified);\n</code></pre>\n<p>For a full example, see: <a href=\"https://github.com/phazebroek/so-mapstruct/blob/master/src/main/java/nl/phazebroek/so/MapStructDemo.java\" rel=\"noreferrer\">https://github.com/phazebroek/so-mapstruct/blob/master/src/main/java/nl/phazebroek/so/MapStructDemo.java</a></p>\n"},{"tags":[],"owner":{"account_id":6019085,"reputation":87,"user_id":4726867,"display_name":"Farhad Baghirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600680140,"creation_date":1600680140,"answer_id":63989442,"question_id":47694501,"body_markdown":"You can create a default method which calls internally mapstruct method with additional context params.in this way, you can obtain all parameters in &#39;qualifiedByName&#39; part\r\n\r\n    @Mapper\r\n    public interface OneMapper {\r\n\r\n        default OneDto createOne(One one, Integer projId, Integer val, String code) {\r\n            return createOneWithContext(one,porjId,val,code\r\n                                        one,porjId,val,code //as context params\r\n            );\r\n        }\r\n\r\n        @Mapping(target=&quot;id&quot;, source=&quot;one.id&quot;)\r\n        @Mapping(target=&quot;qualified&quot;,source=&quot;one&quot;,qualifiedByName=&quot;checkQualifiedNamed&quot;)\r\n        OneDto createOneWithContext (One one, Integer projId, Integer val, String code\r\n                         @Context One oneAsContext, \r\n                         @Context Integer projIdAsContext, \r\n                         @Context Integer valAsContext, \r\n                         @Context String codeAsContext\r\n        \r\n    );\r\n\r\n        @Named(&quot;checkQualifiedNamed&quot;)\r\n        default Boolean checkQualified (One one, @Context Integer projId, @Context Integer val, @Context String code) {\r\n            if(one.getProjectId() == projId &amp;&amp; one.getVal() == val &amp;&amp; one.getCode().equalsIgnoreCase(code)) {\r\n                return Boolean.TRUE;\r\n            }\r\n        return Boolean.FALSE;                   \r\n        }\r\n    }\r\n\r\n\r\n\r\n    ```","title":"MapStruct QualifiedByName with multiple parameters","body":"<p>You can create a default method which calls internally mapstruct method with additional context params.in this way, you can obtain all parameters in 'qualifiedByName' part</p>\n<pre><code>@Mapper\npublic interface OneMapper {\n\n    default OneDto createOne(One one, Integer projId, Integer val, String code) {\n        return createOneWithContext(one,porjId,val,code\n                                    one,porjId,val,code //as context params\n        );\n    }\n\n    @Mapping(target=&quot;id&quot;, source=&quot;one.id&quot;)\n    @Mapping(target=&quot;qualified&quot;,source=&quot;one&quot;,qualifiedByName=&quot;checkQualifiedNamed&quot;)\n    OneDto createOneWithContext (One one, Integer projId, Integer val, String code\n                     @Context One oneAsContext, \n                     @Context Integer projIdAsContext, \n                     @Context Integer valAsContext, \n                     @Context String codeAsContext\n    \n);\n\n    @Named(&quot;checkQualifiedNamed&quot;)\n    default Boolean checkQualified (One one, @Context Integer projId, @Context Integer val, @Context String code) {\n        if(one.getProjectId() == projId &amp;&amp; one.getVal() == val &amp;&amp; one.getCode().equalsIgnoreCase(code)) {\n            return Boolean.TRUE;\n        }\n    return Boolean.FALSE;                   \n    }\n}\n\n\n\n```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156389,"reputation":829,"user_id":1183840,"display_name":"Wes Grant"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1693535366,"creation_date":1633721865,"answer_id":69500971,"question_id":47694501,"body_markdown":"If you need to calculate a single target field based on **multiple source fields from the same source object**, you can pass the **full source object** to the custom mapper function instead of individual fields:  \r\n\r\nExample Entity:\r\n```\r\n@Entity\r\n@Data\r\npublic class User {\r\n    private String firstName;\r\n    private String lastName;\r\n}\r\n\r\n```\r\n\r\nExample DTO:\r\n```\r\n\r\npublic class UserDto {\r\n    private String fullName;\r\n}\r\n```\r\n\r\n... and the mapper... Instead of passing a single source (firstName): \r\n```\r\n@Mapper\r\npublic abstract class UserMapper {\r\n\r\n    @Mapping(source = &quot;firstName&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;nameTofullName&quot;)\r\n    public abstract UserDto userEntityToUserDto(UserEntity userEntity);\r\n\r\n\r\n    @Named(&quot;nameToFullName&quot;)\r\n    public String nameToFullName(String firstName) {\r\n        return String.format(&quot;%s HOW DO I GET THE LAST NAME HERE?&quot;, firstName);\r\n    }\r\n```\r\n... pass the full **entity object** (userEntity) as the source:  \r\n```\r\n@Mapper\r\npublic abstract class UserMapper {\r\n\r\n    @Mapping(source = &quot;userEntity&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;nameToFullName&quot;)\r\n    public abstract UserDto userEntityToUserDto(UserEntity userEntity);\r\n\r\n\r\n    @Named(&quot;nameToFullName&quot;)\r\n    public String nameToOwner(UserEntity userEntity) {\r\n        return String.format(&quot;%s %s&quot;, userEntity.getFirstName(), userEntity.getLastName());\r\n    }\r\n```\r\n","title":"MapStruct QualifiedByName with multiple parameters","body":"<p>If you need to calculate a single target field based on <strong>multiple source fields from the same source object</strong>, you can pass the <strong>full source object</strong> to the custom mapper function instead of individual fields:</p>\n<p>Example Entity:</p>\n<pre><code>@Entity\n@Data\npublic class User {\n    private String firstName;\n    private String lastName;\n}\n\n</code></pre>\n<p>Example DTO:</p>\n<pre><code>\npublic class UserDto {\n    private String fullName;\n}\n</code></pre>\n<p>... and the mapper... Instead of passing a single source (firstName):</p>\n<pre><code>@Mapper\npublic abstract class UserMapper {\n\n    @Mapping(source = &quot;firstName&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;nameTofullName&quot;)\n    public abstract UserDto userEntityToUserDto(UserEntity userEntity);\n\n\n    @Named(&quot;nameToFullName&quot;)\n    public String nameToFullName(String firstName) {\n        return String.format(&quot;%s HOW DO I GET THE LAST NAME HERE?&quot;, firstName);\n    }\n</code></pre>\n<p>... pass the full <strong>entity object</strong> (userEntity) as the source:</p>\n<pre><code>@Mapper\npublic abstract class UserMapper {\n\n    @Mapping(source = &quot;userEntity&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;nameToFullName&quot;)\n    public abstract UserDto userEntityToUserDto(UserEntity userEntity);\n\n\n    @Named(&quot;nameToFullName&quot;)\n    public String nameToOwner(UserEntity userEntity) {\n        return String.format(&quot;%s %s&quot;, userEntity.getFirstName(), userEntity.getLastName());\n    }\n</code></pre>\n"}],"owner":{"account_id":5169610,"reputation":2574,"user_id":4138572,"accept_rate":60,"display_name":"Vivek Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100235,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":47705023,"answer_count":4,"score":34,"last_activity_date":1693535366,"creation_date":1512647455,"question_id":47694501,"body_markdown":"I have come across a situation where my mapping method has 3 parameters, and all the three are being used in deriving one of the properties of the target type.\r\n\r\nI have created a default mapping method in the interface keeping the logic for deriving the property, now for calling this method, I could use an `expression = &quot;java( /*method call here*/ )&quot;` in the `@Mapping` annotation. \r\n\r\nIs there any way to do this with any of the mapstruct annotation like `@qualifiedByName`, I tried commenting the annotation having expression property and used qualifiedByName, but it doesn&#39;t work :\r\n\r\n    @Mapper\r\n    public interface OneMapper {\r\n    \t\r\n    \t@Mapping(target=&quot;id&quot;, source=&quot;one.id&quot;)\r\n    \t//@Mapping(target=&quot;qualified&quot;,expression = &quot;java( checkQualified (one, projId, code) )&quot;)\r\n    \t@Mapping(target=&quot;qualified&quot;,qualifiedByName=&quot;checkQualifiedNamed&quot;)\r\n    \tOneDto createOne (One one, Integer projId, Integer val, String code);\r\n    \t\t\r\n    \t@Named(&quot;checkQualifiedNamed&quot;)\r\n    \tdefault Boolean checkQualified (One one, Integer projId, Integer val, String code) {\r\n    \t\tif(one.getProjectId() == projId &amp;&amp; one.getVal() == val &amp;&amp; one.getCode().equalsIgnoreCase(code)) {\r\n    \t\t\treturn Boolean.TRUE;\r\n    \t\t}\r\n    \t\treturn Boolean.FALSE;\t\t\t\t\t\r\n    \t}\r\n    }","title":"MapStruct QualifiedByName with multiple parameters","body":"<p>I have come across a situation where my mapping method has 3 parameters, and all the three are being used in deriving one of the properties of the target type.</p>\n\n<p>I have created a default mapping method in the interface keeping the logic for deriving the property, now for calling this method, I could use an <code>expression = \"java( /*method call here*/ )\"</code> in the <code>@Mapping</code> annotation. </p>\n\n<p>Is there any way to do this with any of the mapstruct annotation like <code>@qualifiedByName</code>, I tried commenting the annotation having expression property and used qualifiedByName, but it doesn't work :</p>\n\n<pre><code>@Mapper\npublic interface OneMapper {\n\n    @Mapping(target=\"id\", source=\"one.id\")\n    //@Mapping(target=\"qualified\",expression = \"java( checkQualified (one, projId, code) )\")\n    @Mapping(target=\"qualified\",qualifiedByName=\"checkQualifiedNamed\")\n    OneDto createOne (One one, Integer projId, Integer val, String code);\n\n    @Named(\"checkQualifiedNamed\")\n    default Boolean checkQualified (One one, Integer projId, Integer val, String code) {\n        if(one.getProjectId() == projId &amp;&amp; one.getVal() == val &amp;&amp; one.getCode().equalsIgnoreCase(code)) {\n            return Boolean.TRUE;\n        }\n        return Boolean.FALSE;                   \n    }\n}\n</code></pre>\n"},{"tags":["java","database","javafx","phpmyadmin","mariadb"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1693471011,"post_id":77014129,"comment_id":135766236,"body_markdown":"the table nor database have any say in what will be shown. That&#39;s decided by the code you write/execute. If you only do a &quot;SELECT ID FROM TABLE&quot;, you&#39;ll only get the id, if you perform a &quot;SELECT * FROM TABLE&quot; you could show everything","body":"the table nor database have any say in what will be shown. That&#39;s decided by the code you write/execute. If you only do a &quot;SELECT ID FROM TABLE&quot;, you&#39;ll only get the id, if you perform a &quot;SELECT * FROM TABLE&quot; you could show everything"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693492627,"post_id":77014129,"comment_id":135770983,"body_markdown":"If the database is embedded on the local machine, then no, changes by a client on one machine will not be seen by a client on another machine. However, if you have the database hosted on a server, and that server is reachable by all clients, then yes, changes by one client will be seen by the others. Though you will likely need to implement a &quot;refresh&quot; feature for the clients. In short, what matters is if you have &quot;one&quot; database or multiple _separate_ databases.","body":"If the database is embedded on the local machine, then no, changes by a client on one machine will not be seen by a client on another machine. However, if you have the database hosted on a server, and that server is reachable by all clients, then yes, changes by one client will be seen by the others. Though you will likely need to implement a &quot;refresh&quot; feature for the clients. In short, what matters is if you have &quot;one&quot; database or multiple <i>separate</i> databases."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693535016,"post_id":77014129,"comment_id":135777186,"body_markdown":"Crop your image.","body":"Crop your image."}],"answers":[{"tags":[],"owner":{"account_id":29335801,"reputation":53,"user_id":22476210,"display_name":"codernik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693471510,"creation_date":1693471510,"answer_id":77014221,"question_id":77014129,"body_markdown":"if the software running on both clients accesses the same database - if the database is on a central server, for example - if client 1 changes something in the database, the dashboard on client 2 will also be affected.\r\n\r\nThe software on both clients has the same data basis.\r\n\r\nDepending on how your program is structured, you may have to make a commit after a change on client 1 so that the data is written to the database. And of course you have to update your scene in Java FX on client 2 so that the new data can be displayed.\r\n\r\nWas that helpful? ","title":"Can a database table work differently for each user?","body":"<p>if the software running on both clients accesses the same database - if the database is on a central server, for example - if client 1 changes something in the database, the dashboard on client 2 will also be affected.</p>\n<p>The software on both clients has the same data basis.</p>\n<p>Depending on how your program is structured, you may have to make a commit after a change on client 1 so that the data is written to the database. And of course you have to update your scene in Java FX on client 2 so that the new data can be displayed.</p>\n<p>Was that helpful?</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693515582,"creation_date":1693475527,"answer_id":77014728,"question_id":77014129,"body_markdown":"&quot;So what i want to know is if i migrate the software and install it on another machine and enter my own details as an employee and then enter details on another machine.. will the dashboard on the second machine show the information from the first machine since the software uses the same table.&quot;\r\n\r\nThis depends on how you move the software.\r\n\r\nCopy application to the new machine\r\n=\r\n\r\nIf you copy the application such that it connects to the already existing database, you only have one set of data that you can view/modify from two clients. Any change done one one of those will be visible on the other as well.\r\n\r\nCopy application and database to the new machine\r\n=\r\n\r\nIf you copy both application and database to a new machine and ensure each of the applications connect to their local database you have two sets of data. A change on one machine will affect the local database but not the one on the other machine.\r\n\r\nMove application to new machine\r\n=\r\n\r\nIf you move the application it means you copy it over but remove the application on the first machine. I assume the database stays where it was.\r\nThis is a common pattern to separate application and database into different servers, possibly on different network segments.\r\n\r\nHere you have only one client (the new machine you moved the application to) and one data set. Of course you can still view and edit it, but it will only be visible/editable on the new machine.","title":"Can a database table work differently for each user?","body":"<p>&quot;So what i want to know is if i migrate the software and install it on another machine and enter my own details as an employee and then enter details on another machine.. will the dashboard on the second machine show the information from the first machine since the software uses the same table.&quot;</p>\n<p>This depends on how you move the software.</p>\n<h1>Copy application to the new machine</h1>\n<p>If you copy the application such that it connects to the already existing database, you only have one set of data that you can view/modify from two clients. Any change done one one of those will be visible on the other as well.</p>\n<h1>Copy application and database to the new machine</h1>\n<p>If you copy both application and database to a new machine and ensure each of the applications connect to their local database you have two sets of data. A change on one machine will affect the local database but not the one on the other machine.</p>\n<h1>Move application to new machine</h1>\n<p>If you move the application it means you copy it over but remove the application on the first machine. I assume the database stays where it was.\nThis is a common pattern to separate application and database into different servers, possibly on different network segments.</p>\n<p>Here you have only one client (the new machine you moved the application to) and one data set. Of course you can still view and edit it, but it will only be visible/editable on the new machine.</p>\n"}],"owner":{"account_id":26342666,"reputation":3,"user_id":20001535,"display_name":"biggX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1693535005,"creation_date":1693470880,"question_id":77014129,"body_markdown":"Im working on an employee management system using java and javafx. \r\n\r\nim just wondering ;in this project there&#39;s an admin part and there&#39;s an employee part. Employees will sign up and login then after logging in they enter their personal details which will be kept on the database and then displayed on the dashboard. \r\nSo what i want to know is if i migrate the software and install it on another machine and enter my own details as an employee and then enter details on another machine.. will the dashboard on the second machine show the information from the first machine since the software uses the same table. \r\n\r\n[![screenshot][1]][1]\r\n\r\nI migrated the software to another machine unfortunately it didn&#39;t run because the machine did not have access to the database (another issue) so I couldn&#39;t find out exactly what I wanted thats why I came here\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0NWbg.jpg","title":"Can a database table work differently for each user?","body":"<p>Im working on an employee management system using java and javafx.</p>\n<p>im just wondering ;in this project there's an admin part and there's an employee part. Employees will sign up and login then after logging in they enter their personal details which will be kept on the database and then displayed on the dashboard.\nSo what i want to know is if i migrate the software and install it on another machine and enter my own details as an employee and then enter details on another machine.. will the dashboard on the second machine show the information from the first machine since the software uses the same table.</p>\n<p><a href=\"https://i.stack.imgur.com/0NWbg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0NWbg.jpg\" alt=\"screenshot\" /></a></p>\n<p>I migrated the software to another machine unfortunately it didn't run because the machine did not have access to the database (another issue) so I couldn't find out exactly what I wanted thats why I came here</p>\n"},{"tags":["java","multithreading","scheduledexecutorservice"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1693482195,"post_id":77015509,"comment_id":135768555,"body_markdown":"Looks like you really only have one task per database and these tasks then execute each individual step. Scheduling the individual steps only makes sense if they are truly independent and should be scheduled as such.","body":"Looks like you really only have one task per database and these tasks then execute each individual step. Scheduling the individual steps only makes sense if they are truly independent and should be scheduled as such."},{"owner":{"account_id":5159758,"reputation":1872,"user_id":4131849,"display_name":"Roshan Upreti"},"score":0,"creation_date":1693482387,"post_id":77015509,"comment_id":135768595,"body_markdown":"@JoachimSauer I&#39;m basically performing the same set of tasks for multiple databases (hundreds of them), and looking for a way to do that concurrently.","body":"@JoachimSauer I&#39;m basically performing the same set of tasks for multiple databases (hundreds of them), and looking for a way to do that concurrently."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1693482524,"post_id":77015509,"comment_id":135768634,"body_markdown":"`newScheduledThreadPool(Runtime.getRuntime().availableProcessors())` doesn’t allocate a thread for each database, it allocates a thread for each CPU. To have a thread per database, you’d need `newScheduledThreadPool(dbInfoMap.size())`, but the optimal number of threads is more likely something between those values.","body":"<code>newScheduledThreadPool(Runtime.getRuntime().availableProcess&zwnj;&#8203;ors())</code> doesn’t allocate a thread for each database, it allocates a thread for each CPU. To have a thread per database, you’d need <code>newScheduledThreadPool(dbInfoMap.size())</code>, but the optimal number of threads is more likely something between those values."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1693483021,"post_id":77015509,"comment_id":135768753,"body_markdown":"@RoshanUpreti: but in your question you say &quot;want to allocate **a thread** for each database&quot;. So if you have (for example) 10 databases and 100 tasks each, how many threads do you want to run concurrently? It *sounds* to me that you want (at most) 10, yet your code tries to schedule 1000 tasks).","body":"@RoshanUpreti: but in your question you say &quot;want to allocate <b>a thread</b> for each database&quot;. So if you have (for example) 10 databases and 100 tasks each, how many threads do you want to run concurrently? It <i>sounds</i> to me that you want (at most) 10, yet your code tries to schedule 1000 tasks)."},{"owner":{"account_id":5159758,"reputation":1872,"user_id":4131849,"display_name":"Roshan Upreti"},"score":0,"creation_date":1693484062,"post_id":77015509,"comment_id":135768971,"body_markdown":"@JoachimSauer I want to allocate a thread for each database and use that thread to execute the runnable. So, if there are 10 databases, there should be 10 threads and each thread running its list of runnable. My apologies if I phrased the question incorrectly.","body":"@JoachimSauer I want to allocate a thread for each database and use that thread to execute the runnable. So, if there are 10 databases, there should be 10 threads and each thread running its list of runnable. My apologies if I phrased the question incorrectly."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1693484826,"post_id":77015509,"comment_id":135769124,"body_markdown":"Then you shouldn&#39;t schedule each element of the `runnableList` individually. Instead construct a `Runnable` that simply loops over them and calls each of them (normally, serially) and schedule that.","body":"Then you shouldn&#39;t schedule each element of the <code>runnableList</code> individually. Instead construct a <code>Runnable</code> that simply loops over them and calls each of them (normally, serially) and schedule that."},{"owner":{"account_id":5159758,"reputation":1872,"user_id":4131849,"display_name":"Roshan Upreti"},"score":0,"creation_date":1693491239,"post_id":77015509,"comment_id":135770646,"body_markdown":"@JoachimSauer Thank you for pointing me towards the right direction :)","body":"@JoachimSauer Thank you for pointing me towards the right direction :)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693534402,"creation_date":1693521892,"answer_id":77019641,"question_id":77015509,"body_markdown":"## tl;dr\r\n\r\nFor maximum efficiency, pass a collection of your hundreds of tasks to an executor service assigning one virtual thread per task. \r\n\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\r\n    executorService.invokeAll ( collectionOfTasks )\r\n    \r\n\r\n## Scheduling of a thread’s execution is out of your control\r\n\r\nYour title says:\r\n\r\n&gt;ensure that all the runnables get fired concurrently\r\n\r\nIf you mean that you want all of the `Runnable` tasks to execute simultaneously, that is not possible using Java threads. \r\n\r\n### Platform threads\r\n\r\nIn Java, you ask for a thread to be executed, but when execution begins, and how long execution lasts, is up to the whims of the host OS’ thread scheduler. Threads in today’s Java are each mapped to a host OS thread. ([Virtual threads][1] in upcoming Java 21+ will be quite different than these “platform” threads.) A Java programmer has no control over when a thread runs.\r\n\r\nYou *can* collect a bunch of tasks to be submitted together to an executor service. Pass the collection of tasks `ExecutorService#invokeAll`. But `invokeAll` does *not* mean they will be executed together. They can be executed in any order, with each task’s execution beginning at any time, and completing at any time. The `invokeAll` method is merely a convenience for you the programmer if you have chosen to instantiate all your tasks up front. You could just as well write a loop that submits each instantiated task object to the executor service, one task at a time.\r\n\r\nHere is an example app to demonstrate passing a collection of `Callable` objects to the `invokeAll` method of an `ExecutorService`. \r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.List;\r\nimport java.util.concurrent.*;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class ManyDatabases\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        ManyDatabases app = new ManyDatabases ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println ( &quot;INFO - Demo done. &quot; + Instant.now ( ) );\r\n        // Dummy data\r\n        List &lt; DatabaseInfo &gt; databaseInfos =\r\n                IntStream\r\n                        .rangeClosed ( 1 , 1_000 )\r\n                        .mapToObj ( ( int index ) -&gt;\r\n                                new DatabaseInfo (\r\n                                        ENGINE.values ( )[ ThreadLocalRandom.current ( ).nextInt ( ENGINE.values ( ).length ) ] ,\r\n                                        index\r\n                                )\r\n                        )\r\n                        .toList ( );\r\n        System.out.println ( &quot;databaseInfos = &quot; + databaseInfos );\r\n\r\n        // Make tasks.\r\n        List &lt; DbTask &gt; tasks = databaseInfos.stream ( ).map ( DbTask :: new ).toList ( );\r\n\r\n        // Execute tasks.\r\n        try (\r\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\r\n        )\r\n        {\r\n            try\r\n            {\r\n                List &lt; Future &lt; Boolean &gt; &gt; futures = executorService.invokeAll ( tasks );\r\n            }\r\n            catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n        }\r\n        System.out.println ( &quot;INFO - Demo done. &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n\r\nenum ENGINE { POSTGRES, MS_SQL_SERVER, MYSQL }\r\n\r\nrecord DatabaseInfo( ENGINE engine , int address ) { }\r\n\r\nclass DbTask implements Callable &lt; Boolean &gt;\r\n{\r\n    final private DatabaseInfo databaseInfo;\r\n\r\n    public DbTask ( final DatabaseInfo databaseInfo )\r\n    {\r\n        this.databaseInfo = databaseInfo;\r\n    }\r\n\r\n    @Override\r\n    public Boolean call ( )\r\n    {\r\n        System.out.println ( Instant.now ( ) + &quot; TASK Simulating update to database: &quot; + this.databaseInfo );\r\n        try { Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 400 , 800 ) ) ); /* Simulate real work being done. */ } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nINFO - Demo done. 2023-09-01T01:54:11.199225Z\r\ndatabaseInfos = [DatabaseInfo[engine=MS_SQL_SERVER, address=1], DatabaseInfo[engine=POSTGRES, address=2], DatabaseInfo[engine=POSTGRES, address=3], DatabaseInfo[engine=POSTGRES, address=4], DatabaseInfo[engine=POSTGRES, address=5], DatabaseInfo[engine=MYSQL, address=6], DatabaseInfo[engine=MYSQL, address=7]]\r\n2023-09-01T01:54:11.229579Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=5]\r\n2023-09-01T01:54:11.229285Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=2]\r\n2023-09-01T01:54:11.229423Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=4]\r\n2023-09-01T01:54:11.229342Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=3]\r\n2023-09-01T01:54:11.229840Z TASK Simulating update to database: DatabaseInfo[engine=MYSQL, address=7]\r\n2023-09-01T01:54:11.229797Z TASK Simulating update to database: DatabaseInfo[engine=MYSQL, address=6]\r\n2023-09-01T01:54:11.229291Z TASK Simulating update to database: DatabaseInfo[engine=MS_SQL_SERVER, address=1]\r\nINFO - Demo done. 2023-09-01T01:54:12.051448Z\r\n```\r\n\r\n\r\n## Virtual threads\r\n\r\nIn Java 21+, we have [virtual threads][1], an alternative to platform threads. The scheduling of virtual threads is managed within the [JVM][2] rather than by the host OS. When the JVM detects a virtual thread is blocking, the virtual thread is dismounted from the “real” platform thread where it executes. The virtual thread is parked while waiting for the blocking to resolve. In the meantime, the JVM mounts another virtual thread onto the platform thread. This means vastly greater utilization of your CPU cores as the host OS threads rarely sit idle. \r\n\r\nDatabase calls always involve much [blocking][3], taking a long time while waiting for a response. You are making hundreds of such calls at a time. So this is ideal situation for switching to virtual threads rather than platform threads. \r\n\r\nSwitching to virtual threads is utterly simple: just swap out the `Executors` call.\r\n\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\r\n\r\nAnd we can increase our example calls to a thousand, or even a million. Virtual threads are vastly lightweight than platform threads. Millions of concurrent virtual threads is reasonable.\r\n\r\n    .rangeClosed ( 1 , 1_000 )\r\n\r\nAnd let&#39;s not dump the entire `databaseInfos` list of a thousand. Just first and last, now easier to do as `List` implements `SequencedCollection` with convenient `getFirst` &amp; `getLast` methods. See [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431).\r\n\r\n    System.out.println ( &quot;databaseInfos = &quot; + databaseInfos.getFirst () + &quot; … &quot; + databaseInfos.getLast () );\r\n\r\nWhen run:\r\n\r\n```none\r\nINFO - Demo done. 2023-09-01T02:03:50.729476Z\r\ndatabaseInfos = DatabaseInfo[engine=MYSQL, address=1] … DatabaseInfo[engine=POSTGRES, address=1000]\r\n2023-09-01T02:03:50.781280Z TASK Simulating update to database: DatabaseInfo[engine=MS_SQL_SERVER, address=3]\r\n2023-09-01T02:03:50.781686Z TASK Simulating update to database: DatabaseInfo[engine=MYSQL, address=8]\r\n2023-09-01T02:03:50.781739Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=7]\r\n…\r\n2023-09-01T02:03:50.807384Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=1000]\r\n2023-09-01T02:03:50.807377Z TASK Simulating update to database: DatabaseInfo[engine=MYSQL, address=997]\r\n2023-09-01T02:03:50.806946Z TASK Simulating update to database: DatabaseInfo[engine=MS_SQL_SERVER, address=951]\r\nINFO - Demo done. 2023-09-01T02:03:51.638269Z\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/444\r\n  [2]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [3]: https://en.wikipedia.org/wiki/Blocking_%28computing%29","title":"How to ensure that all the runnables get fired concurrently, using a ScheduledExecutorService in Java","body":"<h2>tl;dr</h2>\n<p>For maximum efficiency, pass a collection of your hundreds of tasks to an executor service assigning one virtual thread per task.</p>\n<pre><code>ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\nexecutorService.invokeAll ( collectionOfTasks )\n</code></pre>\n<h2>Scheduling of a thread’s execution is out of your control</h2>\n<p>Your title says:</p>\n<blockquote>\n<p>ensure that all the runnables get fired concurrently</p>\n</blockquote>\n<p>If you mean that you want all of the <code>Runnable</code> tasks to execute simultaneously, that is not possible using Java threads.</p>\n<h3>Platform threads</h3>\n<p>In Java, you ask for a thread to be executed, but when execution begins, and how long execution lasts, is up to the whims of the host OS’ thread scheduler. Threads in today’s Java are each mapped to a host OS thread. (<a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">Virtual threads</a> in upcoming Java 21+ will be quite different than these “platform” threads.) A Java programmer has no control over when a thread runs.</p>\n<p>You <em>can</em> collect a bunch of tasks to be submitted together to an executor service. Pass the collection of tasks <code>ExecutorService#invokeAll</code>. But <code>invokeAll</code> does <em>not</em> mean they will be executed together. They can be executed in any order, with each task’s execution beginning at any time, and completing at any time. The <code>invokeAll</code> method is merely a convenience for you the programmer if you have chosen to instantiate all your tasks up front. You could just as well write a loop that submits each instantiated task object to the executor service, one task at a time.</p>\n<p>Here is an example app to demonstrate passing a collection of <code>Callable</code> objects to the <code>invokeAll</code> method of an <code>ExecutorService</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.List;\nimport java.util.concurrent.*;\nimport java.util.stream.IntStream;\n\npublic class ManyDatabases\n{\n    public static void main ( String[] args )\n    {\n        ManyDatabases app = new ManyDatabases ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        System.out.println ( &quot;INFO - Demo done. &quot; + Instant.now ( ) );\n        // Dummy data\n        List &lt; DatabaseInfo &gt; databaseInfos =\n                IntStream\n                        .rangeClosed ( 1 , 1_000 )\n                        .mapToObj ( ( int index ) -&gt;\n                                new DatabaseInfo (\n                                        ENGINE.values ( )[ ThreadLocalRandom.current ( ).nextInt ( ENGINE.values ( ).length ) ] ,\n                                        index\n                                )\n                        )\n                        .toList ( );\n        System.out.println ( &quot;databaseInfos = &quot; + databaseInfos );\n\n        // Make tasks.\n        List &lt; DbTask &gt; tasks = databaseInfos.stream ( ).map ( DbTask :: new ).toList ( );\n\n        // Execute tasks.\n        try (\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\n        )\n        {\n            try\n            {\n                List &lt; Future &lt; Boolean &gt; &gt; futures = executorService.invokeAll ( tasks );\n            }\n            catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n        }\n        System.out.println ( &quot;INFO - Demo done. &quot; + Instant.now ( ) );\n    }\n}\n\nenum ENGINE { POSTGRES, MS_SQL_SERVER, MYSQL }\n\nrecord DatabaseInfo( ENGINE engine , int address ) { }\n\nclass DbTask implements Callable &lt; Boolean &gt;\n{\n    final private DatabaseInfo databaseInfo;\n\n    public DbTask ( final DatabaseInfo databaseInfo )\n    {\n        this.databaseInfo = databaseInfo;\n    }\n\n    @Override\n    public Boolean call ( )\n    {\n        System.out.println ( Instant.now ( ) + &quot; TASK Simulating update to database: &quot; + this.databaseInfo );\n        try { Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 400 , 800 ) ) ); /* Simulate real work being done. */ } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n        return true;\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo done. 2023-09-01T01:54:11.199225Z\ndatabaseInfos = [DatabaseInfo[engine=MS_SQL_SERVER, address=1], DatabaseInfo[engine=POSTGRES, address=2], DatabaseInfo[engine=POSTGRES, address=3], DatabaseInfo[engine=POSTGRES, address=4], DatabaseInfo[engine=POSTGRES, address=5], DatabaseInfo[engine=MYSQL, address=6], DatabaseInfo[engine=MYSQL, address=7]]\n2023-09-01T01:54:11.229579Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=5]\n2023-09-01T01:54:11.229285Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=2]\n2023-09-01T01:54:11.229423Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=4]\n2023-09-01T01:54:11.229342Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=3]\n2023-09-01T01:54:11.229840Z TASK Simulating update to database: DatabaseInfo[engine=MYSQL, address=7]\n2023-09-01T01:54:11.229797Z TASK Simulating update to database: DatabaseInfo[engine=MYSQL, address=6]\n2023-09-01T01:54:11.229291Z TASK Simulating update to database: DatabaseInfo[engine=MS_SQL_SERVER, address=1]\nINFO - Demo done. 2023-09-01T01:54:12.051448Z\n</code></pre>\n<h2>Virtual threads</h2>\n<p>In Java 21+, we have <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a>, an alternative to platform threads. The scheduling of virtual threads is managed within the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a> rather than by the host OS. When the JVM detects a virtual thread is blocking, the virtual thread is dismounted from the “real” platform thread where it executes. The virtual thread is parked while waiting for the blocking to resolve. In the meantime, the JVM mounts another virtual thread onto the platform thread. This means vastly greater utilization of your CPU cores as the host OS threads rarely sit idle.</p>\n<p>Database calls always involve much <a href=\"https://en.wikipedia.org/wiki/Blocking_%28computing%29\" rel=\"nofollow noreferrer\">blocking</a>, taking a long time while waiting for a response. You are making hundreds of such calls at a time. So this is ideal situation for switching to virtual threads rather than platform threads.</p>\n<p>Switching to virtual threads is utterly simple: just swap out the <code>Executors</code> call.</p>\n<pre><code>ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor();\n</code></pre>\n<p>And we can increase our example calls to a thousand, or even a million. Virtual threads are vastly lightweight than platform threads. Millions of concurrent virtual threads is reasonable.</p>\n<pre><code>.rangeClosed ( 1 , 1_000 )\n</code></pre>\n<p>And let's not dump the entire <code>databaseInfos</code> list of a thousand. Just first and last, now easier to do as <code>List</code> implements <code>SequencedCollection</code> with convenient <code>getFirst</code> &amp; <code>getLast</code> methods. See <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a>.</p>\n<pre><code>System.out.println ( &quot;databaseInfos = &quot; + databaseInfos.getFirst () + &quot; … &quot; + databaseInfos.getLast () );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo done. 2023-09-01T02:03:50.729476Z\ndatabaseInfos = DatabaseInfo[engine=MYSQL, address=1] … DatabaseInfo[engine=POSTGRES, address=1000]\n2023-09-01T02:03:50.781280Z TASK Simulating update to database: DatabaseInfo[engine=MS_SQL_SERVER, address=3]\n2023-09-01T02:03:50.781686Z TASK Simulating update to database: DatabaseInfo[engine=MYSQL, address=8]\n2023-09-01T02:03:50.781739Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=7]\n…\n2023-09-01T02:03:50.807384Z TASK Simulating update to database: DatabaseInfo[engine=POSTGRES, address=1000]\n2023-09-01T02:03:50.807377Z TASK Simulating update to database: DatabaseInfo[engine=MYSQL, address=997]\n2023-09-01T02:03:50.806946Z TASK Simulating update to database: DatabaseInfo[engine=MS_SQL_SERVER, address=951]\nINFO - Demo done. 2023-09-01T02:03:51.638269Z\n</code></pre>\n"}],"owner":{"account_id":5159758,"reputation":1872,"user_id":4131849,"display_name":"Roshan Upreti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693534402,"creation_date":1693482081,"question_id":77015509,"body_markdown":"I&#39;m trying to implement a Java program that prepares a bunch of runnables for databases(there are hundreds of them, and I want to allocate a thread for each database), and run each of those runnables using a `ScheduledExecutorService`, with an initial delay and some delay in between executions. This is what I&#39;ve managed so far:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n            // Get db name and info as key-value pairs\r\n            Map&lt;String, DbInfo&gt; dbInfoMap = getDbInfoMap();;\r\n            \r\n            // Initialize the scheduled executor service.\r\n            final ScheduledExecutorService executorService = Executors\r\n                    .newScheduledThreadPool(Runtime.getRuntime().availableProcessors());\r\n    \r\n    \r\n            // For each database, get a list of runnable and process accordingly.\r\n            dbInfoMap.forEach((db, dbInfo) -&gt; {\r\n                // Get a list of runnable(s).\r\n                List&lt;Runnable&gt; runnableList = new MigrationTaskManager(db, dbInfo).getRunnableTasksForDB();\r\n                // Schedule all the runnable(s) using the scheduled executor service, and a delay\r\n                runnableList.forEach(runnable -&gt; executorService\r\n                        .scheduleWithFixedDelay(runnable, INITIAL_DELAY, DELAY, TimeUnit.MILLISECONDS));\r\n            });\r\n        }\r\n    }\r\n\r\nThis sort of does what I intend, albeit with some caveats (It takes a really long time to start processing some databases if the list is too long). How can I implement it so that all the runnables for each database get fired at the same time? For instance, If I have 100 databases to read from, how can I ensure that 100 threads get fired with a bunch of runnables in each thread when the program starts? I&#39;d really appreciate some help with this.","title":"How to ensure that all the runnables get fired concurrently, using a ScheduledExecutorService in Java","body":"<p>I'm trying to implement a Java program that prepares a bunch of runnables for databases(there are hundreds of them, and I want to allocate a thread for each database), and run each of those runnables using a <code>ScheduledExecutorService</code>, with an initial delay and some delay in between executions. This is what I've managed so far:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n        // Get db name and info as key-value pairs\n        Map&lt;String, DbInfo&gt; dbInfoMap = getDbInfoMap();;\n        \n        // Initialize the scheduled executor service.\n        final ScheduledExecutorService executorService = Executors\n                .newScheduledThreadPool(Runtime.getRuntime().availableProcessors());\n\n\n        // For each database, get a list of runnable and process accordingly.\n        dbInfoMap.forEach((db, dbInfo) -&gt; {\n            // Get a list of runnable(s).\n            List&lt;Runnable&gt; runnableList = new MigrationTaskManager(db, dbInfo).getRunnableTasksForDB();\n            // Schedule all the runnable(s) using the scheduled executor service, and a delay\n            runnableList.forEach(runnable -&gt; executorService\n                    .scheduleWithFixedDelay(runnable, INITIAL_DELAY, DELAY, TimeUnit.MILLISECONDS));\n        });\n    }\n}\n</code></pre>\n<p>This sort of does what I intend, albeit with some caveats (It takes a really long time to start processing some databases if the list is too long). How can I implement it so that all the runnables for each database get fired at the same time? For instance, If I have 100 databases to read from, how can I ensure that 100 threads get fired with a bunch of runnables in each thread when the program starts? I'd really appreciate some help with this.</p>\n"},{"tags":["java","spring-boot","serialization","deserialization","jackson-dataformat-xml"],"owner":{"account_id":13566861,"reputation":1,"user_id":10048134,"display_name":"Ashish "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693534020,"creation_date":1693534020,"question_id":77020125,"body_markdown":"I have an xml element \r\n```\r\n&lt;root&gt;\r\n\t&lt;name1 p=&quot;xyz&quot; b =&quot;678&quot;/&gt;\r\n\t&lt;name2 p=&quot;abc&quot;/&gt;\r\n&lt;/root&gt;\r\n```\r\nI would like to parse this XML to java pojo using Jackson dataformat XML library. But i need to do that without creating a class for name1 element or name2 element because i just want the attribute values and name1/name2 tags will not have any children. \r\n\r\nI tried using isAttribute = true over jacksonXmlproperty annotation. But I will not be able to give the fieldname which i want in java class, because we have to give the same name as attribute name. And that would conflict with name1 attribute p and name2 attribute p. This approach will result in a java class like below\r\n\r\n```\r\nclass Root {\r\n    \r\n    @JacksonXmlproperty(localName=&quot;name1&quot; isAttribute=true)\r\n    String p;\r\n\r\n    @JacksonXmlproperty(localName=&quot;name2&quot; isAttribute=true)\r\n    String p;         // another attribute with same name p in the name2 element.\r\n\r\n}\r\n\r\n```\r\n\r\nI am not sure if we need to use any custom deserializer to acheive this.\r\n\r\nCan anyone help on this? Thanks in advance !","title":"Parsing XML element without children but with attributes using jackson","body":"<p>I have an xml element</p>\n<pre><code>&lt;root&gt;\n    &lt;name1 p=&quot;xyz&quot; b =&quot;678&quot;/&gt;\n    &lt;name2 p=&quot;abc&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n<p>I would like to parse this XML to java pojo using Jackson dataformat XML library. But i need to do that without creating a class for name1 element or name2 element because i just want the attribute values and name1/name2 tags will not have any children.</p>\n<p>I tried using isAttribute = true over jacksonXmlproperty annotation. But I will not be able to give the fieldname which i want in java class, because we have to give the same name as attribute name. And that would conflict with name1 attribute p and name2 attribute p. This approach will result in a java class like below</p>\n<pre><code>class Root {\n    \n    @JacksonXmlproperty(localName=&quot;name1&quot; isAttribute=true)\n    String p;\n\n    @JacksonXmlproperty(localName=&quot;name2&quot; isAttribute=true)\n    String p;         // another attribute with same name p in the name2 element.\n\n}\n\n</code></pre>\n<p>I am not sure if we need to use any custom deserializer to acheive this.</p>\n<p>Can anyone help on this? Thanks in advance !</p>\n"},{"tags":["java","sql","hibernate","jpa"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1693529441,"post_id":77019890,"comment_id":135776780,"body_markdown":"I think both are same albeit limit is in query level while getSingleResult() is api level. Also if someone messes up the query, the method ensures that is returns single result always.","body":"I think both are same albeit limit is in query level while getSingleResult() is api level. Also if someone messes up the query, the method ensures that is returns single result always."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1693557495,"post_id":77019890,"comment_id":135779747,"body_markdown":"`getSingleResult` was meant for queries that are *guaranteed* to return a single result, like `SELECT SUM / AVG` etc. For all queries that *might* return a single result (but might also return no results, depending on a business condition), `getResultList` was intended. Also remember that sometimes (e.g. with `FETCH JOIN`), **1 result = multiple result rows**, so `LIMIT 1` does not always make sense. For similar reasons, `setFirstResult() / setMaxResults()` is not always equivalent to setting `OFFSET / LIMIT / ROWNUM`","body":"<code>getSingleResult</code> was meant for queries that are <i>guaranteed</i> to return a single result, like <code>SELECT SUM &#47; AVG</code> etc. For all queries that <i>might</i> return a single result (but might also return no results, depending on a business condition), <code>getResultList</code> was intended. Also remember that sometimes (e.g. with <code>FETCH JOIN</code>), <b>1 result = multiple result rows</b>, so <code>LIMIT 1</code> does not always make sense. For similar reasons, <code>setFirstResult() &#47; setMaxResults()</code> is not always equivalent to setting <code>OFFSET &#47; LIMIT &#47; ROWNUM</code>"}],"answers":[{"tags":[],"owner":{"account_id":11548963,"reputation":36,"user_id":14679352,"display_name":"Cavor Kehl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693532161,"creation_date":1693532161,"answer_id":77020061,"question_id":77019890,"body_markdown":"[The doc][1] says if the query returned more than one row, it throws `NonUniqueResultException`. Besides, when using `getResultList()`, it returns a `List` rather than an `Object`. When you know it SHOULD return one row, better to use \r\n`getSingleResult()`, because returning more rows in this case is a logic error or the data is in an inconsistent state, better to stop processing.\r\n\r\n  [1]: https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/Query.html#getSingleResult()","title":"JPA - getSingleResult vs LIMIT 1","body":"<p><a href=\"https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/Query.html#getSingleResult()\" rel=\"nofollow noreferrer\">The doc</a> says if the query returned more than one row, it throws <code>NonUniqueResultException</code>. Besides, when using <code>getResultList()</code>, it returns a <code>List</code> rather than an <code>Object</code>. When you know it SHOULD return one row, better to use\n<code>getSingleResult()</code>, because returning more rows in this case is a logic error or the data is in an inconsistent state, better to stop processing.</p>\n"}],"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77020061,"answer_count":1,"score":1,"last_activity_date":1693532161,"creation_date":1693527476,"question_id":77019890,"body_markdown":"What is the difference between `.getSingleResult()` and `LIMIT 1` for example in the below hibernate 6 query:\r\n\r\n    @Override\r\n    public Test customQuery3(Long id) {\r\n    return (Test) entityManager.createQuery(\r\n                    &quot;SELECT NEW com.view.Test(a.id, b) FROM Author a &quot; +\r\n                            &quot;LEFT JOIN Book b ON b.author.id=a.id &quot; +\r\n                            &quot;WHERE b.id=:id &quot; +\r\n                            &quot;GROUP BY a, b ORDER BY b.newestBook DESC LIMIT 1&quot;)\r\n            .setParameter(&quot;id&quot;, id)\r\n            .getSingleResult();\r\n}\r\n\r\nFrom reading SQL documentation `LIMIT 1` restricts the results to one and in the example above the newest.\r\n\r\nThe documentation on .getSingleResult() appears to do the same albeit with some errors thrown if the id is not found.\r\n\r\nSo why are both needed?","title":"JPA - getSingleResult vs LIMIT 1","body":"<p>What is the difference between <code>.getSingleResult()</code> and <code>LIMIT 1</code> for example in the below hibernate 6 query:</p>\n<pre><code>@Override\npublic Test customQuery3(Long id) {\nreturn (Test) entityManager.createQuery(\n                &quot;SELECT NEW com.view.Test(a.id, b) FROM Author a &quot; +\n                        &quot;LEFT JOIN Book b ON b.author.id=a.id &quot; +\n                        &quot;WHERE b.id=:id &quot; +\n                        &quot;GROUP BY a, b ORDER BY b.newestBook DESC LIMIT 1&quot;)\n        .setParameter(&quot;id&quot;, id)\n        .getSingleResult();\n</code></pre>\n<p>}</p>\n<p>From reading SQL documentation <code>LIMIT 1</code> restricts the results to one and in the example above the newest.</p>\n<p>The documentation on .getSingleResult() appears to do the same albeit with some errors thrown if the id is not found.</p>\n<p>So why are both needed?</p>\n"},{"tags":["java","micronaut"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693531826,"creation_date":1693531826,"answer_id":77020050,"question_id":77020049,"body_markdown":"For loading the bean eagerly we should use [@Context][1] annotation, by default all Singleton bean definitions as lazy and will only load them on demand.\r\n\r\n&gt;Context scope indicates that the classes life cycle is bound to that of the BeanContext and it should be initialized and shutdown during startup and shutdown of the underlying BeanContext.\r\n\r\n&gt;Micronaut by default treats all Singleton bean definitions as lazy and will only load them on demand. By annotating a bean with @Context you can ensure that the bean is loaded at the same time as the context.\r\n\r\n&gt;WARNING: This annotation should be used sparingly as Micronaut is designed in such a way as to encourage minimal bean creation during startup.\r\n\r\n    @Factory\r\n    public class Config {\r\n\r\n      @Context\r\n      public ResponseScheduler response() {\r\n         System.out.println(&quot;Invoked&quot;);\r\n         //invoking some code\r\n         return new ResponseScheduler(&quot;test&quot;);\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Context.html","title":"Difference between @singleton and @context in micronuat","body":"<p>For loading the bean eagerly we should use <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Context.html\" rel=\"nofollow noreferrer\">@Context</a> annotation, by default all Singleton bean definitions as lazy and will only load them on demand.</p>\n<blockquote>\n<p>Context scope indicates that the classes life cycle is bound to that of the BeanContext and it should be initialized and shutdown during startup and shutdown of the underlying BeanContext.</p>\n</blockquote>\n<blockquote>\n<p>Micronaut by default treats all Singleton bean definitions as lazy and will only load them on demand. By annotating a bean with @Context you can ensure that the bean is loaded at the same time as the context.</p>\n</blockquote>\n<blockquote>\n<p>WARNING: This annotation should be used sparingly as Micronaut is designed in such a way as to encourage minimal bean creation during startup.</p>\n</blockquote>\n<pre><code>@Factory\npublic class Config {\n\n  @Context\n  public ResponseScheduler response() {\n     System.out.println(&quot;Invoked&quot;);\n     //invoking some code\n     return new ResponseScheduler(&quot;test&quot;);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693531826,"creation_date":1693531826,"question_id":77020049,"body_markdown":"I have a micronaut application and beans annotated with `@Singleton` are not getting eagerly initialized during application start up. Even setting `eagerInitSingletons` true doesn&#39;t help the beans to be initialized at start up.\r\n\r\n**Main Class**\r\n\r\n    public class Application {\r\n\r\n    public static void main(String[] args) {\r\n        Micronaut.build(args)\r\n                .eagerInitSingletons(true)\r\n                .mainClass(Application.class)\r\n                .start();\r\n      }\r\n   }\r\n\r\n**Factory Class**\r\n\r\n    @Factory\r\n    public class Config {\r\n\r\n      @Singleton\r\n      public ResponseScheduler response() {\r\n        System.out.println(&quot;Invoked&quot;);\r\n        //invoking some code\r\n        return new ResponseScheduler(&quot;test&quot;);\r\n       }\r\n    }\r\n\r\nThe application start up without executing loading the `ResponseScheduler` bean, this `ResponseScheduler` is from third party library and creating bean will create a scheduler with default config. But this bean is not used in any part of the application, it is just a scheduler to periodically check some functionality.\r\n\r\nWith `@Singleton` annotation the bean is not getting initialized, is there a way in micronaut to load the bean for running in background.\r\n\r\n","title":"Difference between @singleton and @context in micronuat","body":"<p>I have a micronaut application and beans annotated with <code>@Singleton</code> are not getting eagerly initialized during application start up. Even setting <code>eagerInitSingletons</code> true doesn't help the beans to be initialized at start up.</p>\n<p><strong>Main Class</strong></p>\n<pre><code>public class Application {\n\npublic static void main(String[] args) {\n    Micronaut.build(args)\n            .eagerInitSingletons(true)\n            .mainClass(Application.class)\n            .start();\n  }\n</code></pre>\n<p>}</p>\n<p><strong>Factory Class</strong></p>\n<pre><code>@Factory\npublic class Config {\n\n  @Singleton\n  public ResponseScheduler response() {\n    System.out.println(&quot;Invoked&quot;);\n    //invoking some code\n    return new ResponseScheduler(&quot;test&quot;);\n   }\n}\n</code></pre>\n<p>The application start up without executing loading the <code>ResponseScheduler</code> bean, this <code>ResponseScheduler</code> is from third party library and creating bean will create a scheduler with default config. But this bean is not used in any part of the application, it is just a scheduler to periodically check some functionality.</p>\n<p>With <code>@Singleton</code> annotation the bean is not getting initialized, is there a way in micronaut to load the bean for running in background.</p>\n"},{"tags":["java","opencv","java-native-interface","java.library.path"],"comments":[{"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"score":3,"creation_date":1424515315,"post_id":28644735,"comment_id":45587625,"body_markdown":"What is your OS ? What is the full name of your library file ? What is line 8 in hello.java ? What means *project has OpenCV-2.4.9 as one of its libraries* ? (did you put the native lib in classpath ? or something else ?) What is the value of the system variable `java.library.path` (just do `System.out.println(System.getProperty(&quot;java.library.path&quot;));` ? Do you know the difference between a native library and a java library ?","body":"What is your OS ? What is the full name of your library file ? What is line 8 in hello.java ? What means <i>project has OpenCV-2.4.9 as one of its libraries</i> ? (did you put the native lib in classpath ? or something else ?) What is the value of the system variable <code>java.library.path</code> (just do <code>System.out.println(System.getProperty(&quot;java.library.path&quot;));</code> ? Do you know the difference between a native library and a java library ?"},{"owner":{"account_id":3245578,"reputation":569,"user_id":2737268,"accept_rate":41,"display_name":"Zetland"},"score":0,"creation_date":1424521458,"post_id":28644735,"comment_id":45589220,"body_markdown":"I&#39;m using Windows 7. \n\nMy library file&#39;s full name is opencv-249.jar. \n\nLine 8 is `System.loadLibrary( Core.NATIVE_LIBRARY_NAME );`\n\nNot sure about the native library question, but I put it in the bit that appears when you click down on &#39;opencv-249.jar. \n\n`java.library.path` = C:\\Program Files\\OpenCV\\opencv\\build\\x86. \n\nThanks for taking the time to write such a good comment.","body":"I&#39;m using Windows 7.   My library file&#39;s full name is opencv-249.jar.   Line 8 is <code>System.loadLibrary( Core.NATIVE_LIBRARY_NAME );</code>  Not sure about the native library question, but I put it in the bit that appears when you click down on &#39;opencv-249.jar.   <code>java.library.path</code> = C:\\Program Files\\OpenCV\\opencv\\build\\x86.   Thanks for taking the time to write such a good comment."}],"answers":[{"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1424523752,"creation_date":1424523752,"answer_id":28646094,"question_id":28644735,"body_markdown":"The problem is that the native opencv library cannot be found because it is not in the `java.library.path` (it is a native library and it should not be in usual java classpath, but it must be in the java.library.path).\r\n\r\nYour opencv distribution should contains:\r\n\r\n- a java library : opencv249.jar. This library is mainly a java to native library with jni stuff allowing you to do native calls from java code. It must be in the classpath (and according the error you have and your explanations : it is on your classpath --&gt; everything is ok here)\r\n\r\n- a native library named `libopencv_java249.so` and this must be in your `java.library.path` . Obviously : it is not : the UnsatisfiedLinkError is the symptom of a missing native library. To include this native library: start your java program with the following parameter: \r\n\r\n    -Djava.library.path=/path/to/the/directory/of/ibopencv_java249.so","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path","body":"<p>The problem is that the native opencv library cannot be found because it is not in the <code>java.library.path</code> (it is a native library and it should not be in usual java classpath, but it must be in the java.library.path).</p>\n\n<p>Your opencv distribution should contains:</p>\n\n<ul>\n<li><p>a java library : opencv249.jar. This library is mainly a java to native library with jni stuff allowing you to do native calls from java code. It must be in the classpath (and according the error you have and your explanations : it is on your classpath --> everything is ok here)</p></li>\n<li><p>a native library named <code>libopencv_java249.so</code> and this must be in your <code>java.library.path</code> . Obviously : it is not : the UnsatisfiedLinkError is the symptom of a missing native library. To include this native library: start your java program with the following parameter: </p>\n\n<p>-Djava.library.path=/path/to/the/directory/of/ibopencv_java249.so</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4277406,"reputation":1,"user_id":3497709,"display_name":"DK Rajput"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1451979384,"creation_date":1441281657,"answer_id":32375058,"question_id":28644735,"body_markdown":"I had the same issue on ubuntu 14.o and I struggled a lot and found this solution. \r\n\r\n 1. use below line to print your Native lib path:\r\nSystem.out.println(System.getProperty(&quot;java.library.path&quot;));\r\n 2. if you are adding external openc4-version.jar then, in eclipse open\r\nBuildConfigurationPath-&gt;Library-&gt;opencv249.jar-&gt;Native Library\r\nand click edit and choose external folder which will be located inside /home/dav/Downloads/opencv-2.4.9/build/lib\r\n\r\nBefore this I built opencv as they metioned in java-opencv quickstart tutorial by creating build folder inside opencv unziped folder then ran 2 commands\r\n1.cmake -DBUILD_SHARED_LIBS=OFF ..\r\nif you get error then check make installed or not\r\n2.make -j8\r\n\r\nDone.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6gcSM.png","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path","body":"<p>I had the same issue on ubuntu 14.o and I struggled a lot and found this solution. </p>\n\n<ol>\n<li>use below line to print your Native lib path:\nSystem.out.println(System.getProperty(\"java.library.path\"));</li>\n<li>if you are adding external openc4-version.jar then, in eclipse open\nBuildConfigurationPath->Library->opencv249.jar->Native Library\nand click edit and choose external folder which will be located inside /home/dav/Downloads/opencv-2.4.9/build/lib</li>\n</ol>\n\n<p>Before this I built opencv as they metioned in java-opencv quickstart tutorial by creating build folder inside opencv unziped folder then ran 2 commands\n1.cmake -DBUILD_SHARED_LIBS=OFF ..\nif you get error then check make installed or not\n2.make -j8</p>\n\n<p>Done.</p>\n"},{"tags":[],"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490349930,"creation_date":1490348762,"answer_id":42996093,"question_id":28644735,"body_markdown":"Another possible solution which worked for me on Ubuntu:\r\nInstead of setting the JVM parameter to the exact `libopen.so` file, try setting it to the folder:\r\n\r\n    -Djava.library.path=/opencv-3.2.0/opencv/build/lib/","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path","body":"<p>Another possible solution which worked for me on Ubuntu:\nInstead of setting the JVM parameter to the exact <code>libopen.so</code> file, try setting it to the folder:</p>\n\n<pre><code>-Djava.library.path=/opencv-3.2.0/opencv/build/lib/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20917870,"reputation":1,"user_id":15367164,"display_name":"clara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615369924,"creation_date":1615369592,"answer_id":66562118,"question_id":28644735,"body_markdown":"good day!i saw this one from the other forum. \r\n\r\nhttps://stackoverflow.com/questions/957700/how-to-set-the-java-library-path-from-eclipse?newreg=67155181ff574e98b88cae1c3f7dec15\r\n\r\ni found out that you should copy the .dll file from your opencv and paste it to your windows folder. to do that, kindly locate the .dll from this path folder \r\n\r\n**opencv&gt;build&gt;java&gt;x64 (for 64bit platform)** \r\nor \r\n**opencv&gt;build&gt;java&gt;x86 (for x86/32 bit platform).** \r\n\r\ncopy the .dll file and paste it to your windows folder ( c:/windows ) after that you may recompile your work to check if it works. \r\n\r\n***note this tutorial is applicable only if you already set the .jar file of opencv to the preference setting of eclipse.**\r\n\r\nthis method works for me.","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path","body":"<p>good day!i saw this one from the other forum.</p>\n<p><a href=\"https://stackoverflow.com/questions/957700/how-to-set-the-java-library-path-from-eclipse?newreg=67155181ff574e98b88cae1c3f7dec15\">How to set the java.library.path from Eclipse</a></p>\n<p>i found out that you should copy the .dll file from your opencv and paste it to your windows folder. to do that, kindly locate the .dll from this path folder</p>\n<p><strong>opencv&gt;build&gt;java&gt;x64 (for 64bit platform)</strong>\nor\n<strong>opencv&gt;build&gt;java&gt;x86 (for x86/32 bit platform).</strong></p>\n<p>copy the .dll file and paste it to your windows folder ( c:/windows ) after that you may recompile your work to check if it works.</p>\n<p>*<strong>note this tutorial is applicable only if you already set the .jar file of opencv to the preference setting of eclipse.</strong></p>\n<p>this method works for me.</p>\n"},{"tags":[],"owner":{"account_id":14804379,"reputation":1,"user_id":10691814,"display_name":"M. REYSEY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646742720,"creation_date":1646698203,"answer_id":71388619,"question_id":28644735,"body_markdown":"Using Java in Netbeans, when including \r\n    \r\n    -Djava.library.path=&quot;E:\\Program Files\\opencv\\build\\java\\x64&quot; \r\n\r\nin the `Project Property&gt;Run` I just forgot the double quotes between the path. Add double quotes then everything worked fine.","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path","body":"<p>Using Java in Netbeans, when including</p>\n<pre><code>-Djava.library.path=&quot;E:\\Program Files\\opencv\\build\\java\\x64&quot; \n</code></pre>\n<p>in the <code>Project Property&gt;Run</code> I just forgot the double quotes between the path. Add double quotes then everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":15751044,"reputation":381,"user_id":11365594,"display_name":"Jasper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693531325,"creation_date":1693531325,"answer_id":77020029,"question_id":28644735,"body_markdown":"Hi if someone is still facing  the same challenge on intelij, you can easily config this by first downloading OpenCv [here][1] then you can then click on file&gt;Project Structure\r\n\r\n[![snip][2]][2]\r\nClick on + sign as shown on the image\r\nSelect Jars/directories\r\nThen navigate to the opencv installation folder as shown \r\n[![link][3]][3]\r\nthen double click opencv-version.jar\r\n[![opencv][4]][4]\r\n\r\nthen click add [![add][5]][5]\r\n\r\nThen select either 1 or 2 as shown below based on your OS\r\n[![os][6]][6]\r\n\r\nAfter that click okay okay and then try to run the application again\r\n\r\nThis solution was inspired by [this][7] article \r\n\r\n\r\n  [1]: https://opencv.org/releases/page/1/\r\n  [2]: https://i.stack.imgur.com/OYlRu.png\r\n  [3]: https://i.stack.imgur.com/iuPK0.png\r\n  [4]: https://i.stack.imgur.com/B9L5r.png\r\n  [5]: https://i.stack.imgur.com/aGHyx.png\r\n  [6]: https://i.stack.imgur.com/bBIeH.png\r\n  [7]: https://medium.com/@aadimator/how-to-set-up-opencv-in-intellij-idea-6eb103c1d45c#:~:text=Select%20Modules%20from%20the%20side,the%20Add%20Jar%2FDirectory%20option.&amp;text=Then%20browse%20to%20the%20path,%2Fopencv%2D***.","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path","body":"<p>Hi if someone is still facing  the same challenge on intelij, you can easily config this by first downloading OpenCv <a href=\"https://opencv.org/releases/page/1/\" rel=\"nofollow noreferrer\">here</a> then you can then click on file&gt;Project Structure</p>\n<p><a href=\"https://i.stack.imgur.com/OYlRu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OYlRu.png\" alt=\"snip\" /></a>\nClick on + sign as shown on the image\nSelect Jars/directories\nThen navigate to the opencv installation folder as shown\n<a href=\"https://i.stack.imgur.com/iuPK0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iuPK0.png\" alt=\"link\" /></a>\nthen double click opencv-version.jar\n<a href=\"https://i.stack.imgur.com/B9L5r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B9L5r.png\" alt=\"opencv\" /></a></p>\n<p>then click add <a href=\"https://i.stack.imgur.com/aGHyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aGHyx.png\" alt=\"add\" /></a></p>\n<p>Then select either 1 or 2 as shown below based on your OS\n<a href=\"https://i.stack.imgur.com/bBIeH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bBIeH.png\" alt=\"os\" /></a></p>\n<p>After that click okay okay and then try to run the application again</p>\n<p>This solution was inspired by <a href=\"https://medium.com/@aadimator/how-to-set-up-opencv-in-intellij-idea-6eb103c1d45c#:%7E:text=Select%20Modules%20from%20the%20side,the%20Add%20Jar%2FDirectory%20option.&amp;text=Then%20browse%20to%20the%20path,%2Fopencv%2D***.\" rel=\"nofollow noreferrer\">this</a> article</p>\n"}],"owner":{"account_id":3245578,"reputation":569,"user_id":2737268,"accept_rate":41,"display_name":"Zetland"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29216,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1693531325,"creation_date":1424514722,"question_id":28644735,"body_markdown":"I&#39;m currently trying to set up OpenCV on my 32-bit laptop, but I keep getting an error message which is confusing me:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path\r\n    at java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n\tat java.lang.Runtime.loadLibrary0(Unknown Source)\r\n\tat java.lang.System.loadLibrary(Unknown Source)\r\n\tat hello.main(hello.java:8)\r\n\r\nI&#39;ve tried switching a few things around, like going into User Libraries and changing the Native Library Location to \\x64 instead of \\x86, but that hasn&#39;t worked. I&#39;ve also made sure that my Java project has OpenCV-2.4.9 as one of its libraries, which it has. I&#39;ve also tried &#39;cleaning&#39; all projects, but that hasn&#39;t worked (does it ever?). So I&#39;ve followed all the instructions in the set-up tutorial but it still isn&#39;t working.\r\n\r\nDoes anyone know what the problem might be here? Thanks in advance...","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path","body":"<p>I'm currently trying to set up OpenCV on my 32-bit laptop, but I keep getting an error message which is confusing me:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no opencv_java249 in java.library.path\nat java.lang.ClassLoader.loadLibrary(Unknown Source)\nat java.lang.Runtime.loadLibrary0(Unknown Source)\nat java.lang.System.loadLibrary(Unknown Source)\nat hello.main(hello.java:8)\n</code></pre>\n\n<p>I've tried switching a few things around, like going into User Libraries and changing the Native Library Location to \\x64 instead of \\x86, but that hasn't worked. I've also made sure that my Java project has OpenCV-2.4.9 as one of its libraries, which it has. I've also tried 'cleaning' all projects, but that hasn't worked (does it ever?). So I've followed all the instructions in the set-up tutorial but it still isn't working.</p>\n\n<p>Does anyone know what the problem might be here? Thanks in advance...</p>\n"},{"tags":["java","sql-server","driver","pom.xml","talend"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1693402296,"post_id":77008505,"comment_id":135756073,"body_markdown":"*i have this :* [Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Try adding JAXB dependency to [your pom](https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.3.1)","body":"<i>i have this :</i> <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Try adding JAXB dependency to <a href=\"https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.3.1\" rel=\"nofollow noreferrer\">your pom</a>"}],"answers":[{"tags":[],"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693529449,"creation_date":1693404194,"answer_id":77008767,"question_id":77008505,"body_markdown":"[Talend 8][1] supports and recommends Java 11, with some caveats in specific cases stated in the documentation. The `javax.xml.bind` module was removed starting with Java 11.\r\n\r\nYou have to add it manually as a dependency in your POM.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://help.talend.com/r/en-US/8.0/data-catalog-installation-and-upgrade-guide-windows/compatible-java-runtime-environments","title":"Talend DI V8 : Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter","body":"<p><a href=\"https://help.talend.com/r/en-US/8.0/data-catalog-installation-and-upgrade-guide-windows/compatible-java-runtime-environments\" rel=\"nofollow noreferrer\">Talend 8</a> supports and recommends Java 11, with some caveats in specific cases stated in the documentation. The <code>javax.xml.bind</code> module was removed starting with Java 11.</p>\n<p>You have to add it manually as a dependency in your POM.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29329846,"reputation":11,"user_id":22471537,"display_name":"Max"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693529449,"creation_date":1693402129,"question_id":77008505,"body_markdown":"I&#39;ve encountered an issue with a component in Talend DI V8. I recently transitioned from Talend V7 to Talend V8 locally and need to migrate my old job to this new version due to a database change.\r\n\r\nIn Talend V7, my job successfully connects to the SQL Server database and executes without issues. However, when I attempt to run the job in Talend V8, I encounter the following error:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4098)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3160)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:43)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3123)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1981)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1628)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1168)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n    \tat interfaces...\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 19 more\r\n\r\nBefore running my job, I had to locate and integrate the `sqljdbc41-6.0.8112.jar` driver for my `tDBConnection` component.\r\n\r\nCould this be a driver issue? Or might I need to make modifications in my POM files or dependencies?\r\n\r\nI&#39;ve attempted to use different drivers, but they didn&#39;t seem to resolve the problem. I&#39;m considering making changes to my POM files.\r\n","title":"Talend DI V8 : Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter","body":"<p>I've encountered an issue with a component in Talend DI V8. I recently transitioned from Talend V7 to Talend V8 locally and need to migrate my old job to this new version due to a database change.</p>\n<p>In Talend V7, my job successfully connects to the SQL Server database and executes without issues. However, when I attempt to run the job in Talend V8, I encounter the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4098)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3160)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:43)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3123)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1981)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1628)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1168)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at interfaces...\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 19 more\n</code></pre>\n<p>Before running my job, I had to locate and integrate the <code>sqljdbc41-6.0.8112.jar</code> driver for my <code>tDBConnection</code> component.</p>\n<p>Could this be a driver issue? Or might I need to make modifications in my POM files or dependencies?</p>\n<p>I've attempted to use different drivers, but they didn't seem to resolve the problem. I'm considering making changes to my POM files.</p>\n"},{"tags":["java","email","amazon-web-services"],"comments":[{"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"score":1,"creation_date":1548546525,"post_id":7963439,"comment_id":95580569,"body_markdown":"https://docs.aws.amazon.com/ses/latest/DeveloperGuide/examples-send-raw-using-sdk.html","body":"<a href=\"https://docs.aws.amazon.com/ses/latest/DeveloperGuide/examples-send-raw-using-sdk.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/ses/latest/DeveloperGuide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":333568,"reputation":168,"user_id":659494,"display_name":"Ivan Savchenko"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1320175156,"creation_date":1320175156,"answer_id":7971669,"question_id":7963439,"body_markdown":"Maybe a little bit late, but you can use this code (you also need Java Mail):\r\n\r\n    public class MailSender\r\n    {\r\n          private Transport AWSTransport;\r\n          ...\r\n          //Initialize transport\r\n          private void initAWSTransport() throws MessagingException\r\n          {\r\n            String keyID = &lt;your key id&gt;\r\n            String secretKey = &lt;your secret key&gt;\r\n            MailAWSCredentials credentials = new MailAWSCredentials();\r\n            credentials.setCredentials(keyID, secretKey);\r\n            AmazonSimpleEmailService ses = new AmazonSimpleEmailServiceClient(credentials);\r\n            Properties props = new Properties();\r\n        \t\tprops.setProperty(&quot;mail.transport.protocol&quot;, &quot;aws&quot;);\r\n            props.setProperty(&quot;mail.aws.user&quot;, credentials.getAWSAccessKeyId());\r\n            props.setProperty(&quot;mail.aws.password&quot;, credentials.getAWSSecretKey());\r\n            AWSsession = Session.getInstance(props);\r\n            AWStransport = new AWSJavaMailTransport(AWSsession, null);\r\n            AWStransport.connect();\r\n          }\r\n\r\n      public void sendEmail(byte[] attachment)\r\n      {\r\n        //mail properties\r\n        String senderAddress = &lt;Sender address&gt;;\r\n        String recipientAddress = &lt;Recipient address&gt;;\r\n        String subject = &lt;Mail subject&gt;;\r\n        String text = &lt;Your text&gt;;\r\n        String mimeTypeOfText = &lt;MIME type of text part&gt;;\r\n        String fileMimeType = &lt;MIME type of your attachment&gt;;\r\n        String fileName = &lt;Name of attached file&gt;;\r\n\r\n        initAWSTransport();\r\n\r\n        try\r\n        {\r\n          // Create new message\r\n          Message msg = new MimeMessage(AWSsession);\r\n          msg.setFrom(new InternetAddress(senderAddress));\r\n          msg.addRecipient(Message.RecipientType.TO, new InternetAddress(recipientAddress));\r\n          msg.setSubject(subject);\r\n\r\n          //Text part\r\n          Multipart multipart = new MimeMultipart();\r\n          BodyPart messageBodyPart = new MimeBodyPart();\r\n          messageBodyPart.setContent(text, mimeTypeOfText);\r\n          multipart.addBodyPart(messageBodyPart);\r\n\r\n          //Attachment part\r\n          if (attachment != null &amp;&amp; attachment.length != 0)\r\n          {\r\n            messageBodyPart = new MimeBodyPart();\r\n            DataSource source = new ByteArrayDataSource(attachment,fileMimeType);\r\n            messageBodyPart.setDataHandler(new DataHandler(source));\r\n            messageBodyPart.setFileName(fileName);\r\n            multipart.addBodyPart(messageBodyPart);\r\n          }\r\n          msg.setContent(multipart);\r\n\r\n          //send message\r\n          msg.saveChanges();\r\n          AWSTransport.sendMessage(msg, null);\r\n        } catch (MessagingException e){...}\r\n      }\r\n    }","title":"Example of sending an email with attachment via Amazon in Java","body":"<p>Maybe a little bit late, but you can use this code (you also need Java Mail):</p>\n\n<pre><code>public class MailSender\n{\n      private Transport AWSTransport;\n      ...\n      //Initialize transport\n      private void initAWSTransport() throws MessagingException\n      {\n        String keyID = &lt;your key id&gt;\n        String secretKey = &lt;your secret key&gt;\n        MailAWSCredentials credentials = new MailAWSCredentials();\n        credentials.setCredentials(keyID, secretKey);\n        AmazonSimpleEmailService ses = new AmazonSimpleEmailServiceClient(credentials);\n        Properties props = new Properties();\n            props.setProperty(\"mail.transport.protocol\", \"aws\");\n        props.setProperty(\"mail.aws.user\", credentials.getAWSAccessKeyId());\n        props.setProperty(\"mail.aws.password\", credentials.getAWSSecretKey());\n        AWSsession = Session.getInstance(props);\n        AWStransport = new AWSJavaMailTransport(AWSsession, null);\n        AWStransport.connect();\n      }\n\n  public void sendEmail(byte[] attachment)\n  {\n    //mail properties\n    String senderAddress = &lt;Sender address&gt;;\n    String recipientAddress = &lt;Recipient address&gt;;\n    String subject = &lt;Mail subject&gt;;\n    String text = &lt;Your text&gt;;\n    String mimeTypeOfText = &lt;MIME type of text part&gt;;\n    String fileMimeType = &lt;MIME type of your attachment&gt;;\n    String fileName = &lt;Name of attached file&gt;;\n\n    initAWSTransport();\n\n    try\n    {\n      // Create new message\n      Message msg = new MimeMessage(AWSsession);\n      msg.setFrom(new InternetAddress(senderAddress));\n      msg.addRecipient(Message.RecipientType.TO, new InternetAddress(recipientAddress));\n      msg.setSubject(subject);\n\n      //Text part\n      Multipart multipart = new MimeMultipart();\n      BodyPart messageBodyPart = new MimeBodyPart();\n      messageBodyPart.setContent(text, mimeTypeOfText);\n      multipart.addBodyPart(messageBodyPart);\n\n      //Attachment part\n      if (attachment != null &amp;&amp; attachment.length != 0)\n      {\n        messageBodyPart = new MimeBodyPart();\n        DataSource source = new ByteArrayDataSource(attachment,fileMimeType);\n        messageBodyPart.setDataHandler(new DataHandler(source));\n        messageBodyPart.setFileName(fileName);\n        multipart.addBodyPart(messageBodyPart);\n      }\n      msg.setContent(multipart);\n\n      //send message\n      msg.saveChanges();\n      AWSTransport.sendMessage(msg, null);\n    } catch (MessagingException e){...}\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":438607,"reputation":183,"user_id":826975,"display_name":"Christiano Guedes"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1393250366,"creation_date":1393250366,"answer_id":21989928,"question_id":7963439,"body_markdown":"Maybe a little bit late too.\r\nAlternative to send mail using Java Mail and Amazon Raw Mail Sender\r\n\r\n\tpublic static void sendMail(String subject, String message, byte[] attachement, String fileName, String contentType, String from, String[] to) {\r\n\t\ttry {\r\n\t\t\t// JavaMail representation of the message\r\n\t\t\tSession s = Session.getInstance(new Properties(), null);\r\n\t\t\tMimeMessage mimeMessage = new MimeMessage(s);\r\n\r\n\t\t\t// Sender and recipient\r\n\t\t\tmimeMessage.setFrom(new InternetAddress(from));\r\n\t\t\tfor (String toMail : to) {\r\n\t\t\t\tmimeMessage.addRecipient(javax.mail.Message.RecipientType.TO, new InternetAddress(toMail));\r\n\t\t\t}\r\n\r\n\t\t\t// Subject\r\n\t\t\tmimeMessage.setSubject(subject);\r\n\r\n\t\t\t// Add a MIME part to the message\r\n\t\t\tMimeMultipart mimeBodyPart = new MimeMultipart();\r\n\t\t\tBodyPart part = new MimeBodyPart();\r\n\t\t\tpart.setContent(message, MediaType.TEXT_HTML);\r\n\t\t\tmimeBodyPart.addBodyPart(part);\r\n\r\n\t\t\t// Add a attachement to the message\r\n\t\t\tpart = new MimeBodyPart();\r\n\t\t\tDataSource source = new ByteArrayDataSource(attachement, contentType);\r\n\t\t\tpart.setDataHandler(new DataHandler(source));\r\n\t\t\tpart.setFileName(fileName);\r\n\t\t\tmimeBodyPart.addBodyPart(part);\r\n\r\n\t\t\tmimeMessage.setContent(mimeBodyPart);\r\n\r\n\t\t\t// Create Raw message\r\n\t\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\t\t\tmimeMessage.writeTo(outputStream);\r\n\t\t\tRawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\r\n\r\n\t\t\t// Credentials\r\n\t\t\tString keyID = &quot;&quot;;// &lt;your key id&gt;\r\n\t\t\tString secretKey = &quot;&quot;;// &lt;your secret key&gt;\r\n\t\t\tAWSCredentials credentials = new BasicAWSCredentials(keyID, secretKey);\r\n\t\t\tAmazonSimpleEmailServiceClient client = new AmazonSimpleEmailServiceClient(credentials);\r\n\r\n\t\t\t// Send Mail\r\n\t\t\tSendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\r\n\t\t\trawEmailRequest.setDestinations(Arrays.asList(to));\r\n\t\t\trawEmailRequest.setSource(from);\r\n\t\t\tclient.sendRawEmail(rawEmailRequest);\r\n\r\n\t\t} catch (IOException | MessagingException e) {\r\n\t\t\t// your Exception\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Example of sending an email with attachment via Amazon in Java","body":"<p>Maybe a little bit late too.\nAlternative to send mail using Java Mail and Amazon Raw Mail Sender</p>\n\n<pre><code>public static void sendMail(String subject, String message, byte[] attachement, String fileName, String contentType, String from, String[] to) {\n    try {\n        // JavaMail representation of the message\n        Session s = Session.getInstance(new Properties(), null);\n        MimeMessage mimeMessage = new MimeMessage(s);\n\n        // Sender and recipient\n        mimeMessage.setFrom(new InternetAddress(from));\n        for (String toMail : to) {\n            mimeMessage.addRecipient(javax.mail.Message.RecipientType.TO, new InternetAddress(toMail));\n        }\n\n        // Subject\n        mimeMessage.setSubject(subject);\n\n        // Add a MIME part to the message\n        MimeMultipart mimeBodyPart = new MimeMultipart();\n        BodyPart part = new MimeBodyPart();\n        part.setContent(message, MediaType.TEXT_HTML);\n        mimeBodyPart.addBodyPart(part);\n\n        // Add a attachement to the message\n        part = new MimeBodyPart();\n        DataSource source = new ByteArrayDataSource(attachement, contentType);\n        part.setDataHandler(new DataHandler(source));\n        part.setFileName(fileName);\n        mimeBodyPart.addBodyPart(part);\n\n        mimeMessage.setContent(mimeBodyPart);\n\n        // Create Raw message\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        mimeMessage.writeTo(outputStream);\n        RawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\n\n        // Credentials\n        String keyID = \"\";// &lt;your key id&gt;\n        String secretKey = \"\";// &lt;your secret key&gt;\n        AWSCredentials credentials = new BasicAWSCredentials(keyID, secretKey);\n        AmazonSimpleEmailServiceClient client = new AmazonSimpleEmailServiceClient(credentials);\n\n        // Send Mail\n        SendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\n        rawEmailRequest.setDestinations(Arrays.asList(to));\n        rawEmailRequest.setSource(from);\n        client.sendRawEmail(rawEmailRequest);\n\n    } catch (IOException | MessagingException e) {\n        // your Exception\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548552819,"creation_date":1548552819,"answer_id":54384366,"question_id":7963439,"body_markdown":"Here is an updated, cleaned up version with logging and check for production.\r\n\r\n\tpublic void sendEmail(String to, String subject, String body, String attachment, String mimeType, String fileName) {\r\n\t\tif (to == null) return;\r\n\t\t\r\n\t\tString environment = System.getProperty(&quot;ENVIRONMENT&quot;, System.getenv(&quot;ENVIRONMENT&quot;));\r\n\t\tString logMessage;\r\n\t\tif (environment != null &amp;&amp; environment.equals(&quot;production&quot;)) {\r\n\t\t\tlogMessage = &quot;Sent email to &quot; + to + &quot;.&quot;;\r\n\t\t} else {\r\n\t\t\tto = &quot;success@simulator.amazonses.com&quot;;\r\n\t\t\tlogMessage = &quot;Email sent to success@simulator.amazonses.com because $ENVIRONMENT != &#39;production&#39;&quot;;\r\n\t\t}\r\n\r\n\t\t// https://docs.aws.amazon.com/ses/latest/DeveloperGuide/examples-send-raw-using-sdk.html\r\n    \tSession session = Session.getDefaultInstance(new Properties());\r\n        MimeMessage message = new MimeMessage(session);\r\n        try {\r\n\t        message.setSubject(subject, &quot;UTF-8&quot;);\r\n\t        message.setFrom(new InternetAddress(FROM));\r\n\t        message.setRecipients(javax.mail.Message.RecipientType.TO, InternetAddress.parse(to));\r\n\t\t        MimeMultipart msg = new MimeMultipart(&quot;mixed&quot;);\r\n\t\t\t        MimeBodyPart wrap = new MimeBodyPart();\r\n\t\t\t\t        MimeMultipart msgBody = new MimeMultipart(&quot;alternative&quot;);\r\n\t\t\t\t\t        MimeBodyPart textPart = new MimeBodyPart();\r\n\t\t\t\t\t        MimeBodyPart htmlPart = new MimeBodyPart();\r\n\t\t\t\t\t        textPart.setContent(body, &quot;text/plain; charset=UTF-8&quot;);\r\n\t\t\t\t\t        htmlPart.setContent(body,&quot;text/html; charset=UTF-8&quot;);\r\n\t\t\t\t        msgBody.addBodyPart(textPart);\r\n\t\t\t\t        msgBody.addBodyPart(htmlPart);\r\n\t\t\t        wrap.setContent(msgBody);\r\n\t\t        msg.addBodyPart(wrap);\r\n\t\t\t        MimeBodyPart att = new MimeBodyPart();\r\n\t\t\t        att.setDataHandler(new DataHandler(attachment, mimeType));\r\n\t\t\t        att.setFileName(fileName);\r\n    //\t\t\t        DataSource fds = new FileDataSource(attachment);\r\n    //\t\t\t        att.setDataHandler(new DataHandler(fds));\r\n    //\t\t\t        att.setFileName(fds.getName());\r\n\t\t        msg.addBodyPart(att);\r\n\t        message.setContent(msg);\r\n        \r\n\t\t\tAmazonSimpleEmailService client = AmazonSimpleEmailServiceClientBuilder\r\n\t\t\t\t\t.standard().withRegion(Regions.US_EAST_1).build();\r\n            message.writeTo(System.out);\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            message.writeTo(outputStream);\r\n            RawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\r\n            SendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\r\n    //            \t\t    .withConfigurationSetName(CONFIGURATION_SET);\r\n            client.sendRawEmail(rawEmailRequest);\r\n\t\t\tLogger.info(this.getClass(), &quot;sendEmail()&quot;, logMessage);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tLogger.info(this.getClass(), &quot;sendEmail()&quot;, &quot;The email was not sent. Error: &quot; + ex.getMessage());\r\n        }\r\n    }\r\n\r\nhttps://docs.aws.amazon.com/ses/latest/DeveloperGuide/examples-send-raw-using-sdk.html\r\n\r\n&gt; You use a shared credentials file to pass your AWS access key ID and secret access key. As an alternative to using a shared credentials file, you can specify your AWS access key ID and secret access key by setting two environment variables (AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY, respectively).","title":"Example of sending an email with attachment via Amazon in Java","body":"<p>Here is an updated, cleaned up version with logging and check for production.</p>\n\n<pre><code>public void sendEmail(String to, String subject, String body, String attachment, String mimeType, String fileName) {\n    if (to == null) return;\n\n    String environment = System.getProperty(\"ENVIRONMENT\", System.getenv(\"ENVIRONMENT\"));\n    String logMessage;\n    if (environment != null &amp;&amp; environment.equals(\"production\")) {\n        logMessage = \"Sent email to \" + to + \".\";\n    } else {\n        to = \"success@simulator.amazonses.com\";\n        logMessage = \"Email sent to success@simulator.amazonses.com because $ENVIRONMENT != 'production'\";\n    }\n\n    // https://docs.aws.amazon.com/ses/latest/DeveloperGuide/examples-send-raw-using-sdk.html\n    Session session = Session.getDefaultInstance(new Properties());\n    MimeMessage message = new MimeMessage(session);\n    try {\n        message.setSubject(subject, \"UTF-8\");\n        message.setFrom(new InternetAddress(FROM));\n        message.setRecipients(javax.mail.Message.RecipientType.TO, InternetAddress.parse(to));\n            MimeMultipart msg = new MimeMultipart(\"mixed\");\n                MimeBodyPart wrap = new MimeBodyPart();\n                    MimeMultipart msgBody = new MimeMultipart(\"alternative\");\n                        MimeBodyPart textPart = new MimeBodyPart();\n                        MimeBodyPart htmlPart = new MimeBodyPart();\n                        textPart.setContent(body, \"text/plain; charset=UTF-8\");\n                        htmlPart.setContent(body,\"text/html; charset=UTF-8\");\n                    msgBody.addBodyPart(textPart);\n                    msgBody.addBodyPart(htmlPart);\n                wrap.setContent(msgBody);\n            msg.addBodyPart(wrap);\n                MimeBodyPart att = new MimeBodyPart();\n                att.setDataHandler(new DataHandler(attachment, mimeType));\n                att.setFileName(fileName);\n//                  DataSource fds = new FileDataSource(attachment);\n//                  att.setDataHandler(new DataHandler(fds));\n//                  att.setFileName(fds.getName());\n            msg.addBodyPart(att);\n        message.setContent(msg);\n\n        AmazonSimpleEmailService client = AmazonSimpleEmailServiceClientBuilder\n                .standard().withRegion(Regions.US_EAST_1).build();\n        message.writeTo(System.out);\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        message.writeTo(outputStream);\n        RawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\n        SendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\n//                      .withConfigurationSetName(CONFIGURATION_SET);\n        client.sendRawEmail(rawEmailRequest);\n        Logger.info(this.getClass(), \"sendEmail()\", logMessage);\n    } catch (Exception ex) {\n        Logger.info(this.getClass(), \"sendEmail()\", \"The email was not sent. Error: \" + ex.getMessage());\n    }\n}\n</code></pre>\n\n<p><a href=\"https://docs.aws.amazon.com/ses/latest/DeveloperGuide/examples-send-raw-using-sdk.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/ses/latest/DeveloperGuide/examples-send-raw-using-sdk.html</a></p>\n\n<blockquote>\n  <p>You use a shared credentials file to pass your AWS access key ID and secret access key. As an alternative to using a shared credentials file, you can specify your AWS access key ID and secret access key by setting two environment variables (AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY, respectively).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4027,"user_id":5844686,"display_name":"Big Pumpkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575008106,"creation_date":1575007441,"answer_id":59099485,"question_id":7963439,"body_markdown":"https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-raw.html has an example that sends both html and text bodies (with an attachment, of course). FWIW, here is the conversion and reorganization of its Java code to Kotlin. The dependency is `&#39;com.sun.mail:javax.mail:1.6.2&#39;`.\r\n\r\n    data class Attachment(val fileName: String, val contentType: String, val data: ByteArray)\r\n    \r\n    fun sendEmailWithAttachment(from: String, to: List&lt;String&gt;, subject: String, htmlBody: String, textBody: String,\r\n                                attachment: Attachment) {\r\n        try {\r\n            val textPart = MimeBodyPart().apply {\r\n                setContent(textBody, &quot;text/plain; charset=UTF-8&quot;)\r\n            }\r\n    \r\n            val htmlPart = MimeBodyPart().apply {\r\n                setContent(htmlBody, &quot;text/html; charset=UTF-8&quot;)\r\n            }\r\n    \r\n            // Create a multipart/alternative child container.\r\n            val childPart = MimeMultipart(&quot;alternative&quot;).apply {\r\n                // Add the text and HTML parts to the child container.\r\n                addBodyPart(textPart)\r\n                addBodyPart(htmlPart)\r\n            }\r\n    \r\n            // Create a wrapper for the HTML and text parts.\r\n            val childWrapper = MimeBodyPart().apply {\r\n                setContent(childPart)\r\n            }\r\n    \r\n            // Define the attachment\r\n            val dataSource = ByteArrayDataSource(attachment.data, attachment.contentType)\r\n            // val dataSource = FileDataSource(filePath)  // if using file directly\r\n            val attPart = MimeBodyPart().apply {\r\n                dataHandler = DataHandler(dataSource)\r\n                fileName = attachment.fileName\r\n            }\r\n    \r\n            // Create a multipart/mixed parent container.\r\n            val parentPart = MimeMultipart(&quot;mixed&quot;).apply {\r\n                // Add the multipart/alternative part to the message.\r\n                addBodyPart(childWrapper)\r\n                addBodyPart(attPart)  // Add the attachment to the message.\r\n            }\r\n    \r\n            // JavaMail representation of the message\r\n            val s = Session.getDefaultInstance(Properties())\r\n            val mimeMessage = MimeMessage(s).apply {\r\n                // Add subject, from and to lines\r\n                this.subject = subject\r\n                setFrom(InternetAddress(from))\r\n                to.forEach() {\r\n                    addRecipient(javax.mail.Message.RecipientType.TO, InternetAddress(it))\r\n                }\r\n    \r\n                // Add the parent container to the message.\r\n                setContent(parentPart)\r\n            }\r\n    \r\n            // Create Raw message\r\n            val rawMessage = with(ByteArrayOutputStream()) {\r\n                mimeMessage.writeTo(this)\r\n                RawMessage(ByteBuffer.wrap(this.toByteArray()))\r\n            }\r\n    \r\n            val rawEmailRequest = SendRawEmailRequest(rawMessage).apply {\r\n                source = from\r\n                setDestinations(to)\r\n            }\r\n    \r\n            // Send Mail\r\n            val client = AmazonSimpleEmailServiceClientBuilder.standard()\r\n                    .withRegion(Regions.US_EAST_1).build()\r\n            client.sendRawEmail(rawEmailRequest)\r\n            println(&quot;Email with attachment sent to $to&quot;)\r\n        } catch (e: Exception) {\r\n            println(e)\r\n        }\r\n    }","title":"Example of sending an email with attachment via Amazon in Java","body":"<p><a href=\"https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-raw.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-raw.html</a> has an example that sends both html and text bodies (with an attachment, of course). FWIW, here is the conversion and reorganization of its Java code to Kotlin. The dependency is <code>'com.sun.mail:javax.mail:1.6.2'</code>.</p>\n\n<pre><code>data class Attachment(val fileName: String, val contentType: String, val data: ByteArray)\n\nfun sendEmailWithAttachment(from: String, to: List&lt;String&gt;, subject: String, htmlBody: String, textBody: String,\n                            attachment: Attachment) {\n    try {\n        val textPart = MimeBodyPart().apply {\n            setContent(textBody, \"text/plain; charset=UTF-8\")\n        }\n\n        val htmlPart = MimeBodyPart().apply {\n            setContent(htmlBody, \"text/html; charset=UTF-8\")\n        }\n\n        // Create a multipart/alternative child container.\n        val childPart = MimeMultipart(\"alternative\").apply {\n            // Add the text and HTML parts to the child container.\n            addBodyPart(textPart)\n            addBodyPart(htmlPart)\n        }\n\n        // Create a wrapper for the HTML and text parts.\n        val childWrapper = MimeBodyPart().apply {\n            setContent(childPart)\n        }\n\n        // Define the attachment\n        val dataSource = ByteArrayDataSource(attachment.data, attachment.contentType)\n        // val dataSource = FileDataSource(filePath)  // if using file directly\n        val attPart = MimeBodyPart().apply {\n            dataHandler = DataHandler(dataSource)\n            fileName = attachment.fileName\n        }\n\n        // Create a multipart/mixed parent container.\n        val parentPart = MimeMultipart(\"mixed\").apply {\n            // Add the multipart/alternative part to the message.\n            addBodyPart(childWrapper)\n            addBodyPart(attPart)  // Add the attachment to the message.\n        }\n\n        // JavaMail representation of the message\n        val s = Session.getDefaultInstance(Properties())\n        val mimeMessage = MimeMessage(s).apply {\n            // Add subject, from and to lines\n            this.subject = subject\n            setFrom(InternetAddress(from))\n            to.forEach() {\n                addRecipient(javax.mail.Message.RecipientType.TO, InternetAddress(it))\n            }\n\n            // Add the parent container to the message.\n            setContent(parentPart)\n        }\n\n        // Create Raw message\n        val rawMessage = with(ByteArrayOutputStream()) {\n            mimeMessage.writeTo(this)\n            RawMessage(ByteBuffer.wrap(this.toByteArray()))\n        }\n\n        val rawEmailRequest = SendRawEmailRequest(rawMessage).apply {\n            source = from\n            setDestinations(to)\n        }\n\n        // Send Mail\n        val client = AmazonSimpleEmailServiceClientBuilder.standard()\n                .withRegion(Regions.US_EAST_1).build()\n        client.sendRawEmail(rawEmailRequest)\n        println(\"Email with attachment sent to $to\")\n    } catch (e: Exception) {\n        println(e)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17957498,"reputation":49,"user_id":13049157,"display_name":"Alexander Ochoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693527097,"creation_date":1693527097,"answer_id":77019881,"question_id":7963439,"body_markdown":"This works for me:\r\n\r\nlibraries: &lt;br&gt;\r\nnet.sf.jasperreports &lt;br&gt;\r\ncom.lowagie &lt;br&gt;\r\nspring-boot-starter-mail\r\n\r\n\r\n    @Autowired\r\n    private AmazonSimpleEmailServiceAsync amazonSimpleEmailService;\r\n    \r\n    public void send(String destination, byte[] attachment) {\r\n            try {\r\n                Session session = Session.getInstance(new Properties());\r\n    \r\n                MimeMessage message = new MimeMessage(session);\r\n                message.setSubject(subject);\r\n    \r\n                MimeBodyPart mimeBodyPart = new MimeBodyPart();\r\n                ByteArrayDataSource byteArrayDataSource =\r\n                        new ByteArrayDataSource(attachment, MimeTypeUtils.APPLICATION_OCTET_STREAM_VALUE);\r\n                mimeBodyPart.setDataHandler(new DataHandler(byteArrayDataSource));\r\n                mimeBodyPart.setFileName(nameAttachment);\r\n    \r\n                Multipart multipart = new MimeMultipart();\r\n                multipart.addBodyPart(mimeBodyPart);\r\n    \r\n                message.setContent(multipart);\r\n    \r\n                ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n                message.writeTo(outputStream);\r\n                RawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\r\n                SendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\r\n                rawEmailRequest.withDestinations(destination);\r\n                rawEmailRequest.withSource(mail);\r\n    \r\n                amazonSimpleEmailService.sendRawEmailAsync(rawEmailRequest);\r\n            } catch (Exception e) {\r\n                ...\r\n            }\r\n        }","title":"Example of sending an email with attachment via Amazon in Java","body":"<p>This works for me:</p>\n<p>libraries: <br>\nnet.sf.jasperreports <br>\ncom.lowagie <br>\nspring-boot-starter-mail</p>\n<pre><code>@Autowired\nprivate AmazonSimpleEmailServiceAsync amazonSimpleEmailService;\n\npublic void send(String destination, byte[] attachment) {\n        try {\n            Session session = Session.getInstance(new Properties());\n\n            MimeMessage message = new MimeMessage(session);\n            message.setSubject(subject);\n\n            MimeBodyPart mimeBodyPart = new MimeBodyPart();\n            ByteArrayDataSource byteArrayDataSource =\n                    new ByteArrayDataSource(attachment, MimeTypeUtils.APPLICATION_OCTET_STREAM_VALUE);\n            mimeBodyPart.setDataHandler(new DataHandler(byteArrayDataSource));\n            mimeBodyPart.setFileName(nameAttachment);\n\n            Multipart multipart = new MimeMultipart();\n            multipart.addBodyPart(mimeBodyPart);\n\n            message.setContent(multipart);\n\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n            message.writeTo(outputStream);\n            RawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\n            SendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\n            rawEmailRequest.withDestinations(destination);\n            rawEmailRequest.withSource(mail);\n\n            amazonSimpleEmailService.sendRawEmailAsync(rawEmailRequest);\n        } catch (Exception e) {\n            ...\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":363819,"reputation":683,"user_id":707808,"accept_rate":64,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24374,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":7971669,"answer_count":5,"score":13,"last_activity_date":1693527097,"creation_date":1320131252,"question_id":7963439,"body_markdown":"Does anyone have an example of sending an email, with an attachment, via Amazon SES (in Java)?","title":"Example of sending an email with attachment via Amazon in Java","body":"<p>Does anyone have an example of sending an email, with an attachment, via Amazon SES (in Java)?</p>\n"},{"tags":["java","aes","encryption"],"comments":[{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1457265648,"post_id":15434802,"comment_id":59319821,"body_markdown":"AES is always 128 bits and only supports 128, 192, and 256 bit keys. What you&#39;re confusing it with is Rijndael, which supports more key sizes and different block sizes. Apparently .NET also confuses them (but only if it doesn&#39;t throw an exception when choosing parameters outside the AES specification, which I cannot infer from your question).","body":"AES is always 128 bits and only supports 128, 192, and 256 bit keys. What you&#39;re confusing it with is Rijndael, which supports more key sizes and different block sizes. Apparently .NET also confuses them (but only if it doesn&#39;t throw an exception when choosing parameters outside the AES specification, which I cannot infer from your question)."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1693525612,"creation_date":1363361425,"answer_id":15436216,"question_id":15434802,"body_markdown":"Since you&#39;re initializing the cipher with a key of 16 bytes (128 bits), it uses that as the key size implicitly. \r\n\r\nAnd regarding the block size, the [JCA specification][1] says:\r\n\r\n&gt; AES is a 128-bit block cipher supporting keys of 128, 192, and 256 bits.\r\n\r\nSo the block size is always 128-bits.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/security/StandardNames.html#Cipher","title":"How to set BlockSize and KeySize using AES encryption in java","body":"<p>Since you're initializing the cipher with a key of 16 bytes (128 bits), it uses that as the key size implicitly.</p>\n<p>And regarding the block size, the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/StandardNames.html#Cipher\" rel=\"nofollow noreferrer\">JCA specification</a> says:</p>\n<blockquote>\n<p>AES is a 128-bit block cipher supporting keys of 128, 192, and 256 bits.</p>\n</blockquote>\n<p>So the block size is always 128-bits.</p>\n"}],"owner":{"account_id":2426593,"reputation":91,"user_id":2118406,"accept_rate":40,"display_name":"Jivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13042,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15436216,"answer_count":1,"score":5,"last_activity_date":1693525612,"creation_date":1363357327,"question_id":15434802,"body_markdown":"I am trying to set the BlockSize and KeySize in java encryption code.&lt;br&gt;\r\nHere is my code that works fine but how to specify the aes.BlockSize=128 and aes.KeySize=128?&lt;br&gt;\r\nI have taking reference of Aes aes = AesManaged() in .NET in which we can set the following parameter as follows\r\n\r\n    aes.BlockSize = 128;\r\n    aes.KeySize = 128;\r\n    CipherMode.ECB;\r\n    aes.Padding = PaddingMode.None;           \r\n\r\nIn the code below I have set the following three parameters:\r\n\r\n    aes.Key = key\r\n    aes.Mode = CipherMode.ECB\r\n    aes.Padding = PaddingMode.None\r\n\r\nbut I am not able to set \r\n\r\n    aes.BlockSize = 128\r\n    aes.KeySize = 128;\r\n\r\n---\r\n\r\n    public static void main(String args[]) {\r\n        \r\n        \t\tbyte[] keyForEncription = new byte[16];\r\n        \t\tbyte[] keyForDecription = new byte[16];\r\n        \t\tlong FixedKey = 81985526925837671L;\r\n        \t\tlong VariableKey = 744818830;\r\n        \r\n        \t\tfor (int i1 = 0; i1 &lt; 8; i1++) {\r\n        \r\n        \t\t\tkeyForEncription[i1] = (byte) (FixedKey &gt;&gt; (8 * i1));\r\n        \t\t\tkeyForEncription[i1 + 8] = (byte) (VariableKey &gt;&gt; (8 * i1));\r\n        \t\t}\r\n        \r\n        \t\tshort[] data = new short[96];\r\n        \r\n        \t\tdata[0] = 2;\r\n        \t\tdata[1] = 0;\r\n        \t\tdata[2] = 0;\r\n        \t\tdata[3] = 0;\r\n        \t\tdata[4] = 0;\r\n        \t\tdata[5] = 6;\r\n        \t\tdata[6] = 6;\r\n        \t\tdata[7] = 81;\r\n        \t\tdata[8] = 124;\r\n        \t\tdata[9] = 23;\r\n        \t\tdata[10] = 3;\r\n        \t\r\n        \t\tSecretKeySpec skeySpec = new SecretKeySpec(keyForEncription, &quot;AES&quot;);\r\n        \t\tCipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\r\n        \t\tcipher.init(Cipher.ENCRYPT_MODE, skeySpec);\r\n        \r\n        \t\tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        \t\tCipherOutputStream cos = new CipherOutputStream(bos, cipher);\r\n        \t\tDataOutputStream dos = new DataOutputStream(cos);\r\n        \r\n        \t\tbyte[] byteArray_data = new byte[data.length];\r\n        \r\n        \t\tfor (int i1 = 0; i1 &lt; data.length; i1++)\r\n        \t\t\tbyteArray_data[i1] = (byte) data[i1];\r\n        \r\n        \t        dos.write(byteArray_data, 0, 16);\r\n        \t\tdos.close();\r\n        \r\n        \t\tbyte[] ENCRYPTED_DATA = bos.toByteArray();\r\n        \r\n        \t\tfor (int i1 = 0; i1 &lt; 8; i1++) {\r\n        \r\n        \t\t\tkeyForDecription[i1] = (byte) (FixedKey &gt;&gt; (8 * i1));\r\n        \t\t\tkeyForDecription[i1 + 8] = (byte) (VariableKey &gt;&gt; (8 * i1));\r\n        \t\t}\r\n        \r\n        \t\tSecretKeySpec skeySpec_decryption = new SecretKeySpec(keyForDecription,\r\n        \t\t\t\t&quot;AES&quot;);\r\n        \t\tCipher cipher1 = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\r\n        \t\tcipher1.init(Cipher.DECRYPT_MODE, skeySpec_decryption);\r\n                        \r\n                        ByteArrayInputStream bis = new ByteArrayInputStream(ENCRYPTED_DATA);\r\n        \t\tCipherInputStream cis = new CipherInputStream(bis, cipher1);\r\n        \t\tDataInputStream dis = new DataInputStream(cis);\r\n        \r\n        \t\tbyte[] DECRYPTED_DATA = new byte[byteArray_data.length];\r\n        \t\tdis.readFully(DECRYPTED_DATA, 4, 16);\r\n        \t\tcis.close();","title":"How to set BlockSize and KeySize using AES encryption in java","body":"<p>I am trying to set the BlockSize and KeySize in java encryption code.<br>\nHere is my code that works fine but how to specify the aes.BlockSize=128 and aes.KeySize=128?<br>\nI have taking reference of Aes aes = AesManaged() in .NET in which we can set the following parameter as follows</p>\n\n<pre><code>aes.BlockSize = 128;\naes.KeySize = 128;\nCipherMode.ECB;\naes.Padding = PaddingMode.None;           \n</code></pre>\n\n<p>In the code below I have set the following three parameters:</p>\n\n<pre><code>aes.Key = key\naes.Mode = CipherMode.ECB\naes.Padding = PaddingMode.None\n</code></pre>\n\n<p>but I am not able to set </p>\n\n<pre><code>aes.BlockSize = 128\naes.KeySize = 128;\n</code></pre>\n\n<hr>\n\n<pre><code>public static void main(String args[]) {\n\n            byte[] keyForEncription = new byte[16];\n            byte[] keyForDecription = new byte[16];\n            long FixedKey = 81985526925837671L;\n            long VariableKey = 744818830;\n\n            for (int i1 = 0; i1 &lt; 8; i1++) {\n\n                keyForEncription[i1] = (byte) (FixedKey &gt;&gt; (8 * i1));\n                keyForEncription[i1 + 8] = (byte) (VariableKey &gt;&gt; (8 * i1));\n            }\n\n            short[] data = new short[96];\n\n            data[0] = 2;\n            data[1] = 0;\n            data[2] = 0;\n            data[3] = 0;\n            data[4] = 0;\n            data[5] = 6;\n            data[6] = 6;\n            data[7] = 81;\n            data[8] = 124;\n            data[9] = 23;\n            data[10] = 3;\n\n            SecretKeySpec skeySpec = new SecretKeySpec(keyForEncription, \"AES\");\n            Cipher cipher = Cipher.getInstance(\"AES/ECB/NoPadding\");\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec);\n\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\n            CipherOutputStream cos = new CipherOutputStream(bos, cipher);\n            DataOutputStream dos = new DataOutputStream(cos);\n\n            byte[] byteArray_data = new byte[data.length];\n\n            for (int i1 = 0; i1 &lt; data.length; i1++)\n                byteArray_data[i1] = (byte) data[i1];\n\n                dos.write(byteArray_data, 0, 16);\n            dos.close();\n\n            byte[] ENCRYPTED_DATA = bos.toByteArray();\n\n            for (int i1 = 0; i1 &lt; 8; i1++) {\n\n                keyForDecription[i1] = (byte) (FixedKey &gt;&gt; (8 * i1));\n                keyForDecription[i1 + 8] = (byte) (VariableKey &gt;&gt; (8 * i1));\n            }\n\n            SecretKeySpec skeySpec_decryption = new SecretKeySpec(keyForDecription,\n                    \"AES\");\n            Cipher cipher1 = Cipher.getInstance(\"AES/ECB/NoPadding\");\n            cipher1.init(Cipher.DECRYPT_MODE, skeySpec_decryption);\n\n                    ByteArrayInputStream bis = new ByteArrayInputStream(ENCRYPTED_DATA);\n            CipherInputStream cis = new CipherInputStream(bis, cipher1);\n            DataInputStream dis = new DataInputStream(cis);\n\n            byte[] DECRYPTED_DATA = new byte[byteArray_data.length];\n            dis.readFully(DECRYPTED_DATA, 4, 16);\n            cis.close();\n</code></pre>\n"},{"tags":["java","android","exception"],"answers":[{"tags":[],"owner":{"account_id":238730,"reputation":46651,"user_id":507810,"accept_rate":82,"display_name":"FoamyGuy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1310152612,"creation_date":1310152612,"answer_id":6629321,"question_id":6628926,"body_markdown":"I have never seen a project that uses a class from a separate project. I don&#39;t know for a fact that this won&#39;t work, I&#39;ve just never seen it. So I would suggest copying your edu.brandeis.minigamee package into the same project that contains GameOfLifeGameActivity.","title":"Nested android application won&#39;t launch","body":"<p>I have never seen a project that uses a class from a separate project. I don't know for a fact that this won't work, I've just never seen it. So I would suggest copying your edu.brandeis.minigamee package into the same project that contains GameOfLifeGameActivity.</p>\n"}],"owner":{"account_id":147829,"reputation":10434,"user_id":359219,"accept_rate":60,"display_name":"pitosalas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6629321,"answer_count":1,"score":0,"last_activity_date":1693524681,"creation_date":1310150473,"question_id":6628926,"body_markdown":"I have an Android application with a main activity called GameOfLifeGameActivity in a package called edu.brandeis.gameoflife. \r\n\r\nIt extends a class in a different package (and different Eclipse project) called GameActivity in a package called edu.brandeis.minigamee. I am having trouble getting it to launch.\r\n\r\nI think it has to do with the cross-package and cross project reference. It never gets to the onCreate. Instead, it looks like during startup of the app, I get this fatal exception (see below.) \r\n\r\nWhat might that mean and how to fix it?\r\n\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347): FATAL EXCEPTION: main\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{edu.brandeis.gameoflife/edu.brandeis.gameoflife.GameOfLifeGameActivity}: java.lang.ClassNotFoundException: edu.brandeis.gameoflife.GameOfLifeGameActivity in loader dalvik.system.PathClassLoader[/data/app/edu.brandeis.gameoflife-1.apk]\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1569)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.os.Looper.loop(Looper.java:123)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.main(ActivityThread.java:3683)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at java.lang.reflect.Method.invokeNative(Native Method)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at java.lang.reflect.Method.invoke(Method.java:507)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at dalvik.system.NativeStart.main(Native Method)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347): Caused by: java.lang.ClassNotFoundException: edu.brandeis.gameoflife.GameOfLifeGameActivity in loader dalvik.system.PathClassLoader[/data/app/edu.brandeis.gameoflife-1.apk]\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.Instrumentation.newActivity(Instrumentation.java:1021)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1561)\r\n    07-08 13:50:19.970: ERROR/AndroidRuntime(347):     ... 11 more\r\n    07-08 13:50:19.980: WARN/ActivityManager(60):   Force finishing activity edu.brandeis.gameoflife/.GameOfLifeGameActivity\r\n    07-08 13:50:20.491: WARN/ActivityManager(60): Activity pause timeout for HistoryRecord{4052d618 edu.brandeis.gameoflife/.GameOfLifeGameActivity}\r\n    07-08 13:50:30.691: WARN/ActivityManager(60): Activity destroy timeout for HistoryRecord{4052d618 edu.brandeis.gameoflife/.GameOfLifeGameActivity}\r\n\r\n","title":"Nested android application won&#39;t launch","body":"<p>I have an Android application with a main activity called GameOfLifeGameActivity in a package called edu.brandeis.gameoflife.</p>\n<p>It extends a class in a different package (and different Eclipse project) called GameActivity in a package called edu.brandeis.minigamee. I am having trouble getting it to launch.</p>\n<p>I think it has to do with the cross-package and cross project reference. It never gets to the onCreate. Instead, it looks like during startup of the app, I get this fatal exception (see below.)</p>\n<p>What might that mean and how to fix it?</p>\n<pre><code>07-08 13:50:19.970: ERROR/AndroidRuntime(347): FATAL EXCEPTION: main\n07-08 13:50:19.970: ERROR/AndroidRuntime(347): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{edu.brandeis.gameoflife/edu.brandeis.gameoflife.GameOfLifeGameActivity}: java.lang.ClassNotFoundException: edu.brandeis.gameoflife.GameOfLifeGameActivity in loader dalvik.system.PathClassLoader[/data/app/edu.brandeis.gameoflife-1.apk]\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1569)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.os.Handler.dispatchMessage(Handler.java:99)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.os.Looper.loop(Looper.java:123)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.main(ActivityThread.java:3683)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at java.lang.reflect.Method.invokeNative(Native Method)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at java.lang.reflect.Method.invoke(Method.java:507)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at dalvik.system.NativeStart.main(Native Method)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347): Caused by: java.lang.ClassNotFoundException: edu.brandeis.gameoflife.GameOfLifeGameActivity in loader dalvik.system.PathClassLoader[/data/app/edu.brandeis.gameoflife-1.apk]\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.Instrumentation.newActivity(Instrumentation.java:1021)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1561)\n07-08 13:50:19.970: ERROR/AndroidRuntime(347):     ... 11 more\n07-08 13:50:19.980: WARN/ActivityManager(60):   Force finishing activity edu.brandeis.gameoflife/.GameOfLifeGameActivity\n07-08 13:50:20.491: WARN/ActivityManager(60): Activity pause timeout for HistoryRecord{4052d618 edu.brandeis.gameoflife/.GameOfLifeGameActivity}\n07-08 13:50:30.691: WARN/ActivityManager(60): Activity destroy timeout for HistoryRecord{4052d618 edu.brandeis.gameoflife/.GameOfLifeGameActivity}\n</code></pre>\n"},{"tags":["java","android","authentication","dropbox","dropbox-api"],"answers":[{"tags":[],"owner":{"account_id":3783849,"reputation":39,"user_id":3142475,"accept_rate":25,"display_name":"AndresRuizDeElv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390386543,"creation_date":1390386543,"answer_id":21280299,"question_id":21255698,"body_markdown":"It didn&#39;t work because it ran on the simulator not on the phone.\r\nUsed it on the phone, no problems.","title":"Android DropBox API-Link with DropBox Fails(DBRoulette)","body":"<p>It didn't work because it ran on the simulator not on the phone.\nUsed it on the phone, no problems.</p>\n"}],"owner":{"account_id":3783849,"reputation":39,"user_id":3142475,"accept_rate":25,"display_name":"AndresRuizDeElv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693524026,"creation_date":1390300804,"question_id":21255698,"body_markdown":"When I try access dropbox API with DBRoulette, example application from Dropbox API, using Android, \r\nI get the following two messages in the simulator:\r\nLink to Dropbox(I click it) then\r\n-Unfortunately browser has stopped.\r\nI&#39;ve got an APP_KEY, SECRET_KEY from dropbox, my manifest file is:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       package=&quot;com.dropbox.android.sample&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot;&gt;\r\n\r\n    &lt;uses-sdk android:minSdkVersion=&quot;19&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n    &lt;application android:icon=&quot;@drawable/icon&quot; android:label=&quot;@string/app_name&quot;&gt;\r\n      &lt;activity\r\n        android:name=&quot;.DBRoulette&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:configChanges=&quot;orientation|keyboard&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n      &lt;/activity&gt;\r\n\r\n    &lt;activity\r\n      android:name=&quot;com.dropbox.client2.android.AuthActivity&quot;\r\n      android:launchMode=&quot;singleTask&quot;\r\n      android:configChanges=&quot;orientation|keyboard&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;!-- Change this to be db- followed by your app key --&gt;\r\n        &lt;data android:scheme=&quot;db-XXXXXXX&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n  &lt;/application&gt;\r\n&lt;/manifest&gt; \r\nMy main file is DBRoulette, identical to the example app:\r\n\r\n    com.dropbox.android.sample;\r\n    public class DBRoulette extends Activity {\r\n    private static final String TAG = &quot;DBRoulette&quot;;\r\n\r\n    ///////////////////////////////////////////////////////////////////////////\r\n    //                      Your app-specific settings.                      //\r\n    ///////////////////////////////////////////////////////////////////////////\r\n\r\n    // Replace this with your app key and secret assigned by Dropbox.\r\n    // Note that this is a really insecure way to do this, and you shouldn&#39;t\r\n    // ship code which contains your key &amp; secret in such an obvious way.\r\n    // Obfuscation is good.\r\n    final static private String APP_KEY = &quot;xxxxxx&quot;;\r\n    final static private String APP_SECRET = &quot;xxxx&quot;;\r\n    ....\r\n\r\nI am using all jars suggested:dropbox-api, http-mime, json-simple, and android 4.4 as the version.\r\nWhy can&#39;t I access dropbox? is it because the simulator?","title":"Android DropBox API-Link with DropBox Fails(DBRoulette)","body":"<p>When I try access dropbox API with DBRoulette, example application from Dropbox API, using Android,\nI get the following two messages in the simulator:\nLink to Dropbox(I click it) then\n-Unfortunately browser has stopped.\nI've got an APP_KEY, SECRET_KEY from dropbox, my manifest file is:\n\n</p>\n<pre><code>&lt;uses-sdk android:minSdkVersion=&quot;19&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n\n&lt;application android:icon=&quot;@drawable/icon&quot; android:label=&quot;@string/app_name&quot;&gt;\n  &lt;activity\n    android:name=&quot;.DBRoulette&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:configChanges=&quot;orientation|keyboard&quot;&gt;\n  &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n  &lt;/intent-filter&gt;\n  &lt;/activity&gt;\n\n&lt;activity\n  android:name=&quot;com.dropbox.client2.android.AuthActivity&quot;\n  android:launchMode=&quot;singleTask&quot;\n  android:configChanges=&quot;orientation|keyboard&quot;&gt;\n  &lt;intent-filter&gt;\n    &lt;!-- Change this to be db- followed by your app key --&gt;\n    &lt;data android:scheme=&quot;db-XXXXXXX&quot; /&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n  &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n  \n \nMy main file is DBRoulette, identical to the example app:\n<pre><code>com.dropbox.android.sample;\npublic class DBRoulette extends Activity {\nprivate static final String TAG = &quot;DBRoulette&quot;;\n\n///////////////////////////////////////////////////////////////////////////\n//                      Your app-specific settings.                      //\n///////////////////////////////////////////////////////////////////////////\n\n// Replace this with your app key and secret assigned by Dropbox.\n// Note that this is a really insecure way to do this, and you shouldn't\n// ship code which contains your key &amp; secret in such an obvious way.\n// Obfuscation is good.\nfinal static private String APP_KEY = &quot;xxxxxx&quot;;\nfinal static private String APP_SECRET = &quot;xxxx&quot;;\n....\n</code></pre>\n<p>I am using all jars suggested:dropbox-api, http-mime, json-simple, and android 4.4 as the version.\nWhy can't I access dropbox? is it because the simulator?</p>\n"},{"tags":["java","spring","rest","http","cors"],"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":1,"creation_date":1693438763,"post_id":77012018,"comment_id":135762804,"body_markdown":"`serverip:8080` looks weird. Are you sure, that this is the endpoint of your frontend?","body":"<code>serverip:8080</code> looks weird. Are you sure, that this is the endpoint of your frontend?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1693439839,"post_id":77012018,"comment_id":135762886,"body_markdown":"No. Where you see &quot;serverip&quot; you can replace by the actual ip number. I just didn&#39;t want to inform the ip address in here and so I wrote that.","body":"No. Where you see &quot;serverip&quot; you can replace by the actual ip number. I just didn&#39;t want to inform the ip address in here and so I wrote that."},{"owner":{"account_id":7275588,"reputation":81,"user_id":5547163,"display_name":"Tush"},"score":0,"creation_date":1693462298,"post_id":77012018,"comment_id":135764636,"body_markdown":"You can try checking once again by checking it on incognito window  to see if `origin` header is there.\n\nIs your backend service on the same ip as the serverip and same port (8080)? Because browsers might not send origin header for the same origin requests.","body":"You can try checking once again by checking it on incognito window  to see if <code>origin</code> header is there.  Is your backend service on the same ip as the serverip and same port (8080)? Because browsers might not send origin header for the same origin requests."},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1693469332,"post_id":77012018,"comment_id":135765916,"body_markdown":"To echo @akop&#39;s question, is `http://serverip:8080` where a browser-based client lives? Only browsers (not all user agents) automatically include an `Origin` in cross-origin requests.","body":"To echo @akop&#39;s question, is <code>http:&#47;&#47;serverip:8080</code> where a browser-based client lives? Only browsers (not all user agents) automatically include an <code>Origin</code> in cross-origin requests."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1693473126,"post_id":77012018,"comment_id":135766694,"body_markdown":"@jkfe `serverip:8080` seems that it pointing to your spring backend. But the origin should be your frontend. It is maybe `serverip:80` or `serverip:4200`.","body":"@jkfe <code>serverip:8080</code> seems that it pointing to your spring backend. But the origin should be your frontend. It is maybe <code>serverip:80</code> or <code>serverip:4200</code>."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1693487833,"post_id":77012018,"comment_id":135769772,"body_markdown":"@Tush You are correct. It was returning null because both frontend and backend are in the same serverip:port. Thus, both are in the same origin. The code works to identify origin when front and backend are in different origins.","body":"@Tush You are correct. It was returning null because both frontend and backend are in the same serverip:port. Thus, both are in the same origin. The code works to identify origin when front and backend are in different origins."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1693487929,"post_id":77012018,"comment_id":135769784,"body_markdown":"@jub0bs Right. The call was from a browser, but both front and backend are in the same origin. That&#39;s why it returned null.","body":"@jub0bs Right. The call was from a browser, but both front and backend are in the same origin. That&#39;s why it returned null."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1693487965,"post_id":77012018,"comment_id":135769793,"body_markdown":"@akop The frontend is also on 8080 (frontend deployed to Tomcat). So ip and port were correct. Like replied to others, it was returning null because both front and backend are in the same origin.","body":"@akop The frontend is also on 8080 (frontend deployed to Tomcat). So ip and port were correct. Like replied to others, it was returning null because both front and backend are in the same origin."},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1693490242,"post_id":77012018,"comment_id":135770388,"body_markdown":"@jkfe If both server and client are on the same [Web origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin), there shouldn&#39;t be a need to configure CORS, by definition.","body":"@jkfe If both server and client are on the same <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Origin\" rel=\"nofollow noreferrer\">Web origin</a>, there shouldn&#39;t be a need to configure CORS, by definition."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":1,"creation_date":1693491469,"post_id":77012018,"comment_id":135770710,"body_markdown":"@jub0bs Right. Learned that now. That was the reason.","body":"@jub0bs Right. Learned that now. That was the reason."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1693504078,"post_id":77012018,"comment_id":135773415,"body_markdown":"@jub0bs (or TE) can you write it as an answer?","body":"@jub0bs (or TE) can you write it as an answer?"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":1,"creation_date":1693519588,"post_id":77012018,"comment_id":135775925,"body_markdown":"@akop Feel free to write an answer. You were on the right track before I chimed in.","body":"@akop Feel free to write an answer. You were on the right track before I chimed in."}],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693522748,"creation_date":1693522748,"answer_id":77019696,"question_id":77012018,"body_markdown":"As pointed out in the comments (creds also to [jub0bs](https://stackoverflow.com/users/2541573/jub0bs):\r\n\r\nThe backend and the frontend are served by the same endpoint (`serverip:8080`). Webbrowsers will only send the origin, if backend and frontend are different hosts.\r\n\r\nRead more about CORS at mozilla. https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS","title":"How to identify the origin of an Http request?","body":"<p>As pointed out in the comments (creds also to <a href=\"https://stackoverflow.com/users/2541573/jub0bs\">jub0bs</a>:</p>\n<p>The backend and the frontend are served by the same endpoint (<code>serverip:8080</code>). Webbrowsers will only send the origin, if backend and frontend are different hosts.</p>\n<p>Read more about CORS at mozilla. <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a></p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77019696,"answer_count":1,"score":0,"last_activity_date":1693522748,"creation_date":1693436923,"question_id":77012018,"body_markdown":"I have this code that adds Cors Mappings to my java spring application.\r\n\r\nIt works well to allow requests comming from ```http://localhost:4200```.\r\n\r\nBut it is not working to allow requests from the second origin (test server).\r\n\r\n```\r\n@Override\r\npublic void addCorsMappings(CorsRegistry registry) {\t\r\n\t\t\r\n\tregistry.addMapping(&quot;/**&quot;) //all paths\r\n\t.allowedMethods(&quot;*&quot;) //all methods/endpoints\r\n\t.allowedOrigins(&quot;http://localhost:4200&quot;, //dev\r\n\t&quot;http://serverip:8080&quot;); //test server\r\n}\r\n```\r\n\r\nI&#39;m guessing ```&quot;http://serverip:8080&quot;``` in that code is not quite right.\r\n\r\nSo I wanted to identify the exact origin where the call is comming. \r\n\r\nThen I can add that origin &quot;as is&quot; in the allowedOrigins list.\r\n\r\nHow can I do that?\r\n\r\nI tried this but it&#39;s returning null.\r\n\r\n    @RequestMapping(value  = &quot;/httprequestorigin&quot;, method = RequestMethod.GET)\r\n    public String getHttpRequestOrigin() throws UnknownHostException {\r\n    \t\r\n    \t String origin = &quot;&quot;;\r\n    \t\t\r\n    \t RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n    \t    if (requestAttributes instanceof ServletRequestAttributes) {\r\n    \t    \tHttpServletRequest request = ((ServletRequestAttributes)requestAttributes).getRequest();\r\n    \t    \torigin = request.getHeader(&quot;HttpHeaders.ORIGIN&quot;);\r\n    \t    }\r\n    \t\r\n\t      return origin;\r\n    \t\r\n    }\r\n\r\nAlso tried like this and it also returns null.\r\n\r\n```origin = request.getHeader(&quot;Origin&quot;);```\r\n\r\n\r\nAnd when I read the http headers in Chrome Dev Tools I don&#39;t see &quot;Origin&quot; in there. \r\n\r\nUnderstand this code is not working because the origin header is not available.\r\n\r\nSo how to identify the origin of the Http request in that case?","title":"How to identify the origin of an Http request?","body":"<p>I have this code that adds Cors Mappings to my java spring application.</p>\n<p>It works well to allow requests comming from <code>http://localhost:4200</code>.</p>\n<p>But it is not working to allow requests from the second origin (test server).</p>\n<pre><code>@Override\npublic void addCorsMappings(CorsRegistry registry) {    \n        \n    registry.addMapping(&quot;/**&quot;) //all paths\n    .allowedMethods(&quot;*&quot;) //all methods/endpoints\n    .allowedOrigins(&quot;http://localhost:4200&quot;, //dev\n    &quot;http://serverip:8080&quot;); //test server\n}\n</code></pre>\n<p>I'm guessing <code>&quot;http://serverip:8080&quot;</code> in that code is not quite right.</p>\n<p>So I wanted to identify the exact origin where the call is comming.</p>\n<p>Then I can add that origin &quot;as is&quot; in the allowedOrigins list.</p>\n<p>How can I do that?</p>\n<p>I tried this but it's returning null.</p>\n<pre><code>@RequestMapping(value  = &quot;/httprequestorigin&quot;, method = RequestMethod.GET)\npublic String getHttpRequestOrigin() throws UnknownHostException {\n    \n     String origin = &quot;&quot;;\n        \n     RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n        if (requestAttributes instanceof ServletRequestAttributes) {\n            HttpServletRequest request = ((ServletRequestAttributes)requestAttributes).getRequest();\n            origin = request.getHeader(&quot;HttpHeaders.ORIGIN&quot;);\n        }\n    \n      return origin;\n    \n}\n</code></pre>\n<p>Also tried like this and it also returns null.</p>\n<p><code>origin = request.getHeader(&quot;Origin&quot;);</code></p>\n<p>And when I read the http headers in Chrome Dev Tools I don't see &quot;Origin&quot; in there.</p>\n<p>Understand this code is not working because the origin header is not available.</p>\n<p>So how to identify the origin of the Http request in that case?</p>\n"},{"tags":["java","gradle","apk","android-virtual-device"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1693523249,"post_id":77019672,"comment_id":135776334,"body_markdown":"You should add import for R class: `import com.name.app.R;`","body":"You should add import for R class: <code>import com.name.app.R;</code>"},{"owner":{"account_id":29324348,"reputation":1,"user_id":22467228,"display_name":"camcam"},"score":0,"creation_date":1693605838,"post_id":77019672,"comment_id":135787945,"body_markdown":"@marcinj i did and now the error says `cannot find symbol import com.name.app.R`","body":"@marcinj i did and now the error says <code>cannot find symbol import com.name.app.R</code>"}],"owner":{"account_id":29324348,"reputation":1,"user_id":22467228,"display_name":"camcam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693522369,"creation_date":1693522369,"question_id":77019672,"body_markdown":"I&#39;m running `./gradle assembleDebug` and i&#39;m having this error\r\n\r\n```\r\n...app/src/main/java/com/name/app/MainActivity.java:11: error: package R does not exist\r\n        setContentView(R.layout.activity_main);\r\n                        ^\r\n1 error\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n```\r\nif i run it with --info:\r\n\r\n```\r\nCaching disabled for task &#39;:app:compileDebugJavaWithJavac&#39; because:\r\n  Build cache is disabled\r\nTask &#39;:app:compileDebugJavaWithJavac&#39; is not up-to-date because:\r\n  Task has failed previously.\r\nThe input changes require a full rebuild for incremental task &#39;:app:compileDebugJavaWithJavac&#39;.\r\nWatching 47 directories to track changes\r\nWatching 46 directories to track changes\r\nWatching 45 directories to track changes\r\nFull recompilation is required because no incremental change information is available. This is usually caused by clean builds or changing compiler arguments.\r\nCompiling with toolchain &#39;/usr/lib/jvm/java-17-openjdk-amd64&#39;.\r\n```\r\nI had previously ran `gradle clean`, but I don&#39;t know if it has anything to do with it.\r\n\r\nI tried changing things in my .xml files, but it keeps failing, I have no idea how to fix it.\r\nThis is my `AndroidManifest.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;application\r\n        android:label=&quot;app&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n        \tandroid:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n`MainActivity.java`\r\n\r\n```\r\npackage com.name.app;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\n\r\nAny help would be appreciated. Thanks","title":"Hox to fix &quot;package R does not exist setContentView(R.layout.activity_main)&quot;","body":"<p>I'm running <code>./gradle assembleDebug</code> and i'm having this error</p>\n<pre><code>...app/src/main/java/com/name/app/MainActivity.java:11: error: package R does not exist\n        setContentView(R.layout.activity_main);\n                        ^\n1 error\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>if i run it with --info:</p>\n<pre><code>Caching disabled for task ':app:compileDebugJavaWithJavac' because:\n  Build cache is disabled\nTask ':app:compileDebugJavaWithJavac' is not up-to-date because:\n  Task has failed previously.\nThe input changes require a full rebuild for incremental task ':app:compileDebugJavaWithJavac'.\nWatching 47 directories to track changes\nWatching 46 directories to track changes\nWatching 45 directories to track changes\nFull recompilation is required because no incremental change information is available. This is usually caused by clean builds or changing compiler arguments.\nCompiling with toolchain '/usr/lib/jvm/java-17-openjdk-amd64'.\n</code></pre>\n<p>I had previously ran <code>gradle clean</code>, but I don't know if it has anything to do with it.</p>\n<p>I tried changing things in my .xml files, but it keeps failing, I have no idea how to fix it.\nThis is my <code>AndroidManifest.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;application\n        android:label=&quot;app&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><code>MainActivity.java</code></p>\n<pre><code>package com.name.app;\n\nimport android.app.Activity;\nimport android.os.Bundle;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<p>Any help would be appreciated. Thanks</p>\n"},{"tags":["java","arrays","sorting","java-7","bigdecimal"],"comments":[{"owner":{"account_id":2089510,"reputation":390,"user_id":1859657,"accept_rate":43,"display_name":"Hemang"},"score":0,"creation_date":1451629019,"post_id":34553984,"comment_id":56850805,"body_markdown":"what is your error? your expected input/output?","body":"what is your error? your expected input/output?"},{"owner":{"account_id":6132527,"reputation":3968,"user_id":4932070,"accept_rate":100,"display_name":"A J"},"score":0,"creation_date":1451629100,"post_id":34553984,"comment_id":56850823,"body_markdown":"Please mention your problem or expected i/o","body":"Please mention your problem or expected i/o"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1451629218,"post_id":34553984,"comment_id":56850844,"body_markdown":"The method of working on this site is that *you* explain what the problem is, and then people can try to help you. If you don&#39;t know if there is a problem or what the problem is, you should first figure that out before posting a question on this site.","body":"The method of working on this site is that <i>you</i> explain what the problem is, and then people can try to help you. If you don&#39;t know if there is a problem or what the problem is, you should first figure that out before posting a question on this site."},{"owner":{"account_id":2000274,"reputation":814,"user_id":1791492,"accept_rate":100,"display_name":"Aaditya Gavandalkar"},"score":0,"creation_date":1451629603,"post_id":34553984,"comment_id":56850908,"body_markdown":"What is the problem here really? Are you facing any errors (if so, please paste stack trace too)","body":"What is the problem here really? Are you facing any errors (if so, please paste stack trace too)"},{"owner":{"account_id":6439502,"reputation":2409,"user_id":4989929,"display_name":"Ronak Poriya"},"score":0,"creation_date":1458975277,"post_id":34553984,"comment_id":60095908,"body_markdown":"This is think problem is for 0.12 &amp; .12.While initializing these numbers using BigDecimal,It consider both as 0.12.https://www.hackerrank.com/challenges/java-bigdecimal","body":"This is think problem is for 0.12 &amp; .12.While initializing these numbers using BigDecimal,It consider both as 0.12.<a href=\"https://www.hackerrank.com/challenges/java-bigdecimal\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/java-bigdecimal</a>"}],"answers":[{"tags":[],"owner":{"account_id":1206734,"reputation":3867,"user_id":1176178,"accept_rate":100,"display_name":"Zack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451630502,"creation_date":1451629498,"answer_id":34554050,"question_id":34553984,"body_markdown":"Looks like you&#39;re throwing an NPE because you&#39;re trying to access a null array.\r\n\r\n\r\n\t\tBigDecimal a[] = null;  // &lt;---- null array\r\n\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\ts[i] = sc.next();\r\n\t\t\ta[i] = new BigDecimal(s[i]); // &lt;---- accessing null array a\r\n\t\t}\r\n\r\nTry initializing your array with the n length used on input\r\n\r\n\t\tBigDecimal a[] = new BigDecimal[n];\r\n\r\n**Edit**\r\n\r\nin response to Mariano&#39;s answer, your \r\n\r\n\t\tif (a[i].compareTo(a[j]) == -1)\r\n\r\nis correct, as is. See [BigDecimal javadoc][1]\r\n\r\n\r\n&gt; Returns: \r\n&gt; -1, 0, or 1 as this BigDecimal is numerically less than, equal to, or greater than val.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal)","title":"Sorting BigDecimal","body":"<p>Looks like you're throwing an NPE because you're trying to access a null array.</p>\n\n<pre><code>    BigDecimal a[] = null;  // &lt;---- null array\n\n    for (int i = 0; i &lt; n; i++) {\n        s[i] = sc.next();\n        a[i] = new BigDecimal(s[i]); // &lt;---- accessing null array a\n    }\n</code></pre>\n\n<p>Try initializing your array with the n length used on input</p>\n\n<pre><code>    BigDecimal a[] = new BigDecimal[n];\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>in response to Mariano's answer, your </p>\n\n<pre><code>    if (a[i].compareTo(a[j]) == -1)\n</code></pre>\n\n<p>is correct, as is. See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal)\" rel=\"nofollow\">BigDecimal javadoc</a></p>\n\n<blockquote>\n  <p>Returns: \n  -1, 0, or 1 as this BigDecimal is numerically less than, equal to, or greater than val.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7345617,"reputation":664,"user_id":5593397,"display_name":"marian0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452039662,"creation_date":1451629817,"answer_id":34554072,"question_id":34553984,"body_markdown":"&lt;p&gt;You have a couple of errors in your code.&lt;/p&gt;\r\n\r\nFirst you are not initializing the &lt;b&gt;a&lt;/b&gt; array, `BigDecimal a[] = null` should be replaced by `BigDecimal a[] = new BigDecimal[n]` to avoid the NullPointerException.\r\n\r\nFinally you are implementing the sort algorithm wrong, you should replace the inner `for (int j = 1; j &lt; n; j++)` with `for (int j = i + 1; j &lt; n; j++)`\r\n\r\nHere is how your code should look like:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n        public static void main(final String[] argh) {\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n            int n = sc.nextInt();\r\n            String[] s = new String[n];\r\n            BigDecimal a[] = new BigDecimal[n];\r\n    \r\n            for (int i = 0; i &lt; n; i++) {\r\n                s[i] = sc.next();\r\n                a[i] = new BigDecimal(s[i]);\r\n            }\r\n    \r\n            for (int i = 0; i &lt; n - 1; i++) {\r\n                for (int j = i + 1; j &lt; n; j++) {\r\n                    if (a[i].compareTo(a[j]) == -1) {\r\n                        BigDecimal temp = a[j];\r\n                        a[j] = a[i];\r\n                        a[i] = temp;\r\n                    }\r\n                }\r\n            }\r\n            // Output\r\n            for (int i = 0; i &lt; n; i++) {\r\n                s[i] = a[i].toString();\r\n                System.out.println(s[i]);\r\n            }\r\n        }\r\n    }\r\n","title":"Sorting BigDecimal","body":"<p>You have a couple of errors in your code.</p>\n\n<p>First you are not initializing the <b>a</b> array, <code>BigDecimal a[] = null</code> should be replaced by <code>BigDecimal a[] = new BigDecimal[n]</code> to avoid the NullPointerException.</p>\n\n<p>Finally you are implementing the sort algorithm wrong, you should replace the inner <code>for (int j = 1; j &lt; n; j++)</code> with <code>for (int j = i + 1; j &lt; n; j++)</code></p>\n\n<p>Here is how your code should look like:</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.util.Scanner;\n\npublic class Solution {\n    public static void main(final String[] argh) {\n\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        String[] s = new String[n];\n        BigDecimal a[] = new BigDecimal[n];\n\n        for (int i = 0; i &lt; n; i++) {\n            s[i] = sc.next();\n            a[i] = new BigDecimal(s[i]);\n        }\n\n        for (int i = 0; i &lt; n - 1; i++) {\n            for (int j = i + 1; j &lt; n; j++) {\n                if (a[i].compareTo(a[j]) == -1) {\n                    BigDecimal temp = a[j];\n                    a[j] = a[i];\n                    a[i] = temp;\n                }\n            }\n        }\n        // Output\n        for (int i = 0; i &lt; n; i++) {\n            s[i] = a[i].toString();\n            System.out.println(s[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8360574,"reputation":81,"user_id":6279081,"display_name":"Shubham Pandey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1462141638,"creation_date":1462141638,"answer_id":36972702,"question_id":34553984,"body_markdown":"    import java.math.BigDecimal;\r\n    import java.util.*;\r\n    class Solution{\r\n    \r\n        public static void main(String []argh)\r\n        {\r\n            Scanner sc= new Scanner(System.in);\r\n            int n=sc.nextInt();\r\n            String []s=new String[n+2];\r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n                s[i]=sc.next();\r\n            }\r\n    \r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n                BigDecimal max=new BigDecimal(s[i]);\r\n                int idx=i;\r\n                for(int j=i+1;j&lt;n;j++)\r\n                {\r\n                    BigDecimal curr=new BigDecimal(s[j]);\r\n                    if(curr.compareTo(max)==1)\r\n                    {\r\n                        max=curr;\r\n                        idx=j;\r\n                    }\r\n                }\r\n                String temp=s[i];\r\n                s[i]=s[idx];\r\n                s[idx]=temp;\r\n            }\r\n    \r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n                System.out.println(s[i]);\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    }","title":"Sorting BigDecimal","body":"<pre><code>import java.math.BigDecimal;\nimport java.util.*;\nclass Solution{\n\n    public static void main(String []argh)\n    {\n        Scanner sc= new Scanner(System.in);\n        int n=sc.nextInt();\n        String []s=new String[n+2];\n        for(int i=0;i&lt;n;i++)\n        {\n            s[i]=sc.next();\n        }\n\n        for(int i=0;i&lt;n;i++)\n        {\n            BigDecimal max=new BigDecimal(s[i]);\n            int idx=i;\n            for(int j=i+1;j&lt;n;j++)\n            {\n                BigDecimal curr=new BigDecimal(s[j]);\n                if(curr.compareTo(max)==1)\n                {\n                    max=curr;\n                    idx=j;\n                }\n            }\n            String temp=s[i];\n            s[i]=s[idx];\n            s[idx]=temp;\n        }\n\n        for(int i=0;i&lt;n;i++)\n        {\n            System.out.println(s[i]);\n        }\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11855851,"reputation":613,"user_id":8675852,"display_name":"Sahil"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1547100343,"creation_date":1547100343,"answer_id":54122769,"question_id":34553984,"body_markdown":"You can use the comparator to sort the BigDecimal\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.*;\r\n\r\n    class Solution{\r\n\r\n    public static void main(String []args){\r\n        Scanner sc= new Scanner(System.in);\r\n        int n=sc.nextInt();\r\n        String []s=new String[n+2];\r\n        for(int i=0;i&lt;n;i++){\r\n            s[i]=sc.next();\r\n        }\r\n      \tsc.close();\r\n\r\n        Arrays.sort(s, 0, n, new Comparator&lt;Object&gt;() {\r\n            public int compare(Object a1, Object a2) {\r\n                BigDecimal bigDec1 = new BigDecimal((String) a1);\r\n                BigDecimal bigDec2 = new BigDecimal((String) a2);\r\n                return bigDec2.compareTo(bigDec1);\r\n            }\r\n        });\r\n\r\n\r\n        //Output\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            System.out.println(s[i]);\r\n        }\r\n    }","title":"Sorting BigDecimal","body":"<p>You can use the comparator to sort the BigDecimal</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.util.*;\n\nclass Solution{\n\npublic static void main(String []args){\n    Scanner sc= new Scanner(System.in);\n    int n=sc.nextInt();\n    String []s=new String[n+2];\n    for(int i=0;i&lt;n;i++){\n        s[i]=sc.next();\n    }\n    sc.close();\n\n    Arrays.sort(s, 0, n, new Comparator&lt;Object&gt;() {\n        public int compare(Object a1, Object a2) {\n            BigDecimal bigDec1 = new BigDecimal((String) a1);\n            BigDecimal bigDec2 = new BigDecimal((String) a2);\n            return bigDec2.compareTo(bigDec1);\n        }\n    });\n\n\n    //Output\n    for(int i=0;i&lt;n;i++)\n    {\n        System.out.println(s[i]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234978,"reputation":3313,"user_id":501481,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693521806,"creation_date":1693521806,"answer_id":77019636,"question_id":34553984,"body_markdown":"Using `Collections.sort()` provides a simpler version of Sahil&#39;s answer:\r\n\r\n    List&lt;BigDecimal&gt; values = Arrays.asList(new BigDecimal[] {\r\n      new BigDecimal(&quot;1.2&quot;),\r\n      new BigDecimal(&quot;1.1&quot;),\r\n      new BigDecimal(&quot;9.2&quot;),\r\n      new BigDecimal(&quot;4.2&quot;),\r\n    });\r\n\r\n    // Sort from low to high\r\n    Collections.sort(values);    \r\n    \r\n    for (var value : values) {\r\n      System.out.println(value);\r\n    }","title":"Sorting BigDecimal","body":"<p>Using <code>Collections.sort()</code> provides a simpler version of Sahil's answer:</p>\n<pre><code>List&lt;BigDecimal&gt; values = Arrays.asList(new BigDecimal[] {\n  new BigDecimal(&quot;1.2&quot;),\n  new BigDecimal(&quot;1.1&quot;),\n  new BigDecimal(&quot;9.2&quot;),\n  new BigDecimal(&quot;4.2&quot;),\n});\n\n// Sort from low to high\nCollections.sort(values);    \n\nfor (var value : values) {\n  System.out.println(value);\n}\n</code></pre>\n"}],"owner":{"account_id":7555642,"reputation":41,"user_id":5735371,"display_name":"Pratyaksh Prajapati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13298,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":5,"score":3,"last_activity_date":1693521806,"creation_date":1451628658,"question_id":34553984,"body_markdown":"What is the problem with this BigDecimalSorting? The code takes in numbers as string and then converts it to BigDecimal and then sort and print the sorted BigDecimals.\r\n \r\n\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.*;\r\n\r\n    class Solution {\r\n    public static void main(String []argh){\r\n\r\n        Scanner sc= new Scanner(System.in);\r\n        int n=sc.nextInt();\r\n        String []s=new String[n];\r\n        BigDecimal a[] = null;\r\n\r\n        for(int i = 0; i &lt; n ; i++){\r\n            s[i]=sc.next();\r\n            a[i] = new BigDecimal(s[i]);\r\n        }\r\n        for(int i = 0; i &lt; n-1; i++){\r\n            for(int j = 1; j &lt; n; j++){\r\n                if(a[i].compareTo(a[j]) == -1){\r\n                    BigDecimal temp = a[j];\r\n                    a[j] = a[i];\r\n                    a[i] = temp;\r\n                }\r\n            }\r\n        }\r\n        //Output\r\n        for(int i=0;i&lt;n;i++){\r\n            s[i] = a[i].toString();\r\n            System.out.println(s[i]);\r\n        }\r\n    }\r\n    }\r\n\r\nSample Input:\r\n9\r\n-100\r\n50\r\n0\r\n56.6\r\n90\r\n0.12\r\n.12\r\n02.34\r\n000.000\r\n\r\nExpected Output:\r\n90\r\n56.6\r\n50\r\n02.34\r\n0.12\r\n.12\r\n0\r\n000.000\r\n-100\r\n","title":"Sorting BigDecimal","body":"<p>What is the problem with this BigDecimalSorting? The code takes in numbers as string and then converts it to BigDecimal and then sort and print the sorted BigDecimals.</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.util.*;\n\nclass Solution {\npublic static void main(String []argh){\n\n    Scanner sc= new Scanner(System.in);\n    int n=sc.nextInt();\n    String []s=new String[n];\n    BigDecimal a[] = null;\n\n    for(int i = 0; i &lt; n ; i++){\n        s[i]=sc.next();\n        a[i] = new BigDecimal(s[i]);\n    }\n    for(int i = 0; i &lt; n-1; i++){\n        for(int j = 1; j &lt; n; j++){\n            if(a[i].compareTo(a[j]) == -1){\n                BigDecimal temp = a[j];\n                a[j] = a[i];\n                a[i] = temp;\n            }\n        }\n    }\n    //Output\n    for(int i=0;i&lt;n;i++){\n        s[i] = a[i].toString();\n        System.out.println(s[i]);\n    }\n}\n}\n</code></pre>\n\n<p>Sample Input:\n9\n-100\n50\n0\n56.6\n90\n0.12\n.12\n02.34\n000.000</p>\n\n<p>Expected Output:\n90\n56.6\n50\n02.34\n0.12\n.12\n0\n000.000\n-100</p>\n"},{"tags":["python","java","python-3.x","hash","guava"],"comments":[{"owner":{"account_id":7062708,"reputation":7697,"user_id":5407270,"display_name":"Andriy Makukha"},"score":0,"creation_date":1693520941,"post_id":75915829,"comment_id":135776077,"body_markdown":"If your strings are printable ASCII characters, you can use `pyfarmhash` just fine.","body":"If your strings are printable ASCII characters, you can use <code>pyfarmhash</code> just fine."}],"owner":{"account_id":1413624,"reputation":161,"user_id":1339741,"accept_rate":0,"display_name":"007coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693520769,"creation_date":1680492267,"question_id":75915829,"body_markdown":"I have java code here:\r\n```\r\n\r\nimport com.google.common.base.CharMatcher;\r\nimport com.google.common.hash.HashFunction;\r\nimport com.google.common.hash.Hashing;\r\nimport java.util.Base64;\r\n\r\npublic final class SomeHashing {\r\n    private static final HashFunction FARM_HASH_64 = Hashing.farmHashFingerprint64();\r\n\r\n    @Override\r\n    public String hashEntity(String uid) {\r\n      byte[] hash = FARM_HASH_64.hashBytes(userId.getBytes()).asBytes();\r\n      String b64Hash = Base64.getEncoder().encodeToString(hash);\r\n      return CharMatcher.is(&#39;=&#39;).trimFrom(b64Hash);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI m trying to convert it into python code. I see python has a farmhash package too: https://pypi.org/project/pyfarmhash/ but I dont see a `hashBytes` equivalent there, hence I cannot proceed.\r\n\r\nBefore that I even tried to get similar long-output from java&#39;s lib (`hashString().asLong()`)  and comparing to pythons long-output (`farmhash.fingerprint64()`) but they are not equal. \r\n\r\nCan someone comment on how to approach this problem and a simpler solution here? Or is there an equivalent python package for google&#39;s guava hash&#39;s module `com.google.common.hash` ?","title":"Equivalent python code for java code (using guava hash lib)","body":"<p>I have java code here:</p>\n<pre><code>\nimport com.google.common.base.CharMatcher;\nimport com.google.common.hash.HashFunction;\nimport com.google.common.hash.Hashing;\nimport java.util.Base64;\n\npublic final class SomeHashing {\n    private static final HashFunction FARM_HASH_64 = Hashing.farmHashFingerprint64();\n\n    @Override\n    public String hashEntity(String uid) {\n      byte[] hash = FARM_HASH_64.hashBytes(userId.getBytes()).asBytes();\n      String b64Hash = Base64.getEncoder().encodeToString(hash);\n      return CharMatcher.is('=').trimFrom(b64Hash);\n    }\n  }\n}\n</code></pre>\n<p>I m trying to convert it into python code. I see python has a farmhash package too: <a href=\"https://pypi.org/project/pyfarmhash/\" rel=\"nofollow noreferrer\">https://pypi.org/project/pyfarmhash/</a> but I dont see a <code>hashBytes</code> equivalent there, hence I cannot proceed.</p>\n<p>Before that I even tried to get similar long-output from java's lib (<code>hashString().asLong()</code>)  and comparing to pythons long-output (<code>farmhash.fingerprint64()</code>) but they are not equal.</p>\n<p>Can someone comment on how to approach this problem and a simpler solution here? Or is there an equivalent python package for google's guava hash's module <code>com.google.common.hash</code> ?</p>\n"},{"tags":["java","spring","spring-boot","ldap","classloader"],"owner":{"account_id":11876127,"reputation":1,"user_id":8691115,"display_name":"Csaba Csenteri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693520042,"creation_date":1693520042,"question_id":77019546,"body_markdown":"I have a Spring Boot (v2.4.5) web application that is using (in one of the Service classes) an LDAP search if user detail data.\r\nThis search worked while we were using JDK8 but once we transitioned to JDK11, this feature is broken.\r\nThe relevant parts of the stack trace:\r\n```\r\njavax.naming.NoInitialContextException: Cannot instantiate class: &quot;com.sun.jndi.ldap.LdapCtxFactory&quot; [Root exception is java.lang.ClassNotFoundException: &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;]\r\n        at java.naming/javax.naming.spi.NamingManager.getFactory(Unknown Source)\r\n        at java.naming/javax.naming.spi.NamingManager.lambda$getInitialContext$1(Unknown Source)\r\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(Unknown Source)\r\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(Unknown Source)\r\n        at java.naming/javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\r\n        at java.naming/javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\r\n        at java.naming/javax.naming.InitialContext.init(Unknown Source)\r\n        at java.naming/javax.naming.InitialContext.&lt;init&gt;(Unknown Source)\r\n        at java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(Unknown Source)\r\nCaused by: java.lang.ClassNotFoundException: &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader.loadClass(TomcatEmbeddedWebappClassLoader.java:72)\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1187)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Unknown Source)\r\n        at java.naming/com.sun.naming.internal.VersionHelper.loadClass(Unknown Source)\r\n        at java.naming/com.sun.naming.internal.VersionHelper.loadClass(Unknown Source)\r\n        at java.naming/com.sun.naming.internal.VersionHelper.loadClass(Unknown Source)\r\n```\r\nThe setup of the LDAP part is standard:\r\n```\r\nHashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\r\nenv.put(Context.INITIAL_CONTEXT_FACTORY, INITCTX);\r\nenv.put(Context.PROVIDER_URL, HOST);\r\nenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\nenv.put(Context.SECURITY_PRINCIPAL, LDAP_USERNAME + DOMAIN);\r\nenv.put(Context.SECURITY_CREDENTIALS, LDAP_PASSWORD);\r\n\r\nDirContext ctx = new InitialDirContext(env);\r\n```\r\nThe error happens in the line above.\r\n\r\n\r\nSearched extensively the SO archives and it seemed to me that the java.naming module is not exporting anymore the ldap package content so followed the advice (from the java migration guide and from SO articles) and added --add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED command line arguments. This did not help.\r\nThe Classloader that&#39;s active in the thread is\r\n`Thread.currentThread().getContextClassLoader()\r\nTomcatEmbeddedWebappClassLoader@148 &quot;TomcatEmbeddedWebappClassLoader&quot;`\r\nWhat else should I try?","title":"Cannot instantiate class: &quot;com.sun.jndi.ldap.LdapCtxFactory&quot; since moved from jdk8 to jdk11","body":"<p>I have a Spring Boot (v2.4.5) web application that is using (in one of the Service classes) an LDAP search if user detail data.\nThis search worked while we were using JDK8 but once we transitioned to JDK11, this feature is broken.\nThe relevant parts of the stack trace:</p>\n<pre><code>javax.naming.NoInitialContextException: Cannot instantiate class: &quot;com.sun.jndi.ldap.LdapCtxFactory&quot; [Root exception is java.lang.ClassNotFoundException: &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;]\n        at java.naming/javax.naming.spi.NamingManager.getFactory(Unknown Source)\n        at java.naming/javax.naming.spi.NamingManager.lambda$getInitialContext$1(Unknown Source)\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(Unknown Source)\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(Unknown Source)\n        at java.naming/javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\n        at java.naming/javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\n        at java.naming/javax.naming.InitialContext.init(Unknown Source)\n        at java.naming/javax.naming.InitialContext.&lt;init&gt;(Unknown Source)\n        at java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;\n        at org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader.loadClass(TomcatEmbeddedWebappClassLoader.java:72)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1187)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Unknown Source)\n        at java.naming/com.sun.naming.internal.VersionHelper.loadClass(Unknown Source)\n        at java.naming/com.sun.naming.internal.VersionHelper.loadClass(Unknown Source)\n        at java.naming/com.sun.naming.internal.VersionHelper.loadClass(Unknown Source)\n</code></pre>\n<p>The setup of the LDAP part is standard:</p>\n<pre><code>Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\nenv.put(Context.INITIAL_CONTEXT_FACTORY, INITCTX);\nenv.put(Context.PROVIDER_URL, HOST);\nenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\nenv.put(Context.SECURITY_PRINCIPAL, LDAP_USERNAME + DOMAIN);\nenv.put(Context.SECURITY_CREDENTIALS, LDAP_PASSWORD);\n\nDirContext ctx = new InitialDirContext(env);\n</code></pre>\n<p>The error happens in the line above.</p>\n<p>Searched extensively the SO archives and it seemed to me that the java.naming module is not exporting anymore the ldap package content so followed the advice (from the java migration guide and from SO articles) and added --add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED command line arguments. This did not help.\nThe Classloader that's active in the thread is\n<code>Thread.currentThread().getContextClassLoader() TomcatEmbeddedWebappClassLoader@148 &quot;TomcatEmbeddedWebappClassLoader&quot;</code>\nWhat else should I try?</p>\n"},{"tags":["java","log4j2","webmethods"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1692938049,"post_id":76971264,"comment_id":135695190,"body_markdown":"Give your configuration each message should end up in all four appenders. Is this the case?","body":"Give your configuration each message should end up in all four appenders. Is this the case?"},{"owner":{"account_id":29292230,"reputation":21,"user_id":22442419,"display_name":"Ragav J"},"score":0,"creation_date":1692952251,"post_id":76971264,"comment_id":135697461,"body_markdown":"No.  ITLFileHandler, PublishCarrierEvent, ABC, XYZ are all separate code modules. The logging java code will be common which in run time when called will get 3 inputs. Logger Name, Level, Message.  So if the input logger name is ITLFileHandler, WARN, message - I want that content to be logged in ITLFileHandler.log file. Similarly for other appenders as well.  Basically the appender/file should be selected in run time based on Logger name i pass to java code. But right now no matter what i give as input to logger name, everything is getting added into the same log (the last appender (EFG.log)","body":"No.  ITLFileHandler, PublishCarrierEvent, ABC, XYZ are all separate code modules. The logging java code will be common which in run time when called will get 3 inputs. Logger Name, Level, Message.  So if the input logger name is ITLFileHandler, WARN, message - I want that content to be logged in ITLFileHandler.log file. Similarly for other appenders as well.  Basically the appender/file should be selected in run time based on Logger name i pass to java code. But right now no matter what i give as input to logger name, everything is getting added into the same log (the last appender (EFG.log)"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1692988569,"post_id":76971264,"comment_id":135705275,"body_markdown":"_&quot;everything is getting added into the same log (the last appender (EFG.log)&quot;_ I have no doubt about that: you set `additivity=&quot;true&quot;`, so everything reaches the root logger. My question is: does **every** message also end up in **all** other log files? If not try running with `-Dlog4j.debug=true` to see what&#39;s going on.","body":"<i>&quot;everything is getting added into the same log (the last appender (EFG.log)&quot;</i> I have no doubt about that: you set <code>additivity=&quot;true&quot;</code>, so everything reaches the root logger. My question is: does <b>every</b> message also end up in <b>all</b> other log files? If not try running with <code>-Dlog4j.debug=true</code> to see what&#39;s going on."},{"owner":{"account_id":29292230,"reputation":21,"user_id":22442419,"display_name":"Ragav J"},"score":1,"creation_date":1693311285,"post_id":76971264,"comment_id":135741229,"body_markdown":"Thanks for getting back. No . All the logs go into only 1 file whatever file that is present in the last appender config XML. I will try the debug logs and check.","body":"Thanks for getting back. No . All the logs go into only 1 file whatever file that is present in the last appender config XML. I will try the debug logs and check."},{"owner":{"account_id":29292230,"reputation":21,"user_id":22442419,"display_name":"Ragav J"},"score":0,"creation_date":1693429001,"post_id":76971264,"comment_id":135761638,"body_markdown":"Please refer to the comments in below discussion on the DEBUG logs at JVM level. THe approach suggested below is not even creating a file :( It only works and creates the file, if I use the set up which I have put above in the issue.","body":"Please refer to the comments in below discussion on the DEBUG logs at JVM level. THe approach suggested below is not even creating a file :( It only works and creates the file, if I use the set up which I have put above in the issue."}],"answers":[{"tags":[],"owner":{"account_id":23064315,"reputation":21,"user_id":17178965,"display_name":"FKhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693402604,"creation_date":1693240256,"answer_id":76994546,"question_id":76971264,"body_markdown":"You can try 1 appender with multiple file routes. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;DEBUG&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Routing name=&quot;GenericLogger&quot;&gt;\r\n                &lt;Routes pattern = &quot;$${ctx::fileName}&quot;&gt;\r\n                    &lt;Route key=&quot;$${ctx::fileName}&quot;&gt;\r\n                        &lt;RollingFile name=&quot;$${ctx::fileName}&quot; fileName=&quot;/esblogdata/logs/$${ctx::fileName}.log&quot; filePattern=&quot;/esblogdata/logs/$${ctx::fileName}%d{yyyy-MM-dd}.log&quot;&gt;\r\n                            &lt;PatternLayout&gt;\r\n                                &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n                            &lt;/PatternLayout&gt;\r\n                            &lt;Policies&gt;\r\n                                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n                            &lt;/Policies&gt;\r\n                        &lt;/RollingFile&gt;\r\n                    &lt;/Route&gt;\r\n                &lt;/Routes&gt;\r\n            &lt;/Routing&gt;\r\n            &lt;Routing name=&quot;GenericInfoLogger&quot;&gt;\r\n                &lt;Routes pattern = &quot;$${ctx&quot;&quot;fileName}&quot;&gt;\r\n                    &lt;Route key=&quot;$${ctx::fileName}&quot;&gt;\r\n                        &lt;RollingFile name=&quot;$${ctx::fileName}&quot; fileName=&quot;/esblogdata/logs/$${ctx::fileName}.log&quot; filePattern=&quot;/esblogdata/logs/$${ctx::fileName}%d{yyyy-MM-dd}.log&quot;&gt;\r\n                            &lt;PatternLayout&gt;\r\n                                &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n                            &lt;/PatternLayout&gt;\r\n                            &lt;Policies&gt;\r\n                                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n                            &lt;/Policies&gt;\r\n                        &lt;/RollingFile&gt;\r\n                    &lt;/Route&gt;\r\n                &lt;/Routes&gt;\r\n            &lt;/Routing&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Logger name=&quot;GenericLogger&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;GenericLogger&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;GenericInfoLogger&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;GenericInfoLogger&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nGet the logger object using `Logger infoLogger = LogManager.getLogger(&quot;GenericInfoLogger&quot;);`. \r\n\r\nUse `ThreadContext.put(&quot;fileName&quot;, userGetFileName)` to route logMessages to appropriate files.\r\n\r\nFinally `infoLogger.debug(userMessage)` to log user messages. \r\n\r\n\r\n\r\n","title":"Log4j2 - to write separate log files for every appender/logger - webMethods","body":"<p>You can try 1 appender with multiple file routes.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Routing name=&quot;GenericLogger&quot;&gt;\n            &lt;Routes pattern = &quot;$${ctx::fileName}&quot;&gt;\n                &lt;Route key=&quot;$${ctx::fileName}&quot;&gt;\n                    &lt;RollingFile name=&quot;$${ctx::fileName}&quot; fileName=&quot;/esblogdata/logs/$${ctx::fileName}.log&quot; filePattern=&quot;/esblogdata/logs/$${ctx::fileName}%d{yyyy-MM-dd}.log&quot;&gt;\n                        &lt;PatternLayout&gt;\n                            &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n                        &lt;/PatternLayout&gt;\n                        &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n                        &lt;/Policies&gt;\n                    &lt;/RollingFile&gt;\n                &lt;/Route&gt;\n            &lt;/Routes&gt;\n        &lt;/Routing&gt;\n        &lt;Routing name=&quot;GenericInfoLogger&quot;&gt;\n            &lt;Routes pattern = &quot;$${ctx&quot;&quot;fileName}&quot;&gt;\n                &lt;Route key=&quot;$${ctx::fileName}&quot;&gt;\n                    &lt;RollingFile name=&quot;$${ctx::fileName}&quot; fileName=&quot;/esblogdata/logs/$${ctx::fileName}.log&quot; filePattern=&quot;/esblogdata/logs/$${ctx::fileName}%d{yyyy-MM-dd}.log&quot;&gt;\n                        &lt;PatternLayout&gt;\n                            &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n                        &lt;/PatternLayout&gt;\n                        &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n                        &lt;/Policies&gt;\n                    &lt;/RollingFile&gt;\n                &lt;/Route&gt;\n            &lt;/Routes&gt;\n        &lt;/Routing&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;GenericLogger&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;GenericLogger&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;GenericInfoLogger&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;GenericInfoLogger&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Get the logger object using <code>Logger infoLogger = LogManager.getLogger(&quot;GenericInfoLogger&quot;);</code>.</p>\n<p>Use <code>ThreadContext.put(&quot;fileName&quot;, userGetFileName)</code> to route logMessages to appropriate files.</p>\n<p>Finally <code>infoLogger.debug(userMessage)</code> to log user messages.</p>\n"},{"tags":[],"owner":{"account_id":29292230,"reputation":21,"user_id":22442419,"display_name":"Ragav J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693519530,"creation_date":1693519530,"answer_id":77019508,"question_id":76971264,"body_markdown":"I have managed to fix this. There were couple of issues.\r\n\r\n - The code/set up for me worked only if used a LoggerContext. I had implemented that incorrectly when the log4j2 XML was being loaded, which caused all the trouble.\r\n- The suggestion provided above by FKhan also helped a lot with a slight change. The Routes pattern should be having a singe colon and not two. Corrected this from $${ctx::fileName} to $${ctx:fileName}\r\n\r\nThe below Log4j2XML and Java service works perfectly where users can dynamically pass the log file name at run time\r\n\r\nLog4j2 XML\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Routing name=&quot;Routing&quot;&gt;\r\n\t\t\t&lt;Routes pattern=&quot;$${ctx:fileName}&quot;&gt;\r\n\t\t\t\t&lt;Route&gt;\r\n\t\t\t\t\t&lt;RollingFile name=&quot;RoutingLog&quot; fileName=&quot;/esblogdata/logs/${ctx:fileName}.log&quot; filePattern=&quot;/esblogdata/logs/${ctx:fileName}%d{yyyy-MM-dd}.log&quot;&gt;\r\n\t\t\t\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t\t\t\t&lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n\t\t\t\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t\t\t\t&lt;Policies&gt;\r\n\t\t\t\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/Policies&gt;\r\n\t\t\t\t\t&lt;/RollingFile&gt;\r\n\t\t\t\t&lt;/Route&gt;\r\n\t\t\t&lt;/Routes&gt;\r\n\t\t&lt;/Routing&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t    &lt;Logger name=&quot;RoutingLogger&quot; level=&quot;debug&quot; additivity=&quot;true&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;Routing&quot; level =&quot;DEBUG&quot;/&gt;\r\n\t    &lt;/Logger&gt;\r\n\t    &lt;Root level=&quot;debug&quot;&gt;\r\n            \t&lt;appender-ref ref=&quot;Routing&quot; /&gt;\r\n            &lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\n```\r\n\r\n\r\nJava Code for creating log files\r\n\r\n                            //Logging process LOG4J_CFG - String location of XML file\r\n\t\t\t\t\t\t\tConfigurationFactory factory =  XmlConfigurationFactory.getInstance();\r\n\t\t\t\t\t\t\tConfigurationSource configurationSource = new ConfigurationSource(new FileInputStream(new File(LOG4J_CFG)));\r\n\t\t\t\t\t\t\tConfiguration configuration = factory.getConfiguration(null, configurationSource);\r\n\t\t\t\t\t\t\t//debugLog (&quot;Config setu up complete&quot;);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Get context instance\r\n\t\t\t\t\t\t\tfinal LoggerContext context = new LoggerContext(&quot;test&quot;);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Start logging system\r\n\t\t\t\t\t\t\tcontext.start(configuration);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Get a reference for logger\r\n\t\t\t\t\t\t\tLogger logger = context.getLogger(&quot;Routing&quot;);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t    //Log data - finalLogFilename and finalMessage string to passed by users\t\t\t\t\t\r\n\t\t\t\t\t\t\tThreadContext.put(&quot;fileName&quot;, finalLogFileName);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlogger.debug(finalMessage);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tThreadContext.remove(&quot;fileName&quot;);\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//Close Context\r\n\t\t\t\t\t\t\tcontext.close();\r\n\r\n\r\nThanks again for Piotr P. Karwasz and FKhan for the suggestions and pointers.\r\n","title":"Log4j2 - to write separate log files for every appender/logger - webMethods","body":"<p>I have managed to fix this. There were couple of issues.</p>\n<ul>\n<li>The code/set up for me worked only if used a LoggerContext. I had implemented that incorrectly when the log4j2 XML was being loaded, which caused all the trouble.</li>\n<li>The suggestion provided above by FKhan also helped a lot with a slight change. The Routes pattern should be having a singe colon and not two. Corrected this from $${ctx::fileName} to $${ctx:fileName}</li>\n</ul>\n<p>The below Log4j2XML and Java service works perfectly where users can dynamically pass the log file name at run time</p>\n<p>Log4j2 XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Routing name=&quot;Routing&quot;&gt;\n            &lt;Routes pattern=&quot;$${ctx:fileName}&quot;&gt;\n                &lt;Route&gt;\n                    &lt;RollingFile name=&quot;RoutingLog&quot; fileName=&quot;/esblogdata/logs/${ctx:fileName}.log&quot; filePattern=&quot;/esblogdata/logs/${ctx:fileName}%d{yyyy-MM-dd}.log&quot;&gt;\n                        &lt;PatternLayout&gt;\n                            &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n                        &lt;/PatternLayout&gt;\n                        &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n                        &lt;/Policies&gt;\n                    &lt;/RollingFile&gt;\n                &lt;/Route&gt;\n            &lt;/Routes&gt;\n        &lt;/Routing&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;RoutingLogger&quot; level=&quot;debug&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;Routing&quot; level =&quot;DEBUG&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;debug&quot;&gt;\n                &lt;appender-ref ref=&quot;Routing&quot; /&gt;\n            &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n\n</code></pre>\n<p>Java Code for creating log files</p>\n<pre><code>                        //Logging process LOG4J_CFG - String location of XML file\n                        ConfigurationFactory factory =  XmlConfigurationFactory.getInstance();\n                        ConfigurationSource configurationSource = new ConfigurationSource(new FileInputStream(new File(LOG4J_CFG)));\n                        Configuration configuration = factory.getConfiguration(null, configurationSource);\n                        //debugLog (&quot;Config setu up complete&quot;);\n                        \n                        // Get context instance\n                        final LoggerContext context = new LoggerContext(&quot;test&quot;);\n                        \n                        \n                        // Start logging system\n                        context.start(configuration);\n                                \n                        // Get a reference for logger\n                        Logger logger = context.getLogger(&quot;Routing&quot;);\n                        \n                    \n                        //Log data - finalLogFilename and finalMessage string to passed by users                    \n                        ThreadContext.put(&quot;fileName&quot;, finalLogFileName);                            \n                        logger.debug(finalMessage);                         \n                        ThreadContext.remove(&quot;fileName&quot;);           \n                \n                        \n                        //Close Context\n                        context.close();\n</code></pre>\n<p>Thanks again for Piotr P. Karwasz and FKhan for the suggestions and pointers.</p>\n"}],"owner":{"account_id":29292230,"reputation":21,"user_id":22442419,"display_name":"Ragav J"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77019508,"answer_count":2,"score":1,"last_activity_date":1693519530,"creation_date":1692894477,"question_id":76971264,"body_markdown":"I am trying to create log4j2 log files for code in webMethods. The logger Name , the message and LEVEL will be passed by the user in run time, and based on that separate log files needs to be created per appender.\r\n\r\nI have managed to make it work with the below set up\r\n\r\nLog4j2 XML\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;RollingFile name=&quot;ROLL_ITLFileHandler&quot; fileName=&quot;/esblogdata/logs/ITLFileHandler.log&quot; filePattern=&quot;/esblogdata/logs/ITLFileHandler%d{yyyy-MM-dd}.log&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;RollingFile name=&quot;ROLL_PublishCarrierEvent&quot; fileName=&quot;/esblogdata/logs/PublishCarrierEvent.log&quot; filePattern=&quot;/esblogdata/logs/PublishCarrierEvent%d{yyyy-MM-dd}.log&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;RollingFile name=&quot;ROLL_ABC&quot; fileName=&quot;/esblogdata/logs/ABC.log&quot; filePattern=&quot;/esblogdata/logs/ABC%d{yyyy-MM-dd}.log&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;RollingFile name=&quot;ROLL_EFG&quot; fileName=&quot;/esblogdata/logs/EFG.log&quot; filePattern=&quot;/esblogdata/logs/EFG%d{yyyy-MM-dd}.log&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%m%n&lt;/Pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Logger name=&quot;ITLFileHandler&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ROLL_ITLFileHandler&quot;/&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Logger name=&quot;PublishCarrierEvent&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ROLL_PublishCarrierEvent&quot;/&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Logger name=&quot;ABC&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ROLL_ABC&quot;/&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Logger name=&quot;EFG&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ROLL_EFG&quot;/&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Root level=&quot;DEBUG&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ROLL_ITLFileHandler&quot;/&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ROLL_PublishCarrierEvent&quot;/&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ROLL_ABC&quot;/&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ROLL_EFG&quot;/&gt;\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nJava Code to write Logs\r\n\r\n```\r\n\t\t\t//Set Level - severity received from user in in run time as INFO, DEBUG etc.,\r\n\t\t\tLevel level = Level.getLevel(severity);\t\t\t\r\n\t\t\tConfigurationFactory factory =  XmlConfigurationFactory.getInstance();\r\n\r\n\t\t\t//LOG4J_CFG points to the location where log4j2 XML is kept\r\n\t\t\tConfigurationSource configurationSource = new ConfigurationSource(new FileInputStream(new File(LOG4J_CFG)));\r\n\t\t\tConfiguration configuration = factory.getConfiguration(null, configurationSource);\t\r\n\t\t\t\r\n\t\t\t// Get context instance\r\n\t\t\tLoggerContext context = new LoggerContext(&quot;test&quot;);\t\t\t\r\n\t\t\t\r\n\t\t\t//Start logging system\r\n\t\t\tcontext.start(configuration);\r\n\t\t\t\t\t\r\n\t\t\t// Get a reference for logger (logger name will be passed in runtime by user which will be similar to the Logger name Ex: ITLFilehandler, ABC, XYZ in above XML\r\n\t\t\tLogger logger = context.getLogger(loggerName);\r\n\t\t    logger.log(level, finalMessage);\t\t\t\r\n\t\t\tcontext.close();\r\n\r\n```\r\n\r\nBut the problem is with the above set up, the logs are written only to the same file which is present in the last appender EFG.log\r\n\r\nNo matter what logger name i pass in the runtime (ABC, XYZ etc.,) everything goes to the same file EFG.log \r\n\r\nCan someone guide here on what is wrong please ?\r\n\r\nThanks\r\nRagav J\r\n\r\n","title":"Log4j2 - to write separate log files for every appender/logger - webMethods","body":"<p>I am trying to create log4j2 log files for code in webMethods. The logger Name , the message and LEVEL will be passed by the user in run time, and based on that separate log files needs to be created per appender.</p>\n<p>I have managed to make it work with the below set up</p>\n<p>Log4j2 XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;ROLL_ITLFileHandler&quot; fileName=&quot;/esblogdata/logs/ITLFileHandler.log&quot; filePattern=&quot;/esblogdata/logs/ITLFileHandler%d{yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;ROLL_PublishCarrierEvent&quot; fileName=&quot;/esblogdata/logs/PublishCarrierEvent.log&quot; filePattern=&quot;/esblogdata/logs/PublishCarrierEvent%d{yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;ROLL_ABC&quot; fileName=&quot;/esblogdata/logs/ABC.log&quot; filePattern=&quot;/esblogdata/logs/ABC%d{yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;ROLL_EFG&quot; fileName=&quot;/esblogdata/logs/EFG.log&quot; filePattern=&quot;/esblogdata/logs/EFG%d{yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;ITLFileHandler&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;ROLL_ITLFileHandler&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;PublishCarrierEvent&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;ROLL_PublishCarrierEvent&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;ABC&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;ROLL_ABC&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;EFG&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;ROLL_EFG&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;DEBUG&quot;&gt;\n            &lt;AppenderRef ref=&quot;ROLL_ITLFileHandler&quot;/&gt;\n            &lt;AppenderRef ref=&quot;ROLL_PublishCarrierEvent&quot;/&gt;\n            &lt;AppenderRef ref=&quot;ROLL_ABC&quot;/&gt;\n            &lt;AppenderRef ref=&quot;ROLL_EFG&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Java Code to write Logs</p>\n<pre><code>            //Set Level - severity received from user in in run time as INFO, DEBUG etc.,\n            Level level = Level.getLevel(severity);         \n            ConfigurationFactory factory =  XmlConfigurationFactory.getInstance();\n\n            //LOG4J_CFG points to the location where log4j2 XML is kept\n            ConfigurationSource configurationSource = new ConfigurationSource(new FileInputStream(new File(LOG4J_CFG)));\n            Configuration configuration = factory.getConfiguration(null, configurationSource);  \n            \n            // Get context instance\n            LoggerContext context = new LoggerContext(&quot;test&quot;);          \n            \n            //Start logging system\n            context.start(configuration);\n                    \n            // Get a reference for logger (logger name will be passed in runtime by user which will be similar to the Logger name Ex: ITLFilehandler, ABC, XYZ in above XML\n            Logger logger = context.getLogger(loggerName);\n            logger.log(level, finalMessage);            \n            context.close();\n\n</code></pre>\n<p>But the problem is with the above set up, the logs are written only to the same file which is present in the last appender EFG.log</p>\n<p>No matter what logger name i pass in the runtime (ABC, XYZ etc.,) everything goes to the same file EFG.log</p>\n<p>Can someone guide here on what is wrong please ?</p>\n<p>Thanks\nRagav J</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693519467,"creation_date":1693519467,"question_id":77019505,"body_markdown":"I have a Java object that has a numeric data field, in some cases it can be a double, int or long and I am using java.lang.Number as the field type which works fine for serialization via JSON. \r\n\r\nWhen inserting into Mongo I am creating a document, and for the field I look to see what its sub class is, if its a double i then use setDouble() etc. This works fine. \r\n\r\nThe challenge I have is how do I convert the Document back to the POJO object when reading data from the Database. It seems like I have to call getDouble() or getInt() and what I need to know is how do I figure out at query time what the data type is of the field so I can set it correctly. I don&#39;t see a way to getNumber() or anything so I&#39;m stuck on figuring it out. Maybe getObject() and then check its class type, I don&#39;t know if that is possible or performant. This is for several million documents of data and trying to find the right solution. I could add a field that is an int that tells the data type but trying to avoid that. ","title":"Storing/Query Java Numbers In MongoDB with Java Driver","body":"<p>I have a Java object that has a numeric data field, in some cases it can be a double, int or long and I am using java.lang.Number as the field type which works fine for serialization via JSON.</p>\n<p>When inserting into Mongo I am creating a document, and for the field I look to see what its sub class is, if its a double i then use setDouble() etc. This works fine.</p>\n<p>The challenge I have is how do I convert the Document back to the POJO object when reading data from the Database. It seems like I have to call getDouble() or getInt() and what I need to know is how do I figure out at query time what the data type is of the field so I can set it correctly. I don't see a way to getNumber() or anything so I'm stuck on figuring it out. Maybe getObject() and then check its class type, I don't know if that is possible or performant. This is for several million documents of data and trying to find the right solution. I could add a field that is an int that tells the data type but trying to avoid that.</p>\n"},{"tags":["java","oauth","jwt","cryptography","java-security"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1693520561,"post_id":77019496,"comment_id":135776028,"body_markdown":"You are using the public exponent instead of the private exponent when instantiating the private key, which is wrong. See the documentation on [`RSAPrivateKeySpec`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/spec/RSAPrivateKeySpec.html) and the basics on public and private RSA keys, e.g. [here](https://crypto.stackexchange.com/q/66770).","body":"You are using the public exponent instead of the private exponent when instantiating the private key, which is wrong. See the documentation on <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/spec/RSAPrivateKeySpec.html\" rel=\"nofollow noreferrer\"><code>RSAPrivateKeySpec</code></a> and the basics on public and private RSA keys, e.g. <a href=\"https://crypto.stackexchange.com/q/66770\">here</a>."},{"owner":{"account_id":5164013,"reputation":29,"user_id":4134699,"display_name":"Kuldeep Singh"},"score":0,"creation_date":1693561775,"post_id":77019496,"comment_id":135780611,"body_markdown":"Thankyou @Topaco It worked, used KeyPairGenerator instead of generating keys manually through mod and exp.","body":"Thankyou @Topaco It worked, used KeyPairGenerator instead of generating keys manually through mod and exp."}],"owner":{"account_id":5164013,"reputation":29,"user_id":4134699,"display_name":"Kuldeep Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693519281,"creation_date":1693519281,"question_id":77019496,"body_markdown":"I have first signed a string message using private key then I&#39;m verifying signed message using public key. verify returns false, it should verify true. I have attached code used below. I&#39;m new to cryptography not sure if I&#39;m following the logic here. Thanks for your time and help.\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.*;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.RSAPrivateKeySpec;\r\nimport java.security.spec.RSAPublicKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class JWT2 {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String plainTextMessage = &quot;A Secret!&quot;;\r\n        String n = &quot;nsvTaplDkhFc-M1T-9EUtPPmzHsEvxFtiyZO9XXpx6HbU3NSIquvKAetH6LFteKGGqnF_XV2Qs9lQ2ZSI57YUyvFSWAiNoxT9a36smm71lxm8slvu6K6WGnQlKzCWZ0AxWqAB2lHUsff_OgXCOam9rGMizCQAuTyowvY6XtMswLB-FoVyRaM2zoRPo9_dEeu1y1Cyn8Bu2Ff02mGX_rP0J_UZM1OH1GpjfP4IU51ToqxZx-ZeTZsIoSgd7xfSt5vMS-Q-kvVWXcljoPyNEZ3vegwPHwXUMI4xKPpaXqZzuChfDFHIHwsSafwbCfcx0CHBURuYbjNYjeCBgtbPtaLCw&quot;;\r\n        e = &quot;AQAB&quot;;\r\n\r\n        byte[] signedMessageBytes = signMessage(plainTextMessage, generatePrivateKey(n, e));\r\n\r\n        boolean isMsgValid = verifySignedMessage(plainTextMessage.getBytes(StandardCharsets.UTF_8), signedMessageBytes, generatePublicKey(n, e));\r\n        System.out.println(&quot;isMsgValid = &quot; + isMsgValid);\r\n    }\r\n\r\n    static boolean verifySignedMessage(byte[] plainTextMessagebytes, byte[] signedMessageBytes, PublicKey publicKey) throws Exception {\r\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n        signature.initVerify(publicKey);\r\n        signature.update(plainTextMessagebytes);\r\n        return signature.verify(signedMessageBytes);\r\n    }\r\n\r\n    static byte[] signMessage(String plainTextMessage, PrivateKey privateKey) throws Exception {\r\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n        signature.initSign(privateKey);\r\n        signature.update(plainTextMessage.getBytes(StandardCharsets.UTF_8));\r\n        return signature.sign();\r\n    }\r\n\r\n    static PublicKey generatePublicKey(String modulus, String publicExponent) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        BigInteger n = new BigInteger(1, Base64.getUrlDecoder().decode(modulus));\r\n        BigInteger e = new BigInteger(1, Base64.getUrlDecoder().decode(publicExponent));\r\n\r\n        PublicKey pk = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new RSAPublicKeySpec(n, e));\r\n        return pk;\r\n    }\r\n\r\n    static PrivateKey generatePrivateKey(String modulus, String publicExponent) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        BigInteger n = new BigInteger(1, Base64.getUrlDecoder().decode(modulus));\r\n        BigInteger e = new BigInteger(1, Base64.getUrlDecoder().decode(publicExponent));\r\n\r\n        PrivateKey pk = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new RSAPrivateKeySpec(n, e));\r\n        return pk;\r\n    }\r\n}\r\n\r\n```","title":"Java Signature verify using PublicKey not working","body":"<p>I have first signed a string message using private key then I'm verifying signed message using public key. verify returns false, it should verify true. I have attached code used below. I'm new to cryptography not sure if I'm following the logic here. Thanks for your time and help.</p>\n<pre><code>import java.math.BigInteger;\nimport java.nio.charset.StandardCharsets;\nimport java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.RSAPrivateKeySpec;\nimport java.security.spec.RSAPublicKeySpec;\nimport java.util.Base64;\n\npublic class JWT2 {\n\n    public static void main(String[] args) throws Exception {\n        String plainTextMessage = &quot;A Secret!&quot;;\n        String n = &quot;nsvTaplDkhFc-M1T-9EUtPPmzHsEvxFtiyZO9XXpx6HbU3NSIquvKAetH6LFteKGGqnF_XV2Qs9lQ2ZSI57YUyvFSWAiNoxT9a36smm71lxm8slvu6K6WGnQlKzCWZ0AxWqAB2lHUsff_OgXCOam9rGMizCQAuTyowvY6XtMswLB-FoVyRaM2zoRPo9_dEeu1y1Cyn8Bu2Ff02mGX_rP0J_UZM1OH1GpjfP4IU51ToqxZx-ZeTZsIoSgd7xfSt5vMS-Q-kvVWXcljoPyNEZ3vegwPHwXUMI4xKPpaXqZzuChfDFHIHwsSafwbCfcx0CHBURuYbjNYjeCBgtbPtaLCw&quot;;\n        e = &quot;AQAB&quot;;\n\n        byte[] signedMessageBytes = signMessage(plainTextMessage, generatePrivateKey(n, e));\n\n        boolean isMsgValid = verifySignedMessage(plainTextMessage.getBytes(StandardCharsets.UTF_8), signedMessageBytes, generatePublicKey(n, e));\n        System.out.println(&quot;isMsgValid = &quot; + isMsgValid);\n    }\n\n    static boolean verifySignedMessage(byte[] plainTextMessagebytes, byte[] signedMessageBytes, PublicKey publicKey) throws Exception {\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n        signature.initVerify(publicKey);\n        signature.update(plainTextMessagebytes);\n        return signature.verify(signedMessageBytes);\n    }\n\n    static byte[] signMessage(String plainTextMessage, PrivateKey privateKey) throws Exception {\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n        signature.initSign(privateKey);\n        signature.update(plainTextMessage.getBytes(StandardCharsets.UTF_8));\n        return signature.sign();\n    }\n\n    static PublicKey generatePublicKey(String modulus, String publicExponent) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        BigInteger n = new BigInteger(1, Base64.getUrlDecoder().decode(modulus));\n        BigInteger e = new BigInteger(1, Base64.getUrlDecoder().decode(publicExponent));\n\n        PublicKey pk = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new RSAPublicKeySpec(n, e));\n        return pk;\n    }\n\n    static PrivateKey generatePrivateKey(String modulus, String publicExponent) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        BigInteger n = new BigInteger(1, Base64.getUrlDecoder().decode(modulus));\n        BigInteger e = new BigInteger(1, Base64.getUrlDecoder().decode(publicExponent));\n\n        PrivateKey pk = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new RSAPrivateKeySpec(n, e));\n        return pk;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","logging","logback","slf4j"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1507547709,"post_id":46644023,"comment_id":80239154,"body_markdown":"You could just display the full MDC (this of course requires that you store only important information there), then it would log only the contents that exist. In your example you&#39;ve hardcoded the `user_uuid=` part, so that&#39;s not going to go anywhere.","body":"You could just display the full MDC (this of course requires that you store only important information there), then it would log only the contents that exist. In your example you&#39;ve hardcoded the <code>user_uuid=</code> part, so that&#39;s not going to go anywhere."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1507547752,"post_id":46644023,"comment_id":80239176,"body_markdown":"See https://stackoverflow.com/questions/24616745/how-to-conditionally-add-text-from-mdc-on-a-log4j-pattern for a duplicate.","body":"See <a href=\"https://stackoverflow.com/questions/24616745/how-to-conditionally-add-text-from-mdc-on-a-log4j-pattern\" title=\"how to conditionally add text from mdc on a log4j pattern\">stackoverflow.com/questions/24616745/&hellip;</a> for a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1507548540,"creation_date":1507548540,"answer_id":46645367,"question_id":46644023,"body_markdown":"This entry in your pattern ...\r\n\r\n    user_uuid=%mdc{user_uuid:-}\r\n\r\n... consists of two parts: \r\n\r\n1. A static &#39;root&#39; (i.e. the left hand side of the assignment) this is always present in the output. The decision to include this is made when Logback initialises itself.\r\n\r\n2. A value (i.e. the right hand side of the assignment), this is only present in the output if the MDC attribute `user_uuid` is populated. The decision to include this is made at runtime for each log event.\r\n\r\nProbably not telling you anything new there but the key point is that the inclusion of the left hand side cannot be undone by any conditional logic which kicks in when evaluating each log event emitted by your application. Logback&#39;s `PatternLayoutBase` walks through its given pattern and each time it comes to something conditional or derivable it evaluates it and appends the evaluated value to the pattern it is walking through. So, for your pattern; Logback has already assigned &quot;user_uuid=&quot; to the current StringBuilder before it even starts evaluating the MDC condition.\r\n\r\nHowever, you _could_ achieve the desired end goal by populating the `user_uuid` MDC attribute with: `user_uuid=&lt;the user id&gt;` and then change you logging pattern to simply log the MDC value without the assignment. For example:\r\n\r\n    %-5p [%d{ISO8601,UTC}] %mdc{user_uuid:-}%c: %m%n%rEx\r\n\r\nWith that pattern in place the following log invocations ...\r\n\r\n    logger.info(&quot;Does this include the user_uuid?&quot;);\r\n    MDC.put(&quot;user_uuid&quot;, &quot;user_uuid=me &quot;);\r\n    logger.info(&quot;Or does this include the user_uuid?&quot;);\r\n\r\n... will emit:\r\n\r\n    INFO  [2017-10-09 11:15:22,420] com.stackoverflow.SomeClassTest: Does this include the user_uuid?\r\n    INFO  [2017-10-09 11:15:22,435] user_uuid=me com.stackoverflow.SomeClassTest: Or does this include the user_uuid?\r\n\r\nThough that&#39;s a bit awkward because you have to remember to include a space at the end of the MDC value and this `user_uuid` MDC value is only useful for logging within this specific pattern (whereas simply including the `user_uuid` - without the left hand side and the equals operator - would be more generally useful).\r\n\r\nIf these drawbacks render this approach unuseable for you then I think you&#39;ll have to get stuck into Logback&#39;s `PatternLayoutBase` or `FormattingConverter` to implement some form of look-ahead or some way of amending the in-progress StringBuilder if the right hand side of an assignment returns an empty String.\r\n","title":"Logging optional key values","body":"<p>This entry in your pattern ...</p>\n\n<pre><code>user_uuid=%mdc{user_uuid:-}\n</code></pre>\n\n<p>... consists of two parts: </p>\n\n<ol>\n<li><p>A static 'root' (i.e. the left hand side of the assignment) this is always present in the output. The decision to include this is made when Logback initialises itself.</p></li>\n<li><p>A value (i.e. the right hand side of the assignment), this is only present in the output if the MDC attribute <code>user_uuid</code> is populated. The decision to include this is made at runtime for each log event.</p></li>\n</ol>\n\n<p>Probably not telling you anything new there but the key point is that the inclusion of the left hand side cannot be undone by any conditional logic which kicks in when evaluating each log event emitted by your application. Logback's <code>PatternLayoutBase</code> walks through its given pattern and each time it comes to something conditional or derivable it evaluates it and appends the evaluated value to the pattern it is walking through. So, for your pattern; Logback has already assigned \"user_uuid=\" to the current StringBuilder before it even starts evaluating the MDC condition.</p>\n\n<p>However, you <em>could</em> achieve the desired end goal by populating the <code>user_uuid</code> MDC attribute with: <code>user_uuid=&lt;the user id&gt;</code> and then change you logging pattern to simply log the MDC value without the assignment. For example:</p>\n\n<pre><code>%-5p [%d{ISO8601,UTC}] %mdc{user_uuid:-}%c: %m%n%rEx\n</code></pre>\n\n<p>With that pattern in place the following log invocations ...</p>\n\n<pre><code>logger.info(\"Does this include the user_uuid?\");\nMDC.put(\"user_uuid\", \"user_uuid=me \");\nlogger.info(\"Or does this include the user_uuid?\");\n</code></pre>\n\n<p>... will emit:</p>\n\n<pre><code>INFO  [2017-10-09 11:15:22,420] com.stackoverflow.SomeClassTest: Does this include the user_uuid?\nINFO  [2017-10-09 11:15:22,435] user_uuid=me com.stackoverflow.SomeClassTest: Or does this include the user_uuid?\n</code></pre>\n\n<p>Though that's a bit awkward because you have to remember to include a space at the end of the MDC value and this <code>user_uuid</code> MDC value is only useful for logging within this specific pattern (whereas simply including the <code>user_uuid</code> - without the left hand side and the equals operator - would be more generally useful).</p>\n\n<p>If these drawbacks render this approach unuseable for you then I think you'll have to get stuck into Logback's <code>PatternLayoutBase</code> or <code>FormattingConverter</code> to implement some form of look-ahead or some way of amending the in-progress StringBuilder if the right hand side of an assignment returns an empty String.</p>\n"},{"tags":[],"owner":{"account_id":11831233,"reputation":9024,"user_id":8657904,"display_name":"Alin S&#238;npălean"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1570026214,"creation_date":1570026214,"answer_id":58203509,"question_id":46644023,"body_markdown":"You can use `%replace` to replace `user_uuid=` with an empty string if the value is missing (note the trailing `$` in the regex, meaning &quot;end of input&quot;):\r\n\r\n```\r\n%-5p [%d{ISO8601,UTC}]%replace( user_uuid=%mdc{user_uuid}){&#39; user_uuid=$&#39;, &#39;&#39;} %c: %m%n%rEx\r\n```\r\n\r\nAs a bonus, the above will also remove the leading space if the value is missing, so you don&#39;t get two successive spaces in your log message if the value is missing.","title":"Logging optional key values","body":"<p>You can use <code>%replace</code> to replace <code>user_uuid=</code> with an empty string if the value is missing (note the trailing <code>$</code> in the regex, meaning \"end of input\"):</p>\n\n<pre><code>%-5p [%d{ISO8601,UTC}]%replace( user_uuid=%mdc{user_uuid}){' user_uuid=$', ''} %c: %m%n%rEx\n</code></pre>\n\n<p>As a bonus, the above will also remove the leading space if the value is missing, so you don't get two successive spaces in your log message if the value is missing.</p>\n"},{"tags":[],"owner":{"account_id":2800516,"reputation":960,"user_id":2408843,"display_name":"minivac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693518944,"creation_date":1693518944,"answer_id":77019473,"question_id":46644023,"body_markdown":"Similar to Alin S&#238;npălean response, this hack will also help with trailing spaces,\r\n\r\n\r\n```\r\n[text before]%replace( %X{any_key} ){&#39;  &#39;, &#39; &#39;}[text after]\r\n```\r\nNote the two empty spaces wrapping the expression in `%replace( %X{any_key} )`\r\n\r\nif the variable is empty, the double space will be replaced by a single one, so it looks consistent:\r\n```\r\n[text before] [text after] \r\n```\r\nAnd it will be properly spaced if it contains anything\r\n```\r\n[text before] content [text after] \r\n```\r\n\r\n","title":"Logging optional key values","body":"<p>Similar to Alin Sînpălean response, this hack will also help with trailing spaces,</p>\n<pre><code>[text before]%replace( %X{any_key} ){'  ', ' '}[text after]\n</code></pre>\n<p>Note the two empty spaces wrapping the expression in <code>%replace( %X{any_key} )</code></p>\n<p>if the variable is empty, the double space will be replaced by a single one, so it looks consistent:</p>\n<pre><code>[text before] [text after] \n</code></pre>\n<p>And it will be properly spaced if it contains anything</p>\n<pre><code>[text before] content [text after] \n</code></pre>\n"}],"owner":{"account_id":1979618,"reputation":2781,"user_id":1776540,"accept_rate":62,"display_name":"Robin Jonsson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5264,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":46645367,"answer_count":3,"score":12,"last_activity_date":1693518944,"creation_date":1507544035,"question_id":46644023,"body_markdown":"I have this webapplication that logs quite heavily. We have implemented a call to `MDC` for each requesting thread to be able to trace a user in our logs.\r\n\r\nA logmessage could look as follows: \r\n\r\n    INFO  [2017-10-09 10:10:55,841] user_uuid=123-123-123 com.myapp.SomeClass: Some log message...\r\n\r\nNow the problem is that most of the time, no current user exist, and we don&#39;t have use for the `user_uuid` field in the log example above. So instead, it will look like this:\r\n\r\n    INFO  [2017-10-09 10:10:55,841] user_uuid= com.myapp.SomeClass: Some log message...\r\n\r\n**Is there any way of not writing the MDC key &amp; value in log if there is no MDC value? Some log format I haven&#39;t found yet?**\r\n\r\nI want it to look like this, if no MDC value is found:\r\n\r\n    INFO  [2017-10-09 10:10:55,841] com.myapp.SomeClass: Some log message...\r\n\r\nThe above (MDC) examples are configured like so:\r\n\r\n    %-5p [%d{ISO8601,UTC}] user_uuid=%mdc{user_uuid:-} %c: %m%n%rEx","title":"Logging optional key values","body":"<p>I have this webapplication that logs quite heavily. We have implemented a call to <code>MDC</code> for each requesting thread to be able to trace a user in our logs.</p>\n\n<p>A logmessage could look as follows: </p>\n\n<pre><code>INFO  [2017-10-09 10:10:55,841] user_uuid=123-123-123 com.myapp.SomeClass: Some log message...\n</code></pre>\n\n<p>Now the problem is that most of the time, no current user exist, and we don't have use for the <code>user_uuid</code> field in the log example above. So instead, it will look like this:</p>\n\n<pre><code>INFO  [2017-10-09 10:10:55,841] user_uuid= com.myapp.SomeClass: Some log message...\n</code></pre>\n\n<p><strong>Is there any way of not writing the MDC key &amp; value in log if there is no MDC value? Some log format I haven't found yet?</strong></p>\n\n<p>I want it to look like this, if no MDC value is found:</p>\n\n<pre><code>INFO  [2017-10-09 10:10:55,841] com.myapp.SomeClass: Some log message...\n</code></pre>\n\n<p>The above (MDC) examples are configured like so:</p>\n\n<pre><code>%-5p [%d{ISO8601,UTC}] user_uuid=%mdc{user_uuid:-} %c: %m%n%rEx\n</code></pre>\n"},{"tags":["java","json","spring-boot","date-parsing"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1693162372,"post_id":76988438,"comment_id":135720510,"body_markdown":"How do you expect anyone to debug code that you don&#39;t bother posting?","body":"How do you expect anyone to debug code that you don&#39;t bother posting?"},{"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"score":0,"creation_date":1693162742,"post_id":76988438,"comment_id":135720560,"body_markdown":"@ArfurNarf Updated code, though I guess code is working fine, there is some issue with Date data type still not sure how can I handle this.","body":"@ArfurNarf Updated code, though I guess code is working fine, there is some issue with Date data type still not sure how can I handle this."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1693164086,"post_id":76988438,"comment_id":135720696,"body_markdown":"I suggest you stop using `java.util.Date` and switch to the `java.time` API.","body":"I suggest you stop using <code>java.util.Date</code> and switch to the <code>java.time</code> API."},{"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"score":0,"creation_date":1693164541,"post_id":76988438,"comment_id":135720746,"body_markdown":"@ArvindKumarAvinash yeah I tried with ```LocalDate DataType``` and it worked for me, this comes under ```java.time```, Thanks \nBut it has a restriction of Date format to ```yyyy-mm-dd``` only and my request from payload is going in this format ```yyyymmdd```","body":"@ArvindKumarAvinash yeah I tried with <code>LocalDate DataType</code> and it worked for me, this comes under <code>java.time</code>, Thanks  But it has a restriction of Date format to <code>yyyy-mm-dd</code> only and my request from payload is going in this format <code>yyyymmdd</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1693298003,"post_id":76988438,"comment_id":135738729,"body_markdown":"You should **never** log DOB. Or any [PII](https://en.wikipedia.org/wiki/Personal_data).","body":"You should <b>never</b> log DOB. Or any <a href=\"https://en.wikipedia.org/wiki/Personal_data\" rel=\"nofollow noreferrer\">PII</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693163741,"creation_date":1693163741,"answer_id":76988585,"question_id":76988438,"body_markdown":"I would focus a bit on the lines\r\n\r\n    if (newValue == null || newValue.equals(oldValue)) {\r\n      return this;\r\n    }\r\n    this.updatedFields.add(fieldName);\r\n\r\nFor some reason the updatedField.add(...) is called every time for dob.\r\nSo what may be happening that newValue is either null or equals does not work as expected. Apply a debugging session or add more log output so you understand why that comparison fails.","title":"Why DOB logging every time whether updated or not during update API in Java?","body":"<p>I would focus a bit on the lines</p>\n<pre><code>if (newValue == null || newValue.equals(oldValue)) {\n  return this;\n}\nthis.updatedFields.add(fieldName);\n</code></pre>\n<p>For some reason the updatedField.add(...) is called every time for dob.\nSo what may be happening that newValue is either null or equals does not work as expected. Apply a debugging session or add more log output so you understand why that comparison fails.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693297031,"creation_date":1693167137,"answer_id":76988777,"question_id":76988438,"body_markdown":"java.time\r\n--\r\nThe `java.util` date-time API and their corresponding parsing/formatting type, `SimpleDateFormat` are outdated and error-prone. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) supplanted the legacy date-time API. Since then, it has been strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nYou can use [`DateTimeFormatter#BASIC_ISO_DATE`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#BASIC_ISO_DATE) (which corresponds to yyyyMMdd pattern) to parse your date string, 20101212 to a `LocalDate`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(LocalDate.parse(&quot;20101212&quot;, DateTimeFormatter.BASIC_ISO_DATE));\r\n        }\r\n    }\r\n**Output:**\r\n\r\n    2010-12-12\r\n\r\nBased on this description, you can make the following changes in your code:\r\n\r\n    @JsonProperty(value = &quot;DOB&quot;)\r\n    @JsonFormat(pattern = &quot;yyyyMMdd&quot;, shape = JsonFormat.Shape.STRING)\r\n    private LocalDate DOB;\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**","title":"Why DOB logging every time whether updated or not during update API in Java?","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> date-time API and their corresponding parsing/formatting type, <code>SimpleDateFormat</code> are outdated and error-prone. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> supplanted the legacy date-time API. Since then, it has been strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#BASIC_ISO_DATE\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter#BASIC_ISO_DATE</code></a> (which corresponds to yyyyMMdd pattern) to parse your date string, 20101212 to a <code>LocalDate</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n\nclass Main {\n    public static void main(String[] args) {\n        System.out.println(LocalDate.parse(&quot;20101212&quot;, DateTimeFormatter.BASIC_ISO_DATE));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2010-12-12\n</code></pre>\n<p>Based on this description, you can make the following changes in your code:</p>\n<pre><code>@JsonProperty(value = &quot;DOB&quot;)\n@JsonFormat(pattern = &quot;yyyyMMdd&quot;, shape = JsonFormat.Shape.STRING)\nprivate LocalDate DOB;\n</code></pre>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76988777,"answer_count":2,"score":1,"last_activity_date":1693518405,"creation_date":1693161035,"question_id":76988438,"body_markdown":"I am logging fields which will be update during update API call.\r\nBut getting DOB field every time whether it is updating or not \r\n\r\nDOB is of Date type\r\n```\r\nprivate Date DOB;\r\n```\r\nLogging DOB VALUE when passing this in payload ```{ &quot;DOB&quot;: &quot;1990-01-01&quot;}```\r\n```\r\ndob: Mon Jan 01 05:30:00 IST 1990\r\nUpdated Fields during request: DOB  \r\n```\r\nis it because it has time also? Though I&#39;m getting same time on every request, still, it is printing that DOB is updated even when value was same and not updated. Why so? \r\n\r\nAnd if I am passing DOB in payload (postman) like this: \r\n```\r\n &quot;DOB&quot;: &quot;20101212&quot;\r\n\r\n//it is printing only this 1970 value on log console\r\ndob: Thu Jan 01 11:05:01 IST 1970 \r\n```\r\nHow can I handle these situations? \r\n\r\nCode \r\n```\r\npublic static class Updater {\r\n  private final OrgEmployeeMap existing;\r\n  private final EmployeeInformation information;\r\n  private final Set&lt;String&gt; updatedFields = new HashSet&lt;&gt;();\r\n\r\n  public Updater(OrgEmployeeMap existing, EmployeeInformation information) {\r\n    this.existing = existing;\r\n    this.information = information;\r\n  }\r\n\r\n  public &lt;T&gt; Updater update(String fieldName,\r\n                            Function&lt;EmployeeInformation, T&gt; newValueGetter,\r\n                            Function&lt;OrgEmployeeMap, T&gt; oldValueGetter,\r\n                            BiConsumer&lt;OrgEmployeeMap, T&gt; oldValueSetter) {\r\n    final var newValue = newValueGetter.apply(information);\r\n    final var oldValue = oldValueGetter.apply(existing);\r\n    if (newValue == null || newValue.equals(oldValue)) {\r\n      return this;\r\n    }\r\n    this.updatedFields.add(fieldName);\r\n    oldValueSetter.accept(existing, newValue);\r\n    return this;\r\n  }\r\n\r\n  public Set&lt;String&gt; getUpdatedFields() {\r\n    return updatedFields;\r\n  }\r\n}\r\nprivate void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\r\n    try {\r\n        EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\r\n        final var updater = new Updater(existingOrgEmployee, employeeInfo);\r\n\r\n        updater\r\n            .update(&quot;FirstName&quot;, EmployeeInformation::getEmployeeFirstName, OrgEmployeeMap::getFirstName, OrgEmployeeMap::setFirstName)\r\n            .update(&quot;LastName&quot;, EmployeeInformation::getEmployeeLastName, OrgEmployeeMap::getLastName, OrgEmployeeMap::setLastName)\r\n            .update(&quot;DOB&quot;, EmployeeInformation::getDOB, OrgEmployeeMap::getDob, OrgEmployeeMap::setDob)\r\n            .update(&quot;Gender&quot;, EmployeeInformation::getGender, OrgEmployeeMap::getGender, OrgEmployeeMap::setGender)\r\n            .update(&quot;Email&quot;, EmployeeInformation::getEmail, OrgEmployeeMap::getEmail, OrgEmployeeMap::setEmail);\r\n\r\n        final var modifiedFields = updater.getUpdatedFields();\r\n        if (!modifiedFields.isEmpty()) {\r\n            log.info(&quot;Updated employee : &quot; + String.join(&quot;, &quot;, modifiedFields));\r\n        }\r\n\r\n        orgEmployeeMapRepository.save(existingOrgEmployee);\r\n\r\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\r\n    } catch (JSONException e) {\r\n        log.error(&quot;error in processing the request error&quot;, e.getMessage());\r\n    } catch (Exception ex) {\r\n        log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\r\n    }\r\n}\r\n```\r\n\r\ndto class\r\n```\r\n@Data\r\npublic class EmployeeInformation {\r\n\r\n    @JsonProperty(value = &quot;Email&quot;)\r\n    private String Email;\r\n\r\n    @JsonProperty(value = &quot;EmployeeFirstName&quot;)\r\n    private String EmployeeFirstName;\r\n\r\n    @JsonProperty(value = &quot;EmployeeLastName&quot;)\r\n    private String EmployeeLastName;\r\n\r\n    @JsonProperty(value = &quot;DOB&quot;)\r\n    private Date DOB;\r\n\r\n..\r\n}\r\n```\r\n\r\nmodel class\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\npublic class EmployeeMap {\r\n@Id\r\n    @Column(name = &quot;Id&quot;, length = 100, nullable = false)\r\n    private String Id;\r\n\r\n    @Column(name = &quot;firstName&quot;, length = 100, nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;lastName&quot;, length = 100)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;, length = 100, nullable = false)\r\n    private String email;\r\n\r\n    @Column(name = &quot;gender&quot;)\r\n    private String gender;\r\n\r\n    @Column(name = &quot;dob&quot;, nullable = false)\r\n    private Date dob;\r\n}\r\n```","title":"Why DOB logging every time whether updated or not during update API in Java?","body":"<p>I am logging fields which will be update during update API call.\nBut getting DOB field every time whether it is updating or not</p>\n<p>DOB is of Date type</p>\n<pre><code>private Date DOB;\n</code></pre>\n<p>Logging DOB VALUE when passing this in payload <code>{ &quot;DOB&quot;: &quot;1990-01-01&quot;}</code></p>\n<pre><code>dob: Mon Jan 01 05:30:00 IST 1990\nUpdated Fields during request: DOB  \n</code></pre>\n<p>is it because it has time also? Though I'm getting same time on every request, still, it is printing that DOB is updated even when value was same and not updated. Why so?</p>\n<p>And if I am passing DOB in payload (postman) like this:</p>\n<pre><code> &quot;DOB&quot;: &quot;20101212&quot;\n\n//it is printing only this 1970 value on log console\ndob: Thu Jan 01 11:05:01 IST 1970 \n</code></pre>\n<p>How can I handle these situations?</p>\n<p>Code</p>\n<pre><code>public static class Updater {\n  private final OrgEmployeeMap existing;\n  private final EmployeeInformation information;\n  private final Set&lt;String&gt; updatedFields = new HashSet&lt;&gt;();\n\n  public Updater(OrgEmployeeMap existing, EmployeeInformation information) {\n    this.existing = existing;\n    this.information = information;\n  }\n\n  public &lt;T&gt; Updater update(String fieldName,\n                            Function&lt;EmployeeInformation, T&gt; newValueGetter,\n                            Function&lt;OrgEmployeeMap, T&gt; oldValueGetter,\n                            BiConsumer&lt;OrgEmployeeMap, T&gt; oldValueSetter) {\n    final var newValue = newValueGetter.apply(information);\n    final var oldValue = oldValueGetter.apply(existing);\n    if (newValue == null || newValue.equals(oldValue)) {\n      return this;\n    }\n    this.updatedFields.add(fieldName);\n    oldValueSetter.accept(existing, newValue);\n    return this;\n  }\n\n  public Set&lt;String&gt; getUpdatedFields() {\n    return updatedFields;\n  }\n}\nprivate void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\n    try {\n        EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\n        final var updater = new Updater(existingOrgEmployee, employeeInfo);\n\n        updater\n            .update(&quot;FirstName&quot;, EmployeeInformation::getEmployeeFirstName, OrgEmployeeMap::getFirstName, OrgEmployeeMap::setFirstName)\n            .update(&quot;LastName&quot;, EmployeeInformation::getEmployeeLastName, OrgEmployeeMap::getLastName, OrgEmployeeMap::setLastName)\n            .update(&quot;DOB&quot;, EmployeeInformation::getDOB, OrgEmployeeMap::getDob, OrgEmployeeMap::setDob)\n            .update(&quot;Gender&quot;, EmployeeInformation::getGender, OrgEmployeeMap::getGender, OrgEmployeeMap::setGender)\n            .update(&quot;Email&quot;, EmployeeInformation::getEmail, OrgEmployeeMap::getEmail, OrgEmployeeMap::setEmail);\n\n        final var modifiedFields = updater.getUpdatedFields();\n        if (!modifiedFields.isEmpty()) {\n            log.info(&quot;Updated employee : &quot; + String.join(&quot;, &quot;, modifiedFields));\n        }\n\n        orgEmployeeMapRepository.save(existingOrgEmployee);\n\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\n    } catch (JSONException e) {\n        log.error(&quot;error in processing the request error&quot;, e.getMessage());\n    } catch (Exception ex) {\n        log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\n    }\n}\n</code></pre>\n<p>dto class</p>\n<pre><code>@Data\npublic class EmployeeInformation {\n\n    @JsonProperty(value = &quot;Email&quot;)\n    private String Email;\n\n    @JsonProperty(value = &quot;EmployeeFirstName&quot;)\n    private String EmployeeFirstName;\n\n    @JsonProperty(value = &quot;EmployeeLastName&quot;)\n    private String EmployeeLastName;\n\n    @JsonProperty(value = &quot;DOB&quot;)\n    private Date DOB;\n\n..\n}\n</code></pre>\n<p>model class</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;employee&quot;)\npublic class EmployeeMap {\n@Id\n    @Column(name = &quot;Id&quot;, length = 100, nullable = false)\n    private String Id;\n\n    @Column(name = &quot;firstName&quot;, length = 100, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;lastName&quot;, length = 100)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;, length = 100, nullable = false)\n    private String email;\n\n    @Column(name = &quot;gender&quot;)\n    private String gender;\n\n    @Column(name = &quot;dob&quot;, nullable = false)\n    private Date dob;\n}\n</code></pre>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":28972490,"reputation":11,"user_id":22192451,"display_name":"javanut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693517666,"creation_date":1693517666,"answer_id":77019389,"question_id":71708127,"body_markdown":"HTTPBuilder does not work with groovy 4. Some of the components have moved packages in the move from codehaus to apache. It will work with groovy 3 with some minor modifications. It works fine with groovy 2.","title":"Trying to use Groovy HTTPBuilder throws NoClassDefFoundError for groovy/util/slurpersupport/GPathResult","body":"<p>HTTPBuilder does not work with groovy 4. Some of the components have moved packages in the move from codehaus to apache. It will work with groovy 3 with some minor modifications. It works fine with groovy 2.</p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693517666,"creation_date":1648821650,"question_id":71708127,"body_markdown":"I&#39;m taking the UDEMY **The Complete Apache Groovy Developer Course** in section *112. Using REST based APIs&#39; there is some sample code that is provided that doesn&#39;t work.  The sample code is:\r\n\r\n```\r\nimport groovyx.net.http.ContentType\r\nimport groovyx.net.http.RESTClient\r\n\r\n@Grab(&#39;org.codehaus.groovy.modules.http-builder:http-builder:0.7.1&#39;)\r\n\r\nString base = &#39;http://api.icndb.com&#39;\r\n\r\ndef chuck = new RESTClient(base)\r\ndef params = [firstName: &quot;Dan&quot;, lastName: &quot;Vega&quot;]\r\n\r\nchuck.contentType = ContentType.JSON\r\nchuck.get( path: &#39;/jokes/random&#39;, query: params ) { response, json -&gt;\r\n    println response.status\r\n    println json\r\n}\r\n```\r\nand the error is\r\n```\r\ngroovy chuck.groovy\r\nCaught: java.lang.NoClassDefFoundError: groovy/util/slurpersupport/GPathResult\r\njava.lang.NoClassDefFoundError: groovy/util/slurpersupport/GPathResult\r\n```\r\n**Problem: Trying to use HttpClient apparently fails because that code is using something in Groovy that doesn&#39;t exist (or that is my take on the issue).**\r\n\r\nThe problem might be due to **old** *HttpBuilder* code trying to use something that is no longer in newer Groovy releases. (This is my suspicion).\r\n\r\nThe versions of Java and Groovy I&#39;m using are:\r\n```\r\ngroovy --version\r\nGroovy Version: 4.0.0 JVM: 17.0.2 Vendor: Oracle Corporation OS: Windows 10\r\n```\r\n\r\nI tried searching for an answer to the problem and found https://stackoverflow.com/a/34814548/3281336 which offers a way to verify HttpBuilder is found but it also fails with the same error.\r\n\r\nSearches on HttpBuilder show the software is quite old in software years (2014-ish was last update, see [Maven Repository for HttpBuilder][1]).  \r\n\r\nHttpBuilder has moved, see https://stackoverflow.com/questions/60043572/where-does-the-groovy-http-builder-module-live-now.\r\n\r\nEven a newer fork of HttpBuilder at https://github.com/http-builder-ng/http-builder-ng shows last commits in May 2020.  I&#39;ll try that code next but need to learn a new way to import code to use it.\r\n\r\nI&#39;m heading back to the class and skipping this module for now, and will point to this link when asking about the problem.  Perhaps the instructor will answer it. :-)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.codehaus.groovy.modules.http-builder/http-builder","title":"Trying to use Groovy HTTPBuilder throws NoClassDefFoundError for groovy/util/slurpersupport/GPathResult","body":"<p>I'm taking the UDEMY <strong>The Complete Apache Groovy Developer Course</strong> in section *112. Using REST based APIs' there is some sample code that is provided that doesn't work.  The sample code is:</p>\n<pre><code>import groovyx.net.http.ContentType\nimport groovyx.net.http.RESTClient\n\n@Grab('org.codehaus.groovy.modules.http-builder:http-builder:0.7.1')\n\nString base = 'http://api.icndb.com'\n\ndef chuck = new RESTClient(base)\ndef params = [firstName: &quot;Dan&quot;, lastName: &quot;Vega&quot;]\n\nchuck.contentType = ContentType.JSON\nchuck.get( path: '/jokes/random', query: params ) { response, json -&gt;\n    println response.status\n    println json\n}\n</code></pre>\n<p>and the error is</p>\n<pre><code>groovy chuck.groovy\nCaught: java.lang.NoClassDefFoundError: groovy/util/slurpersupport/GPathResult\njava.lang.NoClassDefFoundError: groovy/util/slurpersupport/GPathResult\n</code></pre>\n<p><strong>Problem: Trying to use HttpClient apparently fails because that code is using something in Groovy that doesn't exist (or that is my take on the issue).</strong></p>\n<p>The problem might be due to <strong>old</strong> <em>HttpBuilder</em> code trying to use something that is no longer in newer Groovy releases. (This is my suspicion).</p>\n<p>The versions of Java and Groovy I'm using are:</p>\n<pre><code>groovy --version\nGroovy Version: 4.0.0 JVM: 17.0.2 Vendor: Oracle Corporation OS: Windows 10\n</code></pre>\n<p>I tried searching for an answer to the problem and found <a href=\"https://stackoverflow.com/a/34814548/3281336\">https://stackoverflow.com/a/34814548/3281336</a> which offers a way to verify HttpBuilder is found but it also fails with the same error.</p>\n<p>Searches on HttpBuilder show the software is quite old in software years (2014-ish was last update, see <a href=\"https://mvnrepository.com/artifact/org.codehaus.groovy.modules.http-builder/http-builder\" rel=\"nofollow noreferrer\">Maven Repository for HttpBuilder</a>).</p>\n<p>HttpBuilder has moved, see <a href=\"https://stackoverflow.com/questions/60043572/where-does-the-groovy-http-builder-module-live-now\">Where does the groovy http-builder module live now?</a>.</p>\n<p>Even a newer fork of HttpBuilder at <a href=\"https://github.com/http-builder-ng/http-builder-ng\" rel=\"nofollow noreferrer\">https://github.com/http-builder-ng/http-builder-ng</a> shows last commits in May 2020.  I'll try that code next but need to learn a new way to import code to use it.</p>\n<p>I'm heading back to the class and skipping this module for now, and will point to this link when asking about the problem.  Perhaps the instructor will answer it. :-)</p>\n"},{"tags":["java","excel","apache-poi","poi-hssf","hssfworkbook"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693508387,"creation_date":1693508387,"answer_id":77018594,"question_id":77018543,"body_markdown":"That seems plain text &quot;mx lm...&quot;.\r\n\r\nOften CSV text files are given an .xls extension so the browser  opens the file with Excel.\r\n\r\nRename the file as .txt and check the charset encoding, and read it with the correct charset. Maybe a CSV reader.","title":"Java - How to extract text from an XLS which has wrong format/extension issue?","body":"<p>That seems plain text &quot;mx lm...&quot;.</p>\n<p>Often CSV text files are given an .xls extension so the browser  opens the file with Excel.</p>\n<p>Rename the file as .txt and check the charset encoding, and read it with the correct charset. Maybe a CSV reader.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693517320,"creation_date":1693517320,"answer_id":77019373,"question_id":77018543,"body_markdown":"The file content is not in sync with the file name/extension.\r\n\r\nTo find out what the content really is, you could run `file Export.xls` in a Linux system (see [man file][1]). Do that with the file before and after opening/saving it in Excel.\r\n\r\n\r\n  [1]: https://www.man7.org/linux/man-pages/man1/file.1.html","title":"Java - How to extract text from an XLS which has wrong format/extension issue?","body":"<p>The file content is not in sync with the file name/extension.</p>\n<p>To find out what the content really is, you could run <code>file Export.xls</code> in a Linux system (see <a href=\"https://www.man7.org/linux/man-pages/man1/file.1.html\" rel=\"nofollow noreferrer\">man file</a>). Do that with the file before and after opening/saving it in Excel.</p>\n"}],"owner":{"account_id":7073901,"reputation":558,"user_id":5414637,"accept_rate":50,"display_name":"AutoTester999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693517320,"creation_date":1693507865,"question_id":77018543,"body_markdown":"I have an excel (`.xls`) file - `Export.xls`.\r\n\r\nWhen I manually try to open it, I get the following message:\r\n\r\n&quot;**`The file format and extension of &#39;Export.xls&#39; don&#39;t match. The file could be corrupted or unsafe. Unless you trust its source, don&#39;t open it. Do you want to open it anyway`**?&quot;\r\n\r\nIf I click on &#39;Yes&#39; and proceed, the file opens. Then, if I &#39;`Save As`&#39; `Excel 97-2003 Workbook (*.xls)`, the file is saved and the next time I open it I don&#39;t get the above error message.\r\n\r\nNow, my need is to do this via Java code. Because due to restrictions, I cannot fix it manually before I run the Java program.\r\n\r\n**My working code for a non-corrupted (regular) file below:**\r\n\r\n    import org.apache.poi.hssf.extractor.ExcelExtractor;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    \r\n        HSSFWorkbook hwb = new HSSFWorkbook(new FileInputStream(expFile));\r\n        String expFileText = new ExcelExtractor(expWorkBook).getText();\r\n        System.out.println(&quot;Export xls file text: &quot; + expFileText);\r\n\r\nThis works fine on a regular `xls` file. However, for the above file (if I haven&#39;t manually saved it with a different format), the Java program throws the below error:\r\n\r\n**`Invalid header signature; read 0x6D78206C6D74683C, expected 0xE11AB1A1E011CFD0 - Your file appears not to be a valid OLE2 document`**\r\n\r\nHow can I fix this?","title":"Java - How to extract text from an XLS which has wrong format/extension issue?","body":"<p>I have an excel (<code>.xls</code>) file - <code>Export.xls</code>.</p>\n<p>When I manually try to open it, I get the following message:</p>\n<p>&quot;<strong><code>The file format and extension of 'Export.xls' don't match. The file could be corrupted or unsafe. Unless you trust its source, don't open it. Do you want to open it anyway</code></strong>?&quot;</p>\n<p>If I click on 'Yes' and proceed, the file opens. Then, if I '<code>Save As</code>' <code>Excel 97-2003 Workbook (*.xls)</code>, the file is saved and the next time I open it I don't get the above error message.</p>\n<p>Now, my need is to do this via Java code. Because due to restrictions, I cannot fix it manually before I run the Java program.</p>\n<p><strong>My working code for a non-corrupted (regular) file below:</strong></p>\n<pre><code>import org.apache.poi.hssf.extractor.ExcelExtractor;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\n\n    HSSFWorkbook hwb = new HSSFWorkbook(new FileInputStream(expFile));\n    String expFileText = new ExcelExtractor(expWorkBook).getText();\n    System.out.println(&quot;Export xls file text: &quot; + expFileText);\n</code></pre>\n<p>This works fine on a regular <code>xls</code> file. However, for the above file (if I haven't manually saved it with a different format), the Java program throws the below error:</p>\n<p><strong><code>Invalid header signature; read 0x6D78206C6D74683C, expected 0xE11AB1A1E011CFD0 - Your file appears not to be a valid OLE2 document</code></strong></p>\n<p>How can I fix this?</p>\n"},{"tags":["java","debugging","intellij-idea","microservices","software-design"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1693528650,"post_id":77018419,"comment_id":135776742,"body_markdown":"Read the code. Make notes. Make a start on writing the &#39;system logic manual&#39; that does not now exist. Dicking around in a debugger is just trial and error.","body":"Read the code. Make notes. Make a start on writing the &#39;system logic manual&#39; that does not now exist. Dicking around in a debugger is just trial and error."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693516775,"creation_date":1693516775,"answer_id":77019334,"question_id":77018419,"body_markdown":"You have not yet mentioned why debugging would not work. Here are some things that you can do on top:\r\n\r\n- To better understand the code, start adding [JavaDoc comments][1].\r\n- Add [unit tests][2] to ensure some methods do what they are expected to do.\r\n- Add [logging][3] that you can use while developing and deactivate by configuraton in production environments.\r\n\r\nThis may mean you touch code that you are expected to only read, so your team can react annoyed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/javadoc/javadoc.html#GUID-7A344353-3BBF-45C4-8B28-15025DDCC643\r\n  [2]: https://junit.org/\r\n  [3]: https://logging.apache.org/log4j/2.x/index.html","title":"How to deal with a project where debugging is not possible?","body":"<p>You have not yet mentioned why debugging would not work. Here are some things that you can do on top:</p>\n<ul>\n<li>To better understand the code, start adding <a href=\"https://docs.oracle.com/en/java/javase/20/javadoc/javadoc.html#GUID-7A344353-3BBF-45C4-8B28-15025DDCC643\" rel=\"nofollow noreferrer\">JavaDoc comments</a>.</li>\n<li>Add <a href=\"https://junit.org/\" rel=\"nofollow noreferrer\">unit tests</a> to ensure some methods do what they are expected to do.</li>\n<li>Add <a href=\"https://logging.apache.org/log4j/2.x/index.html\" rel=\"nofollow noreferrer\">logging</a> that you can use while developing and deactivate by configuraton in production environments.</li>\n</ul>\n<p>This may mean you touch code that you are expected to only read, so your team can react annoyed.</p>\n"}],"owner":{"account_id":8148408,"reputation":155,"user_id":6136336,"accept_rate":43,"display_name":"ra_pri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693516775,"creation_date":1693506541,"question_id":77018419,"body_markdown":"I have joined a new project recently and realized the debugging is impossible or not enabled. It&#39;s very difficult for me to work since the whole code has weird(finance) terminology, so reading the code is also very difficult.\r\n\r\nBut everyone on the team has spent almost a decade on the project and I am new so facing the problem of understanding the code. I don&#39;t understand how people keep on saying &quot;Read the code&quot;. \r\n\r\nI believed that reading the code is &quot;sin&quot; and the only way through is either debugging or playing around the changes.\r\n\r\nI want to know the experienced people&#39;s perspective on how to work on such a project as a developer. Any suggestion to go forward?","title":"How to deal with a project where debugging is not possible?","body":"<p>I have joined a new project recently and realized the debugging is impossible or not enabled. It's very difficult for me to work since the whole code has weird(finance) terminology, so reading the code is also very difficult.</p>\n<p>But everyone on the team has spent almost a decade on the project and I am new so facing the problem of understanding the code. I don't understand how people keep on saying &quot;Read the code&quot;.</p>\n<p>I believed that reading the code is &quot;sin&quot; and the only way through is either debugging or playing around the changes.</p>\n<p>I want to know the experienced people's perspective on how to work on such a project as a developer. Any suggestion to go forward?</p>\n"},{"tags":["java","android","unit-testing","mockito","powermockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693502179,"post_id":77017777,"comment_id":135773068,"body_markdown":"Did you read the limitation? &quot;You are seeing this disclaimer because Mockito is configured to create inlined mocks. You can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.&quot;? Is it unclear?","body":"Did you read the limitation? &quot;You are seeing this disclaimer because Mockito is configured to create inlined mocks. You can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.&quot;? Is it unclear?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1693513681,"post_id":77017777,"comment_id":135775108,"body_markdown":"Try looking at [Complete guide of creating mocks with mockito](https://davidvlijmincx.com/posts/complete_guide_of_creating_mocks_with_mockito/).","body":"Try looking at <a href=\"https://davidvlijmincx.com/posts/complete_guide_of_creating_mocks_with_mockito/\" rel=\"nofollow noreferrer\">Complete guide of creating mocks with mockito</a>."}],"answers":[{"tags":[],"owner":{"account_id":378053,"reputation":4160,"user_id":730549,"accept_rate":68,"display_name":"Maulzey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693516375,"creation_date":1693516375,"answer_id":77019307,"question_id":77017777,"body_markdown":"In your unit test, you can then create a mock or a fake implementation of the MainActivity and pass it to SomeClass. This way, you&#39;re testing the logic in SomeClass without worrying about the complexities of MainActivity. \r\n\r\n    @Test \r\n    fun testSomeClass() { \r\n    val mockMainActivity = mock(MainActivity::class.java) \r\n    val someClass = SomeClass(mockMainActivity) // Test the behavior of SomeClass }","title":"How to mock MainActivity using Mockito or another mocking framework?","body":"<p>In your unit test, you can then create a mock or a fake implementation of the MainActivity and pass it to SomeClass. This way, you're testing the logic in SomeClass without worrying about the complexities of MainActivity.</p>\n<pre><code>@Test \nfun testSomeClass() { \nval mockMainActivity = mock(MainActivity::class.java) \nval someClass = SomeClass(mockMainActivity) // Test the behavior of SomeClass }\n</code></pre>\n"}],"owner":{"account_id":22712146,"reputation":19,"user_id":16877951,"display_name":"xxrapunzelxx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693516375,"creation_date":1693500015,"question_id":77017777,"body_markdown":"I need to mock MainActivity as it is a parameter of an unit test I have. I tried `private val mockMainActivity: MainActivity = mock()`. However I get:\r\n\r\n&gt; Mockito cannot mock this class: class\r\n&gt; se.username.mmi.onboard.activities.MainActivity.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; Java               : 11 JVM vendor name    : JetBrains s.r.o. JVM\r\n&gt; vendor version : 11.0.15+0-b2043.56-8887301 JVM name           :\r\n&gt; OpenJDK 64-Bit Server VM JVM version        :\r\n&gt; 11.0.15+0-b2043.56-8887301 JVM info           : mixed mode OS name            : Linux OS version         : 6.2.0-31-generic\r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt; You are seeing this disclaimer because Mockito is configured to create\r\n&gt; inlined mocks. You can learn about inline mocks and their limitations\r\n&gt; under item #39 of the Mockito class javadoc.\r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt; Underlying exception : java.lang.IllegalArgumentException: Could not\r\n&gt; create type org.mockito.exceptions.base.MockitoException:  Mockito\r\n&gt; cannot mock this class: class\r\n&gt; se.username.mmi.onboard.activities.MainActivity.\r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt; If you&#39;re not sure why you&#39;re getting this error, please open an issue\r\n&gt; on GitHub.\r\n\r\nHow can I mock MainActivity then?","title":"How to mock MainActivity using Mockito or another mocking framework?","body":"<p>I need to mock MainActivity as it is a parameter of an unit test I have. I tried <code>private val mockMainActivity: MainActivity = mock()</code>. However I get:</p>\n<blockquote>\n<p>Mockito cannot mock this class: class\nse.username.mmi.onboard.activities.MainActivity.</p>\n<p>Java               : 11 JVM vendor name    : JetBrains s.r.o. JVM\nvendor version : 11.0.15+0-b2043.56-8887301 JVM name           :\nOpenJDK 64-Bit Server VM JVM version        :\n11.0.15+0-b2043.56-8887301 JVM info           : mixed mode OS name            : Linux OS version         : 6.2.0-31-generic</p>\n<p>You are seeing this disclaimer because Mockito is configured to create\ninlined mocks. You can learn about inline mocks and their limitations\nunder item #39 of the Mockito class javadoc.</p>\n<p>Underlying exception : java.lang.IllegalArgumentException: Could not\ncreate type org.mockito.exceptions.base.MockitoException:  Mockito\ncannot mock this class: class\nse.username.mmi.onboard.activities.MainActivity.</p>\n<p>If you're not sure why you're getting this error, please open an issue\non GitHub.</p>\n</blockquote>\n<p>How can I mock MainActivity then?</p>\n"},{"tags":["java","arrays","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":262720,"reputation":10054,"user_id":547779,"accept_rate":83,"display_name":"Tarlog"},"down_vote_count":2,"up_vote_count":88,"is_accepted":true,"score":86,"last_activity_date":1670339165,"creation_date":1301659837,"answer_id":5513167,"question_id":5513144,"body_markdown":"    char[] ch = ?\r\n    new String(ch).getBytes();\r\n\r\nOr, to get non-default charset:\r\n\r\n    new String(ch).getBytes(&quot;UTF-8&quot;);\r\n\r\n**Update:** Since Java 7:\r\n\r\n    new String(ch).getBytes(StandardCharsets.UTF_8);\r\n","title":"Converting char[] to byte[]","body":"<pre><code>char[] ch = ?\nnew String(ch).getBytes();\n</code></pre>\n<p>Or, to get non-default charset:</p>\n<pre><code>new String(ch).getBytes(&quot;UTF-8&quot;);\n</code></pre>\n<p><strong>Update:</strong> Since Java 7:</p>\n<pre><code>new String(ch).getBytes(StandardCharsets.UTF_8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145589,"reputation":8293,"user_id":355491,"display_name":"multitask landscape"},"down_vote_count":0,"up_vote_count":186,"is_accepted":false,"score":186,"last_activity_date":1693516144,"creation_date":1331567372,"answer_id":9670279,"question_id":5513144,"body_markdown":"Convert without creating `String` object:\r\n\r\n    import java.nio.CharBuffer;\r\n    import java.nio.ByteBuffer;\r\n    import java.util.Arrays;\r\n    \r\n    byte[] toBytes(char[] chars) {\r\n      CharBuffer charBuffer = CharBuffer.wrap(chars);\r\n      ByteBuffer byteBuffer = Charset.forName(&quot;UTF-8&quot;).encode(charBuffer);\r\n      byte[] bytes = Arrays.copyOfRange(byteBuffer.array(),\r\n                byteBuffer.position(), byteBuffer.limit());\r\n      Arrays.fill(byteBuffer.array(), (byte) 0); // clear sensitive data\r\n      return bytes;\r\n    }\r\n\r\nUsage:\r\n\r\n    char[] chars = {&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;};\r\n    byte[] bytes = toBytes(chars);\r\n    /* do something with chars/bytes */\r\n    Arrays.fill(chars, &#39;\\u0000&#39;); // clear sensitive data\r\n    Arrays.fill(bytes, (byte) 0); // clear sensitive data\r\n\r\nSolution is inspired from Swing recommendation to store passwords in char[]. (See [Why is char[] preferred over String for passwords?][1])\r\n\r\nRemember not to write sensitive data to logs and ensure that JVM won&#39;t hold any references to it.\r\n\r\nThis method is needed only for security concerns. If data is not sensitive it better to use `String.getBytes` instead.\r\n\r\n---\r\nHere is pseudo-code (actually, Scala code) how to do the same thing manually for **UTF-8**:\r\n\r\n    val xs: Array[Char] = &quot;A &#223; € 嗨 &#119070; &#128578;&quot;.toArray\r\n    val len = xs.length\r\n    val ys: Array[Byte] = new Array(3 * len) // worst case\r\n    var i = 0; var j = 0 // i for chars; j for bytes\r\n    while (i &lt; len) { // fill ys with bytes\r\n      val c = xs(i)\r\n      if (c &lt; 0x80) {\r\n        ys(j) = c.toByte\r\n        i = i + 1\r\n        j = j + 1\r\n      } else if (c &lt; 0x800) {\r\n        ys(j) = (0xc0 | (c &gt;&gt; 6)).toByte\r\n        ys(j + 1) = (0x80 | (c &amp; 0x3f)).toByte\r\n        i = i + 1\r\n        j = j + 2\r\n      } else if (Character.isHighSurrogate(c)) {\r\n        if (len - i &lt; 2) throw new Exception(&quot;overflow&quot;)\r\n        val d = xs(i + 1)\r\n        val uc: Int = \r\n          if (Character.isLowSurrogate(d)) {\r\n            Character.toCodePoint(c, d)\r\n          } else {\r\n            throw new Exception(&quot;malformed&quot;)\r\n          }\r\n        ys(j) = (0xf0 | ((uc &gt;&gt; 18))).toByte\r\n        ys(j + 1) = (0x80 | ((uc &gt;&gt; 12) &amp; 0x3f)).toByte\r\n        ys(j + 2) = (0x80 | ((uc &gt;&gt;  6) &amp; 0x3f)).toByte\r\n        ys(j + 3) = (0x80 | (uc &amp; 0x3f)).toByte\r\n        i = i + 2 // 2 chars\r\n        j = j + 4\r\n      } else if (Character.isLowSurrogate(c)) {\r\n        throw new Exception(&quot;malformed&quot;)\r\n      } else {\r\n        ys(j) = (0xe0 | (c &gt;&gt; 12)).toByte\r\n        ys(j + 1) = (0x80 | ((c &gt;&gt; 6) &amp; 0x3f)).toByte\r\n        ys(j + 2) = (0x80 | (c &amp; 0x3f)).toByte\r\n        i = i + 1\r\n        j = j + 3\r\n      }\r\n    }\r\n    // check\r\n    println(new String(ys, 0, j, &quot;UTF-8&quot;))\r\n\r\nThis code looks similar to what is in JDK[[2]] and Protobuf[[3]].\r\n\r\n  [1]: https://stackoverflow.com/questions/8881291/why-is-char-preferred-over-string-for-passwords\r\n  [2]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/nio/cs/UTF_8.java#L455\r\n  [3]: https://github.com/protocolbuffers/protobuf/blob/master/java/core/src/main/java/com/google/protobuf/Utf8.java#L1038","title":"Converting char[] to byte[]","body":"<p>Convert without creating <code>String</code> object:</p>\n<pre><code>import java.nio.CharBuffer;\nimport java.nio.ByteBuffer;\nimport java.util.Arrays;\n\nbyte[] toBytes(char[] chars) {\n  CharBuffer charBuffer = CharBuffer.wrap(chars);\n  ByteBuffer byteBuffer = Charset.forName(&quot;UTF-8&quot;).encode(charBuffer);\n  byte[] bytes = Arrays.copyOfRange(byteBuffer.array(),\n            byteBuffer.position(), byteBuffer.limit());\n  Arrays.fill(byteBuffer.array(), (byte) 0); // clear sensitive data\n  return bytes;\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>char[] chars = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'};\nbyte[] bytes = toBytes(chars);\n/* do something with chars/bytes */\nArrays.fill(chars, '\\u0000'); // clear sensitive data\nArrays.fill(bytes, (byte) 0); // clear sensitive data\n</code></pre>\n<p>Solution is inspired from Swing recommendation to store passwords in char[]. (See <a href=\"https://stackoverflow.com/questions/8881291/why-is-char-preferred-over-string-for-passwords\">Why is char[] preferred over String for passwords?</a>)</p>\n<p>Remember not to write sensitive data to logs and ensure that JVM won't hold any references to it.</p>\n<p>This method is needed only for security concerns. If data is not sensitive it better to use <code>String.getBytes</code> instead.</p>\n<hr />\n<p>Here is pseudo-code (actually, Scala code) how to do the same thing manually for <strong>UTF-8</strong>:</p>\n<pre><code>val xs: Array[Char] = &quot;A ß € 嗨 𝄞 🙂&quot;.toArray\nval len = xs.length\nval ys: Array[Byte] = new Array(3 * len) // worst case\nvar i = 0; var j = 0 // i for chars; j for bytes\nwhile (i &lt; len) { // fill ys with bytes\n  val c = xs(i)\n  if (c &lt; 0x80) {\n    ys(j) = c.toByte\n    i = i + 1\n    j = j + 1\n  } else if (c &lt; 0x800) {\n    ys(j) = (0xc0 | (c &gt;&gt; 6)).toByte\n    ys(j + 1) = (0x80 | (c &amp; 0x3f)).toByte\n    i = i + 1\n    j = j + 2\n  } else if (Character.isHighSurrogate(c)) {\n    if (len - i &lt; 2) throw new Exception(&quot;overflow&quot;)\n    val d = xs(i + 1)\n    val uc: Int = \n      if (Character.isLowSurrogate(d)) {\n        Character.toCodePoint(c, d)\n      } else {\n        throw new Exception(&quot;malformed&quot;)\n      }\n    ys(j) = (0xf0 | ((uc &gt;&gt; 18))).toByte\n    ys(j + 1) = (0x80 | ((uc &gt;&gt; 12) &amp; 0x3f)).toByte\n    ys(j + 2) = (0x80 | ((uc &gt;&gt;  6) &amp; 0x3f)).toByte\n    ys(j + 3) = (0x80 | (uc &amp; 0x3f)).toByte\n    i = i + 2 // 2 chars\n    j = j + 4\n  } else if (Character.isLowSurrogate(c)) {\n    throw new Exception(&quot;malformed&quot;)\n  } else {\n    ys(j) = (0xe0 | (c &gt;&gt; 12)).toByte\n    ys(j + 1) = (0x80 | ((c &gt;&gt; 6) &amp; 0x3f)).toByte\n    ys(j + 2) = (0x80 | (c &amp; 0x3f)).toByte\n    i = i + 1\n    j = j + 3\n  }\n}\n// check\nprintln(new String(ys, 0, j, &quot;UTF-8&quot;))\n</code></pre>\n<p>This code looks similar to what is in JDK[<a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/nio/cs/UTF_8.java#L455\" rel=\"nofollow noreferrer\">2</a>] and Protobuf[<a href=\"https://github.com/protocolbuffers/protobuf/blob/master/java/core/src/main/java/com/google/protobuf/Utf8.java#L1038\" rel=\"nofollow noreferrer\">3</a>].</p>\n"},{"tags":[],"owner":{"account_id":3232589,"reputation":5274,"user_id":2727476,"display_name":"djsutho"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1391073545,"creation_date":1387176123,"answer_id":20604909,"question_id":5513144,"body_markdown":"## Edit: Andrey&#39;s answer has been updated so the following no longer applies. ##\n\nAndrey&#39;s answer (the highest voted at the time of writing) is slightly\nincorrect. I would have added this as comment but I am not\nreputable enough.\n\nIn Andrey&#39;s answer:\n\n    char[] chars = {&#39;c&#39;, &#39;h&#39;, &#39;a&#39;, &#39;r&#39;, &#39;s&#39;}\n    byte[] bytes = Charset.forName(&quot;UTF-8&quot;).encode(CharBuffer.wrap(chars)).array();\n\nthe call to array() may not return the desired value, for example:\n\n    char[] c = &quot;aaaaaaaaaa&quot;.toCharArray();\n    System.out.println(Arrays.toString(Charset.forName(&quot;UTF-8&quot;).encode(CharBuffer.wrap(c)).array()));\n\noutput:\n\n    [97, 97, 97, 97, 97, 97, 97, 97, 97, 97, 0]\n\nAs can be seen a zero byte has been added. To avoid this use the following:\n\n    char[] c = &quot;aaaaaaaaaa&quot;.toCharArray();\n    ByteBuffer bb = Charset.forName(&quot;UTF-8&quot;).encode(CharBuffer.wrap(c));\n    byte[] b = new byte[bb.remaining()];\n    bb.get(b);\n    System.out.println(Arrays.toString(b));\n\noutput:\n\n    [97, 97, 97, 97, 97, 97, 97, 97, 97, 97]\n\nAs the answer also alluded to using passwords it might be worth\nblanking out the array that backs the ByteBuffer (accessed via the\narray() function):\n\n    ByteBuffer bb = Charset.forName(&quot;UTF-8&quot;).encode(CharBuffer.wrap(c));\n    byte[] b = new byte[bb.remaining()];\n    bb.get(b);\n    blankOutByteArray(bb.array());\n    System.out.println(Arrays.toString(b));","title":"Converting char[] to byte[]","body":"<h2>Edit: Andrey's answer has been updated so the following no longer applies.</h2>\n<p>Andrey's answer (the highest voted at the time of writing) is slightly\nincorrect. I would have added this as comment but I am not\nreputable enough.</p>\n<p>In Andrey's answer:</p>\n<pre><code>char[] chars = {'c', 'h', 'a', 'r', 's'}\nbyte[] bytes = Charset.forName(&quot;UTF-8&quot;).encode(CharBuffer.wrap(chars)).array();\n</code></pre>\n<p>the call to array() may not return the desired value, for example:</p>\n<pre><code>char[] c = &quot;aaaaaaaaaa&quot;.toCharArray();\nSystem.out.println(Arrays.toString(Charset.forName(&quot;UTF-8&quot;).encode(CharBuffer.wrap(c)).array()));\n</code></pre>\n<p>output:</p>\n<pre><code>[97, 97, 97, 97, 97, 97, 97, 97, 97, 97, 0]\n</code></pre>\n<p>As can be seen a zero byte has been added. To avoid this use the following:</p>\n<pre><code>char[] c = &quot;aaaaaaaaaa&quot;.toCharArray();\nByteBuffer bb = Charset.forName(&quot;UTF-8&quot;).encode(CharBuffer.wrap(c));\nbyte[] b = new byte[bb.remaining()];\nbb.get(b);\nSystem.out.println(Arrays.toString(b));\n</code></pre>\n<p>output:</p>\n<pre><code>[97, 97, 97, 97, 97, 97, 97, 97, 97, 97]\n</code></pre>\n<p>As the answer also alluded to using passwords it might be worth\nblanking out the array that backs the ByteBuffer (accessed via the\narray() function):</p>\n<pre><code>ByteBuffer bb = Charset.forName(&quot;UTF-8&quot;).encode(CharBuffer.wrap(c));\nbyte[] b = new byte[bb.remaining()];\nbb.get(b);\nblankOutByteArray(bb.array());\nSystem.out.println(Arrays.toString(b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3934345,"reputation":552,"user_id":3251360,"accept_rate":80,"display_name":"Java Is Cool"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1411606014,"creation_date":1411606014,"answer_id":26028759,"question_id":5513144,"body_markdown":"You could make a method:\r\n\r\n    public byte[] toBytes(char[] data) {\r\n    byte[] toRet = new byte[data.length];\r\n    for(int i = 0; i &lt; toRet.length; i++) {\r\n    toRet[i] = (byte) data[i];\r\n    }\r\n    return toRet;\r\n    }\r\n\r\nHope this helps","title":"Converting char[] to byte[]","body":"<p>You could make a method:</p>\n\n<pre><code>public byte[] toBytes(char[] data) {\nbyte[] toRet = new byte[data.length];\nfor(int i = 0; i &lt; toRet.length; i++) {\ntoRet[i] = (byte) data[i];\n}\nreturn toRet;\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":3364879,"reputation":409,"user_id":2825770,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523853945,"creation_date":1523853945,"answer_id":49849791,"question_id":5513144,"body_markdown":"\r\n\r\n    private static byte[] charArrayToByteArray(char[] c_array) {\r\n            byte[] b_array = new byte[c_array.length];\r\n            for(int i= 0; i &lt; c_array.length; i++) {\r\n                b_array[i] = (byte)(0xFF &amp; (int)c_array[i]);\r\n            }\r\n            return b_array;\r\n    }","title":"Converting char[] to byte[]","body":"<pre><code>private static byte[] charArrayToByteArray(char[] c_array) {\n        byte[] b_array = new byte[c_array.length];\n        for(int i= 0; i &lt; c_array.length; i++) {\n            b_array[i] = (byte)(0xFF &amp; (int)c_array[i]);\n        }\n        return b_array;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8081606,"reputation":178,"user_id":6090603,"display_name":"henry700"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623698358,"creation_date":1623695799,"answer_id":67975528,"question_id":5513144,"body_markdown":"If you just want to convert the data container (the array) type itself, only regarding the data size and being agnostic to any encoding:\r\n\r\n```java\r\n// original byte[]\r\nbyte[] pattern = null;\r\nchar[] arr = new char[pattern.length * 2];\r\nByteBuffer wrapper = ByteBuffer.wrap(pattern);\r\nwrapper.position(0);\r\nint i = 0;\r\nwhile(wrapper.hasRemaining()) {\r\n    char character = wrapper.remaining() &lt; 2 ? ((char) (((int) wrapper.get()) &lt;&lt; 8)) : wrapper.getChar();\r\n    arr[i++] = character;\r\n}\r\n```","title":"Converting char[] to byte[]","body":"<p>If you just want to convert the data container (the array) type itself, only regarding the data size and being agnostic to any encoding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// original byte[]\nbyte[] pattern = null;\nchar[] arr = new char[pattern.length * 2];\nByteBuffer wrapper = ByteBuffer.wrap(pattern);\nwrapper.position(0);\nint i = 0;\nwhile(wrapper.hasRemaining()) {\n    char character = wrapper.remaining() &lt; 2 ? ((char) (((int) wrapper.get()) &lt;&lt; 8)) : wrapper.getChar();\n    arr[i++] = character;\n}\n</code></pre>\n"}],"owner":{"account_id":201517,"reputation":4011,"user_id":448005,"accept_rate":73,"display_name":"Arun Abraham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167668,"favorite_count":0,"down_vote_count":1,"up_vote_count":101,"accepted_answer_id":5513167,"answer_count":6,"score":100,"last_activity_date":1693516144,"creation_date":1301659710,"question_id":5513144,"body_markdown":"I would like to convert a character array to a byte array in Java.  What methods exists for making this conversion?","title":"Converting char[] to byte[]","body":"<p>I would like to convert a character array to a byte array in Java.  What methods exists for making this conversion?</p>\n"},{"tags":["java","mocking"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1693517505,"post_id":77019193,"comment_id":135775663,"body_markdown":"We do like specifics, because without specifics it is impossible to answer questions! If you have a problem with syntax, you need to show the actual code and the actual error. Otherwise it isn&#39;t possible to help.","body":"We do like specifics, because without specifics it is impossible to answer questions! If you have a problem with syntax, you need to show the actual code and the actual error. Otherwise it isn&#39;t possible to help."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693593919,"post_id":77019193,"comment_id":135786539,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8063776,"reputation":1,"user_id":6078591,"display_name":"CaptainPaul"},"score":0,"creation_date":1693752828,"post_id":77019193,"comment_id":135799115,"body_markdown":"I am trying to set up the code so I can post it.  Its taking a while","body":"I am trying to set up the code so I can post it.  Its taking a while"}],"owner":{"account_id":8063776,"reputation":1,"user_id":6078591,"display_name":"CaptainPaul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693514951,"creation_date":1693514951,"question_id":77019193,"body_markdown":"Way too much code to post here so let me try to be more specific.\r\n\r\nI&#39;m charged with writing unit tests on a lot of older code.  I ran into a method that needs testing, but it calls a second method in another class, which calls other method in its Class.\r\n\r\nClassA.method is to be tested. It sets 3 attributes,2 strings and a List. then it calls classB.method with those 3 attributes. \r\n\r\n\r\nso its like this:\r\n\r\n```\r\n    ClassA.method(string, string, List)\r\n       get value of local_tag\r\n       get Action from list\r\n\r\n       Switch (Action)\r\n           Case Action-1\r\n              Call ClassB.method( str, str, LIST)\r\n              If(local_tag = string set from list )  //  not actuall that straight forward..    \r\n                   set responseString to &quot;xyz&quot;\r\n              break\r\n           Case Action-2\r\n```\r\n              etc.\r\n         \r\nMy question is, how do you mock a method with a List?   \r\n       \r\nI don&#39;t have access to Mockito, but do have EasyMock and PowerMock.  (still not clear on the differences)  \r\n\r\nSeems like most of the answers I&#39;ve seen here rely on Mockito.  I&#39;ve also noticed that most of the answers are 8,9, 10 or more years old, so I wonder it they are still accurate.  \r\n\r\nI&#39;ve tried all sorts of syntax to make this work, searched every where, here included. but nothing that seems to address this scenario. (mocking a different class method WITH a List attribute inside the method being tested.\r\n\r\nI just want to know if i&#39;m wasting my timne.\r\n\r\nSorry to be so general.  I know you guys like specifics.  I&#39;ll add that I&#39;m new to Java and Mocking.  This is how I&#39;m getting &quot;broken in&quot;.  I&#39;m just wondering if this is like the Old logger prank where then tell the new guy to go get the chain stretcher.\r\n\r\n```\r\n    ClassB myClassB =PowerMock.createMock(ClassB.class);\r\n    expect(classB.method( strA, strB, List)).andReturn();\r\n    verifyAll();\r\n    replayAll();\r\n\r\n    or\r\n\r\n    ClassB myClassB = PowerMock.createMock(ClassB.class);\r\n    expect(classB.method(EasyMock.isA(classxyz.class)EasyMock.isA(classabc.class),\r\n            EasyMock.isA(List.class))).andReturn();\r\n    replayAll();\r\n\r\n    or\r\n\r\n    ClassB myClassB =PowerMock.createMock(ClassB.class);\r\n    expect(classB.method(EasyMock.&lt;classA&gt;anyObject(),EasyMock.&lt;List&lt;classB&gt;&gt;anyObject(),\r\n         EasyMock.&lt;classC&gt;.anyObject())).andReturn();\r\n    replayAll();\r\n\r\n```\r\nI get all sorts of errors depending on what I try of course. One i get quite frequently is\r\n     Required type Void, provided void.\r\nI have no idea what that means, I interpret it to mean, you got the wrong syntax.\r\n","title":"General Java unit test question. I have to mock a method (with a List parameter) inside the method I&#39;m testing, Issue is with syntax","body":"<p>Way too much code to post here so let me try to be more specific.</p>\n<p>I'm charged with writing unit tests on a lot of older code.  I ran into a method that needs testing, but it calls a second method in another class, which calls other method in its Class.</p>\n<p>ClassA.method is to be tested. It sets 3 attributes,2 strings and a List. then it calls classB.method with those 3 attributes.</p>\n<p>so its like this:</p>\n<pre><code>    ClassA.method(string, string, List)\n       get value of local_tag\n       get Action from list\n\n       Switch (Action)\n           Case Action-1\n              Call ClassB.method( str, str, LIST)\n              If(local_tag = string set from list )  //  not actuall that straight forward..    \n                   set responseString to &quot;xyz&quot;\n              break\n           Case Action-2\n</code></pre>\n<pre><code>          etc.\n     \n</code></pre>\n<p>My question is, how do you mock a method with a List?</p>\n<p>I don't have access to Mockito, but do have EasyMock and PowerMock.  (still not clear on the differences)</p>\n<p>Seems like most of the answers I've seen here rely on Mockito.  I've also noticed that most of the answers are 8,9, 10 or more years old, so I wonder it they are still accurate.</p>\n<p>I've tried all sorts of syntax to make this work, searched every where, here included. but nothing that seems to address this scenario. (mocking a different class method WITH a List attribute inside the method being tested.</p>\n<p>I just want to know if i'm wasting my timne.</p>\n<p>Sorry to be so general.  I know you guys like specifics.  I'll add that I'm new to Java and Mocking.  This is how I'm getting &quot;broken in&quot;.  I'm just wondering if this is like the Old logger prank where then tell the new guy to go get the chain stretcher.</p>\n<pre><code>    ClassB myClassB =PowerMock.createMock(ClassB.class);\n    expect(classB.method( strA, strB, List)).andReturn();\n    verifyAll();\n    replayAll();\n\n    or\n\n    ClassB myClassB = PowerMock.createMock(ClassB.class);\n    expect(classB.method(EasyMock.isA(classxyz.class)EasyMock.isA(classabc.class),\n            EasyMock.isA(List.class))).andReturn();\n    replayAll();\n\n    or\n\n    ClassB myClassB =PowerMock.createMock(ClassB.class);\n    expect(classB.method(EasyMock.&lt;classA&gt;anyObject(),EasyMock.&lt;List&lt;classB&gt;&gt;anyObject(),\n         EasyMock.&lt;classC&gt;.anyObject())).andReturn();\n    replayAll();\n\n</code></pre>\n<p>I get all sorts of errors depending on what I try of course. One i get quite frequently is\nRequired type Void, provided void.\nI have no idea what that means, I interpret it to mean, you got the wrong syntax.</p>\n"},{"tags":["java","scala","java-text-blocks"],"comments":[{"owner":{"account_id":5362663,"reputation":4519,"user_id":4273446,"display_name":"Dyrandz Famador"},"score":0,"creation_date":1423184179,"post_id":28356801,"comment_id":45057052,"body_markdown":"take a look at this.. http://stackoverflow.com/questions/20324715/double-quotes-within-string-like-triple-double-quote-in-python","body":"take a look at this.. <a href=\"http://stackoverflow.com/questions/20324715/double-quotes-within-string-like-triple-double-quote-in-python\" title=\"double quotes within string like triple double quote in python\">stackoverflow.com/questions/20324715/&hellip;</a>"},{"owner":{"account_id":4558421,"reputation":2296,"user_id":3701433,"accept_rate":46,"display_name":"Prudhvi"},"score":0,"creation_date":1423184246,"post_id":28356801,"comment_id":45057070,"body_markdown":"I don&#39;t think there&#39;s an other way in Java. You know every language is different!","body":"I don&#39;t think there&#39;s an other way in Java. You know every language is different!"},{"owner":{"account_id":3791748,"reputation":933,"user_id":3148067,"accept_rate":67,"display_name":"Ypnypn"},"score":1,"creation_date":1423184281,"post_id":28356801,"comment_id":45057081,"body_markdown":"It might be easier to the JSON in a separate file, and read from it.","body":"It might be easier to the JSON in a separate file, and read from it."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1423186573,"post_id":28356801,"comment_id":45057666,"body_markdown":"You should use a JSON library to compose your JSON, rather than string concatenation.","body":"You should use a JSON library to compose your JSON, rather than string concatenation."},{"owner":{"account_id":2475356,"reputation":1618,"user_id":2472760,"accept_rate":59,"display_name":"HiChews123"},"score":1,"creation_date":1423200877,"post_id":28356801,"comment_id":45061252,"body_markdown":"@DavidConrad - I agree, but if you&#39;re just trying to whip up something simple, triple quotes out of the box as a language feature would be super nifty","body":"@DavidConrad - I agree, but if you&#39;re just trying to whip up something simple, triple quotes out of the box as a language feature would be super nifty"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1693511627,"post_id":28356801,"comment_id":135774750,"body_markdown":"Although this mostly duplicates [prior Question](https://stackoverflow.com/q/20324715/1357094), this one has since received better [Java 15] Answers for `Text Blocks`.","body":"Although this mostly duplicates <a href=\"https://stackoverflow.com/q/20324715/1357094\">prior Question</a>, this one has since received better [Java 15] Answers for <code>Text Blocks</code>."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1693514798,"creation_date":1423185316,"answer_id":28357019,"question_id":28356801,"body_markdown":"_Note: This answer was written prior to Java 15, which [introduced the triple-quote text block feature](https://www.baeldung.com/java-text-blocks).  Please see [@epox&#39;s answer](https://stackoverflow.com/questions/28356801/triple-quotes-in-java-like-scala/59839267#59839267) for how to use this feature._\r\n\r\n---\r\n\r\nThere is no good alternative to using `\\&quot;` to include double-quotes in your string literal.\r\n\r\nThere are bad alternatives:\r\n\r\n- Use `\\u0022`, the Unicode escape for a double-quote character.  The compiler treats a Unicode escape as if that character was typed.  It&#39;s treated as a double-quote character in the _source code_, ending/beginning a `String` literal, so this does NOT work.\r\n- Concatenate the character `&#39;&quot;&#39;`, e.g. `&quot;This is a &quot; + &#39;&quot;&#39; + &quot;string&quot;`.  This will work, but it seems to be even uglier and less readable than just using `\\&quot;`.\r\n- Concatenate the `char` 34 to represent the double-quote character, e.g. `&quot;This is a &quot; + (char) 34 + &quot;string&quot;`.  This will work, but it&#39;s even less obvious that you&#39;re attempting to place a double-quote character in your string.\r\n- Copy and paste Word&#39;s &quot;smart quotes&quot;, e.g. `&quot;This is a “string” with “quotes” in it!&quot;`.  These aren&#39;t the same characters (Unicode U+201C and U+201D); they have different appearances, but they&#39;ll work.\r\n\r\nI suppose to hide the &quot;disgusting&quot;-ness, you could hide it behind a constant.\r\n\r\n    public static final String DOUBLE_QUOTE = &quot;\\&quot;&quot;;\r\n\r\nThen you could use:\r\n\r\n    String expr = &quot; This is a &quot; + DOUBLE_QUOTE + &quot;string&quot; + DOUBLE_QUOTE + ...;\r\n\r\nIt&#39;s more readable than other options, but it&#39;s still not very readable, and it&#39;s still ugly.\r\n\r\nThere is no `&quot;&quot;&quot;` mechanism in Java, so using the escape `\\&quot;`, is the best option.  It&#39;s the most readable, and it&#39;s the least ugly.","title":"Triple quotes in Java like Scala","body":"<p><em>Note: This answer was written prior to Java 15, which <a href=\"https://www.baeldung.com/java-text-blocks\" rel=\"nofollow noreferrer\">introduced the triple-quote text block feature</a>.  Please see <a href=\"https://stackoverflow.com/questions/28356801/triple-quotes-in-java-like-scala/59839267#59839267\">@epox's answer</a> for how to use this feature.</em></p>\n<hr />\n<p>There is no good alternative to using <code>\\&quot;</code> to include double-quotes in your string literal.</p>\n<p>There are bad alternatives:</p>\n<ul>\n<li>Use <code>\\u0022</code>, the Unicode escape for a double-quote character.  The compiler treats a Unicode escape as if that character was typed.  It's treated as a double-quote character in the <em>source code</em>, ending/beginning a <code>String</code> literal, so this does NOT work.</li>\n<li>Concatenate the character <code>'&quot;'</code>, e.g. <code>&quot;This is a &quot; + '&quot;' + &quot;string&quot;</code>.  This will work, but it seems to be even uglier and less readable than just using <code>\\&quot;</code>.</li>\n<li>Concatenate the <code>char</code> 34 to represent the double-quote character, e.g. <code>&quot;This is a &quot; + (char) 34 + &quot;string&quot;</code>.  This will work, but it's even less obvious that you're attempting to place a double-quote character in your string.</li>\n<li>Copy and paste Word's &quot;smart quotes&quot;, e.g. <code>&quot;This is a “string” with “quotes” in it!&quot;</code>.  These aren't the same characters (Unicode U+201C and U+201D); they have different appearances, but they'll work.</li>\n</ul>\n<p>I suppose to hide the &quot;disgusting&quot;-ness, you could hide it behind a constant.</p>\n<pre><code>public static final String DOUBLE_QUOTE = &quot;\\&quot;&quot;;\n</code></pre>\n<p>Then you could use:</p>\n<pre><code>String expr = &quot; This is a &quot; + DOUBLE_QUOTE + &quot;string&quot; + DOUBLE_QUOTE + ...;\n</code></pre>\n<p>It's more readable than other options, but it's still not very readable, and it's still ugly.</p>\n<p>There is no <code>&quot;&quot;&quot;</code> mechanism in Java, so using the escape <code>\\&quot;</code>, is the best option.  It's the most readable, and it's the least ugly.</p>\n"},{"tags":[],"owner":{"account_id":5593566,"reputation":412,"user_id":4431955,"display_name":"Joris"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1509462379,"creation_date":1509462379,"answer_id":47038599,"question_id":28356801,"body_markdown":"Found this question while doing the same thing: composing small literal JSON strings for quick testing. One alternative that didn&#39;t come up is to use double single-quotes and replace them with double quotes, something like:\r\n\r\n    String json = &quot;{ &#39;&#39;label&#39;&#39; : &#39;&#39;set range&#39;&#39;, &#39;&#39;min&#39;&#39; : 0, &#39;&#39;max&#39;&#39; : 100}&quot;.replace(&quot;&#39;&#39;&quot;, &quot;\\&quot;&quot;)\r\n\r\nObviously this doesn&#39;t work if there&#39;s a regular double single quote, but chances of that should be slim. It&#39;s not a great solution, but looks better than lots of backslashes, imo. As an intermediate step to putting the json in a separate file, this is probably not too bad.\r\n\r\n","title":"Triple quotes in Java like Scala","body":"<p>Found this question while doing the same thing: composing small literal JSON strings for quick testing. One alternative that didn't come up is to use double single-quotes and replace them with double quotes, something like:</p>\n\n<pre><code>String json = \"{ ''label'' : ''set range'', ''min'' : 0, ''max'' : 100}\".replace(\"''\", \"\\\"\")\n</code></pre>\n\n<p>Obviously this doesn't work if there's a regular double single quote, but chances of that should be slim. It's not a great solution, but looks better than lots of backslashes, imo. As an intermediate step to putting the json in a separate file, this is probably not too bad.</p>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1691714092,"creation_date":1579603205,"answer_id":59839267,"question_id":28356801,"body_markdown":"Since Java 15\r\n-\r\nor since Java 13 **preview feature**. REF: https://openjdk.java.net/jeps/355\r\n\r\nIt doesn&#39;t work precisely in Scala way. The opening triple quotes **must** be followed by a new line.\r\n\r\n    var expr = &quot;&quot;&quot;\r\n               This is a 1-line &quot;string&quot; with &quot;quotes&quot; and no leading spaces in it! &quot;&quot;&quot;;\r\n\r\nThe position of the closing triple quotes matters. It defines the indent size. For example, for having 2 spaces indent, you position your closing `&quot;&quot;&quot;` as follows:\r\n\r\n    String sql = &quot;&quot;&quot;\r\n                   SELECT   emp_id, last_name\r\n                   FROM     postgres.employee\r\n                   WHERE    city = &#39;INDIANAPOLIS&#39;\r\n                   ORDER BY emp_id, last_name;\r\n                 &quot;&quot;&quot;;\r\n\r\nthis would result in 4 lines of text:\r\n\r\n      SELECT   emp_id, last_name\r\n      FROM     postgres.employee\r\n      WHERE    city = &#39;INDIANAPOLIS&#39;\r\n      ORDER BY emp_id, last_name;\r\n\r\n---\r\nEscaping:\r\n-\r\n\r\nTripple quotes escaping is intuitive:\r\n\r\n    String txt = &quot;&quot;&quot;\r\n        A text block with three quotes \\&quot;&quot;&quot; inside.&quot;&quot;&quot;;\r\n\r\n`\\` (backslash) is still a special symbol&#129301;. You have to escape it by doubling `\\\\`:\r\n\r\n    String txt = &quot;&quot;&quot;\r\n        A text block with a single blackslash \\\\ in it.&quot;&quot;&quot;;\r\n\r\n---\r\nTrailing spaces\r\n-\r\nJava compiler **ignores** any ending spaces. \r\n\r\nWORKAROUND: add `\\s` to the end of the line. ([Baeldung example][1])\r\n\r\n---\r\nWindows `\\r\\n` line terminators\r\n-\r\nNo matter if you compile in MacOs or Windows, the string constant will always use `\\n` and only `\\n`\r\n\r\nWORKAROUND: add `\\r` to the end of the line. ([Baeldung example][2])\r\n\r\n---\r\nConcatenating 2 lines\r\n-\r\nSince Java 14 preview, you may continue the same line below, if the previous one ended with a single backslash:\r\n\r\n     var oneLine = &quot;&quot;&quot;\r\n                   This is one \\\r\n                     line of text!&quot;&quot;&quot;;\r\n\r\nResult:\r\n\r\n    This is one   line of text!\r\n\r\nEnjoy ;)\r\n=\r\nYou can play with the output right away in an online Java 17+ compiler: https://www.jdoodle.com/online-java-compiler/\r\n\r\n---\r\n**NOTE:** If using in Java 13(14), the feature was preview, there. So you could not use it in Java 13(14), unless you set the `--enable-preview TextBlock` key.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-text-blocks#escaping-spaces\r\n  [2]: https://www.baeldung.com/java-text-blocks#escaping-line-terminators","title":"Triple quotes in Java like Scala","body":"<h2>Since Java 15</h2>\n<p>or since Java 13 <strong>preview feature</strong>. REF: <a href=\"https://openjdk.java.net/jeps/355\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/355</a></p>\n<p>It doesn't work precisely in Scala way. The opening triple quotes <strong>must</strong> be followed by a new line.</p>\n<pre><code>var expr = &quot;&quot;&quot;\n           This is a 1-line &quot;string&quot; with &quot;quotes&quot; and no leading spaces in it! &quot;&quot;&quot;;\n</code></pre>\n<p>The position of the closing triple quotes matters. It defines the indent size. For example, for having 2 spaces indent, you position your closing <code>&quot;&quot;&quot;</code> as follows:</p>\n<pre><code>String sql = &quot;&quot;&quot;\n               SELECT   emp_id, last_name\n               FROM     postgres.employee\n               WHERE    city = 'INDIANAPOLIS'\n               ORDER BY emp_id, last_name;\n             &quot;&quot;&quot;;\n</code></pre>\n<p>this would result in 4 lines of text:</p>\n<pre><code>  SELECT   emp_id, last_name\n  FROM     postgres.employee\n  WHERE    city = 'INDIANAPOLIS'\n  ORDER BY emp_id, last_name;\n</code></pre>\n<hr />\n<h2>Escaping:</h2>\n<p>Tripple quotes escaping is intuitive:</p>\n<pre><code>String txt = &quot;&quot;&quot;\n    A text block with three quotes \\&quot;&quot;&quot; inside.&quot;&quot;&quot;;\n</code></pre>\n<p><code>\\</code> (backslash) is still a special symbol🤕. You have to escape it by doubling <code>\\\\</code>:</p>\n<pre><code>String txt = &quot;&quot;&quot;\n    A text block with a single blackslash \\\\ in it.&quot;&quot;&quot;;\n</code></pre>\n<hr />\n<h2>Trailing spaces</h2>\n<p>Java compiler <strong>ignores</strong> any ending spaces.</p>\n<p>WORKAROUND: add <code>\\s</code> to the end of the line. (<a href=\"https://www.baeldung.com/java-text-blocks#escaping-spaces\" rel=\"nofollow noreferrer\">Baeldung example</a>)</p>\n<hr />\n<h2>Windows <code>\\r\\n</code> line terminators</h2>\n<p>No matter if you compile in MacOs or Windows, the string constant will always use <code>\\n</code> and only <code>\\n</code></p>\n<p>WORKAROUND: add <code>\\r</code> to the end of the line. (<a href=\"https://www.baeldung.com/java-text-blocks#escaping-line-terminators\" rel=\"nofollow noreferrer\">Baeldung example</a>)</p>\n<hr />\n<h2>Concatenating 2 lines</h2>\n<p>Since Java 14 preview, you may continue the same line below, if the previous one ended with a single backslash:</p>\n<pre><code> var oneLine = &quot;&quot;&quot;\n               This is one \\\n                 line of text!&quot;&quot;&quot;;\n</code></pre>\n<p>Result:</p>\n<pre><code>This is one   line of text!\n</code></pre>\n<h1>Enjoy ;)</h1>\n<p>You can play with the output right away in an online Java 17+ compiler: <a href=\"https://www.jdoodle.com/online-java-compiler/\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/online-java-compiler/</a></p>\n<hr />\n<p><strong>NOTE:</strong> If using in Java 13(14), the feature was preview, there. So you could not use it in Java 13(14), unless you set the <code>--enable-preview TextBlock</code> key.</p>\n"},{"tags":[],"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609859745,"creation_date":1599633130,"answer_id":63805952,"question_id":28356801,"body_markdown":"The feature of `&quot;Raw String Literals&quot;` was meant to be in **Java 12**, but was [withdrawn][1] due to some criticism, because they planned to use variable number of backquotes (`). \r\n\r\nSo it is in **Java 13** finally, as `&quot;Text Block&quot;` feature, but in **preview** only. It is using `&quot;&quot;&quot;` operator like in Scala.\r\n\r\nYou can read more on Java 13 features [here][2].\r\n\r\n\r\n  [1]: https://mail.openjdk.java.net/pipermail/jdk-dev/2018-December/002402.html\r\n  [2]: https://www.journaldev.com/33204/java-13-features#1-text-blocks-8211-jep-355","title":"Triple quotes in Java like Scala","body":"<p>The feature of <code>&quot;Raw String Literals&quot;</code> was meant to be in <strong>Java 12</strong>, but was <a href=\"https://mail.openjdk.java.net/pipermail/jdk-dev/2018-December/002402.html\" rel=\"nofollow noreferrer\">withdrawn</a> due to some criticism, because they planned to use variable number of backquotes (`).</p>\n<p>So it is in <strong>Java 13</strong> finally, as <code>&quot;Text Block&quot;</code> feature, but in <strong>preview</strong> only. It is using <code>&quot;&quot;&quot;</code> operator like in Scala.</p>\n<p>You can read more on Java 13 features <a href=\"https://www.journaldev.com/33204/java-13-features#1-text-blocks-8211-jep-355\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10123132,"reputation":639,"user_id":7479415,"display_name":"Paul Rambags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660830948,"creation_date":1660830948,"answer_id":73404326,"question_id":28356801,"body_markdown":"The triple quote feature is available since **Java 14**. For more details, see for instance, https://howtodoinjava.com/java14/java-text-blocks/","title":"Triple quotes in Java like Scala","body":"<p>The triple quote feature is available since <strong>Java 14</strong>. For more details, see for instance, <a href=\"https://howtodoinjava.com/java14/java-text-blocks/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java14/java-text-blocks/</a></p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669171805,"creation_date":1669171805,"answer_id":74541242,"question_id":28356801,"body_markdown":"The feature that you want is called `Text Blocks` and delivered in Java 15, [JEP378](https://openjdk.org/jeps/378).\r\n\r\n### History\r\n\r\n&gt; Text blocks were proposed by JEP 355 in early 2019 as a follow-on to\r\n&gt; explorations begun in JEP 326 (Raw String Literals), which was\r\n&gt; initially targeted to JDK 12 but eventually withdrawn and did not\r\n&gt; appear in that release. JEP 355 was targeted to JDK 13 in June 2019 as\r\n&gt; a preview feature. Feedback on JDK 13 suggested that text blocks\r\n&gt; should be previewed again in JDK 14, with the addition of two new\r\n&gt; escape sequences. Consequently, JEP 368 was targeted to JDK 14 in\r\n&gt; November 2019 as a preview feature. Feedback on JDK 14 suggested that\r\n&gt; text blocks were ready to become final and permanent in JDK 15 with no\r\n&gt; further changes.\r\n\r\n### Usage\r\n\r\n    String query = &quot;&quot;&quot;\r\n                   SELECT &quot;EMP_ID&quot;, &quot;LAST_NAME&quot; FROM &quot;EMPLOYEE_TB&quot;\r\n                   WHERE &quot;CITY&quot; = &#39;INDIANAPOLIS&#39;\r\n                   ORDER BY &quot;EMP_ID&quot;, &quot;LAST_NAME&quot;;\r\n                   &quot;&quot;&quot;;","title":"Triple quotes in Java like Scala","body":"<p>The feature that you want is called <code>Text Blocks</code> and delivered in Java 15, <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">JEP378</a>.</p>\n<h3>History</h3>\n<blockquote>\n<p>Text blocks were proposed by JEP 355 in early 2019 as a follow-on to\nexplorations begun in JEP 326 (Raw String Literals), which was\ninitially targeted to JDK 12 but eventually withdrawn and did not\nappear in that release. JEP 355 was targeted to JDK 13 in June 2019 as\na preview feature. Feedback on JDK 13 suggested that text blocks\nshould be previewed again in JDK 14, with the addition of two new\nescape sequences. Consequently, JEP 368 was targeted to JDK 14 in\nNovember 2019 as a preview feature. Feedback on JDK 14 suggested that\ntext blocks were ready to become final and permanent in JDK 15 with no\nfurther changes.</p>\n</blockquote>\n<h3>Usage</h3>\n<pre><code>String query = &quot;&quot;&quot;\n               SELECT &quot;EMP_ID&quot;, &quot;LAST_NAME&quot; FROM &quot;EMPLOYEE_TB&quot;\n               WHERE &quot;CITY&quot; = 'INDIANAPOLIS'\n               ORDER BY &quot;EMP_ID&quot;, &quot;LAST_NAME&quot;;\n               &quot;&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":2475356,"reputation":1618,"user_id":2472760,"accept_rate":59,"display_name":"HiChews123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33371,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":28357019,"answer_count":6,"score":19,"last_activity_date":1693514798,"creation_date":1423183882,"question_id":28356801,"body_markdown":"In Scala you can do something like this:\r\n\r\n    val expr = &quot;&quot;&quot; This is a &quot;string&quot; with &quot;quotes&quot; in it! &quot;&quot;&quot;\r\n\r\nIs there something like this in Java? I abhor using `&quot;\\&quot;&quot;` to represent strings with quotes in them. Especially when composing key/value pairs in JSON. Disgusting!\r\n\r\n","title":"Triple quotes in Java like Scala","body":"<p>In Scala you can do something like this:</p>\n\n<pre><code>val expr = \"\"\" This is a \"string\" with \"quotes\" in it! \"\"\"\n</code></pre>\n\n<p>Is there something like this in Java? I abhor using <code>\"\\\"\"</code> to represent strings with quotes in them. Especially when composing key/value pairs in JSON. Disgusting!</p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":28682652,"reputation":47,"user_id":21963506,"display_name":"Farhood Naqizadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693514439,"creation_date":1693513903,"question_id":77019107,"body_markdown":"Hello I have Mysql/Mariadb Server That need to export database with all Table structure and data in it. I connected with JPA with xml config file , that need to export all Table structure and data with this connection and not execute some SSH/CMD command for export database, How can be done this?\r\n\r\nMy JPA Connection is : \r\n\r\n```\r\npublic class HibernateConnection {\r\n\r\n\r\n    private static HibernateConnection instance;\r\n    private EntityManagerFactory entityManagerFactory;\r\n\r\n    private HibernateConnection() {\r\n        entityManagerFactory = Persistence.createEntityManagerFactory(&quot;jpa-connection-ca-local&quot;);\r\n    }\r\n\r\n    public static synchronized HibernateConnection getInstance() {\r\n        return instance == null ? instance = new HibernateConnection() : instance;\r\n    }\r\n\r\n    public EntityManagerFactory getEntityManagerFactory() {\r\n        return entityManagerFactory;\r\n    }\r\n\r\n    public void shutdown() {\r\n        if (entityManagerFactory != null) {\r\n            entityManagerFactory.close();\r\n            instance = null;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\nI need just export a Single file (.sql) for all create and insert Tables.\r\nIf all tables goes into multiple file no matter and is good for me.\r\nThanks all Stackoverflow users.\r\n","title":"Export Database From JPA Connection","body":"<p>Hello I have Mysql/Mariadb Server That need to export database with all Table structure and data in it. I connected with JPA with xml config file , that need to export all Table structure and data with this connection and not execute some SSH/CMD command for export database, How can be done this?</p>\n<p>My JPA Connection is :</p>\n<pre><code>public class HibernateConnection {\n\n\n    private static HibernateConnection instance;\n    private EntityManagerFactory entityManagerFactory;\n\n    private HibernateConnection() {\n        entityManagerFactory = Persistence.createEntityManagerFactory(&quot;jpa-connection-ca-local&quot;);\n    }\n\n    public static synchronized HibernateConnection getInstance() {\n        return instance == null ? instance = new HibernateConnection() : instance;\n    }\n\n    public EntityManagerFactory getEntityManagerFactory() {\n        return entityManagerFactory;\n    }\n\n    public void shutdown() {\n        if (entityManagerFactory != null) {\n            entityManagerFactory.close();\n            instance = null;\n        }\n    }\n\n\n}\n</code></pre>\n<p>I need just export a Single file (.sql) for all create and insert Tables.\nIf all tables goes into multiple file no matter and is good for me.\nThanks all Stackoverflow users.</p>\n"},{"tags":["java","google-cloud-platform","apache-beam","google-cloud-spanner"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693408770,"post_id":77009181,"comment_id":135757681,"body_markdown":"On what operating system is the application running?","body":"On what operating system is the application running?"},{"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"score":0,"creation_date":1693409675,"post_id":77009181,"comment_id":135757870,"body_markdown":"&quot;os.name&quot;: &quot;Windows 11&quot;,&quot;os.version&quot;: &quot;10.0&quot;,","body":"&quot;os.name&quot;: &quot;Windows 11&quot;,&quot;os.version&quot;: &quot;10.0&quot;,"},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1693499061,"post_id":77009181,"comment_id":135772437,"body_markdown":"Your problem is identified by `java.lang.OutOfMemoryError: unable to create native thread`. Your options are to select a larger instance size [link](https://cloud.google.com/dataflow/docs/guides/troubleshoot-oom#increase-memory) or optimize [link](https://cloud.google.com/dataflow/docs/guides/troubleshoot-oom#optimize)","body":"Your problem is identified by <code>java.lang.OutOfMemoryError: unable to create native thread</code>. Your options are to select a larger instance size <a href=\"https://cloud.google.com/dataflow/docs/guides/troubleshoot-oom#increase-memory\" rel=\"nofollow noreferrer\">link</a> or optimize <a href=\"https://cloud.google.com/dataflow/docs/guides/troubleshoot-oom#optimize\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693513876,"creation_date":1693513876,"answer_id":77019102,"question_id":77009181,"body_markdown":"As what @John Hanley said, `java.lang.OutOfMemoryError: unable to create native thread` can be resolved by optimizing your pipeline by reducing the memory usage, and by alotting more memory available on workers or per thread.\r\n\r\nAlso, refer to this [Dataflow pipeline diagram](https://cloud.google.com/dataflow/docs/guides/troubleshoot-oom#resolve-errors) to visualize the troubleshooting workflow .\r\n\r\n![image](https://storage.googleapis.com/spr-prod8-cdata/DAM/194/4491cca4-6f91-4d8f-b0e2-781eca2adf80-1306710493/Screenshot\\_2023-09-01\\_4.23.55\\_\\_p.png)","title":"OOM Error in Apache beam java streaming pipeline","body":"<p>As what @John Hanley said, <code>java.lang.OutOfMemoryError: unable to create native thread</code> can be resolved by optimizing your pipeline by reducing the memory usage, and by alotting more memory available on workers or per thread.</p>\n<p>Also, refer to this <a href=\"https://cloud.google.com/dataflow/docs/guides/troubleshoot-oom#resolve-errors\" rel=\"nofollow noreferrer\">Dataflow pipeline diagram</a> to visualize the troubleshooting workflow .</p>\n<p><img src=\"https://storage.googleapis.com/spr-prod8-cdata/DAM/194/4491cca4-6f91-4d8f-b0e2-781eca2adf80-1306710493/Screenshot_2023-09-01_4.23.55__p.png\" alt=\"image\" /></p>\n"}],"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77019102,"answer_count":1,"score":0,"last_activity_date":1693513876,"creation_date":1693407374,"question_id":77009181,"body_markdown":"My dataflow job streaming pipeline is designed as below.\r\n\r\n1) Reading updated/inserted row from spanner change stream as datachangerecord\r\n2) if datachangerecord mod is insert than create tablerow\r\n3) if datachangerecord mod is update than collect primary key as Pcollection ( because i need complete row to insert in GBQ, datachangerocord newJson only giving me updated columns. not all columns)\r\n4) apply GroupIntoBatches of 5000 size with MaxBufferingDuration as 5000ms on the update key value Pcollection\r\nThis will split my update Pcollection into batches, each batch contain 5000 keys.\r\n5) calling spanner again using spanner DatabaseClient here  iam using `In` query so that for 5000 update keys it will make single spanner call\r\n6) Than creating tablerow for spanner update resultset.\r\n7) flattening both insert tablerow ( from step 2 )and update table row into single pcollection\r\n8) publish to pubsub topic for both update and insert tablerow \r\n9) writing both update and insert tablerow  into GBQ\r\n\r\nThis is a streaming job here iam getting OOM becouse of spanner update calls ( if i remove steps 3 to 6 no OOM )\r\n\r\njob profiler giving the below traces\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uahcI.png\r\n\r\nfrom profiler `java arrays copyofrange ` occupies more memory and below is job log\r\n\r\n`\r\ngeneric::unknown: org.apache.beam.sdk.util.UserCodeException: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached at org.apache.beam.sdk.util.UserCodeException.wrap(UserCodeException.java:\r\n`\r\n\r\n1) How can I solve this error?\r\n2) Is there any way to get complete row from spanner change stream, so that I can avoid spanner call?\r\n\r\n","title":"OOM Error in Apache beam java streaming pipeline","body":"<p>My dataflow job streaming pipeline is designed as below.</p>\n<ol>\n<li>Reading updated/inserted row from spanner change stream as datachangerecord</li>\n<li>if datachangerecord mod is insert than create tablerow</li>\n<li>if datachangerecord mod is update than collect primary key as Pcollection ( because i need complete row to insert in GBQ, datachangerocord newJson only giving me updated columns. not all columns)</li>\n<li>apply GroupIntoBatches of 5000 size with MaxBufferingDuration as 5000ms on the update key value Pcollection\nThis will split my update Pcollection into batches, each batch contain 5000 keys.</li>\n<li>calling spanner again using spanner DatabaseClient here  iam using <code>In</code> query so that for 5000 update keys it will make single spanner call</li>\n<li>Than creating tablerow for spanner update resultset.</li>\n<li>flattening both insert tablerow ( from step 2 )and update table row into single pcollection</li>\n<li>publish to pubsub topic for both update and insert tablerow</li>\n<li>writing both update and insert tablerow  into GBQ</li>\n</ol>\n<p>This is a streaming job here iam getting OOM becouse of spanner update calls ( if i remove steps 3 to 6 no OOM )</p>\n<p>job profiler giving the below traces</p>\n<p><a href=\"https://i.stack.imgur.com/uahcI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uahcI.png\" alt=\"enter image description here\" /></a></p>\n<p>from profiler <code>java arrays copyofrange </code> occupies more memory and below is job log</p>\n<p><code>generic::unknown: org.apache.beam.sdk.util.UserCodeException: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached at org.apache.beam.sdk.util.UserCodeException.wrap(UserCodeException.java:</code></p>\n<ol>\n<li>How can I solve this error?</li>\n<li>Is there any way to get complete row from spanner change stream, so that I can avoid spanner call?</li>\n</ol>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1693494878,"post_id":77016828,"comment_id":135771504,"body_markdown":"0x4d = 77 decimal. How to you get from 77 to .36?","body":"0x4d = 77 decimal. How to you get from 77 to .36?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1693496830,"post_id":77016828,"comment_id":135771925,"body_markdown":"@K.Nicholas that&#39;s literally their question, how do they go from the hex to the values shown =)","body":"@K.Nicholas that&#39;s literally their question, how do they go from the hex to the values shown =)"}],"answers":[{"tags":[],"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693496580,"creation_date":1693495445,"answer_id":77017236,"question_id":77016828,"body_markdown":"Some Math:  \r\n- since the range is &#177;16G: `G = input / 0x8000 * 16 = input / 2048.0`  \r\n(`0x8000` because `0x7FFF` is max positive number)  \r\n(double needed here since `input` is an integer type)\r\n- and since `1G = 9.81m/s&#178;`; `a = 9.81 * input / 2048.0`  \r\n(or `a = input * 9.81 / 2048.0`)\r\n\r\nThe method for this (if needed) could be:\r\n\r\n````\r\ndouble convert(short input) { \r\n    return input * 9.81 / 2048.0;\r\n}\r\n````\r\n\r\nTest:  \r\n````\r\nIntStream\r\n.of(0x00_4D, 0xFF_EC, 0xFD_FB)\r\n.mapToObj(i -&gt; &quot;%04X -&gt; %5.2f m/s&#178;&quot;.formatted((short)i, convert((short)i)\r\n )\r\n.forEach(System.out::println);\r\n````\r\nresulting in\r\n&gt; ````\r\n&gt; 004D -&gt;  0.37 m/s&#178;\r\n&gt; FFEC -&gt; -0.10 m/s&#178;\r\n&gt; FDFB -&gt; -2.48 m/s&#178;\r\n&gt; ````\r\n\r\nAre you sure that `-7.39 m/s&#178;` is correct for the 3rd value?\r\n\r\nI do not know Netty `ByteBuf`, but it also has a [`readShort()`](https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html#readShort--) that should read two bytes as short that can be given to above method, or just converted directly - the method is not really needed (mind correct order of bytes, see also [`readshortLE()`](https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html#readShortLE--)) \r\n","title":"Converting 2-byte hex data from G-sensor to float","body":"<p>Some Math:</p>\n<ul>\n<li>since the range is ±16G: <code>G = input / 0x8000 * 16 = input / 2048.0</code><br />\n(<code>0x8000</code> because <code>0x7FFF</code> is max positive number)<br />\n(double needed here since <code>input</code> is an integer type)</li>\n<li>and since <code>1G = 9.81m/s²</code>; <code>a = 9.81 * input / 2048.0</code><br />\n(or <code>a = input * 9.81 / 2048.0</code>)</li>\n</ul>\n<p>The method for this (if needed) could be:</p>\n<pre><code>double convert(short input) { \n    return input * 9.81 / 2048.0;\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>IntStream\n.of(0x00_4D, 0xFF_EC, 0xFD_FB)\n.mapToObj(i -&gt; &quot;%04X -&gt; %5.2f m/s²&quot;.formatted((short)i, convert((short)i)\n )\n.forEach(System.out::println);\n</code></pre>\n<p>resulting in</p>\n<blockquote>\n<pre><code>004D -&gt;  0.37 m/s²\nFFEC -&gt; -0.10 m/s²\nFDFB -&gt; -2.48 m/s²\n</code></pre>\n</blockquote>\n<p>Are you sure that <code>-7.39 m/s²</code> is correct for the 3rd value?</p>\n<p>I do not know Netty <code>ByteBuf</code>, but it also has a <a href=\"https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html#readShort--\" rel=\"nofollow noreferrer\"><code>readShort()</code></a> that should read two bytes as short that can be given to above method, or just converted directly - the method is not really needed (mind correct order of bytes, see also <a href=\"https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html#readShortLE--\" rel=\"nofollow noreferrer\"><code>readshortLE()</code></a>)</p>\n"}],"owner":{"account_id":3228922,"reputation":465,"user_id":2724625,"display_name":"Grigur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017236,"answer_count":1,"score":0,"last_activity_date":1693513873,"creation_date":1693492344,"question_id":77016828,"body_markdown":"I need to read acceleration on all 3 axes (X, Y, Z) from an accelerometer as float values in m/s&lt;sup&gt;2&lt;/sup&gt;. Quoting from the device documentation: \r\n&gt; Data for each axis uses **two bytes**. The range is set to **&#177;16g**. Data from G-sensor (14-bit precision) is expressed in **two&#39;s complement notation**. For example: \r\n- `0x00 0x4D` for X-axis means `0.36 m/s&#178;`\r\n- `0xFF 0xEC` for Y-axis means `-0.10 m/s&#178;`\r\n- `0xFD 0xFB` for Z-axis means `-7.39 m/s&#178;`\r\n\r\nI&#39;m trying to do the conversions for the examples above using [`Netty ByteBuf`](https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html). Unfortunately [`readFloat()`](https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html#readFloat--) can&#39;t be used because it will try to read 4 bytes instead of 2. \r\n\r\nPlease guide me on how to obtain the right float values from 2-byte hex.","title":"Converting 2-byte hex data from G-sensor to float","body":"<p>I need to read acceleration on all 3 axes (X, Y, Z) from an accelerometer as float values in m/s<sup>2</sup>. Quoting from the device documentation:</p>\n<blockquote>\n<p>Data for each axis uses <strong>two bytes</strong>. The range is set to <strong>±16g</strong>. Data from G-sensor (14-bit precision) is expressed in <strong>two's complement notation</strong>. For example:</p>\n</blockquote>\n<ul>\n<li><code>0x00 0x4D</code> for X-axis means <code>0.36 m/s²</code></li>\n<li><code>0xFF 0xEC</code> for Y-axis means <code>-0.10 m/s²</code></li>\n<li><code>0xFD 0xFB</code> for Z-axis means <code>-7.39 m/s²</code></li>\n</ul>\n<p>I'm trying to do the conversions for the examples above using <a href=\"https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html\" rel=\"nofollow noreferrer\"><code>Netty ByteBuf</code></a>. Unfortunately <a href=\"https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html#readFloat--\" rel=\"nofollow noreferrer\"><code>readFloat()</code></a> can't be used because it will try to read 4 bytes instead of 2.</p>\n<p>Please guide me on how to obtain the right float values from 2-byte hex.</p>\n"},{"tags":["java","java-8","raspberry-pi","raspbian"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1693333310,"post_id":77002721,"comment_id":135746062,"body_markdown":"We have much less information about what went wrong than you do. Can you tell us what seems to be going wrong? If you get error messages, please edit the question. Use copy-and-paste to include exact copies of the error messages.","body":"We have much less information about what went wrong than you do. Can you tell us what seems to be going wrong? If you get error messages, please edit the question. Use copy-and-paste to include exact copies of the error messages."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1693333310,"post_id":77002721,"comment_id":135746063,"body_markdown":"Define &quot;wouldn&#39;t work&quot;.","body":"Define &quot;wouldn&#39;t work&quot;."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693333614,"post_id":77002721,"comment_id":135746118,"body_markdown":"Did you execute `sudo apt update` before you executed `sudo apt install openjdk-8-jdk`?","body":"Did you execute <code>sudo apt update</code> before you executed <code>sudo apt install openjdk-8-jdk</code>?"},{"owner":{"account_id":29324232,"reputation":3,"user_id":22467139,"display_name":"Dom"},"score":0,"creation_date":1693336366,"post_id":77002721,"comment_id":135746585,"body_markdown":"@ArvindKumarAvinash yes I ran sudo apt update and it tells me all of my packages are up to date","body":"@ArvindKumarAvinash yes I ran sudo apt update and it tells me all of my packages are up to date"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693337953,"post_id":77002721,"comment_id":135746876,"body_markdown":"What does `sudo dpkg --get-selections | grep java` say?","body":"What does <code>sudo dpkg --get-selections | grep java</code> say?"},{"owner":{"account_id":29324232,"reputation":3,"user_id":22467139,"display_name":"Dom"},"score":0,"creation_date":1693338089,"post_id":77002721,"comment_id":135746900,"body_markdown":"@g00se it says ca-certificates-java                            install\njava-common                                     install\nlibatk-wrapper-java                             install\nlibatk-wrapper-java-jni:arm64                   install","body":"@g00se it says ca-certificates-java                            install java-common                                     install libatk-wrapper-java                             install libatk-wrapper-java-jni:arm64                   install"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693340385,"post_id":77002721,"comment_id":135747328,"body_markdown":"Oh I think you ought to do that again with jdk at the end of it as well","body":"Oh I think you ought to do that again with jdk at the end of it as well"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693342098,"post_id":77002721,"comment_id":135747637,"body_markdown":"Perhaps [SDKMAN!](https://sdkman.io/)","body":"Perhaps <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>"}],"answers":[{"tags":[],"owner":{"account_id":29314874,"reputation":61,"user_id":22459862,"display_name":"kahobe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693513636,"creation_date":1693335566,"answer_id":77002976,"question_id":77002721,"body_markdown":"Depending on what you meant by it would not work.\r\n\r\n**Java resolving to wrong version:**  \r\nAssuming that Java is still resolving to another version. Then you probably have multiple installed. You can switch using the following command:\r\n\r\n```bash\r\nupdate-alternatives --config java\r\n```\r\n\r\n**openjkd-8-jdk not available for installation:**  \r\nAssuming that the package could not be found, you could try run the following command to update the local list of packages. Then try to install it again.\r\n\r\n```bash\r\nsudo apt update\r\n```\r\n\r\nIf it still does not find openjdk-8-jdk after `sudo apt update`, you might need to add a mirror by adding a line to your /etc/apt/sources. list. \r\nHave a look at this thread, maybe it helps.\r\nhttps://stackoverflow.com/questions/57031649/how-to-install-openjdk-8-jdk-on-debian-10-buster\r\n\r\nChoose one of the mirrors listed here.\r\nhttps://packages.debian.org/sid/amd64/openjdk-8-jdk/download\r\n\r\nAdd it to the list of mirrors in your linux installation.\r\n```\r\nsudo apt-add-repository &#39;deb http://ftp.de.debian.org/debian sid main&#39;\r\n```\r\nUpdate the local list of packages again and try to install it.\r\n```\r\nsudo apt update --allow-unauthenticated\r\nsudo apt install openjdk-8-jdk \r\n```","title":"Unable to install Java 8 on raspbian lite","body":"<p>Depending on what you meant by it would not work.</p>\n<p><strong>Java resolving to wrong version:</strong><br />\nAssuming that Java is still resolving to another version. Then you probably have multiple installed. You can switch using the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>update-alternatives --config java\n</code></pre>\n<p><strong>openjkd-8-jdk not available for installation:</strong><br />\nAssuming that the package could not be found, you could try run the following command to update the local list of packages. Then try to install it again.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo apt update\n</code></pre>\n<p>If it still does not find openjdk-8-jdk after <code>sudo apt update</code>, you might need to add a mirror by adding a line to your /etc/apt/sources. list.\nHave a look at this thread, maybe it helps.\n<a href=\"https://stackoverflow.com/questions/57031649/how-to-install-openjdk-8-jdk-on-debian-10-buster\">How to install openjdk-8-jdk on Debian 10 (Buster)?</a></p>\n<p>Choose one of the mirrors listed here.\n<a href=\"https://packages.debian.org/sid/amd64/openjdk-8-jdk/download\" rel=\"nofollow noreferrer\">https://packages.debian.org/sid/amd64/openjdk-8-jdk/download</a></p>\n<p>Add it to the list of mirrors in your linux installation.</p>\n<pre><code>sudo apt-add-repository 'deb http://ftp.de.debian.org/debian sid main'\n</code></pre>\n<p>Update the local list of packages again and try to install it.</p>\n<pre><code>sudo apt update --allow-unauthenticated\nsudo apt install openjdk-8-jdk \n</code></pre>\n"}],"owner":{"account_id":29324232,"reputation":3,"user_id":22467139,"display_name":"Dom"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77002976,"answer_count":1,"score":0,"last_activity_date":1693513636,"creation_date":1693333141,"question_id":77002721,"body_markdown":"Trying to install Java 8 as I need an older version of Java to run something. I am using a Raspberry Pi 4B 8GB and am very new when it comes to Linux.\r\n\r\nI tried running `sudo apt install openjdk-8-jdk` and when that wouldn&#39;t work I tried researching. The only things I could find I either couldn&#39;t understand or just wouldn&#39;t work. I&#39;m sorry if I didn&#39;t give enough information, like I said I am very new to this stuff.\r\n\r\nEdit: \r\n---\r\n\r\nWhen I try to run `sudo apt install openjdk-8-jdk`, I get the error message: \r\n\r\n&gt; Unable to locate package openjdk-8-jdk.\r\n\r\n \r\n\r\nThis happened after I used `sudo apt update` and `sudo apt upgrade`.\r\n\r\nI did run `sudo apt install default-jdk` and it tells me it is already in the newest version but when I try to run `sudo update-alternatives --config java`, it tells me there is only one alternative in link group java (providing /usr/bin/java): /usr/lib/jvm/java-11-openjdk-arm64/bin/java nothing to configure.\r\n\r\nSorry for not being clear.","title":"Unable to install Java 8 on raspbian lite","body":"<p>Trying to install Java 8 as I need an older version of Java to run something. I am using a Raspberry Pi 4B 8GB and am very new when it comes to Linux.</p>\n<p>I tried running <code>sudo apt install openjdk-8-jdk</code> and when that wouldn't work I tried researching. The only things I could find I either couldn't understand or just wouldn't work. I'm sorry if I didn't give enough information, like I said I am very new to this stuff.</p>\n<h2>Edit:</h2>\n<p>When I try to run <code>sudo apt install openjdk-8-jdk</code>, I get the error message:</p>\n<blockquote>\n<p>Unable to locate package openjdk-8-jdk.</p>\n</blockquote>\n<p>This happened after I used <code>sudo apt update</code> and <code>sudo apt upgrade</code>.</p>\n<p>I did run <code>sudo apt install default-jdk</code> and it tells me it is already in the newest version but when I try to run <code>sudo update-alternatives --config java</code>, it tells me there is only one alternative in link group java (providing /usr/bin/java): /usr/lib/jvm/java-11-openjdk-arm64/bin/java nothing to configure.</p>\n<p>Sorry for not being clear.</p>\n"},{"tags":["java","image","binary","png","chunks"],"answers":[{"tags":[],"owner":{"account_id":21303886,"reputation":99,"user_id":15679422,"display_name":"Emmanuel Donald"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693512442,"creation_date":1693512442,"answer_id":77018975,"question_id":77016985,"body_markdown":"The below code uses [pngj 2.1.2.1][1]\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    import ar.com.hjg.pngj.FilterType;\r\n    import ar.com.hjg.pngj.ImageInfo;\r\n    import ar.com.hjg.pngj.PngWriter;\r\n    \r\n    public class RGB1 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\r\n\t\tfinal int CHUNK_SIZE = 134217728;\r\n\t\tfinal int SIDE = 5; // Dimensions hard coded to square 5 X 5, please change as needed\r\n\r\n\t\tbyte[] buf = new byte[CHUNK_SIZE];\r\n\r\n\t\tint br, i,j,row=0;\r\n\t\tint[] arr = new int[SIDE*3];// 3 Bytes per pixel\r\n\r\n\t\tFileInputStream fileInputStream=new FileInputStream(&quot;C:\\\\Don\\\\source.bin&quot;);\r\n\t\tOutputStream os = new FileOutputStream(&quot;C:\\\\Don\\\\dest.png&quot;);\r\n\r\n\t\tImageInfo imi = new ImageInfo(SIDE, SIDE, 8, false);\r\n\r\n\t\tPngWriter pngw = new PngWriter(os, imi);\r\n\t\tpngw.setCompLevel(9);// maximum compression\r\n\t\tpngw.setFilterType(FilterType.FILTER_ADAPTIVE_FAST); \r\n\t\t//Please Refer https://github.com/leonbloy/pngj/blob/master/src/main/java/ar/com/hjg/pngj/FilterType.java\r\n\r\n\t\tbr = fileInputStream.read(buf);\r\n\t\tj=0; \r\n\t\tSystem.out.println(&quot;Bytes Read: &quot; + br);\r\n\t\twhile(br&gt;0)\r\n\t\t{\r\n\t\t\tfor(i=0;i&lt;br;i++)\r\n\t\t\t{\r\n\t\t\t\tarr[j++] = buf[i] &amp; 0xFF;\r\n\r\n\t\t\t\tif(j==SIDE*3)\r\n\t\t\t\t{\r\n\t\t\t\t\tpngw.writeRowInt(arr);\r\n\r\n\t\t\t\t\tj=0;\r\n\t\t\t\t\trow++;\r\n\t\t\t\t\tif(row==SIDE) break;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif(row==SIDE) break;\r\n\t\t\tbr = fileInputStream.read(buf);\r\n\t\t\tSystem.out.println(&quot;Bytes Read: &quot; + br);\r\n\t\t}\r\n\r\n\t\tpngw.end();\r\n\r\n\t\tSystem.out.println(&quot;Done.&quot;);\r\n\t\tfileInputStream.close();\r\n\r\n\t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://github.com/leonbloy/pngj","title":"I&#39;m stuck with converting a very large binary file to PNG in Java","body":"<p>The below code uses <a href=\"https://github.com/leonbloy/pngj\" rel=\"nofollow noreferrer\">pngj 2.1.2.1</a></p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\nimport ar.com.hjg.pngj.FilterType;\nimport ar.com.hjg.pngj.ImageInfo;\nimport ar.com.hjg.pngj.PngWriter;\n\npublic class RGB1 {\n\npublic static void main(String[] args) throws IOException {\n\n    final int CHUNK_SIZE = 134217728;\n    final int SIDE = 5; // Dimensions hard coded to square 5 X 5, please change as needed\n\n    byte[] buf = new byte[CHUNK_SIZE];\n\n    int br, i,j,row=0;\n    int[] arr = new int[SIDE*3];// 3 Bytes per pixel\n\n    FileInputStream fileInputStream=new FileInputStream(&quot;C:\\\\Don\\\\source.bin&quot;);\n    OutputStream os = new FileOutputStream(&quot;C:\\\\Don\\\\dest.png&quot;);\n\n    ImageInfo imi = new ImageInfo(SIDE, SIDE, 8, false);\n\n    PngWriter pngw = new PngWriter(os, imi);\n    pngw.setCompLevel(9);// maximum compression\n    pngw.setFilterType(FilterType.FILTER_ADAPTIVE_FAST); \n    //Please Refer https://github.com/leonbloy/pngj/blob/master/src/main/java/ar/com/hjg/pngj/FilterType.java\n\n    br = fileInputStream.read(buf);\n    j=0; \n    System.out.println(&quot;Bytes Read: &quot; + br);\n    while(br&gt;0)\n    {\n        for(i=0;i&lt;br;i++)\n        {\n            arr[j++] = buf[i] &amp; 0xFF;\n\n            if(j==SIDE*3)\n            {\n                pngw.writeRowInt(arr);\n\n                j=0;\n                row++;\n                if(row==SIDE) break;\n            }\n\n        }\n        if(row==SIDE) break;\n        br = fileInputStream.read(buf);\n        System.out.println(&quot;Bytes Read: &quot; + br);\n    }\n\n    pngw.end();\n\n    System.out.println(&quot;Done.&quot;);\n    fileInputStream.close();\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":25856336,"reputation":35,"user_id":19589519,"display_name":"Queensalats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77018975,"answer_count":1,"score":2,"last_activity_date":1693512442,"creation_date":1693493605,"question_id":77016985,"body_markdown":"# Context \r\nI&#39;m trying to converting a binary file (this is a raw memory file, dumped from `pmemsave` instruction of QEmu monitor) to PNG file with RGB color. That&#39;s mean each 3 bytes equal Red-Green-Blue color in 1 pixel of PNG file.\r\n\r\nMy idea is below:\r\n```code\r\ncontent in binary file: 10001000 10100010 11000101 # and so on...\r\nconvert to RGB color in 1 pixel of PNG file: #88a2c5\r\n```\r\n\r\nIn my imagine, the workflow of this program is same as this:\r\n```shell\r\n# define the chunk size is 128MB\r\nCHUNK_SIZE = 134217728 \r\n\r\n# create new png file\r\npng.new(&quot;dest.png&quot;, format=RGB)\r\n\r\n# open file for writing content\r\npng.open_for_read()\r\n\r\nwhile not end of source file: \r\n  data = source.read(CHUNK_SIZE)\r\n  # another process...\r\n  png.append(data)\r\n\r\npng.save_on_disk()\r\n```\r\n\r\n\r\n\r\n# Problem\r\nI think it&#39;s very easy to do it by using `ImageIO` from `javax`. But my source file is really big (almost 2.1GB in size), so that the method `ImageIO.write` can&#39;t handle as well. By default, this method does not support chunking (it will destroy content in dest file if it exist).\r\n\r\nHow can I solve this problem? It&#39;s really happy for me to have any solution with modern feature of Java (like `stream` or something else)  ","title":"I&#39;m stuck with converting a very large binary file to PNG in Java","body":"<h1>Context</h1>\n<p>I'm trying to converting a binary file (this is a raw memory file, dumped from <code>pmemsave</code> instruction of QEmu monitor) to PNG file with RGB color. That's mean each 3 bytes equal Red-Green-Blue color in 1 pixel of PNG file.</p>\n<p>My idea is below:</p>\n<pre><code>content in binary file: 10001000 10100010 11000101 # and so on...\nconvert to RGB color in 1 pixel of PNG file: #88a2c5\n</code></pre>\n<p>In my imagine, the workflow of this program is same as this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># define the chunk size is 128MB\nCHUNK_SIZE = 134217728 \n\n# create new png file\npng.new(&quot;dest.png&quot;, format=RGB)\n\n# open file for writing content\npng.open_for_read()\n\nwhile not end of source file: \n  data = source.read(CHUNK_SIZE)\n  # another process...\n  png.append(data)\n\npng.save_on_disk()\n</code></pre>\n<h1>Problem</h1>\n<p>I think it's very easy to do it by using <code>ImageIO</code> from <code>javax</code>. But my source file is really big (almost 2.1GB in size), so that the method <code>ImageIO.write</code> can't handle as well. By default, this method does not support chunking (it will destroy content in dest file if it exist).</p>\n<p>How can I solve this problem? It's really happy for me to have any solution with modern feature of Java (like <code>stream</code> or something else)</p>\n"},{"tags":["java","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693512206,"creation_date":1693512206,"answer_id":77018958,"question_id":77018187,"body_markdown":"I ended up adding a SpotBugs filter exclusion to suppress the false errors.\r\n\r\n - For more detailed answer, see [this][1]\r\n - Needless to say [SpotBugs Gradle plugin][2] will have to be enabled\r\n\r\n**build.gradle**\r\n```\r\n..\r\n&lt;!-- configs for spotbugs gradle plugin activation --&gt;\r\n..\r\n..\r\n\r\nspotbugs {\r\n  ignoreFailures.set(false)\r\n  excludeFilter = file(&#39;spotbugs-exclude.xml&#39;)\r\n}\r\n```\r\n\r\n**spotbugs-exclude.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- Docs at http://findbugs.sourceforge.net/manual/filter.html --&gt;\r\n&lt;FindBugsFilter&gt;\r\n\r\n    &lt;Match&gt;\r\n        &lt;!-- To suppress false warnings in unit-tests for lambdas not using return values. --&gt;\r\n        &lt;Package name=&quot;~com\\.company\\.service\\.interfaces\\.types\\.contacts&quot;/&gt;\r\n        &lt;Bug pattern=&quot;RV_RETURN_VALUE_IGNORED&quot;/&gt;\r\n    &lt;/Match&gt;\r\n\r\n&lt;/FindBugsFilter&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77018910/3679900\r\n  [2]: https://www.google.com/search?q=spotbugs%20gradle%20plugin","title":"SpotBugs: How to suppress RV_RETURN_VALUE_IGNORED on lambda unit test","body":"<p>I ended up adding a SpotBugs filter exclusion to suppress the false errors.</p>\n<ul>\n<li>For more detailed answer, see <a href=\"https://stackoverflow.com/a/77018910/3679900\">this</a></li>\n<li>Needless to say <a href=\"https://www.google.com/search?q=spotbugs%20gradle%20plugin\" rel=\"nofollow noreferrer\">SpotBugs Gradle plugin</a> will have to be enabled</li>\n</ul>\n<p><strong>build.gradle</strong></p>\n<pre><code>..\n&lt;!-- configs for spotbugs gradle plugin activation --&gt;\n..\n..\n\nspotbugs {\n  ignoreFailures.set(false)\n  excludeFilter = file('spotbugs-exclude.xml')\n}\n</code></pre>\n<p><strong>spotbugs-exclude.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Docs at http://findbugs.sourceforge.net/manual/filter.html --&gt;\n&lt;FindBugsFilter&gt;\n\n    &lt;Match&gt;\n        &lt;!-- To suppress false warnings in unit-tests for lambdas not using return values. --&gt;\n        &lt;Package name=&quot;~com\\.company\\.service\\.interfaces\\.types\\.contacts&quot;/&gt;\n        &lt;Bug pattern=&quot;RV_RETURN_VALUE_IGNORED&quot;/&gt;\n    &lt;/Match&gt;\n\n&lt;/FindBugsFilter&gt;\n\n</code></pre>\n"}],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693512206,"creation_date":1693503923,"question_id":77018187,"body_markdown":"I have created a DTO class for `EmailAddress` as follows and I&#39;m trying to write a basic unit-test for it\r\n\r\n**EmailAddress.java**\r\n```\r\npackage com.company.service.interfaces.types.contacts;\r\n\r\nimport org.apache.commons.lang3.Validate;\r\nimport org.immutables.value.Value;\r\n\r\n/**\r\n * Type for wrapping a valid email addresslayer\r\n */\r\n@Value.Immutable(builder = false)\r\npublic abstract class EmailAddress {\r\n\r\n    @Value.Parameter\r\n    public abstract String value();\r\n\r\n    @Value.Check\r\n    void validate() {\r\n        Validate.notBlank(value(), &quot;&#39;emailAddress&#39; cannot be blank&quot;); // i want to unit-test this\r\n    }\r\n}\r\n\r\n```\r\n\r\n**EmailAddressTest.java**\r\n```\r\npackage com.company.service.interfaces.types.contacts;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\r\n\r\nclass EmailAddressTest {\r\n\r\n    @Test\r\n    public void testBuilder_nullInput() {\r\n        assertThatThrownBy(() -&gt; ImmutableEmailAddress.of(null))     // spot-bugs is failing on this line\r\n            .isExactlyInstanceOf(NullPointerException.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe above test-case is failing in SpotBugs report with `RV_RETURN_VALUE_IGNORED` error as follows\r\n\r\n```\r\nBug type RV_RETURN_VALUE_IGNORED (click for details)\r\nIn class com.company.service.interfaces.types.contacts.EmailAddressTest\r\nIn method com.company.service.interfaces.types.contacts.EmailAddressTest.lambda$testBuilder_nullInput$0()\r\nCalled method com.company.service.interfaces.types.contacts.ImmutableEmailAddress.of(String)\r\nAt EmailAddressTest.java:[line 11]\r\n```\r\n\r\n----\r\n\r\nAs I understand the [suppression annotations](https://findbugs.sourceforge.net/bugDescriptions.html#RV_RETURN_VALUE_IGNORED) such as `@CheckReturnValue` and `@SuppressFBWarnings(&quot;RV_RETURN_VALUE_IGNORED&quot;)` only work on methods with bodies and not on lambdas.\r\n\r\nHow can I work around this?","title":"SpotBugs: How to suppress RV_RETURN_VALUE_IGNORED on lambda unit test","body":"<p>I have created a DTO class for <code>EmailAddress</code> as follows and I'm trying to write a basic unit-test for it</p>\n<p><strong>EmailAddress.java</strong></p>\n<pre><code>package com.company.service.interfaces.types.contacts;\n\nimport org.apache.commons.lang3.Validate;\nimport org.immutables.value.Value;\n\n/**\n * Type for wrapping a valid email addresslayer\n */\n@Value.Immutable(builder = false)\npublic abstract class EmailAddress {\n\n    @Value.Parameter\n    public abstract String value();\n\n    @Value.Check\n    void validate() {\n        Validate.notBlank(value(), &quot;'emailAddress' cannot be blank&quot;); // i want to unit-test this\n    }\n}\n\n</code></pre>\n<p><strong>EmailAddressTest.java</strong></p>\n<pre><code>package com.company.service.interfaces.types.contacts;\n\nimport org.junit.jupiter.api.Test;\n\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\n\nclass EmailAddressTest {\n\n    @Test\n    public void testBuilder_nullInput() {\n        assertThatThrownBy(() -&gt; ImmutableEmailAddress.of(null))     // spot-bugs is failing on this line\n            .isExactlyInstanceOf(NullPointerException.class);\n    }\n}\n\n</code></pre>\n<p>The above test-case is failing in SpotBugs report with <code>RV_RETURN_VALUE_IGNORED</code> error as follows</p>\n<pre><code>Bug type RV_RETURN_VALUE_IGNORED (click for details)\nIn class com.company.service.interfaces.types.contacts.EmailAddressTest\nIn method com.company.service.interfaces.types.contacts.EmailAddressTest.lambda$testBuilder_nullInput$0()\nCalled method com.company.service.interfaces.types.contacts.ImmutableEmailAddress.of(String)\nAt EmailAddressTest.java:[line 11]\n</code></pre>\n<hr />\n<p>As I understand the <a href=\"https://findbugs.sourceforge.net/bugDescriptions.html#RV_RETURN_VALUE_IGNORED\" rel=\"nofollow noreferrer\">suppression annotations</a> such as <code>@CheckReturnValue</code> and <code>@SuppressFBWarnings(&quot;RV_RETURN_VALUE_IGNORED&quot;)</code> only work on methods with bodies and not on lambdas.</p>\n<p>How can I work around this?</p>\n"},{"tags":["java","spring-boot","spring-security","annotations","spring-expression"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693506548,"creation_date":1693506548,"answer_id":77018423,"question_id":77018274,"body_markdown":"Think that it is because meta-annotation supported by the spring security just simply allowing users to use a self-defined annotation (i.e   `@CurrentUserAccessLevel`) to refer a `@PreAuthorize(xxxxx)` and there are no fancy behaviour about using the attribute of the self-defined annotation (i.e `userId` attribute of `@CurrentUserAccessLevel`) to do some dynamic security configuration something like what you are trying to do. So the `userId` of the `@CurrentUserAccessLevel` is useless and you can remove it. \r\n\r\nThe `#userId` in the `@PreAuthorize` &#39;s expression refer to the parameter name of the method that are annotated with `@CurrentUserAccessLevel`. So it works if you change it to `#studentId` as the `getUserCourseDetails()` has a method parameter name `Long studentId`\r\n\r\nIf you do not want to change the parameter name of the method to `userId` , you can use [`@P`][1] to specify its value likes :\r\n\r\n \r\n``` java\r\n@CurrentUserAccessLevel\r\npublic UserCourseDetailsDto getUserCourseDetails( Long courseCode, @P(&quot;userId&quot;) Long studentId){\r\n  \r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#using_method_parameters","title":"How to use user ID as parameter for custom authentication annotation?","body":"<p>Think that it is because meta-annotation supported by the spring security just simply allowing users to use a self-defined annotation (i.e   <code>@CurrentUserAccessLevel</code>) to refer a <code>@PreAuthorize(xxxxx)</code> and there are no fancy behaviour about using the attribute of the self-defined annotation (i.e <code>userId</code> attribute of <code>@CurrentUserAccessLevel</code>) to do some dynamic security configuration something like what you are trying to do. So the <code>userId</code> of the <code>@CurrentUserAccessLevel</code> is useless and you can remove it.</p>\n<p>The <code>#userId</code> in the <code>@PreAuthorize</code> 's expression refer to the parameter name of the method that are annotated with <code>@CurrentUserAccessLevel</code>. So it works if you change it to <code>#studentId</code> as the <code>getUserCourseDetails()</code> has a method parameter name <code>Long studentId</code></p>\n<p>If you do not want to change the parameter name of the method to <code>userId</code> , you can use <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#using_method_parameters\" rel=\"nofollow noreferrer\"><code>@P</code></a> to specify its value likes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CurrentUserAccessLevel\npublic UserCourseDetailsDto getUserCourseDetails( Long courseCode, @P(&quot;userId&quot;) Long studentId){\n  \n}\n</code></pre>\n"}],"owner":{"account_id":25486283,"reputation":41,"user_id":19281826,"display_name":"yaroslav96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693512199,"creation_date":1693504857,"question_id":77018274,"body_markdown":"I&#39;ve a REST API:\r\n ```\r\n    @CurrentUserAccessLevel(userId = &quot;#studentId&quot;)\r\n    @GetMapping(value = &quot;/{course-code}/users/{student-id}&quot;)\r\n    public UserCourseDetailsDto getUserCourseDetails(@PathVariable(value = &quot;course-code&quot;) final Long courseCode,\r\n                                                     @PathVariable(value = &quot;student-id&quot;) final Long studentId) {\r\n        return userCourseService.getUserCourseDetails(studentId, courseCode);\r\n    }\r\n```\r\nand custom authentication annotation:\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.METHOD, ElementType.TYPE})\r\n@PreAuthorize(&quot;@applicationUserDetailsService.hasAccessToResourceOwnedBy(#userId)&quot;)\r\npublic @interface CurrentUserAccessLevel {\r\n    String userId();\r\n}\r\n```\r\n\r\nthe annotation uses method hasAccessToResourceOwnedBy(userId):\r\n```\r\npublic boolean hasAccessToResourceOwnedBy(final Long userId) {\r\n        final User currentUser = userService.resolveCurrentUser();\r\n        return isAdmin(currentUser) || Objects.equals(currentUser.getId(), userId);\r\n    }\r\n```\r\nbut I&#39;m getting null as userId. However, if I replace\r\n```\r\n@PreAuthorize(&quot;@applicationUserDetailsService.hasAccessToResourceOwnedBy(#userId)&quot;)\r\n```\r\nwith\r\n```\r\n@PreAuthorize(&quot;@applicationUserDetailsService.hasAccessToResourceOwnedBy(#studentId)&quot;)\r\n```\r\nI obtain requested user id.\r\n\r\nBasically, I need this annotation to avoid horizontal escalation of privileges, maybe there is some better solution?","title":"How to use user ID as parameter for custom authentication annotation?","body":"<p>I've a REST API:</p>\n<pre><code>   @CurrentUserAccessLevel(userId = &quot;#studentId&quot;)\n   @GetMapping(value = &quot;/{course-code}/users/{student-id}&quot;)\n   public UserCourseDetailsDto getUserCourseDetails(@PathVariable(value = &quot;course-code&quot;) final Long courseCode,\n                                                    @PathVariable(value = &quot;student-id&quot;) final Long studentId) {\n       return userCourseService.getUserCourseDetails(studentId, courseCode);\n   }\n</code></pre>\n<p>and custom authentication annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE})\n@PreAuthorize(&quot;@applicationUserDetailsService.hasAccessToResourceOwnedBy(#userId)&quot;)\npublic @interface CurrentUserAccessLevel {\n    String userId();\n}\n</code></pre>\n<p>the annotation uses method hasAccessToResourceOwnedBy(userId):</p>\n<pre><code>public boolean hasAccessToResourceOwnedBy(final Long userId) {\n        final User currentUser = userService.resolveCurrentUser();\n        return isAdmin(currentUser) || Objects.equals(currentUser.getId(), userId);\n    }\n</code></pre>\n<p>but I'm getting null as userId. However, if I replace</p>\n<pre><code>@PreAuthorize(&quot;@applicationUserDetailsService.hasAccessToResourceOwnedBy(#userId)&quot;)\n</code></pre>\n<p>with</p>\n<pre><code>@PreAuthorize(&quot;@applicationUserDetailsService.hasAccessToResourceOwnedBy(#studentId)&quot;)\n</code></pre>\n<p>I obtain requested user id.</p>\n<p>Basically, I need this annotation to avoid horizontal escalation of privileges, maybe there is some better solution?</p>\n"},{"tags":["java","spring","security","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1693509207,"post_id":77018599,"comment_id":135774331,"body_markdown":"what version of spring security are you using ?","body":"what version of spring security are you using ?"},{"owner":{"account_id":16098849,"reputation":23,"user_id":11620231,"display_name":"Dikianify"},"score":0,"creation_date":1693512421,"post_id":77018599,"comment_id":135774892,"body_markdown":"You&#39;re definitely onto something. I set the version to 5.1.5.RELEASE and now I get the message: &quot;Description:\n\nParameter 0 of method jwtFilterChain in com.reporter.config.SecurityConfig required a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; that could not be found.\n\n\nAction:\n\nConsider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration.&quot; Trying to work through it now.","body":"You&#39;re definitely onto something. I set the version to 5.1.5.RELEASE and now I get the message: &quot;Description:  Parameter 0 of method jwtFilterChain in com.reporter.config.SecurityConfig required a bean of type &#39;org.springframework.security.config.annotation.web.builders&zwnj;&#8203;.HttpSecurity&#39; that could not be found.   Action:  Consider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders&zwnj;&#8203;.HttpSecurity&#39; in your configuration.&quot; Trying to work through it now."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1693513252,"post_id":77018599,"comment_id":135775040,"body_markdown":"any particular reason to why you are not using the built in JWT features provided by spring security to verify JWTs? Also please note that handing out JWTs to browsers is very insecure, and jwts should not be used as session tokens in end clients like browsers, as they lack important security features that cookies have, using jwts as session holders makes you application suceptible to token steling attacks, csrf attacks, some cases DDos attacks etc.","body":"any particular reason to why you are not using the built in JWT features provided by spring security to verify JWTs? Also please note that handing out JWTs to browsers is very insecure, and jwts should not be used as session tokens in end clients like browsers, as they lack important security features that cookies have, using jwts as session holders makes you application suceptible to token steling attacks, csrf attacks, some cases DDos attacks etc."},{"owner":{"account_id":16098849,"reputation":23,"user_id":11620231,"display_name":"Dikianify"},"score":0,"creation_date":1693513918,"post_id":77018599,"comment_id":135775132,"body_markdown":"I&#39;m reading you. I&#39;ll close the quesiton and rethink how I&#39;m doing things for now.","body":"I&#39;m reading you. I&#39;ll close the quesiton and rethink how I&#39;m doing things for now."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693511935,"creation_date":1693511935,"answer_id":77018926,"question_id":77018599,"body_markdown":"It is not about the order of the `SecurityFilterChain` but the order of the filters within a particular `SecurityFilterChain`. The problem comes from the following line in `APIFilterChainConfig`\r\n\r\n``` java\r\n.addFilterBefore(apiKeyRequestFilter, JwtRequestFilter.class)\r\n```\r\n\r\nThe filter class that are specified in `addFilterBefore()` should be a spring security built-in filter which its ordering are explicitly defined in [this][1] or a filter that is successfully defined to be added to the same `SecurityFilterChain` before such that spring security has enough information to know what filter chain position should it add `apiKeyRequestFilter` to.\r\n\r\n\r\n`JwtRequestFilter` apparently is not the spring security built-in filter and so spring security does not know its order value to make such decision and hence throw this exception.\r\n\r\nTo fix the problem , you have to add `apiKeyRequestFilter` to the `SecurityFilterChain` based on one of the built-in filter which its know its order value, maybe just before `UsernamePasswordAuthenticationFilter` if that makes sense :\r\n\r\n``` java\r\n.addFilterBefore(apiKeyRequestFilter,UsernamePasswordAuthenticationFilter.class)\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/d23b231ac3137190c2af4b2fafe5ed3fe72a4a87/config/src/main/java/org/springframework/security/config/annotation/web/builders/FilterOrderRegistration.java#L72","title":"Bean Order value is Mysteriously null","body":"<p>It is not about the order of the <code>SecurityFilterChain</code> but the order of the filters within a particular <code>SecurityFilterChain</code>. The problem comes from the following line in <code>APIFilterChainConfig</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>.addFilterBefore(apiKeyRequestFilter, JwtRequestFilter.class)\n</code></pre>\n<p>The filter class that are specified in <code>addFilterBefore()</code> should be a spring security built-in filter which its ordering are explicitly defined in <a href=\"https://github.com/spring-projects/spring-security/blob/d23b231ac3137190c2af4b2fafe5ed3fe72a4a87/config/src/main/java/org/springframework/security/config/annotation/web/builders/FilterOrderRegistration.java#L72\" rel=\"nofollow noreferrer\">this</a> or a filter that is successfully defined to be added to the same <code>SecurityFilterChain</code> before such that spring security has enough information to know what filter chain position should it add <code>apiKeyRequestFilter</code> to.</p>\n<p><code>JwtRequestFilter</code> apparently is not the spring security built-in filter and so spring security does not know its order value to make such decision and hence throw this exception.</p>\n<p>To fix the problem , you have to add <code>apiKeyRequestFilter</code> to the <code>SecurityFilterChain</code> based on one of the built-in filter which its know its order value, maybe just before <code>UsernamePasswordAuthenticationFilter</code> if that makes sense :</p>\n<pre class=\"lang-java prettyprint-override\"><code>.addFilterBefore(apiKeyRequestFilter,UsernamePasswordAuthenticationFilter.class)\n</code></pre>\n"}],"owner":{"account_id":16098849,"reputation":23,"user_id":11620231,"display_name":"Dikianify"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77018926,"answer_count":1,"score":0,"last_activity_date":1693512170,"creation_date":1693508487,"question_id":77018599,"body_markdown":"I&#39;m trying to get two filters, one to catch jwt&#39;s and another to catch API keys. Here is my code: \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \t\r\n    \t@Autowired\r\n        private JwtRequestFilter jwtRequestFilter;\r\n    \t\r\n    \t@Autowired\r\n        private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ApiKeyRequestFilter apiKeyRequestFilter;\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth, UserDetailsService userDetailsService) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @Order(1)\r\n        SecurityFilterChain jwtFilterChain(HttpSecurity http) throws Exception {\r\n                return http\r\n                    .cors().and().csrf().disable()\r\n                    .authorizeRequests()\r\n                        .antMatchers(\r\n                                &quot;/authenticate&quot;,\r\n                                &quot;/register&quot;,\r\n                                &quot;/refresh&quot;,\r\n                                &quot;/post_appointment&quot;,\r\n                                &quot;/delete_appointment&quot;,\r\n                                &quot;/get_times&quot;,\r\n                                &quot;/get_services&quot;,\r\n                                &quot;/sendResetPassword&quot;,\r\n                                &quot;/sendSupport&quot;,\r\n                                &quot;/paymentWebhook&quot;,\r\n                                &quot;/api**&quot;)\r\n                            .permitAll()\r\n                        .anyRequest().authenticated()\r\n                    .and()\r\n                    .exceptionHandling()\r\n                        .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                    .and()\r\n                    .sessionManagement()\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class).build();\r\n           }\r\n    \r\n        @Bean\r\n        @Order(2)\r\n        SecurityFilterChain APIFilterChainConfig(HttpSecurity http) throws Exception {\r\n                return http\r\n                    .cors().and().csrf().disable()\r\n                    .authorizeRequests()\r\n                        .antMatchers(&quot;/api/**&quot;)\r\n                            .permitAll()\r\n                        .anyRequest().authenticated()\r\n                    .and()\r\n                    .addFilterBefore(apiKeyRequestFilter, JwtRequestFilter.class).build();\r\n        }\r\n    }\r\n\r\nRunning this gives me this error:  \r\n\r\n`Error creating bean with name &#39;APIFilterChainConfig&#39; defined in class path resource [com/reporter/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;APIFilterChainConfig&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;org.springframework.security.config.annotation.web.builders.FilterOrderRegistration.getOrder(java.lang.Class)&quot; is null`\r\n\r\nThis is confusing since I am clearly setting the order. Is it an issue with the filter itself? It&#39;s not very clear so any help would be appreciated. I&#39;ll also add this is part of a larger effort to modernize my security config according to this page: https://www.danvega.dev/blog/2023/04/20/multiple-spring-security-configs/.\r\n","title":"Bean Order value is Mysteriously null","body":"<p>I'm trying to get two filters, one to catch jwt's and another to catch API keys. Here is my code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n    \n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    \n    @Autowired\n    private ApiKeyRequestFilter apiKeyRequestFilter;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth, UserDetailsService userDetailsService) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n\n    @Bean\n    @Order(1)\n    SecurityFilterChain jwtFilterChain(HttpSecurity http) throws Exception {\n            return http\n                .cors().and().csrf().disable()\n                .authorizeRequests()\n                    .antMatchers(\n                            &quot;/authenticate&quot;,\n                            &quot;/register&quot;,\n                            &quot;/refresh&quot;,\n                            &quot;/post_appointment&quot;,\n                            &quot;/delete_appointment&quot;,\n                            &quot;/get_times&quot;,\n                            &quot;/get_services&quot;,\n                            &quot;/sendResetPassword&quot;,\n                            &quot;/sendSupport&quot;,\n                            &quot;/paymentWebhook&quot;,\n                            &quot;/api**&quot;)\n                        .permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                .exceptionHandling()\n                    .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class).build();\n       }\n\n    @Bean\n    @Order(2)\n    SecurityFilterChain APIFilterChainConfig(HttpSecurity http) throws Exception {\n            return http\n                .cors().and().csrf().disable()\n                .authorizeRequests()\n                    .antMatchers(&quot;/api/**&quot;)\n                        .permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                .addFilterBefore(apiKeyRequestFilter, JwtRequestFilter.class).build();\n    }\n}\n</code></pre>\n<p>Running this gives me this error:</p>\n<p><code>Error creating bean with name 'APIFilterChainConfig' defined in class path resource [com/reporter/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'APIFilterChainConfig' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;org.springframework.security.config.annotation.web.builders.FilterOrderRegistration.getOrder(java.lang.Class)&quot; is null</code></p>\n<p>This is confusing since I am clearly setting the order. Is it an issue with the filter itself? It's not very clear so any help would be appreciated. I'll also add this is part of a larger effort to modernize my security config according to this page: <a href=\"https://www.danvega.dev/blog/2023/04/20/multiple-spring-security-configs/\" rel=\"nofollow noreferrer\">https://www.danvega.dev/blog/2023/04/20/multiple-spring-security-configs/</a>.</p>\n"},{"tags":["java","jsp","dynamic","radio-button"],"answers":[{"tags":[],"owner":{"account_id":2305297,"reputation":1882,"user_id":2024692,"accept_rate":100,"display_name":"Cromax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391970617,"creation_date":1391970617,"answer_id":21663123,"question_id":21662644,"body_markdown":"AFAIR JDBC specification does not give guarantee, that you can call `getXxx` on a result set with the same column name/number twice. Most of JDBC drivers do support it, but some might not I am not sure if ODBC is not probably this exception. So first try to get values of all columns in a row to extra variables like this:\r\n\r\n    String from = resultset.getString(&quot;From&quot;);\r\n    String to = resultset.getString(&quot;To&quot;);\r\n    String trainName = resultset.getString(&quot;TrainName&quot;);\r\n\r\nand use it in this way:\r\n\r\n    &lt;tr&gt;&lt;td&gt;&lt;%=form%&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;%=to%&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;%=trainName%&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;TName&quot; value=&quot;&lt;%=trainName%&gt;&quot;/&gt; book&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nAlso please do escape these values, as if `trainName` would contain `&#39;&quot;&#39;` character, you may break HTML code.\r\n\r\nBut much more important is the way you wrote your code. First of all you should separate view layer (JSP) from the code. So you should create a class, that reads list of trains and simply put it into request, more or less like this:\r\n\r\n    public class RailLink {\r\n        public String from;\r\n        public String to;\r\n        public String trainName;\r\n    }\r\n\r\n    public class Trains {\r\n\r\n        private Connection getConnection() {\r\n            //- This code actually should be put somewhere else.\r\n    //          Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n    //          String db = &quot;jdbc:odbc:Driver={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=C:/Users/hp/Documents/Sample1.accdb&quot;;\r\n    //          Connection cn = DriverManager.getConnection(db, &quot;&quot;, &quot;&quot;); \r\n                return cn;\r\n        }\r\n\r\n        public static List&lt;RailLink&gt; findLinks(String from, String to) {\r\n            assert from != null &amp;&amp; to != null;\r\n            List&lt;RailLinks&gt; links = new LinkedList&lt;&gt;();\r\n            try (\r\n                Connection cn = getConnection();\r\n                PreparedStatement ps = cn.prepareStatement(&quot;SELECT * FROM Trains123 WHERE \\&quot;From\\&quot; = ? AND \\&quot;To\\&quot; = ?&quot;);\r\n            ) {\r\n                ps.setString(1, from);\r\n                ps.setString(2, to);\r\n                try (ResultSet rs = ps.executeQuery()) {\r\n                    while (rs.next()) {\r\n                        RailLink link = new RailLink();\r\n                        link.from = rs.getString(&quot;From&quot;);\r\n                        link.to = rs.getString(&quot;To&quot;);\r\n                        link.trainName = rs.getString(&quot;TrainName&quot;);\r\n                        links.add(link);\r\n                    }\r\n                }\r\n            }\r\n            return links;\r\n        }\r\n    }\r\n\r\nNow write a servlet which handles your form:\r\n\r\n    public class FindLinks extends HttpServlet {\r\n\r\n        public void doGet(HttpServletRequest request, HttpServletResponse respone) {\r\n            List&lt;RailLink&gt; links = Trains.findLinks(request.getParameter(&quot;from&quot;), request.getParameter(&quot;to&quot;));\r\n            request.setAttribute(&quot;rail-links&quot;, links);\r\n            request.getRequestDispatcher(&quot;page1.jsp&quot;).forward(request, response);\r\n        }\r\n    }\r\n\r\nAnd finally modify your page1.jsp as:\r\n\r\n    &lt;%@page ...%&gt;\r\n    ...\r\n    &lt;%  List&lt;RailLink&gt; links = request.getAttribute(&quot;rail-links&quot;);\r\n        if (links != null) {%&gt;\r\n            &lt;table&gt;&lt;%\r\n            for (RailLink l : links) {%&gt;\r\n                &lt;tr&gt;&lt;td&gt;&lt;%=l.from%&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;%=l.to%&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;%=l.trainName%&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;TName&quot; value=&quot;&lt;%=l.trainNam%&quot;/&gt; book&lt;/td&gt;\r\n            &lt;%}%&gt;\r\n            &lt;/table&gt;&lt;%\r\n        }\r\n        else {%&gt;\r\n            &lt;p&gt;No connections found.&lt;/p&gt;&lt;%\r\n        }%&gt;\r\n\r\nHave a good luck with it.","title":"get value of selected dynamic row of table in jsp","body":"<p>AFAIR JDBC specification does not give guarantee, that you can call <code>getXxx</code> on a result set with the same column name/number twice. Most of JDBC drivers do support it, but some might not I am not sure if ODBC is not probably this exception. So first try to get values of all columns in a row to extra variables like this:</p>\n\n<pre><code>String from = resultset.getString(\"From\");\nString to = resultset.getString(\"To\");\nString trainName = resultset.getString(\"TrainName\");\n</code></pre>\n\n<p>and use it in this way:</p>\n\n<pre><code>&lt;tr&gt;&lt;td&gt;&lt;%=form%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%=to%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%=trainName%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"radio\" name=\"TName\" value=\"&lt;%=trainName%&gt;\"/&gt; book&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>Also please do escape these values, as if <code>trainName</code> would contain <code>'\"'</code> character, you may break HTML code.</p>\n\n<p>But much more important is the way you wrote your code. First of all you should separate view layer (JSP) from the code. So you should create a class, that reads list of trains and simply put it into request, more or less like this:</p>\n\n<pre><code>public class RailLink {\n    public String from;\n    public String to;\n    public String trainName;\n}\n\npublic class Trains {\n\n    private Connection getConnection() {\n        //- This code actually should be put somewhere else.\n//          Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n//          String db = \"jdbc:odbc:Driver={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=C:/Users/hp/Documents/Sample1.accdb\";\n//          Connection cn = DriverManager.getConnection(db, \"\", \"\"); \n            return cn;\n    }\n\n    public static List&lt;RailLink&gt; findLinks(String from, String to) {\n        assert from != null &amp;&amp; to != null;\n        List&lt;RailLinks&gt; links = new LinkedList&lt;&gt;();\n        try (\n            Connection cn = getConnection();\n            PreparedStatement ps = cn.prepareStatement(\"SELECT * FROM Trains123 WHERE \\\"From\\\" = ? AND \\\"To\\\" = ?\");\n        ) {\n            ps.setString(1, from);\n            ps.setString(2, to);\n            try (ResultSet rs = ps.executeQuery()) {\n                while (rs.next()) {\n                    RailLink link = new RailLink();\n                    link.from = rs.getString(\"From\");\n                    link.to = rs.getString(\"To\");\n                    link.trainName = rs.getString(\"TrainName\");\n                    links.add(link);\n                }\n            }\n        }\n        return links;\n    }\n}\n</code></pre>\n\n<p>Now write a servlet which handles your form:</p>\n\n<pre><code>public class FindLinks extends HttpServlet {\n\n    public void doGet(HttpServletRequest request, HttpServletResponse respone) {\n        List&lt;RailLink&gt; links = Trains.findLinks(request.getParameter(\"from\"), request.getParameter(\"to\"));\n        request.setAttribute(\"rail-links\", links);\n        request.getRequestDispatcher(\"page1.jsp\").forward(request, response);\n    }\n}\n</code></pre>\n\n<p>And finally modify your page1.jsp as:</p>\n\n<pre><code>&lt;%@page ...%&gt;\n...\n&lt;%  List&lt;RailLink&gt; links = request.getAttribute(\"rail-links\");\n    if (links != null) {%&gt;\n        &lt;table&gt;&lt;%\n        for (RailLink l : links) {%&gt;\n            &lt;tr&gt;&lt;td&gt;&lt;%=l.from%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%=l.to%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%=l.trainName%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"radio\" name=\"TName\" value=\"&lt;%=l.trainNam%\"/&gt; book&lt;/td&gt;\n        &lt;%}%&gt;\n        &lt;/table&gt;&lt;%\n    }\n    else {%&gt;\n        &lt;p&gt;No connections found.&lt;/p&gt;&lt;%\n    }%&gt;\n</code></pre>\n\n<p>Have a good luck with it.</p>\n"}],"owner":{"account_id":2573193,"reputation":107,"user_id":2233054,"accept_rate":33,"display_name":"Seema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693512035,"creation_date":1391968165,"question_id":21662644,"body_markdown":"i have a page in jsp where i am dynamically displaying records from the database in a table, with dynamic rows being generated. With every row, there is a radio button so that the user can select one row. \r\n\r\nThe code for page1.jsp is:\r\n\r\n    &lt;form action=&quot;page2.jsp&quot; method=&quot;post&quot;&gt;\r\n\r\n    &lt;table&gt;\r\n    &lt;%\r\n     try {\r\n    Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n\r\n    String database = &quot;jdbc:odbc:Driver={Microsoft Access Driver (*.mdb,        *.accdb)};DBQ=C:/Users/hp/Documents/Sample1.accdb&quot;;\r\n                                           \r\n    Connection con = DriverManager.getConnection(database, &quot;&quot;, &quot;&quot;); \r\n    Statement stmnt = con.createStatement();\r\n                \t\r\n    String source=request.getParameter(&quot;from&quot;);\r\n    String dest=request.getParameter(&quot;to&quot;)\r\n    ResultSet resultset = stmnt.executeQuery(&quot;select * from Trains123 where From=&#39;&quot; +source+    &quot;&#39; and To=&#39;&quot; +dest+ &quot;&#39; &quot;);\r\n     \r\n         while(resultset.next())\r\n         {          \r\n             %&gt;        \r\n\r\n    &lt;tr&gt;\r\n\r\n    &lt;td&gt;&lt;% out.println(resultset.getString(&quot;From&quot;)); %&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;% out.println(resultset.getString(&quot;To&quot;)); %&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;% out.println(resultset.getString(&quot;TrainName&quot;)); %&gt;&lt;/td&gt;        \r\n\r\n         \r\n    &lt;td&gt;&lt;input type=&quot;radio&quot; name=&quot;TName&quot; value=&quot;&lt;%=    resultset.getString(&quot;TrainName&quot;)%&gt;&quot;&gt;book&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;/form&gt;\r\n\r\n\r\n\r\nand the code on page2.jsp is:\r\n\r\n    &lt;% out.println(request.getParameter(&quot;Tname&quot;)); %&gt;\r\n\r\n\r\nThere is no problem with the record set, the values are getting printed. but the radio button is not being displayed.Also, If there are 2 records in the recordset, only the first one gets printed without the radio button. I debugged the file, the control stops at the radio button line.\r\n\r\nI have no idea, where the error is and what is the problem with giving dynamic value to the radio button.\r\nAll i want to do is to find out the row selected by the user.\r\n\r\n","title":"get value of selected dynamic row of table in jsp","body":"<p>i have a page in jsp where i am dynamically displaying records from the database in a table, with dynamic rows being generated. With every row, there is a radio button so that the user can select one row. </p>\n\n<p>The code for page1.jsp is:</p>\n\n<pre><code>&lt;form action=\"page2.jsp\" method=\"post\"&gt;\n\n&lt;table&gt;\n&lt;%\n try {\nClass.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n\nString database = \"jdbc:odbc:Driver={Microsoft Access Driver (*.mdb,        *.accdb)};DBQ=C:/Users/hp/Documents/Sample1.accdb\";\n\nConnection con = DriverManager.getConnection(database, \"\", \"\"); \nStatement stmnt = con.createStatement();\n\nString source=request.getParameter(\"from\");\nString dest=request.getParameter(\"to\")\nResultSet resultset = stmnt.executeQuery(\"select * from Trains123 where From='\" +source+    \"' and To='\" +dest+ \"' \");\n\n     while(resultset.next())\n     {          \n         %&gt;        \n\n&lt;tr&gt;\n\n&lt;td&gt;&lt;% out.println(resultset.getString(\"From\")); %&gt;&lt;/td&gt;\n&lt;td&gt;&lt;% out.println(resultset.getString(\"To\")); %&gt;&lt;/td&gt;\n&lt;td&gt;&lt;% out.println(resultset.getString(\"TrainName\")); %&gt;&lt;/td&gt;        \n\n\n&lt;td&gt;&lt;input type=\"radio\" name=\"TName\" value=\"&lt;%=    resultset.getString(\"TrainName\")%&gt;\"&gt;book&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and the code on page2.jsp is:</p>\n\n<pre><code>&lt;% out.println(request.getParameter(\"Tname\")); %&gt;\n</code></pre>\n\n<p>There is no problem with the record set, the values are getting printed. but the radio button is not being displayed.Also, If there are 2 records in the recordset, only the first one gets printed without the radio button. I debugged the file, the control stops at the radio button line.</p>\n\n<p>I have no idea, where the error is and what is the problem with giving dynamic value to the radio button.\nAll i want to do is to find out the row selected by the user.</p>\n"},{"tags":["java","gradle","findbugs","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":11867827,"reputation":51,"user_id":8684869,"display_name":"Houssam Ezzoukh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658099695,"creation_date":1658099695,"answer_id":73015990,"question_id":72986599,"body_markdown":"Try to add the exclude filter to the spotbugs configuration instead of findbugs:\r\nso you should probably try:\r\n```\r\nspotbugs {\r\n    toolVersion = &#39;5.0.0&#39;\r\n    excludeFilter.set(file(&quot;${spotbugsConfigDir}/excludeFilter.xml&quot;))\r\n}","title":"Spotbugs exclude filter in gradle project","body":"<p>Try to add the exclude filter to the spotbugs configuration instead of findbugs:\nso you should probably try:</p>\n<pre><code>spotbugs {\n    toolVersion = '5.0.0'\n    excludeFilter.set(file(&quot;${spotbugsConfigDir}/excludeFilter.xml&quot;))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683562786,"creation_date":1683489882,"answer_id":76196034,"question_id":72986599,"body_markdown":"The following lines add the SpotBugs 5.0.14 plugin to a Gradle project:\r\n\r\n``` groovy\r\nbuildscript {\r\n  repositories {\r\n    mavenCentral()\r\n    maven {\r\n      url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n  }\r\n\r\n  dependencies {\r\n    classpath &quot;com.github.spotbugs.snom:spotbugs-gradle-plugin:5.0.14&quot;\r\n  }\r\n}\r\n\r\nplugins {\r\n  id &#39;application&#39;\r\n  id &quot;com.github.spotbugs&quot; version &quot;5.0.14&quot;\r\n}\r\n\r\nspotbugs {\r\n  excludeFilter.set(\r\n      file(&quot;${projectDir}/bug-filter.xml&quot;)\r\n  )\r\n}\r\n```\r\n\r\nCreate the file `bug-filter.xml` in the project&#39;s root directory. See the [Filter file documentation][1] (or [PDF version][2]) for details on the available options. Insert the following short snippet into the file to ignore EI and EI2 errors across all classes:\r\n\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;FindBugsFilter&gt;\r\n  &lt;Match&gt;\r\n    &lt;Or&gt;\r\n      &lt;Bug code=&quot;EI, EI2&quot; /&gt;\r\n    &lt;/Or&gt;\r\n  &lt;/Match&gt;\r\n&lt;/FindBugsFilter&gt;\r\n```\r\n\r\nThe [Bug descriptions][3] page lists bug codes and patterns.\r\n\r\nThe `FindBugsFilter` root-level element name is a holdover.\r\n\r\n---\r\n\r\nAs a side-note, too many accessors tend to indicate code isn&#39;t reaping the benefits of [object-oriented programming][4].\r\n\r\n\r\n  [1]: https://spotbugs.readthedocs.io/en/stable/filter.html\r\n  [2]: https://buildmedia.readthedocs.org/media/pdf/spotbugs/latest/spotbugs.pdf\r\n  [3]: https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html\r\n  [4]: https://www.youtube.com/watch?v=YyIQKBzIuBY&amp;t=1152s","title":"Spotbugs exclude filter in gradle project","body":"<p>The following lines add the SpotBugs 5.0.14 plugin to a Gradle project:</p>\n<pre><code>buildscript {\n  repositories {\n    mavenCentral()\n    maven {\n      url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n  }\n\n  dependencies {\n    classpath &quot;com.github.spotbugs.snom:spotbugs-gradle-plugin:5.0.14&quot;\n  }\n}\n\nplugins {\n  id 'application'\n  id &quot;com.github.spotbugs&quot; version &quot;5.0.14&quot;\n}\n\nspotbugs {\n  excludeFilter.set(\n      file(&quot;${projectDir}/bug-filter.xml&quot;)\n  )\n}\n</code></pre>\n<p>Create the file <code>bug-filter.xml</code> in the project's root directory. See the <a href=\"https://spotbugs.readthedocs.io/en/stable/filter.html\" rel=\"nofollow noreferrer\">Filter file documentation</a> (or <a href=\"https://buildmedia.readthedocs.org/media/pdf/spotbugs/latest/spotbugs.pdf\" rel=\"nofollow noreferrer\">PDF version</a>) for details on the available options. Insert the following short snippet into the file to ignore EI and EI2 errors across all classes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;FindBugsFilter&gt;\n  &lt;Match&gt;\n    &lt;Or&gt;\n      &lt;Bug code=&quot;EI, EI2&quot; /&gt;\n    &lt;/Or&gt;\n  &lt;/Match&gt;\n&lt;/FindBugsFilter&gt;\n</code></pre>\n<p>The <a href=\"https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html\" rel=\"nofollow noreferrer\">Bug descriptions</a> page lists bug codes and patterns.</p>\n<p>The <code>FindBugsFilter</code> root-level element name is a holdover.</p>\n<hr />\n<p>As a side-note, too many accessors tend to indicate code isn't reaping the benefits of <a href=\"https://www.youtube.com/watch?v=YyIQKBzIuBY&amp;t=1152s\" rel=\"nofollow noreferrer\">object-oriented programming</a>.</p>\n"},{"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693511823,"creation_date":1693511823,"answer_id":77018910,"question_id":72986599,"body_markdown":"*Extension to [@Dave Jarvis&#39;s answer][1] above*\r\n\r\n-----\r\n\r\nSpecifying following in `build.gradle` worked for me\r\n\r\n```\r\nspotbugs {\r\n  ignoreFailures.set(false)\r\n  excludeFilter = file(&#39;spotbugs-exclude.xml&#39;)\r\n}\r\n```\r\n\r\nOther variations that I&#39;ve seen are\r\n - `excludeFilter = project.file(&#39;spotbugs-exclude.xml&#39;)`\r\n - `excludeFilter.set(file(&#39;spotbugs-exclude.xml&#39;))`\r\n\r\n*I had put the file in root-level of my project so I specified just the name of file; otherwise we can put something like `file(&#39;${project.projectDir}/configuration/spotBugs/excludeFilter.xml&#39;)` for specifying complete filepath*\r\n\r\n-----\r\n\r\nDo note that exclusion for unit-tests might possibly have to be configured separately in a `spotbugsTest { .. }` block of it&#39;s own (although we can still specify the same XML file)\r\n\r\n```\r\nspotbugs {\r\n  ignoreFailures.set(true)\r\n  excludeFilter = file(&#39;spotbugs-exclude-src.xml&#39;)\r\n}\r\n\r\nspotbugsTest {\r\n  ignoreFailures.set(false)\r\n  excludeFilter = file(&#39;spotbugs-exclude-tst.xml&#39;)\r\n}\r\n```\r\n\r\nFor format of `spotbugs-exclude.xml` file see [FindBugs/FilterFiles][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76196034/3679900\r\n  [2]: https://findbugs.sourceforge.net/manual/filter.html","title":"Spotbugs exclude filter in gradle project","body":"<p><em>Extension to <a href=\"https://stackoverflow.com/a/76196034/3679900\">@Dave Jarvis's answer</a> above</em></p>\n<hr />\n<p>Specifying following in <code>build.gradle</code> worked for me</p>\n<pre><code>spotbugs {\n  ignoreFailures.set(false)\n  excludeFilter = file('spotbugs-exclude.xml')\n}\n</code></pre>\n<p>Other variations that I've seen are</p>\n<ul>\n<li><code>excludeFilter = project.file('spotbugs-exclude.xml')</code></li>\n<li><code>excludeFilter.set(file('spotbugs-exclude.xml'))</code></li>\n</ul>\n<p><em>I had put the file in root-level of my project so I specified just the name of file; otherwise we can put something like <code>file('${project.projectDir}/configuration/spotBugs/excludeFilter.xml')</code> for specifying complete filepath</em></p>\n<hr />\n<p>Do note that exclusion for unit-tests might possibly have to be configured separately in a <code>spotbugsTest { .. }</code> block of it's own (although we can still specify the same XML file)</p>\n<pre><code>spotbugs {\n  ignoreFailures.set(true)\n  excludeFilter = file('spotbugs-exclude-src.xml')\n}\n\nspotbugsTest {\n  ignoreFailures.set(false)\n  excludeFilter = file('spotbugs-exclude-tst.xml')\n}\n</code></pre>\n<p>For format of <code>spotbugs-exclude.xml</code> file see <a href=\"https://findbugs.sourceforge.net/manual/filter.html\" rel=\"nofollow noreferrer\">FindBugs/FilterFiles</a></p>\n"}],"owner":{"account_id":7484812,"reputation":125,"user_id":5688432,"accept_rate":0,"display_name":"Yoanna E."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3751,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1693511823,"creation_date":1657832388,"question_id":72986599,"body_markdown":"I am new to gradle and am trying to configure Spotbugs. \r\nI&#39;ve added the plugin to the build.gradle and the spotbugs issues showed up.\r\nHowever I want to exclude the Findbugs EI_EXPOSE_REP and EI_EXPOSE_REP2 rules, because they show up for all my getter and setters.\r\nI have the following snippet in build.gradle:\r\n\r\n    apply plugin: &#39;java&#39;\r\n\tapply plugin: &#39;com.github.spotbugs&#39;\r\n\tapply plugin: &#39;findbugs&#39;\r\n\r\n\tspotbugs {\r\n\t\ttoolVersion = &#39;5.0.0&#39;\r\n\t}\r\n\r\n\ttasks.withType(SpotBugsTask) {\r\n\t\treports {\r\n\t\t\txml.enabled = false\r\n\t\t\thtml.enabled = true\r\n\t\t}\r\n\t}\r\n\r\n\tfindbugs {\r\n\t\texcludeFilter = file(&quot;$rootProject.projectDir/config/findbugs/excludeFilter.xml&quot;)\r\n\t\ttoolVersion = &quot;3.0.1&quot;\r\n\t\teffort = &quot;max&quot;\r\n\t}\r\n    \r\nThe excludeFilter.xml contains the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;FindBugsFilter&gt;\r\n        &lt;Match&gt;\r\n            &lt;Bug pattern=&quot;EI_EXPOSE_REP&quot;/&gt;\r\n        &lt;/Match&gt;\r\n        &lt;Match&gt;\r\n            &lt;Bug pattern=&quot;EI_EXPOSE_REP2&quot;/&gt;\r\n        &lt;/Match&gt;\r\n    &lt;/FindBugsFilter&gt;\r\n\r\nI also tried adding the exclude like this:\r\n\r\n    tasks.withType(FindBugs) {\r\n    \texcludeFilter = file(&quot;$rootProject.projectDir/config/findbugs/excludeFilter.xml&quot;)\r\n    }\r\n\r\nBut it didn&#39;t work out, so probably I am missing something.","title":"Spotbugs exclude filter in gradle project","body":"<p>I am new to gradle and am trying to configure Spotbugs.\nI've added the plugin to the build.gradle and the spotbugs issues showed up.\nHowever I want to exclude the Findbugs EI_EXPOSE_REP and EI_EXPOSE_REP2 rules, because they show up for all my getter and setters.\nI have the following snippet in build.gradle:</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'com.github.spotbugs'\napply plugin: 'findbugs'\n\nspotbugs {\n    toolVersion = '5.0.0'\n}\n\ntasks.withType(SpotBugsTask) {\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n\nfindbugs {\n    excludeFilter = file(&quot;$rootProject.projectDir/config/findbugs/excludeFilter.xml&quot;)\n    toolVersion = &quot;3.0.1&quot;\n    effort = &quot;max&quot;\n}\n</code></pre>\n<p>The excludeFilter.xml contains the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;FindBugsFilter&gt;\n    &lt;Match&gt;\n        &lt;Bug pattern=&quot;EI_EXPOSE_REP&quot;/&gt;\n    &lt;/Match&gt;\n    &lt;Match&gt;\n        &lt;Bug pattern=&quot;EI_EXPOSE_REP2&quot;/&gt;\n    &lt;/Match&gt;\n&lt;/FindBugsFilter&gt;\n</code></pre>\n<p>I also tried adding the exclude like this:</p>\n<pre><code>tasks.withType(FindBugs) {\n    excludeFilter = file(&quot;$rootProject.projectDir/config/findbugs/excludeFilter.xml&quot;)\n}\n</code></pre>\n<p>But it didn't work out, so probably I am missing something.</p>\n"},{"tags":["java","kotlin","swing"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1693491337,"post_id":77016533,"comment_id":135770670,"body_markdown":"I&#39;m not sure it&#39;s responsible for the issue you observed, but it certain is *an* issue that you&#39;re trying to drive the application from your own thread.  A Swing GUI should be driven from the AWT event dispatch thread.  `SwingUtilities.invokeLater()` and `SwingUtilities.invokeAndWait()` can help other threads push work onto the EDT, but it&#39;s best to limit the need for those.  Use Swing timers to schedule periodic tasks such as for running an animation loop.  Use appropriate callbacks for responding to user input.","body":"I&#39;m not sure it&#39;s responsible for the issue you observed, but it certain is <i>an</i> issue that you&#39;re trying to drive the application from your own thread.  A Swing GUI should be driven from the AWT event dispatch thread.  <code>SwingUtilities.invokeLater()</code> and <code>SwingUtilities.invokeAndWait()</code> can help other threads push work onto the EDT, but it&#39;s best to limit the need for those.  Use Swing timers to schedule periodic tasks such as for running an animation loop.  Use appropriate callbacks for responding to user input."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1693491629,"post_id":77016533,"comment_id":135770752,"body_markdown":"Also, do not `dispose()` the `Graphics2D` passed into your `paintComponent()` method.  You are not responsible for that object&#39;s lifecycle, and Swing might not be done with it.  Dispose only of those you create yourself (via `Graphics.create()`).","body":"Also, do not <code>dispose()</code> the <code>Graphics2D</code> passed into your <code>paintComponent()</code> method.  You are not responsible for that object&#39;s lifecycle, and Swing might not be done with it.  Dispose only of those you create yourself (via <code>Graphics.create()</code>)."},{"owner":{"account_id":20260730,"reputation":149,"user_id":14859162,"display_name":"Alphasaft"},"score":0,"creation_date":1693494818,"post_id":77016533,"comment_id":135771481,"body_markdown":"I did what you said, but it made things worse. I&#39;m keeping the changes (because what you said totally makes sense), but the issue&#39;s not solved.","body":"I did what you said, but it made things worse. I&#39;m keeping the changes (because what you said totally makes sense), but the issue&#39;s not solved."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1693504915,"post_id":77016533,"comment_id":135773576,"body_markdown":"Probably related: [Prevent swing animation from jumping](https://stackoverflow.com/q/61188644/2402272)","body":"Probably related: <a href=\"https://stackoverflow.com/q/61188644/2402272\">Prevent swing animation from jumping</a>"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693511763,"creation_date":1693511763,"answer_id":77018900,"question_id":77016533,"body_markdown":"I was able to reproduce a distinct jerkiness in a Java version of your animation.  At first I thought it was a result of repaint requests being coalesced, which is a known and intentional mechanism by which Swing can shed work when stressed. But that shouldn&#39;t happen if the event-dispatch thread is not stressed, and it clearly wasn&#39;t.\r\n\r\nI eventually discovered that I could resolve the issue by invoking `getToolkit().sync()` to the end of `paintComponent()`.  This tells me that, at least in my case, the issue was not that the panel was not being repainted by Swing, but that multiple repaints were being performed between updates of the native peer.  And that also explains why I found that waving the mouse pointer over the window relieved the jerkiness: Swing knew it had to update the peer to paint the portion revealed by moving the mouse pointer.\r\n\r\nIn addition, I pushed all the GUI work into the EDT, where it needs to be, and made some other minor adjustments.  This is my final result (in Java, not the equivalent Kotlin):\r\n```\r\nimport java.awt.*;\r\nimport java.time.*;\r\nimport java.util.Optional;\r\nimport javax.swing.*;\r\nimport static java.lang.Math.cos;\r\nimport static java.lang.Math.PI;\r\nimport static java.lang.Math.sin;\r\n\r\npublic class GraphicsDemo {\r\n\r\n    final static int TICK_DELAY = 10;\r\n\r\n    static class DemoPanel extends JPanel {\r\n\r\n        private Optional&lt;Instant&gt; startInstant = Optional.empty();\r\n\r\n        public DemoPanel() {\r\n            super(true);\r\n            setPreferredSize(new Dimension(1200, 800));\r\n            setBackground(Color.BLUE);\r\n        }\r\n\r\n        void updateState() {\r\n            // ...\r\n            repaint();\r\n        }\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Instant now = Instant.now();\r\n\r\n            if (!startInstant.isPresent()) {\r\n                startInstant = Optional.of(now);\r\n            }\r\n            double centisElapsed\r\n                    = Duration.between(startInstant.get(), now).toMillis() / 10.0;\r\n\r\n            int x = 1200 + (int) (centisElapsed * sin(centisElapsed * PI / 720) / 5);\r\n            int y =  800 + (int) (centisElapsed * cos(centisElapsed * PI / 720) / 5);\r\n\r\n            // Copy the Graphics object because we&#39;re going to persistently modify it\r\n            Graphics2D g2D = (Graphics2D) g.create();\r\n\r\n            g2D.scale(0.5, 0.5);\r\n            g2D.setColor(Color.BLACK);\r\n            g2D.fillRect(x, y, 200, 200);\r\n            g2D.dispose();\r\n\r\n            // This was important:\r\n            getToolkit().sync();\r\n        }\r\n    }\r\n\r\n    // This method should be run on the EDT\r\n    public static void startGUI() {\r\n        JFrame mainWindow = new JFrame(&quot;GraphicsDemo&quot;);\r\n\r\n        DemoPanel panel = new DemoPanel();\r\n        // javax.swing.Timer: fires events on the EDT\r\n        Timer animationTimer = new Timer(TICK_DELAY, ae -&gt; panel.updateState());\r\n\r\n        mainWindow.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        mainWindow.setResizable(false);\r\n        mainWindow.add(panel);\r\n        mainWindow.pack();\r\n\r\n        mainWindow.setVisible(true);\r\n        animationTimer.start();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        EventQueue.invokeAndWait(GraphicsDemo::startGUI);\r\n    }\r\n}\r\n```\r\n","title":"Small lags when using swing for a game","body":"<p>I was able to reproduce a distinct jerkiness in a Java version of your animation.  At first I thought it was a result of repaint requests being coalesced, which is a known and intentional mechanism by which Swing can shed work when stressed. But that shouldn't happen if the event-dispatch thread is not stressed, and it clearly wasn't.</p>\n<p>I eventually discovered that I could resolve the issue by invoking <code>getToolkit().sync()</code> to the end of <code>paintComponent()</code>.  This tells me that, at least in my case, the issue was not that the panel was not being repainted by Swing, but that multiple repaints were being performed between updates of the native peer.  And that also explains why I found that waving the mouse pointer over the window relieved the jerkiness: Swing knew it had to update the peer to paint the portion revealed by moving the mouse pointer.</p>\n<p>In addition, I pushed all the GUI work into the EDT, where it needs to be, and made some other minor adjustments.  This is my final result (in Java, not the equivalent Kotlin):</p>\n<pre><code>import java.awt.*;\nimport java.time.*;\nimport java.util.Optional;\nimport javax.swing.*;\nimport static java.lang.Math.cos;\nimport static java.lang.Math.PI;\nimport static java.lang.Math.sin;\n\npublic class GraphicsDemo {\n\n    final static int TICK_DELAY = 10;\n\n    static class DemoPanel extends JPanel {\n\n        private Optional&lt;Instant&gt; startInstant = Optional.empty();\n\n        public DemoPanel() {\n            super(true);\n            setPreferredSize(new Dimension(1200, 800));\n            setBackground(Color.BLUE);\n        }\n\n        void updateState() {\n            // ...\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Instant now = Instant.now();\n\n            if (!startInstant.isPresent()) {\n                startInstant = Optional.of(now);\n            }\n            double centisElapsed\n                    = Duration.between(startInstant.get(), now).toMillis() / 10.0;\n\n            int x = 1200 + (int) (centisElapsed * sin(centisElapsed * PI / 720) / 5);\n            int y =  800 + (int) (centisElapsed * cos(centisElapsed * PI / 720) / 5);\n\n            // Copy the Graphics object because we're going to persistently modify it\n            Graphics2D g2D = (Graphics2D) g.create();\n\n            g2D.scale(0.5, 0.5);\n            g2D.setColor(Color.BLACK);\n            g2D.fillRect(x, y, 200, 200);\n            g2D.dispose();\n\n            // This was important:\n            getToolkit().sync();\n        }\n    }\n\n    // This method should be run on the EDT\n    public static void startGUI() {\n        JFrame mainWindow = new JFrame(&quot;GraphicsDemo&quot;);\n\n        DemoPanel panel = new DemoPanel();\n        // javax.swing.Timer: fires events on the EDT\n        Timer animationTimer = new Timer(TICK_DELAY, ae -&gt; panel.updateState());\n\n        mainWindow.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        mainWindow.setResizable(false);\n        mainWindow.add(panel);\n        mainWindow.pack();\n\n        mainWindow.setVisible(true);\n        animationTimer.start();\n    }\n\n    public static void main(String[] args) throws Exception {\n        EventQueue.invokeAndWait(GraphicsDemo::startGUI);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20260730,"reputation":149,"user_id":14859162,"display_name":"Alphasaft"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693511763,"creation_date":1693490114,"question_id":77016533,"body_markdown":"I have the following code snippet :\r\n\r\n```\r\nimport java.awt.*\r\nimport java.util.Date\r\nimport javax.swing.*\r\nimport kotlin.math.*\r\n\r\nfun now() = Date().time.toDouble()\r\n\r\n\r\nclass GameWindow: JFrame() {\r\n    private val game = GamePanel()\r\n\r\n    init {\r\n        defaultCloseOperation = WindowConstants.EXIT_ON_CLOSE\r\n\r\n        isResizable = false\r\n        isVisible = true\r\n\r\n        add(this.game)\r\n        pack()\r\n        setLocationRelativeTo(null)\r\n    }\r\n\r\n    fun startGame() {\r\n        this.game.start()\r\n    }\r\n}\r\n\r\n\r\nclass GamePanel: JPanel(), Runnable {\r\n    private val mainThread = Thread(null, this, &quot;GameThread&quot;)\r\n    private var firstRendering: Double? = null\r\n\r\n    init {\r\n        preferredSize = Dimension(1200, 800)\r\n        background = Color.BLUE\r\n        isDoubleBuffered = true\r\n    }\r\n\r\n    fun start() {\r\n        mainThread.start()\r\n    }\r\n\r\n    private fun setup() {\r\n        firstRendering = now()\r\n    }\r\n\r\n    override fun run() {\r\n        setup()\r\n        while (true) {\r\n            updateState()\r\n            repaint()\r\n        }\r\n    }\r\n\r\n    private fun updateState() {\r\n        // TODO\r\n    }\r\n\r\n    override fun paintComponent(g: Graphics?) {\r\n        super.paintComponent(g)\r\n        val g2D = g as Graphics2D\r\n\r\n        g2D.scale(0.5, 0.5)\r\n\r\n        // A square that describes a spiral\r\n        if (firstRendering != null) {\r\n            val t = (now() - firstRendering!!).toInt() / 10\r\n            g2D.color = Color.BLACK\r\n            g2D.fillRect(\r\n                1200 + (t * sin(t.toDouble() * PI / 720) / 5).toInt(),\r\n                800 + (t * cos(t.toDouble() * PI / 720) / 5).toInt(),\r\n                200,\r\n                200\r\n            )\r\n        }\r\n\r\n        g2D.dispose()\r\n    }\r\n}\r\n\r\nfun main() {\r\n    val window = GameWindow()\r\n    window.startGame()\r\n}\r\n```\r\n\r\nWhen I run this, everything works as intented (I get a window with a blue background and a square moving), except for the fact that the square&#39;s movement seems somewhat jerky. It isn&#39;t that visible (the square doesn&#39;t stop and then jump a few pixels), but I have the impression that the movement isn&#39;t fluid. I&#39;m not running anything else beside this for now, and I fear the problem might get worse when more things are added.\r\nIt&#39;s more visible when the square&#39;s moving slow. I also have a PC that&#39;s good enough to make it run smoothly, especially with so little graphics, so I don&#39;t know where this is coming from. I am working under Windows 10.\r\n\r\nAm I doing something wrong ?\r\n\r\nThanks for reading !\r\n\r\nPS : I&#39;m somewhat of a maniac. Don&#39;t worry if the lag doesn&#39;t catch your eye at first, but once I&#39;ve seen it I couldn&#39;t stop thinking about it (and also because in my opinion something so simple should run perfectly smooth)","title":"Small lags when using swing for a game","body":"<p>I have the following code snippet :</p>\n<pre><code>import java.awt.*\nimport java.util.Date\nimport javax.swing.*\nimport kotlin.math.*\n\nfun now() = Date().time.toDouble()\n\n\nclass GameWindow: JFrame() {\n    private val game = GamePanel()\n\n    init {\n        defaultCloseOperation = WindowConstants.EXIT_ON_CLOSE\n\n        isResizable = false\n        isVisible = true\n\n        add(this.game)\n        pack()\n        setLocationRelativeTo(null)\n    }\n\n    fun startGame() {\n        this.game.start()\n    }\n}\n\n\nclass GamePanel: JPanel(), Runnable {\n    private val mainThread = Thread(null, this, &quot;GameThread&quot;)\n    private var firstRendering: Double? = null\n\n    init {\n        preferredSize = Dimension(1200, 800)\n        background = Color.BLUE\n        isDoubleBuffered = true\n    }\n\n    fun start() {\n        mainThread.start()\n    }\n\n    private fun setup() {\n        firstRendering = now()\n    }\n\n    override fun run() {\n        setup()\n        while (true) {\n            updateState()\n            repaint()\n        }\n    }\n\n    private fun updateState() {\n        // TODO\n    }\n\n    override fun paintComponent(g: Graphics?) {\n        super.paintComponent(g)\n        val g2D = g as Graphics2D\n\n        g2D.scale(0.5, 0.5)\n\n        // A square that describes a spiral\n        if (firstRendering != null) {\n            val t = (now() - firstRendering!!).toInt() / 10\n            g2D.color = Color.BLACK\n            g2D.fillRect(\n                1200 + (t * sin(t.toDouble() * PI / 720) / 5).toInt(),\n                800 + (t * cos(t.toDouble() * PI / 720) / 5).toInt(),\n                200,\n                200\n            )\n        }\n\n        g2D.dispose()\n    }\n}\n\nfun main() {\n    val window = GameWindow()\n    window.startGame()\n}\n</code></pre>\n<p>When I run this, everything works as intented (I get a window with a blue background and a square moving), except for the fact that the square's movement seems somewhat jerky. It isn't that visible (the square doesn't stop and then jump a few pixels), but I have the impression that the movement isn't fluid. I'm not running anything else beside this for now, and I fear the problem might get worse when more things are added.\nIt's more visible when the square's moving slow. I also have a PC that's good enough to make it run smoothly, especially with so little graphics, so I don't know where this is coming from. I am working under Windows 10.</p>\n<p>Am I doing something wrong ?</p>\n<p>Thanks for reading !</p>\n<p>PS : I'm somewhat of a maniac. Don't worry if the lag doesn't catch your eye at first, but once I've seen it I couldn't stop thinking about it (and also because in my opinion something so simple should run perfectly smooth)</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":1,"creation_date":1549866660,"post_id":54623673,"comment_id":96042257,"body_markdown":"Are you sure that you are using `org.mapstruct.Named` and not some other one?","body":"Are you sure that you are using <code>org.mapstruct.Named</code> and not some other one?"},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549867198,"post_id":54623673,"comment_id":96042448,"body_markdown":"@Filip Yes I am using org.mapstruct.Named","body":"@Filip Yes I am using org.mapstruct.Named"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1549910490,"post_id":54623673,"comment_id":96066141,"body_markdown":"Just verified your example on our 1.3 code base.. It works","body":"Just verified your example on our 1.3 code base.. It works"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":1,"creation_date":1549910598,"post_id":54623673,"comment_id":96066195,"body_markdown":"but.. I also spotted the name of the method deviates.. `mapSeriesName`.. Your example has a signature `mapSeriesName1 `.. Do you by any chance point to a used mapper? Are there more methods that carry the same `@Named`?","body":"but.. I also spotted the name of the method deviates.. <code>mapSeriesName</code>.. Your example has a signature <code>mapSeriesName1 </code>.. Do you by any chance point to a used mapper? Are there more methods that carry the same <code>@Named</code>?"},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549912603,"post_id":54623673,"comment_id":96067140,"body_markdown":"sjaak:  that was a type, sorry, edited the code. My version was 1.2, tried changing to 1.3 now - the error still exists.. Yes, I have more @Named methods that carry the same source Program..","body":"sjaak:  that was a type, sorry, edited the code. My version was 1.2, tried changing to 1.3 now - the error still exists.. Yes, I have more @Named methods that carry the same source Program.."},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549913049,"post_id":54623673,"comment_id":96067354,"body_markdown":"edited code to add the other methods that use Program as the source","body":"edited code to add the other methods that use Program as the source"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1549921797,"post_id":54623673,"comment_id":96071271,"body_markdown":"just out of curiosity, if you add ignore=true to the 2 String mappings.. does MapStruct complain about the Integer mappings as well?","body":"just out of curiosity, if you add ignore=true to the 2 String mappings.. does MapStruct complain about the Integer mappings as well?"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1549921865,"post_id":54623673,"comment_id":96071306,"body_markdown":"Is there anyway (e.g. gist) that you can share the DTO&#39;s as well. I can give it a shot tomorrow..","body":"Is there anyway (e.g. gist) that you can share the DTO&#39;s as well. I can give it a shot tomorrow.."},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549923204,"post_id":54623673,"comment_id":96071830,"body_markdown":"Yes, it does complain about the Integer mappings","body":"Yes, it does complain about the Integer mappings"},{"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"score":0,"creation_date":1549928403,"post_id":54623673,"comment_id":96073389,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/188239/discussion-between-ljs-and-sjaak).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/188239/discussion-between-ljs-and-sjaak\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1566946361,"creation_date":1550003237,"answer_id":54658223,"question_id":54623673,"body_markdown":"I checked your example.. The problem is that the fields you try to target are of type String.\r\n\r\nSo:\r\n\r\n    public class IvpVodOfferStatusDTO {\r\n    \r\n        private String seasonNumber;\r\n        private String episodeNumber;\r\n    } \r\n\r\nMapStruct tries to match this with the signature you provide:\r\n\r\n     @Named(&quot;season&quot;)\r\n    default Integer mapSeasonNumber(Program programInstance) {\r\n        Optional&lt;Integer&gt; season = Utils.getObject(() -&gt; programInstance.get(0).getSeasonOf().get(0).getOrderNo());\r\n        if (season.isPresent())\r\n            return season.get();\r\n        return null;\r\n    }\r\n    \r\n    @Named(&quot;epNumber&quot;)\r\n    default Integer mapEpNumber(Program programInstance) {\r\n        Optional&lt;Integer&gt; epNumber = Utils.getObject(() -&gt; programInstance.getEpOf().get(0).getOrderNo());\r\n        if (epNumber.isPresent())\r\n            return epNumber.get();\r\n        return null;\r\n    }\r\n\r\nMapStruct has a predefined order of attempts:\r\n\r\n 1. User provided Mapping method\r\n 2. Direct (types source -target are the same)\r\n 3. Mapping method (built-in)\r\n 4. Type conversion \r\n\r\nIf this all fails MapStruct tries to do a number of 2 step approaches:\r\n\r\n 5. mapping method - mapping method\r\n 6. mapping method - type conversion\r\n 7. type conversion - mapping method\r\n\r\nAt 6. it finds 2 qualifying methods (`Program` to `String`). It&#39;s probably an error in MapStruct that it selects methods that do not qualify (need to check whether this is intentional) by the `@Named`. Otherwise, I&#39;ll write an issue.\r\n\r\nThe most easy solution is: adapt the target:\r\n\r\n\r\n    public class IvpVodOfferStatusDTO {\r\n    \r\n        private Integer seasonNumber;\r\n        private Integer episodeNumber;\r\n    }\r\n    \r\nWhat is probably what you intend (I guess).. Otherwise you could change the signature not to return an `Integer` but a `String`","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>I checked your example.. The problem is that the fields you try to target are of type String.</p>\n\n<p>So:</p>\n\n<pre><code>public class IvpVodOfferStatusDTO {\n\n    private String seasonNumber;\n    private String episodeNumber;\n} \n</code></pre>\n\n<p>MapStruct tries to match this with the signature you provide:</p>\n\n<pre><code> @Named(\"season\")\ndefault Integer mapSeasonNumber(Program programInstance) {\n    Optional&lt;Integer&gt; season = Utils.getObject(() -&gt; programInstance.get(0).getSeasonOf().get(0).getOrderNo());\n    if (season.isPresent())\n        return season.get();\n    return null;\n}\n\n@Named(\"epNumber\")\ndefault Integer mapEpNumber(Program programInstance) {\n    Optional&lt;Integer&gt; epNumber = Utils.getObject(() -&gt; programInstance.getEpOf().get(0).getOrderNo());\n    if (epNumber.isPresent())\n        return epNumber.get();\n    return null;\n}\n</code></pre>\n\n<p>MapStruct has a predefined order of attempts:</p>\n\n<ol>\n<li>User provided Mapping method</li>\n<li>Direct (types source -target are the same)</li>\n<li>Mapping method (built-in)</li>\n<li>Type conversion </li>\n</ol>\n\n<p>If this all fails MapStruct tries to do a number of 2 step approaches:</p>\n\n<ol start=\"5\">\n<li>mapping method - mapping method</li>\n<li>mapping method - type conversion</li>\n<li>type conversion - mapping method</li>\n</ol>\n\n<p>At 6. it finds 2 qualifying methods (<code>Program</code> to <code>String</code>). It's probably an error in MapStruct that it selects methods that do not qualify (need to check whether this is intentional) by the <code>@Named</code>. Otherwise, I'll write an issue.</p>\n\n<p>The most easy solution is: adapt the target:</p>\n\n<pre><code>public class IvpVodOfferStatusDTO {\n\n    private Integer seasonNumber;\n    private Integer episodeNumber;\n}\n</code></pre>\n\n<p>What is probably what you intend (I guess).. Otherwise you could change the signature not to return an <code>Integer</code> but a <code>String</code></p>\n"},{"tags":[],"owner":{"account_id":19025729,"reputation":31,"user_id":13888821,"display_name":"Sandip Wagh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1615487666,"creation_date":1615487666,"answer_id":66588479,"question_id":54623673,"body_markdown":"I was facing same issue and observed that, there was same method inherited by my mapper class using @Mapper(uses = {BaseMapper.class}) and using extends BaseMapper. \r\nRemoving extends solved the problem for me.\r\nSo, you can look for method received by custom mapper through multiple ways.","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>I was facing same issue and observed that, there was same method inherited by my mapper class using @Mapper(uses = {BaseMapper.class}) and using extends BaseMapper.\nRemoving extends solved the problem for me.\nSo, you can look for method received by custom mapper through multiple ways.</p>\n"},{"tags":[],"owner":{"account_id":10131551,"reputation":159,"user_id":7484761,"display_name":"sabeena kumarawadu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656920551,"creation_date":1656920469,"answer_id":72853265,"question_id":54623673,"body_markdown":"Even if the data types are matching, this could happen if the name given at qualifiedByName is not defined in as a bean instance\r\n\r\nBecause without a matching @Named qualifier, the injector would not know which bean to bind to which variable\r\n\r\n    @Mapping( source = &quot;firstName&quot;, target = &quot;passenger.firstName&quot;, qualifiedByName = &quot;mapFirstName&quot; )\r\n    public abstract Passenger mapPassenger( Traveller traveller );\r\n    \r\n    @Named( &quot;mapFirstName&quot; )\r\n    String mapFirstName( String firstName)\r\n    {\r\n    }\r\n\r\n","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>Even if the data types are matching, this could happen if the name given at qualifiedByName is not defined in as a bean instance</p>\n<p>Because without a matching @Named qualifier, the injector would not know which bean to bind to which variable</p>\n<pre><code>@Mapping( source = &quot;firstName&quot;, target = &quot;passenger.firstName&quot;, qualifiedByName = &quot;mapFirstName&quot; )\npublic abstract Passenger mapPassenger( Traveller traveller );\n\n@Named( &quot;mapFirstName&quot; )\nString mapFirstName( String firstName)\n{\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1976638,"reputation":2858,"user_id":1774291,"accept_rate":75,"display_name":"PeterS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685451702,"creation_date":1685451702,"answer_id":76365146,"question_id":54623673,"body_markdown":"Also note you may get this if you have cyclic dependency:\r\n\r\n    ObjectA -&gt; ObjectB -&gt; ObjectA -&gt; ObjectB\r\n\r\nIt will be reported as an ambiguous entry most of the time. The solution is to not refer to Object A in ObjectB. ","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>Also note you may get this if you have cyclic dependency:</p>\n<pre><code>ObjectA -&gt; ObjectB -&gt; ObjectA -&gt; ObjectB\n</code></pre>\n<p>It will be reported as an ambiguous entry most of the time. The solution is to not refer to Object A in ObjectB.</p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693511750,"creation_date":1693511750,"answer_id":77018897,"question_id":54623673,"body_markdown":"`Ambiguous mapping methods` can also happen if a `@Named(&quot;name&quot;)` method annotation is duplicated with the same `&quot;name&quot;`:  They need to be unique across `@Named` methods.","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p><code>Ambiguous mapping methods</code> can also happen if a <code>@Named(&quot;name&quot;)</code> method annotation is duplicated with the same <code>&quot;name&quot;</code>:  They need to be unique across <code>@Named</code> methods.</p>\n"}],"owner":{"account_id":11623400,"reputation":503,"user_id":8513968,"accept_rate":83,"display_name":"ljs"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33030,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":54658223,"answer_count":5,"score":15,"last_activity_date":1693511750,"creation_date":1549856593,"question_id":54623673,"body_markdown":"I am using mapstruct to map from one DTO to another. I have multiple default methods , but 2 of them with a return value of String and that uses the same class as the input parameter gives me &quot;Ambiguous mapping methods using java Mapstruct&quot; error. I am adding the relevant parts of the code here:\r\n\r\n   \r\n\r\n    @Mappings({\r\n         @Mapping(source = &quot;programInstance&quot;, target = &quot;title&quot;, qualifiedByName = &quot;title&quot;),\r\n         @Mapping(source = &quot;programInstance&quot;, target = &quot;seriesName&quot;, qualifiedByName = &quot;seriesName&quot;),\r\n         @Mapping(source = &quot;programInstance&quot;, target = &quot;season&quot;, qualifiedByName = &quot;season&quot;),\r\n         @Mapping(source = &quot;programInstance&quot;, target = &quot;epNumber&quot;, qualifiedByName = &quot;epNumber&quot;),\r\n     })\r\n     DTO1 mapDTOs (DTO2 dto2);\r\n\r\n      @Named(&quot;title&quot;)\r\n    default String mapTitle(Program programInstance) {\r\n        Optional&lt;String&gt; title = Utils.getObject(() -&gt; programInstance.getTitle().getDescriptions().get(0).getValue());\r\n        if (title.isPresent())\r\n            return title.get();\r\n        return null;\r\n    }\r\n    @Named(&quot;seriesName&quot;)\r\n    default String mapSeriesName(Program programInstance) {\r\n        Optional&lt;String&gt; seriesName = Utils.getObject(() -&gt; programInstance.get(0).getProgram().getTitle().getDescriptions().get(0).getValue());\r\n        if (seriesName.isPresent())\r\n            return seriesName.get();\r\n        return null;\r\n    }\r\n     @Named(&quot;season&quot;)\r\n    default Integer mapSeasonNumber(Program programInstance) {\r\n        Optional&lt;Integer&gt; season = Utils.getObject(() -&gt; programInstance.get(0).getSeasonOf().get(0).getOrderNo());\r\n        if (season.isPresent())\r\n            return season.get();\r\n        return null;\r\n    }\r\n\r\n    @Named(&quot;epNumber&quot;)\r\n    default Integer mapEpNumber(Program programInstance) {\r\n        Optional&lt;Integer&gt; epNumber = Utils.getObject(() -&gt; programInstance.getEpOf().get(0).getOrderNo());\r\n        if (epNumber.isPresent())\r\n            return epNumber.get();\r\n        return null;\r\n    }\r\n\r\nThe error is \r\n\r\n&gt; Ambiguous mapping methods found for mapping property &quot;Program\r\n&gt; programInstance&quot; to java.lang.String: java.lang.String mapTitle(),\r\n&gt; java.lang.String mapSeriesName().\r\n","title":"Mapstruct - Ambiguous mapping methods found for mapping property","body":"<p>I am using mapstruct to map from one DTO to another. I have multiple default methods , but 2 of them with a return value of String and that uses the same class as the input parameter gives me \"Ambiguous mapping methods using java Mapstruct\" error. I am adding the relevant parts of the code here:</p>\n\n<pre><code>@Mappings({\n     @Mapping(source = \"programInstance\", target = \"title\", qualifiedByName = \"title\"),\n     @Mapping(source = \"programInstance\", target = \"seriesName\", qualifiedByName = \"seriesName\"),\n     @Mapping(source = \"programInstance\", target = \"season\", qualifiedByName = \"season\"),\n     @Mapping(source = \"programInstance\", target = \"epNumber\", qualifiedByName = \"epNumber\"),\n })\n DTO1 mapDTOs (DTO2 dto2);\n\n  @Named(\"title\")\ndefault String mapTitle(Program programInstance) {\n    Optional&lt;String&gt; title = Utils.getObject(() -&gt; programInstance.getTitle().getDescriptions().get(0).getValue());\n    if (title.isPresent())\n        return title.get();\n    return null;\n}\n@Named(\"seriesName\")\ndefault String mapSeriesName(Program programInstance) {\n    Optional&lt;String&gt; seriesName = Utils.getObject(() -&gt; programInstance.get(0).getProgram().getTitle().getDescriptions().get(0).getValue());\n    if (seriesName.isPresent())\n        return seriesName.get();\n    return null;\n}\n @Named(\"season\")\ndefault Integer mapSeasonNumber(Program programInstance) {\n    Optional&lt;Integer&gt; season = Utils.getObject(() -&gt; programInstance.get(0).getSeasonOf().get(0).getOrderNo());\n    if (season.isPresent())\n        return season.get();\n    return null;\n}\n\n@Named(\"epNumber\")\ndefault Integer mapEpNumber(Program programInstance) {\n    Optional&lt;Integer&gt; epNumber = Utils.getObject(() -&gt; programInstance.getEpOf().get(0).getOrderNo());\n    if (epNumber.isPresent())\n        return epNumber.get();\n    return null;\n}\n</code></pre>\n\n<p>The error is </p>\n\n<blockquote>\n  <p>Ambiguous mapping methods found for mapping property \"Program\n  programInstance\" to java.lang.String: java.lang.String mapTitle(),\n  java.lang.String mapSeriesName().</p>\n</blockquote>\n"},{"tags":["java","android","android-button"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693497440,"creation_date":1693497440,"answer_id":77017516,"question_id":77017471,"body_markdown":"A loop saving all the button&#39;s texts could work.  But really your problem is that this is not a good way to structure your data.  You shouldn&#39;t be storing your state in your view.  You should have a variable named board that holds the state of each square in your game, and use that to set your views.  Then you just save the board variable on rotation.  \r\n\r\nIn general, your view layer shouldn&#39;t be storing data.  It should be set to display data stored elsewhere.","title":"How to save a Button[] text in savedPreferences","body":"<p>A loop saving all the button's texts could work.  But really your problem is that this is not a good way to structure your data.  You shouldn't be storing your state in your view.  You should have a variable named board that holds the state of each square in your game, and use that to set your views.  Then you just save the board variable on rotation.</p>\n<p>In general, your view layer shouldn't be storing data.  It should be set to display data stored elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":16258152,"reputation":745,"user_id":11740298,"display_name":"heX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693511556,"creation_date":1693511556,"answer_id":77018877,"question_id":77017471,"body_markdown":"You will need to save the state of your view in the saved stated bundle in order to restore it after the screen rotates.\r\n\r\nFirst, you need to represent the state of the buttons in some kind of simple structure. A quick solution would just be to create a comma separated list with values representing the button states from 0 to 8 (9 possible buttons). For example:\r\n`&quot;O,X,O,-,-,O,X,X,-&quot;`.\r\n\r\nAfter, you need to save your button states in:\r\n```java\r\n@Override\r\nprotected void onSaveInstanceState(@NonNull final Bundle outState) {\r\n    super.onSaveInstanceState(outState);\r\n    final String screenState = // ... loop to generate screen state\r\n    outState.putString(&quot;some_key&quot;, screenState);\r\n}\r\n```\r\n\r\nAnd `onCreate()` you need to restore the screen if the value is present in the bundle:\r\n```java\r\n@Override\r\npublic void onCreate(@Nullable final Bundle savedInstanceBundle) {\r\n    if (bundle != null) {\r\n        final String state = bundle.getString(&quot;some_key&quot;);\r\n        if (state != null) {\r\n            // ... restore state\r\n        }\r\n    }\r\n}\r\n```\r\nNote: I agree with the previous answer, the screen state shouldn&#39;t be stored in the view in this fashion, but I just wanted to provide a simple answer without getting into the complexities of app architecture.","title":"How to save a Button[] text in savedPreferences","body":"<p>You will need to save the state of your view in the saved stated bundle in order to restore it after the screen rotates.</p>\n<p>First, you need to represent the state of the buttons in some kind of simple structure. A quick solution would just be to create a comma separated list with values representing the button states from 0 to 8 (9 possible buttons). For example:\n<code>&quot;O,X,O,-,-,O,X,X,-&quot;</code>.</p>\n<p>After, you need to save your button states in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onSaveInstanceState(@NonNull final Bundle outState) {\n    super.onSaveInstanceState(outState);\n    final String screenState = // ... loop to generate screen state\n    outState.putString(&quot;some_key&quot;, screenState);\n}\n</code></pre>\n<p>And <code>onCreate()</code> you need to restore the screen if the value is present in the bundle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onCreate(@Nullable final Bundle savedInstanceBundle) {\n    if (bundle != null) {\n        final String state = bundle.getString(&quot;some_key&quot;);\n        if (state != null) {\n            // ... restore state\n        }\n    }\n}\n</code></pre>\n<p>Note: I agree with the previous answer, the screen state shouldn't be stored in the view in this fashion, but I just wanted to provide a simple answer without getting into the complexities of app architecture.</p>\n"}],"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77018877,"answer_count":2,"score":0,"last_activity_date":1693511556,"creation_date":1693497091,"question_id":77017471,"body_markdown":"I have `Button[] buttons = new Button[9];` and later in the activity the buttons will be set to either X or O. I need to save whether a given button has its text as X or O. When a button is clicked on, that button will change its text. Since text is not predetermined or editText, I&#39;m not sure how to save it so it can be restored when the activity needs to be destroyed to rotate the screen. Would using a loop for saving all 9 button&#39;s text be a thing?\r\n\r\n```\r\n@Override\r\n    public void onClick(View v) {\r\n        if (!((Button)v).getText().toString().equals(&quot;&quot;)) {\r\n            return;\r\n        }\r\n\r\n        String buttonID = v.getResources().getResourceEntryName(v.getId());\r\n        int gameStatePointer = Integer.parseInt(buttonID.substring(buttonID.length()-1));\r\n\r\n        if (activePlayer) {\r\n            ((Button)v).setText(&quot;X&quot;);\r\n            ((Button)v).setTextColor(Color.parseColor(&quot;#ff4a4a&quot;));\r\n            gameState[gameStatePointer] = 0;\r\n            gameStatus.setText(&quot;O&#39;s Turn&quot;);\r\n        }\r\n        else {\r\n            ((Button)v).setText(&quot;O&quot;);\r\n            ((Button)v).setTextColor(Color.parseColor(&quot;#70FFEA&quot;));\r\n            gameState[gameStatePointer] = 1;\r\n            gameStatus.setText(&quot;X&#39;s Turn&quot;);\r\n        }\r\n```\r\n\r\n","title":"How to save a Button[] text in savedPreferences","body":"<p>I have <code>Button[] buttons = new Button[9];</code> and later in the activity the buttons will be set to either X or O. I need to save whether a given button has its text as X or O. When a button is clicked on, that button will change its text. Since text is not predetermined or editText, I'm not sure how to save it so it can be restored when the activity needs to be destroyed to rotate the screen. Would using a loop for saving all 9 button's text be a thing?</p>\n<pre><code>@Override\n    public void onClick(View v) {\n        if (!((Button)v).getText().toString().equals(&quot;&quot;)) {\n            return;\n        }\n\n        String buttonID = v.getResources().getResourceEntryName(v.getId());\n        int gameStatePointer = Integer.parseInt(buttonID.substring(buttonID.length()-1));\n\n        if (activePlayer) {\n            ((Button)v).setText(&quot;X&quot;);\n            ((Button)v).setTextColor(Color.parseColor(&quot;#ff4a4a&quot;));\n            gameState[gameStatePointer] = 0;\n            gameStatus.setText(&quot;O's Turn&quot;);\n        }\n        else {\n            ((Button)v).setText(&quot;O&quot;);\n            ((Button)v).setTextColor(Color.parseColor(&quot;#70FFEA&quot;));\n            gameState[gameStatePointer] = 1;\n            gameStatus.setText(&quot;X's Turn&quot;);\n        }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2918786,"reputation":637,"user_id":3576968,"display_name":"Daniel Schr&#246;der"},"score":1,"creation_date":1690763199,"post_id":76800004,"comment_id":135394137,"body_markdown":"As a follow up suggestion to my answer, take a look into Kotlin. The Android world is transitioning from a Java/Groovy pair for application language and configuration script language to writting everything in Kotlin. You can pretty much mix and match those options but, if your starting fresh, it&#39;s easier to learn only one thing.","body":"As a follow up suggestion to my answer, take a look into Kotlin. The Android world is transitioning from a Java/Groovy pair for application language and configuration script language to writting everything in Kotlin. You can pretty much mix and match those options but, if your starting fresh, it&#39;s easier to learn only one thing."}],"answers":[{"tags":[],"owner":{"account_id":2918786,"reputation":637,"user_id":3576968,"display_name":"Daniel Schr&#246;der"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690762856,"creation_date":1690762856,"answer_id":76800059,"question_id":76800004,"body_markdown":"The `language` option is for you to set the language in which you want to write your Android application. If you want to write it in Java, that&#39;s the place to select that option.\r\n\r\nHowever, Android project&#39;s use a build tool called Gradle. This tool uses configuration scripts that can be written in different languages than your main project. So, the `build configuration language` is the place for you to configure in which language you want to write these build scripts.\r\n\r\nIf you&#39;re just starting, don&#39;t worry to much about those build scripts. The Android Studio will generate almost everything you need until you get in a more advanced setup.","title":"What is the difference between build configuration language and language in Android Studio?","body":"<p>The <code>language</code> option is for you to set the language in which you want to write your Android application. If you want to write it in Java, that's the place to select that option.</p>\n<p>However, Android project's use a build tool called Gradle. This tool uses configuration scripts that can be written in different languages than your main project. So, the <code>build configuration language</code> is the place for you to configure in which language you want to write these build scripts.</p>\n<p>If you're just starting, don't worry to much about those build scripts. The Android Studio will generate almost everything you need until you get in a more advanced setup.</p>\n"}],"owner":{"account_id":29122576,"reputation":23,"user_id":22309685,"display_name":"Nathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2818,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76800059,"answer_count":1,"score":2,"last_activity_date":1693511436,"creation_date":1690760964,"question_id":76800004,"body_markdown":"When setting up a new project in Android Studio with the Empty Views Activity, it gives the option of both a language and build configuration language.\r\nI was wondering what the actual difference between them is.\r\n\r\nI&#39;m trying to build the app in Java.","title":"What is the difference between build configuration language and language in Android Studio?","body":"<p>When setting up a new project in Android Studio with the Empty Views Activity, it gives the option of both a language and build configuration language.\nI was wondering what the actual difference between them is.</p>\n<p>I'm trying to build the app in Java.</p>\n"},{"tags":["java","css","javafx"],"owner":{"account_id":28768067,"reputation":1,"user_id":22479862,"display_name":"CataclysmicCPU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693511745,"answer_count":0,"score":0,"last_activity_date":1693511356,"creation_date":1693511002,"question_id":77018834,"body_markdown":"So, I am trying to use a css file in JavaFX for the first time. Here is my code, error and file location:  \r\n```\r\nscene.getStylesheets().add(&quot;C:/Users/myUser/IdeaProjects/CupOfTea/src/main/resources//main.css&quot;);\r\n```\r\n[enter image description here](https://i.stack.imgur.com/0F56B.png)\r\n```\r\n&gt;! Exception in Application start method\r\n&gt;! java.lang.reflect.InvocationTargetException\r\n&gt;! \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n&gt;! \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&gt;! \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&gt;! \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&gt;! \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n&gt;! Caused by: java.lang.RuntimeException: Exception in Application start method\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n&gt;! \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n&gt;! Caused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n&gt;! \tat javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1135)\r\n&gt;! \tat javafx.graphics/javafx.scene.image.Image.&lt;init&gt;(Image.java:625)\r\n&gt;! \tat com.example.cupoftea/com.example.cupoftea.HelloApplication.start(HelloApplication.java:153)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n&gt;! \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n&gt;! 1 more\r\n&gt;! Caused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\r\n&gt;! \tat javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1120)\r\n&gt;! 11 more\r\n&gt;! Exception running application com.example.cupoftea.HelloApplication\r\n\r\n```\r\nfor whatever reason when I was trying to add photos and images it would not work without me having the full path, I don&#39;t like it, but I can&#39;t seem to fix it.\r\n\r\n\r\nI have tried to use this:\r\n```\r\n&quot;C:/Users/myUser/IdeaProjects/CupOfTea/src/main/resources//main.css&quot;\r\n```\r\n code I have seen but it throws this error: Exception in Application start method\r\n```\r\n&gt;! java.lang.reflect.InvocationTargetException\r\n&gt;! \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n&gt;! \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&gt;! \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&gt;! \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&gt;! \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n&gt;! Caused by: java.lang.RuntimeException: Exception in Application start method\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n&gt;! \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n&gt;! Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n&gt;! \tat com.example.cupoftea/com.example.cupoftea.HelloApplication.start(HelloApplication.java:152)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n&gt;! \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n&gt;! \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n&gt;! \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n&gt;! 1 more\r\n&gt;! Exception running application com.example.cupoftea.HelloApplication\r\nAny help is greatly appreciated; \r\n```\r\n","title":"JavaFX not seeing a css file","body":"<p>So, I am trying to use a css file in JavaFX for the first time. Here is my code, error and file location:</p>\n<pre><code>scene.getStylesheets().add(&quot;C:/Users/myUser/IdeaProjects/CupOfTea/src/main/resources//main.css&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0F56B.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>&gt;! Exception in Application start method\n&gt;! java.lang.reflect.InvocationTargetException\n&gt;!  at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n&gt;!  at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n&gt;!  at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n&gt;!  at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n&gt;!  at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\n&gt;! Caused by: java.lang.RuntimeException: Exception in Application start method\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n&gt;!  at java.base/java.lang.Thread.run(Thread.java:1623)\n&gt;! Caused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\n&gt;!  at javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1135)\n&gt;!  at javafx.graphics/javafx.scene.image.Image.&lt;init&gt;(Image.java:625)\n&gt;!  at com.example.cupoftea/com.example.cupoftea.HelloApplication.start(HelloApplication.java:153)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n&gt;!  at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n&gt;!  at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n&gt;!  at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n&gt;!  at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n&gt;! 1 more\n&gt;! Caused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\n&gt;!  at javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1120)\n&gt;! 11 more\n&gt;! Exception running application com.example.cupoftea.HelloApplication\n\n</code></pre>\n<p>for whatever reason when I was trying to add photos and images it would not work without me having the full path, I don't like it, but I can't seem to fix it.</p>\n<p>I have tried to use this:</p>\n<pre><code>&quot;C:/Users/myUser/IdeaProjects/CupOfTea/src/main/resources//main.css&quot;\n</code></pre>\n<p>code I have seen but it throws this error: Exception in Application start method</p>\n<pre><code>&gt;! java.lang.reflect.InvocationTargetException\n&gt;!  at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n&gt;!  at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n&gt;!  at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n&gt;!  at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n&gt;!  at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\n&gt;! Caused by: java.lang.RuntimeException: Exception in Application start method\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n&gt;!  at java.base/java.lang.Thread.run(Thread.java:1623)\n&gt;! Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n&gt;!  at com.example.cupoftea/com.example.cupoftea.HelloApplication.start(HelloApplication.java:152)\n&gt;!  at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n&gt;!  at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n&gt;!  at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n&gt;!  at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n&gt;!  at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n&gt;!  at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n&gt;! 1 more\n&gt;! Exception running application com.example.cupoftea.HelloApplication\nAny help is greatly appreciated; \n</code></pre>\n"},{"tags":["java","svg","dependencies","javax.imageio","batik"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1689590817,"post_id":76650192,"comment_id":135230090,"body_markdown":"Try the `help:effective-pom` Maven goal, and see if there are other sources for the `org.w3c.dom` package. You might need more exclusions for this to work with modules.","body":"Try the <code>help:effective-pom</code> Maven goal, and see if there are other sources for the <code>org.w3c.dom</code> package. You might need more exclusions for this to work with modules."}],"answers":[{"tags":[],"owner":{"account_id":424655,"reputation":383,"user_id":804766,"display_name":"richardeigenmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693511184,"creation_date":1693511184,"answer_id":77018846,"question_id":76650192,"body_markdown":"Same probelm with Gradle in a Java Modularity project:\r\n\r\n    implementation &#39;org.apache.xmlgraphics:batik-transcoder:1.17&#39;\r\n\r\nResults in \r\n\r\n    the unnamed module reads package javax.xml from both xml.apis and java.xml\r\n\r\nWhich is correct, because the pom file in the batik-transcoder jar declares a dependency on `xml-apis` which then leads to the conflict.\r\n\r\nFortunately, we can tell the dependency resolver to not include `xml-apis`:\r\n\r\n    implementation &#39;org.apache.xmlgraphics:batik-transcoder:1.17&#39;, {\r\n        exclude group: &quot;xml-apis&quot;, module: &quot;xml-apis&quot;\r\n    }\r\n\r\nBut then we hit a runtime problem when we try to parse an SVG image:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.dom.css.DOMImplementationCSS\r\n\r\nAgain, this is correct because we haven&#39;t declared that we would like to use code from the `jdk.xml.dom` module. This is fixed by declaring it in  `module-info.java`:\r\n\r\n    requires jdk.xml.dom;","title":"dependency conflicts with batik-transcoder and java 17","body":"<p>Same probelm with Gradle in a Java Modularity project:</p>\n<pre><code>implementation 'org.apache.xmlgraphics:batik-transcoder:1.17'\n</code></pre>\n<p>Results in</p>\n<pre><code>the unnamed module reads package javax.xml from both xml.apis and java.xml\n</code></pre>\n<p>Which is correct, because the pom file in the batik-transcoder jar declares a dependency on <code>xml-apis</code> which then leads to the conflict.</p>\n<p>Fortunately, we can tell the dependency resolver to not include <code>xml-apis</code>:</p>\n<pre><code>implementation 'org.apache.xmlgraphics:batik-transcoder:1.17', {\n    exclude group: &quot;xml-apis&quot;, module: &quot;xml-apis&quot;\n}\n</code></pre>\n<p>But then we hit a runtime problem when we try to parse an SVG image:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.w3c.dom.css.DOMImplementationCSS\n</code></pre>\n<p>Again, this is correct because we haven't declared that we would like to use code from the <code>jdk.xml.dom</code> module. This is fixed by declaring it in  <code>module-info.java</code>:</p>\n<pre><code>requires jdk.xml.dom;\n</code></pre>\n"}],"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77018846,"answer_count":1,"score":1,"last_activity_date":1693511184,"creation_date":1688952287,"question_id":76650192,"body_markdown":"I&#39;m trying to use the twelvemonkeys and batik to process svg files in java.\r\n\r\n```xml\r\n  &lt;!-- https://mvnrepository.com/artifact/com.twelvemonkeys.imageio/imageio-batik --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;imageio-batik&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-transcoder --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n```\r\n\r\nThe problem is that the inclusion of this library in my pom results in the following errors:\r\n```\r\nThe package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml\r\nSAXException cannot be resolved to a type\r\n```\r\n\r\nI&#39;ve tried the following exclusions which fixes the above errors but at runtime I now get a classnotfound error:\r\n\r\n```\r\n &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-transcoder --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;xml-apis-ext&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n```\r\n[m java.lang.ClassNotFoundException: org.w3c.dom.svg.SVGDocument\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) ~[?:?]\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[?:?]\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[?:?]\r\n\tat jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[?:?]\r\n\tat jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[?:?]\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[?:?]\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[?:?]\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\tat org.apache.batik.anim.dom.SVGDOMImplementation.createDocument(SVGDOMImplementation.java:140) ~[batik-anim-1.16.jar:?]\r\n\tat org.apache.batik.dom.util.SAXDocumentFactory.startElement(SAXDocumentFactory.java:641) ~[batik-dom-1.16.jar:?]\r\n```\r\n","title":"dependency conflicts with batik-transcoder and java 17","body":"<p>I'm trying to use the twelvemonkeys and batik to process svg files in java.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!-- https://mvnrepository.com/artifact/com.twelvemonkeys.imageio/imageio-batik --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n            &lt;artifactId&gt;imageio-batik&lt;/artifactId&gt;\n            &lt;version&gt;3.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-transcoder --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n            &lt;version&gt;1.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n</code></pre>\n<p>The problem is that the inclusion of this library in my pom results in the following errors:</p>\n<pre><code>The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml\nSAXException cannot be resolved to a type\n</code></pre>\n<p>I've tried the following exclusions which fixes the above errors but at runtime I now get a classnotfound error:</p>\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/batik-transcoder --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n            &lt;version&gt;1.16&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis-ext&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>[m java.lang.ClassNotFoundException: org.w3c.dom.svg.SVGDocument\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at java.lang.ClassLoader.defineClass1(Native Method) ~[?:?]\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[?:?]\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[?:?]\n    at jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[?:?]\n    at jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[?:?]\n    at jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[?:?]\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at org.apache.batik.anim.dom.SVGDOMImplementation.createDocument(SVGDOMImplementation.java:140) ~[batik-anim-1.16.jar:?]\n    at org.apache.batik.dom.util.SAXDocumentFactory.startElement(SAXDocumentFactory.java:641) ~[batik-dom-1.16.jar:?]\n</code></pre>\n"},{"tags":["java","menu","toolbar"],"answers":[{"tags":[],"owner":{"account_id":15993800,"reputation":1,"user_id":11542239,"display_name":"omar kurdistan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693511030,"creation_date":1693510901,"answer_id":77018818,"question_id":76351916,"body_markdown":"open project panel\r\napp -&gt; src -&gt; main -&gt; res -&gt; values -&gt; themes.xml\r\n\r\nwhen opeing themes \r\n\r\nin line three delete noActionBar\r\n\r\n    \r\n    parent=&quot;Theme.Material3.DayNight.NoActionBar&quot; \r\n\r\n\r\nit should be like this \r\n\r\n    parent=&quot;Theme.Material3.DayNight&quot;\r\n\r\nhope it helps.\r\n\r\n\r\n\r\n","title":"Android Studio Toolbar İs Not Showing","body":"<p>open project panel\napp -&gt; src -&gt; main -&gt; res -&gt; values -&gt; themes.xml</p>\n<p>when opeing themes</p>\n<p>in line three delete noActionBar</p>\n<pre><code>parent=&quot;Theme.Material3.DayNight.NoActionBar&quot; \n</code></pre>\n<p>it should be like this</p>\n<pre><code>parent=&quot;Theme.Material3.DayNight&quot;\n</code></pre>\n<p>hope it helps.</p>\n"}],"owner":{"account_id":28696817,"reputation":1,"user_id":21974875,"display_name":"Enes Polat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693511030,"creation_date":1685283143,"question_id":76351916,"body_markdown":"Android Studio Toolbar İs Not Showing\r\n\r\nHello Guys,\r\nI am sure that my codes for creating the menu in Android Studio are correct, and it also does not give an error, but when I run my project, the menu does not appear on the page.\r\n[İmage1](https://i.stack.imgur.com/O2apy.png)\r\n[İmage2](https://i.stack.imgur.com/iz1g0.png)","title":"Android Studio Toolbar İs Not Showing","body":"<p>Android Studio Toolbar İs Not Showing</p>\n<p>Hello Guys,\nI am sure that my codes for creating the menu in Android Studio are correct, and it also does not give an error, but when I run my project, the menu does not appear on the page.\n<a href=\"https://i.stack.imgur.com/O2apy.png\" rel=\"nofollow noreferrer\">İmage1</a>\n<a href=\"https://i.stack.imgur.com/iz1g0.png\" rel=\"nofollow noreferrer\">İmage2</a></p>\n"},{"tags":["java","maven","junit","junit5","maven-surefire-plugin"],"comments":[{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1674470920,"post_id":53433663,"comment_id":132713330,"body_markdown":"It&#39;s good your test method is public, but the class can be package-private for JUnit 5+. See also https://www.baeldung.com/maven-cant-find-junit-tests","body":"It&#39;s good your test method is public, but the class can be package-private for JUnit 5+. See also <a href=\"https://www.baeldung.com/maven-cant-find-junit-tests\" rel=\"nofollow noreferrer\">baeldung.com/maven-cant-find-junit-tests</a>"}],"answers":[{"tags":[],"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"down_vote_count":1,"up_vote_count":136,"is_accepted":true,"score":135,"last_activity_date":1548728079,"creation_date":1542899089,"answer_id":53433724,"question_id":53433663,"body_markdown":"According to the annotation (`import org.junit.jupiter.api.Test`), you are trying to run JUnit 5 tests with Maven. According to the [documentation][1], you have to add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYour version of Maven comes with a version of `maven-surefire-plugin` which does not support JUnit 5. You could update your Maven to the latest version. You could also set the version of the `maven-surefire-plugin`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;!-- JUnit 5 requires Surefire version 2.22.0 or higher --&gt;\r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nSee the [junit5-samples for this information][2].\r\n\r\nSee the [Maven Surefire Plugin][3] artifact in a Maven repository. At version `3.0.0-M3` as of 2019-01.\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\r\n  [2]: https://github.com/junit-team/junit5-samples/blob/r5.3.1/junit5-jupiter-starter-maven/pom.xml\r\n  [3]: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin","title":"Maven not running JUnit 5 tests","body":"<p>According to the annotation (<code>import org.junit.jupiter.api.Test</code>), you are trying to run JUnit 5 tests with Maven. According to the <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\">documentation</a>, you have to add this dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Your version of Maven comes with a version of <code>maven-surefire-plugin</code> which does not support JUnit 5. You could update your Maven to the latest version. You could also set the version of the <code>maven-surefire-plugin</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;!-- JUnit 5 requires Surefire version 2.22.0 or higher --&gt;\n    &lt;version&gt;2.22.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>See the <a href=\"https://github.com/junit-team/junit5-samples/blob/r5.3.1/junit5-jupiter-starter-maven/pom.xml\" rel=\"noreferrer\">junit5-samples for this information</a>.</p>\n\n<p>See the <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin\" rel=\"noreferrer\">Maven Surefire Plugin</a> artifact in a Maven repository. At version <code>3.0.0-M3</code> as of 2019-01.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1664062443,"creation_date":1553740171,"answer_id":55389315,"question_id":53433663,"body_markdown":"# tl;dr\r\n\r\nAdd two dependencies to your project:\r\n\r\n - *JUnit Jupiter (Aggregator)*\r\n - *Maven Surefire Plugin*\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n… and:\r\n\r\n```xml\r\n&lt;!-- https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n  &lt;type&gt;maven-plugin&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n# `junit-jupiter` —&#160;the simpler archetype for JUnit 5\r\n\r\nThe [Answer by LaurentG][1] seems to be correct, but a bit outdated.\r\n\r\nAs of JUnit 5.4, you can **replace those multiple Maven artifacts**:\r\n\r\n - `junit`\r\n - `junit-jupiter-api`\r\n - `junit-jupiter-engine`\r\n\r\n…with a single artifact:\r\n\r\n - [`junit-jupiter`][2]\r\n\r\n…to run JUnit 5 tests.\r\n\r\nThis artifact is an aggregate of other artifacts, a convenient wrapper to simplify your POM file. See [this repository](https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter). \r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis gives you all you need to write and run JUnit 5 *Jupiter* tests.\r\n\r\n# `maven-surefire-plugin`\r\n\r\nYou would also need the [*Surefire* plugin][5] as shown in that [other Answer][1]. Be sure to get the latest version, as Surefire has had some important fixes/enhancements recently. \r\n\r\nSee [this list][6] of dependency declarations for Maven, Buildr, Ivy, Grape, Grails, SBT, and Leiningen. To quote the Maven config:\r\n\r\n```xml\r\n&lt;!-- https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n  &lt;type&gt;maven-plugin&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n# `junit-vintage-engine` for JUnit 3 &amp; 4 tests \r\n\r\nIf you have old JUnit 3 or JUnit 4 [legacy][3] tests that you want to continue to run, add another dependency, [`junit-vintage-engine`][4]. \r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53433724/642706\r\n  [2]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\r\n  [3]: https://en.wikipedia.org/wiki/Legacy_system\r\n  [4]: https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine\r\n  [5]: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin\r\n  [6]: https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html","title":"Maven not running JUnit 5 tests","body":"<h1>tl;dr</h1>\n<p>Add two dependencies to your project:</p>\n<ul>\n<li><em>JUnit Jupiter (Aggregator)</em></li>\n<li><em>Maven Surefire Plugin</em></li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>… and:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\n  &lt;type&gt;maven-plugin&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h1><code>junit-jupiter</code> — the simpler archetype for JUnit 5</h1>\n<p>The <a href=\"https://stackoverflow.com/a/53433724/642706\">Answer by LaurentG</a> seems to be correct, but a bit outdated.</p>\n<p>As of JUnit 5.4, you can <strong>replace those multiple Maven artifacts</strong>:</p>\n<ul>\n<li><code>junit</code></li>\n<li><code>junit-jupiter-api</code></li>\n<li><code>junit-jupiter-engine</code></li>\n</ul>\n<p>…with a single artifact:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"noreferrer\"><code>junit-jupiter</code></a></li>\n</ul>\n<p>…to run JUnit 5 tests.</p>\n<p>This artifact is an aggregate of other artifacts, a convenient wrapper to simplify your POM file. See <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"noreferrer\">this repository</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This gives you all you need to write and run JUnit 5 <em>Jupiter</em> tests.</p>\n<h1><code>maven-surefire-plugin</code></h1>\n<p>You would also need the <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin\" rel=\"noreferrer\"><em>Surefire</em> plugin</a> as shown in that <a href=\"https://stackoverflow.com/a/53433724/642706\">other Answer</a>. Be sure to get the latest version, as Surefire has had some important fixes/enhancements recently.</p>\n<p>See <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html\" rel=\"noreferrer\">this list</a> of dependency declarations for Maven, Buildr, Ivy, Grape, Grails, SBT, and Leiningen. To quote the Maven config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://maven.apache.org/surefire/maven-surefire-plugin/dependency-info.html --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\n  &lt;type&gt;maven-plugin&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h1><code>junit-vintage-engine</code> for JUnit 3 &amp; 4 tests</h1>\n<p>If you have old JUnit 3 or JUnit 4 <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> tests that you want to continue to run, add another dependency, <a href=\"https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine\" rel=\"noreferrer\"><code>junit-vintage-engine</code></a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4857150,"reputation":11,"user_id":3917797,"display_name":"Milicko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645617132,"creation_date":1645617132,"answer_id":71236442,"question_id":53433663,"body_markdown":"Add &quot;include&quot; in configuration section for maven surfire, your test should end with Test.java and it should work\r\n\r\n\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n","title":"Maven not running JUnit 5 tests","body":"<p>Add &quot;include&quot; in configuration section for maven surfire, your test should end with Test.java and it should work</p>\n<pre><code>&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8536347,"reputation":830,"user_id":6398014,"display_name":"Codigo Morsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650223404,"creation_date":1650223404,"answer_id":71904802,"question_id":53433663,"body_markdown":"I recently discovered that I had to add the prefix &quot;test&quot; on my tests methods in order to get my tests executed by maven.\r\n\r\n    @Test\r\n    public void testStringsAreEqual() {\r\n        var aString = &quot;Walrus Code&quot;;\r\n\r\n        Assertions.assertEquals(aString, &quot;Walrus Code&quot;);\r\n    }\r\n\r\nOtherwise the tests are ignored... This is part of my pom:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.myapp.Main&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Maven not running JUnit 5 tests","body":"<p>I recently discovered that I had to add the prefix &quot;test&quot; on my tests methods in order to get my tests executed by maven.</p>\n<pre><code>@Test\npublic void testStringsAreEqual() {\n    var aString = &quot;Walrus Code&quot;;\n\n    Assertions.assertEquals(aString, &quot;Walrus Code&quot;);\n}\n</code></pre>\n<p>Otherwise the tests are ignored... This is part of my pom:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.myapp.Main&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12524244,"reputation":59,"user_id":9114634,"display_name":"VinjaNinja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650449548,"creation_date":1650449548,"answer_id":71937849,"question_id":53433663,"body_markdown":"In my case, on top of the accepted answer with 2 changes (maven-surefire plugin version and artifacts of org.junit.jupiter), I had to add one more change. (Java version used: 11)\r\n\r\nEven though org.jacoco.agent was a part of my dependencies list, it needed to be added within &lt; dependencyManagement &gt; tag as well. This seemed to have resolved any underlying version/enforced the dependency automatically.\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                &lt;classifier&gt;runtime&lt;/classifier&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Maven not running JUnit 5 tests","body":"<p>In my case, on top of the accepted answer with 2 changes (maven-surefire plugin version and artifacts of org.junit.jupiter), I had to add one more change. (Java version used: 11)</p>\n<p>Even though org.jacoco.agent was a part of my dependencies list, it needed to be added within &lt; dependencyManagement &gt; tag as well. This seemed to have resolved any underlying version/enforced the dependency automatically.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15955770,"reputation":712,"user_id":11513972,"display_name":"Tristan Elliott"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1650993347,"creation_date":1650993347,"answer_id":72018005,"question_id":53433663,"body_markdown":"- I was having a similar problem where the junit `@Test` annotation would work but not the org.junit.jupiter.api.Test `@Test` annotation.\r\n\r\n### The solution:\r\n- [THIS](https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html) is mavens official guide on how to confugure the `maven-surefire-plugin` and make sure that is uses the proper `junit-jupiter-engine`\r\n\r\n- The guide is a little confusing so, this is how I got it to work\r\n\r\n**1)** add the engine dependency to the dependencies block:\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\n\r\n**2)** add the engine dependency to maven-surefire:\r\n```\r\n&lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.6.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n\r\n```","title":"Maven not running JUnit 5 tests","body":"<ul>\n<li>I was having a similar problem where the junit <code>@Test</code> annotation would work but not the org.junit.jupiter.api.Test <code>@Test</code> annotation.</li>\n</ul>\n<h3>The solution:</h3>\n<ul>\n<li><p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\">THIS</a> is mavens official guide on how to confugure the <code>maven-surefire-plugin</code> and make sure that is uses the proper <code>junit-jupiter-engine</code></p>\n</li>\n<li><p>The guide is a little confusing so, this is how I got it to work</p>\n</li>\n</ul>\n<p><strong>1)</strong> add the engine dependency to the dependencies block:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<p><strong>2)</strong> add the engine dependency to maven-surefire:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M6&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                    &lt;version&gt;5.6.2&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8155316,"reputation":51,"user_id":6141095,"display_name":"Cinders"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665058083,"creation_date":1665058083,"answer_id":73973521,"question_id":53433663,"body_markdown":"For me (all tests are using Junit 5) , it was enough to just use version 3.0.0-M7 for surefire plugin in the plugins section. No need to add surefire plugin to dependencies and i only had org.junit.jupiter.junit-jupiter in my dependencies, no other jupiter dependencies. ","title":"Maven not running JUnit 5 tests","body":"<p>For me (all tests are using Junit 5) , it was enough to just use version 3.0.0-M7 for surefire plugin in the plugins section. No need to add surefire plugin to dependencies and i only had org.junit.jupiter.junit-jupiter in my dependencies, no other jupiter dependencies.</p>\n"},{"tags":[],"owner":{"account_id":2917205,"reputation":733,"user_id":2500149,"accept_rate":62,"display_name":"Marcin K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669304822,"creation_date":1669304822,"answer_id":74563283,"question_id":53433663,"body_markdown":"For me not ran tests were due to surefire plugin not being ran at all. This was due to 2 reasons.\r\n\r\n1. I declared sunfire plugin in\r\n\r\n    build-&gt;pluginmanagement-&gt;plugins\r\n    \r\n    instead of just\r\n    \r\n    build-&gt;plugins\r\n\r\n \r\n\r\n2. My &lt;packaging&gt; type was pom instead of jar.\r\n\r\n \r\n\r\n \r\n\r\nI know these might sound like errors done almost on purpose but it was a result of novice maven user creating pom.xml via copy paste from different projects. I also know that my symptoms were different from what author described (plugin not ran at all instead of no tests found) but I believe it fits well to the thread topic and this solution might help some people.","title":"Maven not running JUnit 5 tests","body":"<p>For me not ran tests were due to surefire plugin not being ran at all. This was due to 2 reasons.</p>\n<ol>\n<li><p>I declared sunfire plugin in</p>\n<p>build-&gt;pluginmanagement-&gt;plugins</p>\n<p>instead of just</p>\n<p>build-&gt;plugins</p>\n</li>\n<li><p>My  type was pom instead of jar.</p>\n</li>\n</ol>\n<p>I know these might sound like errors done almost on purpose but it was a result of novice maven user creating pom.xml via copy paste from different projects. I also know that my symptoms were different from what author described (plugin not ran at all instead of no tests found) but I believe it fits well to the thread topic and this solution might help some people.</p>\n"},{"tags":[],"owner":{"account_id":2195409,"reputation":2824,"user_id":2420718,"display_name":"Julian Espinel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680267643,"creation_date":1680267643,"answer_id":75898848,"question_id":53433663,"body_markdown":"According to the Junit 5 documentation, this is what we need to execute the tests by using `mvn test`:\r\n\r\n```xml\r\n&lt;!-- ... --&gt;\r\n&lt;dependencies&gt;\r\n    &lt;!-- ... --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- ... --&gt;\r\n&lt;/dependencies&gt;\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n&lt;!-- ... --&gt;\r\n```\r\n\r\nSources:\r\n* https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven-engines-configure\r\n* https://github.com/junit-team/junit5-samples/blob/r5.9.2/junit5-jupiter-starter-maven/pom.xml","title":"Maven not running JUnit 5 tests","body":"<p>According to the Junit 5 documentation, this is what we need to execute the tests by using <code>mvn test</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ... --&gt;\n&lt;dependencies&gt;\n    &lt;!-- ... --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.9.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- ... --&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven-engines-configure\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven-engines-configure</a></li>\n<li><a href=\"https://github.com/junit-team/junit5-samples/blob/r5.9.2/junit5-jupiter-starter-maven/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5-samples/blob/r5.9.2/junit5-jupiter-starter-maven/pom.xml</a></li>\n</ul>\n"}],"owner":{"account_id":1207655,"reputation":2233,"user_id":1176873,"accept_rate":50,"display_name":"mogoli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56669,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":53433724,"answer_count":9,"score":92,"last_activity_date":1693510850,"creation_date":1542898892,"question_id":53433663,"body_markdown":"I&#39;m trying to get a simple junit test running with maven but it is not detecting any tests. Where am I going wrong? The project directory\r\n\r\n    Project -&gt; src -&gt; test-&gt; java -&gt; MyTest.java\r\n\r\nResults :\r\n\r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.buildproftest.ecs&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;buildprofiletest&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;debug&gt;false&lt;/debug&gt;\r\n    \t\t\t\t\t&lt;optimize&gt;true&lt;/optimize&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nJunit test case\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class MyTest {\r\n        @Test\r\n        public void printTest() {\r\n            System.out.println(&quot;Running JUNIT test&quot;);\r\n        }\r\n    }\r\n\r\nThe response is that there are no test cases to run.\r\n\r\n","title":"Maven not running JUnit 5 tests","body":"<p>I'm trying to get a simple junit test running with maven but it is not detecting any tests. Where am I going wrong? The project directory</p>\n<pre><code>Project -&gt; src -&gt; test-&gt; java -&gt; MyTest.java\n</code></pre>\n<p>Results :</p>\n<pre><code>Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.buildproftest.ecs&lt;/groupId&gt;\n    &lt;artifactId&gt;buildprofiletest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;debug&gt;false&lt;/debug&gt;\n                    &lt;optimize&gt;true&lt;/optimize&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Junit test case</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\npublic class MyTest {\n    @Test\n    public void printTest() {\n        System.out.println(&quot;Running JUNIT test&quot;);\n    }\n}\n</code></pre>\n<p>The response is that there are no test cases to run.</p>\n"},{"tags":["java","hadoop","access-control","java-security"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1693510794,"post_id":77018769,"comment_id":135774581,"body_markdown":"I would not put effort into researching it. AccessControlContext is a deprecated class in JDK 17: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/AccessControlContext.html","body":"I would not put effort into researching it. AccessControlContext is a deprecated class in JDK 17: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/AccessControlContext.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/&hellip;</a>"},{"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"score":0,"creation_date":1693511521,"post_id":77018769,"comment_id":135774723,"body_markdown":"@aled wow ... dropped without replacement. I wonder how Hadoop can react to this :-&gt;","body":"@aled wow ... dropped without replacement. I wonder how Hadoop can react to this :-&gt;"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693512208,"post_id":77018769,"comment_id":135774854,"body_markdown":"I would assume they removed the code that used it, or are planning to do it.","body":"I would assume they removed the code that used it, or are planning to do it."},{"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"score":0,"creation_date":1693522219,"post_id":77018769,"comment_id":135776246,"body_markdown":"they can&#39;t, access control is everywhere in HDFS (&amp; other components but they probably won&#39;t matter these days)","body":"they can&#39;t, access control is everywhere in HDFS (&amp; other components but they probably won&#39;t matter these days)"}],"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693510435,"creation_date":1693510435,"question_id":77018769,"body_markdown":"This question is derived from reading Hadoop credential management: In Hadoop 3.3+, function `UserGroupInformation.doAs` can introduce an &quot;execution scope&quot;, that allows some context information to be modified when being called inside the scope:\r\n\r\n```\r\n    import org.apache.hadoop.security.UserGroupInformation\r\n    import java.security.PrivilegedAction\r\n\r\n    val ugi = UserGroupInformation.createUserForTesting(&quot;abc&quot;, Array(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\r\n\r\n    val u = UserGroupInformation.getCurrentUser\r\n    println(u)\r\n\r\n    val t1 = Thread.currentThread()\r\n\r\n    val t2 = ugi.doAs {\r\n      new PrivilegedAction[Thread] {\r\n        override def run(): Thread = {\r\n\r\n          val u = UserGroupInformation.getCurrentUser // alternatively, calling it in subroutine won&#39;t change its outcome\r\n          println(u)\r\n\r\n          val t = Thread.currentThread()\r\n\r\n          t\r\n        }\r\n      }\r\n    }\r\n\r\n    assert(t1 == t2)\r\n\r\n/*\r\nexecution result:\r\nos-user (auth:SIMPLE)\r\nabc (auth:SIMPLE)\r\n\r\n*/\r\n```\r\n\r\nIt minimally depends on Java Security, which appears to implement a call-stack based approach and is agnostic to local thread, fibre, or coroutine, as implied in the following Java security implementation:\r\n\r\n```\r\n    public static AccessControlContext getContext()\r\n    {\r\n        AccessControlContext acc = getStackAccessControlContext();\r\n        if (acc == null) {\r\n            // all we had was privileged system code. We don&#39;t want\r\n            // to return null though, so we construct a real ACC.\r\n            return new AccessControlContext(null, true);\r\n        } else {\r\n            return acc.optimize();\r\n        }\r\n    }\r\n```\r\n\r\nFor scoped context information control, this appears to be the most lightweight approach I have seen in any JVM libraries: the underlying function can use any subroutine, without relying on boilerplate function parameter, macro or auto-completion like in alternative implementations (e.g. https://docs.scala-lang.org/scala3/book/ca-contextual-abstractions-intro.html).\r\n\r\nMy question is: Had this approach be used to control other context information? If not, why is it only reserved for Java security?","title":"Can the mechanism of `java.security.AccessControlContext` be generalised to include any context information?","body":"<p>This question is derived from reading Hadoop credential management: In Hadoop 3.3+, function <code>UserGroupInformation.doAs</code> can introduce an &quot;execution scope&quot;, that allows some context information to be modified when being called inside the scope:</p>\n<pre><code>    import org.apache.hadoop.security.UserGroupInformation\n    import java.security.PrivilegedAction\n\n    val ugi = UserGroupInformation.createUserForTesting(&quot;abc&quot;, Array(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\n\n    val u = UserGroupInformation.getCurrentUser\n    println(u)\n\n    val t1 = Thread.currentThread()\n\n    val t2 = ugi.doAs {\n      new PrivilegedAction[Thread] {\n        override def run(): Thread = {\n\n          val u = UserGroupInformation.getCurrentUser // alternatively, calling it in subroutine won't change its outcome\n          println(u)\n\n          val t = Thread.currentThread()\n\n          t\n        }\n      }\n    }\n\n    assert(t1 == t2)\n\n/*\nexecution result:\nos-user (auth:SIMPLE)\nabc (auth:SIMPLE)\n\n*/\n</code></pre>\n<p>It minimally depends on Java Security, which appears to implement a call-stack based approach and is agnostic to local thread, fibre, or coroutine, as implied in the following Java security implementation:</p>\n<pre><code>    public static AccessControlContext getContext()\n    {\n        AccessControlContext acc = getStackAccessControlContext();\n        if (acc == null) {\n            // all we had was privileged system code. We don't want\n            // to return null though, so we construct a real ACC.\n            return new AccessControlContext(null, true);\n        } else {\n            return acc.optimize();\n        }\n    }\n</code></pre>\n<p>For scoped context information control, this appears to be the most lightweight approach I have seen in any JVM libraries: the underlying function can use any subroutine, without relying on boilerplate function parameter, macro or auto-completion like in alternative implementations (e.g. <a href=\"https://docs.scala-lang.org/scala3/book/ca-contextual-abstractions-intro.html\" rel=\"nofollow noreferrer\">https://docs.scala-lang.org/scala3/book/ca-contextual-abstractions-intro.html</a>).</p>\n<p>My question is: Had this approach be used to control other context information? If not, why is it only reserved for Java security?</p>\n"},{"tags":["java","angular","gzip","pako"],"owner":{"account_id":6210880,"reputation":21,"user_id":4837199,"display_name":"Ana Bel&#233;n Gonz&#225;lez Villalba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693509842,"creation_date":1693509842,"question_id":77018724,"body_markdown":"This is application in Angular and Java. \r\n\r\nTha angular is compressing the request with pako library, like this :\r\n\r\n      var compressedBody = pako.gzip(JSON.stringify(request.body))\r\n      const clone = request.clone({ headers: request.headers.append(&#39;Content-Encoding&#39;, &#39;gzip&#39;), body: compressedBody });\r\n\r\n\r\n\r\nWhen the Backend is reading the request -&gt; The request is compress but it doesn&#39;t come the \r\nGZIP_MAGIC to identify the body has been request in gzip, so it&#39;s not unzip the request. \r\n\r\nCan anybody know how to send the request in pako that I can receive the GXIP_MAGIC?\r\n\r\nThanks\r\n\r\n    CheckedInputStream in = new CheckedInputStream(this_in, crc);\r\n    crc.reset();\r\n    // Check header magic\r\n    if (readUShort(in) != GZIP_MAGIC) {\r\n        throw new ZipException(&quot;Not in GZIP format&quot;);\r\n    }\r\nreadUShort(in) is 8752 and it should be GZIP_MAGIC=35615\r\n\r\n\r\n\r\n\r\n","title":"How Pako library can gzip a request and send the GZIP_MAGIC that it can identify the request has been compress with gzip","body":"<p>This is application in Angular and Java.</p>\n<p>Tha angular is compressing the request with pako library, like this :</p>\n<pre><code>  var compressedBody = pako.gzip(JSON.stringify(request.body))\n  const clone = request.clone({ headers: request.headers.append('Content-Encoding', 'gzip'), body: compressedBody });\n</code></pre>\n<p>When the Backend is reading the request -&gt; The request is compress but it doesn't come the\nGZIP_MAGIC to identify the body has been request in gzip, so it's not unzip the request.</p>\n<p>Can anybody know how to send the request in pako that I can receive the GXIP_MAGIC?</p>\n<p>Thanks</p>\n<pre><code>CheckedInputStream in = new CheckedInputStream(this_in, crc);\ncrc.reset();\n// Check header magic\nif (readUShort(in) != GZIP_MAGIC) {\n    throw new ZipException(&quot;Not in GZIP format&quot;);\n}\n</code></pre>\n<p>readUShort(in) is 8752 and it should be GZIP_MAGIC=35615</p>\n"},{"tags":["java","spring","unit-testing","mockito","feign"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496158214,"post_id":44265928,"comment_id":75540771,"body_markdown":"Looks like you need to be actually fixing those quirks. Why would loading a completely separate context break other tests ???","body":"Looks like you need to be actually fixing those quirks. Why would loading a completely separate context break other tests ???"},{"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"score":0,"creation_date":1496160368,"post_id":44265928,"comment_id":75542131,"body_markdown":"Basically the project uses Quartz and the test uses Hibernate with a H2 embedded database. When starting, it automatically creates some tables for Quartz through a script. When destroying the contexts, one of them throws an exception because the other one has closed the database already. Not a big deal but it leaves an ugly log and people are not happy about it. I don&#39;t know exactly how to fix it as it&#39;s the close of the contexts that triggers the destruction of the database and I don&#39;t know if I can configure the extra one to avoid it. I thought this approach would be faster","body":"Basically the project uses Quartz and the test uses Hibernate with a H2 embedded database. When starting, it automatically creates some tables for Quartz through a script. When destroying the contexts, one of them throws an exception because the other one has closed the database already. Not a big deal but it leaves an ugly log and people are not happy about it. I don&#39;t know exactly how to fix it as it&#39;s the close of the contexts that triggers the destruction of the database and I don&#39;t know if I can configure the extra one to avoid it. I thought this approach would be faster"},{"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"score":0,"creation_date":1496160619,"post_id":44265928,"comment_id":75542286,"body_markdown":"Apart from that, I&#39;m not familiar with the internals of `@MockBean`. My guess is that it only creates one extra context to hold the mock beans and that it doesn&#39;t keep creating new ones every time a test defines a mock that hasn&#39;t been created already. Is this the case? Because the context creation actually impacts in the time it takes to run the tests because of Hibernate been started up with the sql scripts that the app uses.","body":"Apart from that, I&#39;m not familiar with the internals of <code>@MockBean</code>. My guess is that it only creates one extra context to hold the mock beans and that it doesn&#39;t keep creating new ones every time a test defines a mock that hasn&#39;t been created already. Is this the case? Because the context creation actually impacts in the time it takes to run the tests because of Hibernate been started up with the sql scripts that the app uses."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496166726,"post_id":44265928,"comment_id":75545584,"body_markdown":"It creates a new fresh context based on the mocks and obviously this will impact performance. You can use context hierarchies but not sure how that would work in a Spring Boot environment. But it will only create a new one for this test (the application contexts are cached and reused between tests).   `@MockBean` creates a mock for the bean and integrates more tightly with the context and automatically resets mocks etc.","body":"It creates a new fresh context based on the mocks and obviously this will impact performance. You can use context hierarchies but not sure how that would work in a Spring Boot environment. But it will only create a new one for this test (the application contexts are cached and reused between tests).   <code>@MockBean</code> creates a mock for the bean and integrates more tightly with the context and automatically resets mocks etc."}],"answers":[{"tags":[],"owner":{"account_id":5461414,"reputation":658,"user_id":4343411,"display_name":"nikita_pavlenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496157835,"creation_date":1496157835,"answer_id":44266194,"question_id":44265928,"body_markdown":"it would be great if you can share your test class.\r\n\r\nAs I understood your problem is that you need to override a bean within your test. \r\n\r\nTo do this you can refer to the following question:\r\n\r\nhttps://stackoverflow.com/questions/28605833/overriding-an-autowired-bean-in-unit-tests","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>it would be great if you can share your test class.</p>\n\n<p>As I understood your problem is that you need to override a bean within your test. </p>\n\n<p>To do this you can refer to the following question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28605833/overriding-an-autowired-bean-in-unit-tests\">Overriding an Autowired Bean in Unit Tests</a></p>\n"},{"tags":[],"owner":{"account_id":1295445,"reputation":5529,"user_id":1246623,"display_name":"yongsung.yoon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1496290445,"creation_date":1496290445,"answer_id":44298448,"question_id":44265928,"body_markdown":"Your problem is caused by the fact that FeignClient beans are defined as `primary` like declaring a bean with `@Primary`. So it has a priority over other normal beans. \r\nFrom spring-cloud-netflix 1.3.0 that is included from Dalston release, you can turn off this primary configuration like below.\r\n\r\n    @FeignClient(name = &quot;fooService&quot;, primary = false)\r\n    public interface FooService {\r\n    }\r\n\r\nIf you change your code like above, Mocked bean will be injected into your test.\r\n\r\nOne thing you need to be careful is that `primary` option is used when you are using fallback bean for your FeignClient. If you have fallback bean, you might need to specify FeignClient bean with qualifer to get FeignClient bean over fallback bean. \r\n\r\nI think that another way to inject mocked bean instead of FeignClient bean for the test is using `BeanPostProcessor` something like below.\r\n\r\n    public static class MockProcessor implements BeanPostProcessor {\r\n             : \r\n             :\r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            if (/* distinguish your target bean */) \r\n                return Mockito.mock(FooService.class);\r\n            return bean;\r\n        }\r\n    }\r\n","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>Your problem is caused by the fact that FeignClient beans are defined as <code>primary</code> like declaring a bean with <code>@Primary</code>. So it has a priority over other normal beans. \nFrom spring-cloud-netflix 1.3.0 that is included from Dalston release, you can turn off this primary configuration like below.</p>\n\n<pre><code>@FeignClient(name = \"fooService\", primary = false)\npublic interface FooService {\n}\n</code></pre>\n\n<p>If you change your code like above, Mocked bean will be injected into your test.</p>\n\n<p>One thing you need to be careful is that <code>primary</code> option is used when you are using fallback bean for your FeignClient. If you have fallback bean, you might need to specify FeignClient bean with qualifer to get FeignClient bean over fallback bean. </p>\n\n<p>I think that another way to inject mocked bean instead of FeignClient bean for the test is using <code>BeanPostProcessor</code> something like below.</p>\n\n<pre><code>public static class MockProcessor implements BeanPostProcessor {\n         : \n         :\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        if (/* distinguish your target bean */) \n            return Mockito.mock(FooService.class);\n        return bean;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":968934,"reputation":608,"user_id":991862,"accept_rate":40,"display_name":"Stephan Windm&#252;ller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534629075,"creation_date":1534629075,"answer_id":51912824,"question_id":44265928,"body_markdown":"The annotation `@EnableFeignClients` will create primary beans for interfaces marked with `@FeignClient` by default. Disabling this for every interface may have side effects, like when there are fallback beans.\r\n\r\nIn order to prevent the creation of the Feign beans in the first place, just move this annotation to a configuration class which is disabled for tests.\r\n\r\n\r\n    @Configuration\r\n    @Profile(&quot;!test&quot;)\r\n    @EnableFeignClients\r\n    public class FeignEnable {\r\n    \r\n    }\r\n\r\nThen annotation your test class with `@ActiveProfiles(&quot;test&quot;)`.","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>The annotation <code>@EnableFeignClients</code> will create primary beans for interfaces marked with <code>@FeignClient</code> by default. Disabling this for every interface may have side effects, like when there are fallback beans.</p>\n\n<p>In order to prevent the creation of the Feign beans in the first place, just move this annotation to a configuration class which is disabled for tests.</p>\n\n<pre><code>@Configuration\n@Profile(\"!test\")\n@EnableFeignClients\npublic class FeignEnable {\n\n}\n</code></pre>\n\n<p>Then annotation your test class with <code>@ActiveProfiles(\"test\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":25531475,"reputation":47,"user_id":19319419,"display_name":"JD_UA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693509794,"creation_date":1693492044,"answer_id":77016786,"question_id":44265928,"body_markdown":"It is a bug and it was fixed in 2.2.3 Feign.","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>It is a bug and it was fixed in 2.2.3 Feign.</p>\n"}],"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7279,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":44298448,"answer_count":4,"score":7,"last_activity_date":1693509794,"creation_date":1496157099,"question_id":44265928,"body_markdown":"Is it possible to override a bean created through the `@FeignClient` annotation by just creating a `@Configuration` bean that contains a mocked version of it for testing? \r\n\r\nI&#39;ve already tried it but it seems the `@FeignClient` bean is created last (or so I think) as in my test I always get injected the real version instead of the mocked one. In the same config file I have another bean created without any annotations (apart from `@Component`) mocked the same way by just using the name of the real one and it works perfectly.\r\n\r\nI&#39;ve tried using `@MockBean` to mock it and it works but the project has some quirks on it that make the creation of another Spring context break the tests. \r\n\r\nThanks.\r\n\r\nEDIT. Actually, I just debugged the test and realised that, if I use the same name as the Feign client, the debugger doesn&#39;t even stop in the `@Configuration` bean to create the mocked version. Changing the name to something else it works but it just creates another bean of the same type with the new name. Is there any configuration I&#39;m missing here?\r\n\r\nEDIT 2. This is an example code. Executing this I have that `BarService` is the mocked version but `FooService` is the real one.\r\n\r\n    @FeignClient(name = &quot;fooService&quot;)\r\n    public interface FooService {\r\n    }\r\n\r\n    @Component\r\n    public class BarService {\r\n    }\r\n\r\n    @Configuration\r\n    public class ConfigClass {\r\n\r\n      @Bean\r\n      public FooService fooService() {\r\n        return Mockito.mock(FooService.class);\r\n      }\r\n\r\n      @Bean\r\n      public BarService barService() {\r\n        return Mockito.mock(BarService.class);\r\n      }\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @SpringBootTest\r\n    public class TestClass {\r\n\r\n      @Autowired\r\n      private FooService fooService;\r\n\r\n      @Autowired\r\n      private BarService barService;\r\n\r\n      @Test\r\n      public void test() {\r\n        System.out.println(fooService.getClass());\r\n      }\r\n    }","title":"Override @FeignClient using a @Configuration bean for tests","body":"<p>Is it possible to override a bean created through the <code>@FeignClient</code> annotation by just creating a <code>@Configuration</code> bean that contains a mocked version of it for testing? </p>\n\n<p>I've already tried it but it seems the <code>@FeignClient</code> bean is created last (or so I think) as in my test I always get injected the real version instead of the mocked one. In the same config file I have another bean created without any annotations (apart from <code>@Component</code>) mocked the same way by just using the name of the real one and it works perfectly.</p>\n\n<p>I've tried using <code>@MockBean</code> to mock it and it works but the project has some quirks on it that make the creation of another Spring context break the tests. </p>\n\n<p>Thanks.</p>\n\n<p>EDIT. Actually, I just debugged the test and realised that, if I use the same name as the Feign client, the debugger doesn't even stop in the <code>@Configuration</code> bean to create the mocked version. Changing the name to something else it works but it just creates another bean of the same type with the new name. Is there any configuration I'm missing here?</p>\n\n<p>EDIT 2. This is an example code. Executing this I have that <code>BarService</code> is the mocked version but <code>FooService</code> is the real one.</p>\n\n<pre><code>@FeignClient(name = \"fooService\")\npublic interface FooService {\n}\n\n@Component\npublic class BarService {\n}\n\n@Configuration\npublic class ConfigClass {\n\n  @Bean\n  public FooService fooService() {\n    return Mockito.mock(FooService.class);\n  }\n\n  @Bean\n  public BarService barService() {\n    return Mockito.mock(BarService.class);\n  }\n\n@RunWith(SpringRunner.class)\n@ActiveProfiles(\"test\")\n@SpringBootTest\npublic class TestClass {\n\n  @Autowired\n  private FooService fooService;\n\n  @Autowired\n  private BarService barService;\n\n  @Test\n  public void test() {\n    System.out.println(fooService.getClass());\n  }\n}\n</code></pre>\n"},{"tags":["java","junit","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":280699,"reputation":12264,"user_id":576549,"accept_rate":74,"display_name":"Eugene Loy"},"down_vote_count":0,"up_vote_count":135,"is_accepted":true,"score":135,"last_activity_date":1505148784,"creation_date":1369814104,"answer_id":16808343,"question_id":16807758,"body_markdown":"`com.sun.mail.util.MailLogger` is part of [JavaMail][1] API. It is already included in EE environment (that&#39;s why you can use it on your live server), but it is not included in SE environment.\r\n\r\n[Oracle docs][2]:   \r\n\r\n&gt; The JavaMail API is available as an optional package for use with Java\r\n&gt; SE platform and is also included in the Java EE platform.\r\n\r\n99% that you run your tests in SE environment which means what you have to bother about adding it manually to your classpath when running tests.\r\n\r\nIf you&#39;re using maven add the following dependency (you might want to change version):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://javaee.github.io/javamail/\r\n  [2]: http://www.oracle.com/technetwork/java/javamail/index.html\r\n","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p><code>com.sun.mail.util.MailLogger</code> is part of <a href=\"https://javaee.github.io/javamail/\" rel=\"noreferrer\">JavaMail</a> API. It is already included in EE environment (that's why you can use it on your live server), but it is not included in SE environment.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javamail/index.html\" rel=\"noreferrer\">Oracle docs</a>:   </p>\n\n<blockquote>\n  <p>The JavaMail API is available as an optional package for use with Java\n  SE platform and is also included in the Java EE platform.</p>\n</blockquote>\n\n<p>99% that you run your tests in SE environment which means what you have to bother about adding it manually to your classpath when running tests.</p>\n\n<p>If you're using maven add the following dependency (you might want to change version):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4190382,"reputation":661,"user_id":3433133,"display_name":"Gaurav B"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421097156,"creation_date":1421064935,"answer_id":27901807,"question_id":16807758,"body_markdown":"Please see http://mvnrepository.com/artifact/javax.mail/mail/, you can download jar or use the maven dependency, depending on your project type. That should pretty much cover it and you won&#39;t get a NoClassDefFoundError exception.","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>Please see <a href=\"http://mvnrepository.com/artifact/javax.mail/mail/\" rel=\"nofollow\">http://mvnrepository.com/artifact/javax.mail/mail/</a>, you can download jar or use the maven dependency, depending on your project type. That should pretty much cover it and you won't get a NoClassDefFoundError exception.</p>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":192,"is_accepted":false,"score":192,"last_activity_date":1583431835,"creation_date":1425879063,"answer_id":28935760,"question_id":16807758,"body_markdown":"The `javax.mail-api` artifact is only good for *compiling* against.\r\n\r\nYou actually need to ***run*** code, so you need a complete *implementation* of JavaMail API. Use this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNOTE: The version number will probably differ. Check the latest version [here][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.sun.mail/javax.mail","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>The <code>javax.mail-api</code> artifact is only good for <em>compiling</em> against.</p>\n\n<p>You actually need to <strong><em>run</em></strong> code, so you need a complete <em>implementation</em> of JavaMail API. Use this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>NOTE: The version number will probably differ. Check the latest version <a href=\"https://mvnrepository.com/artifact/com.sun.mail/javax.mail\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1329067,"reputation":1981,"user_id":1273319,"accept_rate":92,"display_name":"Shane Rowatt"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1465084940,"creation_date":1431586029,"answer_id":30231027,"question_id":16807758,"body_markdown":"I use the following maven dependencies to get java mail working. The first one includes the javax.mail API (with no implementation) and the second one is the SUN implementation of the javax.mail API.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>I use the following maven dependencies to get java mail working. The first one includes the javax.mail API (with no implementation) and the second one is the SUN implementation of the javax.mail API.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2545071,"reputation":6074,"user_id":2210035,"display_name":"Carlos Rafael Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445372979,"creation_date":1445372979,"answer_id":33246264,"question_id":16807758,"body_markdown":"It happens also if your code is expecting Java Mail 1.4 and your jars are Java Mail 1.3. Happened to me when upgraded Pentaho Kettle\r\n\r\nRegards","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>It happens also if your code is expecting Java Mail 1.4 and your jars are Java Mail 1.3. Happened to me when upgraded Pentaho Kettle</p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":3361884,"reputation":5549,"user_id":2823516,"accept_rate":86,"display_name":"Joaquin Iurchuk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1464783769,"creation_date":1464783769,"answer_id":37568545,"question_id":16807758,"body_markdown":"Download this JAR and add it to your libraries: http://java.net/projects/javamail/downloads/download/javax.mail.jar","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>Download this JAR and add it to your libraries: <a href=\"http://java.net/projects/javamail/downloads/download/javax.mail.jar\" rel=\"nofollow\">http://java.net/projects/javamail/downloads/download/javax.mail.jar</a></p>\n"},{"tags":[],"owner":{"account_id":6881809,"reputation":468,"user_id":5288292,"accept_rate":77,"display_name":"Resul Rzaeeff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516900670,"creation_date":1516900670,"answer_id":48448554,"question_id":16807758,"body_markdown":"Really it&#39;s interesting. You need just use  javax-mail.jar of &quot;com.sun&quot;  not &quot;javax.mail&quot;.  \r\n[dwonload com.sun mail jar][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.sun.mail/javax.mail","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>Really it's interesting. You need just use  javax-mail.jar of \"com.sun\"  not \"javax.mail\".<br>\n<a href=\"https://mvnrepository.com/artifact/com.sun.mail/javax.mail\" rel=\"nofollow noreferrer\">dwonload com.sun mail jar</a></p>\n"},{"tags":[],"owner":{"account_id":11824738,"reputation":3658,"user_id":8652920,"display_name":"notacorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617773711,"creation_date":1617773711,"answer_id":66980102,"question_id":16807758,"body_markdown":"I solved this by uninstalling\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand installing\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou **cannot** use these two packages together as they incur a `java.lang.module.ResolutionException` - there is some sort of conflict with JUnit packages.\r\n\r\nIf you&#39;re curious about my versions,\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>I solved this by uninstalling</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and installing</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You <strong>cannot</strong> use these two packages together as they incur a <code>java.lang.module.ResolutionException</code> - there is some sort of conflict with JUnit packages.</p>\n<p>If you're curious about my versions,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2551467,"reputation":1805,"user_id":2215139,"accept_rate":61,"display_name":"user2215139"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169750,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":16808343,"answer_count":8,"score":159,"last_activity_date":1693509692,"creation_date":1369811928,"question_id":16807758,"body_markdown":"I am using Java Mail API to read and parse emails. It is working fine with Servlet code.\r\n\r\nNow I am trying to write a JUnit test case for the same purpose. But on line  `Session session = Session.getDefaultInstance(properties);` I am getting the following exception:\r\n\r\n    java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger\r\n    \tat javax.mail.Session.initLogger(Session.java:227)\r\n    \tat javax.mail.Session.&lt;init&gt;(Session.java:212)\r\n    \tat javax.mail.Session.getDefaultInstance(Session.java:315)\r\n    \tat javax.mail.Session.getDefaultInstance(Session.java:355)\r\n    \tat com.vxl.appanalytix.dataload.fromEmail.EmailParser.parseEmailSubject(EmailParser.java:44)\r\n    \tat com.vxl.appanalytix.controllers.controllerClasses.GenericEmailServiceClass.readEmailAttachments(GenericEmailServiceClass.java:33)\r\n    \tat com.vxl.appanalytix.dataload.GenericEmailTestCase.test(GenericEmailTestCase.java:42)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.mail.util.MailLogger\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    \t... 35 more\r\n       \r\nCan anyone tell me where I am going wrong.","title":"java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger for JUnit test case for Java mail","body":"<p>I am using Java Mail API to read and parse emails. It is working fine with Servlet code.</p>\n\n<p>Now I am trying to write a JUnit test case for the same purpose. But on line  <code>Session session = Session.getDefaultInstance(properties);</code> I am getting the following exception:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com/sun/mail/util/MailLogger\n    at javax.mail.Session.initLogger(Session.java:227)\n    at javax.mail.Session.&lt;init&gt;(Session.java:212)\n    at javax.mail.Session.getDefaultInstance(Session.java:315)\n    at javax.mail.Session.getDefaultInstance(Session.java:355)\n    at com.vxl.appanalytix.dataload.fromEmail.EmailParser.parseEmailSubject(EmailParser.java:44)\n    at com.vxl.appanalytix.controllers.controllerClasses.GenericEmailServiceClass.readEmailAttachments(GenericEmailServiceClass.java:33)\n    at com.vxl.appanalytix.dataload.GenericEmailTestCase.test(GenericEmailTestCase.java:42)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: java.lang.ClassNotFoundException: com.sun.mail.util.MailLogger\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    ... 35 more\n</code></pre>\n\n<p>Can anyone tell me where I am going wrong.</p>\n"},{"tags":["java","java-11","java-17","java-module"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693559070,"post_id":77018373,"comment_id":135780045,"body_markdown":"There’s some confusion about the terms on your side. An application can be non-modular and/or monolithic without specifying these options. These `--add-opens` options are only necessary if you hack into the internals of the specified package using deep reflection. If you really need *all of them*, your application is not non-modular or monolithic but a horrible hack. And you can’t say you “ported applications to a newer Java” if you just run them on the newer Java but rely on internals which can change in every minor update.","body":"There’s some confusion about the terms on your side. An application can be non-modular and/or monolithic without specifying these options. These <code>--add-opens</code> options are only necessary if you hack into the internals of the specified package using deep reflection. If you really need <i>all of them</i>, your application is not non-modular or monolithic but a horrible hack. And you can’t say you “ported applications to a newer Java” if you just run them on the newer Java but rely on internals which can change in every minor update."},{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":0,"creation_date":1693562331,"post_id":77018373,"comment_id":135780701,"body_markdown":"It&#39;s a large system I&#39;m currently working on as contractor, 99.99% is not my code. Its core dates back to 1995. Most add-opens are needed for introspection done by serialization frameworks. I had to fix several direct calls to internal JDK APIs, luckily there were only a few. There are several external libraries we have no source code for from internal teams no longer existing. Challenging job. I like it :)","body":"It&#39;s a large system I&#39;m currently working on as contractor, 99.99% is not my code. Its core dates back to 1995. Most add-opens are needed for introspection done by serialization frameworks. I had to fix several direct calls to internal JDK APIs, luckily there were only a few. There are several external libraries we have no source code for from internal teams no longer existing. Challenging job. I like it :)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693565166,"post_id":77018373,"comment_id":135781196,"body_markdown":"Serialization frameworks might sound like legitimate use cases but still are fragile and creating version dependencies when they’re accessing internals of the core Java classes. It also begs the question why you are updating the Java version when keeping the application code and the frameworks (and all of their ticking time bombs) in the state of 1995 is considered fine. By the way, the first Java version was released in 1996 and had only eight packages. Adding an `--add-opens ` for all of them wouldn’t be too hard, but I doubt that code relying on the 1.0 internal form still works.","body":"Serialization frameworks might sound like legitimate use cases but still are fragile and creating version dependencies when they’re accessing internals of the core Java classes. It also begs the question why you are updating the Java version when keeping the application code and the frameworks (and all of their ticking time bombs) in the state of 1995 is considered fine. By the way, the first Java version was released in 1996 and had only eight packages. Adding an <code>--add-opens </code> for all of them wouldn’t be too hard, but I doubt that code relying on the 1.0 internal form still works."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693509399,"creation_date":1693509399,"answer_id":77018687,"question_id":77018373,"body_markdown":"If you are producing an executable jar file, you could use the `Add-Opens` manifest attribute. When running the app using `java -jar &lt;jar file&gt;` that should avoid having to pass all the flags. See: https://openjdk.org/jeps/261#Packaging:-Modular-JAR-files\r\n\r\nThe `java` executable also supports expanding command line flags from a file using `@`:\r\n\r\n    java @options org.main.Main\r\n\r\nThe lines in the `options` file will be &#39;expanded&#39; into the command line. So, you could put the needed options into a file that you add to the project, and then use it with `@`. I&#39;m not sure if your IDE will support that though (though, arguably you could also check your IDE run configuration into the project).\r\n\r\nIn general though, you should try to reduce the reflective access to JDK internals, so that you don&#39;t need these flags in the first place. This will also give you better portability between JDK versions.","title":"Is there an alternative to --add-opens command line parameters for just ported applications to a newer Java?","body":"<p>If you are producing an executable jar file, you could use the <code>Add-Opens</code> manifest attribute. When running the app using <code>java -jar &lt;jar file&gt;</code> that should avoid having to pass all the flags. See: <a href=\"https://openjdk.org/jeps/261#Packaging:-Modular-JAR-files\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/261#Packaging:-Modular-JAR-files</a></p>\n<p>The <code>java</code> executable also supports expanding command line flags from a file using <code>@</code>:</p>\n<pre><code>java @options org.main.Main\n</code></pre>\n<p>The lines in the <code>options</code> file will be 'expanded' into the command line. So, you could put the needed options into a file that you add to the project, and then use it with <code>@</code>. I'm not sure if your IDE will support that though (though, arguably you could also check your IDE run configuration into the project).</p>\n<p>In general though, you should try to reduce the reflective access to JDK internals, so that you don't need these flags in the first place. This will also give you better portability between JDK versions.</p>\n"}],"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693509399,"creation_date":1693506114,"question_id":77018373,"body_markdown":"Is there an alternative to --add-opens command line parameters for just ported applications to a newer Java?\r\n\r\nTo make our venerable monolithic application make to run on Java 11 and Java 17, I had to add several --add-opens. I would like to keep the application non-modular/monolithic for the time being. \r\n\r\nTo make it run I have to add a rather lengthy list of --add-opens to our already long list of VM parameters. Example:\r\n```\r\n--add-opens java.base/java.lang=ALL-UNNAMED\r\n--add-opens java.base/java.util=ALL-UNNAMED\r\n--add-opens java.base/java.net=ALL-UNNAMED\r\n--add-opens java.base/java.io=ALL-UNNAMED\r\n--add-opens java.base/java.text=ALL-UNNAMED\r\n--add-opens java.base/java.time=ALL-UNNAMED\r\n--add-opens java.desktop/java.awt=ALL-UNNAMED\r\n--add-opens java.desktop/java.swing=ALL-UNNAMED\r\n--add-opens java.desktop/java.swing.table=ALL-UNNAMED\r\n--add-opens java.desktop/java.swing.plaf.basic=ALL-UNNAMED\r\n...\r\n```\r\n  \r\nAnd the list goes on and on. It works, but it&#39;s unwieldy. We already have many command line parameters, VM and program arguments. I&#39;m afraid we can hit CLI limits at some point somewhere. All those arguments also make it more fiddly to start the app from an IDE.  \r\n\r\nIs there an alternative?  \r\nI there something like module-info.java file to declare openings globally, for non-modular project? A file I can keep inside project, inside produced JAR?\r\n","title":"Is there an alternative to --add-opens command line parameters for just ported applications to a newer Java?","body":"<p>Is there an alternative to --add-opens command line parameters for just ported applications to a newer Java?</p>\n<p>To make our venerable monolithic application make to run on Java 11 and Java 17, I had to add several --add-opens. I would like to keep the application non-modular/monolithic for the time being.</p>\n<p>To make it run I have to add a rather lengthy list of --add-opens to our already long list of VM parameters. Example:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n--add-opens java.base/java.util=ALL-UNNAMED\n--add-opens java.base/java.net=ALL-UNNAMED\n--add-opens java.base/java.io=ALL-UNNAMED\n--add-opens java.base/java.text=ALL-UNNAMED\n--add-opens java.base/java.time=ALL-UNNAMED\n--add-opens java.desktop/java.awt=ALL-UNNAMED\n--add-opens java.desktop/java.swing=ALL-UNNAMED\n--add-opens java.desktop/java.swing.table=ALL-UNNAMED\n--add-opens java.desktop/java.swing.plaf.basic=ALL-UNNAMED\n...\n</code></pre>\n<p>And the list goes on and on. It works, but it's unwieldy. We already have many command line parameters, VM and program arguments. I'm afraid we can hit CLI limits at some point somewhere. All those arguments also make it more fiddly to start the app from an IDE.</p>\n<p>Is there an alternative?<br />\nI there something like module-info.java file to declare openings globally, for non-modular project? A file I can keep inside project, inside produced JAR?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":3,"creation_date":1692993692,"post_id":76980183,"comment_id":135706079,"body_markdown":"I guess you can use the [`CriteriaBuilder`](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html).","body":"I guess you can use the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html\" rel=\"nofollow noreferrer\"><code>CriteriaBuilder</code></a>."},{"owner":{"account_id":423105,"reputation":17225,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"score":2,"creation_date":1692994161,"post_id":76980183,"comment_id":135706160,"body_markdown":"ugh, of course.. how did i forget this;;; thanks!","body":"ugh, of course.. how did i forget this;;; thanks!"}],"answers":[{"tags":[],"owner":{"account_id":423105,"reputation":17225,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693509306,"creation_date":1693507127,"answer_id":77018488,"question_id":76980183,"body_markdown":"quick solution using predicates:\r\n\r\n```java\r\nCriteriaBuilder cb = this.em.getCriteriaBuilder();\r\nCriteriaQuery&lt;UserEntity&gt; cq = cb.createQuery(UserEntity.class);\r\nRoot&lt;UserEntity&gt; root = cq.from(UserEntity.class);\r\nList&lt;Predicate&gt; predicateList = new ArrayList&lt;&gt;();\r\nif (StringUtils.isNotBlank(email)) {\r\n    predicateList.add(cb.like(cb.lower(root.get(&quot;email&quot;)), email.toLowerCase() + &quot;%&quot;));\r\n}\r\nquery = this.em.createQuery(cq.where(cb.or((Predicate[])predicateList.toArray(new Predicate[0]))));\r\n```\r\n\r\nnote the &#39;new predicate[0]&#39;. predicate[]::new doesnt work.","title":"In spring jpa, Is there a method to detect optional params for query?","body":"<p>quick solution using predicates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaBuilder cb = this.em.getCriteriaBuilder();\nCriteriaQuery&lt;UserEntity&gt; cq = cb.createQuery(UserEntity.class);\nRoot&lt;UserEntity&gt; root = cq.from(UserEntity.class);\nList&lt;Predicate&gt; predicateList = new ArrayList&lt;&gt;();\nif (StringUtils.isNotBlank(email)) {\n    predicateList.add(cb.like(cb.lower(root.get(&quot;email&quot;)), email.toLowerCase() + &quot;%&quot;));\n}\nquery = this.em.createQuery(cq.where(cb.or((Predicate[])predicateList.toArray(new Predicate[0]))));\n</code></pre>\n<p>note the 'new predicate[0]'. predicate[]::new doesnt work.</p>\n"}],"owner":{"account_id":423105,"reputation":17225,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77018488,"answer_count":1,"score":0,"last_activity_date":1693509306,"creation_date":1692993380,"question_id":76980183,"body_markdown":"Suppose I have a search form with 3 fields(first/last/email). The search would search for for records with first/last/email if the param exist. \r\n\r\nI could do something like this:\r\n\r\n\r\n```\r\nif (email &amp; first &amp; last) useMethodThatSearchFistLastEmail\r\nelse if (email &amp; first)\r\nelse if (email &amp; last)\r\nelse if (first &amp; last)\r\nelse if (first)\r\nelse if (last)\r\nelse if (email)\r\n```\r\n\r\nbut that&#39;s just bad.\r\n\r\nI could also use native query and append where clause. \r\n\r\nIs there a way to do this in JPA?","title":"In spring jpa, Is there a method to detect optional params for query?","body":"<p>Suppose I have a search form with 3 fields(first/last/email). The search would search for for records with first/last/email if the param exist.</p>\n<p>I could do something like this:</p>\n<pre><code>if (email &amp; first &amp; last) useMethodThatSearchFistLastEmail\nelse if (email &amp; first)\nelse if (email &amp; last)\nelse if (first &amp; last)\nelse if (first)\nelse if (last)\nelse if (email)\n</code></pre>\n<p>but that's just bad.</p>\n<p>I could also use native query and append where clause.</p>\n<p>Is there a way to do this in JPA?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":0,"creation_date":1386284109,"post_id":20412456,"comment_id":30485666,"body_markdown":"Have you tried to find the element using `XPath`?","body":"Have you tried to find the element using <code>XPath</code>?"},{"owner":{"account_id":799354,"reputation":2485,"user_id":920504,"accept_rate":73,"display_name":"Jay"},"score":0,"creation_date":1386284211,"post_id":20412456,"comment_id":30485703,"body_markdown":"Nope. Let me try that.","body":"Nope. Let me try that."},{"owner":{"account_id":2078887,"reputation":147879,"user_id":1906307,"accept_rate":67,"display_name":"Louis"},"score":0,"creation_date":1386288300,"post_id":20412456,"comment_id":30487159,"body_markdown":"Did you try increasing Selenium&#39;s implicit wait time or (my preferred approach to diagnose issues like yours) did you just add a sleep before trying to find the element? I could be that your script is trying to find it before it shows up.","body":"Did you try increasing Selenium&#39;s implicit wait time or (my preferred approach to diagnose issues like yours) did you just add a sleep before trying to find the element? I could be that your script is trying to find it before it shows up."}],"answers":[{"tags":[],"owner":{"account_id":2457423,"reputation":3216,"user_id":2491792,"display_name":"Faiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386287230,"creation_date":1386284213,"answer_id":20412531,"question_id":20412456,"body_markdown":"What you get is a `NoSuchElementException` when WebDriver cannot find the element based on your selection criteria.\r\n\r\nEnsure that the WebElement can be located correctly using `id` or another selector. If the `select` element is inside an `iframe`, you will have to switch to it first using [`driver.switchTo().frame()`] (http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html).\r\n\r\nAlso, you cannot cast `WebElement` to `Select`.\r\n\r\nUse:\r\n\r\n    WebElement elem = driver.findElement(By.id(&quot;listofnames&quot;));\r\n    Select select = new Select(elem);\r\n    select.selectByValue(&quot;Name1&quot;);","title":"How to select item from drop down list using Selenium WebDriver with Java?","body":"<p>What you get is a <code>NoSuchElementException</code> when WebDriver cannot find the element based on your selection criteria.</p>\n\n<p>Ensure that the WebElement can be located correctly using <code>id</code> or another selector. If the <code>select</code> element is inside an <code>iframe</code>, you will have to switch to it first using [<code>driver.switchTo().frame()</code>] (<a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html\" rel=\"nofollow\">http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html</a>).</p>\n\n<p>Also, you cannot cast <code>WebElement</code> to <code>Select</code>.</p>\n\n<p>Use:</p>\n\n<pre><code>WebElement elem = driver.findElement(By.id(\"listofnames\"));\nSelect select = new Select(elem);\nselect.selectByValue(\"Name1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2781896,"reputation":382,"user_id":2394276,"accept_rate":100,"display_name":"Louise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394194117,"creation_date":1394194117,"answer_id":22249707,"question_id":20412456,"body_markdown":"This works for me:\r\n\r\n    String Xcode =  &quot;//li[@class=&#39;dropdown&#39;]/a&quot;; //&lt;-your xpath here\t\r\n    WebElement CourseSelector = driver.findElement(By.xpath(Xcode));\r\n    CourseSelector.click();\r\n    try {Thread.sleep(3000);} // o&amp;c - GIVES TIME FOR ITEMS TO APPEAR\r\n        catch (InterruptedException wtv)\t\r\n        {System.out.println(&quot;problem on wait with resource load&quot; + wtv);\t} \r\n    Xcode =  &quot;//ul/li/a[text()=&#39;&quot; + Your_Menu_Item_Here + &quot;&#39;]&quot;;\t// &lt;- again your xpath here\r\n    CourseSelector = driver.findElement(By.xpath(Xcode));\r\n    CourseSelector.click();","title":"How to select item from drop down list using Selenium WebDriver with Java?","body":"<p>This works for me:</p>\n\n<pre><code>String Xcode =  \"//li[@class='dropdown']/a\"; //&lt;-your xpath here    \nWebElement CourseSelector = driver.findElement(By.xpath(Xcode));\nCourseSelector.click();\ntry {Thread.sleep(3000);} // o&amp;c - GIVES TIME FOR ITEMS TO APPEAR\n    catch (InterruptedException wtv)    \n    {System.out.println(\"problem on wait with resource load\" + wtv);    } \nXcode =  \"//ul/li/a[text()='\" + Your_Menu_Item_Here + \"']\"; // &lt;- again your xpath here\nCourseSelector = driver.findElement(By.xpath(Xcode));\nCourseSelector.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158871,"reputation":1,"user_id":3409383,"display_name":"Jatin A. Bagadade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394607928,"creation_date":1394607928,"answer_id":22344257,"question_id":20412456,"body_markdown":"Select dropdown1;\r\n\t\t\r\n\t\tdropdown2 = new Select (mozila.findElement(By.id(&quot;of the dropdown1&quot;))); \r\n                \r\n                dropdown2.selectByValue(&quot;9&quot;);\r\n\t\t\r\n        \r\nSelect dropdown2;\r\n        \r\n        dropdown2 = new Select (mozila.findElement(By.id(&quot;of the dropdown2&quot;)));  \r\n              \r\n        dropdown3.selectByValue(&quot;2018&quot;);","title":"How to select item from drop down list using Selenium WebDriver with Java?","body":"<p>Select dropdown1;</p>\n\n<pre><code>    dropdown2 = new Select (mozila.findElement(By.id(\"of the dropdown1\"))); \n\n            dropdown2.selectByValue(\"9\");\n</code></pre>\n\n<p>Select dropdown2;</p>\n\n<pre><code>    dropdown2 = new Select (mozila.findElement(By.id(\"of the dropdown2\")));  \n\n    dropdown3.selectByValue(\"2018\");\n</code></pre>\n"}],"owner":{"account_id":799354,"reputation":2485,"user_id":920504,"accept_rate":73,"display_name":"Jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693508630,"creation_date":1386283913,"question_id":20412456,"body_markdown":"I have a login page. In my test case I am able to login with the credentials but once I have logged in I am trying to select item from drop down list. I have the below code but I am getting an error \r\n\r\n    Select select = (Select) driver.findElement(By.id(&quot;Id goes here&quot;));\r\n    \t\tselect.selectByValue(&quot;Value Goes here&quot;);\r\n\r\nI am getting the below error \r\nUnable to locate element: {&quot;method&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;Value of Id&quot;}\r\n\r\nNote: the URL to login is different than the one on which select box is appearing. Can that be a problem? Is there a way to resolve it?","title":"How to select item from drop down list using Selenium WebDriver with Java?","body":"<p>I have a login page. In my test case I am able to login with the credentials but once I have logged in I am trying to select item from drop down list. I have the below code but I am getting an error </p>\n\n<pre><code>Select select = (Select) driver.findElement(By.id(\"Id goes here\"));\n        select.selectByValue(\"Value Goes here\");\n</code></pre>\n\n<p>I am getting the below error \nUnable to locate element: {\"method\":\"id\",\"selector\":\"Value of Id\"}</p>\n\n<p>Note: the URL to login is different than the one on which select box is appearing. Can that be a problem? Is there a way to resolve it?</p>\n"},{"tags":["java","jenkins","cicd","veracode"],"answers":[{"tags":[],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693498055,"creation_date":1693498055,"answer_id":77017584,"question_id":76993765,"body_markdown":"It turns out that the actual error was that Veracode was not able to find the artifact to scan as it didn&#39;t exist.\r\n\r\nThe Jenkins pipeline in question builds several artifacts and only checkes 1, it builds 3 artifacts for different country/language combinations -- it&#39;s an old application the includes different property files during the build for each country/language combination :/","title":"The Veracode Scan plugin fails due to -filepath is required with no way to set it","body":"<p>It turns out that the actual error was that Veracode was not able to find the artifact to scan as it didn't exist.</p>\n<p>The Jenkins pipeline in question builds several artifacts and only checkes 1, it builds 3 artifacts for different country/language combinations -- it's an old application the includes different property files during the build for each country/language combination :/</p>\n"}],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017584,"answer_count":1,"score":0,"last_activity_date":1693507859,"creation_date":1693233409,"question_id":76993765,"body_markdown":"Running a Jenkins file using the Veracode plugin to perform an Upload and Scan with Veracode Pipeline, using the recommended snippet generated by the Snippet Generator fails due to:\r\n\r\n&gt; Parsing error(s):  \r\n-filepath is required for the selected action.\r\n \r\n\r\nI even tried adding `filePath` as a parameter and that does not add filepath to the arguments and also fails:\r\n \r\n\r\n    withCredentials([usernamePassword(credentialsId: &#39;veracode-credentials&#39;, passwordVariable: &#39;veracode_password&#39;, usernameVariable: &#39;vercode_api_key&#39;)]) {\r\n         veracode applicationName: VERACODE_NAME, canFailJob: true,\r\n         waitForScan: true, unstableBuild: true, createSandbox: true,\r\n         debug: true, deleteIncompleteScanLevel: &#39;0&#39;,\r\n         criticality: &#39;Medium&#39;, fileNamePattern: &#39;&#39;,\r\n         replacementPattern: &#39;&#39;,\r\n         sandboxName: &quot;${POM_ARTIFACTID}-${params.ENV}&quot;,\r\n         scanName: &quot;${VERSION}${REVISION}-${ENV_US_EN}&quot;,\r\n         teams: &#39;Data-Survey/Compiled&#39;,\r\n         uploadIncludesPattern: &quot;**/**-${ENV_US_EN}.war&quot;,\r\n         scanExcludesPattern: &#39;&#39;, scanIncludesPattern: &#39;&#39;,\r\n         filePath: &quot;{$env.WORKSPACE}&quot;, useProxy: true,\r\n         vid: vercode_api_key, vkey: veracode_password\r\n     }\r\n\r\n \r\n&gt; WARNING: Unknown parameter(s) found for class type  \r\n &#39;com.veracode.jenkins.plugin.VeracodePipelineRecorder&#39;: filePath  \r\n&gt; \\------------------------------------------------------------------------  \r\nUpload and Scan with Veracode Pipeline  \r\n\\------------------------------------------------------------------------  \r\n&gt;\r\n&gt; [Debug mode is on]  \r\n&gt;\r\n&gt; Can Fail Job: true  \r\n&gt;\r\n&gt;Show Unstable Status for Failed Policy Evaluation: true\r\n&gt; \r\n&gt; Version information:  \r\nVeracodeJavaAPI v23.4.11.2 cUnknown  \r\n&gt;\r\n&gt; HPI location: var/lib/jenkins/plugins/veracode-scan/WEB-INF/lib/veracode-scan.jarProcessing files in [local] workspace:  \r\n /local2/jenkins/workspace/SVWebAppBuilding arguments. Calling wrapper with arguments:\r\n[-action, UploadAndScan, -vid, ********, -vkey, ********, -phost, ********, -pport, ********, -appname, Shoppers Voice (ICOM), -createprofile, false, -teams, Data-Survey/Compiled, -criticality, Medium, -sandboxname, SVWebApp-DEV, -createsandbox, true, -version, 2.0-SNAPSHOT-us_en_dev, -autoscan, true, -deleteincompletescan, 0, -maxretrycount, 5, -debug, -useragent, VeracodeScanJenkins/23.7.22.0 (Jenkins/2.401.3; Java/Unknown)]\r\n&gt;\r\n&gt; VeracodeJavaAPI v23.4.11.2 cUnknown  \r\n&gt; \r\n&gt; Parsing error(s):  \r\n-filepath is required for the selected action.  \r\n&gt;\r\n&gt; The following parameters are optional for the selected action:  \r\n-autorecreate -exclude  \r\n-format -include  \r\n-includenewmodules -inputfilepath  \r\n-logfilepath -pattern  \r\n-ppassword -puser  \r\n-replacement -sandboxid  \r\n-scanallnonfataltoplevelmodules -scanpollinginterval  \r\n-scantimeout -selected  \r\n-selectedpreviously -toplevel  \r\n&gt;\r\n&gt; [2023.08.24 13:26:00.499] Invalid input\r\n&gt;\r\n&gt; Error- Returned code from wrapper:1\r\n\r\nDoes anyone know how to resolve this?\r\nHowever, it looks like a bug in the plugin to me :(","title":"The Veracode Scan plugin fails due to -filepath is required with no way to set it","body":"<p>Running a Jenkins file using the Veracode plugin to perform an Upload and Scan with Veracode Pipeline, using the recommended snippet generated by the Snippet Generator fails due to:</p>\n<blockquote>\n<p>Parsing error(s):<br />\n-filepath is required for the selected action.</p>\n</blockquote>\n<p>I even tried adding <code>filePath</code> as a parameter and that does not add filepath to the arguments and also fails:</p>\n<pre><code>withCredentials([usernamePassword(credentialsId: 'veracode-credentials', passwordVariable: 'veracode_password', usernameVariable: 'vercode_api_key')]) {\n     veracode applicationName: VERACODE_NAME, canFailJob: true,\n     waitForScan: true, unstableBuild: true, createSandbox: true,\n     debug: true, deleteIncompleteScanLevel: '0',\n     criticality: 'Medium', fileNamePattern: '',\n     replacementPattern: '',\n     sandboxName: &quot;${POM_ARTIFACTID}-${params.ENV}&quot;,\n     scanName: &quot;${VERSION}${REVISION}-${ENV_US_EN}&quot;,\n     teams: 'Data-Survey/Compiled',\n     uploadIncludesPattern: &quot;**/**-${ENV_US_EN}.war&quot;,\n     scanExcludesPattern: '', scanIncludesPattern: '',\n     filePath: &quot;{$env.WORKSPACE}&quot;, useProxy: true,\n     vid: vercode_api_key, vkey: veracode_password\n }\n</code></pre>\n<blockquote>\n<p>WARNING: Unknown parameter(s) found for class type<br />\n'com.veracode.jenkins.plugin.VeracodePipelineRecorder': filePath<br />\n------------------------------------------------------------------------<br />\nUpload and Scan with Veracode Pipeline<br />\n------------------------------------------------------------------------</p>\n<p>[Debug mode is on]</p>\n<p>Can Fail Job: true</p>\n<p>Show Unstable Status for Failed Policy Evaluation: true</p>\n<p>Version information:<br />\nVeracodeJavaAPI v23.4.11.2 cUnknown</p>\n<p>HPI location: var/lib/jenkins/plugins/veracode-scan/WEB-INF/lib/veracode-scan.jarProcessing files in [local] workspace:<br />\n/local2/jenkins/workspace/SVWebAppBuilding arguments. Calling wrapper with arguments:\n[-action, UploadAndScan, -vid, ********, -vkey, ********, -phost, ********, -pport, ********, -appname, Shoppers Voice (ICOM), -createprofile, false, -teams, Data-Survey/Compiled, -criticality, Medium, -sandboxname, SVWebApp-DEV, -createsandbox, true, -version, 2.0-SNAPSHOT-us_en_dev, -autoscan, true, -deleteincompletescan, 0, -maxretrycount, 5, -debug, -useragent, VeracodeScanJenkins/23.7.22.0 (Jenkins/2.401.3; Java/Unknown)]</p>\n<p>VeracodeJavaAPI v23.4.11.2 cUnknown</p>\n<p>Parsing error(s):<br />\n-filepath is required for the selected action.</p>\n<p>The following parameters are optional for the selected action:<br />\n-autorecreate -exclude<br />\n-format -include<br />\n-includenewmodules -inputfilepath<br />\n-logfilepath -pattern<br />\n-ppassword -puser<br />\n-replacement -sandboxid<br />\n-scanallnonfataltoplevelmodules -scanpollinginterval<br />\n-scantimeout -selected<br />\n-selectedpreviously -toplevel</p>\n<p>[2023.08.24 13:26:00.499] Invalid input</p>\n<p>Error- Returned code from wrapper:1</p>\n</blockquote>\n<p>Does anyone know how to resolve this?\nHowever, it looks like a bug in the plugin to me :(</p>\n"},{"tags":["java","path","filesystems"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1693504922,"post_id":77016066,"comment_id":135773579,"body_markdown":"`Path` is an interface. You are using the wrong approach if you rely on the default filesystem to provide and manipulate Path instances for a zip -`Path.of(x)` uses `FileSystems.getDefault()`. Instances of Path provided by the Zip File System should deal with the case you have, as suggested by k314159.","body":"<code>Path</code> is an interface. You are using the wrong approach if you rely on the default filesystem to provide and manipulate Path instances for a zip -<code>Path.of(x)</code> uses <code>FileSystems.getDefault()</code>. Instances of Path provided by the Zip File System should deal with the case you have, as suggested by k314159."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1693505233,"post_id":77016066,"comment_id":135773627,"body_markdown":"The problem is that you need a ZIP file for doing so, but I don&#39;t have a ZIP file, only a file that was once saved in a ZIP file and the file path it had when it was saved in the ZIP file, and I don&#39;t have access to the ZIP file, I only get this data.","body":"The problem is that you need a ZIP file for doing so, but I don&#39;t have a ZIP file, only a file that was once saved in a ZIP file and the file path it had when it was saved in the ZIP file, and I don&#39;t have access to the ZIP file, I only get this data."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693490232,"creation_date":1693490232,"answer_id":77016549,"question_id":77016066,"body_markdown":"You should be reading the contents of the zip file using the [Zip File System][1]. Then you will be able to use a Path that understands all the characters that are allowed to be part of a name in a zip file. For example, the following lists the contents of the top-level directories of a given zip file:\r\n\r\n        try (FileSystem fs = FileSystems.newFileSystem(Path.of(zipfile))) {\r\n            for (Path directory : fs.getRootDirectories()) {\r\n                System.out.println(directory);\r\n                Files.list(directory).forEach(path -&gt; System.out.println(&quot;\\t&quot; + path));\r\n            }\r\n        }\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html","title":"java.nio.file.Path: creating a path for a different/virtual FileSystem?","body":"<p>You should be reading the contents of the zip file using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html\" rel=\"nofollow noreferrer\">Zip File System</a>. Then you will be able to use a Path that understands all the characters that are allowed to be part of a name in a zip file. For example, the following lists the contents of the top-level directories of a given zip file:</p>\n<pre><code>    try (FileSystem fs = FileSystems.newFileSystem(Path.of(zipfile))) {\n        for (Path directory : fs.getRootDirectories()) {\n            System.out.println(directory);\n            Files.list(directory).forEach(path -&gt; System.out.println(&quot;\\t&quot; + path));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693507816,"creation_date":1693507046,"answer_id":77018479,"question_id":77016066,"body_markdown":"I won&#39;t recommend using this answer but you could have a look at whether creating a dummy ZIP file provides you access to zip filesystem `Path` for any path manipulation you need. \r\n\r\nHere is a snippet of code I tried in jshell:\r\n\r\n    // Create a path to a zip\r\n    Path zip = Files.createTempFile(Path.of(System.getProperty(&quot;java.io.tmpdir&quot;)), &quot;xx&quot;, &quot;.zip&quot;)\r\n\r\n    // Make sure it doesn&#39;t exist\r\n    Files.delete(zip);\r\n\r\n    // Create ZIP FS (should use try with resources here)\r\n    FileSystem fs = FileSystems.newFileSystem(zip, Map.of(&quot;create&quot;,&quot;true&quot;))\r\n\r\n    // See if you can make your path manipulation work:\r\n    Path x = fs.getPath(&quot;/some/path|abc/withanotherbar|here&quot;)\r\n    ==&gt; /some/path|abc/withanotherbar|here\r\n\r\n    Path parent = x.getParent()\r\n    parent ==&gt; /some/path|abc\r\n\r\n    Path name = x.getFileName()\r\n    name ==&gt; withanotherbar|here\r\n\r\n    int parts = x.getNameCount()\r\n    parts ==&gt; 3\r\n\r\n    Path y = fs.getPath(&quot;relative/some/path|andbar/withabar|here&quot;)\r\n    ==&gt; relative/some/path|andbar/withabar|here\r\n\r\n    Path yParent = y.getParent()\r\n    ==&gt; relative/some/path|andbar\r\n    \r\n    int yc = y.getNameCount()\r\n    ==&gt; 4\r\n\r\n\r\nNote that the Paths `x` or `parent` from Zip Filesystem above would be no use to you for filesystem access, but you might be able to use `toString()` to get the path component in a form which you might use in your other (unspecified) code.","title":"java.nio.file.Path: creating a path for a different/virtual FileSystem?","body":"<p>I won't recommend using this answer but you could have a look at whether creating a dummy ZIP file provides you access to zip filesystem <code>Path</code> for any path manipulation you need.</p>\n<p>Here is a snippet of code I tried in jshell:</p>\n<pre><code>// Create a path to a zip\nPath zip = Files.createTempFile(Path.of(System.getProperty(&quot;java.io.tmpdir&quot;)), &quot;xx&quot;, &quot;.zip&quot;)\n\n// Make sure it doesn't exist\nFiles.delete(zip);\n\n// Create ZIP FS (should use try with resources here)\nFileSystem fs = FileSystems.newFileSystem(zip, Map.of(&quot;create&quot;,&quot;true&quot;))\n\n// See if you can make your path manipulation work:\nPath x = fs.getPath(&quot;/some/path|abc/withanotherbar|here&quot;)\n==&gt; /some/path|abc/withanotherbar|here\n\nPath parent = x.getParent()\nparent ==&gt; /some/path|abc\n\nPath name = x.getFileName()\nname ==&gt; withanotherbar|here\n\nint parts = x.getNameCount()\nparts ==&gt; 3\n\nPath y = fs.getPath(&quot;relative/some/path|andbar/withabar|here&quot;)\n==&gt; relative/some/path|andbar/withabar|here\n\nPath yParent = y.getParent()\n==&gt; relative/some/path|andbar\n\nint yc = y.getNameCount()\n==&gt; 4\n</code></pre>\n<p>Note that the Paths <code>x</code> or <code>parent</code> from Zip Filesystem above would be no use to you for filesystem access, but you might be able to use <code>toString()</code> to get the path component in a form which you might use in your other (unspecified) code.</p>\n"}],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693507816,"creation_date":1693486825,"question_id":77016066,"body_markdown":"I am using `java.nio.file.Path` for modifying paths that do not exist in file-system, but inside a ZIP file. Of course I can not use such `Path` instances for reading and writing file content but that is not a problem in my context, I just need it e.g. to call `getParent()` `getFileName()` or `getNameCount()`.\r\n\r\nUsually this works well but now I encountered a ZIP file that uses `|` for certain paths in the ZIP file. If I try to parse such paths using `Paths.get(pathInZip)` results in an `java.nio.file.InvalidPathException: Illegal char &lt;|&gt; at index ...`.\r\n\r\nIs there a way to tell `Path` that it is not a path in the current file-system of the OS and therefore it is not limited by e.g. the reserved characters for the OS file-system?\r\n\r\nOr is using `java.nio.file.Path` the wrong approach here?","title":"java.nio.file.Path: creating a path for a different/virtual FileSystem?","body":"<p>I am using <code>java.nio.file.Path</code> for modifying paths that do not exist in file-system, but inside a ZIP file. Of course I can not use such <code>Path</code> instances for reading and writing file content but that is not a problem in my context, I just need it e.g. to call <code>getParent()</code> <code>getFileName()</code> or <code>getNameCount()</code>.</p>\n<p>Usually this works well but now I encountered a ZIP file that uses <code>|</code> for certain paths in the ZIP file. If I try to parse such paths using <code>Paths.get(pathInZip)</code> results in an <code>java.nio.file.InvalidPathException: Illegal char &lt;|&gt; at index ...</code>.</p>\n<p>Is there a way to tell <code>Path</code> that it is not a path in the current file-system of the OS and therefore it is not limited by e.g. the reserved characters for the OS file-system?</p>\n<p>Or is using <code>java.nio.file.Path</code> the wrong approach here?</p>\n"},{"tags":["java","keycloak","openid-connect","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693507164,"creation_date":1693498568,"answer_id":77017624,"question_id":77016127,"body_markdown":"Keycloak adapter for spring was deprecated long ago. See [this other answer][1] for alternatives. \r\n\r\nOnce your security conf is fixed, you should have an `Authentication` instance in the security context. The type of this `Authentication` will depend on the request being\r\n- **anonymous** =&gt; `AbstractAuthenticationToken`\r\n- authorized with a session on an **OAuth2 client** with `oauth2Login` =&gt; `OAuth2AuthenticationToken` having an `OAuth2User` as principal (in case of OIDC authorization servers like Keycloak, this interface is further specialized to `OidcUser`)\r\n- authorized with an access token on an **OAuth2 resource server** =&gt; the default `Authentication` depends on the conf (and can be easily replaced with a custom implementation like Keycloak adapters were doing):\r\n  * `JwtAuthenticationToken` when a JWT decoder is used\r\n  * `BearerTokenAuthentication` when introspection is used (usually with &quot;opaque&quot; tokens, even if you can introspect a JWT)\r\n\r\nThe easiest way access this `Authentication` is with &quot;magic&quot; parameter for your controller method:\r\n```java\r\n@GetMapping(&quot;/me&quot;)\r\npublic Map&lt;String, Object&gt; getMe(Authentication auth) {\r\n    // authorized request to a resource server with JWT decoder\r\n    if (auth instance of JwtAuthenticationToken jwt) {\r\n        return jwt.getTokenAttributes();\r\n    }\r\n    // authorized request to a resource server with introspection\r\n    if (auth instance of BearerTokenAuthentication bearerToken) {\r\n        return bearerToken.getTokenAttributes();\r\n    }\r\n    // authorized request to an OpenID client \r\n    if (auth instanceof OAuth2AuthenticationToken oauth &amp;&amp; oauth.getPrincipal() instanceof OAuth2AuthenticatedPrincipal user) {\r\n\t\treturn user.getAttributes();\r\n\t}\r\n    // most probably an unauthorized request (anonymous)\r\n    return Map.of();\r\n}\r\n```\r\nOf course, you can also use the `SecurityContextHolder.getContext().getAuthentication()` static accessor, but it is probably not as convenient.\r\n\r\n  [1]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732","title":"Keycloak securityContext is null","body":"<p>Keycloak adapter for spring was deprecated long ago. See <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">this other answer</a> for alternatives.</p>\n<p>Once your security conf is fixed, you should have an <code>Authentication</code> instance in the security context. The type of this <code>Authentication</code> will depend on the request being</p>\n<ul>\n<li><strong>anonymous</strong> =&gt; <code>AbstractAuthenticationToken</code></li>\n<li>authorized with a session on an <strong>OAuth2 client</strong> with <code>oauth2Login</code> =&gt; <code>OAuth2AuthenticationToken</code> having an <code>OAuth2User</code> as principal (in case of OIDC authorization servers like Keycloak, this interface is further specialized to <code>OidcUser</code>)</li>\n<li>authorized with an access token on an <strong>OAuth2 resource server</strong> =&gt; the default <code>Authentication</code> depends on the conf (and can be easily replaced with a custom implementation like Keycloak adapters were doing):\n<ul>\n<li><code>JwtAuthenticationToken</code> when a JWT decoder is used</li>\n<li><code>BearerTokenAuthentication</code> when introspection is used (usually with &quot;opaque&quot; tokens, even if you can introspect a JWT)</li>\n</ul>\n</li>\n</ul>\n<p>The easiest way access this <code>Authentication</code> is with &quot;magic&quot; parameter for your controller method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/me&quot;)\npublic Map&lt;String, Object&gt; getMe(Authentication auth) {\n    // authorized request to a resource server with JWT decoder\n    if (auth instance of JwtAuthenticationToken jwt) {\n        return jwt.getTokenAttributes();\n    }\n    // authorized request to a resource server with introspection\n    if (auth instance of BearerTokenAuthentication bearerToken) {\n        return bearerToken.getTokenAttributes();\n    }\n    // authorized request to an OpenID client \n    if (auth instanceof OAuth2AuthenticationToken oauth &amp;&amp; oauth.getPrincipal() instanceof OAuth2AuthenticatedPrincipal user) {\n        return user.getAttributes();\n    }\n    // most probably an unauthorized request (anonymous)\n    return Map.of();\n}\n</code></pre>\n<p>Of course, you can also use the <code>SecurityContextHolder.getContext().getAuthentication()</code> static accessor, but it is probably not as convenient.</p>\n"}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693507164,"creation_date":1693487366,"question_id":77016127,"body_markdown":"I am trying to fetch the user details of a logged in user :\r\n\r\nI am passing the access token collected from :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    https://localhost:1099/auth/realms/myrealm/protocol/openid-connect/token\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nwhile calling this endpoint :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import org.keycloak.KeycloakSecurityContext;\r\n    import org.keycloak.representations.AccessToken;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpSession;\r\n    import java.util.Collections;\r\n    import java.util.Map;\r\n\r\n    @RestController\r\n    public class userDetails {\r\n\r\n        @GetMapping(value = &quot;/myresources&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public String handleUserInfoRequest(HttpServletRequest request) {\r\n            System.out.println(&quot;Using HttpServletRequest to inspect authentication...&quot;);\r\n\r\n            // Get the HttpSession from the request\r\n            HttpSession session = request.getSession();\r\n\r\n            // Get the Keycloak security context from the session attribute\r\n            KeycloakSecurityContext securityContext = (KeycloakSecurityContext) session.getAttribute(KeycloakSecurityContext.class.getName());\r\n\r\n            if (securityContext != null) {\r\n                AccessToken token = securityContext.getToken();\r\n\r\n                // Extract details from the token\r\n                String userId = token.getId();\r\n                String userName = token.getPreferredUsername();\r\n\r\n                // Print security context details\r\n                String securityContextDetails = &quot;User ID: &quot; + userId + &quot;\\n&quot; +\r\n                                               &quot;Username: &quot; + userName;\r\n\r\n                System.out.println(&quot;Security Context Details:\\n&quot; + securityContextDetails);\r\n\r\n                // Return a response\r\n                return securityContextDetails;\r\n            } else {\r\n                return &quot;No Keycloak Security Context found&quot;;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have also tried to get the security context from httpServletRequest for secured users using this instead of the session as done above :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      // Get the Keycloak security context from the request attribute\r\n            KeycloakSecurityContext securityContext = (KeycloakSecurityContext) request.getAttribute(KeycloakSecurityContext.class.getName());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHowever, I am getting &quot;No Keycloak Security Context found&quot; or security context is null, principal is null. How can I get the user details i.e. &quot;preferrred_username&quot; from the access token. Iam not using spring security and I am using embedded springboot keycloak version 21.0.0 . Thanks in advance for all the inputs.","title":"Keycloak securityContext is null","body":"<p>I am trying to fetch the user details of a logged in user :</p>\n<p>I am passing the access token collected from :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>https://localhost:1099/auth/realms/myrealm/protocol/openid-connect/token</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>while calling this endpoint :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import org.keycloak.KeycloakSecurityContext;\nimport org.keycloak.representations.AccessToken;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpSession;\nimport java.util.Collections;\nimport java.util.Map;\n\n@RestController\npublic class userDetails {\n\n    @GetMapping(value = \"/myresources\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public String handleUserInfoRequest(HttpServletRequest request) {\n        System.out.println(\"Using HttpServletRequest to inspect authentication...\");\n\n        // Get the HttpSession from the request\n        HttpSession session = request.getSession();\n\n        // Get the Keycloak security context from the session attribute\n        KeycloakSecurityContext securityContext = (KeycloakSecurityContext) session.getAttribute(KeycloakSecurityContext.class.getName());\n\n        if (securityContext != null) {\n            AccessToken token = securityContext.getToken();\n\n            // Extract details from the token\n            String userId = token.getId();\n            String userName = token.getPreferredUsername();\n\n            // Print security context details\n            String securityContextDetails = \"User ID: \" + userId + \"\\n\" +\n                                           \"Username: \" + userName;\n\n            System.out.println(\"Security Context Details:\\n\" + securityContextDetails);\n\n            // Return a response\n            return securityContextDetails;\n        } else {\n            return \"No Keycloak Security Context found\";\n        }\n    }\n\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I have also tried to get the security context from httpServletRequest for secured users using this instead of the session as done above :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  // Get the Keycloak security context from the request attribute\n        KeycloakSecurityContext securityContext = (KeycloakSecurityContext) request.getAttribute(KeycloakSecurityContext.class.getName());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>However, I am getting &quot;No Keycloak Security Context found&quot; or security context is null, principal is null. How can I get the user details i.e. &quot;preferrred_username&quot; from the access token. Iam not using spring security and I am using embedded springboot keycloak version 21.0.0 . Thanks in advance for all the inputs.</p>\n"},{"tags":["java","spring-boot","log4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693471062,"post_id":77014081,"comment_id":135766250,"body_markdown":"The warning has nothing to do with your issue. You only have no/little logging as you have no log4j2 with slf4j integration. Do you really need log4j2 instead of the default logback?","body":"The warning has nothing to do with your issue. You only have no/little logging as you have no log4j2 with slf4j integration. Do you really need log4j2 instead of the default logback?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1693474153,"post_id":77014081,"comment_id":135766903,"body_markdown":"I doubt that is the issue as well as that is probably the detection if JMX is enabled or not. Enable debug loggin (and maybe even remove log4j2 for the time being and use the default logback log configuration from Spring Boot) to get information on what is happening.","body":"I doubt that is the issue as well as that is probably the detection if JMX is enabled or not. Enable debug loggin (and maybe even remove log4j2 for the time being and use the default logback log configuration from Spring Boot) to get information on what is happening."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1693506826,"post_id":77014081,"comment_id":135773913,"body_markdown":"I&#39;ve removed the jboss and wildfly tags as this question doesn&#39;t seem to have anything to do with either community.","body":"I&#39;ve removed the jboss and wildfly tags as this question doesn&#39;t seem to have anything to do with either community."}],"owner":{"account_id":14812302,"reputation":35,"user_id":19323779,"display_name":"Maftun Hashimli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693506796,"creation_date":1693470475,"question_id":77014081,"body_markdown":"I&#39;ve encountered an issue while trying to start my Spring Boot (v2.7.8) application. At the end of the startup sequence, it terminates abruptly and displays **`Process finished with exit code 1`**.\r\n\r\nThe startup log begins with a warning related to SLF4J:\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n```\r\n\r\nSubsequently, the initialization sequence for Tomcat and Spring Boot begins, but it seems Tomcat is stopped shortly after. The relevant logs are:\r\n\r\n```\r\n:: Spring Boot :: (v2.7.8)\r\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardService startInternal\r\nINFO: Starting service [Tomcat]\r\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardEngine startInternal\r\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.71]\r\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: Initializing Spring embedded WebApplicationContext\r\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardService stopInternal\r\nINFO: Stopping service [Tomcat]\r\n```\r\n\r\nI understand from the SLF4J warning that there might be a missing binding or implementation for the logger. However, I&#39;m unsure if this is the root cause of the abrupt termination or if there&#39;s another underlying issue causing Tomcat to stop.\r\n\r\nHere is my application.properties and log4j2.xml file contents\r\n\r\n*`spring.datasource.username`*`=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;`  \r\n*`spring.datasource.password`*`=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;`  \r\n*`spring.datasource.driver-class-name`*`=org.postgresql.Driver`  \r\n*`spring.jpa.properties.hibernate.default_schema`*`=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;`  \r\n*`server.port`*`=8180`  \r\n*`logging.level.org.springframework`*`=INFO`  \r\n*`logging.level.org.springframework.web`*`=INFO`  \r\n*`logging.level.root`*`=INFO`  \r\n*`logging.level.org.hibernate`*`=ERROR`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;log/app.log&quot;\r\n                     filePattern=&quot;log/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nHas anyone encountered a similar issue or can guide me on potential solutions or next steps to diagnose this problem further?","title":"Spring Boot application stops with Process finished with exit code 1 and SLF4J StaticLoggerBinder warning","body":"<p>I've encountered an issue while trying to start my Spring Boot (v2.7.8) application. At the end of the startup sequence, it terminates abruptly and displays <strong><code>Process finished with exit code 1</code></strong>.</p>\n<p>The startup log begins with a warning related to SLF4J:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>Subsequently, the initialization sequence for Tomcat and Spring Boot begins, but it seems Tomcat is stopped shortly after. The relevant logs are:</p>\n<pre><code>:: Spring Boot :: (v2.7.8)\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.71]\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring embedded WebApplicationContext\nAug 31, 2023 11:18:50 AM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Tomcat]\n</code></pre>\n<p>I understand from the SLF4J warning that there might be a missing binding or implementation for the logger. However, I'm unsure if this is the root cause of the abrupt termination or if there's another underlying issue causing Tomcat to stop.</p>\n<p>Here is my application.properties and log4j2.xml file contents</p>\n<p><em><code>spring.datasource.username</code></em><code>=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</code><br />\n<em><code>spring.datasource.password</code></em><code>=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</code><br />\n<em><code>spring.datasource.driver-class-name</code></em><code>=org.postgresql.Driver</code><br />\n<em><code>spring.jpa.properties.hibernate.default_schema</code></em><code>=&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</code><br />\n<em><code>server.port</code></em><code>=8180</code><br />\n<em><code>logging.level.org.springframework</code></em><code>=INFO</code><br />\n<em><code>logging.level.org.springframework.web</code></em><code>=INFO</code><br />\n<em><code>logging.level.root</code></em><code>=INFO</code><br />\n<em><code>logging.level.org.hibernate</code></em><code>=ERROR</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;log/app.log&quot;\n                     filePattern=&quot;log/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Has anyone encountered a similar issue or can guide me on potential solutions or next steps to diagnose this problem further?</p>\n"},{"tags":["java","easymock"],"answers":[{"tags":[],"owner":{"account_id":392465,"reputation":5571,"user_id":753739,"display_name":"Henri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693506712,"creation_date":1693506712,"answer_id":77018436,"question_id":77004134,"body_markdown":"I will need a bit more input. The EasyMock version, the full error and so on. Because when trying the following, it works perfectly.\r\n\r\n    import java.util.Collections;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    import static org.easymock.EasyMock.anyLong;\r\n    import static org.easymock.EasyMock.anyObject;\r\n    import static org.easymock.EasyMock.expect;\r\n    import static org.easymock.EasyMock.mock;\r\n    import static org.easymock.EasyMock.replay;\r\n    \r\n    public class MyTest {\r\n    \r\n        public List&lt;Long&gt; getEmployeeId(Long deptId, Date joiningDate, List&lt;String&gt; technologies) {\r\n            return null;\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            MyTest test = mock(MyTest.class);\r\n            expect(test.getEmployeeId(anyLong(), anyObject(Date.class), anyObject(List.class))).andReturn(Collections.emptyList()).anyTimes();\r\n            replay(test);\r\n        }\r\n    }","title":"EasyMock failed with java.lang.IllegalStateException","body":"<p>I will need a bit more input. The EasyMock version, the full error and so on. Because when trying the following, it works perfectly.</p>\n<pre><code>import java.util.Collections;\nimport java.util.Date;\nimport java.util.List;\n\nimport static org.easymock.EasyMock.anyLong;\nimport static org.easymock.EasyMock.anyObject;\nimport static org.easymock.EasyMock.expect;\nimport static org.easymock.EasyMock.mock;\nimport static org.easymock.EasyMock.replay;\n\npublic class MyTest {\n\n    public List&lt;Long&gt; getEmployeeId(Long deptId, Date joiningDate, List&lt;String&gt; technologies) {\n        return null;\n    }\n\n    @Test\n    public void test() {\n        MyTest test = mock(MyTest.class);\n        expect(test.getEmployeeId(anyLong(), anyObject(Date.class), anyObject(List.class))).andReturn(Collections.emptyList()).anyTimes();\n        replay(test);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":556011,"reputation":2421,"user_id":884444,"accept_rate":51,"display_name":"ppb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693506712,"creation_date":1693351683,"question_id":77004134,"body_markdown":"I have below - \r\n\r\n    List&lt;Long&gt; getEmployeeId(Long deptId, Date joiningDate, List&lt;String&gt; technologies);\r\n\r\n\r\nI am trying to write a `Junit` for above method by using `EasyMock`\r\n\r\n    EasyMock.expect(empDao.getEmployeeId(EasyMock.anyLong(),  EasyMock.anyObject(Date.class),EasyMock.anyObject(List.class))).andReturn(empIdList).anyTimes();\r\n    replay(empDao);\r\n\r\nbut I am getting `java.lang.IllegalStateException` for `EasyMock.expect(..)`\r\n\r\nI am not sure what I am missing here.\r\n\r\n\r\n","title":"EasyMock failed with java.lang.IllegalStateException","body":"<p>I have below -</p>\n<pre><code>List&lt;Long&gt; getEmployeeId(Long deptId, Date joiningDate, List&lt;String&gt; technologies);\n</code></pre>\n<p>I am trying to write a <code>Junit</code> for above method by using <code>EasyMock</code></p>\n<pre><code>EasyMock.expect(empDao.getEmployeeId(EasyMock.anyLong(),  EasyMock.anyObject(Date.class),EasyMock.anyObject(List.class))).andReturn(empIdList).anyTimes();\nreplay(empDao);\n</code></pre>\n<p>but I am getting <code>java.lang.IllegalStateException</code> for <code>EasyMock.expect(..)</code></p>\n<p>I am not sure what I am missing here.</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1693501577,"post_id":77017362,"comment_id":135772941,"body_markdown":"Unclear: You want the &quot;output&quot; to be nested, but the &quot;output&quot; in your example is just printed text? Should the output be a nested list, like `[[a], [ab], [ac, ac], [ad], ...]`?","body":"Unclear: You want the &quot;output&quot; to be nested, but the &quot;output&quot; in your example is just printed text? Should the output be a nested list, like <code>[[a], [ab], [ac, ac], [ad], ...]</code>?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693511140,"post_id":77017362,"comment_id":135774646,"body_markdown":"What would you expect the output to be if I added in `{&quot;/a/b/c/d/e/f/g&quot;, 1}` to the table after  `&quot;/a/d/e&quot;`?  And are the `Path` and `repetition` entries guaranteed to occur only once for each `Path` in the table?","body":"What would you expect the output to be if I added in <code>{&quot;&#47;a&#47;b&#47;c&#47;d&#47;e&#47;f&#47;g&quot;, 1}</code> to the table after  <code>&quot;&#47;a&#47;d&#47;e&quot;</code>?  And are the <code>Path</code> and <code>repetition</code> entries guaranteed to occur only once for each <code>Path</code> in the table?"},{"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"score":0,"creation_date":1693512713,"post_id":77017362,"comment_id":135774949,"body_markdown":"Yes, each path can be listed only once. /a/b/c/d/e/f/g would not be possible, since the Paths build upon each other. So it would need to to be /a, /a/b, /a/b/c, /a/b/c/d, ... consecutive in the table","body":"Yes, each path can be listed only once. /a/b/c/d/e/f/g would not be possible, since the Paths build upon each other. So it would need to to be /a, /a/b, /a/b/c, /a/b/c/d, ... consecutive in the table"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693514943,"post_id":77017362,"comment_id":135775330,"body_markdown":"@Cobby  Thanks.  That&#39;s important info to know.  Especially about the paths being built upon each other.","body":"@Cobby  Thanks.  That&#39;s important info to know.  Especially about the paths being built upon each other."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693500351,"creation_date":1693500351,"answer_id":77017813,"question_id":77017362,"body_markdown":"If using java 8 or above,you could deploy `stream` api\r\n```\r\n public static void main(String[] args) {\r\n        List&lt;Pair&lt;Path,Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;Path&gt; result = list.stream()\r\n                  .flatMap(ExpandingFlattenedList::getPathStream)\r\n                  .collect(Collectors.toList());\r\n    }\r\n\r\n    private static Stream&lt;Path&gt; getPathStream(Pair&lt;Path, Integer&gt; pair) {\r\n        Supplier&lt;Path&gt; supplier=()-&gt; pair.getKey();\r\n        return Stream.generate(supplier)\r\n                .limit(pair.getValue());\r\n    }\r\n```","title":"How to turn a flattened structures with repetitions into a nested structure?","body":"<p>If using java 8 or above,you could deploy <code>stream</code> api</p>\n<pre><code> public static void main(String[] args) {\n        List&lt;Pair&lt;Path,Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n\n        List&lt;Path&gt; result = list.stream()\n                  .flatMap(ExpandingFlattenedList::getPathStream)\n                  .collect(Collectors.toList());\n    }\n\n    private static Stream&lt;Path&gt; getPathStream(Pair&lt;Path, Integer&gt; pair) {\n        Supplier&lt;Path&gt; supplier=()-&gt; pair.getKey();\n        return Stream.generate(supplier)\n                .limit(pair.getValue());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21940429,"reputation":76,"user_id":16221052,"display_name":"Joalien"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693504105,"creation_date":1693504105,"answer_id":77018205,"question_id":77017362,"body_markdown":"```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        Map&lt;Path, Integer&gt; input = new LinkedHashMap();\r\n        input.put(Path.of(&quot;/a&quot;), 1);\r\n        input.put(Path.of(&quot;/a/b&quot;), 1);\r\n        input.put(Path.of(&quot;/a/c&quot;), 2);\r\n        input.put(Path.of(&quot;/a/d&quot;), 2);\r\n        input.put(Path.of(&quot;/a/d/e&quot;), 2);\r\n        input.put(Path.of(&quot;/a/f&quot;), 1);\r\n        input.put(Path.of(&quot;/a/g&quot;), 1);\r\n        printElement(Path.of(&quot;/a&quot;), input);\r\n    }\r\n\r\n    static void printElement(Path s, Map&lt;Path, Integer&gt; m) {\r\n        for (int i = 0; i &lt; m.get(s); i++) {\r\n            System.out.println(s);\r\n            m.entrySet().stream()\r\n                    .filter(map -&gt; map.getKey().getParent().equals(s))\r\n                    .forEach(map -&gt; printElement(map.getKey(), m));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI got the following:\r\n\r\n    /a\r\n    /a/b\r\n    /a/c\r\n    /a/c\r\n    /a/d\r\n    /a/d/e\r\n    /a/d/e\r\n    /a/d\r\n    /a/d/e\r\n    /a/d/e\r\n    /a/f\r\n    /a/g","title":"How to turn a flattened structures with repetitions into a nested structure?","body":"<pre><code>class Main {\n    public static void main(String[] args) {\n        Map&lt;Path, Integer&gt; input = new LinkedHashMap();\n        input.put(Path.of(&quot;/a&quot;), 1);\n        input.put(Path.of(&quot;/a/b&quot;), 1);\n        input.put(Path.of(&quot;/a/c&quot;), 2);\n        input.put(Path.of(&quot;/a/d&quot;), 2);\n        input.put(Path.of(&quot;/a/d/e&quot;), 2);\n        input.put(Path.of(&quot;/a/f&quot;), 1);\n        input.put(Path.of(&quot;/a/g&quot;), 1);\n        printElement(Path.of(&quot;/a&quot;), input);\n    }\n\n    static void printElement(Path s, Map&lt;Path, Integer&gt; m) {\n        for (int i = 0; i &lt; m.get(s); i++) {\n            System.out.println(s);\n            m.entrySet().stream()\n                    .filter(map -&gt; map.getKey().getParent().equals(s))\n                    .forEach(map -&gt; printElement(map.getKey(), m));\n        }\n    }\n}\n</code></pre>\n<p>I got the following:</p>\n<pre><code>/a\n/a/b\n/a/c\n/a/c\n/a/d\n/a/d/e\n/a/d/e\n/a/d\n/a/d/e\n/a/d/e\n/a/f\n/a/g\n</code></pre>\n"}],"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77018205,"answer_count":2,"score":1,"last_activity_date":1693506278,"creation_date":1693496308,"question_id":77017362,"body_markdown":"I can&#39;t find a recursive function for the following problem.\r\nAssume the following paths, with their repetition which should turn into a nested structure like below. Is there a recursive solution? If not, any ideas for a short iterative solution?\r\n\r\n| Path | Repetition |\r\n| -------- | -------------- |\r\n| /a   | 1|\r\n| /a/b | 1|\r\n| /a/c | 2|\r\n| /a/d | 2|\r\n| /a/d/e | 2|\r\n| /a/f | 1|\r\n| /a/g | 1|\r\n\r\nOutput should be like this for a List&lt;Pair&lt;Path,Integer&gt;&gt; in **that specific order**:\r\n\r\n\r\n/a &lt;br&gt;\r\n/a/b &lt;br&gt;\r\n**/a/c** &lt;br&gt;\r\n**/a/c** &lt;br&gt;\r\n/a/d &lt;br&gt;\r\n**/a/d/e** &lt;br&gt;\r\n**/a/d/e** &lt;br&gt;\r\n/a/d &lt;br&gt;\r\n**/a/d/e** &lt;br&gt;\r\n**/a/d/e** &lt;br&gt;\r\n/a/f &lt;br&gt;\r\n/a/g\r\n\r\n\r\n","title":"How to turn a flattened structures with repetitions into a nested structure?","body":"<p>I can't find a recursive function for the following problem.\nAssume the following paths, with their repetition which should turn into a nested structure like below. Is there a recursive solution? If not, any ideas for a short iterative solution?</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Path</th>\n<th>Repetition</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/a</td>\n<td>1</td>\n</tr>\n<tr>\n<td>/a/b</td>\n<td>1</td>\n</tr>\n<tr>\n<td>/a/c</td>\n<td>2</td>\n</tr>\n<tr>\n<td>/a/d</td>\n<td>2</td>\n</tr>\n<tr>\n<td>/a/d/e</td>\n<td>2</td>\n</tr>\n<tr>\n<td>/a/f</td>\n<td>1</td>\n</tr>\n<tr>\n<td>/a/g</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Output should be like this for a List&lt;Pair&lt;Path,Integer&gt;&gt; in <strong>that specific order</strong>:</p>\n<p>/a <br>\n/a/b <br>\n<strong>/a/c</strong> <br>\n<strong>/a/c</strong> <br>\n/a/d <br>\n<strong>/a/d/e</strong> <br>\n<strong>/a/d/e</strong> <br>\n/a/d <br>\n<strong>/a/d/e</strong> <br>\n<strong>/a/d/e</strong> <br>\n/a/f <br>\n/a/g</p>\n"},{"tags":["java","ehcache"],"answers":[{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491829321,"creation_date":1491829321,"answer_id":43323906,"question_id":43306560,"body_markdown":"Expiration duration can only be modified when an entry is _created_, _accessed_ or _updated_.\r\n\r\nNow depending on your exact requirements, you could implement your specific logic on `getExpiryForAccess` and access the mapping to get the updated expiration. However, you cannot differentiate between a _regular_ access and an access that should update expiration.\r\nAnd I would not recommend having such a stateful expiration computation anyway.\r\n\r\nThere might be alternative ways to support your use case by changing the caching design altogether, but that&#39;s outside of the scope of this question.","title":"Changing the TTL of individual entries in EHCache 3","body":"<p>Expiration duration can only be modified when an entry is <em>created</em>, <em>accessed</em> or <em>updated</em>.</p>\n\n<p>Now depending on your exact requirements, you could implement your specific logic on <code>getExpiryForAccess</code> and access the mapping to get the updated expiration. However, you cannot differentiate between a <em>regular</em> access and an access that should update expiration.\nAnd I would not recommend having such a stateful expiration computation anyway.</p>\n\n<p>There might be alternative ways to support your use case by changing the caching design altogether, but that's outside of the scope of this question.</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693505376,"creation_date":1693505376,"answer_id":77018323,"question_id":43306560,"body_markdown":" Add programmatically using API method:\r\n\r\n   \r\n\r\n    &lt;ehcache&gt;\r\n         &lt;cache name=&quot;myConfigCache&quot;\r\n                   maxElementsInMemory=&quot;2000&quot;\r\n                   eternal=&quot;false&quot;\r\n                   overflowToDisk=&quot;false&quot;\r\n                   /&gt;\r\n        &lt;/ehcache&gt;\r\n    \r\n    \r\n         @Bean\r\n            public EhCacheManagerFactoryBean ehCacheCacheManager() {\r\n                final EhCacheManagerFactoryBean eh = new EhCacheManagerFactoryBean();\r\n                eh.setConfigLocation(new ClassPathResource(&quot;ehcache.xml&quot;));\r\n                eh.setShared(true);\r\n                return eh;\r\n            }\r\n    \r\n        net.sf.ehcache.Cache myConfigCache = ehCacheCacheManager().getObject().getCache(&quot;myConfigCache&quot;);\r\n                    myConfigCache.getCacheConfiguration().setTimeToLiveSeconds(1000);\r\n\r\n","title":"Changing the TTL of individual entries in EHCache 3","body":"<p>Add programmatically using API method:</p>\n<pre><code>&lt;ehcache&gt;\n     &lt;cache name=&quot;myConfigCache&quot;\n               maxElementsInMemory=&quot;2000&quot;\n               eternal=&quot;false&quot;\n               overflowToDisk=&quot;false&quot;\n               /&gt;\n    &lt;/ehcache&gt;\n\n\n     @Bean\n        public EhCacheManagerFactoryBean ehCacheCacheManager() {\n            final EhCacheManagerFactoryBean eh = new EhCacheManagerFactoryBean();\n            eh.setConfigLocation(new ClassPathResource(&quot;ehcache.xml&quot;));\n            eh.setShared(true);\n            return eh;\n        }\n\n    net.sf.ehcache.Cache myConfigCache = ehCacheCacheManager().getObject().getCache(&quot;myConfigCache&quot;);\n                myConfigCache.getCacheConfiguration().setTimeToLiveSeconds(1000);\n</code></pre>\n"}],"owner":{"account_id":2432490,"reputation":133,"user_id":7840342,"display_name":"Raimond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43323906,"answer_count":2,"score":2,"last_activity_date":1693505376,"creation_date":1491740068,"question_id":43306560,"body_markdown":"In EHCache 2.x, it was possible to set a time to live on an individual entry in a cache, for example:\r\n\r\n    Element dependentElement = cache.get(key);\r\n    long lastAccessTime = dependentElement.getLastAccessTime();\r\n    long creationTime = dependentElement.getCreationTime();\r\n    int timeToLive = lastAccessTime == 0 ? 300 : (int)\r\n      (lastAccessTime - creationTime) / 1000 + 300;\r\n    timeToLive += 2;\r\n    dependentElement.setTimeToLive(timeToLive);\r\n\r\nThis would update the TTL of the individual item, thus keeping it in cache longer.\r\n\r\nIn EHCache 3.x this seems no longer possible to do on an individual cache entry basis. After reading the [Migration Guide][1] and [this question][2], it seems to me this functionality is not directly migratable.\r\n\r\nThe guide tells us that in order to modify the TTL, an interface has to be implemented:\r\n\r\n    CacheConfigurationBuilder.newCacheConfigurationBuilder(Long.class, \r\n        String.class, ResourcePoolsBuilder\r\n        .withExpiry(new Expiry&lt;Long, String&gt;() {    \r\n          @Override\r\n          public Duration getExpiryForCreation(Long key, String value) {\r\n            return getTimeToLiveDuration(key, value);   \r\n          }\r\n\r\n          @Override\r\n          public Duration getExpiryForAccess(Long key, ValueSupplier&lt;? extends String&gt; value) {\r\n            return null;  // Keeping the existing expiry\r\n          }\r\n\r\n          @Override\r\n          public Duration getExpiryForUpdate(Long key, ValueSupplier&lt;? extends String&gt; oldValue, String newValue) {\r\n            return null;  // Keeping the existing expiry\r\n          }\r\n        });\r\n\r\n\r\nThis configuration is then added to a cache to be initialized. However, it does appear that, since it&#39;s a cache-level extension point, you can never guarantee that the methods are triggered for the actual entry you want to change?\r\n\r\nLooking at the internals of EHCache 3, it seems that the good old *net.sf.ehcache.Element* is abstracted away and changed into a *ValueHolder&amp;lt;V&amp;gt;* and that it is no longer possible to access this.\r\n\r\nSo, the question is: how can we implement the same behaviour in EHCache 3.x?\r\n\r\n  [1]: http://www.ehcache.org/documentation/3.1/migration-guide.html#per-mapping-expiry &quot;Migration Guide&quot;\r\n  [2]: https://stackoverflow.com/questions/37697751/how-to-change-a-ehcache-members-expiry-time-programmatically","title":"Changing the TTL of individual entries in EHCache 3","body":"<p>In EHCache 2.x, it was possible to set a time to live on an individual entry in a cache, for example:</p>\n\n<pre><code>Element dependentElement = cache.get(key);\nlong lastAccessTime = dependentElement.getLastAccessTime();\nlong creationTime = dependentElement.getCreationTime();\nint timeToLive = lastAccessTime == 0 ? 300 : (int)\n  (lastAccessTime - creationTime) / 1000 + 300;\ntimeToLive += 2;\ndependentElement.setTimeToLive(timeToLive);\n</code></pre>\n\n<p>This would update the TTL of the individual item, thus keeping it in cache longer.</p>\n\n<p>In EHCache 3.x this seems no longer possible to do on an individual cache entry basis. After reading the <a href=\"http://www.ehcache.org/documentation/3.1/migration-guide.html#per-mapping-expiry\" rel=\"nofollow noreferrer\" title=\"Migration Guide\">Migration Guide</a> and <a href=\"https://stackoverflow.com/questions/37697751/how-to-change-a-ehcache-members-expiry-time-programmatically\">this question</a>, it seems to me this functionality is not directly migratable.</p>\n\n<p>The guide tells us that in order to modify the TTL, an interface has to be implemented:</p>\n\n<pre><code>CacheConfigurationBuilder.newCacheConfigurationBuilder(Long.class, \n    String.class, ResourcePoolsBuilder\n    .withExpiry(new Expiry&lt;Long, String&gt;() {    \n      @Override\n      public Duration getExpiryForCreation(Long key, String value) {\n        return getTimeToLiveDuration(key, value);   \n      }\n\n      @Override\n      public Duration getExpiryForAccess(Long key, ValueSupplier&lt;? extends String&gt; value) {\n        return null;  // Keeping the existing expiry\n      }\n\n      @Override\n      public Duration getExpiryForUpdate(Long key, ValueSupplier&lt;? extends String&gt; oldValue, String newValue) {\n        return null;  // Keeping the existing expiry\n      }\n    });\n</code></pre>\n\n<p>This configuration is then added to a cache to be initialized. However, it does appear that, since it's a cache-level extension point, you can never guarantee that the methods are triggered for the actual entry you want to change?</p>\n\n<p>Looking at the internals of EHCache 3, it seems that the good old <em>net.sf.ehcache.Element</em> is abstracted away and changed into a <em>ValueHolder&lt;V&gt;</em> and that it is no longer possible to access this.</p>\n\n<p>So, the question is: how can we implement the same behaviour in EHCache 3.x?</p>\n"},{"tags":["java","for-loop","nested-loops"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1433825704,"post_id":30723247,"comment_id":49503752,"body_markdown":"write the logic out on a peice of paper.","body":"write the logic out on a peice of paper."}],"answers":[{"tags":[],"owner":{"account_id":6392909,"reputation":2727,"user_id":4958370,"accept_rate":40,"display_name":"Sourav Kanta"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1471977289,"creation_date":1433825923,"answer_id":30723316,"question_id":30723247,"body_markdown":"Try this much simpler code:\r\n\r\n    public class ChristmasTree {\r\n    \r\n     public static void main(String[] args) {\r\n    \r\n      for (int i = 0; i &lt; 10; i++) {\r\n       for (int j = 0; j &lt; 10 - i; j++)\r\n        System.out.print(&quot; &quot;);\r\n       for (int k = 0; k &lt; (2 * i + 1); k++)\r\n        System.out.print(&quot;*&quot;);\r\n       System.out.println();\r\n      }\r\n     }\r\n    }\r\n\r\n\r\nIt uses 3 loops:\r\n\r\n - first one for the number of rows, \r\n - second one for printing the spaces, \r\n - third one for printing the asterisks.\r\n\r\n","title":"Creating a Christmas Tree using for loops","body":"<p>Try this much simpler code:</p>\n\n<pre><code>public class ChristmasTree {\n\n public static void main(String[] args) {\n\n  for (int i = 0; i &lt; 10; i++) {\n   for (int j = 0; j &lt; 10 - i; j++)\n    System.out.print(\" \");\n   for (int k = 0; k &lt; (2 * i + 1); k++)\n    System.out.print(\"*\");\n   System.out.println();\n  }\n }\n}\n</code></pre>\n\n<p>It uses 3 loops:</p>\n\n<ul>\n<li>first one for the number of rows, </li>\n<li>second one for printing the spaces, </li>\n<li>third one for printing the asterisks.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3329749,"reputation":8679,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1433826379,"creation_date":1433826379,"answer_id":30723407,"question_id":30723247,"body_markdown":"You can do it with simple logic\r\n\r\n    for (int i = 0; i &lt; 4; i++) \r\n                System.out.println(&quot;   *******&quot;.substring(i, 4 + 2*i));","title":"Creating a Christmas Tree using for loops","body":"<p>You can do it with simple logic</p>\n\n<pre><code>for (int i = 0; i &lt; 4; i++) \n            System.out.println(\"   *******\".substring(i, 4 + 2*i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10027411,"reputation":1,"user_id":7415179,"display_name":"Trishek Pradhania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484317753,"creation_date":1484316364,"answer_id":41636401,"question_id":30723247,"body_markdown":"    public class Stars {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n           Scanner s=new Scanner(System.in);\r\n           System.out.println(&quot;Enter Row/Column Value::&quot;);\r\n            int i,j,k,n;\r\n            n=s.nextInt();\r\n            for(i=1; i&lt;n; i++){\r\n                for(j=n+(n/2); j&gt;i; j--){\r\n                    System.out.print(&quot; &quot;);}\r\n                for(k=1; k&lt;=2*i-1; k++){\r\n                    System.out.print(&quot;*&quot;);}\r\n                System.out.println(&quot;&quot;);\r\n                }\r\n             for(i=1; i&lt;n+(n/2); i++){\r\n                for(j=n+(n/2); j&gt;i; j--){\r\n                    System.out.print(&quot; &quot;);}\r\n                for(k=1; k&lt;=2*i-1; k++){\r\n                    System.out.print(&quot;*&quot;);}\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n              for(i=1; i&lt;n-(n/2); i++){\r\n                for(j=n+(n/2); j&gt;1; j--){\r\n                    System.out.print(&quot; &quot;);}\r\n                for(k=n/2; k&lt;=(n/2)+1; k++){\r\n                    System.out.print(&quot;*&quot;);}\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Creating a Christmas Tree using for loops","body":"<pre><code>public class Stars {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n       Scanner s=new Scanner(System.in);\n       System.out.println(\"Enter Row/Column Value::\");\n        int i,j,k,n;\n        n=s.nextInt();\n        for(i=1; i&lt;n; i++){\n            for(j=n+(n/2); j&gt;i; j--){\n                System.out.print(\" \");}\n            for(k=1; k&lt;=2*i-1; k++){\n                System.out.print(\"*\");}\n            System.out.println(\"\");\n            }\n         for(i=1; i&lt;n+(n/2); i++){\n            for(j=n+(n/2); j&gt;i; j--){\n                System.out.print(\" \");}\n            for(k=1; k&lt;=2*i-1; k++){\n                System.out.print(\"*\");}\n            System.out.println(\"\");\n        }\n          for(i=1; i&lt;n-(n/2); i++){\n            for(j=n+(n/2); j&gt;1; j--){\n                System.out.print(\" \");}\n            for(k=n/2; k&lt;=(n/2)+1; k++){\n                System.out.print(\"*\");}\n            System.out.println(\"\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12252924,"reputation":21,"user_id":8942721,"display_name":"how"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510721092,"creation_date":1510716998,"answer_id":47298926,"question_id":30723247,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class cmastree{\r\n    \r\n    \tpublic static void main (String[]args){\r\n    \t\tScanner keyboard=new Scanner (System.in);\r\n    \r\n    \t\tint j;\r\n    \t\tSystem.out.println (&quot;Enter a number&quot;);\r\n    \t\tj=keyboard.nextInt();\r\n            /*take the above part out and change the j variable if you want to set \r\n            the size*/\r\n    \t\tfor(int i=1; i&lt;=j; i+=2){\r\n    \t\t\tint numSpaces = (j-i)/2;\r\n            for (int k=0; k&lt;numSpaces; k++){\r\n    \t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\t}\r\n      \t\tfor(int k=0; k&lt;numSpaces; k++){\r\n        \t\tSystem.out.print(&quot;*&quot;);\r\n      \t\t\t}\r\n      \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Creating a Christmas Tree using for loops","body":"<pre><code>import java.util.Scanner;\n\npublic class cmastree{\n\n    public static void main (String[]args){\n        Scanner keyboard=new Scanner (System.in);\n\n        int j;\n        System.out.println (\"Enter a number\");\n        j=keyboard.nextInt();\n        /*take the above part out and change the j variable if you want to set \n        the size*/\n        for(int i=1; i&lt;=j; i+=2){\n            int numSpaces = (j-i)/2;\n        for (int k=0; k&lt;numSpaces; k++){\n            System.out.print(\" \");\n            }\n        for(int k=0; k&lt;numSpaces; k++){\n            System.out.print(\"*\");\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13419857,"reputation":11,"user_id":9683037,"display_name":"Shafi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524441466,"creation_date":1524429496,"answer_id":49970509,"question_id":30723247,"body_markdown":"    public class ChrismasTree {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint sizeOfTree = 9;\r\n    \t\tdouble remainderVal = sizeOfTree % 2 ;\r\n    \t\tdouble ans = sizeOfTree / 2 ;\r\n    \t\t\t\t\r\n    \t\tif (remainderVal == 0) {\r\n    \t\t\tSystem.out.println(&quot;Invalid number enter 9,19 calculat rest yourself u looser ..&quot;);\r\n    \t\t\tSystem.exit(0);\r\n    \t\t}\r\n    \t\tint middlePos = (int) Math.round(ans + .5);\r\n    \r\n    \t\tfor (int i = 0; i &lt;= sizeOfTree; i++) {\r\n    \t\t\tint lStar = middlePos - i;\r\n    \t\t\tint rStar = middlePos + i;\r\n    \r\n    \t\t\tif (lStar &lt; 1) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tprintleaves(lStar, rStar, sizeOfTree);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void printleaves(int a,int b, int size){\r\n    \t\tSystem.out.println();\r\n    \t\tfor (int i = 1; i &lt;= size; i++) {\r\n    \t\t\tif (i &gt; a &amp;&amp; i &lt; b ){\r\n    \t\t\t\tSystem.out.print(&quot;*&quot;);\r\n    \t\t\t}else System.out.print(&quot; &quot;);\t\r\n    \t\t}\t\r\n    \t}\r\n    }","title":"Creating a Christmas Tree using for loops","body":"<pre><code>public class ChrismasTree {\n\n    public static void main(String[] args) {\n\n        int sizeOfTree = 9;\n        double remainderVal = sizeOfTree % 2 ;\n        double ans = sizeOfTree / 2 ;\n\n        if (remainderVal == 0) {\n            System.out.println(\"Invalid number enter 9,19 calculat rest yourself u looser ..\");\n            System.exit(0);\n        }\n        int middlePos = (int) Math.round(ans + .5);\n\n        for (int i = 0; i &lt;= sizeOfTree; i++) {\n            int lStar = middlePos - i;\n            int rStar = middlePos + i;\n\n            if (lStar &lt; 1) {\n                break;\n            }\n            printleaves(lStar, rStar, sizeOfTree);\n        }\n    }\n\n    public static void printleaves(int a,int b, int size){\n        System.out.println();\n        for (int i = 1; i &lt;= size; i++) {\n            if (i &gt; a &amp;&amp; i &lt; b ){\n                System.out.print(\"*\");\n            }else System.out.print(\" \");    \n        }   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16483965,"reputation":1,"user_id":11909907,"display_name":"Kaustubh Masram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565408846,"creation_date":1565408846,"answer_id":57439152,"question_id":30723247,"body_markdown":"\r\n    def fist(n)\r\n     k=2*n-2\r\n      for i in range(0,n):\r\n       for j in range(0,k):\r\n       k=k-1\r\n        print(end=&quot; &#39;)\r\n       for j in range(0,i+1):\r\n        print(&quot;*&quot;,end=&quot; &quot;)\r\n       print()\r\n    def second(n)\r\n     k=2*n-2\r\n      for i in range(0,n):\r\n       for j in range(0,k):\r\n       k=k-1\r\n       print(end=&quot; &#39;)\r\n       for j in range(0,i+1):\r\n        print(&quot;*&quot;,end=&quot; &quot;)\r\n       print()\r\n    def stem(m)\r\n     k=11\r\n      for i in range(0,5):\r\n       for j in range(0,k):\r\n       print(end=&quot; &quot;)\r\n       for j in range(0,3):\r\n        print(&quot;*&quot;,end=&quot; &quot;)\r\n       print()\r\n    first(7)\r\n    second(7)\r\n    steam(3)","title":"Creating a Christmas Tree using for loops","body":"<pre><code>def fist(n)\n k=2*n-2\n  for i in range(0,n):\n   for j in range(0,k):\n   k=k-1\n    print(end=\" ')\n   for j in range(0,i+1):\n    print(\"*\",end=\" \")\n   print()\ndef second(n)\n k=2*n-2\n  for i in range(0,n):\n   for j in range(0,k):\n   k=k-1\n   print(end=\" ')\n   for j in range(0,i+1):\n    print(\"*\",end=\" \")\n   print()\ndef stem(m)\n k=11\n  for i in range(0,5):\n   for j in range(0,k):\n   print(end=\" \")\n   for j in range(0,3):\n    print(\"*\",end=\" \")\n   print()\nfirst(7)\nsecond(7)\nsteam(3)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22555849,"reputation":1,"user_id":16744252,"display_name":"Vik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629831200,"creation_date":1629831200,"answer_id":68912692,"question_id":30723247,"body_markdown":"        public class ChristmasTree {\r\n                  \r\n        public static void printStars(int number) {\r\n                for (int i = 1; i &lt;= number; i++) {\r\n                    System.out.print(&quot;*&quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        \r\n            public static void printSpaces(int number) {\r\n                for (int i = 0; i &lt; number; i++) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n            }\r\n        \r\n            public static void christmasTree(int height) {\r\n                for (int i = 1; i &lt;= height; i++) {\r\n                    printSpaces(height - i);\r\n                    printStars(i + (i - 1));\r\n                }\r\n             }\r\n\r\n     public static void main(String[] args) {\r\n         //     int x = pick some number, but not TOO big )))\r\n              christmasTree(x);\r\n          }\r\n        }","title":"Creating a Christmas Tree using for loops","body":"<pre><code>    public class ChristmasTree {\n              \n    public static void printStars(int number) {\n            for (int i = 1; i &lt;= number; i++) {\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n    \n        public static void printSpaces(int number) {\n            for (int i = 0; i &lt; number; i++) {\n                System.out.print(&quot; &quot;);\n            }\n        }\n    \n        public static void christmasTree(int height) {\n            for (int i = 1; i &lt;= height; i++) {\n                printSpaces(height - i);\n                printStars(i + (i - 1));\n            }\n         }\n\n public static void main(String[] args) {\n     //     int x = pick some number, but not TOO big )))\n          christmasTree(x);\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3342882,"reputation":871,"user_id":2808740,"accept_rate":100,"display_name":"Mathias Stavrou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693505313,"creation_date":1693505313,"answer_id":77018316,"question_id":30723247,"body_markdown":"You can try something like this \r\n\r\n\r\n        public class ChristmassTree {\r\n\r\n    public static void main(String[] args) {\r\n        var height = 5; // Adjust the height of the tree\r\n        printChristmasTree(height);\r\n    }\r\n\r\n    public static void printChristmasTree(int height) {\r\n        for (int i=0; i&lt;height; i++){\r\n            printSpaces(height-i-1);\r\n            printAsterisks(i+1);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static void printSpaces(int count) {\r\n        for (int i=0; i&lt;count; i++){\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static void printAsterisks(int count) {\r\n        for (int i=0; i&lt;count; i++){\r\n            System.out.print(&quot;* &quot;);\r\n        }\r\n    }}","title":"Creating a Christmas Tree using for loops","body":"<p>You can try something like this</p>\n<pre><code>    public class ChristmassTree {\n\npublic static void main(String[] args) {\n    var height = 5; // Adjust the height of the tree\n    printChristmasTree(height);\n}\n\npublic static void printChristmasTree(int height) {\n    for (int i=0; i&lt;height; i++){\n        printSpaces(height-i-1);\n        printAsterisks(i+1);\n        System.out.println();\n    }\n}\n\npublic static void printSpaces(int count) {\n    for (int i=0; i&lt;count; i++){\n        System.out.print(&quot; &quot;);\n    }\n}\n\npublic static void printAsterisks(int count) {\n    for (int i=0; i&lt;count; i++){\n        System.out.print(&quot;* &quot;);\n    }\n}}\n</code></pre>\n"}],"owner":{"account_id":6017393,"reputation":183,"user_id":4725709,"accept_rate":60,"display_name":"Atif Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78969,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":30723316,"answer_count":8,"score":11,"last_activity_date":1693505313,"creation_date":1433825448,"question_id":30723247,"body_markdown":"I am trying to make a christmas tree using for loops and nested for loops. For me to do that I need to be able to make a pyramids with *. I have tried countless times and I am having problems making one. Here is my code:\r\n\r\n    for(int i=1;i&lt;=10;i++){\r\n        for(int j=10;j&gt;i;j--){\r\n            System.out.println(&quot; &quot;);   \r\n        }\r\n    \r\n        for(int k=1;k&lt;=i;k++){\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n    \r\n        for(int l=10;l&lt;=1;l++){\r\n            for(int h=1;h&lt;=10;h++){\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n        }\r\n    \r\n        System.out.println();  \r\n    }\r\n\r\n \r\n\r\nWhat I am trying to do is:\r\n \r\n\r\n         *\r\n        ***\r\n       *****\r\n      *******\r\n\r\n","title":"Creating a Christmas Tree using for loops","body":"<p>I am trying to make a christmas tree using for loops and nested for loops. For me to do that I need to be able to make a pyramids with *. I have tried countless times and I am having problems making one. Here is my code:</p>\n\n<pre><code>for(int i=1;i&lt;=10;i++){\n    for(int j=10;j&gt;i;j--){\n        System.out.println(\" \");   \n    }\n\n    for(int k=1;k&lt;=i;k++){\n        System.out.print(\"*\");\n    }\n\n    for(int l=10;l&lt;=1;l++){\n        for(int h=1;h&lt;=10;h++){\n            System.out.print(\" \");\n        }\n    }\n\n    System.out.println();  \n}\n</code></pre>\n\n<p>What I am trying to do is:</p>\n\n<pre><code>     *\n    ***\n   *****\n  *******\n</code></pre>\n"},{"tags":["java","idoc","sapjco3"],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693505267,"creation_date":1693505267,"question_id":77018310,"body_markdown":"There is an outbound document on SAP server having number &quot;3710513&quot; and some IDoc status &quot;X&quot;.\r\n\r\nUsing Java I want to change this document status to a different value, for example &quot;12&quot;.\r\n\r\nI managed to [find][1] that common approach to send acknowledgements (and change IDoc status as well) is using `ALEAUD` message.\r\n\r\nThis is what I&#39;m trying to do\r\n\r\n        var XML = &quot;&quot;&quot;\r\n                    &lt;ALEAUD01&gt;\r\n                      &lt;IDOC BEGIN=&quot;1&quot;&gt;\r\n                         &lt;EDI_DC40 SEGMENT=&quot;1&quot;&gt;\r\n                             &lt;MESTYP&gt;ALEAUD&lt;/MESTYP&gt;\r\n                             &lt;IDOCTYP&gt;ALEAUD01&lt;/IDOCTYP&gt;\r\n                             &lt;SNDPOR&gt;MY_SNDPOR&lt;/SNDPOR&gt;\r\n                             &lt;SNDPRT&gt;LS&lt;/SNDPRT&gt;\r\n                             &lt;SNDPRN&gt;MY_SNDPRN&lt;/SNDPRN&gt;\r\n                         &lt;/EDI_DC40&gt;\r\n                         &lt;E1ADHDR SEGMENT=&quot;1&quot;&gt;\r\n                           &lt;E1STATE SEGMENT=&quot;1&quot;&gt;\r\n                             &lt;DOCNUM&gt;3710513&lt;/DOCNUM&gt;\r\n                             &lt;STATUS&gt;12&lt;/STATUS&gt;\r\n                           &lt;/E1STATE&gt;\r\n                         &lt;/E1ADHDR&gt;\r\n                       &lt;/IDOC&gt;\r\n                     &lt;/ALEAUD01&gt;\r\n                    &quot;&quot;&quot;;\r\n    \r\n        JCoDestination destination = getDestinationFromMyCurrentSAPConnecton();\r\n        IDocRepository iDocRepository = JCoIDoc.getIDocRepository(destination);\r\n        IDocFactory iDocFactory = JCoIDoc.getIDocFactory();\r\n    \r\n        String tid = destination.createTID();\r\n     \r\n        IDocXMLProcessor processor = iDocFactory.getIDocXMLProcessor();\r\n        IDocDocumentList iDocList = processor.parse(iDocRepository, XML);\r\n    \r\n        JCoIDoc.send(iDocList, IDocFactory.IDOC_VERSION_DEFAULT, destination, tid);\r\n    \r\n    \r\n        destination.confirmTID(tid);\r\n\r\nThis sending completes without errors.\r\n\r\nBut on the SAP server in dialogue &quot;Status Monitor for ALE Messages&quot; I see that the target IDoc has two status columns (see scereenshot 1) (first=&quot;39&quot;, second=&quot;12&quot;), and in the history (&quot;Status records&quot;) there is only status &quot;39&quot; (see screenshot 2), which was not intended. \r\n\r\n\r\n**Please help me to find out what is the correct way to send a status of IDoc to SAP server, so this status naturally applied to the &quot;Status record&quot; history.**\r\n\r\n----\r\n\r\n***Screenshot 1:***\r\n[![see screenshot][2]][2]\r\n\r\n***Screenshot 2:***\r\n[![see screenshot][3]][3]\r\n\r\n  [1]: https://answers.sap.com/questions/6743008/purpose-of-synch-and-aleaud.html\r\n  [2]: https://i.stack.imgur.com/Ef921.png\r\n  [3]: https://i.stack.imgur.com/fGxKq.png","title":"How to send IDoc status to SAP server?","body":"<p>There is an outbound document on SAP server having number &quot;3710513&quot; and some IDoc status &quot;X&quot;.</p>\n<p>Using Java I want to change this document status to a different value, for example &quot;12&quot;.</p>\n<p>I managed to <a href=\"https://answers.sap.com/questions/6743008/purpose-of-synch-and-aleaud.html\" rel=\"nofollow noreferrer\">find</a> that common approach to send acknowledgements (and change IDoc status as well) is using <code>ALEAUD</code> message.</p>\n<p>This is what I'm trying to do</p>\n<pre><code>    var XML = &quot;&quot;&quot;\n                &lt;ALEAUD01&gt;\n                  &lt;IDOC BEGIN=&quot;1&quot;&gt;\n                     &lt;EDI_DC40 SEGMENT=&quot;1&quot;&gt;\n                         &lt;MESTYP&gt;ALEAUD&lt;/MESTYP&gt;\n                         &lt;IDOCTYP&gt;ALEAUD01&lt;/IDOCTYP&gt;\n                         &lt;SNDPOR&gt;MY_SNDPOR&lt;/SNDPOR&gt;\n                         &lt;SNDPRT&gt;LS&lt;/SNDPRT&gt;\n                         &lt;SNDPRN&gt;MY_SNDPRN&lt;/SNDPRN&gt;\n                     &lt;/EDI_DC40&gt;\n                     &lt;E1ADHDR SEGMENT=&quot;1&quot;&gt;\n                       &lt;E1STATE SEGMENT=&quot;1&quot;&gt;\n                         &lt;DOCNUM&gt;3710513&lt;/DOCNUM&gt;\n                         &lt;STATUS&gt;12&lt;/STATUS&gt;\n                       &lt;/E1STATE&gt;\n                     &lt;/E1ADHDR&gt;\n                   &lt;/IDOC&gt;\n                 &lt;/ALEAUD01&gt;\n                &quot;&quot;&quot;;\n\n    JCoDestination destination = getDestinationFromMyCurrentSAPConnecton();\n    IDocRepository iDocRepository = JCoIDoc.getIDocRepository(destination);\n    IDocFactory iDocFactory = JCoIDoc.getIDocFactory();\n\n    String tid = destination.createTID();\n \n    IDocXMLProcessor processor = iDocFactory.getIDocXMLProcessor();\n    IDocDocumentList iDocList = processor.parse(iDocRepository, XML);\n\n    JCoIDoc.send(iDocList, IDocFactory.IDOC_VERSION_DEFAULT, destination, tid);\n\n\n    destination.confirmTID(tid);\n</code></pre>\n<p>This sending completes without errors.</p>\n<p>But on the SAP server in dialogue &quot;Status Monitor for ALE Messages&quot; I see that the target IDoc has two status columns (see scereenshot 1) (first=&quot;39&quot;, second=&quot;12&quot;), and in the history (&quot;Status records&quot;) there is only status &quot;39&quot; (see screenshot 2), which was not intended.</p>\n<p><strong>Please help me to find out what is the correct way to send a status of IDoc to SAP server, so this status naturally applied to the &quot;Status record&quot; history.</strong></p>\n<hr />\n<p><em><strong>Screenshot 1:</strong></em>\n<a href=\"https://i.stack.imgur.com/Ef921.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ef921.png\" alt=\"see screenshot\" /></a></p>\n<p><em><strong>Screenshot 2:</strong></em>\n<a href=\"https://i.stack.imgur.com/fGxKq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGxKq.png\" alt=\"see screenshot\" /></a></p>\n"},{"tags":["java","arraylist","random","playing-cards"],"comments":[{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1493442302,"post_id":43691935,"comment_id":74429912,"body_markdown":"Is there any particular requirement about Randomness? Why do you feel that randomness is enough or not enough?","body":"Is there any particular requirement about Randomness? Why do you feel that randomness is enough or not enough?"},{"owner":{"account_id":8999596,"reputation":9109,"user_id":6708661,"accept_rate":82,"display_name":"Sagar Gautam"},"score":0,"creation_date":1493442408,"post_id":43691935,"comment_id":74429936,"body_markdown":"There is no such requirement but I have used custom method for shuffle this is main reason. hopefully you understand","body":"There is no such requirement but I have used custom method for shuffle this is main reason. hopefully you understand"},{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1493442545,"post_id":43691935,"comment_id":74429962,"body_markdown":"You haven&#39;t effectively used custom method as underlying, it is java.util.Random. You should consider reading, https://docs.oracle.com/javase/7/docs/api/java/util/Random.html   and   https://blog.tradeshift.com/sources-of-randomness-in-java/","body":"You haven&#39;t effectively used custom method as underlying, it is java.util.Random. You should consider reading, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Random.html</a>   and   <a href=\"https://blog.tradeshift.com/sources-of-randomness-in-java/\" rel=\"nofollow noreferrer\">blog.tradeshift.com/sources-of-randomness-in-java</a>"},{"owner":{"account_id":8999596,"reputation":9109,"user_id":6708661,"accept_rate":82,"display_name":"Sagar Gautam"},"score":0,"creation_date":1493442944,"post_id":43691935,"comment_id":74430031,"body_markdown":"size of deck changing every loop so I think this is custom","body":"size of deck changing every loop so I think this is custom"},{"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"score":0,"creation_date":1493466458,"post_id":43691935,"comment_id":74435539,"body_markdown":"Possible duplicate of [How good is java.util.Random?](http://stackoverflow.com/questions/453479/how-good-is-java-util-random)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/453479/how-good-is-java-util-random\">How good is java.util.Random?</a>"},{"owner":{"account_id":8999596,"reputation":9109,"user_id":6708661,"accept_rate":82,"display_name":"Sagar Gautam"},"score":0,"creation_date":1493467369,"post_id":43691935,"comment_id":74435820,"body_markdown":"I have used custom method after generating random number between 0 to n. That&#39;s the reason I have asked for some suggestion","body":"I have used custom method after generating random number between 0 to n. That&#39;s the reason I have asked for some suggestion"}],"answers":[{"tags":[],"owner":{"account_id":5964559,"reputation":19590,"user_id":4832499,"accept_rate":79,"display_name":"Passer By"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493443385,"creation_date":1493442959,"answer_id":43692044,"question_id":43691935,"body_markdown":"You should define your notion of &quot;randomness&quot; in a precise way. &quot;Increasing randomness&quot; is a rather vague term.\r\n\r\nI will assume by &quot;random&quot;, what you want is a [uniform distribution](https://en.wikipedia.org/wiki/Discrete_uniform_distribution) of [permutation](https://en.wikipedia.org/wiki/Permutation) on your deck. Which is to say, you want your deck to be reordered in such a way that the chance that the next card is a particular card is equal.\r\n\r\nThere are two different factors at play here:\r\n\r\n* How you shuffle\r\n* How good a random generator `Random` is\r\n\r\n--------\r\n\r\n### How you shuffle ###\r\nAs far as how you shuffle goes, it is uniform. It can be proven by [conditional probability](https://en.wikipedia.org/wiki/Conditional_probability) that any card being in any position is exactly 1/52.\r\n\r\n### How good `util.Random` is ###\r\nFirst, to be clear, `util.Random` is **not** actually random. It is a [pseudorandom number generator](https://en.wikipedia.org/wiki/Pseudorandom_number_generator)(PRNG). That means what they do is not to produce truly random numbers. Instead they *try* to, and depending on application requirements, it will be enough.\r\n\r\n`util.Random` is a [linear congruential generator](https://en.wikipedia.org/wiki/Linear_congruential_generator), and as far as PRNGs go, its pretty weak. If you don&#39;t care about *really* randomizing your deck, it will work fine. However if you need something more robust, [here](https://stackoverflow.com/questions/453479/how-good-is-java-util-random) is a starting point.","title":"Randomness of shuffled cards","body":"<p>You should define your notion of \"randomness\" in a precise way. \"Increasing randomness\" is a rather vague term.</p>\n\n<p>I will assume by \"random\", what you want is a <a href=\"https://en.wikipedia.org/wiki/Discrete_uniform_distribution\" rel=\"nofollow noreferrer\">uniform distribution</a> of <a href=\"https://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow noreferrer\">permutation</a> on your deck. Which is to say, you want your deck to be reordered in such a way that the chance that the next card is a particular card is equal.</p>\n\n<p>There are two different factors at play here:</p>\n\n<ul>\n<li>How you shuffle</li>\n<li>How good a random generator <code>Random</code> is</li>\n</ul>\n\n<hr>\n\n<h3>How you shuffle</h3>\n\n<p>As far as how you shuffle goes, it is uniform. It can be proven by <a href=\"https://en.wikipedia.org/wiki/Conditional_probability\" rel=\"nofollow noreferrer\">conditional probability</a> that any card being in any position is exactly 1/52.</p>\n\n<h3>How good <code>util.Random</code> is</h3>\n\n<p>First, to be clear, <code>util.Random</code> is <strong>not</strong> actually random. It is a <a href=\"https://en.wikipedia.org/wiki/Pseudorandom_number_generator\" rel=\"nofollow noreferrer\">pseudorandom number generator</a>(PRNG). That means what they do is not to produce truly random numbers. Instead they <em>try</em> to, and depending on application requirements, it will be enough.</p>\n\n<p><code>util.Random</code> is a <a href=\"https://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"nofollow noreferrer\">linear congruential generator</a>, and as far as PRNGs go, its pretty weak. If you don't care about <em>really</em> randomizing your deck, it will work fine. However if you need something more robust, <a href=\"https://stackoverflow.com/questions/453479/how-good-is-java-util-random\">here</a> is a starting point.</p>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493443572,"creation_date":1493443098,"answer_id":43692057,"question_id":43691935,"body_markdown":"I suggest you can simply use [Collections.shuffle()][1] as shown below rather than reinventing the shuffling logic which is already provided by `Collections` API:\r\n\r\n    Collections.shuffle(deck);//Pass your ArrayList&lt;Card&gt; object i.e., deck\r\n\r\nSo, by reusing this existing `Collections` API clears all your doubts on the randomness of your `deck` object.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle(java.util.List)","title":"Randomness of shuffled cards","body":"<p>I suggest you can simply use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle(java.util.List)\" rel=\"nofollow noreferrer\">Collections.shuffle()</a> as shown below rather than reinventing the shuffling logic which is already provided by <code>Collections</code> API:</p>\n\n<pre><code>Collections.shuffle(deck);//Pass your ArrayList&lt;Card&gt; object i.e., deck\n</code></pre>\n\n<p>So, by reusing this existing <code>Collections</code> API clears all your doubts on the randomness of your <code>deck</code> object.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1493444966,"creation_date":1493444966,"answer_id":43692252,"question_id":43691935,"body_markdown":"&gt; Does it&#39;s randomness is enough or not ?\r\n\r\nDefine *good enough* (!!)\r\n\r\nYour current approach is going to give a good shuffle, with no obvious biases ... **except** for biases that may be introduced by the random number generator. \r\n\r\nAnd in this case, there is real cause for concern.  Random is specified to be a linear congruential generator, and LC generations have distinct patterns in the numbers that they generate.  (In statistical terms, they show strong auto-correlation.)  This is quite clear if you graph the n&#39;th random number against n.\r\n\r\nTo improve randomness, you should use a better random number generator.  The `SecureRandom` generator should be good enough: [javadoc][1].\r\n\r\n-----------------\r\n\r\nThe same concern about the randomness applies if you use `Collections.shuffle` method.  For a *good* (or consistent) shuffle you should use the method overload where you supply a `Random` implementation ... and choose a good one.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html","title":"Randomness of shuffled cards","body":"<blockquote>\n  <p>Does it's randomness is enough or not ?</p>\n</blockquote>\n\n<p>Define <em>good enough</em> (!!)</p>\n\n<p>Your current approach is going to give a good shuffle, with no obvious biases ... <strong>except</strong> for biases that may be introduced by the random number generator. </p>\n\n<p>And in this case, there is real cause for concern.  Random is specified to be a linear congruential generator, and LC generations have distinct patterns in the numbers that they generate.  (In statistical terms, they show strong auto-correlation.)  This is quite clear if you graph the n'th random number against n.</p>\n\n<p>To improve randomness, you should use a better random number generator.  The <code>SecureRandom</code> generator should be good enough: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n\n<hr>\n\n<p>The same concern about the randomness applies if you use <code>Collections.shuffle</code> method.  For a <em>good</em> (or consistent) shuffle you should use the method overload where you supply a <code>Random</code> implementation ... and choose a good one.</p>\n"},{"tags":[],"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1693504970,"creation_date":1496247814,"answer_id":44290013,"question_id":43691935,"body_markdown":"There is one issue not mentioned here about `java.util.Random`: whether it can choose all permutations of a 52-item list. This is based on the number of seeds it admits. In general, a pseudorandom number generator (PRNG) can&#39;t choose more permutations of random number sequences than the number of seeds it admits (see &quot;Shuffling&quot; in my [article on randomness](https://peteroupc.github.io/random.html) for further discussion). Nothing is said here about PRNGs that admit as many or more seeds than the number of permutations or whether the permutations the PRNG _can_ choose have an equal probability of occurring, as opposed to an ideal process of generating _perfectly_ independent uniform random integers.\r\n\r\n`java.util.Random` admits no more than 2&lt;sup&gt;48&lt;/sup&gt; seeds, since it uses a 48-bit seed length. However, there are 52-factorial permutations of a 52-item list, and that&#39;s higher than 2&lt;sup&gt;225&lt;/sup&gt; -- which exceeds this maximum number of seeds by many orders of magnitude. Because of this, there are many, many permutations of a 52-item list that `java.util.Random` can&#39;t generate (using the same shuffling technique). (And this applies to *any* PRNG that admits fewer than 52-factorial seeds, not just linear congruential generators, like `java.util.Random`, in particular.) Therefore, an application that needs to shuffle a 52-item list would be well advised to avoid PRNGs that admit fewer than 52-factorial seeds (although even if a PRNG admits as many or more than 52-factorial seeds, that is not enough, by itself, to ensure the PRNG can choose from among all permutations with equal probability).\r\n\r\n----\r\n\r\nEDIT: Two recent questions discussed how to generate enough randomness to shuffle a digital &quot;deck&quot; of 52 cards:\r\n\r\nhttps://stackoverflow.com/questions/51771206/is-Java-util-random-really-that-random-how-can-I-generate-52-factorial-possi\r\n\r\nhttps://stackoverflow.com/questions/51787428/where-can-I-get-a-reliable-source-of-entropy-real-randomness-byte\r\n\r\nSee the linked questions for details, and see also my section on [nondeterministic sources and seed generation](https://peteroupc.github.io/random.html#Nondeterministic_Sources_and_Seed_Generation).\r\n\r\nEDIT (Aug. 31, 2023): Edited.","title":"Randomness of shuffled cards","body":"<p>There is one issue not mentioned here about <code>java.util.Random</code>: whether it can choose all permutations of a 52-item list. This is based on the number of seeds it admits. In general, a pseudorandom number generator (PRNG) can't choose more permutations of random number sequences than the number of seeds it admits (see &quot;Shuffling&quot; in my <a href=\"https://peteroupc.github.io/random.html\" rel=\"nofollow noreferrer\">article on randomness</a> for further discussion). Nothing is said here about PRNGs that admit as many or more seeds than the number of permutations or whether the permutations the PRNG <em>can</em> choose have an equal probability of occurring, as opposed to an ideal process of generating <em>perfectly</em> independent uniform random integers.</p>\n<p><code>java.util.Random</code> admits no more than 2<sup>48</sup> seeds, since it uses a 48-bit seed length. However, there are 52-factorial permutations of a 52-item list, and that's higher than 2<sup>225</sup> -- which exceeds this maximum number of seeds by many orders of magnitude. Because of this, there are many, many permutations of a 52-item list that <code>java.util.Random</code> can't generate (using the same shuffling technique). (And this applies to <em>any</em> PRNG that admits fewer than 52-factorial seeds, not just linear congruential generators, like <code>java.util.Random</code>, in particular.) Therefore, an application that needs to shuffle a 52-item list would be well advised to avoid PRNGs that admit fewer than 52-factorial seeds (although even if a PRNG admits as many or more than 52-factorial seeds, that is not enough, by itself, to ensure the PRNG can choose from among all permutations with equal probability).</p>\n<hr />\n<p>EDIT: Two recent questions discussed how to generate enough randomness to shuffle a digital &quot;deck&quot; of 52 cards:</p>\n<p><a href=\"https://stackoverflow.com/questions/51771206/is-Java-util-random-really-that-random-how-can-I-generate-52-factorial-possi\">Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/51787428/where-can-I-get-a-reliable-source-of-entropy-real-randomness-byte\">Where can I get a reliable source of entropy (real randomness byte[])?</a></p>\n<p>See the linked questions for details, and see also my section on <a href=\"https://peteroupc.github.io/random.html#Nondeterministic_Sources_and_Seed_Generation\" rel=\"nofollow noreferrer\">nondeterministic sources and seed generation</a>.</p>\n<p>EDIT (Aug. 31, 2023): Edited.</p>\n"}],"owner":{"account_id":8999596,"reputation":9109,"user_id":6708661,"accept_rate":82,"display_name":"Sagar Gautam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43692252,"answer_count":4,"score":1,"last_activity_date":1693504970,"creation_date":1493441873,"question_id":43691935,"body_markdown":"I have an Array List of cards containing 52 cards. I want to shuffle the deck.\r\n\r\nThis is what I have done.\r\n\r\n1. Created a new Array List.\r\n2. Generated random index between 0 to deck size.\r\n3. Get card at random index and add to new list.\r\n4. Remove card from deck\r\n5. Repeat until deck is empty.\r\n\r\nHere is my code:\r\n\r\n    String[] Number = {&quot;A&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;};\r\n    String[] Suits = {&quot;Club&quot;,&quot;Diamonds&quot;,&quot;Hearts&quot;,&quot;Spades&quot;};\r\n    ArrayList&lt;Card&gt; deck = new ArrayList&lt;Card&gt;();\r\n\r\n    // create a deck    \r\n\r\n\tfor(int i=0;i&lt;13;i++){\r\n            for(int j=0;j&lt;4;j++){\r\n                Card card = new Card(Suits[j],Number[i]);\r\n                deck.add(card);\r\n            }    \r\n        }\r\n\r\n    // shuffle of deck\r\n\r\n\tArrayList&lt;Card&gt; new_deck = new ArrayList&lt;Card&gt;();\r\n        while(deck.size()!=0){   \r\n            \r\n            Random rand = new Random();\r\n            int  n = rand.nextInt(deck.size());\r\n            \r\n            new_deck.add(deck.get(n));\r\n            deck.remove(n);\r\n        }\r\n\r\n    // Display\r\n\r\n\tfor(int i=0;i&lt;52;i++){\r\n            System.out.println(new_deck.get(i).getSuit()+&quot; : &quot;+new_deck.get(i).getValue());\r\n        }\r\n\r\nFinally, I get the shuffled deck from new ArrayList. \r\n\r\nIs its randomness good enough or not?\r\n\r\nWhat should I do to increase randomness?","title":"Randomness of shuffled cards","body":"<p>I have an Array List of cards containing 52 cards. I want to shuffle the deck.</p>\n\n<p>This is what I have done.</p>\n\n<ol>\n<li>Created a new Array List.</li>\n<li>Generated random index between 0 to deck size.</li>\n<li>Get card at random index and add to new list.</li>\n<li>Remove card from deck</li>\n<li>Repeat until deck is empty.</li>\n</ol>\n\n<p>Here is my code:</p>\n\n<pre><code>String[] Number = {\"A\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"J\",\"Q\",\"K\"};\nString[] Suits = {\"Club\",\"Diamonds\",\"Hearts\",\"Spades\"};\nArrayList&lt;Card&gt; deck = new ArrayList&lt;Card&gt;();\n\n// create a deck    \n\nfor(int i=0;i&lt;13;i++){\n        for(int j=0;j&lt;4;j++){\n            Card card = new Card(Suits[j],Number[i]);\n            deck.add(card);\n        }    \n    }\n\n// shuffle of deck\n\nArrayList&lt;Card&gt; new_deck = new ArrayList&lt;Card&gt;();\n    while(deck.size()!=0){   \n\n        Random rand = new Random();\n        int  n = rand.nextInt(deck.size());\n\n        new_deck.add(deck.get(n));\n        deck.remove(n);\n    }\n\n// Display\n\nfor(int i=0;i&lt;52;i++){\n        System.out.println(new_deck.get(i).getSuit()+\" : \"+new_deck.get(i).getValue());\n    }\n</code></pre>\n\n<p>Finally, I get the shuffled deck from new ArrayList. </p>\n\n<p>Is its randomness good enough or not?</p>\n\n<p>What should I do to increase randomness?</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346422336,"creation_date":1346422336,"answer_id":12217129,"question_id":12217047,"body_markdown":"You have to iterate through all cells in the row and check if they are all empty. I don&#39;t know any other solution...\r\n\r\n     short c;\r\n     for (c = lastRow.getFirstCellNum(); c &lt;= lastRow.getLastCellNum(); c++) {\r\n         cell = lastRow.getCell(c);\r\n         if (cell != null &amp;&amp; lastRow.getCell(c).getCellType() != HSSFCell.CELL_TYPE_BLANK) {\r\n              nonBlankRowFound = true;\r\n         }\r\n     }\r\n\r\nThe code is from [here](http://affy.blogspot.co.uk/2004/04/poi-optimization-eliminating-trailing.html)","title":"How to determine empty row?","body":"<p>You have to iterate through all cells in the row and check if they are all empty. I don't know any other solution...</p>\n\n<pre><code> short c;\n for (c = lastRow.getFirstCellNum(); c &lt;= lastRow.getLastCellNum(); c++) {\n     cell = lastRow.getCell(c);\n     if (cell != null &amp;&amp; lastRow.getCell(c).getCellType() != HSSFCell.CELL_TYPE_BLANK) {\n          nonBlankRowFound = true;\n     }\n }\n</code></pre>\n\n<p>The code is from <a href=\"http://affy.blogspot.co.uk/2004/04/poi-optimization-eliminating-trailing.html\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":799657,"reputation":300,"user_id":896274,"accept_rate":50,"display_name":"Preet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346423077,"creation_date":1346423077,"answer_id":12217363,"question_id":12217047,"body_markdown":"get the instance of CellReference and use formatAsString() on the instance. compare it with an empty String \r\n\r\n   `\r\n\r\n    if(&quot;&quot;.equals(cellRef.formatAsString())){\r\n         System.out.println(&quot;this is an empty cell&quot;);\r\n       }else{\r\n          System.out.println(&quot;Cell value : &quot;+cellRef.formatAsString());\r\n       }\r\n\r\n`\r\nReference : http://www.javabeat.net/2007/10/apache-poi-reading-excel-sheet-using-java/","title":"How to determine empty row?","body":"<p>get the instance of CellReference and use formatAsString() on the instance. compare it with an empty String </p>\n\n<p>`</p>\n\n<pre><code>if(\"\".equals(cellRef.formatAsString())){\n     System.out.println(\"this is an empty cell\");\n   }else{\n      System.out.println(\"Cell value : \"+cellRef.formatAsString());\n   }\n</code></pre>\n\n<p>`\nReference : <a href=\"http://www.javabeat.net/2007/10/apache-poi-reading-excel-sheet-using-java/\" rel=\"nofollow\">http://www.javabeat.net/2007/10/apache-poi-reading-excel-sheet-using-java/</a></p>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1346425311,"creation_date":1346425311,"answer_id":12217982,"question_id":12217047,"body_markdown":"Assuming you want to check if row `n` is empty, remembering that rows in Apache POI are zero based not one based, you&#39;d want something like:\r\n\r\n\r\n     Row r = sheet.getRow(n-1); // 2nd row = row 1\r\n     boolean hasData = true;\r\n\r\n     if (r == null) {\r\n        // Row has never been used\r\n        hasData = false;\r\n     } else {\r\n        // Check to see if all cells in the row are blank (empty)\r\n        hasData = false;\r\n        for (Cell c : r) {\r\n           if (c.getCellType() != Cell.CELL_TYPE_BLANK) {\r\n             hasData = true;\r\n             break;\r\n           }\r\n        }\r\n     }","title":"How to determine empty row?","body":"<p>Assuming you want to check if row <code>n</code> is empty, remembering that rows in Apache POI are zero based not one based, you'd want something like:</p>\n\n<pre><code> Row r = sheet.getRow(n-1); // 2nd row = row 1\n boolean hasData = true;\n\n if (r == null) {\n    // Row has never been used\n    hasData = false;\n } else {\n    // Check to see if all cells in the row are blank (empty)\n    hasData = false;\n    for (Cell c : r) {\n       if (c.getCellType() != Cell.CELL_TYPE_BLANK) {\n         hasData = true;\n         break;\n       }\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309633,"reputation":744,"user_id":622189,"display_name":"Takaitra"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1415489308,"creation_date":1367857398,"answer_id":16402937,"question_id":12217047,"body_markdown":"I&#39;m using the following method in my POI project and it&#39;s working well. It is a variation of zeller&#39;s solution.\r\n\r\n    public static boolean isRowEmpty(Row row) {\r\n        for (int c = row.getFirstCellNum(); c &lt; row.getLastCellNum(); c++) {\r\n            Cell cell = row.getCell(c);\r\n            if (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK)\r\n                return false;\r\n        }\r\n        return true;\r\n    }","title":"How to determine empty row?","body":"<p>I'm using the following method in my POI project and it's working well. It is a variation of zeller's solution.</p>\n\n<pre><code>public static boolean isRowEmpty(Row row) {\n    for (int c = row.getFirstCellNum(); c &lt; row.getLastCellNum(); c++) {\n        Cell cell = row.getCell(c);\n        if (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3373217,"reputation":487,"user_id":2831975,"accept_rate":80,"display_name":"Sergii Lisnychyi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384523717,"creation_date":1384523717,"answer_id":20002688,"question_id":12217047,"body_markdown":"Yes, but if in some **row** we will have in some **cell** =  **&quot; &quot;** and empty values in another cells. \r\n                                                               This method will be work better:\r\n\r\n   \r\n\r\n  \r\n\r\n      boolean isEmptyRow(Row row){\r\n         boolean isEmptyRow = true;\r\n             for(int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++){\r\n              \tCell cell = row.getCell(cellNum);\r\n            \tif(cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())){\r\n         \t\tisEmptyRow = false;\r\n            \t}    \r\n             }\r\n         return isEmptyRow;\r\n       }\r\n\r\n ","title":"How to determine empty row?","body":"<p>Yes, but if in some <strong>row</strong> we will have in some <strong>cell</strong> =  <strong>\" \"</strong> and empty values in another cells. \n                                                               This method will be work better:</p>\n\n<pre><code>  boolean isEmptyRow(Row row){\n     boolean isEmptyRow = true;\n         for(int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++){\n            Cell cell = row.getCell(cellNum);\n            if(cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())){\n            isEmptyRow = false;\n            }    \n         }\n     return isEmptyRow;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1637248814,"creation_date":1423649992,"answer_id":28451783,"question_id":12217047,"body_markdown":"The row iterator returns only rows that contain data, however if they are completely empty then iterating by row index, `getRow(index)`  returns `null`\r\n\r\nSolution:\r\n\r\nUp to POI version 3.14 (thanks to Sergii Lisnychyi):\r\n\r\n    private boolean checkIfRowIsEmpty(Row row) {\r\n        if (row == null) {\r\n            return true;\r\n        }\r\n        if (row.getLastCellNum() &lt;= 0) {\r\n            return true;\r\n        }\r\n        for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\r\n            Cell cell = row.getCell(cellNum);\r\n            if (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nFrom POI version 3.15 to 4.2 (`int getCellType()` is deprecated):\r\n\r\n        private boolean checkIfRowIsEmpty(Row row) {\r\n        if (row == null) {\r\n            return true;\r\n        }\r\n        if (row.getLastCellNum() &lt;= 0) {\r\n            return true;\r\n        }\r\n        for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\r\n            Cell cell = row.getCell(cellNum);\r\n            if (cell != null &amp;&amp; cell.getCellTypeEnum() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nFrom POI version 4 (`CellTypeEnum getCellTypeEnum()` will return the Enum not int):\r\n\r\n    private boolean checkIfRowIsEmpty(Row row) {\r\n        if (row == null) {\r\n            return true;\r\n        }\r\n        if (row.getLastCellNum() &lt;= 0) {\r\n            return true;\r\n        }\r\n        for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\r\n            Cell cell = row.getCell(cellNum);\r\n            if (cell != null &amp;&amp; cell.getCellTypeEnum() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nFrom POI version 5.1 (CellTypeEnum getCellTypeEnum() renamed to getCellType()):\r\n\r\n    private boolean checkIfRowIsEmpty(Row row) {\r\n        if (row == null) {\r\n            return true;\r\n        }\r\n        if (row.getLastCellNum() &lt;= 0) {\r\n            return true;\r\n        }\r\n        for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\r\n            Cell cell = row.getCell(cellNum);\r\n            if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n","title":"How to determine empty row?","body":"<p>The row iterator returns only rows that contain data, however if they are completely empty then iterating by row index, <code>getRow(index)</code>  returns <code>null</code></p>\n<p>Solution:</p>\n<p>Up to POI version 3.14 (thanks to Sergii Lisnychyi):</p>\n<pre><code>private boolean checkIfRowIsEmpty(Row row) {\n    if (row == null) {\n        return true;\n    }\n    if (row.getLastCellNum() &lt;= 0) {\n        return true;\n    }\n    for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\n        Cell cell = row.getCell(cellNum);\n        if (cell != null &amp;&amp; cell.getCellType() != Cell.CELL_TYPE_BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>From POI version 3.15 to 4.2 (<code>int getCellType()</code> is deprecated):</p>\n<pre><code>    private boolean checkIfRowIsEmpty(Row row) {\n    if (row == null) {\n        return true;\n    }\n    if (row.getLastCellNum() &lt;= 0) {\n        return true;\n    }\n    for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\n        Cell cell = row.getCell(cellNum);\n        if (cell != null &amp;&amp; cell.getCellTypeEnum() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>From POI version 4 (<code>CellTypeEnum getCellTypeEnum()</code> will return the Enum not int):</p>\n<pre><code>private boolean checkIfRowIsEmpty(Row row) {\n    if (row == null) {\n        return true;\n    }\n    if (row.getLastCellNum() &lt;= 0) {\n        return true;\n    }\n    for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\n        Cell cell = row.getCell(cellNum);\n        if (cell != null &amp;&amp; cell.getCellTypeEnum() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>From POI version 5.1 (CellTypeEnum getCellTypeEnum() renamed to getCellType()):</p>\n<pre><code>private boolean checkIfRowIsEmpty(Row row) {\n    if (row == null) {\n        return true;\n    }\n    if (row.getLastCellNum() &lt;= 0) {\n        return true;\n    }\n    for (int cellNum = row.getFirstCellNum(); cellNum &lt; row.getLastCellNum(); cellNum++) {\n        Cell cell = row.getCell(cellNum);\n        if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK &amp;&amp; StringUtils.isNotBlank(cell.toString())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10360314,"reputation":19,"user_id":7641005,"display_name":"beginnerCoder"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1488372035,"creation_date":1488368004,"answer_id":42530619,"question_id":12217047,"body_markdown":"try using if(iterator.hasNext)\r\n\r\n    Row nextRow = null;\r\n    Cell nextCell = null;\r\n    Iterator&lt;Row&gt; iterator = firstSheet.rowIterator();\r\n    if(iterator.hasNext) {\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }","title":"How to determine empty row?","body":"<p>try using if(iterator.hasNext)</p>\n\n<pre><code>Row nextRow = null;\nCell nextCell = null;\nIterator&lt;Row&gt; iterator = firstSheet.rowIterator();\nif(iterator.hasNext) {\n    return true;\n}\nelse {\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14540892,"reputation":1111,"user_id":10502646,"display_name":"snmaddula"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547878326,"creation_date":1547878326,"answer_id":54264558,"question_id":12217047,"body_markdown":"**If you are using apache-poi [4+]:**\r\n\r\nThen the below method works for you. As the other methods suggested did not work for me, I had to do it this way.\r\n\r\n    public static boolean isRowEmpty(Row row) {\r\n        boolean isEmpty = true;\r\n\t\tDataFormatter dataFormatter = new DataFormatter();\r\n\t\tif(row != null) {\r\n\t\t\tfor(Cell cell: row) {\r\n\t\t\t\tif(dataFormatter.formatCellValue(cell).trim().length() &gt; 0) {\r\n\t\t\t\t\tisEmpty = false;\r\n                    break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isEmpty;\r\n\t}\r\n\r\n\r\nThe method `dataFormatter.formatCellValue(cell)` would return `&quot;&quot;`, an `empty / ZERO length string` when the cell is either `null` or `BLANK`.\r\n\r\nThe import statements for your reference:\r\n\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    \r\n\r\nHope this helps!","title":"How to determine empty row?","body":"<p><strong>If you are using apache-poi [4+]:</strong></p>\n\n<p>Then the below method works for you. As the other methods suggested did not work for me, I had to do it this way.</p>\n\n<pre><code>public static boolean isRowEmpty(Row row) {\n    boolean isEmpty = true;\n    DataFormatter dataFormatter = new DataFormatter();\n    if(row != null) {\n        for(Cell cell: row) {\n            if(dataFormatter.formatCellValue(cell).trim().length() &gt; 0) {\n                isEmpty = false;\n                break;\n            }\n        }\n    }\n    return isEmpty;\n}\n</code></pre>\n\n<p>The method <code>dataFormatter.formatCellValue(cell)</code> would return <code>\"\"</code>, an <code>empty / ZERO length string</code> when the cell is either <code>null</code> or <code>BLANK</code>.</p>\n\n<p>The import statements for your reference:</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Cell;\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":10011132,"reputation":29,"user_id":7403965,"display_name":"Gangatharan Arumugam"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1558089914,"creation_date":1558089914,"answer_id":56184848,"question_id":12217047,"body_markdown":"\tboolean isEmptyRow(Row row) {\r\n\t\tboolean isEmpty=true;\r\n\t\tString data=&quot;&quot;;\r\n\t\tfor(Cell cell:row) {\r\n\t\t\tdata=data.concat(cell.getStringCellValue());\r\n\t\t}\r\n\t\tif(!data.trim().isEmpty()) {\r\n\t\t\tisEmpty=false;\r\n\t\t}\r\n\t\treturn isEmpty;\r\n\t}","title":"How to determine empty row?","body":"<pre><code>boolean isEmptyRow(Row row) {\n    boolean isEmpty=true;\n    String data=\"\";\n    for(Cell cell:row) {\n        data=data.concat(cell.getStringCellValue());\n    }\n    if(!data.trim().isEmpty()) {\n        isEmpty=false;\n    }\n    return isEmpty;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1323092,"reputation":21,"user_id":8503591,"display_name":"Alex IP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621386111,"creation_date":1621338069,"answer_id":67585452,"question_id":12217047,"body_markdown":"**Row == null** is work in my case.\r\n\r\n    int total_row = mySheet.getLastRowNum();\r\n    int current_row = 0;\r\n    HSSFRow hssf_Row;\r\n\r\n    while (current_row &lt;= total_row) {\r\n        hssf_Row = mySheet.getRow(current_row);\r\n        if (hssf_Row == null) Log.d(&quot;empty row&quot;,&quot;row=&quot; + String.valueOf(current_row));\r\n        current_row++;\r\n    }","title":"How to determine empty row?","body":"<p><strong>Row == null</strong> is work in my case.</p>\n<pre><code>int total_row = mySheet.getLastRowNum();\nint current_row = 0;\nHSSFRow hssf_Row;\n\nwhile (current_row &lt;= total_row) {\n    hssf_Row = mySheet.getRow(current_row);\n    if (hssf_Row == null) Log.d(&quot;empty row&quot;,&quot;row=&quot; + String.valueOf(current_row));\n    current_row++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6738627,"reputation":11,"user_id":5192501,"display_name":"Darshan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652868730,"creation_date":1652868730,"answer_id":72287221,"question_id":12217047,"body_markdown":"you could also use ```row.cellIterator()``` method which returns a iterator of the row containing all the cells.\r\n\r\nIf the row is blank\r\n```Iterators.size(row.cellIterator())``` would be zero","title":"How to determine empty row?","body":"<p>you could also use <code>row.cellIterator()</code> method which returns a iterator of the row containing all the cells.</p>\n<p>If the row is blank\n<code>Iterators.size(row.cellIterator())</code> would be zero</p>\n"},{"tags":[],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693504554,"creation_date":1693504554,"answer_id":77018249,"question_id":12217047,"body_markdown":"At least as of `poi-ooxm 5.2.3` it seems like you can do:\r\n\r\n\r\n```Java\r\nfor (Row row : sheet) {\r\n\tif (row.getLastCellNum() == -1) {\r\n\t\tcontinue;\r\n\t}\r\n\r\n\t//do processing\r\n}\r\n```\r\n\r\nThis would not check for empty text etc, you would probably want @EpicPandaForce&#39;s robust answer.\r\nBut for the case where someone on your team added a bunch of blank rows, this seems to be all you need.","title":"How to determine empty row?","body":"<p>At least as of <code>poi-ooxm 5.2.3</code> it seems like you can do:</p>\n<pre><code>for (Row row : sheet) {\n    if (row.getLastCellNum() == -1) {\n        continue;\n    }\n\n    //do processing\n}\n</code></pre>\n<p>This would not check for empty text etc, you would probably want @EpicPandaForce's robust answer.\nBut for the case where someone on your team added a bunch of blank rows, this seems to be all you need.</p>\n"}],"owner":{"account_id":558774,"reputation":20013,"user_id":921193,"accept_rate":62,"display_name":"WelcomeTo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108828,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":12,"score":46,"last_activity_date":1693504554,"creation_date":1346422044,"question_id":12217047,"body_markdown":"How I can determine empty rows in .xls documents using Apache POI? ","title":"How to determine empty row?","body":"<p>How I can determine empty rows in .xls documents using Apache POI? </p>\n"},{"tags":["java","soap","jaxb","jax-ws","xxe"],"comments":[{"owner":{"account_id":12888608,"reputation":35,"user_id":9321296,"display_name":"Kunu"},"score":0,"creation_date":1693504482,"post_id":76993257,"comment_id":135773480,"body_markdown":"Waiting for a answer...","body":"Waiting for a answer..."}],"owner":{"account_id":12888608,"reputation":35,"user_id":9321296,"display_name":"Kunu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693504449,"creation_date":1693229431,"question_id":76993257,"body_markdown":"I want to disallow XML external entity attack (XXE attack) on SOAP Request , When consumer team sending a Soap call to us, may they can replacing the XML data with a malicious external entity that references the server’s file /etc/passwd.\r\n```\r\n&lt;!DOCTYPE foo [ &lt;!ENTITY xxe SYSTEM &quot;file:///etc/passwd&quot;&gt; ]&gt;\r\n```\r\nI want to Disallow any DTD coming on the soap request, please give some idea how I can I resolve this.\r\n\r\nSome tutorial its saying at the time of parsing or unmarshalling we an add some flag to true/false, but in this soap request case we are not doing any parsing logic, directly request reaching to service class.\r\n\r\nAs per my knowledge soap request directly reaching to the Service class , then where and what I have to write to disallow the DTD.\r\n\r\nI am using JaxWS-Spring jar,apache-CFX 2.7 and Jaxb for generating my SOAP Webservice API.","title":"How to prevent XML external entity attack (XXE attack) on SOAP Request(Jaxws-spring) Webservice","body":"<p>I want to disallow XML external entity attack (XXE attack) on SOAP Request , When consumer team sending a Soap call to us, may they can replacing the XML data with a malicious external entity that references the server’s file /etc/passwd.</p>\n<pre><code>&lt;!DOCTYPE foo [ &lt;!ENTITY xxe SYSTEM &quot;file:///etc/passwd&quot;&gt; ]&gt;\n</code></pre>\n<p>I want to Disallow any DTD coming on the soap request, please give some idea how I can I resolve this.</p>\n<p>Some tutorial its saying at the time of parsing or unmarshalling we an add some flag to true/false, but in this soap request case we are not doing any parsing logic, directly request reaching to service class.</p>\n<p>As per my knowledge soap request directly reaching to the Service class , then where and what I have to write to disallow the DTD.</p>\n<p>I am using JaxWS-Spring jar,apache-CFX 2.7 and Jaxb for generating my SOAP Webservice API.</p>\n"},{"tags":["java","docker","dns","localhost","containers"],"comments":[{"owner":{"account_id":9420,"reputation":4013,"user_id":17404,"accept_rate":87,"display_name":"Shoan"},"score":0,"creation_date":1536986162,"post_id":52339884,"comment_id":91629929,"body_markdown":"If you insist that it has to be localhost, why not just hard code it?","body":"If you insist that it has to be localhost, why not just hard code it?"}],"answers":[{"tags":[],"owner":{"account_id":8321041,"reputation":81,"user_id":6252743,"accept_rate":0,"display_name":"Merv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553240406,"creation_date":1553240406,"answer_id":55294923,"question_id":52339884,"body_markdown":"Let&#39;s use this sample code to validate the same...\r\n\r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    public class Util {\r\n    public static String getHostName() {\r\n        String hostName = &quot;&quot;;\r\n        try {\r\n            InetAddress inetAddress = InetAddress.getLocalHost();\r\n            hostName = inetAddress.getHostName();\r\n        } catch (UnknownHostException e) {\r\n\r\n        }\r\n        return hostName;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getHostName());\r\n    }\r\n}\r\n\r\nLet&#39;s assume that you are running a docker container in a Box name `BOX1`\r\n\r\nand the docker containerId  = 164f1347533a...\r\n\r\nThis will print `164f1347533a` as the Hostname.\r\n\r\nTo get `BOX1`, you will have to pass --hostname=BOX1 in the startup command.","title":"how to return &quot;localhost&quot; from InetAddress.getLocalHost().getHostName() in docker container","body":"<p>Let's use this sample code to validate the same...</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\npublic class Util {\npublic static String getHostName() {\n    String hostName = \"\";\n    try {\n        InetAddress inetAddress = InetAddress.getLocalHost();\n        hostName = inetAddress.getHostName();\n    } catch (UnknownHostException e) {\n\n    }\n    return hostName;\n}\n\npublic static void main(String[] args) {\n    System.out.println(getHostName());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Let's assume that you are running a docker container in a Box name <code>BOX1</code></p>\n\n<p>and the docker containerId  = 164f1347533a...</p>\n\n<p>This will print <code>164f1347533a</code> as the Hostname.</p>\n\n<p>To get <code>BOX1</code>, you will have to pass --hostname=BOX1 in the startup command.</p>\n"}],"owner":{"account_id":1989326,"reputation":1689,"user_id":1783732,"accept_rate":39,"display_name":"user1783732"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693504272,"creation_date":1536963754,"question_id":52339884,"body_markdown":"In my docker container (Java application), the call to `InetAddress.getLocalHost().getHostName()` returns the same name we gave in `docker run --name &#39;myserver&#39;`.  \r\n\r\nIs there a way to let `InetAddress.getLocalHost().getHostName()` return &quot;localhost&quot; in Java code inside the docker container?  \r\n\r\nMy /etc/hosts in the docker container looks like this:\r\n```\r\n127.0.0.1\tlocalhost\r\n::1\tlocalhost ip6-localhost ip6-loopback\r\n&lt;snip&gt;\r\n172.17.0.5\tmyserver\r\n```","title":"how to return &quot;localhost&quot; from InetAddress.getLocalHost().getHostName() in docker container","body":"<p>In my docker container (Java application), the call to <code>InetAddress.getLocalHost().getHostName()</code> returns the same name we gave in <code>docker run --name 'myserver'</code>.  </p>\n\n<p>Is there a way to let <code>InetAddress.getLocalHost().getHostName()</code> return \"localhost\" in Java code inside the docker container?  </p>\n\n<p>My /etc/hosts in the docker container looks like this:\n<code>\n127.0.0.1   localhost\n::1 localhost ip6-localhost ip6-loopback\n&lt;snip&gt;\n172.17.0.5  myserver\n</code></p>\n"},{"tags":["java","cobol","jrecord"],"answers":[{"tags":[],"owner":{"account_id":6494427,"reputation":6518,"user_id":5027456,"accept_rate":70,"display_name":"Simon Sobisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693258749,"creation_date":1693258396,"answer_id":76996128,"question_id":76996027,"body_markdown":"From looking at the code https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/schema/CobolSchemaReader.java#L138-L141 - just use\r\n\r\n```java\r\nCobolSchemaReader reader = CobolSchemaReader.newCobolSchemaReader(&quot;test.cbl&quot;);\r\nCobolSchemaDetails schemaDetails = reader.getCobolSchemaDetails();\r\n```\r\n\r\nwhich is also [used that way in its test programs](https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/zTest/schema/TstArrayChecks.java#L274-L276).\r\n\r\nExplanation: the reader only `implements implements ISchemaIOBuilder`, not the `ICobolSchemaReader` - for whatever reason; but this object does have a `getCobolSchemaDetails()` method.\r\n\r\nNote: for questions on this library you possibly want to check [its issue tracker](https://github.com/bmTas/JRecord/issues).","title":"Using JRccord to access COBOL schema","body":"<p>From looking at the code <a href=\"https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/schema/CobolSchemaReader.java#L138-L141\" rel=\"nofollow noreferrer\">https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/schema/CobolSchemaReader.java#L138-L141</a> - just use</p>\n<pre class=\"lang-java prettyprint-override\"><code>CobolSchemaReader reader = CobolSchemaReader.newCobolSchemaReader(&quot;test.cbl&quot;);\nCobolSchemaDetails schemaDetails = reader.getCobolSchemaDetails();\n</code></pre>\n<p>which is also <a href=\"https://github.com/bmTas/JRecord/blob/a4b9d40ca525cc809588cf80fa592809fa2799f3/Source/JRecord_Project/JRecord/src/main/java/net/sf/JRecord/zTest/schema/TstArrayChecks.java#L274-L276\" rel=\"nofollow noreferrer\">used that way in its test programs</a>.</p>\n<p>Explanation: the reader only <code>implements implements ISchemaIOBuilder</code>, not the <code>ICobolSchemaReader</code> - for whatever reason; but this object does have a <code>getCobolSchemaDetails()</code> method.</p>\n<p>Note: for questions on this library you possibly want to check <a href=\"https://github.com/bmTas/JRecord/issues\" rel=\"nofollow noreferrer\">its issue tracker</a>.</p>\n"},{"tags":[],"owner":{"account_id":1647733,"reputation":1777,"user_id":1518927,"accept_rate":25,"display_name":"Valerie R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693503252,"creation_date":1693503252,"answer_id":77018132,"question_id":76996027,"body_markdown":"After trying a few different things, I found an approach that seems to work: \r\n\r\n     IIOBuilder iob = JRecordInterface1.COBOL\r\n                                       .newIOBuilder(&quot;test.cbl&quot;)\r\n                                       .setFileOrganization(Constants.IO_FIXED_LENGTH_RECORDS)\r\n                                       .setFont(&quot;cp037&quot;)\r\n   \t                                   .setDialect(ICopybookDialects.FMT_MAINFRAME);\r\n     LayoutDetail ld = iob.getLayout();\t\t\t\t\r\n     String [] fields = ld.getFieldDescriptions(0, 0);\r\n     for (int i = 0; i &lt; fields.length; i++)\r\n     {\r\n        IFieldDetail fd = ld.getField(0, i);\r\n        System.out.println(&quot;Field #&quot; + i + &quot; = &quot; + fd.getGroupName() + fields[i] + \r\n                           &quot;, Len = &quot; + fd.getLen() + \r\n                           &quot;, Type = &quot; + fd.getType() + \r\n                           &quot;, Decimal &quot; + fd.getDecimal());\r\n     }\r\n\r\nThere&#39;s more to do - I notice if I define a field in the copybook as an array, there doesn&#39;t seem to be an indicator in the IFieldDetail telling me that. But at least I feel like I&#39;m on the right track now.","title":"Using JRccord to access COBOL schema","body":"<p>After trying a few different things, I found an approach that seems to work:</p>\n<pre><code> IIOBuilder iob = JRecordInterface1.COBOL\n                                   .newIOBuilder(&quot;test.cbl&quot;)\n                                   .setFileOrganization(Constants.IO_FIXED_LENGTH_RECORDS)\n                                   .setFont(&quot;cp037&quot;)\n                                   .setDialect(ICopybookDialects.FMT_MAINFRAME);\n LayoutDetail ld = iob.getLayout();             \n String [] fields = ld.getFieldDescriptions(0, 0);\n for (int i = 0; i &lt; fields.length; i++)\n {\n    IFieldDetail fd = ld.getField(0, i);\n    System.out.println(&quot;Field #&quot; + i + &quot; = &quot; + fd.getGroupName() + fields[i] + \n                       &quot;, Len = &quot; + fd.getLen() + \n                       &quot;, Type = &quot; + fd.getType() + \n                       &quot;, Decimal &quot; + fd.getDecimal());\n }\n</code></pre>\n<p>There's more to do - I notice if I define a field in the copybook as an array, there doesn't seem to be an indicator in the IFieldDetail telling me that. But at least I feel like I'm on the right track now.</p>\n"}],"owner":{"account_id":1647733,"reputation":1777,"user_id":1518927,"accept_rate":25,"display_name":"Valerie R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77018132,"answer_count":2,"score":0,"last_activity_date":1693503252,"creation_date":1693257087,"question_id":76996027,"body_markdown":"I&#39;m trying to use JRecord version 0.93 to parse a COBOL copybook to understand the individual fields present in the record. I&#39;m a complete newbie to JRecord and I&#39;m struggling to get what seems like a simple task done. \r\n\r\nIn the file &quot;test.cbl&quot;, I have this: \r\n\r\n    01 RECORD-DATA.\r\n        05 KEY-FIELD PIC X(8).\r\n        05 DATA-FIELD PIC X(72). \r\n\r\nI hope to get a list of the field names, their data types and lengths. \r\n\r\nI found the beginnings of an example (here https://sourceforge.net/p/jrecord/discussion/678634/thread/176dcea6): \r\n\r\n\r\n    ICobolSchemaReader reader = CobolSchemaReader.newCobolSchemaReader(&quot;test.cbl&quot;);\r\n    CobolSchemaDetails schemaDetails = reader.getCobolSchemaDetails();\r\n\r\nUnfortunately, while the above compiles cleanly, it doesn&#39;t seem to work:\r\n\r\n    java.lang.ClassCastException: net.sf.JRecord.schema.CobolSchemaReader incompatible with net.sf.JRecord.schema.ICobolSchemaReader\r\n    \tat net.sf.JRecord.schema.CobolSchemaReader.newCobolSchemaReader(CobolSchemaReader.java:272)\r\n    \tat TestXform.main(TestJReader.java:56)\r\n\r\nHas anyone done this sort of thing before? Any better approach or examples online that I might learn from? \r\n","title":"Using JRccord to access COBOL schema","body":"<p>I'm trying to use JRecord version 0.93 to parse a COBOL copybook to understand the individual fields present in the record. I'm a complete newbie to JRecord and I'm struggling to get what seems like a simple task done.</p>\n<p>In the file &quot;test.cbl&quot;, I have this:</p>\n<pre><code>01 RECORD-DATA.\n    05 KEY-FIELD PIC X(8).\n    05 DATA-FIELD PIC X(72). \n</code></pre>\n<p>I hope to get a list of the field names, their data types and lengths.</p>\n<p>I found the beginnings of an example (here <a href=\"https://sourceforge.net/p/jrecord/discussion/678634/thread/176dcea6\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/jrecord/discussion/678634/thread/176dcea6</a>):</p>\n<pre><code>ICobolSchemaReader reader = CobolSchemaReader.newCobolSchemaReader(&quot;test.cbl&quot;);\nCobolSchemaDetails schemaDetails = reader.getCobolSchemaDetails();\n</code></pre>\n<p>Unfortunately, while the above compiles cleanly, it doesn't seem to work:</p>\n<pre><code>java.lang.ClassCastException: net.sf.JRecord.schema.CobolSchemaReader incompatible with net.sf.JRecord.schema.ICobolSchemaReader\n    at net.sf.JRecord.schema.CobolSchemaReader.newCobolSchemaReader(CobolSchemaReader.java:272)\n    at TestXform.main(TestJReader.java:56)\n</code></pre>\n<p>Has anyone done this sort of thing before? Any better approach or examples online that I might learn from?</p>\n"},{"tags":["java","docker","jboss","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693502285,"creation_date":1693502285,"answer_id":77018033,"question_id":76977877,"body_markdown":"Please try adding `@ActivationConfigProperty(propertyName = &quot;useJNDI&quot;, propertyValue = &quot;false&quot;)`.","title":"MDB tries to find Destination property in JNDI instead of looking for the queue with that actual name when Java app and IBM MQ are run with Docker","body":"<p>Please try adding <code>@ActivationConfigProperty(propertyName = &quot;useJNDI&quot;, propertyValue = &quot;false&quot;)</code>.</p>\n"}],"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693502285,"creation_date":1692971704,"question_id":76977877,"body_markdown":"I have\r\n\r\n1) a Docker image providing a IBM MQ queue with the following Dockerfile:\r\n```\r\nFROM ibmcom/mq\r\n\r\nENV LICENSE=accept\r\nENV MQ_QMGR_NAME=QMGR\r\n\r\nCOPY config.mqsc /etc/mqm/\r\nCOPY setup.sh /etc/mqm/\r\nUSER root\r\nRUN chmod +x /etc/mqm/setup.sh\r\n\r\nEXPOSE 1414 9443\r\n\r\nCMD [&quot;/etc/mqm/setup.sh&quot;]\r\n```\r\nwith config.mqsc just defining my queue ```DEFINE QLOCAL(&#39;MY.TEST.QUEUE&#39;) REPLACE```\r\nand setup.sh being\r\n```\r\n#!/bin/bash\r\n\r\n# Apply configuration\r\nrunmqsc &lt; /etc/mqm/config.mqsc\r\n\r\n# Start MQ server\r\nQMGR_NAME=$MQ_QMGR_NAME\r\nstrmqm $QMGR_NAME\r\n```\r\n2) a Java EE application that has a MessageDriven Bean connected to that queue. The Dockerfile looks like that:\r\n```\r\nFROM jboss/wildfly:latest\r\n\r\nENV WILDFLY_CONFIG=standalone-full.xml\r\nCMD [&quot;/opt/jboss/wildfly/bin/standalone.sh&quot;, &quot;-c&quot;, &quot;standalone-full.xml&quot;, &quot;-b&quot;, &quot;0.0.0.0&quot;]\r\nWORKDIR /app\r\n\r\nCOPY /target/my-app.jar /opt/jboss/wildfly/standalone/deployments/\r\n```\r\nI configured my MDBs like that:\r\n```\r\n@MessageDriven(activationConfig = {\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;My.Test.Queue&quot;)\r\n})\r\n```\r\nI started both Docker containers on the same network:\r\n```\r\ndocker network create testnetwork\r\ndocker run --network=testnetwork -d -p 8080:8080 --name app-test-container app-test\r\ndocker run --network=testnetwork -d -p 1414:1414 -p 9443:9443 --name queue-test-container queue-test\r\n```\r\n\r\nHowever, I&#39;m getting the following error:\r\n```\r\nAMQ153005: Unable to retrieve &quot;MY.TEST.QUEUE&quot; from JNDI. \r\nCreating a new &quot;javax.jms.Queue&quot; named &quot;jms.queue.MY.TEST.QUEUE&quot; to be used by the MDB.\r\n```\r\n\r\nSo for some reason, the MDB seems to try looking for a JNDI resource instead of the queue of the actual provided name. Why is that the case?","title":"MDB tries to find Destination property in JNDI instead of looking for the queue with that actual name when Java app and IBM MQ are run with Docker","body":"<p>I have</p>\n<ol>\n<li>a Docker image providing a IBM MQ queue with the following Dockerfile:</li>\n</ol>\n<pre><code>FROM ibmcom/mq\n\nENV LICENSE=accept\nENV MQ_QMGR_NAME=QMGR\n\nCOPY config.mqsc /etc/mqm/\nCOPY setup.sh /etc/mqm/\nUSER root\nRUN chmod +x /etc/mqm/setup.sh\n\nEXPOSE 1414 9443\n\nCMD [&quot;/etc/mqm/setup.sh&quot;]\n</code></pre>\n<p>with config.mqsc just defining my queue <code>DEFINE QLOCAL('MY.TEST.QUEUE') REPLACE</code>\nand setup.sh being</p>\n<pre><code>#!/bin/bash\n\n# Apply configuration\nrunmqsc &lt; /etc/mqm/config.mqsc\n\n# Start MQ server\nQMGR_NAME=$MQ_QMGR_NAME\nstrmqm $QMGR_NAME\n</code></pre>\n<ol start=\"2\">\n<li>a Java EE application that has a MessageDriven Bean connected to that queue. The Dockerfile looks like that:</li>\n</ol>\n<pre><code>FROM jboss/wildfly:latest\n\nENV WILDFLY_CONFIG=standalone-full.xml\nCMD [&quot;/opt/jboss/wildfly/bin/standalone.sh&quot;, &quot;-c&quot;, &quot;standalone-full.xml&quot;, &quot;-b&quot;, &quot;0.0.0.0&quot;]\nWORKDIR /app\n\nCOPY /target/my-app.jar /opt/jboss/wildfly/standalone/deployments/\n</code></pre>\n<p>I configured my MDBs like that:</p>\n<pre><code>@MessageDriven(activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;My.Test.Queue&quot;)\n})\n</code></pre>\n<p>I started both Docker containers on the same network:</p>\n<pre><code>docker network create testnetwork\ndocker run --network=testnetwork -d -p 8080:8080 --name app-test-container app-test\ndocker run --network=testnetwork -d -p 1414:1414 -p 9443:9443 --name queue-test-container queue-test\n</code></pre>\n<p>However, I'm getting the following error:</p>\n<pre><code>AMQ153005: Unable to retrieve &quot;MY.TEST.QUEUE&quot; from JNDI. \nCreating a new &quot;javax.jms.Queue&quot; named &quot;jms.queue.MY.TEST.QUEUE&quot; to be used by the MDB.\n</code></pre>\n<p>So for some reason, the MDB seems to try looking for a JNDI resource instead of the queue of the actual provided name. Why is that the case?</p>\n"},{"tags":["java","spring","hibernate","h2","crud-repository"],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693501672,"creation_date":1693501672,"answer_id":77017961,"question_id":77017882,"body_markdown":"You need to declare the `id` column as an identity column:\r\n```lang-sql\r\nid BIGINT GENERATED BY DEFAULT AS IDENTITY\r\n```\r\nIn MySQL or MariaDB compatibility modes of H2 you can use non-stantard\r\n```lang-sql\r\n`id` BIGINT AUTO_INCREMENT\r\n```\r\ninstead.","title":"Hibernate attempting to insert null id in CrudRepository","body":"<p>You need to declare the <code>id</code> column as an identity column:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>id BIGINT GENERATED BY DEFAULT AS IDENTITY\n</code></pre>\n<p>In MySQL or MariaDB compatibility modes of H2 you can use non-stantard</p>\n<pre class=\"lang-sql prettyprint-override\"><code>`id` BIGINT AUTO_INCREMENT\n</code></pre>\n<p>instead.</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77017961,"answer_count":1,"score":1,"last_activity_date":1693501672,"creation_date":1693500953,"question_id":77017882,"body_markdown":"I&#39;m doing some testing on a spring application using an in-memory H2 database. The database has a &#39;message&#39; table with the schema:\r\n\r\n    CREATE TABLE `message` (\r\n      `id` bigint(20) NOT NULL,\r\n      `body` CLOB,\r\n      `channels` varchar(500) NOT NULL,\r\n      `end_date` datetime DEFAULT NULL,\r\n      `start` datetime DEFAULT NULL,\r\n      `status` varchar(120) DEFAULT NULL,\r\n      `title` varchar(120) DEFAULT NULL,\r\n      `approved` bit(1) DEFAULT NULL,\r\n      `approver_name` varchar(150) DEFAULT NULL,\r\n      `approver_sub` varchar(120) DEFAULT NULL,\r\n      `create_date` datetime DEFAULT NULL,\r\n      `creator_name` varchar(150) DEFAULT NULL,\r\n      `creator_sub` varchar(120) DEFAULT NULL,\r\n      `modify_date` datetime DEFAULT NULL,\r\n      `affiliations` varchar(500) NOT NULL,\r\n      `html` bit(1) NOT NULL,\r\n      `reject_reason` varchar(255) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    )\r\n\r\nand an entity class:\r\n\r\n    @Entity\r\n    public class Message {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\r\n    \tprivate long id;\r\n    \r\n    \t@Column(name = &quot;title&quot;, length = 120, nullable = true)\r\n    \tprivate String title;\r\n    \r\n    \t@Lob\r\n    \t@Column(name = &quot;body&quot;, nullable = true)\r\n    \tprivate String body;\r\n    ...\r\n    }\r\n\r\nIn my code, I&#39;m trying to insert a new entry into the message table. I have a service method like:\r\n\r\n    public Message saveMessage(MessageInput messageInput, LocalDateTime start, LocalDateTime end, String status, String requestor) {\r\n    \t\tMessage message = new Message();\r\n            message.setTitle(messageInput.getMessage_title());\r\n    \t\tmessage.setBody(messageInput.getMessage_body());\r\n            messageRepository.save(message);\r\n    } \r\n\r\nwhere messageRepository is a org.springframework.data.repository.CrudRepository\r\n\r\nI turned on logging and when I run my code I get the following log messages:\r\n\r\n    Hibernate: insert into message (id, affiliations, approved, approver_name, approver_sub, body, channels, create_date, creator_name, creator_sub, end_date, html, modify_date, reject_reason, start, status, title) values (default, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [[Employee, Staff]]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [2] as [BOOLEAN] - [false]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [3] as [VARCHAR] - [null]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [4] as [VARCHAR] - [null]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [5] as [CLOB] - [the test body]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [6] as [VARCHAR] - [[57823ff6-e262-4201-8766-84cd17dfe116]]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [7] as [TIMESTAMP] - [2023-08-31T12:30:03.304774]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [8] as [VARCHAR] - [ptb014]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [9] as [VARCHAR] - [ptb014]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [10] as [TIMESTAMP] - [2023-09-07T12:30:03.268680]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [11] as [BOOLEAN] - [false]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [12] as [TIMESTAMP] - [2023-08-31T12:30:03.304793]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [13] as [VARCHAR] - [null]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [14] as [TIMESTAMP] - [2023-08-31T12:30:03.268680]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [15] as [VARCHAR] - [MODERATOR_APPROVED]\r\n    2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [16] as [VARCHAR] - [A Title]\r\n    2023-08-31 12:30:03 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - NULL not allowed for column &quot;ID&quot;; SQL statement:\r\n    insert into message (id, affiliations, approved, approver_name, approver_sub, body, channels, create_date, creator_name, creator_sub, end_date, html, modify_date, reject_reason, start, status, title) values (default, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-220]\r\n\r\n\r\nLooking at the logs, it seems that the insert is including an id parameter, but since the database is expecting to generate that value, it is getting passed NULL. I did some research, and most of the suggestions I have seen suggest either setting the GenerationType to IDENTITY and or changing the **spring.jpa.hibernate.ddl-auto** configuration to &#39;update&#39;. I tried both and I&#39;m still getting the same results. What do I need to do to get identity generation to work?\r\n\r\n\r\n","title":"Hibernate attempting to insert null id in CrudRepository","body":"<p>I'm doing some testing on a spring application using an in-memory H2 database. The database has a 'message' table with the schema:</p>\n<pre><code>CREATE TABLE `message` (\n  `id` bigint(20) NOT NULL,\n  `body` CLOB,\n  `channels` varchar(500) NOT NULL,\n  `end_date` datetime DEFAULT NULL,\n  `start` datetime DEFAULT NULL,\n  `status` varchar(120) DEFAULT NULL,\n  `title` varchar(120) DEFAULT NULL,\n  `approved` bit(1) DEFAULT NULL,\n  `approver_name` varchar(150) DEFAULT NULL,\n  `approver_sub` varchar(120) DEFAULT NULL,\n  `create_date` datetime DEFAULT NULL,\n  `creator_name` varchar(150) DEFAULT NULL,\n  `creator_sub` varchar(120) DEFAULT NULL,\n  `modify_date` datetime DEFAULT NULL,\n  `affiliations` varchar(500) NOT NULL,\n  `html` bit(1) NOT NULL,\n  `reject_reason` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n)\n</code></pre>\n<p>and an entity class:</p>\n<pre><code>@Entity\npublic class Message {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\n    private long id;\n\n    @Column(name = &quot;title&quot;, length = 120, nullable = true)\n    private String title;\n\n    @Lob\n    @Column(name = &quot;body&quot;, nullable = true)\n    private String body;\n...\n}\n</code></pre>\n<p>In my code, I'm trying to insert a new entry into the message table. I have a service method like:</p>\n<pre><code>public Message saveMessage(MessageInput messageInput, LocalDateTime start, LocalDateTime end, String status, String requestor) {\n        Message message = new Message();\n        message.setTitle(messageInput.getMessage_title());\n        message.setBody(messageInput.getMessage_body());\n        messageRepository.save(message);\n} \n</code></pre>\n<p>where messageRepository is a org.springframework.data.repository.CrudRepository</p>\n<p>I turned on logging and when I run my code I get the following log messages:</p>\n<pre><code>Hibernate: insert into message (id, affiliations, approved, approver_name, approver_sub, body, channels, create_date, creator_name, creator_sub, end_date, html, modify_date, reject_reason, start, status, title) values (default, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [[Employee, Staff]]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [2] as [BOOLEAN] - [false]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [3] as [VARCHAR] - [null]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [4] as [VARCHAR] - [null]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [5] as [CLOB] - [the test body]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [6] as [VARCHAR] - [[57823ff6-e262-4201-8766-84cd17dfe116]]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [7] as [TIMESTAMP] - [2023-08-31T12:30:03.304774]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [8] as [VARCHAR] - [ptb014]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [9] as [VARCHAR] - [ptb014]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [10] as [TIMESTAMP] - [2023-09-07T12:30:03.268680]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [11] as [BOOLEAN] - [false]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [12] as [TIMESTAMP] - [2023-08-31T12:30:03.304793]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [13] as [VARCHAR] - [null]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [14] as [TIMESTAMP] - [2023-08-31T12:30:03.268680]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [15] as [VARCHAR] - [MODERATOR_APPROVED]\n2023-08-31 12:30:03 [main] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [16] as [VARCHAR] - [A Title]\n2023-08-31 12:30:03 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - NULL not allowed for column &quot;ID&quot;; SQL statement:\ninsert into message (id, affiliations, approved, approver_name, approver_sub, body, channels, create_date, creator_name, creator_sub, end_date, html, modify_date, reject_reason, start, status, title) values (default, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-220]\n</code></pre>\n<p>Looking at the logs, it seems that the insert is including an id parameter, but since the database is expecting to generate that value, it is getting passed NULL. I did some research, and most of the suggestions I have seen suggest either setting the GenerationType to IDENTITY and or changing the <strong>spring.jpa.hibernate.ddl-auto</strong> configuration to 'update'. I tried both and I'm still getting the same results. What do I need to do to get identity generation to work?</p>\n"},{"tags":["java","sql","base64","snowflake-cloud-data-platform","user-defined-functions"],"comments":[{"owner":{"account_id":132457,"reputation":2269,"user_id":333153,"display_name":"endo64"},"score":0,"creation_date":1633985532,"post_id":69532221,"comment_id":122901002,"body_markdown":"Doesn&#39;t `BASE64_DECODE_STRING` do what you want?","body":"Doesn&#39;t <code>BASE64_DECODE_STRING</code> do what you want?"},{"owner":{"account_id":15992848,"reputation":125,"user_id":11541558,"display_name":"NoobsterNoob"},"score":0,"creation_date":1633986155,"post_id":69532221,"comment_id":122901207,"body_markdown":"Thanks @endo64. That produces an ```Invalid UTF8 detected while decoding``` error on strings that work in bash.  Obviously I&#39;m using bash as a sanity check here, but there could be a few things I&#39;m overlooking.","body":"Thanks @endo64. That produces an <code>Invalid UTF8 detected while decoding</code> error on strings that work in bash.  Obviously I&#39;m using bash as a sanity check here, but there could be a few things I&#39;m overlooking."},{"owner":{"account_id":15992848,"reputation":125,"user_id":11541558,"display_name":"NoobsterNoob"},"score":0,"creation_date":1633988672,"post_id":69532221,"comment_id":122901852,"body_markdown":"For what it&#39;s worth, I&#39;ve also been able to unpack the json with a similar process in Python.  So as far as `snowflake-sql` I can&#39;t tell if I don&#39;t know what I&#39;m doing or it&#39;s not possible.","body":"For what it&#39;s worth, I&#39;ve also been able to unpack the json with a similar process in Python.  So as far as <code>snowflake-sql</code> I can&#39;t tell if I don&#39;t know what I&#39;m doing or it&#39;s not possible."},{"owner":{"account_id":17583009,"reputation":10289,"user_id":12756381,"display_name":"Greg Pavlik"},"score":0,"creation_date":1633992109,"post_id":69532221,"comment_id":122902567,"body_markdown":"The Snowflake uncompress function has the same available compression/decompression methods as the compress function. In the documentation for compress, it does not list gunzip: https://docs.snowflake.com/en/developer-guide/udf/javascript/udf-javascript-tabular-functions.html. You&#39;d have to use something external or a Java UDF with a gunzip library in the JAR file.","body":"The Snowflake uncompress function has the same available compression/decompression methods as the compress function. In the documentation for compress, it does not list gunzip: <a href=\"https://docs.snowflake.com/en/developer-guide/udf/javascript/udf-javascript-tabular-functions.html\" rel=\"nofollow noreferrer\">docs.snowflake.com/en/developer-guide/udf/javascript/&hellip;</a>. You&#39;d have to use something external or a Java UDF with a gunzip library in the JAR file."},{"owner":{"account_id":15992848,"reputation":125,"user_id":11541558,"display_name":"NoobsterNoob"},"score":0,"creation_date":1633992271,"post_id":69532221,"comment_id":122902590,"body_markdown":"Thanks Greg, I&#39;ll look into your suggestion.","body":"Thanks Greg, I&#39;ll look into your suggestion."}],"answers":[{"tags":[],"owner":{"account_id":45023,"reputation":55990,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634015064,"creation_date":1634015064,"answer_id":69535298,"question_id":69532221,"body_markdown":"This works:\r\n\r\n```sql\r\nselect udf_unzip(&#39;H4sIAH4TZWEAA8tIzcnJ5wIAIDA6NgYAAAA=&#39;);\r\n\r\n-- hello\r\n```\r\n\r\nif you define a Java UDF like this:\r\n\r\n```sql\r\ncreate or replace function udf_unzip(b64 string)\r\nreturns string\r\nlanguage java\r\nhandler=&#39;MyClass.unzip&#39;\r\nas\r\n$$\r\nimport java.util.zip.GZIPInputStream;\r\nimport java.util.Base64;\r\nimport java.io.*;\r\n\r\n    class MyClass {\r\n        public static String unzip(String b64) throws Exception {\r\n            byte[] bytes = Base64.getDecoder().decode(b64);\r\n            GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bytes));\r\n            InputStreamReader reader = new InputStreamReader(gis);\r\n            BufferedReader in = new BufferedReader(reader);\r\n            return in.readLine();\r\n        }\r\n    }\r\n$$;\r\n```\r\n\r\nNote that this sample UDF only returns the first line from the encoded string. You&#39;ll need to iterate over the BufferedReader to get the whole string:\r\n\r\n- https://stackoverflow.com/questions/309424/how-do-i-read-convert-an-inputstream-into-a-string-in-java","title":"Decompress base64 encoded, gzipped JSON","body":"<p>This works:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select udf_unzip('H4sIAH4TZWEAA8tIzcnJ5wIAIDA6NgYAAAA=');\n\n-- hello\n</code></pre>\n<p>if you define a Java UDF like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace function udf_unzip(b64 string)\nreturns string\nlanguage java\nhandler='MyClass.unzip'\nas\n$$\nimport java.util.zip.GZIPInputStream;\nimport java.util.Base64;\nimport java.io.*;\n\n    class MyClass {\n        public static String unzip(String b64) throws Exception {\n            byte[] bytes = Base64.getDecoder().decode(b64);\n            GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bytes));\n            InputStreamReader reader = new InputStreamReader(gis);\n            BufferedReader in = new BufferedReader(reader);\n            return in.readLine();\n        }\n    }\n$$;\n</code></pre>\n<p>Note that this sample UDF only returns the first line from the encoded string. You'll need to iterate over the BufferedReader to get the whole string:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/309424/how-do-i-read-convert-an-inputstream-into-a-string-in-java\">How do I read / convert an InputStream into a String in Java?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16554306,"reputation":1572,"user_id":11983601,"display_name":"George Pipis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693501633,"creation_date":1693501633,"answer_id":77017957,"question_id":69532221,"body_markdown":"You can use a Python UDF as follows:\r\n\r\n    create or replace function python_udf_unzip(s string)\r\n    returns string\r\n    language python\r\n    runtime_version = &#39;3.8&#39;\r\n    handler = &#39;udf_unzip&#39;\r\n    as\r\n    $$\r\n    def udf_unzip(x):\r\n        import gzip\r\n        import base64\r\n         \r\n        x = gzip.decompress(base64.b64decode(x)).decode(&#39;utf-8&#39;)\r\n         \r\n        return x\r\n    $$;\r\n\r\nAnd you can call it as:\r\n\r\n    select python_udf_unzip(&#39;H4sIAH4TZWEAA8tIzcnJ5wIAIDA6NgYAAAA=&#39;)\r\n\r\nAnd you get:\r\n\r\n    hello","title":"Decompress base64 encoded, gzipped JSON","body":"<p>You can use a Python UDF as follows:</p>\n<pre><code>create or replace function python_udf_unzip(s string)\nreturns string\nlanguage python\nruntime_version = '3.8'\nhandler = 'udf_unzip'\nas\n$$\ndef udf_unzip(x):\n    import gzip\n    import base64\n     \n    x = gzip.decompress(base64.b64decode(x)).decode('utf-8')\n     \n    return x\n$$;\n</code></pre>\n<p>And you can call it as:</p>\n<pre><code>select python_udf_unzip('H4sIAH4TZWEAA8tIzcnJ5wIAIDA6NgYAAAA=')\n</code></pre>\n<p>And you get:</p>\n<pre><code>hello\n</code></pre>\n"}],"owner":{"account_id":15992848,"reputation":125,"user_id":11541558,"display_name":"NoobsterNoob"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693501633,"creation_date":1633984602,"question_id":69532221,"body_markdown":"I&#39;ve got base64 encoded, gzipped json in a Snowflake binary column that I&#39;m trying to unpack.\r\n\r\nWith the query:\r\n\r\n    select\r\n        base64_encode(my_binary_data) as my_base64_string\r\n    from my_table\r\n\r\nI  get a base64 encoded string, which I can cut n&#39; paste into a bash script and pipe through:\r\n\r\n    echo $my_base64_string | base64 -d | gunzip\r\n\r\nand get valid results.  My question is, can I accomplish this through a query?  I&#39;ve tried some variations with ```decompress_string()```, but I can&#39;t figure it out.  Any suggestions?","title":"Decompress base64 encoded, gzipped JSON","body":"<p>I've got base64 encoded, gzipped json in a Snowflake binary column that I'm trying to unpack.</p>\n<p>With the query:</p>\n<pre><code>select\n    base64_encode(my_binary_data) as my_base64_string\nfrom my_table\n</code></pre>\n<p>I  get a base64 encoded string, which I can cut n' paste into a bash script and pipe through:</p>\n<pre><code>echo $my_base64_string | base64 -d | gunzip\n</code></pre>\n<p>and get valid results.  My question is, can I accomplish this through a query?  I've tried some variations with <code>decompress_string()</code>, but I can't figure it out.  Any suggestions?</p>\n"},{"tags":["java","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1498803004,"post_id":35277727,"comment_id":76659525,"body_markdown":"Did you get solution to this issue?","body":"Did you get solution to this issue?"}],"answers":[{"tags":[],"owner":{"account_id":8052672,"reputation":1,"user_id":6070733,"display_name":"Piotr Larysz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458305149,"creation_date":1458296101,"answer_id":36081690,"question_id":35277727,"body_markdown":"`@ControllerAdvice` component should be registered in Spring&#39;s context as any other component. Make sure Spring sees this component, e.q. by including it in `@ComponentScan` (Java Config) or in `&lt;context:component-scan/&gt;` (xml way). The preferred context to register it would be the Dispatcher Servlet&#39;s one.","title":"How to use RequestBodyAdvice","body":"<p><code>@ControllerAdvice</code> component should be registered in Spring's context as any other component. Make sure Spring sees this component, e.q. by including it in <code>@ComponentScan</code> (Java Config) or in <code>&lt;context:component-scan/&gt;</code> (xml way). The preferred context to register it would be the Dispatcher Servlet's one.</p>\n"},{"tags":[],"owner":{"account_id":312929,"reputation":1478,"user_id":627297,"accept_rate":50,"display_name":"alex.b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496994536,"creation_date":1496994536,"answer_id":44452208,"question_id":35277727,"body_markdown":"You should extend `WebMvcConfigurationSupport` directly for the more specific configuration (instead of `@EnableWebMvc` if you follow this approach).\r\n\r\nThen override this method `org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#createRequestMappingHandlerAdapter` and set your `RequestBodyAdvice` manually. \r\n\r\nThis should work","title":"How to use RequestBodyAdvice","body":"<p>You should extend <code>WebMvcConfigurationSupport</code> directly for the more specific configuration (instead of <code>@EnableWebMvc</code> if you follow this approach).</p>\n\n<p>Then override this method <code>org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport#createRequestMappingHandlerAdapter</code> and set your <code>RequestBodyAdvice</code> manually. </p>\n\n<p>This should work</p>\n"}],"owner":{"account_id":4166276,"reputation":1621,"user_id":5140458,"accept_rate":50,"display_name":"Vivek Sinha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8402,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693501355,"creation_date":1454959795,"question_id":35277727,"body_markdown":"    @ControllerAdvice\r\n    public class RequestBodyAdviceChain implements RequestBodyAdvice {\r\n    \r\n        @Override\r\n        public boolean supports(MethodParameter methodParameter, Type type,\r\n                Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public Object handleEmptyBody(Object o, HttpInputMessage httpInputMessage, MethodParameter methodParameter,\r\n                Type type, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\r\n            return o;\r\n        }\r\n    \r\n        @Override\r\n        public HttpInputMessage beforeBodyRead(HttpInputMessage httpInputMessage, MethodParameter methodParameter,\r\n                Type type, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) throws IOException {\r\n            return httpInputMessage;\r\n        }\r\n    \r\n        @Override\r\n        public Object afterBodyRead(Object o, HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type,\r\n                Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\r\n            return o;\r\n        }\r\n    }\r\n\r\nIdeally, flow should reach these function first and then go to controller but it&#39;s not working.\r\n\r\n","title":"How to use RequestBodyAdvice","body":"<pre><code>@ControllerAdvice\npublic class RequestBodyAdviceChain implements RequestBodyAdvice {\n\n    @Override\n    public boolean supports(MethodParameter methodParameter, Type type,\n            Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\n        return true;\n    }\n\n    @Override\n    public Object handleEmptyBody(Object o, HttpInputMessage httpInputMessage, MethodParameter methodParameter,\n            Type type, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\n        return o;\n    }\n\n    @Override\n    public HttpInputMessage beforeBodyRead(HttpInputMessage httpInputMessage, MethodParameter methodParameter,\n            Type type, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) throws IOException {\n        return httpInputMessage;\n    }\n\n    @Override\n    public Object afterBodyRead(Object o, HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type,\n            Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; aClass) {\n        return o;\n    }\n}\n</code></pre>\n\n<p>Ideally, flow should reach these function first and then go to controller but it's not working.</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2865984,"reputation":11,"user_id":2460301,"display_name":"IAMLOOKER50"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693244283,"creation_date":1693244283,"answer_id":76994939,"question_id":76994712,"body_markdown":"Just out of curiosity, try to using a different layout like LinearLayout and see if that helps.\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingLeft=&quot;16dp&quot;\r\n    android:paddingRight=&quot;16dp&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n\r\n\r\n\r\n ","title":"Android studio, design preview not working with neumorphism library","body":"<p>Just out of curiosity, try to using a different layout like LinearLayout and see if that helps.</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:paddingLeft=&quot;16dp&quot;\nandroid:paddingRight=&quot;16dp&quot;\nandroid:orientation=&quot;vertical&quot; &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24392358,"reputation":1,"user_id":18322169,"display_name":"Het Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693501238,"creation_date":1693501238,"answer_id":77017922,"question_id":76994712,"body_markdown":"I just found solution on github.\r\nThere is some bug in Dolphine version of Android.\r\nTo use neumorphism library, There are two options...\r\nEither write all the colors manually in colors.xml which required in this library.\r\nOr update your android studio to giraff or downgrade your android studio to Chipmunk.","title":"Android studio, design preview not working with neumorphism library","body":"<p>I just found solution on github.\nThere is some bug in Dolphine version of Android.\nTo use neumorphism library, There are two options...\nEither write all the colors manually in colors.xml which required in this library.\nOr update your android studio to giraff or downgrade your android studio to Chipmunk.</p>\n"}],"owner":{"account_id":24392358,"reputation":1,"user_id":18322169,"display_name":"Het Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017922,"answer_count":2,"score":0,"last_activity_date":1693501238,"creation_date":1693242039,"question_id":76994712,"body_markdown":"Whenever i used neumorphism library, design preview went completly blank, although i can drag and drop everything, just i am not able to see this...\r\n\r\n[enter image description here](https://i.stack.imgur.com/UOLfr.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/8I36I.png)\r\n\r\nI tried almost everything...","title":"Android studio, design preview not working with neumorphism library","body":"<p>Whenever i used neumorphism library, design preview went completly blank, although i can drag and drop everything, just i am not able to see this...</p>\n<p><a href=\"https://i.stack.imgur.com/UOLfr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/8I36I.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried almost everything...</p>\n"},{"tags":["java","maven","google-cloud-platform","google-cloud-storage"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1693337471,"post_id":77003149,"comment_id":135746780,"body_markdown":"On Stack Overflow, please [don&#39;t show pictures of text and code](https://overflow.tips/write-good-question/formatting-text-code#dont-use-screenshots-of-text). Copy the text into the question itself and format it so that it&#39;s easy to read, copy, and search. You can edit the question to correct this using the edit link at the bottom.","body":"On Stack Overflow, please <a href=\"https://overflow.tips/write-good-question/formatting-text-code#dont-use-screenshots-of-text\" rel=\"nofollow noreferrer\">don&#39;t show pictures of text and code</a>. Copy the text into the question itself and format it so that it&#39;s easy to read, copy, and search. You can edit the question to correct this using the edit link at the bottom."},{"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"score":0,"creation_date":1693337628,"post_id":77003149,"comment_id":135746803,"body_markdown":"Thanks, I have removed the picture and added the error as text.","body":"Thanks, I have removed the picture and added the error as text."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1693430733,"post_id":77003149,"comment_id":135761856,"body_markdown":"@TahjidAshfaque, can you check if this [troubleshooting link](https://cloud.google.com/storage/docs/troubleshooting#400_bad_request) wherein you need `Content-Range: bytes */*` to be specified?","body":"@TahjidAshfaque, can you check if this <a href=\"https://cloud.google.com/storage/docs/troubleshooting#400_bad_request\" rel=\"nofollow noreferrer\">troubleshooting link</a> wherein you need <code>Content-Range: bytes *&#47;*</code> to be specified?"},{"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"score":0,"creation_date":1693499769,"post_id":77003149,"comment_id":135772584,"body_markdown":"@RobertG, thank you for the suggestion, I wasn&#39;t able to find out how to set content range when I am using a client library function, but looking into that gave me the solution of inputstream instead of the Path to the source file directly and that worked.","body":"@RobertG, thank you for the suggestion, I wasn&#39;t able to find out how to set content range when I am using a client library function, but looking into that gave me the solution of inputstream instead of the Path to the source file directly and that worked."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1693500490,"post_id":77003149,"comment_id":135772733,"body_markdown":"@TahjidAshfaque, please post your comment as answer so that it would be helpful to other community members with similar question.","body":"@TahjidAshfaque, please post your comment as answer so that it would be helpful to other community members with similar question."}],"answers":[{"tags":[],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693501115,"creation_date":1693501115,"answer_id":77017902,"question_id":77003149,"body_markdown":"Was able to get it working by changing to using inputstream instead of the Path to source.\r\n\r\n    public void uploadFiles(String projectId, String bucketName, Path sourceDirectory){\r\n      var storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n      try(var files = java.nio.file.Files.walk(sourceDirectory)){\r\n        files.forEach{ file-&gt; {\r\n           var blobId = BlobId.of(bucketName, getBlobPath(file)); \\\\getBlobPath gets the relative path for the file in google cloud bucket\r\n           var blobInfo = BlobInfo.newBuilder(blobId).build();\r\n           storage.createFrom(blobInfo, new BufferedInputStream(Files.newInputStream(file)), BlobWriteOption.detectContentType());\r\n        }\r\n       }\r\n      }\r\n    }\r\n","title":"Java function to upload files to Google Cloud Storage fails after updating package version","body":"<p>Was able to get it working by changing to using inputstream instead of the Path to source.</p>\n<pre><code>public void uploadFiles(String projectId, String bucketName, Path sourceDirectory){\n  var storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n  try(var files = java.nio.file.Files.walk(sourceDirectory)){\n    files.forEach{ file-&gt; {\n       var blobId = BlobId.of(bucketName, getBlobPath(file)); \\\\getBlobPath gets the relative path for the file in google cloud bucket\n       var blobInfo = BlobInfo.newBuilder(blobId).build();\n       storage.createFrom(blobInfo, new BufferedInputStream(Files.newInputStream(file)), BlobWriteOption.detectContentType());\n    }\n   }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017902,"answer_count":1,"score":0,"last_activity_date":1693501115,"creation_date":1693337345,"question_id":77003149,"body_markdown":"I have a maven java project that iterates over the files of a directory and uploads them to google cloud storage bucket. The code is something similar to the following\r\n    \r\n    \r\n    public void uploadFiles(String projectId, String bucketName, Path sourceDirectory){\r\n      var storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n      try(var files = java.nio.file.Files.walk(sourceDirectory)){\r\n        files.forEach{ file-&gt; {\r\n           var blobId = BlobId.of(bucketName, getBlobPath(file)); \\\\getBlobPath gets the relative path for the file in google cloud bucket\r\n           var blobInfo = BlobInfo.newBuilder(blobId).build();\r\n           storage.createFrom(blobInfo, file, BlobWriteOption.detectContentType());\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nHere is my pom\r\n\r\n        &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n              &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n              &lt;version&gt;26.19.0&lt;/version&gt;\r\n              &lt;type&gt;pom&lt;/type&gt;\r\n              &lt;scope&gt;import&lt;/scope&gt; \r\n            &lt;/dependency&gt;            \r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n     #All google libraries I am using in various parts of the project\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-nio&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis works fine, but if I update the version of libraries to latest(26.22.0) or any higher version at all (26.20.0), the upload fails with the following error (I have removed the url from the error message)\r\n\r\n    com.google.cloud.storage.StorageException: Client side data loss detected. Attempt to append to a resumable session with an offset higher than the backend has\r\n\t|&gt; PUT https://storage.googleapis.com/upload/storage/v1/b/......\r\n\t|&gt; content-range: bytes 0--1/0\r\n\t|  \r\n\t|&lt; HTTP/1.1 400 Bad Request\r\n\t|&lt; content-length: 37\r\n\t|&lt; content-type: text/plain; charset=utf-8\r\n\t|&lt; x-guploader-uploadid: \r\n\t|&lt; \r\n\t|&lt; Failed to parse Content-Range header.\r\n\t|  \r\n\tat com.google.cloud.storage.JsonResumableSessionFailureScenario.toStorageException(JsonResumableSessionFailureScenario.java:185)\r\n\tat com.google.cloud.storage.JsonResumableSessionFailureScenario.toStorageException(JsonResumableSessionFailureScenario.java:117)\r\n\tat com.google.cloud.storage.JsonResumableSessionPutTask.call(JsonResumableSessionPutTask.java:204)\r\n\tat com.google.cloud.storage.JsonResumableSession.lambda$put$0(JsonResumableSession.java:81)\r\n\tat com.google.cloud.storage.Retrying.lambda$run$0(Retrying.java:102)\r\n\tat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:103)\r\n\tat com.google.cloud.RetryHelper.run(RetryHelper.java:76)\r\n\tat com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\r\n\tat com.google.cloud.storage.Retrying.run(Retrying.java:99)\r\n\tat com.google.cloud.storage.JsonResumableSession.put(JsonResumableSession.java:68)\r\n\tat com.google.cloud.storage.StorageImpl.createFrom(StorageImpl.java:258)\r\n\tat com.google.cloud.storage.StorageImpl.createFrom(StorageImpl.java:224)\r\n\r\nI could not find any explanation or anyone having similar issues after searching. Any help is appreciated. Thanks\r\n\r\n\r\n","title":"Java function to upload files to Google Cloud Storage fails after updating package version","body":"<p>I have a maven java project that iterates over the files of a directory and uploads them to google cloud storage bucket. The code is something similar to the following</p>\n<pre><code>public void uploadFiles(String projectId, String bucketName, Path sourceDirectory){\n  var storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n  try(var files = java.nio.file.Files.walk(sourceDirectory)){\n    files.forEach{ file-&gt; {\n       var blobId = BlobId.of(bucketName, getBlobPath(file)); \\\\getBlobPath gets the relative path for the file in google cloud bucket\n       var blobInfo = BlobInfo.newBuilder(blobId).build();\n       storage.createFrom(blobInfo, file, BlobWriteOption.detectContentType());\n      }\n    }\n  }\n}\n</code></pre>\n<p>Here is my pom</p>\n<pre><code>    &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n          &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n          &lt;version&gt;26.19.0&lt;/version&gt;\n          &lt;type&gt;pom&lt;/type&gt;\n          &lt;scope&gt;import&lt;/scope&gt; \n        &lt;/dependency&gt;            \n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n #All google libraries I am using in various parts of the project\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-nio&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This works fine, but if I update the version of libraries to latest(26.22.0) or any higher version at all (26.20.0), the upload fails with the following error (I have removed the url from the error message)</p>\n<pre><code>com.google.cloud.storage.StorageException: Client side data loss detected. Attempt to append to a resumable session with an offset higher than the backend has\n|&gt; PUT https://storage.googleapis.com/upload/storage/v1/b/......\n|&gt; content-range: bytes 0--1/0\n|  \n|&lt; HTTP/1.1 400 Bad Request\n|&lt; content-length: 37\n|&lt; content-type: text/plain; charset=utf-8\n|&lt; x-guploader-uploadid: \n|&lt; \n|&lt; Failed to parse Content-Range header.\n|  \nat com.google.cloud.storage.JsonResumableSessionFailureScenario.toStorageException(JsonResumableSessionFailureScenario.java:185)\nat com.google.cloud.storage.JsonResumableSessionFailureScenario.toStorageException(JsonResumableSessionFailureScenario.java:117)\nat com.google.cloud.storage.JsonResumableSessionPutTask.call(JsonResumableSessionPutTask.java:204)\nat com.google.cloud.storage.JsonResumableSession.lambda$put$0(JsonResumableSession.java:81)\nat com.google.cloud.storage.Retrying.lambda$run$0(Retrying.java:102)\nat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:103)\nat com.google.cloud.RetryHelper.run(RetryHelper.java:76)\nat com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50)\nat com.google.cloud.storage.Retrying.run(Retrying.java:99)\nat com.google.cloud.storage.JsonResumableSession.put(JsonResumableSession.java:68)\nat com.google.cloud.storage.StorageImpl.createFrom(StorageImpl.java:258)\nat com.google.cloud.storage.StorageImpl.createFrom(StorageImpl.java:224)\n</code></pre>\n<p>I could not find any explanation or anyone having similar issues after searching. Any help is appreciated. Thanks</p>\n"},{"tags":["java","hibernate","mariadb","uppercase"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1693500825,"post_id":77017827,"comment_id":135772790,"body_markdown":"https://mariadb.com/docs/skysql-dbaas/ref/mdb/system-variables/lower_case_table_names/","body":"<a href=\"https://mariadb.com/docs/skysql-dbaas/ref/mdb/system-variables/lower_case_table_names/\" rel=\"nofollow noreferrer\">mariadb.com/docs/skysql-dbaas/ref/mdb/system-variables/&hellip;</a>"},{"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"score":0,"creation_date":1693547503,"post_id":77017827,"comment_id":135778056,"body_markdown":"Does this answer your question? [How to configure Hibernate to make table/column name with uppercase AND lowercase letters](https://stackoverflow.com/questions/46052297/how-to-configure-hibernate-to-make-table-column-name-with-uppercase-and-lowercas)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46052297/how-to-configure-hibernate-to-make-table-column-name-with-uppercase-and-lowercas\">How to configure Hibernate to make table/column name with uppercase AND lowercase letters</a>"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693593205,"post_id":77017827,"comment_id":135786422,"body_markdown":"Please do not post images of text, but the text directly.","body":"Please do not post images of text, but the text directly."}],"owner":{"account_id":22816596,"reputation":1,"user_id":16967120,"display_name":"Sky Herobrine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693500528,"creation_date":1693500475,"question_id":77017827,"body_markdown":"Hi everyone who read this post, I have a problem about when I tried to make Hibernate between Java code and MariaDB. When it&#39;s running, it created database and tables, but the problem is the name of database and all the tables in my database is not uppercase in the first letter of word. Guys, how can I resolve problem?\r\n[Image Problem](https://i.stack.imgur.com/lRsG2.png)\r\nMy persistence.xml:\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;\r\n             version=&quot;2.2&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;qlch_nhom8&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties&gt;\r\n\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.mariadb.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mariadb://localhost:3306/QLCHTT?createDatabaseIfNotExist=true&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;123456789&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.physical_naming_strategy&quot; value=&quot;org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MariaDBDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;`\r\n\r\nI have tried only MariaDB also SQL Server is still appeared this happend. Although it&#39;s not problem about error running code but for me it&#39;s look not good eye. ","title":"The name of database and for each table isn&#39;t uppercase in the first letter of the word when I using JPA Hibernate","body":"<p>Hi everyone who read this post, I have a problem about when I tried to make Hibernate between Java code and MariaDB. When it's running, it created database and tables, but the problem is the name of database and all the tables in my database is not uppercase in the first letter of word. Guys, how can I resolve problem?\n<a href=\"https://i.stack.imgur.com/lRsG2.png\" rel=\"nofollow noreferrer\">Image Problem</a>\nMy persistence.xml:\n`\n</p>\n<pre><code>&lt;persistence-unit name=&quot;qlch_nhom8&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n\n        &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.mariadb.jdbc.Driver&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mariadb://localhost:3306/QLCHTT?createDatabaseIfNotExist=true&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;123456789&quot;/&gt;\n        &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\n        &lt;property name=&quot;hibernate.physical_naming_strategy&quot; value=&quot;org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&quot;/&gt;\n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MariaDBDialect&quot;/&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>`</p>\n<p>I have tried only MariaDB also SQL Server is still appeared this happend. Although it's not problem about error running code but for me it's look not good eye.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","h2"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1693517942,"post_id":77017554,"comment_id":135775724,"body_markdown":"Very likely the `storedb` does not exist in the h2 database server. Can you add something like `create database &#39;storedb&#39;`?","body":"Very likely the <code>storedb</code> does not exist in the h2 database server. Can you add something like <code>create database &#39;storedb&#39;</code>?"},{"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"score":0,"creation_date":1693551557,"post_id":77017554,"comment_id":135778656,"body_markdown":"when ı add this :\nCREATE DATABASE IF NOT EXISTS storedb;\nUSE storedb;\n\nI get this error:\nException in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement &quot;CREATE DATABASE[*] IF NOT EXISTS STOREDB &quot;; expected &quot;OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX&quot;; SQL statement:","body":"when ı add this : CREATE DATABASE IF NOT EXISTS storedb; USE storedb;  I get this error: Exception in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement &quot;CREATE DATABASE[*] IF NOT EXISTS STOREDB &quot;; expected &quot;OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX&quot;; SQL statement:"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1693560396,"post_id":77017554,"comment_id":135780334,"body_markdown":"I do not work with H2 containers. You may want to revert to documentation how to properly setup the database.","body":"I do not work with H2 containers. You may want to revert to documentation how to properly setup the database."}],"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693500259,"creation_date":1693497691,"question_id":77017554,"body_markdown":"My docker-compose.yml file:\r\n\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  marketapp:\r\n    image: computer_store\r\n    container_name: computer_store\r\n    build:\r\n      context: ./\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:h2:tcp://h2:1521/storedb\r\n      SPRING_DATASOURCE_USERNAME: sa\r\n      SPRING_DATASOURCE_PASSWORD: as\r\n\r\n    depends_on:\r\n      - h2db\r\n\r\n  h2db:\r\n    image: buildo/h2database:latest\r\n    restart: always\r\n    hostname: h2\r\n    ports:\r\n      - &quot;1521:1521&quot;\r\n    volumes:\r\n      - ./docker-entrypoint-initdb.d/initdb.sql:/docker-entrypoint-initdb.d/initdb.sql\r\n\r\n```\r\n\r\nMy initdb.sql file:\r\n\r\n```\r\nUSE storedb;\r\n\r\n-- User table\r\nCREATE TABLE IF NOT EXISTS `user` (\r\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\r\n    `name` VARCHAR(255) NOT NULL,\r\n    `surname` VARCHAR(255) NOT NULL,\r\n    PRIMARY KEY (`id`)\r\n);\r\n\r\n-- Product table\r\nCREATE TABLE IF NOT EXISTS `product` (\r\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\r\n    `name` VARCHAR(255) NOT NULL,\r\n    `price` BIGINT NOT NULL,\r\n    PRIMARY KEY (`id`)\r\n);\r\n\r\n-- Insert Users\r\nINSERT INTO `user` (`name`, `surname`) VALUES\r\n    (&#39;Ahmet&#39;, &#39;Ak&#39;),\r\n    (&#39;Osman&#39;, &#39;Kara&#39;),\r\n    (&#39;Akif&#39;, &#39;Dege&#39;);\r\n\r\n-- Insert Products\r\nINSERT INTO `product` (`name`, `price`) VALUES\r\n    (&#39;Macbook Pro&#39;, 24000),\r\n    (&#39;Lenova&#39;, 12000);\r\n\r\n```\r\n\r\n\r\n\r\n\r\ninitdb.sql file:\r\n\r\nI get this error when &#39;use storedb&#39; in initdb.sql file. I get this error:\r\nException in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Schema &quot;STOREDB&quot; not found; SQL statement:\r\nspring-market-app-h2db-1 | USE storedb\r\n\r\nWithout &#39;use storedb&#39; in initdb.sql file. I get this error:\r\nConnection refused: h2:1521&quot;","title":"Connection refused:h2:1521 with docked-compose.yml file","body":"<p>My docker-compose.yml file:</p>\n<pre><code>version: '3.8'\n\nservices:\n  marketapp:\n    image: computer_store\n    container_name: computer_store\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:h2:tcp://h2:1521/storedb\n      SPRING_DATASOURCE_USERNAME: sa\n      SPRING_DATASOURCE_PASSWORD: as\n\n    depends_on:\n      - h2db\n\n  h2db:\n    image: buildo/h2database:latest\n    restart: always\n    hostname: h2\n    ports:\n      - &quot;1521:1521&quot;\n    volumes:\n      - ./docker-entrypoint-initdb.d/initdb.sql:/docker-entrypoint-initdb.d/initdb.sql\n\n</code></pre>\n<p>My initdb.sql file:</p>\n<pre><code>USE storedb;\n\n-- User table\nCREATE TABLE IF NOT EXISTS `user` (\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\n    `name` VARCHAR(255) NOT NULL,\n    `surname` VARCHAR(255) NOT NULL,\n    PRIMARY KEY (`id`)\n);\n\n-- Product table\nCREATE TABLE IF NOT EXISTS `product` (\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\n    `name` VARCHAR(255) NOT NULL,\n    `price` BIGINT NOT NULL,\n    PRIMARY KEY (`id`)\n);\n\n-- Insert Users\nINSERT INTO `user` (`name`, `surname`) VALUES\n    ('Ahmet', 'Ak'),\n    ('Osman', 'Kara'),\n    ('Akif', 'Dege');\n\n-- Insert Products\nINSERT INTO `product` (`name`, `price`) VALUES\n    ('Macbook Pro', 24000),\n    ('Lenova', 12000);\n\n</code></pre>\n<p>initdb.sql file:</p>\n<p>I get this error when 'use storedb' in initdb.sql file. I get this error:\nException in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Schema &quot;STOREDB&quot; not found; SQL statement:\nspring-market-app-h2db-1 | USE storedb</p>\n<p>Without 'use storedb' in initdb.sql file. I get this error:\nConnection refused: h2:1521&quot;</p>\n"},{"tags":["java","gradle","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1694106739,"post_id":77017801,"comment_id":135851075,"body_markdown":"You probably have a similar bug in gradle as pointed out in the answer at https://stackoverflow.com/a/77061312/775715","body":"You probably have a similar bug in gradle as pointed out in the answer at <a href=\"https://stackoverflow.com/a/77061312/775715\">stackoverflow.com/a/77061312/775715</a>"}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693500247,"creation_date":1693500247,"question_id":77017801,"body_markdown":"We recently switched to Gradle. Our stack is Vaadin 23, embedded Jetty, and Guice. When we run our main method through IntelliJ, everything works as expected. However, we want to run it from Gradle, which we set up. It works perfect on macOS and Ubuntu, but not on Windows.\r\n\r\nHere is our Gradle task (simplified):\r\n```kotlin\r\ncreate&lt;JavaExec&gt;(&quot;startWebapp&quot;) {\r\n    dependsOn(&quot;vaadinPrepareFrontend&quot;)\r\n\r\n    group = &quot;mycompany&quot;\r\n    classpath = sourceSets.named(&quot;main&quot;).get().runtimeClasspath\r\n    mainClass.set(&quot;com.mycompany.portal.Portal&quot;)\r\n    workingDir = project.projectDir\r\n}\r\n```\r\n\r\nWe get the following exception on startup:\r\n\r\n```\r\n12:34:56.837 [main] [1] WARN  o.eclipse.jetty.webapp.WebAppContext - Failed startup of context o.e.j.w.WebAppContext@5c18556c{PORTAL,/,[file:///C:/Users/oliver/IdeaProjects/mycompany/webapp/build/resources/main/webapp/],UNAVAILABLE}\r\njava.lang.IllegalStateException: The application Lookup instance is not found in VaadinContext. The instance is suppoed to be created by a ServletContainerInitializer. Issues known to cause this problem are:\r\n- A Spring Boot application deployed as a war-file but the main application class does not extend SpringBootServletInitializer\r\n- An embedded server that is not set up to execute ServletContainerInitializers\r\n- Unit tests which do not properly set up the context for the test\r\n\r\n\tat com.vaadin.flow.server.startup.ApplicationConfiguration.lambda$get$0(ApplicationConfiguration.java:54)\r\n\tat com.vaadin.flow.server.VaadinServletContext.getAttribute(VaadinServletContext.java:73)\r\n\tat com.vaadin.flow.server.startup.ApplicationConfiguration.get(ApplicationConfiguration.java:48)\r\n\tat com.vaadin.flow.server.DeploymentConfigurationFactory.createPropertyDeploymentConfiguration(DeploymentConfigurationFactory.java:82)\r\n\tat com.vaadin.flow.server.startup.ServletDeployer$StubServletConfig.createDeploymentConfiguration(ServletDeployer.java:185)\r\n\tat com.vaadin.flow.server.startup.ServletDeployer.lambda$getServletConfigurations$0(ServletDeployer.java:280)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n\tat com.vaadin.flow.server.startup.ServletDeployer.getServletConfigurations(ServletDeployer.java:279)\r\n\tat com.vaadin.flow.server.startup.ServletDeployer.contextInitialized(ServletDeployer.java:194)\r\n\tat com.vaadin.flow.server.startup.ServletContextListeners.contextInitialized(ServletContextListeners.java:44)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:1049)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:624)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.contextInitialized(ContextHandler.java:984)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:740)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1304)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:532)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:470)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:415)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat com.mycompany.portal.bootstrap.JettyService.start(JettyService.java:60)\r\n\tat com.mycompany.portal.Portal.startServer(Portal.java:88)\r\n\tat com.mycompany.portal.Portal.main(Portal.java:42)\r\n```\r\n\r\nI did some digging. It seems that, when running through Gradle, the `classSet` of `LookupServletContainerInitializer#process` is empty. What I have tried:\r\n* Compared the classpaths when running from IntelliJ to Gradle. They are the same. Only difference is that Gradle creates a temporary JAR with a manifest file, so any non-jar folders, such as `src/main/java` is prefixed with `file://`.\r\n* I think Gradle uses its own classloader, so I manually set the classloader in Jetty.\r\n* I tried to make a minimal, reproducible example, but could not reproduce the issue.\r\n* I tried manually adding the missing classes to `classSet`. The app then starts up, but is unusable. E.g., the app is just plaintext.","title":"Trouble running our Vaadin application with Gradle","body":"<p>We recently switched to Gradle. Our stack is Vaadin 23, embedded Jetty, and Guice. When we run our main method through IntelliJ, everything works as expected. However, we want to run it from Gradle, which we set up. It works perfect on macOS and Ubuntu, but not on Windows.</p>\n<p>Here is our Gradle task (simplified):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>create&lt;JavaExec&gt;(&quot;startWebapp&quot;) {\n    dependsOn(&quot;vaadinPrepareFrontend&quot;)\n\n    group = &quot;mycompany&quot;\n    classpath = sourceSets.named(&quot;main&quot;).get().runtimeClasspath\n    mainClass.set(&quot;com.mycompany.portal.Portal&quot;)\n    workingDir = project.projectDir\n}\n</code></pre>\n<p>We get the following exception on startup:</p>\n<pre><code>12:34:56.837 [main] [1] WARN  o.eclipse.jetty.webapp.WebAppContext - Failed startup of context o.e.j.w.WebAppContext@5c18556c{PORTAL,/,[file:///C:/Users/oliver/IdeaProjects/mycompany/webapp/build/resources/main/webapp/],UNAVAILABLE}\njava.lang.IllegalStateException: The application Lookup instance is not found in VaadinContext. The instance is suppoed to be created by a ServletContainerInitializer. Issues known to cause this problem are:\n- A Spring Boot application deployed as a war-file but the main application class does not extend SpringBootServletInitializer\n- An embedded server that is not set up to execute ServletContainerInitializers\n- Unit tests which do not properly set up the context for the test\n\n    at com.vaadin.flow.server.startup.ApplicationConfiguration.lambda$get$0(ApplicationConfiguration.java:54)\n    at com.vaadin.flow.server.VaadinServletContext.getAttribute(VaadinServletContext.java:73)\n    at com.vaadin.flow.server.startup.ApplicationConfiguration.get(ApplicationConfiguration.java:48)\n    at com.vaadin.flow.server.DeploymentConfigurationFactory.createPropertyDeploymentConfiguration(DeploymentConfigurationFactory.java:82)\n    at com.vaadin.flow.server.startup.ServletDeployer$StubServletConfig.createDeploymentConfiguration(ServletDeployer.java:185)\n    at com.vaadin.flow.server.startup.ServletDeployer.lambda$getServletConfigurations$0(ServletDeployer.java:280)\n    at java.base/java.util.Optional.ifPresent(Optional.java:178)\n    at com.vaadin.flow.server.startup.ServletDeployer.getServletConfigurations(ServletDeployer.java:279)\n    at com.vaadin.flow.server.startup.ServletDeployer.contextInitialized(ServletDeployer.java:194)\n    at com.vaadin.flow.server.startup.ServletContextListeners.contextInitialized(ServletContextListeners.java:44)\n    at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:1049)\n    at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:624)\n    at org.eclipse.jetty.server.handler.ContextHandler.contextInitialized(ContextHandler.java:984)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:740)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1304)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:532)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.server.Server.start(Server.java:470)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:415)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at com.mycompany.portal.bootstrap.JettyService.start(JettyService.java:60)\n    at com.mycompany.portal.Portal.startServer(Portal.java:88)\n    at com.mycompany.portal.Portal.main(Portal.java:42)\n</code></pre>\n<p>I did some digging. It seems that, when running through Gradle, the <code>classSet</code> of <code>LookupServletContainerInitializer#process</code> is empty. What I have tried:</p>\n<ul>\n<li>Compared the classpaths when running from IntelliJ to Gradle. They are the same. Only difference is that Gradle creates a temporary JAR with a manifest file, so any non-jar folders, such as <code>src/main/java</code> is prefixed with <code>file://</code>.</li>\n<li>I think Gradle uses its own classloader, so I manually set the classloader in Jetty.</li>\n<li>I tried to make a minimal, reproducible example, but could not reproduce the issue.</li>\n<li>I tried manually adding the missing classes to <code>classSet</code>. The app then starts up, but is unusable. E.g., the app is just plaintext.</li>\n</ul>\n"},{"tags":["java","spring","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":2235894,"reputation":1035,"user_id":1972296,"display_name":"rastadrian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1457103722,"creation_date":1457100839,"answer_id":35798228,"question_id":35797762,"body_markdown":"As you would figure, the problem is that the backend **should** return you errors with HTTP error codes, that&#39;s what they are there for. \r\n\r\nBut as you said, you don&#39;t have control over the backend so what you can do is first get it as a String\r\n\r\n    ResponseEntity&lt;String&gt; dto = restTemplate.postForObject(url, postData, String.class);\r\n\r\nThen you can attempt to parse the string response as a `MainDTO` with either Jackson or Gson (whatever you have in your project, which you should, because I believe Spring&#39;s RestTemplate uses either on of them internally) with a try/catch and if it fails, then you try with to parse it with your `ErrorDto`.\r\n\r\n**Update**\r\n\r\nOh, I just read that it was an `XML` service, not a `JSON` on, the approach above is still valid, but instead of using `Jackson` or `Gson`, you can use `SimpleXML` (http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php#deserialize) which allows you to deserialize XML in an &quot;easy&quot; way, you just need to annotate your models with their annotations which are described in their *tutorials* and *examples*.\r\n\r\nThis Spring&#39;s example (http://spring.io/guides/gs/consuming-rest-xml-android/) might also provide an insight in how to use `SimpleXML`.","title":"How to use RestTemplate with multiple response types?","body":"<p>As you would figure, the problem is that the backend <strong>should</strong> return you errors with HTTP error codes, that's what they are there for. </p>\n\n<p>But as you said, you don't have control over the backend so what you can do is first get it as a String</p>\n\n<pre><code>ResponseEntity&lt;String&gt; dto = restTemplate.postForObject(url, postData, String.class);\n</code></pre>\n\n<p>Then you can attempt to parse the string response as a <code>MainDTO</code> with either Jackson or Gson (whatever you have in your project, which you should, because I believe Spring's RestTemplate uses either on of them internally) with a try/catch and if it fails, then you try with to parse it with your <code>ErrorDto</code>.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Oh, I just read that it was an <code>XML</code> service, not a <code>JSON</code> on, the approach above is still valid, but instead of using <code>Jackson</code> or <code>Gson</code>, you can use <code>SimpleXML</code> (<a href=\"http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php#deserialize\" rel=\"noreferrer\">http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php#deserialize</a>) which allows you to deserialize XML in an \"easy\" way, you just need to annotate your models with their annotations which are described in their <em>tutorials</em> and <em>examples</em>.</p>\n\n<p>This Spring's example (<a href=\"http://spring.io/guides/gs/consuming-rest-xml-android/\" rel=\"noreferrer\">http://spring.io/guides/gs/consuming-rest-xml-android/</a>) might also provide an insight in how to use <code>SimpleXML</code>.</p>\n"},{"tags":[],"owner":{"account_id":5717088,"reputation":6957,"user_id":4516887,"display_name":"fateddy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617375605,"creation_date":1457107263,"answer_id":35800514,"question_id":35797762,"body_markdown":"You could implement a custom [`ResponseErrorHandler`][1] that converts an erroneous response into a `RuntimeException`.\r\nHttp Message to POJO conversion could be done by re-using the messageConverter(s) the [`RestTemplate#setMessageConverters`][2] is using.\r\n\r\n[Here][3] is an example that utilizes this.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/ResponseErrorHandler.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#setMessageConverters-java.util.List-\r\n  [3]: https://stackoverflow.com/a/38093858/6393275","title":"How to use RestTemplate with multiple response types?","body":"<p>You could implement a custom <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/ResponseErrorHandler.html\" rel=\"nofollow noreferrer\"><code>ResponseErrorHandler</code></a> that converts an erroneous response into a <code>RuntimeException</code>.\nHttp Message to POJO conversion could be done by re-using the messageConverter(s) the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#setMessageConverters-java.util.List-\" rel=\"nofollow noreferrer\"><code>RestTemplate#setMessageConverters</code></a> is using.</p>\n<p><a href=\"https://stackoverflow.com/a/38093858/6393275\">Here</a> is an example that utilizes this.</p>\n"},{"tags":[],"owner":{"account_id":451585,"reputation":4900,"user_id":847553,"accept_rate":86,"display_name":"Dave Richardson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501593440,"creation_date":1501593440,"answer_id":45438984,"question_id":35797762,"body_markdown":"I have the same problem so I have an abstract class that describes the error. All of my Json classes then extended the abstract error class. So the response object is populated with entity data and an error that I could check easily.\r\n\r\nI don&#39;t particularly like this solution but as I immediately transform the Json object into an application data object it doesn&#39;t feel too bad.\r\n\r\n","title":"How to use RestTemplate with multiple response types?","body":"<p>I have the same problem so I have an abstract class that describes the error. All of my Json classes then extended the abstract error class. So the response object is populated with entity data and an error that I could check easily.</p>\n\n<p>I don't particularly like this solution but as I immediately transform the Json object into an application data object it doesn't feel too bad.</p>\n"},{"tags":[],"owner":{"account_id":12727822,"reputation":15,"user_id":9245677,"display_name":"Alfredo"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1519321861,"creation_date":1519321861,"answer_id":48934108,"question_id":35797762,"body_markdown":"**Using** **Instanceof**\r\n    \r\n   \r\n\r\n    MyObject1 a=null;\r\n    MyObject2 b=null;\r\n \tResponseEntity&lt;Object&gt;response=template.exchange(builder.build().encode().toUri(),HttpMethod.GET,entity, Object.class);\r\n    if (response.getBody() instanceof MyObject1)\r\n        a= (MyObject1) response.getBody();\r\n    else if(response.getBody() instanceof MyObject2)\r\n        b= (MyObject2) response.getBody();","title":"How to use RestTemplate with multiple response types?","body":"<p><strong>Using</strong> <strong>Instanceof</strong></p>\n\n<pre><code>MyObject1 a=null;\nMyObject2 b=null;\nResponseEntity&lt;Object&gt;response=template.exchange(builder.build().encode().toUri(),HttpMethod.GET,entity, Object.class);\nif (response.getBody() instanceof MyObject1)\n    a= (MyObject1) response.getBody();\nelse if(response.getBody() instanceof MyObject2)\n    b= (MyObject2) response.getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16090610,"reputation":21,"user_id":11614155,"display_name":"luckygulli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559914222,"creation_date":1559914222,"answer_id":56495315,"question_id":35797762,"body_markdown":"I tried [Alfredo&#39;s solution](https://stackoverflow.com/a/48934108/11614155) but I got an Exception because of Object.class:\r\n\r\n    Method threw &#39;org.springframework.web.client.HttpClientErrorException&#39; exception.\r\n\r\nIf you use a different class, it would be casted and you wouldn&#39;t be able to use instance of.\r\n\r\nUsing following code solved my problem:\r\n\r\n    String xml = restTemplate.getForObject(url, String.class, uriVariables);\r\n    JAXBContext jaxbContext = JAXBContext.newInstance();\r\n    Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    StringSource xmlStr = new StringSource(xml);\r\n    Object o = jaxbUnmarshaller.unmarshal((Source) xmlStr);\r\n    if (o instanceof VonAZRAZRBestaetigungMeldung090098) {\r\n        // ...\r\n    }","title":"How to use RestTemplate with multiple response types?","body":"<p>I tried <a href=\"https://stackoverflow.com/a/48934108/11614155\">Alfredo's solution</a> but I got an Exception because of Object.class:</p>\n\n<pre><code>Method threw 'org.springframework.web.client.HttpClientErrorException' exception.\n</code></pre>\n\n<p>If you use a different class, it would be casted and you wouldn't be able to use instance of.</p>\n\n<p>Using following code solved my problem:</p>\n\n<pre><code>String xml = restTemplate.getForObject(url, String.class, uriVariables);\nJAXBContext jaxbContext = JAXBContext.newInstance();\nUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\nStringSource xmlStr = new StringSource(xml);\nObject o = jaxbUnmarshaller.unmarshal((Source) xmlStr);\nif (o instanceof VonAZRAZRBestaetigungMeldung090098) {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5543023,"reputation":9,"user_id":4398815,"display_name":"David Querci"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606912065,"creation_date":1606910607,"answer_id":65107730,"question_id":35797762,"body_markdown":"I had the same problem, I solved it like this:\r\n\r\nI created a Response class and inside I put the two response objects.\r\nI have noted all three classes with\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType (XmlAccessType.FIELD)\r\n\r\n    ResponseEntity &lt;Response&gt; responseEntity = restTemplate.postForEntity (url, request, Response.class);\r\n    Object res = responseEntity.getBody ();\r\n  \r\n    if (res! = null) {\r\n        if (res instanceof MainDTO) {\r\n            ...\r\n        } else if (res instanceof ErrorDTO) {\r\n            ...\r\n        }\r\n    }\r\n\r\nHope it&#39;s useful!","title":"How to use RestTemplate with multiple response types?","body":"<p>I had the same problem, I solved it like this:</p>\n<p>I created a Response class and inside I put the two response objects.\nI have noted all three classes with</p>\n<pre><code>@XmlRootElement\n@XmlAccessorType (XmlAccessType.FIELD)\n\nResponseEntity &lt;Response&gt; responseEntity = restTemplate.postForEntity (url, request, Response.class);\nObject res = responseEntity.getBody ();\n\nif (res! = null) {\n    if (res instanceof MainDTO) {\n        ...\n    } else if (res instanceof ErrorDTO) {\n        ...\n    }\n}\n</code></pre>\n<p>Hope it's useful!</p>\n"},{"tags":[],"owner":{"account_id":14666623,"reputation":21,"user_id":10592296,"display_name":"electroncipeter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693499665,"creation_date":1693499533,"answer_id":77017722,"question_id":35797762,"body_markdown":"In my case this does not work, as the ResponseBody is a Map generated by OpenApi Feign Code. But its possible to map the Map to the corresponding object with an object mapper:\r\n\r\n            \r\n    ResponseEntity&lt;Object&gt; registerResult = restTestRestTemplate.postForEntity(&quot;/register&quot;, registerRequest, Object.class);\r\n    Assertions.assertEquals(HttpStatus.NOT_ACCEPTABLE, registerResult.getStatusCode());\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    InlineResponse406 inlineResponse406 = objectMapper.convertValue(registerResult.getBody(), InlineResponse406.class);\r\n    Assertions.assertNotNull(inlineResponse406);\r\n\r\n            \r\nthis is code of a test class, of course, corresponding to other response codes other Objects can be created.\r\n\r\n\r\n\r\n","title":"How to use RestTemplate with multiple response types?","body":"<p>In my case this does not work, as the ResponseBody is a Map generated by OpenApi Feign Code. But its possible to map the Map to the corresponding object with an object mapper:</p>\n<pre><code>ResponseEntity&lt;Object&gt; registerResult = restTestRestTemplate.postForEntity(&quot;/register&quot;, registerRequest, Object.class);\nAssertions.assertEquals(HttpStatus.NOT_ACCEPTABLE, registerResult.getStatusCode());\nObjectMapper objectMapper = new ObjectMapper();\nInlineResponse406 inlineResponse406 = objectMapper.convertValue(registerResult.getBody(), InlineResponse406.class);\nAssertions.assertNotNull(inlineResponse406);\n\n        \n</code></pre>\n<p>this is code of a test class, of course, corresponding to other response codes other Objects can be created.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20034,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":35798228,"answer_count":7,"score":14,"last_activity_date":1693499665,"creation_date":1457099426,"question_id":35797762,"body_markdown":"I&#39;m using spring `RestTemplate` for communication with a `xml` webservice backend as follows:\r\n\r\n    ResponseEntity&lt;MainDTO&gt; dto = restTemplate.postForObject(url, postData, MainDTO.class);\r\n\r\nProblem: the backend might either respond with `MainDTO` for normal data or with `ErrorDTO` in case of failures. But both with `HTTP 200`.\r\n\r\nBut I don&#39;t know which object will come back before! Anyways `restTemplate` requires me to pass the `class` type before.\r\n\r\nSo, how could I parse the xml either to normal or the error bean?\r\n\r\nSidenote: I don&#39;t have any control of the webservice backend.","title":"How to use RestTemplate with multiple response types?","body":"<p>I'm using spring <code>RestTemplate</code> for communication with a <code>xml</code> webservice backend as follows:</p>\n\n<pre><code>ResponseEntity&lt;MainDTO&gt; dto = restTemplate.postForObject(url, postData, MainDTO.class);\n</code></pre>\n\n<p>Problem: the backend might either respond with <code>MainDTO</code> for normal data or with <code>ErrorDTO</code> in case of failures. But both with <code>HTTP 200</code>.</p>\n\n<p>But I don't know which object will come back before! Anyways <code>restTemplate</code> requires me to pass the <code>class</code> type before.</p>\n\n<p>So, how could I parse the xml either to normal or the error bean?</p>\n\n<p>Sidenote: I don't have any control of the webservice backend.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1693500655,"post_id":77014112,"comment_id":135772762,"body_markdown":"Just a general comment: don&#39;t add comments that say what the code does. It&#39;s already obvious from the code. Only add comments to say _why_ you&#39;re doing what you&#39;re doing.","body":"Just a general comment: don&#39;t add comments that say what the code does. It&#39;s already obvious from the code. Only add comments to say <i>why</i> you&#39;re doing what you&#39;re doing."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1693817575,"post_id":77014112,"comment_id":135805555,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693499536,"creation_date":1693472403,"answer_id":77014329,"question_id":77014112,"body_markdown":"The issue seems to be with how you&#39;re checking for an empty order before displaying it. You&#39;re correctly checking if selectedPizza is null, but you also need to check if selectedToppings or selectedDrinks are empty or not. Here&#39;s the modified view order logic to address this:\r\n\r\n    } else if (userInput == 2) {\r\n        // View order logic\r\n        if (selectedPizza != null || !selectedToppings.isEmpty() || !selectedDrinks.isEmpty()) {\r\n            OrderView.viewOrder(selectedPizza, selectedToppings, selectedDrinks);\r\n        } else {\r\n            System.out.println(&quot;Your order is empty, please add an item from the menu first.&quot;);\r\n        }\r\n    }\r\n\r\nAnd, next issue might be in your Beverages class. You mentioned that you have a getDrinkChoice method. Make sure this method correctly handles the user input and returns the selected drink. Here&#39;s an example of how the method might look:\r\n\r\n    public class Beverages {\r\n        public static String getDrinkChoice(Scanner scanner) {\r\n            int userInput = scanner.nextInt();\r\n            scanner.nextLine(); // Consume the newline character\r\n    \r\n            switch (userInput) {\r\n                case 1:\r\n                    return &quot;Coke&quot;;\r\n                case 2:\r\n                    return &quot;Sprite&quot;;\r\n                case 3:\r\n                    return &quot;Water&quot;;\r\n                default:\r\n                    return null; // Return null for invalid choices\r\n            }\r\n        }\r\n    }\r\n\r\nGood Luck.","title":"Java food menu - unable to store user input and review after","body":"<p>The issue seems to be with how you're checking for an empty order before displaying it. You're correctly checking if selectedPizza is null, but you also need to check if selectedToppings or selectedDrinks are empty or not. Here's the modified view order logic to address this:</p>\n<pre><code>} else if (userInput == 2) {\n    // View order logic\n    if (selectedPizza != null || !selectedToppings.isEmpty() || !selectedDrinks.isEmpty()) {\n        OrderView.viewOrder(selectedPizza, selectedToppings, selectedDrinks);\n    } else {\n        System.out.println(&quot;Your order is empty, please add an item from the menu first.&quot;);\n    }\n}\n</code></pre>\n<p>And, next issue might be in your Beverages class. You mentioned that you have a getDrinkChoice method. Make sure this method correctly handles the user input and returns the selected drink. Here's an example of how the method might look:</p>\n<pre><code>public class Beverages {\n    public static String getDrinkChoice(Scanner scanner) {\n        int userInput = scanner.nextInt();\n        scanner.nextLine(); // Consume the newline character\n\n        switch (userInput) {\n            case 1:\n                return &quot;Coke&quot;;\n            case 2:\n                return &quot;Sprite&quot;;\n            case 3:\n                return &quot;Water&quot;;\n            default:\n                return null; // Return null for invalid choices\n        }\n    }\n}\n</code></pre>\n<p>Good Luck.</p>\n"}],"owner":{"account_id":15285661,"reputation":11,"user_id":11028753,"display_name":"G. Parker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693499536,"creation_date":1693470742,"question_id":77014112,"body_markdown":"I&#39;m new to Java and have started a basic project creating a food menu. I&#39;ve managed to get the first part of the user selecting pizza toppings and this storing so the user can view order at the main menu, however I&#39;m getting issues when trying to store options for beverages. I have separate classes set up for pizza, beverages and viewOrder which I can copy into the chat if needed. Appreciate any feedback on what to do and how I&#39;ve set the code up already as I&#39;m keen to learn!\r\n\r\nAfter the user selects a drink it takes them back to the main menu. When selecting view order it returns the error message to say that their order is empty. I think it might be related to the if statement within view order.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int userInput; // Declare the variable outside the loop\r\n\r\n        String selectedPizza = null;\r\n        ArrayList&lt;String&gt; selectedToppings = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; selectedDrinks = new ArrayList&lt;&gt;(); // Declare the ArrayList for drinks\r\n\r\n        while (true) {\r\n            Order.orderMenu(); // Display the menu\r\n            userInput = scanner.nextInt();\r\n            scanner.nextLine(); // Consume the newline character\r\n\r\n            if (userInput == 1) {\r\n                FoodMenu.displayMenu();\r\n\r\n                int userInput1 = scanner.nextInt();\r\n                scanner.nextLine();\r\n\r\n                if (userInput1 == 1) {\r\n                    selectedPizza = &quot;Pizza&quot;; // Store the selected food option\r\n\r\n                    // Collect user&#39;s topping selections\r\n                    int toppingsSelected = 0;\r\n                    while (toppingsSelected &lt; 4) { // asks the user to select 4 toppings\r\n                        System.out.print(&quot;Select a topping: &quot;);\r\n                        String topping = scanner.nextLine(); // user input\r\n                        selectedToppings.add(topping); // adds toppings selected\r\n                        toppingsSelected++;\r\n                    }\r\n                } else if (userInput1 == 2) {\r\n                    // User gets given drinks options to order here\r\n                    Beverages.drinkOptions();\r\n\r\n                    String selectedDrink = Beverages.getDrinkChoice(scanner);\r\n                    if (selectedDrink != null) {\r\n                            selectedDrinks.add(selectedDrink);\r\n                        } else {\r\n                            System.out.println(&quot;Please enter a valid drink number.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Please enter a valid selection.&quot;);\r\n                }\r\n            } else if (userInput == 2) {\r\n                // View order logic\r\n                if (selectedPizza != null) {\r\n                    OrderView.viewOrder(selectedPizza, selectedToppings, selectedDrinks);\r\n                } else {\r\n                    System.out.println(&quot;Your order is empty, please add an item from the menu first.&quot;);\r\n                }\r\n            } else if (userInput == 3) {\r\n                System.out.println(&quot;Thank you, your order is on the way&quot;);\r\n                break;\r\n            } else {\r\n                System.out.println(&quot;Please enter a valid selection.&quot;);\r\n            }\r\n        }\r\n        scanner.close();\r\n    }\r\n}\r\n```","title":"Java food menu - unable to store user input and review after","body":"<p>I'm new to Java and have started a basic project creating a food menu. I've managed to get the first part of the user selecting pizza toppings and this storing so the user can view order at the main menu, however I'm getting issues when trying to store options for beverages. I have separate classes set up for pizza, beverages and viewOrder which I can copy into the chat if needed. Appreciate any feedback on what to do and how I've set the code up already as I'm keen to learn!</p>\n<p>After the user selects a drink it takes them back to the main menu. When selecting view order it returns the error message to say that their order is empty. I think it might be related to the if statement within view order.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int userInput; // Declare the variable outside the loop\n\n        String selectedPizza = null;\n        ArrayList&lt;String&gt; selectedToppings = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; selectedDrinks = new ArrayList&lt;&gt;(); // Declare the ArrayList for drinks\n\n        while (true) {\n            Order.orderMenu(); // Display the menu\n            userInput = scanner.nextInt();\n            scanner.nextLine(); // Consume the newline character\n\n            if (userInput == 1) {\n                FoodMenu.displayMenu();\n\n                int userInput1 = scanner.nextInt();\n                scanner.nextLine();\n\n                if (userInput1 == 1) {\n                    selectedPizza = &quot;Pizza&quot;; // Store the selected food option\n\n                    // Collect user's topping selections\n                    int toppingsSelected = 0;\n                    while (toppingsSelected &lt; 4) { // asks the user to select 4 toppings\n                        System.out.print(&quot;Select a topping: &quot;);\n                        String topping = scanner.nextLine(); // user input\n                        selectedToppings.add(topping); // adds toppings selected\n                        toppingsSelected++;\n                    }\n                } else if (userInput1 == 2) {\n                    // User gets given drinks options to order here\n                    Beverages.drinkOptions();\n\n                    String selectedDrink = Beverages.getDrinkChoice(scanner);\n                    if (selectedDrink != null) {\n                            selectedDrinks.add(selectedDrink);\n                        } else {\n                            System.out.println(&quot;Please enter a valid drink number.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Please enter a valid selection.&quot;);\n                }\n            } else if (userInput == 2) {\n                // View order logic\n                if (selectedPizza != null) {\n                    OrderView.viewOrder(selectedPizza, selectedToppings, selectedDrinks);\n                } else {\n                    System.out.println(&quot;Your order is empty, please add an item from the menu first.&quot;);\n                }\n            } else if (userInput == 3) {\n                System.out.println(&quot;Thank you, your order is on the way&quot;);\n                break;\n            } else {\n                System.out.println(&quot;Please enter a valid selection.&quot;);\n            }\n        }\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1693426578,"post_id":77011147,"comment_id":135761253,"body_markdown":"have you tried: https://stackoverflow.com/questions/62914025/instagram-application-does-not-open-with-android-intent","body":"have you tried: <a href=\"https://stackoverflow.com/questions/62914025/instagram-application-does-not-open-with-android-intent\" title=\"instagram application does not open with android intent\">stackoverflow.com/questions/62914025/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4122529,"reputation":153,"user_id":3382466,"display_name":"Bryan C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693499313,"creation_date":1693428483,"answer_id":77011433,"question_id":77011147,"body_markdown":"You&#39;ll need to add the queries element to your manifest. For example:\r\n\r\n    &lt;queries&gt;\r\n         &lt;package android:name=&quot;com.instagram.android&quot; /&gt; \r\n    &lt;/queries&gt;\r\n\r\nMore info here: https://developer.android.com/guide/topics/manifest/queries-element\r\n\r\nHere is your original code with a different method to launch the Instagram app. I also changed the catch block because it contained errors, but you can modify it to suite your application&#39;s needs.\r\n\r\n    public class ActivitySettingsWifi extends Activity {\r\n\r\n        public final void onCreate(Bundle bundle) {\r\n\r\n            super.onCreate(bundle);\r\n\r\n            Intent LaunchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.instagram.android&quot;);\r\n\r\n            try {\r\n        \r\n                startActivity(LaunchIntent);\r\n\r\n                finish();\r\n\r\n            } catch (Exception e) {\r\n           \r\n                finish();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n","title":"Open another application from my own intent","body":"<p>You'll need to add the queries element to your manifest. For example:</p>\n<pre><code>&lt;queries&gt;\n     &lt;package android:name=&quot;com.instagram.android&quot; /&gt; \n&lt;/queries&gt;\n</code></pre>\n<p>More info here: <a href=\"https://developer.android.com/guide/topics/manifest/queries-element\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/queries-element</a></p>\n<p>Here is your original code with a different method to launch the Instagram app. I also changed the catch block because it contained errors, but you can modify it to suite your application's needs.</p>\n<pre><code>public class ActivitySettingsWifi extends Activity {\n\n    public final void onCreate(Bundle bundle) {\n\n        super.onCreate(bundle);\n\n        Intent LaunchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.instagram.android&quot;);\n\n        try {\n    \n            startActivity(LaunchIntent);\n\n            finish();\n\n        } catch (Exception e) {\n       \n            finish();\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29262754,"reputation":13,"user_id":22419319,"display_name":"Ashique 007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77011433,"answer_count":1,"score":1,"last_activity_date":1693499313,"creation_date":1693424978,"question_id":77011147,"body_markdown":"Here is the code but its not working :(\r\nPlease could anyone help me.\r\n\r\n```\r\n\r\n\r\npublic class ActivitySettingsWifi extends Activity {\r\n\r\n    public final void onCreate(Bundle bundle) {\r\n\r\n        super.onCreate(bundle);\r\n\r\n        try {\r\n\r\n            bundle = new Intent(&quot;com.instagram.android&quot;);\r\n\r\n            bundle.addFlags(268435456);\r\n\r\n            startActivity(bundle);\r\n\r\n        } catch (Bundle bundle2) {\r\n\r\n            bundle2.getStackTrace();\r\n\r\n        }\r\n\r\n        finish();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nIf i use any activity like android.settings.WIFI_ACITVITY \r\nthen its working but i want to open Instagram.","title":"Open another application from my own intent","body":"<p>Here is the code but its not working :(\nPlease could anyone help me.</p>\n<pre><code>\n\npublic class ActivitySettingsWifi extends Activity {\n\n    public final void onCreate(Bundle bundle) {\n\n        super.onCreate(bundle);\n\n        try {\n\n            bundle = new Intent(&quot;com.instagram.android&quot;);\n\n            bundle.addFlags(268435456);\n\n            startActivity(bundle);\n\n        } catch (Bundle bundle2) {\n\n            bundle2.getStackTrace();\n\n        }\n\n        finish();\n\n    }\n\n}\n</code></pre>\n<p>If i use any activity like android.settings.WIFI_ACITVITY\nthen its working but i want to open Instagram.</p>\n"},{"tags":["java","docker","docker-java","ocrmypdf"],"answers":[{"tags":[],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693499055,"creation_date":1693499055,"answer_id":77017674,"question_id":77002811,"body_markdown":"Ugh. After running the container through the command line I noticed I didn&#39;t need that extra `ocrmypdf` argument at the beginning.","title":"ocrmypdf not working when using the docker image and the docker java client over a binding volume","body":"<p>Ugh. After running the container through the command line I noticed I didn't need that extra <code>ocrmypdf</code> argument at the beginning.</p>\n"}],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77017674,"answer_count":1,"score":0,"last_activity_date":1693499055,"creation_date":1693334075,"question_id":77002811,"body_markdown":"When running an `ocrmypdf` `docker container`, all I get is the following message: \r\n\r\n`ocrmypdf: error: unrecognized arguments: 64ee37a6fc66cf591ce4a35f-1.png_OCR.pdf`\r\n\r\nThis is what my `docker inspect container` shows:\r\n\r\n            &quot;Args&quot;: [\r\n                &quot;ocrmypdf&quot;,\r\n                &quot;--rotate-pages&quot;,\r\n                &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png&quot;,\r\n                &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png_OCR.pdf&quot;\r\n            ],\r\n            ...\r\n            &quot;Binds&quot;: [\r\n                &quot;pdf-tools-data-volume:/64ee36779438c74174f123ea/pdf:rw&quot;\r\n            ],\r\n            ...\r\n            &quot;Mounts&quot;: [\r\n            {\r\n                &quot;Type&quot;: &quot;volume&quot;,\r\n                &quot;Name&quot;: &quot;pdf-tools-data-volume&quot;,\r\n                &quot;Source&quot;: &quot;/var/lib/docker/volumes/pdf-tools-data-volume/_data&quot;,\r\n                &quot;Destination&quot;: &quot;/64ee36779438c74174f123ea/pdf&quot;,\r\n                &quot;Driver&quot;: &quot;local&quot;,\r\n                &quot;Mode&quot;: &quot;rw&quot;,\r\n                &quot;RW&quot;: true,\r\n                &quot;Propagation&quot;: &quot;&quot;\r\n            }],\r\n            ...\r\n            &quot;Cmd&quot;: [\r\n                &quot;ocrmypdf&quot;,\r\n                &quot;--rotate-pages&quot;,\r\n                &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png&quot;,\r\n                &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png_OCR.pdf&quot;\r\n            ]\r\n         \r\nHas anyone attempted to use ocrmypdf with docker mounting volumes?\r\n","title":"ocrmypdf not working when using the docker image and the docker java client over a binding volume","body":"<p>When running an <code>ocrmypdf</code> <code>docker container</code>, all I get is the following message:</p>\n<p><code>ocrmypdf: error: unrecognized arguments: 64ee37a6fc66cf591ce4a35f-1.png_OCR.pdf</code></p>\n<p>This is what my <code>docker inspect container</code> shows:</p>\n<pre><code>        &quot;Args&quot;: [\n            &quot;ocrmypdf&quot;,\n            &quot;--rotate-pages&quot;,\n            &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png&quot;,\n            &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png_OCR.pdf&quot;\n        ],\n        ...\n        &quot;Binds&quot;: [\n            &quot;pdf-tools-data-volume:/64ee36779438c74174f123ea/pdf:rw&quot;\n        ],\n        ...\n        &quot;Mounts&quot;: [\n        {\n            &quot;Type&quot;: &quot;volume&quot;,\n            &quot;Name&quot;: &quot;pdf-tools-data-volume&quot;,\n            &quot;Source&quot;: &quot;/var/lib/docker/volumes/pdf-tools-data-volume/_data&quot;,\n            &quot;Destination&quot;: &quot;/64ee36779438c74174f123ea/pdf&quot;,\n            &quot;Driver&quot;: &quot;local&quot;,\n            &quot;Mode&quot;: &quot;rw&quot;,\n            &quot;RW&quot;: true,\n            &quot;Propagation&quot;: &quot;&quot;\n        }],\n        ...\n        &quot;Cmd&quot;: [\n            &quot;ocrmypdf&quot;,\n            &quot;--rotate-pages&quot;,\n            &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png&quot;,\n            &quot;/64ee36779438c74174f123ea/pdf/64ee36779438c74174f123e9-1.png_OCR.pdf&quot;\n        ]\n     \n</code></pre>\n<p>Has anyone attempted to use ocrmypdf with docker mounting volumes?</p>\n"},{"tags":["java","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":6110762,"reputation":695,"user_id":4767134,"display_name":"anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672603794,"creation_date":1672603794,"answer_id":74977115,"question_id":74975437,"body_markdown":"It turns out it&#39;s even easier than in sync http client:\r\n\r\n    HttpAsyncClients.custom()\r\n            .setIOReactorConfig(\r\n                IOReactorConfig.custom()\r\n                    .setSocksProxyAddress(InetSocketAddress(&quot;mysockshost&quot;, 1234))\r\n                    .build()\r\n            )\r\n            .build()","title":"How to configure async apache http client 5 to use SOCKS proxy?","body":"<p>It turns out it's even easier than in sync http client:</p>\n<pre><code>HttpAsyncClients.custom()\n        .setIOReactorConfig(\n            IOReactorConfig.custom()\n                .setSocksProxyAddress(InetSocketAddress(&quot;mysockshost&quot;, 1234))\n                .build()\n        )\n        .build()\n</code></pre>\n"}],"owner":{"account_id":6110762,"reputation":695,"user_id":4767134,"display_name":"anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74977115,"answer_count":1,"score":0,"last_activity_date":1693498936,"creation_date":1672586484,"question_id":74975437,"body_markdown":"I&#39;m trying to configure async http client to use SOCKS proxy. [Here][1] is the answer for sync http client. I don&#39;t know how to set `ConnectionSocketFactory` to async http client. Is it possible? \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22960881/4767134","title":"How to configure async apache http client 5 to use SOCKS proxy?","body":"<p>I'm trying to configure async http client to use SOCKS proxy. <a href=\"https://stackoverflow.com/a/22960881/4767134\">Here</a> is the answer for sync http client. I don't know how to set <code>ConnectionSocketFactory</code> to async http client. Is it possible?</p>\n"},{"tags":["java","tensorflow"],"owner":{"account_id":242409,"reputation":1411,"user_id":513904,"accept_rate":67,"display_name":"Eli S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693498870,"creation_date":1693319087,"question_id":77001074,"body_markdown":"I have been given a trained TensorFlow model as a SavedModelBundle and a sketch of how to use it. The code is below.\r\n\r\nThe problem is that I must not only use it, but repeat this over and over again with different data. These are not all known at the same time. The code below was repeats the entire process from retrieving the saved model to fetch() every time it is called. So it seems more appropriate for a small number of uses.  \r\n\r\nThere are several classes that collaborate in the example, including Model, Session, Runner. I would like to factor out any one-time operation or potentially persistent object and put it in an `init()` function. What I&#39;d like to know are:\r\n\r\n 1. What is the appropriate objects to relegate to init() and to store? Is it typical to load and configure a runner, store that, and just doing feeds, runs and fetches?\r\n 2. Are there Tensor resources I need to close? The documentation has warnings about freeing resources. Will everything be OK when `result` goes out of scope or do I need to call `close()`?\r\n\r\nCode:\r\n\r\n    SavedModelBundle model = SavedModelBundle.load(fname); \r\n    Session s = model.session();\r\n    \r\n    Runner runner = s.runner();\r\n    int nFeatures = tensorNames.length;\r\n    for (int i = 0; i &lt; nFeatures; i++) {\r\n        float[][] featureData = new float[][] { { rawdata[0][i] } };\r\n        Tensor&lt;Float&gt; input = Tensor.create(featureData, Float.class);\r\n        runner.feed(tensorNames[i], input);\r\n    }\r\n    \r\n    int nFeatures_int = tensorNames_int.length;\r\n    for (int i = 0; i &lt; nFeatures_int; i++) {\r\n        long[][] featureData_int = new long[][] { { rawdata_int[0][i] } };\r\n        Tensor&lt;Long&gt; input_int = Tensor.create(featureData_int, Long.class);\r\n        runner.feed(tensorNames_int[i], input_int);\r\n    }\r\n    \r\n    Tensor result = runner.fetch(&quot;StatefulPartitionedCall_2:0&quot;).run().get(0);\r\n    float[][] out = new float[1][1];\r\n    result.copyTo(out);\r\n    model.close();\r\n    return out[0][0];\r\n\r\n\r\n\r\n","title":"Efficient repeated use of TensorFlow in Java based on SavedModelBundle","body":"<p>I have been given a trained TensorFlow model as a SavedModelBundle and a sketch of how to use it. The code is below.</p>\n<p>The problem is that I must not only use it, but repeat this over and over again with different data. These are not all known at the same time. The code below was repeats the entire process from retrieving the saved model to fetch() every time it is called. So it seems more appropriate for a small number of uses.</p>\n<p>There are several classes that collaborate in the example, including Model, Session, Runner. I would like to factor out any one-time operation or potentially persistent object and put it in an <code>init()</code> function. What I'd like to know are:</p>\n<ol>\n<li>What is the appropriate objects to relegate to init() and to store? Is it typical to load and configure a runner, store that, and just doing feeds, runs and fetches?</li>\n<li>Are there Tensor resources I need to close? The documentation has warnings about freeing resources. Will everything be OK when <code>result</code> goes out of scope or do I need to call <code>close()</code>?</li>\n</ol>\n<p>Code:</p>\n<pre><code>SavedModelBundle model = SavedModelBundle.load(fname); \nSession s = model.session();\n\nRunner runner = s.runner();\nint nFeatures = tensorNames.length;\nfor (int i = 0; i &lt; nFeatures; i++) {\n    float[][] featureData = new float[][] { { rawdata[0][i] } };\n    Tensor&lt;Float&gt; input = Tensor.create(featureData, Float.class);\n    runner.feed(tensorNames[i], input);\n}\n\nint nFeatures_int = tensorNames_int.length;\nfor (int i = 0; i &lt; nFeatures_int; i++) {\n    long[][] featureData_int = new long[][] { { rawdata_int[0][i] } };\n    Tensor&lt;Long&gt; input_int = Tensor.create(featureData_int, Long.class);\n    runner.feed(tensorNames_int[i], input_int);\n}\n\nTensor result = runner.fetch(&quot;StatefulPartitionedCall_2:0&quot;).run().get(0);\nfloat[][] out = new float[1][1];\nresult.copyTo(out);\nmodel.close();\nreturn out[0][0];\n</code></pre>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1412977268,"post_id":26283832,"comment_id":41284629,"body_markdown":"Why don&#39;t You use `Set`?","body":"Why don&#39;t You use <code>Set</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1412934016,"creation_date":1412873635,"answer_id":26283903,"question_id":26283832,"body_markdown":"Just do:\r\n\r\n    when:\r\n        def expectedResults = [ ... ]\r\n        def realResults = getRealResultsMethod()\r\n\r\n    then:\r\n        realResults == expectedResults\r\n\r\nOr, if you don&#39;t care about order (which is breaking the contract of List, but there you go), you could do:\r\n\r\n    then:\r\n        realResults.sort() == expectedResults.sort()\r\n\r\nOr convert them to sets or something","title":"Assert two lists are equal in Spock framework","body":"<p>Just do:</p>\n\n<pre><code>when:\n    def expectedResults = [ ... ]\n    def realResults = getRealResultsMethod()\n\nthen:\n    realResults == expectedResults\n</code></pre>\n\n<p>Or, if you don't care about order (which is breaking the contract of List, but there you go), you could do:</p>\n\n<pre><code>then:\n    realResults.sort() == expectedResults.sort()\n</code></pre>\n\n<p>Or convert them to sets or something</p>\n"},{"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1500544646,"creation_date":1412933940,"answer_id":26296347,"question_id":26283832,"body_markdown":"If You just need to check if both lists have same elements You may try:\r\n\r\n    when:\r\n        def expectedResults = [ ... ]\r\n        def realResults = getRealResultsMethod()\r\n    \r\n    then:\r\n        realResults.size() == expectedResults.size()\r\n        realResults.containsAll(expectedResults)\r\n        expectedResults.containsAll(realResults)\r\n\r\nBut if You need to check if both lists are *equal* You just need (as in @tim_yates&#39; response):\r\n\r\n    when:\r\n        def expectedResults = [ ... ]\r\n        def realResults = getRealResultsMethod()\r\n    \r\n    then:\r\n        realResults == expectedResults\r\n\r\nRemember that two lists are equal only if they have the same elements in the same **order**.","title":"Assert two lists are equal in Spock framework","body":"<p>If You just need to check if both lists have same elements You may try:</p>\n\n<pre><code>when:\n    def expectedResults = [ ... ]\n    def realResults = getRealResultsMethod()\n\nthen:\n    realResults.size() == expectedResults.size()\n    realResults.containsAll(expectedResults)\n    expectedResults.containsAll(realResults)\n</code></pre>\n\n<p>But if You need to check if both lists are <em>equal</em> You just need (as in @tim_yates' response):</p>\n\n<pre><code>when:\n    def expectedResults = [ ... ]\n    def realResults = getRealResultsMethod()\n\nthen:\n    realResults == expectedResults\n</code></pre>\n\n<p>Remember that two lists are equal only if they have the same elements in the same <strong>order</strong>.</p>\n"},{"tags":[],"owner":{"account_id":362912,"reputation":3281,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1412946009,"creation_date":1412943110,"answer_id":26299168,"question_id":26283832,"body_markdown":"    list1.containsAll(list2) &amp;&amp; list2.containsAll(list1)","title":"Assert two lists are equal in Spock framework","body":"<pre><code>list1.containsAll(list2) &amp;&amp; list2.containsAll(list1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413344821,"creation_date":1413344520,"answer_id":26374117,"question_id":26283832,"body_markdown":"The semantic data structure you are seeking is often referred to as a *bag*. In a bag, as in a set, order of elements does not matter. However, in a bag, as in a list, repeat elements are allowed. Bag equality, then, consists of having the same elements each in the same amounts, although not necessarily in the same order. So it seems that what you are looking for is a way to apply &quot;bag&quot; semantics to your list. The easiest way to do this is to duplicate one of the bags and remove the other bag&#39;s elements from the duplicate until:\r\n\r\n - all the other bag&#39;s elements are exhausted and the duplicate is empty (they&#39;re equal!)\r\n - all the other bag&#39;s elements are exhausted and the duplicate is NOT empty (they&#39;re different!)\r\n - during the iteration, one of the other bag&#39;s elements can&#39;t be removed from the duplicate (they&#39;re different!)\r\n\r\nSomething like the `equals()` implementation shown below:\r\n\r\n    class Bag {\r\n        List list\r\n        Bag(List list) { this.list = list }\r\n        @Override boolean equals(that) {\r\n            def thisList = list?.clone() ?: []\r\n            that instanceof Bag &amp;&amp;\r\n                (that?.list ?: []).every { thisList.remove((Object)it) } &amp;&amp;\r\n                !thisList\r\n        }\r\n        @Override int hashCode() { this?.list?.sum { it?.hashCode() ?: 0 } ?: 0 }\r\n        @Override String toString() { this?.list?.toString() }\r\n    }\r\n    \r\n    def a = [1, 5, 1, -1, 8] as Bag\r\n    def b = [5, 1, -1, 8, 1] as Bag // same elements different order\r\n    def c = [1, 5, -1, 8]    as Bag // same elements different size\r\n    def d = [5, 5, 1, -1, 8] as Bag // same elements same size different amounts of each\r\n    \r\n    assert a == b\r\n    assert a != c\r\n    assert a != d\r\n    \r\n    println a    // [1, 5, 1, -1, 8]\r\n    println b    // [5, 1, -1, 8, 1]\r\n\r\n&lt;hr/&gt;\r\n\r\nAlternatively, if you don&#39;t care about the original list order at all, you can represent the bag as a map. The bag element values are the map keys are and the number of appearances of each bag element are the map values. At that point, equality is just map equality.\r\n\r\nLike this:\r\n\r\n    class BagAsMap {\r\n        Map map = [:]\r\n        BagAsMap(List list) {\r\n            (list ?: []).each { map[it] = (map[it] ?: 0) + 1 }\r\n        }\r\n        @Override boolean equals(that) {\r\n            that instanceof BagAsMap &amp;&amp; this?.map == that?.map\r\n        }\r\n        @Override int hashCode() { this?.map?.hashCode() ?: 0 }\r\n        @Override String toString() {\r\n            &#39;[&#39; + map.keySet().sum { k -&gt; (0..&lt;(map[k])).sum { &quot;${k}, &quot; } }[0..-3] + &#39;]&#39;\r\n        }\r\n    }\r\n    \r\n    def a1 = [1, 5, 1, -1, 8] as BagAsMap\r\n    def b1 = [5, 1, -1, 8, 1] as BagAsMap // same elements different order\r\n    def c1 = [1, 5, -1, 8]    as BagAsMap // same elements different size\r\n    def d1 = [5, 5, 1, -1, 8] as BagAsMap // same elements same size different amounts\r\n    \r\n    assert a1 == b1\r\n    assert a1 != c1\r\n    assert a1 != d1\r\n    \r\n    println a1\r\n    println b1\r\n\r\n&lt;hr/&gt;\r\n\r\nIn any case this is serious overkill if you just need to check order-neutral list equivalence once or twice, but if bag semantics are a frequent need, then defining a Bag class in one of these two ways is probably a good idea.\r\n\r\nAs noted elsewhere, in this specific case, `a.sort() == b.sort()` is a sufficient stopgap in place of full bag semantics. However, not all objects that might be placed in a list together are mutually sortable, even with the most sophisticated comparator closure. However, they all have `hashCode()` and `equals()`, which is all that is needed for either bag implementation shown.\r\n\r\nFurthermore, `List.sort()` has *O(n log n)* algorithmic complexity, whereas all the bag operations shown are *O(n)* complexity. Not worth worrying about for these small lists, but a much bigger deal for large ones.","title":"Assert two lists are equal in Spock framework","body":"<p>The semantic data structure you are seeking is often referred to as a <em>bag</em>. In a bag, as in a set, order of elements does not matter. However, in a bag, as in a list, repeat elements are allowed. Bag equality, then, consists of having the same elements each in the same amounts, although not necessarily in the same order. So it seems that what you are looking for is a way to apply \"bag\" semantics to your list. The easiest way to do this is to duplicate one of the bags and remove the other bag's elements from the duplicate until:</p>\n\n<ul>\n<li>all the other bag's elements are exhausted and the duplicate is empty (they're equal!)</li>\n<li>all the other bag's elements are exhausted and the duplicate is NOT empty (they're different!)</li>\n<li>during the iteration, one of the other bag's elements can't be removed from the duplicate (they're different!)</li>\n</ul>\n\n<p>Something like the <code>equals()</code> implementation shown below:</p>\n\n<pre><code>class Bag {\n    List list\n    Bag(List list) { this.list = list }\n    @Override boolean equals(that) {\n        def thisList = list?.clone() ?: []\n        that instanceof Bag &amp;&amp;\n            (that?.list ?: []).every { thisList.remove((Object)it) } &amp;&amp;\n            !thisList\n    }\n    @Override int hashCode() { this?.list?.sum { it?.hashCode() ?: 0 } ?: 0 }\n    @Override String toString() { this?.list?.toString() }\n}\n\ndef a = [1, 5, 1, -1, 8] as Bag\ndef b = [5, 1, -1, 8, 1] as Bag // same elements different order\ndef c = [1, 5, -1, 8]    as Bag // same elements different size\ndef d = [5, 5, 1, -1, 8] as Bag // same elements same size different amounts of each\n\nassert a == b\nassert a != c\nassert a != d\n\nprintln a    // [1, 5, 1, -1, 8]\nprintln b    // [5, 1, -1, 8, 1]\n</code></pre>\n\n<hr/>\n\n<p>Alternatively, if you don't care about the original list order at all, you can represent the bag as a map. The bag element values are the map keys are and the number of appearances of each bag element are the map values. At that point, equality is just map equality.</p>\n\n<p>Like this:</p>\n\n<pre><code>class BagAsMap {\n    Map map = [:]\n    BagAsMap(List list) {\n        (list ?: []).each { map[it] = (map[it] ?: 0) + 1 }\n    }\n    @Override boolean equals(that) {\n        that instanceof BagAsMap &amp;&amp; this?.map == that?.map\n    }\n    @Override int hashCode() { this?.map?.hashCode() ?: 0 }\n    @Override String toString() {\n        '[' + map.keySet().sum { k -&gt; (0..&lt;(map[k])).sum { \"${k}, \" } }[0..-3] + ']'\n    }\n}\n\ndef a1 = [1, 5, 1, -1, 8] as BagAsMap\ndef b1 = [5, 1, -1, 8, 1] as BagAsMap // same elements different order\ndef c1 = [1, 5, -1, 8]    as BagAsMap // same elements different size\ndef d1 = [5, 5, 1, -1, 8] as BagAsMap // same elements same size different amounts\n\nassert a1 == b1\nassert a1 != c1\nassert a1 != d1\n\nprintln a1\nprintln b1\n</code></pre>\n\n<hr/>\n\n<p>In any case this is serious overkill if you just need to check order-neutral list equivalence once or twice, but if bag semantics are a frequent need, then defining a Bag class in one of these two ways is probably a good idea.</p>\n\n<p>As noted elsewhere, in this specific case, <code>a.sort() == b.sort()</code> is a sufficient stopgap in place of full bag semantics. However, not all objects that might be placed in a list together are mutually sortable, even with the most sophisticated comparator closure. However, they all have <code>hashCode()</code> and <code>equals()</code>, which is all that is needed for either bag implementation shown.</p>\n\n<p>Furthermore, <code>List.sort()</code> has <em>O(n log n)</em> algorithmic complexity, whereas all the bag operations shown are <em>O(n)</em> complexity. Not worth worrying about for these small lists, but a much bigger deal for large ones.</p>\n"},{"tags":[],"owner":{"account_id":12166027,"reputation":398,"user_id":8882316,"display_name":"dominikbrandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693498837,"creation_date":1693498837,"answer_id":77017657,"question_id":26283832,"body_markdown":"Since Spock 2.1 there&#39;s a much better option built-in, than the ones mentioned in other answers: `=~` and `==~` operators. See more [in the docs](https://spockframework.org/spock/docs/2.3/all_in_one.html#collection-conditions).\r\n\r\n`==~` does exactly what you wanted: 2 lists are equal only when they contain equal objects in the same amount, ignoring the order.\r\n\r\nIn your case:\r\n\r\n    def list = [1,5,8]\r\n\r\n    def list1 = [5,1,8]    \r\n    def list2 = [1,5,8,9]\r\n\r\n    list ==~ list1 // true\r\n    list ==~ list2 // false","title":"Assert two lists are equal in Spock framework","body":"<p>Since Spock 2.1 there's a much better option built-in, than the ones mentioned in other answers: <code>=~</code> and <code>==~</code> operators. See more <a href=\"https://spockframework.org/spock/docs/2.3/all_in_one.html#collection-conditions\" rel=\"nofollow noreferrer\">in the docs</a>.</p>\n<p><code>==~</code> does exactly what you wanted: 2 lists are equal only when they contain equal objects in the same amount, ignoring the order.</p>\n<p>In your case:</p>\n<pre><code>def list = [1,5,8]\n\ndef list1 = [5,1,8]    \ndef list2 = [1,5,8,9]\n\nlist ==~ list1 // true\nlist ==~ list2 // false\n</code></pre>\n"}],"owner":{"account_id":362912,"reputation":3281,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28947,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":26283903,"answer_count":5,"score":20,"last_activity_date":1693498837,"creation_date":1412873381,"question_id":26283832,"body_markdown":"I test my application using Spock framework, the tests are written in Groovy.\r\n\r\nAs a result of some method evaluation I have a list of objects. I want to test if this list is the same as the list I expect. I have coded the following: \r\n\r\n    def expectedResults = [ ... ] //the list I expect to see\r\n    def isEqual = true;\r\n\r\n    when:\r\n    def realResults = getRealResultsMethod() //get real results in a list here\r\n    expectedResults.each {isEqual &amp;= realResults.contains(it)}\r\n    then:\r\n    isEqual\r\n    0 * errorHandler.handleError(_) //by the way assert that my errorHandler is never called\r\n\r\nThis is one of my first experiences with Groovy, so may be I am missing something?\r\n\r\nPS\r\n\r\nWhat confuses me is &#39;equals&#39; operator in Groovy and Spock. Given Java ArrayList or Java array, equals operator is simply identity operator: equals is ==. In Groovy as far as I understand default equals operator is really equals (form here: http://groovy.codehaus.org/Differences+from+Java). But what is &#39;equals&#39; for Groovy List or Set? \r\n\r\nUPDATE\r\n\r\nTo be more precise.\r\nI want to find out wether the two lists have the same objects, no extra objects for both list, the order doesn&#39;t matter. For example:\r\n\r\n    list=[1,5,8]\r\n   \r\n    list1=[5,1,8]    \r\n    list2=[1,5,8,9]\r\n        \r\n    println(list == list1) //should be equal, if we use == not equal    \r\n    println(list == list2) //should not be equal, if we use == not equal","title":"Assert two lists are equal in Spock framework","body":"<p>I test my application using Spock framework, the tests are written in Groovy.</p>\n\n<p>As a result of some method evaluation I have a list of objects. I want to test if this list is the same as the list I expect. I have coded the following: </p>\n\n<pre><code>def expectedResults = [ ... ] //the list I expect to see\ndef isEqual = true;\n\nwhen:\ndef realResults = getRealResultsMethod() //get real results in a list here\nexpectedResults.each {isEqual &amp;= realResults.contains(it)}\nthen:\nisEqual\n0 * errorHandler.handleError(_) //by the way assert that my errorHandler is never called\n</code></pre>\n\n<p>This is one of my first experiences with Groovy, so may be I am missing something?</p>\n\n<p>PS</p>\n\n<p>What confuses me is 'equals' operator in Groovy and Spock. Given Java ArrayList or Java array, equals operator is simply identity operator: equals is ==. In Groovy as far as I understand default equals operator is really equals (form here: <a href=\"http://groovy.codehaus.org/Differences+from+Java\" rel=\"noreferrer\">http://groovy.codehaus.org/Differences+from+Java</a>). But what is 'equals' for Groovy List or Set? </p>\n\n<p>UPDATE</p>\n\n<p>To be more precise.\nI want to find out wether the two lists have the same objects, no extra objects for both list, the order doesn't matter. For example:</p>\n\n<pre><code>list=[1,5,8]\n\nlist1=[5,1,8]    \nlist2=[1,5,8,9]\n\nprintln(list == list1) //should be equal, if we use == not equal    \nprintln(list == list2) //should not be equal, if we use == not equal\n</code></pre>\n"},{"tags":["java","micronaut","inject"],"comments":[{"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"score":2,"creation_date":1686241745,"post_id":76432071,"comment_id":134775406,"body_markdown":"Take a look at this guide: https://guides.micronaut.io/latest/micronaut-configuration.html","body":"Take a look at this guide: <a href=\"https://guides.micronaut.io/latest/micronaut-configuration.html\" rel=\"nofollow noreferrer\">guides.micronaut.io/latest/micronaut-configuration.html</a>"}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693498629,"creation_date":1686228831,"question_id":76432071,"body_markdown":"I&#39;m using micronaut and I have a list of properties defined in the application yml file, this is an example:\r\n```\r\ninbound:\r\n  validations:\r\n    VALIDATION1:\r\n      description: bla bla\r\n      filter:\r\n        erps:\r\n          - erp1\r\n        type:\r\n          - type1\r\n    VALIDATION2:\r\n      description: bla bla\r\n      filter:\r\n        erps:\r\n          - erp1\r\n        type:\r\n          - type1\r\n    VALIDATION3:\r\n      description: bla bla\r\n      filter:\r\n        erps:\r\n          - erp1\r\n        type:\r\n          - type1\r\n```\r\n\r\nI want to inject each of this items in a java class, I have defined this one:\r\n```\r\n@Data\r\n@EachProperty(&quot;inbound.validations&quot;)\r\npublic class ConfigBusinessProductValidator {\r\n    public ConfigBusinessProductValidator(@Parameter BusinessValidator.VALIDATION_ID validationId) {\r\n        this.validationId = validationId;\r\n    }\r\n    \r\n    private BusinessValidator.VALIDATION_ID validationId;\r\n\r\n    private String description;\r\n\r\n    private FilterConfig filter;\r\n    \r\n    public class FilterConfig{\r\n        private Set&lt;ErpEnum&gt; erps;\r\n        private Set&lt;LogisticsTypeEnum&gt; logisticsType;\r\n        private Set&lt;CompanyEnum&gt; ownerCompany;\r\n    }\r\n\r\n}\r\n```\r\nThis is working for the fields that are in the root but not for the filter. \r\n\r\nHow can I define the class so micronaut can inject the attributes under filter level?\r\n\r\n","title":"Micronaut inject yml properties in java","body":"<p>I'm using micronaut and I have a list of properties defined in the application yml file, this is an example:</p>\n<pre><code>inbound:\n  validations:\n    VALIDATION1:\n      description: bla bla\n      filter:\n        erps:\n          - erp1\n        type:\n          - type1\n    VALIDATION2:\n      description: bla bla\n      filter:\n        erps:\n          - erp1\n        type:\n          - type1\n    VALIDATION3:\n      description: bla bla\n      filter:\n        erps:\n          - erp1\n        type:\n          - type1\n</code></pre>\n<p>I want to inject each of this items in a java class, I have defined this one:</p>\n<pre><code>@Data\n@EachProperty(&quot;inbound.validations&quot;)\npublic class ConfigBusinessProductValidator {\n    public ConfigBusinessProductValidator(@Parameter BusinessValidator.VALIDATION_ID validationId) {\n        this.validationId = validationId;\n    }\n    \n    private BusinessValidator.VALIDATION_ID validationId;\n\n    private String description;\n\n    private FilterConfig filter;\n    \n    public class FilterConfig{\n        private Set&lt;ErpEnum&gt; erps;\n        private Set&lt;LogisticsTypeEnum&gt; logisticsType;\n        private Set&lt;CompanyEnum&gt; ownerCompany;\n    }\n\n}\n</code></pre>\n<p>This is working for the fields that are in the root but not for the filter.</p>\n<p>How can I define the class so micronaut can inject the attributes under filter level?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9783,"page":209,"page_size":100}
