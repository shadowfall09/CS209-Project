{"items":[{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":1,"creation_date":1647331287,"post_id":71478330,"comment_id":126337840,"body_markdown":"ConnectionClosedException seems to hint at the fac that your Spring Boot application cannot establish a connection to your ES cluster, maybe?","body":"ConnectionClosedException seems to hint at the fac that your Spring Boot application cannot establish a connection to your ES cluster, maybe?"},{"owner":{"account_id":21985071,"reputation":3,"user_id":16259477,"display_name":"Siddhant Sharma"},"score":1,"creation_date":1647332293,"post_id":71478330,"comment_id":126338177,"body_markdown":"When I run the app, on cmd window where ES is running I get &quot;received plaintext http traffic on an https channel, closing connection&quot; message. Is this helpful?","body":"When I run the app, on cmd window where ES is running I get &quot;received plaintext http traffic on an https channel, closing connection&quot; message. Is this helpful?"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1647332437,"post_id":71478330,"comment_id":126338224,"body_markdown":"Yes, it looks like you&#39;re using ES8, so you can find the answer to your question in this thread: https://stackoverflow.com/q/71469707/4604579 (hint: SSL/TLS is on by default in ES8)","body":"Yes, it looks like you&#39;re using ES8, so you can find the answer to your question in this thread: <a href=\"https://stackoverflow.com/q/71469707/4604579\">stackoverflow.com/q/71469707/4604579</a> (hint: SSL/TLS is on by default in ES8)"},{"owner":{"account_id":21985071,"reputation":3,"user_id":16259477,"display_name":"Siddhant Sharma"},"score":0,"creation_date":1647332898,"post_id":71478330,"comment_id":126338378,"body_markdown":"Yes I can access through https but I want the application to run. The application is not running and when I run I get the above exception in eclipse and the plaintext message on the cmd window.","body":"Yes I can access through https but I want the application to run. The application is not running and when I run I get the above exception in eclipse and the plaintext message on the cmd window."},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1647332988,"post_id":71478330,"comment_id":126338417,"body_markdown":"...which means the application is accessing ES using http instead of https","body":"...which means the application is accessing ES using http instead of https"},{"owner":{"account_id":21985071,"reputation":3,"user_id":16259477,"display_name":"Siddhant Sharma"},"score":0,"creation_date":1647333023,"post_id":71478330,"comment_id":126338430,"body_markdown":"Exactly, how do I change such that it uses https?","body":"Exactly, how do I change such that it uses https?"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647337625,"creation_date":1647333678,"answer_id":71479222,"question_id":71478330,"body_markdown":"ConnectionClosedException seems to hint at the fact that your Spring Boot application cannot establish a connection to your ES cluster.\r\n\r\nIt looks like you&#39;re using ES8, which has SSL/TLS on by default, so you would need to configure your Spring Boot application to use SSL instead.\r\n\r\nAt 6:00 into the video, `elasticsearch.url` in `application.properties` should be `https://localhost:9200` instead of just `localhost:9200`.\r\n\r\nHowever, as of March 15th 2022, it doesn&#39;t seem like [ES 8 is supported by Spring Data ES](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions) yet, you might need to revert to the ES 7.15+ release.","title":"Getting Exceptions while running a Spring boot app with elasticsearch","body":"<p>ConnectionClosedException seems to hint at the fact that your Spring Boot application cannot establish a connection to your ES cluster.</p>\n<p>It looks like you're using ES8, which has SSL/TLS on by default, so you would need to configure your Spring Boot application to use SSL instead.</p>\n<p>At 6:00 into the video, <code>elasticsearch.url</code> in <code>application.properties</code> should be <code>https://localhost:9200</code> instead of just <code>localhost:9200</code>.</p>\n<p>However, as of March 15th 2022, it doesn't seem like <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions\" rel=\"nofollow noreferrer\">ES 8 is supported by Spring Data ES</a> yet, you might need to revert to the ES 7.15+ release.</p>\n"},{"tags":[],"owner":{"account_id":10464171,"reputation":41,"user_id":7714014,"display_name":"zenuve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659373093,"creation_date":1659373093,"answer_id":73197139,"question_id":71478330,"body_markdown":"A working spring boot client config with SpringBoot 2.7.1 and Elastic 8.3.3\r\n\r\n```\r\n//Below 3 lines are added to make elastic client version 7.17.4 compatible with elastic server version 8x\r\n HttpHeaders compatibilityHeaders = new HttpHeaders();\r\n        compatibilityHeaders.add(&quot;Accept&quot;, &quot;application/vnd.elasticsearch+json;compatible-with=7&quot;);\r\n        compatibilityHeaders.add(&quot;Content-Type&quot;, &quot;application/vnd.elasticsearch+json;&quot;\r\n                + &quot;compatible-with=7&quot;);\r\n\r\n        final ClientConfiguration clientConfiguration =\r\n                ClientConfiguration\r\n                        .builder()\r\n                        .connectedTo(&lt;HostName without https://&gt; + &quot;:&quot; + &lt;Port&gt;)\r\n                        .usingSsl()\r\n                        .withBasicAuth(esConnectionDetails.getUsername(), esConnectionDetails.getPassword())\r\n                        .withDefaultHeaders(compatibilityHeaders)    // this variant for imperative code\r\n                        .build();\r\n\r\nRestHighLevelClient = RestClients.create(clientConfiguration).rest();\r\n```\r\n\r\n\r\nReference:- https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.rest","title":"Getting Exceptions while running a Spring boot app with elasticsearch","body":"<p>A working spring boot client config with SpringBoot 2.7.1 and Elastic 8.3.3</p>\n<pre><code>//Below 3 lines are added to make elastic client version 7.17.4 compatible with elastic server version 8x\n HttpHeaders compatibilityHeaders = new HttpHeaders();\n        compatibilityHeaders.add(&quot;Accept&quot;, &quot;application/vnd.elasticsearch+json;compatible-with=7&quot;);\n        compatibilityHeaders.add(&quot;Content-Type&quot;, &quot;application/vnd.elasticsearch+json;&quot;\n                + &quot;compatible-with=7&quot;);\n\n        final ClientConfiguration clientConfiguration =\n                ClientConfiguration\n                        .builder()\n                        .connectedTo(&lt;HostName without https://&gt; + &quot;:&quot; + &lt;Port&gt;)\n                        .usingSsl()\n                        .withBasicAuth(esConnectionDetails.getUsername(), esConnectionDetails.getPassword())\n                        .withDefaultHeaders(compatibilityHeaders)    // this variant for imperative code\n                        .build();\n\nRestHighLevelClient = RestClients.create(clientConfiguration).rest();\n</code></pre>\n<p>Reference:- <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.rest\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.rest</a></p>\n"},{"tags":[],"owner":{"account_id":28899240,"reputation":1,"user_id":22134596,"display_name":"Sabab Ali Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687798264,"creation_date":1687798108,"answer_id":76558725,"question_id":71478330,"body_markdown":"    Above will get issue related to SSL certificates. To configure SSL in configuration use the below code.\r\n    \r\n                  @Bean\r\n                  @Override\r\n                  public RestHighLevelClient elasticsearchClient() {\r\n                  RestHighLevelClient client = null;\r\n                  try {\r\n                      final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n                      credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;fdfd65645thtyhu768&quot;));\r\n        \r\n                      SSLContextBuilder sslBuilder = SSLContexts.custom().loadTrustMaterial(null, (x509Certificates, s) -&gt; true);\r\n                      final SSLContext sslContext = sslBuilder.build();\r\n                      client = new RestHighLevelClient(RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;https&quot;))\r\n                                .setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n                                     @Override\r\n                                     public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n                                          return httpClientBuilder.setSSLContext(sslContext)\r\n                                                   .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n                                                   .setDefaultCredentialsProvider(credentialsProvider);\r\n                                     }\r\n                                }).setRequestConfigCallback(new RestClientBuilder.RequestConfigCallback() {\r\n                                     @Override\r\n                                     public RequestConfig.Builder customizeRequestConfig(\r\n                                              RequestConfig.Builder requestConfigBuilder) {\r\n                                          return requestConfigBuilder.setConnectTimeout(5000).setSocketTimeout(120000);\r\n                                     }\r\n                                }));\r\n                       System.out.println(&quot;elasticsearch client created&quot;);\r\n                      return client;\r\n                  } catch (Exception exp) {\r\n                       System.out.println(&quot;Exception while client init {}&quot;, exp.getMessage());\r\n                  }\r\n                  return client;\r\n             }\r\n\r\n","title":"Getting Exceptions while running a Spring boot app with elasticsearch","body":"<pre><code>Above will get issue related to SSL certificates. To configure SSL in configuration use the below code.\n\n              @Bean\n              @Override\n              public RestHighLevelClient elasticsearchClient() {\n              RestHighLevelClient client = null;\n              try {\n                  final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n                  credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;fdfd65645thtyhu768&quot;));\n    \n                  SSLContextBuilder sslBuilder = SSLContexts.custom().loadTrustMaterial(null, (x509Certificates, s) -&gt; true);\n                  final SSLContext sslContext = sslBuilder.build();\n                  client = new RestHighLevelClient(RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;https&quot;))\n                            .setHttpClientConfigCallback(new HttpClientConfigCallback() {\n                                 @Override\n                                 public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                                      return httpClientBuilder.setSSLContext(sslContext)\n                                               .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n                                               .setDefaultCredentialsProvider(credentialsProvider);\n                                 }\n                            }).setRequestConfigCallback(new RestClientBuilder.RequestConfigCallback() {\n                                 @Override\n                                 public RequestConfig.Builder customizeRequestConfig(\n                                          RequestConfig.Builder requestConfigBuilder) {\n                                      return requestConfigBuilder.setConnectTimeout(5000).setSocketTimeout(120000);\n                                 }\n                            }));\n                   System.out.println(&quot;elasticsearch client created&quot;);\n                  return client;\n              } catch (Exception exp) {\n                   System.out.println(&quot;Exception while client init {}&quot;, exp.getMessage());\n              }\n              return client;\n         }\n</code></pre>\n"}],"owner":{"account_id":21985071,"reputation":3,"user_id":16259477,"display_name":"Siddhant Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71479222,"answer_count":3,"score":0,"last_activity_date":1687798264,"creation_date":1647329096,"question_id":71478330,"body_markdown":"I was following this tutorial: https://www.youtube.com/watch?v=IiZZAu2Qtp0&amp;ab_channel=LiliumCode\r\n\r\nand the only changes I made were that I was using maven with eclipse instead. The rest of the code is exactly the same. When I run the app I get:\r\n\r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;personController&#39; defined in file [D:\\Java Programs\\Spring\\elasticsearch\\target\\classes\\com\\elastic\\elasticsearch\\controller\\PersonController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;personService&#39; defined in file [D:\\Java Programs\\Spring\\elasticsearch\\target\\classes\\com\\elastic\\elasticsearch\\service\\PersonService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;personRepository&#39; defined in com.elastic.elasticsearch.repository.PersonRepository defined in @EnableElasticsearchRepositories declared on Config: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat com.elastic.elasticsearch.ElasticsearchApplication.main(ElasticsearchApplication.java:10) ~[classes/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;personService&#39; defined in file [D:\\Java Programs\\Spring\\elasticsearch\\target\\classes\\com\\elastic\\elasticsearch\\service\\PersonService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;personRepository&#39; defined in com.elastic.elasticsearch.repository.PersonRepository defined in @EnableElasticsearchRepositories declared on Config: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 19 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;personRepository&#39; defined in com.elastic.elasticsearch.repository.PersonRepository defined in @EnableElasticsearchRepositories declared on Config: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 33 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:578) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:578) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:543) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:74) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 44 common frames omitted\r\n    Caused by: org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\r\n    \tat org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:72) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:427) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:410) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat org.springframework.data.elasticsearch.core.RestIndexTemplate.doExists(RestIndexTemplate.java:103) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat org.springframework.data.elasticsearch.core.AbstractIndexTemplate.exists(AbstractIndexTemplate.java:134) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.&lt;init&gt;(SimpleElasticsearchRepository.java:92) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.16.jar:5.3.16]\r\n    \t... 57 common frames omitted\r\n    Caused by: org.elasticsearch.ElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2078) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1732) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1717) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.IndicesClient.exists(IndicesClient.java:963) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.springframework.data.elasticsearch.core.RestIndexTemplate.lambda$doExists$2(RestIndexTemplate.java:103) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:408) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n    \t... 66 common frames omitted\r\n    Caused by: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed\r\n    \tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.getValue(BaseFuture.java:262) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:249) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:76) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2075) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \t... 71 common frames omitted\r\n    Caused by: org.apache.http.ConnectionClosedException: Connection is closed\r\n    \tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.endOfInput(HttpAsyncRequestExecutor.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:261) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nMy elasticsearch.yml:\r\n\r\n    # ======================== Elasticsearch Configuration =========================\r\n    #\r\n    # NOTE: Elasticsearch comes with reasonable defaults for most settings.\r\n    #       Before you set out to tweak and tune the configuration, make sure you\r\n    #       understand what are you trying to accomplish and the consequences.\r\n    #\r\n    # The primary way of configuring a node is via this file. This template lists\r\n    # the most important settings you may want to configure for a production cluster.\r\n    #\r\n    # Please consult the documentation for further information on configuration options:\r\n    # https://www.elastic.co/guide/en/elasticsearch/reference/index.html\r\n    #\r\n    # ---------------------------------- Cluster -----------------------------------\r\n    #\r\n    # Use a descriptive name for your cluster:\r\n    #\r\n    cluster.name: elastic_course\r\n    #\r\n    # ------------------------------------ Node ------------------------------------\r\n    #\r\n    # Use a descriptive name for the node:\r\n    #\r\n    node.name: crud_node\r\n    #\r\n    # Add custom attributes to the node:\r\n    #\r\n    #node.attr.rack: r1\r\n    #\r\n    # ----------------------------------- Paths ------------------------------------\r\n    #\r\n    # Path to directory where to store the data (separate multiple locations by comma):\r\n    #\r\n    #path.data: /path/to/data\r\n    #\r\n    # Path to log files:\r\n    #\r\n    #path.logs: /path/to/logs\r\n    #\r\n    # ----------------------------------- Memory -----------------------------------\r\n    #\r\n    # Lock the memory on startup:\r\n    #\r\n    #bootstrap.memory_lock: true\r\n    #\r\n    # Make sure that the heap size is set to about half the memory available\r\n    # on the system and that the owner of the process is allowed to use this\r\n    # limit.\r\n    #\r\n    # Elasticsearch performs poorly when the system is swapping the memory.\r\n    #\r\n    # ---------------------------------- Network -----------------------------------\r\n    #\r\n    # By default Elasticsearch is only accessible on localhost. Set a different\r\n    # address here to expose this node on the network:\r\n    #\r\n    #network.host: 192.168.0.1\r\n    #\r\n    # By default Elasticsearch listens for HTTP traffic on the first free port it\r\n    # finds starting at 9200. Set a specific HTTP port here:\r\n    #\r\n    #http.port: 9200\r\n    #\r\n    # For more information, consult the network module documentation.\r\n    #\r\n    # --------------------------------- Discovery ----------------------------------\r\n    #\r\n    # Pass an initial list of hosts to perform discovery when this node is started:\r\n    # The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]\r\n    #\r\n    #discovery.seed_hosts: [&quot;host1&quot;]\r\n    #\r\n    #discovery.type: single-node\r\n    #\r\n    # Bootstrap the cluster using an initial set of master-eligible nodes:\r\n    #\r\n    #cluster.initial_master_nodes: [&quot;node-1&quot;]\r\n    #\r\n    # For more information, consult the discovery and cluster formation module documentation.\r\n    #\r\n    # ---------------------------------- Various -----------------------------------\r\n    #\r\n    # Allow wildcard deletion of indices:\r\n    #\r\n    #action.destructive_requires_name: false\r\n    \r\n    #----------------------- BEGIN SECURITY AUTO CONFIGURATION -----------------------\r\n    #\r\n    # The following settings, TLS certificates, and keys have been automatically\r\n    # generated to configure Elasticsearch security features on 10-03-2022 10:08:43\r\n    #\r\n    # --------------------------------------------------------------------------------\r\n    \r\n    # Enable security features\r\n    xpack.security.enabled: true\r\n    \r\n    xpack.security.enrollment.enabled: true\r\n    \r\n    # Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents\r\n    xpack.security.http.ssl:\r\n      enabled: true\r\n      keystore.path: certs/http.p12\r\n    \r\n    # Enable encryption and mutual authentication between cluster nodes\r\n    xpack.security.transport.ssl:\r\n      enabled: true\r\n      verification_mode: certificate\r\n      keystore.path: certs/transport.p12\r\n      truststore.path: certs/transport.p12\r\n    # Create a new cluster with the current node only\r\n    # Additional nodes can still join the cluster later\r\n    cluster.initial_master_nodes: [&quot;DESKTOP-0O0S7HQ&quot;]\r\n    \r\n    # Allow HTTP API connections from localhost and local networks\r\n    # Connections are encrypted and require user authentication\r\n    http.host: [_local_, _site_]\r\n    \r\n    # Allow other nodes to join the cluster from localhost and local networks\r\n    # Connections are encrypted and mutually authenticated\r\n    #transport.host: [_local_, _site_]\r\n    \r\n    #----------------------- END SECURITY AUTO CONFIGURATION -------------------------\r\n\r\nI have tried out searching the exceptions online but nothing seems to work. Please help me in figuring this out. Thank you.","title":"Getting Exceptions while running a Spring boot app with elasticsearch","body":"<p>I was following this tutorial: <a href=\"https://www.youtube.com/watch?v=IiZZAu2Qtp0&amp;ab_channel=LiliumCode\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=IiZZAu2Qtp0&amp;ab_channel=LiliumCode</a></p>\n<p>and the only changes I made were that I was using maven with eclipse instead. The rest of the code is exactly the same. When I run the app I get:</p>\n<pre><code>    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'personController' defined in file [D:\\Java Programs\\Spring\\elasticsearch\\target\\classes\\com\\elastic\\elasticsearch\\controller\\PersonController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'personService' defined in file [D:\\Java Programs\\Spring\\elasticsearch\\target\\classes\\com\\elastic\\elasticsearch\\service\\PersonService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'personRepository' defined in com.elastic.elasticsearch.repository.PersonRepository defined in @EnableElasticsearchRepositories declared on Config: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.elastic.elasticsearch.ElasticsearchApplication.main(ElasticsearchApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'personService' defined in file [D:\\Java Programs\\Spring\\elasticsearch\\target\\classes\\com\\elastic\\elasticsearch\\service\\PersonService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'personRepository' defined in com.elastic.elasticsearch.repository.PersonRepository defined in @EnableElasticsearchRepositories declared on Config: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'personRepository' defined in com.elastic.elasticsearch.repository.PersonRepository defined in @EnableElasticsearchRepositories declared on Config: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:578) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:578) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:543) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:74) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 44 common frames omitted\nCaused by: org.springframework.data.elasticsearch.UncategorizedElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed; nested exception is ElasticsearchException[java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed]; nested: ExecutionException[org.apache.http.ConnectionClosedException: Connection is closed]; nested: ConnectionClosedException[Connection is closed];\n    at org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:72) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:427) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:410) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.core.RestIndexTemplate.doExists(RestIndexTemplate.java:103) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.core.AbstractIndexTemplate.exists(AbstractIndexTemplate.java:134) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.&lt;init&gt;(SimpleElasticsearchRepository.java:92) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.16.jar:5.3.16]\n    ... 57 common frames omitted\nCaused by: org.elasticsearch.ElasticsearchException: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed\n    at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2078) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1732) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1717) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.IndicesClient.exists(IndicesClient.java:963) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.springframework.data.elasticsearch.core.RestIndexTemplate.lambda$doExists$2(RestIndexTemplate.java:103) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:408) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    ... 66 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.http.ConnectionClosedException: Connection is closed\n    at org.elasticsearch.common.util.concurrent.BaseFuture$Sync.getValue(BaseFuture.java:262) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:249) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:76) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2075) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    ... 71 common frames omitted\nCaused by: org.apache.http.ConnectionClosedException: Connection is closed\n    at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.endOfInput(HttpAsyncRequestExecutor.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:261) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My elasticsearch.yml:</p>\n<pre><code># ======================== Elasticsearch Configuration =========================\n#\n# NOTE: Elasticsearch comes with reasonable defaults for most settings.\n#       Before you set out to tweak and tune the configuration, make sure you\n#       understand what are you trying to accomplish and the consequences.\n#\n# The primary way of configuring a node is via this file. This template lists\n# the most important settings you may want to configure for a production cluster.\n#\n# Please consult the documentation for further information on configuration options:\n# https://www.elastic.co/guide/en/elasticsearch/reference/index.html\n#\n# ---------------------------------- Cluster -----------------------------------\n#\n# Use a descriptive name for your cluster:\n#\ncluster.name: elastic_course\n#\n# ------------------------------------ Node ------------------------------------\n#\n# Use a descriptive name for the node:\n#\nnode.name: crud_node\n#\n# Add custom attributes to the node:\n#\n#node.attr.rack: r1\n#\n# ----------------------------------- Paths ------------------------------------\n#\n# Path to directory where to store the data (separate multiple locations by comma):\n#\n#path.data: /path/to/data\n#\n# Path to log files:\n#\n#path.logs: /path/to/logs\n#\n# ----------------------------------- Memory -----------------------------------\n#\n# Lock the memory on startup:\n#\n#bootstrap.memory_lock: true\n#\n# Make sure that the heap size is set to about half the memory available\n# on the system and that the owner of the process is allowed to use this\n# limit.\n#\n# Elasticsearch performs poorly when the system is swapping the memory.\n#\n# ---------------------------------- Network -----------------------------------\n#\n# By default Elasticsearch is only accessible on localhost. Set a different\n# address here to expose this node on the network:\n#\n#network.host: 192.168.0.1\n#\n# By default Elasticsearch listens for HTTP traffic on the first free port it\n# finds starting at 9200. Set a specific HTTP port here:\n#\n#http.port: 9200\n#\n# For more information, consult the network module documentation.\n#\n# --------------------------------- Discovery ----------------------------------\n#\n# Pass an initial list of hosts to perform discovery when this node is started:\n# The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]\n#\n#discovery.seed_hosts: [&quot;host1&quot;]\n#\n#discovery.type: single-node\n#\n# Bootstrap the cluster using an initial set of master-eligible nodes:\n#\n#cluster.initial_master_nodes: [&quot;node-1&quot;]\n#\n# For more information, consult the discovery and cluster formation module documentation.\n#\n# ---------------------------------- Various -----------------------------------\n#\n# Allow wildcard deletion of indices:\n#\n#action.destructive_requires_name: false\n\n#----------------------- BEGIN SECURITY AUTO CONFIGURATION -----------------------\n#\n# The following settings, TLS certificates, and keys have been automatically\n# generated to configure Elasticsearch security features on 10-03-2022 10:08:43\n#\n# --------------------------------------------------------------------------------\n\n# Enable security features\nxpack.security.enabled: true\n\nxpack.security.enrollment.enabled: true\n\n# Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents\nxpack.security.http.ssl:\n  enabled: true\n  keystore.path: certs/http.p12\n\n# Enable encryption and mutual authentication between cluster nodes\nxpack.security.transport.ssl:\n  enabled: true\n  verification_mode: certificate\n  keystore.path: certs/transport.p12\n  truststore.path: certs/transport.p12\n# Create a new cluster with the current node only\n# Additional nodes can still join the cluster later\ncluster.initial_master_nodes: [&quot;DESKTOP-0O0S7HQ&quot;]\n\n# Allow HTTP API connections from localhost and local networks\n# Connections are encrypted and require user authentication\nhttp.host: [_local_, _site_]\n\n# Allow other nodes to join the cluster from localhost and local networks\n# Connections are encrypted and mutually authenticated\n#transport.host: [_local_, _site_]\n\n#----------------------- END SECURITY AUTO CONFIGURATION -------------------------\n</code></pre>\n<p>I have tried out searching the exceptions online but nothing seems to work. Please help me in figuring this out. Thank you.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1629808114,"post_id":68907511,"comment_id":121780109,"body_markdown":"You cannot have two different values mapped to the same key in a simple `Map`.","body":"You cannot have two different values mapped to the same key in a simple <code>Map</code>."},{"owner":{"account_id":2629478,"reputation":7484,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1629808115,"post_id":68907511,"comment_id":121780111,"body_markdown":"I believe that it will need a pre-process. But what do YOU want to do with the duplicated value? sum the cableType, keep the first one , keep the last, ...","body":"I believe that it will need a pre-process. But what do YOU want to do with the duplicated value? sum the cableType, keep the first one , keep the last, ..."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1629808163,"creation_date":1629808163,"answer_id":68907612,"question_id":68907511,"body_markdown":"To avoid this error, you need to take one of the duplicate entries for example, to do this you need:\r\n\r\n    .collect(Collectors.toMap(Rule::getId, Rule::getCableType, (r1, r2) -&gt; r1));","title":"Duplicate key (attempted merging values x and x)","body":"<p>To avoid this error, you need to take one of the duplicate entries for example, to do this you need:</p>\n<pre><code>.collect(Collectors.toMap(Rule::getId, Rule::getCableType, (r1, r2) -&gt; r1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679776,"reputation":51,"user_id":4491418,"display_name":"Steven Dewey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684984831,"creation_date":1684984831,"answer_id":76328699,"question_id":68907511,"body_markdown":"It is also worth noting that prior to the `.collect` you may want to consider a `.sorted(Comparator.comparing(rule -&gt; rule.cableType))` or something like that, so that way you can be intentional about which values are kept in a duplicate key situation. \r\n\r\nThe answer from @Youcef above surely gets rid of the exception, but the value selected for the duplicate key is based on whatever order the list is in currently. ","title":"Duplicate key (attempted merging values x and x)","body":"<p>It is also worth noting that prior to the <code>.collect</code> you may want to consider a <code>.sorted(Comparator.comparing(rule -&gt; rule.cableType))</code> or something like that, so that way you can be intentional about which values are kept in a duplicate key situation.</p>\n<p>The answer from @Youcef above surely gets rid of the exception, but the value selected for the duplicate key is based on whatever order the list is in currently.</p>\n"},{"tags":[],"owner":{"account_id":3829184,"reputation":649,"user_id":3175251,"display_name":"RoyalBigMack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687797654,"creation_date":1687797654,"answer_id":76558668,"question_id":68907511,"body_markdown":"I know the question is already solved but i just found out of this cool `.distinct()` operator.\r\n\r\nso my suggestion is to use:\r\n\r\n    Map&lt;Integer, Long&gt; map = ruleList.stream().distinct().collect(Collectors.toMap(Rule::getId, Rule::getCableType));\r\n\r\n","title":"Duplicate key (attempted merging values x and x)","body":"<p>I know the question is already solved but i just found out of this cool <code>.distinct()</code> operator.</p>\n<p>so my suggestion is to use:</p>\n<pre><code>Map&lt;Integer, Long&gt; map = ruleList.stream().distinct().collect(Collectors.toMap(Rule::getId, Rule::getCableType));\n</code></pre>\n"}],"owner":{"display_name":"user13034249"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20480,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":68907612,"answer_count":3,"score":18,"last_activity_date":1687797654,"creation_date":1629807746,"question_id":68907511,"body_markdown":"I have a simple class:\r\n```\r\npublic class Rule {\r\n    int id;\r\n    long cableType;\r\n}\r\n```\r\nI want to convert a list with objects of this class to `Map&lt;Integer, Long&gt;`, so I wrote code:\r\n```\r\nMap&lt;Integer, Long&gt; map = ruleList.stream().collect(Collectors.toMap(Rule::getId, Rule::getCableType));\r\n```\r\nThe list has a duplication like `(1, 10), (1,40)` and when I&#39;m running this code I get this exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Duplicate key 21 (attempted merging values 31 and 30)\r\n```\r\n\r\nHow can I fix this? ","title":"Duplicate key (attempted merging values x and x)","body":"<p>I have a simple class:</p>\n<pre><code>public class Rule {\n    int id;\n    long cableType;\n}\n</code></pre>\n<p>I want to convert a list with objects of this class to <code>Map&lt;Integer, Long&gt;</code>, so I wrote code:</p>\n<pre><code>Map&lt;Integer, Long&gt; map = ruleList.stream().collect(Collectors.toMap(Rule::getId, Rule::getCableType));\n</code></pre>\n<p>The list has a duplication like <code>(1, 10), (1,40)</code> and when I'm running this code I get this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Duplicate key 21 (attempted merging values 31 and 30)\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","netbeans","ide","config"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1687810070,"post_id":76558635,"comment_id":134985999,"body_markdown":"Do either of the answers to [How to change the color of NetBeans cursor?](https://superuser.com/q/1368052) over on superuser help you?","body":"Do either of the answers to <a href=\"https://superuser.com/q/1368052\">How to change the color of NetBeans cursor?</a> over on superuser help you?"},{"owner":{"account_id":27638660,"reputation":1,"user_id":22134494,"display_name":"Yb-M"},"score":0,"creation_date":1687985967,"post_id":76558635,"comment_id":135015043,"body_markdown":"I tried what it says, but it doesn&#39;t work for me either. :(","body":"I tried what it says, but it doesn&#39;t work for me either. :("},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1687989747,"post_id":76558635,"comment_id":135015569,"body_markdown":"OK. I just tried [the answer posted by user Mart&#237;](https://superuser.com/a/1376250) and it didn&#39;t work for me either. But then I followed the advice in Mart&#237;&#39;s comment below their answer and it worked! Did you specifically try the suggestions in that comment? If you are still stuck I will post a step-by-step answer because changing the cursor color is definitely possible.","body":"OK. I just tried <a href=\"https://superuser.com/a/1376250\">the answer posted by user Mart&#237;</a> and it didn&#39;t work for me either. But then I followed the advice in Mart&#237;&#39;s comment below their answer and it worked! Did you specifically try the suggestions in that comment? If you are still stuck I will post a step-by-step answer because changing the cursor color is definitely possible."}],"owner":{"account_id":27638660,"reputation":1,"user_id":22134494,"display_name":"Yb-M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687797598,"creation_date":1687797439,"question_id":76558635,"body_markdown":"I want to change the color of the line that appears while I am typing to indicate where in the text I am (current line marker). I&#39;m using NetBeans  18 and it currently has a dark color and I can&#39;t see it with the naked eye. What part of the configuration is that part of.\r\n\r\n[Capture of how the current line marker is](https://i.stack.imgur.com/CPGfC.png)\r\n\r\nI expected to find it in the part of Fonts &amp; Color, but it was not like that.","title":"How can I change the color of the current line marker in NetBeans 18?","body":"<p>I want to change the color of the line that appears while I am typing to indicate where in the text I am (current line marker). I'm using NetBeans  18 and it currently has a dark color and I can't see it with the naked eye. What part of the configuration is that part of.</p>\n<p><a href=\"https://i.stack.imgur.com/CPGfC.png\" rel=\"nofollow noreferrer\">Capture of how the current line marker is</a></p>\n<p>I expected to find it in the part of Fonts &amp; Color, but it was not like that.</p>\n"},{"tags":["java","package","java-17"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1687713554,"post_id":76550233,"comment_id":134971727,"body_markdown":"Have you tried with add-opens for that package name as well?","body":"Have you tried with add-opens for that package name as well?"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687743864,"post_id":76550233,"comment_id":134974549,"body_markdown":"@DuncG tried but not work","body":"@DuncG tried but not work"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687797544,"creation_date":1687753746,"answer_id":76553520,"question_id":76550233,"body_markdown":"You&#39;ll need to add the _--add-exports_ switch.  \r\nSpecifically, _&quot;--add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&quot;_.\r\n\r\n_[Migrating From JDK 8 to Later JDK Releases](https://docs.oracle.com/en/java/javase/20/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66)_.\r\n\r\nIf that does not work, try referring to the following question.  \r\n_[StackOverflow &amp;ndash; error: package com.sun.tools.javac.util does not exist](https://stackoverflow.com/questions/10667187/error-package-com-sun-tools-javac-util-does-not-exist)_.","title":"package com.sun.tools.javac.code is not visible in JDK17","body":"<p>You'll need to add the <em>--add-exports</em> switch.<br />\nSpecifically, <em>&quot;--add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&quot;</em>.</p>\n<p><em><a href=\"https://docs.oracle.com/en/java/javase/20/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66\" rel=\"nofollow noreferrer\">Migrating From JDK 8 to Later JDK Releases</a></em>.</p>\n<p>If that does not work, try referring to the following question.<br />\n<em><a href=\"https://stackoverflow.com/questions/10667187/error-package-com-sun-tools-javac-util-does-not-exist\">StackOverflow – error: package com.sun.tools.javac.util does not exist</a></em>.</p>\n"}],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1373,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76553520,"answer_count":1,"score":1,"last_activity_date":1687797544,"creation_date":1687693601,"question_id":76550233,"body_markdown":"I tried to access the package com.sun.tools.javac.code in JDK17. Someone said can add the VM args as below:\r\n\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-Werror&lt;/arg&gt;\r\n                        &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n\r\n\r\npom.xml\r\n\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-Werror&lt;/arg&gt;\r\n                        &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n                        &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nHowever, I still got a compiler error:  \r\n`error: package com.sun.tools.javac.code is not visible`\r\n\r\nHow can I access the com.sun.tools.javac.code in jdk17?  \r\nI must access this API and don&#39;t want use other ways.\r\n","title":"package com.sun.tools.javac.code is not visible in JDK17","body":"<p>I tried to access the package com.sun.tools.javac.code in JDK17. Someone said can add the VM args as below:</p>\n<pre><code>                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-Werror&lt;/arg&gt;\n                    &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-Werror&lt;/arg&gt;\n                    &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>However, I still got a compiler error:<br />\n<code>error: package com.sun.tools.javac.code is not visible</code></p>\n<p>How can I access the com.sun.tools.javac.code in jdk17?<br />\nI must access this API and don't want use other ways.</p>\n"},{"tags":["java","android","cordova","gradle"],"answers":[{"tags":[],"owner":{"account_id":3486333,"reputation":1,"user_id":2917173,"display_name":"Manfred Schmidbartl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687797004,"creation_date":1687658219,"answer_id":76548615,"question_id":76483427,"body_markdown":"I fixed it by adding this in `gradle.properties`:\r\n\r\n    org.gradle.java.home=C\\:\\\\Program Files\\\\Android\\\\Android Studio\\\\jbr","title":"Gradle and Cordova trouble building","body":"<p>I fixed it by adding this in <code>gradle.properties</code>:</p>\n<pre><code>org.gradle.java.home=C\\:\\\\Program Files\\\\Android\\\\Android Studio\\\\jbr\n</code></pre>\n"}],"owner":{"account_id":28828245,"reputation":11,"user_id":22079297,"display_name":"Yun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687797004,"creation_date":1686844199,"question_id":76483427,"body_markdown":"Here is the error I got when trying to build my project.\r\n\r\n```\r\nSubproject Path: CordovaLib\r\nSubproject Path: app\r\nStarting a Gradle Daemon, 3 busy and 2 incompatible and 2 stopped Daemons could not be reused, use --status for details\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;HelloCordova&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.2.\r\n     Required by:\r\n         project :\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 4s\r\n\r\n\r\n\r\n```\r\ncordova requirements is saying that everything is fine :\r\n\r\n\r\n```\r\nRequirements check results for android:\r\nJava JDK: installed 1.8.0\r\nAndroid SDK: installed true\r\nAndroid target: installed android-34,android-33\r\nGradle: installed /home/yuniemos/T&#233;l&#233;chargements/gradle-7.6.1/bin/gradle\r\n```\r\n\r\nI&#39;ve tried changing java sdk and gradle version (gradle was originally 8.1.1 and I came back to 7.6.1). I&#39;ve looking at so much forums and yet I found nothing to help solve my problem. It&#39;s been an entire day of looking and I still didn&#39;t manage to make it build.\r\n\r\nIs there something I missed ?\r\n","title":"Gradle and Cordova trouble building","body":"<p>Here is the error I got when trying to build my project.</p>\n<pre><code>Subproject Path: CordovaLib\nSubproject Path: app\nStarting a Gradle Daemon, 3 busy and 2 incompatible and 2 stopped Daemons could not be reused, use --status for details\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'HelloCordova'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.2.\n     Required by:\n         project :\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 4s\n\n\n\n</code></pre>\n<p>cordova requirements is saying that everything is fine :</p>\n<pre><code>Requirements check results for android:\nJava JDK: installed 1.8.0\nAndroid SDK: installed true\nAndroid target: installed android-34,android-33\nGradle: installed /home/yuniemos/Téléchargements/gradle-7.6.1/bin/gradle\n</code></pre>\n<p>I've tried changing java sdk and gradle version (gradle was originally 8.1.1 and I came back to 7.6.1). I've looking at so much forums and yet I found nothing to help solve my problem. It's been an entire day of looking and I still didn't manage to make it build.</p>\n<p>Is there something I missed ?</p>\n"},{"tags":["java","vsphere"],"answers":[{"tags":[],"owner":{"account_id":28896561,"reputation":21,"user_id":22132433,"display_name":"Dimitar Gradev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687796907,"creation_date":1687772043,"answer_id":76555396,"question_id":73650206,"body_markdown":"Most probably it&#39;s due to the fact that from vSphere 8.0 local plug-ins need changes to support their library isolation.\r\nMore about the topic can be read here:\r\n\r\nhttps://communities.vmware.com/t5/vSphere-Client-SDK-Discussions/Failed-to-deploy-a-local-plugin-on-vSphere-8-0/td-p/2932206\r\n\r\nLocal plug-ins are also deprecated so migrating to a remote plug-in architecture is something to consider going forward.","title":"Deploying vSphere client plugin on vCenter 8.0 is failed","body":"<p>Most probably it's due to the fact that from vSphere 8.0 local plug-ins need changes to support their library isolation.\nMore about the topic can be read here:</p>\n<p><a href=\"https://communities.vmware.com/t5/vSphere-Client-SDK-Discussions/Failed-to-deploy-a-local-plugin-on-vSphere-8-0/td-p/2932206\" rel=\"nofollow noreferrer\">https://communities.vmware.com/t5/vSphere-Client-SDK-Discussions/Failed-to-deploy-a-local-plugin-on-vSphere-8-0/td-p/2932206</a></p>\n<p>Local plug-ins are also deprecated so migrating to a remote plug-in architecture is something to consider going forward.</p>\n"}],"owner":{"account_id":26281943,"reputation":21,"user_id":19950304,"display_name":"Meenakshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687796907,"creation_date":1662645114,"question_id":73650206,"body_markdown":"vSphere Client plugin Name is appeared on the vCenter with &quot;failed&quot; status with below failure message. I am looking for a solution to resolve this issue.\r\n\r\n&gt; &quot;Error deploying plug-in.\r\n&gt; org.osgi.service.subsystem.SubsystemException: Framework could not\r\n&gt; resolve the bundles: [vcplugin-ui_1.2.1 [358],\r\n&gt; vcplugin-controller_1.2.1 [360],\r\n&gt; org.osgi.service.subsystem.region.context.9_1.0.0 [357],\r\n&gt; com.vmware.wsvim25_8.0.0 [359], org.eclipse.virgo.web.dm_1.0.0 [361]]\r\n&gt; org.apache.aries.subsystem.core.internal.StartAction.handleFailedResolution(StartAction.java:643)&quot;","title":"Deploying vSphere client plugin on vCenter 8.0 is failed","body":"<p>vSphere Client plugin Name is appeared on the vCenter with &quot;failed&quot; status with below failure message. I am looking for a solution to resolve this issue.</p>\n<blockquote>\n<p>&quot;Error deploying plug-in.\norg.osgi.service.subsystem.SubsystemException: Framework could not\nresolve the bundles: [vcplugin-ui_1.2.1 [358],\nvcplugin-controller_1.2.1 [360],\norg.osgi.service.subsystem.region.context.9_1.0.0 [357],\ncom.vmware.wsvim25_8.0.0 [359], org.eclipse.virgo.web.dm_1.0.0 [361]]\norg.apache.aries.subsystem.core.internal.StartAction.handleFailedResolution(StartAction.java:643)&quot;</p>\n</blockquote>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687796431,"creation_date":1687796431,"answer_id":76558524,"question_id":76558344,"body_markdown":"What hibernate does when doing `orphanRemoval` is the following:\r\n\r\nAssume you have a video with 2 comments [comment id=1] [comment id=2]\r\n\r\nSo when you delete the video, Hibernate issues delete stmt on that video\r\ne.g `delete from video where id=1`\r\nafter that all comments become orphans, since their parent (video) is deleted\r\nSo hibernate checks if `orphanRemoval` feature is enabled, if so, it issues a delete stmt for all children one by one so for that example it will execute the following:\r\n\r\n```\r\ndelete from comment where id=1;\r\ndelete from comment where id=2;\r\n```\r\n\r\nSo this is what happens under the hood.\r\n\r\nSo you might ask why you need to sync the bidirectional entities, and whether hibernate will call these functions, and the answer to that is No, remember hibernate proxy the entity and does its magic with that proxy\r\n\r\nHibernate will not use these adders/removals functions. So what the heck is entity sync and why it is important, to give you a simple answer is that you need to simulate what hibernate going to do, in your code since you don&#39;t know for sure when exactly hibernate will run these queries since hibernate has an auto flush mode\r\n\r\nFor the above example:\r\nImagine you don&#39;t do the sync part so you have just setters and getters and you deleted the video, and then you did anything with `video.getComments()` like for example imagine following code\r\n\r\n```\r\nrepo.delete(video);\r\nif (video.getComments().size() == 0) {\r\n    // blabla\r\n}\r\n```\r\n\r\nSo if you have not removed these comments yourself via syncing, `video.getComments()` will still contain data thus you could have faced wrong code decisions.\r\n","title":"State Propagation Good Practices and &quot;orphanRemoval&quot; relation","body":"<p>What hibernate does when doing <code>orphanRemoval</code> is the following:</p>\n<p>Assume you have a video with 2 comments [comment id=1] [comment id=2]</p>\n<p>So when you delete the video, Hibernate issues delete stmt on that video\ne.g <code>delete from video where id=1</code>\nafter that all comments become orphans, since their parent (video) is deleted\nSo hibernate checks if <code>orphanRemoval</code> feature is enabled, if so, it issues a delete stmt for all children one by one so for that example it will execute the following:</p>\n<pre><code>delete from comment where id=1;\ndelete from comment where id=2;\n</code></pre>\n<p>So this is what happens under the hood.</p>\n<p>So you might ask why you need to sync the bidirectional entities, and whether hibernate will call these functions, and the answer to that is No, remember hibernate proxy the entity and does its magic with that proxy</p>\n<p>Hibernate will not use these adders/removals functions. So what the heck is entity sync and why it is important, to give you a simple answer is that you need to simulate what hibernate going to do, in your code since you don't know for sure when exactly hibernate will run these queries since hibernate has an auto flush mode</p>\n<p>For the above example:\nImagine you don't do the sync part so you have just setters and getters and you deleted the video, and then you did anything with <code>video.getComments()</code> like for example imagine following code</p>\n<pre><code>repo.delete(video);\nif (video.getComments().size() == 0) {\n    // blabla\n}\n</code></pre>\n<p>So if you have not removed these comments yourself via syncing, <code>video.getComments()</code> will still contain data thus you could have faced wrong code decisions.</p>\n"}],"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687796431,"creation_date":1687795007,"question_id":76558344,"body_markdown":"I saw when working with bidirectional relationships, it is a good practice to create add and remove methods on the referenced/not owning side of the relationship because the database only works with unidirectional relationships and that allows to avoid propagation state problems (ie: when the state of database and object model are unsynced).\r\n\r\nSo, when having for example: A video can have any comments and a comment can belong to a single video\r\n\r\nMapped this way:\r\n- A video entity (OneToMany): not owning side and also the parent entity/table\r\n- A comment entity (ManyToOne): owning side and also the children table\r\n\r\nThis definitions above implicitly imply that (with Hibernate) we have:\r\n- A video class with a List of comments annotated with @OneToMany(mappedBy = &quot;video&quot;)\r\n- A comment class with a property type Video named &quot;video&quot; annotated with @ManyToOne and @JoinColumn\r\n\r\nWould be a good practice to add on the Video entity:\r\n\r\n    addComment(Comment c) {\r\n    // adds to the list\r\n    c.setVideo(this) // updates the comment &quot;c&quot;\r\n    } \r\n    \r\n    removeComment(Comment c) {\r\n    // removes from the list\r\n    c.setVideo(null)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nNow here comes the question:\r\n\r\nIf the necessity of add and remove methods on the Video entity is to make sure the Comment object is synced and therefore the database (because the database works only from owning side -&gt; not owning side), when using the &quot;orphanRemoval&quot; argument on the @OneToMany side does the Hibernate performs this under the hood (sync Comment object with the changes performed in the Video entity)?\r\n\r\nBecause orphanRemoval = true says to Hibernate to delete all the children rows of the Children entity/table (comment entity) that its FK field (ie parent&#39;s table reference) is null (basically a ON SET NULL DELETE (i know this trigger doesn&#39;t exist)) So if a video sets its  list of comments to null, all comments that were on this list are also set to null and would be deleted. \r\n\r\nSo, does hibernate implement a sort of &quot;removeComment&quot; (specially the &quot;c.setVideo(this) // updates the comment &quot;c&quot;&quot; part) method under the hood to implement this the same way and method the good practice mentions to do?","title":"State Propagation Good Practices and &quot;orphanRemoval&quot; relation","body":"<p>I saw when working with bidirectional relationships, it is a good practice to create add and remove methods on the referenced/not owning side of the relationship because the database only works with unidirectional relationships and that allows to avoid propagation state problems (ie: when the state of database and object model are unsynced).</p>\n<p>So, when having for example: A video can have any comments and a comment can belong to a single video</p>\n<p>Mapped this way:</p>\n<ul>\n<li>A video entity (OneToMany): not owning side and also the parent entity/table</li>\n<li>A comment entity (ManyToOne): owning side and also the children table</li>\n</ul>\n<p>This definitions above implicitly imply that (with Hibernate) we have:</p>\n<ul>\n<li>A video class with a List of comments annotated with @OneToMany(mappedBy = &quot;video&quot;)</li>\n<li>A comment class with a property type Video named &quot;video&quot; annotated with @ManyToOne and @JoinColumn</li>\n</ul>\n<p>Would be a good practice to add on the Video entity:</p>\n<pre><code>addComment(Comment c) {\n// adds to the list\nc.setVideo(this) // updates the comment &quot;c&quot;\n} \n\nremoveComment(Comment c) {\n// removes from the list\nc.setVideo(null)\n}\n</code></pre>\n<p>Now here comes the question:</p>\n<p>If the necessity of add and remove methods on the Video entity is to make sure the Comment object is synced and therefore the database (because the database works only from owning side -&gt; not owning side), when using the &quot;orphanRemoval&quot; argument on the @OneToMany side does the Hibernate performs this under the hood (sync Comment object with the changes performed in the Video entity)?</p>\n<p>Because orphanRemoval = true says to Hibernate to delete all the children rows of the Children entity/table (comment entity) that its FK field (ie parent's table reference) is null (basically a ON SET NULL DELETE (i know this trigger doesn't exist)) So if a video sets its  list of comments to null, all comments that were on this list are also set to null and would be deleted.</p>\n<p>So, does hibernate implement a sort of &quot;removeComment&quot; (specially the &quot;c.setVideo(this) // updates the comment &quot;c&quot;&quot; part) method under the hood to implement this the same way and method the good practice mentions to do?</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687796148,"creation_date":1687796148,"answer_id":76558489,"question_id":76540879,"body_markdown":"The above jar index error was cause by incompatible jars in the tomcat/lib directory.  \r\n\r\nOnce the offending jar was removed the InvalidJarIndexError: Invalid index was resolved. ","title":"Apache Tomcat cannot start due to InvalidJarIndexError: Invalid index","body":"<p>The above jar index error was cause by incompatible jars in the tomcat/lib directory.</p>\n<p>Once the offending jar was removed the InvalidJarIndexError: Invalid index was resolved.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76558489,"answer_count":1,"score":0,"last_activity_date":1687796148,"creation_date":1687529180,"question_id":76540879,"body_markdown":"I am migrating an Apache Tomcat application from being generated by a build.xml to a Maven project. \r\n\r\nAfter installing the new jars I am getting an `InvalidJarIndexError: Invalid index` error on Tomcat start up.  \r\n\r\nI can see in catalina.log that Tomcat Native library cannot be found right before the sever error, however I can also see older logs that it cannot be found when Tomcat was able to start up.  Previously it was not for openSLL however. \r\n\r\nI have already check for any corrupted jars on the system and cannot find any.\r\n\r\nI also added tried adding tomcat-native-2.0.4.jar to /usr/local but still get the same error. \r\n\r\n```\r\n05-Mar-2019 13:56:15.236 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\r\n```\r\n\r\nvs\r\n\r\n```\r\n22-Jun-2023 18:36:02.206 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]\r\n```\r\nThis is the full stack trace of the error I am getting.  I am not sure if this is related the the Tomcat Native library or if there is some other problem given that it was previously not able to find it.  \r\n\r\n```\r\n23-Jun-2023 09:37:19.274 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]\r\n23-Jun-2023 09:37:19.799 SEVERE [main] org.apache.catalina.startup.Catalina.load Error initializing Catalina\r\n        org.apache.catalina.LifecycleException: Failed to initialize component [StandardServer[8005]]\r\n                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:139)\r\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:724)\r\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:746)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\r\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\r\n        Caused by: jdk.internal.util.jar.InvalidJarIndexError: Invalid index\r\n                at java.base/jdk.internal.loader.URLClassPath$JarLoader.getResource(URLClassPath.java:1051)\r\n                at java.base/jdk.internal.loader.URLClassPath$JarLoader.getResource(URLClassPath.java:962)\r\n                at java.base/jdk.internal.loader.URLClassPath$JarLoader.findResource(URLClassPath.java:937)\r\n                at java.base/jdk.internal.loader.URLClassPath.findResource(URLClassPath.java:296)\r\n                at java.base/java.net.URLClassLoader$2.run(URLClassLoader.java:629)\r\n                at java.base/java.net.URLClassLoader$2.run(URLClassLoader.java:627)\r\n                at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n                at java.base/java.net.URLClassLoader.findResource(URLClassLoader.java:626)\r\n                at java.base/java.lang.ClassLoader.getResource(ClassLoader.java:1403)\r\n                at org.apache.tomcat.util.modeler.Registry.loadDescriptors(Registry.java:678)\r\n                at org.apache.tomcat.util.modeler.Registry.findDescriptor(Registry.java:724)\r\n                at org.apache.tomcat.util.modeler.Registry.findManagedBean(Registry.java:504)\r\n                at org.apache.tomcat.util.modeler.Registry.registerComponent(Registry.java:639)\r\n                at org.apache.catalina.util.LifecycleMBeanBase.register(LifecycleMBeanBase.java:156)\r\n                at org.apache.catalina.util.LifecycleMBeanBase.initInternal(LifecycleMBeanBase.java:57)\r\n                at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:994)\r\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n                ... 8 more\r\n\r\n```","title":"Apache Tomcat cannot start due to InvalidJarIndexError: Invalid index","body":"<p>I am migrating an Apache Tomcat application from being generated by a build.xml to a Maven project.</p>\n<p>After installing the new jars I am getting an <code>InvalidJarIndexError: Invalid index</code> error on Tomcat start up.</p>\n<p>I can see in catalina.log that Tomcat Native library cannot be found right before the sever error, however I can also see older logs that it cannot be found when Tomcat was able to start up.  Previously it was not for openSLL however.</p>\n<p>I have already check for any corrupted jars on the system and cannot find any.</p>\n<p>I also added tried adding tomcat-native-2.0.4.jar to /usr/local but still get the same error.</p>\n<pre><code>05-Mar-2019 13:56:15.236 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\n</code></pre>\n<p>vs</p>\n<pre><code>22-Jun-2023 18:36:02.206 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]\n</code></pre>\n<p>This is the full stack trace of the error I am getting.  I am not sure if this is related the the Tomcat Native library or if there is some other problem given that it was previously not able to find it.</p>\n<pre><code>23-Jun-2023 09:37:19.274 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]\n23-Jun-2023 09:37:19.799 SEVERE [main] org.apache.catalina.startup.Catalina.load Error initializing Catalina\n        org.apache.catalina.LifecycleException: Failed to initialize component [StandardServer[8005]]\n                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:139)\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:724)\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:746)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\n        Caused by: jdk.internal.util.jar.InvalidJarIndexError: Invalid index\n                at java.base/jdk.internal.loader.URLClassPath$JarLoader.getResource(URLClassPath.java:1051)\n                at java.base/jdk.internal.loader.URLClassPath$JarLoader.getResource(URLClassPath.java:962)\n                at java.base/jdk.internal.loader.URLClassPath$JarLoader.findResource(URLClassPath.java:937)\n                at java.base/jdk.internal.loader.URLClassPath.findResource(URLClassPath.java:296)\n                at java.base/java.net.URLClassLoader$2.run(URLClassLoader.java:629)\n                at java.base/java.net.URLClassLoader$2.run(URLClassLoader.java:627)\n                at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n                at java.base/java.net.URLClassLoader.findResource(URLClassLoader.java:626)\n                at java.base/java.lang.ClassLoader.getResource(ClassLoader.java:1403)\n                at org.apache.tomcat.util.modeler.Registry.loadDescriptors(Registry.java:678)\n                at org.apache.tomcat.util.modeler.Registry.findDescriptor(Registry.java:724)\n                at org.apache.tomcat.util.modeler.Registry.findManagedBean(Registry.java:504)\n                at org.apache.tomcat.util.modeler.Registry.registerComponent(Registry.java:639)\n                at org.apache.catalina.util.LifecycleMBeanBase.register(LifecycleMBeanBase.java:156)\n                at org.apache.catalina.util.LifecycleMBeanBase.initInternal(LifecycleMBeanBase.java:57)\n                at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:994)\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n                ... 8 more\n\n</code></pre>\n"},{"tags":["python","java","android","object-detection","ncnn"],"owner":{"account_id":18724602,"reputation":1,"user_id":13651583,"display_name":"Harsh Thakkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687796006,"creation_date":1687795869,"question_id":76558459,"body_markdown":"I am using nanodet as object detection library in my Android (java) application, here is the example of Android app: https://github.com/RangiLyu/nanodet/tree/main/demo_android_ncnn\r\n\r\n\r\nMy goal is to train and build new data model on top of existing one: by taking single image, and providing label name; I want to send these data to Python server, which is expected to respond .bin and .param file (NCNN type)\r\n\r\nI want to add new labels (class_names) included into my existing Android app dynamically by taking new .bin and .param file into consideration.\r\n\r\nMy question is: how should I add these new labels (class_names) into my Android app dynamically without rebuilding the application or modifying the code?\r\n\r\nI also tried this Android nanodet project: https://github.com/nihui/ncnn-android-nanodet but was unable to figure out how can I achieve the end result.\r\n","title":"Train existing object detection nanodet model - (Android App/Python Server)","body":"<p>I am using nanodet as object detection library in my Android (java) application, here is the example of Android app: <a href=\"https://github.com/RangiLyu/nanodet/tree/main/demo_android_ncnn\" rel=\"nofollow noreferrer\">https://github.com/RangiLyu/nanodet/tree/main/demo_android_ncnn</a></p>\n<p>My goal is to train and build new data model on top of existing one: by taking single image, and providing label name; I want to send these data to Python server, which is expected to respond .bin and .param file (NCNN type)</p>\n<p>I want to add new labels (class_names) included into my existing Android app dynamically by taking new .bin and .param file into consideration.</p>\n<p>My question is: how should I add these new labels (class_names) into my Android app dynamically without rebuilding the application or modifying the code?</p>\n<p>I also tried this Android nanodet project: <a href=\"https://github.com/nihui/ncnn-android-nanodet\" rel=\"nofollow noreferrer\">https://github.com/nihui/ncnn-android-nanodet</a> but was unable to figure out how can I achieve the end result.</p>\n"},{"tags":["java","postgresql","entitymanager","hibernate-native-query"],"comments":[{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":0,"creation_date":1687799339,"post_id":76558389,"comment_id":134984169,"body_markdown":"Do it in your application and supply the correct type. I suspect you database adapter code is translating `getCode` as a byte array.","body":"Do it in your application and supply the correct type. I suspect you database adapter code is translating <code>getCode</code> as a byte array."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1687799822,"post_id":76558389,"comment_id":134984276,"body_markdown":"There seems to be issues with double-quotes and missing parentheses in this code sample","body":"There seems to be issues with double-quotes and missing parentheses in this code sample"},{"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"score":0,"creation_date":1687802254,"post_id":76558389,"comment_id":134984785,"body_markdown":"the problem is that I have int2 in the database and Short in the entity, so the types should match","body":"the problem is that I have int2 in the database and Short in the entity, so the types should match"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1687809423,"post_id":76558389,"comment_id":134985903,"body_markdown":"Does `getCode()` return a `Short`? It would be good if you cleaned up those few lines of code. As it stands, it would have syntax errors, so it makes it harder to know where the problem could come from.","body":"Does <code>getCode()</code> return a <code>Short</code>? It would be good if you cleaned up those few lines of code. As it stands, it would have syntax errors, so it makes it harder to know where the problem could come from."}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687795377,"creation_date":1687795377,"question_id":76558389,"body_markdown":"i try to use native query and i get above error: `column &quot;code&quot; is of type smallint but expression is of type bytea`, does anyone know how to fix it? i tried to use CAST to numeric but it doesn&#39;t work.\r\n\r\n        entityManager.createQuery(\r\n                        &quot;INSERT INTO car(&quot;http_code) &quot; +\r\n                                &quot;VALUES(&quot;:httpCode)&quot;)\r\n                .setParameter(&quot;code&quot;, entity.getCode)\r\n                .executeUpdate();\r\n\r\n\r\n\r\n\r\n","title":"How convert bytea to smallint in postgres native query","body":"<p>i try to use native query and i get above error: <code>column &quot;code&quot; is of type smallint but expression is of type bytea</code>, does anyone know how to fix it? i tried to use CAST to numeric but it doesn't work.</p>\n<pre><code>    entityManager.createQuery(\n                    &quot;INSERT INTO car(&quot;http_code) &quot; +\n                            &quot;VALUES(&quot;:httpCode)&quot;)\n            .setParameter(&quot;code&quot;, entity.getCode)\n            .executeUpdate();\n</code></pre>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1687795065,"post_id":76558195,"comment_id":134983298,"body_markdown":"Are you using Spring Boot?","body":"Are you using Spring Boot?"}],"answers":[{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687794702,"creation_date":1687794702,"answer_id":76558304,"question_id":76558195,"body_markdown":"I doubt there is an easy documented way to do that. The pattern is quite strict. However, there are %X and %x which are supposed to be used for custom user defined data.","title":"How to make Log4j Custom Patterns","body":"<p>I doubt there is an easy documented way to do that. The pattern is quite strict. However, there are %X and %x which are supposed to be used for custom user defined data.</p>\n"}],"owner":{"account_id":17019559,"reputation":15,"user_id":19583397,"display_name":"Will W."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687794702,"creation_date":1687793830,"question_id":76558195,"body_markdown":"Is there some way I can set up my logging in a way such that when it&#39;s putting data into my database through the appender that I can have a custom pattern that is storing some value like an id? Like for example I want to be able to do something like \r\n\r\n`&lt;Column name=&quot;special_id&quot; pattern=&quot;%something&quot; /&gt;`\r\n\r\nI was looking through the api and I couldn&#39;t find anything like this.","title":"How to make Log4j Custom Patterns","body":"<p>Is there some way I can set up my logging in a way such that when it's putting data into my database through the appender that I can have a custom pattern that is storing some value like an id? Like for example I want to be able to do something like</p>\n<p><code>&lt;Column name=&quot;special_id&quot; pattern=&quot;%something&quot; /&gt;</code></p>\n<p>I was looking through the api and I couldn't find anything like this.</p>\n"},{"tags":["java","postgresql","elasticsearch","optimization","logstash"],"comments":[{"owner":{"account_id":5742767,"reputation":9235,"user_id":4534923,"display_name":"Paulo"},"score":0,"creation_date":1687522351,"post_id":76538425,"comment_id":134952458,"body_markdown":"Sound like this issue is with the database no ? My understanding is that the database slows down when you start to paginate the data ?\n\nFor elasticsearch you may want to look at esRally, it will allow you to run benchmark and see if you ES cluster is able to handle more incoming data.","body":"Sound like this issue is with the database no ? My understanding is that the database slows down when you start to paginate the data ?  For elasticsearch you may want to look at esRally, it will allow you to run benchmark and see if you ES cluster is able to handle more incoming data."},{"owner":{"account_id":1812750,"reputation":376,"user_id":1648484,"accept_rate":62,"display_name":"fmakawa"},"score":0,"creation_date":1687528827,"post_id":76538425,"comment_id":134954015,"body_markdown":"Elastic hasn&#39;t had any issue consuming the data. This is about the logstash query with the DB.","body":"Elastic hasn&#39;t had any issue consuming the data. This is about the logstash query with the DB."},{"owner":{"account_id":5742767,"reputation":9235,"user_id":4534923,"display_name":"Paulo"},"score":0,"creation_date":1687530704,"post_id":76538425,"comment_id":134954542,"body_markdown":"Yes, my first assumption is that the postgres DB is not able to deliver the data faster ...","body":"Yes, my first assumption is that the postgres DB is not able to deliver the data faster ..."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1687553442,"post_id":76538425,"comment_id":134958719,"body_markdown":"&quot;I cannot use keyset pagination since I cannot dynamically set a key for each page as logstash runs the query.&quot;  But logstash can run the query with :sql_last_value. Isn&#39;t that just what you need?","body":"&quot;I cannot use keyset pagination since I cannot dynamically set a key for each page as logstash runs the query.&quot;  But logstash can run the query with :sql_last_value. Isn&#39;t that just what you need?"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1687553950,"post_id":76538425,"comment_id":134958775,"body_markdown":"You describe this as a one time thing, but your `schedule` setting says otherwise.","body":"You describe this as a one time thing, but your <code>schedule</code> setting says otherwise."},{"owner":{"account_id":1812750,"reputation":376,"user_id":1648484,"accept_rate":62,"display_name":"fmakawa"},"score":0,"creation_date":1687562295,"post_id":76538425,"comment_id":134959518,"body_markdown":"@jjanes the schedule was meant to be commented out. Corrected.  :sql_last_value is only written after the pipeline runs to completion and essentially what you are now consuming is what comes after. In a clean run you do not have a sql_last_valule","body":"@jjanes the schedule was meant to be commented out. Corrected.  :sql_last_value is only written after the pipeline runs to completion and essentially what you are now consuming is what comes after. In a clean run you do not have a sql_last_valule"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1687794091,"post_id":76538425,"comment_id":134983045,"body_markdown":"I don&#39;t use logstash, but I thought you could get :sql_last_value to be used between pages, not just between schedules, if you set other parameters the right way.","body":"I don&#39;t use logstash, but I thought you could get :sql_last_value to be used between pages, not just between schedules, if you set other parameters the right way."},{"owner":{"account_id":1812750,"reputation":376,"user_id":1648484,"accept_rate":62,"display_name":"fmakawa"},"score":0,"creation_date":1687879915,"post_id":76538425,"comment_id":134997256,"body_markdown":"@jjanes ah, I see. Unfortunately, it does not seem I can set that value between pages. If I could then I could use keyset pagination which would hasten the process significantly","body":"@jjanes ah, I see. Unfortunately, it does not seem I can set that value between pages. If I could then I could use keyset pagination which would hasten the process significantly"}],"answers":[{"tags":[],"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687794505,"creation_date":1687794505,"answer_id":76558282,"question_id":76538425,"body_markdown":"When you talk about crash from higher values of jdbc_page_size, I assume that is a memory issue in the jdbc driver (but you should really investigate the logs to describe what it is that is going on more precisely).  I think that you should be able to avoid the memory issue while keeping the performance improvement by setting jdbc_page_size to a large value while setting jdbc_fetch_size to a smaller (but nonzero) value.","title":"How to optimise large data ingestion from database by Logstash and reduce ingestion time","body":"<p>When you talk about crash from higher values of jdbc_page_size, I assume that is a memory issue in the jdbc driver (but you should really investigate the logs to describe what it is that is going on more precisely).  I think that you should be able to avoid the memory issue while keeping the performance improvement by setting jdbc_page_size to a large value while setting jdbc_fetch_size to a smaller (but nonzero) value.</p>\n"}],"owner":{"account_id":1812750,"reputation":376,"user_id":1648484,"accept_rate":62,"display_name":"fmakawa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687794505,"creation_date":1687509718,"question_id":76538425,"body_markdown":"I am trying to pull data in Logstash from a Postgres DB. The data is monthly, with approximately 140 000 000 records each month. I need to ingest this data in one go and not every 5 few minutes for updates etc or weekly. It&#39;s a fresh batch each time.  There are several problems:\r\n1. The ingestion takes too long, 140 000 000 records initially took 48hrs and now takes approx 17hrs\r\n2. The select query pagination takes longer for each subsequent page it ingests. The first page takes 8 secs but by the time we get to 40 000 000 records, it takes 120 secs per page (now) and eventually gets to almost 15 minutes.\r\n\r\nHow can I optimize this?\r\n\r\nI increased the number of workers to match the number of cores of the machine which improved performance significantly. But it is recommended that I should not go above that since it is advised not to and with it running CPU usage is quite high so adding more workers is likely to crash the system. Should I?\r\n\r\nI also increased the pagination from 100 000 to 150 000 to 200 000. All with improved times. Much higher numbers crashed the system. I am currently incrementing by 50 000 in my tests but I know I have a limit to this.\r\n\r\nI cannot use keyset pagination since I cannot dynamically set a key for each page as logstash runs the query. \r\n\r\nI have played with the pipeline batch size increasing to 1250 to 2500 and now 5000 with no noticeable impact on speed/performance. Should I be using much larger amounts?\r\n\r\nThe machines are dedicated to logstash and we are already using all the ram we can use.\r\n\r\nExample Query:\r\n\r\n    input {\r\n    \r\n      jdbc {\r\n    \r\n        jdbc_driver_library =&gt; &quot;/usr/share/logstash/postgresql-42.3.1.jar&quot;\r\n        jdbc_driver_class =&gt; &quot;org.postgresql.Driver&quot;\r\n        jdbc_connection_string =&gt; &quot;jdbc:postgresql://@host:$port/MYDB&quot;\r\n        jdbc_user =&gt; &quot;user&quot;\r\n        jdbc_password =&gt; &quot;password&quot;\r\n        #schedule =&gt; &quot;* * * * *&quot;\r\n        statement =&gt; &quot;SELECT date_tranc(&#39;hour&#39;, client_received_timestamp) as client_received_timestamp, is_error, httpsStatusCode from MYSCHEMA.MY_TABLE WHERE client_received_timestamp &gt;= &#39;2023-05-01 00:0:0&#39; AND client_received_timestamp &lt; &#39;2023-06-01 00:0:0&#39; UNION ALL SELECT date_tranc(&#39;hour&#39;, client_received_timestamp) as client_received_timestamp, is_error, httpsStatusCode from MYSCHEMA.MY_SECOND_TABLE WHERE client_received_timestamp &gt;= &#39;2023-05-01 00:0:0&#39; AND client_received_timestamp &lt; &#39;2023-06-01 00:0:0&#39; UNION ALL SELECT date_tranc(&#39;hour&#39;, client_received_timestamp) as client_received_timestamp, is_error, httpsStatusCode from MYSCHEMA.MY_THIRD_TABLE WHERE client_received_timestamp &gt;= &#39;2023-05-01 00:0:0&#39; AND client_received_timestamp &lt; &#39;2023-06-01 00:0:0&#39;&quot;\r\n        tracking_column =&gt; client_received_timestamp\r\n        clean_run =&gt; false\r\n        last_run_metadata_path =&gt; &quot;/usr/share/logstash/queues/last_run_update_time&quot;\r\n        jdbc_page_size =&gt; 250000\r\n        jdbc_paging_enabled =&gt; true\r\n      }\r\n    \r\n    }\r\n    \r\n    filter {\r\n    \r\n      mutate {\r\n        add_field =&gt; { &quot;SCHEMA&quot; =&gt; &quot;MYSCHEMA&quot; }\r\n        add_field =&gt; { &quot;TABLE&quot; =&gt; &quot;MY_TABLE&quot; }\r\n      }\r\n    }\r\n    \r\n    output {\r\n        elasticsearch {\r\n            hosts       =&gt; [&quot;https://elasticsearch:9200&quot;]\r\n            user        =&gt; &quot;user&quot;\r\n            password    =&gt; &quot;pass&quot;\r\n            index       =&gt; &quot;logs-from-db-v1-%{+YYYY.MM.dd}&quot;\r\n        }\r\n    }\r\n    \r\n    \r\nPipeline config:\r\n\r\n    - pipeline.id: my-db-pipeline\r\n      path.config: &quot;/etc/path/to/db-v1.config&quot;\r\n      pipeline.workers: 8\r\n      pipeline.batch.size: 5000\r\n\r\n\r\nAny other ideas?","title":"How to optimise large data ingestion from database by Logstash and reduce ingestion time","body":"<p>I am trying to pull data in Logstash from a Postgres DB. The data is monthly, with approximately 140 000 000 records each month. I need to ingest this data in one go and not every 5 few minutes for updates etc or weekly. It's a fresh batch each time.  There are several problems:</p>\n<ol>\n<li>The ingestion takes too long, 140 000 000 records initially took 48hrs and now takes approx 17hrs</li>\n<li>The select query pagination takes longer for each subsequent page it ingests. The first page takes 8 secs but by the time we get to 40 000 000 records, it takes 120 secs per page (now) and eventually gets to almost 15 minutes.</li>\n</ol>\n<p>How can I optimize this?</p>\n<p>I increased the number of workers to match the number of cores of the machine which improved performance significantly. But it is recommended that I should not go above that since it is advised not to and with it running CPU usage is quite high so adding more workers is likely to crash the system. Should I?</p>\n<p>I also increased the pagination from 100 000 to 150 000 to 200 000. All with improved times. Much higher numbers crashed the system. I am currently incrementing by 50 000 in my tests but I know I have a limit to this.</p>\n<p>I cannot use keyset pagination since I cannot dynamically set a key for each page as logstash runs the query.</p>\n<p>I have played with the pipeline batch size increasing to 1250 to 2500 and now 5000 with no noticeable impact on speed/performance. Should I be using much larger amounts?</p>\n<p>The machines are dedicated to logstash and we are already using all the ram we can use.</p>\n<p>Example Query:</p>\n<pre><code>input {\n\n  jdbc {\n\n    jdbc_driver_library =&gt; &quot;/usr/share/logstash/postgresql-42.3.1.jar&quot;\n    jdbc_driver_class =&gt; &quot;org.postgresql.Driver&quot;\n    jdbc_connection_string =&gt; &quot;jdbc:postgresql://@host:$port/MYDB&quot;\n    jdbc_user =&gt; &quot;user&quot;\n    jdbc_password =&gt; &quot;password&quot;\n    #schedule =&gt; &quot;* * * * *&quot;\n    statement =&gt; &quot;SELECT date_tranc('hour', client_received_timestamp) as client_received_timestamp, is_error, httpsStatusCode from MYSCHEMA.MY_TABLE WHERE client_received_timestamp &gt;= '2023-05-01 00:0:0' AND client_received_timestamp &lt; '2023-06-01 00:0:0' UNION ALL SELECT date_tranc('hour', client_received_timestamp) as client_received_timestamp, is_error, httpsStatusCode from MYSCHEMA.MY_SECOND_TABLE WHERE client_received_timestamp &gt;= '2023-05-01 00:0:0' AND client_received_timestamp &lt; '2023-06-01 00:0:0' UNION ALL SELECT date_tranc('hour', client_received_timestamp) as client_received_timestamp, is_error, httpsStatusCode from MYSCHEMA.MY_THIRD_TABLE WHERE client_received_timestamp &gt;= '2023-05-01 00:0:0' AND client_received_timestamp &lt; '2023-06-01 00:0:0'&quot;\n    tracking_column =&gt; client_received_timestamp\n    clean_run =&gt; false\n    last_run_metadata_path =&gt; &quot;/usr/share/logstash/queues/last_run_update_time&quot;\n    jdbc_page_size =&gt; 250000\n    jdbc_paging_enabled =&gt; true\n  }\n\n}\n\nfilter {\n\n  mutate {\n    add_field =&gt; { &quot;SCHEMA&quot; =&gt; &quot;MYSCHEMA&quot; }\n    add_field =&gt; { &quot;TABLE&quot; =&gt; &quot;MY_TABLE&quot; }\n  }\n}\n\noutput {\n    elasticsearch {\n        hosts       =&gt; [&quot;https://elasticsearch:9200&quot;]\n        user        =&gt; &quot;user&quot;\n        password    =&gt; &quot;pass&quot;\n        index       =&gt; &quot;logs-from-db-v1-%{+YYYY.MM.dd}&quot;\n    }\n}\n</code></pre>\n<p>Pipeline config:</p>\n<pre><code>- pipeline.id: my-db-pipeline\n  path.config: &quot;/etc/path/to/db-v1.config&quot;\n  pipeline.workers: 8\n  pipeline.batch.size: 5000\n</code></pre>\n<p>Any other ideas?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":16075620,"reputation":33,"user_id":11602890,"display_name":"veenatic"},"score":0,"creation_date":1687379897,"post_id":76526961,"comment_id":134930355,"body_markdown":"Here the flux is not doing anything but say, flux after receiving from the sink does some processing which can take time (5ms for example)","body":"Here the flux is not doing anything but say, flux after receiving from the sink does some processing which can take time (5ms for example)"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1687381587,"post_id":76526961,"comment_id":134930628,"body_markdown":"How about `Mono.or()` instead? See its JavaDocs: `Emit the first available signal from this mono or the other mono.`","body":"How about <code>Mono.or()</code> instead? See its JavaDocs: <code>Emit the first available signal from this mono or the other mono.</code>"},{"owner":{"account_id":16075620,"reputation":33,"user_id":11602890,"display_name":"veenatic"},"score":0,"creation_date":1687408008,"post_id":76526961,"comment_id":134933144,"body_markdown":"since the mono (mainWork) supplier emits to the flux. Doing the mono.or will immediately get the value from flux and subscription stops. I need something which egarly subscribes to both flux and mono, waits for them to complete and then allows me to get the value from mono.","body":"since the mono (mainWork) supplier emits to the flux. Doing the mono.or will immediately get the value from flux and subscription stops. I need something which egarly subscribes to both flux and mono, waits for them to complete and then allows me to get the value from mono."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1687441338,"post_id":76526961,"comment_id":134939729,"body_markdown":"`Mono.zipWith(Mono)` then? In the result `Tuple2` you&#39;ll have both values from both your monos.","body":"<code>Mono.zipWith(Mono)</code> then? In the result <code>Tuple2</code> you&#39;ll have both values from both your monos."},{"owner":{"account_id":16075620,"reputation":33,"user_id":11602890,"display_name":"veenatic"},"score":0,"creation_date":1687456113,"post_id":76526961,"comment_id":134942947,"body_markdown":"zipWith does work but looks like it emits everything then flux is processing it which means everythings is getting bufferred  which is not good. I experimented and found that: Mono.zip(flux.then(Mono.just(1)), mainWork).block() is working. we need to do this workaround to convert the flux to mono. As I dont care about the output of flux, i did a dummy mono. This way, the flux is subscribed immediately and it starts consuming as soon as the mono (mainWork) emits. This is good. thanks for suggestions.","body":"zipWith does work but looks like it emits everything then flux is processing it which means everythings is getting bufferred  which is not good. I experimented and found that: Mono.zip(flux.then(Mono.just(1)), mainWork).block() is working. we need to do this workaround to convert the flux to mono. As I dont care about the output of flux, i did a dummy mono. This way, the flux is subscribed immediately and it starts consuming as soon as the mono (mainWork) emits. This is good. thanks for suggestions."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687794138,"creation_date":1687794138,"answer_id":76558234,"question_id":76526961,"body_markdown":"It really depends what data you need from `Flux` and how do you want to resolve them (sequentially or in parallel). \r\n\r\nFor sequential processing you can use \r\n```\r\nflux.then(mono)\r\n``` \r\n\r\nTo resolve in parallel, you can convert `Flux` to `Mono` and then use `Mono.zip`\r\n\r\n```\r\nMono.zip(flux.last(), mono)\r\n```","title":"How to wait for two different publishers to finish and return value from one of them in reactor application","body":"<p>It really depends what data you need from <code>Flux</code> and how do you want to resolve them (sequentially or in parallel).</p>\n<p>For sequential processing you can use</p>\n<pre><code>flux.then(mono)\n</code></pre>\n<p>To resolve in parallel, you can convert <code>Flux</code> to <code>Mono</code> and then use <code>Mono.zip</code></p>\n<pre><code>Mono.zip(flux.last(), mono)\n</code></pre>\n"}],"owner":{"account_id":16075620,"reputation":33,"user_id":11602890,"display_name":"veenatic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687794138,"creation_date":1687379778,"question_id":76526961,"body_markdown":"I have a flux which is from a sink.\r\n\r\n```java\r\nScheduler s = Schedulers.parallel();\r\nLong[] data = new Long[10]{10, 20,...};\r\n\r\nSinks.Many&lt;Long&gt; dataSink = Sinks.many().unicast().onBackpressureBuffer();\r\nvar flux = dataSink.asFlux().publishOn(s).doOnNext(d -&gt; log.info(&quot;got {}&quot;, d));\r\n\r\nvar mono = Mono.fromSupplier(() -&gt; {\r\n  val map = new HashSet&lt;Long&gt;();\r\n  for (int i = 0; i &lt; data.length; i++) {\r\n    Long datum = data[i];\r\n    map.add(datum);\r\n    log.info(&quot;sending....{}&quot;, i);\r\n    dataSink.tryEmitNext(datum);\r\n  }\r\n  return map;\r\n});\r\n```\r\n\r\nHow to wait for both flux and mono, and then return the value from mono. Note that the flux depends on the mono since the sink is emitting inside the supplier of the mono.\r\n\r\nOne option is:\r\n\r\n```java\r\nMono.when(flux, mono).block();\r\nreturn mono.block();\r\n```\r\n\r\nBut I dont want to block as I will have to return the mono from the function which will be later subscribed by the client. Another option is to use Flux.merge, but that returns a serializable and I dont know how to get back the value from mono.","title":"How to wait for two different publishers to finish and return value from one of them in reactor application","body":"<p>I have a flux which is from a sink.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scheduler s = Schedulers.parallel();\nLong[] data = new Long[10]{10, 20,...};\n\nSinks.Many&lt;Long&gt; dataSink = Sinks.many().unicast().onBackpressureBuffer();\nvar flux = dataSink.asFlux().publishOn(s).doOnNext(d -&gt; log.info(&quot;got {}&quot;, d));\n\nvar mono = Mono.fromSupplier(() -&gt; {\n  val map = new HashSet&lt;Long&gt;();\n  for (int i = 0; i &lt; data.length; i++) {\n    Long datum = data[i];\n    map.add(datum);\n    log.info(&quot;sending....{}&quot;, i);\n    dataSink.tryEmitNext(datum);\n  }\n  return map;\n});\n</code></pre>\n<p>How to wait for both flux and mono, and then return the value from mono. Note that the flux depends on the mono since the sink is emitting inside the supplier of the mono.</p>\n<p>One option is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.when(flux, mono).block();\nreturn mono.block();\n</code></pre>\n<p>But I dont want to block as I will have to return the mono from the function which will be later subscribed by the client. Another option is to use Flux.merge, but that returns a serializable and I dont know how to get back the value from mono.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687793833,"post_id":76557533,"comment_id":134982998,"body_markdown":"as I see your `results` string is a single object, not an array as it expected according to `MyObject` having `results` defined as `Set`. Does `readValue` if you change either value to an json-array or field tipe to single object?","body":"as I see your <code>results</code> string is a single object, not an array as it expected according to <code>MyObject</code> having <code>results</code> defined as <code>Set</code>. Does <code>readValue</code> if you change either value to an json-array or field tipe to single object?"},{"owner":{"account_id":7905847,"reputation":29,"user_id":11648257,"display_name":"Maxwell Newberry"},"score":0,"creation_date":1687794107,"post_id":76557533,"comment_id":134983049,"body_markdown":"@gdomo Sorry, that was just poor example making on my part. In the real results, it is returned as an array but still string format as shown now.","body":"@gdomo Sorry, that was just poor example making on my part. In the real results, it is returned as an array but still string format as shown now."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687800622,"post_id":76557533,"comment_id":134984467,"body_markdown":"A bit better solution: use custom [converter](https://stackoverflow.com/a/63556792/8357251) instead of deseralizer","body":"A bit better solution: use custom <a href=\"https://stackoverflow.com/a/63556792/8357251\">converter</a> instead of deseralizer"}],"owner":{"account_id":7905847,"reputation":29,"user_id":11648257,"display_name":"Maxwell Newberry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687794066,"creation_date":1687788958,"question_id":76557533,"body_markdown":"I am storing an object that is built similarly to:\r\n\r\n```java\r\npublic class MyObject {\r\n\r\n    int portalId;\r\n    int userId;\r\n    Set&lt;CustomObject&gt; results;\r\n}\r\n\r\npublic class CustomObject {\r\n    int objectId;\r\n    String objectInfo;\r\n}\r\n```\r\n\r\nSo when I retrieve my object from my datastore, it&#39;s returned as a Map that we can use Jackson to build to a JSON string similarly to:\r\n\r\n```json\r\n{\r\n   &quot;portalId&quot;:&quot;123&quot;,\r\n   &quot;userId&quot;:&quot;123&quot;,\r\n   &quot;results&quot;:&quot;[{\\&quot;objectId\\&quot;:\\&quot;123\\&quot;,\\&quot;objectInfo\\&quot;:\\&quot;test\\&quot;}]&quot;\r\n}\r\n```\r\n\r\nSubsequently, when I take this JSON string and try to `readValue` to `MyObject`, I get an error due to the nested JSON string for &quot;results&quot;. I am able to circumvent this issue by creating a custom deserializer, but I am wondering if there&#39;s not a simpler solution?\r\n","title":"Deserializing nested JSON string using Jackson (without custom deserializer?)","body":"<p>I am storing an object that is built similarly to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyObject {\n\n    int portalId;\n    int userId;\n    Set&lt;CustomObject&gt; results;\n}\n\npublic class CustomObject {\n    int objectId;\n    String objectInfo;\n}\n</code></pre>\n<p>So when I retrieve my object from my datastore, it's returned as a Map that we can use Jackson to build to a JSON string similarly to:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;portalId&quot;:&quot;123&quot;,\n   &quot;userId&quot;:&quot;123&quot;,\n   &quot;results&quot;:&quot;[{\\&quot;objectId\\&quot;:\\&quot;123\\&quot;,\\&quot;objectInfo\\&quot;:\\&quot;test\\&quot;}]&quot;\n}\n</code></pre>\n<p>Subsequently, when I take this JSON string and try to <code>readValue</code> to <code>MyObject</code>, I get an error due to the nested JSON string for &quot;results&quot;. I am able to circumvent this issue by creating a custom deserializer, but I am wondering if there's not a simpler solution?</p>\n"},{"tags":["java","json","serialization","jsonpath","jayway"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687793955,"creation_date":1687793955,"answer_id":76558213,"question_id":76554716,"body_markdown":"You may try another JSON library _Josson_ using query expression with function `map()`.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;a\\&quot;: {\\&quot;a1\\&quot;: 1, \\&quot;a2\\&quot;: 2},&quot; +\r\n        &quot;    \\&quot;b\\&quot;: \\&quot;foo\\&quot;,&quot; +\r\n        &quot;    \\&quot;c\\&quot;: []&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;map(a.map(a2), c)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;a&quot; : {\r\n        &quot;a2&quot; : 2\r\n      },\r\n      &quot;c&quot; : [ ]\r\n    }\r\n\r\nYou can compare the structure of the JSON output with this re-formatted query expression:\r\n\r\n    map(\r\n      a.map(\r\n        a2\r\n      ),\r\n      c\r\n    )\r\n","title":"Filter object elements with Jayway Jsonpath","body":"<p>You may try another JSON library <em>Josson</em> using query expression with function <code>map()</code>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;a\\&quot;: {\\&quot;a1\\&quot;: 1, \\&quot;a2\\&quot;: 2},&quot; +\n    &quot;    \\&quot;b\\&quot;: \\&quot;foo\\&quot;,&quot; +\n    &quot;    \\&quot;c\\&quot;: []&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;map(a.map(a2), c)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;a&quot; : {\n    &quot;a2&quot; : 2\n  },\n  &quot;c&quot; : [ ]\n}\n</code></pre>\n<p>You can compare the structure of the JSON output with this re-formatted query expression:</p>\n<pre><code>map(\n  a.map(\n    a2\n  ),\n  c\n)\n</code></pre>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687793955,"creation_date":1687766729,"question_id":76554716,"body_markdown":"I have a list of (somehow &quot;well-behaved&quot;) jsonpaths and I have to return an object which contains only the elements described in the list. For example, given the list `[&quot;$.a.a2&quot;, $.c]` and the object\r\n\r\n\t{\r\n\t\t&quot;a&quot;: {&quot;a1&quot;: 1, &quot;a2&quot;: 2},\r\n\t\t&quot;b&quot;: foo,\r\n\t\t&quot;c&quot;: []\r\n\t}\r\n\r\nthe desired result is \r\n\r\n\t{\r\n\t\t&quot;a&quot;: {&quot;a2&quot;: 2},\r\n\t\t&quot;c&quot;: []\r\n\t}\r\n\r\nI&#39;m using [Jayway Jsonpath](https://github.com/json-path/JsonPath), but I&#39;m open to use other libraries. My current solution is the following:\r\n\r\n* find the minimal jsonpath list that describe the same set of elements (i.e. remove `&quot;$.a.a2&quot;` if `&quot;$.a&quot;` is present);\r\n* determine the leaf objects (in the first example `a2` and `c`) and build a map that is capable to contain them, as creation of deep nodes is still [not supported](https://github.com/json-path/JsonPath/issues/83): in the first example, after this step I&#39;m creating a map `{&quot;a&quot;: {}}`;\r\n* read the values from the initial object and copy them in the map with the provided methods `read`/`set`.\r\n\r\nI&#39;m quite surprised that such feature is not present. Is there a better way to filter properties in an object? [Squiggly](https://stackoverflow.com/a/64577801/11478354) might be a suitable solution, but is not maintained.","title":"Filter object elements with Jayway Jsonpath","body":"<p>I have a list of (somehow &quot;well-behaved&quot;) jsonpaths and I have to return an object which contains only the elements described in the list. For example, given the list <code>[&quot;$.a.a2&quot;, $.c]</code> and the object</p>\n<pre><code>{\n    &quot;a&quot;: {&quot;a1&quot;: 1, &quot;a2&quot;: 2},\n    &quot;b&quot;: foo,\n    &quot;c&quot;: []\n}\n</code></pre>\n<p>the desired result is</p>\n<pre><code>{\n    &quot;a&quot;: {&quot;a2&quot;: 2},\n    &quot;c&quot;: []\n}\n</code></pre>\n<p>I'm using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">Jayway Jsonpath</a>, but I'm open to use other libraries. My current solution is the following:</p>\n<ul>\n<li>find the minimal jsonpath list that describe the same set of elements (i.e. remove <code>&quot;$.a.a2&quot;</code> if <code>&quot;$.a&quot;</code> is present);</li>\n<li>determine the leaf objects (in the first example <code>a2</code> and <code>c</code>) and build a map that is capable to contain them, as creation of deep nodes is still <a href=\"https://github.com/json-path/JsonPath/issues/83\" rel=\"nofollow noreferrer\">not supported</a>: in the first example, after this step I'm creating a map <code>{&quot;a&quot;: {}}</code>;</li>\n<li>read the values from the initial object and copy them in the map with the provided methods <code>read</code>/<code>set</code>.</li>\n</ul>\n<p>I'm quite surprised that such feature is not present. Is there a better way to filter properties in an object? <a href=\"https://stackoverflow.com/a/64577801/11478354\">Squiggly</a> might be a suitable solution, but is not maintained.</p>\n"},{"tags":["java","json","spring","endpoint"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687793856,"post_id":76558173,"comment_id":134983000,"body_markdown":"I think your image is of the Chrome debug console. It&#39;s showing a rendered view of your JSON, not the raw text. There&#39;s another tab in the debug console to do that.","body":"I think your image is of the Chrome debug console. It&#39;s showing a rendered view of your JSON, not the raw text. There&#39;s another tab in the debug console to do that."},{"owner":{"account_id":15033093,"reputation":1,"user_id":10850479,"display_name":"chambers91"},"score":0,"creation_date":1687794104,"post_id":76558173,"comment_id":134983046,"body_markdown":"Thanks for the quick response, this is my second time ever dealing with Stack Overflow to ask a question and it seems more difficult than expected to share screenshots and details like I want to.","body":"Thanks for the quick response, this is my second time ever dealing with Stack Overflow to ask a question and it seems more difficult than expected to share screenshots and details like I want to."},{"owner":{"account_id":15033093,"reputation":1,"user_id":10850479,"display_name":"chambers91"},"score":0,"creation_date":1687794148,"post_id":76558173,"comment_id":134983058,"body_markdown":"Here is how my data displays within any browser right now:\n\n[{&quot;email&quot;:&quot;Terence@aol.com + /n&quot;,&quot;password&quot;:&quot;test123&quot;}]","body":"Here is how my data displays within any browser right now:  [{&quot;email&quot;:&quot;Terence@aol.com + /n&quot;,&quot;password&quot;:&quot;test123&quot;}]"},{"owner":{"account_id":15033093,"reputation":1,"user_id":10850479,"display_name":"chambers91"},"score":0,"creation_date":1687794197,"post_id":76558173,"comment_id":134983076,"body_markdown":"This is my current code within my controller:\n\n @GetMapping()\n    public List&lt;User&gt; getUsers(){\n    return List.of(\n        new User(\n                1L,\n                 &quot;Terence@aol.com&quot; ,\n            &quot;test123&quot;\n        )\n        );\n\n        }","body":"This is my current code within my controller:   @GetMapping()     public List&lt;User&gt; getUsers(){     return List.of(         new User(                 1L,                  &quot;Terence@aol.com&quot; ,             &quot;test123&quot;         )         );          }"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687794334,"post_id":76558173,"comment_id":134983114,"body_markdown":"If you are looking for a line break, that&#39;s `\\n`, not `/n`.","body":"If you are looking for a line break, that&#39;s <code>\\n</code>, not <code>&#47;n</code>."},{"owner":{"account_id":15033093,"reputation":1,"user_id":10850479,"display_name":"chambers91"},"score":0,"creation_date":1687795265,"post_id":76558173,"comment_id":134983339,"body_markdown":"Thank you for noticing that error, I have made that modification and instead of the data going to the next line, &quot;\\n&quot; has been added within the same string.","body":"Thank you for noticing that error, I have made that modification and instead of the data going to the next line, &quot;\\n&quot; has been added within the same string."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687795879,"post_id":76558173,"comment_id":134983456,"body_markdown":"There is an extension for Chrome: https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa","body":"There is an extension for Chrome: <a href=\"https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa\" rel=\"nofollow noreferrer\">chrome.google.com/webstore/detail/json-formatter/&hellip;</a>"},{"owner":{"account_id":15033093,"reputation":1,"user_id":10850479,"display_name":"chambers91"},"score":0,"creation_date":1687802629,"post_id":76558173,"comment_id":134984865,"body_markdown":"@Mar-Z I knew it had to be an easy solution thank you for the guidance, that worked!","body":"@Mar-Z I knew it had to be an easy solution thank you for the guidance, that worked!"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687804334,"post_id":76558173,"comment_id":134985119,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."}],"owner":{"account_id":15033093,"reputation":1,"user_id":10850479,"display_name":"chambers91"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687793933,"creation_date":1687793632,"question_id":76558173,"body_markdown":"I am trying to format the data received from my API so that each value populates on its own individual line. Currently the data returns horizontal within my Safari and Chrome browser. I have tried to add  &quot; +/n&quot; to my API and that did not work. I have attempted to search for a solution on Stack Overflow as well as on Google, neither resource provides a solution for my task. Below is the details of the IDE version I am working on:\r\n\r\n```none\r\nIntelliJ IDEA 2023.2 EAP (Community Edition)\r\nBuild #IC-232.7754.73, built on June 15, 2023\r\nRuntime version: 17.0.7+7-b985.2 aarch64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 13.4.1\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 2048M\r\nCores: 10\r\nMetal Rendering is ON\r\nRegistry:\r\n    ide.experimental.ui=true\r\n\r\n\r\nKotlin: 232-1.8.21-release-380-IJ7754.73\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zXyfo.png","title":"How can i get my API data to display vertically instead of horizontally in Intellij?","body":"<p>I am trying to format the data received from my API so that each value populates on its own individual line. Currently the data returns horizontal within my Safari and Chrome browser. I have tried to add  &quot; +/n&quot; to my API and that did not work. I have attempted to search for a solution on Stack Overflow as well as on Google, neither resource provides a solution for my task. Below is the details of the IDE version I am working on:</p>\n<pre class=\"lang-none prettyprint-override\"><code>IntelliJ IDEA 2023.2 EAP (Community Edition)\nBuild #IC-232.7754.73, built on June 15, 2023\nRuntime version: 17.0.7+7-b985.2 aarch64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 13.4.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 2048M\nCores: 10\nMetal Rendering is ON\nRegistry:\n    ide.experimental.ui=true\n\n\nKotlin: 232-1.8.21-release-380-IJ7754.73\n</code></pre>\n"},{"tags":["java","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687768899,"post_id":76554886,"comment_id":134977590,"body_markdown":"What do you think does *Unable to find executable for: C:\\selenium\\chrome* mean? There is either no chrome driver installed or it is installed to a different path. That seems to be the root cause of the `SessionNotCreatedException`, which says *Possible causes are invalid address of the remote server or browser start-up failure*…","body":"What do you think does <i>Unable to find executable for: C:\\selenium\\chrome</i> mean? There is either no chrome driver installed or it is installed to a different path. That seems to be the root cause of the <code>SessionNotCreatedException</code>, which says <i>Possible causes are invalid address of the remote server or browser start-up failure</i>…"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687772754,"creation_date":1687772754,"answer_id":76555488,"question_id":76554886,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n\r\n...implies that [Selenium](https://stackoverflow.com/a/54482491/7429447) driven [ChromeDriver](https://stackoverflow.com/a/48080871/7429447) initiated [tag:google-chrome] _browsing context failed to open.\r\n\r\n\r\n----------\r\n\r\n\r\nRoot Cause\r\n----------\r\nConsidering [Selenium](https://stackoverflow.com/a/54482491/7429447) version to be _**4.10.0**_ the _`java.version`_ _**1.8.0_212**_ is too _old_ and _ancient_.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _JDK_ is upgraded to current levels [JDK 8u361](https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html).","title":"What does SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server error means?","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n</code></pre>\n<p>...implies that <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> driven <a href=\"https://stackoverflow.com/a/48080871/7429447\">ChromeDriver</a> initiated <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> _browsing context failed to open.</p>\n<hr />\n<h2>Root Cause</h2>\n<p>Considering <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> version to be <em><strong>4.10.0</strong></em> the <em><code>java.version</code></em> <em><strong>1.8.0_212</strong></em> is too <em>old</em> and <em>ancient</em>.</p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that:</p>\n<ul>\n<li><em>JDK</em> is upgraded to current levels <a href=\"https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html\" rel=\"nofollow noreferrer\">JDK 8u361</a>.</li>\n</ul>\n"}],"owner":{"account_id":28891256,"reputation":1,"user_id":22128371,"display_name":"אפרת לנג"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687793922,"creation_date":1687768119,"question_id":76554886,"body_markdown":"I&#39;m facing an error in Selenium Java. I don&#39;t understand what this means. What does this error mean in Selenium Java?\r\n````\r\nיונ 26, 2023 11:22:49 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\r\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;DESKTOP-LDB7RDR&#39;, ip: &#39;192.168.181.1&#39;\r\nBuild info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_212&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}]}]\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:549)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:227)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:107)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:87)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\tat selenium.Selenium.main(Selenium.java:40)\r\nCaused by: java.lang.IllegalStateException: Actual executable Unable to find executable for: C:\\selenium\\chrome\r\n\tat org.openqa.selenium.internal.Require$StateChecker.nonNull(Require.java:314)\r\n\tat org.openqa.selenium.os.OsProcess.&lt;init&gt;(OsProcess.java:65)\r\n\tat org.openqa.selenium.os.CommandLine.&lt;init&gt;(CommandLine.java:35)\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:210)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\r\n\t... 7 more\r\nC:\\Users\\שם לא ידוע\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\r\nBUILD FAILED (total time: 1 second)\r\n````","title":"What does SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server error means?","body":"<p>I'm facing an error in Selenium Java. I don't understand what this means. What does this error mean in Selenium Java?</p>\n<pre><code>יונ 26, 2023 11:22:49 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'DESKTOP-LDB7RDR', ip: '192.168.181.1'\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_212'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}]}]\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:549)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:227)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:107)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:87)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\n    at selenium.Selenium.main(Selenium.java:40)\nCaused by: java.lang.IllegalStateException: Actual executable Unable to find executable for: C:\\selenium\\chrome\n    at org.openqa.selenium.internal.Require$StateChecker.nonNull(Require.java:314)\n    at org.openqa.selenium.os.OsProcess.&lt;init&gt;(OsProcess.java:65)\n    at org.openqa.selenium.os.CommandLine.&lt;init&gt;(CommandLine.java:35)\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:210)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\n    ... 7 more\nC:\\Users\\שם לא ידוע\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\nBUILD FAILED (total time: 1 second)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","multipartform-data"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687788797,"post_id":76557426,"comment_id":134981785,"body_markdown":"You may try to specify the character encoding explicitly for the start:\n`spring.http.encoding.charset=UTF-8`;\n`spring.http.encoding.force=true`","body":"You may try to specify the character encoding explicitly for the start: <code>spring.http.encoding.charset=UTF-8</code>; <code>spring.http.encoding.force=true</code>"},{"owner":{"account_id":13236506,"reputation":17,"user_id":9558500,"display_name":"Mudabbir Pasha"},"score":0,"creation_date":1687791041,"post_id":76557426,"comment_id":134982365,"body_markdown":"@yahorbarkouski after adding the UTF-8 encoding property, the issue still exists.\nthe image part is empty","body":"@yahorbarkouski after adding the UTF-8 encoding property, the issue still exists. the image part is empty"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1687794279,"post_id":76557426,"comment_id":134983098,"body_markdown":"Could be the image file is corrupted, Did you try a png and see the result","body":"Could be the image file is corrupted, Did you try a png and see the result"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1687794557,"post_id":76557426,"comment_id":134983185,"body_markdown":"For example you can use this https://codebeautify.org/base64-to-image-converter to paste the encoded 64 base content to convert into image file. So the base64 should be valid when you log it","body":"For example you can use this <a href=\"https://codebeautify.org/base64-to-image-converter\" rel=\"nofollow noreferrer\">codebeautify.org/base64-to-image-converter</a> to paste the encoded 64 base content to convert into image file. So the base64 should be valid when you log it"},{"owner":{"account_id":13236506,"reputation":17,"user_id":9558500,"display_name":"Mudabbir Pasha"},"score":0,"creation_date":1687816626,"post_id":76557426,"comment_id":134986964,"body_markdown":"@Youans I was able to decode the base64 encoded image file present in request body. So the image is not corrupted. But for some reason the content is not coming in the Part.","body":"@Youans I was able to decode the base64 encoded image file present in request body. So the image is not corrupted. But for some reason the content is not coming in the Part."}],"owner":{"account_id":13236506,"reputation":17,"user_id":9558500,"display_name":"Mudabbir Pasha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687793888,"creation_date":1687788243,"question_id":76557426,"body_markdown":"I have a Spring Application with REST API to accept MMS and the API structure is like\r\n````\r\npublic ResponseEntity&lt;String&gt; forwardMMS(@RequestParam(name = &quot;recipients&quot;) @NotBlank String recipients,\r\n                                             @RequestParam(name = &quot;sender&quot;) @NotBlank String sender,\r\n                                             @RequestParam(name = &quot;subject&quot;, required = false) String subject,\r\n                                             @RequestHeader(name = &quot;X-Transaction-ID&quot;, required = false) String uuidFromHeader,\r\n                                             MultipartHttpServletRequest multipartHttpServletRequest) \r\n````\r\n\r\nI have issues when trying to retrieve the parts from the multipartHttpServletRequest for Image or gif files.\r\n\r\nbelow is the code:\r\n````\r\nprivate List&lt;Part&gt; getMmsContentParts(MultipartHttpServletRequest multipartHttpServletRequest) {\r\n        List&lt;Part&gt; attachments = new ArrayList&lt;&gt;();\r\n        try {\r\n            for (Part part : multipartHttpServletRequest.getParts()) {\r\n                if (part.getName().equals(&quot;mmsContent&quot;)) {\r\n                    attachments.add(part);\r\n                }\r\n            }\r\n        } catch (IOException | ServletException e) {\r\n            LOGGER.error(&quot;Error getting Parts&quot;, e);\r\n        }\r\n        logContentToDebug(attachments);\r\n        return attachments;\r\n    }\r\n\r\n    private void logContentToDebug(List&lt;Part&gt; attachments) {\r\n        for (Part part : attachments) {\r\n            String contentType = part.getContentType();\r\n            LOGGER.debug(&quot;File contentType : {} and its content size is : {}&quot;, contentType, part.getSize());\r\n        }\r\n    }\r\n````\r\n\r\nLogs from My code for the above code\r\n\r\n 1. For a smil and image file\r\n````\r\n&quot;message&quot;:&quot;File contentType : application/smil;charset=UTF-8 and its content size is : 301&quot;\r\n&quot;message&quot;:&quot;File contentType : image/jpeg; name=709055746.jpg and its content size is : 0&quot;\r\n````\r\n\r\n 2. For a smil and video file in 3gp format\r\n````\r\n&quot;message&quot;:&quot;File contentType : application/smil;charset=UTF-8 and its content size is : 302&quot;\r\n&quot;message&quot;:&quot;File contentType : video/3gpp; name=709048525.3gp and its content size is : 1045&quot;\r\n````\r\n\r\n\r\nI logged the request body using the Filter to check if I&#39;m actually receiving the image file or not. In request body the image file content in base64 format is present.\r\n\r\n````\r\n@Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;\r\n        String requestBody = IOUtils.toString(httpRequest.getInputStream(), StandardCharsets.UTF_8);\r\n        LOGGER.info(&quot;Request Body {}: &quot;, requestBody);\r\n    }\r\n````\r\n\r\nrequest body log for both image and Video requests\r\n\r\n 1. Request body with Image\r\n````\r\nRequest Body: \r\n------=_Part_22_1815075090.1687446854525\r\nContent-Type: application/smil;charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nContent-ID: 0.smil\r\nContent-Disposition: form-data; name=mmsContent\r\n\r\n&lt;smil&gt;\r\n&lt;head&gt;\r\n&lt;layout&gt;\r\n &lt;root-layout/&gt;\r\n&lt;region id=&quot;Text&quot; top=&quot;70%&quot; left=&quot;0%&quot; height=&quot;30%&quot; width=&quot;100%&quot; fit=&quot;scroll&quot;/&gt;\r\n&lt;region id=&quot;Image&quot; top=&quot;0%&quot; left=&quot;0%&quot; height=&quot;70%&quot; width=&quot;100%&quot; fit=&quot;meet&quot;/&gt;\r\n&lt;/layout&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;par dur=&quot;10s&quot;&gt;\r\n&lt;img src=&quot;709055746.jpg&quot; region=&quot;Image&quot;/&gt;\r\n&lt;/par&gt;\r\n&lt;/body&gt;\r\n&lt;/smil&gt;\r\n\r\n------=_Part_22_1815075090.1687446854525\r\nContent-Type: image/jpeg; name=709055746.jpg\r\nContent-Transfer-Encoding: base64\r\nContent-ID: 0\r\nContent-Disposition: form-data; filename=709055746.jpg; name=mmsContent\r\n\r\n/9j/4AAUSkZJRgABAQEBLAEsAABBTVBG/+EAvkV4aWYAAE1NACoAAAAIAAUBGgAFAAAAAQAAAEoB\r\nGwAFAAAAAQAAAFIBKAADAAAAAQACAAACEwADAAAAAQABAACHaQAEAAAAAQAAAFoAAAAAAAAASAAA\r\nrPeA7CR1FZcmT8uKIxhAsnArk/EPjfQvCsqwanuC4++oyBXyp8bfjhYXtgum+Ejkv9+Tpivje41e\r\n7uEP2htxJ5Jro/CGsvbX6W0n3W4r6x8IWMdy4dh1r0i48HyS5KDrXn+veC5Z0OBhl9q8lvNL1DT3\r\nKSKRjvUMOpSRYUdR3rVh1xzhmOGAratfFIKeXPw1WjrUTuCDtr134dXMPiKwvfDEpDNt82MeuBhg\r\nPwr5s8YaHLoWszafIMbT8v07VxEjtH04xV+01LYuTWkNaXoTV2LWSF+U5rOuNWLHcarLeggydqia\r\n6Mn3SaiXDrhzirUFo90wUdvSu00jw0zsAFz9a9T07wyoVUaPOB+Vdf8A8K08O6pBv1G2Qkcbh8rf\r\nmuDXH61+z/pj/Po1+0bn+CUb19uVwQPwNeK+JPht4j8L7XvER43bYrRNuyT0AU4b9K//2Q==\r\n------=_Part_22_1815075090.1687446854525\r\nContent-Type: text/plain;charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: form-data; name=&quot;recipients&quot;\r\n\r\n1234\r\n------=_Part_22_1815075090.1687446854525\r\nContent-Type: text/plain;charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: form-data; name=&quot;sender&quot;\r\n\r\n45678\r\n------=_Part_22_1815075090.1687446854525--\r\n````\r\n\r\n 2. request body with video file\r\n````\r\nRequest Body: \r\n------=_Part_18_1310706778.1687446631068\r\nContent-Type: application/smil;charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nContent-ID: 0.smil\r\nContent-Disposition: form-data; name=mmsContent\r\n\r\n&lt;smil&gt;\r\n&lt;head&gt;\r\n&lt;layout&gt;\r\n &lt;root-layout/&gt;\r\n&lt;region id=&quot;Text&quot; top=&quot;70%&quot; left=&quot;0%&quot; height=&quot;30%&quot; width=&quot;100%&quot; fit=&quot;scroll&quot;/&gt;\r\n&lt;region id=&quot;Image&quot; top=&quot;0%&quot; left=&quot;0%&quot; height=&quot;70%&quot; width=&quot;100%&quot; fit=&quot;meet&quot;/&gt;\r\n&lt;/layout&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;par dur=&quot;2s&quot;&gt;\r\n&lt;video src=&quot;709048525.3gp&quot; region=&quot;Image&quot;/&gt;\r\n&lt;text src=&quot;text_1.txt&quot; region=&quot;Text&quot;/&gt;\r\n&lt;/par&gt;\r\n&lt;/body&gt;\r\n&lt;/smil&gt;\r\n\r\n------=_Part_18_1310706778.1687446631068\r\nContent-Type: video/3gpp; name=709048525.3gp\r\nContent-Transfer-Encoding: base64\r\nContent-ID: 0\r\nContent-Disposition: form-data; filename=709048525.3gp; name=mmsContent\r\n\r\nAAAAHGZ0eXAzZ3A1AAABAGlzb20zZ3A1M2dwNAAABPRtb292AAAAbG12aGQAAAAA4LoU5eC6FOYA\r\nxxxxxx\r\nCgM7Gda2z+LyUU7wX7IzwAAAhB/62/AAAIgetkjGM1sWCTB8QEkfYwG8AACMHp6YF8HxADUAJ4oH\r\nJ1fB6f9ED0gKmCekBLR4XrAtSstTkaHg9oCCahYPiAg9n/wAAJAelxcD3f5pfBfAnAPqfF4kgwQO\r\nXD8GADgDviUJPy4GBCoPx6DBA0HSoRy4f+L8oiqWzdeJYQwg+H4KDyoSADL5R/QDlV3gKPw7t/85\r\nUKhJAM9VXgYANCEEMfj8D/gUECCEPwIQIYKS/VFxcxWAcH9pggKy8S/QGB9QQAYAPBQl0ioeiWP1\r\nYlF/wUymQf+9/Izi2kr+nIn5TEEhbQjcMEWNKuH7Rsw3oXN4CsAAAJQexhZay0Fmly0yUNnuhhbz\r\nnAAAmB//AACcH9rJvgAAoB/1NzuAAAA=\r\n------=_Part_18_1310706778.1687446631068\r\nContent-Type: text/plain;charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: form-data; name=&quot;recipients&quot;\r\n\r\n1234\r\n------=_Part_18_1310706778.1687446631068\r\nContent-Type: text/plain;charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: form-data; name=&quot;sender&quot;\r\n\r\n45678\r\n------=_Part_18_1310706778.1687446631068--\r\n````\r\n\r\nthe application properties for multipart handling is \r\n````\r\nspring.servlet.multipart.max-file-size=10MB\r\nspring.servlet.multipart.max-request-size=50MB\r\n````\r\n\r\nI&#39;m out of ideas of what might be the exact problem, can you please help me in solving the issue.\r\n\r\nMany thanks in advance.\r\n\r\nPS: the API works well for txt files.\r\n\r\n**UPDATE :**\r\nI added the below code to print the content of file parts received.\r\n````\r\nHttpServletRequest httpRequest = (HttpServletRequest) servletRequest;\r\n\r\n        List&lt;Part&gt; fileParts = new ArrayList&lt;&gt;();\r\n\r\n        for (Part part : httpRequest.getParts()) {\r\n            if (part.getName().equals(&quot;mmsContent&quot;)) {\r\n                fileParts.add(part);\r\n            }\r\n        }\r\n\r\n        for (Part part : fileParts) {\r\n            String contentType = part.getContentType();\r\n\r\n            try {\r\n                InputStream inputStream = part.getInputStream();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                String line;\r\n                StringBuilder content = new StringBuilder();\r\n                while ((line = bufferedReader.readLine()) != null) {\r\n                    content.append(line);\r\n                }\r\n                LOGGER.info(&quot;File contentType : {} and its content is : {}&quot;, contentType, content);\r\n            } catch (IOException e) {\r\n                LOGGER.error(&quot;Error getting Parts content&quot;, e);\r\n            }\r\n        }\r\n````\r\n\r\n[![Log][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A5I7t.png","title":"MultipartHttpServletRequest.getParts() return partial data (Image or gif content is null/empty)","body":"<p>I have a Spring Application with REST API to accept MMS and the API structure is like</p>\n<pre><code>public ResponseEntity&lt;String&gt; forwardMMS(@RequestParam(name = &quot;recipients&quot;) @NotBlank String recipients,\n                                             @RequestParam(name = &quot;sender&quot;) @NotBlank String sender,\n                                             @RequestParam(name = &quot;subject&quot;, required = false) String subject,\n                                             @RequestHeader(name = &quot;X-Transaction-ID&quot;, required = false) String uuidFromHeader,\n                                             MultipartHttpServletRequest multipartHttpServletRequest) \n</code></pre>\n<p>I have issues when trying to retrieve the parts from the multipartHttpServletRequest for Image or gif files.</p>\n<p>below is the code:</p>\n<pre><code>private List&lt;Part&gt; getMmsContentParts(MultipartHttpServletRequest multipartHttpServletRequest) {\n        List&lt;Part&gt; attachments = new ArrayList&lt;&gt;();\n        try {\n            for (Part part : multipartHttpServletRequest.getParts()) {\n                if (part.getName().equals(&quot;mmsContent&quot;)) {\n                    attachments.add(part);\n                }\n            }\n        } catch (IOException | ServletException e) {\n            LOGGER.error(&quot;Error getting Parts&quot;, e);\n        }\n        logContentToDebug(attachments);\n        return attachments;\n    }\n\n    private void logContentToDebug(List&lt;Part&gt; attachments) {\n        for (Part part : attachments) {\n            String contentType = part.getContentType();\n            LOGGER.debug(&quot;File contentType : {} and its content size is : {}&quot;, contentType, part.getSize());\n        }\n    }\n</code></pre>\n<p>Logs from My code for the above code</p>\n<ol>\n<li>For a smil and image file</li>\n</ol>\n<pre><code>&quot;message&quot;:&quot;File contentType : application/smil;charset=UTF-8 and its content size is : 301&quot;\n&quot;message&quot;:&quot;File contentType : image/jpeg; name=709055746.jpg and its content size is : 0&quot;\n</code></pre>\n<ol start=\"2\">\n<li>For a smil and video file in 3gp format</li>\n</ol>\n<pre><code>&quot;message&quot;:&quot;File contentType : application/smil;charset=UTF-8 and its content size is : 302&quot;\n&quot;message&quot;:&quot;File contentType : video/3gpp; name=709048525.3gp and its content size is : 1045&quot;\n</code></pre>\n<p>I logged the request body using the Filter to check if I'm actually receiving the image file or not. In request body the image file content in base64 format is present.</p>\n<pre><code>@Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;\n        String requestBody = IOUtils.toString(httpRequest.getInputStream(), StandardCharsets.UTF_8);\n        LOGGER.info(&quot;Request Body {}: &quot;, requestBody);\n    }\n</code></pre>\n<p>request body log for both image and Video requests</p>\n<ol>\n<li>Request body with Image</li>\n</ol>\n<pre><code>Request Body: \n------=_Part_22_1815075090.1687446854525\nContent-Type: application/smil;charset=UTF-8\nContent-Transfer-Encoding: 7bit\nContent-ID: 0.smil\nContent-Disposition: form-data; name=mmsContent\n\n&lt;smil&gt;\n&lt;head&gt;\n&lt;layout&gt;\n &lt;root-layout/&gt;\n&lt;region id=&quot;Text&quot; top=&quot;70%&quot; left=&quot;0%&quot; height=&quot;30%&quot; width=&quot;100%&quot; fit=&quot;scroll&quot;/&gt;\n&lt;region id=&quot;Image&quot; top=&quot;0%&quot; left=&quot;0%&quot; height=&quot;70%&quot; width=&quot;100%&quot; fit=&quot;meet&quot;/&gt;\n&lt;/layout&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;par dur=&quot;10s&quot;&gt;\n&lt;img src=&quot;709055746.jpg&quot; region=&quot;Image&quot;/&gt;\n&lt;/par&gt;\n&lt;/body&gt;\n&lt;/smil&gt;\n\n------=_Part_22_1815075090.1687446854525\nContent-Type: image/jpeg; name=709055746.jpg\nContent-Transfer-Encoding: base64\nContent-ID: 0\nContent-Disposition: form-data; filename=709055746.jpg; name=mmsContent\n\n/9j/4AAUSkZJRgABAQEBLAEsAABBTVBG/+EAvkV4aWYAAE1NACoAAAAIAAUBGgAFAAAAAQAAAEoB\nGwAFAAAAAQAAAFIBKAADAAAAAQACAAACEwADAAAAAQABAACHaQAEAAAAAQAAAFoAAAAAAAAASAAA\nrPeA7CR1FZcmT8uKIxhAsnArk/EPjfQvCsqwanuC4++oyBXyp8bfjhYXtgum+Ejkv9+Tpivje41e\n7uEP2htxJ5Jro/CGsvbX6W0n3W4r6x8IWMdy4dh1r0i48HyS5KDrXn+veC5Z0OBhl9q8lvNL1DT3\nKSKRjvUMOpSRYUdR3rVh1xzhmOGAratfFIKeXPw1WjrUTuCDtr134dXMPiKwvfDEpDNt82MeuBhg\nPwr5s8YaHLoWszafIMbT8v07VxEjtH04xV+01LYuTWkNaXoTV2LWSF+U5rOuNWLHcarLeggydqia\n6Mn3SaiXDrhzirUFo90wUdvSu00jw0zsAFz9a9T07wyoVUaPOB+Vdf8A8K08O6pBv1G2Qkcbh8rf\nmuDXH61+z/pj/Po1+0bn+CUb19uVwQPwNeK+JPht4j8L7XvER43bYrRNuyT0AU4b9K//2Q==\n------=_Part_22_1815075090.1687446854525\nContent-Type: text/plain;charset=UTF-8\nContent-Transfer-Encoding: 7bit\nContent-Disposition: form-data; name=&quot;recipients&quot;\n\n1234\n------=_Part_22_1815075090.1687446854525\nContent-Type: text/plain;charset=UTF-8\nContent-Transfer-Encoding: 7bit\nContent-Disposition: form-data; name=&quot;sender&quot;\n\n45678\n------=_Part_22_1815075090.1687446854525--\n</code></pre>\n<ol start=\"2\">\n<li>request body with video file</li>\n</ol>\n<pre><code>Request Body: \n------=_Part_18_1310706778.1687446631068\nContent-Type: application/smil;charset=UTF-8\nContent-Transfer-Encoding: 7bit\nContent-ID: 0.smil\nContent-Disposition: form-data; name=mmsContent\n\n&lt;smil&gt;\n&lt;head&gt;\n&lt;layout&gt;\n &lt;root-layout/&gt;\n&lt;region id=&quot;Text&quot; top=&quot;70%&quot; left=&quot;0%&quot; height=&quot;30%&quot; width=&quot;100%&quot; fit=&quot;scroll&quot;/&gt;\n&lt;region id=&quot;Image&quot; top=&quot;0%&quot; left=&quot;0%&quot; height=&quot;70%&quot; width=&quot;100%&quot; fit=&quot;meet&quot;/&gt;\n&lt;/layout&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;par dur=&quot;2s&quot;&gt;\n&lt;video src=&quot;709048525.3gp&quot; region=&quot;Image&quot;/&gt;\n&lt;text src=&quot;text_1.txt&quot; region=&quot;Text&quot;/&gt;\n&lt;/par&gt;\n&lt;/body&gt;\n&lt;/smil&gt;\n\n------=_Part_18_1310706778.1687446631068\nContent-Type: video/3gpp; name=709048525.3gp\nContent-Transfer-Encoding: base64\nContent-ID: 0\nContent-Disposition: form-data; filename=709048525.3gp; name=mmsContent\n\nAAAAHGZ0eXAzZ3A1AAABAGlzb20zZ3A1M2dwNAAABPRtb292AAAAbG12aGQAAAAA4LoU5eC6FOYA\nxxxxxx\nCgM7Gda2z+LyUU7wX7IzwAAAhB/62/AAAIgetkjGM1sWCTB8QEkfYwG8AACMHp6YF8HxADUAJ4oH\nJ1fB6f9ED0gKmCekBLR4XrAtSstTkaHg9oCCahYPiAg9n/wAAJAelxcD3f5pfBfAnAPqfF4kgwQO\nXD8GADgDviUJPy4GBCoPx6DBA0HSoRy4f+L8oiqWzdeJYQwg+H4KDyoSADL5R/QDlV3gKPw7t/85\nUKhJAM9VXgYANCEEMfj8D/gUECCEPwIQIYKS/VFxcxWAcH9pggKy8S/QGB9QQAYAPBQl0ioeiWP1\nYlF/wUymQf+9/Izi2kr+nIn5TEEhbQjcMEWNKuH7Rsw3oXN4CsAAAJQexhZay0Fmly0yUNnuhhbz\nnAAAmB//AACcH9rJvgAAoB/1NzuAAAA=\n------=_Part_18_1310706778.1687446631068\nContent-Type: text/plain;charset=UTF-8\nContent-Transfer-Encoding: 7bit\nContent-Disposition: form-data; name=&quot;recipients&quot;\n\n1234\n------=_Part_18_1310706778.1687446631068\nContent-Type: text/plain;charset=UTF-8\nContent-Transfer-Encoding: 7bit\nContent-Disposition: form-data; name=&quot;sender&quot;\n\n45678\n------=_Part_18_1310706778.1687446631068--\n</code></pre>\n<p>the application properties for multipart handling is</p>\n<pre><code>spring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=50MB\n</code></pre>\n<p>I'm out of ideas of what might be the exact problem, can you please help me in solving the issue.</p>\n<p>Many thanks in advance.</p>\n<p>PS: the API works well for txt files.</p>\n<p><strong>UPDATE :</strong>\nI added the below code to print the content of file parts received.</p>\n<pre><code>HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;\n\n        List&lt;Part&gt; fileParts = new ArrayList&lt;&gt;();\n\n        for (Part part : httpRequest.getParts()) {\n            if (part.getName().equals(&quot;mmsContent&quot;)) {\n                fileParts.add(part);\n            }\n        }\n\n        for (Part part : fileParts) {\n            String contentType = part.getContentType();\n\n            try {\n                InputStream inputStream = part.getInputStream();\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                String line;\n                StringBuilder content = new StringBuilder();\n                while ((line = bufferedReader.readLine()) != null) {\n                    content.append(line);\n                }\n                LOGGER.info(&quot;File contentType : {} and its content is : {}&quot;, contentType, content);\n            } catch (IOException e) {\n                LOGGER.error(&quot;Error getting Parts content&quot;, e);\n            }\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/A5I7t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A5I7t.png\" alt=\"Log\" /></a></p>\n"},{"tags":["java","android","mp4box"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687801152,"post_id":76558117,"comment_id":134984583,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28898682,"reputation":1,"user_id":22134147,"display_name":"meme sheshe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687793251,"creation_date":1687793156,"question_id":76558117,"body_markdown":"Can some one give me a guide on how to use mp4parser to edit the mp4boxes?\r\n\r\nI tried\r\n\r\n\r\n    MP4Edit edit = new MP4Edit();\r\n    edit.open(inputFile);\r\n    edit.editBox(&quot;moov&quot;, newBoxContents);\r\n    edit.close();\r\n\r\nbut I want the detailed solution for all the boxes.","title":"use mp4parser to edit the mp4boxes","body":"<p>Can some one give me a guide on how to use mp4parser to edit the mp4boxes?</p>\n<p>I tried</p>\n<pre><code>MP4Edit edit = new MP4Edit();\nedit.open(inputFile);\nedit.editBox(&quot;moov&quot;, newBoxContents);\nedit.close();\n</code></pre>\n<p>but I want the detailed solution for all the boxes.</p>\n"},{"tags":["java","java-stream","java-11"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":5,"creation_date":1687785516,"post_id":76557016,"comment_id":134981005,"body_markdown":"&quot;this exception only occurs once in a while in my multi thread application&quot; Then I expect there&#39;s another thread modifying your HashMap.","body":"&quot;this exception only occurs once in a while in my multi thread application&quot; Then I expect there&#39;s another thread modifying your HashMap."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687786522,"post_id":76557016,"comment_id":134981248,"body_markdown":"BTW `findAny` is just the method *starting* the whole stream evaluation || &quot;as you can see&quot;?!!   not really - that for sure is not the whole code! Better post a [mre]. || [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ConcurrentModificationException.html): &quot;*thrown by methods that have detected concurrent modification of an object when such modification is not permissible . . . it is not generally permissible for one thread to modify a Collection while another thread is iterating over it*&quot;","body":"BTW <code>findAny</code> is just the method <i>starting</i> the whole stream evaluation || &quot;as you can see&quot;?!!   not really - that for sure is not the whole code! Better post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. || <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">documentation</a>: &quot;<i>thrown by methods that have detected concurrent modification of an object when such modification is not permissible . . . it is not generally permissible for one thread to modify a Collection while another thread is iterating over it</i>&quot;"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":4,"creation_date":1687786527,"post_id":76557016,"comment_id":134981251,"body_markdown":"This code is looping over the elements of the map. At each step of the loop, it checks if the map has been modified. If the map has been modified, then you get a CME. You&#39;re not getting the exception because this loop modified it, something else modified it while this loop was running.","body":"This code is looping over the elements of the map. At each step of the loop, it checks if the map has been modified. If the map has been modified, then you get a CME. You&#39;re not getting the exception because this loop modified it, something else modified it while this loop was running."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1687789060,"post_id":76557016,"comment_id":134981851,"body_markdown":"How is your `getProblemItemsMap()` implemented? What happens if this is called from multiple threads, doesn&#39;t it share some objects which it at the same time modifies?","body":"How is your <code>getProblemItemsMap()</code> implemented? What happens if this is called from multiple threads, doesn&#39;t it share some objects which it at the same time modifies?"},{"owner":{"account_id":2290787,"reputation":4289,"user_id":2013672,"accept_rate":72,"display_name":"Sadık"},"score":0,"creation_date":1687790520,"post_id":76557016,"comment_id":134982244,"body_markdown":"As I understand from your comments, some other part of the software is modifying the map while this part iterates over it and it&#39;s hard to understand which part. Of course this is not &quot;the whole code&quot; (hundreds of placed where this map is modified) and it&#39;s not helpful to ask for a &quot;minimal reproducible example&quot; here. Unfortunately the stacktrace shows the location where the iteration takes place and not the location with the modification.","body":"As I understand from your comments, some other part of the software is modifying the map while this part iterates over it and it&#39;s hard to understand which part. Of course this is not &quot;the whole code&quot; (hundreds of placed where this map is modified) and it&#39;s not helpful to ask for a &quot;minimal reproducible example&quot; here. Unfortunately the stacktrace shows the location where the iteration takes place and not the location with the modification."},{"owner":{"account_id":2290787,"reputation":4289,"user_id":2013672,"accept_rate":72,"display_name":"Sadık"},"score":1,"creation_date":1687790634,"post_id":76557016,"comment_id":134982273,"body_markdown":"I am unsure what the comments are suggesting. To lock the map when modifying it or when iterating over it or both or maybe another solution?","body":"I am unsure what the comments are suggesting. To lock the map when modifying it or when iterating over it or both or maybe another solution?"},{"owner":{"account_id":1303659,"reputation":2036,"user_id":1253088,"display_name":"Vaibs"},"score":2,"creation_date":1687792594,"post_id":76557016,"comment_id":134982722,"body_markdown":"I would have gone for the &quot;ConcurrentHashMap &quot; instead of the &quot;Hashmap&quot; in your case.","body":"I would have gone for the &quot;ConcurrentHashMap &quot; instead of the &quot;Hashmap&quot; in your case."}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687793192,"creation_date":1687791953,"answer_id":76557936,"question_id":76557016,"body_markdown":"EDIT: I suspect that what we are solving is a typical instance of [the X-Y problem][1]. Probably the whole code needs refactoring, as it probably does not make much sense working with a map which is constantly changing in the backrgound. What is the expected *overall* behaviour?\r\n\r\n---\r\n\r\nIt seems like there are bad guys around conspiring against your thread, modifying the map in the background :)\r\n\r\n1. The best solution, if you can change the code of `getProblemItemsMap()` or implement your own, would be to reimplement it completely so no one changes it while you use it.\r\n\r\n**Anyway, from the business logic point of view, how is the behaviour of your code defined if the underlying map is constantly changing?**\r\n\r\n2. Copy the map before use:\r\n```\r\nproblemItemsMap = Map.copyOf(getProblemItemsMap());\r\n```\r\nThe [documentation][2] says:\r\n&gt; Returns an unmodifiable Map containing the entries of the given Map. The given Map must not be null, and it must not contain any null keys or values. **If the given Map is subsequently modified, the returned Map will not reflect such modifications**.\r\n\r\nI am not sure how `copyOf` is implemented, *maybe* it will be able to catch a snapshot of the underlying map. I don&#39;t know how tolerant it is.\r\n\r\n\r\n  [1]: https://xyproblem.info/\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)","title":"ConcurrentModificationException when using java streams without modification","body":"<p>EDIT: I suspect that what we are solving is a typical instance of <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">the X-Y problem</a>. Probably the whole code needs refactoring, as it probably does not make much sense working with a map which is constantly changing in the backrgound. What is the expected <em>overall</em> behaviour?</p>\n<hr />\n<p>It seems like there are bad guys around conspiring against your thread, modifying the map in the background :)</p>\n<ol>\n<li>The best solution, if you can change the code of <code>getProblemItemsMap()</code> or implement your own, would be to reimplement it completely so no one changes it while you use it.</li>\n</ol>\n<p><strong>Anyway, from the business logic point of view, how is the behaviour of your code defined if the underlying map is constantly changing?</strong></p>\n<ol start=\"2\">\n<li>Copy the map before use:</li>\n</ol>\n<pre><code>problemItemsMap = Map.copyOf(getProblemItemsMap());\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>Returns an unmodifiable Map containing the entries of the given Map. The given Map must not be null, and it must not contain any null keys or values. <strong>If the given Map is subsequently modified, the returned Map will not reflect such modifications</strong>.</p>\n</blockquote>\n<p>I am not sure how <code>copyOf</code> is implemented, <em>maybe</em> it will be able to catch a snapshot of the underlying map. I don't know how tolerant it is.</p>\n"}],"owner":{"account_id":2290787,"reputation":4289,"user_id":2013672,"accept_rate":72,"display_name":"Sadık"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76557936,"answer_count":1,"score":0,"last_activity_date":1687793192,"creation_date":1687785030,"question_id":76557016,"body_markdown":"I get a ConcurrentModificationException although the piece of code that is listed in the stacktrace doesn&#39;t do any modification:\r\n\r\n    Map&lt;String, ProblemItem&gt; problemItemsMap = getProblemItemsMap();\r\n    Optional&lt;ProblemItem&gt; findAny =\r\n        problemItemsMap.values().stream()\r\n        .filter(pi -&gt; pi.getId().equals(id))\r\n        .findAny();\r\n\r\nI understand from [this answer][1] that it has to do with the HashMap. But as you can see, there is no add or remove or any other modification on the map at this location. I assume the problem occurs because of a modification somewhere else that just happen to be at the same time as the iteration.\r\n\r\nThe stacktrace looks like this:\r\n\r\n     Uncaught exception in thread &#39;pool-10-thread-1&#39;.java.util.ConcurrentModificationException: null\r\n    \tat java.base/java.util.HashMap$ValueSpliterator.tryAdvance(HashMap.java:1698)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.findAny(ReferencePipeline.java:548)\r\n\r\nSo I have no clue where the modification takes place and it confuses me that the stacktrace shows the iteration and not the modification.\r\n\r\nIt&#39;s worth mentioning that this exception only occurs once in a while in my multi thread application.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32580801/concurrentmodificationexception-when-using-stream-with-maps-key-set","title":"ConcurrentModificationException when using java streams without modification","body":"<p>I get a ConcurrentModificationException although the piece of code that is listed in the stacktrace doesn't do any modification:</p>\n<pre><code>Map&lt;String, ProblemItem&gt; problemItemsMap = getProblemItemsMap();\nOptional&lt;ProblemItem&gt; findAny =\n    problemItemsMap.values().stream()\n    .filter(pi -&gt; pi.getId().equals(id))\n    .findAny();\n</code></pre>\n<p>I understand from <a href=\"https://stackoverflow.com/questions/32580801/concurrentmodificationexception-when-using-stream-with-maps-key-set\">this answer</a> that it has to do with the HashMap. But as you can see, there is no add or remove or any other modification on the map at this location. I assume the problem occurs because of a modification somewhere else that just happen to be at the same time as the iteration.</p>\n<p>The stacktrace looks like this:</p>\n<pre><code> Uncaught exception in thread 'pool-10-thread-1'.java.util.ConcurrentModificationException: null\n    at java.base/java.util.HashMap$ValueSpliterator.tryAdvance(HashMap.java:1698)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findAny(ReferencePipeline.java:548)\n</code></pre>\n<p>So I have no clue where the modification takes place and it confuses me that the stacktrace shows the iteration and not the modification.</p>\n<p>It's worth mentioning that this exception only occurs once in a while in my multi thread application.</p>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1687793060,"post_id":76558070,"comment_id":134982834,"body_markdown":"There is no such thing as &quot;automatic&quot; casting. You are asking the impossible. You should rather question your design if you think you need this feature. For example why not just declare `Boy father = new Boy();`","body":"There is no such thing as &quot;automatic&quot; casting. You are asking the impossible. You should rather question your design if you think you need this feature. For example why not just declare <code>Boy father = new Boy();</code>"},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":1,"creation_date":1687793211,"post_id":76558070,"comment_id":134982866,"body_markdown":"&lt;P extends Parent&gt; P downcast(Parent p) {\n  return (P) p;\n}","body":"&lt;P extends Parent&gt; P downcast(Parent p) {   return (P) p; }"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687796678,"post_id":76558070,"comment_id":134983645,"body_markdown":"instead of writing `(Boy)father`, you want `downcast(father)` - no great gain, actually one additional method call (and maybe a warning)...","body":"instead of writing <code>(Boy)father</code>, you want <code>downcast(father)</code> - no great gain, actually one additional method call (and maybe a warning)..."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1687793188,"creation_date":1687793188,"answer_id":76558123,"question_id":76558070,"body_markdown":"You can abuse generics to achieve something like this:\r\n\r\n```\r\nprivate static &lt;F, T extends F&gt; T cast(F value) {\r\n    return (T) value;\r\n}\r\n```\r\n\r\nNow you can do\r\n```\r\nParent father = new Boy();\r\nParent mother = new Girl();\r\nBoy kid = cast(father);\r\nGirl kiddette = cast(mother);\r\n```\r\n\r\nThis works because the compiler infers the target type from the `kid` variables. It&#39;s also dangerous, as evidenced by the generated warning on `(T) value`: &quot;Unchecked cast: &#39;F&#39; to &#39;T&#39;&quot;. In general, you don&#39;t want to do this. All you are doing is tricking the compiler into casts that normally wouldn&#39;t be allowed.\r\n","title":"How to automatically downcast classes in java?","body":"<p>You can abuse generics to achieve something like this:</p>\n<pre><code>private static &lt;F, T extends F&gt; T cast(F value) {\n    return (T) value;\n}\n</code></pre>\n<p>Now you can do</p>\n<pre><code>Parent father = new Boy();\nParent mother = new Girl();\nBoy kid = cast(father);\nGirl kiddette = cast(mother);\n</code></pre>\n<p>This works because the compiler infers the target type from the <code>kid</code> variables. It's also dangerous, as evidenced by the generated warning on <code>(T) value</code>: &quot;Unchecked cast: 'F' to 'T'&quot;. In general, you don't want to do this. All you are doing is tricking the compiler into casts that normally wouldn't be allowed.</p>\n"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76558123,"answer_count":1,"score":-3,"last_activity_date":1687793188,"creation_date":1687792848,"question_id":76558070,"body_markdown":"How would you automatically downcast in Java?\r\n\r\nLook at this example:\r\n```java\r\npublic class Parent {}\r\n\r\npublic class Boy extends Parent {}\r\n\r\npublic class Girl extends Parent {}\r\n\r\nParent father = new Boy();\r\nParent mother = new Girl();\r\n\r\nBoy kid = (Boy)father;\r\nGirl kiddette = (Girl)mother;\r\n```\r\n\r\nI know I can downcast manually like in example above, but, how would I do it automatically?\r\n\r\nSo, what I want is a autocast method, something like this:\r\n```Java\r\npublic ? downcast(? parent) { return ? parent; }\r\n```\r\nwhich I would use like this:\r\n```java\r\nBoy kid = downcast(father);\r\nGirl kiddette = downcast(mother);\r\n```\r\nSo, I do not want to perform any explicit casting in the caller&#39;s method. I need ```downcast``` to hide the casting within itself. Preferrably, I would like to avoid type checks (```instanceof```) within the ```downcast``` method, so, if downcasting can be generalized, that would be great.\r\n\r\nWhat do I need to place instead of ```?```, ```?``` and ```?``` to make it work.\r\n\r\nI remember that I did this exact same thing 10 or so years ago in Java, and I remember that I was puzzled by the code, but it worked and I did not understand how it works just that it does, but I did not need to do this thing in Java again in the last 10 years, so I forgot what I did. And I remember that I managed to solve it without type checks. So, one line of code that worked for no matter how many child classes parrent class had.","title":"How to automatically downcast classes in java?","body":"<p>How would you automatically downcast in Java?</p>\n<p>Look at this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Parent {}\n\npublic class Boy extends Parent {}\n\npublic class Girl extends Parent {}\n\nParent father = new Boy();\nParent mother = new Girl();\n\nBoy kid = (Boy)father;\nGirl kiddette = (Girl)mother;\n</code></pre>\n<p>I know I can downcast manually like in example above, but, how would I do it automatically?</p>\n<p>So, what I want is a autocast method, something like this:</p>\n<pre><code>public ? downcast(? parent) { return ? parent; }\n</code></pre>\n<p>which I would use like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Boy kid = downcast(father);\nGirl kiddette = downcast(mother);\n</code></pre>\n<p>So, I do not want to perform any explicit casting in the caller's method. I need <code>downcast</code> to hide the casting within itself. Preferrably, I would like to avoid type checks (<code>instanceof</code>) within the <code>downcast</code> method, so, if downcasting can be generalized, that would be great.</p>\n<p>What do I need to place instead of <code>?</code>, <code>?</code> and <code>?</code> to make it work.</p>\n<p>I remember that I did this exact same thing 10 or so years ago in Java, and I remember that I was puzzled by the code, but it worked and I did not understand how it works just that it does, but I did not need to do this thing in Java again in the last 10 years, so I forgot what I did. And I remember that I managed to solve it without type checks. So, one line of code that worked for no matter how many child classes parrent class had.</p>\n"},{"tags":["java","android-gradle-plugin","react-native"],"comments":[{"owner":{"account_id":9641289,"reputation":2833,"user_id":7155440,"display_name":"Sandy....."},"score":0,"creation_date":1537647282,"post_id":52459693,"comment_id":91862981,"body_markdown":"Can you please share your android/build.gradle file code, just want to confirm whether you have maven related changes.","body":"Can you please share your android/build.gradle file code, just want to confirm whether you have maven related changes."},{"owner":{"account_id":13910891,"reputation":136,"user_id":10044118,"display_name":"Selim Mıdıkoğlu"},"score":0,"creation_date":1537648277,"post_id":52459693,"comment_id":91863242,"body_markdown":"@Sandy updated. Added build.gradle as well. Maven url directory is correct I think. I saw a lot of solutions related to maven. But my build.gradle is the  same with solution.","body":"@Sandy updated. Added build.gradle as well. Maven url directory is correct I think. I saw a lot of solutions related to maven. But my build.gradle is the  same with solution."}],"answers":[{"tags":[],"owner":{"account_id":4594694,"reputation":576,"user_id":9821453,"display_name":"Anurag Chutani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1537649164,"creation_date":1537649164,"answer_id":52460734,"question_id":52459693,"body_markdown":"Check your react-native version in package.json and android/app/build.gradle.","title":"npm run android commad gives cannot find symbol errors","body":"<p>Check your react-native version in package.json and android/app/build.gradle.</p>\n"},{"tags":[],"owner":{"account_id":28886032,"reputation":1,"user_id":22124332,"display_name":"Ashik Ibrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687793035,"creation_date":1687604339,"answer_id":76545735,"question_id":52459693,"body_markdown":"i have tried all this but this error occurred now.\r\n Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installStageDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileStageDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:stageDebugCompileClasspath&#39;.\r\n   &gt; Failed to transform react-native-0.70.5-0.70.5.jar (com.facebook.react:react-native:0.70.5) to match attributes {artifactType=android-classes-jar, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n      &gt; Could not find react-native-0.70.5-0.70.5.jar (com.facebook.react:react-native:0.70.5).\r\n        Searched in the following locations:\r\n            file:/home/abs-lt-567/Desktop/TonalProject/unison-appcode/node_modules/react-native/android/com/facebook/react/react-native/0.70.5/react-native-0.70.5-0.70.5.jar\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)","title":"npm run android commad gives cannot find symbol errors","body":"<p>i have tried all this but this error occurred now.\nFailed to install the app. Make sure you have the Android development environment set up: <a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/environment-setup</a>.\nError: Command failed: ./gradlew app:installStageDebug -PreactNativeDevServerPort=8081</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:compileStageDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:stageDebugCompileClasspath'.\nFailed to transform react-native-0.70.5-0.70.5.jar (com.facebook.react:react-native:0.70.5) to match attributes {artifactType=android-classes-jar, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n&gt; Could not find react-native-0.70.5-0.70.5.jar (com.facebook.react:react-native:0.70.5).\nSearched in the following locations:\nfile:/home/abs-lt-567/Desktop/TonalProject/unison-appcode/node_modules/react-native/android/com/facebook/react/react-native/0.70.5/react-native-0.70.5-0.70.5.jar</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\njava.lang.StackOverflowError (no error message)</li>\n</ul>\n"}],"owner":{"account_id":13910891,"reputation":136,"user_id":10044118,"display_name":"Selim Mıdıkoğlu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52460734,"answer_count":2,"score":2,"last_activity_date":1687793035,"creation_date":1537641157,"question_id":52459693,"body_markdown":"While I was able to create my app with CRNA and eject it with npm run eject, and run it with npm run android, after three weeks this happened. For last 20 hours I deleted node,android studio,android sdk and downloaded all of them again. Still same errors occur. I quite do not understand if these are occur because of gradle or java or android. I have two questions.\r\n###Questions\r\n1.How can I solve this problem?\r\n\r\n2.\r\n\r\na) crna myApp -&gt; cd myApp -&gt; npm run eject -&gt; npm run android | \r\n\r\nb) react-native init myApp -&gt; cd myApp -&gt; react-native run-android\r\n\r\nSecond one works good, but I do not like expo. It seems ıt compiles and runs more slowly and creates a lot of errors with react-native link. I want to know in which circumstances I have to use one of them relatedly. I am about to kill myself so any help will be appreciated with best. \r\n\r\n    :app:compileDebugJavaWithJavac\r\n\r\n    :app:compileDebugJavaWithJavac - is not incremental (e.g. outputs have changed, no previous execution, etc.).\r\n\r\n    \\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:5: error: cannot find symbol\r\n    import com.facebook.react.ReactApplication;\r\n                         ^\r\n    symbol:   class ReactApplication\r\n    location: package com.facebook.react\r\n\r\n    \\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:6: error: cannot find symbol\r\n    import com.facebook.react.ReactNativeHost;\r\n                         ^\r\n    symbol:   class ReactNativeHost\r\n    location: package com.facebook.react\r\n\r\n    \\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:14: error: cannot find symbol\r\n    public class MainApplication extends Application implements ReactApplication \r\n    {\r\n                                                            ^\r\n    symbol: class ReactApplication\r\n\r\n    \\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:16: error: cannot find symbol\r\n    private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {\r\n                ^\r\n    symbol:   class ReactNativeHost\r\n    location: class MainApplication\r\n\r\n    \\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:36: error: cannot find symbol\r\n    public ReactNativeHost getReactNativeHost() {\r\n         ^\r\n    symbol:   class ReactNativeHost\r\n    location: class MainApplication\r\n\r\n    \\android\\app\\src\\main\\java\\com\\biktim\\MainActivity.java:5: error: MainActivity is not abstract and does not override abstract method getPackages() in ReactActivity\r\n    public class MainActivity extends ReactActivity {\r\n       ^\r\n    \\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:16: error: cannot find symbol\r\n    private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {\r\n                                                       ^\r\n    symbol:   class ReactNativeHost\r\n    location: class MainApplication\r\n\r\n    \\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:35: error: method does not override or implement a method from a supertype\r\n     @Override\r\n      ^\r\n    8 errors\r\n    :app:compileDebugJavaWithJavac FAILED\r\n\r\n    FAILURE: Build failed with an exception.\r\n\r\n###MainApplication.java\r\n\r\n   \r\n\r\n     package com.biktim;\r\n    \r\n    import android.app.Application;\r\n    \r\n    import com.facebook.react.ReactApplication;\r\n    import com.facebook.react.ReactNativeHost;\r\n    import com.facebook.react.ReactPackage;\r\n    import com.facebook.react.shell.MainReactPackage;\r\n    import com.facebook.soloader.SoLoader;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class MainApplication extends Application implements ReactApplication {\r\n    \r\n      private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {\r\n        @Override\r\n        public boolean getUseDeveloperSupport() {\r\n          return BuildConfig.DEBUG;\r\n        }\r\n    \r\n        @Override\r\n        protected List&lt;ReactPackage&gt; getPackages() {\r\n          return Arrays.&lt;ReactPackage&gt;asList(\r\n              new MainReactPackage()\r\n          );\r\n        }\r\n    \r\n        @Override\r\n        protected String getJSMainModuleName() {\r\n          return &quot;index&quot;;\r\n        }\r\n      };\r\n    \r\n      @Override\r\n      public ReactNativeHost getReactNativeHost() {\r\n        return mReactNativeHost;\r\n      }\r\n    \r\n      @Override\r\n      public void onCreate() {\r\n        super.onCreate();\r\n        SoLoader.init(this, /* native exopackage */ false);\r\n      }\r\n    }\r\n###MainActivity.java\r\n    package com.biktim;\r\n\r\n    import com.facebook.react.ReactActivity;\r\n\r\n    public class MainActivity extends ReactActivity {\r\n\r\n    /**\r\n     * Returns the name of the main component registered from JavaScript.\r\n     * This is used to schedule rendering of the component.\r\n     */\r\n    @Override\r\n    protected String getMainComponentName() {\r\n        return &quot;biktim&quot;;\r\n    }\r\n}\r\n###android/build.gradle\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.2.3&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenLocal()\r\n            jcenter()\r\n            maven {\r\n                // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n                url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n###android/app/build.gradle\r\n\r\n    apply plugin: &quot;com.android.application&quot;\r\n\r\n    import com.android.build.OutputFile\r\n\r\n\r\n\r\n    project.ext.react = [\r\n       entryFile: &quot;index.js&quot;\r\n    ]\r\n\r\n    apply from: &quot;../../node_modules/react-native/react.gradle&quot;\r\n\r\n    /**\r\n    * Set this to true to create two separate APKs instead of one:\r\n    *   - An APK that only works on ARM devices\r\n    *   - An APK that only works on x86 devices\r\n    * The advantage is the size of the APK is reduced by about 4MB.\r\n    * Upload all the APKs to the Play Store and people will download\r\n    * the correct one based on the CPU architecture of their device.\r\n    */\r\n    def enableSeparateBuildPerCPUArchitecture = false\r\n\r\n    /**\r\n    * Run Proguard to shrink the Java bytecode in release builds.\r\n    */\r\n    def enableProguardInReleaseBuilds = false\r\n\r\n    android {\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n    buildToolsVersion rootProject.ext.buildToolsVersion\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.biktim2&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        ndk {\r\n            abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;\r\n        }\r\n    }\r\n    splits {\r\n        abi {\r\n            reset()\r\n            enable enableSeparateBuildPerCPUArchitecture\r\n            universalApk false  // If true, also generate a universal APK\r\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;\r\n        }\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n    // applicationVariants are e.g. debug, release\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.each { output -&gt;\r\n            // For each separate APK per architecture, set a unique version code as described here:\r\n            // http://tools.android.com/tech-docs/new-build-system/user-guide/apk-splits\r\n            def versionCodes = [&quot;armeabi-v7a&quot;:1, &quot;x86&quot;:2]\r\n            def abi = output.getFilter(OutputFile.ABI)\r\n            if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                output.versionCodeOverride =\r\n                        versionCodes.get(abi) * 1048576 + \r\n    defaultConfig.versionCode\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &quot;com.android.support:appcompat- \r\n     v7:${rootProject.ext.supportLibVersion}&quot;\r\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n    }\r\n\r\n    // Run this once to be able to run the application with BUCK\r\n    // puts all compile dependencies into folder libs for BUCK to use\r\n    task copyDownloadableDepsToLibs(type: Copy) {\r\n    from configurations.compile\r\n    into &#39;libs&#39;\r\n    }\r\n###package.json\r\n\r\n    {\r\n      &quot;name&quot;: &quot;biktim2&quot;,\r\n      &quot;version&quot;: &quot;0.0.1&quot;,\r\n      &quot;private&quot;: true,\r\n      &quot;scripts&quot;: {\r\n        &quot;start&quot;: &quot;node node_modules/react-native/local-cli/cli.js start&quot;,\r\n        &quot;test&quot;: &quot;jest&quot;\r\n      },\r\n      &quot;dependencies&quot;: {\r\n        &quot;react&quot;: &quot;16.5.0&quot;,\r\n        &quot;react-native&quot;: &quot;0.57.1&quot;\r\n      },\r\n      &quot;devDependencies&quot;: {\r\n        &quot;babel-jest&quot;: &quot;23.6.0&quot;,\r\n        &quot;jest&quot;: &quot;23.6.0&quot;,\r\n        &quot;metro-react-native-babel-preset&quot;: &quot;0.45.6&quot;,\r\n        &quot;react-test-renderer&quot;: &quot;16.5.0&quot;\r\n      },\r\n      &quot;jest&quot;: {\r\n        &quot;preset&quot;: &quot;react-native&quot;\r\n      }\r\n    }","title":"npm run android commad gives cannot find symbol errors","body":"<p>While I was able to create my app with CRNA and eject it with npm run eject, and run it with npm run android, after three weeks this happened. For last 20 hours I deleted node,android studio,android sdk and downloaded all of them again. Still same errors occur. I quite do not understand if these are occur because of gradle or java or android. I have two questions.</p>\n\n<h3>Questions</h3>\n\n<p>1.How can I solve this problem?</p>\n\n<p>2.</p>\n\n<p>a) crna myApp -> cd myApp -> npm run eject -> npm run android | </p>\n\n<p>b) react-native init myApp -> cd myApp -> react-native run-android</p>\n\n<p>Second one works good, but I do not like expo. It seems ıt compiles and runs more slowly and creates a lot of errors with react-native link. I want to know in which circumstances I have to use one of them relatedly. I am about to kill myself so any help will be appreciated with best. </p>\n\n<pre><code>:app:compileDebugJavaWithJavac\n\n:app:compileDebugJavaWithJavac - is not incremental (e.g. outputs have changed, no previous execution, etc.).\n\n\\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:5: error: cannot find symbol\nimport com.facebook.react.ReactApplication;\n                     ^\nsymbol:   class ReactApplication\nlocation: package com.facebook.react\n\n\\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:6: error: cannot find symbol\nimport com.facebook.react.ReactNativeHost;\n                     ^\nsymbol:   class ReactNativeHost\nlocation: package com.facebook.react\n\n\\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:14: error: cannot find symbol\npublic class MainApplication extends Application implements ReactApplication \n{\n                                                        ^\nsymbol: class ReactApplication\n\n\\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:16: error: cannot find symbol\nprivate final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {\n            ^\nsymbol:   class ReactNativeHost\nlocation: class MainApplication\n\n\\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:36: error: cannot find symbol\npublic ReactNativeHost getReactNativeHost() {\n     ^\nsymbol:   class ReactNativeHost\nlocation: class MainApplication\n\n\\android\\app\\src\\main\\java\\com\\biktim\\MainActivity.java:5: error: MainActivity is not abstract and does not override abstract method getPackages() in ReactActivity\npublic class MainActivity extends ReactActivity {\n   ^\n\\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:16: error: cannot find symbol\nprivate final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {\n                                                   ^\nsymbol:   class ReactNativeHost\nlocation: class MainApplication\n\n\\android\\app\\src\\main\\java\\com\\biktim\\MainApplication.java:35: error: method does not override or implement a method from a supertype\n @Override\n  ^\n8 errors\n:app:compileDebugJavaWithJavac FAILED\n\nFAILURE: Build failed with an exception.\n</code></pre>\n\n<h3>MainApplication.java</h3>\n\n<pre><code> package com.biktim;\n\nimport android.app.Application;\n\nimport com.facebook.react.ReactApplication;\nimport com.facebook.react.ReactNativeHost;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.shell.MainReactPackage;\nimport com.facebook.soloader.SoLoader;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MainApplication extends Application implements ReactApplication {\n\n  private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {\n    @Override\n    public boolean getUseDeveloperSupport() {\n      return BuildConfig.DEBUG;\n    }\n\n    @Override\n    protected List&lt;ReactPackage&gt; getPackages() {\n      return Arrays.&lt;ReactPackage&gt;asList(\n          new MainReactPackage()\n      );\n    }\n\n    @Override\n    protected String getJSMainModuleName() {\n      return \"index\";\n    }\n  };\n\n  @Override\n  public ReactNativeHost getReactNativeHost() {\n    return mReactNativeHost;\n  }\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    SoLoader.init(this, /* native exopackage */ false);\n  }\n}\n</code></pre>\n\n<h3>MainActivity.java</h3>\n\n<pre><code>package com.biktim;\n\nimport com.facebook.react.ReactActivity;\n\npublic class MainActivity extends ReactActivity {\n\n/**\n * Returns the name of the main component registered from JavaScript.\n * This is used to schedule rendering of the component.\n */\n@Override\nprotected String getMainComponentName() {\n    return \"biktim\";\n}\n</code></pre>\n\n<p>}</p>\n\n<h3>android/build.gradle</h3>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        jcenter()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url \"$rootDir/../node_modules/react-native/android\"\n        }\n    }\n}\n</code></pre>\n\n<h3>android/app/build.gradle</h3>\n\n<pre><code>apply plugin: \"com.android.application\"\n\nimport com.android.build.OutputFile\n\n\n\nproject.ext.react = [\n   entryFile: \"index.js\"\n]\n\napply from: \"../../node_modules/react-native/react.gradle\"\n\n/**\n* Set this to true to create two separate APKs instead of one:\n*   - An APK that only works on ARM devices\n*   - An APK that only works on x86 devices\n* The advantage is the size of the APK is reduced by about 4MB.\n* Upload all the APKs to the Play Store and people will download\n* the correct one based on the CPU architecture of their device.\n*/\ndef enableSeparateBuildPerCPUArchitecture = false\n\n/**\n* Run Proguard to shrink the Java bytecode in release builds.\n*/\ndef enableProguardInReleaseBuilds = false\n\nandroid {\ncompileSdkVersion rootProject.ext.compileSdkVersion\nbuildToolsVersion rootProject.ext.buildToolsVersion\n\ndefaultConfig {\n    applicationId \"com.biktim2\"\n    minSdkVersion rootProject.ext.minSdkVersion\n    targetSdkVersion rootProject.ext.targetSdkVersion\n    versionCode 1\n    versionName \"1.0\"\n    ndk {\n        abiFilters \"armeabi-v7a\", \"x86\"\n    }\n}\nsplits {\n    abi {\n        reset()\n        enable enableSeparateBuildPerCPUArchitecture\n        universalApk false  // If true, also generate a universal APK\n        include \"armeabi-v7a\", \"x86\"\n    }\n}\nbuildTypes {\n    release {\n        minifyEnabled enableProguardInReleaseBuilds\n        proguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\"\n    }\n}\n// applicationVariants are e.g. debug, release\napplicationVariants.all { variant -&gt;\n    variant.outputs.each { output -&gt;\n        // For each separate APK per architecture, set a unique version code as described here:\n        // http://tools.android.com/tech-docs/new-build-system/user-guide/apk-splits\n        def versionCodes = [\"armeabi-v7a\":1, \"x86\":2]\n        def abi = output.getFilter(OutputFile.ABI)\n        if (abi != null) {  // null for the universal-debug, universal-release variants\n            output.versionCodeOverride =\n                    versionCodes.get(abi) * 1048576 + \ndefaultConfig.versionCode\n        }\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: \"libs\", include: [\"*.jar\"])\nimplementation \"com.android.support:appcompat- \n v7:${rootProject.ext.supportLibVersion}\"\nimplementation \"com.facebook.react:react-native:+\"  // From node_modules\n}\n\n// Run this once to be able to run the application with BUCK\n// puts all compile dependencies into folder libs for BUCK to use\ntask copyDownloadableDepsToLibs(type: Copy) {\nfrom configurations.compile\ninto 'libs'\n}\n</code></pre>\n\n<h3>package.json</h3>\n\n<pre><code>{\n  \"name\": \"biktim2\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"node node_modules/react-native/local-cli/cli.js start\",\n    \"test\": \"jest\"\n  },\n  \"dependencies\": {\n    \"react\": \"16.5.0\",\n    \"react-native\": \"0.57.1\"\n  },\n  \"devDependencies\": {\n    \"babel-jest\": \"23.6.0\",\n    \"jest\": \"23.6.0\",\n    \"metro-react-native-babel-preset\": \"0.45.6\",\n    \"react-test-renderer\": \"16.5.0\"\n  },\n  \"jest\": {\n    \"preset\": \"react-native\"\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","transactions","spring-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687765355,"post_id":76553075,"comment_id":134976950,"body_markdown":"It is because you are catching and swallow the exception. Transaction management thus doesn&#39;t see this exception and will try to commit, this isn&#39;t possible because the transaction is already marked for rollback. Hence the exception. Rule of thumb never catch and swallow an exception.","body":"It is because you are catching and swallow the exception. Transaction management thus doesn&#39;t see this exception and will try to commit, this isn&#39;t possible because the transaction is already marked for rollback. Hence the exception. Rule of thumb never catch and swallow an exception."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1687785758,"post_id":76553075,"comment_id":134981051,"body_markdown":"Therefore should be _re-throw_ from the _try/catch_ block, right? There are some projects that use the `try/catch` block to handle the flow process and can&#39;t be edited.","body":"Therefore should be <i>re-throw</i> from the <i>try/catch</i> block, right? There are some projects that use the <code>try&#47;catch</code> block to handle the flow process and can&#39;t be edited."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1687785789,"post_id":76553075,"comment_id":134981058,"body_markdown":"_Transaction management thus doesn&#39;t see this exception and will try to commit_ - it is about the Proxy with the Transaction support.","body":"<i>Transaction management thus doesn&#39;t see this exception and will try to commit</i> - it is about the Proxy with the Transaction support."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687785834,"post_id":76553075,"comment_id":134981071,"body_markdown":"THe proxy doesn&#39;t see the exception because you catch it, hence for the transaction management it is unexpected because there was no exception.","body":"THe proxy doesn&#39;t see the exception because you catch it, hence for the transaction management it is unexpected because there was no exception."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1687792516,"post_id":76553075,"comment_id":134982710,"body_markdown":"@M.Deinum see the _updated_ section.","body":"@M.Deinum see the <i>updated</i> section."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1687815262,"post_id":76553075,"comment_id":134986731,"body_markdown":"@M.Deinum about &quot;_this isn&#39;t possible because the transaction is already marked for rollback_&quot; - By whom is marked if the _Proxy_ (therefore the _Transaction Management_) is not aware about the _caught_ and _swallowed_ exception?","body":"@M.Deinum about &quot;<i>this isn&#39;t possible because the transaction is already marked for rollback</i>&quot; - By whom is marked if the <i>Proxy</i> (therefore the <i>Transaction Management</i>) is not aware about the <i>caught</i> and <i>swallowed</i> exception?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687843684,"post_id":76553075,"comment_id":134989355,"body_markdown":"You have multiple `@Transactional` annotations, each of those creates a proxy. Although it detects that it isn&#39;t the most outer method being called upon the throwing of the `RuntimeException` your `BusinessRuntimeExceptionV2ServiceImpl` marks the transaction for rollback only (while not yet rolling back the whole transaction). The configuration belongs on the method/transaction that is actually handling that exception.","body":"You have multiple <code>@Transactional</code> annotations, each of those creates a proxy. Although it detects that it isn&#39;t the most outer method being called upon the throwing of the <code>RuntimeException</code> your <code>BusinessRuntimeExceptionV2ServiceImpl</code> marks the transaction for rollback only (while not yet rolling back the whole transaction). The configuration belongs on the method/transaction that is actually handling that exception."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1687873084,"post_id":76553075,"comment_id":134995475,"body_markdown":"Your explanation has sense, Just in case: a `@Service` as process using multiple `@Service`  is valid, and because each nested `@Service` can be called directly by a `@Controller`, therefore is valid that them use `@Transactional` too. It with the purpose to keep the logic about of the most outer method that defines the main settings of transactions","body":"Your explanation has sense, Just in case: a <code>@Service</code> as process using multiple <code>@Service</code>  is valid, and because each nested <code>@Service</code> can be called directly by a <code>@Controller</code>, therefore is valid that them use <code>@Transactional</code> too. It with the purpose to keep the logic about of the most outer method that defines the main settings of transactions"}],"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687792527,"creation_date":1687743643,"question_id":76553075,"body_markdown":"In Spring Framework, about Transactions _by default_:\r\n\r\n* When a `RuntimeException` (**unchecked** type) is thrown then is triggered automatically a _Rollback_ process \r\n* When an `Exception` (**checked** type) is thrown then is **not** triggered a _Rollback_ process. \r\n\r\nUntil here it is very clear. Now see the following code:\r\n\r\n    @Transactional //declared on class level, but copy here to avoid confusions\r\n\tpublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) {\r\n\t\r\n\t\ttry {\r\n\t\t\tcienciaService.save(ciencia);\r\n\t\t\tbusinessService.doBusiness();\r\n\t\t\tcientificoService.save(cientifico);\r\n\t\t}\r\n\t\tcatch(Throwable t) {\r\n\t\t\tSystem.out.println(&quot; createProcess V2...&quot;);\r\n\t\t\tSystem.out.println(&quot;  Catching and Handling Throwable&quot;);\r\n\t\t\tSystem.out.println(&quot;   Type   : &quot; + t.getClass());\r\n\t\t\tSystem.out.println(&quot;   Message: &quot; + t.getMessage());\r\n\t\t}\r\n\r\n\t}\r\n\r\nWhere `cienciaService` and `cientificoService` are `@Service` classes and they have access to a DB through their respective `@Repository` dependencies. Now about `businessService` can be any of the following: \r\n\r\n    @Service\r\n    @Transactional\r\n    @Profile(&quot;exception-checked-try-catch-non&quot;)\r\n    class BusinessExceptionV2ServiceImpl implements BusinessService {\r\n    \r\n    \t@Override\r\n    \tpublic void doBusiness() throws Exception {\r\n    \t\tSystem.out.println(&quot; doBusiness ...&quot;);\r\n    \t\tSystem.out.println(&quot;  Throwing Exception ...&quot;);\r\n    \t\tthrow new BusinessException(&quot;It is a Business Exception&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nor\r\n\r\n    @Service\r\n    @Transactional\r\n    @Profile(&quot;exception-unchecked-try-catch-non&quot;)\r\n    class BusinessRuntimeExceptionV2ServiceImpl implements BusinessService {\r\n    \r\n    \t@Override\r\n    \tpublic void doBusiness() {\r\n    \t\tSystem.out.println(&quot; doBusiness ...&quot;);\r\n    \t\tSystem.out.println(&quot;  Throwing RuntimeException ...&quot;);\r\n    \t\tthrow new BusinessRuntimeException(&quot;It is a Business Runtime Exception&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nBoth `@Service` classes are based on `@Profile`, to only enable one at runtime, and they don&#39;t have a `@Repository` access, and they thrown a custom exception as _checked_ and _unchecked_ according the case.\r\n\r\nFinally in the `Main` class exists:\r\n\r\n\tProcessService processService = ctx.getBean(ProcessService.class);\r\n\r\n\ttry {\r\n\t\tCiencia ciencia = CienciaFactory.createCienciaWithId10();\r\n\t\tCientifico cientifico = CientificoFactory.createCientificoWithId14(ciencia);\r\n\t\tprocessService.createProcessV2(ciencia, cientifico);\r\n\t}\r\n\tcatch(Throwable t) {\r\n\t\tSystem.out.println(&quot; Main...&quot;);\r\n\t\tSystem.out.println(&quot;  Catching and Handling Throwable&quot;);\r\n\t\tSystem.out.println(&quot;   Type   : &quot; + t.getClass());\r\n\t\tSystem.out.println(&quot;   Message: &quot; + t.getMessage());\r\n\t}\r\n\r\nWhen the app is executed with the _exception-checked-try-catch-non_ profile it happens\r\n\r\n    cienciaService.save(ciencia); //run \r\n    businessService.doBusiness(); //run and is thrown a **checked** exception\r\n    cientificoService.save(cientifico); //never executed\r\n\r\nand the output is\r\n\r\n     doBusiness ...\r\n      Throwing Exception ...\r\n     createProcess V2...\r\n      Catching and Handling Throwable\r\n       Type   : class com.manuel.jordan.exception.BusinessException\r\n       Message: It is a Business Exception\r\n\r\nBecause `cienciaService.save(ciencia)` was executed and did **not** happen a _Rollback_ because `businessService.doBusiness()` thrown an _checked_ exception: then the DB passes to a not valid integrity state. It is expected - of course it is not a valid scenario but for academic purposes has sense use this scenario. Therefore until here it is ok.\r\n\r\nWhen the app is executed with the _exception-unchecked-try-catch-non_ profile it happens\r\n\r\n    cienciaService.save(ciencia); //run \r\n    businessService.doBusiness(); //run and is thrown an **unchecked** exception\r\n    cientificoService.save(cientifico); //never executed\r\n\r\nand the output is\r\n\r\n\r\n     doBusiness ...\r\n      Throwing RuntimeException ...\r\n     createProcess V2...\r\n      Catching and Handling Throwable\r\n       Type   : class com.manuel.jordan.exception.BusinessRuntimeException\r\n       Message: It is a Business Runtime Exception\r\n     Main...\r\n      Catching and Handling Throwable\r\n       Type   : class org.springframework.transaction.UnexpectedRollbackException\r\n       Message: Transaction rolled back because it has been marked as rollback-only\r\n\r\n\r\nBecause `cienciaService.save(ciencia)` was executed and happened a _Rollback_ because `businessService.doBusiness()` thrown an _**un**checked_ exception: then the DB does **not** pass to a not valid integrity state. It is expected - it is the desirable scenario.\r\n\r\n**But** Why was thrown `UnexpectedRollbackException`?. The rollback is expected because an unchecked exception was thrown. This situation generates some failures in some `@Test` methods and if the `Main` class does not have that _try/catch_ block it ends in error\r\n\r\n**Note**\r\n\r\nThis situation happens even with:\r\n\r\n\t@Override\r\n\t@Transactional(rollbackFor = BusinessRuntimeException.class)\r\n\tpublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) {\r\n       ...\r\n\r\nand (just in case)\r\n\r\n\t@Override\r\n\t@Transactional(noRollbackFor = BusinessRuntimeException.class)\r\n\tpublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) {\r\n       ... \r\n\r\n**Update**\r\n\r\nAbout the _Proxy_ with _Spring&#39;s Transaction_ support, if is used:\r\n\r\n\t@Override\r\n    @Transactional\r\n\tpublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) throws Throwable {\r\n\r\n\t\ttry {\r\n\t\t\tcienciaService.save(ciencia);\r\n\t\t\tbusinessService.doBusiness();\r\n\t\t\tcientificoService.save(cientifico);\r\n\t\t}\r\n\t\tcatch(Throwable t) {\r\n\t\t\tSystem.out.println(&quot; createProcess V2...&quot;);\r\n\t\t\tSystem.out.println(&quot;  Catching and Handling Throwable&quot;);\r\n\t\t\tSystem.out.println(&quot;   Type   : &quot; + t.getClass());\r\n\t\t\tSystem.out.println(&quot;   Message: &quot; + t.getMessage());\r\n\t\t\tthrow t; // &lt;--------\r\n\t\t}\r\n\r\n\t}\r\n\r\nFrom above observe the addition of the `throw t;` sentence in _catch_  the block. Therefore the output is:\r\n\r\n     doBusiness ...\r\n      Throwing RuntimeException ...\r\n     createProcess V2...\r\n      Catching and Handling Throwable\r\n       Type   : class com.manuel.jordan.exception.BusinessRuntimeException\r\n       Message: It is a Business Runtime Exception\r\n     Main...\r\n      Catching and Handling Throwable\r\n       Type   : class com.manuel.jordan.exception.BusinessRuntimeException\r\n       Message: It is a Business Runtime Exception\r\n\r\nTherefore now all is solved and the _Rollback_ works fine for the 2 tables in the DB. Now due **academic** purposes, observe now the following:\r\n\r\n\t@Override\r\n    @Transactional(noRollbackFor={BusinessRuntimeException.class}) // &lt;--------\r\n\tpublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) throws Throwable {\r\n\r\n\t\ttry {\r\n\t\t\tcienciaService.save(ciencia);\r\n\t\t\tbusinessService.doBusiness();\r\n\t\t\tcientificoService.save(cientifico);\r\n\t\t}\r\n\t\tcatch(Throwable t) {\r\n\t\t\tSystem.out.println(&quot; createProcess V2...&quot;);\r\n\t\t\tSystem.out.println(&quot;  Catching and Handling Throwable&quot;);\r\n\t\t\tSystem.out.println(&quot;   Type   : &quot; + t.getClass());\r\n\t\t\tSystem.out.println(&quot;   Message: &quot; + t.getMessage());\r\n\t\t\tthrow t; // &lt;--------\r\n\t\t}\r\n\r\n\t}\r\n\r\nThe goal is that even if the `BusinessRuntimeException` is re-thrown and therefore it must be detected by the _Proxy_ with _Spring&#39;s Transaction_ support, the _Rollback_ must be **not** applied due the `noRollbackFor={BusinessRuntimeException.class}` declaration. Therefore the `cienciaService.save(ciencia)` execution must remain in the DB and left the DB with a _not_ valid integrity state. Remember it is an academic purpose.\r\n\r\nBut\r\n\r\n     doBusiness ...\r\n      Throwing RuntimeException ...\r\n     createProcess V2...\r\n      Catching and Handling Throwable\r\n       Type   : class com.manuel.jordan.exception.BusinessRuntimeException\r\n       Message: It is a Business Runtime Exception\r\n    Jun 26, 2023 9:00:09 AM org.springframework.transaction.interceptor.TransactionAspectSupport completeTransactionAfterThrowing\r\n    SEVERE: Application exception overridden by commit exception\r\n    com.manuel.jordan.exception.BusinessRuntimeException: It is a Business Runtime Exception\r\n    \tat com.manuel.jordan.service.impl.BusinessRuntimeExceptionV2ServiceImpl.doBusiness(BusinessRuntimeExceptionV2ServiceImpl.java:24)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy50.doBusiness(Unknown Source)\r\n    \tat com.manuel.jordan.service.impl.ProcessServiceImpl.createProcessV2(ProcessServiceImpl.java:72)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy54.createProcessV2(Unknown Source)\r\n    \tat com.manuel.jordan.main.Main.main(Main.java:120)\r\n    \tat org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:279)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n     Main...\r\n      Catching and Handling Throwable\r\n       Type   : class org.springframework.transaction.UnexpectedRollbackException\r\n       Message: Transaction rolled back because it has been marked as rollback-only\r\n\r\nWhy does `noRollbackFor` no work as expected?\r\n\r\nand arises: \r\n\r\n    SEVERE: Application exception overridden by commit exception","title":"Why is thrown UnexpectedRollbackException for a RuntimeException?","body":"<p>In Spring Framework, about Transactions <em>by default</em>:</p>\n<ul>\n<li>When a <code>RuntimeException</code> (<strong>unchecked</strong> type) is thrown then is triggered automatically a <em>Rollback</em> process</li>\n<li>When an <code>Exception</code> (<strong>checked</strong> type) is thrown then is <strong>not</strong> triggered a <em>Rollback</em> process.</li>\n</ul>\n<p>Until here it is very clear. Now see the following code:</p>\n<pre><code>@Transactional //declared on class level, but copy here to avoid confusions\npublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) {\n\n    try {\n        cienciaService.save(ciencia);\n        businessService.doBusiness();\n        cientificoService.save(cientifico);\n    }\n    catch(Throwable t) {\n        System.out.println(&quot; createProcess V2...&quot;);\n        System.out.println(&quot;  Catching and Handling Throwable&quot;);\n        System.out.println(&quot;   Type   : &quot; + t.getClass());\n        System.out.println(&quot;   Message: &quot; + t.getMessage());\n    }\n\n}\n</code></pre>\n<p>Where <code>cienciaService</code> and <code>cientificoService</code> are <code>@Service</code> classes and they have access to a DB through their respective <code>@Repository</code> dependencies. Now about <code>businessService</code> can be any of the following:</p>\n<pre><code>@Service\n@Transactional\n@Profile(&quot;exception-checked-try-catch-non&quot;)\nclass BusinessExceptionV2ServiceImpl implements BusinessService {\n\n    @Override\n    public void doBusiness() throws Exception {\n        System.out.println(&quot; doBusiness ...&quot;);\n        System.out.println(&quot;  Throwing Exception ...&quot;);\n        throw new BusinessException(&quot;It is a Business Exception&quot;);\n    }\n\n}\n</code></pre>\n<p>or</p>\n<pre><code>@Service\n@Transactional\n@Profile(&quot;exception-unchecked-try-catch-non&quot;)\nclass BusinessRuntimeExceptionV2ServiceImpl implements BusinessService {\n\n    @Override\n    public void doBusiness() {\n        System.out.println(&quot; doBusiness ...&quot;);\n        System.out.println(&quot;  Throwing RuntimeException ...&quot;);\n        throw new BusinessRuntimeException(&quot;It is a Business Runtime Exception&quot;);\n    }\n\n}\n</code></pre>\n<p>Both <code>@Service</code> classes are based on <code>@Profile</code>, to only enable one at runtime, and they don't have a <code>@Repository</code> access, and they thrown a custom exception as <em>checked</em> and <em>unchecked</em> according the case.</p>\n<p>Finally in the <code>Main</code> class exists:</p>\n<pre><code>ProcessService processService = ctx.getBean(ProcessService.class);\n\ntry {\n    Ciencia ciencia = CienciaFactory.createCienciaWithId10();\n    Cientifico cientifico = CientificoFactory.createCientificoWithId14(ciencia);\n    processService.createProcessV2(ciencia, cientifico);\n}\ncatch(Throwable t) {\n    System.out.println(&quot; Main...&quot;);\n    System.out.println(&quot;  Catching and Handling Throwable&quot;);\n    System.out.println(&quot;   Type   : &quot; + t.getClass());\n    System.out.println(&quot;   Message: &quot; + t.getMessage());\n}\n</code></pre>\n<p>When the app is executed with the <em>exception-checked-try-catch-non</em> profile it happens</p>\n<pre><code>cienciaService.save(ciencia); //run \nbusinessService.doBusiness(); //run and is thrown a **checked** exception\ncientificoService.save(cientifico); //never executed\n</code></pre>\n<p>and the output is</p>\n<pre><code> doBusiness ...\n  Throwing Exception ...\n createProcess V2...\n  Catching and Handling Throwable\n   Type   : class com.manuel.jordan.exception.BusinessException\n   Message: It is a Business Exception\n</code></pre>\n<p>Because <code>cienciaService.save(ciencia)</code> was executed and did <strong>not</strong> happen a <em>Rollback</em> because <code>businessService.doBusiness()</code> thrown an <em>checked</em> exception: then the DB passes to a not valid integrity state. It is expected - of course it is not a valid scenario but for academic purposes has sense use this scenario. Therefore until here it is ok.</p>\n<p>When the app is executed with the <em>exception-unchecked-try-catch-non</em> profile it happens</p>\n<pre><code>cienciaService.save(ciencia); //run \nbusinessService.doBusiness(); //run and is thrown an **unchecked** exception\ncientificoService.save(cientifico); //never executed\n</code></pre>\n<p>and the output is</p>\n<pre><code> doBusiness ...\n  Throwing RuntimeException ...\n createProcess V2...\n  Catching and Handling Throwable\n   Type   : class com.manuel.jordan.exception.BusinessRuntimeException\n   Message: It is a Business Runtime Exception\n Main...\n  Catching and Handling Throwable\n   Type   : class org.springframework.transaction.UnexpectedRollbackException\n   Message: Transaction rolled back because it has been marked as rollback-only\n</code></pre>\n<p>Because <code>cienciaService.save(ciencia)</code> was executed and happened a <em>Rollback</em> because <code>businessService.doBusiness()</code> thrown an <em><strong>un</strong>checked</em> exception: then the DB does <strong>not</strong> pass to a not valid integrity state. It is expected - it is the desirable scenario.</p>\n<p><strong>But</strong> Why was thrown <code>UnexpectedRollbackException</code>?. The rollback is expected because an unchecked exception was thrown. This situation generates some failures in some <code>@Test</code> methods and if the <code>Main</code> class does not have that <em>try/catch</em> block it ends in error</p>\n<p><strong>Note</strong></p>\n<p>This situation happens even with:</p>\n<pre><code>@Override\n@Transactional(rollbackFor = BusinessRuntimeException.class)\npublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) {\n   ...\n</code></pre>\n<p>and (just in case)</p>\n<pre><code>@Override\n@Transactional(noRollbackFor = BusinessRuntimeException.class)\npublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) {\n   ... \n</code></pre>\n<p><strong>Update</strong></p>\n<p>About the <em>Proxy</em> with <em>Spring's Transaction</em> support, if is used:</p>\n<pre><code>@Override\n@Transactional\npublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) throws Throwable {\n\n    try {\n        cienciaService.save(ciencia);\n        businessService.doBusiness();\n        cientificoService.save(cientifico);\n    }\n    catch(Throwable t) {\n        System.out.println(&quot; createProcess V2...&quot;);\n        System.out.println(&quot;  Catching and Handling Throwable&quot;);\n        System.out.println(&quot;   Type   : &quot; + t.getClass());\n        System.out.println(&quot;   Message: &quot; + t.getMessage());\n        throw t; // &lt;--------\n    }\n\n}\n</code></pre>\n<p>From above observe the addition of the <code>throw t;</code> sentence in <em>catch</em>  the block. Therefore the output is:</p>\n<pre><code> doBusiness ...\n  Throwing RuntimeException ...\n createProcess V2...\n  Catching and Handling Throwable\n   Type   : class com.manuel.jordan.exception.BusinessRuntimeException\n   Message: It is a Business Runtime Exception\n Main...\n  Catching and Handling Throwable\n   Type   : class com.manuel.jordan.exception.BusinessRuntimeException\n   Message: It is a Business Runtime Exception\n</code></pre>\n<p>Therefore now all is solved and the <em>Rollback</em> works fine for the 2 tables in the DB. Now due <strong>academic</strong> purposes, observe now the following:</p>\n<pre><code>@Override\n@Transactional(noRollbackFor={BusinessRuntimeException.class}) // &lt;--------\npublic void createProcessV2(Ciencia ciencia, Cientifico cientifico) throws Throwable {\n\n    try {\n        cienciaService.save(ciencia);\n        businessService.doBusiness();\n        cientificoService.save(cientifico);\n    }\n    catch(Throwable t) {\n        System.out.println(&quot; createProcess V2...&quot;);\n        System.out.println(&quot;  Catching and Handling Throwable&quot;);\n        System.out.println(&quot;   Type   : &quot; + t.getClass());\n        System.out.println(&quot;   Message: &quot; + t.getMessage());\n        throw t; // &lt;--------\n    }\n\n}\n</code></pre>\n<p>The goal is that even if the <code>BusinessRuntimeException</code> is re-thrown and therefore it must be detected by the <em>Proxy</em> with <em>Spring's Transaction</em> support, the <em>Rollback</em> must be <strong>not</strong> applied due the <code>noRollbackFor={BusinessRuntimeException.class}</code> declaration. Therefore the <code>cienciaService.save(ciencia)</code> execution must remain in the DB and left the DB with a <em>not</em> valid integrity state. Remember it is an academic purpose.</p>\n<p>But</p>\n<pre><code> doBusiness ...\n  Throwing RuntimeException ...\n createProcess V2...\n  Catching and Handling Throwable\n   Type   : class com.manuel.jordan.exception.BusinessRuntimeException\n   Message: It is a Business Runtime Exception\nJun 26, 2023 9:00:09 AM org.springframework.transaction.interceptor.TransactionAspectSupport completeTransactionAfterThrowing\nSEVERE: Application exception overridden by commit exception\ncom.manuel.jordan.exception.BusinessRuntimeException: It is a Business Runtime Exception\n    at com.manuel.jordan.service.impl.BusinessRuntimeExceptionV2ServiceImpl.doBusiness(BusinessRuntimeExceptionV2ServiceImpl.java:24)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy3/jdk.proxy3.$Proxy50.doBusiness(Unknown Source)\n    at com.manuel.jordan.service.impl.ProcessServiceImpl.createProcessV2(ProcessServiceImpl.java:72)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy3/jdk.proxy3.$Proxy54.createProcessV2(Unknown Source)\n    at com.manuel.jordan.main.Main.main(Main.java:120)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:279)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n Main...\n  Catching and Handling Throwable\n   Type   : class org.springframework.transaction.UnexpectedRollbackException\n   Message: Transaction rolled back because it has been marked as rollback-only\n</code></pre>\n<p>Why does <code>noRollbackFor</code> no work as expected?</p>\n<p>and arises:</p>\n<pre><code>SEVERE: Application exception overridden by commit exception\n</code></pre>\n"},{"tags":["java","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":2509409,"reputation":1675,"user_id":2187053,"accept_rate":47,"display_name":"HockChai Lim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687792443,"creation_date":1687792443,"answer_id":76558007,"question_id":76543601,"body_markdown":"Turns out to be case sensitive issue.  The actual file named is &#39;MyAccount.properties&#39;.  But the code uses &#39;myAccount.properties&#39;.  I change the code to below and it works:\r\n\r\n    URL url = MyClass.class.getClassLoader().getResource( &quot;MyAccount.properties&quot; );\r\n\r\nWeird behavior though:\r\n1) The code is running in Windows OS, which is a case insensitive.\r\n2) The code works fine in TOMCAT 7 under java 8.  But failed in TOMCAT 8 under java 11.","title":"how to get the URL of an external properties file in classpath in TOMCAT 10","body":"<p>Turns out to be case sensitive issue.  The actual file named is 'MyAccount.properties'.  But the code uses 'myAccount.properties'.  I change the code to below and it works:</p>\n<pre><code>URL url = MyClass.class.getClassLoader().getResource( &quot;MyAccount.properties&quot; );\n</code></pre>\n<p>Weird behavior though:</p>\n<ol>\n<li>The code is running in Windows OS, which is a case insensitive.</li>\n<li>The code works fine in TOMCAT 7 under java 8.  But failed in TOMCAT 8 under java 11.</li>\n</ol>\n"}],"owner":{"account_id":2509409,"reputation":1675,"user_id":2187053,"accept_rate":47,"display_name":"HockChai Lim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76558007,"answer_count":1,"score":-1,"last_activity_date":1687792443,"creation_date":1687556280,"question_id":76543601,"body_markdown":"\r\nI have an external properties file named myAccount.properties.  This file resides in a folder called `${catalina.home}/usmo/MyAccount/resources/properties`.  This folder is being added to the class path thru context.xml using configuration below:\r\n\r\n    &lt;Resources className=&quot;org.apache.catalina.webresources.StandardRoot&quot;&gt;\r\n        &lt;PostResources className=&quot;org.apache.catalina.webresources.DirResourceSet&quot;\r\n            base=&quot;${catalina.home}/usmo/MyAccount/resources/properties&quot;\r\n            internalPath=&quot;/&quot;\r\n            webAppMount=&quot;/WEB-INF/classes&quot; /&gt;\r\n\t&lt;/Resources&gt;\r\n\r\nI am expecting code below to return the URL or absolute path of this file.  Sadly,  it is returning a null. Any help would be appreciated.\r\n\r\n    URL url = MyClass.class.getClassLoader().getResource( &quot;myAccount.properties&quot; );\r\n\r\n\r\n\t\t\t\t\r\n\r\n\r\n","title":"how to get the URL of an external properties file in classpath in TOMCAT 10","body":"<p>I have an external properties file named myAccount.properties.  This file resides in a folder called <code>${catalina.home}/usmo/MyAccount/resources/properties</code>.  This folder is being added to the class path thru context.xml using configuration below:</p>\n<pre><code>&lt;Resources className=&quot;org.apache.catalina.webresources.StandardRoot&quot;&gt;\n    &lt;PostResources className=&quot;org.apache.catalina.webresources.DirResourceSet&quot;\n        base=&quot;${catalina.home}/usmo/MyAccount/resources/properties&quot;\n        internalPath=&quot;/&quot;\n        webAppMount=&quot;/WEB-INF/classes&quot; /&gt;\n&lt;/Resources&gt;\n</code></pre>\n<p>I am expecting code below to return the URL or absolute path of this file.  Sadly,  it is returning a null. Any help would be appreciated.</p>\n<pre><code>URL url = MyClass.class.getClassLoader().getResource( &quot;myAccount.properties&quot; );\n\n\n            \n</code></pre>\n"},{"tags":["java","image","javafx","imageview","resize"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687792235,"creation_date":1687791797,"answer_id":76557911,"question_id":76557706,"body_markdown":"When you try to shrink it, the container is (probably) going to remain large enough to hold the `ImageView` at its current size, and will be clipped by its container just to show the visible portion. Binding to dimensions is never a particularly good approach; to create custom layouts, subclass `Region` and override `layoutChildren()`.\r\n\r\nHere is a quick example:\r\n\r\n\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.Region;\r\n    \r\n    public class ImageContainer extends Region {\r\n        private final ImageView imageView ;\r\n    \r\n        public ImageContainer(ImageView imageView) {\r\n            this.imageView = imageView;\r\n            getChildren().add(imageView);\r\n        }\r\n    \r\n        @Override\r\n        protected void layoutChildren() {\r\n            // usable width and height:\r\n            double width = getWidth() - snappedLeftInset() - snappedRightInset();\r\n            double height = getHeight() - snappedTopInset() - snappedBottomInset();\r\n            imageView.setFitWidth(Math.max(1, width));\r\n            imageView.setFitHeight(Math.max(1, height));\r\n            double imageWidth = imageView.getBoundsInLocal().getWidth();\r\n            double imageHeight = imageView.getBoundsInLocal().getHeight();\r\n            // center image (can also make this more complex and support alignment):\r\n            double x = snappedLeftInset() + (width - imageWidth) / 2;\r\n            double y = snappedTopInset() + (height - imageHeight) / 2;\r\n            imageView.relocate(x , y);\r\n        }\r\n\r\n    }\r\n\r\nand\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.SplitPane;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n    \r\n        private final String ioColor = &quot;https://images-assets.nasa.gov/image/PIA00738/PIA00738~orig.jpg&quot;;\r\n        private final String ioBW = &quot;https://images-assets.nasa.gov/image/PIA01217/PIA01217~orig.jpg&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            ImageView leftImage = new ImageView(ioBW);\r\n            leftImage.setPreserveRatio(true);\r\n            ImageView rightImage = new ImageView(ioColor);\r\n            rightImage.setPreserveRatio(true);\r\n            SplitPane splitter = new SplitPane(new ImageContainer(leftImage), new ImageContainer(rightImage));\r\n            Scene scene = new Scene(splitter, 800, 500);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Binding child width and height to parents makes it unable to become smaller when resizing","body":"<p>When you try to shrink it, the container is (probably) going to remain large enough to hold the <code>ImageView</code> at its current size, and will be clipped by its container just to show the visible portion. Binding to dimensions is never a particularly good approach; to create custom layouts, subclass <code>Region</code> and override <code>layoutChildren()</code>.</p>\n<p>Here is a quick example:</p>\n<pre><code>import javafx.scene.image.ImageView;\nimport javafx.scene.layout.Region;\n\npublic class ImageContainer extends Region {\n    private final ImageView imageView ;\n\n    public ImageContainer(ImageView imageView) {\n        this.imageView = imageView;\n        getChildren().add(imageView);\n    }\n\n    @Override\n    protected void layoutChildren() {\n        // usable width and height:\n        double width = getWidth() - snappedLeftInset() - snappedRightInset();\n        double height = getHeight() - snappedTopInset() - snappedBottomInset();\n        imageView.setFitWidth(Math.max(1, width));\n        imageView.setFitHeight(Math.max(1, height));\n        double imageWidth = imageView.getBoundsInLocal().getWidth();\n        double imageHeight = imageView.getBoundsInLocal().getHeight();\n        // center image (can also make this more complex and support alignment):\n        double x = snappedLeftInset() + (width - imageWidth) / 2;\n        double y = snappedTopInset() + (height - imageHeight) / 2;\n        imageView.relocate(x , y);\n    }\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.SplitPane;\nimport javafx.scene.image.ImageView;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n\n    private final String ioColor = &quot;https://images-assets.nasa.gov/image/PIA00738/PIA00738~orig.jpg&quot;;\n    private final String ioBW = &quot;https://images-assets.nasa.gov/image/PIA01217/PIA01217~orig.jpg&quot;;\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        ImageView leftImage = new ImageView(ioBW);\n        leftImage.setPreserveRatio(true);\n        ImageView rightImage = new ImageView(ioColor);\n        rightImage.setPreserveRatio(true);\n        SplitPane splitter = new SplitPane(new ImageContainer(leftImage), new ImageContainer(rightImage));\n        Scene scene = new Scene(splitter, 800, 500);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28898321,"reputation":13,"user_id":22133856,"display_name":"Acheros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76557911,"answer_count":1,"score":1,"last_activity_date":1687792235,"creation_date":1687790287,"question_id":76557706,"body_markdown":"When I bind an `ImageView` to it&#39;s container:\r\n\r\n```\r\nimageView.fitWidthProperty().bind(widthProperty());\r\nimageView.fitHeightProperty().bind(heightProperty());\r\n```\r\n\r\nIt functions as intended when making the container bigger (the `imageview` scales accordingly), but when I try to make the container smaller, neither the container or the `imageview` becomes smaller. Strangely, when I set the imageview&#39;s image before the `stage.show()` method, it does function as intended, but again faces the same issue when changing the image after the `stage.show()` method.\r\n\r\nInstead of bindings i&#39;ve tried using listeners (both `ChangeListener` and `InvalidationListener`), changing the `layoutChildren()` method in the container/parent class and making a wrapperclass for the imageview, but they didn&#39;t solve the issue.\r\n\r\nMy project doesn&#39;t use FXML, so I would like to find a solution that doesn&#39;t need it.","title":"Binding child width and height to parents makes it unable to become smaller when resizing","body":"<p>When I bind an <code>ImageView</code> to it's container:</p>\n<pre><code>imageView.fitWidthProperty().bind(widthProperty());\nimageView.fitHeightProperty().bind(heightProperty());\n</code></pre>\n<p>It functions as intended when making the container bigger (the <code>imageview</code> scales accordingly), but when I try to make the container smaller, neither the container or the <code>imageview</code> becomes smaller. Strangely, when I set the imageview's image before the <code>stage.show()</code> method, it does function as intended, but again faces the same issue when changing the image after the <code>stage.show()</code> method.</p>\n<p>Instead of bindings i've tried using listeners (both <code>ChangeListener</code> and <code>InvalidationListener</code>), changing the <code>layoutChildren()</code> method in the container/parent class and making a wrapperclass for the imageview, but they didn't solve the issue.</p>\n<p>My project doesn't use FXML, so I would like to find a solution that doesn't need it.</p>\n"},{"tags":["java","maven","build","compiler-errors","snapshot"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687766331,"post_id":76554575,"comment_id":134977116,"body_markdown":"`so I guess he can find the folder and the file but still prefer to use the older (not SNAPSHOT) version that it gets from my nexus server.` You have defined a SNAPSHOT version and not a release version.. as your build fails it means the SNAPSHOT is presumably removed from your repository manager...","body":"<code>so I guess he can find the folder and the file but still prefer to use the older (not SNAPSHOT) version that it gets from my nexus server.</code> You have defined a SNAPSHOT version and not a release version.. as your build fails it means the SNAPSHOT is presumably removed from your repository manager..."},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1687766427,"post_id":76554575,"comment_id":134977133,"body_markdown":"Try to do a `mvn clean install` in your `project-name` project with the snapshot and then try what you have done again.","body":"Try to do a <code>mvn clean install</code> in your <code>project-name</code> project with the snapshot and then try what you have done again."}],"answers":[{"tags":[],"owner":{"account_id":28654196,"reputation":1,"user_id":21940585,"display_name":"Simone Rega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687791709,"creation_date":1687791709,"answer_id":76557902,"question_id":76554575,"body_markdown":"I post an answer myself in case someone will have the same problem. Apparently if you use IntelliJ is just an IDE bug, to resolve the problem just press right-click on the outer pom file -&gt; Maven -&gt; Reload","title":"Can&#39;t compile my project with Maven using local repository snapshot","body":"<p>I post an answer myself in case someone will have the same problem. Apparently if you use IntelliJ is just an IDE bug, to resolve the problem just press right-click on the outer pom file -&gt; Maven -&gt; Reload</p>\n"}],"owner":{"account_id":28654196,"reputation":1,"user_id":21940585,"display_name":"Simone Rega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687791709,"creation_date":1687765663,"question_id":76554575,"body_markdown":"I&#39;m trying to execute the command &quot;mvn clean install&quot; on my Java project. Some classes have dependency to a SNAPSHOT project that it&#39;s in my local repo.\r\n\r\nThis is the dependency tag in my project pom\r\n\r\n    &lt;dependency&gt;   \r\n      &lt;groupId&gt;my-package&lt;/groupId&gt;  \r\n      &lt;artifactId&gt;project-name&lt;/artifactId&gt;   \r\n      &lt;version&gt;3.0.0.0000-SNAPSHOT&lt;/version&gt;   \r\n      &lt;scope&gt;compile&lt;/scope&gt; \r\n    &lt;/dependency&gt;\r\n\r\nEven though I see there is a jar in my maven local repo called &quot;project-version&quot;-SNAPSHOT.jar maven gives me the error &quot;Compilation Error&quot; on those lines that contains a reference to the snapshot jar.\r\nI tried run the command &quot;mvn -U clean install&quot; but doesn&#39;t work; I tryed with mvn dependency:tree and it founds the dependency and finish with a BUILD SUCCESS, so I guess he can find the folder and the file but still prefer to use the older (not SNAPSHOT) version that it gets from my nexus server.\r\n\r\nEDIT: I can&#39;t creare a release on my nexus server, I need to test the jar before a deploy, never add problems doing so\r\n\r\nEDIT 2: I tried to remove the keyword &quot;Snapshot&quot; (try&amp;error approach, I know I shouldn&#39;t do that), now it gives me an error more pertinent to my problem\r\n\r\n`Could not resolve dependencies for project project-name:pom:3.0.0.0000-SNAPSHOT: The following artifacts could not be resolved: my-package:project-name-client:jar:3.0.0.0000, my-package:project-name-server:jar:3.0.0.0000: Could not find artifact my-package:project-name-client:jar:3.0.0.0000 in nexus`","title":"Can&#39;t compile my project with Maven using local repository snapshot","body":"<p>I'm trying to execute the command &quot;mvn clean install&quot; on my Java project. Some classes have dependency to a SNAPSHOT project that it's in my local repo.</p>\n<p>This is the dependency tag in my project pom</p>\n<pre><code>&lt;dependency&gt;   \n  &lt;groupId&gt;my-package&lt;/groupId&gt;  \n  &lt;artifactId&gt;project-name&lt;/artifactId&gt;   \n  &lt;version&gt;3.0.0.0000-SNAPSHOT&lt;/version&gt;   \n  &lt;scope&gt;compile&lt;/scope&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>Even though I see there is a jar in my maven local repo called &quot;project-version&quot;-SNAPSHOT.jar maven gives me the error &quot;Compilation Error&quot; on those lines that contains a reference to the snapshot jar.\nI tried run the command &quot;mvn -U clean install&quot; but doesn't work; I tryed with mvn dependency:tree and it founds the dependency and finish with a BUILD SUCCESS, so I guess he can find the folder and the file but still prefer to use the older (not SNAPSHOT) version that it gets from my nexus server.</p>\n<p>EDIT: I can't creare a release on my nexus server, I need to test the jar before a deploy, never add problems doing so</p>\n<p>EDIT 2: I tried to remove the keyword &quot;Snapshot&quot; (try&amp;error approach, I know I shouldn't do that), now it gives me an error more pertinent to my problem</p>\n<p><code>Could not resolve dependencies for project project-name:pom:3.0.0.0000-SNAPSHOT: The following artifacts could not be resolved: my-package:project-name-client:jar:3.0.0.0000, my-package:project-name-server:jar:3.0.0.0000: Could not find artifact my-package:project-name-client:jar:3.0.0.0000 in nexus</code></p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":14202984,"reputation":1214,"user_id":10260396,"display_name":"Qingfei Yuan"},"score":1,"creation_date":1560965396,"post_id":56673018,"comment_id":99913359,"body_markdown":"make sure this class in classpath","body":"make sure this class in classpath"},{"owner":{"account_id":16167223,"reputation":1,"user_id":11671921,"display_name":"Vandita Sharma"},"score":0,"creation_date":1561011657,"post_id":56673018,"comment_id":99926138,"body_markdown":"yes, it is there in classpath.","body":"yes, it is there in classpath."},{"owner":{"account_id":3850681,"reputation":2684,"user_id":3190953,"accept_rate":62,"display_name":"Wilfred Clement"},"score":2,"creation_date":1561028724,"post_id":56673018,"comment_id":99934797,"body_markdown":"Have you added &lt;scope&gt;test&lt;/scope&gt; in pom.xml ? Try removing it","body":"Have you added &lt;scope&gt;test&lt;/scope&gt; in pom.xml ? Try removing it"}],"answers":[{"tags":[],"owner":{"account_id":22368361,"reputation":1,"user_id":17741163,"display_name":"Srujan Gowda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687791557,"creation_date":1687791557,"answer_id":76557876,"question_id":56673018,"body_markdown":"This error occurs when you update the Java version (usually to a version greater than 8). The solution to this is adding a dependency for groovy as well as rest-assured in your pom.xml file. The below version works for java 17 and below:\r\n\r\n        &lt;dependency&gt;\r\n         &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n         &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n         &lt;version&gt;5.3.0&lt;/version&gt; \r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.groovy&lt;/groupId&gt;\r\n       &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n       &lt;version&gt;4.0.9&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nAlso make sure to change the .classPath file. You have to change the rest-assured and groovy versions to the versions specified in pom.xml        ","title":"java.lang.NoClassDefFoundError: Could not initialize class io.restassured.RestAssured","body":"<p>This error occurs when you update the Java version (usually to a version greater than 8). The solution to this is adding a dependency for groovy as well as rest-assured in your pom.xml file. The below version works for java 17 and below:</p>\n<pre><code>    &lt;dependency&gt;\n     &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n     &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n     &lt;version&gt;5.3.0&lt;/version&gt; \n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.apache.groovy&lt;/groupId&gt;\n   &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n   &lt;version&gt;4.0.9&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>Also make sure to change the .classPath file. You have to change the rest-assured and groovy versions to the versions specified in pom.xml</p>\n"}],"owner":{"account_id":16167223,"reputation":1,"user_id":11671921,"display_name":"Vandita Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2705,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687791557,"creation_date":1560965145,"question_id":56673018,"body_markdown":"I am getting the below error. Kindly, help. \r\n\r\nStack trace:\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class io.restassured.RestAssured\r\n  at netbanking.pages.APIResponsePages.&lt;init&gt;(APIResponsePages.java:24)\r\n  at netbanking.module.PassbookModule.validateUITransactionsWithAPI(PassbookModule.java:219)\r\n  at testcases.singleuser.PassbookTest.test8validateAPIresponse(PassbookTest.java:157)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.lang.reflect.Method.invoke(Unknown Source)\r\n  at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\r\n```\r\n\r\nI tried to update &lt;scope&gt;compile&lt;/scope&gt; in pom.XML file dependencies with no effect.\r\nAlso, uploaded all the jars for restAssured, also with no effect.","title":"java.lang.NoClassDefFoundError: Could not initialize class io.restassured.RestAssured","body":"<p>I am getting the below error. Kindly, help. </p>\n\n<p>Stack trace:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class io.restassured.RestAssured\n  at netbanking.pages.APIResponsePages.&lt;init&gt;(APIResponsePages.java:24)\n  at netbanking.module.PassbookModule.validateUITransactionsWithAPI(PassbookModule.java:219)\n  at testcases.singleuser.PassbookTest.test8validateAPIresponse(PassbookTest.java:157)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\n</code></pre>\n\n<p>I tried to update compile in pom.XML file dependencies with no effect.\nAlso, uploaded all the jars for restAssured, also with no effect.</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687772495,"creation_date":1687762533,"answer_id":76554193,"question_id":76542175,"body_markdown":"Why not just use the [`MULTISET` operator][1] to nest your data directly in SQL? It&#39;s all type safe and supported in a variety of RDBMS:\r\n\r\n```java\r\nList&lt;Dto&gt; list =\r\ndsl.select(\r\n        TABLE_1,\r\n        TABLE_2,\r\n        multiset(\r\n            select(TABLE_3)\r\n            .from(TABLE_3)\r\n            .where(TABLE_3.TABLE_1_ID.eq(TABLE_1.ID)\r\n        ).convertFrom(r -&gt; r.collect(Records.intoSet())),\r\n        TABLE_4\r\n    )\r\n   .from(TABLE_1)\r\n   .leftJoin(TABLE_2).on(TABLE_2.TABLE_1_ID.eq(TABLE_1.ID))\r\n   .leftJoin(TABLE_2).on(TABLE_2.TABLE_1_ID.eq(TABLE_1.ID))\r\n   .where(...)\r\n   .fetch(Records.mapping(Dto::new));\r\n```\r\n\r\nThis makes use of the following features:\r\n\r\n- [`MULTISET` value constructor][1]\r\n- [Ad-hoc conversion][2] (`convertFrom(..)` converts from a `List&lt;R&gt;` to a `Set&lt;R&gt;`)\r\n- [Projecting `Table` as `SelectField`][3] (since you want the `TableNRecord` type in your Dto anyway. If not, just use ad-hoc conversion again)\r\n\r\nOf course, you can always flatten (denormalise) your results using joins and then [collect them again into groups][4], but that&#39;s a lot of manual work every time you do this.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/select-clause/select-clause-table/\r\n  [4]: https://blog.jooq.org/use-resultquery-collect-to-implement-powerful-mappings/","title":"jOOQ fetch into DTO with Set of joined records","body":"<p>Why not just use the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\"><code>MULTISET</code> operator</a> to nest your data directly in SQL? It's all type safe and supported in a variety of RDBMS:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Dto&gt; list =\ndsl.select(\n        TABLE_1,\n        TABLE_2,\n        multiset(\n            select(TABLE_3)\n            .from(TABLE_3)\n            .where(TABLE_3.TABLE_1_ID.eq(TABLE_1.ID)\n        ).convertFrom(r -&gt; r.collect(Records.intoSet())),\n        TABLE_4\n    )\n   .from(TABLE_1)\n   .leftJoin(TABLE_2).on(TABLE_2.TABLE_1_ID.eq(TABLE_1.ID))\n   .leftJoin(TABLE_2).on(TABLE_2.TABLE_1_ID.eq(TABLE_1.ID))\n   .where(...)\n   .fetch(Records.mapping(Dto::new));\n</code></pre>\n<p>This makes use of the following features:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\"><code>MULTISET</code> value constructor</a></li>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">Ad-hoc conversion</a> (<code>convertFrom(..)</code> converts from a <code>List&lt;R&gt;</code> to a <code>Set&lt;R&gt;</code>)</li>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/select-clause/select-clause-table/\" rel=\"nofollow noreferrer\">Projecting <code>Table</code> as <code>SelectField</code></a> (since you want the <code>TableNRecord</code> type in your Dto anyway. If not, just use ad-hoc conversion again)</li>\n</ul>\n<p>Of course, you can always flatten (denormalise) your results using joins and then <a href=\"https://blog.jooq.org/use-resultquery-collect-to-implement-powerful-mappings/\" rel=\"nofollow noreferrer\">collect them again into groups</a>, but that's a lot of manual work every time you do this.</p>\n"}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76554193,"answer_count":1,"score":0,"last_activity_date":1687791538,"creation_date":1687539709,"question_id":76542175,"body_markdown":"I am working with jOOQ. I want to perform a select and joins to fetch into a DTO. My DTO has an instance of `Table1Record`, `Table2Record`, a set of `Table3Record`s, and one `Table4Record`.\r\n\r\n```\r\npublic class Dto {\r\n  private Table1Record table1;\r\n  private Table2Record table2;\r\n  private Set&lt;Table1Record&gt; subTable1s;\r\n  private Table4Record table4;\r\n\r\n  // All arg constructor and getters/setters.\r\n}\r\n```\r\n\r\nI start my query with:\r\n\r\n```\r\ndsl\r\n    .select()\r\n    .from(TABLE_1)\r\n    .leftJoin(TABLE_2).on(TABLE_2.TABLE_1_ID.eq(TABLE_1.ID)\r\n```\r\n\r\nI know that I need to do something like `.fetch(record -&gt; `, and then use `record.into(TABLE_1)`, etc, but I don&#39;t know how to do it for the set of `Table1Records`s. Assume that there is a join table.","title":"jOOQ fetch into DTO with Set of joined records","body":"<p>I am working with jOOQ. I want to perform a select and joins to fetch into a DTO. My DTO has an instance of <code>Table1Record</code>, <code>Table2Record</code>, a set of <code>Table3Record</code>s, and one <code>Table4Record</code>.</p>\n<pre><code>public class Dto {\n  private Table1Record table1;\n  private Table2Record table2;\n  private Set&lt;Table1Record&gt; subTable1s;\n  private Table4Record table4;\n\n  // All arg constructor and getters/setters.\n}\n</code></pre>\n<p>I start my query with:</p>\n<pre><code>dsl\n    .select()\n    .from(TABLE_1)\n    .leftJoin(TABLE_2).on(TABLE_2.TABLE_1_ID.eq(TABLE_1.ID)\n</code></pre>\n<p>I know that I need to do something like <code>.fetch(record -&gt; </code>, and then use <code>record.into(TABLE_1)</code>, etc, but I don't know how to do it for the set of <code>Table1Records</code>s. Assume that there is a join table.</p>\n"},{"tags":["java","regex","replaceall"],"comments":[{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":0,"creation_date":1276719180,"post_id":3056834,"comment_id":3129664,"body_markdown":"I also tried `&quot;(\\\\r\\\\n|\\\\n)&quot;`","body":"I also tried <code>&quot;(\\\\r\\\\n|\\\\n)&quot;</code>"},{"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"score":2,"creation_date":1276719717,"post_id":3056834,"comment_id":3129747,"body_markdown":"Could you post a more complete example? I think the error is not in the code you posted.","body":"Could you post a more complete example? I think the error is not in the code you posted."},{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":1,"creation_date":1276720570,"post_id":3056834,"comment_id":3129862,"body_markdown":"I pretty much have the same two lines and I was testing it in debug mode in eclipse with a break-point after `replaceAll()` .","body":"I pretty much have the same two lines and I was testing it in debug mode in eclipse with a break-point after <code>replaceAll()</code> ."},{"owner":{"account_id":4788747,"reputation":465,"user_id":3868505,"display_name":"amarjeetAnand"},"score":0,"creation_date":1526033158,"post_id":3056834,"comment_id":87595772,"body_markdown":"[\\r?\\n] can also work.","body":"[\\r?\\n] can also work."}],"answers":[{"tags":[],"owner":{"account_id":18462,"reputation":52969,"user_id":42304,"accept_rate":98,"display_name":"Byron Whitlock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276719275,"creation_date":1276719275,"answer_id":3056846,"question_id":3056834,"body_markdown":"That should work, but don&#39;t kill yourself trying to figure it out. Just use 2 passes.\r\n\r\n    str  = str.replaceAll(&quot;(\\r\\n)&quot;, &quot;&lt;br /&gt;&quot;);\r\n    str  = str.replaceAll(&quot;(\\n)&quot;, &quot;&lt;br /&gt;&quot;);\r\n\r\nDisclaimer: this is not very efficient.","title":"replace \\n and \\r\\n with &lt;br /&gt; in java","body":"<p>That should work, but don't kill yourself trying to figure it out. Just use 2 passes.</p>\n\n<pre><code>str  = str.replaceAll(\"(\\r\\n)\", \"&lt;br /&gt;\");\nstr  = str.replaceAll(\"(\\n)\", \"&lt;br /&gt;\");\n</code></pre>\n\n<p>Disclaimer: this is not very efficient.</p>\n"},{"tags":[],"owner":{"account_id":112789,"reputation":3335,"user_id":297376,"accept_rate":83,"display_name":"Kasturi"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1276720260,"creation_date":1276719345,"answer_id":3056855,"question_id":3056834,"body_markdown":"This should work. You need to put in two slashes\r\n\r\n    str = str.replaceAll(&quot;(\\\\r\\\\n|\\\\n)&quot;, &quot;&lt;br /&gt;&quot;);\r\n\r\nIn this [Reference][1], there is an example which shows\r\n\r\n    private final String REGEX = &quot;\\\\d&quot;; // a single digit\r\n\r\nI have used two slashes in many of my projects and it seems to work fine!\r\n\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/essential/regex/pre_char_classes.html","title":"replace \\n and \\r\\n with &lt;br /&gt; in java","body":"<p>This should work. You need to put in two slashes</p>\n\n<pre><code>str = str.replaceAll(\"(\\\\r\\\\n|\\\\n)\", \"&lt;br /&gt;\");\n</code></pre>\n\n<p>In this <a href=\"http://java.sun.com/docs/books/tutorial/essential/regex/pre_char_classes.html\" rel=\"nofollow noreferrer\">Reference</a>, there is an example which shows</p>\n\n<pre><code>private final String REGEX = \"\\\\d\"; // a single digit\n</code></pre>\n\n<p>I have used two slashes in many of my projects and it seems to work fine!</p>\n"},{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":123,"is_accepted":true,"score":123,"last_activity_date":1276719471,"creation_date":1276719471,"answer_id":3056864,"question_id":3056834,"body_markdown":"It works for me.\r\n\r\n    public class Program\r\n    {\r\n        public static void main(String[] args) {\r\n            String str = &quot;This is a string.\\nThis is a long string.&quot;;\r\n            str = str.replaceAll(&quot;(\\r\\n|\\n)&quot;, &quot;&lt;br /&gt;&quot;);\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n&lt;pre&gt;\r\nThis is a string.&amp;lt;br /&amp;gt;This is a long string.\r\n&lt;/pre&gt;\r\n\r\nYour problem is somewhere else.","title":"replace \\n and \\r\\n with &lt;br /&gt; in java","body":"<p>It works for me.</p>\n\n<pre><code>public class Program\n{\n    public static void main(String[] args) {\n        String str = \"This is a string.\\nThis is a long string.\";\n        str = str.replaceAll(\"(\\r\\n|\\n)\", \"&lt;br /&gt;\");\n        System.out.println(str);\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre>\nThis is a string.&lt;br /&gt;This is a long string.\n</pre>\n\n<p>Your problem is somewhere else.</p>\n"},{"tags":[],"owner":{"account_id":59056,"reputation":50006,"user_id":176741,"accept_rate":90,"display_name":"Dolph"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1276720889,"creation_date":1276719487,"answer_id":3056868,"question_id":3056834,"body_markdown":"A little more robust version of what you&#39;re attempting:\r\n\r\n    str = str.replaceAll(&quot;(\\r\\n|\\n\\r|\\r|\\n)&quot;, &quot;&lt;br /&gt;&quot;);","title":"replace \\n and \\r\\n with &lt;br /&gt; in java","body":"<p>A little more robust version of what you're attempting:</p>\n\n<pre><code>str = str.replaceAll(\"(\\r\\n|\\n\\r|\\r|\\n)\", \"&lt;br /&gt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1276720859,"creation_date":1276720859,"answer_id":3057010,"question_id":3056834,"body_markdown":"It works for me.  The Java code works exactly as you wrote it.  In the tester, the input string should be:\r\n\r\n    This is a string.\r\n    This is a long string.\r\n\r\n...with a real linefeed.  You can&#39;t use:\r\n\r\n    This is a string.\\nThis is a long string.\r\n\r\n...because it treats `\\n` as the literal sequence *backslash &#39;n&#39;*.\r\n    \r\n\r\n","title":"replace \\n and \\r\\n with &lt;br /&gt; in java","body":"<p>It works for me.  The Java code works exactly as you wrote it.  In the tester, the input string should be:</p>\n\n<pre><code>This is a string.\nThis is a long string.\n</code></pre>\n\n<p>...with a real linefeed.  You can't use:</p>\n\n<pre><code>This is a string.\\nThis is a long string.\n</code></pre>\n\n<p>...because it treats <code>\\n</code> as the literal sequence <em>backslash 'n'</em>.</p>\n"},{"tags":[],"owner":{"account_id":873155,"reputation":3719,"user_id":923557,"accept_rate":62,"display_name":"Nino van Hooff"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1345546841,"creation_date":1345546841,"answer_id":12053430,"question_id":3056834,"body_markdown":"For me, this worked:\r\n\r\n    rawText.replaceAll(&quot;(\\\\\\\\r\\\\\\\\n|\\\\\\\\n)&quot;, &quot;\\\\\\n&quot;);\r\n\r\nTip: use [regex tester][1] for quick testing without compiling in your environment\r\n\r\n\r\n  [1]: http://www.regexplanet.com/advanced/java/index.html\r\n\r\n","title":"replace \\n and \\r\\n with &lt;br /&gt; in java","body":"<p>For me, this worked:</p>\n\n<pre><code>rawText.replaceAll(\"(\\\\\\\\r\\\\\\\\n|\\\\\\\\n)\", \"\\\\\\n\");\n</code></pre>\n\n<p>Tip: use <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"noreferrer\">regex tester</a> for quick testing without compiling in your environment</p>\n"},{"tags":[],"owner":{"account_id":4693043,"reputation":111,"user_id":3798668,"display_name":"user3798668"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1404324456,"creation_date":1404322195,"answer_id":24537430,"question_id":3056834,"body_markdown":"Since my account is new I can&#39;t up-vote Nino van Hooff&#39;s answer. If your strings are coming from a Windows based source such as an aspx based server, this solution does work:\r\n\r\n    rawText.replaceAll(&quot;(\\\\\\\\r\\\\\\\\n|\\\\\\\\n)&quot;, &quot;&lt;br /&gt;&quot;);\r\n\r\nSeems to be a weird character set issue as the double back-slashes are being interpreted as single slash escape characters. Hence the need for the quadruple slashes above.\r\n\r\nAgain, under most circumstances `&quot;(\\\\r\\\\n|\\\\n)&quot;` should work, but if your strings are coming from a Windows based source try the above.\r\n\r\nJust an FYI tried everything to correct the issue I was having replacing those line endings. Thought at first was failed conversion from `Windows-1252` to `UTF-8`. But that didn&#39;t working either. This solution is what finally did the trick. :)\r\n\r\n","title":"replace \\n and \\r\\n with &lt;br /&gt; in java","body":"<p>Since my account is new I can't up-vote Nino van Hooff's answer. If your strings are coming from a Windows based source such as an aspx based server, this solution does work:</p>\n\n<pre><code>rawText.replaceAll(\"(\\\\\\\\r\\\\\\\\n|\\\\\\\\n)\", \"&lt;br /&gt;\");\n</code></pre>\n\n<p>Seems to be a weird character set issue as the double back-slashes are being interpreted as single slash escape characters. Hence the need for the quadruple slashes above.</p>\n\n<p>Again, under most circumstances <code>\"(\\\\r\\\\n|\\\\n)\"</code> should work, but if your strings are coming from a Windows based source try the above.</p>\n\n<p>Just an FYI tried everything to correct the issue I was having replacing those line endings. Thought at first was failed conversion from <code>Windows-1252</code> to <code>UTF-8</code>. But that didn't working either. This solution is what finally did the trick. :)</p>\n"}],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167972,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":3056864,"answer_count":7,"score":74,"last_activity_date":1687791460,"creation_date":1276719143,"question_id":3056834,"body_markdown":"This has been asked several times for several languages but I can&#39;t get it to work.\r\nI have a string like this\r\n\r\n    String str = &quot;This is a string.\\nThis is a long string.&quot;;\r\nAnd I&#39;m trying to replace the `\\n` with `&lt;br /&gt;` using\r\n\r\n    str = str.replaceAll(&quot;(\\r\\n|\\n)&quot;, &quot;&lt;br /&gt;&quot;);\r\nbut the `\\n` is not getting replaced.\r\nI tried to use this [RegEx Tool][1] to verify and I see the same result. The input string does not have a match for `&quot;(\\r\\n|\\n)&quot;`. What am i doing wrong ?\r\n\r\n\r\n\r\n  [1]: http://www.regexplanet.com/simple/index.html","title":"replace \\n and \\r\\n with &lt;br /&gt; in java","body":"<p>This has been asked several times for several languages but I can't get it to work.\nI have a string like this</p>\n\n<pre><code>String str = \"This is a string.\\nThis is a long string.\";\n</code></pre>\n\n<p>And I'm trying to replace the <code>\\n</code> with <code>&lt;br /&gt;</code> using</p>\n\n<pre><code>str = str.replaceAll(\"(\\r\\n|\\n)\", \"&lt;br /&gt;\");\n</code></pre>\n\n<p>but the <code>\\n</code> is not getting replaced.\nI tried to use this <a href=\"http://www.regexplanet.com/simple/index.html\" rel=\"noreferrer\">RegEx Tool</a> to verify and I see the same result. The input string does not have a match for <code>\"(\\r\\n|\\n)\"</code>. What am i doing wrong ?</p>\n"},{"tags":["java","html","spring-mvc","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1687734859,"post_id":76552740,"comment_id":134973884,"body_markdown":"WHERE do you see gibberish?  Which button triggered that?","body":"WHERE do you see gibberish?  Which button triggered that?"},{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687737432,"post_id":76552740,"comment_id":134974060,"body_markdown":"Why upload an image in the DB? It&#39;s a bad practice.","body":"Why upload an image in the DB? It&#39;s a bad practice."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687741908,"post_id":76552740,"comment_id":134974401,"body_markdown":"@azer-p why do you say that?","body":"@azer-p why do you say that?"},{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687751977,"post_id":76552740,"comment_id":134975126,"body_markdown":"@tgdavies correction, not a bad practice but there&#39;s a lot of disadvantages","body":"@tgdavies correction, not a bad practice but there&#39;s a lot of disadvantages"},{"owner":{"account_id":28893839,"reputation":1,"user_id":22130334,"display_name":"user22130334"},"score":0,"creation_date":1687876606,"post_id":76552740,"comment_id":134996453,"body_markdown":"@TimRoberts no a bottom, when i click over the image","body":"@TimRoberts no a bottom, when i click over the image"},{"owner":{"account_id":28893839,"reputation":1,"user_id":22130334,"display_name":"user22130334"},"score":0,"creation_date":1687876645,"post_id":76552740,"comment_id":134996461,"body_markdown":"@azer-p sorry I specified wrong, i upload a reference to the location of the file in the database.","body":"@azer-p sorry I specified wrong, i upload a reference to the location of the file in the database."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1687888230,"post_id":76552740,"comment_id":134999186,"body_markdown":"So, are you saying that the `&lt;img&gt;` displays correctly, but when you click on it, the exact same URL does not display correctly?  Does your `rutaPortada` include the file&#39;s extension?","body":"So, are you saying that the <code>&lt;img&gt;</code> displays correctly, but when you click on it, the exact same URL does not display correctly?  Does your <code>rutaPortada</code> include the file&#39;s extension?"}],"owner":{"account_id":28893839,"reputation":1,"user_id":22130334,"display_name":"user22130334"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687790804,"creation_date":1687734595,"question_id":76552740,"body_markdown":"I&#39;m trying to upload a image using forms and then i need to keep it in the DB and see it later in a table.\r\nThe image displays correctly  when i run the localhost, the problem is when i click on the image and it show me gibberish instead of the image in format JPEG. i&#39;m using thymeleaf and springboot.\r\n\r\n\r\nthis is the part of the code in the html file \r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;es&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;~{master.html}&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Administrar pel&#237;culas | Trailers &lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div layout:fragment=&quot;content&quot;&gt;\r\n    &lt;h2&gt; Peliculas&lt;/h2&gt;\r\n\r\n    &lt;div class=&quot;text-end&quot;&gt;\r\n        &lt;a href=&quot;/admin/peliculas/nuevo&quot; class=&quot;btn btn-secondary mb-3&quot;&gt;\r\n            Nueva Pel&#237;cula\r\n        &lt;/a&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;table class=&quot;table table-hover&quot;&gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;&lt;/th&gt;\r\n            &lt;th&gt;Pelicula&lt;/th&gt;\r\n            &lt;th&gt;Fecha de estreno&lt;/th&gt;\r\n            &lt;th&gt;&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n        &lt;tr th:each=&quot;pelicula : ${peliculas}&quot; th:object=&quot;${pelicula}&quot;&gt;\r\n        &lt;td style=&quot;width: 150px;&quot;&gt;\r\n            &lt;a th:href=&quot;@{/assets/{filename}(filename=*{rutaPortada})}&quot; class=&quot;img-thumbnail w-100&quot; data-fancybox&gt;\r\n                &lt;img th:src=&quot;@{/assets/{filename}(filename=*{rutaPortada})}&quot; alt=&quot;&quot; class=&quot;img-thumbnail w-100&quot; &gt;\r\n            &lt;/a&gt;\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;div th:text=&quot;*{titulo}&quot; class=&quot;fs-5 fw-bold&quot;&gt;&lt;/div&gt;\r\n                &lt;p th:text=&quot;*{sinopsis}&quot;&gt;&lt;/p&gt;\r\n                &lt;div&gt;\r\n                    &lt;span class=&quot;badge rounded-pill bg-light text-dark me-1&quot;\r\n                          th:each=&quot;genero : *{generos}&quot;\r\n                             th:text=&quot;${genero.titulo}&quot;&gt;&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/td&gt;\r\n            &lt;td th:text=&quot;*{#temporals.format(fechaEstreno, &#39;dd/MM/yyyy&#39;)}&quot;&gt;&lt;/td&gt;\r\n            &lt;td class=&quot;text-end&quot;&gt;\r\n                &lt;a th:href=&quot;@{/admin/peliculas/{id}/editar(id=*{id})}&quot;&gt;Editar&lt;/a&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nand this it the part of the code from the controller\r\n\r\n\r\n\r\npackage com.cinetrailer.trailer.controller;\r\n\r\nimport com.cinetrailer.trailer.model.Genero;\r\nimport com.cinetrailer.trailer.model.Pelicula;\r\nimport com.cinetrailer.trailer.repo.GeneroRepository;\r\nimport com.cinetrailer.trailer.repo.PeliculaRepository;\r\nimport com.cinetrailer.trailer.service.FileSystemStorageService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.data.web.PageableDefault;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/admin&quot;)\r\npublic class AdminController {\r\n\r\n    @Autowired\r\n    private PeliculaRepository peliculaRepository;\r\n    @Autowired\r\n    private GeneroRepository generoRepository;\r\n    @Autowired\r\n    private FileSystemStorageService fileSystemStorageService;\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    ModelAndView index(@PageableDefault(sort = &quot;titulo&quot;, size = 5) Pageable pageable) {\r\n        Page&lt;Pelicula&gt; peliculas = peliculaRepository.findAll(pageable);\r\n        return new ModelAndView(&quot;admin/index&quot;).addObject(&quot;peliculas&quot;, peliculas);\r\n    }\r\n\r\n    @GetMapping(&quot;/peliculas/nuevo&quot;)\r\n    ModelAndView nuevaPelicula() {\r\n        List&lt;Genero&gt; generos = generoRepository.findAll(Sort.by(&quot;titulo&quot;));\r\n\r\n        return new ModelAndView(&quot;admin/nueva-pelicula&quot;).addObject(&quot;pelicula&quot;, new Pelicula()).addObject(&quot;generos&quot;, generos);\r\n    }\r\n\r\n    @PostMapping(&quot;/peliculas/nuevo&quot;)\r\n    ModelAndView crearPelicula(@Validated Pelicula pelicula, BindingResult bindingResult) {\r\n\r\n        if (bindingResult.hasErrors() || pelicula.getPortada().isEmpty()) {\r\n            if (pelicula.getPortada().isEmpty()) {\r\n                bindingResult.rejectValue(&quot;portada&quot;, &quot;MultipartNotEmpty&quot;);\r\n            }\r\n            List&lt;Genero&gt; generos = generoRepository.findAll(Sort.by(&quot;titulo&quot;));\r\n            return new ModelAndView(&quot;admin/nueva-pelicula&quot;).addObject(&quot;pelicula&quot;, pelicula).addObject(&quot;generos&quot;, generos);\r\n        }\r\n        String rutaPortada = fileSystemStorageService.storage(pelicula.getPortada());\r\n        pelicula.setRutaPortada(rutaPortada);\r\n\r\n        peliculaRepository.save(pelicula);\r\n\r\n        return new ModelAndView(&quot;redirect:/admin&quot;);\r\n//        return new ModelAndView(&quot;redirect:/admin&quot;);\r\n    }\r\n\r\n    @GetMapping(&quot;/peliculas/{id}/editar&quot;)\r\n    ModelAndView editarPelicula(@PathVariable Integer id) {\r\n        Optional&lt;Pelicula&gt; optionalPelicula = peliculaRepository.findById(id);\r\n        if (optionalPelicula.isPresent()) {\r\n            Pelicula pelicula = optionalPelicula.get();\r\n            List&lt;Genero&gt; generos = generoRepository.findAll(Sort.by(&quot;titulo&quot;));\r\n//        Pelicula pelicula = peliculaRepository.getOne(id);\r\n//        List&lt;Genero&gt; generos = generoRepository.findAll(Sort.by(&quot;titulo&quot;));\r\n\r\n            return new ModelAndView(&quot;admin/editar-pelicula&quot;)\r\n                    .addObject(&quot;pelicula&quot;, pelicula).addObject(&quot;generos&quot;, generos);\r\n        }\r\n        else {\r\n            return new ModelAndView(&quot;error&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"why do i get gibberish when i click on my image?","body":"<p>I'm trying to upload a image using forms and then i need to keep it in the DB and see it later in a table.\nThe image displays correctly  when i run the localhost, the problem is when i click on the image and it show me gibberish instead of the image in format JPEG. i'm using thymeleaf and springboot.</p>\n<p>this is the part of the code in the html file</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;es&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;~{master.html}&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Administrar películas | Trailers &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div layout:fragment=&quot;content&quot;&gt;\n    &lt;h2&gt; Peliculas&lt;/h2&gt;\n\n    &lt;div class=&quot;text-end&quot;&gt;\n        &lt;a href=&quot;/admin/peliculas/nuevo&quot; class=&quot;btn btn-secondary mb-3&quot;&gt;\n            Nueva Película\n        &lt;/a&gt;\n    &lt;/div&gt;\n\n    &lt;table class=&quot;table table-hover&quot;&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;&lt;/th&gt;\n            &lt;th&gt;Pelicula&lt;/th&gt;\n            &lt;th&gt;Fecha de estreno&lt;/th&gt;\n            &lt;th&gt;&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr th:each=&quot;pelicula : ${peliculas}&quot; th:object=&quot;${pelicula}&quot;&gt;\n        &lt;td style=&quot;width: 150px;&quot;&gt;\n            &lt;a th:href=&quot;@{/assets/{filename}(filename=*{rutaPortada})}&quot; class=&quot;img-thumbnail w-100&quot; data-fancybox&gt;\n                &lt;img th:src=&quot;@{/assets/{filename}(filename=*{rutaPortada})}&quot; alt=&quot;&quot; class=&quot;img-thumbnail w-100&quot; &gt;\n            &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;div th:text=&quot;*{titulo}&quot; class=&quot;fs-5 fw-bold&quot;&gt;&lt;/div&gt;\n                &lt;p th:text=&quot;*{sinopsis}&quot;&gt;&lt;/p&gt;\n                &lt;div&gt;\n                    &lt;span class=&quot;badge rounded-pill bg-light text-dark me-1&quot;\n                          th:each=&quot;genero : *{generos}&quot;\n                             th:text=&quot;${genero.titulo}&quot;&gt;&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n            &lt;td th:text=&quot;*{#temporals.format(fechaEstreno, 'dd/MM/yyyy')}&quot;&gt;&lt;/td&gt;\n            &lt;td class=&quot;text-end&quot;&gt;\n                &lt;a th:href=&quot;@{/admin/peliculas/{id}/editar(id=*{id})}&quot;&gt;Editar&lt;/a&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\nand this it the part of the code from the controller\n\n\n\npackage com.cinetrailer.trailer.controller;\n\nimport com.cinetrailer.trailer.model.Genero;\nimport com.cinetrailer.trailer.model.Pelicula;\nimport com.cinetrailer.trailer.repo.GeneroRepository;\nimport com.cinetrailer.trailer.repo.PeliculaRepository;\nimport com.cinetrailer.trailer.service.FileSystemStorageService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.web.PageableDefault;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Controller\n@RequestMapping(&quot;/admin&quot;)\npublic class AdminController {\n\n    @Autowired\n    private PeliculaRepository peliculaRepository;\n    @Autowired\n    private GeneroRepository generoRepository;\n    @Autowired\n    private FileSystemStorageService fileSystemStorageService;\n\n    @GetMapping(&quot;&quot;)\n    ModelAndView index(@PageableDefault(sort = &quot;titulo&quot;, size = 5) Pageable pageable) {\n        Page&lt;Pelicula&gt; peliculas = peliculaRepository.findAll(pageable);\n        return new ModelAndView(&quot;admin/index&quot;).addObject(&quot;peliculas&quot;, peliculas);\n    }\n\n    @GetMapping(&quot;/peliculas/nuevo&quot;)\n    ModelAndView nuevaPelicula() {\n        List&lt;Genero&gt; generos = generoRepository.findAll(Sort.by(&quot;titulo&quot;));\n\n        return new ModelAndView(&quot;admin/nueva-pelicula&quot;).addObject(&quot;pelicula&quot;, new Pelicula()).addObject(&quot;generos&quot;, generos);\n    }\n\n    @PostMapping(&quot;/peliculas/nuevo&quot;)\n    ModelAndView crearPelicula(@Validated Pelicula pelicula, BindingResult bindingResult) {\n\n        if (bindingResult.hasErrors() || pelicula.getPortada().isEmpty()) {\n            if (pelicula.getPortada().isEmpty()) {\n                bindingResult.rejectValue(&quot;portada&quot;, &quot;MultipartNotEmpty&quot;);\n            }\n            List&lt;Genero&gt; generos = generoRepository.findAll(Sort.by(&quot;titulo&quot;));\n            return new ModelAndView(&quot;admin/nueva-pelicula&quot;).addObject(&quot;pelicula&quot;, pelicula).addObject(&quot;generos&quot;, generos);\n        }\n        String rutaPortada = fileSystemStorageService.storage(pelicula.getPortada());\n        pelicula.setRutaPortada(rutaPortada);\n\n        peliculaRepository.save(pelicula);\n\n        return new ModelAndView(&quot;redirect:/admin&quot;);\n//        return new ModelAndView(&quot;redirect:/admin&quot;);\n    }\n\n    @GetMapping(&quot;/peliculas/{id}/editar&quot;)\n    ModelAndView editarPelicula(@PathVariable Integer id) {\n        Optional&lt;Pelicula&gt; optionalPelicula = peliculaRepository.findById(id);\n        if (optionalPelicula.isPresent()) {\n            Pelicula pelicula = optionalPelicula.get();\n            List&lt;Genero&gt; generos = generoRepository.findAll(Sort.by(&quot;titulo&quot;));\n//        Pelicula pelicula = peliculaRepository.getOne(id);\n//        List&lt;Genero&gt; generos = generoRepository.findAll(Sort.by(&quot;titulo&quot;));\n\n            return new ModelAndView(&quot;admin/editar-pelicula&quot;)\n                    .addObject(&quot;pelicula&quot;, pelicula).addObject(&quot;generos&quot;, generos);\n        }\n        else {\n            return new ModelAndView(&quot;error&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","datetime","karate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1687530822,"post_id":76540842,"comment_id":134954575,"body_markdown":"You don&#39;t need to create an instance. You have a `static` method. You should probably be using `java.time` though","body":"You don&#39;t need to create an instance. You have a <code>static</code> method. You should probably be using <code>java.time</code> though"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1687531215,"post_id":76540842,"comment_id":134954688,"body_markdown":"All you need is `return ZonedDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm:ss&#39;Z&#39;&quot;));` And presumably `def effectiveDate = Datetime.getNowDate()`","body":"All you need is <code>return ZonedDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy&zwnj;&#8203;-MM-dd hh:mm:ss&#39;Z&#39;&quot;));</code> And presumably <code>def effectiveDate = Datetime.getNowDate()</code>"},{"owner":{"account_id":3483162,"reputation":456,"user_id":2914693,"accept_rate":48,"display_name":"j8d"},"score":0,"creation_date":1687531461,"post_id":76540842,"comment_id":134954735,"body_markdown":"That did the trick. Thank you!","body":"That did the trick. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":3483162,"reputation":456,"user_id":2914693,"accept_rate":48,"display_name":"j8d"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687790734,"creation_date":1687531707,"answer_id":76541213,"question_id":76540842,"body_markdown":"Solution thanks to g00se...\r\n\r\n**Datetime.java**\r\n    \r\n    package com.org.unit.automation.utils;\r\n    \r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    public class Datetime {  \r\n        public static String getNowDate() {\r\n    \t\treturn ZonedDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm:ss&#39;Z&#39;&quot;));\r\n    \t}\r\n    }\r\n\r\n**sdf.feature**\r\n\r\n    Feature: Print current ISO datetime\r\n      Background:\r\n        * def Datetime = Java.type(&#39;com.org.unit.automation.utils.Datetime&#39;)\r\n        * def effectiveDate = Datetime.getNowDate()\r\n        * print effectiveDate\r\n\r\n**Result**\r\n\r\n&quot;2023-06-23 10:45:50Z&quot;\r\n","title":"Datetime function in Karate","body":"<p>Solution thanks to g00se...</p>\n<p><strong>Datetime.java</strong></p>\n<pre><code>package com.org.unit.automation.utils;\n\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\npublic class Datetime {  \n    public static String getNowDate() {\n        return ZonedDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm:ss'Z'&quot;));\n    }\n}\n</code></pre>\n<p><strong>sdf.feature</strong></p>\n<pre><code>Feature: Print current ISO datetime\n  Background:\n    * def Datetime = Java.type('com.org.unit.automation.utils.Datetime')\n    * def effectiveDate = Datetime.getNowDate()\n    * print effectiveDate\n</code></pre>\n<p><strong>Result</strong></p>\n<p>&quot;2023-06-23 10:45:50Z&quot;</p>\n"}],"owner":{"account_id":3483162,"reputation":456,"user_id":2914693,"accept_rate":48,"display_name":"j8d"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687790734,"creation_date":1687528764,"question_id":76540842,"body_markdown":"Need to insert datetime in my tests. This is what I tried:\r\n\r\n**Datetime.java**\r\n    \r\n    package com.org.unit.automation.utils;\r\n    \r\n    import java.text.SimpleDateFormat;  \r\n    import java.util.Date;  \r\n    public class Datetime {  \r\n        public static String getNowDate() {\r\n    \t\tDate nowDate = new Date();\r\n    \t\tSimpleDateFormat nowDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&#39;Z&#39;&quot;);\r\n    \t\treturn nowDateFormat.format(nowDate);\r\n    \t}\r\n    }\r\n\r\n**sdf.feature**\r\n\r\n    Feature: Print current ISO datetime\r\n      Background:\r\n        * def Datetime = Java.type(&#39;com.org.unit.automation.utils.Datetime&#39;)\r\n        * def date = new Datetime()\r\n        * def effectiveDate = date.getNowDate()\r\n        * print effectiveDate\r\n\r\n**Result**\r\n\r\n[ERROR]   KarateRunner.test:11 js failed:\r\n01: date.getNowDate()\r\norg.graalvm.polyglot.PolyglotException: TypeError: invokeMember (getNowDate) on com.resmed.patientcore.automation.utils.Datetime failed due to: Unknown identifier: getNowDate\r\n\r\n","title":"Datetime function in Karate","body":"<p>Need to insert datetime in my tests. This is what I tried:</p>\n<p><strong>Datetime.java</strong></p>\n<pre><code>package com.org.unit.automation.utils;\n\nimport java.text.SimpleDateFormat;  \nimport java.util.Date;  \npublic class Datetime {  \n    public static String getNowDate() {\n        Date nowDate = new Date();\n        SimpleDateFormat nowDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss'Z'&quot;);\n        return nowDateFormat.format(nowDate);\n    }\n}\n</code></pre>\n<p><strong>sdf.feature</strong></p>\n<pre><code>Feature: Print current ISO datetime\n  Background:\n    * def Datetime = Java.type('com.org.unit.automation.utils.Datetime')\n    * def date = new Datetime()\n    * def effectiveDate = date.getNowDate()\n    * print effectiveDate\n</code></pre>\n<p><strong>Result</strong></p>\n<p>[ERROR]   KarateRunner.test:11 js failed:\n01: date.getNowDate()\norg.graalvm.polyglot.PolyglotException: TypeError: invokeMember (getNowDate) on com.resmed.patientcore.automation.utils.Datetime failed due to: Unknown identifier: getNowDate</p>\n"},{"tags":["java","jar","jvm"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687791424,"post_id":76557739,"comment_id":134982466,"body_markdown":"If at all possible, don&#39;t. Just upgrade your existing code to work with the new version. It&#39;s only a few minor versions, so how hard could it be?","body":"If at all possible, don&#39;t. Just upgrade your existing code to work with the new version. It&#39;s only a few minor versions, so how hard could it be?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1687794210,"post_id":76557739,"comment_id":134983079,"body_markdown":"@Jorn normally you&#39;re right - just use the new version everywhere. However, I&#39;ve had issues with BC before where something that _looked like_ a minor version had breaking changes.","body":"@Jorn normally you&#39;re right - just use the new version everywhere. However, I&#39;ve had issues with BC before where something that <i>looked like</i> a minor version had breaking changes."},{"owner":{"account_id":23477086,"reputation":5,"user_id":17529749,"display_name":"yang37"},"score":0,"creation_date":1687827526,"post_id":76557739,"comment_id":134987923,"body_markdown":"@Jorn@Rob Spoor\nThank you for your comments.\nIf it were me, I would try to make the dependencies in the project not conflict. Actually, this is not my project, and there are other reasons why I can&#39;t do it now. I mainly want to know if there are any good solutions under the current background.","body":"@Jorn@Rob Spoor Thank you for your comments. If it were me, I would try to make the dependencies in the project not conflict. Actually, this is not my project, and there are other reasons why I can&#39;t do it now. I mainly want to know if there are any good solutions under the current background."}],"owner":{"account_id":23477086,"reputation":5,"user_id":17529749,"display_name":"yang37"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687790531,"creation_date":1687790531,"question_id":76557739,"body_markdown":"## 1. Background\r\n\r\n`bcprov-jdk15on-1.54.jar`has been introduced into the project and is used in many places.\r\n\r\nNow the partner has sent a new set of access information, which contains the following jar packages.\r\n\r\n```bash\r\nbcprov-jdk15on-1.69.jar\r\nfintech-java-sdk-core-3.1.0.jar\r\nfintech-java-sdk-kdft-3.1.0.jar\r\n```\r\n\r\n## 2. Questions\r\n\r\nThere are two versions of bcprov-jdk15on in the project, the old one is&#39; 1.54 &#39;and the new one is&#39; 1.69&#39;.\r\n\r\nSomething like this:\r\n\r\n[demo](https://i.stack.imgur.com/uMJ1J.png)\r\n\r\nSince the &#39;1.54&#39; version is used in many places, it is not possible to upgrade directly to &#39;1.69&#39;.\r\n\r\nNow I want to achieve the following two points:\r\n\\`\r\n\r\n- For the new version, `bcprov-jdk15on-1.69.jar` must be used for `fintech-java-sdk-core-3.1.0.jar` and `fintech-java-sdk-kdft-3.1.0.jar`\r\n- For previous versions, leave `bcprov-jdk15on-1.54.jar` unchanged and use this version.\r\n\r\nThat is, the upgrade does not affect the historical function.\r\n\r\n## 3 My analysis\r\n\r\nIf you do not consider the conflict case, the new jar is used normally, the example code is as follows:\r\n\r\n```java\r\nDefaultKdClient defaultKdClient = KdSdkConfig.getDefaultClient();\r\n\r\nDemoApiInfo demoApiInfo = new DemoApiInfo();\r\nMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\nDefaultKdRequest&lt;Object&gt; kdRequest = new DefaultKdRequest&lt;&gt;(demoApiInfo,\r\nparams);\r\n```\r\n\r\nI have thought about using class loaders, may be understanding is not yet in place, I think it is more troublesome to introduce every class like &#39;DefaultKdClient&#39;\r\n\r\n```java\r\n// custom class loader: CustomClassLoader\r\nCustomClassLoader classLoader = new CustomClassLoader();\r\nClass&lt;? &gt; defaultKdClient = classLoader.loadClass(&quot;xx.DefaultKdClient&quot;);\r\n```\r\n\r\nAnd I&#39;m not sure that this will ensure that the `bcprov-jdk15on` dependencies in `fintech-java-sdk-core-3.1.0.jar` and `fintech-java-sdk-kdft-3.1.0.jar` will be version `1.69`.\r\n\r\nIn addition, I also thought about creating a new project, keeping different JVMS, so that bcprov-jdk15on no longer conflicts, but new projects require new maintenance costs, and this approach does not feel good.\r\n\r\n## 4. Questions\r\n\r\nThe above scene, what is the better solution, thank you\\~","title":"How to use both versions of jar in a Java project?","body":"<h2>1. Background</h2>\n<p><code>bcprov-jdk15on-1.54.jar</code>has been introduced into the project and is used in many places.</p>\n<p>Now the partner has sent a new set of access information, which contains the following jar packages.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bcprov-jdk15on-1.69.jar\nfintech-java-sdk-core-3.1.0.jar\nfintech-java-sdk-kdft-3.1.0.jar\n</code></pre>\n<h2>2. Questions</h2>\n<p>There are two versions of bcprov-jdk15on in the project, the old one is' 1.54 'and the new one is' 1.69'.</p>\n<p>Something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/uMJ1J.png\" rel=\"nofollow noreferrer\">demo</a></p>\n<p>Since the '1.54' version is used in many places, it is not possible to upgrade directly to '1.69'.</p>\n<p>Now I want to achieve the following two points:\n`</p>\n<ul>\n<li>For the new version, <code>bcprov-jdk15on-1.69.jar</code> must be used for <code>fintech-java-sdk-core-3.1.0.jar</code> and <code>fintech-java-sdk-kdft-3.1.0.jar</code></li>\n<li>For previous versions, leave <code>bcprov-jdk15on-1.54.jar</code> unchanged and use this version.</li>\n</ul>\n<p>That is, the upgrade does not affect the historical function.</p>\n<h2>3 My analysis</h2>\n<p>If you do not consider the conflict case, the new jar is used normally, the example code is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultKdClient defaultKdClient = KdSdkConfig.getDefaultClient();\n\nDemoApiInfo demoApiInfo = new DemoApiInfo();\nMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\nDefaultKdRequest&lt;Object&gt; kdRequest = new DefaultKdRequest&lt;&gt;(demoApiInfo,\nparams);\n</code></pre>\n<p>I have thought about using class loaders, may be understanding is not yet in place, I think it is more troublesome to introduce every class like 'DefaultKdClient'</p>\n<pre class=\"lang-java prettyprint-override\"><code>// custom class loader: CustomClassLoader\nCustomClassLoader classLoader = new CustomClassLoader();\nClass&lt;? &gt; defaultKdClient = classLoader.loadClass(&quot;xx.DefaultKdClient&quot;);\n</code></pre>\n<p>And I'm not sure that this will ensure that the <code>bcprov-jdk15on</code> dependencies in <code>fintech-java-sdk-core-3.1.0.jar</code> and <code>fintech-java-sdk-kdft-3.1.0.jar</code> will be version <code>1.69</code>.</p>\n<p>In addition, I also thought about creating a new project, keeping different JVMS, so that bcprov-jdk15on no longer conflicts, but new projects require new maintenance costs, and this approach does not feel good.</p>\n<h2>4. Questions</h2>\n<p>The above scene, what is the better solution, thank you~</p>\n"},{"tags":["javascript","java","graalvm","graaljs"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1687706020,"post_id":69263736,"comment_id":134970836,"body_markdown":"Given that the &quot;real&quot; JS import statement [needs a path](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import), that error is entirely expected. `import v4 from &#39;uuid&#39;;` looks like Node.js code, and you&#39;re not calling an exec for Node to handle this script. Either rewrite the JAva code to invoke Node.js, or rewrite the JS to use a proper `import` statement.","body":"Given that the &quot;real&quot; JS import statement <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\" rel=\"nofollow noreferrer\">needs a path</a>, that error is entirely expected. <code>import v4 from &#39;uuid&#39;;</code> looks like Node.js code, and you&#39;re not calling an exec for Node to handle this script. Either rewrite the JAva code to invoke Node.js, or rewrite the JS to use a proper <code>import</code> statement."}],"answers":[{"tags":[],"owner":{"account_id":1883557,"reputation":316,"user_id":1791306,"display_name":"Plamen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687790490,"creation_date":1687685139,"answer_id":76549735,"question_id":69263736,"body_markdown":"In case somebody is still interested, the code below is tested with Eclipse running on Windows 10. (Note double escaped backslashes)\r\nOf course, you should have both [GraalVM][1] and [GraalJS][2] installed.\r\n\r\n    import java.io.IOException;\r\n    import org.graalvm.polyglot.*;\r\n    \r\n    public class testGraalJS {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t System.out.println(&quot;Hello Java!&quot;);\r\n    \t\t \r\n    \t\t String src = &quot;import {Foo} from &#39;C:\\\\\\\\Other\\\\\\\\foo.mjs&#39;;&quot; +\r\n                     &quot;const foo = new Foo();&quot; +\r\n                     &quot;console.log(&#39;Hello JavaScript!&#39;);&quot; +\r\n                     &quot;console.log(&#39;Square of 42 is: &#39; + foo.square(42));&quot;;\r\n    \t\t \r\n    \t\t Engine engine = Engine.newBuilder()\r\n    \t             .option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)\r\n    \t             .build();\r\n    \t\t \r\n    \t\t Context ctx = Context.newBuilder(&quot;js&quot;)\r\n    \t\t\t\t .engine(engine)\r\n    \t\t\t\t //.allowHostAccess(HostAccess.ALL) /*not needed for this example */\r\n    \t\t\t\t .allowHostClassLookup(className -&gt; true)\r\n    \t\t\t\t .allowIO(true)\r\n    \t\t\t\t .build();\r\n    \t\t \r\n    \t\t try {\r\n    \t\t\tSource source =  Source.newBuilder(&quot;js&quot;, src, &quot;script.mjs&quot;).build();\r\n    \t\t\tctx.eval(source);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n             \r\n    \t}\r\n    \r\n    }\r\n\r\nWhere `foo.mjs` is located in folder `C:/Other` with the following content:\r\n\r\n    export class Foo {\r\n    \r\n        square(x) {\r\n            return x * x;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Hello Java!\r\n    Hello JavaScript!\r\n    Square of 42 is: 1764\r\n\r\nClasspath in Eclipse:\r\n\r\n[![Eclipse classpath][3]][3]\r\n\r\nWhere graal-sdk-xx.x.x.jar is downloaded separately from [maven][4] repo.\r\n\r\n[Docs][5].\r\n\r\n**Part 2.** In case you want to source Javascript from a file:\r\n\r\n    import java.io.*;\r\n    import java.io.IOException;\r\n    import org.graalvm.polyglot.*;\r\n    \r\n    public class testGraalJSfile {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Hello Java!&quot;);\r\n    \r\n    \t\t// Therefore, any ECMAScript module should have file name extension .mjs \r\n    \t\t// Option 1: \r\n    \t\t// Use source file with extension .mjs like \r\n    \t\t// File file = new File(&quot;C:\\\\Other&quot;, &quot;source.mjs&quot;);\r\n    \t\t//\r\n    \t\t// In case file is with extension .js see Option 2 below\r\n    \t\t\r\n    \t\tFile file = new File(&quot;C:\\\\Other&quot;, &quot;source.js&quot;);\r\n    \r\n    \t\tString language;\r\n    \t\tSource source = null;\r\n    \t\t\r\n    \t\t// Alternatively, the module Source should have Mime type &quot;application/javascript+module&quot; \r\n    \t\t// Option 2: \r\n    \t\t// add following line: Source.mimeType(&quot;application/javascript+module&quot;)\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tlanguage = Source.findLanguage(file);\r\n    \t\t\tsource = Source.newBuilder(language, file)\r\n    \t\t\t\t\t.mimeType(&quot;application/javascript+module&quot;)\r\n    \t\t\t\t\t.build();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\tEngine eng = Engine.newBuilder()\r\n    \t             .option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)\r\n    \t             .build();\r\n    \t\t \r\n    \t\tContext ctx = Context.newBuilder(&quot;js&quot;)\r\n    \t\t\t\t .engine(eng)\r\n    \t\t\t\t .allowHostAccess(HostAccess.ALL)\r\n    \t\t\t\t .allowHostClassLookup(className -&gt; true)\r\n    \t\t\t\t .allowIO(true)\r\n    \t\t\t\t .build();\r\n    \t\t \r\n    \t\t ctx.eval(source);\r\n    \t\t ctx.close();\r\n             \r\n    \t}\r\n    \r\n    }\r\n\r\nSee [here][6].\r\n\r\n\r\n  [1]: https://www.graalvm.org/\r\n  [2]: https://www.graalvm.org/latest/reference-manual/js/\r\n  [3]: https://i.stack.imgur.com/R5xyH.png\r\n  [4]: https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk\r\n  [5]: https://github.com/oracle/graaljs/blob/8044a00ed7d2015beecd8bdef07669650b8ec818/docs/user/Modules.md?plain=1#L135\r\n  [6]: https://www.graalvm.org/22.0/reference-manual/js/Modules/#ecmascript-modules-esm","title":"Use import in javascript being called from Java program through graalvm","body":"<p>In case somebody is still interested, the code below is tested with Eclipse running on Windows 10. (Note double escaped backslashes)\nOf course, you should have both <a href=\"https://www.graalvm.org/\" rel=\"nofollow noreferrer\">GraalVM</a> and <a href=\"https://www.graalvm.org/latest/reference-manual/js/\" rel=\"nofollow noreferrer\">GraalJS</a> installed.</p>\n<pre><code>import java.io.IOException;\nimport org.graalvm.polyglot.*;\n\npublic class testGraalJS {\n\n    public static void main(String[] args) {\n         System.out.println(&quot;Hello Java!&quot;);\n         \n         String src = &quot;import {Foo} from 'C:\\\\\\\\Other\\\\\\\\foo.mjs';&quot; +\n                 &quot;const foo = new Foo();&quot; +\n                 &quot;console.log('Hello JavaScript!');&quot; +\n                 &quot;console.log('Square of 42 is: ' + foo.square(42));&quot;;\n         \n         Engine engine = Engine.newBuilder()\n                 .option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)\n                 .build();\n         \n         Context ctx = Context.newBuilder(&quot;js&quot;)\n                 .engine(engine)\n                 //.allowHostAccess(HostAccess.ALL) /*not needed for this example */\n                 .allowHostClassLookup(className -&gt; true)\n                 .allowIO(true)\n                 .build();\n         \n         try {\n            Source source =  Source.newBuilder(&quot;js&quot;, src, &quot;script.mjs&quot;).build();\n            ctx.eval(source);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n         \n    }\n\n}\n</code></pre>\n<p>Where <code>foo.mjs</code> is located in folder <code>C:/Other</code> with the following content:</p>\n<pre><code>export class Foo {\n\n    square(x) {\n        return x * x;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Hello Java!\nHello JavaScript!\nSquare of 42 is: 1764\n</code></pre>\n<p>Classpath in Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/R5xyH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R5xyH.png\" alt=\"Eclipse classpath\" /></a></p>\n<p>Where graal-sdk-xx.x.x.jar is downloaded separately from <a href=\"https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk\" rel=\"nofollow noreferrer\">maven</a> repo.</p>\n<p><a href=\"https://github.com/oracle/graaljs/blob/8044a00ed7d2015beecd8bdef07669650b8ec818/docs/user/Modules.md?plain=1#L135\" rel=\"nofollow noreferrer\">Docs</a>.</p>\n<p><strong>Part 2.</strong> In case you want to source Javascript from a file:</p>\n<pre><code>import java.io.*;\nimport java.io.IOException;\nimport org.graalvm.polyglot.*;\n\npublic class testGraalJSfile {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello Java!&quot;);\n\n        // Therefore, any ECMAScript module should have file name extension .mjs \n        // Option 1: \n        // Use source file with extension .mjs like \n        // File file = new File(&quot;C:\\\\Other&quot;, &quot;source.mjs&quot;);\n        //\n        // In case file is with extension .js see Option 2 below\n        \n        File file = new File(&quot;C:\\\\Other&quot;, &quot;source.js&quot;);\n\n        String language;\n        Source source = null;\n        \n        // Alternatively, the module Source should have Mime type &quot;application/javascript+module&quot; \n        // Option 2: \n        // add following line: Source.mimeType(&quot;application/javascript+module&quot;)\n        \n        try {\n            language = Source.findLanguage(file);\n            source = Source.newBuilder(language, file)\n                    .mimeType(&quot;application/javascript+module&quot;)\n                    .build();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        Engine eng = Engine.newBuilder()\n                 .option(&quot;engine.WarnInterpreterOnly&quot;, &quot;false&quot;)\n                 .build();\n         \n        Context ctx = Context.newBuilder(&quot;js&quot;)\n                 .engine(eng)\n                 .allowHostAccess(HostAccess.ALL)\n                 .allowHostClassLookup(className -&gt; true)\n                 .allowIO(true)\n                 .build();\n         \n         ctx.eval(source);\n         ctx.close();\n         \n    }\n\n}\n</code></pre>\n<p>See <a href=\"https://www.graalvm.org/22.0/reference-manual/js/Modules/#ecmascript-modules-esm\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5397605,"reputation":587,"user_id":4298311,"accept_rate":25,"display_name":"Swapnil Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687790490,"creation_date":1632201768,"question_id":69263736,"body_markdown":"I am trying out Graalvm for a use case and I was wondering if I can use import statements in the **javascript being called from java**. I have tried both:\r\n\r\n```\r\ncontext.eval(&quot;js&quot;, &quot;import v4 from &#39;uuid&#39;;var o = v4();&quot;);\r\n```\r\nwhich gives the error \r\n`Expected an operand but found import\r\nimport v4 from &#39;uuid&#39;;var o = v4();`\r\n\r\n\r\nand \r\n\r\ncreating a separate script containing \r\n```\r\nimport v4 from &#39;uuid&#39;;\r\nvar uu = v4();\r\n```\r\n\r\nthen running the script via\r\n```\r\nInputStream inputStream = Controller.class.getResourceAsStream(&quot;/script.js&quot;);\r\nString script = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\r\ncontext.eval(&quot;js&quot;, script);\r\n```\r\n\r\nwhich returns the same error: `Expected an operand but found import\r\nimport v4 from &#39;uuid&#39;;`\r\n\r\nI went through the docs and it seems like it is possible. Can someone please guide me towards the correct approach?\r\n","title":"Use import in javascript being called from Java program through graalvm","body":"<p>I am trying out Graalvm for a use case and I was wondering if I can use import statements in the <strong>javascript being called from java</strong>. I have tried both:</p>\n<pre><code>context.eval(&quot;js&quot;, &quot;import v4 from 'uuid';var o = v4();&quot;);\n</code></pre>\n<p>which gives the error\n<code>Expected an operand but found import import v4 from 'uuid';var o = v4();</code></p>\n<p>and</p>\n<p>creating a separate script containing</p>\n<pre><code>import v4 from 'uuid';\nvar uu = v4();\n</code></pre>\n<p>then running the script via</p>\n<pre><code>InputStream inputStream = Controller.class.getResourceAsStream(&quot;/script.js&quot;);\nString script = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\ncontext.eval(&quot;js&quot;, script);\n</code></pre>\n<p>which returns the same error: <code>Expected an operand but found import import v4 from 'uuid';</code></p>\n<p>I went through the docs and it seems like it is possible. Can someone please guide me towards the correct approach?</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681568327,"creation_date":1681483204,"answer_id":76016286,"question_id":76015958,"body_markdown":"Please, read this doc: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#splitter.\r\n\r\nSo, whatever you say about your `List&lt;MiniJob&gt;` is really a splitter feature. And since there is one-to-one relationship between `Message` and its `payload`, you don&#39;t need any extra headers like you mention that `job-info-uuid`. The splitter will populate `CORRELATION_ID`, `SEQUENCE_SIZE`, and `SEQUENCE_NUMBER` headers into splitted item when you return your `List&lt;MiniJob&gt;` from `split(Function)`. \r\n\r\nThen when you move on into an `Aggregator` section you&#39;ll see a mirroring functionality where, by default` the aggregator really consults with those mentioned headers from splitter and collects groups respectively. \r\n\r\nWhat you will need in the end is just a custom:\r\n\r\n    .aggregate(a -&gt; a\r\n\t\t\t\t.outputProcessor((group) -&gt; group\r\n\r\nTo be build a new `JobInfo` from a released group.\r\n\r\nSee a `groupTimeout()` option for those groups which cannot be gathered in time. \r\n\r\nThere is also a `MessageGroupStoreReaper` to be scheduled externally since you talk about 24 hours: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper\r\n\r\nSo, in the end what you need is just something like this:\r\n\r\n\t\t\t\t\t.split(JobInfo.class, JobInfo::getMiniJobs)\r\n\t\t\t\t\t.channel(c -&gt; c.executor(...))\r\n\t\t\t\t\t.handle(...)\r\n\t\t\t\t\t.aggregate(a -&gt; a\r\n\t\t\t\t\t\t\t.outputProcessor((group) -&gt; {\r\n\t\t\t\t\t\t\t\tList&lt;MiniJob&gt; miniJobs =\r\n\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t.getMessages()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.map(m -&gt; (MiniJob) m.getPayload())\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toList();\r\n\t\t\t\t\t\t\t\t...\r\n\t\t\t\t\t\t\t\treturn new JobInfo();\r\n\t\t\t\t\t\t\t}))\r\n","title":"Spring Integration Java DSL Aggregator by Example","body":"<p>Please, read this doc: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#splitter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#splitter</a>.</p>\n<p>So, whatever you say about your <code>List&lt;MiniJob&gt;</code> is really a splitter feature. And since there is one-to-one relationship between <code>Message</code> and its <code>payload</code>, you don't need any extra headers like you mention that <code>job-info-uuid</code>. The splitter will populate <code>CORRELATION_ID</code>, <code>SEQUENCE_SIZE</code>, and <code>SEQUENCE_NUMBER</code> headers into splitted item when you return your <code>List&lt;MiniJob&gt;</code> from <code>split(Function)</code>.</p>\n<p>Then when you move on into an <code>Aggregator</code> section you'll see a mirroring functionality where, by default` the aggregator really consults with those mentioned headers from splitter and collects groups respectively.</p>\n<p>What you will need in the end is just a custom:</p>\n<pre><code>.aggregate(a -&gt; a\n            .outputProcessor((group) -&gt; group\n</code></pre>\n<p>To be build a new <code>JobInfo</code> from a released group.</p>\n<p>See a <code>groupTimeout()</code> option for those groups which cannot be gathered in time.</p>\n<p>There is also a <code>MessageGroupStoreReaper</code> to be scheduled externally since you talk about 24 hours: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper</a></p>\n<p>So, in the end what you need is just something like this:</p>\n<pre><code>                .split(JobInfo.class, JobInfo::getMiniJobs)\n                .channel(c -&gt; c.executor(...))\n                .handle(...)\n                .aggregate(a -&gt; a\n                        .outputProcessor((group) -&gt; {\n                            List&lt;MiniJob&gt; miniJobs =\n                                    group\n                                            .getMessages()\n                                            .stream()\n                                            .map(m -&gt; (MiniJob) m.getPayload())\n                                            .toList();\n                            ...\n                            return new JobInfo();\n                        }))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11424132,"reputation":1,"user_id":8374739,"display_name":"Simon Syn Franchina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687790352,"creation_date":1687790352,"answer_id":76557715,"question_id":76015958,"body_markdown":"groupTimeout works for me injecting a taskScheduler. I declared a bean in  a configuration class:\r\n\r\n    @Bean\r\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\r\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new TaskSchedulerBuilder().build();\r\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;threadPoolTaskScheduler &quot;);\r\n        return threadPoolTaskScheduler;\r\n    }\r\n\r\nthen i get it in Flow class with @Autowired annotation and inject it into .taskScheduler() aggregationSpec option\r\n\r\n    @Autowired\r\n    ThreadPoolTaskScheduler threadPoolTaskScheduler;\r\n    ...\r\n    return IntegrationFlows.from(MY_CHANNEL)\r\n            .aggregate(aggregatorSpec -&gt; aggregatorSpec\r\n                    .groupTimeout(10000L)\r\n                    .taskScheduler(this.dequeuerTaskScheduler)\r\n    ...\r\nHope this can help you","title":"Spring Integration Java DSL Aggregator by Example","body":"<p>groupTimeout works for me injecting a taskScheduler. I declared a bean in  a configuration class:</p>\n<pre><code>@Bean\npublic ThreadPoolTaskScheduler threadPoolTaskScheduler() {\n    ThreadPoolTaskScheduler threadPoolTaskScheduler = new TaskSchedulerBuilder().build();\n    threadPoolTaskScheduler.setThreadNamePrefix(&quot;threadPoolTaskScheduler &quot;);\n    return threadPoolTaskScheduler;\n}\n</code></pre>\n<p>then i get it in Flow class with @Autowired annotation and inject it into .taskScheduler() aggregationSpec option</p>\n<pre><code>@Autowired\nThreadPoolTaskScheduler threadPoolTaskScheduler;\n...\nreturn IntegrationFlows.from(MY_CHANNEL)\n        .aggregate(aggregatorSpec -&gt; aggregatorSpec\n                .groupTimeout(10000L)\n                .taskScheduler(this.dequeuerTaskScheduler)\n...\n</code></pre>\n<p>Hope this can help you</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76016286,"answer_count":2,"score":0,"last_activity_date":1687790352,"creation_date":1681481147,"question_id":76015958,"body_markdown":"Spring Integration 5.x and Java (not XML) DSL here. I have the following object that will be on the message payload:\r\n```\r\n@Data // lombok is used for convenience\r\npublic class JobInfo {\r\n\r\n    private String trackingId;\r\n    private JobMeta metadata;\r\n    private List&lt;MiniJob&gt; miniJobs;\r\n    // lots of other fields as well (outside of scope)\r\n\r\n}\r\n\r\n@Data\r\npublic class MiniJob {\r\n\r\n    private MiniJobStatus status;\r\n    // lots of other fields as well (outside of scope)\r\n\r\n}\r\n\r\n@Data\r\npublic class MiniJobStatus {\r\n\r\n    private String label; // ex: RECEIVED, IN_PROGRESS, COMPLETED, FAILED, etc.\r\n    // lots of other fields as well (outside of scope)\r\n\r\n}\r\n```\r\n\r\nIn my integration flow, these `MiniJobs` are created and sent out over various channels/pathways. I need to implement an `Aggregator` that will wait until all of the `MiniJobs` for a given `JobInfo` are received. Once they are all received I need the aggregator to create a new `JobInfo` out of them and send that `JobInfo` along.\r\n\r\n**Every `JobInfo` consists of exactly 4 `MiniJobs`.** So I&#39;m thinking that when I create each `MiniJob` earlier in the flow, I could add a `job-info-uuid` header on their respective `Messages`. That way, when the `Aggregator` receives 4 `Messages` that all have matching `job-info-uuid` header values, it uses those 4 messages to create the `JobInfo` from.\r\n\r\nSomewhat out of scope for this, but if someone could provide it in their solution I&#39;d be eternally grateful, would be to introduce the concept of a `MiniJob` _expiry_. Meaning if the `Aggregator` doesn&#39;t receive all 4 `job-info-uuids` within, say, 24 hours, it will delete/purge them from whatever it uses to store messages that are awaiting aggregation.\r\n\r\nI&#39;ve been pouring over the Aggregator docs and looked at countless examples, but I&#39;m just not seeing the forrest through the trees here. Do I create a `Consumer&lt;AggregatorSpec&gt;` implementation and define all this aggregation logic inside its `accept(...)` method, and then subsequently, add it to my flow like so:\r\n```\r\n.aggregate(myAggregatorSpecConsumer)\r\n```\r\n\r\nOr is that the wrong approach? If anyone could use my example above and help me craft that into a working example, even using pseudo-code, I&#39;d appreciate it so much! Thanks in advance!","title":"Spring Integration Java DSL Aggregator by Example","body":"<p>Spring Integration 5.x and Java (not XML) DSL here. I have the following object that will be on the message payload:</p>\n<pre><code>@Data // lombok is used for convenience\npublic class JobInfo {\n\n    private String trackingId;\n    private JobMeta metadata;\n    private List&lt;MiniJob&gt; miniJobs;\n    // lots of other fields as well (outside of scope)\n\n}\n\n@Data\npublic class MiniJob {\n\n    private MiniJobStatus status;\n    // lots of other fields as well (outside of scope)\n\n}\n\n@Data\npublic class MiniJobStatus {\n\n    private String label; // ex: RECEIVED, IN_PROGRESS, COMPLETED, FAILED, etc.\n    // lots of other fields as well (outside of scope)\n\n}\n</code></pre>\n<p>In my integration flow, these <code>MiniJobs</code> are created and sent out over various channels/pathways. I need to implement an <code>Aggregator</code> that will wait until all of the <code>MiniJobs</code> for a given <code>JobInfo</code> are received. Once they are all received I need the aggregator to create a new <code>JobInfo</code> out of them and send that <code>JobInfo</code> along.</p>\n<p><strong>Every <code>JobInfo</code> consists of exactly 4 <code>MiniJobs</code>.</strong> So I'm thinking that when I create each <code>MiniJob</code> earlier in the flow, I could add a <code>job-info-uuid</code> header on their respective <code>Messages</code>. That way, when the <code>Aggregator</code> receives 4 <code>Messages</code> that all have matching <code>job-info-uuid</code> header values, it uses those 4 messages to create the <code>JobInfo</code> from.</p>\n<p>Somewhat out of scope for this, but if someone could provide it in their solution I'd be eternally grateful, would be to introduce the concept of a <code>MiniJob</code> <em>expiry</em>. Meaning if the <code>Aggregator</code> doesn't receive all 4 <code>job-info-uuids</code> within, say, 24 hours, it will delete/purge them from whatever it uses to store messages that are awaiting aggregation.</p>\n<p>I've been pouring over the Aggregator docs and looked at countless examples, but I'm just not seeing the forrest through the trees here. Do I create a <code>Consumer&lt;AggregatorSpec&gt;</code> implementation and define all this aggregation logic inside its <code>accept(...)</code> method, and then subsequently, add it to my flow like so:</p>\n<pre><code>.aggregate(myAggregatorSpecConsumer)\n</code></pre>\n<p>Or is that the wrong approach? If anyone could use my example above and help me craft that into a working example, even using pseudo-code, I'd appreciate it so much! Thanks in advance!</p>\n"},{"tags":["java","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687788159,"post_id":76557385,"comment_id":134981644,"body_markdown":"I appreciate the attempt at an MCVE, but you seem to have left out the code that actually generates the error. Does your original `ThirdService` have a `getId()` method which is called in `FirstService`&#39;s constructor?","body":"I appreciate the attempt at an MCVE, but you seem to have left out the code that actually generates the error. Does your original <code>ThirdService</code> have a <code>getId()</code> method which is called in <code>FirstService</code>&#39;s constructor?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687788357,"post_id":76557385,"comment_id":134981692,"body_markdown":"Are you mocking the services? Returning null from method calls of mocks is perfectly normal, when you have not mocked that particular method - `ThirdService.getId()` in your case.","body":"Are you mocking the services? Returning null from method calls of mocks is perfectly normal, when you have not mocked that particular method - <code>ThirdService.getId()</code> in your case."},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1687789153,"post_id":76557385,"comment_id":134981880,"body_markdown":"@Jorn you&#39;re right, I&#39;ve added more details. Indeed, in FirstService&#39;s constructor I use some of the methods of SecondService: those in turn use some of the methods of ThirdService.","body":"@Jorn you&#39;re right, I&#39;ve added more details. Indeed, in FirstService&#39;s constructor I use some of the methods of SecondService: those in turn use some of the methods of ThirdService."},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1687789170,"post_id":76557385,"comment_id":134981886,"body_markdown":"@Chaosfire All tests are failing, even those that have nothing to do with the services involved.","body":"@Chaosfire All tests are failing, even those that have nothing to do with the services involved."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687789346,"post_id":76557385,"comment_id":134981932,"body_markdown":"I&#39;m not convinced that this code shows the full problem. The error mentions a `toString()` invocation *directly* on a `thirdService.getId()` call. You need to figure out where this happens. Perhaps the stack trace of the exception can help?","body":"I&#39;m not convinced that this code shows the full problem. The error mentions a <code>toString()</code> invocation <i>directly</i> on a <code>thirdService.getId()</code> call. You need to figure out where this happens. Perhaps the stack trace of the exception can help?"},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1687789791,"post_id":76557385,"comment_id":134982031,"body_markdown":"Sorry. I&#39;ve updated the code. Check again please, that should be it: the error occurs in SecondService when it is making use of the method of ThirdService.","body":"Sorry. I&#39;ve updated the code. Check again please, that should be it: the error occurs in SecondService when it is making use of the method of ThirdService."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687789893,"post_id":76557385,"comment_id":134982052,"body_markdown":"@Akinn That&#39;s to be expected, creating the application context fails for every test, because instantiating `FirstService` fails every time. You need to figure out why `thirdService.getId()` returns null. That&#39;s why i asked, if you are mocking the services for your tests.","body":"@Akinn That&#39;s to be expected, creating the application context fails for every test, because instantiating <code>FirstService</code> fails every time. You need to figure out why <code>thirdService.getId()</code> returns null. That&#39;s why i asked, if you are mocking the services for your tests."},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1687790381,"post_id":76557385,"comment_id":134982188,"body_markdown":"I see ThirdService is always mocked in pre-existing tests and all of them working perfectly until I&#39;ve added FirstService. Before that, ThirdService and SecondService existed and worked fine together with their test. I do not understand what this FirstService class introduced that breaks all tests though: I didn&#39;t even wrote the test class for FirstService yet... I rerun everything without FirstService and indeed it work.","body":"I see ThirdService is always mocked in pre-existing tests and all of them working perfectly until I&#39;ve added FirstService. Before that, ThirdService and SecondService existed and worked fine together with their test. I do not understand what this FirstService class introduced that breaks all tests though: I didn&#39;t even wrote the test class for FirstService yet... I rerun everything without FirstService and indeed it work."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687791339,"post_id":76557385,"comment_id":134982437,"body_markdown":"@Akinn Before adding `FirstService`, `SecondService.getId()` was never invoked, thus `ThirdService.getId()` was never invoked and tests were fine. After adding `FirstService`, `ThirdService.getId()` eventually is invoked and this leads to NPE. Since you say the service is mocked, you need to mock the behaviour of `ThirdService.getId()`, since returning `null` is the default behaviour for method invocations of mocks.","body":"@Akinn Before adding <code>FirstService</code>, <code>SecondService.getId()</code> was never invoked, thus <code>ThirdService.getId()</code> was never invoked and tests were fine. After adding <code>FirstService</code>, <code>ThirdService.getId()</code> eventually is invoked and this leads to NPE. Since you say the service is mocked, you need to mock the behaviour of <code>ThirdService.getId()</code>, since returning <code>null</code> is the default behaviour for method invocations of mocks."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687790274,"creation_date":1687790274,"answer_id":76557705,"question_id":76557385,"body_markdown":"At the time of `SecondService` construction, the `ThirdService` bean is not been fully initialized yet, and it&#39;s generally not a good idea to perform logic in constructors of beans that depends on other beans. \r\n\r\nYou may want to use a `@PostConstruct` method to perform initialization after all dependencies have been injected and are ready to use:\r\n```java\r\n@Service\r\npublic class FirstService {\r\n\r\n    private final SecondService secondService;\r\n    private Client client;\r\n\r\n    public FirstService(SecondService secondService) {\r\n        this.secondService = secondService;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        this.client = Client.builder().setId(secondService.getId()).build();\r\n    }\r\n}\r\n```","title":"BeanInstantiationException when injecting @Service into other @Service","body":"<p>At the time of <code>SecondService</code> construction, the <code>ThirdService</code> bean is not been fully initialized yet, and it's generally not a good idea to perform logic in constructors of beans that depends on other beans.</p>\n<p>You may want to use a <code>@PostConstruct</code> method to perform initialization after all dependencies have been injected and are ready to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class FirstService {\n\n    private final SecondService secondService;\n    private Client client;\n\n    public FirstService(SecondService secondService) {\n        this.secondService = secondService;\n    }\n\n    @PostConstruct\n    public void init() {\n        this.client = Client.builder().setId(secondService.getId()).build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687790274,"creation_date":1687787932,"question_id":76557385,"body_markdown":"I have the following `@Service` class to my code:\r\n\r\n    @Service\r\n    public class FirstService {\r\n    \r\n        private final SecondService secondService;\r\n        private final Client client;\r\n    \r\n        public FirstService(SecondService secondService) {\r\n            this.secondService = secondService;\r\n            this.client = Client.builder().setId(secondService.getId()).build();\r\n        }\r\n    }\r\n    \r\n    \r\n       \r\n    \r\n     @Service\r\n     public class SecondService {\r\n          \r\n        private final ThirdService thirdService;\r\n        \r\n        public SecondService(ThirdService thirdService) {\r\n            this.thirdService = thirdService;\r\n        }\r\n        \r\n        public Id getId() {\r\n           return new Id(thirdService.getId().toString());\r\n        }\r\n    }\r\n\r\n`ThirdService` is a `@Component` itself.\r\n\r\n    @Component\r\n    @RequiredArgsContructor\r\n    public class ThirdService {\r\n    \r\n        public UUID getId() {\r\n           return UUID.randomUUID();\r\n        }\r\n    }\r\n        \r\n\r\nSince I&#39;ve added `FirstService`, all my tests start failing with the error:\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [xxx.xxx.xxx.FirstService]: Constructor threw exception\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.UUID.toString()&quot; because the return value of &quot;xxx.xxx.xxx.ThirdService.getId()&quot; is null\r\n\r\nBefore that, tests worked fine. I&#39;m guessing there is something wrong with how I&#39;ve created `FirstService` but can&#39;t see what: looks like some error when injecting `SecondService` Can someone please help?\r\n\r\nI&#39;m using Spring boot 3.\r\n","title":"BeanInstantiationException when injecting @Service into other @Service","body":"<p>I have the following <code>@Service</code> class to my code:</p>\n<pre><code>@Service\npublic class FirstService {\n\n    private final SecondService secondService;\n    private final Client client;\n\n    public FirstService(SecondService secondService) {\n        this.secondService = secondService;\n        this.client = Client.builder().setId(secondService.getId()).build();\n    }\n}\n\n\n   \n\n @Service\n public class SecondService {\n      \n    private final ThirdService thirdService;\n    \n    public SecondService(ThirdService thirdService) {\n        this.thirdService = thirdService;\n    }\n    \n    public Id getId() {\n       return new Id(thirdService.getId().toString());\n    }\n}\n</code></pre>\n<p><code>ThirdService</code> is a <code>@Component</code> itself.</p>\n<pre><code>@Component\n@RequiredArgsContructor\npublic class ThirdService {\n\n    public UUID getId() {\n       return UUID.randomUUID();\n    }\n}\n    \n</code></pre>\n<p>Since I've added <code>FirstService</code>, all my tests start failing with the error:</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [xxx.xxx.xxx.FirstService]: Constructor threw exception\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.UUID.toString()&quot; because the return value of &quot;xxx.xxx.xxx.ThirdService.getId()&quot; is null\n</code></pre>\n<p>Before that, tests worked fine. I'm guessing there is something wrong with how I've created <code>FirstService</code> but can't see what: looks like some error when injecting <code>SecondService</code> Can someone please help?</p>\n<p>I'm using Spring boot 3.</p>\n"},{"tags":["java","spring","spring-data-rest","cglib"],"answers":[{"tags":[],"owner":{"account_id":24364052,"reputation":26,"user_id":18298024,"display_name":"Goll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687789205,"creation_date":1687789205,"answer_id":76557572,"question_id":70073612,"body_markdown":"I had the same problem as you and I solved it by creating a function `findByIdOrThrowError(Integer id)` that get the `Customer` from the Controller, and check if there is no result to throw an error with `.orElseThrow()`.\r\n\r\nThen you call the function inside your `linkTo()`.","title":"How to use WebMvcLinkBuilder with repository&#39;s findById?","body":"<p>I had the same problem as you and I solved it by creating a function <code>findByIdOrThrowError(Integer id)</code> that get the <code>Customer</code> from the Controller, and check if there is no result to throw an error with <code>.orElseThrow()</code>.</p>\n<p>Then you call the function inside your <code>linkTo()</code>.</p>\n"}],"owner":{"account_id":556436,"reputation":2953,"user_id":300986,"accept_rate":89,"display_name":"bmauter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76557572,"answer_count":1,"score":1,"last_activity_date":1687789205,"creation_date":1637623819,"question_id":70073612,"body_markdown":"I&#39;m trying to use Spring Data Rest to implement a full set of services for about 60 entities.  Right now, I&#39;m getting by with just letting Spring use my repositories rather than implementing controllers, which is great!\r\n\r\nThe data I&#39;m having to model isn&#39;t ideal--I&#39;d prefer to have `customerId` come as part of the `order` object.\r\n\r\n```json\r\n{\r\n  &quot;tenantId&quot;: 42,\r\n  &quot;id&quot;: &quot;00000001&quot;,\r\n  &quot;customer&quot;: {\r\n    &quot;tenantId&quot;: 42,\r\n    &quot;id&quot;: &quot;CUST001&quot;,\r\n    &quot;name&quot;: &quot;Arthur Dent&quot;\r\n  }\r\n}\r\n```\r\n\r\nI have the ID for a related entity as a property on my JSON object.\r\n\r\n```java\r\npublic class Order {\r\n  Long tenantId;\r\n  String id;\r\n  String customerId;\r\n}\r\n```\r\n\r\nI don&#39;t really want to pull the full `Customer` entity and all of the other related entities and place them as members on my Order object.  Instead, I&#39;d just like to add some links to the `_links` collection.\r\n\r\nI believe I&#39;ve figured out `WebMvcLinkBuilder` finally and I have the basic idea in place.  However, `JpaRepository.findById` returns a `java.util.Optional`.\r\n\r\n```java\r\n@Bean\r\npublic RepresentationModelProcessor&lt;EntityModel&lt;Order&gt;&gt; orderProcessor() {\r\n  return new RepresentationModelProcessor&lt;EntityModel&lt;Order&gt;&gt;() {\r\n    @Override\r\n    public EntityModel&lt;Order&gt; process(final EntityModel&lt;Order&gt; model) {\r\n      final CustomerRepository controller = WebMvcLinkBuilder.methodOn(CustomerRepository);\r\n      final CustomerId id = new CustomerId(model.getContent().getTenantId(), model.getContent().getCustomerId());\r\n      model.add(WebMvcLinkBuilder.linkTo(controller.findById(id)).withRel(&quot;customer&quot;));\r\n      return model;\r\n    }\r\n  };\r\n}\r\n```\r\n\r\nThe error I get is:\r\n\r\n&gt; Could not generate CGLIB subclass of class java.util.Optional: Common causes of this problem include using a final class or a non-visible class; nested exception is java.lang.IllegalArgumentException: Cannot subclass final class java.util.Optional\r\n\r\nHow can I add a link to my resource?","title":"How to use WebMvcLinkBuilder with repository&#39;s findById?","body":"<p>I'm trying to use Spring Data Rest to implement a full set of services for about 60 entities.  Right now, I'm getting by with just letting Spring use my repositories rather than implementing controllers, which is great!</p>\n<p>The data I'm having to model isn't ideal--I'd prefer to have <code>customerId</code> come as part of the <code>order</code> object.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;tenantId&quot;: 42,\n  &quot;id&quot;: &quot;00000001&quot;,\n  &quot;customer&quot;: {\n    &quot;tenantId&quot;: 42,\n    &quot;id&quot;: &quot;CUST001&quot;,\n    &quot;name&quot;: &quot;Arthur Dent&quot;\n  }\n}\n</code></pre>\n<p>I have the ID for a related entity as a property on my JSON object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Order {\n  Long tenantId;\n  String id;\n  String customerId;\n}\n</code></pre>\n<p>I don't really want to pull the full <code>Customer</code> entity and all of the other related entities and place them as members on my Order object.  Instead, I'd just like to add some links to the <code>_links</code> collection.</p>\n<p>I believe I've figured out <code>WebMvcLinkBuilder</code> finally and I have the basic idea in place.  However, <code>JpaRepository.findById</code> returns a <code>java.util.Optional</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RepresentationModelProcessor&lt;EntityModel&lt;Order&gt;&gt; orderProcessor() {\n  return new RepresentationModelProcessor&lt;EntityModel&lt;Order&gt;&gt;() {\n    @Override\n    public EntityModel&lt;Order&gt; process(final EntityModel&lt;Order&gt; model) {\n      final CustomerRepository controller = WebMvcLinkBuilder.methodOn(CustomerRepository);\n      final CustomerId id = new CustomerId(model.getContent().getTenantId(), model.getContent().getCustomerId());\n      model.add(WebMvcLinkBuilder.linkTo(controller.findById(id)).withRel(&quot;customer&quot;));\n      return model;\n    }\n  };\n}\n</code></pre>\n<p>The error I get is:</p>\n<blockquote>\n<p>Could not generate CGLIB subclass of class java.util.Optional: Common causes of this problem include using a final class or a non-visible class; nested exception is java.lang.IllegalArgumentException: Cannot subclass final class java.util.Optional</p>\n</blockquote>\n<p>How can I add a link to my resource?</p>\n"},{"tags":["c#","java","image-processing"],"answers":[{"tags":[],"owner":{"account_id":682132,"reputation":1994,"user_id":527304,"accept_rate":89,"display_name":"TheBoss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1344456875,"creation_date":1344456875,"answer_id":11872436,"question_id":11872411,"body_markdown":"Look up Canny&#39;s edge detector algorithm. It&#39;s arguably the best edge detector out there thus far.","title":"Edge detection for palm reader","body":"<p>Look up Canny's edge detector algorithm. It's arguably the best edge detector out there thus far.</p>\n"}],"owner":{"account_id":1590410,"reputation":1573,"user_id":1473841,"accept_rate":65,"display_name":"tnchalise"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11872436,"answer_count":1,"score":1,"last_activity_date":1687788928,"creation_date":1344456748,"question_id":11872411,"body_markdown":"I am totally strange to how the lines (heart line, fate line) of palm are detected so that I can access then to analyse. I am going to build a program that analyses palms and predicts accordingly.  \r\nIt&#39;s totally edge detection but how can I find the separate lines? Any suggestions?","title":"Edge detection for palm reader","body":"<p>I am totally strange to how the lines (heart line, fate line) of palm are detected so that I can access then to analyse. I am going to build a program that analyses palms and predicts accordingly.<br>\nIt's totally edge detection but how can I find the separate lines? Any suggestions?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":11483863,"reputation":23,"user_id":8417406,"display_name":"Crawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687788870,"creation_date":1687788870,"answer_id":76557523,"question_id":76557445,"body_markdown":"Starting from Android 9 (API level 28), accessing a list of available Wi-Fi networks without starting a scan is restricted for privacy and security reasons.","title":"How to get a list of wifi networks in an Android App","body":"<p>Starting from Android 9 (API level 28), accessing a list of available Wi-Fi networks without starting a scan is restricted for privacy and security reasons.</p>\n"}],"owner":{"account_id":2296790,"reputation":91,"user_id":2018042,"display_name":"Microkid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687788870,"creation_date":1687788320,"question_id":76557445,"body_markdown":"I&#39;m trying to include a list of WiFi networks in an Android App to allow the user to select one to connect a physical device to. In the past I have used `WiFiManager` class startscan &amp; scanresults to do this. But startscan is now deprecated (and doesn&#39;t seem to work for me). I have looked around but can not seem to find any alternatives to this.\r\n\r\nHow can I get a list of WiFi networks without using deprecated api calls? \r\n\r\nIf the above is not possible can I search for a specific network - for example one that starts ABCD? ","title":"How to get a list of wifi networks in an Android App","body":"<p>I'm trying to include a list of WiFi networks in an Android App to allow the user to select one to connect a physical device to. In the past I have used <code>WiFiManager</code> class startscan &amp; scanresults to do this. But startscan is now deprecated (and doesn't seem to work for me). I have looked around but can not seem to find any alternatives to this.</p>\n<p>How can I get a list of WiFi networks without using deprecated api calls?</p>\n<p>If the above is not possible can I search for a specific network - for example one that starts ABCD?</p>\n"},{"tags":["java","server","client","nio"],"comments":[{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1687789501,"post_id":76557444,"comment_id":134981965,"body_markdown":"@user16320675 yup that fixed it!","body":"@user16320675 yup that fixed it!"},{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1687791440,"post_id":76557444,"comment_id":134982471,"body_markdown":"@user16320675 Hi would you mind with one more question? The server accepts the connection made and then writes to the client, saying &quot;Connection established&quot;. For some reason though, the server attempts to write a second time. Since the array of `byte[] data` is null, the Thread throws an exception. How is that possible? It&#39;s like the first `write` key is never removed even though `key.remove` is called (I removed `key.interestOps(OP_READ)` in the `write` method. This is for sure the issue, since when I leave the `OP_read`, it just keeps reading an infinite number of times.","body":"@user16320675 Hi would you mind with one more question? The server accepts the connection made and then writes to the client, saying &quot;Connection established&quot;. For some reason though, the server attempts to write a second time. Since the array of <code>byte[] data</code> is null, the Thread throws an exception. How is that possible? It&#39;s like the first <code>write</code> key is never removed even though <code>key.remove</code> is called (I removed <code>key.interestOps(OP_READ)</code> in the <code>write</code> method. This is for sure the issue, since when I leave the <code>OP_read</code>, it just keeps reading an infinite number of times."}],"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687788319,"creation_date":1687788319,"question_id":76557444,"body_markdown":"Using [this example][1] of a non-blocking NIO server, the non-blocking client is able to connect to the non-blocking NIO server. Even when the server stops running, the client repeats &quot;broken pipe&quot;, which indicates that the client WAS connected. On the server-side, however, the `accept` `SelectionKey` is never &quot;found&quot; (i.e, in the loop, the `accept` method is never called). How is this possible? I even send requests to the server while the client is connected and the `read` and `write` methods aren&#39;t called either. \r\n\r\nMy code below is almost the same as the example:\r\n\r\nSERVER\r\n\r\n\r\n     package GameEngine;\r\n    \r\n    import GameEngine.PlayerActions.PlayerAction;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.*;\r\n    \r\n    import java.nio.*;\r\n    import java.nio.channels.SelectionKey;\r\n    import java.nio.channels.Selector;\r\n    import java.nio.channels.ServerSocketChannel;\r\n    import java.nio.channels.SocketChannel;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    \r\n    \r\n    /**\r\n     * Receives input from clients\r\n     */\r\n    public class InputReceiver extends Thread{ //  A separate thread.\r\n    \r\n        final String HOSTNAME = &quot;localhost&quot;;\r\n        final int PORT = 6666;\r\n        private ServerSocketChannel serverChannel;\r\n        private Selector selector;\r\n        public static HashMap&lt;String,ArrayList&lt;PlayerAction&gt;&gt; inputsForNextTick = new HashMap&lt;String, ArrayList&lt;PlayerAction&gt;&gt;();\r\n        private Map&lt;SocketChannel, byte[]&gt; dataTracking = new HashMap&lt;&gt;();\r\n        private Map&lt;SocketAddress,SocketChannel&gt; clientSocketAddressToSocketChannel = new HashMap&lt;&gt;();\r\n        private static boolean tickHappened = false;\r\n    \r\n        public static void notifyOfTick(){\r\n            tickHappened = true;\r\n        }\r\n    \r\n    \r\n        public void run(){\r\n                try {\r\n                    System.out.println(&quot;Registering server..&quot;);\r\n                    serverChannel = ServerSocketChannel.open();\r\n                    serverChannel.configureBlocking(false);\r\n                    serverChannel.socket().bind(new InetSocketAddress(HOSTNAME, PORT));\r\n                    selector = Selector.open();\r\n                    serverChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n                    System.out.println(&quot;Server registered.&quot;);\r\n                    while (!Thread.currentThread().isInterrupted()) {\r\n    \r\n                        Iterator&lt;SelectionKey&gt; keys = selector.selectedKeys().iterator();\r\n    \r\n                        while (keys.hasNext()) {\r\n                            System.out.println(&quot;Key found. Choosing operation.&quot;);\r\n                            SelectionKey key = keys.next();\r\n                            keys.remove();\r\n    \r\n                            if (!key.isValid()) {\r\n                                continue;\r\n                            }\r\n    \r\n                            if (key.isAcceptable()) {\r\n                                System.out.println(&quot;Accepting connection&quot;);\r\n                                accept(key);\r\n    \r\n                            }\r\n                            if (key.isWritable()) {\r\n                                System.out.println(&quot;Writing...&quot;);\r\n                                write(key);\r\n                            }\r\n    \r\n                            if (key.isReadable()) {\r\n                                System.out.println(&quot;Reading..&quot;);\r\n                                read(key);\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n    \r\n        private void accept(SelectionKey key) throws IOException {\r\n            ServerSocketChannel serverSocketChannel = (ServerSocketChannel) key.channel();\r\n            SocketChannel socketChannel = serverSocketChannel.accept();\r\n            socketChannel.configureBlocking(false);\r\n            byte[] hello = &quot;Connection established.&quot;.getBytes();\r\n            dataTracking.put(socketChannel, hello);\r\n            socketChannel.register(selector, SelectionKey.OP_WRITE);\r\n            clientSocketAddressToSocketChannel.put(socketChannel.getRemoteAddress(), socketChannel);\r\n            System.out.println(&quot;New connection made from address: &quot; + socketChannel.getRemoteAddress());\r\n    \r\n        }\r\n        private void read(SelectionKey key){\r\n    \r\n        }\r\n        private void write(SelectionKey key) throws IOException\r\n        {\r\n            SocketChannel channel = (SocketChannel) key.channel();\r\n    \r\n            byte[] data = dataTracking.get(channel);\r\n            dataTracking.remove(channel);\r\n            channel.write(ByteBuffer.wrap(data));\r\n            key.interestOps(SelectionKey.OP_READ);\r\n        }\r\n        private void writeToSocketAddress(){\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nCLIENT\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.SelectionKey;\r\n    import java.nio.channels.Selector;\r\n    import java.nio.channels.SocketChannel;\r\n    import java.util.Iterator;\r\n    \r\n    import static java.nio.channels.SelectionKey.OP_READ;\r\n    import static java.nio.channels.SelectionKey.OP_WRITE;\r\n    public class ClientToServerCommunications implements Runnable\r\n    {\r\n        private final static String HOSTNAME = &quot;127.0.0.1&quot;;\r\n        private final static int PORT = 6666;\r\n    \r\n        private Selector selector;\r\n    \r\n        public ClientToServerCommunications()\r\n        {\r\n        }\r\n    \r\n        @Override\r\n        public void run()\r\n        {\r\n            SocketChannel channel;\r\n            try {\r\n                selector = Selector.open();\r\n                channel = SocketChannel.open();\r\n                channel.configureBlocking(false);\r\n    \r\n                channel.register(selector, SelectionKey.OP_CONNECT);\r\n                channel.connect(new InetSocketAddress(HOSTNAME, PORT));\r\n    \r\n                while (!Thread.interrupted()) {\r\n                    //selector.select(1000);\r\n    \r\n                    Iterator&lt;SelectionKey&gt; keys = selector.selectedKeys().iterator();\r\n    \r\n                    while (keys.hasNext()) {\r\n                        SelectionKey key = keys.next();\r\n                        keys.remove();\r\n    \r\n                        if (!key.isValid()) continue;\r\n    \r\n                        if (key.isConnectable()) {\r\n                            System.out.println(&quot;Connecting..&quot;);\r\n                            connect(key);\r\n                        }\r\n                        if (key.isWritable()) {\r\n                            write(key);\r\n                        }\r\n                        if (key.isReadable()) {\r\n                            read(key);\r\n                        }\r\n                    }\r\n                }\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            } finally {\r\n                close();\r\n            }\r\n        }\r\n    \r\n        private void close()\r\n        {\r\n            try {\r\n                selector.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void read(SelectionKey key) throws IOException\r\n        {\r\n            SocketChannel channel = (SocketChannel) key.channel();\r\n            ByteBuffer readBuffer = ByteBuffer.allocate(1000);\r\n            readBuffer.clear();\r\n            int length;\r\n            try {\r\n                length = channel.read(readBuffer);\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;Reading problem, closing connection&quot;);\r\n                key.cancel();\r\n                channel.close();\r\n                return;\r\n            }\r\n            if (length == -1) {\r\n                System.out.println(&quot;Nothing was read from server&quot;);\r\n                channel.close();\r\n                key.cancel();\r\n                return;\r\n            }\r\n            readBuffer.flip();\r\n            byte[] buff = new byte[1024];\r\n            readBuffer.get(buff, 0, length);\r\n            System.out.println(&quot;Server said: &quot; + new String(buff));\r\n        }\r\n    \r\n        private void write(SelectionKey key) throws IOException\r\n        {\r\n            SocketChannel channel = (SocketChannel) key.channel();\r\n            channel.write(ByteBuffer.wrap(&quot;TEST MESSAGE&quot;.getBytes()));\r\n    \r\n            // Lets get ready to read.\r\n            key.interestOps(OP_READ);\r\n        }\r\n    \r\n        private void connect(SelectionKey key) throws IOException\r\n        {\r\n            SocketChannel channel = (SocketChannel) key.channel();\r\n            if (channel.isConnectionPending()) {\r\n                channel.finishConnect();\r\n            }\r\n            channel.configureBlocking(false);\r\n            channel.register(selector, OP_WRITE);\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/teocci/NioSocketCodeSample/blob/master/src/com/github/teocci/nio/socket/nio/NonBlockingWRServer.java","title":"Java NIO server never finds any SelectionKey","body":"<p>Using <a href=\"https://github.com/teocci/NioSocketCodeSample/blob/master/src/com/github/teocci/nio/socket/nio/NonBlockingWRServer.java\" rel=\"nofollow noreferrer\">this example</a> of a non-blocking NIO server, the non-blocking client is able to connect to the non-blocking NIO server. Even when the server stops running, the client repeats &quot;broken pipe&quot;, which indicates that the client WAS connected. On the server-side, however, the <code>accept</code> <code>SelectionKey</code> is never &quot;found&quot; (i.e, in the loop, the <code>accept</code> method is never called). How is this possible? I even send requests to the server while the client is connected and the <code>read</code> and <code>write</code> methods aren't called either.</p>\n<p>My code below is almost the same as the example:</p>\n<p>SERVER</p>\n<pre><code> package GameEngine;\n\nimport GameEngine.PlayerActions.PlayerAction;\n\nimport java.io.DataInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.*;\n\nimport java.nio.*;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\n\n\n/**\n * Receives input from clients\n */\npublic class InputReceiver extends Thread{ //  A separate thread.\n\n    final String HOSTNAME = &quot;localhost&quot;;\n    final int PORT = 6666;\n    private ServerSocketChannel serverChannel;\n    private Selector selector;\n    public static HashMap&lt;String,ArrayList&lt;PlayerAction&gt;&gt; inputsForNextTick = new HashMap&lt;String, ArrayList&lt;PlayerAction&gt;&gt;();\n    private Map&lt;SocketChannel, byte[]&gt; dataTracking = new HashMap&lt;&gt;();\n    private Map&lt;SocketAddress,SocketChannel&gt; clientSocketAddressToSocketChannel = new HashMap&lt;&gt;();\n    private static boolean tickHappened = false;\n\n    public static void notifyOfTick(){\n        tickHappened = true;\n    }\n\n\n    public void run(){\n            try {\n                System.out.println(&quot;Registering server..&quot;);\n                serverChannel = ServerSocketChannel.open();\n                serverChannel.configureBlocking(false);\n                serverChannel.socket().bind(new InetSocketAddress(HOSTNAME, PORT));\n                selector = Selector.open();\n                serverChannel.register(selector, SelectionKey.OP_ACCEPT);\n                System.out.println(&quot;Server registered.&quot;);\n                while (!Thread.currentThread().isInterrupted()) {\n\n                    Iterator&lt;SelectionKey&gt; keys = selector.selectedKeys().iterator();\n\n                    while (keys.hasNext()) {\n                        System.out.println(&quot;Key found. Choosing operation.&quot;);\n                        SelectionKey key = keys.next();\n                        keys.remove();\n\n                        if (!key.isValid()) {\n                            continue;\n                        }\n\n                        if (key.isAcceptable()) {\n                            System.out.println(&quot;Accepting connection&quot;);\n                            accept(key);\n\n                        }\n                        if (key.isWritable()) {\n                            System.out.println(&quot;Writing...&quot;);\n                            write(key);\n                        }\n\n                        if (key.isReadable()) {\n                            System.out.println(&quot;Reading..&quot;);\n                            read(key);\n                        }\n                    }\n                }\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n    private void accept(SelectionKey key) throws IOException {\n        ServerSocketChannel serverSocketChannel = (ServerSocketChannel) key.channel();\n        SocketChannel socketChannel = serverSocketChannel.accept();\n        socketChannel.configureBlocking(false);\n        byte[] hello = &quot;Connection established.&quot;.getBytes();\n        dataTracking.put(socketChannel, hello);\n        socketChannel.register(selector, SelectionKey.OP_WRITE);\n        clientSocketAddressToSocketChannel.put(socketChannel.getRemoteAddress(), socketChannel);\n        System.out.println(&quot;New connection made from address: &quot; + socketChannel.getRemoteAddress());\n\n    }\n    private void read(SelectionKey key){\n\n    }\n    private void write(SelectionKey key) throws IOException\n    {\n        SocketChannel channel = (SocketChannel) key.channel();\n\n        byte[] data = dataTracking.get(channel);\n        dataTracking.remove(channel);\n        channel.write(ByteBuffer.wrap(data));\n        key.interestOps(SelectionKey.OP_READ);\n    }\n    private void writeToSocketAddress(){\n\n    }\n\n}\n</code></pre>\n<p>CLIENT</p>\n<pre><code>import java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.SocketChannel;\nimport java.util.Iterator;\n\nimport static java.nio.channels.SelectionKey.OP_READ;\nimport static java.nio.channels.SelectionKey.OP_WRITE;\npublic class ClientToServerCommunications implements Runnable\n{\n    private final static String HOSTNAME = &quot;127.0.0.1&quot;;\n    private final static int PORT = 6666;\n\n    private Selector selector;\n\n    public ClientToServerCommunications()\n    {\n    }\n\n    @Override\n    public void run()\n    {\n        SocketChannel channel;\n        try {\n            selector = Selector.open();\n            channel = SocketChannel.open();\n            channel.configureBlocking(false);\n\n            channel.register(selector, SelectionKey.OP_CONNECT);\n            channel.connect(new InetSocketAddress(HOSTNAME, PORT));\n\n            while (!Thread.interrupted()) {\n                //selector.select(1000);\n\n                Iterator&lt;SelectionKey&gt; keys = selector.selectedKeys().iterator();\n\n                while (keys.hasNext()) {\n                    SelectionKey key = keys.next();\n                    keys.remove();\n\n                    if (!key.isValid()) continue;\n\n                    if (key.isConnectable()) {\n                        System.out.println(&quot;Connecting..&quot;);\n                        connect(key);\n                    }\n                    if (key.isWritable()) {\n                        write(key);\n                    }\n                    if (key.isReadable()) {\n                        read(key);\n                    }\n                }\n            }\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        } finally {\n            close();\n        }\n    }\n\n    private void close()\n    {\n        try {\n            selector.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void read(SelectionKey key) throws IOException\n    {\n        SocketChannel channel = (SocketChannel) key.channel();\n        ByteBuffer readBuffer = ByteBuffer.allocate(1000);\n        readBuffer.clear();\n        int length;\n        try {\n            length = channel.read(readBuffer);\n        } catch (IOException e) {\n            System.out.println(&quot;Reading problem, closing connection&quot;);\n            key.cancel();\n            channel.close();\n            return;\n        }\n        if (length == -1) {\n            System.out.println(&quot;Nothing was read from server&quot;);\n            channel.close();\n            key.cancel();\n            return;\n        }\n        readBuffer.flip();\n        byte[] buff = new byte[1024];\n        readBuffer.get(buff, 0, length);\n        System.out.println(&quot;Server said: &quot; + new String(buff));\n    }\n\n    private void write(SelectionKey key) throws IOException\n    {\n        SocketChannel channel = (SocketChannel) key.channel();\n        channel.write(ByteBuffer.wrap(&quot;TEST MESSAGE&quot;.getBytes()));\n\n        // Lets get ready to read.\n        key.interestOps(OP_READ);\n    }\n\n    private void connect(SelectionKey key) throws IOException\n    {\n        SocketChannel channel = (SocketChannel) key.channel();\n        if (channel.isConnectionPending()) {\n            channel.finishConnect();\n        }\n        channel.configureBlocking(false);\n        channel.register(selector, OP_WRITE);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1651127092,"post_id":72038844,"comment_id":127289751,"body_markdown":"Well ... you shouldn&#39;t be upgrading to Java 16 because Java 16 is already end-of-life.","body":"Well ... you shouldn&#39;t be upgrading to Java 16 because Java 16 is already end-of-life."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651138459,"creation_date":1651138143,"answer_id":72041265,"question_id":72038844,"body_markdown":"It looks like you have encountered another manifestation of https://github.com/castor-data-binding/castor/issues/76 (closed).\r\n\r\nThis kind of thing is caused by application code (e.g. Castor) directly referring to internal JDK classes (in this case `com.sun.org.apache.xml.internal.serialize.XMLSerializer`).   This should be raised as an Castor issue.\r\n\r\nUnfortunately, it looks like Castor data bindings is a moribund project, so you may need to develop your own fix to get it to work on Java 16 and later.\r\n\r\nIf you are going to do that, this is where the JDK internal package name is injected:\r\n\r\nhttps://github.com/castor-data-binding/castor/blob/master/xml/src/main/java/org/exolab/castor/xml/\r\n\r\nLook at `XercesJDK5Serializer.java` `BaseXercesJDK5Serializer.java`","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>It looks like you have encountered another manifestation of <a href=\"https://github.com/castor-data-binding/castor/issues/76\" rel=\"nofollow noreferrer\">https://github.com/castor-data-binding/castor/issues/76</a> (closed).</p>\n<p>This kind of thing is caused by application code (e.g. Castor) directly referring to internal JDK classes (in this case <code>com.sun.org.apache.xml.internal.serialize.XMLSerializer</code>).   This should be raised as an Castor issue.</p>\n<p>Unfortunately, it looks like Castor data bindings is a moribund project, so you may need to develop your own fix to get it to work on Java 16 and later.</p>\n<p>If you are going to do that, this is where the JDK internal package name is injected:</p>\n<p><a href=\"https://github.com/castor-data-binding/castor/blob/master/xml/src/main/java/org/exolab/castor/xml/\" rel=\"nofollow noreferrer\">https://github.com/castor-data-binding/castor/blob/master/xml/src/main/java/org/exolab/castor/xml/</a></p>\n<p>Look at <code>XercesJDK5Serializer.java</code> <code>BaseXercesJDK5Serializer.java</code></p>\n"},{"tags":[],"owner":{"account_id":25637094,"reputation":31,"user_id":19406538,"display_name":"Miriam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656203758,"creation_date":1656062245,"answer_id":72741744,"question_id":72038844,"body_markdown":"You can set the property to use own Xerces to prevent the problem.\r\n\r\n```java\r\ncontext.setProperty(org.castor.xml.XMLProperties.SERIALIZER_FACTORY,\r\n    org.exolab.castor.xml.XercesXMLSerializerFactory.class.getName());\r\n```\r\n\r\nChange \r\n\r\n```java\r\nMarshaller marshaller = new Marshaller(myWriter);\r\n```\r\n\r\nto something like this:\r\n\r\n```java\r\nStringWriter myWriter= new StringWriter(); \r\nXMLContext xmlContext = new XMLContext();\r\nxmlContext.setProperty(org.castor.xml.XMLProperties.SERIALIZER_FACTORY, \r\n    org.exolab.castor.xml.XercesXMLSerializerFactory.class.getName());\r\nMarshaller marshaller = xmlContext.createMarshaller();\r\nmarshaller.setWriter(myWriter);\r\n```","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>You can set the property to use own Xerces to prevent the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.setProperty(org.castor.xml.XMLProperties.SERIALIZER_FACTORY,\n    org.exolab.castor.xml.XercesXMLSerializerFactory.class.getName());\n</code></pre>\n<p>Change</p>\n<pre class=\"lang-java prettyprint-override\"><code>Marshaller marshaller = new Marshaller(myWriter);\n</code></pre>\n<p>to something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringWriter myWriter= new StringWriter(); \nXMLContext xmlContext = new XMLContext();\nxmlContext.setProperty(org.castor.xml.XMLProperties.SERIALIZER_FACTORY, \n    org.exolab.castor.xml.XercesXMLSerializerFactory.class.getName());\nMarshaller marshaller = xmlContext.createMarshaller();\nmarshaller.setWriter(myWriter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687787781,"creation_date":1687350572,"answer_id":76523304,"question_id":72038844,"body_markdown":"Try adding the [--add-exports][1] JVM option:\r\n\r\n    --add-exports java.xml/com.sun.org.apache.xml.internal.serialize=ALL-UNNAMED\r\n\r\nWe did a JDK 8 -&gt; 17 migration, and the error message can indicate the solution. In your case:\r\n\r\n*java.lang.RuntimeException: Could not instantiate serializer com.sun.org.apache.xml.internal.serialize.XMLSerializer: java.lang.IllegalAccessException: class org.exolab.castor.xml.BaseXercesJDK5Serializer cannot access class com.sun.org.apache.xml.internal.serialize.XMLSerializer (in module java.xml) **because module java.xml does not export com.sun.org.apache.xml.internal.serialize to unnamed module** @646cb2e*\r\n\r\nIf the error contained: **module java.base does not opens java.lang to unnamed module**\r\n\r\nYou would use `--add-opens` instead of `--add-exports`:\r\n\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>Try adding the <a href=\"https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66\" rel=\"nofollow noreferrer\">--add-exports</a> JVM option:</p>\n<pre><code>--add-exports java.xml/com.sun.org.apache.xml.internal.serialize=ALL-UNNAMED\n</code></pre>\n<p>We did a JDK 8 -&gt; 17 migration, and the error message can indicate the solution. In your case:</p>\n<p><em>java.lang.RuntimeException: Could not instantiate serializer com.sun.org.apache.xml.internal.serialize.XMLSerializer: java.lang.IllegalAccessException: class org.exolab.castor.xml.BaseXercesJDK5Serializer cannot access class com.sun.org.apache.xml.internal.serialize.XMLSerializer (in module java.xml) <strong>because module java.xml does not export com.sun.org.apache.xml.internal.serialize to unnamed module</strong> @646cb2e</em></p>\n<p>If the error contained: <strong>module java.base does not opens java.lang to unnamed module</strong></p>\n<p>You would use <code>--add-opens</code> instead of <code>--add-exports</code>:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7622474,"reputation":43,"user_id":5780131,"display_name":"Zsolt Kov&#225;cs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687430598,"creation_date":1687430598,"answer_id":76531074,"question_id":72038844,"body_markdown":"I run into the same issue when I was migrating to openjdk17 from 8. @Miriam answer was the key, but it was not enough as I am also using Casor XML Schema. The solution was to add latest xerces jar and castor.properties to the classpath containing this single line (in my case):\r\n\r\n`org.exolab.castor.xml.serializer.factory=org.exolab.castor.xml.XercesXMLSerializerFactory`\r\n\r\nThis documentation might be useful for further help:\r\nhttps://castor-data-binding.github.io/castor/reference-guide/reference/xml/xml-properties.html","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>I run into the same issue when I was migrating to openjdk17 from 8. @Miriam answer was the key, but it was not enough as I am also using Casor XML Schema. The solution was to add latest xerces jar and castor.properties to the classpath containing this single line (in my case):</p>\n<p><code>org.exolab.castor.xml.serializer.factory=org.exolab.castor.xml.XercesXMLSerializerFactory</code></p>\n<p>This documentation might be useful for further help:\n<a href=\"https://castor-data-binding.github.io/castor/reference-guide/reference/xml/xml-properties.html\" rel=\"nofollow noreferrer\">https://castor-data-binding.github.io/castor/reference-guide/reference/xml/xml-properties.html</a></p>\n"}],"owner":{"account_id":4587942,"reputation":11,"user_id":3722075,"display_name":"user3722075"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1687787781,"creation_date":1651126601,"question_id":72038844,"body_markdown":"I have upgraded the java version from 15 to 16 and getting the below error on runtime. \r\n\r\njava.lang.RuntimeException: Could not instantiate serializer com.sun.org.apache.xml.internal.serialize.XMLSerializer: java.lang.IllegalAccessException: class org.exolab.castor.xml.BaseXercesJDK5Serializer cannot access class com.sun.org.apache.xml.internal.serialize.XMLSerializer (in module java.xml) because module java.xml does not  export com.sun.org.apache.xml.internal.serialize to unnamed module @646cb2e","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>I have upgraded the java version from 15 to 16 and getting the below error on runtime.</p>\n<p>java.lang.RuntimeException: Could not instantiate serializer com.sun.org.apache.xml.internal.serialize.XMLSerializer: java.lang.IllegalAccessException: class org.exolab.castor.xml.BaseXercesJDK5Serializer cannot access class com.sun.org.apache.xml.internal.serialize.XMLSerializer (in module java.xml) because module java.xml does not  export com.sun.org.apache.xml.internal.serialize to unnamed module @646cb2e</p>\n"},{"tags":["java","graph","bar-chart","awt","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687799185,"post_id":76557278,"comment_id":134984135,"body_markdown":"You might explore relevant margins, as suggested [here](https://stackoverflow.com/a/9667294/230513); you can experiment with this complete [example](https://stackoverflow.com/a/17342522/230513).","body":"You might explore relevant margins, as suggested <a href=\"https://stackoverflow.com/a/9667294/230513\">here</a>; you can experiment with this complete <a href=\"https://stackoverflow.com/a/17342522/230513\">example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687801413,"post_id":76557278,"comment_id":134984637,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687787681,"creation_date":1687787681,"answer_id":76557350,"question_id":76557278,"body_markdown":"The `setCategoryMargin(float)` is used to adjust the space between categories and accepts a value between 0.0 and 1.0 (where 1.0 means 100% of the available space is used as the margin(!)). So using a negative value (-2) may not give the expected result.\r\n\r\nRead more: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/CategoryAxis.html#setCategoryMargin-double-\r\n\r\nYou can try setting different lower positive margin to to see what suits your needs.\r\n","title":"JFreeChart align Bar Chart left","body":"<p>The <code>setCategoryMargin(float)</code> is used to adjust the space between categories and accepts a value between 0.0 and 1.0 (where 1.0 means 100% of the available space is used as the margin(!)). So using a negative value (-2) may not give the expected result.</p>\n<p>Read more: <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/CategoryAxis.html#setCategoryMargin-double-\" rel=\"nofollow noreferrer\">https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/CategoryAxis.html#setCategoryMargin-double-</a></p>\n<p>You can try setting different lower positive margin to to see what suits your needs.</p>\n"}],"owner":{"account_id":28833424,"reputation":3,"user_id":22083353,"display_name":"matteo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687878359,"accepted_answer_id":76557350,"answer_count":1,"score":0,"last_activity_date":1687787681,"creation_date":1687787113,"question_id":76557278,"body_markdown":"I printed a bar chart using JFreeChart. But if I want to make the bars closer to each other using `setCategoryMargin(-2)` on my `CategoryAxis`, the Bar Chart appears to align in the center.\r\n\r\nIs there a way to align the entire graph to the left, so it&#39;s directly next to the y-axis ? Or reduce the space between the bars without the chart getting centered ?\r\n\r\n","title":"JFreeChart align Bar Chart left","body":"<p>I printed a bar chart using JFreeChart. But if I want to make the bars closer to each other using <code>setCategoryMargin(-2)</code> on my <code>CategoryAxis</code>, the Bar Chart appears to align in the center.</p>\n<p>Is there a way to align the entire graph to the left, so it's directly next to the y-axis ? Or reduce the space between the bars without the chart getting centered ?</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":127604,"reputation":2939,"user_id":324888,"accept_rate":93,"display_name":"Inv3r53"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1274377124,"creation_date":1274377124,"answer_id":2876355,"question_id":2876250,"body_markdown":"may be this what you are looking for :\r\n\r\nhttp://tomcat.apache.org/tomcat-6.0-doc/config/context.html#Context%20Parameters\r\n\r\n        cachingAllowed : If the value of this flag is true, the cache for static\r\n    \r\n     resources will be used. If not specified, the default value of the flag is true.\r\n\r\nAlso delete the application cache folder in /work/Catalina/localhost after changing this flag.","title":"Tomcat: Cache-Control","body":"<p>may be this what you are looking for :</p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/context.html#Context%20Parameters\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-6.0-doc/config/context.html#Context%20Parameters</a></p>\n\n<pre><code>    cachingAllowed : If the value of this flag is true, the cache for static\n\n resources will be used. If not specified, the default value of the flag is true.\n</code></pre>\n\n<p>Also delete the application cache folder in /work/Catalina/localhost after changing this flag.</p>\n"},{"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1467112909,"creation_date":1274381675,"answer_id":2876899,"question_id":2876250,"body_markdown":"I don&#39;t believe there is a configuration to do this.  But it should not be much of an effort to write a filter to set the Cache-Control header on a per webapp-basis.  E.g.:\r\n\r\n    public class test implements Filter {\r\n    \t   \r\n    \t    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                    throws IOException, ServletException {\r\n\r\n    \t        chain.doFilter(request, response);\r\n                ((StatusResponse)response).setHeader(&quot;Cache-Control&quot;,\r\n                        &quot;max-age=0, private, must-revalidate&quot;);\r\n    \t    }\r\n    \r\n    \t\tpublic void destroy() {}\r\n    \r\n    \t\tpublic void init(FilterConfig arg0) throws ServletException {}\r\n    }\r\n\r\nAnd you&#39;d place this snippet into your webapp&#39;s `web.xml` file.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;SetCacheControl&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;ch.dietpizza.cacheControlFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;                       \r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;SetCacheControl&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n","title":"Tomcat: Cache-Control","body":"<p>I don't believe there is a configuration to do this.  But it should not be much of an effort to write a filter to set the Cache-Control header on a per webapp-basis.  E.g.:</p>\n\n<pre><code>public class test implements Filter {\n\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n                throws IOException, ServletException {\n\n            chain.doFilter(request, response);\n            ((StatusResponse)response).setHeader(\"Cache-Control\",\n                    \"max-age=0, private, must-revalidate\");\n        }\n\n        public void destroy() {}\n\n        public void init(FilterConfig arg0) throws ServletException {}\n}\n</code></pre>\n\n<p>And you'd place this snippet into your webapp's <code>web.xml</code> file.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;SetCacheControl&lt;/filter-name&gt;\n    &lt;filter-class&gt;ch.dietpizza.cacheControlFilter&lt;/filter-class&gt;\n&lt;/filter&gt;                       \n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SetCacheControl&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274713660,"creation_date":1274713660,"answer_id":2897932,"question_id":2876250,"body_markdown":"The only param I know of is `disableProxyCaching` on `&lt;Valve&gt;` elements. See [here][1].\r\n\r\n\r\n  [1]: http://daveharris.wordpress.com/2007/07/09/how-to-configure-cache-control-in-tomcat/","title":"Tomcat: Cache-Control","body":"<p>The only param I know of is <code>disableProxyCaching</code> on <code>&lt;Valve&gt;</code> elements. See <a href=\"http://daveharris.wordpress.com/2007/07/09/how-to-configure-cache-control-in-tomcat/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":138794,"reputation":536,"user_id":343960,"display_name":"whitey"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1441730305,"creation_date":1297719056,"answer_id":4997498,"question_id":2876250,"body_markdown":"Similar to the post above, except there are some issues with that code.  This will disable all browser caching:\r\n\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.util.Date;\r\n    \r\n    public class CacheControlFilter implements Filter {\r\n    \r\n        public void doFilter(ServletRequest request, ServletResponse response,\r\n                             FilterChain chain) throws IOException, ServletException {\r\n    \r\n            HttpServletResponse resp = (HttpServletResponse) response;\r\n            resp.setHeader(&quot;Expires&quot;, &quot;Tue, 03 Jul 2001 06:00:00 GMT&quot;);\r\n            resp.setDateHeader(&quot;Last-Modified&quot;, new Date().getTime());\r\n            resp.setHeader(&quot;Cache-Control&quot;, &quot;no-store, no-cache, must-revalidate, max-age=0, post-check=0, pre-check=0&quot;);\r\n            resp.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n    \r\n            chain.doFilter(request, response);\r\n        }\r\n    \r\n    }\r\n\r\nand then map in web.xml as described in [Stu Thompson&#39;s answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2876899/569101","title":"Tomcat: Cache-Control","body":"<p>Similar to the post above, except there are some issues with that code.  This will disable all browser caching:</p>\n\n<pre><code>import javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Date;\n\npublic class CacheControlFilter implements Filter {\n\n    public void doFilter(ServletRequest request, ServletResponse response,\n                         FilterChain chain) throws IOException, ServletException {\n\n        HttpServletResponse resp = (HttpServletResponse) response;\n        resp.setHeader(\"Expires\", \"Tue, 03 Jul 2001 06:00:00 GMT\");\n        resp.setDateHeader(\"Last-Modified\", new Date().getTime());\n        resp.setHeader(\"Cache-Control\", \"no-store, no-cache, must-revalidate, max-age=0, post-check=0, pre-check=0\");\n        resp.setHeader(\"Pragma\", \"no-cache\");\n\n        chain.doFilter(request, response);\n    }\n\n}\n</code></pre>\n\n<p>and then map in web.xml as described in <a href=\"https://stackoverflow.com/a/2876899/569101\">Stu Thompson's answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":1104938,"reputation":4361,"user_id":1382828,"accept_rate":78,"display_name":"CXJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336501307,"creation_date":1336501307,"answer_id":10504217,"question_id":2876250,"body_markdown":"There actually are several &lt;Valve&gt; elements in the Tomcat configuration which directly affect this.  See documentation at http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html for example.\r\n\r\nAtlassian recommends the following two statements to ENABLE browser-side caching so that Microsoft Internet Explorer will be able to correctly download and view attached documents:\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.authenticator.FormAuthenticator&quot; securePagesWithPragma=&quot;false&quot; /&gt;\r\n    &lt;Valve className=&quot;org.apache.catalina.authenticator.NonLoginAuthenticator&quot; securePagesWithPragma=&quot;false&quot; /&gt;\r\n\r\n","title":"Tomcat: Cache-Control","body":"<p>There actually are several  elements in the Tomcat configuration which directly affect this.  See documentation at <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html\" rel=\"nofollow\">http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html</a> for example.</p>\n\n<p>Atlassian recommends the following two statements to ENABLE browser-side caching so that Microsoft Internet Explorer will be able to correctly download and view attached documents:</p>\n\n<pre><code>&lt;Valve className=\"org.apache.catalina.authenticator.FormAuthenticator\" securePagesWithPragma=\"false\" /&gt;\n&lt;Valve className=\"org.apache.catalina.authenticator.NonLoginAuthenticator\" securePagesWithPragma=\"false\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1614179,"reputation":1881,"user_id":1492329,"accept_rate":60,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1614815931,"creation_date":1362942846,"answer_id":15326364,"question_id":2876250,"body_markdown":"&lt;!-- language-all: lang-xml --&gt;\r\nSince Tomcat 7 there is a container provided expires filter that may help. See:\r\n\r\n* Tomcat 10: https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html#Expires_Filter\r\n* Tomcat 9: https://tomcat.apache.org/tomcat-9.0-doc/config/filter.html#Expires_Filter\r\n* Tomcat 8: https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#Expires_Filter\r\n* Tomcat 7: https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Expires_Filter\r\n* Tomcat 6 (unofficial backport): https://github.com/bnegrao/ExpiresFilter\r\n\r\n&gt; ExpiresFilter is a Java Servlet API port of [Apache mod_expires][1]. This filter controls the setting of the `Expires` HTTP header and the `max-age` directive of the `Cache-Control` HTTP header in server responses. The expiration date can set to be relative to either the time the source file was last modified, or to the time of the client access.\r\n\r\n&lt;pre&gt;&lt;code&gt;&amp;lt;filter&amp;gt;\r\n\t&amp;lt;filter-name&amp;gt;ExpiresFilter&amp;lt;/filter-name&amp;gt;\r\n\t&amp;lt;filter-class&amp;gt;org.apache.catalina.filters.ExpiresFilter&amp;lt;/filter-class&amp;gt;\r\n\t&amp;lt;init-param&amp;gt;\r\n\t\t&amp;lt;param-name&amp;gt;ExpiresByType image&amp;lt;/param-name&amp;gt;\r\n\t\t&amp;lt;param-value&amp;gt;access plus 10 days&amp;lt;/param-value&amp;gt;\r\n\t&amp;lt;/init-param&amp;gt;\r\n\t&amp;lt;init-param&amp;gt;\r\n\t\t&amp;lt;param-name&amp;gt;ExpiresByType text/css&amp;lt;/param-name&amp;gt;\r\n\t\t&amp;lt;param-value&amp;gt;access plus 10 hours&amp;lt;/param-value&amp;gt;\r\n\t&amp;lt;/init-param&amp;gt;\r\n\t&amp;lt;init-param&amp;gt;\r\n\t\t&amp;lt;param-name&amp;gt;ExpiresByType application/javascript&amp;lt;/param-name&amp;gt;\r\n\t\t&amp;lt;param-value&amp;gt;access plus 10 minutes&amp;lt;/param-value&amp;gt;\r\n\t&amp;lt;/init-param&amp;gt;\r\n\t&amp;lt;!-- Let everything else expire immediately --&amp;gt;\r\n\t&amp;lt;init-param&amp;gt;\r\n\t\t&amp;lt;param-name&amp;gt;ExpiresDefault&amp;lt;/param-name&amp;gt;\r\n\t\t&amp;lt;param-value&amp;gt;access plus 0 seconds&amp;lt;/param-value&amp;gt;\r\n\t&amp;lt;/init-param&amp;gt;\r\n&amp;lt;/filter&amp;gt;\r\n\r\n&amp;lt;filter-mapping&amp;gt;\r\n\t&amp;lt;filter-name&amp;gt;ExpiresFilter&amp;lt;/filter-name&amp;gt;\r\n\t&amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;\r\n\t&amp;lt;dispatcher&amp;gt;REQUEST&amp;lt;/dispatcher&amp;gt;\r\n&amp;lt;/filter-mapping&amp;gt;\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n  [1]: http://httpd.apache.org/docs/2.2/mod/mod_expires.html","title":"Tomcat: Cache-Control","body":"\n<p>Since Tomcat 7 there is a container provided expires filter that may help. See:</p>\n<ul>\n<li>Tomcat 10: <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html#Expires_Filter\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html#Expires_Filter</a></li>\n<li>Tomcat 9: <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/filter.html#Expires_Filter\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/filter.html#Expires_Filter</a></li>\n<li>Tomcat 8: <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#Expires_Filter\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#Expires_Filter</a></li>\n<li>Tomcat 7: <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Expires_Filter\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Expires_Filter</a></li>\n<li>Tomcat 6 (unofficial backport): <a href=\"https://github.com/bnegrao/ExpiresFilter\" rel=\"nofollow noreferrer\">https://github.com/bnegrao/ExpiresFilter</a></li>\n</ul>\n<blockquote>\n<p>ExpiresFilter is a Java Servlet API port of <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_expires.html\" rel=\"nofollow noreferrer\">Apache mod_expires</a>. This filter controls the setting of the <code>Expires</code> HTTP header and the <code>max-age</code> directive of the <code>Cache-Control</code> HTTP header in server responses. The expiration date can set to be relative to either the time the source file was last modified, or to the time of the client access.</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;ExpiresFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.ExpiresFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ExpiresByType image&lt;/param-name&gt;\n        &lt;param-value&gt;access plus 10 days&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ExpiresByType text/css&lt;/param-name&gt;\n        &lt;param-value&gt;access plus 10 hours&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ExpiresByType application/javascript&lt;/param-name&gt;\n        &lt;param-value&gt;access plus 10 minutes&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;!-- Let everything else expire immediately --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ExpiresDefault&lt;/param-name&gt;\n        &lt;param-value&gt;access plus 0 seconds&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;ExpiresFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2543653,"reputation":1780,"user_id":2208909,"display_name":"Feng Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687787191,"creation_date":1687787191,"answer_id":76557289,"question_id":2876250,"body_markdown":"Almost all answers I researched are from server side, actually client side needs to be worked on as well. In jsp/html need to add below in header.\r\n\r\n    &lt;META http-equiv=&quot;Expires&quot; CONTENT=&quot;0&quot;&gt;  \r\n    &lt;META http-equiv=&quot;Cache-Control&quot; CONTENT=&quot;no-cache&quot;&gt;  \r\n    &lt;META http-equiv=&quot;Pragma&quot; CONTENT=&quot;no-cache&quot;&gt;  ","title":"Tomcat: Cache-Control","body":"<p>Almost all answers I researched are from server side, actually client side needs to be worked on as well. In jsp/html need to add below in header.</p>\n<pre><code>&lt;META http-equiv=&quot;Expires&quot; CONTENT=&quot;0&quot;&gt;  \n&lt;META http-equiv=&quot;Cache-Control&quot; CONTENT=&quot;no-cache&quot;&gt;  \n&lt;META http-equiv=&quot;Pragma&quot; CONTENT=&quot;no-cache&quot;&gt;  \n</code></pre>\n"}],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108722,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":4997498,"answer_count":7,"score":50,"last_activity_date":1687787191,"creation_date":1274376398,"question_id":2876250,"body_markdown":"Jetty has a [CacheControl parameter][1] (can be specified webdefault.xml) that determines the caching behavior of clients (by affecting headers sent to clients).\r\n\r\nDoes Tomcat has a similar option?\r\nIn short, I want to turn off caching of all pages delivered by a tomcat server and/or by a specific webapp?\r\n\r\n\r\n  [1]: http://christiansons.net/mike/blog/2009/09/jetty-browser-cache-control/\r\n\r\n\r\n\r\n**Update**\r\n\r\nPlease note that I am not referring to server-side caching. I want the server to tell all clients (browsers) not to use their own cache and to always fetch the content from the server. I want to do it for all resources, including static resources (.css, .js, etc.)  at once.\r\n","title":"Tomcat: Cache-Control","body":"<p>Jetty has a <a href=\"http://christiansons.net/mike/blog/2009/09/jetty-browser-cache-control/\" rel=\"noreferrer\">CacheControl parameter</a> (can be specified webdefault.xml) that determines the caching behavior of clients (by affecting headers sent to clients).</p>\n\n<p>Does Tomcat has a similar option?\nIn short, I want to turn off caching of all pages delivered by a tomcat server and/or by a specific webapp?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Please note that I am not referring to server-side caching. I want the server to tell all clients (browsers) not to use their own cache and to always fetch the content from the server. I want to do it for all resources, including static resources (.css, .js, etc.)  at once.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1687632392,"post_id":76547530,"comment_id":134965098,"body_markdown":"&quot;it&#39;s only supporting Kotlin and not java presently&quot; -- Android Studio supports both Java and Kotlin.","body":"&quot;it&#39;s only supporting Kotlin and not java presently&quot; -- Android Studio supports both Java and Kotlin."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687632538,"post_id":76547530,"comment_id":134965111,"body_markdown":"Why are you trying to open a Kotlin generated class as Java? Sounds like an XY Problem.","body":"Why are you trying to open a Kotlin generated class as Java? Sounds like an XY Problem."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1687641849,"post_id":76547530,"comment_id":134966014,"body_markdown":"Try looking at [Converting a Kotlin File to Java](https://www.baeldung.com/kotlin/convert-to-java).","body":"Try looking at <a href=\"https://www.baeldung.com/kotlin/convert-to-java\" rel=\"nofollow noreferrer\">Converting a Kotlin File to Java</a>."},{"owner":{"account_id":27648043,"reputation":11,"user_id":21103521,"display_name":"Pranjali Srivastava"},"score":0,"creation_date":1687644870,"post_id":76547530,"comment_id":134966266,"body_markdown":"Due to the above issue, I can&#39;t find activity_main.xml or MainActivity.java                             Where to write their respective codes?","body":"Due to the above issue, I can&#39;t find activity_main.xml or MainActivity.java                             Where to write their respective codes?"},{"owner":{"account_id":11091407,"reputation":152,"user_id":8143136,"display_name":"Sidnio"},"score":0,"creation_date":1687688341,"post_id":76547530,"comment_id":134968977,"body_markdown":"Android Studio supports Java","body":"Android Studio supports Java"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1687693940,"post_id":76547530,"comment_id":134969515,"body_markdown":"It&#39;s hard to understand what do you mean. First, as others said, Java is supported by Android Studio. Second, if it wouldn&#39;t, then how would it make sense to convert from a supported language to an unsupported one? I guess you mean something much different.","body":"It&#39;s hard to understand what do you mean. First, as others said, Java is supported by Android Studio. Second, if it wouldn&#39;t, then how would it make sense to convert from a supported language to an unsupported one? I guess you mean something much different."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687776536,"post_id":76547530,"comment_id":134979105,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27648043,"reputation":11,"user_id":21103521,"display_name":"Pranjali Srivastava"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687786999,"creation_date":1687632150,"question_id":76547530,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nHow to find activity main.Xml and Activity main.xml in android studio? Previously it was there but after the update I can&#39;t find it. A screenshot of Android studio is attached below.\r\n\r\nHow to convert a Kotlin source file to a Java source file?? Tools&gt;&gt;Kotlin&gt;&gt;Kotlin bytecode is not accessible as of now.\r\n\r\nI wanted to write code in java in android studio\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ndZb.png","title":"How to convert a Kotlin source file to a Java source file. (Kotlin Bytecode from tools is hidden) any other way will be quite helpful","body":"<p><a href=\"https://i.stack.imgur.com/1ndZb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ndZb.png\" alt=\"enter image description here\" /></a></p>\n<p>How to find activity main.Xml and Activity main.xml in android studio? Previously it was there but after the update I can't find it. A screenshot of Android studio is attached below.</p>\n<p>How to convert a Kotlin source file to a Java source file?? Tools&gt;&gt;Kotlin&gt;&gt;Kotlin bytecode is not accessible as of now.</p>\n<p>I wanted to write code in java in android studio</p>\n"},{"tags":["java","encryption","vigenere"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1687786231,"post_id":76557117,"comment_id":134981176,"body_markdown":"Please provide a complete, minimal and verifiable example, so that we can reproduce your problem. As your example stands now, I have no idea what the input and expected output should be.","body":"Please provide a complete, minimal and verifiable example, so that we can reproduce your problem. As your example stands now, I have no idea what the input and expected output should be."}],"owner":{"account_id":26440042,"reputation":1,"user_id":20084724,"display_name":"Parcival"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687786555,"creation_date":1687785783,"question_id":76557117,"body_markdown":"I am programming an automatic Vigenere Cipher decoder using a frequency analysis. To be able to do that, I need the length of the key used. I am programming in Java.\r\n\r\nMy program works perfectly fine, but only with key lengths that are prime numbers.\r\nExample: The key has a length of 6. My program detects a key length of 3, as it is the smallest factor. \r\n\r\n\r\nMy input would look like this: [196, 231, 15, 67, 93, 26]. These are the distances between matching substrings in the ciphered text. These are only example numbers, not sure if they would work.\r\nThe output should be a single number, the key length associated to the numbers.\r\n\r\nThis is my code for determining the key length: \r\n\r\n```\r\npublic class LengthDeterminer {\r\n     public static int getLength(int[] matchDistances) {\r\n         if (matchDistances == null) return -1;\r\n         Map&lt;Integer, Integer&gt; factorsToOccurency = factorsToOccurency(matchDistances); // Collect factors with occurency count\r\n         if (VigenereDecipher.debugMode()) {\r\n             System.out.println(factorsToOccurency);\r\n         }\r\n         return Collections.max(factorsToOccurency.entrySet(), Map.Entry.comparingByValue()).getKey();\r\n\r\n    }\r\n\r\n    private static Map&lt;Integer, Integer&gt; factorsToOccurency (int[] matchDistances) {\r\n        Map&lt;Integer, Integer&gt; returnMap = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; matchDistances.length; i++) { \r\n\r\n            if (matchDistances[i] &lt;= 1) continue; // Negative distances would only double every number, maybe a problem of a other part of my program\r\n\r\n            int smallFactor = smallestFactor(matchDistances[i]);\r\n\r\n            if (returnMap.containsKey(smallFactor)) {\r\n                returnMap.put(smallFactor, returnMap.get(smallFactor) +1);\r\n            } else {\r\n                returnMap.put(smallFactor, 1);\r\n            }\r\n        }\r\n\r\n        return returnMap;\r\n\r\n    }\r\n\r\n    private static int smallestFactor(int x)\r\n    {\r\n        if(x &lt; 1)  return -1;\r\n        if(x == 1) return  1;\r\n\r\n        for(int i=3; i&lt;=x; i++)\r\n            if(x % i == 0)\r\n                return i;\r\n\r\n        return -1; // To stop compiler&#39;s complaints.\r\n    }\r\n}\r\n```\r\n\r\nThe getLength() class is the one being initially called. I input the distances between matching substrings in the ciphered text. When using non-prime keys it doesnt work, it just spits out the smallest prime factor of the key length. \r\n\r\nCan anybody help me?","title":"Finding the key length of a Vigenere cipher when it is even","body":"<p>I am programming an automatic Vigenere Cipher decoder using a frequency analysis. To be able to do that, I need the length of the key used. I am programming in Java.</p>\n<p>My program works perfectly fine, but only with key lengths that are prime numbers.\nExample: The key has a length of 6. My program detects a key length of 3, as it is the smallest factor.</p>\n<p>My input would look like this: [196, 231, 15, 67, 93, 26]. These are the distances between matching substrings in the ciphered text. These are only example numbers, not sure if they would work.\nThe output should be a single number, the key length associated to the numbers.</p>\n<p>This is my code for determining the key length:</p>\n<pre><code>public class LengthDeterminer {\n     public static int getLength(int[] matchDistances) {\n         if (matchDistances == null) return -1;\n         Map&lt;Integer, Integer&gt; factorsToOccurency = factorsToOccurency(matchDistances); // Collect factors with occurency count\n         if (VigenereDecipher.debugMode()) {\n             System.out.println(factorsToOccurency);\n         }\n         return Collections.max(factorsToOccurency.entrySet(), Map.Entry.comparingByValue()).getKey();\n\n    }\n\n    private static Map&lt;Integer, Integer&gt; factorsToOccurency (int[] matchDistances) {\n        Map&lt;Integer, Integer&gt; returnMap = new HashMap&lt;&gt;();\n\n        for (int i = 0; i &lt; matchDistances.length; i++) { \n\n            if (matchDistances[i] &lt;= 1) continue; // Negative distances would only double every number, maybe a problem of a other part of my program\n\n            int smallFactor = smallestFactor(matchDistances[i]);\n\n            if (returnMap.containsKey(smallFactor)) {\n                returnMap.put(smallFactor, returnMap.get(smallFactor) +1);\n            } else {\n                returnMap.put(smallFactor, 1);\n            }\n        }\n\n        return returnMap;\n\n    }\n\n    private static int smallestFactor(int x)\n    {\n        if(x &lt; 1)  return -1;\n        if(x == 1) return  1;\n\n        for(int i=3; i&lt;=x; i++)\n            if(x % i == 0)\n                return i;\n\n        return -1; // To stop compiler's complaints.\n    }\n}\n</code></pre>\n<p>The getLength() class is the one being initially called. I input the distances between matching substrings in the ciphered text. When using non-prime keys it doesnt work, it just spits out the smallest prime factor of the key length.</p>\n<p>Can anybody help me?</p>\n"},{"tags":["java","spring","spring-el"],"answers":[{"tags":[],"owner":{"account_id":107780,"reputation":5081,"user_id":286419,"accept_rate":79,"display_name":"Alex Florescu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1376588052,"creation_date":1376588052,"answer_id":18258299,"question_id":18258298,"body_markdown":"If you&#39;re using Spring 3.0 or later, you can use the property inside the SpEL expression like this: \r\n\t\t\r\n       &lt;property name=&quot;validationQueryTimeout&quot; value=&quot;#{${jdbc.timeout}/1000}&quot; /&gt;\r\n","title":"How to do arithmetic in Spring properties, with values from a properties file?","body":"<p>If you're using Spring 3.0 or later, you can use the property inside the SpEL expression like this: </p>\n\n<pre><code>   &lt;property name=\"validationQueryTimeout\" value=\"#{${jdbc.timeout}/1000}\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687786417,"creation_date":1687786417,"answer_id":76557204,"question_id":18258298,"body_markdown":"If anyone is looking for similar arithmetic operation in `@Value`, can be done by `#{${someProperty} + 2}`. &lt;br&gt;\r\nIn this case `@Value(#{${jdbc.timeout} / 1000})`","title":"How to do arithmetic in Spring properties, with values from a properties file?","body":"<p>If anyone is looking for similar arithmetic operation in <code>@Value</code>, can be done by <code>#{${someProperty} + 2}</code>. <br>\nIn this case <code>@Value(#{${jdbc.timeout} / 1000})</code></p>\n"}],"owner":{"account_id":107780,"reputation":5081,"user_id":286419,"accept_rate":79,"display_name":"Alex Florescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4514,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18258299,"answer_count":2,"score":3,"last_activity_date":1687786417,"creation_date":1376588052,"question_id":18258298,"body_markdown":"Example use-case: properties file passes in a numeric value in millis, and you want to use it in seconds. \r\n\r\nYour .properties file:\r\n\r\n&gt; jdbc.timeout= 2000\r\n\r\nYour applicationContext.xml currently\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt; \t\t\r\n       &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; \t\t\r\n       &lt;property name=&quot;url&quot;value=&quot;jdbc:mysql://myserver/mydb&quot; /&gt;\r\n       &lt;property name=&quot;username&quot; value=&quot;user&quot; /&gt; \t\t\r\n       &lt;property name=&quot;password&quot; value=&quot;changeme&quot; /&gt; \t\t\r\n       &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1;&quot;/&gt; \t\t\r\n       &lt;property name=&quot;validationQueryTimeout&quot; value=&quot;${jdbc.timeout}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nYou want the validationQueryTimeout value to be in seconds, how do you convert it? ","title":"How to do arithmetic in Spring properties, with values from a properties file?","body":"<p>Example use-case: properties file passes in a numeric value in millis, and you want to use it in seconds. </p>\n\n<p>Your .properties file:</p>\n\n<blockquote>\n  <p>jdbc.timeout= 2000</p>\n</blockquote>\n\n<p>Your applicationContext.xml currently</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;       \n   &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;        \n   &lt;property name=\"url\"value=\"jdbc:mysql://myserver/mydb\" /&gt;\n   &lt;property name=\"username\" value=\"user\" /&gt;        \n   &lt;property name=\"password\" value=\"changeme\" /&gt;        \n   &lt;property name=\"validationQuery\" value=\"SELECT 1;\"/&gt;         \n   &lt;property name=\"validationQueryTimeout\" value=\"${jdbc.timeout}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>You want the validationQueryTimeout value to be in seconds, how do you convert it? </p>\n"},{"tags":["java","spring","http","log4j2"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687787179,"post_id":76557182,"comment_id":134981399,"body_markdown":"Ehrm, you are just sending them out? I assume something is actually listening on that URL else it would be pretty useless.","body":"Ehrm, you are just sending them out? I assume something is actually listening on that URL else it would be pretty useless."}],"owner":{"account_id":22843757,"reputation":29,"user_id":16990363,"display_name":"kev0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687786249,"creation_date":1687786249,"question_id":76557182,"body_markdown":"In my `log4j2.xml`, my HTTPAppender is configured to send out the logs to a url on my localhost. I would just like to read the logs whenever my HTTPAppender sends them out. How can I achieve this?\r\n\r\nI can see through the console the HTTPAppender is working and logs are going out. Just not sure how to retrieve them after.\r\n\r\n`&lt;Http name=&quot;Http&quot; url=&quot;https://localhost:8080/myUrl/&quot;&gt;`\r\n\r\nThat is the url my log4j2.xml is sending the logs to. What is the easiest way for me to retrieve the logs? \r\n\r\nThanks","title":"How do I read the log4j2 logs my HTTPAppender is sending to the url?","body":"<p>In my <code>log4j2.xml</code>, my HTTPAppender is configured to send out the logs to a url on my localhost. I would just like to read the logs whenever my HTTPAppender sends them out. How can I achieve this?</p>\n<p>I can see through the console the HTTPAppender is working and logs are going out. Just not sure how to retrieve them after.</p>\n<p><code>&lt;Http name=&quot;Http&quot; url=&quot;https://localhost:8080/myUrl/&quot;&gt;</code></p>\n<p>That is the url my log4j2.xml is sending the logs to. What is the easiest way for me to retrieve the logs?</p>\n<p>Thanks</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687785517,"post_id":76557043,"comment_id":134981006,"body_markdown":"Well don&#39;t use `getResultList`, increase the  fetch size through a query hint. I also don&#39;t really get the use of a `Page` here as you always retrieve everything.","body":"Well don&#39;t use <code>getResultList</code>, increase the  fetch size through a query hint. I also don&#39;t really get the use of a <code>Page</code> here as you always retrieve everything."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687785694,"post_id":76557043,"comment_id":134981037,"body_markdown":"Get a DBA to look at the execution of the query and see whether any indexes should be added.","body":"Get a DBA to look at the execution of the query and see whether any indexes should be added."},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1687786200,"post_id":76557043,"comment_id":134981170,"body_markdown":"@tgdavies I have added index to the entities. I got a bit faster, but not as fast as expected.","body":"@tgdavies I have added index to the entities. I got a bit faster, but not as fast as expected."},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1687786292,"post_id":76557043,"comment_id":134981196,"body_markdown":"@M.Deinum I have changed the code to get a sublist of the List based on the pagination. Haven&#39;t added the change here. Adding fetch size - since this is a report, I need to get all values for the filters provided. So, will adding fetch size help?","body":"@M.Deinum I have changed the code to get a sublist of the List based on the pagination. Haven&#39;t added the change here. Adding fetch size - since this is a report, I need to get all values for the filters provided. So, will adding fetch size help?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687786842,"post_id":76557043,"comment_id":134981319,"body_markdown":"Fetch size reduces the number of round trips, thus network calls. The default is 10 (which is low) use something like 1000 or 500 to reduce the network roundtrips. Also if you get a sublist this is is even worse, you get everything and then ditch 80% because you don&#39;t need it.","body":"Fetch size reduces the number of round trips, thus network calls. The default is 10 (which is low) use something like 1000 or 500 to reduce the network roundtrips. Also if you get a sublist this is is even worse, you get everything and then ditch 80% because you don&#39;t need it."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1687787830,"post_id":76557043,"comment_id":134981552,"body_markdown":"It will be very difficult to answer your question, because (1) it is not a single query. Depending on which conditions get activated, the resulting queries, as well as their performance will differ wildly, (2) looking at the query alone is not enough, we would need to see what indices exist on the tables, a ballpark figure of the number of records in each table etc. a query plan would also help","body":"It will be very difficult to answer your question, because (1) it is not a single query. Depending on which conditions get activated, the resulting queries, as well as their performance will differ wildly, (2) looking at the query alone is not enough, we would need to see what indices exist on the tables, a ballpark figure of the number of records in each table etc. a query plan would also help"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1687787886,"post_id":76557043,"comment_id":134981564,"body_markdown":"Also, have you tried executing the query against the DB directly? JPA likely isn&#39;t the issue","body":"Also, have you tried executing the query against the DB directly? JPA likely isn&#39;t the issue"},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1687834531,"post_id":76557043,"comment_id":134988497,"body_markdown":"Yes @crizzis, it takes around 1-2 minutes.","body":"Yes @crizzis, it takes around 1-2 minutes."}],"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687786094,"creation_date":1687785300,"question_id":76557043,"body_markdown":"I have a requirement to generate a report from db, to get the transactions done by each supplier for a particular buyer. Below is the code to get the details:\r\n \r\n\r\n \r\n\r\n        public Page&lt;TopSupplierItemsDTO&gt; getTopSuppliers(BusinessReportRequestDTO businessReportRequestDTO, Long buyerId, Pageable pageable) {\r\n            StringBuilder stringBuilder = new StringBuilder(); public Page&lt;TopSupplierItemsDTO&gt; getTopSuppliers(BusinessReportRequestDTO businessReportRequestDTO, Long buyerId, Pageable pageable) {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n    stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\r\n                &quot;FROM purchase_order\\n&quot; +\r\n                &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\r\n                &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\r\n            }\r\n            stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\r\n                &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\r\n            stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\r\n            if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\r\n            {\r\n                stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN &#39;&quot;+businessReportRequestDTO.getFromDate()+&quot;&#39; AND  &#39;&quot;+businessReportRequestDTO.getToDate()+&quot;&#39;&quot;);\r\n            }\r\n            stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\r\n            stringBuilder.append(&quot; and purchase_order.purchase_order_status = &#39;PROCESSED&#39; &quot;);\r\n            stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\r\n                String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\r\n                String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\r\n                String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\r\n                String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\r\n            }\r\n            stringBuilder.append(&quot;   group by items.supplier_id&quot;);\r\n            Query resultQuery = em.createNativeQuery(stringBuilder.toString());\r\n            List&lt;Object[]&gt; result = resultQuery.getResultList();\r\n            //Query countQuery = em.createNativeQuery(stringBuilder.toString());\r\n            int count= result.size();\r\n            log.info(&quot; SIZE &quot;+count);\r\n            List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = this.setTopSupplierItemsDTO(result); stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\r\n                &quot;FROM purchase_order\\n&quot; +\r\n                &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\r\n                &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\r\n            }\r\n            stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\r\n                &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\r\n            stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\r\n            if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\r\n            {\r\n                stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN &#39;&quot;+businessReportRequestDTO.getFromDate()+&quot;&#39; AND  &#39;&quot;+businessReportRequestDTO.getToDate()+&quot;&#39;&quot;);\r\n            }\r\n            stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\r\n            stringBuilder.append(&quot; and purchase_order.purchase_order_status = &#39;PROCESSED&#39; &quot;);\r\n            stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\r\n                String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\r\n                String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\r\n                String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\r\n                String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\r\n            }\r\n            stringBuilder.append(&quot;   group by items.supplier_id&quot;);\r\n            Query resultQuery = em.createNativeQuery(stringBuilder.toString());\r\n            List&lt;Object[]&gt; result = resultQuery.getResultList();\r\n            //Query countQuery = em.createNativeQuery(stringBuilder.toString());\r\n            int count= result.size();\r\n            log.info(&quot; SIZE &quot;+count);\r\n            List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = this.setTopSupplierItemsDTO(result); stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\r\n                &quot;FROM purchase_order\\n&quot; +\r\n                &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\r\n                &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\r\n            }\r\n            stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\r\n                &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\r\n            stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\r\n            if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\r\n            {\r\n                stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN &#39;&quot;+businessReportRequestDTO.getFromDate()+&quot;&#39; AND  &#39;&quot;+businessReportRequestDTO.getToDate()+&quot;&#39;&quot;);\r\n            }\r\n            stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\r\n            stringBuilder.append(&quot; and purchase_order.purchase_order_status = &#39;PROCESSED&#39; &quot;);\r\n            stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\r\n                String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\r\n                String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\r\n                String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\r\n                String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\r\n            }\r\n            stringBuilder.append(&quot;   group by items.supplier_id&quot;);\r\n            Query resultQuery = em.createNativeQuery(stringBuilder.toString());\r\n            List&lt;Object[]&gt; result = resultQuery.getResultList();\r\n            //Query countQuery = em.createNativeQuery(stringBuilder.toString());\r\n            int count= result.size();\r\n            log.info(&quot; SIZE &quot;+count);\r\n            List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = setTopSupplierItemsDTO(result);\r\n            return new PageImpl&lt;&gt;(topSupplierItemsDTOList, pageable, count);\r\n    }\r\n\r\nThe issue is this query takes around 1-2 minutes to execute, which makes it slower. The responsse time is between 1.7 - 1.9 minutes for 6 months range. Is there a way to make it quicker? I heard that using spring data will reduce the speed, but I don&#39;t know how to implement it when there is if condition in the query implementation. \r\nThanks in advance.","title":"How to increase query speed with multiple joins and if conditions","body":"<p>I have a requirement to generate a report from db, to get the transactions done by each supplier for a particular buyer. Below is the code to get the details:</p>\n<pre><code>    public Page&lt;TopSupplierItemsDTO&gt; getTopSuppliers(BusinessReportRequestDTO businessReportRequestDTO, Long buyerId, Pageable pageable) {\n        StringBuilder stringBuilder = new StringBuilder(); public Page&lt;TopSupplierItemsDTO&gt; getTopSuppliers(BusinessReportRequestDTO businessReportRequestDTO, Long buyerId, Pageable pageable) {\n        StringBuilder stringBuilder = new StringBuilder();\nstringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\n            &quot;FROM purchase_order\\n&quot; +\n            &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\n            &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\n        }\n        stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\n            &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\n        stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\n        if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\n        {\n            stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN '&quot;+businessReportRequestDTO.getFromDate()+&quot;' AND  '&quot;+businessReportRequestDTO.getToDate()+&quot;'&quot;);\n        }\n        stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\n        stringBuilder.append(&quot; and purchase_order.purchase_order_status = 'PROCESSED' &quot;);\n        stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\n            String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\n            String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\n            String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\n            String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\n        }\n        stringBuilder.append(&quot;   group by items.supplier_id&quot;);\n        Query resultQuery = em.createNativeQuery(stringBuilder.toString());\n        List&lt;Object[]&gt; result = resultQuery.getResultList();\n        //Query countQuery = em.createNativeQuery(stringBuilder.toString());\n        int count= result.size();\n        log.info(&quot; SIZE &quot;+count);\n        List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = this.setTopSupplierItemsDTO(result); stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\n            &quot;FROM purchase_order\\n&quot; +\n            &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\n            &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\n        }\n        stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\n            &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\n        stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\n        if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\n        {\n            stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN '&quot;+businessReportRequestDTO.getFromDate()+&quot;' AND  '&quot;+businessReportRequestDTO.getToDate()+&quot;'&quot;);\n        }\n        stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\n        stringBuilder.append(&quot; and purchase_order.purchase_order_status = 'PROCESSED' &quot;);\n        stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\n            String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\n            String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\n            String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\n            String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\n        }\n        stringBuilder.append(&quot;   group by items.supplier_id&quot;);\n        Query resultQuery = em.createNativeQuery(stringBuilder.toString());\n        List&lt;Object[]&gt; result = resultQuery.getResultList();\n        //Query countQuery = em.createNativeQuery(stringBuilder.toString());\n        int count= result.size();\n        log.info(&quot; SIZE &quot;+count);\n        List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = this.setTopSupplierItemsDTO(result); stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\n            &quot;FROM purchase_order\\n&quot; +\n            &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\n            &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\n        }\n        stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\n            &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\n        stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\n        if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\n        {\n            stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN '&quot;+businessReportRequestDTO.getFromDate()+&quot;' AND  '&quot;+businessReportRequestDTO.getToDate()+&quot;'&quot;);\n        }\n        stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\n        stringBuilder.append(&quot; and purchase_order.purchase_order_status = 'PROCESSED' &quot;);\n        stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\n            String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\n            String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\n            String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\n            String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\n        }\n        stringBuilder.append(&quot;   group by items.supplier_id&quot;);\n        Query resultQuery = em.createNativeQuery(stringBuilder.toString());\n        List&lt;Object[]&gt; result = resultQuery.getResultList();\n        //Query countQuery = em.createNativeQuery(stringBuilder.toString());\n        int count= result.size();\n        log.info(&quot; SIZE &quot;+count);\n        List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = setTopSupplierItemsDTO(result);\n        return new PageImpl&lt;&gt;(topSupplierItemsDTOList, pageable, count);\n}\n</code></pre>\n<p>The issue is this query takes around 1-2 minutes to execute, which makes it slower. The responsse time is between 1.7 - 1.9 minutes for 6 months range. Is there a way to make it quicker? I heard that using spring data will reduce the speed, but I don't know how to implement it when there is if condition in the query implementation.\nThanks in advance.</p>\n"},{"tags":["java","string","java-stream","collectors"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664098264,"post_id":73843343,"comment_id":130389598,"body_markdown":"Are you required to implement your own Collector?  I doubt it’s the easiest way to solve this.","body":"Are you required to implement your own Collector?  I doubt it’s the easiest way to solve this."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664119684,"post_id":73843343,"comment_id":130393569,"body_markdown":"@Abra Your edit changed the numbers from left-justified to (sort of) right-justified.  Are you sure that didn’t change the meaning of the task?","body":"@Abra Your edit changed the numbers from left-justified to (sort of) right-justified.  Are you sure that didn’t change the meaning of the task?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664179848,"post_id":73843343,"comment_id":130403607,"body_markdown":"“*I have been trying to write…*”—I don’t see an honest attempt here, just an empty method and a “write the code for me”.","body":"“<i>I have been trying to write…</i>”—I don’t see an honest attempt here, just an empty method and a “write the code for me”."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664102516,"creation_date":1664102516,"answer_id":73843854,"question_id":73843343,"body_markdown":"Most of the time, when I need to create a custom collector, I create a new class for it and give it methods `accumulate`, `combine` and `finish`, to match the operators in a collector. That class can do whatever is needed. For instance, where the `finish` is optional:\r\n```java\r\nCollector&lt;T, ?, R&gt; collector = Collector.of(\r\n        MyCollector::new,\r\n        MyCollector::accumulate,\r\n        MyCollector::combine,\r\n        MyCollector::finish);\r\n```\r\n\r\nIn your case you will have to stream twice though, as the collector needs to have seen the length of each student name before it can output anything. The collector would store its `CourseResult` instances, as well as the maximum length(s). It would then stream again, and use `String.format` to do all the hard work in adding padding (e.g. `&quot;%&quot; + maxNameLength + &quot;s | %10s | ...&quot;`).\r\n\r\nThe `finish` method would look like this (simplified):\r\n```java\r\npublic String finish() {\r\n    String header = &quot;...\\n&quot;; // use same padding\r\n    String pattern = &quot;...&quot;;\r\n    return results.stream()\r\n            .map(result -&gt; String.format(pattern, result.getPerson().getName(), ...)\r\n            .collect(Collectors.joining(&quot;\\n&quot;, header, &quot;&quot;));\r\n}\r\n```\r\nI wouldn&#39;t use the exact same pattern for the header, because the rows contain numbers where the header does not.","title":"How to return a Collector in Java, that forms a special printable sting?","body":"<p>Most of the time, when I need to create a custom collector, I create a new class for it and give it methods <code>accumulate</code>, <code>combine</code> and <code>finish</code>, to match the operators in a collector. That class can do whatever is needed. For instance, where the <code>finish</code> is optional:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collector&lt;T, ?, R&gt; collector = Collector.of(\n        MyCollector::new,\n        MyCollector::accumulate,\n        MyCollector::combine,\n        MyCollector::finish);\n</code></pre>\n<p>In your case you will have to stream twice though, as the collector needs to have seen the length of each student name before it can output anything. The collector would store its <code>CourseResult</code> instances, as well as the maximum length(s). It would then stream again, and use <code>String.format</code> to do all the hard work in adding padding (e.g. <code>&quot;%&quot; + maxNameLength + &quot;s | %10s | ...&quot;</code>).</p>\n<p>The <code>finish</code> method would look like this (simplified):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String finish() {\n    String header = &quot;...\\n&quot;; // use same padding\n    String pattern = &quot;...&quot;;\n    return results.stream()\n            .map(result -&gt; String.format(pattern, result.getPerson().getName(), ...)\n            .collect(Collectors.joining(&quot;\\n&quot;, header, &quot;&quot;));\n}\n</code></pre>\n<p>I wouldn't use the exact same pattern for the header, because the rows contain numbers where the header does not.</p>\n"}],"owner":{"account_id":26436503,"reputation":17,"user_id":20081790,"display_name":"Khabju"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1687785884,"creation_date":1664097433,"question_id":73843343,"body_markdown":"I have been trying to write a method called `printableStringCollector`, which basically returns a collector that forms a special printable String as described below - \r\n\r\nPrintable String spec\r\n\r\nIt is a multi-line String containing a formatted table of all results and total values and marks.\r\nThe format of your table should meet the following requirements:\r\n\r\n* Headers are required.\r\n* Column width depends on values lengths.\r\n* Rows are sorted by students&#39; last names.\r\n* Columns are sorted by the names of tasks.\r\n* Double values are displayed with 2 digits after the decimal point.\r\n* Values of the column &quot;Mark&quot; are defined by the average total score.\r\n\r\n\r\nExample:\r\n```none\r\nStudent........|Phalaxing |Shieldwalling |Tercioing |Wedging |Total |Mark |\r\nEco Betty......|0 ........|83............|89........|59......|57.75 |F ...|\r\nLodbrok Johnny |61 .......|92............|67........|0.......|55.00 |F....|\r\nPaige Umberto..|75....... |94............|0.........|52......|55.25 |F....|\r\nAverage........|45.33.....|89.67.........|52.00.....|37.00...|56.00 |F....|\r\n```\r\n* wrote the dots for better visual representation\r\n\r\nCan anyone help me implement this method?\r\n\r\n    public Collector&lt;CourseResult, ?, String&gt; printableStringCollector() {\r\n\r\n    }\r\n\r\n`CourseResult` class:\r\n\r\n    public class CourseResult {\r\n        private final Person person;\r\n        private final Map&lt;String, Integer&gt; taskResults;\r\n\r\n        public CourseResult(final Person person, final Map&lt;String, Integer&gt; taskResults) {\r\n            this.person = person;\r\n            this.taskResults = taskResults;\r\n        }\r\n\r\n        public Person getPerson() {\r\n            return person;\r\n        }\r\n\r\n        public Map&lt;String, Integer&gt; getTaskResults() {\r\n            return taskResults;\r\n        }\r\n    }\r\n\r\n`Person` class:\r\n\r\n    public class Person {\r\n        private final String firstName;\r\n        private final String lastName;\r\n        private final int age;\r\n\r\n        public Person(String firstName, String lastName, int age) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.age = age;\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(final Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            final Person person = (Person) o;\r\n            return age == person.age &amp;&amp;\r\n                          Objects.equals(firstName, person.firstName) &amp;&amp;\r\n                          Objects.equals(lastName, person.lastName);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(firstName, lastName, age);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return new StringJoiner(&quot;, &quot;, Person.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n                    .add(&quot;firstName=&#39;&quot; + firstName + &quot;&#39;&quot;)\r\n                    .add(&quot;lastName=&#39;&quot; + lastName + &quot;&#39;&quot;)\r\n                    .add(&quot;age=&quot; + age)\r\n                    .toString();\r\n        }\r\n    }\r\n","title":"How to return a Collector in Java, that forms a special printable sting?","body":"<p>I have been trying to write a method called <code>printableStringCollector</code>, which basically returns a collector that forms a special printable String as described below -</p>\n<p>Printable String spec</p>\n<p>It is a multi-line String containing a formatted table of all results and total values and marks.\nThe format of your table should meet the following requirements:</p>\n<ul>\n<li>Headers are required.</li>\n<li>Column width depends on values lengths.</li>\n<li>Rows are sorted by students' last names.</li>\n<li>Columns are sorted by the names of tasks.</li>\n<li>Double values are displayed with 2 digits after the decimal point.</li>\n<li>Values of the column &quot;Mark&quot; are defined by the average total score.</li>\n</ul>\n<p>Example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Student........|Phalaxing |Shieldwalling |Tercioing |Wedging |Total |Mark |\nEco Betty......|0 ........|83............|89........|59......|57.75 |F ...|\nLodbrok Johnny |61 .......|92............|67........|0.......|55.00 |F....|\nPaige Umberto..|75....... |94............|0.........|52......|55.25 |F....|\nAverage........|45.33.....|89.67.........|52.00.....|37.00...|56.00 |F....|\n</code></pre>\n<ul>\n<li>wrote the dots for better visual representation</li>\n</ul>\n<p>Can anyone help me implement this method?</p>\n<pre><code>public Collector&lt;CourseResult, ?, String&gt; printableStringCollector() {\n\n}\n</code></pre>\n<p><code>CourseResult</code> class:</p>\n<pre><code>public class CourseResult {\n    private final Person person;\n    private final Map&lt;String, Integer&gt; taskResults;\n\n    public CourseResult(final Person person, final Map&lt;String, Integer&gt; taskResults) {\n        this.person = person;\n        this.taskResults = taskResults;\n    }\n\n    public Person getPerson() {\n        return person;\n    }\n\n    public Map&lt;String, Integer&gt; getTaskResults() {\n        return taskResults;\n    }\n}\n</code></pre>\n<p><code>Person</code> class:</p>\n<pre><code>public class Person {\n    private final String firstName;\n    private final String lastName;\n    private final int age;\n\n    public Person(String firstName, String lastName, int age) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.age = age;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        final Person person = (Person) o;\n        return age == person.age &amp;&amp;\n                      Objects.equals(firstName, person.firstName) &amp;&amp;\n                      Objects.equals(lastName, person.lastName);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(firstName, lastName, age);\n    }\n\n    @Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, Person.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n                .add(&quot;firstName='&quot; + firstName + &quot;'&quot;)\n                .add(&quot;lastName='&quot; + lastName + &quot;'&quot;)\n                .add(&quot;age=&quot; + age)\n                .toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","mocking","jms","message-queue","provider"],"comments":[{"owner":{"account_id":74767,"reputation":31622,"user_id":214668,"accept_rate":100,"display_name":"T.Rob"},"score":1,"creation_date":1287507224,"post_id":3970567,"comment_id":4245936,"body_markdown":"Why go to all that trouble?  Why not just install a local JMS provider on your workstation and use it?  You can download open source ones and trial versions of vendor JMS providers.  Since it&#39;s JMS, any compliant implementation will work for unit testing.","body":"Why go to all that trouble?  Why not just install a local JMS provider on your workstation and use it?  You can download open source ones and trial versions of vendor JMS providers.  Since it&#39;s JMS, any compliant implementation will work for unit testing."},{"owner":{"account_id":57024,"reputation":13340,"user_id":170830,"accept_rate":90,"display_name":"sergionni"},"score":0,"creation_date":1287507458,"post_id":3970567,"comment_id":4245975,"body_markdown":"That is i ask, so i need install JMS provider. What could you advise me? thank you","body":"That is i ask, so i need install JMS provider. What could you advise me? thank you"},{"owner":{"account_id":74767,"reputation":31622,"user_id":214668,"accept_rate":100,"display_name":"T.Rob"},"score":0,"creation_date":1287531901,"post_id":3970567,"comment_id":4249965,"body_markdown":"Well, I&#39;m an IBMer so I have to suggest the trial of WMQ.  :-)  But I see you&#39;ve already found ActiveMQ which you can use for development without it expiring.  On the other hand, whatever you use in production would be best to develop on so move to that once you know what it will be.","body":"Well, I&#39;m an IBMer so I have to suggest the trial of WMQ.  :-)  But I see you&#39;ve already found ActiveMQ which you can use for development without it expiring.  On the other hand, whatever you use in production would be best to develop on so move to that once you know what it will be."},{"owner":{"account_id":9173604,"reputation":243,"user_id":6820091,"display_name":"Yallaling Goudar"},"score":2,"creation_date":1480589376,"post_id":3970567,"comment_id":69029948,"body_markdown":"Easy way to mock a JMS Queue. Refer below website https://dzone.com/articles/mockrunner-jms-spring-unit","body":"Easy way to mock a JMS Queue. Refer below website <a href=\"https://dzone.com/articles/mockrunner-jms-spring-unit\" rel=\"nofollow noreferrer\">dzone.com/articles/mockrunner-jms-spring-unit</a>"}],"answers":[{"tags":[],"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"down_vote_count":11,"up_vote_count":10,"is_accepted":false,"score":-1,"last_activity_date":1287507193,"creation_date":1287507193,"answer_id":3970715,"question_id":3970567,"body_markdown":"Generally it is a bad practice to mock or simulate an external system, such as JMS. A better idea would be to abstract your logic into a standalone bean, implement a delegation layer that would bridge JMS with your bean. With such design you can test your bean in isolation from JMS and then have system test that would test the whole integration with real JMS system.\r\n\r\nAs for in-process JMS you can look at [SomnifugiJMS][1].\r\n\r\n\r\n  [1]: https://somnifugijms.dev.java.net/","title":"Mock or simulate Message Queue (JMS)","body":"<p>Generally it is a bad practice to mock or simulate an external system, such as JMS. A better idea would be to abstract your logic into a standalone bean, implement a delegation layer that would bridge JMS with your bean. With such design you can test your bean in isolation from JMS and then have system test that would test the whole integration with real JMS system.</p>\n\n<p>As for in-process JMS you can look at <a href=\"https://somnifugijms.dev.java.net/\" rel=\"nofollow\">SomnifugiJMS</a>.</p>\n"},{"tags":[],"owner":{"account_id":177464,"reputation":3638,"user_id":408815,"display_name":"jcalvert"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1287511477,"creation_date":1287511477,"answer_id":3971269,"question_id":3970567,"body_markdown":"If you use [Spring Integration][1], you can do this pretty easily. It has a very basic, abstract &quot;Channel&quot; implementation. You can create and test your producers and consumers, and when you&#39;re ready to move a step further, you just specify a JMS adapter on top of your Channel. \r\n\r\n  [1]: http://www.springsource.org/spring-integration","title":"Mock or simulate Message Queue (JMS)","body":"<p>If you use <a href=\"http://www.springsource.org/spring-integration\" rel=\"noreferrer\">Spring Integration</a>, you can do this pretty easily. It has a very basic, abstract \"Channel\" implementation. You can create and test your producers and consumers, and when you're ready to move a step further, you just specify a JMS adapter on top of your Channel. </p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1287514839,"creation_date":1287514839,"answer_id":3971715,"question_id":3970567,"body_markdown":"Generally I agree with Eugene Kuleshov. But if you still need such mocking I&#39;d suggest you to use BlckingQueue from java.util.concurent package. I think it is not a big problem to wrap it with javax.jms.Queue interface. BTW it is a good idea for some kind of open-source project.","title":"Mock or simulate Message Queue (JMS)","body":"<p>Generally I agree with Eugene Kuleshov. But if you still need such mocking I'd suggest you to use BlckingQueue from java.util.concurent package. I think it is not a big problem to wrap it with javax.jms.Queue interface. BTW it is a good idea for some kind of open-source project.</p>\n"},{"tags":[],"owner":{"account_id":3177957,"reputation":1440,"user_id":2685402,"accept_rate":53,"display_name":"Wojtek"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1578023152,"creation_date":1512738405,"answer_id":47715031,"question_id":3970567,"body_markdown":"To test an application in isolation when the real production JMS provider is not available you can use one of: \r\n\r\n 1. **JMS mock:**  \r\nWhen testing your applications you can simulate the non-existing dependencies using [test doubles][1]. You can use a JMS mock which will simulate the behaviour of a real JMS provider. [API simulation tools][2] will allow you to create JMS mocks (just choose a tool that supports JMS, for example [Traffic Parrot][3]). Using a JMS mock will allow you for a high level of flexibility during testing. You will be able to test typical production-like test scenarios but also hypothetical situations by setting up your mock to return almost any type of message. You will also be able to simulate different types of errors, which is often hard to do with real JMS providers. Have a look at [this introduction video to JMS service virtualization for ActiveMq][4] (service virtualization is a different name for a mock) or [this one for IBM MQ][5]. Note, these videos are from Traffic Parrot, but the principle described there will apply to any tool you choose.\r\n\r\n 2. **JMS provider test instance:**  \r\nYou can run a JMS provider on your laptop or in one of your test environments and connect your application to it instead of the production provider. When you use open source providers in production like ActiveMQ or RabbitMQ, it should be easy to run one of them on your laptop as well because they are lightweight and free. For IBM Websphere MQ, you can use the free [IBM MQ for Developers][6].\r\n\r\n 3. **JMS class mock:**  \r\nYou can use [Mockito][7] in unit tests to mock interactions with JMS classes. This solution comes with all the trade-offs of unit testing. For more information on those see [testing pyramid][8].\r\n\r\nIf you would like to black box test your application, use one of the solutions I have described above. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test_double\r\n  [2]: https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\r\n  [3]: http://trafficparrot.com/\r\n  [4]: https://www.youtube.com/watch?v=ag8QxEmKsZs\r\n  [5]: https://www.youtube.com/watch?v=mWxSuVWnv1M\r\n  [6]: https://hub.docker.com/r/ibmcom/mq/\r\n  [7]: http://site.mockito.org/\r\n  [8]: https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html","title":"Mock or simulate Message Queue (JMS)","body":"<p>To test an application in isolation when the real production JMS provider is not available you can use one of: </p>\n\n<ol>\n<li><p><strong>JMS mock:</strong><br>\nWhen testing your applications you can simulate the non-existing dependencies using <a href=\"https://en.wikipedia.org/wiki/Test_double\" rel=\"noreferrer\">test doubles</a>. You can use a JMS mock which will simulate the behaviour of a real JMS provider. <a href=\"https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\" rel=\"noreferrer\">API simulation tools</a> will allow you to create JMS mocks (just choose a tool that supports JMS, for example <a href=\"http://trafficparrot.com/\" rel=\"noreferrer\">Traffic Parrot</a>). Using a JMS mock will allow you for a high level of flexibility during testing. You will be able to test typical production-like test scenarios but also hypothetical situations by setting up your mock to return almost any type of message. You will also be able to simulate different types of errors, which is often hard to do with real JMS providers. Have a look at <a href=\"https://www.youtube.com/watch?v=ag8QxEmKsZs\" rel=\"noreferrer\">this introduction video to JMS service virtualization for ActiveMq</a> (service virtualization is a different name for a mock) or <a href=\"https://www.youtube.com/watch?v=mWxSuVWnv1M\" rel=\"noreferrer\">this one for IBM MQ</a>. Note, these videos are from Traffic Parrot, but the principle described there will apply to any tool you choose.</p></li>\n<li><p><strong>JMS provider test instance:</strong><br>\nYou can run a JMS provider on your laptop or in one of your test environments and connect your application to it instead of the production provider. When you use open source providers in production like ActiveMQ or RabbitMQ, it should be easy to run one of them on your laptop as well because they are lightweight and free. For IBM Websphere MQ, you can use the free <a href=\"https://hub.docker.com/r/ibmcom/mq/\" rel=\"noreferrer\">IBM MQ for Developers</a>.</p></li>\n<li><p><strong>JMS class mock:</strong><br>\nYou can use <a href=\"http://site.mockito.org/\" rel=\"noreferrer\">Mockito</a> in unit tests to mock interactions with JMS classes. This solution comes with all the trade-offs of unit testing. For more information on those see <a href=\"https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html\" rel=\"noreferrer\">testing pyramid</a>.</p></li>\n</ol>\n\n<p>If you would like to black box test your application, use one of the solutions I have described above. </p>\n"},{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687785435,"creation_date":1687785435,"answer_id":76557064,"question_id":3970567,"body_markdown":"In the meantime almost every Message Broker has an embedded version which runs within the JVM only. Thus you can use this for tests instead of a dependent external JMS Broker. ","title":"Mock or simulate Message Queue (JMS)","body":"<p>In the meantime almost every Message Broker has an embedded version which runs within the JVM only. Thus you can use this for tests instead of a dependent external JMS Broker.</p>\n"}],"owner":{"account_id":57024,"reputation":13340,"user_id":170830,"accept_rate":90,"display_name":"sergionni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59489,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":3971269,"answer_count":5,"score":28,"last_activity_date":1687785435,"creation_date":1287506064,"question_id":3970567,"body_markdown":"There is a message(text), which format and content i definitely know.&lt;br/&gt;\r\nFor now,class in Java,that parses and reads this message from file,is implemented.\r\n\r\nIn real world, this message will come from Message Queue.\r\n\r\nFor now I should simulate, mock or generate Message Queue on my local PC for testing purposes.\r\n\r\nJava spec([java jms][1]):\r\n\r\n    JMS provider: A messaging system that implements the JMS specification.\r\n    JMS clients: Java applications that send and receive messages.\r\n    Messages: Objects that are used to communicate information between JMS clients.\r\n\r\nConcerning this specification, i need ***JMS provider***.\r\n\r\n*JMS client*-it&#39;s my class that reads message.&lt;br/&gt;\r\n*Message* itself i know.\r\n\r\nSo the question is how to start message queue?&lt;br/&gt;\r\nHow can i simulate it programmaticaly from Java code? Can i mock it somehow?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Ecommerce/jms/index.html","title":"Mock or simulate Message Queue (JMS)","body":"<p>There is a message(text), which format and content i definitely know.<br/>\nFor now,class in Java,that parses and reads this message from file,is implemented.</p>\n\n<p>In real world, this message will come from Message Queue.</p>\n\n<p>For now I should simulate, mock or generate Message Queue on my local PC for testing purposes.</p>\n\n<p>Java spec(<a href=\"http://java.sun.com/developer/technicalArticles/Ecommerce/jms/index.html\" rel=\"noreferrer\">java jms</a>):</p>\n\n<pre><code>JMS provider: A messaging system that implements the JMS specification.\nJMS clients: Java applications that send and receive messages.\nMessages: Objects that are used to communicate information between JMS clients.\n</code></pre>\n\n<p>Concerning this specification, i need <strong><em>JMS provider</em></strong>.</p>\n\n<p><em>JMS client</em>-it's my class that reads message.<br/>\n<em>Message</em> itself i know.</p>\n\n<p>So the question is how to start message queue?<br/>\nHow can i simulate it programmaticaly from Java code? Can i mock it somehow?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-test","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687784864,"creation_date":1687784864,"answer_id":76556997,"question_id":76501020,"body_markdown":"Go to settings and choose the junit 4 OR junit 5 and set the test tyle **Brief**","title":"JUnit tests class not generated by diffblue intellij","body":"<p>Go to settings and choose the junit 4 OR junit 5 and set the test tyle <strong>Brief</strong></p>\n"}],"owner":{"account_id":8331264,"reputation":499,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687784864,"creation_date":1687098262,"question_id":76501020,"body_markdown":"I installed diffblue plugin in intelliJ IDE and have spring boot with java 11 project. Here I tried to generate test class/cases for one service class.\r\n\r\n        @Service\r\n        public class MyService {\r\n        \t@Autowired\r\n        \tOrderRepo orderRepo;\r\n        \t@Autowired\r\n        \tProductRepo productRepo;\r\n    \t\r\n    \t\r\n    \t@Transactional(rollbackFor = Exception.class)\r\n    \tpublic Order mapping() throws Exception {\r\n    \t\tOrder order = new Order();\r\n    \t\torder.setOrderDate(new Date());\r\n    \t\torder.setTransaction(new Transaction(new Date(), 11.0, order));\r\n    \t\torder.setOrderItems(Arrays.asList(new OrderItem(order), new OrderItem(order), new OrderItem(order)));\r\n    \r\n    \t\tProduct p=productRepo.save(new Product(1, &quot;P1&quot;));\r\n    \t\tOrder o=orderRepo.save(order);\r\n    \t\tboolean b=checkOrder(o);\r\n    \t\treturn o;\r\n    \t}\r\n    }\r\n\r\nwhen trying to generate test case from diffblue icon its not generating. message as :\r\n\r\n    Tests written: 0\r\n    Cover was unable to write any tests for the reasons listed below.\r\n    Change what sort of tests Cover writes in **Change Settings**.\r\n    Methods without tests: 1\r\n    Diffblue AI was unable to find a test: 1\r\n\r\nlog:\r\n\r\n    --monitoring-service-port 54013 --debug-log\r\n    18:56:26.010 [INFO]  [Creating] Server started. Waiting up to 300 seconds for a connection to be established...\r\n    18:56:42.979 [INFO]  [Creating] Starting new remote monitor client\r\n    18:56:55.299 [INFO]  [Creating] Attempting to start remote server.\r\n    18:56:58.951 [INFO]  [Creating] Server started, listening on localhost/127.0.0.1:54028\r\n    18:57:00.046 [INFO]  [Creating] Expect analyzer service to be listening on port 54028.\r\n    18:57:06.357 [INFO]  [Creating] Started analyzer service and client retrieved.\r\n    18:58:04.361 [INFO]  [Creating] \r\n    ================================================================================\r\n    = Creating tests for &#39;com.spring.controller.MyController.batchProcessing:()V&#39; using &#39;SCo[SB] (sp, !fnm, df, !ris)&#39;\r\n    ================================================================================\r\n    19:03:08.041 [INFO]  [Creating] Service shutdown due to watchdog timeout\r\n    19:03:08.215 [INFO]  [Creating] \r\n    == begin thread dump ==\r\n    \r\n    27 threads\r\n    \r\n    Thread 1 &#39;main&#39;:\r\n      java.base@11.0.18/java.lang.Thread.dumpThreads(Native Method)\r\n      java.base@11.0.18/java.lang.Thread.getAllStackTraces(Thread.java:1657)\r\n      com.diffblue.cover.service.a.a.a.d(SourceFile:1164)\r\n      com.diffblue.cover.service.a.a.b.a(SourceFile:151)\r\n      com.diffblue.cover.service.analyzer.Main.main(SourceFile:46)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\r\n      com.diffblue.cover.launcher.Launcher.invokeMainMethod(Launcher.java:116)\r\n      com.diffblue.cover.launcher.Launcher.main(Launcher.java:72)\r\n    Thread 2728 &#39;ClassGraph-worker-15&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 26 &#39;grpc-default-executor-2&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2729 &#39;grpc-default-executor-3&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2721 &#39;ClassGraph-worker-8&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2723 &#39;ClassGraph-worker-10&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 16 &#39;grpc-nio-worker-ELG-1-2&#39;:\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:68)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:813)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\r\n      io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2727 &#39;ClassGraph-worker-14&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 11 &#39;Common-Cleaner&#39;:\r\n      java.base@11.0.18/java.lang.Object.wait(Native Method)\r\n      java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\r\n      java.base@11.0.18/jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:148)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n      java.base@11.0.18/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:134)\r\n    Thread 2722 &#39;ClassGraph-worker-9&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 5 &#39;Attach Listener&#39;:\r\n    Thread 13 &#39;logback-1&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1170)\r\n      java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 12 &#39;Service log dispatcher&#39;:\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.setWakeupSocket0(Native Method)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.setWakeupSocket(WindowsSelectorImpl.java:504)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.wakeup(WindowsSelectorImpl.java:625)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.wakeup(SourceFile:73)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.wakeup(SourceFile:787)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute(SourceFile:857)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute0(SourceFile:827)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute(SourceFile:817)\r\n      io.grpc.netty.shaded.io.grpc.netty.NettyClientStream$TransportState.runOnTransportThread(SourceFile:321)\r\n      io.grpc.internal.AbstractStream$TransportState.requestMessagesFromDeframer(SourceFile:245)\r\n      io.grpc.internal.AbstractStream$TransportState.access$000(SourceFile:111)\r\n      io.grpc.internal.AbstractStream.request(SourceFile:57)\r\n      io.grpc.internal.ForwardingClientStream.request(SourceFile:32)\r\n      io.grpc.internal.RetriableStream$1RequestEntry.runWith(SourceFile:574)\r\n      io.grpc.internal.RetriableStream.delayOrExecute(SourceFile:529)\r\n      io.grpc.internal.RetriableStream.request(SourceFile:578)\r\n      io.grpc.internal.ClientCallImpl.request(SourceFile:440)\r\n      io.grpc.stub.ClientCalls$UnaryStreamToFuture.onStart(SourceFile:550)\r\n      io.grpc.stub.ClientCalls.startCall(SourceFile:342)\r\n      io.grpc.stub.ClientCalls.asyncUnaryRequestCall(SourceFile:315)\r\n      io.grpc.stub.ClientCalls.futureUnaryCall(SourceFile:227)\r\n      com.diffblue.cover.service.a.b.a.a(SourceFile:1440)\r\n      com.diffblue.cover.logging.RemoteLogAppender$a.run(SourceFile:204)\r\n    Thread 17 &#39;grpc-default-executor-0&#39;:\r\n      java.base@11.0.18/java.lang.Object.wait(Native Method)\r\n      java.base@11.0.18/java.lang.Thread.join(Thread.java:1305)\r\n      java.base@11.0.18/java.lang.Thread.join(Thread.java:1379)\r\n      com.diffblue.cover.sandbox.execution.WorkerThread.callWorkerThread(SourceFile:155)\r\n      com.diffblue.cover.sandbox.a.a.a(SourceFile:61)\r\n      com.diffblue.fuzztest.f.c.r(SourceFile:425)\r\n      com.diffblue.fuzztest.f.c$$Lambda$389/0x00000001005a1440.call(Unknown Source)\r\n      com.diffblue.cover.sandbox.execution.WrapExceptionsInBaseException.handleException(SourceFile:57)\r\n      com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.lambda$run$0(SourceFile:23)\r\n      com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException$$Lambda$264/0x0000000100499440.call(Unknown Source)\r\n      com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.handleThrowable(SourceFile:34)\r\n      com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.run(SourceFile:23)\r\n      com.diffblue.fuzztest.f.c.d(SourceFile:424)\r\n      com.diffblue.fuzztest.f.t.d(SourceFile:136)\r\n      com.diffblue.cover.analysis.a.b$a$$Lambda$388/0x00000001005a1040.get(Unknown Source)\r\n      com.diffblue.cover.analysis.a.b$a.a(SourceFile:99)\r\n      com.diffblue.cover.analysis.a.b$a.tryAdvance(SourceFile:246)\r\n      com.diffblue.cover.service.analyzer.a.c$a.a(SourceFile:2037)\r\n      com.diffblue.cover.service.analyzer.a.a.i$h.invoke(SourceFile:638)\r\n      io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(SourceFile:182)\r\n      io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(SourceFile:355)\r\n      io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(SourceFile:867)\r\n      io.grpc.internal.ContextRunnable.run(SourceFile:37)\r\n      io.grpc.internal.SerializingExecutor.run(SourceFile:133)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2731 &#39;TimedExecutor-9&#39;:\r\n      java.base@11.0.18/java.lang.StackTraceElement.initStackTraceElements(Native Method)\r\n      java.base@11.0.18/java.lang.StackTraceElement.of(StackTraceElement.java:526)\r\n      java.base@11.0.18/java.lang.Throwable.getOurStackTrace(Throwable.java:828)\r\n      java.base@11.0.18/java.lang.Throwable.getStackTrace(Throwable.java:820)\r\n      org.mockito.internal.exceptions.stacktrace.StackTraceFilter.filterFirst(StackTraceFilter.java:109)\r\n      org.mockito.internal.debugging.LocationImpl.computeStackTraceInformation(LocationImpl.java:50)\r\n      org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:35)\r\n      org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:26)\r\n      org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:22)\r\n      org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:56)\r\n      org.mockito.internal.creation.bytebuddy.MockMethodInterceptor$DispatcherDefaultingToRealMethod.interceptAbstract(MockMethodInterceptor.java:161)\r\n      org.mockito.codegen.ProductRepo$MockitoMock$iJkinF5x.save(Unknown Source)\r\n      org.mockito.codegen.ProductRepo$MockitoMock$iJkinF5x.save(Unknown Source)\r\n      com.spring.service.MyService.batchProcessing(MyService.java:89)\r\n      com.spring.controller.MyController.batchProcessing(MyController.java:27)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\r\n      org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n      org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n      org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n      org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n      org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n      org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n      org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\r\n      org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\r\n      org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n      org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n      javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\n      org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n      org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n      javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n      org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\r\n      org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n      org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\r\n      com.diffblue.tir.a.h.a(SourceFile:78)\r\n      com.diffblue.tir.a.a.e.a(SourceFile:741)\r\n      com.diffblue.tir.a.f.a(SourceFile:421)\r\n      com.diffblue.tir.a.f.b(SourceFile:80)\r\n      com.diffblue.tir.d.e.a(SourceFile:38)\r\n      com.diffblue.tir.a.g.a(SourceFile:221)\r\n      com.diffblue.tir.a.g.b(SourceFile:88)\r\n      com.diffblue.tir.a.g$$Lambda$1283/0x000000010094f040.call(Unknown Source)\r\n      com.diffblue.cover.sandbox.execution.SafeTimedExecutor$$Lambda$654/0x000000010063b040.call(Unknown Source)\r\n      com.diffblue.cover.sandbox.execution.TimedCallableExecutor$CallableFuture.executeTask(SourceFile:28)\r\n      com.diffblue.cover.sandbox.execution.TimedExecutor$TaskQueueRunner.run(SourceFile:78)\r\n      com.diffblue.cover.sandbox.execution.WorkerThread.run(SourceFile:216)\r\n    Thread 18 &#39;grpc-nio-boss-ELG-3-1&#39;:\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:68)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:813)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\r\n      io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 3 &#39;Finalizer&#39;:\r\n      java.base@11.0.18/java.lang.Object.wait(Native Method)\r\n      java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\r\n      java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:176)\r\n      java.base@11.0.18/java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:170)\r\n    Thread 2725 &#39;ClassGraph-worker-12&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n\r\n      **removed due to limit**\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\r\n      io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 4 &#39;Signal Dispatcher&#39;:\r\n    Thread 15 &#39;grpc-nio-worker-ELG-1-1&#39;:\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:62)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:817)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\r\n      io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    == end thread dump ==\r\n    \r\n    19:03:10.150 [INFO]  [Creating] Exiting service.\r\n    19:03:18.401 [INFO]  [Creating]     [1/1] com.spring.controller.MyController.batchProcessing\r\n    19:03:18.401 [INFO]  [Creating]     [1/1]   Diffblue AI was unable to find a test\r\n    19:03:18.435 [INFO]  [Creating] [1/1] com.spring.controller.MyController\r\n    19:03:18.435 [INFO]  [Creating] [1/1]   Tests created: 0\r\n    19:03:19.179 [INFO]  [Reporting] \r\n    19:03:19.179 [INFO]  [Reporting] Summary:\r\n    19:03:19.179 [INFO]  [Reporting] --------\r\n    19:03:19.179 [INFO]  [Reporting] Total:                                               1 method\r\n    19:03:19.180 [INFO]  [Reporting] \r\n    19:03:19.180 [INFO]  [Reporting] No tests created for:                                1 method\r\n    19:03:28.675 [INFO]  [Reporting] License doesn&#39;t allow multiple classes\r\n    19:03:28.693 [INFO]  [Reporting] License doesn&#39;t allow creating report.json\r\n\r\n\r\nany special settings required? I am using all community edition.","title":"JUnit tests class not generated by diffblue intellij","body":"<p>I installed diffblue plugin in intelliJ IDE and have spring boot with java 11 project. Here I tried to generate test class/cases for one service class.</p>\n<pre><code>    @Service\n    public class MyService {\n        @Autowired\n        OrderRepo orderRepo;\n        @Autowired\n        ProductRepo productRepo;\n    \n    \n    @Transactional(rollbackFor = Exception.class)\n    public Order mapping() throws Exception {\n        Order order = new Order();\n        order.setOrderDate(new Date());\n        order.setTransaction(new Transaction(new Date(), 11.0, order));\n        order.setOrderItems(Arrays.asList(new OrderItem(order), new OrderItem(order), new OrderItem(order)));\n\n        Product p=productRepo.save(new Product(1, &quot;P1&quot;));\n        Order o=orderRepo.save(order);\n        boolean b=checkOrder(o);\n        return o;\n    }\n}\n</code></pre>\n<p>when trying to generate test case from diffblue icon its not generating. message as :</p>\n<pre><code>Tests written: 0\nCover was unable to write any tests for the reasons listed below.\nChange what sort of tests Cover writes in **Change Settings**.\nMethods without tests: 1\nDiffblue AI was unable to find a test: 1\n</code></pre>\n<p>log:</p>\n<pre><code>--monitoring-service-port 54013 --debug-log\n18:56:26.010 [INFO]  [Creating] Server started. Waiting up to 300 seconds for a connection to be established...\n18:56:42.979 [INFO]  [Creating] Starting new remote monitor client\n18:56:55.299 [INFO]  [Creating] Attempting to start remote server.\n18:56:58.951 [INFO]  [Creating] Server started, listening on localhost/127.0.0.1:54028\n18:57:00.046 [INFO]  [Creating] Expect analyzer service to be listening on port 54028.\n18:57:06.357 [INFO]  [Creating] Started analyzer service and client retrieved.\n18:58:04.361 [INFO]  [Creating] \n================================================================================\n= Creating tests for 'com.spring.controller.MyController.batchProcessing:()V' using 'SCo[SB] (sp, !fnm, df, !ris)'\n================================================================================\n19:03:08.041 [INFO]  [Creating] Service shutdown due to watchdog timeout\n19:03:08.215 [INFO]  [Creating] \n== begin thread dump ==\n\n27 threads\n\nThread 1 'main':\n  java.base@11.0.18/java.lang.Thread.dumpThreads(Native Method)\n  java.base@11.0.18/java.lang.Thread.getAllStackTraces(Thread.java:1657)\n  com.diffblue.cover.service.a.a.a.d(SourceFile:1164)\n  com.diffblue.cover.service.a.a.b.a(SourceFile:151)\n  com.diffblue.cover.service.analyzer.Main.main(SourceFile:46)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\n  com.diffblue.cover.launcher.Launcher.invokeMainMethod(Launcher.java:116)\n  com.diffblue.cover.launcher.Launcher.main(Launcher.java:72)\nThread 2728 'ClassGraph-worker-15':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 26 'grpc-default-executor-2':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2729 'grpc-default-executor-3':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2721 'ClassGraph-worker-8':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2723 'ClassGraph-worker-10':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 16 'grpc-nio-worker-ELG-1-2':\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\n  io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:68)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:813)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\n  io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\n  io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2727 'ClassGraph-worker-14':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 11 'Common-Cleaner':\n  java.base@11.0.18/java.lang.Object.wait(Native Method)\n  java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\n  java.base@11.0.18/jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:148)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\n  java.base@11.0.18/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:134)\nThread 2722 'ClassGraph-worker-9':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 5 'Attach Listener':\nThread 13 'logback-1':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1170)\n  java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 12 'Service log dispatcher':\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.setWakeupSocket0(Native Method)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.setWakeupSocket(WindowsSelectorImpl.java:504)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.wakeup(WindowsSelectorImpl.java:625)\n  io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.wakeup(SourceFile:73)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.wakeup(SourceFile:787)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute(SourceFile:857)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute0(SourceFile:827)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute(SourceFile:817)\n  io.grpc.netty.shaded.io.grpc.netty.NettyClientStream$TransportState.runOnTransportThread(SourceFile:321)\n  io.grpc.internal.AbstractStream$TransportState.requestMessagesFromDeframer(SourceFile:245)\n  io.grpc.internal.AbstractStream$TransportState.access$000(SourceFile:111)\n  io.grpc.internal.AbstractStream.request(SourceFile:57)\n  io.grpc.internal.ForwardingClientStream.request(SourceFile:32)\n  io.grpc.internal.RetriableStream$1RequestEntry.runWith(SourceFile:574)\n  io.grpc.internal.RetriableStream.delayOrExecute(SourceFile:529)\n  io.grpc.internal.RetriableStream.request(SourceFile:578)\n  io.grpc.internal.ClientCallImpl.request(SourceFile:440)\n  io.grpc.stub.ClientCalls$UnaryStreamToFuture.onStart(SourceFile:550)\n  io.grpc.stub.ClientCalls.startCall(SourceFile:342)\n  io.grpc.stub.ClientCalls.asyncUnaryRequestCall(SourceFile:315)\n  io.grpc.stub.ClientCalls.futureUnaryCall(SourceFile:227)\n  com.diffblue.cover.service.a.b.a.a(SourceFile:1440)\n  com.diffblue.cover.logging.RemoteLogAppender$a.run(SourceFile:204)\nThread 17 'grpc-default-executor-0':\n  java.base@11.0.18/java.lang.Object.wait(Native Method)\n  java.base@11.0.18/java.lang.Thread.join(Thread.java:1305)\n  java.base@11.0.18/java.lang.Thread.join(Thread.java:1379)\n  com.diffblue.cover.sandbox.execution.WorkerThread.callWorkerThread(SourceFile:155)\n  com.diffblue.cover.sandbox.a.a.a(SourceFile:61)\n  com.diffblue.fuzztest.f.c.r(SourceFile:425)\n  com.diffblue.fuzztest.f.c$$Lambda$389/0x00000001005a1440.call(Unknown Source)\n  com.diffblue.cover.sandbox.execution.WrapExceptionsInBaseException.handleException(SourceFile:57)\n  com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.lambda$run$0(SourceFile:23)\n  com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException$$Lambda$264/0x0000000100499440.call(Unknown Source)\n  com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.handleThrowable(SourceFile:34)\n  com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.run(SourceFile:23)\n  com.diffblue.fuzztest.f.c.d(SourceFile:424)\n  com.diffblue.fuzztest.f.t.d(SourceFile:136)\n  com.diffblue.cover.analysis.a.b$a$$Lambda$388/0x00000001005a1040.get(Unknown Source)\n  com.diffblue.cover.analysis.a.b$a.a(SourceFile:99)\n  com.diffblue.cover.analysis.a.b$a.tryAdvance(SourceFile:246)\n  com.diffblue.cover.service.analyzer.a.c$a.a(SourceFile:2037)\n  com.diffblue.cover.service.analyzer.a.a.i$h.invoke(SourceFile:638)\n  io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(SourceFile:182)\n  io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(SourceFile:355)\n  io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(SourceFile:867)\n  io.grpc.internal.ContextRunnable.run(SourceFile:37)\n  io.grpc.internal.SerializingExecutor.run(SourceFile:133)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2731 'TimedExecutor-9':\n  java.base@11.0.18/java.lang.StackTraceElement.initStackTraceElements(Native Method)\n  java.base@11.0.18/java.lang.StackTraceElement.of(StackTraceElement.java:526)\n  java.base@11.0.18/java.lang.Throwable.getOurStackTrace(Throwable.java:828)\n  java.base@11.0.18/java.lang.Throwable.getStackTrace(Throwable.java:820)\n  org.mockito.internal.exceptions.stacktrace.StackTraceFilter.filterFirst(StackTraceFilter.java:109)\n  org.mockito.internal.debugging.LocationImpl.computeStackTraceInformation(LocationImpl.java:50)\n  org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:35)\n  org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:26)\n  org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:22)\n  org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:56)\n  org.mockito.internal.creation.bytebuddy.MockMethodInterceptor$DispatcherDefaultingToRealMethod.interceptAbstract(MockMethodInterceptor.java:161)\n  org.mockito.codegen.ProductRepo$MockitoMock$iJkinF5x.save(Unknown Source)\n  org.mockito.codegen.ProductRepo$MockitoMock$iJkinF5x.save(Unknown Source)\n  com.spring.service.MyService.batchProcessing(MyService.java:89)\n  com.spring.controller.MyController.batchProcessing(MyController.java:27)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\n  org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n  org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\n  org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\n  org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n  org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\n  com.diffblue.tir.a.h.a(SourceFile:78)\n  com.diffblue.tir.a.a.e.a(SourceFile:741)\n  com.diffblue.tir.a.f.a(SourceFile:421)\n  com.diffblue.tir.a.f.b(SourceFile:80)\n  com.diffblue.tir.d.e.a(SourceFile:38)\n  com.diffblue.tir.a.g.a(SourceFile:221)\n  com.diffblue.tir.a.g.b(SourceFile:88)\n  com.diffblue.tir.a.g$$Lambda$1283/0x000000010094f040.call(Unknown Source)\n  com.diffblue.cover.sandbox.execution.SafeTimedExecutor$$Lambda$654/0x000000010063b040.call(Unknown Source)\n  com.diffblue.cover.sandbox.execution.TimedCallableExecutor$CallableFuture.executeTask(SourceFile:28)\n  com.diffblue.cover.sandbox.execution.TimedExecutor$TaskQueueRunner.run(SourceFile:78)\n  com.diffblue.cover.sandbox.execution.WorkerThread.run(SourceFile:216)\nThread 18 'grpc-nio-boss-ELG-3-1':\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\n  io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:68)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:813)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\n  io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\n  io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 3 'Finalizer':\n  java.base@11.0.18/java.lang.Object.wait(Native Method)\n  java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\n  java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:176)\n  java.base@11.0.18/java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:170)\nThread 2725 'ClassGraph-worker-12':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n\n  **removed due to limit**\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\n  io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\n  io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 4 'Signal Dispatcher':\nThread 15 'grpc-nio-worker-ELG-1-1':\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\n  io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:62)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:817)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\n  io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\n  io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\n== end thread dump ==\n\n19:03:10.150 [INFO]  [Creating] Exiting service.\n19:03:18.401 [INFO]  [Creating]     [1/1] com.spring.controller.MyController.batchProcessing\n19:03:18.401 [INFO]  [Creating]     [1/1]   Diffblue AI was unable to find a test\n19:03:18.435 [INFO]  [Creating] [1/1] com.spring.controller.MyController\n19:03:18.435 [INFO]  [Creating] [1/1]   Tests created: 0\n19:03:19.179 [INFO]  [Reporting] \n19:03:19.179 [INFO]  [Reporting] Summary:\n19:03:19.179 [INFO]  [Reporting] --------\n19:03:19.179 [INFO]  [Reporting] Total:                                               1 method\n19:03:19.180 [INFO]  [Reporting] \n19:03:19.180 [INFO]  [Reporting] No tests created for:                                1 method\n19:03:28.675 [INFO]  [Reporting] License doesn't allow multiple classes\n19:03:28.693 [INFO]  [Reporting] License doesn't allow creating report.json\n</code></pre>\n<p>any special settings required? I am using all community edition.</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1566198676,"post_id":57551173,"comment_id":101566141,"body_markdown":"did below answer resolve your problem?","body":"did below answer resolve your problem?"}],"answers":[{"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566196003,"creation_date":1566196003,"answer_id":57551447,"question_id":57551173,"body_markdown":"You can retrieve all user attributes from `AccessToken` / `IdToken` (object not string).\r\n\r\nFor e.g. :\r\n\r\n    KeycloakSecurityContext keycloakSecurityContext = (KeycloakSecurityContext)(request.getAttribute(KeycloakSecurityContext.class.getName()));\t\r\n    AccessToken token = keycloakSecurityContext.getToken();\r\n\r\n\r\nThis token object contains all fields for user model:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IYULQ.png","title":"how to get user mobile number in keycloak","body":"<p>You can retrieve all user attributes from <code>AccessToken</code> / <code>IdToken</code> (object not string).</p>\n\n<p>For e.g. :</p>\n\n<pre><code>KeycloakSecurityContext keycloakSecurityContext = (KeycloakSecurityContext)(request.getAttribute(KeycloakSecurityContext.class.getName())); \nAccessToken token = keycloakSecurityContext.getToken();\n</code></pre>\n\n<p>This token object contains all fields for user model:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IYULQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IYULQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3236717,"reputation":1785,"user_id":2730735,"display_name":"aelkz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687784717,"creation_date":1687784717,"answer_id":76556976,"question_id":57551173,"body_markdown":"Updated to Keycloak 21.1.1:\r\n\r\n    List&lt;UserModel&gt; users = context.getSession().users().searchForUserByUserAttributeStream(context.getRealm(), MOBILE_NUMBER_ATTR, &quot;999999999&quot;)...collect(Collectors.toList());\r\n\r\nwhere **`MOBILE_NUMBER_ATTR`** is the key attribute you&#39;re looking for and **`999999999`** is the value.\r\n\r\ninterface:\r\nhttps://github.com/keycloak/keycloak/blob/21.1.1/server-spi/src/main/java/org/keycloak/storage/user/UserQueryProvider.java","title":"how to get user mobile number in keycloak","body":"<p>Updated to Keycloak 21.1.1:</p>\n<pre><code>List&lt;UserModel&gt; users = context.getSession().users().searchForUserByUserAttributeStream(context.getRealm(), MOBILE_NUMBER_ATTR, &quot;999999999&quot;)...collect(Collectors.toList());\n</code></pre>\n<p>where <strong><code>MOBILE_NUMBER_ATTR</code></strong> is the key attribute you're looking for and <strong><code>999999999</code></strong> is the value.</p>\n<p>interface:\n<a href=\"https://github.com/keycloak/keycloak/blob/21.1.1/server-spi/src/main/java/org/keycloak/storage/user/UserQueryProvider.java\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/blob/21.1.1/server-spi/src/main/java/org/keycloak/storage/user/UserQueryProvider.java</a></p>\n"}],"owner":{"account_id":6863633,"reputation":231,"user_id":5276822,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57551447,"answer_count":2,"score":1,"last_activity_date":1687784717,"creation_date":1566194589,"question_id":57551173,"body_markdown":"I am trying to get user registered mobile number in keycloak. \r\nI am not sure if keycloak does have a method called `getUserByMobileNumber()`, which I can use to get the user mobile number. I have seen people using `getUserById`, `getUserByUsername` and etc.\r\n\r\n    UserModel numberExisting = context.getSession().users().getUserByMobileNumber(mobileNumber, context.getRealm());","title":"how to get user mobile number in keycloak","body":"<p>I am trying to get user registered mobile number in keycloak. \nI am not sure if keycloak does have a method called <code>getUserByMobileNumber()</code>, which I can use to get the user mobile number. I have seen people using <code>getUserById</code>, <code>getUserByUsername</code> and etc.</p>\n\n<pre><code>UserModel numberExisting = context.getSession().users().getUserByMobileNumber(mobileNumber, context.getRealm());\n</code></pre>\n"},{"tags":["java","newrelic","nrql"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687753567,"post_id":76548306,"comment_id":134975253,"body_markdown":"Hi there, can you also share your code","body":"Hi there, can you also share your code"},{"owner":{"account_id":198515,"reputation":819,"user_id":2132930,"accept_rate":100,"display_name":"Prabodh Mhalgi"},"score":0,"creation_date":1692216296,"post_id":76548306,"comment_id":135595079,"body_markdown":"One thing that jumps out is that the query if not GraphQL format. It is a simple nrql.","body":"One thing that jumps out is that the query if not GraphQL format. It is a simple nrql."}],"owner":{"account_id":28888733,"reputation":1,"user_id":22126408,"display_name":"Pavani Sandhya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687784589,"creation_date":1687648453,"question_id":76548306,"body_markdown":"I have written a Java Program to connect to `NewRelic Graphql API` end point https://api.newrelic.com/graphql and successfully able to connect.\r\n\r\n- However getting parsing error for the NRQL query.\r\n\r\n      Query is {&quot;query&quot;: &quot;SELECT average(duration) FROM Transaction \r\n      WHERE appName = &#39;My_Application&#39;&quot;}\r\n      Response Code: 200\r\n      Response Body:\r\n      {&quot;errors&quot;:[{&quot;locations&quot;:\r\n      [{&quot;column&quot;:59,&quot;line&quot;:1}],&quot;message&quot;:&quot;Parsing failed at `&#39;My_Applic`&quot;}]}\r\n\r\nI am expecting the output, but getting parsing error\r\n","title":"Getting &quot;Parsing failed&quot; Error for all NRQL queries while posting via HttpURLConnection in Java program","body":"<p>I have written a Java Program to connect to <code>NewRelic Graphql API</code> end point <a href=\"https://api.newrelic.com/graphql\" rel=\"nofollow noreferrer\">https://api.newrelic.com/graphql</a> and successfully able to connect.</p>\n<ul>\n<li><p>However getting parsing error for the NRQL query.</p>\n<pre><code>Query is {&quot;query&quot;: &quot;SELECT average(duration) FROM Transaction \nWHERE appName = 'My_Application'&quot;}\nResponse Code: 200\nResponse Body:\n{&quot;errors&quot;:[{&quot;locations&quot;:\n[{&quot;column&quot;:59,&quot;line&quot;:1}],&quot;message&quot;:&quot;Parsing failed at `'My_Applic`&quot;}]}\n</code></pre>\n</li>\n</ul>\n<p>I am expecting the output, but getting parsing error</p>\n"},{"tags":["java","for-loop"],"owner":{"account_id":28594992,"reputation":13,"user_id":21893370,"display_name":"Zhikeng Kong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687753554,"answer_count":0,"score":0,"last_activity_date":1687784565,"creation_date":1687753204,"question_id":76553491,"body_markdown":"`pairRemoval(String, String, String)`  \r\nThis is a public static function that takes three Strings as arguments and returns a String.\r\n\r\nYou will be given three strings, the first string is a sentence known as text that contains at least one occurrence of left pattern and right pattern. The second and third arguments of the function are the left and right patterns respectively. Left pattern and right pattern are single characters strings that you are attempting to remove from the string. Your goal is to remove only the patterns when the left pattern has an equal number of corresponding right patterns. The patterns are removed in pairs only when there is a balanced number of left and right patterns. The patterns may be nested within the text and there is no guarantee that a left pattern will occur before the right pattern.   \r\n\r\nArguments:\r\nString text - The string with the substring to be removed\r\n\r\nString leftPattern - A pattern that the substring must start with\r\n\r\nString rightPattern -  A pattern that the substring must end with\r\n\r\nreturns String -  The given text with the paired patterns removed\r\n\r\nExample:\r\nExample 1: \r\n\r\n`text = { { Muscat } } { } mecum tollgate } poultry quarrymen pantheon asteria`\r\n\r\nleftPattern =  {\r\n\r\nrightPattern = }\r\n\r\n`return = Muscat     mecum tollgate } poultry quarrymen pantheon asteria`\r\n\r\nExample 2: \r\n\r\ntext = merioneth ( smickly helotage yarr ) ethmoidal ) ) ) digitinervate\r\n\r\nleftPattern =  (\r\n\r\nrightPattern = )\r\n\r\n`return =. merioneth  smickly helotage yarr  ethmoidal ) ) ) digitinervate`\r\n\r\nExample 3: \r\n\r\n`text = southland palladic } { pasillo { } seeableness } { { normanesque`\r\n\r\nleftPattern =  {\r\n\r\nrightPattern = }\r\n\r\n`return = southland palladic   pasillo   seeableness   { normanesque`\r\n\r\nThis is what I tried\r\n```\r\npublic static String pairRemoval(String text, String leftPattern, String rightPattern) {\r\n        String finalText = &quot;&quot;\r\n\r\n        int indexOf1LeftP = text.indexOf(leftPattern)\r\n\r\n        int indexOfLastLeftP = text.lastIndexOf(leftPattern)\r\n\r\n        int indexOf1RightP = text.indexOf(rightPattern)\r\n\r\n        int indexOfLastRightP = text.lastIndexOf(rightPattern)\r\n\r\n        for (int i = indexOf1LeftP; i &lt;= indexOfLastLeftP; i++) {\r\n            for (int j = indexOf1RightP; j &lt;= indexOfLastRightP; j++){\r\n            String leftChar = text.substring(i, i + 1)\r\n            String rightChar = text.substring(j, j + 1)\r\n                if (leftChar.equals(leftPattern) &amp;&amp; rightChar.equals(rightPattern)) {\r\n               finalText = text.replaceFirst(rightChar, &quot;&quot;).replaceFirst(leftChar, &quot;&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\n    return finalText;\r\n}\r\n```\r\nAnd I got this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException:\r\n&gt; Illegal repetition near index 1","title":"How can remove a pair of chars from a string in java","body":"<p><code>pairRemoval(String, String, String)</code><br />\nThis is a public static function that takes three Strings as arguments and returns a String.</p>\n<p>You will be given three strings, the first string is a sentence known as text that contains at least one occurrence of left pattern and right pattern. The second and third arguments of the function are the left and right patterns respectively. Left pattern and right pattern are single characters strings that you are attempting to remove from the string. Your goal is to remove only the patterns when the left pattern has an equal number of corresponding right patterns. The patterns are removed in pairs only when there is a balanced number of left and right patterns. The patterns may be nested within the text and there is no guarantee that a left pattern will occur before the right pattern.</p>\n<p>Arguments:\nString text - The string with the substring to be removed</p>\n<p>String leftPattern - A pattern that the substring must start with</p>\n<p>String rightPattern -  A pattern that the substring must end with</p>\n<p>returns String -  The given text with the paired patterns removed</p>\n<p>Example:\nExample 1:</p>\n<p><code>text = { { Muscat } } { } mecum tollgate } poultry quarrymen pantheon asteria</code></p>\n<p>leftPattern =  {</p>\n<p>rightPattern = }</p>\n<p><code>return = Muscat     mecum tollgate } poultry quarrymen pantheon asteria</code></p>\n<p>Example 2:</p>\n<p>text = merioneth ( smickly helotage yarr ) ethmoidal ) ) ) digitinervate</p>\n<p>leftPattern =  (</p>\n<p>rightPattern = )</p>\n<p><code>return =. merioneth  smickly helotage yarr  ethmoidal ) ) ) digitinervate</code></p>\n<p>Example 3:</p>\n<p><code>text = southland palladic } { pasillo { } seeableness } { { normanesque</code></p>\n<p>leftPattern =  {</p>\n<p>rightPattern = }</p>\n<p><code>return = southland palladic   pasillo   seeableness   { normanesque</code></p>\n<p>This is what I tried</p>\n<pre><code>public static String pairRemoval(String text, String leftPattern, String rightPattern) {\n        String finalText = &quot;&quot;\n\n        int indexOf1LeftP = text.indexOf(leftPattern)\n\n        int indexOfLastLeftP = text.lastIndexOf(leftPattern)\n\n        int indexOf1RightP = text.indexOf(rightPattern)\n\n        int indexOfLastRightP = text.lastIndexOf(rightPattern)\n\n        for (int i = indexOf1LeftP; i &lt;= indexOfLastLeftP; i++) {\n            for (int j = indexOf1RightP; j &lt;= indexOfLastRightP; j++){\n            String leftChar = text.substring(i, i + 1)\n            String rightChar = text.substring(j, j + 1)\n                if (leftChar.equals(leftPattern) &amp;&amp; rightChar.equals(rightPattern)) {\n               finalText = text.replaceFirst(rightChar, &quot;&quot;).replaceFirst(leftChar, &quot;&quot;)\n            }\n        }\n    }\n\n    return finalText;\n}\n</code></pre>\n<p>And I got this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException:\nIllegal repetition near index 1</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1687782043,"post_id":76556530,"comment_id":134980229,"body_markdown":"could you show a code snippet for the StockResponse class? It&#39;s not clear why each stock is stored as a StockResponse instances and why there is another independent instance for the total amount.","body":"could you show a code snippet for the StockResponse class? It&#39;s not clear why each stock is stored as a StockResponse instances and why there is another independent instance for the total amount."},{"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"score":0,"creation_date":1687782233,"post_id":76556530,"comment_id":134980273,"body_markdown":"StockResponse class contain a value of stock and a reference of product. The StockResponse is just a DTO because this method will be exposed to an UI","body":"StockResponse class contain a value of stock and a reference of product. The StockResponse is just a DTO because this method will be exposed to an UI"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1687782442,"post_id":76556530,"comment_id":134980318,"body_markdown":"then this sample doesn&#39;t compile as `new StockResponse(0)` won&#39;t work for this record class","body":"then this sample doesn&#39;t compile as <code>new StockResponse(0)</code> won&#39;t work for this record class"},{"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"score":0,"creation_date":1687783250,"post_id":76556530,"comment_id":134980483,"body_markdown":"It was a simplified code, I may have slipped some typo errors, sorry, I&#39;ve updated it and it should be ok now","body":"It was a simplified code, I may have slipped some typo errors, sorry, I&#39;ve updated it and it should be ok now"}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687784556,"creation_date":1687784556,"answer_id":76556954,"question_id":76556530,"body_markdown":"I find it a bit odd to add the total result as the last element in the list instead of having a dedicated class containing the total on one side and the elements on the other).\r\n\r\nBut here&#39;s a code snippet anyway:\r\n\r\n```\r\nMono&lt;List&lt;StockResponse&gt;&gt; responses = findAll()\r\n    .map(StockResponse::new).collectList().map(allStock -&gt; {\r\n\t    StockResponse total = new StockResponse(0, &quot;Total&quot;);\r\n    \tallStock.forEach(stock -&gt; total.add(stock.value));\r\n\t    List&lt;StockResponse&gt; result = new ArrayList&lt;&gt;(allStock);\r\n        result.add(total);\r\n    \treturn result;\r\n});\r\n```","title":"Webflux : Accumulate &amp; details","body":"<p>I find it a bit odd to add the total result as the last element in the list instead of having a dedicated class containing the total on one side and the elements on the other).</p>\n<p>But here's a code snippet anyway:</p>\n<pre><code>Mono&lt;List&lt;StockResponse&gt;&gt; responses = findAll()\n    .map(StockResponse::new).collectList().map(allStock -&gt; {\n        StockResponse total = new StockResponse(0, &quot;Total&quot;);\n        allStock.forEach(stock -&gt; total.add(stock.value));\n        List&lt;StockResponse&gt; result = new ArrayList&lt;&gt;(allStock);\n        result.add(total);\n        return result;\n});\n</code></pre>\n"}],"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76556954,"answer_count":1,"score":1,"last_activity_date":1687784556,"creation_date":1687781298,"question_id":76556530,"body_markdown":"I&#39;m new to webflux and I&#39;m trying to transform this code : \r\n\r\n    @Getter\r\n    public class Stock {\r\n        private int value;\r\n        private String productNumber;\r\n        public Stock(int value, String productNumber){\r\n            this.value = value;\r\n            this.productNumber = productNumber;\r\n        }\r\n    }\r\n\r\n\r\n    @Getter\r\n    public class StockResponse {\r\n        private int value;\r\n        private String productNumber;\r\n        public StockResponse(int value, String productNumber){\r\n            this.value = value;\r\n            this.productNumber = productNumber;\r\n        }\r\n        public StockResponse(Stock stock){\r\n            this.value = stock.getValue();\r\n            this.productNumber = stock.getProductNumber();\r\n        }\r\n\r\n        public void add(int value){\r\n            this.value += value;\r\n        }\r\n        \r\n    }\r\n\r\n    public List&lt;StockResponse&gt; findStockResponsesDetailsAndTotal() {\r\n        List&lt;StockResponse&gt; stocksResponses = new ArrayList();\r\n        List&lt;Stock&gt; stocks = stockRepository.findAll();\r\n        StockResponse total = new StockResponse(0, &quot;Total&quot;);\r\n        stocks.forEach(stock -&gt; {\r\n            total.add(stock.getValue());\r\n            stocksResponses.add(new StockResponse(stock));\r\n        });\r\n        stocksResponses.add(total);\r\n        return stocksResponses;\r\n    }\r\n\r\ninto a &quot;flux phylosophy&quot;\r\nHere is my code so far : \r\n\r\n    stockRepository.findAll()\r\n      .map(StockResponse::convert)\r\n\r\nI&#39;m kinda lost about the &quot;total&quot;, I know that I can do a reduce on the Flux but i&#39;ll lose all the details in doing so\r\n\r\n","title":"Webflux : Accumulate &amp; details","body":"<p>I'm new to webflux and I'm trying to transform this code :</p>\n<pre><code>@Getter\npublic class Stock {\n    private int value;\n    private String productNumber;\n    public Stock(int value, String productNumber){\n        this.value = value;\n        this.productNumber = productNumber;\n    }\n}\n\n\n@Getter\npublic class StockResponse {\n    private int value;\n    private String productNumber;\n    public StockResponse(int value, String productNumber){\n        this.value = value;\n        this.productNumber = productNumber;\n    }\n    public StockResponse(Stock stock){\n        this.value = stock.getValue();\n        this.productNumber = stock.getProductNumber();\n    }\n\n    public void add(int value){\n        this.value += value;\n    }\n    \n}\n\npublic List&lt;StockResponse&gt; findStockResponsesDetailsAndTotal() {\n    List&lt;StockResponse&gt; stocksResponses = new ArrayList();\n    List&lt;Stock&gt; stocks = stockRepository.findAll();\n    StockResponse total = new StockResponse(0, &quot;Total&quot;);\n    stocks.forEach(stock -&gt; {\n        total.add(stock.getValue());\n        stocksResponses.add(new StockResponse(stock));\n    });\n    stocksResponses.add(total);\n    return stocksResponses;\n}\n</code></pre>\n<p>into a &quot;flux phylosophy&quot;\nHere is my code so far :</p>\n<pre><code>stockRepository.findAll()\n  .map(StockResponse::convert)\n</code></pre>\n<p>I'm kinda lost about the &quot;total&quot;, I know that I can do a reduce on the Flux but i'll lose all the details in doing so</p>\n"},{"tags":["java","vert.x","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687785042,"post_id":76556941,"comment_id":134980882,"body_markdown":"Read the error message. It explains how to find out what path is leading to this problem, and suggests a couple of solutions.","body":"Read the error message. It explains how to find out what path is leading to this problem, and suggests a couple of solutions."},{"owner":{"account_id":175525,"reputation":1174,"user_id":405613,"display_name":"Oliver Marienfeld"},"score":0,"creation_date":1688223963,"post_id":76556941,"comment_id":135046831,"body_markdown":"Hazelcast exposes JMX beans, so that&#39;s probably the library you&#39;re looking for. Maybe this how-to does also help: https://how-to.vertx.io/graal-native-image-howto/","body":"Hazelcast exposes JMX beans, so that&#39;s probably the library you&#39;re looking for. Maybe this how-to does also help: <a href=\"https://how-to.vertx.io/graal-native-image-howto/\" rel=\"nofollow noreferrer\">how-to.vertx.io/graal-native-image-howto</a>"},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1691406326,"post_id":76556941,"comment_id":135482477,"body_markdown":"@OliverMarienfeld Thank you, this helps a lot. So the Logging Framework log4j2 are not supported, so I will remove it.","body":"@OliverMarienfeld Thank you, this helps a lot. So the Logging Framework log4j2 are not supported, so I will remove it."},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1695240779,"post_id":76556941,"comment_id":135999804,"body_markdown":"unfortunately all the examples does not work. Because the use the old version of graalvm and if I use the old version, then OSX throw an exception application is defect. Does someone has an example code in Github who works?","body":"unfortunately all the examples does not work. Because the use the old version of graalvm and if I use the old version, then OSX throw an exception application is defect. Does someone has an example code in Github who works?"}],"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687784444,"creation_date":1687784444,"question_id":76556941,"body_markdown":"I want to convert the executable jar file to the native image via GraalVM. \r\nI use the command: \r\n\r\n    native-image --initialize-at-build-time=com.sun.jmx.mbeanserver.JmxMBeanServer -jar target/resource-1.0-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nThen the process will be stopped with following exception:\r\n\r\n    Error: java.util.concurrent.ExecutionException: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: Detected a MBean server in the image heap. This is currently not supported, but could be changed in the future. Management beans are registered in many global caches that would need to be cleared and properly re-built at image build time. Class of disallowed object: com.sun.jmx.mbeanserver.JmxMBeanServer  To see how this object got instantiated use --trace-object-instantiation=com.sun.jmx.mbeanserver.JmxMBeanServer. The object was probably created by a class initializer and is reachable from a static field. You can request class initialization at image runtime by using the option --initialize-at-run-time=&lt;class-name&gt;. Or you can write your own initialization methods and call them explicitly from your main entry point.\r\n    Error: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\r\n\r\nI use following dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${vertx}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vertx-web-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${vertx}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vertx-hazelcast&lt;/artifactId&gt;\r\n            &lt;version&gt;${vertx}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI guess some libraries are not supported. But how can I find out, which libraries.\r\nSo is there some tools ore commands to find out, which library I have to replace?\r\nOr Im on the wrong way and the problem is not the library?","title":"GraalVM native image does not support MBean server","body":"<p>I want to convert the executable jar file to the native image via GraalVM.\nI use the command:</p>\n<pre><code>native-image --initialize-at-build-time=com.sun.jmx.mbeanserver.JmxMBeanServer -jar target/resource-1.0-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n<p>Then the process will be stopped with following exception:</p>\n<pre><code>Error: java.util.concurrent.ExecutionException: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: Detected a MBean server in the image heap. This is currently not supported, but could be changed in the future. Management beans are registered in many global caches that would need to be cleared and properly re-built at image build time. Class of disallowed object: com.sun.jmx.mbeanserver.JmxMBeanServer  To see how this object got instantiated use --trace-object-instantiation=com.sun.jmx.mbeanserver.JmxMBeanServer. The object was probably created by a class initializer and is reachable from a static field. You can request class initialization at image runtime by using the option --initialize-at-run-time=&lt;class-name&gt;. Or you can write your own initialization methods and call them explicitly from your main entry point.\nError: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\n</code></pre>\n<p>I use following dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n        &lt;version&gt;${vertx}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-web-client&lt;/artifactId&gt;\n        &lt;version&gt;${vertx}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-hazelcast&lt;/artifactId&gt;\n        &lt;version&gt;${vertx}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I guess some libraries are not supported. But how can I find out, which libraries.\nSo is there some tools ore commands to find out, which library I have to replace?\nOr Im on the wrong way and the problem is not the library?</p>\n"},{"tags":["java","css","vaadin"],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687784342,"creation_date":1687784342,"question_id":76556929,"body_markdown":"I&#39;m just trying to center a label in a GridLayout that is inside a popUP:\r\n\r\n        public class PopUpAlert extends  Window implements View{\r\n        \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tpublic PopUpAlert() {\r\n    \t\t\r\n    \t\tsuper(&quot;Inserimento&quot;); \r\n    \t\tcenter();\r\n    \t\tsetWidth(&quot;1500px&quot;);\r\n    \t\t\r\n    \t\tGridLayout layoutpopUp = new GridLayout(2, 2);\r\n        \t\r\n        \tfinal TextField textDescrizione3 = new TextField(&quot;Descrizione3&quot;);\r\n        \tfinal TextField textDescrizione4 = new TextField(&quot;Descrizione4&quot;);\r\n        \tLabel label = new Label(&quot;label&quot;);\r\n        \tlabel.setSizeUndefined();\r\n        \tlayoutpopUp.addComponent(label, 0,0,1,0);\t\r\n        \tlayoutpopUp.addComponent(textDescrizione3,0,1); \r\n        \tlayoutpopUp.addComponent(textDescrizione4,1,1); \r\n        \t\r\n        \tlayoutpopUp.setMargin(true);\r\n        \t\r\n        \tlayoutpopUp.setSpacing(true);\r\n        \tsetContent(layoutpopUp);\r\n    }\r\n\r\n\r\nThe result is this one:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zpITW.png\r\n\r\n\r\n\r\nWhat I want is just center label in the center of the cell area that is identified by \r\nlayoutpopUp.addComponent(label, 0,0,1,0);\t\r\n\r\n\r\nI&#39;ve tried almost everything\r\n\r\n - layoutpopUp.setComponentAlignment(label, Alignment.MIDDLE_CENTER);\r\n - Component c = layoutpopUp.getComponent(1,0);\r\n   layoutpopUp.setComponentAlignment(c, Alignment.TOP_CENTER);\r\n - as indicated in\r\n   https://stackoverflow.com/questions/31755012/vaadin-alignment-with-gridlayout-to-center-over-cells\r\n\r\nbut no one will center the label above and in the center of Descrizione3 and Descrizione4;\r\n\r\nAlso I have copied the example at https://vaadin.com/docs/v7/framework/layout/layout-gridlayout, but to me the button 3x1 is on the left side of the cell;\r\nI&#39;m going to get crazy;","title":"center a label in an area inside a GridLayout","body":"<p>I'm just trying to center a label in a GridLayout that is inside a popUP:</p>\n<pre><code>    public class PopUpAlert extends  Window implements View{\n        \n    private static final long serialVersionUID = 1L;\n    \n    public PopUpAlert() {\n        \n        super(&quot;Inserimento&quot;); \n        center();\n        setWidth(&quot;1500px&quot;);\n        \n        GridLayout layoutpopUp = new GridLayout(2, 2);\n        \n        final TextField textDescrizione3 = new TextField(&quot;Descrizione3&quot;);\n        final TextField textDescrizione4 = new TextField(&quot;Descrizione4&quot;);\n        Label label = new Label(&quot;label&quot;);\n        label.setSizeUndefined();\n        layoutpopUp.addComponent(label, 0,0,1,0);   \n        layoutpopUp.addComponent(textDescrizione3,0,1); \n        layoutpopUp.addComponent(textDescrizione4,1,1); \n        \n        layoutpopUp.setMargin(true);\n        \n        layoutpopUp.setSpacing(true);\n        setContent(layoutpopUp);\n}\n</code></pre>\n<p>The result is this one:\n<a href=\"https://i.stack.imgur.com/zpITW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zpITW.png\" alt=\"enter image description here\" /></a></p>\n<p>What I want is just center label in the center of the cell area that is identified by\nlayoutpopUp.addComponent(label, 0,0,1,0);</p>\n<p>I've tried almost everything</p>\n<ul>\n<li>layoutpopUp.setComponentAlignment(label, Alignment.MIDDLE_CENTER);</li>\n<li>Component c = layoutpopUp.getComponent(1,0);\nlayoutpopUp.setComponentAlignment(c, Alignment.TOP_CENTER);</li>\n<li>as indicated in\n<a href=\"https://stackoverflow.com/questions/31755012/vaadin-alignment-with-gridlayout-to-center-over-cells\">Vaadin Alignment with GridLayout to center over cells</a></li>\n</ul>\n<p>but no one will center the label above and in the center of Descrizione3 and Descrizione4;</p>\n<p>Also I have copied the example at <a href=\"https://vaadin.com/docs/v7/framework/layout/layout-gridlayout\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v7/framework/layout/layout-gridlayout</a>, but to me the button 3x1 is on the left side of the cell;\nI'm going to get crazy;</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":422778,"reputation":6427,"user_id":801751,"accept_rate":60,"display_name":"Tom Carchrae"},"score":0,"creation_date":1371136979,"post_id":17090589,"comment_id":81837032,"body_markdown":"Jackson does a much better job at detecting types for maps, and it is far easier to configure than GSON: https://github.com/FasterXML/jackson-databind","body":"Jackson does a much better job at detecting types for maps, and it is far easier to configure than GSON: <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind</a>"},{"owner":{"account_id":3649634,"reputation":766,"user_id":3042124,"accept_rate":100,"display_name":"Megakoresh"},"score":2,"creation_date":1470999148,"post_id":17090589,"comment_id":81837033,"body_markdown":"The question explicitly asked for Gson implementation. Please stick to the question.","body":"The question explicitly asked for Gson implementation. Please stick to the question."},{"owner":{"account_id":60183,"reputation":4029,"user_id":179864,"accept_rate":67,"display_name":"aditsu quit because SE is EVIL"},"score":0,"creation_date":1491916680,"post_id":17090589,"comment_id":73757354,"body_markdown":"Also see [this answer](http://stackoverflow.com/a/43346123/179864) I wrote for a similar question; the catch is that you would have to parse the data as an `Object` and then cast to whatever you need.","body":"Also see <a href=\"http://stackoverflow.com/a/43346123/179864\">this answer</a> I wrote for a similar question; the catch is that you would have to parse the data as an <code>Object</code> and then cast to whatever you need."}],"answers":[{"tags":[],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1371136295,"creation_date":1371136295,"answer_id":17090690,"question_id":17090589,"body_markdown":"There are no integer type in JSON. 1 and 1.0 are the same. You need to parse that 1.0 to 1 in your code. Or you need to map the JSON to some VO class and define the type of fields of the class explicitly , so that GSON can understand what you are looking for.","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>There are no integer type in JSON. 1 and 1.0 are the same. You need to parse that 1.0 to 1 in your code. Or you need to map the JSON to some VO class and define the type of fields of the class explicitly , so that GSON can understand what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1371136864,"creation_date":1371136864,"answer_id":17090885,"question_id":17090589,"body_markdown":"JSON only has a single Number type and there is no way for the parser to automatically tell what type  to convert it to.\r\n\r\nIf you aren&#39;t going to use a strongly typed object graph, consider using the [JsonElement][1] types:\r\n\r\n    JsonObject root = new Gson().fromJson(json, JsonObject.class);\r\n    int num = root.getAsJsonObject(&quot;inner_obj&quot;).get(&quot;num&quot;).getAsInt();\r\n\r\n\r\n  [1]: http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/JsonElement.html","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>JSON only has a single Number type and there is no way for the parser to automatically tell what type  to convert it to.</p>\n\n<p>If you aren't going to use a strongly typed object graph, consider using the <a href=\"http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/JsonElement.html\" rel=\"nofollow\">JsonElement</a> types:</p>\n\n<pre><code>JsonObject root = new Gson().fromJson(json, JsonObject.class);\nint num = root.getAsJsonObject(\"inner_obj\").get(\"num\").getAsInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3064040,"reputation":31,"user_id":2596147,"display_name":"이종은"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421054952,"creation_date":1421054952,"answer_id":27898782,"question_id":17090589,"body_markdown":"It&#39;s my code\r\n\r\n    private static class MapDeserializer implements JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; {\r\n        public Map&lt;String,Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)  throws JsonParseException {\r\n        \tMap&lt;String,Object&gt; m  = new LinkedHashMap&lt;String, Object&gt;();\r\n        \tJsonObject jo = json.getAsJsonObject();\r\n        \tfor (Entry&lt;String, JsonElement&gt;  mx : jo.entrySet()){\r\n        \t\tString key = mx.getKey();\r\n        \t\tJsonElement v = mx.getValue();\r\n        \t\tif(v.isJsonArray()){\r\n        \t\t\tm.put(key, g.fromJson(v, List.class));\r\n        \t\t}else if(v.isJsonPrimitive()){\r\n        \t\t\t Number num = null;\r\n        \t          try {\r\n        \t              num = NumberFormat.getInstance().parse(v.getAsString());\r\n        \t          } catch (Exception e) {\r\n        \t        \t  e.printStackTrace();\r\n        \t          }\r\n        \t\t\tm.put(key,num);\r\n        \t\t}else if(v.isJsonObject()){\r\n        \t\t\tm.put(key,g.fromJson(v, Map.class));\t\r\n        \t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n          return m;\r\n       }\r\n\t}\r\n\r\n    private static class ListDeserializer implements JsonDeserializer&lt;List&lt;Object&gt;&gt; {\r\n        public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)  throws JsonParseException {\r\n        \tList&lt;Object&gt; m  = new ArrayList&lt;Object&gt;();\r\n        \tJsonArray arr = json.getAsJsonArray();\r\n        \tfor (JsonElement jsonElement : arr) {\r\n\t\t\t\tif(jsonElement.isJsonObject()){\r\n\t\t\t\t\tm.add(g.fromJson(jsonElement, Map.class));\r\n\t\t\t\t}else if(jsonElement.isJsonArray()){\r\n\t\t\t\t\tm.add(g.fromJson(jsonElement, List.class));\r\n\t\t\t\t}else if(jsonElement.isJsonPrimitive()){\r\n\t\t\t\t\tNumber num = null;\r\n       \t          \ttry {\r\n       \t              num = NumberFormat.getInstance().parse(jsonElement.getAsString());\r\n       \t          \t} catch (Exception e) {\r\n       \t          \t}\r\n       \t          \tm.add(num);\r\n\t\t\t\t}\r\n\t\t\t}\r\n          return m;\r\n       }\r\n\t}\r\n\r\n    private static Gson g = new GsonBuilder().registerTypeAdapter(Map.class, new MapDeserializer()).registerTypeAdapter(List.class, new ListDeserializer()).setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).serializeNulls().create();\r\n ","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>It's my code</p>\n\n<pre><code>private static class MapDeserializer implements JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; {\n    public Map&lt;String,Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)  throws JsonParseException {\n        Map&lt;String,Object&gt; m  = new LinkedHashMap&lt;String, Object&gt;();\n        JsonObject jo = json.getAsJsonObject();\n        for (Entry&lt;String, JsonElement&gt;  mx : jo.entrySet()){\n            String key = mx.getKey();\n            JsonElement v = mx.getValue();\n            if(v.isJsonArray()){\n                m.put(key, g.fromJson(v, List.class));\n            }else if(v.isJsonPrimitive()){\n                 Number num = null;\n                  try {\n                      num = NumberFormat.getInstance().parse(v.getAsString());\n                  } catch (Exception e) {\n                      e.printStackTrace();\n                  }\n                m.put(key,num);\n            }else if(v.isJsonObject()){\n                m.put(key,g.fromJson(v, Map.class));    \n            }\n\n        }\n      return m;\n   }\n}\n\nprivate static class ListDeserializer implements JsonDeserializer&lt;List&lt;Object&gt;&gt; {\n    public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)  throws JsonParseException {\n        List&lt;Object&gt; m  = new ArrayList&lt;Object&gt;();\n        JsonArray arr = json.getAsJsonArray();\n        for (JsonElement jsonElement : arr) {\n            if(jsonElement.isJsonObject()){\n                m.add(g.fromJson(jsonElement, Map.class));\n            }else if(jsonElement.isJsonArray()){\n                m.add(g.fromJson(jsonElement, List.class));\n            }else if(jsonElement.isJsonPrimitive()){\n                Number num = null;\n                try {\n                  num = NumberFormat.getInstance().parse(jsonElement.getAsString());\n                } catch (Exception e) {\n                }\n                m.add(num);\n            }\n        }\n      return m;\n   }\n}\n\nprivate static Gson g = new GsonBuilder().registerTypeAdapter(Map.class, new MapDeserializer()).registerTypeAdapter(List.class, new ListDeserializer()).setDateFormat(\"yyyy-MM-dd HH:mm:ss\").serializeNulls().create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5689309,"reputation":51,"user_id":4497813,"display_name":"Erik Calissendorff"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1511339263,"creation_date":1440619445,"answer_id":32235713,"question_id":17090589,"body_markdown":"Been searching for a solution to the nested Map&lt;String,Object&gt; problem myself and &quot;이종은&quot; above was the first answer that actually helped in the non trivial use cases.\r\n\r\nSince the solution above only handled Number I updated the solution to provide generic parsing capability for String and booleans also, see the updated code below:\r\n\r\n\r\n\tprivate static class MapDeserializer implements JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\r\n\r\n\t\tpublic Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n\t\t\tMap&lt;String, Object&gt; m = new LinkedHashMap&lt;String, Object&gt;();\r\n\t\t\tJsonObject jo = json.getAsJsonObject();\r\n\t\t\tfor (Entry&lt;String, JsonElement&gt; mx : jo.entrySet()) {\r\n\t\t\t\tString key = mx.getKey();\r\n\t\t\t\tJsonElement v = mx.getValue();\r\n\t\t\t\tif (v.isJsonArray()) {\r\n\t\t\t\t\tm.put(key, g.fromJson(v, List.class));\r\n\t\t\t\t} else if (v.isJsonPrimitive()) {\r\n\t\t\t\t\tNumber num = null;\r\n\t\t\t\t\tParsePosition position=new ParsePosition(0);\r\n\t\t\t\t\tString vString=v.getAsString();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t  num = NumberFormat.getInstance(Locale.ROOT).parse(vString,position);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//Check if the position corresponds to the length of the string\r\n\t\t\t\t\tif(position.getErrorIndex() &lt; 0 &amp;&amp; vString.length() == position.getIndex()) {\r\n\t\t\t\t\t  if (num != null) {\r\n\t\t\t\t\t    m.put(key, num);\r\n\t\t\t\t\t    continue;\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tJsonPrimitive prim = v.getAsJsonPrimitive();\r\n\t\t\t\t\tif (prim.isBoolean()) {\r\n\t\t\t\t\t\tm.put(key, prim.getAsBoolean());\r\n\t\t\t\t\t} else if (prim.isString()) {\r\n\t\t\t\t\t\tm.put(key, prim.getAsString());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tm.put(key, null);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (v.isJsonObject()) {\r\n\t\t\t\t\tm.put(key, g.fromJson(v, Map.class));\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\treturn m;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class ListDeserializer implements JsonDeserializer&lt;List&lt;Object&gt;&gt; {\r\n\r\n\t\tpublic List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n\t\t\tList&lt;Object&gt; m = new ArrayList&lt;Object&gt;();\r\n\t\t\tJsonArray arr = json.getAsJsonArray();\r\n\t\t\tfor (JsonElement jsonElement : arr) {\r\n\t\t\t\tif (jsonElement.isJsonObject()) {\r\n\t\t\t\t\tm.add(g.fromJson(jsonElement, Map.class));\r\n\t\t\t\t} else if (jsonElement.isJsonArray()) {\r\n\t\t\t\t\tm.add(g.fromJson(jsonElement, List.class));\r\n\t\t\t\t} else if (jsonElement.isJsonPrimitive()) {\r\n\t\t\t\t\tNumber num = null;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tnum = NumberFormat.getInstance().parse(jsonElement.getAsString());\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (num != null) {\r\n\t\t\t\t\t\tm.add(num);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tJsonPrimitive prim = jsonElement.getAsJsonPrimitive();\r\n\t\t\t\t\tif (prim.isBoolean()) {\r\n\t\t\t\t\t\tm.add(prim.getAsBoolean());\r\n\t\t\t\t\t} else if (prim.isString()) {\r\n\t\t\t\t\t\tm.add(prim.getAsString());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tm.add(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn m;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static Gson g = new GsonBuilder().registerTypeAdapter(Map.class, new MapDeserializer()).registerTypeAdapter(List.class, new ListDeserializer()).setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).create();","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>Been searching for a solution to the nested Map problem myself and \"이종은\" above was the first answer that actually helped in the non trivial use cases.</p>\n\n<p>Since the solution above only handled Number I updated the solution to provide generic parsing capability for String and booleans also, see the updated code below:</p>\n\n<pre><code>private static class MapDeserializer implements JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\n\n    public Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        Map&lt;String, Object&gt; m = new LinkedHashMap&lt;String, Object&gt;();\n        JsonObject jo = json.getAsJsonObject();\n        for (Entry&lt;String, JsonElement&gt; mx : jo.entrySet()) {\n            String key = mx.getKey();\n            JsonElement v = mx.getValue();\n            if (v.isJsonArray()) {\n                m.put(key, g.fromJson(v, List.class));\n            } else if (v.isJsonPrimitive()) {\n                Number num = null;\n                ParsePosition position=new ParsePosition(0);\n                String vString=v.getAsString();\n                try {\n                  num = NumberFormat.getInstance(Locale.ROOT).parse(vString,position);\n                } catch (Exception e) {\n                }\n                //Check if the position corresponds to the length of the string\n                if(position.getErrorIndex() &lt; 0 &amp;&amp; vString.length() == position.getIndex()) {\n                  if (num != null) {\n                    m.put(key, num);\n                    continue;\n                  }\n                }\n                JsonPrimitive prim = v.getAsJsonPrimitive();\n                if (prim.isBoolean()) {\n                    m.put(key, prim.getAsBoolean());\n                } else if (prim.isString()) {\n                    m.put(key, prim.getAsString());\n                } else {\n                    m.put(key, null);\n                }\n\n            } else if (v.isJsonObject()) {\n                m.put(key, g.fromJson(v, Map.class));\n            }\n\n        }\n        return m;\n    }\n}\n\nprivate static class ListDeserializer implements JsonDeserializer&lt;List&lt;Object&gt;&gt; {\n\n    public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        List&lt;Object&gt; m = new ArrayList&lt;Object&gt;();\n        JsonArray arr = json.getAsJsonArray();\n        for (JsonElement jsonElement : arr) {\n            if (jsonElement.isJsonObject()) {\n                m.add(g.fromJson(jsonElement, Map.class));\n            } else if (jsonElement.isJsonArray()) {\n                m.add(g.fromJson(jsonElement, List.class));\n            } else if (jsonElement.isJsonPrimitive()) {\n                Number num = null;\n                try {\n                    num = NumberFormat.getInstance().parse(jsonElement.getAsString());\n                } catch (Exception e) {\n                }\n                if (num != null) {\n                    m.add(num);\n                    continue;\n                }\n                JsonPrimitive prim = jsonElement.getAsJsonPrimitive();\n                if (prim.isBoolean()) {\n                    m.add(prim.getAsBoolean());\n                } else if (prim.isString()) {\n                    m.add(prim.getAsString());\n                } else {\n                    m.add(null);\n                }\n            }\n        }\n        return m;\n    }\n}\n\nprivate static Gson g = new GsonBuilder().registerTypeAdapter(Map.class, new MapDeserializer()).registerTypeAdapter(List.class, new ListDeserializer()).setDateFormat(\"yyyy-MM-dd HH:mm:ss\").create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2748644,"reputation":6153,"user_id":2368492,"display_name":"Zephyr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441294771,"creation_date":1441294771,"answer_id":32380014,"question_id":17090589,"body_markdown":"Here is my example, the first part is the definition of the class that has an int type field.\r\n\r\n    import com.google.api.client.util.Key;\r\n    \r\n    public class Folder {\r\n    \r\n        public static final String FIELD_NAME_CHILD_COUNT = &quot;childCount&quot;;\r\n    \r\n        @Key(FIELD_NAME_CHILD_COUNT)\r\n        public final int childCount;\r\n    \r\n        public Folder(int aChildCount) {\r\n            childCount = aChildCount;\r\n        }\r\n    }\r\n\r\nThen the TypeAdapter to convert the number type in Gson to a Java object.\r\n\r\n    GsonBuilder gsb = new GsonBuilder();\r\n\r\n    gsb.registerTypeAdapter(Folder.class, new JsonDeserializer&lt;Folder&gt;() {\r\n\r\n                @Override\r\n                public Folder deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n\r\n                    int value = json.getAsJsonObject().get(&quot;childCount&quot;).getAsJsonPrimitive().getAsInt();\r\n\r\n                    return new Folder(value);\r\n\r\n                }\r\n            }\r\n    );\r\n\r\nThe third part is the test data, and it works.\r\n\r\n    String gsonData =  new String(&quot;\\&quot;folder\\&quot;:{\\&quot;childCount\\&quot;:0}&quot;);","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>Here is my example, the first part is the definition of the class that has an int type field.</p>\n\n<pre><code>import com.google.api.client.util.Key;\n\npublic class Folder {\n\n    public static final String FIELD_NAME_CHILD_COUNT = \"childCount\";\n\n    @Key(FIELD_NAME_CHILD_COUNT)\n    public final int childCount;\n\n    public Folder(int aChildCount) {\n        childCount = aChildCount;\n    }\n}\n</code></pre>\n\n<p>Then the TypeAdapter to convert the number type in Gson to a Java object.</p>\n\n<pre><code>GsonBuilder gsb = new GsonBuilder();\n\ngsb.registerTypeAdapter(Folder.class, new JsonDeserializer&lt;Folder&gt;() {\n\n            @Override\n            public Folder deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n\n                int value = json.getAsJsonObject().get(\"childCount\").getAsJsonPrimitive().getAsInt();\n\n                return new Folder(value);\n\n            }\n        }\n);\n</code></pre>\n\n<p>The third part is the test data, and it works.</p>\n\n<pre><code>String gsonData =  new String(\"\\\"folder\\\":{\\\"childCount\\\":0}\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136011,"reputation":1123,"user_id":339246,"accept_rate":70,"display_name":"hrzafer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518048375,"creation_date":1518048375,"answer_id":48675366,"question_id":17090589,"body_markdown":"To avoid possible ClassCastException, it is better to cast to `Number` first. In the following code `map` was deserialized from JSON as a `Map` with no generics.\r\n\r\n    int numberOfPages = ((Number) map.get(&quot;number_of_pages&quot;)).intValue();","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>To avoid possible ClassCastException, it is better to cast to <code>Number</code> first. In the following code <code>map</code> was deserialized from JSON as a <code>Map</code> with no generics.</p>\n\n<pre><code>int numberOfPages = ((Number) map.get(\"number_of_pages\")).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1831862,"reputation":930,"user_id":1663094,"accept_rate":0,"display_name":"Oleksandr Tsurika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574797303,"creation_date":1574797303,"answer_id":59058304,"question_id":17090589,"body_markdown":"Register type adapter for `Map`:\r\n \r\n\r\n       Gson gson = new GsonBuilder()\r\n                .registerTypeAdapter(Map.class, new JsonDeserializer&lt;Map&gt;() {\r\n                    @Override\r\n                    public Map deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n                        LinkedTreeMap&lt;String,Object&gt; m  = new LinkedTreeMap&lt;String, Object&gt;();\r\n                        JsonObject jo = json.getAsJsonObject();\r\n                        for (Map.Entry&lt;String, JsonElement&gt; mx : jo.entrySet()){\r\n                            String key = mx.getKey();\r\n                            JsonElement v = mx.getValue();\r\n                            if(v.isJsonArray()){\r\n                                m.put(key, context.deserialize(v, List.class));\r\n                            }else if(v.isJsonPrimitive()){\r\n                                Object value = v.getAsString();\r\n                                try {\r\n                                    Object numValue = NumberFormat.getInstance().parse((String)value);\r\n                                    if (numValue != null &amp;&amp; numValue.toString().equals(value)) {\r\n                                        value = numValue;\r\n                                    }\r\n                                } catch (Exception e) {\r\n                                }\r\n                                m.put(key, value);\r\n                            }else if(v.isJsonObject()){\r\n                                m.put(key,context.deserialize(v, Map.class));\r\n                            }\r\n                        }\r\n                        return m;\r\n                    }\r\n                })\r\n                .create();\r\n     \r\n\r\nand deserialize using it like: `gson.fromJson(instanceJson, Map.class)`, where `instanceJson` is an `json` of object which should be deserialized into `Map`.","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>Register type adapter for <code>Map</code>:</p>\n\n<pre><code>   Gson gson = new GsonBuilder()\n            .registerTypeAdapter(Map.class, new JsonDeserializer&lt;Map&gt;() {\n                @Override\n                public Map deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n                    LinkedTreeMap&lt;String,Object&gt; m  = new LinkedTreeMap&lt;String, Object&gt;();\n                    JsonObject jo = json.getAsJsonObject();\n                    for (Map.Entry&lt;String, JsonElement&gt; mx : jo.entrySet()){\n                        String key = mx.getKey();\n                        JsonElement v = mx.getValue();\n                        if(v.isJsonArray()){\n                            m.put(key, context.deserialize(v, List.class));\n                        }else if(v.isJsonPrimitive()){\n                            Object value = v.getAsString();\n                            try {\n                                Object numValue = NumberFormat.getInstance().parse((String)value);\n                                if (numValue != null &amp;&amp; numValue.toString().equals(value)) {\n                                    value = numValue;\n                                }\n                            } catch (Exception e) {\n                            }\n                            m.put(key, value);\n                        }else if(v.isJsonObject()){\n                            m.put(key,context.deserialize(v, Map.class));\n                        }\n                    }\n                    return m;\n                }\n            })\n            .create();\n</code></pre>\n\n<p>and deserialize using it like: <code>gson.fromJson(instanceJson, Map.class)</code>, where <code>instanceJson</code> is an <code>json</code> of object which should be deserialized into <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":17385796,"reputation":219,"user_id":12597147,"display_name":"CodingSamples"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617983472,"creation_date":1617983107,"answer_id":67024244,"question_id":17090589,"body_markdown":"here is my solution to solve the Problem. I tried to implement it as clean as possible. I didn&#39; t find a better easy solution to check if a number is an integer.\r\n\r\n```\r\npublic final class GSONUtil {\r\n\r\n    private GSONUtil() {\r\n    }\r\n\r\n    public static Gson createGson() {\r\n\r\n        // @formatter:off\r\n        return new GsonBuilder()\r\n                .registerTypeAdapter(Map.class, createMapDeserializer())\r\n                .registerTypeAdapter(List.class, createListDeserializer())\r\n                .create();\r\n        // @formatter:on\r\n    }\r\n\r\n    private static JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; createMapDeserializer() {\r\n        return new JsonDeserializer&lt;Map&lt;String,Object&gt;&gt;() {\r\n\r\n            @Override\r\n            public Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                    throws JsonParseException {\r\n\r\n                return json.getAsJsonObject().entrySet().stream() // stream\r\n                        .collect(Collectors.toMap(Entry::getKey, (e) -&gt; JSONUtil.deserialize(e.getValue(), context)));\r\n            }\r\n        };\r\n    }\r\n\r\n    private static JsonDeserializer&lt;List&lt;Object&gt;&gt; createListDeserializer() {\r\n        return new JsonDeserializer&lt;List&lt;Object&gt;&gt;() {\r\n\r\n            @Override\r\n            public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                    throws JsonParseException {\r\n\r\n                return StreamSupport.stream(json.getAsJsonArray().spliterator(), false) // stream\r\n                        .map((e) -&gt; JSONUtil.deserialize(e, context)).collect(Collectors.toList());\r\n            }\r\n        };\r\n    }\r\n\r\n    private static Object deserialize(JsonElement value, JsonDeserializationContext context) {\r\n\r\n        if (value.isJsonNull()) {\r\n            return null;\r\n        }\r\n        if (value.isJsonObject()) {\r\n            return context.deserialize(value, Map.class);\r\n        }\r\n        if (value.isJsonArray()) {\r\n            return context.deserialize(value, List.class);\r\n        }\r\n        if (value.isJsonPrimitive()) {\r\n            return parsePrimitive(value);\r\n        }\r\n\r\n        throw new IllegalStateException(&quot;This exception should never be thrown!&quot;);\r\n    }\r\n\r\n    private static Object parsePrimitive(JsonElement value) {\r\n\r\n        final JsonPrimitive jsonPrimitive = value.getAsJsonPrimitive();\r\n\r\n        if (jsonPrimitive.isString()) {\r\n            return jsonPrimitive.getAsString();\r\n        }\r\n\r\n        if (jsonPrimitive.isBoolean()) {\r\n            return jsonPrimitive.getAsBoolean();\r\n        }\r\n\r\n        if (jsonPrimitive.isNumber()) {\r\n            return parseNumber(jsonPrimitive);\r\n        }\r\n\r\n        throw new IllegalStateException(&quot;This exception should never be thrown!&quot;);\r\n    }\r\n\r\n    private static Number parseNumber(JsonPrimitive jsonPrimitive) {\r\n\r\n        if (isInteger(jsonPrimitive)) {\r\n            return jsonPrimitive.getAsLong();\r\n        }\r\n\r\n        return jsonPrimitive.getAsDouble();\r\n    }\r\n\r\n    private static boolean isInteger(final JsonPrimitive jsonPrimitive) {\r\n        return jsonPrimitive.getAsString().matches(&quot;[-]?\\\\d+&quot;);\r\n    }\r\n}\r\n```","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>here is my solution to solve the Problem. I tried to implement it as clean as possible. I didn' t find a better easy solution to check if a number is an integer.</p>\n<pre><code>public final class GSONUtil {\n\n    private GSONUtil() {\n    }\n\n    public static Gson createGson() {\n\n        // @formatter:off\n        return new GsonBuilder()\n                .registerTypeAdapter(Map.class, createMapDeserializer())\n                .registerTypeAdapter(List.class, createListDeserializer())\n                .create();\n        // @formatter:on\n    }\n\n    private static JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; createMapDeserializer() {\n        return new JsonDeserializer&lt;Map&lt;String,Object&gt;&gt;() {\n\n            @Override\n            public Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n                    throws JsonParseException {\n\n                return json.getAsJsonObject().entrySet().stream() // stream\n                        .collect(Collectors.toMap(Entry::getKey, (e) -&gt; JSONUtil.deserialize(e.getValue(), context)));\n            }\n        };\n    }\n\n    private static JsonDeserializer&lt;List&lt;Object&gt;&gt; createListDeserializer() {\n        return new JsonDeserializer&lt;List&lt;Object&gt;&gt;() {\n\n            @Override\n            public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n                    throws JsonParseException {\n\n                return StreamSupport.stream(json.getAsJsonArray().spliterator(), false) // stream\n                        .map((e) -&gt; JSONUtil.deserialize(e, context)).collect(Collectors.toList());\n            }\n        };\n    }\n\n    private static Object deserialize(JsonElement value, JsonDeserializationContext context) {\n\n        if (value.isJsonNull()) {\n            return null;\n        }\n        if (value.isJsonObject()) {\n            return context.deserialize(value, Map.class);\n        }\n        if (value.isJsonArray()) {\n            return context.deserialize(value, List.class);\n        }\n        if (value.isJsonPrimitive()) {\n            return parsePrimitive(value);\n        }\n\n        throw new IllegalStateException(&quot;This exception should never be thrown!&quot;);\n    }\n\n    private static Object parsePrimitive(JsonElement value) {\n\n        final JsonPrimitive jsonPrimitive = value.getAsJsonPrimitive();\n\n        if (jsonPrimitive.isString()) {\n            return jsonPrimitive.getAsString();\n        }\n\n        if (jsonPrimitive.isBoolean()) {\n            return jsonPrimitive.getAsBoolean();\n        }\n\n        if (jsonPrimitive.isNumber()) {\n            return parseNumber(jsonPrimitive);\n        }\n\n        throw new IllegalStateException(&quot;This exception should never be thrown!&quot;);\n    }\n\n    private static Number parseNumber(JsonPrimitive jsonPrimitive) {\n\n        if (isInteger(jsonPrimitive)) {\n            return jsonPrimitive.getAsLong();\n        }\n\n        return jsonPrimitive.getAsDouble();\n    }\n\n    private static boolean isInteger(final JsonPrimitive jsonPrimitive) {\n        return jsonPrimitive.getAsString().matches(&quot;[-]?\\\\d+&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13450560,"reputation":456,"user_id":9705503,"display_name":"Mohammad hp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687783965,"creation_date":1687783965,"answer_id":76556876,"question_id":17090589,"body_markdown":"This bug has been solved in gson 2.8.9. Look at [This PR].\r\n\r\nBasically you can define object to number strategy as follows:\r\n\r\n    GsonBuilder gsonBuilder = new GsonBuilder().setObjectToNumberStrategy(ToNumberPolicy.LONG_OR_DOUBLE);\r\n    Gson gson = gsonBuilder.create();\r\n\r\n\r\n  [This PR]: https://github.com/google/gson/pull/1290","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>This bug has been solved in gson 2.8.9. Look at <a href=\"https://github.com/google/gson/pull/1290\" rel=\"nofollow noreferrer\">This PR</a>.</p>\n<p>Basically you can define object to number strategy as follows:</p>\n<pre><code>GsonBuilder gsonBuilder = new GsonBuilder().setObjectToNumberStrategy(ToNumberPolicy.LONG_OR_DOUBLE);\nGson gson = gsonBuilder.create();\n</code></pre>\n"}],"owner":{"account_id":2026878,"reputation":1243,"user_id":1823997,"accept_rate":55,"display_name":"Moses"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26203,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":9,"score":17,"last_activity_date":1687783965,"creation_date":1371136061,"question_id":17090589,"body_markdown":"I have json object with arbitary values inside. And I want to deserialize it in a Map&lt;String, Object&gt;. Everything is ok except converting integers to a doubles. See example:\r\n\r\n    {&quot;id&quot;:1, &quot;inner_obj&quot;:{&quot;key&quot;:&quot;value&quot;,&quot;num&quot;:666,&quot;map&quot;:{&quot;key&quot;:&quot;value&quot;}}}\r\n\r\ndeserializes to this(map.toString()):\r\n\r\n    {id=1.0, inner_obj={key=value, num=666.0, map={key=value}}}\r\n\r\nIs there some easy way to deserialize &quot;id&quot; and &quot;num&quot; as Integers and not as Doubles?","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>I have json object with arbitary values inside. And I want to deserialize it in a Map. Everything is ok except converting integers to a doubles. See example:</p>\n\n<pre><code>{\"id\":1, \"inner_obj\":{\"key\":\"value\",\"num\":666,\"map\":{\"key\":\"value\"}}}\n</code></pre>\n\n<p>deserializes to this(map.toString()):</p>\n\n<pre><code>{id=1.0, inner_obj={key=value, num=666.0, map={key=value}}}\n</code></pre>\n\n<p>Is there some easy way to deserialize \"id\" and \"num\" as Integers and not as Doubles?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1687782310,"post_id":76556508,"comment_id":134980293,"body_markdown":"`currentDate` is a `LocalDate` - that does not have a format - it only has a default format used when it is converted to `String` using its `toString()` method - you need to use the `DateTimeFormatter` to `format` the `LocalDate` as required","body":"<code>currentDate</code> is a <code>LocalDate</code> - that does not have a format - it only has a default format used when it is converted to <code>String</code> using its <code>toString()</code> method - you need to use the <code>DateTimeFormatter</code> to <code>format</code> the <code>LocalDate</code> as required"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687783655,"creation_date":1687783655,"answer_id":76556839,"question_id":76556508,"body_markdown":"## tl;dr \r\n### the today&#39;s date in the desired format\r\n```Java\r\nSystem.out.println(\r\n    LocalDate.now().format(\r\n        DateTimeFormatter.ofPattern(\r\n            &quot;MMMM, d uuuu&quot;,\r\n            Locale.ENGLISH\r\n        )\r\n    )\r\n);\r\n```\r\n\r\n---\r\n### Explanation\r\n\r\nYou&#39;re attempt to retrieve *the currentDate in the format MMMM d, YYYY* does not work because you don&#39;t produce the `String` output.  \r\nInstead, you try to `parse(currentDate, formatter)`, wich cannot won&#39;t be working either due to an unexpected type of the first parameter/argument (expects a `String`, you pass a `LocalDate`), or — if `LocalDate.toString()` is used implicitly — it won&#39;t have your custom format.\r\n\r\n## Demo\r\n### Code\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// get today&#39;s date as LocalDate\r\n\tLocalDate today = LocalDate.now();\r\n\t// provide a DateTimeFormatter for the desired OUTPUT\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\r\n\t\t\t\t\t\t\t\t\t\t&quot;MMMM d, uuuu&quot;,\r\n\t\t\t\t\t\t\t\t\t\tLocale.ENGLISH\r\n\t\t\t\t\t\t\t\t  );\r\n\t// print the resulting LocalDate&#39;s toString() (implicitly)\r\n\tSystem.out.println(&quot;toString(): &quot; + today);\r\n\t// print the resulting LocalDate formatted by the formatter\r\n\tSystem.out.println(&quot;formatted:  &quot; + today.format(formatter));\r\n}\r\n```\r\n\r\n### Output\r\n```none\r\ntoString(): 2023-06-26\r\nformatted:  June 26, 2023\r\n```","title":"how to parse a LocaleDate to a specific pattern mentioned in the DateTimeFormatter","body":"<h2>tl;dr</h2>\n<h3>the today's date in the desired format</h3>\n<pre><code>System.out.println(\n    LocalDate.now().format(\n        DateTimeFormatter.ofPattern(\n            &quot;MMMM, d uuuu&quot;,\n            Locale.ENGLISH\n        )\n    )\n);\n</code></pre>\n<hr />\n<h3>Explanation</h3>\n<p>You're attempt to retrieve <em>the currentDate in the format MMMM d, YYYY</em> does not work because you don't produce the <code>String</code> output.<br />\nInstead, you try to <code>parse(currentDate, formatter)</code>, wich cannot won't be working either due to an unexpected type of the first parameter/argument (expects a <code>String</code>, you pass a <code>LocalDate</code>), or — if <code>LocalDate.toString()</code> is used implicitly — it won't have your custom format.</p>\n<h2>Demo</h2>\n<h3>Code</h3>\n<pre><code>public static void main(String[] args) {\n    // get today's date as LocalDate\n    LocalDate today = LocalDate.now();\n    // provide a DateTimeFormatter for the desired OUTPUT\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\n                                        &quot;MMMM d, uuuu&quot;,\n                                        Locale.ENGLISH\n                                  );\n    // print the resulting LocalDate's toString() (implicitly)\n    System.out.println(&quot;toString(): &quot; + today);\n    // print the resulting LocalDate formatted by the formatter\n    System.out.println(&quot;formatted:  &quot; + today.format(formatter));\n}\n</code></pre>\n<h3>Output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>toString(): 2023-06-26\nformatted:  June 26, 2023\n</code></pre>\n"}],"owner":{"account_id":28897411,"reputation":1,"user_id":22133135,"display_name":"Greeshma Gangamma M.C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687793058,"answer_count":1,"score":0,"last_activity_date":1687783655,"creation_date":1687781115,"question_id":76556508,"body_markdown":"I want the currentDate in the format `MMMM d, YYYY`\r\n\r\n```Java\r\nLocalDate currentDate = LocalDate.now();\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM d, yyyy&quot;);\r\nString createdOnDate = alertspage.createdondate().trim();\r\nLocalDate Date = LocalDate.parse(currentDate, formatter);\r\n```","title":"how to parse a LocaleDate to a specific pattern mentioned in the DateTimeFormatter","body":"<p>I want the currentDate in the format <code>MMMM d, YYYY</code></p>\n<pre><code>LocalDate currentDate = LocalDate.now();\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM d, yyyy&quot;);\nString createdOnDate = alertspage.createdondate().trim();\nLocalDate Date = LocalDate.parse(currentDate, formatter);\n</code></pre>\n"},{"tags":["java","android","qr-code","barcode-scanner"],"owner":{"account_id":24211306,"reputation":1,"user_id":18167801,"display_name":"Khushi A M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687783407,"creation_date":1687702890,"question_id":76550857,"body_markdown":"Is it possible to open an activity after scanning a QR code?\r\nand How to create QR CODE for an Activity so that When i scan that activity should open\r\nplease help me with my project\r\n\r\n\r\nI Don&#39;t know how to create QR code for an activity","title":"is it possible to open an activity after scanning a QR code?","body":"<p>Is it possible to open an activity after scanning a QR code?\nand How to create QR CODE for an Activity so that When i scan that activity should open\nplease help me with my project</p>\n<p>I Don't know how to create QR code for an activity</p>\n"},{"tags":["java","spring","load-balancing","feign"],"answers":[{"tags":[],"owner":{"account_id":11554395,"reputation":84,"user_id":8465978,"display_name":"Badr Kacimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687783293,"creation_date":1687783293,"answer_id":76556787,"question_id":76530895,"body_markdown":"This issue is an open bug in the spring cloud Feign :\r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/issues/475\r\n\r\nThese are the version numbers of my project dependencies :\r\n\r\n    Spring boot 3.1.0\r\n    spring-cloud 2022.0.3\r\n    Java 17\r\n\r\nThis workaround works for me (I added this method in my WebclientConfiguration class)  :\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class WebclientConfiguration {\r\n    ...\r\n    \r\n     @Bean\r\n      @ConditionalOnMissingBean\r\n      public LoadBalancerClientFactory loadBalancerClientFactory(LoadBalancerClientsProperties properties) {\r\n        return new LoadBalancerClientFactory(properties) {\r\n          @Override public AnnotationConfigApplicationContext createContext(String name) {\r\n            ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\r\n            Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\r\n            AnnotationConfigApplicationContext context = (AnnotationConfigApplicationContext) super.createContext(name);\r\n            Thread.currentThread().setContextClassLoader(originalClassLoader);\r\n            return context;\r\n          }\r\n        };\r\n      }\r\n    }","title":"Issue when using openfeign client called within an asynchronous method","body":"<p>This issue is an open bug in the spring cloud Feign :\n<a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/475\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/issues/475</a></p>\n<p>These are the version numbers of my project dependencies :</p>\n<pre><code>Spring boot 3.1.0\nspring-cloud 2022.0.3\nJava 17\n</code></pre>\n<p>This workaround works for me (I added this method in my WebclientConfiguration class)  :</p>\n<pre><code>@Configuration\n@Slf4j\npublic class WebclientConfiguration {\n...\n\n @Bean\n  @ConditionalOnMissingBean\n  public LoadBalancerClientFactory loadBalancerClientFactory(LoadBalancerClientsProperties properties) {\n    return new LoadBalancerClientFactory(properties) {\n      @Override public AnnotationConfigApplicationContext createContext(String name) {\n        ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\n        Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\n        AnnotationConfigApplicationContext context = (AnnotationConfigApplicationContext) super.createContext(name);\n        Thread.currentThread().setContextClassLoader(originalClassLoader);\n        return context;\n      }\n    };\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11554395,"reputation":84,"user_id":8465978,"display_name":"Badr Kacimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76556787,"answer_count":1,"score":0,"last_activity_date":1687783293,"creation_date":1687429264,"question_id":76530895,"body_markdown":"I encounter this error when calling a service asynchronously using Feign after a migration from Java 8 to Java 17 and to spring 3\r\n\r\n        {\r\n          &quot;code&quot;: &quot;SI-SERVICE-ERROR-000500&quot;,\r\n          &quot;message&quot;: &quot;org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration   class [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientConfiguration]\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.condition.OnPropertyCondition\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        }\r\n\r\nMy Feign and Main class :\r\n\r\n    @Service\r\n    @FeignClient(name = &quot;si-booking-service&quot;, path = &quot;/si-booking-service/bookings&quot;)\r\n    public interface SIBookingServiceClient {...}\r\n\r\n\r\n    @EnableFeignClients\r\n    @EnableDiscoveryClient\r\n    public class MainApplication {..}\r\n","title":"Issue when using openfeign client called within an asynchronous method","body":"<p>I encounter this error when calling a service asynchronously using Feign after a migration from Java 8 to Java 17 and to spring 3</p>\n<pre><code>    {\n      &quot;code&quot;: &quot;SI-SERVICE-ERROR-000500&quot;,\n      &quot;message&quot;: &quot;org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration   class [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientConfiguration]\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.condition.OnPropertyCondition\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    }\n</code></pre>\n<p>My Feign and Main class :</p>\n<pre><code>@Service\n@FeignClient(name = &quot;si-booking-service&quot;, path = &quot;/si-booking-service/bookings&quot;)\npublic interface SIBookingServiceClient {...}\n\n\n@EnableFeignClients\n@EnableDiscoveryClient\npublic class MainApplication {..}\n</code></pre>\n"},{"tags":["java","testing","jaxb","java-17","jakarta-migration"],"comments":[{"owner":{"account_id":10769785,"reputation":341,"user_id":7923565,"display_name":"Markus Schreiber"},"score":0,"creation_date":1687178451,"post_id":76506647,"comment_id":134896188,"body_markdown":"Just as sanity check did you try to use `api` instead of `implementation` be be sure it is this module which misses the dependency and not some sub module which would not be covered by `implementation`.","body":"Just as sanity check did you try to use <code>api</code> instead of <code>implementation</code> be be sure it is this module which misses the dependency and not some sub module which would not be covered by <code>implementation</code>."},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1687179011,"post_id":76506647,"comment_id":134896311,"body_markdown":"I&#39;ve tried. Same failure.","body":"I&#39;ve tried. Same failure."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1687691026,"post_id":76506647,"comment_id":134969257,"body_markdown":"jakarta.xml.bind is the successor library auf jaxb but it is not directly compatible as the package name has changed. So each library and you code has to be migrated to this new library. `javax.xml.bind`-&gt; `jakarta.xml.bind`.","body":"jakarta.xml.bind is the successor library auf jaxb but it is not directly compatible as the package name has changed. So each library and you code has to be migrated to this new library. <code>javax.xml.bind</code>-&gt; <code>jakarta.xml.bind</code>."}],"answers":[{"tags":[],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687783248,"creation_date":1687783248,"answer_id":76556780,"question_id":76506647,"body_markdown":"There was another dependency which was pulling up javax modules. Refactoring dependencies solved the issue","title":"Java 17 - java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement","body":"<p>There was another dependency which was pulling up javax modules. Refactoring dependencies solved the issue</p>\n"}],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687783248,"creation_date":1687177800,"question_id":76506647,"body_markdown":"I have a gradle project in Java17 and when running a test I&#39;m getting the following error:\r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement\r\n\r\n\r\nThis is how the test look like:\r\n\r\n    public class SettingsServiceTest extends AbstractIntegrationTest {\r\n    @Autowired\r\n    private SettingsService settingsService;\r\n\r\n\r\n    @Test\r\n    void shouldReturnMandatorySetting() {\r\n        wireMockGetConfig();\r\n     \r\n        String res = settingsService.getMandatorySetting();\r\n        Assertions.assertEquals(res, &quot;setting&quot;);\r\n    }\r\n\r\nThe `wiremockGetConfig` method:\r\n\r\n     protected void wireMockGetConfig() {\r\n        givenThat(get(urlPathEqualTo(&quot;/settings/appid&quot;))\r\n                .willReturn(aResponse()\r\n                        .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n                        .withBody(readResource(SETTINGS_JSON_FILE))\r\n                        .withStatus((Response.SC_OK))));\r\n    }\r\n\r\nAs you can see I&#39;m trying to mock the response of a client. The response is going to be a json file.\r\nI&#39;ve used this pattern multiple times and it always worked perfectly. Recently we migrated our apps to Java17 and after looking at [this older thread][1] I&#39;m starting to think I need to configure something. I&#39;ve no references to javax in the code (we already migrated for Java17).\r\n\r\nI&#39;ve already tried to add the dependencies mentioned in the accepted answer of the above thread:\r\n\r\n    implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&quot;\r\n    implementation &quot;org.glassfish.jaxb:jaxb-runtime:2.3.2&quot;\r\n\r\nwith no changes/success.\r\nI&#39;ve also tried using version 4.0.0 with no difference.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\r\n\r\n\r\n","title":"Java 17 - java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement","body":"<p>I have a gradle project in Java17 and when running a test I'm getting the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement\n</code></pre>\n<p>This is how the test look like:</p>\n<pre><code>public class SettingsServiceTest extends AbstractIntegrationTest {\n@Autowired\nprivate SettingsService settingsService;\n\n\n@Test\nvoid shouldReturnMandatorySetting() {\n    wireMockGetConfig();\n \n    String res = settingsService.getMandatorySetting();\n    Assertions.assertEquals(res, &quot;setting&quot;);\n}\n</code></pre>\n<p>The <code>wiremockGetConfig</code> method:</p>\n<pre><code> protected void wireMockGetConfig() {\n    givenThat(get(urlPathEqualTo(&quot;/settings/appid&quot;))\n            .willReturn(aResponse()\n                    .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n                    .withBody(readResource(SETTINGS_JSON_FILE))\n                    .withStatus((Response.SC_OK))));\n}\n</code></pre>\n<p>As you can see I'm trying to mock the response of a client. The response is going to be a json file.\nI've used this pattern multiple times and it always worked perfectly. Recently we migrated our apps to Java17 and after looking at <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">this older thread</a> I'm starting to think I need to configure something. I've no references to javax in the code (we already migrated for Java17).</p>\n<p>I've already tried to add the dependencies mentioned in the accepted answer of the above thread:</p>\n<pre><code>implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&quot;\nimplementation &quot;org.glassfish.jaxb:jaxb-runtime:2.3.2&quot;\n</code></pre>\n<p>with no changes/success.\nI've also tried using version 4.0.0 with no difference.</p>\n"},{"tags":["java","android","generics","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687782200,"creation_date":1687780053,"answer_id":76556382,"question_id":76556275,"body_markdown":"Couldn&#39;t you just pass in the `View` or `MaterialShapeDrawable` instead of the binding?\r\n``` \r\npublic static void applyRadiusCorner(View v) {\r\n   if(!(v.getBackground() instanceof MaterialShapeDrawable)\r\n     throw new IllegalArgumentException();\r\n   applyRadiusCorner((MaterialShapeDrawable) v.getBackground());\r\n}\r\n\r\npublic static void applyRadiusCorner(MaterialShapeDrawable drawable) {\r\n  final float radius = getResources().getDimension(R.dimen.default_corner_radius);\r\n  drawable.setShapeAppearanceModel(drawable.getShapeAppearanceModel()\r\n    .toBuilder()\r\n    .setAllCorners(ROUNDED,radius)\r\n    .build());\r\n}\r\n```\r\nAnd use it as `applyRadiusCorner(binding.toolbar)`.\r\n\r\n**Edit:** \r\n\r\nWrapping this in a class:\r\n\r\n```\r\nclass StyleableToolbar {\r\n\r\n  private final Toolbar;\r\n  private final MaterialShapeDrawable background;\r\n  private final Resources res;\r\n  \r\n  private StyleableToolbar(Toolbar toolbar) {\r\n     this.toolbar = toolbar;\r\n     this.background = (MaterialShapeDrawable) toolbar.getBackground();\r\n     this.res = toolbar.getResources();\r\n  }\r\n \r\n  static Optional&lt;StyleableToolbar&gt; from(Toolbar toolbar) {\r\n    return (toolbar.getBackground() instanceof MaterialShapeDrawable) \r\n      ? Optional.of(new StyleableToolbar(toolbar)) \r\n      : Optional.empty()\r\n  }\r\n\r\n  void applyRadiusCorner() {\r\n    final float radius = res.getDimension(R.dimen.default_corner_radius); \r\n    final ShapeAppearanceModel sam = background\r\n      .getShapeAppearanceModel()\r\n      .toBuilder()\r\n      .setAllCorners(ROUNDED,radius)\r\n      .build();\r\n    background.setShapeAppearanceModel(sam);\r\n  }\r\n\r\n}\r\n```\r\nWith usage `StyleableToolbar.from(binding.toolbar).ifPresent(StyleableToolbar::applyRadiusCorner);`","title":"Running the same code in three different fragments under the common class","body":"<p>Couldn't you just pass in the <code>View</code> or <code>MaterialShapeDrawable</code> instead of the binding?</p>\n<pre><code>public static void applyRadiusCorner(View v) {\n   if(!(v.getBackground() instanceof MaterialShapeDrawable)\n     throw new IllegalArgumentException();\n   applyRadiusCorner((MaterialShapeDrawable) v.getBackground());\n}\n\npublic static void applyRadiusCorner(MaterialShapeDrawable drawable) {\n  final float radius = getResources().getDimension(R.dimen.default_corner_radius);\n  drawable.setShapeAppearanceModel(drawable.getShapeAppearanceModel()\n    .toBuilder()\n    .setAllCorners(ROUNDED,radius)\n    .build());\n}\n</code></pre>\n<p>And use it as <code>applyRadiusCorner(binding.toolbar)</code>.</p>\n<p><strong>Edit:</strong></p>\n<p>Wrapping this in a class:</p>\n<pre><code>class StyleableToolbar {\n\n  private final Toolbar;\n  private final MaterialShapeDrawable background;\n  private final Resources res;\n  \n  private StyleableToolbar(Toolbar toolbar) {\n     this.toolbar = toolbar;\n     this.background = (MaterialShapeDrawable) toolbar.getBackground();\n     this.res = toolbar.getResources();\n  }\n \n  static Optional&lt;StyleableToolbar&gt; from(Toolbar toolbar) {\n    return (toolbar.getBackground() instanceof MaterialShapeDrawable) \n      ? Optional.of(new StyleableToolbar(toolbar)) \n      : Optional.empty()\n  }\n\n  void applyRadiusCorner() {\n    final float radius = res.getDimension(R.dimen.default_corner_radius); \n    final ShapeAppearanceModel sam = background\n      .getShapeAppearanceModel()\n      .toBuilder()\n      .setAllCorners(ROUNDED,radius)\n      .build();\n    background.setShapeAppearanceModel(sam);\n  }\n\n}\n</code></pre>\n<p>With usage <code>StyleableToolbar.from(binding.toolbar).ifPresent(StyleableToolbar::applyRadiusCorner);</code></p>\n"}],"owner":{"account_id":27028627,"reputation":3,"user_id":20585429,"display_name":"Bukrek35TR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76556382,"answer_count":1,"score":0,"last_activity_date":1687782200,"creation_date":1687779146,"question_id":76556275,"body_markdown":"I am using databinding in my application.\r\nI have three different fragments, all three have toolbars with the same id.\r\nI have code that is the same in three toolbars.\r\n```\r\n        float radius = getResources().getDimension(R.dimen.default_corner_radius); //32dp\r\n        MaterialShapeDrawable materialShapeDrawable = (MaterialShapeDrawable) binding.toolbar.getBackground();\r\n        materialShapeDrawable.setShapeAppearanceModel(materialShapeDrawable.getShapeAppearanceModel()\r\n                .toBuilder()\r\n                .setAllCorners(CornerFamily.ROUNDED,radius)\r\n                .build());\r\n```\r\n\r\n\r\nI want to create a common class as below and run the same code from here, but I couldn&#39;t figure out how to transfer the binding structure.\r\n\r\n```\r\npublic class MenuFragmentsToolbar&lt;T&gt; {\r\n\r\n    public void applyRadiusCorner(T binding){\r\n\r\n        float radius = getResources().getDimension(R.dimen.default_corner_radius); //32dp\r\n        MaterialShapeDrawable materialShapeDrawable = (MaterialShapeDrawable) binding.toolbar.getBackground();\r\n        materialShapeDrawable.setShapeAppearanceModel(materialShapeDrawable.getShapeAppearanceModel()\r\n                .toBuilder()\r\n                .setAllCorners(CornerFamily.ROUNDED,radius)\r\n                .build());\r\n    }\r\n}\r\n```","title":"Running the same code in three different fragments under the common class","body":"<p>I am using databinding in my application.\nI have three different fragments, all three have toolbars with the same id.\nI have code that is the same in three toolbars.</p>\n<pre><code>        float radius = getResources().getDimension(R.dimen.default_corner_radius); //32dp\n        MaterialShapeDrawable materialShapeDrawable = (MaterialShapeDrawable) binding.toolbar.getBackground();\n        materialShapeDrawable.setShapeAppearanceModel(materialShapeDrawable.getShapeAppearanceModel()\n                .toBuilder()\n                .setAllCorners(CornerFamily.ROUNDED,radius)\n                .build());\n</code></pre>\n<p>I want to create a common class as below and run the same code from here, but I couldn't figure out how to transfer the binding structure.</p>\n<pre><code>public class MenuFragmentsToolbar&lt;T&gt; {\n\n    public void applyRadiusCorner(T binding){\n\n        float radius = getResources().getDimension(R.dimen.default_corner_radius); //32dp\n        MaterialShapeDrawable materialShapeDrawable = (MaterialShapeDrawable) binding.toolbar.getBackground();\n        materialShapeDrawable.setShapeAppearanceModel(materialShapeDrawable.getShapeAppearanceModel()\n                .toBuilder()\n                .setAllCorners(CornerFamily.ROUNDED,radius)\n                .build());\n    }\n}\n</code></pre>\n"},{"tags":["java","google-bigquery","google-bigquery-java"],"answers":[{"tags":[],"owner":{"account_id":25604480,"reputation":1167,"user_id":19378826,"display_name":"Nestor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687781991,"creation_date":1687781991,"answer_id":76556632,"question_id":76541932,"body_markdown":"Can you try this sample found [here][1]? (It has also a bit of description provided in the comments)\r\n\r\n```\r\n   public void initialize(TableName parentTable)\r\n        throws DescriptorValidationException, IOException, InterruptedException {\r\n      // Use the JSON stream writer to send records in JSON format. Specify the table name to write\r\n      // to the default stream.\r\n      // For more information about JsonStreamWriter, see:\r\n      // https://googleapis.dev/java/google-cloud-bigquerystorage/latest/com/google/cloud/bigquery/storage/v1/JsonStreamWriter.html\r\n      streamWriter =\r\n          JsonStreamWriter.newBuilder(parentTable.toString(), BigQueryWriteClient.create())\r\n              .setExecutorProvider(\r\n                  FixedExecutorProvider.create(Executors.newScheduledThreadPool(100)))\r\n              .setChannelProvider(\r\n                  BigQueryWriteSettings.defaultGrpcTransportProviderBuilder()\r\n                      .setKeepAliveTime(org.threeten.bp.Duration.ofMinutes(1))\r\n                      .setKeepAliveTimeout(org.threeten.bp.Duration.ofMinutes(1))\r\n                      .setKeepAliveWithoutCalls(true)\r\n                      .setChannelsPerCpu(2)\r\n                      .build())\r\n              .build();\r\n    }\r\n```\r\nYou can also find other functions as well in this github library:\r\nhttps://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java\r\n\r\n  [1]: https://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java#L163","title":"Integration tests with BigQuery&#39;s JsonStreamWriter in Java","body":"<p>Can you try this sample found <a href=\"https://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java#L163\" rel=\"nofollow noreferrer\">here</a>? (It has also a bit of description provided in the comments)</p>\n<pre><code>   public void initialize(TableName parentTable)\n        throws DescriptorValidationException, IOException, InterruptedException {\n      // Use the JSON stream writer to send records in JSON format. Specify the table name to write\n      // to the default stream.\n      // For more information about JsonStreamWriter, see:\n      // https://googleapis.dev/java/google-cloud-bigquerystorage/latest/com/google/cloud/bigquery/storage/v1/JsonStreamWriter.html\n      streamWriter =\n          JsonStreamWriter.newBuilder(parentTable.toString(), BigQueryWriteClient.create())\n              .setExecutorProvider(\n                  FixedExecutorProvider.create(Executors.newScheduledThreadPool(100)))\n              .setChannelProvider(\n                  BigQueryWriteSettings.defaultGrpcTransportProviderBuilder()\n                      .setKeepAliveTime(org.threeten.bp.Duration.ofMinutes(1))\n                      .setKeepAliveTimeout(org.threeten.bp.Duration.ofMinutes(1))\n                      .setKeepAliveWithoutCalls(true)\n                      .setChannelsPerCpu(2)\n                      .build())\n              .build();\n    }\n</code></pre>\n<p>You can also find other functions as well in this github library:\n<a href=\"https://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java\" rel=\"nofollow noreferrer\">https://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java</a></p>\n"}],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687781991,"creation_date":1687537461,"question_id":76541932,"body_markdown":"For local development and integration testing, I am using a [BigQuery emulator][1] that exposes ports 9050 (for HTTP) and 9060 (for grpc). For example, this is how I instantiate *BigQuery* client object in Java (this works and it is connecting to my emulator): \r\n\r\n```java\r\nBigQuery bigQuery = BigQueryOptions.newBuilder()\r\n\t\t.setProjectId(BQ_PROJECT)\r\n\t\t.setHost(&quot;http://localhost:9050&quot;)\r\n\t\t.build().getService();\r\n```\r\n\r\nNow, I need to do the same thing for a [*JsonStreamWriter*][2]. Unfortunately, I couldn&#39;t find a way to do it and from the documentation, it&#39;s unclear how to do it. \r\n\r\nI have tried instantiating the JsonStreamWriter in many different ways, but with no success:\r\n\r\n```java\r\nJsonStreamWriter streamWriter = JsonStreamWriter.newBuilder(\r\n    TableName.of(BQ_PROJECT, BQ_DATASET, BQ_TABLE).toString(),\r\n\tBigQueryWriteClient.create(\r\n\t    BigQueryWriteSettings.newBuilder()\r\n\t\t    .setEndpoint(&quot;localhost:9060&quot;)\r\n\t\t\t.build()\r\n\t\t)\r\n    )\r\n    .build();\r\n```\r\nNo matter what I try, it always gets stuck when calling the *build()* method. does anybody know what is not working or what else I should be doing/trying?\r\n\r\n\r\n  [1]: https://github.com/goccy/bigquery-emulator\r\n  [2]: https://cloud.google.com/java/docs/reference/google-cloud-bigquerystorage/latest/com.google.cloud.bigquery.storage.v1.JsonStreamWriter","title":"Integration tests with BigQuery&#39;s JsonStreamWriter in Java","body":"<p>For local development and integration testing, I am using a <a href=\"https://github.com/goccy/bigquery-emulator\" rel=\"nofollow noreferrer\">BigQuery emulator</a> that exposes ports 9050 (for HTTP) and 9060 (for grpc). For example, this is how I instantiate <em>BigQuery</em> client object in Java (this works and it is connecting to my emulator):</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigQuery bigQuery = BigQueryOptions.newBuilder()\n        .setProjectId(BQ_PROJECT)\n        .setHost(&quot;http://localhost:9050&quot;)\n        .build().getService();\n</code></pre>\n<p>Now, I need to do the same thing for a <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-bigquerystorage/latest/com.google.cloud.bigquery.storage.v1.JsonStreamWriter\" rel=\"nofollow noreferrer\"><em>JsonStreamWriter</em></a>. Unfortunately, I couldn't find a way to do it and from the documentation, it's unclear how to do it.</p>\n<p>I have tried instantiating the JsonStreamWriter in many different ways, but with no success:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonStreamWriter streamWriter = JsonStreamWriter.newBuilder(\n    TableName.of(BQ_PROJECT, BQ_DATASET, BQ_TABLE).toString(),\n    BigQueryWriteClient.create(\n        BigQueryWriteSettings.newBuilder()\n            .setEndpoint(&quot;localhost:9060&quot;)\n            .build()\n        )\n    )\n    .build();\n</code></pre>\n<p>No matter what I try, it always gets stuck when calling the <em>build()</em> method. does anybody know what is not working or what else I should be doing/trying?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1620638469,"post_id":67467779,"comment_id":119250283,"body_markdown":"It&#39;s running because you haven&#39;t stopped it, and when you try to re-run it it says it can&#39;t re-assign port that&#39;s already in use. Kill the previously running instance and run again.","body":"It&#39;s running because you haven&#39;t stopped it, and when you try to re-run it it says it can&#39;t re-assign port that&#39;s already in use. Kill the previously running instance and run again."},{"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"score":0,"creation_date":1620638770,"post_id":67467779,"comment_id":119250405,"body_markdown":"Better terminate the JVM instance(running server) and start again","body":"Better terminate the JVM instance(running server) and start again"},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1620639268,"post_id":67467779,"comment_id":119250589,"body_markdown":"Sometimes when you force close your IDE without stopping the tomcat server then JVM does not get terminated and you get this issue, try killing java task/process and it works.","body":"Sometimes when you force close your IDE without stopping the tomcat server then JVM does not get terminated and you get this issue, try killing java task/process and it works."},{"owner":{"account_id":21322796,"reputation":31,"user_id":15695668,"display_name":"lisa"},"score":0,"creation_date":1620639590,"post_id":67467779,"comment_id":119250707,"body_markdown":"Thanks for the suggestions, how do i kill it tho...? the normal stop option can&#39;t be selected because it&#39;s not running.","body":"Thanks for the suggestions, how do i kill it tho...? the normal stop option can&#39;t be selected because it&#39;s not running."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1620639635,"post_id":67467779,"comment_id":119250732,"body_markdown":"@lisa from your operating system (which we don&#39;t know), i.e. Windows&#39; task manager or with the `kill` command on *nix environments","body":"@lisa from your operating system (which we don&#39;t know), i.e. Windows&#39; task manager or with the <code>kill</code> command on *nix environments"},{"owner":{"account_id":21322796,"reputation":31,"user_id":15695668,"display_name":"lisa"},"score":0,"creation_date":1620639894,"post_id":67467779,"comment_id":119250859,"body_markdown":"@FedericoklezCulloca I am looking in my windows task manager but i can&#39;t see anything running...","body":"@FedericoklezCulloca I am looking in my windows task manager but i can&#39;t see anything running..."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1620640070,"post_id":67467779,"comment_id":119250940,"body_markdown":"@lisa under Detail look for a `java.exe`. If there&#39;s more than one, as an heuristic, you should probably kill the one consuming more RAM.","body":"@lisa under Detail look for a <code>java.exe</code>. If there&#39;s more than one, as an heuristic, you should probably kill the one consuming more RAM."},{"owner":{"account_id":21322796,"reputation":31,"user_id":15695668,"display_name":"lisa"},"score":0,"creation_date":1620640698,"post_id":67467779,"comment_id":119251212,"body_markdown":"@FedericoklezCulloca Thanks! it seems to be working for now!","body":"@FedericoklezCulloca Thanks! it seems to be working for now!"}],"answers":[{"tags":[],"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620640552,"creation_date":1620640552,"answer_id":67468382,"question_id":67467779,"body_markdown":"if you are running on windows, you can find the process running on port and kill that process using below command, so that port will be freed\r\n\r\n```\r\nnetstat -ano | findstr :8443\r\ntaskkill /pid &quot;EnterProcessIdHere&quot; /F\r\n\r\n```\r\nFor linux\r\n\r\n```\r\nlsof -i :8443\r\nkill EnterProcessIdHere\r\n```","title":"Web server failed to start. Port was already in use error. but application is still running","body":"<p>if you are running on windows, you can find the process running on port and kill that process using below command, so that port will be freed</p>\n<pre><code>netstat -ano | findstr :8443\ntaskkill /pid &quot;EnterProcessIdHere&quot; /F\n\n</code></pre>\n<p>For linux</p>\n<pre><code>lsof -i :8443\nkill EnterProcessIdHere\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623655997,"creation_date":1623611956,"answer_id":67961877,"question_id":67467779,"body_markdown":"to catch java.net.BindException e with message: Address already in use \r\n\r\n    try {\r\n            SpringApplication.run(Application.class, args);\r\n        } catch (org.springframework.boot.web.server.PortInUseException e) {\r\n    //Runtime.exec(&quot;pkil&quot;)..\r\n    //or\r\n    SpringApplication.run(Application.class, otherargs);\r\n    //SpringApplication.run(Application.class, new String[]{&quot;--server.port=8444&quot;});\r\n    //when invoked recursively it is a port rebalancer for port usage among port pool with server as from client for startup stage via application restarts within many busy ports which are used before or without querying.\r\n    }","title":"Web server failed to start. Port was already in use error. but application is still running","body":"<p>to catch java.net.BindException e with message: Address already in use</p>\n<pre><code>try {\n        SpringApplication.run(Application.class, args);\n    } catch (org.springframework.boot.web.server.PortInUseException e) {\n//Runtime.exec(&quot;pkil&quot;)..\n//or\nSpringApplication.run(Application.class, otherargs);\n//SpringApplication.run(Application.class, new String[]{&quot;--server.port=8444&quot;});\n//when invoked recursively it is a port rebalancer for port usage among port pool with server as from client for startup stage via application restarts within many busy ports which are used before or without querying.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5598982,"reputation":21,"user_id":4536970,"display_name":"Naveed I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687781846,"creation_date":1687781444,"answer_id":76556559,"question_id":67467779,"body_markdown":"Go to eclipse&#39;s Console window and click red Stop button to stop Tomcat and/or click &#39;Remove All Terminated Launches&#39; and then re-run spring boot app. \r\n\r\nIt clears/purges previous app instances bound to port.","title":"Web server failed to start. Port was already in use error. but application is still running","body":"<p>Go to eclipse's Console window and click red Stop button to stop Tomcat and/or click 'Remove All Terminated Launches' and then re-run spring boot app.</p>\n<p>It clears/purges previous app instances bound to port.</p>\n"}],"owner":{"account_id":21322796,"reputation":31,"user_id":15695668,"display_name":"lisa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3640,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687781846,"creation_date":1620638133,"question_id":67467779,"body_markdown":"I am making a spring boot application. Everything worked fine until two days ago.\r\nWhen I start my application I get: \r\n\r\n\r\n&quot;APPLICATION FAILED TO START.\r\nWeb server failed to start. Port 8443 was already in use.&quot;\r\n\r\nBut.... when I check my postman the application IS running.... So the error shouldn&#39;t be there. I would really appreciate some help here. I don&#39;t know what I&#39;m doing wrong. \r\nI already tried diffrent ports but that is not the problem.\r\n\r\nThis is my &quot;application.properties&quot;\r\n```\r\nserver.ssl.key-store=classpath:certificate.jks\r\nserver.ssl.key-store-type=pkcs12\r\nserver.ssl.key-store-password=password\r\nserver.ssl.key-password=password\r\nserver.ssl.key-alias=certificate\r\nserver.port=8443\r\n\r\nspring.jpa.show-sql=true\r\n\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.platform=postgres\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/java_backend_eind3\r\nspring.datasource.username=username\r\nspring.datasource.password=password\r\nspring.jpa.database=POSTGRESQL\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.jpa.hibernate.ddl-auto= create\r\nspring.datasource.initialization-mode=always\r\n\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\n```\r\n\r\nand my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;nl.eind.java&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;backend&lt;/name&gt;\r\n\t&lt;description&gt;Java eindopdracht &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n","title":"Web server failed to start. Port was already in use error. but application is still running","body":"<p>I am making a spring boot application. Everything worked fine until two days ago.\nWhen I start my application I get:</p>\n<p>&quot;APPLICATION FAILED TO START.\nWeb server failed to start. Port 8443 was already in use.&quot;</p>\n<p>But.... when I check my postman the application IS running.... So the error shouldn't be there. I would really appreciate some help here. I don't know what I'm doing wrong.\nI already tried diffrent ports but that is not the problem.</p>\n<p>This is my &quot;application.properties&quot;</p>\n<pre><code>server.ssl.key-store=classpath:certificate.jks\nserver.ssl.key-store-type=pkcs12\nserver.ssl.key-store-password=password\nserver.ssl.key-password=password\nserver.ssl.key-alias=certificate\nserver.port=8443\n\nspring.jpa.show-sql=true\n\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.platform=postgres\nspring.datasource.url=jdbc:postgresql://localhost:5432/java_backend_eind3\nspring.datasource.username=username\nspring.datasource.password=password\nspring.jpa.database=POSTGRESQL\nspring.jpa.generate-ddl=true\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\n\nspring.jpa.hibernate.ddl-auto= create\nspring.datasource.initialization-mode=always\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n<p>and my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;nl.eind.java&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;Java eindopdracht &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","docker","memory-leaks","garbage-collection","spring-batch"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687540475,"post_id":76540120,"comment_id":134956599,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687692429,"post_id":76540120,"comment_id":134969365,"body_markdown":"Please give your problem statement","body":"Please give your problem statement"}],"owner":{"account_id":14425571,"reputation":11,"user_id":10420445,"display_name":"Tural Ahmadov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687781550,"creation_date":1687523243,"question_id":76540120,"body_markdown":"GC does collect object with intervals as expected. However, after first spring batch job is finished, the following happens:\r\n\r\n1) Memory usage increases unexpetedly like 10x of my expectations;\r\n2) GC stops doing its job automatically, but responds to jcmd &lt;jar-app-name&gt;.jar GC.run and frees the memory.\r\n\r\nWas thinking about memory leak so that gc can not collect the objects, but I can trigger it using jcmd \\&lt;jar-app-name&gt;.jar GC.run. Thus, I am confused. GC actually can collect, but why it is not doing its job even when app is out of memory. \r\n\r\nAlso, I use excel poi library&#39;s PoiItemReader class to read an excel file. \r\n\r\nI think it has something to do with following:\r\n1) cmd run java app command arguments;\r\n2) Apache poi library reading the excel at once, not piece by piece kind of killing the batch concept;\r\n\r\nIf anyone has idea about the issue, please comment.\r\n\r\nThe app is running as container from image build using the following dockerfile commands:\r\n```\r\nFROM registry.access.redhat.com/ubi8/openjdk-11:latest\r\nCOPY build/libs/*.jar /app/app.jar\r\nWORKDIR /app/\r\nCMD [&quot;java&quot;, &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:MaxRAMPercentage=75&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```","title":"Garbage collector stops gathering objects from eden after Spring Batch job initiated","body":"<p>GC does collect object with intervals as expected. However, after first spring batch job is finished, the following happens:</p>\n<ol>\n<li>Memory usage increases unexpetedly like 10x of my expectations;</li>\n<li>GC stops doing its job automatically, but responds to jcmd .jar GC.run and frees the memory.</li>\n</ol>\n<p>Was thinking about memory leak so that gc can not collect the objects, but I can trigger it using jcmd &lt;jar-app-name&gt;.jar GC.run. Thus, I am confused. GC actually can collect, but why it is not doing its job even when app is out of memory.</p>\n<p>Also, I use excel poi library's PoiItemReader class to read an excel file.</p>\n<p>I think it has something to do with following:</p>\n<ol>\n<li>cmd run java app command arguments;</li>\n<li>Apache poi library reading the excel at once, not piece by piece kind of killing the batch concept;</li>\n</ol>\n<p>If anyone has idea about the issue, please comment.</p>\n<p>The app is running as container from image build using the following dockerfile commands:</p>\n<pre><code>FROM registry.access.redhat.com/ubi8/openjdk-11:latest\nCOPY build/libs/*.jar /app/app.jar\nWORKDIR /app/\nCMD [&quot;java&quot;, &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:MaxRAMPercentage=75&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n"},{"tags":["java","reflection","interface","sdk","internals"],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687779407,"creation_date":1687779407,"answer_id":76556307,"question_id":76556185,"body_markdown":"Why do you expect `Class` to implement `Member`?\r\n\r\nA class, by default, is a top level class and not a nested one. Thus, it&#39;s not a member of any other class.\r\n\r\nWhat I&#39;m trying to say is that a `class B` is only a `Member` if it&#39;s a nested class declared in some `class A`. But then it doesn&#39;t make sense that `A` also implements `Member`.\r\n\r\nI am not good with words today, I hope I got my point communicated clearly.\r\n\r\n","title":"Why java.lang.Class doesn&#39;t implement java.lang.reflect.Member interface?","body":"<p>Why do you expect <code>Class</code> to implement <code>Member</code>?</p>\n<p>A class, by default, is a top level class and not a nested one. Thus, it's not a member of any other class.</p>\n<p>What I'm trying to say is that a <code>class B</code> is only a <code>Member</code> if it's a nested class declared in some <code>class A</code>. But then it doesn't make sense that <code>A</code> also implements <code>Member</code>.</p>\n<p>I am not good with words today, I hope I got my point communicated clearly.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687781508,"creation_date":1687781508,"answer_id":76556569,"question_id":76556185,"body_markdown":"I think the answer should be found in `getDeclaringClass`.\r\n\r\nFrom `Member`:\r\n&gt; Returns the Class object representing the class or interface that declares the member or constructor represented by this Member.\r\n\r\nFrom `Class`:\r\n&gt; If the class or interface represented by this Class object is a member of another class, returns the Class object representing the class in which it was declared. This method returns null if this class or interface is not a member of any other class. If this Class object represents an array class, a primitive type, or void,then this method returns null.\r\n\r\nThat possible `null` is the main difference. Instances of `Member` are not allowed to return `null`, instances of `Class` are. If Oracle would change the specification of `Member.getDeclaringClass` to allow `null` return values, that could break existing code. They can fix those occurrences in the JDK itself, but not in third party code.","title":"Why java.lang.Class doesn&#39;t implement java.lang.reflect.Member interface?","body":"<p>I think the answer should be found in <code>getDeclaringClass</code>.</p>\n<p>From <code>Member</code>:</p>\n<blockquote>\n<p>Returns the Class object representing the class or interface that declares the member or constructor represented by this Member.</p>\n</blockquote>\n<p>From <code>Class</code>:</p>\n<blockquote>\n<p>If the class or interface represented by this Class object is a member of another class, returns the Class object representing the class in which it was declared. This method returns null if this class or interface is not a member of any other class. If this Class object represents an array class, a primitive type, or void,then this method returns null.</p>\n</blockquote>\n<p>That possible <code>null</code> is the main difference. Instances of <code>Member</code> are not allowed to return <code>null</code>, instances of <code>Class</code> are. If Oracle would change the specification of <code>Member.getDeclaringClass</code> to allow <code>null</code> return values, that could break existing code. They can fix those occurrences in the JDK itself, but not in third party code.</p>\n"}],"owner":{"account_id":25784571,"reputation":13,"user_id":22132943,"display_name":"Andriy Mykhaylyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76556569,"answer_count":2,"score":-1,"last_activity_date":1687781508,"creation_date":1687778386,"question_id":76556185,"body_markdown":"I&#39;m working on a Package Browser in browser in Java and trying to write a generic method which can handle all members of the class - basically collecting string representation of them, choosing an image and displaying it in a tree view.\r\n\r\nFor all [Members](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Member.html) (Field, Method, Constructor) it has been working great - they all have `getName()` and `isSynthetic()` which allows me to treat them in the same way because that&#39;s all I need.\r\n\r\nBut [Class](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html) is special - **even though it has all the methods of that interface, it doesn&#39;t technically implement it!**. \r\n\r\nAnd to handle it I need a special-case-method or do an `instanceof` checks, which is not very clean.\r\n\r\nSo, i guess, this is more of a philosophical question - why is that? Because classes are not considered to be &quot;proper&quot; members of classes and instead are nested? Or because of something else? \r\n\r\nPlease shine the light on this topic!\r\n\r\nI tried to treat objects of type `Class&lt;?&gt;` as if they implemented interface `Member`.","title":"Why java.lang.Class doesn&#39;t implement java.lang.reflect.Member interface?","body":"<p>I'm working on a Package Browser in browser in Java and trying to write a generic method which can handle all members of the class - basically collecting string representation of them, choosing an image and displaying it in a tree view.</p>\n<p>For all <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Member.html\" rel=\"nofollow noreferrer\">Members</a> (Field, Method, Constructor) it has been working great - they all have <code>getName()</code> and <code>isSynthetic()</code> which allows me to treat them in the same way because that's all I need.</p>\n<p>But <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a> is special - <strong>even though it has all the methods of that interface, it doesn't technically implement it!</strong>.</p>\n<p>And to handle it I need a special-case-method or do an <code>instanceof</code> checks, which is not very clean.</p>\n<p>So, i guess, this is more of a philosophical question - why is that? Because classes are not considered to be &quot;proper&quot; members of classes and instead are nested? Or because of something else?</p>\n<p>Please shine the light on this topic!</p>\n<p>I tried to treat objects of type <code>Class&lt;?&gt;</code> as if they implemented interface <code>Member</code>.</p>\n"},{"tags":["java","android","firebase","canvas","callback"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1687791118,"post_id":76556502,"comment_id":134982384,"body_markdown":"What does this `invalidate()` method do?","body":"What does this <code>invalidate()</code> method do?"},{"owner":{"account_id":25233717,"reputation":1,"user_id":19068546,"display_name":"TesterQA___2000"},"score":0,"creation_date":1687806047,"post_id":76556502,"comment_id":134985407,"body_markdown":"Invalidate is used to invoke the callback function &quot;onDraw&quot;, which is in order reflect the changes (new drawas) in the canvas.","body":"Invalidate is used to invoke the callback function &quot;onDraw&quot;, which is in order reflect the changes (new drawas) in the canvas."}],"owner":{"account_id":25233717,"reputation":1,"user_id":19068546,"display_name":"TesterQA___2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687781046,"creation_date":1687781046,"question_id":76556502,"body_markdown":"Have a good day.\r\n\r\nActually, I have faced an issue, in which, the onDraw function is not being executed when onChildAdded is being invoking inside onChildAdded callback for firebase.\r\n\r\n\r\n```\r\n        childEventListener = databaseRef.addChildEventListener(new ChildEventListener() {\r\n\r\n                    @Override\r\n                    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n\r\n                        String strikeAsString = (String) snapshot.getValue();\r\n\r\n                        invalidate();\r\n\r\n\r\n                    }\r\n                    }\r\n\r\n\r\n\r\n```\r\n\r\n```\r\n  protected void onDraw(Canvas canvas) {\r\n     super.onDraw(canvas);\r\n```\r\n\r\n\r\n","title":"The invalidate function[inside onChildAdded firebase&#39;s callback] doesn&#39;t invoke onDraw","body":"<p>Have a good day.</p>\n<p>Actually, I have faced an issue, in which, the onDraw function is not being executed when onChildAdded is being invoking inside onChildAdded callback for firebase.</p>\n<pre><code>        childEventListener = databaseRef.addChildEventListener(new ChildEventListener() {\n\n                    @Override\n                    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n\n                        String strikeAsString = (String) snapshot.getValue();\n\n                        invalidate();\n\n\n                    }\n                    }\n\n\n\n</code></pre>\n<pre><code>  protected void onDraw(Canvas canvas) {\n     super.onDraw(canvas);\n</code></pre>\n"},{"tags":["java","maven","junit","maven-failsafe-plugin"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1687781904,"post_id":76556434,"comment_id":134980200,"body_markdown":"Can&#39;t you just create a separate test project? You can probably put it in the same repository, as long as you don&#39;t include it in the parent POM (e.g. as module). Refer to the parent using `&lt;relativePath&gt;`, then build the test project from its own directory.","body":"Can&#39;t you just create a separate test project? You can probably put it in the same repository, as long as you don&#39;t include it in the parent POM (e.g. as module). Refer to the parent using <code>&lt;relativePath&gt;</code>, then build the test project from its own directory."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1687782217,"post_id":76556434,"comment_id":134980272,"body_markdown":"Another idea: in your src/test/resources, add an entire, simple Maven project that uses the parent pom you want to test. Invoke Maven programmatically from your tests to that dummy project (or projects). I believe it should be possible but never done that, so treat this as just an idea.","body":"Another idea: in your src/test/resources, add an entire, simple Maven project that uses the parent pom you want to test. Invoke Maven programmatically from your tests to that dummy project (or projects). I believe it should be possible but never done that, so treat this as just an idea."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687790519,"post_id":76556434,"comment_id":134982243,"body_markdown":"Do you test the pom or more accurately the configuration of plugins within that pom file?","body":"Do you test the pom or more accurately the configuration of plugins within that pom file?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1687802449,"post_id":76556434,"comment_id":134984825,"body_markdown":"@khmarbaise I want to make sure that changes to the company parent POM don&#39;t break the build of the projects using it. So the test should run builds of example projects with the new parent POM to make sure these builds still succeed.","body":"@khmarbaise I want to make sure that changes to the company parent POM don&#39;t break the build of the projects using it. So the test should run builds of example projects with the new parent POM to make sure these builds still succeed."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687804345,"post_id":76556434,"comment_id":134985121,"body_markdown":"You could simply make a integration module project which contains only those tests... but will not being published. (skip deployment)... ?","body":"You could simply make a integration module project which contains only those tests... but will not being published. (skip deployment)... ?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1687806153,"post_id":76556434,"comment_id":134985422,"body_markdown":"But I don&#39;t want to add modules to my company parent POM. I could either add an additional aggregator POM or build the integration module separately with the CI server, but I am not sure yet.","body":"But I don&#39;t want to add modules to my company parent POM. I could either add an additional aggregator POM or build the integration module separately with the CI server, but I am not sure yet."}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687780401,"creation_date":1687780401,"question_id":76556434,"body_markdown":"I have a company parent POM that I would like to integration test. The integration test should be building example projects with the company parent POM.\r\n\r\nI thought about setting this up with the failsafe Maven plugin and JUnit, but my problem is:\r\n\r\n- I do not want any dependencies in the company parent POM\r\n- To run JUnit tests, I need to have JUnit as dependency\r\n\r\nIs there any way around this problem?","title":"Integration test a parent POM","body":"<p>I have a company parent POM that I would like to integration test. The integration test should be building example projects with the company parent POM.</p>\n<p>I thought about setting this up with the failsafe Maven plugin and JUnit, but my problem is:</p>\n<ul>\n<li>I do not want any dependencies in the company parent POM</li>\n<li>To run JUnit tests, I need to have JUnit as dependency</li>\n</ul>\n<p>Is there any way around this problem?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687778239,"post_id":76555875,"comment_id":134979423,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5465233,"reputation":754,"user_id":4346218,"accept_rate":75,"display_name":"devchimp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687779892,"creation_date":1687779892,"answer_id":76556368,"question_id":76555875,"body_markdown":"It can be done inside styles.xml:\r\n\r\n    &lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/primaryColor&lt;/item&gt;\r\n\r\nor\r\n\r\n    window.setNavigationBarColor(@ColorInt int color)\r\n\r\nSet that to the primaryColor of your app. Requires API 21 or above.","title":"change the color of the head of the apk","body":"<p>It can be done inside styles.xml:</p>\n<pre><code>&lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/primaryColor&lt;/item&gt;\n</code></pre>\n<p>or</p>\n<pre><code>window.setNavigationBarColor(@ColorInt int color)\n</code></pre>\n<p>Set that to the primaryColor of your app. Requires API 21 or above.</p>\n"}],"owner":{"account_id":28880211,"reputation":1,"user_id":22119846,"display_name":"Carloesposito98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687779892,"creation_date":1687775697,"question_id":76555875,"body_markdown":"How to automatically change the color of the navigation bar based on the color of my app. For example if the color of my app is blue I want the navigation bar to turn blue automatically\r\n\r\nI don’t know what to do","title":"change the color of the head of the apk","body":"<p>How to automatically change the color of the navigation bar based on the color of my app. For example if the color of my app is blue I want the navigation bar to turn blue automatically</p>\n<p>I don’t know what to do</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":8839728,"reputation":435,"user_id":6602552,"accept_rate":44,"display_name":"Otis Ottington"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664533318,"creation_date":1664533318,"answer_id":73907259,"question_id":73906292,"body_markdown":"Found the solution:\r\n\r\nI forgot to add the Filterproxy:\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;\r\n            org.springframework.web.filter.DelegatingFilterProxy\r\n        &lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nThis is the punishment for not using spring boot ","title":"Spring Security - DefaultSecurityFilterChain empty","body":"<p>Found the solution:</p>\n<p>I forgot to add the Filterproxy:</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;\n        org.springframework.web.filter.DelegatingFilterProxy\n    &lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>This is the punishment for not using spring boot</p>\n"},{"tags":[],"owner":{"account_id":4574130,"reputation":775,"user_id":3713041,"accept_rate":86,"display_name":"Moth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687778674,"creation_date":1687778674,"answer_id":76556219,"question_id":73906292,"body_markdown":"And for anyone configuring via code, here is the Kotlin version. I also suffered through this punishment. I assumed the @EnableWebSecurity annotation would register the filter but alas, it was not to be.\r\n\r\n    log.info(&quot;Adding Spring Security filter to servlet context&quot;)\r\n    val springSecurityFilterChain = DelegatingFilterProxy(&quot;springSecurityFilterChain&quot;, dispatcherContext)\r\n    springSecurityFilterChain.setTargetFilterLifecycle(true)\r\n    val springSecurityRegistration = servletContext.addFilter(&quot;springSecurityFilterChain&quot;, springSecurityFilterChain)\r\n    springSecurityRegistration.setAsyncSupported(true)\r\n    springSecurityRegistration.addMappingForUrlPatterns(\r\n        EnumSet.of(DispatcherType.REQUEST,\r\n                   DispatcherType.ERROR,\r\n                   DispatcherType.ASYNC),\r\n        false,\r\n        &quot;/*&quot;)","title":"Spring Security - DefaultSecurityFilterChain empty","body":"<p>And for anyone configuring via code, here is the Kotlin version. I also suffered through this punishment. I assumed the @EnableWebSecurity annotation would register the filter but alas, it was not to be.</p>\n<pre><code>log.info(&quot;Adding Spring Security filter to servlet context&quot;)\nval springSecurityFilterChain = DelegatingFilterProxy(&quot;springSecurityFilterChain&quot;, dispatcherContext)\nspringSecurityFilterChain.setTargetFilterLifecycle(true)\nval springSecurityRegistration = servletContext.addFilter(&quot;springSecurityFilterChain&quot;, springSecurityFilterChain)\nspringSecurityRegistration.setAsyncSupported(true)\nspringSecurityRegistration.addMappingForUrlPatterns(\n    EnumSet.of(DispatcherType.REQUEST,\n               DispatcherType.ERROR,\n               DispatcherType.ASYNC),\n    false,\n    &quot;/*&quot;)\n</code></pre>\n"}],"owner":{"account_id":8839728,"reputation":435,"user_id":6602552,"accept_rate":44,"display_name":"Otis Ottington"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687778674,"creation_date":1664528383,"question_id":73906292,"body_markdown":"I have a Spring (non Boot) application with rest endpoints. Now I want to add security to request authentification for theese endpoints.\r\n\r\nNote: This app is deployed on an jboss server.\r\n\r\nweb.xml\r\n\r\n     &lt;servlet&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/context.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    \r\nInside the context.xml I scan for all spring component.\r\n\r\nSecurityConfiguration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n       @Override\r\n       public void configure(HttpSecurity httpSecurity) throws Exception {\r\n           httpSecurity\r\n               .csrf().disable()\r\n               .authorizeRequests()\r\n                 .anyRequest().fullyAuthenticated()\r\n               .and().httpBasic();\r\n\r\n       }\r\n\r\n        @Bean\r\n        public AuthenticationProvider authenticationProvider() {\r\n            return new SimpleAuthenticationProvider();\r\n        }\r\n    }\r\n\r\nWhen I deploy the application there is following Message in the logs:\r\n\r\n&gt; [org.springframework.security.web.DefaultSecurityFilterChain] Will not secure any request\r\n\r\nAs a result the endpoints are not secured, I don&#39;t have to enter my credentials. Why is the List of filters empty? As I am not using Spring Boot (using an starter) what do I have to do to use Standard configuration?","title":"Spring Security - DefaultSecurityFilterChain empty","body":"<p>I have a Spring (non Boot) application with rest endpoints. Now I want to add security to request authentification for theese endpoints.</p>\n<p>Note: This app is deployed on an jboss server.</p>\n<p>web.xml</p>\n<pre><code> &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/context.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>Inside the context.xml I scan for all spring component.</p>\n<p>SecurityConfiguration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n   @Override\n   public void configure(HttpSecurity httpSecurity) throws Exception {\n       httpSecurity\n           .csrf().disable()\n           .authorizeRequests()\n             .anyRequest().fullyAuthenticated()\n           .and().httpBasic();\n\n   }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        return new SimpleAuthenticationProvider();\n    }\n}\n</code></pre>\n<p>When I deploy the application there is following Message in the logs:</p>\n<blockquote>\n<p>[org.springframework.security.web.DefaultSecurityFilterChain] Will not secure any request</p>\n</blockquote>\n<p>As a result the endpoints are not secured, I don't have to enter my credentials. Why is the List of filters empty? As I am not using Spring Boot (using an starter) what do I have to do to use Standard configuration?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653557527,"creation_date":1653557527,"answer_id":72389676,"question_id":72389275,"body_markdown":"`==` is an instance comparison and you are creating a new instance, so the comparison fails. \r\n\r\nInstead of creating new button types, reuse the existing predefined types:\r\n\r\n    alert.getDialogPane().getButtonTypes().setAll(\r\n        ButtonType.YES, \r\n        ButtonType.NO\r\n    );","title":"JavaFX alert with aditional buttons","body":"<p><code>==</code> is an instance comparison and you are creating a new instance, so the comparison fails.</p>\n<p>Instead of creating new button types, reuse the existing predefined types:</p>\n<pre><code>alert.getDialogPane().getButtonTypes().setAll(\n    ButtonType.YES, \n    ButtonType.NO\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9455219,"reputation":1,"user_id":7030740,"display_name":"Steve Dwyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687778535,"creation_date":1687778535,"answer_id":76556198,"question_id":72389275,"body_markdown":"Alternatively, you can query the `ButtonData` passed into the constructors of the `ButtonType` variables `yesButtonType` and `noButtonType`, thus:\r\n\r\n    if (result.isPresent() &amp;&amp; result.get().getButtonData().equals(ButtonData.YES)) { ... }\r\n\r\n","title":"JavaFX alert with aditional buttons","body":"<p>Alternatively, you can query the <code>ButtonData</code> passed into the constructors of the <code>ButtonType</code> variables <code>yesButtonType</code> and <code>noButtonType</code>, thus:</p>\n<pre><code>if (result.isPresent() &amp;&amp; result.get().getButtonData().equals(ButtonData.YES)) { ... }\n</code></pre>\n"}],"owner":{"account_id":25187698,"reputation":65,"user_id":19028331,"display_name":"Valentin Badea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72389676,"answer_count":2,"score":1,"last_activity_date":1687778535,"creation_date":1653555467,"question_id":72389275,"body_markdown":"I need an alert with 2 buttons: yes and no. I created the alert with:\r\n\r\n    alert.getDialogPane().getButtonTypes().clear();\r\n    ButtonType yesButtonType = new ButtonType(&quot;Yes&quot;, ButtonBar.ButtonData.YES);\r\n    ButtonType noButtonType = new ButtonType(&quot;No&quot;, ButtonBar.ButtonData.NO);\r\n    alert.getDialogPane().getButtonTypes().add(yesButtonType);\r\n    alert.getDialogPane().getButtonTypes().add(noButtonType);\r\n\r\n    Optional&lt;ButtonType&gt; result = alert.showAndWait();\r\n\r\nBut when I try to handle the action for every button with:\r\n\r\n  \r\n\r\n    if (result.isPresent() &amp;&amp; result.get() == ButtonType.YES) {\r\n        System.out.println(&quot;OK&quot;);\r\n    }\r\n\r\nIt does not work. Any idea why?\r\n\r\n","title":"JavaFX alert with aditional buttons","body":"<p>I need an alert with 2 buttons: yes and no. I created the alert with:</p>\n<pre><code>alert.getDialogPane().getButtonTypes().clear();\nButtonType yesButtonType = new ButtonType(&quot;Yes&quot;, ButtonBar.ButtonData.YES);\nButtonType noButtonType = new ButtonType(&quot;No&quot;, ButtonBar.ButtonData.NO);\nalert.getDialogPane().getButtonTypes().add(yesButtonType);\nalert.getDialogPane().getButtonTypes().add(noButtonType);\n\nOptional&lt;ButtonType&gt; result = alert.showAndWait();\n</code></pre>\n<p>But when I try to handle the action for every button with:</p>\n<pre><code>if (result.isPresent() &amp;&amp; result.get() == ButtonType.YES) {\n    System.out.println(&quot;OK&quot;);\n}\n</code></pre>\n<p>It does not work. Any idea why?</p>\n"},{"tags":["java","excel","xalan"],"answers":[{"tags":[],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1687778379,"creation_date":1687778379,"answer_id":76556184,"question_id":76555759,"body_markdown":"fixed by adding this to my maven dependencies\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xalan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: org.apache.xml.serializer.OutputPropertiesFactory is thrown after upgrading xalan to 2.7.3","body":"<p>fixed by adding this to my maven dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;xalan&lt;/groupId&gt;\n        &lt;artifactId&gt;serializer&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2138,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687778379,"creation_date":1687774823,"question_id":76555759,"body_markdown":"I have java code that exports some data into an excel file. ( I only included below what I think are the relevant parts in the code)\r\n\r\nEverything worked fine but then I upgraded my xalan from 2.7.2 to 2.7.3 and it stoped working.\r\nthe reason - java.lang.ClassNotFoundException: org.apache.xml.serializer.OutputPropertiesFactory \r\n\r\nThe exception is thrown at the &#39;wb.write(fileOutputStream);&#39; line under the export() method\r\n\r\n    import org.apache.logging.log4j.Level;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.streaming.SXSSFSheet;\r\n    import org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\n         \r\n    private Workbook wb;\r\n    \r\n                private void init(String targetPath, String fileName, ExcelExportType exportType) {\r\n                    exportedFile = new File(Paths.get(targetPath, fileName  + FILE_EXTENSION).toString());\r\n                    try {\r\n                        fileOutputStream = new FileOutputStream(exportedFile);\r\n                        // if file doesn&#39;t exists, then create it\r\n                        if (!exportedFile.exists()) {\r\n                            exportedFile.createNewFile();\r\n                        }\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(&quot;Init failed. File &quot; + exportedFile.getName() + &quot; cannot be found&quot;);\r\n                    }\r\n            \r\n                    switch (exportType) {\r\n                        case MS_EXCEL_2007_AND_UP_STREAMING:\r\n                            wb = new SXSSFWorkbook();\r\n                            break;\r\n                        default:\r\n                            throw new RuntimeException(&quot;Unsupported export type&quot;);\r\n                    }\r\n            \r\n                    wb.setMissingCellPolicy(Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n                    creationHelper = wb.getCreationHelper();\r\n                    sheet = wb.createSheet(getSheetName());\r\n                    Font font = wb.createFont();\r\n                    font.setFontName(DEFAULT_FONT_NAME);\r\n            \r\n                    if(sheet instanceof SXSSFSheet) {\r\n                        ((SXSSFSheet) sheet).trackAllColumnsForAutoSizing();\r\n                    }\r\n            \r\n                    format = wb.createDataFormat();\r\n            \r\n                    headerFont = wb.createFont();\r\n                    headerFont.setFontName(DEFAULT_FONT_NAME);\r\n                    headerFont.setBold(true);\r\n            \r\n                    cellFont = wb.createFont();\r\n                    cellFont.setFontName(DEFAULT_FONT_NAME);\r\n            \r\n                }\r\n            \r\n            public File export() {\r\n                double factor = 390;\r\n                for (int i = 0; i &lt; numOfColumns; i++) {\r\n                    sheet.autoSizeColumn(i);\r\n                    sheet.setColumnWidth(i, getWidth((int)(maxColumnWidth.get(i) * factor)));\r\n                }\r\n            \r\n                sheet.createFreezePane(0,1);\r\n            \r\n                try {\r\n                    wb.write(fileOutputStream);\r\n                    fileOutputStream.close();\r\n                    wb.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            \r\n                return exportedFile;\r\n            }\r\n\r\naccording to the link, \r\n[https://xalan.apache.org/xalan-j/][1]\r\n\r\nXalan-Java Version 2.7.3 works with Xerces-Java, and the distribution includes xercesImpl.jar from Xerces-Java 2.12.2.\r\n\r\nThe Xalan-Java implementation is in xalan.jar and serializer.jar. The SAX, DOM, and JAXP 1.3 interfaces are in xml-apis.jar.\r\n\r\nso maybe I need to implement the code in a different way?\r\nany idea how can I solve this? \r\n\r\n\r\n\r\n  [1]: https://xalan%202.7.3","title":"java.lang.ClassNotFoundException: org.apache.xml.serializer.OutputPropertiesFactory is thrown after upgrading xalan to 2.7.3","body":"<p>I have java code that exports some data into an excel file. ( I only included below what I think are the relevant parts in the code)</p>\n<p>Everything worked fine but then I upgraded my xalan from 2.7.2 to 2.7.3 and it stoped working.\nthe reason - java.lang.ClassNotFoundException: org.apache.xml.serializer.OutputPropertiesFactory</p>\n<p>The exception is thrown at the 'wb.write(fileOutputStream);' line under the export() method</p>\n<pre><code>import org.apache.logging.log4j.Level;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.streaming.SXSSFSheet;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\n     \nprivate Workbook wb;\n\n            private void init(String targetPath, String fileName, ExcelExportType exportType) {\n                exportedFile = new File(Paths.get(targetPath, fileName  + FILE_EXTENSION).toString());\n                try {\n                    fileOutputStream = new FileOutputStream(exportedFile);\n                    // if file doesn't exists, then create it\n                    if (!exportedFile.exists()) {\n                        exportedFile.createNewFile();\n                    }\n                } catch (Exception e) {\n                    throw new RuntimeException(&quot;Init failed. File &quot; + exportedFile.getName() + &quot; cannot be found&quot;);\n                }\n        \n                switch (exportType) {\n                    case MS_EXCEL_2007_AND_UP_STREAMING:\n                        wb = new SXSSFWorkbook();\n                        break;\n                    default:\n                        throw new RuntimeException(&quot;Unsupported export type&quot;);\n                }\n        \n                wb.setMissingCellPolicy(Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n                creationHelper = wb.getCreationHelper();\n                sheet = wb.createSheet(getSheetName());\n                Font font = wb.createFont();\n                font.setFontName(DEFAULT_FONT_NAME);\n        \n                if(sheet instanceof SXSSFSheet) {\n                    ((SXSSFSheet) sheet).trackAllColumnsForAutoSizing();\n                }\n        \n                format = wb.createDataFormat();\n        \n                headerFont = wb.createFont();\n                headerFont.setFontName(DEFAULT_FONT_NAME);\n                headerFont.setBold(true);\n        \n                cellFont = wb.createFont();\n                cellFont.setFontName(DEFAULT_FONT_NAME);\n        \n            }\n        \n        public File export() {\n            double factor = 390;\n            for (int i = 0; i &lt; numOfColumns; i++) {\n                sheet.autoSizeColumn(i);\n                sheet.setColumnWidth(i, getWidth((int)(maxColumnWidth.get(i) * factor)));\n            }\n        \n            sheet.createFreezePane(0,1);\n        \n            try {\n                wb.write(fileOutputStream);\n                fileOutputStream.close();\n                wb.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        \n            return exportedFile;\n        }\n</code></pre>\n<p>according to the link,\n<a href=\"https://xalan%202.7.3\" rel=\"nofollow noreferrer\">https://xalan.apache.org/xalan-j/</a></p>\n<p>Xalan-Java Version 2.7.3 works with Xerces-Java, and the distribution includes xercesImpl.jar from Xerces-Java 2.12.2.</p>\n<p>The Xalan-Java implementation is in xalan.jar and serializer.jar. The SAX, DOM, and JAXP 1.3 interfaces are in xml-apis.jar.</p>\n<p>so maybe I need to implement the code in a different way?\nany idea how can I solve this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687778364,"creation_date":1687760243,"answer_id":76553971,"question_id":76553858,"body_markdown":"1. The build number indicates how often that specific version of the JDK has been built (on the build server) at the time it was released. It starts over at one (1) when the builds for a new (patch-) release start.\r\n\r\n2. Depends on what you want to know. If you want to know whether you are running Java 11, Java 17 or something else then only the first number (11, 17) is relevant. If you want to know whether you are using a JDK with the latest security patches then the first three parts (11.0.11, 17.0.7) are relevant. If you want to know the exact version then everything is important.\r\n\r\n3. Yes, since these numbers start at one (1) with every patch release. For example, the Adoptium release archive lists the following versions:\r\n\r\n* jdk-11.0.19+7\r\n* jdk-11.0.17+8\r\n* jdk-11.0.16+8\r\n* jdk-11.0.13+8\r\n* jdk-11.0.12+7\r\n\r\nAs you can see there are multiple releases that have a build number 7 and also multiple release that have a build number 8. This is expected.\r\n\r\n----\r\nWhat does the following output mean?\r\n\r\n&gt;     java version &quot;11.0.11&quot; 2021-04-20 LTS\r\n&gt;     Java(TM) SE Runtime Environment 18.9 (build 11.0.11+9-LTS-194)\r\n&gt;     Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.11+9-LTS-194, mixed mode)\r\n\r\nAccording to [JEP 322: Time-Based Release versioning](https://openjdk.org/jeps/322#System-properties) it means:\r\n\r\n- Java version 11.0.11 (i.e. Java Feature version 11 - most often just called Java 11, patch level 11), Build Number 9 ([released in April 2021](https://github.com/openjdk/jdk11u/releases/tag/jdk-11.0.11%2B9))\r\n- the vendor-specific version is 18.9 (whatever that means depends upon the vendor of your specific JDK but doesn&#39;t change the fact that you are running Java 11) ","title":"Build Number in java --version output","body":"<ol>\n<li><p>The build number indicates how often that specific version of the JDK has been built (on the build server) at the time it was released. It starts over at one (1) when the builds for a new (patch-) release start.</p>\n</li>\n<li><p>Depends on what you want to know. If you want to know whether you are running Java 11, Java 17 or something else then only the first number (11, 17) is relevant. If you want to know whether you are using a JDK with the latest security patches then the first three parts (11.0.11, 17.0.7) are relevant. If you want to know the exact version then everything is important.</p>\n</li>\n<li><p>Yes, since these numbers start at one (1) with every patch release. For example, the Adoptium release archive lists the following versions:</p>\n</li>\n</ol>\n<ul>\n<li>jdk-11.0.19+7</li>\n<li>jdk-11.0.17+8</li>\n<li>jdk-11.0.16+8</li>\n<li>jdk-11.0.13+8</li>\n<li>jdk-11.0.12+7</li>\n</ul>\n<p>As you can see there are multiple releases that have a build number 7 and also multiple release that have a build number 8. This is expected.</p>\n<hr />\n<p>What does the following output mean?</p>\n<blockquote>\n<pre><code>java version &quot;11.0.11&quot; 2021-04-20 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.11+9-LTS-194)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.11+9-LTS-194, mixed mode)\n</code></pre>\n</blockquote>\n<p>According to <a href=\"https://openjdk.org/jeps/322#System-properties\" rel=\"nofollow noreferrer\">JEP 322: Time-Based Release versioning</a> it means:</p>\n<ul>\n<li>Java version 11.0.11 (i.e. Java Feature version 11 - most often just called Java 11, patch level 11), Build Number 9 (<a href=\"https://github.com/openjdk/jdk11u/releases/tag/jdk-11.0.11%2B9\" rel=\"nofollow noreferrer\">released in April 2021</a>)</li>\n<li>the vendor-specific version is 18.9 (whatever that means depends upon the vendor of your specific JDK but doesn't change the fact that you are running Java 11)</li>\n</ul>\n"}],"owner":{"account_id":1339113,"reputation":1550,"user_id":1281182,"accept_rate":59,"display_name":"Atul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76553971,"answer_count":1,"score":-1,"last_activity_date":1687778364,"creation_date":1687758913,"question_id":76553858,"body_markdown":"I am trying to understand the output given by java --version command.\r\n\r\nThis link [How to interpret this output from java --version][1] explains all the aspects except the part - `build 11.0.11+9-LTS-194, mixed mode`\r\n\r\nMy question is : \r\n\r\n1) What is the build number indicates here ? \r\n2) If we want to know the version number for running JRE , can we just ignore this build number ? \r\n3) Can two JRE versions have same build number ? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73107396/how-to-interpret-this-output-from-java-version","title":"Build Number in java --version output","body":"<p>I am trying to understand the output given by java --version command.</p>\n<p>This link <a href=\"https://stackoverflow.com/questions/73107396/how-to-interpret-this-output-from-java-version\">How to interpret this output from java --version</a> explains all the aspects except the part - <code>build 11.0.11+9-LTS-194, mixed mode</code></p>\n<p>My question is :</p>\n<ol>\n<li>What is the build number indicates here ?</li>\n<li>If we want to know the version number for running JRE , can we just ignore this build number ?</li>\n<li>Can two JRE versions have same build number ?</li>\n</ol>\n"},{"tags":["java","spring-boot","rest","weblogic"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687763554,"post_id":76552460,"comment_id":134976576,"body_markdown":"`server*` properties don&#39;t apply when deploying to a container **only** when using an embedded container. So use the regular port `8080` and the path is the name of your `war` file and not what you have in your `application.properties`.","body":"<code>server*</code> properties don&#39;t apply when deploying to a container <b>only</b> when using an embedded container. So use the regular port <code>8080</code> and the path is the name of your <code>war</code> file and not what you have in your <code>application.properties</code>."}],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687736394,"creation_date":1687736394,"answer_id":76552812,"question_id":76552460,"body_markdown":"If your spring boot application is deployed in weblogic as a war file, then it would be using the weblogic ports, not what you have configured in your application.properties file.","title":"Connection refused from SprigBoot app to weblogic","body":"<p>If your spring boot application is deployed in weblogic as a war file, then it would be using the weblogic ports, not what you have configured in your application.properties file.</p>\n"}],"owner":{"account_id":11772675,"reputation":25,"user_id":8615279,"display_name":"David Sandoval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76552812,"answer_count":1,"score":0,"last_activity_date":1687778135,"creation_date":1687728183,"question_id":76552460,"body_markdown":"I&#39;m trying to consume a **REST** service from **Postman** by deploying a **war** arctifact in **weblogic** but always have the same error \r\n\r\n&gt; &quot;Error: connect ECONNREFUSED 127.0.0.1:8021&quot;\r\n\r\nThere&#39;s no problem with my IP or port.\r\n\r\nThis is my `application.properties` file\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand this my request\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FVFgV.png\r\n  [2]: https://i.stack.imgur.com/eeoYv.png\r\n\r\nfinally, this is my `Controller` class\r\n\r\n```java\r\npackage com.app.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.app.model.Employee;\r\nimport com.app.repo.EmployeeRepo;\r\n\r\n@RestController\r\npublic class EmployeeController {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeRepo repo;\r\n\r\n\t@PostMapping(&quot;/save&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; saveEmployee(@RequestBody Employee employee) {\r\n\t\ttry {\r\n\t\t\trepo.save(employee);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;String&gt;(&quot;Error al insertar&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t}\r\n\t\treturn new ResponseEntity&lt;String&gt;(&quot;Insertado exitosamente&quot;, HttpStatus.OK);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAny help, please?","title":"Connection refused from SprigBoot app to weblogic","body":"<p>I'm trying to consume a <strong>REST</strong> service from <strong>Postman</strong> by deploying a <strong>war</strong> arctifact in <strong>weblogic</strong> but always have the same error</p>\n<blockquote>\n<p>&quot;Error: connect ECONNREFUSED 127.0.0.1:8021&quot;</p>\n</blockquote>\n<p>There's no problem with my IP or port.</p>\n<p>This is my <code>application.properties</code> file</p>\n<p><a href=\"https://i.stack.imgur.com/FVFgV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FVFgV.png\" alt=\"enter image description here\" /></a></p>\n<p>and this my request</p>\n<p><a href=\"https://i.stack.imgur.com/eeoYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eeoYv.png\" alt=\"enter image description here\" /></a></p>\n<p>finally, this is my <code>Controller</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.app.model.Employee;\nimport com.app.repo.EmployeeRepo;\n\n@RestController\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeRepo repo;\n\n    @PostMapping(&quot;/save&quot;)\n    public ResponseEntity&lt;String&gt; saveEmployee(@RequestBody Employee employee) {\n        try {\n            repo.save(employee);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;String&gt;(&quot;Error al insertar&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        return new ResponseEntity&lt;String&gt;(&quot;Insertado exitosamente&quot;, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n<p>Any help, please?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19054692,"reputation":3493,"user_id":13912132,"display_name":"JCWasmx86"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596300022,"creation_date":1596300022,"answer_id":63207621,"question_id":63207516,"body_markdown":"A `NoClassDefFoundError` is thrown,if a classfile references a class, that couldn&#39;t be found at runtime, but was available at compiletime.\r\n\r\n(Source: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/NoClassDefFoundError.html)\r\n\r\nA `ClassNotFoundException` is thrown when an application tries to load in a class through its string name using:\r\n   1. The forName method in class Class.\r\n   2. The findSystemClass method in class ClassLoader .\r\n   3. The loadClass method in class ClassLoader.\r\n\r\n(Source: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassNotFoundException.html)\r\n\r\n\r\nThe error message `Couldn&#39;t find or load main class XYZ`, means a lot of things:\r\n1. You specified the wrong class (Typo)\r\n2. The class in the classfile specified is (not) in a package. (Like `java c`, but the class is in the package a.b, so the command should be `java a.b.c`)\r\n\r\nMore information/causes: https://stackoverflow.com/a/18093929/13912132","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<p>A <code>NoClassDefFoundError</code> is thrown,if a classfile references a class, that couldn't be found at runtime, but was available at compiletime.</p>\n<p>(Source: <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/NoClassDefFoundError.html</a>)</p>\n<p>A <code>ClassNotFoundException</code> is thrown when an application tries to load in a class through its string name using:</p>\n<ol>\n<li>The forName method in class Class.</li>\n<li>The findSystemClass method in class ClassLoader .</li>\n<li>The loadClass method in class ClassLoader.</li>\n</ol>\n<p>(Source: <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassNotFoundException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassNotFoundException.html</a>)</p>\n<p>The error message <code>Couldn't find or load main class XYZ</code>, means a lot of things:</p>\n<ol>\n<li>You specified the wrong class (Typo)</li>\n<li>The class in the classfile specified is (not) in a package. (Like <code>java c</code>, but the class is in the package a.b, so the command should be <code>java a.b.c</code>)</li>\n</ol>\n<p>More information/causes: <a href=\"https://stackoverflow.com/a/18093929/13912132\">https://stackoverflow.com/a/18093929/13912132</a></p>\n"},{"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596302635,"creation_date":1596300547,"answer_id":63207704,"question_id":63207516,"body_markdown":"Both `ClassNotFoundException` and `NoClassDefFoundError` are caused when the JVM is not able to load a particular file, but their cause differs.\r\n\r\nJava runtime throws `ClassNotFoundException` while trying to load a class at runtime only and the name was provided during runtime. In the case of `NoClassDefFoundError`, the class was present at compile-time, but Java runtime could not find it in Java classpath during runtime.\r\n\r\n`Couldn&#39;t find or load main class` error message can be caused by various [reasons](https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean), it can also be caused by `ClassNotFoundException` or `NoClassDefFoundError`.\r\n\r\n```\r\nError: Could not find or load main class ClassName.class\r\nCaused by: java.lang.ClassNotFoundException: ClassName.class\r\n```","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<p>Both <code>ClassNotFoundException</code> and <code>NoClassDefFoundError</code> are caused when the JVM is not able to load a particular file, but their cause differs.</p>\n<p>Java runtime throws <code>ClassNotFoundException</code> while trying to load a class at runtime only and the name was provided during runtime. In the case of <code>NoClassDefFoundError</code>, the class was present at compile-time, but Java runtime could not find it in Java classpath during runtime.</p>\n<p><code>Couldn't find or load main class</code> error message can be caused by various <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\">reasons</a>, it can also be caused by <code>ClassNotFoundException</code> or <code>NoClassDefFoundError</code>.</p>\n<pre><code>Error: Could not find or load main class ClassName.class\nCaused by: java.lang.ClassNotFoundException: ClassName.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596304865,"creation_date":1596303853,"answer_id":63208265,"question_id":63207516,"body_markdown":"[NoClassDefFoundError][1]\r\n-\r\n\r\nThis occurs when the JVM or a `ClassLoader` tries to load a class (as part of a normal method call or as part of creating a new instance using the `new` expression) but it can not be found while it existed when the currently executing class was compiled.\r\n\r\n[ClassNotFoundException][2]\r\n-\r\n\r\nAs mentioned in the documentation, it is thrown when an application tries to load a class through its string name using:\r\n\r\n 1. The `forName` method in class `Class`.\r\n 2. The `findSystemClass` method in class `ClassLoader`.\r\n 3. The `loadClass` method in class `ClassLoader`.\r\n\r\nIt means that it is unknown to JVM whether the class (which is to be loaded) existed when the currently executing class was compiled.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/NoClassDefFoundError.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/ClassNotFoundException.html","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<h2><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">NoClassDefFoundError</a></h2>\n<p>This occurs when the JVM or a <code>ClassLoader</code> tries to load a class (as part of a normal method call or as part of creating a new instance using the <code>new</code> expression) but it can not be found while it existed when the currently executing class was compiled.</p>\n<h2><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassNotFoundException.html\" rel=\"nofollow noreferrer\">ClassNotFoundException</a></h2>\n<p>As mentioned in the documentation, it is thrown when an application tries to load a class through its string name using:</p>\n<ol>\n<li>The <code>forName</code> method in class <code>Class</code>.</li>\n<li>The <code>findSystemClass</code> method in class <code>ClassLoader</code>.</li>\n<li>The <code>loadClass</code> method in class <code>ClassLoader</code>.</li>\n</ol>\n<p>It means that it is unknown to JVM whether the class (which is to be loaded) existed when the currently executing class was compiled.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687777994,"creation_date":1596306255,"answer_id":63208641,"question_id":63207516,"body_markdown":"`NoClassDefFoundError` - [is][1] a *run-time error* thrown when the bytecode of the class (i.e. corresponding `.class` file) cannot be found at run-time.\r\n - Imagine you&#39;ve compiled classes `A.java` and `B.java` and `A` is using `B`; however, later on, you&#39;ve removed compiled `B.class` file. So, compilation went fine, but afterwards, actual bytecode of the class definition has been removed, as you removed `B.class`. Now, if you run your `A` (which uses `B`), you will end up having `java.lang.NoClassDefFoundError`.\r\n\r\n`ClassNotFoundException` - [is][2] a *checked exception* thrown when your application tries to load the class through its String name, but the class isn&#39;t available on classpath.\r\n- An example can be `Class.forName(&quot;com.mysql.jdbc.driver&quot;);` method call in your code, when, however, you don&#39;t have `com.mysql.jdbc.driver` available on the classpath.\r\n\r\n`Couldn&#39;t find or load main class XYZ` - is an error, indicating, that the class you instruct JVM to run, doesn&#39;t contain the *must have* entry-point `public static void main(String[] args)` method and one of these reasons can lead to that error:\r\n\r\n - you don&#39;t provide a correct Fully Qualified Name of your main class;\r\n - main method is not defined with the correct signature;\r\n - you messed up the packaging / you don&#39;t run the program with `super.sub.grandchild.MainClass` name;\r\n - you have `.class` postfix after your classname, which you should remove.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NoClassDefFoundError.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/ClassNotFoundException.html","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<p><code>NoClassDefFoundError</code> - <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">is</a> a <em>run-time error</em> thrown when the bytecode of the class (i.e. corresponding <code>.class</code> file) cannot be found at run-time.</p>\n<ul>\n<li>Imagine you've compiled classes <code>A.java</code> and <code>B.java</code> and <code>A</code> is using <code>B</code>; however, later on, you've removed compiled <code>B.class</code> file. So, compilation went fine, but afterwards, actual bytecode of the class definition has been removed, as you removed <code>B.class</code>. Now, if you run your <code>A</code> (which uses <code>B</code>), you will end up having <code>java.lang.NoClassDefFoundError</code>.</li>\n</ul>\n<p><code>ClassNotFoundException</code> - <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ClassNotFoundException.html\" rel=\"nofollow noreferrer\">is</a> a <em>checked exception</em> thrown when your application tries to load the class through its String name, but the class isn't available on classpath.</p>\n<ul>\n<li>An example can be <code>Class.forName(&quot;com.mysql.jdbc.driver&quot;);</code> method call in your code, when, however, you don't have <code>com.mysql.jdbc.driver</code> available on the classpath.</li>\n</ul>\n<p><code>Couldn't find or load main class XYZ</code> - is an error, indicating, that the class you instruct JVM to run, doesn't contain the <em>must have</em> entry-point <code>public static void main(String[] args)</code> method and one of these reasons can lead to that error:</p>\n<ul>\n<li>you don't provide a correct Fully Qualified Name of your main class;</li>\n<li>main method is not defined with the correct signature;</li>\n<li>you messed up the packaging / you don't run the program with <code>super.sub.grandchild.MainClass</code> name;</li>\n<li>you have <code>.class</code> postfix after your classname, which you should remove.</li>\n</ul>\n"}],"owner":{"display_name":"user13829357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":63208641,"answer_count":4,"score":5,"last_activity_date":1687777994,"creation_date":1596299406,"question_id":63207516,"body_markdown":"I explored multiple sites but could not actually understand difference between them.I would like to know the exact difference between three.","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<p>I explored multiple sites but could not actually understand difference between them.I would like to know the exact difference between three.</p>\n"},{"tags":["java","algebra","waveform"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1576968978,"post_id":59433916,"comment_id":105064493,"body_markdown":"Is there a reason you want to use `sin` to do this rather than produce the straight lines directly by a linear formula? There is an advantage in using `sin` in that you don&#39;t get harmonic distortion from aliasing, but if that&#39;s an issue then you can oversample. The issue is that `sin` is much slower than basic arithmetic.","body":"Is there a reason you want to use <code>sin</code> to do this rather than produce the straight lines directly by a linear formula? There is an advantage in using <code>sin</code> in that you don&#39;t get harmonic distortion from aliasing, but if that&#39;s an issue then you can oversample. The issue is that <code>sin</code> is much slower than basic arithmetic."},{"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"score":1,"creation_date":1577055298,"post_id":59433916,"comment_id":105079872,"body_markdown":"I want to adjust how mellow and bright the triangle wave sounds. For example, a Triangle wave with just the 1st and 3rd harmonics will sound like an organ Tibea, whereas one with more harmonics will sound more like a flute.","body":"I want to adjust how mellow and bright the triangle wave sounds. For example, a Triangle wave with just the 1st and 3rd harmonics will sound like an organ Tibea, whereas one with more harmonics will sound more like a flute."},{"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"score":0,"creation_date":1591050734,"post_id":59433916,"comment_id":109904872,"body_markdown":"How would you make a triangle wave using a linear formula? I tried this in another post but the waveform gets too sharp. https://stackoverflow.com/questions/61009312/problem-with-formula-to-output-a-triangle-waveform-using-linear-aliasing","body":"How would you make a triangle wave using a linear formula? I tried this in another post but the waveform gets too sharp. <a href=\"https://stackoverflow.com/questions/61009312/problem-with-formula-to-output-a-triangle-waveform-using-linear-aliasing\" title=\"problem with formula to output a triangle waveform using linear aliasing\">stackoverflow.com/questions/61009312/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1577087099,"creation_date":1576943743,"answer_id":59437685,"question_id":59433916,"body_markdown":"In the formula for the [triangle wave][1]: \r\n\r\n![](https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B100pt%7D%5Chspace%7B70pt%7Dx_%7Btriangle%7D%5Cleft%20%28%20t%20%5Cright%20%29%3D%20%5Cfrac%7B8%7D%7B%5Cpi%20%5E%7B2%7D%7D%20%5C%20%5Csum_%7Bi%3D%200%7D%5E%7BN-1%7D%20%28-1%29%5E%7Bi%7D%20%5C%20n%5E%7B-2%7D%20%5C%20sin%5Cleft%20%28%202%5Cpi%20f_%7B0%7Dnt%20%5Cright%20%29)\r\n\r\n\r\nthe mode number `n` is dependent on the harmonic label `i`: \r\n\r\n![](https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B150pt%7D%5Chspace%7B150pt%7Dn%3D2i%2B1)\r\n\r\nThis means that it must also be summed over the components\r\n\r\n![](https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B150pt%7D%5Chspace%7B115pt%7Dn%5E%7B-2%7D%20%5C%20sin%5Cleft%20%28%202%5Cpi%20f_%7B0%7Dnt%20%5Cright%20%29)\r\n\r\nwhich doesn&#39;t happen in the current implementation. One possible implementation is:\r\n\r\n    public int[] generateWaveForm() {\r\n        for (int t = 0; t &lt; sampleLength; t++) {\r\n        \ttriangleSample[t] = (int)(ampLimit * 8.0 / Math.pow(Math.PI, 2.0) * getDataPoint(t, N));\r\n        }\r\n        return triangleSample;\r\n    }\r\n\r\n    private double getDataPoint(int t, int N) {\r\n        double sum = 0;\r\n        for (int i = 0; i &lt;= N - 1; i++) {\r\n            sum += getHarmonicShare(t, i);\r\n        }\r\n        return sum;\r\n    }\r\n    \r\n    private double getHarmonicShare(int t, int i) {\r\n\tdouble n = 2.0 * i + 1.0;\r\n    \treturn Math.pow(-1.0, i) * Math.pow(n, -2.0) * Math.sin(2.0 * Math.PI * frequency * (t / SAMPLE_RATE) * n);\r\n    }\r\n\r\nHere `t`, `i`, `n` and `N` correspond to the values from the formula. `frequency` denotes the frequency. The remaining values correspond to the parameters of the posted code. \r\n\r\nThe curve reaches up to the value `sampleLength / SAMPLE_RATE`. The period is `1 / frequency` and there are `(sampleLength / SAMPLE_RATE) * frequency` periods in the displayed frame.\r\n\r\n*Example:*\r\n\r\n    sampleLength:   500\r\n    ampLimit:       100.00\r\n    SAMPLE_RATE:  44100.00\r\n    frequency:      261.63\r\n\r\n    sampleLength / SAMPLE_RATE:\t\t          0.0113378685\r\n    1 / frequency:\t\t                      0.0038221916\r\n    (sampleLength / SAMPLE_RATE) * frequency: 2.9663265306\r\n\r\nIn the following the corresponding curve is shown for different `N` using JFreeChart:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Triangle_wave#Harmonics\r\n  [3]: https://i.stack.imgur.com/IDEpC.gif","title":"Problems with formula to output a triangle waveform in Java","body":"<p>In the formula for the <a href=\"https://en.wikipedia.org/wiki/Triangle_wave#Harmonics\" rel=\"nofollow noreferrer\">triangle wave</a>: </p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B100pt%7D%5Chspace%7B70pt%7Dx_%7Btriangle%7D%5Cleft%20%28%20t%20%5Cright%20%29%3D%20%5Cfrac%7B8%7D%7B%5Cpi%20%5E%7B2%7D%7D%20%5C%20%5Csum_%7Bi%3D%200%7D%5E%7BN-1%7D%20%28-1%29%5E%7Bi%7D%20%5C%20n%5E%7B-2%7D%20%5C%20sin%5Cleft%20%28%202%5Cpi%20f_%7B0%7Dnt%20%5Cright%20%29\" alt=\"\"></p>\n\n<p>the mode number <code>n</code> is dependent on the harmonic label <code>i</code>: </p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B150pt%7D%5Chspace%7B150pt%7Dn%3D2i%2B1\" alt=\"\"></p>\n\n<p>This means that it must also be summed over the components</p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B150pt%7D%5Chspace%7B115pt%7Dn%5E%7B-2%7D%20%5C%20sin%5Cleft%20%28%202%5Cpi%20f_%7B0%7Dnt%20%5Cright%20%29\" alt=\"\"></p>\n\n<p>which doesn't happen in the current implementation. One possible implementation is:</p>\n\n<pre><code>public int[] generateWaveForm() {\n    for (int t = 0; t &lt; sampleLength; t++) {\n        triangleSample[t] = (int)(ampLimit * 8.0 / Math.pow(Math.PI, 2.0) * getDataPoint(t, N));\n    }\n    return triangleSample;\n}\n\nprivate double getDataPoint(int t, int N) {\n    double sum = 0;\n    for (int i = 0; i &lt;= N - 1; i++) {\n        sum += getHarmonicShare(t, i);\n    }\n    return sum;\n}\n\nprivate double getHarmonicShare(int t, int i) {\ndouble n = 2.0 * i + 1.0;\n    return Math.pow(-1.0, i) * Math.pow(n, -2.0) * Math.sin(2.0 * Math.PI * frequency * (t / SAMPLE_RATE) * n);\n}\n</code></pre>\n\n<p>Here <code>t</code>, <code>i</code>, <code>n</code> and <code>N</code> correspond to the values from the formula. <code>frequency</code> denotes the frequency. The remaining values correspond to the parameters of the posted code. </p>\n\n<p>The curve reaches up to the value <code>sampleLength / SAMPLE_RATE</code>. The period is <code>1 / frequency</code> and there are <code>(sampleLength / SAMPLE_RATE) * frequency</code> periods in the displayed frame.</p>\n\n<p><em>Example:</em></p>\n\n<pre><code>sampleLength:   500\nampLimit:       100.00\nSAMPLE_RATE:  44100.00\nfrequency:      261.63\n\nsampleLength / SAMPLE_RATE:               0.0113378685\n1 / frequency:                            0.0038221916\n(sampleLength / SAMPLE_RATE) * frequency: 2.9663265306\n</code></pre>\n\n<p>In the following the corresponding curve is shown for different <code>N</code> using JFreeChart:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IDEpC.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDEpC.gif\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":23573306,"reputation":1,"user_id":17613236,"display_name":"Bouthaina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638873441,"creation_date":1638873441,"answer_id":70258636,"question_id":59433916,"body_markdown":"Is there a reason you want to use sin to do this rather than produce the straight lines directly by a linear formula? There is an advantage in using sin in that you don&#39;t get harmonic distortion from aliasing, but if that&#39;s an issue then you can oversample. The issue is that sin is much slower than basic arithmetic.","title":"Problems with formula to output a triangle waveform in Java","body":"<p>Is there a reason you want to use sin to do this rather than produce the straight lines directly by a linear formula? There is an advantage in using sin in that you don't get harmonic distortion from aliasing, but if that's an issue then you can oversample. The issue is that sin is much slower than basic arithmetic.</p>\n"}],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59437685,"answer_count":2,"score":3,"last_activity_date":1687777905,"creation_date":1576908738,"question_id":59433916,"body_markdown":"I got my wave file creator working and I split it into three classes, I also made a sinewave generator that inherits from an abstract class called waveform and I can export 8 and 16 bit mono or stereo sine waves. I am trying to make a class called TriangleWave Generator to output a triangle wave tone, but I can&#39;t get the algebra from &lt;https://en.wikipedia.org/wiki/Triangle_wave#&gt;, the first formula, to work. It will only export the highest harmonic stated and not blend them together with the fundamental\r\n\r\nSample length: length in seconds\r\npoint: individual sample\r\namp limit: the highest position possible\r\nharmonics: the number of harmonics to use to make the waveform 1 = fundamental, 2 = 1st overtone, 3 = 2nd overtone.......\r\nfrequency: fundamental frequency (Middle C = 261.63)\r\nsample rate = 44100; (CD quality)\r\ntriangle Samples array: sample data\r\n\r\nThis is my code\r\n````\r\npublic class TriangleGenerator extends Waveform {\r\n    \r\n    // constants\r\n    public static final int HARMONIC_COUNT = 16;\r\n\r\n    // instance variabls\r\n    int harmonics;\r\n    int[] triangleSample;\r\n    int addCount;\r\n\r\n    // constructor\r\n    public TriangleGenerator(double amplitude, double frequency, int bitRate, double duration, int harmonics) {\r\n        super(amplitude, frequency, bitRate, duration);\r\n        // sample data\r\n        triangleSample = new int[sampleLength];\r\n        calculateAmpLimit();\r\n        this.harmonics = harmonics;\r\n    }\r\n\r\n    // one arg cunstructor\r\n    public TriangleGenerator(double frequency) {\r\n        this(AMPLITUDE, frequency, BIT_RATE, DURATION, HARMONIC_COUNT);\r\n    }\r\n\r\n    // no args constructor\r\n    public TriangleGenerator() {\r\n        this(AMPLITUDE, FREQUENCY, BIT_RATE, DURATION, HARMONIC_COUNT);\r\n    }\r\n\r\n    @Override\r\n    public int[] generateWaveForm() {\r\n        \r\n        // generate the actual waveform\r\n        for (int i = 0; i &lt; sampleLength; i++) {\r\n            point = (int)(ampLimit * ((8 / Math.pow(Math.PI, 2)) * sumnate(harmonics - 1, Math.pow(-1, addCount))\r\n                    * Math.pow(harmonics, -2) * Math.sin(2 * Math.PI * frequency * harmonics * i / SAMPLE_RATE)));\r\n            triangleSample[i] = point;\r\n        }\r\n\r\n        // return the sample data\r\n        return triangleSample;\r\n    }\r\n    \r\n    public double sumnate(int n, double adder) {\r\n        double sum = 0;\r\n        \r\n        for (addCount = 0; addCount &lt;= n; addCount++) {\r\n            sum += adder;\r\n        }\r\n        \r\n        return sum;\r\n    }\r\n}\r\n````\r\n","title":"Problems with formula to output a triangle waveform in Java","body":"<p>I got my wave file creator working and I split it into three classes, I also made a sinewave generator that inherits from an abstract class called waveform and I can export 8 and 16 bit mono or stereo sine waves. I am trying to make a class called TriangleWave Generator to output a triangle wave tone, but I can't get the algebra from <a href=\"https://en.wikipedia.org/wiki/Triangle_wave#\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Triangle_wave#</a>, the first formula, to work. It will only export the highest harmonic stated and not blend them together with the fundamental</p>\n<p>Sample length: length in seconds\npoint: individual sample\namp limit: the highest position possible\nharmonics: the number of harmonics to use to make the waveform 1 = fundamental, 2 = 1st overtone, 3 = 2nd overtone.......\nfrequency: fundamental frequency (Middle C = 261.63)\nsample rate = 44100; (CD quality)\ntriangle Samples array: sample data</p>\n<p>This is my code</p>\n<pre><code>public class TriangleGenerator extends Waveform {\n    \n    // constants\n    public static final int HARMONIC_COUNT = 16;\n\n    // instance variabls\n    int harmonics;\n    int[] triangleSample;\n    int addCount;\n\n    // constructor\n    public TriangleGenerator(double amplitude, double frequency, int bitRate, double duration, int harmonics) {\n        super(amplitude, frequency, bitRate, duration);\n        // sample data\n        triangleSample = new int[sampleLength];\n        calculateAmpLimit();\n        this.harmonics = harmonics;\n    }\n\n    // one arg cunstructor\n    public TriangleGenerator(double frequency) {\n        this(AMPLITUDE, frequency, BIT_RATE, DURATION, HARMONIC_COUNT);\n    }\n\n    // no args constructor\n    public TriangleGenerator() {\n        this(AMPLITUDE, FREQUENCY, BIT_RATE, DURATION, HARMONIC_COUNT);\n    }\n\n    @Override\n    public int[] generateWaveForm() {\n        \n        // generate the actual waveform\n        for (int i = 0; i &lt; sampleLength; i++) {\n            point = (int)(ampLimit * ((8 / Math.pow(Math.PI, 2)) * sumnate(harmonics - 1, Math.pow(-1, addCount))\n                    * Math.pow(harmonics, -2) * Math.sin(2 * Math.PI * frequency * harmonics * i / SAMPLE_RATE)));\n            triangleSample[i] = point;\n        }\n\n        // return the sample data\n        return triangleSample;\n    }\n    \n    public double sumnate(int n, double adder) {\n        double sum = 0;\n        \n        for (addCount = 0; addCount &lt;= n; addCount++) {\n            sum += adder;\n        }\n        \n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":["java","waveform"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1577148346,"post_id":59462648,"comment_id":105106180,"body_markdown":"Are you certain the &quot;click&quot; isn&#39;t the oscillator moving into audible range? The signal is being modulated, what kind of post processing are you doing to it after that? Where is your smoothing algorithm?","body":"Are you certain the &quot;click&quot; isn&#39;t the oscillator moving into audible range? The signal is being modulated, what kind of post processing are you doing to it after that? Where is your smoothing algorithm?"},{"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"score":0,"creation_date":1577161016,"post_id":59462648,"comment_id":105107996,"body_markdown":"The oscillator only oscillates around the 0.5 to 4 hertz range usually. That&#39;s why I&#39;m asking this question, I need a better smoothing algorithm because the current one isn&#39;t good enough.","body":"The oscillator only oscillates around the 0.5 to 4 hertz range usually. That&#39;s why I&#39;m asking this question, I need a better smoothing algorithm because the current one isn&#39;t good enough."}],"answers":[{"tags":[],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1577255292,"creation_date":1577255292,"answer_id":59475785,"question_id":59462648,"body_markdown":"I actually found out what was wrong, first I was converting the fine point to an int before I multiplied it by the amp limit. second the code for the fine point needed to be repositioned and multiplied by two.\r\n\r\n````\r\n// generate the actual waveform\r\n        for (int i = 0, j = 0; i &lt; sampleLength; i++, j++) {\r\n            \r\n            double waveCycleRatio = waveLength * dutyCycle;\r\n\r\n            // same as square\r\n            if (j - waveCycleRatio &lt; 0.0) {\r\n                finePoint = 1.0;\r\n            } else if (j - waveCycleRatio &gt;= 0.0 \r\n                    &amp;&amp; j - waveCycleRatio &lt; 1) {\r\n                finePoint = 0 - (j - waveCycleRatio - 0.5) * 2;\r\n            } else if (j - waveLength &lt; 0.0) {\r\n                finePoint = -1.0;\r\n            } else if (j - waveLength &gt;= 0.0) {\r\n                finePoint = (j - waveLength - 0.5) * 2;\r\n            }\r\n            if (j &gt;= waveLength) {\r\n                j = 1;\r\n            }\r\n            point = (int)(finePoint * ampLimit);\r\n            squareSample[i] = point;\r\n\r\n            if (holdCycle &gt; 0) {\r\n                holdCycle--;\r\n            } else {\r\n                dutyCycle = (cyclePoint / (cycleFreq / 2) * dutyCycleRange)\r\n                        + minDutyCycle;\r\n                if (cyclePoint &lt; cycleFreq / 2 &amp;&amp; !setDirection) {\r\n                    cyclePoint++;\r\n                } else if (cyclePoint &gt;= cycleFreq / 2 &amp;&amp; !setDirection) {\r\n                    cyclePoint--;\r\n                    setDirection = true;\r\n                } else if (cyclePoint &gt; 0 &amp;&amp; setDirection) {\r\n                    cyclePoint--;\r\n                } else if (cyclePoint &lt;= 0 &amp;&amp; setDirection) {\r\n                    cyclePoint++;\r\n                    setDirection = false;\r\n                }\r\n            }\r\n        }\r\n````","title":"How to get this pulse wave to have a finer transtion between duty cycle samples in Java","body":"<p>I actually found out what was wrong, first I was converting the fine point to an int before I multiplied it by the amp limit. second the code for the fine point needed to be repositioned and multiplied by two.</p>\n\n<pre><code>// generate the actual waveform\n        for (int i = 0, j = 0; i &lt; sampleLength; i++, j++) {\n\n            double waveCycleRatio = waveLength * dutyCycle;\n\n            // same as square\n            if (j - waveCycleRatio &lt; 0.0) {\n                finePoint = 1.0;\n            } else if (j - waveCycleRatio &gt;= 0.0 \n                    &amp;&amp; j - waveCycleRatio &lt; 1) {\n                finePoint = 0 - (j - waveCycleRatio - 0.5) * 2;\n            } else if (j - waveLength &lt; 0.0) {\n                finePoint = -1.0;\n            } else if (j - waveLength &gt;= 0.0) {\n                finePoint = (j - waveLength - 0.5) * 2;\n            }\n            if (j &gt;= waveLength) {\n                j = 1;\n            }\n            point = (int)(finePoint * ampLimit);\n            squareSample[i] = point;\n\n            if (holdCycle &gt; 0) {\n                holdCycle--;\n            } else {\n                dutyCycle = (cyclePoint / (cycleFreq / 2) * dutyCycleRange)\n                        + minDutyCycle;\n                if (cyclePoint &lt; cycleFreq / 2 &amp;&amp; !setDirection) {\n                    cyclePoint++;\n                } else if (cyclePoint &gt;= cycleFreq / 2 &amp;&amp; !setDirection) {\n                    cyclePoint--;\n                    setDirection = true;\n                } else if (cyclePoint &gt; 0 &amp;&amp; setDirection) {\n                    cyclePoint--;\n                } else if (cyclePoint &lt;= 0 &amp;&amp; setDirection) {\n                    cyclePoint++;\n                    setDirection = false;\n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59475785,"answer_count":1,"score":0,"last_activity_date":1687777684,"creation_date":1577147913,"question_id":59462648,"body_markdown":"I am building a pulse wave generator that extends a square wave generator.\r\n\r\nMy problem is I want the pulse width modulation transition to be smoother\r\nI am trying to make the middle sample between the peak and trough of the wave to move smoothly up or down while the width is modulated.\r\nThis is so higher sounds such as C7 at 2093 Hz don&#39;t sound clicky as the duty cycle is modulated.\r\n\r\nWhat needs to be done?\r\n\r\nSample rate is 44100\r\nBit rate is 16\r\nampLimit is the highest possible value.\r\nduration is the length of waveform in seconds\r\nduty cycle is the starting cycle of the waveform\r\n\r\n````\r\npublic class PulseGenerator extends SquareGenerator {\r\n\r\n    // constants\r\n    public static final double DEF_MIN_DUTY_CYCLE = 0.05;\r\n    public static final double DEF_MAX_DUTY_CYCLE = 0.95;\r\n    public static final double DEF_CYCLE_FREQ = 2;\r\n    public static final double DEF_HOLD_CYCLE = 0;\r\n\r\n    // instance variables\r\n    double minDutyCycle; // minimum value of duty cycle\r\n    double maxDutyCycle; // maximum value of duty cycle\r\n    double cycleFreq;\r\n    double holdCycle; // if more than zero, the wave will hold the modulation for that period\r\n    double dutyCycleRange;  // maxDutyCycle - minDutyCycle\r\n    boolean setDirection;\r\n\r\n    // constructor\r\n    public PulseGenerator(double amplitude, double frequency, int bitRate,\r\n            double duration, double dutyCycle, double minDutyCycle,\r\n            double maxDutyCycle, double cycleFreq, double holdCycle) {\r\n        super(amplitude, frequency, bitRate, duration, dutyCycle);\r\n        // sample data\r\n        squareSample = new int[sampleLength];\r\n        calculateAmpLimit();\r\n        this.dutyCycle = dutyCycle;\r\n        waveLength = SAMPLE_RATE / this.frequency;\r\n        this.minDutyCycle = minDutyCycle;\r\n        this.maxDutyCycle = maxDutyCycle;\r\n        this.cycleFreq = cycleFreq * SAMPLE_RATE;\r\n        this.holdCycle = holdCycle * SAMPLE_RATE;\r\n        dutyCycleRange = this.maxDutyCycle - this.minDutyCycle;\r\n        setDirection = false;\r\n    }\r\n\r\n    // one arg cunstructor\r\n    public PulseGenerator(double frequency) {\r\n        this(AMPLITUDE, frequency, BIT_RATE, DURATION, DEF_DUTY_CYCLE,\r\n                DEF_MIN_DUTY_CYCLE, DEF_MAX_DUTY_CYCLE, DEF_CYCLE_FREQ,\r\n                DEF_HOLD_CYCLE);\r\n    }\r\n\r\n    // no args constructor\r\n    public PulseGenerator() {\r\n        this(AMPLITUDE, FREQUENCY, BIT_RATE, DURATION, DEF_DUTY_CYCLE,\r\n                DEF_MIN_DUTY_CYCLE, DEF_MAX_DUTY_CYCLE, DEF_CYCLE_FREQ,\r\n                DEF_HOLD_CYCLE);\r\n    }\r\n\r\n    // generate waveform method\r\n    @Override\r\n    public int[] generateWaveForm() {\r\n        \r\n        // define cycle point\r\n        int cyclePoint = (int)(cycleFreq / 2 * ((dutyCycle * dutyCycleRange) + minDutyCycle));\r\n        \r\n        // generate the actual waveform\r\n        for (int i = 0, j = 0; i &lt; sampleLength; i++, j++) {\r\n            \r\n            double waveCycleRatio = waveLength * dutyCycle;\r\n\r\n            // same as square generate method\r\n            if (j - waveCycleRatio &lt; 0.0) {\r\n                finePoint = 1.0;\r\n            } else if (j - waveCycleRatio &gt;= 0.0 \r\n                    &amp;&amp; j - waveCycleRatio &lt; 1) {\r\n                finePoint = 1 - (j - waveCycleRatio);\r\n            } else if (j - waveLength &lt; 0.0) {\r\n                finePoint = -1.0;\r\n            } else if (j - waveLength &gt;= 0.0) {\r\n                finePoint = -1 + (waveLength - j);\r\n            }\r\n            if (j &gt;= waveLength) {\r\n                j = 1;\r\n            }\r\n            point = (int)finePoint * ampLimit;\r\n            squareSample[i] = point;\r\n\r\n            if (holdCycle &gt; 0) {\r\n                holdCycle--;\r\n            } else {\r\n                dutyCycle = (cyclePoint / (cycleFreq / 2) * dutyCycleRange)\r\n                        + minDutyCycle;\r\n                if (cyclePoint &lt; cycleFreq / 2 &amp;&amp; !setDirection) {\r\n                    cyclePoint++;\r\n                } else if (cyclePoint &gt;= cycleFreq / 2 &amp;&amp; !setDirection) {\r\n                    cyclePoint--;\r\n                    setDirection = true;\r\n                } else if (cyclePoint &gt; 0 &amp;&amp; setDirection) {\r\n                    cyclePoint--;\r\n                } else if (cyclePoint &lt;= 0 &amp;&amp; setDirection) {\r\n                    cyclePoint++;\r\n                    setDirection = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        // return the sample data\r\n        return squareSample;\r\n    }\r\n\r\n}\r\n````","title":"How to get this pulse wave to have a finer transtion between duty cycle samples in Java","body":"<p>I am building a pulse wave generator that extends a square wave generator.</p>\n\n<p>My problem is I want the pulse width modulation transition to be smoother\nI am trying to make the middle sample between the peak and trough of the wave to move smoothly up or down while the width is modulated.\nThis is so higher sounds such as C7 at 2093 Hz don't sound clicky as the duty cycle is modulated.</p>\n\n<p>What needs to be done?</p>\n\n<p>Sample rate is 44100\nBit rate is 16\nampLimit is the highest possible value.\nduration is the length of waveform in seconds\nduty cycle is the starting cycle of the waveform</p>\n\n<pre><code>public class PulseGenerator extends SquareGenerator {\n\n    // constants\n    public static final double DEF_MIN_DUTY_CYCLE = 0.05;\n    public static final double DEF_MAX_DUTY_CYCLE = 0.95;\n    public static final double DEF_CYCLE_FREQ = 2;\n    public static final double DEF_HOLD_CYCLE = 0;\n\n    // instance variables\n    double minDutyCycle; // minimum value of duty cycle\n    double maxDutyCycle; // maximum value of duty cycle\n    double cycleFreq;\n    double holdCycle; // if more than zero, the wave will hold the modulation for that period\n    double dutyCycleRange;  // maxDutyCycle - minDutyCycle\n    boolean setDirection;\n\n    // constructor\n    public PulseGenerator(double amplitude, double frequency, int bitRate,\n            double duration, double dutyCycle, double minDutyCycle,\n            double maxDutyCycle, double cycleFreq, double holdCycle) {\n        super(amplitude, frequency, bitRate, duration, dutyCycle);\n        // sample data\n        squareSample = new int[sampleLength];\n        calculateAmpLimit();\n        this.dutyCycle = dutyCycle;\n        waveLength = SAMPLE_RATE / this.frequency;\n        this.minDutyCycle = minDutyCycle;\n        this.maxDutyCycle = maxDutyCycle;\n        this.cycleFreq = cycleFreq * SAMPLE_RATE;\n        this.holdCycle = holdCycle * SAMPLE_RATE;\n        dutyCycleRange = this.maxDutyCycle - this.minDutyCycle;\n        setDirection = false;\n    }\n\n    // one arg cunstructor\n    public PulseGenerator(double frequency) {\n        this(AMPLITUDE, frequency, BIT_RATE, DURATION, DEF_DUTY_CYCLE,\n                DEF_MIN_DUTY_CYCLE, DEF_MAX_DUTY_CYCLE, DEF_CYCLE_FREQ,\n                DEF_HOLD_CYCLE);\n    }\n\n    // no args constructor\n    public PulseGenerator() {\n        this(AMPLITUDE, FREQUENCY, BIT_RATE, DURATION, DEF_DUTY_CYCLE,\n                DEF_MIN_DUTY_CYCLE, DEF_MAX_DUTY_CYCLE, DEF_CYCLE_FREQ,\n                DEF_HOLD_CYCLE);\n    }\n\n    // generate waveform method\n    @Override\n    public int[] generateWaveForm() {\n\n        // define cycle point\n        int cyclePoint = (int)(cycleFreq / 2 * ((dutyCycle * dutyCycleRange) + minDutyCycle));\n\n        // generate the actual waveform\n        for (int i = 0, j = 0; i &lt; sampleLength; i++, j++) {\n\n            double waveCycleRatio = waveLength * dutyCycle;\n\n            // same as square generate method\n            if (j - waveCycleRatio &lt; 0.0) {\n                finePoint = 1.0;\n            } else if (j - waveCycleRatio &gt;= 0.0 \n                    &amp;&amp; j - waveCycleRatio &lt; 1) {\n                finePoint = 1 - (j - waveCycleRatio);\n            } else if (j - waveLength &lt; 0.0) {\n                finePoint = -1.0;\n            } else if (j - waveLength &gt;= 0.0) {\n                finePoint = -1 + (waveLength - j);\n            }\n            if (j &gt;= waveLength) {\n                j = 1;\n            }\n            point = (int)finePoint * ampLimit;\n            squareSample[i] = point;\n\n            if (holdCycle &gt; 0) {\n                holdCycle--;\n            } else {\n                dutyCycle = (cyclePoint / (cycleFreq / 2) * dutyCycleRange)\n                        + minDutyCycle;\n                if (cyclePoint &lt; cycleFreq / 2 &amp;&amp; !setDirection) {\n                    cyclePoint++;\n                } else if (cyclePoint &gt;= cycleFreq / 2 &amp;&amp; !setDirection) {\n                    cyclePoint--;\n                    setDirection = true;\n                } else if (cyclePoint &gt; 0 &amp;&amp; setDirection) {\n                    cyclePoint--;\n                } else if (cyclePoint &lt;= 0 &amp;&amp; setDirection) {\n                    cyclePoint++;\n                    setDirection = false;\n                }\n            }\n        }\n\n        // return the sample data\n        return squareSample;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","xpath","scrollview"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1687777299,"post_id":76556049,"comment_id":134979238,"body_markdown":"Update the question with the relevant text based HTML and your code trials.","body":"Update the question with the relevant text based HTML and your code trials."}],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687777044,"creation_date":1687777044,"question_id":76556049,"body_markdown":"In a Java/Selenium test I am doing I need to verify the presence of a scroll bar (see highlighted yellow in image below).  From google searches all I get is a way to scroll using Javascript or something like *js.executescript(&quot;window.scrollBy(0,120)&quot;*) or *action.sendKeys(&quot;Keys.DOWN&quot;)* but this does not really verify that the scroll bar is actually there.  I looked at the html but could not find any element for the scroll window.  There is a textarea element but no scrollbar.  It is possible somehow to tell from one of the values in the &quot;class&quot; attribute, or some other way to verify a scroll bar?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i43XX.png","title":"Selenium verifying a scroll bar","body":"<p>In a Java/Selenium test I am doing I need to verify the presence of a scroll bar (see highlighted yellow in image below).  From google searches all I get is a way to scroll using Javascript or something like <em>js.executescript(&quot;window.scrollBy(0,120)&quot;</em>) or <em>action.sendKeys(&quot;Keys.DOWN&quot;)</em> but this does not really verify that the scroll bar is actually there.  I looked at the html but could not find any element for the scroll window.  There is a textarea element but no scrollbar.  It is possible somehow to tell from one of the values in the &quot;class&quot; attribute, or some other way to verify a scroll bar?</p>\n<p><a href=\"https://i.stack.imgur.com/i43XX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i43XX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","elasticsearch","elasticsearch-aggregation"],"answers":[{"tags":[],"owner":{"account_id":28891200,"reputation":3,"user_id":22128327,"display_name":"Jannis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687696924,"creation_date":1687696924,"answer_id":76550446,"question_id":76550323,"body_markdown":"Try using the NativeSearchQueryBuilder\r\n\r\n    @Service\r\n    public class ItemService {\r\n\r\n    @Autowired\r\n    private ElasticsearchOperations elasticsearchOperations;\r\n\r\n    public void getScoreCountRanges() {\r\n        SearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                .withQuery(QueryBuilders.matchQuery(&quot;userId&quot;, 100))\r\n                .addAggregation(AggregationBuilders.range(&quot;score_ranges&quot;)\r\n                        .field(&quot;score&quot;)\r\n                        .addUnboundedTo(&quot;low&quot;, 4)\r\n                        .addRange(&quot;medium&quot;, 4, 7)\r\n                        .addUnboundedFrom(&quot;high&quot;, 7)\r\n                )\r\n                .build();\r\n\r\n        Aggregations aggregations = elasticsearchOperations.query(searchQuery, SearchResponse::getAggregations);\r\n        Range rangeAggregation = aggregations.get(&quot;score_ranges&quot;);\r\n\r\n        long lowCount = rangeAggregation.getBucketByKey(&quot;low&quot;).getDocCount();\r\n        long mediumCount = rangeAggregation.getBucketByKey(&quot;medium&quot;).getDocCount();\r\n        long highCount = rangeAggregation.getBucketByKey(&quot;high&quot;).getDocCount();\r\n\r\n        System.out.println(&quot;Low Range Count: &quot; + lowCount);\r\n        System.out.println(&quot;Medium Range Count: &quot; + mediumCount);\r\n        System.out.println(&quot;High Range Count: &quot; + highCount);\r\n      }\r\n    }","title":"Counting by ranges in Double elasticSearch Spring boot using aggregation","body":"<p>Try using the NativeSearchQueryBuilder</p>\n<pre><code>@Service\npublic class ItemService {\n\n@Autowired\nprivate ElasticsearchOperations elasticsearchOperations;\n\npublic void getScoreCountRanges() {\n    SearchQuery searchQuery = new NativeSearchQueryBuilder()\n            .withQuery(QueryBuilders.matchQuery(&quot;userId&quot;, 100))\n            .addAggregation(AggregationBuilders.range(&quot;score_ranges&quot;)\n                    .field(&quot;score&quot;)\n                    .addUnboundedTo(&quot;low&quot;, 4)\n                    .addRange(&quot;medium&quot;, 4, 7)\n                    .addUnboundedFrom(&quot;high&quot;, 7)\n            )\n            .build();\n\n    Aggregations aggregations = elasticsearchOperations.query(searchQuery, SearchResponse::getAggregations);\n    Range rangeAggregation = aggregations.get(&quot;score_ranges&quot;);\n\n    long lowCount = rangeAggregation.getBucketByKey(&quot;low&quot;).getDocCount();\n    long mediumCount = rangeAggregation.getBucketByKey(&quot;medium&quot;).getDocCount();\n    long highCount = rangeAggregation.getBucketByKey(&quot;high&quot;).getDocCount();\n\n    System.out.println(&quot;Low Range Count: &quot; + lowCount);\n    System.out.println(&quot;Medium Range Count: &quot; + mediumCount);\n    System.out.println(&quot;High Range Count: &quot; + highCount);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11498999,"reputation":69,"user_id":8427346,"display_name":"Majd Mahajenah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687776979,"creation_date":1687776979,"answer_id":76556044,"question_id":76550323,"body_markdown":"I will Answer this with working Code if someone might find it useful in the future. \r\n\r\n    @Override\r\n    public Scores getScoreCountRanges() {\r\n    \tScores scores = new Scores();\r\n        String aggregationName = &quot;score_ranges&quot;;\r\n        NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                .withQuery(QueryBuilders.matchQuery(&quot;userId&quot;, &quot;DESIRED-USER-ID&quot;)\r\n                .withAggregations(AggregationBuilders.range(aggregationName)\r\n                        .field(&quot;scores&quot;)\r\n                        .addRange(LOW, LOW_LOWER_BOUND,MEDIUM_LOWER_BOUND)    \r\n                        .addRange(MEDIUM, MEDIUM_LOWER_BOUND, HIGH_LOWER_BOUND)   \r\n                        .addRange(HIGH, HIGH_LOWER_BOUND, HIGH_UPPER_BOUND)  \r\n                )\r\n                .build();\r\n    \r\n        SearchHits&lt;?&gt; searchHits = operations.search(searchQuery, ClassOfData.class);\r\n        if (!searchHits.hasAggregations())\r\n            return scores;\r\n        AggregationsContainer&lt;?&gt; aggregationsContainer = searchHits.getAggregations();\r\n        if (aggregationsContainer == null) {\r\n            return scores;\r\n        }\r\n        Aggregations aggregations = (Aggregations) aggregationsContainer.aggregations();\r\n        ParsedRange rangeAggregation = aggregations.get(aggregationName);\r\n        rangeAggregation.getBuckets().forEach(bucket -&gt; fillScores(scores, bucket.getKey().toString(), bucket.getDocCount()));\r\n        return scores;\r\n    }\r\n\r\nthis code will do what is called rangeAggregation, and will return buckets that contail records that answer the matchQuery and are found inside the ranges you decided.\r\n\r\nand we will use the doc count of that bucket to know how many records that match the criteria are in each specific range. \r\n\r\nyou can use fill scores as you desire or do any thing else, returning a map containing a key and value is also a good choice. \r\n\r\nhope it was helpful.","title":"Counting by ranges in Double elasticSearch Spring boot using aggregation","body":"<p>I will Answer this with working Code if someone might find it useful in the future.</p>\n<pre><code>@Override\npublic Scores getScoreCountRanges() {\n    Scores scores = new Scores();\n    String aggregationName = &quot;score_ranges&quot;;\n    NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\n            .withQuery(QueryBuilders.matchQuery(&quot;userId&quot;, &quot;DESIRED-USER-ID&quot;)\n            .withAggregations(AggregationBuilders.range(aggregationName)\n                    .field(&quot;scores&quot;)\n                    .addRange(LOW, LOW_LOWER_BOUND,MEDIUM_LOWER_BOUND)    \n                    .addRange(MEDIUM, MEDIUM_LOWER_BOUND, HIGH_LOWER_BOUND)   \n                    .addRange(HIGH, HIGH_LOWER_BOUND, HIGH_UPPER_BOUND)  \n            )\n            .build();\n\n    SearchHits&lt;?&gt; searchHits = operations.search(searchQuery, ClassOfData.class);\n    if (!searchHits.hasAggregations())\n        return scores;\n    AggregationsContainer&lt;?&gt; aggregationsContainer = searchHits.getAggregations();\n    if (aggregationsContainer == null) {\n        return scores;\n    }\n    Aggregations aggregations = (Aggregations) aggregationsContainer.aggregations();\n    ParsedRange rangeAggregation = aggregations.get(aggregationName);\n    rangeAggregation.getBuckets().forEach(bucket -&gt; fillScores(scores, bucket.getKey().toString(), bucket.getDocCount()));\n    return scores;\n}\n</code></pre>\n<p>this code will do what is called rangeAggregation, and will return buckets that contail records that answer the matchQuery and are found inside the ranges you decided.</p>\n<p>and we will use the doc count of that bucket to know how many records that match the criteria are in each specific range.</p>\n<p>you can use fill scores as you desire or do any thing else, returning a map containing a key and value is also a good choice.</p>\n<p>hope it was helpful.</p>\n"}],"owner":{"account_id":11498999,"reputation":69,"user_id":8427346,"display_name":"Majd Mahajenah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76556044,"answer_count":2,"score":0,"last_activity_date":1687776979,"creation_date":1687695087,"question_id":76550323,"body_markdown":"I&#39;m trying to count records from elastic search which are in specific range. \r\nI have 3 ranges which represent different values in double. \r\n\r\n    low (0-4]\r\n    medium (4-7]\r\n    high (7-10]\r\n\r\nand the object is something like \r\n\r\n    {\r\n    \r\n    &quot;company&quot;:&quot;companyName&quot;, // string\r\n    \r\n    &quot;score&quot;: 6.2 // double\r\n    \r\n    }\r\n\r\nand lets say for company1 i would like to get all the counts for score values. \r\n\r\nto get back an object like the following \r\n    {&quot;high&quot;:20, &quot;medium&quot;:10, &quot;low&quot;:3}\r\n\r\nI have found a way to do it using the API , \r\n\r\n\r\n    public interface ItemRepository extends ElasticsearchRepository&lt;Item, String&gt; {\r\n    \r\n        @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;userId\\&quot;:100}},{\\&quot;range\\&quot;:{\\&quot;score\\&quot;:{\\&quot;gte\\&quot;:?0,\\&quot;lt\\&quot;:?1}}}]}}&quot;)\r\n        long countByScoreRangeAndUserId(int lowerBound, int upperBound);\r\n    }\r\n\r\n\r\n    @Service\r\n    public class ItemService {\r\n    \r\n        @Autowired\r\n        private ItemRepository itemRepository;\r\n    \r\n        public void getScoreCountRanges() {\r\n            long range1Count = itemRepository.countByScoreRangeAndUserId(0, 40);\r\n            long range2Count = itemRepository.countByScoreRangeAndUserId(40, 70);\r\n            long range3Count = itemRepository.countByScoreRangeAndUserId(70, 101); // inclusive lower bound, exclusive upper bound\r\n            System.out.println(&quot;Range 0-39 Count: &quot; + range1Count);\r\n            System.out.println(&quot;Range 40-69 Count: &quot; + range2Count);\r\n            System.out.println(&quot;Range 70-100 Count: &quot; + range3Count);\r\n        }\r\n    }\r\n\r\n\r\n\r\nbut i would like to do it in a singe swipe over the database and not to count it in 3 times. \r\nand which way is better and faster ? \r\n\r\nthanks a lot","title":"Counting by ranges in Double elasticSearch Spring boot using aggregation","body":"<p>I'm trying to count records from elastic search which are in specific range.\nI have 3 ranges which represent different values in double.</p>\n<pre><code>low (0-4]\nmedium (4-7]\nhigh (7-10]\n</code></pre>\n<p>and the object is something like</p>\n<pre><code>{\n\n&quot;company&quot;:&quot;companyName&quot;, // string\n\n&quot;score&quot;: 6.2 // double\n\n}\n</code></pre>\n<p>and lets say for company1 i would like to get all the counts for score values.</p>\n<p>to get back an object like the following\n{&quot;high&quot;:20, &quot;medium&quot;:10, &quot;low&quot;:3}</p>\n<p>I have found a way to do it using the API ,</p>\n<pre><code>public interface ItemRepository extends ElasticsearchRepository&lt;Item, String&gt; {\n\n    @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;userId\\&quot;:100}},{\\&quot;range\\&quot;:{\\&quot;score\\&quot;:{\\&quot;gte\\&quot;:?0,\\&quot;lt\\&quot;:?1}}}]}}&quot;)\n    long countByScoreRangeAndUserId(int lowerBound, int upperBound);\n}\n\n\n@Service\npublic class ItemService {\n\n    @Autowired\n    private ItemRepository itemRepository;\n\n    public void getScoreCountRanges() {\n        long range1Count = itemRepository.countByScoreRangeAndUserId(0, 40);\n        long range2Count = itemRepository.countByScoreRangeAndUserId(40, 70);\n        long range3Count = itemRepository.countByScoreRangeAndUserId(70, 101); // inclusive lower bound, exclusive upper bound\n        System.out.println(&quot;Range 0-39 Count: &quot; + range1Count);\n        System.out.println(&quot;Range 40-69 Count: &quot; + range2Count);\n        System.out.println(&quot;Range 70-100 Count: &quot; + range3Count);\n    }\n}\n</code></pre>\n<p>but i would like to do it in a singe swipe over the database and not to count it in 3 times.\nand which way is better and faster ?</p>\n<p>thanks a lot</p>\n"},{"tags":["java","fonts","odt","odf","odftoolkit"],"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687776971,"creation_date":1687776971,"question_id":76556040,"body_markdown":"how can I change the text font of my OdfTable&#39;s cells? I&#39;m using ODF Toolkit library and I only found this resource online: https://odftoolkit.org/simple/document/cookbook/Style%20Handling.html which DOESN&#39;T work since i don&#39;t receive a table but a OdfTable.\r\n\r\nFor clarity here&#39;s the method I wrote. I&#39;m adding a new row to my table and I set a value in every cell for every initiative present.\r\n\r\nThanks!\r\n\r\n    static void fillRipartitionTable(Initiative principalInitiative, List&lt;OdfTable&gt; tableList, ProjectProposal proposal, int ripartitionTableIndex) {\r\n            boolean hasPlan = !Objects.isNull(principalInitiative.getPlan());\r\n            proposal\r\n                .getInitiatives()\r\n                .forEach(\r\n                    initiativeProjectProposal -&gt; {\r\n                        Initiative currentInitiative = initiativeProjectProposal.getInitiative();\r\n                        OdfTableRow odfTableRow = tableList.get(ripartitionTableIndex).appendRow();\r\n                        odfTableRow\r\n                            .getCellByIndex(0)\r\n                            .setStringValue(\r\n                                hasPlan\r\n                                    ? String.format(\r\n                                    &quot;%d-%02d&quot;,\r\n                                    currentInitiative.getPlan().getYear(),\r\n                                    principalInitiative.getPlan().getProgressive())\r\n                                    : &quot;&quot;);\r\n                        odfTableRow\r\n                            .getCellByIndex(1)\r\n                            .setStringValue(Optional.ofNullable(currentInitiative.getPlanPoint()).orElse(&quot;&quot;));\r\n                        odfTableRow\r\n                            .getCellByIndex(2)\r\n                            .setStringValue(Optional.ofNullable(currentInitiative.getCode()).orElse(&quot;&quot;));\r\n                        odfTableRow\r\n                            .getCellByIndex(3)\r\n                            .setStringValue(\r\n                                Optional.ofNullable(currentInitiative.getDescription()).orElse(&quot;&quot;));\r\n                        odfTableRow\r\n                            .getCellByIndex(4)\r\n                            .setStringValue(\r\n                                Optional.ofNullable(\r\n                                        makeFormattedNumber(currentInitiative.getTotalAgreedCost(), &quot;€&quot;))\r\n                                    .orElse(&quot;&quot;));\r\n                    });\r\n        }","title":"How set specific font in table cells using ODF Toolkit?","body":"<p>how can I change the text font of my OdfTable's cells? I'm using ODF Toolkit library and I only found this resource online: <a href=\"https://odftoolkit.org/simple/document/cookbook/Style%20Handling.html\" rel=\"nofollow noreferrer\">https://odftoolkit.org/simple/document/cookbook/Style%20Handling.html</a> which DOESN'T work since i don't receive a table but a OdfTable.</p>\n<p>For clarity here's the method I wrote. I'm adding a new row to my table and I set a value in every cell for every initiative present.</p>\n<p>Thanks!</p>\n<pre><code>static void fillRipartitionTable(Initiative principalInitiative, List&lt;OdfTable&gt; tableList, ProjectProposal proposal, int ripartitionTableIndex) {\n        boolean hasPlan = !Objects.isNull(principalInitiative.getPlan());\n        proposal\n            .getInitiatives()\n            .forEach(\n                initiativeProjectProposal -&gt; {\n                    Initiative currentInitiative = initiativeProjectProposal.getInitiative();\n                    OdfTableRow odfTableRow = tableList.get(ripartitionTableIndex).appendRow();\n                    odfTableRow\n                        .getCellByIndex(0)\n                        .setStringValue(\n                            hasPlan\n                                ? String.format(\n                                &quot;%d-%02d&quot;,\n                                currentInitiative.getPlan().getYear(),\n                                principalInitiative.getPlan().getProgressive())\n                                : &quot;&quot;);\n                    odfTableRow\n                        .getCellByIndex(1)\n                        .setStringValue(Optional.ofNullable(currentInitiative.getPlanPoint()).orElse(&quot;&quot;));\n                    odfTableRow\n                        .getCellByIndex(2)\n                        .setStringValue(Optional.ofNullable(currentInitiative.getCode()).orElse(&quot;&quot;));\n                    odfTableRow\n                        .getCellByIndex(3)\n                        .setStringValue(\n                            Optional.ofNullable(currentInitiative.getDescription()).orElse(&quot;&quot;));\n                    odfTableRow\n                        .getCellByIndex(4)\n                        .setStringValue(\n                            Optional.ofNullable(\n                                    makeFormattedNumber(currentInitiative.getTotalAgreedCost(), &quot;€&quot;))\n                                .orElse(&quot;&quot;));\n                });\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jar","checkstyle","maven-checkstyle-plugin"],"owner":{"account_id":26659854,"reputation":1,"user_id":20272850,"display_name":"qwerty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687776840,"creation_date":1687776840,"question_id":76556017,"body_markdown":"We have 10+ microservices and we are slowly getting to the point where their general settings are spread across libraries. One suggested idea is to put checkstyle.xml into a separate library and add this library to each microservice, and in `&lt;configLocation&gt;&lt;/configLocation&gt;` specify the configuration file from the library. Howerver there are some issues about specifying the path of `&lt;configLocation&gt;&lt;/configLocation&gt;`.\r\nIt just cannot find the file.\r\n\r\nMy library scheme:\r\n\r\nA microservice pom.xml\r\n\r\n`checkstyle-lib/src/main/resources/checkstyle.xml`\r\n\r\n\r\n```\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.veon.eurasia.marketplace.common&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;beeline-checkstyle-common&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.1.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configLocation&gt;***I need to put here xml file from the library***&lt;/configLocation&gt;\r\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\r\n                    &lt;sourceDirectories&gt;\r\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\r\n                    &lt;/sourceDirectories&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI have tried dosens of varants like these:\r\n\r\n```\r\n&lt;configLocation&gt;${user.home}\\.m2\\repository\\com\\example\\checkstyle-lib\\0.1.0\\checkstyle-lib-0.1.0.jar!\\checkstyle.xml&lt;/configLocation&gt;\r\n&lt;configLocation&gt;checkstyle-lib-0.1.0.jar!\\checkstyle.xml&lt;/configLocation&gt;\r\n&lt;configLocation&gt;checkstyle-lib\\checkstyle.xml&lt;/configLocation&gt;\r\n&lt;configLocation&gt;checkstyle-lib\\src\\main\\resources\\checkstyle.xml&lt;/configLocation&gt;\r\nand a lot of combinations and having a  Failed during checkstyle execution: Unable to find configu\r\nration file at location:\r\n```\r\n","title":"How to write to configLocation a checkstyle.xml file in a library?","body":"<p>We have 10+ microservices and we are slowly getting to the point where their general settings are spread across libraries. One suggested idea is to put checkstyle.xml into a separate library and add this library to each microservice, and in <code>&lt;configLocation&gt;&lt;/configLocation&gt;</code> specify the configuration file from the library. Howerver there are some issues about specifying the path of <code>&lt;configLocation&gt;&lt;/configLocation&gt;</code>.\nIt just cannot find the file.</p>\n<p>My library scheme:</p>\n<p>A microservice pom.xml</p>\n<p><code>checkstyle-lib/src/main/resources/checkstyle.xml</code></p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.veon.eurasia.marketplace.common&lt;/groupId&gt;\n                        &lt;artifactId&gt;beeline-checkstyle-common&lt;/artifactId&gt;\n                        &lt;version&gt;0.1.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;***I need to put here xml file from the library***&lt;/configLocation&gt;\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\n                    &lt;sourceDirectories&gt;\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\n                    &lt;/sourceDirectories&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I have tried dosens of varants like these:</p>\n<pre><code>&lt;configLocation&gt;${user.home}\\.m2\\repository\\com\\example\\checkstyle-lib\\0.1.0\\checkstyle-lib-0.1.0.jar!\\checkstyle.xml&lt;/configLocation&gt;\n&lt;configLocation&gt;checkstyle-lib-0.1.0.jar!\\checkstyle.xml&lt;/configLocation&gt;\n&lt;configLocation&gt;checkstyle-lib\\checkstyle.xml&lt;/configLocation&gt;\n&lt;configLocation&gt;checkstyle-lib\\src\\main\\resources\\checkstyle.xml&lt;/configLocation&gt;\nand a lot of combinations and having a  Failed during checkstyle execution: Unable to find configu\nration file at location:\n</code></pre>\n"},{"tags":["java","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687802946,"post_id":76555971,"comment_id":134984906,"body_markdown":"Welcome to SO. Thanks for the interesting question, but please note, that there is insufficient information to answer it, because the devil is in the details about programming. AOP is no exception. Please publish an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, so I can reproduce the problem. It could be anywhere from package names to weaving method (load-time, compile time) to configuration. I am unbwilling to speculate, so please give me something to analyse.","body":"Welcome to SO. Thanks for the interesting question, but please note, that there is insufficient information to answer it, because the devil is in the details about programming. AOP is no exception. Please publish an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, so I can reproduce the problem. It could be anywhere from package names to weaving method (load-time, compile time) to configuration. I am unbwilling to speculate, so please give me something to analyse."}],"owner":{"account_id":17095522,"reputation":1,"user_id":12370602,"display_name":"Manav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687776589,"creation_date":1687776514,"question_id":76555971,"body_markdown":"I have no idea why advice cannot be applied. \r\n\r\nThe aspect code seems to be correct. However, the warning message suggests that the advice defined in the LoggingAspect class is not being applied to the submitSms method.\r\n\r\n\r\nAspect implementation \r\n```\r\n@Aspect\r\n@Slf4j\r\npublic class LoggingAspect{\r\n\r\n    @Around(&quot;@annotation(utils.log.LogExecutionTime) &amp;&amp; execution(* *(..)) &quot;)\r\n    public Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        return logExecutionTime(joinPoint, null);\r\n    }\r\n\r\n    \r\n    @Around(&quot;@annotation(utils.log.LogExecutionTimeWithFirstParameter) &amp;&amp; execution(* *(..)) &quot;)\r\n    public Object logExecutionTimeWithFirstParameter(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        final var args = joinPoint.getArgs();\r\n        if (args.length &gt; 0)\r\n            return logExecutionTime(joinPoint, args[0].toString());\r\n        else\r\n            return logExecutionTime(joinPoint, null);\r\n    }\r\n\r\n    private Object logExecutionTime(ProceedingJoinPoint joinPoint, String args) throws Throwable {\r\n        final var start = System.currentTimeMillis();\r\n        final var logPrefix = createLogPrefix(joinPoint, args);\r\n        try {\r\n            return joinPoint.proceed();\r\n        } finally {\r\n            logExecution(start, logPrefix);\r\n        }\r\n    }\r\n\r\n    private void logExecution(final long start, final String logPrefix) {\r\n        final var executionTime = System.currentTimeMillis() - start;\r\n        log.info(&quot;S13423;{} executed in {} ms&quot;, logPrefix, executionTime);\r\n    }\r\n```\r\n\r\n\r\nCalling class in another package:\r\n\r\n```\r\n@LogExecutionTime\r\n    public void submitSms(List&lt;SubmitSm&gt; submitMessages) {\r\n        CloudhopperSmppConnection smppConnection = fetchConnectionRoundRobin();\r\n        for (SubmitSm sm : submitMessages) {\r\n            try {\r\n                log.debug(&quot;2644;smpp message submit to {}&quot;, sm.getDestAddress());\r\n                String messageId = smppConnection.submit(sm);\r\n                if (messageId == null || StringUtil.isEmpty(messageId)) {\r\n                    throw new SmppSubmitException(&quot;failed to receive smSubmit response within given time&quot;);\r\n                }\r\n                log.info(&quot;2645;smpp message submitted to {} successful: {}&quot;, sm.getDestAddress(), messageId);\r\n            } catch (SmppConnectionException e) {\r\n                log.warn(&quot;2646;smpp message submission to {} failed due to {}&quot;, sm.getDestAddress(), e.getMessage());\r\n                throw new SmppSubmitException(&quot;could not send smpp over connection&quot;, e);\r\n            }\r\n        }\r\n```\r\n\r\n\r\nLoggingAspect.class [warning] advice defined in utils.log.LoggingAspect has not been applied [Xlint:adviceDidNotMatch]\r\n\r\n\r\n\r\nCan anyone explain what I am doing wrong?","title":"Aspectj: why advice cannot be applied? [Xlint:adviceDidNotMatch]","body":"<p>I have no idea why advice cannot be applied.</p>\n<p>The aspect code seems to be correct. However, the warning message suggests that the advice defined in the LoggingAspect class is not being applied to the submitSms method.</p>\n<p>Aspect implementation</p>\n<pre><code>@Aspect\n@Slf4j\npublic class LoggingAspect{\n\n    @Around(&quot;@annotation(utils.log.LogExecutionTime) &amp;&amp; execution(* *(..)) &quot;)\n    public Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        return logExecutionTime(joinPoint, null);\n    }\n\n    \n    @Around(&quot;@annotation(utils.log.LogExecutionTimeWithFirstParameter) &amp;&amp; execution(* *(..)) &quot;)\n    public Object logExecutionTimeWithFirstParameter(ProceedingJoinPoint joinPoint) throws Throwable {\n        final var args = joinPoint.getArgs();\n        if (args.length &gt; 0)\n            return logExecutionTime(joinPoint, args[0].toString());\n        else\n            return logExecutionTime(joinPoint, null);\n    }\n\n    private Object logExecutionTime(ProceedingJoinPoint joinPoint, String args) throws Throwable {\n        final var start = System.currentTimeMillis();\n        final var logPrefix = createLogPrefix(joinPoint, args);\n        try {\n            return joinPoint.proceed();\n        } finally {\n            logExecution(start, logPrefix);\n        }\n    }\n\n    private void logExecution(final long start, final String logPrefix) {\n        final var executionTime = System.currentTimeMillis() - start;\n        log.info(&quot;S13423;{} executed in {} ms&quot;, logPrefix, executionTime);\n    }\n</code></pre>\n<p>Calling class in another package:</p>\n<pre><code>@LogExecutionTime\n    public void submitSms(List&lt;SubmitSm&gt; submitMessages) {\n        CloudhopperSmppConnection smppConnection = fetchConnectionRoundRobin();\n        for (SubmitSm sm : submitMessages) {\n            try {\n                log.debug(&quot;2644;smpp message submit to {}&quot;, sm.getDestAddress());\n                String messageId = smppConnection.submit(sm);\n                if (messageId == null || StringUtil.isEmpty(messageId)) {\n                    throw new SmppSubmitException(&quot;failed to receive smSubmit response within given time&quot;);\n                }\n                log.info(&quot;2645;smpp message submitted to {} successful: {}&quot;, sm.getDestAddress(), messageId);\n            } catch (SmppConnectionException e) {\n                log.warn(&quot;2646;smpp message submission to {} failed due to {}&quot;, sm.getDestAddress(), e.getMessage());\n                throw new SmppSubmitException(&quot;could not send smpp over connection&quot;, e);\n            }\n        }\n</code></pre>\n<p>LoggingAspect.class [warning] advice defined in utils.log.LoggingAspect has not been applied [Xlint:adviceDidNotMatch]</p>\n<p>Can anyone explain what I am doing wrong?</p>\n"},{"tags":["java","intellij-idea","servlets"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680743825,"post_id":75945017,"comment_id":133951540,"body_markdown":"A servlet is just a Java class and an entry in your web.xml. You don&#39;t need to do anything special to create one.","body":"A servlet is just a Java class and an entry in your web.xml. You don&#39;t need to do anything special to create one."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680760182,"post_id":75945017,"comment_id":133953360,"body_markdown":"[*Java Platform, Enterprise Edition: The Java EE Tutorial 17.1 What Is a Servlet?*](https://docs.oracle.com/javaee/7/tutorial/servlets001.htm)","body":"<a href=\"https://docs.oracle.com/javaee/7/tutorial/servlets001.htm\" rel=\"nofollow noreferrer\"><i>Java Platform, Enterprise Edition: The Java EE Tutorial 17.1 What Is a Servlet?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":28219875,"reputation":101,"user_id":21570778,"display_name":"Mayuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680748863,"creation_date":1680748863,"answer_id":75945404,"question_id":75945017,"body_markdown":"Is it Java Enterprise project?\r\n\r\nWhile creating new project, you need to choose Java Enterprise or Jakarta EE option along with web application template then only you can get servlet option in that list.\r\n\r\n1. Create new project.\r\n2. Choose project type as Java Enterprise\r\n3. Template - web application\r\n\r\nAfter following this you can see servlet option in that list.\r\n\r\nElse, you can create Java class and directly extend HttpServlet class. You can override all servlet methods in your class.","title":"Cannot create Servlet in IntelliJ IDEA Ultimate Edition","body":"<p>Is it Java Enterprise project?</p>\n<p>While creating new project, you need to choose Java Enterprise or Jakarta EE option along with web application template then only you can get servlet option in that list.</p>\n<ol>\n<li>Create new project.</li>\n<li>Choose project type as Java Enterprise</li>\n<li>Template - web application</li>\n</ol>\n<p>After following this you can see servlet option in that list.</p>\n<p>Else, you can create Java class and directly extend HttpServlet class. You can override all servlet methods in your class.</p>\n"},{"tags":[],"owner":{"account_id":20988508,"reputation":31,"user_id":15421793,"display_name":"F3th1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681108839,"creation_date":1681108839,"answer_id":75974829,"question_id":75945017,"body_markdown":"for information.\r\n[IntelliJ IDEA 2023.1 (231.8109.175 build) Release Notes][1]\r\n\r\n\r\n[![IntelliJ IDEA 2023.1 (231.8109.175 build) Release Notes][2]][2]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/articles/IDEA-A-2100661478/IntelliJ-IDEA-2023.1-231.8109.175-build-Release-Notes\r\n  [2]: https://i.stack.imgur.com/7ZxyR.png","title":"Cannot create Servlet in IntelliJ IDEA Ultimate Edition","body":"<p>for information.\n<a href=\"https://youtrack.jetbrains.com/articles/IDEA-A-2100661478/IntelliJ-IDEA-2023.1-231.8109.175-build-Release-Notes\" rel=\"nofollow noreferrer\">IntelliJ IDEA 2023.1 (231.8109.175 build) Release Notes</a></p>\n<p><a href=\"https://i.stack.imgur.com/7ZxyR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ZxyR.png\" alt=\"IntelliJ IDEA 2023.1 (231.8109.175 build) Release Notes\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13973338,"reputation":65,"user_id":10091319,"display_name":"jvatechs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687650074,"creation_date":1687649508,"answer_id":76548342,"question_id":75945017,"body_markdown":"Starting with version 2023.1, [IntelliJ IDEA removed support for Servlet templates.][1]\r\nBut you can manually add a template by following the instructions in the picture:\r\n1) Go to `File | Settings | Editor | File and Code Templates` and add a custom template.\r\n[![File | Settings | Editor | File and Code Templates][2]][2]\r\n\r\n2) Paste template code into the field:\r\n\r\n```\r\n#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\r\n#parse(&quot;File Header.java&quot;)\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\nimport javax.servlet.annotation.*;\r\nimport java.io.IOException;\r\n\r\n@WebServlet(name = &quot;${Class_Name}&quot;, value = &quot;/${Class_Name}&quot;)\r\npublic class ${Class_Name} extends HttpServlet {\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n    }\r\n}\r\n``` \r\n\r\n\r\n**!!! But** import part depends which package you will use, if you use `Jakarta EE` project, you should import instead of:\r\n\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.*;\r\n    import javax.servlet.annotation.*;\r\n\r\nthis settings:\r\n\r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.*;\r\n    import jakarta.servlet.annotation.*;\r\n\r\n3. Now you have own Servlet template in `New` menu.\r\n\r\n\r\n[![Servlet in New Menu][3]][3]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-309062\r\n  [2]: https://i.stack.imgur.com/o33gc.png\r\n  [3]: https://i.stack.imgur.com/iPVWU.png","title":"Cannot create Servlet in IntelliJ IDEA Ultimate Edition","body":"<p>Starting with version 2023.1, <a href=\"https://youtrack.jetbrains.com/issue/IDEA-309062\" rel=\"nofollow noreferrer\">IntelliJ IDEA removed support for Servlet templates.</a>\nBut you can manually add a template by following the instructions in the picture:</p>\n<ol>\n<li><p>Go to <code>File | Settings | Editor | File and Code Templates</code> and add a custom template.\n<a href=\"https://i.stack.imgur.com/o33gc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o33gc.png\" alt=\"File | Settings | Editor | File and Code Templates\" /></a></p>\n</li>\n<li><p>Paste template code into the field:</p>\n</li>\n</ol>\n<pre><code>#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\n#parse(&quot;File Header.java&quot;)\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport javax.servlet.annotation.*;\nimport java.io.IOException;\n\n@WebServlet(name = &quot;${Class_Name}&quot;, value = &quot;/${Class_Name}&quot;)\npublic class ${Class_Name} extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n}\n</code></pre>\n<p><strong>!!! But</strong> import part depends which package you will use, if you use <code>Jakarta EE</code> project, you should import instead of:</p>\n<pre><code>import javax.servlet.*;\nimport javax.servlet.http.*;\nimport javax.servlet.annotation.*;\n</code></pre>\n<p>this settings:</p>\n<pre><code>import jakarta.servlet.*;\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;\n</code></pre>\n<ol start=\"3\">\n<li>Now you have own Servlet template in <code>New</code> menu.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/iPVWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iPVWU.png\" alt=\"Servlet in New Menu\" /></a></p>\n"}],"owner":{"account_id":27307027,"reputation":1,"user_id":20822822,"display_name":"Kater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687776243,"creation_date":1680742494,"question_id":75945017,"body_markdown":"In the photo you can see that there is no Servlet to create\r\n![no servlet](https://i.stack.imgur.com/zOBKi.png)\r\n\r\nI looked at the previous answers about the root, but everything is labeled\r\n![everything ok there](https://i.stack.imgur.com/3P9xj.png)\r\n\r\nThere is also a dependency in pom.xml\r\n![and here](https://i.stack.imgur.com/Kf8de.png)\r\n\r\nSo, what could be the problem? Please help me\r\n![still no servlet](https://i.stack.imgur.com/FNxEs.png)","title":"Cannot create Servlet in IntelliJ IDEA Ultimate Edition","body":"<p>In the photo you can see that there is no Servlet to create\n<img src=\"https://i.stack.imgur.com/zOBKi.png\" alt=\"no servlet\" /></p>\n<p>I looked at the previous answers about the root, but everything is labeled\n<img src=\"https://i.stack.imgur.com/3P9xj.png\" alt=\"everything ok there\" /></p>\n<p>There is also a dependency in pom.xml\n<img src=\"https://i.stack.imgur.com/Kf8de.png\" alt=\"and here\" /></p>\n<p>So, what could be the problem? Please help me\n<img src=\"https://i.stack.imgur.com/FNxEs.png\" alt=\"still no servlet\" /></p>\n"},{"tags":["java","jaxb","java-11"],"owner":{"account_id":28890288,"reputation":1,"user_id":22127596,"display_name":"Nitin Jangir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687776202,"creation_date":1687680859,"question_id":76549493,"body_markdown":"\r\nWe are migrating our application from JDK8 to JDK11 so as in JDK11 they have removed javax.xml.bind package so i have added separate dependency like jaxb-api and jaxb-runtime for this.\r\n\r\nBut still I am facing this compilation error \r\n\r\n&gt; package javax.xml.bind.annotation.adapters does not exist\r\n\r\nNote:- Changed my java version for project to 11 and set java version for tomcat also to 11.\r\n\r\nI am facing this issue while we are converting xsd into a jar so xsd is successfully converted into java classes but when we try to compile this java classes by using JavaCompiler so we got this error **package javax.xml.bind.annotation.adapters does not exist** as our java classes are using some annotation from this package.\r\n\r\nI checked jaxb-api jar is present into m2 repo and WEB-INF/lib also so can someone can help me to find rootcause and solution for this issue.  \r\n\r\nI have added seperate dependency for JAXB-API but still not working and i have also tried to add this jaxb-api jar manually in build path but that also not worked. \r\n","title":"Migrating JDK8 to JDK11 causes compilation error &quot;package javax.xml.bind.annotation.adapters does not exist&quot;","body":"<p>We are migrating our application from JDK8 to JDK11 so as in JDK11 they have removed javax.xml.bind package so i have added separate dependency like jaxb-api and jaxb-runtime for this.</p>\n<p>But still I am facing this compilation error</p>\n<blockquote>\n<p>package javax.xml.bind.annotation.adapters does not exist</p>\n</blockquote>\n<p>Note:- Changed my java version for project to 11 and set java version for tomcat also to 11.</p>\n<p>I am facing this issue while we are converting xsd into a jar so xsd is successfully converted into java classes but when we try to compile this java classes by using JavaCompiler so we got this error <strong>package javax.xml.bind.annotation.adapters does not exist</strong> as our java classes are using some annotation from this package.</p>\n<p>I checked jaxb-api jar is present into m2 repo and WEB-INF/lib also so can someone can help me to find rootcause and solution for this issue.</p>\n<p>I have added seperate dependency for JAXB-API but still not working and i have also tried to add this jaxb-api jar manually in build path but that also not worked.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1687761002,"post_id":76554009,"comment_id":134976108,"body_markdown":"Please give more information - how have you *tried* to make the MySQL driver available? How are you running your code, what&#39;s your classpath etc?","body":"Please give more information - how have you <i>tried</i> to make the MySQL driver available? How are you running your code, what&#39;s your classpath etc?"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":1,"creation_date":1687763473,"post_id":76554009,"comment_id":134976556,"body_markdown":"There is no jdbc driver in your classpath. If you use javac and java commands to execute code, you need to explicitly point out the jdbc driver: `javac -cp xxx/yyy.jar`, where xxx is the directory and yyy.jar is the name of the driver.If you use ide, I can&#39;t answer, there are a lot of configurations, I don&#39;t know what the problem is","body":"There is no jdbc driver in your classpath. If you use javac and java commands to execute code, you need to explicitly point out the jdbc driver: <code>javac -cp xxx&#47;yyy.jar</code>, where xxx is the directory and yyy.jar is the name of the driver.If you use ide, I can&#39;t answer, there are a lot of configurations, I don&#39;t know what the problem is"}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687775798,"creation_date":1687774968,"answer_id":76555776,"question_id":76554009,"body_markdown":"JDBC driver is loaded by `DriverManager` dynamically in runtime, based on the analysis of the connection string, using some modified version of the chain of responsibility design pattern or just a list of registered drivers, it doesn&#39;t matter (see an interesting discussion [here][1]). The [`getConnection()`][2] method asks all the registered drivers if they are able to create a connection for the specified string, and first who does it returns the connection.\r\n\r\n``` lang-java\r\nconnection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lol&quot;, &quot;root&quot;, &quot;lol@9056&quot;);\r\n```\r\n\r\nIf you had only that code, you would get a different exception or maybe just `null`, telling that the `DriverManager` didn&#39;t find any suitable driver.\r\n\r\nHowever, your code contains first\r\n\r\n``` lang-java\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n```\r\n\r\nBy calling the [`forName()`][3] first, you are asking via [reflection][4] to get the class object. &quot;Reflection&quot; means that you are not using the compiler to get the class object, such as `com.mysql.jdbc.Driver.class` would do, but you are passing only a `String` parameter, meaning that the **code is still compilable** even if the class is not accessible at the compile time. And then **at runtime** you get the `ClassNotFoundException` exception exactly how the documentation states.\r\n\r\nYou are not using the return value of the method, but still you get the exception, so your call serves rather like a runtime test for the presence of the class.\r\n\r\n**To fix the error**, you need your program to have the `com.mysql.jdbc.Driver` available during runtime.\r\n\r\nYou have multiple techniques for it. You may do it directly by setting the classpath command line parameter of the program and telling it where the class is on your disk. Or you may do it in your IDE (IntelliJ IDEA, Eclipse, ... whatever you use) via adding the dependency to the library containing the missing JDBC driver.\r\n\r\nHowever, I **strongly recommend** you to [learn using Maven][5] (or Gradle) to handle it automatically for you. Then you may use these e.g. simple tutorial for JDBC: https://www.baeldung.com/java-jdbc\r\n\r\nYour learning investment to Maven will pay back very much, do it!\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/1055383/2886891\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#forName(java.lang.String)\r\n  [4]: https://docs.oracle.com/javase/tutorial/reflect/\r\n  [5]: https://www.baeldung.com/maven","title":"i am getting error while connecting java databas","body":"<p>JDBC driver is loaded by <code>DriverManager</code> dynamically in runtime, based on the analysis of the connection string, using some modified version of the chain of responsibility design pattern or just a list of registered drivers, it doesn't matter (see an interesting discussion <a href=\"https://stackoverflow.com/q/1055383/2886891\">here</a>). The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getConnection()</code></a> method asks all the registered drivers if they are able to create a connection for the specified string, and first who does it returns the connection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lol&quot;, &quot;root&quot;, &quot;lol@9056&quot;);\n</code></pre>\n<p>If you had only that code, you would get a different exception or maybe just <code>null</code>, telling that the <code>DriverManager</code> didn't find any suitable driver.</p>\n<p>However, your code contains first</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n</code></pre>\n<p>By calling the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#forName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>forName()</code></a> first, you are asking via <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">reflection</a> to get the class object. &quot;Reflection&quot; means that you are not using the compiler to get the class object, such as <code>com.mysql.jdbc.Driver.class</code> would do, but you are passing only a <code>String</code> parameter, meaning that the <strong>code is still compilable</strong> even if the class is not accessible at the compile time. And then <strong>at runtime</strong> you get the <code>ClassNotFoundException</code> exception exactly how the documentation states.</p>\n<p>You are not using the return value of the method, but still you get the exception, so your call serves rather like a runtime test for the presence of the class.</p>\n<p><strong>To fix the error</strong>, you need your program to have the <code>com.mysql.jdbc.Driver</code> available during runtime.</p>\n<p>You have multiple techniques for it. You may do it directly by setting the classpath command line parameter of the program and telling it where the class is on your disk. Or you may do it in your IDE (IntelliJ IDEA, Eclipse, ... whatever you use) via adding the dependency to the library containing the missing JDBC driver.</p>\n<p>However, I <strong>strongly recommend</strong> you to <a href=\"https://www.baeldung.com/maven\" rel=\"nofollow noreferrer\">learn using Maven</a> (or Gradle) to handle it automatically for you. Then you may use these e.g. simple tutorial for JDBC: <a href=\"https://www.baeldung.com/java-jdbc\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-jdbc</a></p>\n<p>Your learning investment to Maven will pay back very much, do it!</p>\n"}],"owner":{"account_id":28895413,"reputation":1,"user_id":22131511,"display_name":"ITACHI Uchiha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687775798,"creation_date":1687760687,"question_id":76554009,"body_markdown":"error i am getting\r\n\r\nError loading MySQL driver: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n  \r\n```\r\nimport java.sql.*;\r\n\r\npublic class Javaconnect {\r\n\r\n   \r\n    public static void main(String[] args) throws SQLException {\r\n        Connection connection = null;\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lol&quot;, &quot;root&quot;, &quot;lol@9056&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            System.out.println(&quot;Error loading MySQL driver: &quot; + e);\r\n        }\r\n\r\n        if (connection != null) {\r\n            System.out.println(&quot;Established connection&quot;);\r\n            connection.close();\r\n        }\r\n    }\r\n}\r\n```","title":"i am getting error while connecting java databas","body":"<p>error i am getting</p>\n<p>Error loading MySQL driver: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</p>\n<pre><code>import java.sql.*;\n\npublic class Javaconnect {\n\n   \n    public static void main(String[] args) throws SQLException {\n        Connection connection = null;\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lol&quot;, &quot;root&quot;, &quot;lol@9056&quot;);\n        } catch (ClassNotFoundException e) {\n            System.out.println(&quot;Error loading MySQL driver: &quot; + e);\n        }\n\n        if (connection != null) {\n            System.out.println(&quot;Established connection&quot;);\n            connection.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-jdbc","spring-data-jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686909895,"post_id":76489018,"comment_id":134866481,"body_markdown":"*I am trying to export a huge database using java.* Why? Why are you not using standard tools like mysqldump?","body":"<i>I am trying to export a huge database using java.</i> Why? Why are you not using standard tools like mysqldump?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686910581,"post_id":76489018,"comment_id":134866653,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686911739,"post_id":76489018,"comment_id":134866898,"body_markdown":"@g00se its the requirement, as client doesn&#39;t have access to mysql","body":"@g00se its the requirement, as client doesn&#39;t have access to mysql"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686911923,"post_id":76489018,"comment_id":134866928,"body_markdown":"@Mar-Z our whole system is built on JDBC, so switching to JPA would be my last resolve. Mapping to E1 is memory consuming as in that case, I would be holding data for the parent entity until I get the data of child entity.","body":"@Mar-Z our whole system is built on JDBC, so switching to JPA would be my last resolve. Mapping to E1 is memory consuming as in that case, I would be holding data for the parent entity until I get the data of child entity."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686912325,"post_id":76489018,"comment_id":134866991,"body_markdown":"*@g00se its the requirement, as client doesn&#39;t have access to mysql*. So, you write an interface for them that uses these tools. Using an ORM layer to export real data doesn&#39;t make any sense","body":"<i>@g00se its the requirement, as client doesn&#39;t have access to mysql</i>. So, you write an interface for them that uses these tools. Using an ORM layer to export real data doesn&#39;t make any sense"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686912705,"post_id":76489018,"comment_id":134867076,"body_markdown":"@g00se, ok then how would we manage the relationships there? It will simply give me the data that&#39;s present in the table.","body":"@g00se, ok then how would we manage the relationships there? It will simply give me the data that&#39;s present in the table."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1686913059,"post_id":76489018,"comment_id":134867142,"body_markdown":"@Emperor via joins. I would not use ORM either for dumping GBs of data. I would use simple queries to get the data","body":"@Emperor via joins. I would not use ORM either for dumping GBs of data. I would use simple queries to get the data"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686913403,"post_id":76489018,"comment_id":134867199,"body_markdown":"@Shadow, I probably missed to mention it in the question. But my MySQL server and tomcat server are not at the same place. For using mysql dump, I would need to fire a mysql client and hit the queries and then kill that mysql client. For large data it is good. But again for small data, it will take time. Ex: for KBs of data, it might take 3-4 mins","body":"@Shadow, I probably missed to mention it in the question. But my MySQL server and tomcat server are not at the same place. For using mysql dump, I would need to fire a mysql client and hit the queries and then kill that mysql client. For large data it is good. But again for small data, it will take time. Ex: for KBs of data, it might take 3-4 mins"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686913698,"post_id":76489018,"comment_id":134867248,"body_markdown":"@Shadow, writing direct queries for joining tables whose details will be changing on the fly would be a little tricky as well.","body":"@Shadow, writing direct queries for joining tables whose details will be changing on the fly would be a little tricky as well."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686914946,"post_id":76489018,"comment_id":134867485,"body_markdown":"@Mar-Z is it the data mapping you are talking about or structural mapping. If its structural mapping, then that&#39;s already done. Don&#39;t know how to do the data mapping between entities without holding it in the memory.","body":"@Mar-Z is it the data mapping you are talking about or structural mapping. If its structural mapping, then that&#39;s already done. Don&#39;t know how to do the data mapping between entities without holding it in the memory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686915012,"post_id":76489018,"comment_id":134867495,"body_markdown":"The relationships *are* the data","body":"The relationships <i>are</i> the data"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686915437,"post_id":76489018,"comment_id":134867569,"body_markdown":"Ok, so here is an example: I have 2 entities, E1 and E2. E1 has a column &#39;id&#39; as primary key which is mapped to &#39;E1_id&#39; column of E2. The relationship is 1:many (E1(1) -&gt; E2(Many)). This information I have in hand. Now while exporting the data, I have, lets say &#39;id&#39; of E1 as 5 against which, I have 2 values in E2. What I want is, if my row of E1 with &#39;id&#39; 5 is exported, I want the 2 rows of E2 as well along with it.","body":"Ok, so here is an example: I have 2 entities, E1 and E2. E1 has a column &#39;id&#39; as primary key which is mapped to &#39;E1_id&#39; column of E2. The relationship is 1:many (E1(1) -&gt; E2(Many)). This information I have in hand. Now while exporting the data, I have, lets say &#39;id&#39; of E1 as 5 against which, I have 2 values in E2. What I want is, if my row of E1 with &#39;id&#39; 5 is exported, I want the 2 rows of E2 as well along with it."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686916202,"post_id":76489018,"comment_id":134867728,"body_markdown":"@Mar-Z yeah thats correct. Assume this thing changes on the fly and I don&#39;t know which  column is mapped to which column. Then it would be difficult to generate the sql query. Right?","body":"@Mar-Z yeah thats correct. Assume this thing changes on the fly and I don&#39;t know which  column is mapped to which column. Then it would be difficult to generate the sql query. Right?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686920054,"post_id":76489018,"comment_id":134868516,"body_markdown":"If you don&#39;t know the structure of your database model beforehand then it will be not possible to fetch any relationship. IMHO","body":"If you don&#39;t know the structure of your database model beforehand then it will be not possible to fetch any relationship. IMHO"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686921799,"post_id":76489018,"comment_id":134868919,"body_markdown":"@Mar-Z No what I am saying is, I have that structure, but generifying that query would still be a tricky task.","body":"@Mar-Z No what I am saying is, I have that structure, but generifying that query would still be a tricky task."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1687152788,"post_id":76489018,"comment_id":134891411,"body_markdown":"Please provide the actual code you are using, not some vague prose description.","body":"Please provide the actual code you are using, not some vague prose description."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1687157640,"post_id":76489018,"comment_id":134892078,"body_markdown":"@Jens Schauder, though I had described the method I had used, I have updated the question with the actual code that I am using. Do let me know your thoughts.","body":"@Jens Schauder, though I had described the method I had used, I have updated the question with the actual code that I am using. Do let me know your thoughts."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1687504416,"post_id":76489018,"comment_id":134948870,"body_markdown":"What are &quot;columns which has relationships&quot;? How does you SQL statement look like? How does your data look like? What is the exact result you get?","body":"What are &quot;columns which has relationships&quot;? How does you SQL statement look like? How does your data look like? What is the exact result you get?"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1687761221,"post_id":76489018,"comment_id":134976151,"body_markdown":"@Jens Schauder, the term &quot;columns which has relationships&quot; refers to tables which are related to each other via column. Currently I don&#39;t have a generic SQL statement, hence the question. Although, I am using &quot;Select * from &lt;table_name&gt;&quot; to get all the data from the table. My data contains tables of MySQL which are in relationship. The result which I get when the given query is run is the details of the table given in the query. What I want is, the details of all the tables which are related to the parent table.","body":"@Jens Schauder, the term &quot;columns which has relationships&quot; refers to tables which are related to each other via column. Currently I don&#39;t have a generic SQL statement, hence the question. Although, I am using &quot;Select * from &lt;table_name&gt;&quot; to get all the data from the table. My data contains tables of MySQL which are in relationship. The result which I get when the given query is run is the details of the table given in the query. What I want is, the details of all the tables which are related to the parent table."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1687772267,"post_id":76489018,"comment_id":134978242,"body_markdown":"Again: We don&#39;t need vague (and honestly contradictionary) prose. We need the SQL you are executing. The actual result and the expected result.","body":"Again: We don&#39;t need vague (and honestly contradictionary) prose. We need the SQL you are executing. The actual result and the expected result."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1687773400,"post_id":76489018,"comment_id":134978501,"body_markdown":"Actually, I can&#39;t generify the SQL statement, one of the reasons why I asked the question.  And based on the sql, my actual result would vary. However, let me update the question with expected result.","body":"Actually, I can&#39;t generify the SQL statement, one of the reasons why I asked the question.  And based on the sql, my actual result would vary. However, let me update the question with expected result."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1688453462,"post_id":76489018,"comment_id":135072332,"body_markdown":"@Jens Schauder, any idea on how to approach?","body":"@Jens Schauder, any idea on how to approach?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1688458893,"post_id":76489018,"comment_id":135073353,"body_markdown":"I just reread the question and all the comment, and I still don&#39;t understand what the problem / question is. The desired content of the last example can be trivially construct using close to trivial SQL. But in the comments you talk about &quot;generifying&quot; SQL statement which isn&#39;t explained anywhere. It is tagged with [spring-data-jdbc] but none of the concepts of Spring Data JDBC is to be seen, it&#39;s all Spring JDBC ... Sorry, I&#39;m lost.","body":"I just reread the question and all the comment, and I still don&#39;t understand what the problem / question is. The desired content of the last example can be trivially construct using close to trivial SQL. But in the comments you talk about &quot;generifying&quot; SQL statement which isn&#39;t explained anywhere. It is tagged with [spring-data-jdbc] but none of the concepts of Spring Data JDBC is to be seen, it&#39;s all Spring JDBC ... Sorry, I&#39;m lost."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1688543894,"post_id":76489018,"comment_id":135085766,"body_markdown":"I added spring data jdbc to know if there is a way to do the job with spring data jdbc. My question is about getting the data from database, do some processing and write it into a csv file. Normally it works, but with relationship, it doesn&#39;t. Posted this question to know whether thats possible. :)","body":"I added spring data jdbc to know if there is a way to do the job with spring data jdbc. My question is about getting the data from database, do some processing and write it into a csv file. Normally it works, but with relationship, it doesn&#39;t. Posted this question to know whether thats possible. :)"}],"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687775749,"creation_date":1686909344,"question_id":76489018,"body_markdown":"Problem Statement: I am trying to export a huge database using java. I have implemented it using queryForStream() of JDBCTemplate as it provides streaming feature. For normal entities, its working perfectly. For, let&#39;s say ~3GB of data, its consuming around 600MB of memory, which is fine. The problem comes when relationships are introduced in the entity. There I am unable to get the data of entities which are in relationship with other entity. Example: I have an entity E1 which has 1:many relationship with entity E2. When I hit my export API, it exports whatever is in the table of entity E1, which makes sense, as my sql query asks it to do it like that, while the columns which has relationships are coming blank as it does not exist in the table.\r\n\r\nAny idea on how to proceed?\r\n\r\nEdit: I cannot use mysqldump to export the data, as I am doing some processing before exporting it.\r\n\r\nEdit: \r\nMain logic to hit DB:\r\n`try (Stream&lt;?&gt; dataStream = template.queryForStream(new StreamingStatementCreator(sql), getEntityRowMapper(clazz, converter, context))) {\r\n//processing logic goes here\r\n}`\r\n\r\n**StreamingStatementCreator.java**\r\n\r\n\r\n    public class StreamingStatementCreator implements PreparedStatementCreator {\r\n      private final String sql;\r\n    \r\n      public StreamingStatementCreator(String sql) {\r\n        this.sql = sql;\r\n      }\r\n    \r\n      @Override\r\n      public PreparedStatement createPreparedStatement(Connection connection) throws SQLException {\r\n        final PreparedStatement statement = connection.prepareStatement(sql, ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY);\r\n        statement.setFetchSize(Integer.MIN_VALUE);\r\n        return statement;\r\n      }\r\n    }\r\n\r\n\r\n**getEntityRowMapper(clazz, converter, context)):**\r\n\r\n      private EntityRowMapper&lt;?&gt; getEntityRowMapper(Class&lt;?&gt; domainType, JdbcConverter converter, JdbcMappingContext context) {\r\n        return new EntityRowMapper&lt;&gt;(getRequiredPersistentEntity(domainType, context), converter);\r\n      }\r\n    \r\n      private &lt;S&gt; RelationalPersistentEntity&lt;S&gt; getRequiredPersistentEntity(Class&lt;S&gt; domainType, JdbcMappingContext context) {\r\n        return (RelationalPersistentEntity&lt;S&gt;) context.getRequiredPersistentEntity(domainType);\r\n      }\r\n\r\nEdit:  \r\n\r\n**Table-1**   \r\ncountry \r\n```\r\nCREATE TABLE `country` (\r\n  `code` int(11) DEFAULT NULL,\r\n  `updated_by` varchar(100) DEFAULT NULL,\r\n  `created_by` varchar(100) DEFAULT NULL,\r\n  `name` varchar(50) DEFAULT NULL,\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `updated_on` datetime(3) DEFAULT NULL,\r\n  `created_on` datetime(3) DEFAULT NULL,\r\n  `version` bigint(20) DEFAULT NULL,\r\n  PRIMARY KEY (`id`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1\r\n```\r\n```\r\n+------------+--------------+------+-----+---------+----------------+\r\n| Field      | Type         | Null | Key | Default | Extra          |\r\n+------------+--------------+------+-----+---------+----------------+\r\n| code       | int(11)      | YES  |     | NULL    |                |\r\n| updated_by | varchar(100) | YES  |     | NULL    |                |\r\n| created_by | varchar(100) | YES  |     | NULL    |                |\r\n| name       | varchar(50)  | YES  |     | NULL    |                |\r\n| id         | int(11)      | NO   | PRI | NULL    | auto_increment |\r\n| updated_on | datetime(3)  | YES  |     | NULL    |                |\r\n| created_on | datetime(3)  | YES  |     | NULL    |                |\r\n| version    | bigint(20)   | YES  |     | NULL    |                |\r\n+------------+--------------+------+-----+---------+----------------+\r\n``` \r\n\r\n    \r\n**Table-2**  \r\ncapital\r\n```\r\nCREATE TABLE `capital` (\r\n  `name` varchar(50) DEFAULT NULL,\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `population` int(11) DEFAULT NULL,\r\n  `country_capital_id` int(11) DEFAULT NULL,\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `sys_country_capital_id` (`country_capital_id`),\r\n  CONSTRAINT `fk__capital__country_country_capital_id_id` FOREIGN KEY (`country_capital_id`) REFERENCES `country` (`id`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1 |\r\n```\r\n```\r\n+--------------------+-------------+------+-----+---------+----------------+\r\n| Field              | Type        | Null | Key | Default | Extra          |\r\n+--------------------+-------------+------+-----+---------+----------------+\r\n| name               | varchar(50) | YES  |     | NULL    |                |\r\n| id                 | int(11)     | NO   | PRI | NULL    | auto_increment |\r\n| population         | int(11)     | YES  |     | NULL    |                |\r\n| country_capital_id | int(11)     | YES  | UNI | NULL    |                |\r\n+--------------------+-------------+------+-----+---------+----------------+\r\n```\r\n\r\n\r\nTable-1 is in ONE_TO_ONE relationship with Table-2\r\n\r\n\r\nExpected result is a csv file with the expected value would be:\r\n```\r\n|id\t |code\t|name\t|capital\t                                        |createdBy\t |createdOn\t    |updatedBy\t|updatedOn\t    |version\r\n|1\t |91\t|India\t|{&quot;id&quot;:1,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}\t|System\t     |1.69E+09\t    |System\t    |1.69E+09\t    |0\r\n|2\t |91\t|India\t|{&quot;id&quot;:2,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}\t|System\t     |1.69E+09\t    |System\t    |1.69E+09\t    |0\r\n|3\t |91\t|India\t|{&quot;id&quot;:3,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}\t|System\t     |1.69E+09\t    |System\t    |1.69E+09\t    |0\r\n|4\t |91\t|India\t|{&quot;id&quot;:4,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}\t|System\t     |1.69E+09\t    |System\t    |1.69E+09\t    |0\r\n","title":"Handle relationships while querying the data from a MySQL database using java","body":"<p>Problem Statement: I am trying to export a huge database using java. I have implemented it using queryForStream() of JDBCTemplate as it provides streaming feature. For normal entities, its working perfectly. For, let's say ~3GB of data, its consuming around 600MB of memory, which is fine. The problem comes when relationships are introduced in the entity. There I am unable to get the data of entities which are in relationship with other entity. Example: I have an entity E1 which has 1:many relationship with entity E2. When I hit my export API, it exports whatever is in the table of entity E1, which makes sense, as my sql query asks it to do it like that, while the columns which has relationships are coming blank as it does not exist in the table.</p>\n<p>Any idea on how to proceed?</p>\n<p>Edit: I cannot use mysqldump to export the data, as I am doing some processing before exporting it.</p>\n<p>Edit:\nMain logic to hit DB:\n<code>try (Stream&lt;?&gt; dataStream = template.queryForStream(new StreamingStatementCreator(sql), getEntityRowMapper(clazz, converter, context))) { //processing logic goes here }</code></p>\n<p><strong>StreamingStatementCreator.java</strong></p>\n<pre><code>public class StreamingStatementCreator implements PreparedStatementCreator {\n  private final String sql;\n\n  public StreamingStatementCreator(String sql) {\n    this.sql = sql;\n  }\n\n  @Override\n  public PreparedStatement createPreparedStatement(Connection connection) throws SQLException {\n    final PreparedStatement statement = connection.prepareStatement(sql, ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY);\n    statement.setFetchSize(Integer.MIN_VALUE);\n    return statement;\n  }\n}\n</code></pre>\n<p><strong>getEntityRowMapper(clazz, converter, context)):</strong></p>\n<pre><code>  private EntityRowMapper&lt;?&gt; getEntityRowMapper(Class&lt;?&gt; domainType, JdbcConverter converter, JdbcMappingContext context) {\n    return new EntityRowMapper&lt;&gt;(getRequiredPersistentEntity(domainType, context), converter);\n  }\n\n  private &lt;S&gt; RelationalPersistentEntity&lt;S&gt; getRequiredPersistentEntity(Class&lt;S&gt; domainType, JdbcMappingContext context) {\n    return (RelationalPersistentEntity&lt;S&gt;) context.getRequiredPersistentEntity(domainType);\n  }\n</code></pre>\n<p>Edit:</p>\n<p><strong>Table-1</strong><br />\ncountry</p>\n<pre><code>CREATE TABLE `country` (\n  `code` int(11) DEFAULT NULL,\n  `updated_by` varchar(100) DEFAULT NULL,\n  `created_by` varchar(100) DEFAULT NULL,\n  `name` varchar(50) DEFAULT NULL,\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `updated_on` datetime(3) DEFAULT NULL,\n  `created_on` datetime(3) DEFAULT NULL,\n  `version` bigint(20) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1\n</code></pre>\n<pre><code>+------------+--------------+------+-----+---------+----------------+\n| Field      | Type         | Null | Key | Default | Extra          |\n+------------+--------------+------+-----+---------+----------------+\n| code       | int(11)      | YES  |     | NULL    |                |\n| updated_by | varchar(100) | YES  |     | NULL    |                |\n| created_by | varchar(100) | YES  |     | NULL    |                |\n| name       | varchar(50)  | YES  |     | NULL    |                |\n| id         | int(11)      | NO   | PRI | NULL    | auto_increment |\n| updated_on | datetime(3)  | YES  |     | NULL    |                |\n| created_on | datetime(3)  | YES  |     | NULL    |                |\n| version    | bigint(20)   | YES  |     | NULL    |                |\n+------------+--------------+------+-----+---------+----------------+\n</code></pre>\n<p><strong>Table-2</strong><br />\ncapital</p>\n<pre><code>CREATE TABLE `capital` (\n  `name` varchar(50) DEFAULT NULL,\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `population` int(11) DEFAULT NULL,\n  `country_capital_id` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `sys_country_capital_id` (`country_capital_id`),\n  CONSTRAINT `fk__capital__country_country_capital_id_id` FOREIGN KEY (`country_capital_id`) REFERENCES `country` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1 |\n</code></pre>\n<pre><code>+--------------------+-------------+------+-----+---------+----------------+\n| Field              | Type        | Null | Key | Default | Extra          |\n+--------------------+-------------+------+-----+---------+----------------+\n| name               | varchar(50) | YES  |     | NULL    |                |\n| id                 | int(11)     | NO   | PRI | NULL    | auto_increment |\n| population         | int(11)     | YES  |     | NULL    |                |\n| country_capital_id | int(11)     | YES  | UNI | NULL    |                |\n+--------------------+-------------+------+-----+---------+----------------+\n</code></pre>\n<p>Table-1 is in ONE_TO_ONE relationship with Table-2</p>\n<p>Expected result is a csv file with the expected value would be:</p>\n<pre><code>|id  |code  |name   |capital                                            |createdBy   |createdOn     |updatedBy  |updatedOn      |version\n|1   |91    |India  |{&quot;id&quot;:1,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}   |System      |1.69E+09      |System     |1.69E+09       |0\n|2   |91    |India  |{&quot;id&quot;:2,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}   |System      |1.69E+09      |System     |1.69E+09       |0\n|3   |91    |India  |{&quot;id&quot;:3,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}   |System      |1.69E+09      |System     |1.69E+09       |0\n|4   |91    |India  |{&quot;id&quot;:4,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}   |System      |1.69E+09      |System     |1.69E+09       |0\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":5956416,"reputation":257,"user_id":7926878,"display_name":"TheQuantumMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687775431,"creation_date":1687640774,"question_id":76547994,"body_markdown":"I&#39;m fairly new to Android Studio (and generally Java) programming.\r\nI have written a program which uses a button called `button_open_html` to open WebView in full screen and show a local html file; I added a back button. I also have a button `btn1` which shows shows some text on-screen when it&#39;s pressed. Before launching WebView, `btn1` works well. After I open and close WebView though, it loses its functionality. On the other hand, the html button&#39;s functionality is still there. Here is the code in the MainActivity.java:\r\n```\r\npackage com.example.myapp1;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n    private String lastButtonName;\r\n    private String[][] buttonHtmlArray;\r\n\r\n    private static final String TAG = &quot;Museums&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n        // Add button functionality for btn1\r\n        Button btn1 = (Button) findViewById(R.id.btn1);   // call button by ID so we can do stuff w/ it\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.i(TAG, &quot;TEXT&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;MORE TEXT&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n\r\n\r\n        // Create a 2D array to store button names and HTML file names\r\n        buttonHtmlArray = new String[][]{\r\n                {&quot;button_open_html&quot;, &quot;html_vsc_2.html&quot;}\r\n        };\r\n\r\n        // Loop through the array and set click listeners for each button\r\n        for (String[] buttonHtml : buttonHtmlArray) {\r\n            Button button = findViewById(getResources().getIdentifier(buttonHtml[0], &quot;id&quot;, getPackageName()));\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    lastButtonName = buttonHtml[0];  // Store the button name\r\n                    openWebView(lastButtonName, buttonHtml[1]);  // Pass the HTML file name\r\n                }\r\n            });\r\n        }\r\n\r\n        // Initialize the WebView\r\n        webView = findViewById(R.id.webView);\r\n        webView.setWebViewClient(new WebViewClient());\r\n    }\r\n\r\n    private void openWebView(String buttonName, String htmlFileName) {\r\n        setContentView(R.layout.activity_web_view);\r\n        webView = findViewById(R.id.webView);\r\n        webView.loadUrl(&quot;file:///android_asset/&quot; + htmlFileName);\r\n        lastButtonName = buttonName;\r\n\r\n        Button backButton = findViewById(R.id.button_back);\r\n        backButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (lastButtonName != null) {\r\n            setContentView(R.layout.activity_main);\r\n            // Reassign click listeners for the buttons\r\n            for (String[] buttonHtml : buttonHtmlArray) {\r\n                Button button = findViewById(getResources().getIdentifier(buttonHtml[0], &quot;id&quot;, getPackageName()));\r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        lastButtonName = buttonHtml[0];  // Store the button name\r\n                        openWebView(lastButtonName, buttonHtml[1]);  // Pass the HTML file name\r\n                    }\r\n                });\r\n            }\r\n            lastButtonName = null;\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I add more buttons unrelated to WebView, they also lose their functionality. When I add more buttons that open WebView, their functionality is not affected, so it&#39;s a &quot;common trend&quot;. As a disclaimer, the above is a code constructed with the help of AI, but was heavily modified by me.\r\n\r\nThe question is: how should I modify this code in order for the non-WebView related buttons to not lose their functionality?","title":"Android Studio: Closing WebView causes other buttons to lose functionality","body":"<p>I'm fairly new to Android Studio (and generally Java) programming.\nI have written a program which uses a button called <code>button_open_html</code> to open WebView in full screen and show a local html file; I added a back button. I also have a button <code>btn1</code> which shows shows some text on-screen when it's pressed. Before launching WebView, <code>btn1</code> works well. After I open and close WebView though, it loses its functionality. On the other hand, the html button's functionality is still there. Here is the code in the MainActivity.java:</p>\n<pre><code>package com.example.myapp1;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n    private String lastButtonName;\n    private String[][] buttonHtmlArray;\n\n    private static final String TAG = &quot;Museums&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n        // Add button functionality for btn1\n        Button btn1 = (Button) findViewById(R.id.btn1);   // call button by ID so we can do stuff w/ it\n        btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.i(TAG, &quot;TEXT&quot;);\n                Toast.makeText(getApplicationContext(), &quot;MORE TEXT&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n\n\n\n        // Create a 2D array to store button names and HTML file names\n        buttonHtmlArray = new String[][]{\n                {&quot;button_open_html&quot;, &quot;html_vsc_2.html&quot;}\n        };\n\n        // Loop through the array and set click listeners for each button\n        for (String[] buttonHtml : buttonHtmlArray) {\n            Button button = findViewById(getResources().getIdentifier(buttonHtml[0], &quot;id&quot;, getPackageName()));\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    lastButtonName = buttonHtml[0];  // Store the button name\n                    openWebView(lastButtonName, buttonHtml[1]);  // Pass the HTML file name\n                }\n            });\n        }\n\n        // Initialize the WebView\n        webView = findViewById(R.id.webView);\n        webView.setWebViewClient(new WebViewClient());\n    }\n\n    private void openWebView(String buttonName, String htmlFileName) {\n        setContentView(R.layout.activity_web_view);\n        webView = findViewById(R.id.webView);\n        webView.loadUrl(&quot;file:///android_asset/&quot; + htmlFileName);\n        lastButtonName = buttonName;\n\n        Button backButton = findViewById(R.id.button_back);\n        backButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onBackPressed();\n            }\n        });\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (lastButtonName != null) {\n            setContentView(R.layout.activity_main);\n            // Reassign click listeners for the buttons\n            for (String[] buttonHtml : buttonHtmlArray) {\n                Button button = findViewById(getResources().getIdentifier(buttonHtml[0], &quot;id&quot;, getPackageName()));\n                button.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        lastButtonName = buttonHtml[0];  // Store the button name\n                        openWebView(lastButtonName, buttonHtml[1]);  // Pass the HTML file name\n                    }\n                });\n            }\n            lastButtonName = null;\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>When I add more buttons unrelated to WebView, they also lose their functionality. When I add more buttons that open WebView, their functionality is not affected, so it's a &quot;common trend&quot;. As a disclaimer, the above is a code constructed with the help of AI, but was heavily modified by me.</p>\n<p>The question is: how should I modify this code in order for the non-WebView related buttons to not lose their functionality?</p>\n"},{"tags":["java","hibernate","hibernate-mapping","hibernate-annotations"],"comments":[{"owner":{"account_id":240243,"reputation":12119,"user_id":510360,"accept_rate":80,"display_name":"Mohamed Saligh"},"score":0,"creation_date":1291778342,"post_id":4383070,"comment_id":4776278,"body_markdown":"&quot;OBJECTIVE&quot; is it constant or an attribute?","body":"&quot;OBJECTIVE&quot; is it constant or an attribute?"},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1291779856,"post_id":4383070,"comment_id":4776400,"body_markdown":"You need to show `NoteEntity`. Also, try configuring `&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;` in order to see what&#39;s in the SQL.","body":"You need to show <code>NoteEntity</code>. Also, try configuring <code>&lt;property name=&quot;show_sql&quot;&gt;true&lt;&#47;property&gt;</code> in order to see what&#39;s in the SQL."}],"answers":[{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1291768448,"creation_date":1291768448,"answer_id":4383145,"question_id":4383070,"body_markdown":"This just plain does not work, sorry :(  You will need to do it as one to many and live with getting a collection with a single element.\r\n\r\nIf you really want it to work this way, you can trick hibernate by storing both the foreign key ID and the type_name in a join table and telling it that both columns make up the foreign key.","title":"Hibernate @OneToOne mapping with a @Where clause","body":"<p>This just plain does not work, sorry :(  You will need to do it as one to many and live with getting a collection with a single element.</p>\n\n<p>If you really want it to work this way, you can trick hibernate by storing both the foreign key ID and the type_name in a join table and telling it that both columns make up the foreign key.</p>\n"},{"tags":[],"owner":{"account_id":234929,"reputation":909,"user_id":501399,"accept_rate":83,"display_name":"vadipp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1509106451,"creation_date":1509106451,"answer_id":46974785,"question_id":4383070,"body_markdown":"Actually you can achieve this by specifying `@OneToOne` without any `@Where`, but putting `@Where` on the referenced entity class. I tested this on Hibernate 4.3.11.\r\n\r\nThis works if you don&#39;t care about any entity objects that do not match your `@Where`.\r\n\r\nIf you *do* care about other entities, you can probably create a subclass entity, put `@Where` on it and join that subclass. But I have not tested this scenario.\r\n\r\n","title":"Hibernate @OneToOne mapping with a @Where clause","body":"<p>Actually you can achieve this by specifying <code>@OneToOne</code> without any <code>@Where</code>, but putting <code>@Where</code> on the referenced entity class. I tested this on Hibernate 4.3.11.</p>\n\n<p>This works if you don't care about any entity objects that do not match your <code>@Where</code>.</p>\n\n<p>If you <em>do</em> care about other entities, you can probably create a subclass entity, put <code>@Where</code> on it and join that subclass. But I have not tested this scenario.</p>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687775091,"creation_date":1687775091,"answer_id":76555792,"question_id":4383070,"body_markdown":"You can try using `JoinColumnsOrFormulas` annotation. \r\n\r\n```\r\n@OneToOne()\r\n@JoinColumnsOrFormulas({\r\n    @JoinColumnOrFormula(column =\r\n        @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;type_id&quot;)),\r\n    @JoinColumnOrFormula(formula =\r\n        @JoinFormula(value = &quot;OBJECTIVE&quot;, referencedColumnName = &quot;type_name&quot;))\r\n})\r\npublic NoteEntity getObjectiveNote() {\r\n  return objectiveNote;\r\n}\r\n```\r\n\r\nThis should produce join condition even with additional filtering for `type_name = OBJECTIVE`.","title":"Hibernate @OneToOne mapping with a @Where clause","body":"<p>You can try using <code>JoinColumnsOrFormulas</code> annotation.</p>\n<pre><code>@OneToOne()\n@JoinColumnsOrFormulas({\n    @JoinColumnOrFormula(column =\n        @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;type_id&quot;)),\n    @JoinColumnOrFormula(formula =\n        @JoinFormula(value = &quot;OBJECTIVE&quot;, referencedColumnName = &quot;type_name&quot;))\n})\npublic NoteEntity getObjectiveNote() {\n  return objectiveNote;\n}\n</code></pre>\n<p>This should produce join condition even with additional filtering for <code>type_name = OBJECTIVE</code>.</p>\n"}],"owner":{"account_id":231236,"reputation":1346,"user_id":495341,"accept_rate":84,"display_name":"nuaavee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10278,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":4383145,"answer_count":3,"score":13,"last_activity_date":1687775091,"creation_date":1291767605,"question_id":4383070,"body_markdown":"Will this work -\r\n\r\n    @OneToOne()\r\n    @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;type_id&quot;)\r\n    @Where(clause = &quot;type_name = OBJECTIVE&quot;)\r\n    public NoteEntity getObjectiveNote() {\r\n      return objectiveNote;\r\n    }\r\n\r\nThis is what I am trying to do - get the record from table `note` whose `type_id` is the `id` of the current object and `type_name` is `OBJECTIVE`.\r\n\r\nI can&#39;t get the above mapping to work. What am I doing wrong here?","title":"Hibernate @OneToOne mapping with a @Where clause","body":"<p>Will this work -</p>\n\n<pre><code>@OneToOne()\n@JoinColumn(name = \"id\", referencedColumnName = \"type_id\")\n@Where(clause = \"type_name = OBJECTIVE\")\npublic NoteEntity getObjectiveNote() {\n  return objectiveNote;\n}\n</code></pre>\n\n<p>This is what I am trying to do - get the record from table <code>note</code> whose <code>type_id</code> is the <code>id</code> of the current object and <code>type_name</code> is <code>OBJECTIVE</code>.</p>\n\n<p>I can't get the above mapping to work. What am I doing wrong here?</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"score":0,"creation_date":1569227729,"post_id":58049231,"comment_id":102514146,"body_markdown":"Do you need one archive file for each date , or one archive file containing all csv files at execution time ?","body":"Do you need one archive file for each date , or one archive file containing all csv files at execution time ?"},{"owner":{"account_id":15505999,"reputation":11,"user_id":11186153,"display_name":"user11186153"},"score":0,"creation_date":1569228125,"post_id":58049231,"comment_id":102514326,"body_markdown":"thanks for reply , i need one archive file for each date. i can now archive the files in current day , so i need to archive the files in previous days also","body":"thanks for reply , i need one archive file for each date. i can now archive the files in current day , so i need to archive the files in previous days also"}],"answers":[{"tags":[],"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569229795,"creation_date":1569229795,"answer_id":58059120,"question_id":58049231,"body_markdown":"I think you could achieve this with a double reading of your input folder, with a tIterateToFlow component. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n- In the tFileList_1 , get all the csv, without a mask (or just *.csv)\r\n- in tIterateToFlow, extract the date in the input Filename (given your example , this should do the trick : `StringHandling.RIGHT(((String)globalMap.get(&quot;tFileList_1_CURRENT_FILE&quot;)),14)`\r\n- Add a tFlowTo Iterate, no customization needed\r\n- In tFileList_2 , you can then filter on the field created in tIterateToFlow : this is your pattern : `&quot;*_&quot;+((String)globalMap.get(&quot;row2.dateFile&quot;))`\r\n- tFileArchive_1  can then zip file in an outputfolder (with the same filemask as in your tFileList)\r\n\r\nI tested it quickly, it seems to work. Didn&#39;t check with tFTP components tho.\r\n\r\nHope this helps\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s2ooh.png","title":"archive files in all dates (previous and current day ) with talend","body":"<p>I think you could achieve this with a double reading of your input folder, with a tIterateToFlow component. </p>\n\n<p><a href=\"https://i.stack.imgur.com/s2ooh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2ooh.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>In the tFileList_1 , get all the csv, without a mask (or just *.csv)</li>\n<li>in tIterateToFlow, extract the date in the input Filename (given your example , this should do the trick : <code>StringHandling.RIGHT(((String)globalMap.get(\"tFileList_1_CURRENT_FILE\")),14)</code></li>\n<li>Add a tFlowTo Iterate, no customization needed</li>\n<li>In tFileList_2 , you can then filter on the field created in tIterateToFlow : this is your pattern : <code>\"*_\"+((String)globalMap.get(\"row2.dateFile\"))</code></li>\n<li>tFileArchive_1  can then zip file in an outputfolder (with the same filemask as in your tFileList)</li>\n</ul>\n\n<p>I tested it quickly, it seems to work. Didn't check with tFTP components tho.</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":25738447,"reputation":1,"user_id":19492796,"display_name":"Omprakash Kale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687775024,"creation_date":1687425344,"answer_id":76530323,"question_id":58049231,"body_markdown":"I am really thankful for the above solution. My scenario is similar but few changes.\r\n\r\nI need to delete All files for a month &amp; keep only files for recent 5 days &amp; delete previous files.\r\nI got solution from above scenario. \r\n\r\nFor above scenario one point i need to add:\r\n\r\n    In tfilelist2  File path (Directory) use global variable of tfilelist1 &gt; ((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEDIRECTORY&quot;))\r\n\r\nso you can grab current file running as per above job.\r\n","title":"archive files in all dates (previous and current day ) with talend","body":"<p>I am really thankful for the above solution. My scenario is similar but few changes.</p>\n<p>I need to delete All files for a month &amp; keep only files for recent 5 days &amp; delete previous files.\nI got solution from above scenario.</p>\n<p>For above scenario one point i need to add:</p>\n<pre><code>In tfilelist2  File path (Directory) use global variable of tfilelist1 &gt; ((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEDIRECTORY&quot;))\n</code></pre>\n<p>so you can grab current file running as per above job.</p>\n"}],"owner":{"account_id":15505999,"reputation":11,"user_id":11186153,"display_name":"user11186153"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687775024,"creation_date":1569155468,"question_id":58049231,"body_markdown":"I created a job which archive files in current day. I need now to improve my job to archive files in all days (current and previous days).\r\nI used a global variable like :\r\n\r\n    &quot;*_&quot;+ TalendDate.formatDate(&quot;yyyy_MM_dd&quot;,TalendDate.getCurrentDate())+&quot;.csv&quot;\r\n\r\n[this job get files from FTP and archive them in current day  ][1]\r\n\r\nHow can I change the global variable to archive in all days?\r\n\r\nI have used `Tloop` but no result.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/czviM.png","title":"archive files in all dates (previous and current day ) with talend","body":"<p>I created a job which archive files in current day. I need now to improve my job to archive files in all days (current and previous days).\nI used a global variable like :</p>\n\n<pre><code>\"*_\"+ TalendDate.formatDate(\"yyyy_MM_dd\",TalendDate.getCurrentDate())+\".csv\"\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/czviM.png\" rel=\"nofollow noreferrer\">this job get files from FTP and archive them in current day  </a></p>\n\n<p>How can I change the global variable to archive in all days?</p>\n\n<p>I have used <code>Tloop</code> but no result.</p>\n"},{"tags":["java","docker","maven","java-19"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1687764368,"post_id":76552854,"comment_id":134976747,"body_markdown":"Stay on Java 17 unless you have very good reason to use a non-long term support version. Images will get security updates longer.  When the next LTS version come, upgrade.","body":"Stay on Java 17 unless you have very good reason to use a non-long term support version. Images will get security updates longer.  When the next LTS version come, upgrade."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687740055,"creation_date":1687739574,"answer_id":76552917,"question_id":76552854,"body_markdown":"It appears that this [project](https://github.com/carlossg/docker-maven) has stopped building Linux images using OpenJDK, due to [discontinuation of the OpenJDK builds those images were based on](https://github.com/docker-library/openjdk/issues/505). It now only provides images using alternative JDK distributions such as Eclipse Temurin and Amazon Corretto. The Temurin images are a suitable replacement for most users.\r\n\r\nAlso note that, although there are historical [images built with Java 19](https://hub.docker.com/_/maven/tags?page=1&amp;name=19) available, [Java 19 has since been superseded by Java 20](https://endoflife.date/java) and therefore there will not be new images based on Java 19 and the most recent Maven releases. It is generally preferable to use an LTS release of Java such as Java 17. If your project requires a Java version newer than the most recent LTS release, then it’s a good idea to use the most recent version, as interim releases such as Java 18 and 19 may not be supported once a newer version is available. The next upcoming Java release at the time I write this—version 21, due in September 2023—will be an LTS release.","title":"Docker Image for maven with OpenJDK 19 is missing","body":"<p>It appears that this <a href=\"https://github.com/carlossg/docker-maven\" rel=\"nofollow noreferrer\">project</a> has stopped building Linux images using OpenJDK, due to <a href=\"https://github.com/docker-library/openjdk/issues/505\" rel=\"nofollow noreferrer\">discontinuation of the OpenJDK builds those images were based on</a>. It now only provides images using alternative JDK distributions such as Eclipse Temurin and Amazon Corretto. The Temurin images are a suitable replacement for most users.</p>\n<p>Also note that, although there are historical <a href=\"https://hub.docker.com/_/maven/tags?page=1&amp;name=19\" rel=\"nofollow noreferrer\">images built with Java 19</a> available, <a href=\"https://endoflife.date/java\" rel=\"nofollow noreferrer\">Java 19 has since been superseded by Java 20</a> and therefore there will not be new images based on Java 19 and the most recent Maven releases. It is generally preferable to use an LTS release of Java such as Java 17. If your project requires a Java version newer than the most recent LTS release, then it’s a good idea to use the most recent version, as interim releases such as Java 18 and 19 may not be supported once a newer version is available. The next upcoming Java release at the time I write this—version 21, due in September 2023—will be an LTS release.</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76552917,"answer_count":1,"score":0,"last_activity_date":1687774880,"creation_date":1687737496,"question_id":76552854,"body_markdown":"I am looking at https://openjdk.org/projects/jdk/19/ which seems to indicate that OpenJDK is now Generally Availible as of September 20th 2022. However, when I look at the current maven images (https://hub.docker.com/_/maven) , I find openJDK 17 (https://hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/sha256-d07c45c45755f0f90b779bad869467e602f1bfff4d0b5eb1ff73f2882bc38187) and openJDK 18 (https://hub.docker.com/layers/library/maven/3.8.7-openjdk-18/images/sha256-1936d70bb3415a0d7e822ed484cdb4974593b195091c145b52ba7775003dc3f0?context=explore)  but I do not see openJdk-19. I searched &#39;openjdk&#39; https://hub.docker.com/_/maven/tags?page=1&amp;name=openjdk and looked at &#39;newest&#39; but I cannot find a Java 19. Is there such a openjdk maven artifact perhaps under a different naming scheme? Is there something that I am missing?","title":"Docker Image for maven with OpenJDK 19 is missing","body":"<p>I am looking at <a href=\"https://openjdk.org/projects/jdk/19/\" rel=\"nofollow noreferrer\">https://openjdk.org/projects/jdk/19/</a> which seems to indicate that OpenJDK is now Generally Availible as of September 20th 2022. However, when I look at the current maven images (<a href=\"https://hub.docker.com/_/maven\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/maven</a>) , I find openJDK 17 (<a href=\"https://hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/sha256-d07c45c45755f0f90b779bad869467e602f1bfff4d0b5eb1ff73f2882bc38187\" rel=\"nofollow noreferrer\">https://hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/sha256-d07c45c45755f0f90b779bad869467e602f1bfff4d0b5eb1ff73f2882bc38187</a>) and openJDK 18 (<a href=\"https://hub.docker.com/layers/library/maven/3.8.7-openjdk-18/images/sha256-1936d70bb3415a0d7e822ed484cdb4974593b195091c145b52ba7775003dc3f0?context=explore\" rel=\"nofollow noreferrer\">https://hub.docker.com/layers/library/maven/3.8.7-openjdk-18/images/sha256-1936d70bb3415a0d7e822ed484cdb4974593b195091c145b52ba7775003dc3f0?context=explore</a>)  but I do not see openJdk-19. I searched 'openjdk' <a href=\"https://hub.docker.com/_/maven/tags?page=1&amp;name=openjdk\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/maven/tags?page=1&amp;name=openjdk</a> and looked at 'newest' but I cannot find a Java 19. Is there such a openjdk maven artifact perhaps under a different naming scheme? Is there something that I am missing?</p>\n"},{"tags":["java","spring-boot","websphere","ibm-cloud","ibm-odm"],"owner":{"account_id":27323596,"reputation":1,"user_id":20836895,"display_name":"Sakthi Prasad S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687774258,"creation_date":1687774118,"question_id":76555668,"body_markdown":"I&#39;m new to IBM ODM, just now I&#39;m experiencing the IBM Operational Decision Manager Z trial.\r\n\r\nI need an example or trail or any tutorial for Spring boot applications that are integrated with IBM ODM.\r\n\r\nI want a road map for the IBM ODM with Spring Boot.\r\n\r\nIn the Z trial, I created a Java class and then create a single rule\r\n\r\n```\r\nif\r\n    the quantity of Sale is at least 5\r\n    and the widget type of Sale is &quot;red&quot;\r\nthen\r\n    set discount to 0.1;\r\n```\r\n\r\nI deployed it successfully, but I don&#39;t know how to check if the rules are working fine in trial environment.\r\n\r\nIBM ODM cloud vs IBM ODM on-premise. Which one is best to use?\r\n\r\nkindly show some examples and explain them. How to install ODM in a Local machine?","title":"IBM ODM With Springboot","body":"<p>I'm new to IBM ODM, just now I'm experiencing the IBM Operational Decision Manager Z trial.</p>\n<p>I need an example or trail or any tutorial for Spring boot applications that are integrated with IBM ODM.</p>\n<p>I want a road map for the IBM ODM with Spring Boot.</p>\n<p>In the Z trial, I created a Java class and then create a single rule</p>\n<pre><code>if\n    the quantity of Sale is at least 5\n    and the widget type of Sale is &quot;red&quot;\nthen\n    set discount to 0.1;\n</code></pre>\n<p>I deployed it successfully, but I don't know how to check if the rules are working fine in trial environment.</p>\n<p>IBM ODM cloud vs IBM ODM on-premise. Which one is best to use?</p>\n<p>kindly show some examples and explain them. How to install ODM in a Local machine?</p>\n"},{"tags":["java","spring","spring-boot","entity"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1687511681,"post_id":76538398,"comment_id":134950326,"body_markdown":"Does this answer your question? [Spring boot - Not a managed type](https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type\">Spring boot - Not a managed type</a>"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1687672915,"post_id":76538398,"comment_id":134967813,"body_markdown":"Looks like `@Table` annotation is missing on your entity..can you try adding that !!","body":"Looks like <code>@Table</code> annotation is missing on your entity..can you try adding that !!"}],"answers":[{"tags":[],"owner":{"account_id":28386002,"reputation":13,"user_id":21712461,"display_name":"Dhruv Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687773862,"creation_date":1687773862,"answer_id":76555634,"question_id":76538398,"body_markdown":"It is due to the import error \r\n\r\n    import javax.persistence.Entity \r\n\r\nIt needs to be replaced with \r\n\r\n`import jakarta.persistence.Entity`","title":"Not a managed type entity Skus","body":"<p>It is due to the import error</p>\n<pre><code>import javax.persistence.Entity \n</code></pre>\n<p>It needs to be replaced with</p>\n<p><code>import jakarta.persistence.Entity</code></p>\n"}],"owner":{"account_id":28386002,"reputation":13,"user_id":21712461,"display_name":"Dhruv Singhal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687773862,"creation_date":1687509460,"question_id":76538398,"body_markdown":"I have create a simple entity but it is giving me error as  Not a managed type: &lt;path&gt;.entity.Skus\r\n\r\n**Entity class**\r\n\r\n    package &lt;path&gt;.entity;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import javax.persistence.Entity;\r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity(name = &quot;skus&quot;)\r\n    public class Skus extends BaseEntity{\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n","title":"Not a managed type entity Skus","body":"<p>I have create a simple entity but it is giving me error as  Not a managed type: .entity.Skus</p>\n<p><strong>Entity class</strong></p>\n<pre><code>package &lt;path&gt;.entity;\n\nimport jakarta.persistence.Column;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport javax.persistence.Entity;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity(name = &quot;skus&quot;)\npublic class Skus extends BaseEntity{\n    @Column(name = &quot;name&quot;)\n    private String name;\n}\n</code></pre>\n"},{"tags":["java","keycloak","spring-cloud-gateway"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1686843796,"post_id":76482897,"comment_id":134856974,"body_markdown":"Have a look at my tutorials, specially the BFF one https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","body":"Have a look at my tutorials, specially the BFF one <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">github.com/ch4mpy/spring-addons/tree/master/samples/tutorial&zwnj;&#8203;s</a>"},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687190343,"post_id":76482897,"comment_id":134898909,"body_markdown":"After several trial and error, I have updated the full description","body":"After several trial and error, I have updated the full description"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687193084,"post_id":76482897,"comment_id":134899423,"body_markdown":"For directions to configure (servlet) resource-servers, refer to the dedicated tutorials of the series I already linked.","body":"For directions to configure (servlet) resource-servers, refer to the dedicated tutorials of the series I already linked."},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687243084,"post_id":76482897,"comment_id":134905148,"body_markdown":"Thanks a lot for your examples, but I am afraid that, as many others over the internet, they are a bit outdated. For example, in the code &quot; http.csrf().disable();&quot; in the reactive-resource-server, the CSRF part is deprecated. Other tutorials use the &quot;WebSecurityConfigurerAdapter&quot; class, that as stated in &quot;https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter&quot; should be replaced... The code in my SecurityConfiguration have been created with code from official sources, but for some reason I can&#39;t make it work...","body":"Thanks a lot for your examples, but I am afraid that, as many others over the internet, they are a bit outdated. For example, in the code &quot; http.csrf().disable();&quot; in the reactive-resource-server, the CSRF part is deprecated. Other tutorials use the &quot;WebSecurityConfigurerAdapter&quot; class, that as stated in &quot;<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>&quot; should be replaced... The code in my SecurityConfiguration have been created with code from official sources, but for some reason I can&#39;t make it work..."},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687243467,"post_id":76482897,"comment_id":134905210,"body_markdown":"In addition to my previous link I had also used this one: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html","body":"In addition to my previous link I had also used this one: <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687258325,"post_id":76482897,"comment_id":134908293,"body_markdown":"`WebSecurityConfigurerAdapter` was deprecated in late spring-security 5 versions (boot 2) and removed from security 6 (boot 3), so you won&#39;t find a single working spring-boot 3 sample with it. `http.csrf().disable()` was falged deprecated with spring-boot 3.1 one month ago. It is already replaced with `http.csrf(csrf -&gt; csrf.disable())` (as well as all other configurers which should now use exclusively lambdas instead of &quot;fluent&quot; API) but only in the code. I forgot to update readmes, my bad. But, no, samples and tutorials are not outdated: all compile with boot 3.1.0 and without warning.","body":"<code>WebSecurityConfigurerAdapter</code> was deprecated in late spring-security 5 versions (boot 2) and removed from security 6 (boot 3), so you won&#39;t find a single working spring-boot 3 sample with it. <code>http.csrf().disable()</code> was falged deprecated with spring-boot 3.1 one month ago. It is already replaced with <code>http.csrf(csrf -&gt; csrf.disable())</code> (as well as all other configurers which should now use exclusively lambdas instead of &quot;fluent&quot; API) but only in the code. I forgot to update readmes, my bad. But, no, samples and tutorials are not outdated: all compile with boot 3.1.0 and without warning."},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687260554,"post_id":76482897,"comment_id":134908798,"body_markdown":"Can you add some light to the error in my traces? I cannot make the official spring code work in my SecurityConfiguration out of the box...","body":"Can you add some light to the error in my traces? I cannot make the official spring code work in my SecurityConfiguration out of the box..."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687272565,"post_id":76482897,"comment_id":134911702,"body_markdown":"The error could be due to trying to use spring-security 5 with spring-boot 3, but there are other &quot;strange&quot; things like having a dependency on Thymeleaf in a resource server only app. You should probably take some time to read the README at the root of the tutorials (and not try to override the versions already defined by boot)","body":"The error could be due to trying to use spring-security 5 with spring-boot 3, but there are other &quot;strange&quot; things like having a dependency on Thymeleaf in a resource server only app. You should probably take some time to read the README at the root of the tutorials (and not try to override the versions already defined by boot)"},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687772586,"post_id":76482897,"comment_id":134978316,"body_markdown":"You were absolutely right! As soon as I read your comment, I removed all version from my POM and it worked perfectly! Thanks a lot!","body":"You were absolutely right! As soon as I read your comment, I removed all version from my POM and it worked perfectly! Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687772676,"creation_date":1687772676,"answer_id":76555477,"question_id":76482897,"body_markdown":"As stated by ch4mp, I was trying to use spring-security 5 with spring-boot 3. As soon as a I removed all version from my POM it worked!","title":"Invalid credentials when Spring Gateway logs in into KeyCloak","body":"<p>As stated by ch4mp, I was trying to use spring-security 5 with spring-boot 3. As soon as a I removed all version from my POM it worked!</p>\n"}],"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76555477,"answer_count":1,"score":0,"last_activity_date":1687772676,"creation_date":1686835007,"question_id":76482897,"body_markdown":"**UPDATED FULL DESCRIPTION**\r\n\r\nHello all again,\r\n\r\nI am currently developing a demo prototype to secure a spring service through a Spring Gateway against a Keycloak. In a first step without any security implemented, I created the gateway and was able to redirect the traffic to the service but, unfortunately, as soon as I implemented the security it stopped working. \r\n\r\nTo my surprise, the gateway part seems to work fine and, after checking the keycloak dashboard,I can see that a client session had been created successfully (which means that my user/password is ok). I have also tested the user/password/client-secret against keycloak using Postman and it correctly returns the token. From my point of view, the gateway works fine. \r\n\r\nThe problem seems to come from the service part, which triggers the next error and is not even deployed:\r\n\r\n```\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.291Z DEBUG 1 --- [           main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.432Z  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.433Z  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.435Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.450Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.458Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\nmiddleware-tomcat-1      | \r\nmiddleware-tomcat-1      | Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.482Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\nmiddleware-tomcat-1      | \r\nmiddleware-tomcat-1      | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:174) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:154) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:96) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171) ~[spring-web-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4875) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.Catalina.start(Catalina.java:795) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347) ~[bootstrap.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478) ~[bootstrap.jar:10.1.7]\r\nmiddleware-tomcat-1      | Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \t... 60 common frames omitted\r\nmiddleware-tomcat-1      | Caused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.configure(OAuth2ResourceServerConfigurer.java:273) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.configure(OAuth2ResourceServerConfigurer.java:147) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:349) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:303) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat com.webdemo.SecurityConfiguration.filterChain(SecurityConfiguration.java:21) ~[classes/:1.0]\r\nmiddleware-tomcat-1      | \tat com.webdemo.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$filterChain$0(&lt;generated&gt;) ~[classes/:1.0]\r\nmiddleware-tomcat-1      | \tat com.webdemo.SecurityConfiguration$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat com.webdemo.SecurityConfiguration$$SpringCGLIB$$0.filterChain(&lt;generated&gt;) ~[classes/:1.0]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \t... 61 common frames omitted\r\nmiddleware-tomcat-1      | Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \t... 77 common frames omitted\r\nmiddleware-tomcat-1      | \r\nmiddleware-tomcat-1      | 19-Jun-2023 15:21:51.488 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [/usr/local/tomcat/webapps/webdemo-1.0.war]\r\nmiddleware-tomcat-1      | \tjava.lang.IllegalStateException: Error starting child\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nmiddleware-tomcat-1      | \t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nmiddleware-tomcat-1      | \t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\nmiddleware-tomcat-1      | \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nmiddleware-tomcat-1      | \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\nmiddleware-tomcat-1      | \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nmiddleware-tomcat-1      | \tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/webdemo-1.0]]\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\nmiddleware-tomcat-1      | \t\t... 37 more\r\nmiddleware-tomcat-1      | \tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\n\r\n```\r\n\r\n\r\nFollowing I paste the POM of the SERVICE:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.demoweb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;webdemo&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;webdemo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n\t\t&lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n &lt;/dependencies&gt;\r\n&lt;dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\t\t\t\r\n\t&lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt; \r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the SERVICE securityconfiguration class that I have been able to gather from several updated sources including official spring documentation:\r\n\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated()).oauth2ResourceServer((oauth2ResourceServer) -&gt; oauth2ResourceServer.jwt((jwt) -&gt; jwt.decoder(jwtDecoder())));\r\n        \r\n        return http.build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        return NimbusJwtDecoder.withJwkSetUri(&quot;http://[KEYCLOAK_IP:PORT]/realms/my-realm/protocol/openid-connect/certs&quot;).build();\r\n    } \r\n}\r\n```\r\n\r\n\r\nNext are the relevant properties from the SERVICE property file:\r\n\r\n    spring.security.oauth2.resourceserver.jwt.issuer-uri=http://[KEYCLOAK_IP:PORT]/realms/my-realm\r\n\r\n\r\nCan someone help me?\r\nThanks in advance!","title":"Invalid credentials when Spring Gateway logs in into KeyCloak","body":"<p><strong>UPDATED FULL DESCRIPTION</strong></p>\n<p>Hello all again,</p>\n<p>I am currently developing a demo prototype to secure a spring service through a Spring Gateway against a Keycloak. In a first step without any security implemented, I created the gateway and was able to redirect the traffic to the service but, unfortunately, as soon as I implemented the security it stopped working.</p>\n<p>To my surprise, the gateway part seems to work fine and, after checking the keycloak dashboard,I can see that a client session had been created successfully (which means that my user/password is ok). I have also tested the user/password/client-secret against keycloak using Postman and it correctly returns the token. From my point of view, the gateway works fine.</p>\n<p>The problem seems to come from the service part, which triggers the next error and is not even deployed:</p>\n<pre><code>middleware-tomcat-1      | 2023-06-19T15:21:51.291Z DEBUG 1 --- [           main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.432Z  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.433Z  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.435Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.450Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.458Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \nmiddleware-tomcat-1      | \nmiddleware-tomcat-1      | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.482Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\nmiddleware-tomcat-1      | \nmiddleware-tomcat-1      | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:174) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:154) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:96) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171) ~[spring-web-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4875) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.Catalina.start(Catalina.java:795) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347) ~[bootstrap.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478) ~[bootstrap.jar:10.1.7]\nmiddleware-tomcat-1      | Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  ... 60 common frames omitted\nmiddleware-tomcat-1      | Caused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.configure(OAuth2ResourceServerConfigurer.java:273) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.configure(OAuth2ResourceServerConfigurer.java:147) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:349) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:303) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at com.webdemo.SecurityConfiguration.filterChain(SecurityConfiguration.java:21) ~[classes/:1.0]\nmiddleware-tomcat-1      |  at com.webdemo.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$filterChain$0(&lt;generated&gt;) ~[classes/:1.0]\nmiddleware-tomcat-1      |  at com.webdemo.SecurityConfiguration$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:1.0]\nmiddleware-tomcat-1      |  at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at com.webdemo.SecurityConfiguration$$SpringCGLIB$$0.filterChain(&lt;generated&gt;) ~[classes/:1.0]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  ... 61 common frames omitted\nmiddleware-tomcat-1      | Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      |  at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  ... 77 common frames omitted\nmiddleware-tomcat-1      | \nmiddleware-tomcat-1      | 19-Jun-2023 15:21:51.488 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [/usr/local/tomcat/webapps/webdemo-1.0.war]\nmiddleware-tomcat-1      |  java.lang.IllegalStateException: Error starting child\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nmiddleware-tomcat-1      |      at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nmiddleware-tomcat-1      |      at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\nmiddleware-tomcat-1      |      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nmiddleware-tomcat-1      |      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nmiddleware-tomcat-1      |      at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nmiddleware-tomcat-1      |      at java.base/java.lang.reflect.Method.invoke(Method.java:568)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nmiddleware-tomcat-1      |  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/webdemo-1.0]]\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\nmiddleware-tomcat-1      |      ... 37 more\nmiddleware-tomcat-1      |  Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\n\n</code></pre>\n<p>Following I paste the POM of the SERVICE:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demoweb&lt;/groupId&gt;\n    &lt;artifactId&gt;webdemo&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;webdemo&lt;/name&gt;\n    &lt;description&gt;Demo project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n &lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;           \n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt; \n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the SERVICE securityconfiguration class that I have been able to gather from several updated sources including official spring documentation:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n\n@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated()).oauth2ResourceServer((oauth2ResourceServer) -&gt; oauth2ResourceServer.jwt((jwt) -&gt; jwt.decoder(jwtDecoder())));\n        \n        return http.build();\n    }\n\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withJwkSetUri(&quot;http://[KEYCLOAK_IP:PORT]/realms/my-realm/protocol/openid-connect/certs&quot;).build();\n    } \n}\n</code></pre>\n<p>Next are the relevant properties from the SERVICE property file:</p>\n<pre><code>spring.security.oauth2.resourceserver.jwt.issuer-uri=http://[KEYCLOAK_IP:PORT]/realms/my-realm\n</code></pre>\n<p>Can someone help me?\nThanks in advance!</p>\n"},{"tags":["java","nginx","redirect","cookies"],"owner":{"account_id":8780355,"reputation":180,"user_id":6564151,"accept_rate":50,"display_name":"Rus9Mus9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687772603,"creation_date":1687772603,"question_id":76555470,"body_markdown":"There are 2 urls used in Java app (nginx is used as reversed proxy) that may vary depending on if the user is logged in or not.\r\n\r\nThe urls are as follows:\r\n- example.*.com (if the user is not logged in)\r\n- my.example.*.com (if the user is logged in)\r\n\r\n\r\nOn the main page **(example.*.com)** there&#39;s a button that can be clicked only if the user is logged in. Normally, the path is **my.example.*.com** but when the user enters **example.*.com**  directly in URL address bar and clicks the button, the following happens:\r\n\r\n1. First POST request that goes to **example.*.com** and redirects (307) the user.\r\n2. Second POST request that makes a call to **my.example.*.com** and returns 403.\r\n\r\nFrom what I could gather, the second request fails because there are no credentials passed.\r\n\r\nTo make the question complete, I include the both requests full info (I apologise in advance if there&#39;s influx of redundant info).\r\n\r\nThe 1st request:\r\n\r\n```\r\nGeneral:\r\n\r\nRequest URL: https://example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\r\nRequest Method: POST\r\nStatus Code: 307 Temporary Redirect\r\nRemote Address: *the IP*:443\r\nReferrer Policy: strict-origin-when-cross-origin\r\n\r\nRequest Headers:\r\n\r\nPOST /subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348 HTTP/1.1\r\nAccept: application/json\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7\r\nConnection: keep-alive\r\nContent-Length: 0\r\nCookie: *lots of cookies, including auth ones*\r\nHost: example.*.com\r\nOrigin: https://example.*.com\r\nReferer: https://example.*.com/\r\nSec-Fetch-Dest: empty\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Site: same-origin\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\r\nsec-ch-ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;macOS&quot;\r\n\r\nResponse Headers:\r\n\r\nHTTP/1.1 307 Temporary Redirect\r\nDate: Mon, 26 Jun 2023 06:31:24 GMT\r\nContent-Length: 0\r\nConnection: keep-alive\r\nLocation: https://my.example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\r\nServer: &quot;&quot;\r\nX-UA-Compatible: IE=Edge\r\nX-Frame-Options: SAMEORIGIN\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 1; mode=block\r\nContent-Security-Policy: upgrade-insecure-requests; frame-ancestors &#39;self&#39; http://webvisor.com https://webvisor.com\r\nStrict-Transport-Security: max-age=16070400\r\n```\r\n\r\nAnd the second one:\r\n\r\n```\r\nGeneral:\r\n\r\nRequest URL:\r\nhttps://my.example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\r\nRequest Method: POST\r\nStatus Code: 403 Forbidden\r\nReferrer Policy: strict-origin-when-cross-origin\r\n\r\nRequest Headers:\r\n\r\nPOST /subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348 HTTP/1.1\r\nAccept: application/json\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7\r\nConnection: keep-alive\r\nContent-Length: 0\r\nHost: my.example.*.com\r\nOrigin: https://example.*.com\r\nReferer: https://example.*.com/\r\nSec-Fetch-Dest: empty\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Site: same-site\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\r\nsec-ch-ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;macOS&quot;\r\n\r\nResponse Headers:\r\n\r\nHTTP/1.1 403 Forbidden\r\nDate: Mon, 26 Jun 2023 06:31:24 GMT\r\nContent-Type: text/html;charset=utf-8\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nVary: Accept-Encoding\r\nSet-Cookie: route_rest=bcf61aa8605ad5d73b2d8d03430237d9; Path=/\r\nVary: Accept-Encoding\r\nSet-Cookie: JSESSIONID=LyjOf6xIZmrC3rtmO58kWTfT; (*different from JSESSIONID in previous request*) Path=/subscribe\r\nUnauthenticated: true\r\nServer: &quot;&quot;\r\nX-UA-Compatible: IE=Edge\r\nX-Frame-Options: SAMEORIGIN\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 1; mode=block\r\nContent-Security-Policy: upgrade-insecure-requests; frame-ancestors &#39;self&#39; http://webvisor.com https://webvisor.com\r\nContent-Encoding: gzip\r\nStrict-Transport-Security: max-age=16070400\r\n```\r\n\r\nTo make sure that the problem has to do with cookies, I took the original request (the one that returns 307) and changed the path from just **example.*.com** to **my.example.*.com** in Postman. It worked and returned me 200.\r\n\r\nWhat seems to be the problem? Is there a way to make nginx include cookies on subsequent request or is the problem has to do with something else? \r\n\r\nHaving revised nginx configuration file, found this only:\r\n\r\n```\r\nserver {\r\n    listen       80;\r\n    server_name  my.example.*.com;\r\n    server_tokens off;\r\n\r\n    access_log  /var/log/nginx/access.log  main;\r\n\r\n    return       301 https://my.example.*.com$request_uri; \r\n}\r\n```\r\n\r\nBut apparently, it has nothing to do with the problem and served for http to https proxying only","title":"Passing cookies in nginx on subsequent request does not work","body":"<p>There are 2 urls used in Java app (nginx is used as reversed proxy) that may vary depending on if the user is logged in or not.</p>\n<p>The urls are as follows:</p>\n<ul>\n<li>example.*.com (if the user is not logged in)</li>\n<li>my.example.*.com (if the user is logged in)</li>\n</ul>\n<p>On the main page <strong>(example.*.com)</strong> there's a button that can be clicked only if the user is logged in. Normally, the path is <strong>my.example.*.com</strong> but when the user enters <strong>example.*.com</strong>  directly in URL address bar and clicks the button, the following happens:</p>\n<ol>\n<li>First POST request that goes to <strong>example.*.com</strong> and redirects (307) the user.</li>\n<li>Second POST request that makes a call to <strong>my.example.*.com</strong> and returns 403.</li>\n</ol>\n<p>From what I could gather, the second request fails because there are no credentials passed.</p>\n<p>To make the question complete, I include the both requests full info (I apologise in advance if there's influx of redundant info).</p>\n<p>The 1st request:</p>\n<pre><code>General:\n\nRequest URL: https://example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\nRequest Method: POST\nStatus Code: 307 Temporary Redirect\nRemote Address: *the IP*:443\nReferrer Policy: strict-origin-when-cross-origin\n\nRequest Headers:\n\nPOST /subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348 HTTP/1.1\nAccept: application/json\nAccept-Encoding: gzip, deflate, br\nAccept-Language: ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7\nConnection: keep-alive\nContent-Length: 0\nCookie: *lots of cookies, including auth ones*\nHost: example.*.com\nOrigin: https://example.*.com\nReferer: https://example.*.com/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-origin\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\nsec-ch-ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;macOS&quot;\n\nResponse Headers:\n\nHTTP/1.1 307 Temporary Redirect\nDate: Mon, 26 Jun 2023 06:31:24 GMT\nContent-Length: 0\nConnection: keep-alive\nLocation: https://my.example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\nServer: &quot;&quot;\nX-UA-Compatible: IE=Edge\nX-Frame-Options: SAMEORIGIN\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nContent-Security-Policy: upgrade-insecure-requests; frame-ancestors 'self' http://webvisor.com https://webvisor.com\nStrict-Transport-Security: max-age=16070400\n</code></pre>\n<p>And the second one:</p>\n<pre><code>General:\n\nRequest URL:\nhttps://my.example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\nRequest Method: POST\nStatus Code: 403 Forbidden\nReferrer Policy: strict-origin-when-cross-origin\n\nRequest Headers:\n\nPOST /subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348 HTTP/1.1\nAccept: application/json\nAccept-Encoding: gzip, deflate, br\nAccept-Language: ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7\nConnection: keep-alive\nContent-Length: 0\nHost: my.example.*.com\nOrigin: https://example.*.com\nReferer: https://example.*.com/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-site\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\nsec-ch-ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;macOS&quot;\n\nResponse Headers:\n\nHTTP/1.1 403 Forbidden\nDate: Mon, 26 Jun 2023 06:31:24 GMT\nContent-Type: text/html;charset=utf-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nVary: Accept-Encoding\nSet-Cookie: route_rest=bcf61aa8605ad5d73b2d8d03430237d9; Path=/\nVary: Accept-Encoding\nSet-Cookie: JSESSIONID=LyjOf6xIZmrC3rtmO58kWTfT; (*different from JSESSIONID in previous request*) Path=/subscribe\nUnauthenticated: true\nServer: &quot;&quot;\nX-UA-Compatible: IE=Edge\nX-Frame-Options: SAMEORIGIN\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nContent-Security-Policy: upgrade-insecure-requests; frame-ancestors 'self' http://webvisor.com https://webvisor.com\nContent-Encoding: gzip\nStrict-Transport-Security: max-age=16070400\n</code></pre>\n<p>To make sure that the problem has to do with cookies, I took the original request (the one that returns 307) and changed the path from just <strong>example.*.com</strong> to <strong>my.example.*.com</strong> in Postman. It worked and returned me 200.</p>\n<p>What seems to be the problem? Is there a way to make nginx include cookies on subsequent request or is the problem has to do with something else?</p>\n<p>Having revised nginx configuration file, found this only:</p>\n<pre><code>server {\n    listen       80;\n    server_name  my.example.*.com;\n    server_tokens off;\n\n    access_log  /var/log/nginx/access.log  main;\n\n    return       301 https://my.example.*.com$request_uri; \n}\n</code></pre>\n<p>But apparently, it has nothing to do with the problem and served for http to https proxying only</p>\n"},{"tags":["java","maven","ssl"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687771314,"post_id":76555298,"comment_id":134978043,"body_markdown":"Download the certificate and add it to your jvm keystore. Disabling the ssl check is not a good (or a very bad) idea","body":"Download the certificate and add it to your jvm keystore. Disabling the ssl check is not a good (or a very bad) idea"},{"owner":{"account_id":18953786,"reputation":51,"user_id":13830842,"display_name":"Alejandro Pacheco Tejeda"},"score":0,"creation_date":1687771703,"post_id":76555298,"comment_id":134978119,"body_markdown":"I&#39;ve done it already, but as I said, the API is in a remote machine so it will always give this error, also this is for testing, no need of certifications for now","body":"I&#39;ve done it already, but as I said, the API is in a remote machine so it will always give this error, also this is for testing, no need of certifications for now"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687771981,"post_id":76555298,"comment_id":134978177,"body_markdown":"*the API is in a remote machine so it will always give this error* isn&#39;t that (virtually) *always* the case? Anyway, [loads](https://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https) of stuff on this","body":"<i>the API is in a remote machine so it will always give this error</i> isn&#39;t that (virtually) <i>always</i> the case? Anyway, <a href=\"https://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https\">loads</a> of stuff on this"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687773049,"post_id":76555298,"comment_id":134978408,"body_markdown":"Based on that `-Dmaven.wagon.http.ssl.insecure=true` are you really using somewhere WAGON? How does your pom file look like?","body":"Based on that <code>-Dmaven.wagon.http.ssl.insecure=true</code> are you really using somewhere WAGON? How does your pom file look like?"}],"answers":[{"tags":[],"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1687772084,"creation_date":1687772084,"answer_id":76555409,"question_id":76555298,"body_markdown":"Do not disable SSL checks. \r\nYou have to import the whole certificate-chain into your keystore.\r\n\r\nYour program then need to add the truststore properties:\r\n\r\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;clientTrustStore.key&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;qwerty&quot;);\r\n\r\n[Oracle Running the client with SSL/TLS][1]\r\n\r\n[Difference between Key and Trust-Store][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javadb/10.8.3.0/adminguide/cadminsslclient.html\r\n  [2]: https://www.baeldung.com/java-keystore-truststore-difference","title":"How to disable SSL certificate checks in Java project?","body":"<p>Do not disable SSL checks.\nYou have to import the whole certificate-chain into your keystore.</p>\n<p>Your program then need to add the truststore properties:</p>\n<p>System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;clientTrustStore.key&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;qwerty&quot;);</p>\n<p><a href=\"https://docs.oracle.com/javadb/10.8.3.0/adminguide/cadminsslclient.html\" rel=\"nofollow noreferrer\">Oracle Running the client with SSL/TLS</a></p>\n<p><a href=\"https://www.baeldung.com/java-keystore-truststore-difference\" rel=\"nofollow noreferrer\">Difference between Key and Trust-Store</a></p>\n"}],"owner":{"account_id":18953786,"reputation":51,"user_id":13830842,"display_name":"Alejandro Pacheco Tejeda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2000,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1687772084,"creation_date":1687771207,"question_id":76555298,"body_markdown":"I&#39;m getting this error all the time while trying to connect to a remote machine&#39;s API and I certainly do not need to check it&#39;s certificate when connecting.\r\n\r\n    ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nHow can I get rid of this validation? I&#39;ve set these variables on my JVM:\r\n\r\n    -Dcom.sun.net.ssl.checkRevocation=false -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true\r\n\r\nI&#39;m using Java 17, with Maven and using Eclipse Spring Tool Suite 4.","title":"How to disable SSL certificate checks in Java project?","body":"<p>I'm getting this error all the time while trying to connect to a remote machine's API and I certainly do not need to check it's certificate when connecting.</p>\n<pre><code>ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>How can I get rid of this validation? I've set these variables on my JVM:</p>\n<pre><code>-Dcom.sun.net.ssl.checkRevocation=false -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true\n</code></pre>\n<p>I'm using Java 17, with Maven and using Eclipse Spring Tool Suite 4.</p>\n"},{"tags":["java","android","scrollview","android-videoview"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1687579439,"post_id":76540411,"comment_id":134960362,"body_markdown":"Use their onPause and onResume i guess","body":"Use their onPause and onResume i guess"}],"answers":[{"tags":[],"owner":{"account_id":7885876,"reputation":271,"user_id":5957968,"display_name":"Amit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687771553,"creation_date":1687771553,"answer_id":76555345,"question_id":76540411,"body_markdown":"I resolved it with create CustomViewPager.","title":"VideoView scroll play previous video&#39;s audio when scroll and go to next video","body":"<p>I resolved it with create CustomViewPager.</p>\n"}],"owner":{"account_id":7885876,"reputation":271,"user_id":5957968,"display_name":"Amit Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76555345,"answer_count":1,"score":0,"last_activity_date":1687771553,"creation_date":1687525518,"question_id":76540411,"body_markdown":"\r\n    private final ViewPager.OnPageChangeListener pageChangeListener = new ViewPager.OnPageChangeListener() {\r\n        int currentPosition = 0;\r\n\r\n        @Override\r\n        public void onPageSelected(int newPosition) {\r\n            FragmentLifecycle fragmentToShow = (FragmentLifecycle) viewPagerAdapter.getItem(newPosition);\r\n            fragmentToShow.onResumeFragment();\r\n            FragmentLifecycle fragmentToHide = (FragmentLifecycle) viewPagerAdapter.getItem(currentPosition);\r\n            fragmentToHide.onPauseFragment();\r\n            currentPosition = newPosition;\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onPageScrolled(int arg0, float arg1, int arg2) {\r\n\r\n\r\n        }\r\n\r\n        public void onPageScrollStateChanged(int arg0) {\r\n\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n        @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n    }\r\n\r\n    private void DeleteRecursive(File fileOrDirectory) {\r\n        if (fileOrDirectory.isDirectory())\r\n            for (File child : fileOrDirectory.listFiles()) {\r\n                child.delete();\r\n                DeleteRecursive(child);\r\n            }\r\n\r\n        fileOrDirectory.delete();\r\n    }\r\n\r\n\r\n  \r\nWhen i scroll half previous video playing and also next video start playing but i want like instagram when previous video getout from screen then next video play, any Idea or code? please suggest.","title":"VideoView scroll play previous video&#39;s audio when scroll and go to next video","body":"<pre><code>private final ViewPager.OnPageChangeListener pageChangeListener = new ViewPager.OnPageChangeListener() {\n    int currentPosition = 0;\n\n    @Override\n    public void onPageSelected(int newPosition) {\n        FragmentLifecycle fragmentToShow = (FragmentLifecycle) viewPagerAdapter.getItem(newPosition);\n        fragmentToShow.onResumeFragment();\n        FragmentLifecycle fragmentToHide = (FragmentLifecycle) viewPagerAdapter.getItem(currentPosition);\n        fragmentToHide.onPauseFragment();\n        currentPosition = newPosition;\n\n    }\n\n    @Override\n    public void onPageScrolled(int arg0, float arg1, int arg2) {\n\n\n    }\n\n    public void onPageScrollStateChanged(int arg0) {\n\n    }\n};\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n}\n\n    @Override\nprotected void onPause() {\n    super.onPause();\n}\n\nprivate void DeleteRecursive(File fileOrDirectory) {\n    if (fileOrDirectory.isDirectory())\n        for (File child : fileOrDirectory.listFiles()) {\n            child.delete();\n            DeleteRecursive(child);\n        }\n\n    fileOrDirectory.delete();\n}\n</code></pre>\n<p>When i scroll half previous video playing and also next video start playing but i want like instagram when previous video getout from screen then next video play, any Idea or code? please suggest.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529038791,"creation_date":1529038791,"answer_id":50869339,"question_id":50869316,"body_markdown":"As per [manage().window().maximize() method not maximize a correct window](https://bugs.chromium.org/p/chromedriver/issues/detail?id=596) using `driver.manage().window().maximize();` to maximize the `Chrome Browser` is not the optimum way. Instead use **ChromeOptions** to maximize the _Chrome Browser_ as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;start-maximized&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);\r\n\r\nTo open _Chrome Browser_ in `kiosk` mode you can also use:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--kiosk&quot;);\r\n    return new ChromeDriver(options); \r\n\r\n   \r\n\r\nAs an alternative you can also use the argument **`window-size`** as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;window-size=1400,600&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);","title":"driver.manage().window().maximize() is not working for chrome in Selenium","body":"<p>As per <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=596\" rel=\"nofollow noreferrer\">manage().window().maximize() method not maximize a correct window</a> using <code>driver.manage().window().maximize();</code> to maximize the <code>Chrome Browser</code> is not the optimum way. Instead use <strong>ChromeOptions</strong> to maximize the <em>Chrome Browser</em> as follows:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"start-maximized\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>To open <em>Chrome Browser</em> in <code>kiosk</code> mode you can also use:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--kiosk\");\nreturn new ChromeDriver(options); \n</code></pre>\n\n<p>As an alternative you can also use the argument <strong><code>window-size</code></strong> as follows:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"window-size=1400,600\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9360928,"reputation":49,"user_id":6947280,"display_name":"Mohit Jaiswal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592903674,"creation_date":1529038908,"answer_id":50869357,"question_id":50869316,"body_markdown":"    driver.manage().window().maximize(); \r\n\r\n**Replace to** \r\n\r\n    driver.manage().window().fullscreen(); \r\n\r\nAnd it&#39;s working","title":"driver.manage().window().maximize() is not working for chrome in Selenium","body":"<pre><code>driver.manage().window().maximize(); \n</code></pre>\n<p><strong>Replace to</strong></p>\n<pre><code>driver.manage().window().fullscreen(); \n</code></pre>\n<p>And it's working</p>\n"}],"owner":{"account_id":9360928,"reputation":49,"user_id":6947280,"display_name":"Mohit Jaiswal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7503,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1687771198,"creation_date":1529038585,"question_id":50869316,"body_markdown":"In Selenium, I am facing some issue when open browser in chrome then full screen is not working.\r\n\r\n    driver.manage().window().maximize();","title":"driver.manage().window().maximize() is not working for chrome in Selenium","body":"<p>In Selenium, I am facing some issue when open browser in chrome then full screen is not working.</p>\n<pre><code>driver.manage().window().maximize();\n</code></pre>\n"},{"tags":["java","linux","neovim","liskov-substitution-principle"],"answers":[{"tags":[],"owner":{"account_id":13020981,"reputation":55,"user_id":9410428,"display_name":"cminusminus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687771040,"creation_date":1687771040,"answer_id":76555279,"question_id":76459274,"body_markdown":"Unsure if you&#39;ve resolved this but I&#39;ll comment for others searching for answers.\r\n\r\nWhenever I run into trouble installing lsp on a new nvim setup, the issue tends to be related to me not having a dependency installed. \r\n\r\nThings to try:\r\n\r\n - Install/Update Java\r\n - Change the permissions for bash on your zsh (`chmod +x /bin/bash`)\r\n - Check you have all dependencies installed for `java-language-server`\r\n - Use `jdtls` instead","title":"Unable to install java-language-server with mason lsp-zero","body":"<p>Unsure if you've resolved this but I'll comment for others searching for answers.</p>\n<p>Whenever I run into trouble installing lsp on a new nvim setup, the issue tends to be related to me not having a dependency installed.</p>\n<p>Things to try:</p>\n<ul>\n<li>Install/Update Java</li>\n<li>Change the permissions for bash on your zsh (<code>chmod +x /bin/bash</code>)</li>\n<li>Check you have all dependencies installed for <code>java-language-server</code></li>\n<li>Use <code>jdtls</code> instead</li>\n</ul>\n"}],"owner":{"account_id":26790864,"reputation":31,"user_id":20384295,"display_name":"Shlok V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687771040,"creation_date":1686593598,"question_id":76459274,"body_markdown":"I am using lsp-zero which uses mason to install everything but whenever I try to install java-language-server I get the error.\r\n\r\nAny help is appreciated.\r\n\r\nWhenever i do :LspInstall and choose the first option it shows this\r\n\r\n    \\[8/8\\] spawn: bash failed with exit code 127 and signal 0.\r\n\r\nI already tried installing diff versions of java-language-server but didn&#39;t work.","title":"Unable to install java-language-server with mason lsp-zero","body":"<p>I am using lsp-zero which uses mason to install everything but whenever I try to install java-language-server I get the error.</p>\n<p>Any help is appreciated.</p>\n<p>Whenever i do :LspInstall and choose the first option it shows this</p>\n<pre><code>\\[8/8\\] spawn: bash failed with exit code 127 and signal 0.\n</code></pre>\n<p>I already tried installing diff versions of java-language-server but didn't work.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687770821,"creation_date":1687766394,"answer_id":76554671,"question_id":76554516,"body_markdown":"&lt;strike&gt;Yes you can.\r\n\r\n`mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt;`\r\n\r\nhttps://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\r\n&lt;/strike&gt;\r\n\r\nEdit: I did not understand what you want to do (Thank you to the comment). If you want add a dependency using the terminal, currently not exist a command from maven to do that. You could made a script to include the text in your pom, but still something you need elaborate by yourself. So the sort answer is &quot;no, you can&#39;t&quot; ","title":"Can we add dependencies in POM.xml file using commands in terminal in Springboot..?","body":"<p><strike>Yes you can.</p>\n<p><code>mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt;</code></p>\n<p><a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a>\n</strike></p>\n<p>Edit: I did not understand what you want to do (Thank you to the comment). If you want add a dependency using the terminal, currently not exist a command from maven to do that. You could made a script to include the text in your pom, but still something you need elaborate by yourself. So the sort answer is &quot;no, you can't&quot;</p>\n"}],"owner":{"account_id":28879742,"reputation":1,"user_id":22119456,"display_name":"Gokul Krishnan J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687770821,"creation_date":1687765152,"question_id":76554516,"body_markdown":"Adding dependencies in POM.xml file using terminal..?\r\n\r\n\r\nWhile working in Springboot I have added dependencies in POM.xml manually,when i am  working some annotations have to add while working I have to add it automatically using terminal commands.","title":"Can we add dependencies in POM.xml file using commands in terminal in Springboot..?","body":"<p>Adding dependencies in POM.xml file using terminal..?</p>\n<p>While working in Springboot I have added dependencies in POM.xml manually,when i am  working some annotations have to add while working I have to add it automatically using terminal commands.</p>\n"},{"tags":["java","selenium-webdriver","testing","browser","automation"],"owner":{"account_id":22353163,"reputation":31,"user_id":16570902,"display_name":"Saravanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687770721,"creation_date":1687770721,"question_id":76555227,"body_markdown":"Here&#39;s the java code I&#39;m using:\r\n\r\n```\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class ExistingBrowser {\r\npublic static void main(String[] args) {\r\n// Specify the path to the existing Chrome user profile directory\r\nString userProfileDir = &quot;C:\\\\Users\\\\VS\\_\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data\\\\Profile 6&quot;;\r\n\r\n        // Set the path to the ChromeDriver executable\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,  &quot;C:\\\\Users\\\\chromedriver.exe&quot;);\r\n    \r\n     // Create ChromeOptions instance and set the user data directory and the &quot;no-first-run&quot; flag\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;user-data-dir=&quot; + userProfileDir);\r\n        options.addArguments(&quot;no-first-run&quot;);\r\n    \r\n        // Create a WebDriver instance with the ChromeOptions\r\n        WebDriver driver = new ChromeDriver(options);\r\n    \r\n        // Perform further operations using the driver\r\n        driver.get(&quot;https://www.example.com&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have verified that the userProfileDir path is correct and points to an existing user profile directory on my system. However, every time I run the code, it opens a new Chrome window instead of using the specified user profile.\r\n\r\nI have also tried using the --no-first-run argument in the ChromeOptions but it didn&#39;t make any difference.\r\n\r\nI&#39;m using Selenium version **3.141.59** and ChromeDriver version **114.0.5735.90** My Chrome browser version is \\*\\*114.0.5735.134 (Official Build) (64-bit)\r\n\\*\\*\r\n\r\nI am attempting to open an existing Chrome user profile using Selenium in Java, but I am encountering difficulties. I want to achieve the following behavior:\r\n\r\n- Launch Chrome using an existing user profile, preserving all saved data, bookmarks, and preferences associated with that profile.\r\n- Ensure that the opened Chrome window is connected to the specified user profile and not creating a new profile.\r\n\r\nAny help or suggestions on how to open an existing Chrome user profile using Selenium in Java would be greatly appreciated. Thank you in advance!","title":"why my selenium code seems to be opening a new user profile window instead of using the specified user profile","body":"<p>Here's the java code I'm using:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class ExistingBrowser {\npublic static void main(String[] args) {\n// Specify the path to the existing Chrome user profile directory\nString userProfileDir = &quot;C:\\\\Users\\\\VS\\_\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data\\\\Profile 6&quot;;\n\n        // Set the path to the ChromeDriver executable\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,  &quot;C:\\\\Users\\\\chromedriver.exe&quot;);\n    \n     // Create ChromeOptions instance and set the user data directory and the &quot;no-first-run&quot; flag\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;user-data-dir=&quot; + userProfileDir);\n        options.addArguments(&quot;no-first-run&quot;);\n    \n        // Create a WebDriver instance with the ChromeOptions\n        WebDriver driver = new ChromeDriver(options);\n    \n        // Perform further operations using the driver\n        driver.get(&quot;https://www.example.com&quot;);\n    }\n\n}\n</code></pre>\n<p>I have verified that the userProfileDir path is correct and points to an existing user profile directory on my system. However, every time I run the code, it opens a new Chrome window instead of using the specified user profile.</p>\n<p>I have also tried using the --no-first-run argument in the ChromeOptions but it didn't make any difference.</p>\n<p>I'm using Selenium version <strong>3.141.59</strong> and ChromeDriver version <strong>114.0.5735.90</strong> My Chrome browser version is **114.0.5735.134 (Official Build) (64-bit)\n**</p>\n<p>I am attempting to open an existing Chrome user profile using Selenium in Java, but I am encountering difficulties. I want to achieve the following behavior:</p>\n<ul>\n<li>Launch Chrome using an existing user profile, preserving all saved data, bookmarks, and preferences associated with that profile.</li>\n<li>Ensure that the opened Chrome window is connected to the specified user profile and not creating a new profile.</li>\n</ul>\n<p>Any help or suggestions on how to open an existing Chrome user profile using Selenium in Java would be greatly appreciated. Thank you in advance!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9646,"page":346,"page_size":100}
