{"items":[{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":7381613,"reputation":1149,"user_id":5618126,"display_name":"metadata"},"score":1,"creation_date":1647852551,"post_id":71554846,"comment_id":126466109,"body_markdown":"What do you mean by `But there is no image in docker and nothing running there.`? Did you check the image using the command `docker images -a` and the container using `docker ps -a`?","body":"What do you mean by <code>But there is no image in docker and nothing running there.</code>? Did you check the image using the command <code>docker images -a</code> and the container using <code>docker ps -a</code>?"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1647852633,"post_id":71554846,"comment_id":126466135,"body_markdown":"please paste the command to run docker build as well as the full output.","body":"please paste the command to run docker build as well as the full output."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1647852987,"post_id":71554846,"comment_id":126466248,"body_markdown":"`docker build` only creates an image, it doesn&#39;t run your app. What makes you think your app started?","body":"<code>docker build</code> only creates an image, it doesn&#39;t run your app. What makes you think your app started?"},{"owner":{"display_name":"user15676007"},"score":0,"creation_date":1647853168,"post_id":71554846,"comment_id":126466315,"body_markdown":"@metadata yes I have run does commands and nothing except for the headers in the result","body":"@metadata yes I have run does commands and nothing except for the headers in the result"},{"owner":{"account_id":17355454,"reputation":648,"user_id":12572966,"display_name":"Ankit"},"score":1,"creation_date":1647853178,"post_id":71554846,"comment_id":126466317,"body_markdown":"How you started your app? If image is not ready? you must have ran docker run &lt;image&gt;. What is the value of image you used? Please share commands and logs","body":"How you started your app? If image is not ready? you must have ran docker run &lt;image&gt;. What is the value of image you used? Please share commands and logs"},{"owner":{"display_name":"user15676007"},"score":0,"creation_date":1647853289,"post_id":71554846,"comment_id":126466341,"body_markdown":"@LeiYang I think the command is in my question already.    docker build -t testapp .","body":"@LeiYang I think the command is in my question already.    docker build -t testapp ."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647853442,"post_id":71554846,"comment_id":126466387,"body_markdown":"we need the full output.","body":"we need the full output."},{"owner":{"display_name":"user15676007"},"score":0,"creation_date":1647854327,"post_id":71554846,"comment_id":126466687,"body_markdown":"I found out that test was starting so by setting &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt; the build was finished and I got the image which I now can start. So basically I was doing the right thing but the build was not finally built due to test started and no image was created.","body":"I found out that test was starting so by setting &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt; the build was finished and I got the image which I now can start. So basically I was doing the right thing but the build was not finally built due to test started and no image was created."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647877828,"post_id":71554846,"comment_id":126476065,"body_markdown":"so your question isn&#39;t a question at all. you thought docker wasn&#39;t build, but it is in build process(running tests). you thought the container was running, but it is the tests running, before docker build completed.","body":"so your question isn&#39;t a question at all. you thought docker wasn&#39;t build, but it is in build process(running tests). you thought the container was running, but it is the tests running, before docker build completed."}],"answers":[{"tags":[],"owner":{"account_id":6512590,"reputation":578,"user_id":5039356,"display_name":"Vineesh Vijayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647852773,"creation_date":1647852773,"answer_id":71554915,"question_id":71554846,"body_markdown":"docker build will only build docker image\r\nif you want to run the image in your docker try running the command \r\n\r\n    docker run  testapp\r\n\r\ndocker build [builds a new image from the source code][1].\r\n\r\ndocker [create creates a writeable container from the image and prepares it for running.][2]\r\n\r\ndocker run [creates the container (same as docker create) and runs it.][3]\r\n\r\n\r\n  [1]: https://docs.docker.com/engine/reference/commandline/build/\r\n  [2]: https://docs.docker.com/engine/reference/commandline/create/\r\n  [3]: https://docs.docker.com/engine/reference/commandline/run/","title":"Docker build does not create an image but the application starts anyway","body":"<p>docker build will only build docker image\nif you want to run the image in your docker try running the command</p>\n<pre><code>docker run  testapp\n</code></pre>\n<p>docker build <a href=\"https://docs.docker.com/engine/reference/commandline/build/\" rel=\"nofollow noreferrer\">builds a new image from the source code</a>.</p>\n<p>docker <a href=\"https://docs.docker.com/engine/reference/commandline/create/\" rel=\"nofollow noreferrer\">create creates a writeable container from the image and prepares it for running.</a></p>\n<p>docker run <a href=\"https://docs.docker.com/engine/reference/commandline/run/\" rel=\"nofollow noreferrer\">creates the container (same as docker create) and runs it.</a></p>\n"},{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647853157,"creation_date":1647853157,"answer_id":71554996,"question_id":71554846,"body_markdown":"The command you are running, `docker build -t testapp .`, only creates the docker image that you can check with the command someone stated in the comments : `docker images -a`.\r\n\r\nTo run the image in a docker container you must use the run command : `docker run testapp`. Then you will see the container in the Docker app.","title":"Docker build does not create an image but the application starts anyway","body":"<p>The command you are running, <code>docker build -t testapp .</code>, only creates the docker image that you can check with the command someone stated in the comments : <code>docker images -a</code>.</p>\n<p>To run the image in a docker container you must use the run command : <code>docker run testapp</code>. Then you will see the container in the Docker app.</p>\n"},{"tags":[],"owner":{"display_name":"user15676007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647875634,"creation_date":1647875634,"answer_id":71559878,"question_id":71554846,"body_markdown":"I was doing everything correct except for that when I thought the image was ready/built I run test of my java application that looked as the application had started.  \r\n\r\nBy setting &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt; I skipped the test and the build was finished. I got the image which I now can start. Thank you all for your question and assistance.","title":"Docker build does not create an image but the application starts anyway","body":"<p>I was doing everything correct except for that when I thought the image was ready/built I run test of my java application that looked as the application had started.</p>\n<p>By setting &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt; I skipped the test and the build was finished. I got the image which I now can start. Thank you all for your question and assistance.</p>\n"}],"owner":{"display_name":"user15676007"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4815,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1647875634,"creation_date":1647852379,"question_id":71554846,"body_markdown":"Currently I am running windows with docker for windows installed.\r\nI have made a java application in Spring Boot that I want to build an image of and run in a docker container.\r\n\r\nWhat am I doing wrong?\r\nWhen I run the bellow and can see in my cmd prompt that the application starts and run. But there is no image in in docker and nothing running there.\r\n\r\n    #\r\n    # Build stage\r\n    #\r\n    FROM maven:3.8.4-openjdk-17 AS build\r\n    COPY src /test/src\r\n    COPY pom.xml /test\r\n    #RUN mvn -f /test/pom.xml clean package\r\n    RUN mvn -f /test/pom.xml clean package\r\n    \r\n    #\r\n    # Package stage\r\n    #\r\n    FROM openjdk:17-alpine\r\n    COPY --from=build /test/target/test-0.0.1-SNAPSHOT.jar /usr/local/lib/test.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/test.jar&quot;]\r\n\r\n\r\nWhat am I missing?\r\n\r\nI have the application in a folder /test and the Dockerfile is also under /test. I go to this location in the cmd prompt and enter:\r\n\r\ndocker build -t testapp .\r\n","title":"Docker build does not create an image but the application starts anyway","body":"<p>Currently I am running windows with docker for windows installed.\nI have made a java application in Spring Boot that I want to build an image of and run in a docker container.</p>\n<p>What am I doing wrong?\nWhen I run the bellow and can see in my cmd prompt that the application starts and run. But there is no image in in docker and nothing running there.</p>\n<pre><code>#\n# Build stage\n#\nFROM maven:3.8.4-openjdk-17 AS build\nCOPY src /test/src\nCOPY pom.xml /test\n#RUN mvn -f /test/pom.xml clean package\nRUN mvn -f /test/pom.xml clean package\n\n#\n# Package stage\n#\nFROM openjdk:17-alpine\nCOPY --from=build /test/target/test-0.0.1-SNAPSHOT.jar /usr/local/lib/test.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/test.jar&quot;]\n</code></pre>\n<p>What am I missing?</p>\n<p>I have the application in a folder /test and the Dockerfile is also under /test. I go to this location in the cmd prompt and enter:</p>\n<p>docker build -t testapp .</p>\n"},{"tags":["java","file-handling"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1647869562,"post_id":71558453,"comment_id":126472398,"body_markdown":"First off: the question is badly defined. An &quot;Excel file&quot; is a *binary* file, to write which, you&#39;d need a special API. You *can* write to a csv file, which is a text file, and will *open* in Excel","body":"First off: the question is badly defined. An &quot;Excel file&quot; is a <i>binary</i> file, to write which, you&#39;d need a special API. You <i>can</i> write to a csv file, which is a text file, and will <i>open</i> in Excel"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647870538,"creation_date":1647870538,"answer_id":71558728,"question_id":71558453,"body_markdown":"I would `Scanner` as you planned:\r\n\r\n```\r\n    public static void main(String[] args) throws IOException {\r\n        FileWriter fw = new FileWriter(&quot;DA3.csv&quot;);\r\n        final String FMT = &quot;%s\\t%s\\t%s%n&quot;;\r\n\r\n        String name;\r\n        String registrationNo;\r\n        float gpa;\r\n\r\n        int n = 0;\r\n        Scanner scanner = new Scanner(System.in);\r\n        scanner.useDelimiter(&quot;\\\\R&quot;);\r\n        fw.write(String.format(FMT, &quot;Student Name&quot;, &quot;Registration No&quot;, &quot;GPA&quot;));\r\n        while (n &lt; 3) {\r\n            System.out.print(&quot;Enter Student Name: &quot;);\r\n            name = scanner.next();\r\n            System.out.print(&quot;Enter registration number: &quot;);\r\n            registrationNo = scanner.next();\r\n            System.out.print(&quot;Enter GPA: &quot;);\r\n            gpa = scanner.nextFloat();\r\n            fw.write(String.format(FMT, name, registrationNo, gpa));\r\n            n++;\r\n        }\r\n\r\n        fw.close();\r\n    }\r\n```\r\n","title":"I&#39;m using BufferedReader to input string values into the Excel file but in the next iteration it&#39;s skipping the entry of the first string","body":"<p>I would <code>Scanner</code> as you planned:</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n        FileWriter fw = new FileWriter(&quot;DA3.csv&quot;);\n        final String FMT = &quot;%s\\t%s\\t%s%n&quot;;\n\n        String name;\n        String registrationNo;\n        float gpa;\n\n        int n = 0;\n        Scanner scanner = new Scanner(System.in);\n        scanner.useDelimiter(&quot;\\\\R&quot;);\n        fw.write(String.format(FMT, &quot;Student Name&quot;, &quot;Registration No&quot;, &quot;GPA&quot;));\n        while (n &lt; 3) {\n            System.out.print(&quot;Enter Student Name: &quot;);\n            name = scanner.next();\n            System.out.print(&quot;Enter registration number: &quot;);\n            registrationNo = scanner.next();\n            System.out.print(&quot;Enter GPA: &quot;);\n            gpa = scanner.nextFloat();\n            fw.write(String.format(FMT, name, registrationNo, gpa));\n            n++;\n        }\n\n        fw.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647875542,"creation_date":1647875542,"answer_id":71559850,"question_id":71558453,"body_markdown":"Your code works fine for me &amp;ndash; JDK 11 on Windows 10 &amp;ndash; after I changed this line of your code:\r\n```java\r\ngpa = br.read();\r\n```\r\nto this:\r\n```java\r\ngpa = br.readLine();\r\n```\r\nAccording to the *javadoc* for method [read](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#read()), in class `java.io.BufferedReader`:\r\n&gt; Reads a single character.\r\n\r\nThe newline in Windows is actually two characters so you are actually just reading one character in the last part of the `while` loop and ignoring the newline characters which messes up the first `readLine` call in the beginning of the next iteration of the `while` loop.\r\n\r\nHere is the complete code.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class Student {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try (FileWriter fw = new FileWriter(&quot;DA3.xls&quot;);\r\n             InputStreamReader isr = new InputStreamReader(System.in);\r\n             BufferedReader br = new BufferedReader(isr)) {\r\n            fw.write(&quot;Student Name&quot; + &#39;\\t&#39; + &quot;Registration No&quot; + &#39;\\t&#39; + &quot;GPA&quot; + &#39;\\n&#39;);\r\n            int n = 0;\r\n            while (n &lt; 3) {\r\n                System.out.print(&quot;Enter student name: &quot;);\r\n                String name = br.readLine();\r\n                System.out.print(&quot;Enter registration number: &quot;);\r\n                String registrationNo = br.readLine();\r\n                System.out.print(&quot;Enter GPA: &quot;);\r\n                String gpa = br.readLine();\r\n                fw.write(name + &quot;\\t&quot; + registrationNo + &quot;\\t&quot; + gpa + &quot;\\n&quot;);\r\n                n++;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnd Excel correctly displays the file &amp;ndash; after it shows me a dialog window with a message that the file format is not suitable and asks me whether I still want to open the file. I say yes and the data written to the file in the Java program is correctly displayed. Of-course Excel guesses how to display the data which meant that it did not display the GPA correctly. In order to create a correctly formatted Excel file from Java, you need to use a library like [Apache POI](https://poi.apache.org/).","title":"I&#39;m using BufferedReader to input string values into the Excel file but in the next iteration it&#39;s skipping the entry of the first string","body":"<p>Your code works fine for me – JDK 11 on Windows 10 – after I changed this line of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gpa = br.read();\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gpa = br.readLine();\n</code></pre>\n<p>According to the <em>javadoc</em> for method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#read()\" rel=\"nofollow noreferrer\">read</a>, in class <code>java.io.BufferedReader</code>:</p>\n<blockquote>\n<p>Reads a single character.</p>\n</blockquote>\n<p>The newline in Windows is actually two characters so you are actually just reading one character in the last part of the <code>while</code> loop and ignoring the newline characters which messes up the first <code>readLine</code> call in the beginning of the next iteration of the <code>while</code> loop.</p>\n<p>Here is the complete code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Student {\n\n    public static void main(String[] args) throws IOException {\n        try (FileWriter fw = new FileWriter(&quot;DA3.xls&quot;);\n             InputStreamReader isr = new InputStreamReader(System.in);\n             BufferedReader br = new BufferedReader(isr)) {\n            fw.write(&quot;Student Name&quot; + '\\t' + &quot;Registration No&quot; + '\\t' + &quot;GPA&quot; + '\\n');\n            int n = 0;\n            while (n &lt; 3) {\n                System.out.print(&quot;Enter student name: &quot;);\n                String name = br.readLine();\n                System.out.print(&quot;Enter registration number: &quot;);\n                String registrationNo = br.readLine();\n                System.out.print(&quot;Enter GPA: &quot;);\n                String gpa = br.readLine();\n                fw.write(name + &quot;\\t&quot; + registrationNo + &quot;\\t&quot; + gpa + &quot;\\n&quot;);\n                n++;\n            }\n        }\n    }\n}\n</code></pre>\n<p>And Excel correctly displays the file – after it shows me a dialog window with a message that the file format is not suitable and asks me whether I still want to open the file. I say yes and the data written to the file in the Java program is correctly displayed. Of-course Excel guesses how to display the data which meant that it did not display the GPA correctly. In order to create a correctly formatted Excel file from Java, you need to use a library like <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a>.</p>\n"}],"owner":{"account_id":18523545,"reputation":3,"user_id":15256923,"display_name":"Hitesh Gorantla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71559850,"answer_count":2,"score":0,"last_activity_date":1647875542,"creation_date":1647869450,"question_id":71558453,"body_markdown":"This is the code I have written. It works fine when I use `Scanner` but doesn&#39;t work properly with `BufferedReader`.\r\n\r\n**This is the Question**\r\n\r\nDevelop and test a program according to the following specification.\r\n* Consider a class Student with instance fields name, registration number and CGPA.\r\n* Enter information about twenty such students through keyboard into an Excel file.\r\n* Sort the records of the file in order of registration number.\r\n* Split the content of the file into two halves and write each half to an Excel file.\r\n     \r\n\r\nCode:\r\n\r\n    package com.hitesh;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Scanner;\r\n    \r\n    public class Student {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            FileWriter fw = new FileWriter(&quot;DA3.xls&quot;);\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n            String name;\r\n            String registrationNo;\r\n            float gpa;\r\n    \r\n            int n = 0;\r\n            Scanner scanner = new Scanner(System.in);\r\n            fw.write(&quot;Student Name&quot; + &#39;\\t&#39; + &quot;Registration No&quot; + &#39;\\t&#39; + &quot;GPA&quot; + &#39;\\n&#39;);\r\n            while (n &lt; 3)\r\n            {\r\n                System.out.print(&quot;Enter Student Name: &quot;);\r\n                name = br.readLine();\r\n    //            name = scanner.next();\r\n                System.out.print(&quot;Enter registration number: &quot;);\r\n                registrationNo = br.readLine();\r\n    //            registrationNo = scanner.next();\r\n                System.out.print(&quot;Enter GPA: &quot;);\r\n                gpa = br.read();\r\n    //            gpa = scanner.nextFloat();\r\n                fw.write(name + &#39;\\t&#39; + registrationNo + &#39;\\t&#39; + gpa + &#39;\\n&#39;);\r\n                n++;\r\n            }\r\n            fw.close();\r\n        }\r\n    }\r\n\r\n\r\n[Output Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8sakj.png\r\n","title":"I&#39;m using BufferedReader to input string values into the Excel file but in the next iteration it&#39;s skipping the entry of the first string","body":"<p>This is the code I have written. It works fine when I use <code>Scanner</code> but doesn't work properly with <code>BufferedReader</code>.</p>\n<p><strong>This is the Question</strong></p>\n<p>Develop and test a program according to the following specification.</p>\n<ul>\n<li>Consider a class Student with instance fields name, registration number and CGPA.</li>\n<li>Enter information about twenty such students through keyboard into an Excel file.</li>\n<li>Sort the records of the file in order of registration number.</li>\n<li>Split the content of the file into two halves and write each half to an Excel file.</li>\n</ul>\n<p>Code:</p>\n<pre><code>package com.hitesh;\n\nimport java.io.BufferedReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Scanner;\n\npublic class Student {\n\n    public static void main(String[] args) throws IOException {\n        FileWriter fw = new FileWriter(&quot;DA3.xls&quot;);\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n        String name;\n        String registrationNo;\n        float gpa;\n\n        int n = 0;\n        Scanner scanner = new Scanner(System.in);\n        fw.write(&quot;Student Name&quot; + '\\t' + &quot;Registration No&quot; + '\\t' + &quot;GPA&quot; + '\\n');\n        while (n &lt; 3)\n        {\n            System.out.print(&quot;Enter Student Name: &quot;);\n            name = br.readLine();\n//            name = scanner.next();\n            System.out.print(&quot;Enter registration number: &quot;);\n            registrationNo = br.readLine();\n//            registrationNo = scanner.next();\n            System.out.print(&quot;Enter GPA: &quot;);\n            gpa = br.read();\n//            gpa = scanner.nextFloat();\n            fw.write(name + '\\t' + registrationNo + '\\t' + gpa + '\\n');\n            n++;\n        }\n        fw.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8sakj.png\" rel=\"nofollow noreferrer\">Output Screenshot</a></p>\n"},{"tags":["java","eclipse","maven","intellij-idea"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1406867324,"post_id":25072857,"comment_id":39007559,"body_markdown":"If they run on different ports, probably...","body":"If they run on different ports, probably..."},{"owner":{"account_id":372473,"reputation":2297,"user_id":721540,"accept_rate":8,"display_name":"dgm"},"score":0,"creation_date":1406868069,"post_id":25072857,"comment_id":39007718,"body_markdown":"MadProgrammer .. I have configured the jboss as\n\n-Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n\n\nHow can I configure two ports","body":"MadProgrammer .. I have configured the jboss as  -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=&zwnj;&#8203;n  How can I configure two ports"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1406868415,"post_id":25072857,"comment_id":39007799,"body_markdown":"The Java process need to a different `address=` pointing to a different port, then you need to create a new &quot;Remote Debugger&quot; for each port in Intellij, pointing to these port numbers...","body":"The Java process need to a different <code>address=</code> pointing to a different port, then you need to create a new &quot;Remote Debugger&quot; for each port in Intellij, pointing to these port numbers..."},{"owner":{"account_id":372473,"reputation":2297,"user_id":721540,"accept_rate":8,"display_name":"dgm"},"score":0,"creation_date":1406869701,"post_id":25072857,"comment_id":39008122,"body_markdown":"thanks for your update. Can I configure jboss as\n\n -Xrunjdwp:transport=dt_socket,address=8001,server=y  suspend=y -jar a.jar\n\n -Xrunjdwp:transport=dt_socket,address=8002,server=y  suspend=y -jar b.jar\n\n\nI have tried it but I am still facing the same problem","body":"thanks for your update. Can I configure jboss as   -Xrunjdwp:transport=dt_socket,address=8001,server=y  suspend=y -jar a.jar   -Xrunjdwp:transport=dt_socket,address=8002,server=y  suspend=y -jar b.jar   I have tried it but I am still facing the same problem"},{"owner":{"account_id":234378,"reputation":8776,"user_id":500478,"accept_rate":75,"display_name":"Bastien Jansen"},"score":0,"creation_date":1406885291,"post_id":25072857,"comment_id":39015093,"body_markdown":"Are the two packages running in the same JBoss instance? If so, you can only configure one debug port, but you&#39;ll be able to debug both applications using the same remote debug configuration.","body":"Are the two packages running in the same JBoss instance? If so, you can only configure one debug port, but you&#39;ll be able to debug both applications using the same remote debug configuration."},{"owner":{"account_id":372473,"reputation":2297,"user_id":721540,"accept_rate":8,"display_name":"dgm"},"score":0,"creation_date":1406885491,"post_id":25072857,"comment_id":39015220,"body_markdown":"@Nebelmann yes both packages are running in the same JBoss instance. Can you suggest me how to debug both application at the same time using single port??","body":"@Nebelmann yes both packages are running in the same JBoss instance. Can you suggest me how to debug both application at the same time using single port??"}],"answers":[{"tags":[],"owner":{"account_id":234378,"reputation":8776,"user_id":500478,"accept_rate":75,"display_name":"Bastien Jansen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647875501,"creation_date":1406925861,"answer_id":25088382,"question_id":25072857,"body_markdown":"Considering what&#39;s been said in the comments, it seems that you are deploying two applications in the same JBoss instance (so there&#39;s only one debug port).\r\n\r\nTwo possibilities:\r\n\r\n* your applications are in separate IntelliJ projects =&gt; you can [import existing modules from project A to project B](https://janikvonrotz.ch/2019/01/11/open-multiple-projects-in-intellij/) in order to have all the modules in the same IntelliJ project, then a single debug config should work for all modules. Importing existing modules will simulate what&#39;s called a &quot;workspace&quot; in Eclipse.\r\n* your applications are already in the same IntelliJ project (two modules) =&gt; create a single debug configuration\r\n\r\nIn both cases, you should be able to set breakpoints and debug as usual in both applications.","title":"Can I do remote debug of two different projects at the same time using intellij","body":"<p>Considering what's been said in the comments, it seems that you are deploying two applications in the same JBoss instance (so there's only one debug port).</p>\n<p>Two possibilities:</p>\n<ul>\n<li>your applications are in separate IntelliJ projects =&gt; you can <a href=\"https://janikvonrotz.ch/2019/01/11/open-multiple-projects-in-intellij/\" rel=\"nofollow noreferrer\">import existing modules from project A to project B</a> in order to have all the modules in the same IntelliJ project, then a single debug config should work for all modules. Importing existing modules will simulate what's called a &quot;workspace&quot; in Eclipse.</li>\n<li>your applications are already in the same IntelliJ project (two modules) =&gt; create a single debug configuration</li>\n</ul>\n<p>In both cases, you should be able to set breakpoints and debug as usual in both applications.</p>\n"},{"tags":[],"owner":{"account_id":1011995,"reputation":341,"user_id":1024370,"accept_rate":72,"display_name":"flip66"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446759037,"creation_date":1446759037,"answer_id":33555154,"question_id":25072857,"body_markdown":"I know this post is old, but I have tried the same thing in Intellij 14 and was able to just open the parent directory (both projects in the same directory) and start my remote debugger there. It then lets me debug both projects.","title":"Can I do remote debug of two different projects at the same time using intellij","body":"<p>I know this post is old, but I have tried the same thing in Intellij 14 and was able to just open the parent directory (both projects in the same directory) and start my remote debugger there. It then lets me debug both projects.</p>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508078111,"creation_date":1508078111,"answer_id":46756192,"question_id":25072857,"body_markdown":"in my case, I wanted to debug the actual code of `two jars` my project is using, and `the source code of these jars exists on my machine`\r\n\r\nso to do that:\r\n\r\n 1. from project tab on the left search for your library that you have its source code\r\n[![enter image description here][1]][1]\r\n 2. right click on it and chose `open library settings`\r\n\r\nyou might see something like this (red line indicator of missing sources files)\r\n\r\n[![enter image description here][2]][2] \r\n\r\nclick on green add (+) button and add navigate to the project directory of the jar library\r\n\r\n [![enter image description here][3]][3]\r\n\r\nnow you will have it like this \r\n\r\n[![enter image description here][4]][4] \r\n\r\nclick apply and ok.\r\n\r\nnow the debugger will hit the source code of the library as it is a part of the project \r\n\r\n  [1]: https://i.stack.imgur.com/Mahn8.png\r\n  [2]: https://i.stack.imgur.com/dWXcw.png\r\n  [3]: https://i.stack.imgur.com/XMl1j.png\r\n  [4]: https://i.stack.imgur.com/aI6aq.png","title":"Can I do remote debug of two different projects at the same time using intellij","body":"<p>in my case, I wanted to debug the actual code of <code>two jars</code> my project is using, and <code>the source code of these jars exists on my machine</code></p>\n\n<p>so to do that:</p>\n\n<ol>\n<li>from project tab on the left search for your library that you have its source code\n<a href=\"https://i.stack.imgur.com/Mahn8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mahn8.png\" alt=\"enter image description here\"></a></li>\n<li>right click on it and chose <code>open library settings</code></li>\n</ol>\n\n<p>you might see something like this (red line indicator of missing sources files)</p>\n\n<p><a href=\"https://i.stack.imgur.com/dWXcw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dWXcw.png\" alt=\"enter image description here\"></a> </p>\n\n<p>click on green add (+) button and add navigate to the project directory of the jar library</p>\n\n<p><a href=\"https://i.stack.imgur.com/XMl1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XMl1j.png\" alt=\"enter image description here\"></a></p>\n\n<p>now you will have it like this </p>\n\n<p><a href=\"https://i.stack.imgur.com/aI6aq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aI6aq.png\" alt=\"enter image description here\"></a> </p>\n\n<p>click apply and ok.</p>\n\n<p>now the debugger will hit the source code of the library as it is a part of the project </p>\n"}],"owner":{"account_id":372473,"reputation":2297,"user_id":721540,"accept_rate":8,"display_name":"dgm"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4018,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1647875501,"creation_date":1406867133,"question_id":25072857,"body_markdown":"\r\n\r\nI have two java (maven) projects, A (with module a1, a2, a3) and B (with module b1,b2,b3,b4).\r\nBoth these two projects are packaged as jar file and deployed in jboss server.\r\nThere are some API invocation between these two projects (using REST and EJB invocation). \r\nI am able to remote debugging these projects individually (say I am debugging project A first then after A is completely over, I can start debugging the other) using intellij. \r\n\r\nNow, my question is – \r\nCan I do remote debugging of two different java projects at the same time using intellij?\r\n\r\nPlease note that I have imported the projects into intellij as maven projects.\r\n\r\n","title":"Can I do remote debug of two different projects at the same time using intellij","body":"<p>I have two java (maven) projects, A (with module a1, a2, a3) and B (with module b1,b2,b3,b4).\nBoth these two projects are packaged as jar file and deployed in jboss server.\nThere are some API invocation between these two projects (using REST and EJB invocation). \nI am able to remote debugging these projects individually (say I am debugging project A first then after A is completely over, I can start debugging the other) using intellij. </p>\n\n<p>Now, my question is – \nCan I do remote debugging of two different java projects at the same time using intellij?</p>\n\n<p>Please note that I have imported the projects into intellij as maven projects.</p>\n"},{"tags":["java","hql"],"comments":[{"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"score":0,"creation_date":1647863980,"post_id":71556633,"comment_id":126470211,"body_markdown":"See: https://stackoverflow.com/a/46080928/14756421","body":"See: <a href=\"https://stackoverflow.com/a/46080928/14756421\">stackoverflow.com/a/46080928/14756421</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647875257,"post_id":71556633,"comment_id":126474906,"body_markdown":"Please take more care in your typing and spelling. This site is meant to be a formal knowledge base, more like Wikipedia, less like a casual chat room. I did some editing for you this time.","body":"Please take more care in your typing and spelling. This site is meant to be a formal knowledge base, more like Wikipedia, less like a casual chat room. I did some editing for you this time."}],"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647875490,"answer_count":0,"score":1,"last_activity_date":1647875215,"creation_date":1647861055,"question_id":71556633,"body_markdown":"I want to get all records in last 24h in [HQL][1].\r\n\r\nIn sql I know that I can get like this:\r\n\r\n    select * from acc where created BETWEEN NOW() - INTERVAL &#39;24 HOURS&#39; AND NOW()\r\n\r\nBut in HQL, `INTERVAL` is not supported. Any suggestion how can I achieve this?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hibernate_%28framework%29#Hibernate_Query_Language_(HQL)","title":"How to get records from last 24h in HQL?","body":"<p>I want to get all records in last 24h in <a href=\"https://en.wikipedia.org/wiki/Hibernate_%28framework%29#Hibernate_Query_Language_(HQL)\" rel=\"nofollow noreferrer\">HQL</a>.</p>\n<p>In sql I know that I can get like this:</p>\n<pre><code>select * from acc where created BETWEEN NOW() - INTERVAL '24 HOURS' AND NOW()\n</code></pre>\n<p>But in HQL, <code>INTERVAL</code> is not supported. Any suggestion how can I achieve this?</p>\n"},{"tags":["java","selenium","selenium-chromedriver","testng"],"comments":[{"owner":{"account_id":5818445,"reputation":1788,"user_id":4587277,"accept_rate":50,"display_name":"Gaurav Lad"},"score":0,"creation_date":1647843974,"post_id":71553158,"comment_id":126463869,"body_markdown":"where are you initializing `driver`?","body":"where are you initializing <code>driver</code>?"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1647848109,"post_id":71553158,"comment_id":126464782,"body_markdown":"Can you share your testng.xml file as well?","body":"Can you share your testng.xml file as well?"},{"owner":{"account_id":24626006,"reputation":1,"user_id":18525711,"display_name":"bdgv11"},"score":0,"creation_date":1647875342,"post_id":71553158,"comment_id":126474944,"body_markdown":"@cruisepandey updated on main comment :)","body":"@cruisepandey updated on main comment :)"},{"owner":{"account_id":24626006,"reputation":1,"user_id":18525711,"display_name":"bdgv11"},"score":0,"creation_date":1647877001,"post_id":71553158,"comment_id":126475713,"body_markdown":"@GauravLad inside @beforeMethod, there is...  `driver = new ChromeDriver();`","body":"@GauravLad inside @beforeMethod, there is...  <code>driver = new ChromeDriver();</code>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1647893744,"post_id":71553158,"comment_id":126481603,"body_markdown":"Be sure to use driver.quit().  driver.close() won&#39;t necessarily quit the driver.  (some drivers will quit if there are no longer any browser windows open...)  It should also help to include a sleep after quitting the driver.  This gives the browser/driver time to cleanup things... especially the file that drops the sessionID.","body":"Be sure to use driver.quit().  driver.close() won&#39;t necessarily quit the driver.  (some drivers will quit if there are no longer any browser windows open...)  It should also help to include a sleep after quitting the driver.  This gives the browser/driver time to cleanup things... especially the file that drops the sessionID."},{"owner":{"account_id":24626006,"reputation":1,"user_id":18525711,"display_name":"bdgv11"},"score":0,"creation_date":1647898364,"post_id":71553158,"comment_id":126482932,"body_markdown":"@pcalkins `Thread.sleep()`  or `driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));`\nUsing the first one got this error `Session ID is null. Using WebDriver after calling quit()?` second one got the same &#39;Invalid session ID&#39;","body":"@pcalkins <code>Thread.sleep()</code>  or <code>driver.manage().timeouts().implicitlyWait(Duration.ofSeconds&zwnj;&#8203;(10));</code> Using the first one got this error <code>Session ID is null. Using WebDriver after calling quit()?</code> second one got the same &#39;Invalid session ID&#39;"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1647898813,"post_id":71553158,"comment_id":126483050,"body_markdown":"You want a sleep after you quit.  ImplicitWait is not a sleep.  That is a polling loop for presence of element(s).  I&#39;m not familiar with the framework, but it does sound like you are quitting the driver before your procedures are done.  Are you sure &quot;AfterMethod&quot; is what you want there?","body":"You want a sleep after you quit.  ImplicitWait is not a sleep.  That is a polling loop for presence of element(s).  I&#39;m not familiar with the framework, but it does sound like you are quitting the driver before your procedures are done.  Are you sure &quot;AfterMethod&quot; is what you want there?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1647899399,"post_id":71553158,"comment_id":126483213,"body_markdown":"Looking at the answer below, that seems to be correct.  &quot;AfterSuite&quot;... but it should also be helpful to sleep for 5 or so seconds between one driver quitting and another starting.","body":"Looking at the answer below, that seems to be correct.  &quot;AfterSuite&quot;... but it should also be helpful to sleep for 5 or so seconds between one driver quitting and another starting."}],"answers":[{"tags":[],"owner":{"account_id":4905502,"reputation":344,"user_id":3952358,"display_name":"dheeraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647847604,"creation_date":1647847604,"answer_id":71554078,"question_id":71553158,"body_markdown":"probably the driver.close() in After suite will resolve the issue as there is no session when the other test being started.\r\n\r\nCan you try by changing below,\r\n\r\n    @AfterSuite  \r\n    public void after_suite()  \r\n    {  \r\n         try {\r\n                driver.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n          \r\n    }  ","title":"Selenium + TestNG + Java -&gt; org.openqa.selenium.NoSuchSessionException: invalid session id","body":"<p>probably the driver.close() in After suite will resolve the issue as there is no session when the other test being started.</p>\n<p>Can you try by changing below,</p>\n<pre><code>@AfterSuite  \npublic void after_suite()  \n{  \n     try {\n            driver.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n      \n}  \n</code></pre>\n"}],"owner":{"account_id":24626006,"reputation":1,"user_id":18525711,"display_name":"bdgv11"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647875183,"creation_date":1647840615,"question_id":71553158,"body_markdown":"I&#39;m trying to run all my tests together instead one by one but I&#39;m getting this error msg.\r\n\r\nI&#39;m using TestNG, Selenium 4.1.2, Java, chromedriver manage by `import io.github.bonigarcia.wdm.WebDriverManager;\r\n`\r\nThis is my BaseClass code, (where I create my setup() method):\r\n\r\n```\r\n    @BeforeMethod(alwaysRun = true)\r\n    public void before(@Optional(&quot;chrome&quot;) String browser) {\r\n\r\n        try {\r\n\r\n            WebDriverManager.chromedriver().setup();\r\n            WebDriverManager.firefoxdriver().setup();\r\n    \r\n            if(browser.equals(&quot;chrome&quot;)){\r\n                driver = new ChromeDriver();\r\n            }else{\r\n                driver = new FirefoxDriver();\r\n            }\r\n    \r\n            driver.get(URL);\r\n            driver.manage().window().maximize();\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @AfterMethod(alwaysRun = true)\r\n    public void after() {\r\n        try {\r\n            driver.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nI have 2 classes and If I run all my tests, they just run and pass the first test of every class and for the other ones just send me the same error `org.openqa.selenium.NoSuchSessionException: invalid session id`.\r\n\r\n\r\nNOTE: If I run one by one manually it works..!!\r\nBut if I run e.g &quot;maven clean test&quot; which will run a xml within POM, or right click on xml the same error msg appears, I&#39;ve searched but all mention something about `driver.close() or driver.quit()` and anything works. Any help could be great :D\r\n\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Portafolio-Selenium-Project&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;13&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;13&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/1.8.10/aspectjweaver-1.8.10.jar&quot;\r\n                    &lt;/argLine&gt;\r\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/config.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.8.10&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\ntestng.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n\r\n&lt;suite name=&quot;Selenium Project - Tests Cases&quot;&gt;\r\n    &lt;test name=&quot;Header Page Tests&quot;&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;Tests.HeaderPageTests&quot; /&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;test name=&quot;Register Page Tests&quot;&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;Tests.RegisterPageTests&quot; /&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```","title":"Selenium + TestNG + Java -&gt; org.openqa.selenium.NoSuchSessionException: invalid session id","body":"<p>I'm trying to run all my tests together instead one by one but I'm getting this error msg.</p>\n<p>I'm using TestNG, Selenium 4.1.2, Java, chromedriver manage by <code>import io.github.bonigarcia.wdm.WebDriverManager; </code>\nThis is my BaseClass code, (where I create my setup() method):</p>\n<pre><code>    @BeforeMethod(alwaysRun = true)\n    public void before(@Optional(&quot;chrome&quot;) String browser) {\n\n        try {\n\n            WebDriverManager.chromedriver().setup();\n            WebDriverManager.firefoxdriver().setup();\n    \n            if(browser.equals(&quot;chrome&quot;)){\n                driver = new ChromeDriver();\n            }else{\n                driver = new FirefoxDriver();\n            }\n    \n            driver.get(URL);\n            driver.manage().window().maximize();\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n    }\n\n    @AfterMethod(alwaysRun = true)\n    public void after() {\n        try {\n            driver.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I have 2 classes and If I run all my tests, they just run and pass the first test of every class and for the other ones just send me the same error <code>org.openqa.selenium.NoSuchSessionException: invalid session id</code>.</p>\n<p>NOTE: If I run one by one manually it works..!!\nBut if I run e.g &quot;maven clean test&quot; which will run a xml within POM, or right click on xml the same error msg appears, I've searched but all mention something about <code>driver.close() or driver.quit()</code> and anything works. Any help could be great :D</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Portafolio-Selenium-Project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;13&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;13&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/1.8.10/aspectjweaver-1.8.10.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/config.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;1.8.10&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>testng.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n\n&lt;suite name=&quot;Selenium Project - Tests Cases&quot;&gt;\n    &lt;test name=&quot;Header Page Tests&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;Tests.HeaderPageTests&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Register Page Tests&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;Tests.RegisterPageTests&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","web-services","maven","wsdl","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1332331527,"creation_date":1332331527,"answer_id":9804284,"question_id":9802487,"body_markdown":"It is possible with the Codehaus plugin:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;1.9&lt;/version&gt;\r\n       &lt;executions&gt;\r\n         &lt;execution&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;wsimport&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n       &lt;configuration&gt;\r\n         &lt;keep&gt;true&lt;/keep&gt;\r\n         &lt;verbose&gt;true&lt;/verbose&gt;\r\n         &lt;wsdlDirectory&gt;../wscontract/src/main/resources/wsdl&lt;/wsdlDirectory&gt;\r\n         &lt;wsdlLocation&gt;wsdl/MaintainAddress.wsdl&lt;/wsdlLocation&gt;\r\n         &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\r\n         &lt;bindingDirectory&gt;.&lt;/bindingDirectory&gt;\r\n         &lt;bindingFiles&gt;\r\n           &lt;bindingFile&gt;jaxb/xsdbindings.xml&lt;/bindingFile&gt;\r\n           &lt;bindingFile&gt;jaxb/wsdlbindings.xml&lt;/bindingFile&gt;\r\n         &lt;/bindingFiles&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nPerhaps the plugin you are using has a similar option or perhaps you can consider switching.\r\n\r\nYou can also provision your WSDL explicitly, in which case this property is ignored, though that may not be appropriate in a container-managed application.\r\n\r\n_Sample code [here][1]._\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.co.uk/2011/04/java-jax-ws-web-services-and-clients.html#ws_code","title":"Controlling JAX-WS wsdlLocation attribute value&#39;s (absolute path) with jaxws-maven-plugin","body":"<p>It is possible with the Codehaus plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n   &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;1.9&lt;/version&gt;\n   &lt;executions&gt;\n     &lt;execution&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;wsimport&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n   &lt;/executions&gt;\n   &lt;configuration&gt;\n     &lt;keep&gt;true&lt;/keep&gt;\n     &lt;verbose&gt;true&lt;/verbose&gt;\n     &lt;wsdlDirectory&gt;../wscontract/src/main/resources/wsdl&lt;/wsdlDirectory&gt;\n     &lt;wsdlLocation&gt;wsdl/MaintainAddress.wsdl&lt;/wsdlLocation&gt;\n     &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\n     &lt;bindingDirectory&gt;.&lt;/bindingDirectory&gt;\n     &lt;bindingFiles&gt;\n       &lt;bindingFile&gt;jaxb/xsdbindings.xml&lt;/bindingFile&gt;\n       &lt;bindingFile&gt;jaxb/wsdlbindings.xml&lt;/bindingFile&gt;\n     &lt;/bindingFiles&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Perhaps the plugin you are using has a similar option or perhaps you can consider switching.</p>\n\n<p>You can also provision your WSDL explicitly, in which case this property is ignored, though that may not be appropriate in a container-managed application.</p>\n\n<p><em>Sample code <a href=\"http://illegalargumentexception.blogspot.co.uk/2011/04/java-jax-ws-web-services-and-clients.html#ws_code\" rel=\"noreferrer\">here</a>.</em></p>\n"},{"tags":[],"owner":{"account_id":15978,"reputation":9755,"user_id":34372,"accept_rate":62,"display_name":"Dean Schulze"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389295635,"creation_date":1389294499,"answer_id":21029014,"question_id":9802487,"body_markdown":"Version 1.12 doesn&#39;t recognize `&lt;wsdlLocation&gt;`.  It complains:\r\n\r\n     No WSDLs are found to process, Specify atleast one of the following parameters: wsdlFiles, wsdlDirectory or wsdlUrls.\r\n\r\nVersion 1.9 (as in your example) just ignores everything and doesn&#39;t produce any code.\r\n\r\nSomething must have changed.\r\n","title":"Controlling JAX-WS wsdlLocation attribute value&#39;s (absolute path) with jaxws-maven-plugin","body":"<p>Version 1.12 doesn't recognize <code>&lt;wsdlLocation&gt;</code>.  It complains:</p>\n\n<pre><code> No WSDLs are found to process, Specify atleast one of the following parameters: wsdlFiles, wsdlDirectory or wsdlUrls.\n</code></pre>\n\n<p>Version 1.9 (as in your example) just ignores everything and doesn't produce any code.</p>\n\n<p>Something must have changed.</p>\n"},{"tags":[],"owner":{"account_id":15978,"reputation":9755,"user_id":34372,"accept_rate":62,"display_name":"Dean Schulze"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1440422843,"creation_date":1389295551,"answer_id":21029318,"question_id":9802487,"body_markdown":"Use [wsdlLocation][1] with the jaxws-maven-plugin from org.jvnet.jax-ws-commons:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\r\n\t\t&lt;wsdlFiles&gt;\r\n\t\t\t&lt;wsdlFile&gt;arsdev.wsdl&lt;/wsdlFile&gt;\r\n\t\t&lt;/wsdlFiles&gt;\r\n\t\t&lt;wsdlLocation&gt;wsdl/*&lt;/wsdlLocation&gt;\r\n\t\t&lt;!-- Keep generated files --&gt;\r\n\t\t&lt;keep&gt;true&lt;/keep&gt;\r\n\t\t&lt;packageName&gt;jaxws.remedy.client.generated&lt;/packageName&gt;\r\n\t\t&lt;!-- generated source files destination --&gt;\r\n\t\t&lt;sourceDestDir&gt;target/generated-code/src&lt;/sourceDestDir&gt;\r\n\t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n\r\n  [1]: https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html#wsdlLocation","title":"Controlling JAX-WS wsdlLocation attribute value&#39;s (absolute path) with jaxws-maven-plugin","body":"<p>Use <a href=\"https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html#wsdlLocation\" rel=\"noreferrer\">wsdlLocation</a> with the jaxws-maven-plugin from org.jvnet.jax-ws-commons:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n&lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.3&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsimport&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;configuration&gt;\n    &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\n    &lt;wsdlFiles&gt;\n        &lt;wsdlFile&gt;arsdev.wsdl&lt;/wsdlFile&gt;\n    &lt;/wsdlFiles&gt;\n    &lt;wsdlLocation&gt;wsdl/*&lt;/wsdlLocation&gt;\n    &lt;!-- Keep generated files --&gt;\n    &lt;keep&gt;true&lt;/keep&gt;\n    &lt;packageName&gt;jaxws.remedy.client.generated&lt;/packageName&gt;\n    &lt;!-- generated source files destination --&gt;\n    &lt;sourceDestDir&gt;target/generated-code/src&lt;/sourceDestDir&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501056377,"creation_date":1501054899,"answer_id":45320479,"question_id":9802487,"body_markdown":"I voted up for @dean-schulze answer, as it&#39;s appropriate for the case of **org.jvnet.jax-ws-commons:jaxws-maven-plugin** plugin.\r\n\r\nIt may also be interesting to display help locally with CLI, like this :\r\n\r\n    mvn jaxws:help -Dgoal=wsimport -Ddetail\r\n\r\nAs said in the previous answer, we can use the _wsdlLocation_ parameter, described here :\r\n\r\n    wsdlLocation\r\n      @WebService.wsdlLocation and @WebServiceClient.wsdlLocation value.\r\n      Can end with asterisk in which case relative path of the WSDL will be\r\n      appended to the given wsdlLocation.\r\n\r\n      Example:\r\n\r\n       ...\r\n       &lt;configuration&gt;\r\n       &lt;wsdlDirectory&gt;src/mywsdls&lt;/wsdlDirectory&gt;\r\n       &lt;wsdlFiles&gt;\r\n       &lt;wsdlFile&gt;a.wsdl&lt;/wsdlFile&gt;\r\n       &lt;wsdlFile&gt;b/b.wsdl&lt;/wsdlFile&gt;\r\n       &lt;wsdlFile&gt;${basedir}/src/mywsdls/c.wsdl&lt;/wsdlFile&gt;\r\n       &lt;/wsdlFiles&gt;\r\n       &lt;wsdlLocation&gt;http://example.com/mywebservices/*&lt;/wsdlLocation&gt;\r\n       &lt;/configuration&gt;\r\n       ...\r\n      wsdlLocation for a.wsdl will be http://example.com/mywebservices/a.wsdl\r\n      wsdlLocation for b/b.wsdl will be\r\n      http://example.com/mywebservices/b/b.wsdl\r\n      wsdlLocation for ${basedir}/src/mywsdls/c.wsdl will be\r\n      file://absolute/path/to/c.wsdl\r\n\r\n\r\n      Note: External binding files cannot be used if asterisk notation is in\r\n      place.\r\n\r\nThe _-wsdllocation_ option is also documented on the _wsimport_ command from the JDK :\r\n\r\n- [JDK 7 - wsimport](http://docs.oracle.com/javase/7/docs/technotes/tools/share/wsimport.html#Syntax)\r\n- [JDK 8 - wsimport](https://docs.oracle.com/javase/8/docs/technotes/tools/unix/wsimport.html#CIHCHJAC)\r\n\r\nBut it just says (see [@WebServiceClient javadoc](https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/WebServiceClient.html)) :\r\n\r\n    Specifies the @WebServiceClient.wsdlLocation value.\r\n\r\n","title":"Controlling JAX-WS wsdlLocation attribute value&#39;s (absolute path) with jaxws-maven-plugin","body":"<p>I voted up for @dean-schulze answer, as it's appropriate for the case of <strong>org.jvnet.jax-ws-commons:jaxws-maven-plugin</strong> plugin.</p>\n\n<p>It may also be interesting to display help locally with CLI, like this :</p>\n\n<pre><code>mvn jaxws:help -Dgoal=wsimport -Ddetail\n</code></pre>\n\n<p>As said in the previous answer, we can use the <em>wsdlLocation</em> parameter, described here :</p>\n\n<pre><code>wsdlLocation\n  @WebService.wsdlLocation and @WebServiceClient.wsdlLocation value.\n  Can end with asterisk in which case relative path of the WSDL will be\n  appended to the given wsdlLocation.\n\n  Example:\n\n   ...\n   &lt;configuration&gt;\n   &lt;wsdlDirectory&gt;src/mywsdls&lt;/wsdlDirectory&gt;\n   &lt;wsdlFiles&gt;\n   &lt;wsdlFile&gt;a.wsdl&lt;/wsdlFile&gt;\n   &lt;wsdlFile&gt;b/b.wsdl&lt;/wsdlFile&gt;\n   &lt;wsdlFile&gt;${basedir}/src/mywsdls/c.wsdl&lt;/wsdlFile&gt;\n   &lt;/wsdlFiles&gt;\n   &lt;wsdlLocation&gt;http://example.com/mywebservices/*&lt;/wsdlLocation&gt;\n   &lt;/configuration&gt;\n   ...\n  wsdlLocation for a.wsdl will be http://example.com/mywebservices/a.wsdl\n  wsdlLocation for b/b.wsdl will be\n  http://example.com/mywebservices/b/b.wsdl\n  wsdlLocation for ${basedir}/src/mywsdls/c.wsdl will be\n  file://absolute/path/to/c.wsdl\n\n\n  Note: External binding files cannot be used if asterisk notation is in\n  place.\n</code></pre>\n\n<p>The <em>-wsdllocation</em> option is also documented on the <em>wsimport</em> command from the JDK :</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/wsimport.html#Syntax\" rel=\"nofollow noreferrer\">JDK 7 - wsimport</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/wsimport.html#CIHCHJAC\" rel=\"nofollow noreferrer\">JDK 8 - wsimport</a></li>\n</ul>\n\n<p>But it just says (see <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/WebServiceClient.html\" rel=\"nofollow noreferrer\">@WebServiceClient javadoc</a>) :</p>\n\n<pre><code>Specifies the @WebServiceClient.wsdlLocation value.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3663045,"reputation":841,"user_id":3052312,"accept_rate":86,"display_name":"MitchBroadhead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647875032,"creation_date":1647874671,"answer_id":71559659,"question_id":9802487,"body_markdown":"@dean-schultze answer is correct except it hasn&#39;t been updated to reflect the comment by @jonashackt which is that `wsdlLocation` needs to be prefixed with a slash to be relative to the base.  i.e.\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;wsimport&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\r\n                &lt;wsdlFiles&gt;\r\n                    &lt;wsdlFile&gt;some.wsdl&lt;/wsdlFile&gt;\r\n                &lt;/wsdlFiles&gt;\r\n                &lt;wsdlLocation&gt;/wsdl/*&lt;/wsdlLocation&gt;\r\n                &lt;packageName&gt;com.example.generated&lt;/packageName&gt;\r\n                &lt;sourceDestDir&gt;target/generated-sources/&lt;/sourceDestDir&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nAlso updated the groupId to codehaus.  Stack overflow wouldn&#39;t let me edit the original post to try to correct it","title":"Controlling JAX-WS wsdlLocation attribute value&#39;s (absolute path) with jaxws-maven-plugin","body":"<p>@dean-schultze answer is correct except it hasn't been updated to reflect the comment by @jonashackt which is that <code>wsdlLocation</code> needs to be prefixed with a slash to be relative to the base.  i.e.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;some.wsdl&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                &lt;wsdlLocation&gt;/wsdl/*&lt;/wsdlLocation&gt;\n                &lt;packageName&gt;com.example.generated&lt;/packageName&gt;\n                &lt;sourceDestDir&gt;target/generated-sources/&lt;/sourceDestDir&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Also updated the groupId to codehaus.  Stack overflow wouldn't let me edit the original post to try to correct it</p>\n"}],"owner":{"account_id":13574,"reputation":8143,"user_id":27385,"accept_rate":86,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40274,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":9804284,"answer_count":5,"score":26,"last_activity_date":1647875032,"creation_date":1332324995,"question_id":9802487,"body_markdown":"I have a JAX-WS-driven web service whose WSDL we generate a web service client from in another Maven module (which I&#39;ll call `ws-consumer`).\r\n\r\nFor better or worse, we copy the &quot;published WSDLs&quot; (the version of the WSDL &amp; XSDs that the service held/generated at point of release) to our `src/wsdl` folder of `ws-consumer` and then use `jaxws-maven-plugin` from org.jvnet to generate a client using `jaxws:wsimport` with the following (truncated) configuration:\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;!--phase&gt;generate-sources&lt;/phase --&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;wsdlDirectory&gt;src/main/resources/META-INF/wsdl/&lt;/wsdlDirectory&gt;\r\n\t\t\t\t\t\t&lt;wsdlFiles&gt;\r\n\t\t\t\t\t\t\t&lt;wsdlFile&gt;MyWS/MyWS.wsdl&lt;/wsdlFile&gt;\r\n\t\t\t\t\t\t&lt;/wsdlFiles&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\r\nNow, the generated client code has the following annotations applied at the class level:\r\n\r\n    @WebServiceClient(name = &quot;MyWS&quot;, targetNamespace = &quot;http://myws/blah&quot;, wsdlLocation = &quot;**file:/C:/some/absolute/path/src/main/resources/META-INF/wsdl/MyWS/MyWS.wsdl&quot;**)\r\n\r\n*emphasis mine*\r\n\r\nAs you can hopefully see, the `wsdlLocation` attribute value has a hard-coded absolute path that is going to be incorrect when the service is deployed.\r\n\r\nIs there any way I can &quot;control&quot; this by setting it to just `META-INF/wsdl/MyWS/MyWS.wsdl` or some other value?\r\n","title":"Controlling JAX-WS wsdlLocation attribute value&#39;s (absolute path) with jaxws-maven-plugin","body":"<p>I have a JAX-WS-driven web service whose WSDL we generate a web service client from in another Maven module (which I'll call <code>ws-consumer</code>).</p>\n\n<p>For better or worse, we copy the \"published WSDLs\" (the version of the WSDL &amp; XSDs that the service held/generated at point of release) to our <code>src/wsdl</code> folder of <code>ws-consumer</code> and then use <code>jaxws-maven-plugin</code> from org.jvnet to generate a client using <code>jaxws:wsimport</code> with the following (truncated) configuration:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;!--phase&gt;generate-sources&lt;/phase --&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;wsdlDirectory&gt;src/main/resources/META-INF/wsdl/&lt;/wsdlDirectory&gt;\n                    &lt;wsdlFiles&gt;\n                        &lt;wsdlFile&gt;MyWS/MyWS.wsdl&lt;/wsdlFile&gt;\n                    &lt;/wsdlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Now, the generated client code has the following annotations applied at the class level:</p>\n\n<pre><code>@WebServiceClient(name = \"MyWS\", targetNamespace = \"http://myws/blah\", wsdlLocation = \"**file:/C:/some/absolute/path/src/main/resources/META-INF/wsdl/MyWS/MyWS.wsdl\"**)\n</code></pre>\n\n<p><em>emphasis mine</em></p>\n\n<p>As you can hopefully see, the <code>wsdlLocation</code> attribute value has a hard-coded absolute path that is going to be incorrect when the service is deployed.</p>\n\n<p>Is there any way I can \"control\" this by setting it to just <code>META-INF/wsdl/MyWS/MyWS.wsdl</code> or some other value?</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511792040,"creation_date":1511792040,"answer_id":47513006,"question_id":47512762,"body_markdown":"Your Java home is connected to JRE and not JDK (C:\\Program Files (x86)\\Java\\jre1.8.0_151). See [tutorial][1]:\r\n&gt;Windows:\tSet the environment variable JAVA_HOME to C:\\Program Files\\Java\\jdk1.7.0_25\r\n\r\nIt should be connected to C:\\...\\jdk[version] path, so set JAVA_HOME as:\r\n\r\n    set JAVA_HOME=C:\\Program Files (x86)\\Java\\jdk1.8.0_151\r\n\r\n[1]:https://www.tutorialspoint.com/jmeter/jmeter_environment.htm","title":"jmeter wont run !Not able to find Java executable or version. Please check your Java installation&quot;","body":"<p>Your Java home is connected to JRE and not JDK (C:\\Program Files (x86)\\Java\\jre1.8.0_151). See <a href=\"https://www.tutorialspoint.com/jmeter/jmeter_environment.htm\" rel=\"nofollow noreferrer\">tutorial</a>:</p>\n\n<blockquote>\n  <p>Windows:   Set the environment variable JAVA_HOME to C:\\Program Files\\Java\\jdk1.7.0_25</p>\n</blockquote>\n\n<p>It should be connected to C:...\\jdk[version] path, so set JAVA_HOME as:</p>\n\n<pre><code>set JAVA_HOME=C:\\Program Files (x86)\\Java\\jdk1.8.0_151\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1511792630,"creation_date":1511792630,"answer_id":47513178,"question_id":47512762,"body_markdown":" 1. If possible move your JRE to folder which doesn&#39;t have spaces in its path. \r\n 2. If for some reason it is not possible - surround path to &quot;bin&quot; folder of your JRE installation with [quotation marks][1]\r\n 3. In any case you should be able to run JMeter as:\r\n\r\n        java -jar ApacheJMeter.jar\r\n\r\nSee [Setting the JAVA_HOME Variable in Windows][2] for more details. \r\n\r\n\r\n----------\r\n\r\nI would strongly recommend switching to 64-bit server JRE as [on 32-bit one you won&#39;t be able to allocate more than 4 GB to JMeter][3] which might be not enough when it comes to high loads. \r\n\r\nCheck out [JMeter Best Practices][4] and [9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure][5] articles for more information on tuning JMeter for maximum performance\r\n\r\n\r\n  [1]: https://serverfault.com/questions/349179/path-variable-and-quotation-marks-windows\r\n  [2]: https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\r\n  [3]: http://www.oracle.com/technetwork/java/hotspotfaq-138619.html#gc_heap_32bit\r\n  [4]: http://jmeter.apache.org/usermanual/best-practices.html\r\n  [5]: https://www.blazemeter.com/blog/9-easy-solutions-jmeter-load-test-%E2%80%9Cout-memory%E2%80%9D-failure","title":"jmeter wont run !Not able to find Java executable or version. Please check your Java installation&quot;","body":"<ol>\n<li>If possible move your JRE to folder which doesn't have spaces in its path. </li>\n<li>If for some reason it is not possible - surround path to \"bin\" folder of your JRE installation with <a href=\"https://serverfault.com/questions/349179/path-variable-and-quotation-marks-windows\">quotation marks</a></li>\n<li><p>In any case you should be able to run JMeter as:</p>\n\n<pre><code>java -jar ApacheJMeter.jar\n</code></pre></li>\n</ol>\n\n<p>See <a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"noreferrer\">Setting the JAVA_HOME Variable in Windows</a> for more details. </p>\n\n<hr>\n\n<p>I would strongly recommend switching to 64-bit server JRE as <a href=\"http://www.oracle.com/technetwork/java/hotspotfaq-138619.html#gc_heap_32bit\" rel=\"noreferrer\">on 32-bit one you won't be able to allocate more than 4 GB to JMeter</a> which might be not enough when it comes to high loads. </p>\n\n<p>Check out <a href=\"http://jmeter.apache.org/usermanual/best-practices.html\" rel=\"noreferrer\">JMeter Best Practices</a> and <a href=\"https://www.blazemeter.com/blog/9-easy-solutions-jmeter-load-test-%E2%80%9Cout-memory%E2%80%9D-failure\" rel=\"noreferrer\">9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure</a> articles for more information on tuning JMeter for maximum performance</p>\n"},{"tags":[],"owner":{"account_id":6686844,"reputation":404,"user_id":5157770,"display_name":"Tinashe Chinyanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552595928,"creation_date":1552595928,"answer_id":55171578,"question_id":47512762,"body_markdown":"Check-out [this article][1], best way to set JAVA_HOME. The long and short of it, if using Windows, download the JDK, open your command prompt and type in the following command: \r\n`setx -m JAVA_HOME &quot;C:\\Progra~1\\Java\\jdk1.8.0_XX&quot;`. Normally, the JDK is stored in your C:\\Program Files\\Java...\r\n\r\n\r\n  [1]: https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html","title":"jmeter wont run !Not able to find Java executable or version. Please check your Java installation&quot;","body":"<p>Check-out <a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"nofollow noreferrer\">this article</a>, best way to set JAVA_HOME. The long and short of it, if using Windows, download the JDK, open your command prompt and type in the following command: \n<code>setx -m JAVA_HOME \"C:\\Progra~1\\Java\\jdk1.8.0_XX\"</code>. Normally, the JDK is stored in your C:\\Program Files\\Java...</p>\n"},{"tags":[],"owner":{"account_id":14493854,"reputation":859,"user_id":10529573,"display_name":"Mike Menko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647874762,"creation_date":1647874762,"answer_id":71559676,"question_id":47512762,"body_markdown":"You can try to add `JAVA_HOME &quot;c:\\Users\\User\\.jdks\\corretto-1.8.0_322&quot;` to System variables, but in my case I had to add `%JAVA_HOME%\\bin` to `PATH` System variable as well. As a result - I can you orignal jmeter.bat file.","title":"jmeter wont run !Not able to find Java executable or version. Please check your Java installation&quot;","body":"<p>You can try to add <code>JAVA_HOME &quot;c:\\Users\\User\\.jdks\\corretto-1.8.0_322&quot;</code> to System variables, but in my case I had to add <code>%JAVA_HOME%\\bin</code> to <code>PATH</code> System variable as well. As a result - I can you orignal jmeter.bat file.</p>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45424,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1647874762,"creation_date":1511791346,"question_id":47512762,"body_markdown":"I installed java from the offical java download page https://java.com/en/download/win10.jsp\r\n\r\nIt installed what appears to be a 32bit on my 64 bit system, which I can only guess is OK, as it did not present any other options.\r\n\r\nI edited my system environtment variables, and added JAVA_HOME and added %JAVA_HOME%\\bin to my &quot;user variables&quot; Path definition.\r\n\r\ntyping &quot;set&quot; in a cmd window produces:\r\n\r\n    JAVA_HOME=C:\\Program Files (x86)\\Java\\jre1.8.0_151\r\n    :\r\n    Path=C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;.....C:\\Program Files (x86)\\Java\\jre1.8.0_151\\bin;\r\n\r\nAt the command prompt, &quot;java -version&quot; \r\n\r\nproduces:\r\n\r\n    java version &quot;1.8.0_151&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_151-b12)\r\n    Java HotSpot(TM) Client VM (build 25.151-b12, mixed mode)\r\n\r\nBut when I try to launch jmeter.bat, I get:\r\n\r\njmeter wont run !Not able to find Java executable or version. Please check your Java installation&quot;\r\n\r\nAny ideas?","title":"jmeter wont run !Not able to find Java executable or version. Please check your Java installation&quot;","body":"<p>I installed java from the offical java download page <a href=\"https://java.com/en/download/win10.jsp\" rel=\"noreferrer\">https://java.com/en/download/win10.jsp</a></p>\n\n<p>It installed what appears to be a 32bit on my 64 bit system, which I can only guess is OK, as it did not present any other options.</p>\n\n<p>I edited my system environtment variables, and added JAVA_HOME and added %JAVA_HOME%\\bin to my \"user variables\" Path definition.</p>\n\n<p>typing \"set\" in a cmd window produces:</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files (x86)\\Java\\jre1.8.0_151\n:\nPath=C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;.....C:\\Program Files (x86)\\Java\\jre1.8.0_151\\bin;\n</code></pre>\n\n<p>At the command prompt, \"java -version\" </p>\n\n<p>produces:</p>\n\n<pre><code>java version \"1.8.0_151\"\nJava(TM) SE Runtime Environment (build 1.8.0_151-b12)\nJava HotSpot(TM) Client VM (build 25.151-b12, mixed mode)\n</code></pre>\n\n<p>But when I try to launch jmeter.bat, I get:</p>\n\n<p>jmeter wont run !Not able to find Java executable or version. Please check your Java installation\"</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1533845492,"post_id":51775040,"comment_id":90508737,"body_markdown":"what version of Java does this Leetcode tool use?","body":"what version of Java does this Leetcode tool use?"}],"answers":[{"tags":[],"owner":{"account_id":13817616,"reputation":2000,"user_id":9973881,"display_name":"Michael Powers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533926954,"creation_date":1533846351,"answer_id":51775265,"question_id":51775040,"body_markdown":"I expect leetcode is having trouble with this line:\r\n\r\n    int new_nums[] = removeDuplicates(nums);\r\n\r\nThis isn&#39;t the typical way to define an integer array (this is the C style). Java does support the syntax, but it&#39;s a little arcane. See [this answer for more detail](https://stackoverflow.com/questions/129178/difference-between-int-array-and-int-array).\r\n\r\nTry this instead:\r\n\r\n    int[] new_nums = removeDuplicates(nums);\r\n\r\nJust tried this on LeetCode, seems to work:\r\n[![OP&#39;s code running on LeetCode][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pjylu.png","title":"Leetcode : Remove Duplicates from Sorted Array","body":"<p>I expect leetcode is having trouble with this line:</p>\n\n<pre><code>int new_nums[] = removeDuplicates(nums);\n</code></pre>\n\n<p>This isn't the typical way to define an integer array (this is the C style). Java does support the syntax, but it's a little arcane. See <a href=\"https://stackoverflow.com/questions/129178/difference-between-int-array-and-int-array\">this answer for more detail</a>.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>int[] new_nums = removeDuplicates(nums);\n</code></pre>\n\n<p>Just tried this on LeetCode, seems to work:\n<a href=\"https://i.stack.imgur.com/pjylu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjylu.png\" alt=\"OP&#39;s code running on LeetCode\"></a></p>\n"},{"tags":[],"owner":{"account_id":2545068,"reputation":124,"user_id":2210032,"display_name":"Richard Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534097449,"creation_date":1534097449,"answer_id":51811555,"question_id":51775040,"body_markdown":"I would do it a bit like this myself:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            int[] nums = new int[]{1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 5, 6, 7, 7, 7, 8, 9, 0, 0, 0, 0}; \r\n            System.out.println(&quot;nums lenght: &quot; + nums.length);\r\n    \r\n            int[] new_nums = removeDuplicates(nums);\r\n            \r\n            for (int i : new_nums) {\r\n                System.out.print(i + &quot; &quot;);\r\n            }\r\n    \r\n        }\r\n        public static int[] removeDuplicates(int[] nums) {\r\n            List&lt;Integer&gt; found = new ArrayList();\r\n            for (int i = 1; i &lt; nums.length; i++) {\r\n                if (!found.contains(nums[i])) {\r\n                    found.add(nums[i]);\r\n                }\r\n            }\r\n            int[] ret = new int[found.size()];\r\n            for(int i = 0; i &lt; found.size(); i++){\r\n                ret[i] = found.get(i);\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n    \r\n\r\n\r\n","title":"Leetcode : Remove Duplicates from Sorted Array","body":"<p>I would do it a bit like this myself:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        int[] nums = new int[]{1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 5, 6, 7, 7, 7, 8, 9, 0, 0, 0, 0}; \n        System.out.println(\"nums lenght: \" + nums.length);\n\n        int[] new_nums = removeDuplicates(nums);\n\n        for (int i : new_nums) {\n            System.out.print(i + \" \");\n        }\n\n    }\n    public static int[] removeDuplicates(int[] nums) {\n        List&lt;Integer&gt; found = new ArrayList();\n        for (int i = 1; i &lt; nums.length; i++) {\n            if (!found.contains(nums[i])) {\n                found.add(nums[i]);\n            }\n        }\n        int[] ret = new int[found.size()];\n        for(int i = 0; i &lt; found.size(); i++){\n            ret[i] = found.get(i);\n        }\n        return ret;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647874027,"creation_date":1647874027,"answer_id":71559496,"question_id":51775040,"body_markdown":"```java\r\npublic class Solution {\r\n    public int removeDuplicates(int[] nums) {\r\n        int n = nums.length;\r\n        int i = 0;\r\n        int j = 1;\r\n        if (n &lt;= 1) {\r\n            return n;\r\n        }\r\n        while (j &lt;= n - 1) {\r\n            if (nums[i] != nums[j]) {\r\n                nums[i + 1] = nums[j];\r\n                i++;\r\n            }\r\n            j++;\r\n        }\r\n        return i + 1;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport static org.hamcrest.CoreMatchers.equalTo;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\n\r\nimport java.util.Arrays;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass SolutionTest {\r\n    @Test\r\n    void removeDuplicates() {\r\n        int[] array = new int[] {1, 1, 2};\r\n        int end = new Solution().removeDuplicates(array);\r\n        assertThat(Arrays.toString(Arrays.copyOfRange(array, 0, end)), equalTo(&quot;[1, 2]&quot;));\r\n    }\r\n}\r\n```","title":"Leetcode : Remove Duplicates from Sorted Array","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public int removeDuplicates(int[] nums) {\n        int n = nums.length;\n        int i = 0;\n        int j = 1;\n        if (n &lt;= 1) {\n            return n;\n        }\n        while (j &lt;= n - 1) {\n            if (nums[i] != nums[j]) {\n                nums[i + 1] = nums[j];\n                i++;\n            }\n            j++;\n        }\n        return i + 1;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\nimport java.util.Arrays;\nimport org.junit.jupiter.api.Test;\n\nclass SolutionTest {\n    @Test\n    void removeDuplicates() {\n        int[] array = new int[] {1, 1, 2};\n        int end = new Solution().removeDuplicates(array);\n        assertThat(Arrays.toString(Arrays.copyOfRange(array, 0, end)), equalTo(&quot;[1, 2]&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11436891,"reputation":189,"user_id":8384017,"accept_rate":0,"display_name":"salma209"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1647874027,"creation_date":1533845319,"question_id":51775040,"body_markdown":"Why this code is not accepted by Leetcode compiler?\r\nMy program is running in netbeans. but leetcode compiler is not accepting it.\r\n\r\nHere is my code:\r\n\r\n\r\n    import  java.util.Arrays;\r\n\r\n\r\n    public class RemoveDuplicateFromArray {\r\n  \r\n    public static int[] removeDuplicates(int[] nums) {\r\n        \r\n        int temp, count = 0 ,l = 0;\r\n        temp = nums[0];\r\n          \r\n      for(int i = 1; i &lt; nums.length - (1 + l); i++ ) {\r\n       \r\n          if(temp == nums[i]) {\r\n              count = count + 1;\r\n              \r\n              for(int j = i; j &lt; nums.length - count; j++){\r\n                  nums[j] = nums[j+1];\r\n                }\r\n              \r\n              i = i - 1;\r\n           \r\n          } else {\r\n              temp = nums[i];\r\n              i = i ;\r\n           \r\n          }\r\n           l = count;\r\n      }\r\n     \r\n          nums = Arrays.copyOfRange(nums, 0, nums.length-count);\r\n       \r\n          if(nums.length == 2){\r\n          if(nums[0] == nums[1]){\r\n              nums = Arrays.copyOfRange(nums, 0, nums.length-1);\r\n          }\r\n      } \r\n      \r\n        return  nums;\r\n    }\r\nHere is my main mathod:\r\n\r\n    public static void main(String[] args) {\r\n      \r\n        int[] nums = new int[] {1,1,1}; // showing error here.\r\n        System.err.println(&quot;nums lenght: &quot; +nums.length);\r\n        \r\n        int new_nums[] = removeDuplicates(nums);\r\n        \r\n       for(int i : new_nums) {\r\n            System.err.print(i + &quot; &quot;);\r\n    }\r\n       \r\n    }\r\n    \r\n}\r\n\r\nThe error is : \r\n&gt; incompatible types: int[] cannot be converted to int.","title":"Leetcode : Remove Duplicates from Sorted Array","body":"<p>Why this code is not accepted by Leetcode compiler?\nMy program is running in netbeans. but leetcode compiler is not accepting it.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import  java.util.Arrays;\n\n\npublic class RemoveDuplicateFromArray {\n\npublic static int[] removeDuplicates(int[] nums) {\n\n    int temp, count = 0 ,l = 0;\n    temp = nums[0];\n\n  for(int i = 1; i &lt; nums.length - (1 + l); i++ ) {\n\n      if(temp == nums[i]) {\n          count = count + 1;\n\n          for(int j = i; j &lt; nums.length - count; j++){\n              nums[j] = nums[j+1];\n            }\n\n          i = i - 1;\n\n      } else {\n          temp = nums[i];\n          i = i ;\n\n      }\n       l = count;\n  }\n\n      nums = Arrays.copyOfRange(nums, 0, nums.length-count);\n\n      if(nums.length == 2){\n      if(nums[0] == nums[1]){\n          nums = Arrays.copyOfRange(nums, 0, nums.length-1);\n      }\n  } \n\n    return  nums;\n}\n</code></pre>\n\n<p>Here is my main mathod:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    int[] nums = new int[] {1,1,1}; // showing error here.\n    System.err.println(\"nums lenght: \" +nums.length);\n\n    int new_nums[] = removeDuplicates(nums);\n\n   for(int i : new_nums) {\n        System.err.print(i + \" \");\n}\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The error is : </p>\n\n<blockquote>\n  <p>incompatible types: int[] cannot be converted to int.</p>\n</blockquote>\n"},{"tags":["java","android","flickr"],"answers":[{"tags":[],"owner":{"account_id":1464906,"reputation":170,"user_id":1378069,"accept_rate":14,"display_name":"Alexandro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434558767,"creation_date":1434558767,"answer_id":30897366,"question_id":30800561,"body_markdown":"Finaly, i found an answer (this provide a calback url: `token = authInterface.getRequestToken(&quot;your calback url&quot;);`),  the code for auth for someone is:\r\n\r\n    public class FlickrLogin1 extends AsyncTask&lt;String, String, String&gt; {\r\n    \r\n            public final String TAG = FlickrLogin1.class.getSimpleName();\r\n            String url;\r\n            int count = 0;\r\n    \r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                Log.d(TAG, &quot;START&quot;);\r\n            }\r\n    \r\n            @Override\r\n            protected String doInBackground(String... params) {\r\n                String result = &quot;&quot;;\r\n                try {\r\n    \r\n                    Flickr.debugRequest = false;\r\n                    Flickr.debugStream = false;\r\n    \r\n    \r\n                    flickr = new Flickr(flickrKey, flickrSecret, new REST());\r\n                    authInterface = flickr.getAuthInterface();\r\n     \r\n                    token = authInterface.getRequestToken(&quot;your calback url&quot;);\r\n                    L(&quot;Token: &quot; + token);\r\n    \r\n                    result = authInterface.getAuthorizationUrl(token, Permission.WRITE);\r\n    \r\n    \r\n                    return result;\r\n                } catch (IllegalStateException e) {\r\n                    e.printStackTrace();\r\n                    return result;\r\n                } catch (VerifyError e) {\r\n                    e.printStackTrace();\r\n                    return result;\r\n                }\r\n    \r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(String result) {\r\n                if (result != null &amp;&amp; result.length() &gt; 0) {\r\n                    L(&quot;Follow this URL to authorise yourself on Flickr&quot;);\r\n                    L(result);\r\n                    auth_dialog = new Dialog(getActivity());\r\n                    auth_dialog.setContentView(R.layout.auth_dialog);\r\n                    final WebView web = (WebView) auth_dialog.findViewById(R.id.webv);\r\n                    web.getSettings().setJavaScriptEnabled(true);\r\n    \r\n                    web.loadUrl(result);\r\n    \r\n                    web.setWebViewClient(\r\n                            new WebViewClient() {\r\n    \r\n                                @Override\r\n                                public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                                    super.onPageStarted(view, url, favicon);\r\n                                    L(&quot;url to start &quot; + url);\r\n                                    if (url.contains(&quot;&amp;oauth_verifier&quot;)) {\r\n                                        auth_dialog.dismiss();\r\n                                        Uri uri = Uri.parse(url);\r\n                                        String oauth_verifier = uri.getQueryParameter(&quot;oauth_verifier&quot;);\r\n                                        String oauth_token = uri.getQueryParameter(&quot;oauth_token&quot;);\r\n                                        new FlickrLogin2().execute(oauth_token, oauth_verifier);\r\n                                    }\r\n                                }\r\n    \r\n                                String authCode;\r\n    \r\n                                @Override\r\n                                public void onPageFinished(WebView view, String url) {\r\n                                    super.onPageFinished(view, url);\r\n                                    L(&quot;url to get &quot; + url);\r\n    \r\n    \r\n                                }\r\n                            });\r\n    \r\n                    auth_dialog.show();\r\n                    auth_dialog.setTitle(&quot;Authorize&quot;);\r\n                    auth_dialog.setCancelable(true);\r\n    \r\n    \r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        public class FlickrLogin2 extends AsyncTask&lt;String, Void, String&gt; {\r\n            @Override\r\n            protected void onPreExecute() {\r\n            }\r\n    \r\n            @Override\r\n            protected String doInBackground(String... oauth_verifier) {\r\n                L(&quot;CODE &quot; + oauth_verifier[0] + &quot; &quot; + oauth_verifier[1]);\r\n                try {\r\n                    Verifier verifier = new Verifier(oauth_verifier[1]);\r\n                    Token accessToken = authInterface.getAccessToken(token, verifier);\r\n                    System.out.println(&quot;Authentication success&quot;);\r\n                    Auth auth = new Auth();\r\n                    authInterface = flickr.getAuthInterface();\r\n                    Token requestToken = authInterface.getRequestToken();\r\n                    L(&quot;auth tocen and secret: &quot; + requestToken.getToken() + &quot; , &quot; + requestToken.getSecret());\r\n                    auth.setToken(requestToken.getToken());\r\n                    auth.setTokenSecret(requestToken.getSecret()); // thats the token I got from the registration, before I set the token of the requestToken\r\n                    auth.setPermission(Permission.WRITE);\r\n                    RequestContext requestContext = RequestContext.getRequestContext();\r\n                    requestContext.setAuth(auth);\r\n                    flickr.setAuth(auth);\r\n                    L(&quot;checking for token&quot; + accessToken);\r\n                    auth = authInterface.checkToken(accessToken);\r\n    \r\n                    // This token can be used until the user revokes it. \r\n                    L(&quot;Token: &quot; + accessToken.getToken());\r\n                    L(&quot;Secret: &quot; + accessToken.getSecret());\r\n                    L(&quot;nsid: &quot; + auth.getUser().getId());\r\n                    L(&quot;Realname: &quot; + auth.getUser().getRealName());\r\n                    L(&quot;Username: &quot; + auth.getUser().getUsername());\r\n                    L(&quot;Permission: &quot; + auth.getPermission().getType());\r\n                } catch (FlickrException e) {\r\n                    e.printStackTrace();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(String result) {\r\n    \r\n            }\r\n    \r\n        }","title":"Flickr Oauth Android","body":"<p>Finaly, i found an answer (this provide a calback url: <code>token = authInterface.getRequestToken(\"your calback url\");</code>),  the code for auth for someone is:</p>\n\n<pre><code>public class FlickrLogin1 extends AsyncTask&lt;String, String, String&gt; {\n\n        public final String TAG = FlickrLogin1.class.getSimpleName();\n        String url;\n        int count = 0;\n\n\n        @Override\n        protected void onPreExecute() {\n            Log.d(TAG, \"START\");\n        }\n\n        @Override\n        protected String doInBackground(String... params) {\n            String result = \"\";\n            try {\n\n                Flickr.debugRequest = false;\n                Flickr.debugStream = false;\n\n\n                flickr = new Flickr(flickrKey, flickrSecret, new REST());\n                authInterface = flickr.getAuthInterface();\n\n                token = authInterface.getRequestToken(\"your calback url\");\n                L(\"Token: \" + token);\n\n                result = authInterface.getAuthorizationUrl(token, Permission.WRITE);\n\n\n                return result;\n            } catch (IllegalStateException e) {\n                e.printStackTrace();\n                return result;\n            } catch (VerifyError e) {\n                e.printStackTrace();\n                return result;\n            }\n\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            if (result != null &amp;&amp; result.length() &gt; 0) {\n                L(\"Follow this URL to authorise yourself on Flickr\");\n                L(result);\n                auth_dialog = new Dialog(getActivity());\n                auth_dialog.setContentView(R.layout.auth_dialog);\n                final WebView web = (WebView) auth_dialog.findViewById(R.id.webv);\n                web.getSettings().setJavaScriptEnabled(true);\n\n                web.loadUrl(result);\n\n                web.setWebViewClient(\n                        new WebViewClient() {\n\n                            @Override\n                            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                                super.onPageStarted(view, url, favicon);\n                                L(\"url to start \" + url);\n                                if (url.contains(\"&amp;oauth_verifier\")) {\n                                    auth_dialog.dismiss();\n                                    Uri uri = Uri.parse(url);\n                                    String oauth_verifier = uri.getQueryParameter(\"oauth_verifier\");\n                                    String oauth_token = uri.getQueryParameter(\"oauth_token\");\n                                    new FlickrLogin2().execute(oauth_token, oauth_verifier);\n                                }\n                            }\n\n                            String authCode;\n\n                            @Override\n                            public void onPageFinished(WebView view, String url) {\n                                super.onPageFinished(view, url);\n                                L(\"url to get \" + url);\n\n\n                            }\n                        });\n\n                auth_dialog.show();\n                auth_dialog.setTitle(\"Authorize\");\n                auth_dialog.setCancelable(true);\n\n\n            }\n\n        }\n    }\n\n\n    public class FlickrLogin2 extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        protected void onPreExecute() {\n        }\n\n        @Override\n        protected String doInBackground(String... oauth_verifier) {\n            L(\"CODE \" + oauth_verifier[0] + \" \" + oauth_verifier[1]);\n            try {\n                Verifier verifier = new Verifier(oauth_verifier[1]);\n                Token accessToken = authInterface.getAccessToken(token, verifier);\n                System.out.println(\"Authentication success\");\n                Auth auth = new Auth();\n                authInterface = flickr.getAuthInterface();\n                Token requestToken = authInterface.getRequestToken();\n                L(\"auth tocen and secret: \" + requestToken.getToken() + \" , \" + requestToken.getSecret());\n                auth.setToken(requestToken.getToken());\n                auth.setTokenSecret(requestToken.getSecret()); // thats the token I got from the registration, before I set the token of the requestToken\n                auth.setPermission(Permission.WRITE);\n                RequestContext requestContext = RequestContext.getRequestContext();\n                requestContext.setAuth(auth);\n                flickr.setAuth(auth);\n                L(\"checking for token\" + accessToken);\n                auth = authInterface.checkToken(accessToken);\n\n                // This token can be used until the user revokes it. \n                L(\"Token: \" + accessToken.getToken());\n                L(\"Secret: \" + accessToken.getSecret());\n                L(\"nsid: \" + auth.getUser().getId());\n                L(\"Realname: \" + auth.getUser().getRealName());\n                L(\"Username: \" + auth.getUser().getUsername());\n                L(\"Permission: \" + auth.getPermission().getType());\n            } catch (FlickrException e) {\n                e.printStackTrace();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647873743,"creation_date":1647873743,"answer_id":71559444,"question_id":30800561,"body_markdown":"Anyone who&#39;s struggling to get this to work with more recent version of Android with Kotlin, I have a gist that can be found [here](https://gist.github.com/dalegaspi/bd9ea42255ed6783e59e8b945d4bb4a6).  ","title":"Flickr Oauth Android","body":"<p>Anyone who's struggling to get this to work with more recent version of Android with Kotlin, I have a gist that can be found <a href=\"https://gist.github.com/dalegaspi/bd9ea42255ed6783e59e8b945d4bb4a6\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1464906,"reputation":170,"user_id":1378069,"accept_rate":14,"display_name":"Alexandro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647873743,"creation_date":1434104027,"question_id":30800561,"body_markdown":"I want to authorize user from my app, I am following some example found on internet (http://www.programcreek.com/java-api-examples/index.php?api=org.scribe.model.Token):\r\n\r\n    public static void auth() throws IOException, FlickrException {\r\n      Properties properties;\r\n      InputStream in=null;\r\n      try {\r\n        in=AuthExample.class.getResourceAsStream(&quot;/setup.properties&quot;);\r\n        properties=new Properties();\r\n        properties.load(in);\r\n      }\r\n      finally {\r\n        IOUtilities.close(in);\r\n      }\r\n      Flickr flickr=new Flickr(properties.getProperty(&quot;apiKey&quot;),properties.getProperty(&quot;secret&quot;),new REST());\r\n      Flickr.debugStream=false;\r\n      AuthInterface authInterface=flickr.getAuthInterface();\r\n      Scanner scanner=new Scanner(System.in);\r\n      Token token=authInterface.getRequestToken();\r\n      System.out.println(&quot;token: &quot; + token);\r\n      String url=authInterface.getAuthorizationUrl(token,Permission.READ);\r\n      System.out.println(&quot;Follow this URL to authorise yourself on Flickr&quot;);\r\n      System.out.println(url);\r\n      System.out.println(&quot;Paste in the token it gives you:&quot;);\r\n      System.out.print(&quot;&gt;&gt;&quot;);\r\n      String tokenKey=scanner.nextLine();\r\n      Token requestToken=authInterface.getAccessToken(token,new Verifier(tokenKey));\r\n      System.out.println(&quot;Authentication success&quot;);\r\n      Auth auth=authInterface.checkToken(requestToken);\r\n      System.out.println(&quot;Token: &quot; + requestToken.getToken());\r\n      System.out.println(&quot;nsid: &quot; + auth.getUser().getId());\r\n      System.out.println(&quot;Realname: &quot; + auth.getUser().getRealName());\r\n      System.out.println(&quot;Username: &quot; + auth.getUser().getUsername());\r\n      System.out.println(&quot;Permission: &quot; + auth.getPermission().getType());\r\n    }\r\n\r\nI am using **webview**, **scribe** and **Flickr4Java** for run URL which provide a code, authenticate and web view shows me a code, which I must pass to my app, but I can&#39;t understand how to retrieve this **code** from webview, and pass to **tokenKey**.\r\n\r\n    I am added onpageFinished and print URL which me give:\r\n    06-12 13:03:55.266     E/NEW﹕ uri is: https://m.flickr.com/services/oauth/authorize?oauth_token=72157654039925698-81abc00d035f5da0&amp;perms=write\r\n    06-12 13:03:55.601    W/BindingManager﹕ Cannot call determinedVisibility() - never saw a connection for the pid: 4581\r\n    06-12 13:03:56.166      E/NEW﹕ uri is: https://m.flickr.com/#/services/oauth/authorize/_QM_oauth_token_IS_72157654039925698-81abc00d035f5da0_AND_perms_IS_write\r\n    06-12 13:03:56.476    W/BindingManager﹕ Cannot call determinedVisibility() - never saw a connection for the pid: 4581\r\n    06-12 13:03:56.476    E/NEW﹕ uri is: https://m.flickr.com/#/services/oauth/authorize/_QM_oauth_token_IS_72157654039925698-81abc00d035f5da0_AND_perms_IS_write\r\n    06-12 13:04:00.411   W/BindingManager﹕ Cannot call determinedVisibility() - never saw a connection for the pid: 4581\r\n    06-12 13:04:00.416   E/NEW﹕ uri is: https://m.flickr.com/#/#\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aMyIw.png","title":"Flickr Oauth Android","body":"<p>I want to authorize user from my app, I am following some example found on internet (<a href=\"http://www.programcreek.com/java-api-examples/index.php?api=org.scribe.model.Token\" rel=\"nofollow noreferrer\">http://www.programcreek.com/java-api-examples/index.php?api=org.scribe.model.Token</a>):</p>\n<pre><code>public static void auth() throws IOException, FlickrException {\n  Properties properties;\n  InputStream in=null;\n  try {\n    in=AuthExample.class.getResourceAsStream(&quot;/setup.properties&quot;);\n    properties=new Properties();\n    properties.load(in);\n  }\n  finally {\n    IOUtilities.close(in);\n  }\n  Flickr flickr=new Flickr(properties.getProperty(&quot;apiKey&quot;),properties.getProperty(&quot;secret&quot;),new REST());\n  Flickr.debugStream=false;\n  AuthInterface authInterface=flickr.getAuthInterface();\n  Scanner scanner=new Scanner(System.in);\n  Token token=authInterface.getRequestToken();\n  System.out.println(&quot;token: &quot; + token);\n  String url=authInterface.getAuthorizationUrl(token,Permission.READ);\n  System.out.println(&quot;Follow this URL to authorise yourself on Flickr&quot;);\n  System.out.println(url);\n  System.out.println(&quot;Paste in the token it gives you:&quot;);\n  System.out.print(&quot;&gt;&gt;&quot;);\n  String tokenKey=scanner.nextLine();\n  Token requestToken=authInterface.getAccessToken(token,new Verifier(tokenKey));\n  System.out.println(&quot;Authentication success&quot;);\n  Auth auth=authInterface.checkToken(requestToken);\n  System.out.println(&quot;Token: &quot; + requestToken.getToken());\n  System.out.println(&quot;nsid: &quot; + auth.getUser().getId());\n  System.out.println(&quot;Realname: &quot; + auth.getUser().getRealName());\n  System.out.println(&quot;Username: &quot; + auth.getUser().getUsername());\n  System.out.println(&quot;Permission: &quot; + auth.getPermission().getType());\n}\n</code></pre>\n<p>I am using <strong>webview</strong>, <strong>scribe</strong> and <strong>Flickr4Java</strong> for run URL which provide a code, authenticate and web view shows me a code, which I must pass to my app, but I can't understand how to retrieve this <strong>code</strong> from webview, and pass to <strong>tokenKey</strong>.</p>\n<pre><code>I am added onpageFinished and print URL which me give:\n06-12 13:03:55.266     E/NEW﹕ uri is: https://m.flickr.com/services/oauth/authorize?oauth_token=72157654039925698-81abc00d035f5da0&amp;perms=write\n06-12 13:03:55.601    W/BindingManager﹕ Cannot call determinedVisibility() - never saw a connection for the pid: 4581\n06-12 13:03:56.166      E/NEW﹕ uri is: https://m.flickr.com/#/services/oauth/authorize/_QM_oauth_token_IS_72157654039925698-81abc00d035f5da0_AND_perms_IS_write\n06-12 13:03:56.476    W/BindingManager﹕ Cannot call determinedVisibility() - never saw a connection for the pid: 4581\n06-12 13:03:56.476    E/NEW﹕ uri is: https://m.flickr.com/#/services/oauth/authorize/_QM_oauth_token_IS_72157654039925698-81abc00d035f5da0_AND_perms_IS_write\n06-12 13:04:00.411   W/BindingManager﹕ Cannot call determinedVisibility() - never saw a connection for the pid: 4581\n06-12 13:04:00.416   E/NEW﹕ uri is: https://m.flickr.com/#/#\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/aMyIw.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","flickr","scribe"],"answers":[{"tags":[],"owner":{"account_id":1016372,"reputation":593,"user_id":1027867,"accept_rate":39,"display_name":"Desire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362148590,"creation_date":1362148590,"answer_id":15160253,"question_id":15132755,"body_markdown":"I&#39;ve figured out the problem! When I call the method `webview.loadUrl(authURL);` the url of flickr www.flickr.com changes to m.flickr.com which triggers the event `shouldOverrideUrlLoading` before any user login/authentication.\r\n\r\n    if(authURL.charAt(7)==&#39;w&#39;)\r\n    {\r\n       authURL=authURL.replaceFirst(&quot;www&quot;, &quot;m&quot;);\r\n    } \r\nsolved my problem.","title":"Flickr Oauth Login using Scribe Library","body":"<p>I've figured out the problem! When I call the method <code>webview.loadUrl(authURL);</code> the url of flickr www.flickr.com changes to m.flickr.com which triggers the event <code>shouldOverrideUrlLoading</code> before any user login/authentication.</p>\n\n<pre><code>if(authURL.charAt(7)=='w')\n{\n   authURL=authURL.replaceFirst(\"www\", \"m\");\n} \n</code></pre>\n\n<p>solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647873669,"creation_date":1647873669,"answer_id":71559427,"question_id":15132755,"body_markdown":"Anyone who&#39;s struggling to get this to work with more recent version of Android, I have a gist that can be found [here](https://gist.github.com/dalegaspi/bd9ea42255ed6783e59e8b945d4bb4a6).  This uses Scribe and Flickr4J because Scribe does not have a facility AFAIK to create a requestToken for auth with a callback.  One of the things to note here is that the code above will not work as is with more recent version of Android since it no longer allow network tasks in the UI thread...and I addressed this in the gist through the use of (the recently deprecated `AsyncTask`)","title":"Flickr Oauth Login using Scribe Library","body":"<p>Anyone who's struggling to get this to work with more recent version of Android, I have a gist that can be found <a href=\"https://gist.github.com/dalegaspi/bd9ea42255ed6783e59e8b945d4bb4a6\" rel=\"nofollow noreferrer\">here</a>.  This uses Scribe and Flickr4J because Scribe does not have a facility AFAIK to create a requestToken for auth with a callback.  One of the things to note here is that the code above will not work as is with more recent version of Android since it no longer allow network tasks in the UI thread...and I addressed this in the gist through the use of (the recently deprecated <code>AsyncTask</code>)</p>\n"}],"owner":{"account_id":1016372,"reputation":593,"user_id":1027867,"accept_rate":39,"display_name":"Desire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2111,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1647873669,"creation_date":1362046234,"question_id":15132755,"body_markdown":"I&#39;m pretty new to android, please forgive any mistake.\r\n\r\n    package net.schwiz.oauth;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.scribe.builder.ServiceBuilder;\r\n    import org.scribe.builder.api.TwitterApi;\r\n    import org.scribe.model.OAuthRequest;\r\n    import org.scribe.model.Response;\r\n    import org.scribe.model.Token;\r\n    import org.scribe.model.Verb;\r\n    import org.scribe.model.Verifier;\r\n    import org.scribe.oauth.OAuthService;\r\n    \r\n    import android.app.Activity;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.TextView;\r\n    \r\n\r\n    public class Main extends Activity {\r\n    \t\r\n    \tfinal static String APIKEY = &quot;XXXXXXXXXXXXXXXXXXXX&quot;;\r\n    \tfinal static String APISECRET = &quot;XXXXXXXXXXXXXXXXXXXX&quot;;\r\n    \t\t\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            \r\n            final TextView textView = (TextView)findViewById(R.id.textview);\r\n            final  WebView webview = (WebView) findViewById(R.id.webview);\r\n            \r\n            if(APIKEY == null || APISECRET == null){\r\n            \ttextView.setText(&quot;You must enter your own APIKEY and SECRET to use this demo.  dev.twitter.com&quot;);\r\n            \twebview.setVisibility(View.GONE);\r\n            \treturn;\r\n            }\r\n            \r\n            //set up service and get request token as seen on scribe website \r\n            //https://github.com/fernandezpablo85/scribe-java/wiki/Getting-Started\r\n            final OAuthService s = new ServiceBuilder()\r\n            .provider(TwitterApi.class)\r\n    \t\t.apiKey(APIKEY)\r\n    \t\t.apiSecret(APISECRET)\r\n    \t\t.callback(CALLBACK)\r\n    \t\t.build();\r\n    \r\n    \t\tfinal Token requestToken = s.getRequestToken();\r\n    \t\tfinal String authURL = s.getAuthorizationUrl(requestToken);\r\n            \r\n            //attach WebViewClient to intercept the callback url\r\n            webview.setWebViewClient(new WebViewClient(){\r\n            \t@Override\r\n            \tpublic boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            \t\t\r\n            \t\t//check for our custom callback protocol otherwise use default behavior\r\n            \t\tif(url.startsWith(&quot;oauth&quot;)){\r\n            \t\t\t//authorization complete hide webview for now.\r\n            \t\t\twebview.setVisibility(View.GONE);\r\n            \t\t\t\r\n            \t\t\tUri uri = Uri.parse(url);\r\n            \t\t\tString verifier = uri.getQueryParameter(&quot;oauth_verifier&quot;);\r\n            \t\t\tVerifier v = new Verifier(verifier);\r\n            \t\t\t\r\n            \t\t\t//save this token for practical use.\r\n            \t\t\tToken accessToken = s.getAccessToken(requestToken, v);\r\n            \t\t\t\r\n            \t\t\r\n            \t\t\tif(uri.getHost().equals(&quot;twitter&quot;)){\r\n    \t        \t\t\tOAuthRequest req = new OAuthRequest(Verb.GET, &quot;URL here&quot;);\r\n    \t        \t\t\ts.signRequest(accessToken, req);\r\n    \t        \t\t\tResponse response = req.send();\r\n    \t        \t\t\ttry {\r\n    \t\t\t\t\t\t\tJSONObject json = new JSONObject(response.getBody());\r\n    \t\t\t\t\t\t\ttextView.setText(json.toString(3));\r\n    \t\t\t\t\t\t} catch (JSONException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\treturn true;\r\n            \t\t}\r\n            \t\t\r\n            \t\t\r\n            \t\treturn super.shouldOverrideUrlLoading(view, url);\r\n            \t}\r\n            });\r\n            \r\n    \r\n            //send user to authorization page\r\n            webview.loadUrl(authURL);\r\n        }\r\n    }\r\nI tried this code, its working fine with twitter, but now i want to authenticate user using Flickr, The above code is not working in that case, the if condition `if(url.startsWith(&quot;oauth&quot;))` is not working the way I supposed. Please help.","title":"Flickr Oauth Login using Scribe Library","body":"<p>I'm pretty new to android, please forgive any mistake.</p>\n\n<pre><code>package net.schwiz.oauth;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.scribe.builder.ServiceBuilder;\nimport org.scribe.builder.api.TwitterApi;\nimport org.scribe.model.OAuthRequest;\nimport org.scribe.model.Response;\nimport org.scribe.model.Token;\nimport org.scribe.model.Verb;\nimport org.scribe.model.Verifier;\nimport org.scribe.oauth.OAuthService;\n\nimport android.app.Activity;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.TextView;\n\n\npublic class Main extends Activity {\n\n    final static String APIKEY = \"XXXXXXXXXXXXXXXXXXXX\";\n    final static String APISECRET = \"XXXXXXXXXXXXXXXXXXXX\";\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        final TextView textView = (TextView)findViewById(R.id.textview);\n        final  WebView webview = (WebView) findViewById(R.id.webview);\n\n        if(APIKEY == null || APISECRET == null){\n            textView.setText(\"You must enter your own APIKEY and SECRET to use this demo.  dev.twitter.com\");\n            webview.setVisibility(View.GONE);\n            return;\n        }\n\n        //set up service and get request token as seen on scribe website \n        //https://github.com/fernandezpablo85/scribe-java/wiki/Getting-Started\n        final OAuthService s = new ServiceBuilder()\n        .provider(TwitterApi.class)\n        .apiKey(APIKEY)\n        .apiSecret(APISECRET)\n        .callback(CALLBACK)\n        .build();\n\n        final Token requestToken = s.getRequestToken();\n        final String authURL = s.getAuthorizationUrl(requestToken);\n\n        //attach WebViewClient to intercept the callback url\n        webview.setWebViewClient(new WebViewClient(){\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n                //check for our custom callback protocol otherwise use default behavior\n                if(url.startsWith(\"oauth\")){\n                    //authorization complete hide webview for now.\n                    webview.setVisibility(View.GONE);\n\n                    Uri uri = Uri.parse(url);\n                    String verifier = uri.getQueryParameter(\"oauth_verifier\");\n                    Verifier v = new Verifier(verifier);\n\n                    //save this token for practical use.\n                    Token accessToken = s.getAccessToken(requestToken, v);\n\n\n                    if(uri.getHost().equals(\"twitter\")){\n                        OAuthRequest req = new OAuthRequest(Verb.GET, \"URL here\");\n                        s.signRequest(accessToken, req);\n                        Response response = req.send();\n                        try {\n                            JSONObject json = new JSONObject(response.getBody());\n                            textView.setText(json.toString(3));\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    return true;\n                }\n\n\n                return super.shouldOverrideUrlLoading(view, url);\n            }\n        });\n\n\n        //send user to authorization page\n        webview.loadUrl(authURL);\n    }\n}\n</code></pre>\n\n<p>I tried this code, its working fine with twitter, but now i want to authenticate user using Flickr, The above code is not working in that case, the if condition <code>if(url.startsWith(\"oauth\"))</code> is not working the way I supposed. Please help.</p>\n"},{"tags":["java","android","kotlin","animation","button"],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647873612,"creation_date":1647872116,"question_id":71559082,"body_markdown":"I&#39;m trying to make a list of buttons bounce when a view gets visible. But I cannot get the desired result, it doesn&#39;t look similar at all.\r\n\r\nI tried it with a bounce interpolator and an overshoot interpolator (used on a scale animation), but as said, it doesn&#39;t look similar to the desired result.\r\n\r\n---\r\n\r\nThis is a gif of the desired result, it&#39;s from What&#39;s App. It&#39;s not about the circular reveal, it&#39;s only about that bouncing pop-up animation they used on the buttons (document, camera, gallery, audio, ... buttons).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LjRct.gif","title":"Button pop-up bounce animation like What&#39;s App","body":"<p>I'm trying to make a list of buttons bounce when a view gets visible. But I cannot get the desired result, it doesn't look similar at all.</p>\n<p>I tried it with a bounce interpolator and an overshoot interpolator (used on a scale animation), but as said, it doesn't look similar to the desired result.</p>\n<hr />\n<p>This is a gif of the desired result, it's from What's App. It's not about the circular reveal, it's only about that bouncing pop-up animation they used on the buttons (document, camera, gallery, audio, ... buttons).</p>\n<p><a href=\"https://i.stack.imgur.com/LjRct.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LjRct.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xpath","vtd-xml"],"comments":[{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":1,"creation_date":1647867672,"post_id":71557744,"comment_id":126471663,"body_markdown":"You should realize that the XPath expression `//ScId` starts from the root of the document, again. So it selects the first matching `ScId` and **not** the one you selected with your previous expression.","body":"You should realize that the XPath expression <code>&#47;&#47;ScId</code> starts from the root of the document, again. So it selects the first matching <code>ScId</code> and <b>not</b> the one you selected with your previous expression."},{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1647868254,"post_id":71557744,"comment_id":126471870,"body_markdown":"OK, so how do we select the ScId from the current node. concat(./ScId,&#39;-NEW&#39;) this won&#39;t work either.","body":"OK, so how do we select the ScId from the current node. concat(./ScId,&#39;-NEW&#39;) this won&#39;t work either."}],"answers":[{"tags":[],"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647873482,"creation_date":1647873482,"answer_id":71559389,"question_id":71557744,"body_markdown":"Maybe this XPath-1.0 expression helps you. I have no Java available to test it.\r\n\r\n    /*/School[starts-with(ScId,&#39;RC&#39;) and Location/Branch[Type=&#39;Daycare&#39;]]\r\n\r\nThis iterates over _all_ `&lt;School&gt;` elements that satisfy the conditions.  \r\nTo get the `&lt;ScId&gt;`, add the string `/ScId` to the end of the expression.","title":"XPATH query to select parent based on matching child element conditon","body":"<p>Maybe this XPath-1.0 expression helps you. I have no Java available to test it.</p>\n<pre><code>/*/School[starts-with(ScId,'RC') and Location/Branch[Type='Daycare']]\n</code></pre>\n<p>This iterates over <em>all</em> <code>&lt;School&gt;</code> elements that satisfy the conditions.<br />\nTo get the <code>&lt;ScId&gt;</code>, add the string <code>/ScId</code> to the end of the expression.</p>\n"}],"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71559389,"answer_count":1,"score":0,"last_activity_date":1647873482,"creation_date":1647866264,"question_id":71557744,"body_markdown":"I am trying to parse the below xml to fetch the ScId element values based on certain condition.\r\nThis condition is mentioned in the xpath string and then select the ScId value in xpathNext string.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n    &lt;SchoolData&gt;\r\n    &lt;School&gt;\r\n    &lt;ScId&gt;SC101-91&lt;/ScId&gt;\r\n        &lt;Location&gt;\r\n          &lt;Branch&gt;\r\n            &lt;BranchId&gt;Br-111&lt;/BranchId&gt;\r\n            &lt;Type&gt;Residential&lt;/Type&gt;\r\n            &lt;RealType&gt;Residential&lt;/RealType&gt;\r\n          &lt;/Branch&gt;\r\n          &lt;Branch&gt;\r\n            &lt;BranchId&gt;BR-222&lt;/BranchId&gt;\r\n            &lt;Type&gt;Daycare&lt;/Type&gt;\r\n            &lt;RealType&gt;Daycare&lt;/RealType&gt;\r\n          &lt;/Branch&gt;\r\n          &lt;Branch&gt;\r\n            &lt;BranchId&gt;Br-333&lt;/BranchId&gt;\r\n            &lt;Type&gt;Unknown&lt;/Type&gt;\r\n            &lt;RealType&gt;Unknown&lt;/RealType&gt;\r\n          &lt;/Branch&gt;\r\n        &lt;/Location&gt;\r\n    &lt;/School&gt;\r\n    \r\n    &lt;School&gt;\r\n    &lt;ScId&gt;RC101-92&lt;/ScId&gt;\r\n        &lt;Location&gt;\r\n          &lt;Branch&gt;\r\n            &lt;BranchId&gt;Br-111&lt;/BranchId&gt;\r\n            &lt;Type&gt;Residential&lt;/Type&gt;\r\n            &lt;RealType&gt;Residential&lt;/RealType&gt;\r\n          &lt;/Branch&gt;\r\n          &lt;Branch&gt;\r\n            &lt;BranchId&gt;BR-222&lt;/BranchId&gt;\r\n            &lt;Type&gt;Daycare&lt;/Type&gt;\r\n            &lt;RealType&gt;Daycare&lt;/RealType&gt;\r\n          &lt;/Branch&gt;\r\n          &lt;Branch&gt;\r\n            &lt;BranchId&gt;Br-333&lt;/BranchId&gt;\r\n            &lt;Type&gt;Unknown&lt;/Type&gt;\r\n            &lt;RealType&gt;Unknown&lt;/RealType&gt;\r\n          &lt;/Branch&gt;\r\n        &lt;/Location&gt;\r\n    &lt;/School&gt;\r\n    &lt;/SchoolData&gt;\r\n\r\nI&#39;m using nested xpath query using VTD xml parser to fetch the ScId value which start with RC and Type = Daycare.\r\n\r\nBelow is the code\r\n\r\n    String xpath = &quot;/*/School[starts-with(ScId,&#39;RC&#39;)]/Location/Branch[Type=&#39;Daycare&#39;]&quot;;\r\n    \t\tString xml = &quot;/school.xml&quot;;\r\n    \t\t\r\n    \t\tfinal VTDGenHuge vg = new VTDGenHuge();\r\n    \t\tSystem.out.println(&quot;Parsing&quot;);\r\n    \t\tvg.parseFile(xml, true, VTDGenHuge.MEM_MAPPED);\r\n    \r\n    \t\tVTDNavHuge vn = vg.getNav();\r\n    \r\n    \t\tAutoPilotHuge aph = new AutoPilotHuge(vn);\r\n    \t\tString xpathNext = &quot;concat(//ScId,&#39;-NEW&#39;)&quot;;\r\n    \t\taph.selectXPath(xpath);\r\n    \t\twhile ((aph.evalXPath()) != -1) {\r\n    \t\t\tgetparsedValue(vn,xpathNext);\r\n    \t\t\t\r\n    \t\t}\r\n\r\n and parsing logic is \r\n\r\n    private static String getparsedValue(final VTDNavHuge vn, String xpath) throws NavException,\r\n    \r\n    \tXPathParseException, XPathEvalException, XPathParseExceptionHuge, XPathEvalExceptionHuge, NavExceptionHuge{\r\n    \r\n    \t\tString value = null;\r\n    \t\tvn.push();\r\n    \t\t\r\n    \t\tAutoPilotHuge ap = new AutoPilotHuge(vn);\r\n    \t\tap.selectXPath(xpath);\r\n    \r\n    \t\tap.bind(vn);\r\n    \t\tvalue = ap.evalXPathToString();\r\n    \t\tSystem.out.println(&quot;parsed value is &quot; +value);\r\n    \t\tvn.pop();\r\n    \t\treturn value;\r\n    \t}\r\n\r\nThis returns me \r\n\r\n&gt; parsed value is SC101-91-NEW\r\n\r\nwhile I&#39;m expecting it to be \r\n\r\n&gt; parsed value is RC101-92-NEW\r\n\r\n","title":"XPATH query to select parent based on matching child element conditon","body":"<p>I am trying to parse the below xml to fetch the ScId element values based on certain condition.\nThis condition is mentioned in the xpath string and then select the ScId value in xpathNext string.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\n&lt;SchoolData&gt;\n&lt;School&gt;\n&lt;ScId&gt;SC101-91&lt;/ScId&gt;\n    &lt;Location&gt;\n      &lt;Branch&gt;\n        &lt;BranchId&gt;Br-111&lt;/BranchId&gt;\n        &lt;Type&gt;Residential&lt;/Type&gt;\n        &lt;RealType&gt;Residential&lt;/RealType&gt;\n      &lt;/Branch&gt;\n      &lt;Branch&gt;\n        &lt;BranchId&gt;BR-222&lt;/BranchId&gt;\n        &lt;Type&gt;Daycare&lt;/Type&gt;\n        &lt;RealType&gt;Daycare&lt;/RealType&gt;\n      &lt;/Branch&gt;\n      &lt;Branch&gt;\n        &lt;BranchId&gt;Br-333&lt;/BranchId&gt;\n        &lt;Type&gt;Unknown&lt;/Type&gt;\n        &lt;RealType&gt;Unknown&lt;/RealType&gt;\n      &lt;/Branch&gt;\n    &lt;/Location&gt;\n&lt;/School&gt;\n\n&lt;School&gt;\n&lt;ScId&gt;RC101-92&lt;/ScId&gt;\n    &lt;Location&gt;\n      &lt;Branch&gt;\n        &lt;BranchId&gt;Br-111&lt;/BranchId&gt;\n        &lt;Type&gt;Residential&lt;/Type&gt;\n        &lt;RealType&gt;Residential&lt;/RealType&gt;\n      &lt;/Branch&gt;\n      &lt;Branch&gt;\n        &lt;BranchId&gt;BR-222&lt;/BranchId&gt;\n        &lt;Type&gt;Daycare&lt;/Type&gt;\n        &lt;RealType&gt;Daycare&lt;/RealType&gt;\n      &lt;/Branch&gt;\n      &lt;Branch&gt;\n        &lt;BranchId&gt;Br-333&lt;/BranchId&gt;\n        &lt;Type&gt;Unknown&lt;/Type&gt;\n        &lt;RealType&gt;Unknown&lt;/RealType&gt;\n      &lt;/Branch&gt;\n    &lt;/Location&gt;\n&lt;/School&gt;\n&lt;/SchoolData&gt;\n</code></pre>\n<p>I'm using nested xpath query using VTD xml parser to fetch the ScId value which start with RC and Type = Daycare.</p>\n<p>Below is the code</p>\n<pre><code>String xpath = &quot;/*/School[starts-with(ScId,'RC')]/Location/Branch[Type='Daycare']&quot;;\n        String xml = &quot;/school.xml&quot;;\n        \n        final VTDGenHuge vg = new VTDGenHuge();\n        System.out.println(&quot;Parsing&quot;);\n        vg.parseFile(xml, true, VTDGenHuge.MEM_MAPPED);\n\n        VTDNavHuge vn = vg.getNav();\n\n        AutoPilotHuge aph = new AutoPilotHuge(vn);\n        String xpathNext = &quot;concat(//ScId,'-NEW')&quot;;\n        aph.selectXPath(xpath);\n        while ((aph.evalXPath()) != -1) {\n            getparsedValue(vn,xpathNext);\n            \n        }\n</code></pre>\n<p>and parsing logic is</p>\n<pre><code>private static String getparsedValue(final VTDNavHuge vn, String xpath) throws NavException,\n\n    XPathParseException, XPathEvalException, XPathParseExceptionHuge, XPathEvalExceptionHuge, NavExceptionHuge{\n\n        String value = null;\n        vn.push();\n        \n        AutoPilotHuge ap = new AutoPilotHuge(vn);\n        ap.selectXPath(xpath);\n\n        ap.bind(vn);\n        value = ap.evalXPathToString();\n        System.out.println(&quot;parsed value is &quot; +value);\n        vn.pop();\n        return value;\n    }\n</code></pre>\n<p>This returns me</p>\n<blockquote>\n<p>parsed value is SC101-91-NEW</p>\n</blockquote>\n<p>while I'm expecting it to be</p>\n<blockquote>\n<p>parsed value is RC101-92-NEW</p>\n</blockquote>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647868179,"post_id":71558045,"comment_id":126471841,"body_markdown":"Did you try to query UserType by id then set it to User entity also set user entities to userType?","body":"Did you try to query UserType by id then set it to User entity also set user entities to userType?"},{"owner":{"account_id":14013147,"reputation":21,"user_id":10590696,"display_name":"Stgr"},"score":0,"creation_date":1647868484,"post_id":71558045,"comment_id":126471959,"body_markdown":"I set the relationship in both sides before saving.","body":"I set the relationship in both sides before saving."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647868586,"post_id":71558045,"comment_id":126472007,"body_markdown":"Did you query from database?","body":"Did you query from database?"},{"owner":{"account_id":14013147,"reputation":21,"user_id":10590696,"display_name":"Stgr"},"score":0,"creation_date":1647868826,"post_id":71558045,"comment_id":126472116,"body_markdown":"No, I just set the relationship before saving and let JPA to throw an exception about the UserType not existing in that case.What concerns me is that it behaves different when the User I&#39;m creating is new, than when I&#39;m updating.","body":"No, I just set the relationship before saving and let JPA to throw an exception about the UserType not existing in that case.What concerns me is that it behaves different when the User I&#39;m creating is new, than when I&#39;m updating."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647868968,"post_id":71558045,"comment_id":126472170,"body_markdown":"Transient object mean there is no record of UserType in database. So it can not set id to column.","body":"Transient object mean there is no record of UserType in database. So it can not set id to column."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647869019,"post_id":71558045,"comment_id":126472194,"body_markdown":"If you try to update you automatically query userType so there is no need to query it. It works as expected.","body":"If you try to update you automatically query userType so there is no need to query it. It works as expected."},{"owner":{"account_id":14013147,"reputation":21,"user_id":10590696,"display_name":"Stgr"},"score":0,"creation_date":1647869034,"post_id":71558045,"comment_id":126472202,"body_markdown":"So why is that when I update the exception thrown is EntityNotFound?","body":"So why is that when I update the exception thrown is EntityNotFound?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647869163,"post_id":71558045,"comment_id":126472242,"body_markdown":"How did you insert userType to begin with?","body":"How did you insert userType to begin with?"},{"owner":{"account_id":14013147,"reputation":21,"user_id":10590696,"display_name":"Stgr"},"score":0,"creation_date":1647869966,"post_id":71558045,"comment_id":126472567,"body_markdown":"Just a SQL insert in database.","body":"Just a SQL insert in database."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647870176,"post_id":71558045,"comment_id":126472662,"body_markdown":"@Stgr please add the code that fails specifically so we can be able to help you","body":"@Stgr please add the code that fails specifically so we can be able to help you"},{"owner":{"account_id":14013147,"reputation":21,"user_id":10590696,"display_name":"Stgr"},"score":0,"creation_date":1647872807,"post_id":71558045,"comment_id":126473824,"body_markdown":"I added some code to illustrate where the fail happens. To clarify, the actual behavior is not opposed to what I want, as the User who holds a reference to a UserType that does not exist is not inserted nor updated, but it&#39;s confusing to me that two different exceptions are thrown in such similar scenario.","body":"I added some code to illustrate where the fail happens. To clarify, the actual behavior is not opposed to what I want, as the User who holds a reference to a UserType that does not exist is not inserted nor updated, but it&#39;s confusing to me that two different exceptions are thrown in such similar scenario."}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647869278,"creation_date":1647868524,"answer_id":71558239,"question_id":71558045,"body_markdown":"I think userType has to be queried and set it to User, if you don&#39;t want to create unnecessary UserTypes with cascade all. \r\n\r\nI assume that userType is selected from combobox or similar ui component, so you need to get that UserType from database and set it to user entity which will be created.\r\n\r\nPseudocode :\r\n\r\n    UserType userType = userTypeRepository.findById(userType.getId());\r\n    user.setUserType(userType);\r\n    userRepository.save(user);\r\n\r\n","title":"Avoid an entity to be saved","body":"<p>I think userType has to be queried and set it to User, if you don't want to create unnecessary UserTypes with cascade all.</p>\n<p>I assume that userType is selected from combobox or similar ui component, so you need to get that UserType from database and set it to user entity which will be created.</p>\n<p>Pseudocode :</p>\n<pre><code>UserType userType = userTypeRepository.findById(userType.getId());\nuser.setUserType(userType);\nuserRepository.save(user);\n</code></pre>\n"}],"owner":{"account_id":14013147,"reputation":21,"user_id":10590696,"display_name":"Stgr"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647873241,"creation_date":1647867661,"question_id":71558045,"body_markdown":"I&#39;ve got two entities as follows:\r\n```\r\n@Entity\r\npublic class UserType implements Serializable {\r\n  @Id\r\n  @Column(name = &quot;id&quot;)\r\n  private Integer id;\r\n\r\n  @Column(name = &quot;description&quot;)\r\n  private String description;\r\n\r\n  @OneToMany(mappedBy = &quot;userType&quot;)\r\n  private List&lt;User&gt; users;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class User implements Serializable {\r\n  @Id\r\n  @Column(name = &quot;id&quot;)\r\n  private Integer id;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;user_type&quot;)\r\n  private UserType userType;\r\n\r\n}\r\n```\r\nI don&#39;t want any new UserType to be created, this entity will have the same values the whole life of the project, but I still want it to exist as an entity so new Users only can be created if they are referencing an actual existing UserType.\r\n\r\nWith my current configuration, when I save a User that already exists (aka updating) pointing to a UserType that doesn&#39;t exist, the exception I recieve is EntityNotFoundException which seems ok, indicating me that this User can&#39;t be updated referencing a non existing UserType.\r\nBut, whenever I try to create a new User pointing to a UserType that doesn&#39;t exist, the exception is TransientPropertyValueException, which indicates me that Hibernate is in some way expecting this UserType to be saved.\r\n\r\nThat&#39;s how it&#39;s saved:\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt;{\r\n}\r\n```\r\n\r\n```\r\npublic class UserService {\r\n    private final UserRepository userRepository;\r\n    public User update(User user, UserType userType, Integer id) {\r\n      \r\n      user.setId(id); //I&#39;m updating an already existing entity.\r\n      user.setUserType(userType);//value of userType id does not exists in database.\r\n      user.getUserType().setUsers(List.of(user));\r\n      userRepository.save(user); //this throws EntityNotFoundException\r\n\r\n  }\r\n\r\n    public User create(User user, UserType userType) { \r\n\r\n      user.setUserType(userType); //value of userType id does not exists in database.\r\n      user.getUserType().setUsers(List.of(user));\r\n      userRepository.save(user); //this throws TransientPropertyValueException\r\n  }\r\n\r\n}\r\n```\r\n\r\nIs this correct? Is there some way to avoid this behavior and to make it consistent so everytime I save User, no matter if I&#39;m updating or inserting I receive the same exception?","title":"Avoid an entity to be saved","body":"<p>I've got two entities as follows:</p>\n<pre><code>@Entity\npublic class UserType implements Serializable {\n  @Id\n  @Column(name = &quot;id&quot;)\n  private Integer id;\n\n  @Column(name = &quot;description&quot;)\n  private String description;\n\n  @OneToMany(mappedBy = &quot;userType&quot;)\n  private List&lt;User&gt; users;\n\n}\n</code></pre>\n<pre><code>@Entity\npublic class User implements Serializable {\n  @Id\n  @Column(name = &quot;id&quot;)\n  private Integer id;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;user_type&quot;)\n  private UserType userType;\n\n}\n</code></pre>\n<p>I don't want any new UserType to be created, this entity will have the same values the whole life of the project, but I still want it to exist as an entity so new Users only can be created if they are referencing an actual existing UserType.</p>\n<p>With my current configuration, when I save a User that already exists (aka updating) pointing to a UserType that doesn't exist, the exception I recieve is EntityNotFoundException which seems ok, indicating me that this User can't be updated referencing a non existing UserType.\nBut, whenever I try to create a new User pointing to a UserType that doesn't exist, the exception is TransientPropertyValueException, which indicates me that Hibernate is in some way expecting this UserType to be saved.</p>\n<p>That's how it's saved:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt;{\n}\n</code></pre>\n<pre><code>public class UserService {\n    private final UserRepository userRepository;\n    public User update(User user, UserType userType, Integer id) {\n      \n      user.setId(id); //I'm updating an already existing entity.\n      user.setUserType(userType);//value of userType id does not exists in database.\n      user.getUserType().setUsers(List.of(user));\n      userRepository.save(user); //this throws EntityNotFoundException\n\n  }\n\n    public User create(User user, UserType userType) { \n\n      user.setUserType(userType); //value of userType id does not exists in database.\n      user.getUserType().setUsers(List.of(user));\n      userRepository.save(user); //this throws TransientPropertyValueException\n  }\n\n}\n</code></pre>\n<p>Is this correct? Is there some way to avoid this behavior and to make it consistent so everytime I save User, no matter if I'm updating or inserting I receive the same exception?</p>\n"},{"tags":["java","jenkins","groovy","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":3320207,"reputation":4532,"user_id":2791574,"display_name":"hakamairi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548838762,"creation_date":1548838762,"answer_id":54436723,"question_id":54414072,"body_markdown":"I don&#39;t think you can do it with http-request-plugin, there&#39;s an [open bug for that][1].\r\n\r\nYou could definitely do that with curl - https://stackoverflow.com/questions/6408904/send-post-request-with-data-specified-in-file-via-curl\r\n\r\n    curl -i -X POST host:port/post-file \\\r\n      -H &quot;Content-Type: text/xml&quot; \\\r\n      --data-binary &quot;@path/to/file&quot;\r\n\r\n\r\n  [1]: https://issues.jenkins-ci.org/browse/JENKINS-54749","title":"How can you perform an HTTP POST with a binary file in Jenkins?","body":"<p>I don't think you can do it with http-request-plugin, there's an <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-54749\" rel=\"nofollow noreferrer\">open bug for that</a>.</p>\n\n<p>You could definitely do that with curl - <a href=\"https://stackoverflow.com/questions/6408904/send-post-request-with-data-specified-in-file-via-curl\">Send POST Request with Data Specified in File via Curl</a></p>\n\n<pre><code>curl -i -X POST host:port/post-file \\\n  -H \"Content-Type: text/xml\" \\\n  --data-binary \"@path/to/file\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114511,"reputation":96,"user_id":7473649,"accept_rate":0,"display_name":"Matthias Harter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647873092,"creation_date":1647873092,"answer_id":71559289,"question_id":54414072,"body_markdown":"The httpRequest plugin has got a parameter uploadFile which is a path to the file you want to upload. See documentation https://www.jenkins.io/doc/pipeline/steps/http_request/\r\n(Available since release 1.14 which is quite new)\r\n","title":"How can you perform an HTTP POST with a binary file in Jenkins?","body":"<p>The httpRequest plugin has got a parameter uploadFile which is a path to the file you want to upload. See documentation <a href=\"https://www.jenkins.io/doc/pipeline/steps/http_request/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/pipeline/steps/http_request/</a>\n(Available since release 1.14 which is quite new)</p>\n"}],"owner":{"account_id":98074,"reputation":5494,"user_id":265683,"accept_rate":67,"display_name":"RenegadeAndy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2588,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71559289,"answer_count":2,"score":3,"last_activity_date":1647873092,"creation_date":1548737786,"question_id":54414072,"body_markdown":"I would like to perform an HTTP POST of a Binary file, as I would from Postman like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote here I have selected HTTP Post, with the binary option, and flagged my file &quot;splop.sar&quot;.\r\n\r\nThe server replies http 409 which is expected for my use case.\r\n\r\nMy attempt in Jenkins has been as follows, using the [httpRequest][2] plugin :\r\n\r\n    def myFile = readFile(&quot;splop.sar&quot;)\r\n    httpRequest authentication: &#39;userdef&#39;, consoleLogResponseBody: true, contentType: &#39;APPLICATION_ZIP&#39;, httpMode: &#39;POST&#39;, requestBody: myFile, responseHandle: &#39;NONE&#39;, url: &#39;myurl.com/service&#39;\r\n\r\nThe problem is, my backend server rejects the request as invalid, no doubt the encoding has failed here. I have tried alternatives such as:\r\n\r\n    def myFile = readFile(&quot;splop.sar&quot;).bytes\r\n\r\nWhich also fails, as well as:\r\n\r\n    def myFile = readFile(&quot;splop.sar&quot;).bytes.toString()\r\n\r\nWhich also fails!\r\n\r\nWhat can I do within Jenkins to provide the same style of HTTP Post that postman is giving from within my pipeline? I believe the big difference here is what makes the POST request a &#39;binary&#39; post, against some other form?\r\n\r\n  [1]: https://i.stack.imgur.com/VDBfa.png\r\n  [2]: https://github.com/jenkinsci/http-request-plugin","title":"How can you perform an HTTP POST with a binary file in Jenkins?","body":"<p>I would like to perform an HTTP POST of a Binary file, as I would from Postman like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VDBfa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VDBfa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note here I have selected HTTP Post, with the binary option, and flagged my file \"splop.sar\".</p>\n\n<p>The server replies http 409 which is expected for my use case.</p>\n\n<p>My attempt in Jenkins has been as follows, using the <a href=\"https://github.com/jenkinsci/http-request-plugin\" rel=\"nofollow noreferrer\">httpRequest</a> plugin :</p>\n\n<pre><code>def myFile = readFile(\"splop.sar\")\nhttpRequest authentication: 'userdef', consoleLogResponseBody: true, contentType: 'APPLICATION_ZIP', httpMode: 'POST', requestBody: myFile, responseHandle: 'NONE', url: 'myurl.com/service'\n</code></pre>\n\n<p>The problem is, my backend server rejects the request as invalid, no doubt the encoding has failed here. I have tried alternatives such as:</p>\n\n<pre><code>def myFile = readFile(\"splop.sar\").bytes\n</code></pre>\n\n<p>Which also fails, as well as:</p>\n\n<pre><code>def myFile = readFile(\"splop.sar\").bytes.toString()\n</code></pre>\n\n<p>Which also fails!</p>\n\n<p>What can I do within Jenkins to provide the same style of HTTP Post that postman is giving from within my pipeline? I believe the big difference here is what makes the POST request a 'binary' post, against some other form?</p>\n"},{"tags":["java","multithreading","atomic"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647872578,"post_id":71559045,"comment_id":126473709,"body_markdown":"It won&#39;t wait.  Depending on the precise timing, the thread A will see either the value before thread B increments it or after it increments.  You cannot predict which.  But one guarantee of atomicity is that thread A won&#39;t see some strange intermediate state.  (A second guarantee is that if two threads perform increments simultaneously, both will be performed correctly ... in some order.  No &quot;counts&quot; will be lost, no extra ones added.)","body":"It won&#39;t wait.  Depending on the precise timing, the thread A will see either the value before thread B increments it or after it increments.  You cannot predict which.  But one guarantee of atomicity is that thread A won&#39;t see some strange intermediate state.  (A second guarantee is that if two threads perform increments simultaneously, both will be performed correctly ... in some order.  No &quot;counts&quot; will be lost, no extra ones added.)"},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1647872838,"post_id":71559045,"comment_id":126473838,"body_markdown":"@StephenC That means if I am doing count.incrementAndGet() in my method that is being executed by multiple threads, I could still have race condition right. Because both threads A and B could read the same value and one of them will overwrite the another one. Effectively I will end up with one increment instead of 2.","body":"@StephenC That means if I am doing count.incrementAndGet() in my method that is being executed by multiple threads, I could still have race condition right. Because both threads A and B could read the same value and one of them will overwrite the another one. Effectively I will end up with one increment instead of 2."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647872883,"post_id":71559045,"comment_id":126473861,"body_markdown":"No.  You won&#39;t.  See my update to my previous comment.   But the result of one or other of the incrementAndGet calls won&#39;t include both of the increments.","body":"No.  You won&#39;t.  See my update to my previous comment.   But the result of one or other of the incrementAndGet calls won&#39;t include both of the increments."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647874918,"post_id":71559045,"comment_id":126474759,"body_markdown":"FYI… See Wikipedia: [*Linearizability*](https://en.wikipedia.org/wiki/Linearizability), and on a related note, [*Atomicity (database systems)*](https://en.wikipedia.org/wiki/Atomicity_(database_systems)).","body":"FYI… See Wikipedia: <a href=\"https://en.wikipedia.org/wiki/Linearizability\" rel=\"nofollow noreferrer\"><i>Linearizability</i></a>, and on a related note, <a href=\"https://en.wikipedia.org/wiki/Atomicity_(database_systems)\" rel=\"nofollow noreferrer\"><i>Atomicity (database systems)</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647872955,"creation_date":1647872955,"answer_id":71559259,"question_id":71559045,"body_markdown":"The situation you have described is called a &quot;data race.&quot; Either thread A will win the race (it sees the initial value), or thread B will win the race (thread A sees the final value.) Unless you have provided some explicit means to force the threads to access the variable in a particular order, then there is no way to know who will win the race.\r\n\r\n----------\r\n\r\n&quot;Atomicity&quot; means that thread B will either see the data as it was before the atomic operation, or it will see it after the operation is complete. Thread B can never see it in a half-way-done state.\r\n\r\nFor an update to a single, 64-bit `long` value. Pretty much the only way it could be &quot;half-way-done&quot; is if the 64-bit value were _torn_ on 32-bit hardware. It would be &quot;torn&quot; if one of the two 32-bit words comprising the 64-bit value had been updated, and the other had not.","title":"What is Atomicity in Java","body":"<p>The situation you have described is called a &quot;data race.&quot; Either thread A will win the race (it sees the initial value), or thread B will win the race (thread A sees the final value.) Unless you have provided some explicit means to force the threads to access the variable in a particular order, then there is no way to know who will win the race.</p>\n<hr />\n<p>&quot;Atomicity&quot; means that thread B will either see the data as it was before the atomic operation, or it will see it after the operation is complete. Thread B can never see it in a half-way-done state.</p>\n<p>For an update to a single, 64-bit <code>long</code> value. Pretty much the only way it could be &quot;half-way-done&quot; is if the 64-bit value were <em>torn</em> on 32-bit hardware. It would be &quot;torn&quot; if one of the two 32-bit words comprising the 64-bit value had been updated, and the other had not.</p>\n"}],"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71559259,"answer_count":1,"score":0,"last_activity_date":1647872955,"creation_date":1647871968,"question_id":71559045,"body_markdown":"I am studying JAVA concurrency in Practice and found the following definition of Atomic Operation:  \r\n\r\n&gt; Operation A, B are atomic with respect to each other if from the perspective of thread executing A, when another thread executes B, either all of B has executed or none of it has. **An atomic operation is one that is atomic with respect to all operation, including itself, that operates on the same data**.\r\n\r\nLets say I have two thread A &amp; B both accessing AtomicLong variable count.  \r\nLets say thread A reads count and thread B was busy doing count.incrementAndGe() operation.  \r\nIn such a scenario, As per above definition (either all of B has executed or none of it ):   \r\n\r\nA) ThreadA see the previous value of count (because count is not yet updated)   \r\n\r\nOr\r\n\r\nB) ThreadA will wait until ThreadB completes the operation and see the latest value. \r\n\r\nAs per my understanding it should B because otherwise we still could have race condition. ","title":"What is Atomicity in Java","body":"<p>I am studying JAVA concurrency in Practice and found the following definition of Atomic Operation:</p>\n<blockquote>\n<p>Operation A, B are atomic with respect to each other if from the perspective of thread executing A, when another thread executes B, either all of B has executed or none of it has. <strong>An atomic operation is one that is atomic with respect to all operation, including itself, that operates on the same data</strong>.</p>\n</blockquote>\n<p>Lets say I have two thread A &amp; B both accessing AtomicLong variable count.<br />\nLets say thread A reads count and thread B was busy doing count.incrementAndGe() operation.<br />\nIn such a scenario, As per above definition (either all of B has executed or none of it ):</p>\n<p>A) ThreadA see the previous value of count (because count is not yet updated)</p>\n<p>Or</p>\n<p>B) ThreadA will wait until ThreadB completes the operation and see the latest value.</p>\n<p>As per my understanding it should B because otherwise we still could have race condition.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1647842195,"post_id":71553273,"comment_id":126463592,"body_markdown":"can you cross check the library from which validations are getting imported  ?","body":"can you cross check the library from which validations are getting imported  ?"},{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1647842222,"post_id":71553273,"comment_id":126463597,"body_markdown":"[Gurkirat Singh Guliani](https://stackoverflow.com/users/15318227/gurkirat-singh-guliani)\nI think so too","body":"<a href=\"https://stackoverflow.com/users/15318227/gurkirat-singh-guliani\">Gurkirat Singh Guliani</a> I think so too"},{"owner":{"account_id":21729533,"reputation":74,"user_id":16038483,"display_name":"Mohammad Javad"},"score":0,"creation_date":1647842573,"post_id":71553273,"comment_id":126463657,"body_markdown":"You must add error handling in your project:\nplease visit this [link](https://github.com/mjimani/SpringBootValidation)","body":"You must add error handling in your project: please visit this <a href=\"https://github.com/mjimani/SpringBootValidation\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1647848432,"post_id":71553273,"comment_id":126464880,"body_markdown":"Remove `@Validated` from the controller. And use `spring-boot-starter-validation` as a dependency. If you have any validation API or hibernate validator as a dependency remove those and use the starter.","body":"Remove <code>@Validated</code> from the controller. And use <code>spring-boot-starter-validation</code> as a dependency. If you have any validation API or hibernate validator as a dependency remove those and use the starter."},{"owner":{"account_id":8446144,"reputation":577,"user_id":6336728,"display_name":"timlg07"},"score":0,"creation_date":1695590025,"post_id":71553273,"comment_id":136041103,"body_markdown":"Can confirm, this (still) works. Adding the latest version of https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation to my project was finally able to fix it.","body":"Can confirm, this (still) works. Adding the latest version of <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.boot/&hellip;</a> to my project was finally able to fix it."}],"owner":{"account_id":15849647,"reputation":73,"user_id":11435843,"display_name":"Anurag Vats"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1772,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1647872722,"creation_date":1647841769,"question_id":71553273,"body_markdown":"I am using lombok for generating Getter, Setter, AllArgsConstructor, NoArgsConstructor for User class and Doing some Validation with the help of @Valid annotation. **But for some reason no Validation I put on User Class is working for me**.\r\n\r\nBelow is the User Class\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n\r\n\r\n\t@Size(min = 3, max = 15)\r\n\t@NotBlank\r\n\tprivate String username;\r\n\r\n\t@NotNull\r\n\tprivate String password;\r\n\t\r\n}\r\n```\r\n\r\n\r\nBelow is the Controller Class \r\n\r\n```\r\n\r\n@RestController\r\npublic class ValidationController {\r\n\r\n\t@PostMapping(&quot;/validation&quot;)\r\n\tpublic ResponseEntity&lt;User&gt; validationtest(@Valid \r\n\t\t\t@RequestBody User user) {\r\n\t\treturn ResponseEntity.ok(user);\r\n\t}\r\n}\r\n```\r\npom file is below\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.validation&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;validation&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;validation&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nImport used\r\nimport javax.validation.Valid\r\n\r\nimport javax.validation.constraints.NotBlank;","title":"lombok and @Valid not working together spring boot java","body":"<p>I am using lombok for generating Getter, Setter, AllArgsConstructor, NoArgsConstructor for User class and Doing some Validation with the help of @Valid annotation. <strong>But for some reason no Validation I put on User Class is working for me</strong>.</p>\n<p>Below is the User Class</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n\n    @Size(min = 3, max = 15)\n    @NotBlank\n    private String username;\n\n    @NotNull\n    private String password;\n    \n}\n</code></pre>\n<p>Below is the Controller Class</p>\n<pre><code>\n@RestController\npublic class ValidationController {\n\n    @PostMapping(&quot;/validation&quot;)\n    public ResponseEntity&lt;User&gt; validationtest(@Valid \n            @RequestBody User user) {\n        return ResponseEntity.ok(user);\n    }\n}\n</code></pre>\n<p>pom file is below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;validation&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Import used\nimport javax.validation.Valid</p>\n<p>import javax.validation.constraints.NotBlank;</p>\n"},{"tags":["java","class","decompiler"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1623372969,"post_id":67928904,"comment_id":120067372,"body_markdown":"It appears something to do with the Lunar client for Minecraft.  If this is the case, then diassembling their code is likely to be a violation of the Lunar client [Terms of Service](https://www.lunarclient.com/terms/) (section 3.3) and you would be advised to stop.  (And &gt;we&lt; would be advised to not assist you!!)","body":"It appears something to do with the Lunar client for Minecraft.  If this is the case, then diassembling their code is likely to be a violation of the Lunar client <a href=\"https://www.lunarclient.com/terms/\" rel=\"nofollow noreferrer\">Terms of Service</a> (section 3.3) and you would be advised to stop.  (And &gt;we&lt; would be advised to not assist you!!)"}],"answers":[{"tags":[],"owner":{"account_id":24124556,"reputation":11,"user_id":18093116,"display_name":"Monmcgt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647872477,"creation_date":1647872477,"answer_id":71559154,"question_id":67928904,"body_markdown":"Rename it to .class file :D (.lclass -&gt; .class) and then decompile!","title":"What is the .lclass extension","body":"<p>Rename it to .class file :D (.lclass -&gt; .class) and then decompile!</p>\n"}],"owner":{"account_id":18464818,"reputation":100,"user_id":13609960,"display_name":"Mythbusters123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647872477,"creation_date":1623362206,"question_id":67928904,"body_markdown":"I was decompiling a jar file to see if i could look at the source code, however, I saw that instead of .class files in the .jar file, there were .lclass files. I did some googling and came up with nothing, the only slight thing I could gather is that it means &quot;local class&quot; but I dont think that is the case as ALL of the classes in the jar file are .lclass. This was meant for Java 8.  ","title":"What is the .lclass extension","body":"<p>I was decompiling a jar file to see if i could look at the source code, however, I saw that instead of .class files in the .jar file, there were .lclass files. I did some googling and came up with nothing, the only slight thing I could gather is that it means &quot;local class&quot; but I dont think that is the case as ALL of the classes in the jar file are .lclass. This was meant for Java 8.</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1647876143,"post_id":71558561,"comment_id":126475302,"body_markdown":"Regarding the equality of values, it needs to be noted that the behavior of the cache entry (key/value/both) is changed. `cache.getIfPresent(new String(&quot;KEY&quot;))` and `cache.getIfPresent(new String(&quot;KEY&quot;))` will not fetch you the same entry using weak or soft keys. When configuring using weakValues, if you call `cache.asMap().containsValue(&quot;EXPECTED&quot;)` then it will only return true if the object has the same reference (`==`) in contrast to the default behavior using object `equals`.","body":"Regarding the equality of values, it needs to be noted that the behavior of the cache entry (key/value/both) is changed. <code>cache.getIfPresent(new String(&quot;KEY&quot;))</code> and <code>cache.getIfPresent(new String(&quot;KEY&quot;))</code> will not fetch you the same entry using weak or soft keys. When configuring using weakValues, if you call <code>cache.asMap().containsValue(&quot;EXPECTED&quot;)</code> then it will only return true if the object has the same reference (<code>==</code>) in contrast to the default behavior using object <code>equals</code>."}],"answers":[{"tags":[],"owner":{"account_id":14625236,"reputation":56,"user_id":10562793,"display_name":"VoidPointer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647872475,"creation_date":1647872475,"answer_id":71559152,"question_id":71558561,"body_markdown":"&gt; `Are weakKeys()` and `weakValues()` equivalent? (one of them was collected, the entry is expired)\r\n\r\nNo, if a key or value is collected, the `Entry` itself will not expire. You will still have access to the `Entry`, but the &quot;reference&quot; to the key and value will point you to `null`.\r\n\r\n&gt;Guava doc said: &quot;when this method is used, the resulting cache will use identity (==) comparison to determine equality of values&quot;. When the cache compares the value? for what?\r\n\r\nIn Java, `Object` variables are basically pointers, which means they store an `8-bit` address in the memory block containing the object. So, the documentation says that it will not compare objects (because they are `null`), but references to objects.","title":"What‘s different between weakKeys() and weakValues() in Guava Cache?","body":"<blockquote>\n<p><code>Are weakKeys()</code> and <code>weakValues()</code> equivalent? (one of them was collected, the entry is expired)</p>\n</blockquote>\n<p>No, if a key or value is collected, the <code>Entry</code> itself will not expire. You will still have access to the <code>Entry</code>, but the &quot;reference&quot; to the key and value will point you to <code>null</code>.</p>\n<blockquote>\n<p>Guava doc said: &quot;when this method is used, the resulting cache will use identity (==) comparison to determine equality of values&quot;. When the cache compares the value? for what?</p>\n</blockquote>\n<p>In Java, <code>Object</code> variables are basically pointers, which means they store an <code>8-bit</code> address in the memory block containing the object. So, the documentation says that it will not compare objects (because they are <code>null</code>), but references to objects.</p>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647872475,"creation_date":1647869894,"question_id":71558561,"body_markdown":"I know `weakKeys()` means the keys are wrapped by `WeakReference` and GC may collect the keys automatically, same with `weakValues()`(for value).\r\n\r\nMy understanding: Once an entry (**whether key or value**) was collected by GC, the entry is expired.\r\n\r\nMy question:\r\n\r\n* Are `weakKeys()` and `weakValues()` equivalent? (one of them was collected, the entry is expired)\r\n* Guava doc said: &quot;when this method is used, the resulting cache will use identity (==) comparison to determine equality of values&quot;. When the cache compares the value? for what?","title":"What‘s different between weakKeys() and weakValues() in Guava Cache?","body":"<p>I know <code>weakKeys()</code> means the keys are wrapped by <code>WeakReference</code> and GC may collect the keys automatically, same with <code>weakValues()</code>(for value).</p>\n<p>My understanding: Once an entry (<strong>whether key or value</strong>) was collected by GC, the entry is expired.</p>\n<p>My question:</p>\n<ul>\n<li>Are <code>weakKeys()</code> and <code>weakValues()</code> equivalent? (one of them was collected, the entry is expired)</li>\n<li>Guava doc said: &quot;when this method is used, the resulting cache will use identity (==) comparison to determine equality of values&quot;. When the cache compares the value? for what?</li>\n</ul>\n"},{"tags":["java","hibernate-criteria"],"comments":[{"owner":{"account_id":10892421,"reputation":567,"user_id":8007713,"display_name":"Guilherme Barboza"},"score":0,"creation_date":1647871775,"post_id":71558813,"comment_id":126473346,"body_markdown":"Did you mean to write `fooRepository.findAll(pagerequest);` ? Because `pageRequestWithSort` does not exist...","body":"Did you mean to write <code>fooRepository.findAll(pagerequest);</code> ? Because <code>pageRequestWithSort</code> does not exist..."},{"owner":{"account_id":19870341,"reputation":1,"user_id":14556650,"display_name":"bruno grznar"},"score":0,"creation_date":1647872004,"post_id":71558813,"comment_id":126473440,"body_markdown":"Yea, I mean fooRepository.findAll(pagerequest); it was just a TYPO, and it is already edited","body":"Yea, I mean fooRepository.findAll(pagerequest); it was just a TYPO, and it is already edited"}],"owner":{"account_id":19870341,"reputation":1,"user_id":14556650,"display_name":"bruno grznar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647872436,"creation_date":1647870934,"question_id":71558813,"body_markdown":"Hello I have three tables foo, bar and join table foo_bar in between: \r\n\r\n    public class Foo {\r\n        @OneToMany(mappedBy = &quot;foo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private final List&lt;fooBar&gt; fooBar= new ArrayList&lt;&gt;(); }\r\n\r\n    public class fooBar{\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;bar_id&quot;, nullable = false)\r\n        Bar bar;}\r\n\r\n    public class Bar {\r\n        @Column    \r\n        String name;\r\n    }\r\n\r\nthere are 10 records in foo,\r\n10 in bar, but connected are only 5.\r\n\r\nI want all records from foo ordered by name of bar (null values too) so I call the request with sort: foo_bar.bar.name like this: \r\n\r\n    PageRequest pagerequest = PageRequest.of(0, 4, Sort.by(Sort.Direction.valueOf(ASC), &quot;foo_bar.bar.name&quot;)) \r\n    fooRepository.findAll( pagerequest);\r\n\r\nThere are 3 different results:\r\n\r\n 1. I call this with start 0 limit 4 and I get total of 10, but only records which are connected (hibernate calls count  without any conditions, so total is right)\r\n\r\n 2. I call this with start 0 limit 10 and I get total of 5 and I get all the connected records\r\n(hibernate DB is called just once, because I get less records than limit)\r\n 3. I call this with different sort (for example Foo.name- &quot;name&quot;) or no sort, then I get all records like I want but unsorted\r\n\r\nThe question is what can I do to change the auto generated where conditions which are automatically generated?\r\n\r\nEverything works fine with other sorts so the problem should be in sql generation of this type of hybernate DB request or some setting I did not specify\r\n","title":"Criteria builder sort returns different values with different limits","body":"<p>Hello I have three tables foo, bar and join table foo_bar in between:</p>\n<pre><code>public class Foo {\n    @OneToMany(mappedBy = &quot;foo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    private final List&lt;fooBar&gt; fooBar= new ArrayList&lt;&gt;(); }\n\npublic class fooBar{\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;bar_id&quot;, nullable = false)\n    Bar bar;}\n\npublic class Bar {\n    @Column    \n    String name;\n}\n</code></pre>\n<p>there are 10 records in foo,\n10 in bar, but connected are only 5.</p>\n<p>I want all records from foo ordered by name of bar (null values too) so I call the request with sort: foo_bar.bar.name like this:</p>\n<pre><code>PageRequest pagerequest = PageRequest.of(0, 4, Sort.by(Sort.Direction.valueOf(ASC), &quot;foo_bar.bar.name&quot;)) \nfooRepository.findAll( pagerequest);\n</code></pre>\n<p>There are 3 different results:</p>\n<ol>\n<li><p>I call this with start 0 limit 4 and I get total of 10, but only records which are connected (hibernate calls count  without any conditions, so total is right)</p>\n</li>\n<li><p>I call this with start 0 limit 10 and I get total of 5 and I get all the connected records\n(hibernate DB is called just once, because I get less records than limit)</p>\n</li>\n<li><p>I call this with different sort (for example Foo.name- &quot;name&quot;) or no sort, then I get all records like I want but unsorted</p>\n</li>\n</ol>\n<p>The question is what can I do to change the auto generated where conditions which are automatically generated?</p>\n<p>Everything works fine with other sorts so the problem should be in sql generation of this type of hybernate DB request or some setting I did not specify</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1647872844,"post_id":71559107,"comment_id":126473844,"body_markdown":"why would you save the page content stream? It&#39;s the PDDocument you should save. You can write to a ByteArrayOutputStream object.","body":"why would you save the page content stream? It&#39;s the PDDocument you should save. You can write to a ByteArrayOutputStream object."},{"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"score":0,"creation_date":1647874877,"post_id":71559107,"comment_id":126474737,"body_markdown":"When the application deployed in the server, how can I save it in a file system? I cannot say C:\\... or D:\\.... ect because I do not know multiple clients what OS they use. So either I have to save the file in the server somewhere or have the final PDF document as a stream before shippping it into a Browser. But the PDFBox do not give a method to convert the document to a byteStream.","body":"When the application deployed in the server, how can I save it in a file system? I cannot say C:\\... or D:\\.... ect because I do not know multiple clients what OS they use. So either I have to save the file in the server somewhere or have the final PDF document as a stream before shippping it into a Browser. But the PDFBox do not give a method to convert the document to a byteStream."},{"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"score":0,"creation_date":1647875033,"post_id":71559107,"comment_id":126474817,"body_markdown":"I am following the example in https://zetcode.com/java/pdfbox/ and trying to implement the same in a WebLogic Java application","body":"I am following the example in <a href=\"https://zetcode.com/java/pdfbox/\" rel=\"nofollow noreferrer\">zetcode.com/java/pdfbox</a> and trying to implement the same in a WebLogic Java application"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1647889573,"post_id":71559107,"comment_id":126480380,"body_markdown":"*&quot;But the PDFBox do not give a method to convert the document to a byteStream.&quot;* - PDFBox allows you to save to an `OutputStream`. Simply use a `ByteArrayOutputStream` (as @Tilman has proposed), take its `byte[]`, and wrap it in a `ByteInputStream`. Alternatively, if you don&#39;t want the whole generated PDF in memory, use a pair of `PipedOutputStream` and `PipedInputStream`. Java 101.","body":"<i>&quot;But the PDFBox do not give a method to convert the document to a byteStream.&quot;</i> - PDFBox allows you to save to an <code>OutputStream</code>. Simply use a <code>ByteArrayOutputStream</code> (as @Tilman has proposed), take its <code>byte[]</code>, and wrap it in a <code>ByteInputStream</code>. Alternatively, if you don&#39;t want the whole generated PDF in memory, use a pair of <code>PipedOutputStream</code> and <code>PipedInputStream</code>. Java 101."}],"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647872240,"creation_date":1647872240,"question_id":71559107,"body_markdown":"I am trying to understand how to use PDFBox in a web application.\r\nPDFBox examples everywhere says to use the file system to save the file first.\r\nHere is an example from web....\r\ntry (PDDocument doc = new PDDocument()) {\r\n\r\n            PDPage myPage = new PDPage();\r\n            doc.addPage(myPage);\r\n\r\n            try (PDPageContentStream cont = new PDPageContentStream(doc, myPage)) {\r\n\r\n                cont.beginText();\r\n                .....\r\n                cont.endText();\r\n            }\r\n\r\n            doc.save(&quot;src/main/resources/wwii.pdf&quot;);\r\n}\r\n\r\nBut how can I do that in a webapplication (deployed in WebLogic) in a production environment????\r\nBecause after the application is deployed, I cannot say to write to a file system because we do not know what type of a file system it is used.\r\nThe only way out is to know how to convert the cont object to a byte array and store it in the memory before displaying..\r\n\r\nI tried significant amount of time to find out how to coinvert the cont object in the above example to a byte array input stream to I could use it in the next step - which is displaying it in a webpage.","title":"How to convert a PDFBox PDPageContentStream to a byteArrayInputStream","body":"<p>I am trying to understand how to use PDFBox in a web application.\nPDFBox examples everywhere says to use the file system to save the file first.\nHere is an example from web....\ntry (PDDocument doc = new PDDocument()) {</p>\n<pre><code>        PDPage myPage = new PDPage();\n        doc.addPage(myPage);\n\n        try (PDPageContentStream cont = new PDPageContentStream(doc, myPage)) {\n\n            cont.beginText();\n            .....\n            cont.endText();\n        }\n\n        doc.save(&quot;src/main/resources/wwii.pdf&quot;);\n</code></pre>\n<p>}</p>\n<p>But how can I do that in a webapplication (deployed in WebLogic) in a production environment????\nBecause after the application is deployed, I cannot say to write to a file system because we do not know what type of a file system it is used.\nThe only way out is to know how to convert the cont object to a byte array and store it in the memory before displaying..</p>\n<p>I tried significant amount of time to find out how to coinvert the cont object in the above example to a byte array input stream to I could use it in the next step - which is displaying it in a webpage.</p>\n"},{"tags":["java","email","jenkins","automation","cicd"],"comments":[{"owner":{"account_id":4247279,"reputation":623,"user_id":4227827,"display_name":"Hussain K"},"score":1,"creation_date":1647873453,"post_id":71559025,"comment_id":126474108,"body_markdown":"This might be helpful. \nhttps://superuser.com/questions/878211/jenkins-email-notifications-go-to-outlook-junk-folder","body":"This might be helpful.  <a href=\"https://superuser.com/questions/878211/jenkins-email-notifications-go-to-outlook-junk-folder\" title=\"jenkins email notifications go to outlook junk folder\">superuser.com/questions/878211/&hellip;</a>"},{"owner":{"account_id":2802799,"reputation":389,"user_id":2559720,"accept_rate":70,"display_name":"Karunagara"},"score":0,"creation_date":1647930745,"post_id":71559025,"comment_id":126488652,"body_markdown":"i have tried to set a rule in Outlook 365 but no luck. Mail is still storing into Junk","body":"i have tried to set a rule in Outlook 365 but no luck. Mail is still storing into Junk"},{"owner":{"account_id":2802799,"reputation":389,"user_id":2559720,"accept_rate":70,"display_name":"Karunagara"},"score":0,"creation_date":1648033964,"post_id":71559025,"comment_id":126520128,"body_markdown":"I added sender email address into Outlook - Jun Mail options - Safe Senders list and I&#39;m able to get the mails into Inbox.","body":"I added sender email address into Outlook - Jun Mail options - Safe Senders list and I&#39;m able to get the mails into Inbox."}],"owner":{"account_id":2802799,"reputation":389,"user_id":2559720,"accept_rate":70,"display_name":"Karunagara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647871836,"creation_date":1647871836,"question_id":71559025,"body_markdown":"I&#39;m trying to set up mail (outlook 365) notification by writing script in &#39;jenkinsfile&#39; once our test automation execution completes. The mail trigger script looks like below:\r\n\r\n    post {\r\n         failure\r\n         {\r\n          script\r\n          {\r\n           mail (to: &#39;abc@xyz.com&#39;,\r\n           subject: &quot;Job &#39;${env.JOB_NAME}&#39; (${env.BUILD_NUMBER}) - failed.&quot;,\r\n           body: &quot;Please visit to ${env.BUILD_URL} for further details.&quot;);\r\n          }\r\n        }\r\n        success\r\n        {\r\n          script\r\n          {\r\n             mail (to: &#39;abc@xyz.com&#39;,\r\n             subject: &quot;Job &#39;${env.JOB_NAME}&#39; (${env.BUILD_NUMBER}) - success.&quot;,\r\n             body: &quot;Please visit to ${env.BUILD_URL} for further details.&quot;);\r\n          }\r\n         }\r\n    }\r\n\r\nThe above script is working fine and I&#39;m able to get the mail but it stores into &#39;Junk&#39; folder. I also tried with below script after creating webhook thru Teams.\r\n\r\n    post {\r\n         always {\r\n                mail(to: &#39;abc@xyz.com&#39;, subject: &quot;Pipeline Notification&quot;, body: &quot;Job &#39;${env.JOB_NAME} [${env.BRANCH_NAME}]&#39; (${env.BUILD_URL})&quot;)\r\n                office365ConnectorSend color: &#39;#00FF00&#39;, message: &quot;SUCCESSFUL&quot;, status: &quot;Build \r\n                Success&quot;, webhookUrl: &#39;URL&#39;\r\n                cleanWs()\r\n                }\r\n    }\r\n\r\nThis is too triggering email but mail is sitting into &#39;Junk&#39; mail box only. &lt;br&gt;\r\nCould you please help me how can I get the mails from jenkins pipeline (&lt;b&gt;using jenkinsfile&lt;/b&gt; script, not using jenkins UI) and store it into &#39;Inbox&#39; or &#39;Custom Folder&#39; (i.e. created new folder called &#39;Jenkins&#39; ) ?\r\n\r\nThanks, &lt;br&gt;\r\nKarunagara Pandi G","title":"How to move jenkins email from Junk to Inbox folder?","body":"<p>I'm trying to set up mail (outlook 365) notification by writing script in 'jenkinsfile' once our test automation execution completes. The mail trigger script looks like below:</p>\n<pre><code>post {\n     failure\n     {\n      script\n      {\n       mail (to: 'abc@xyz.com',\n       subject: &quot;Job '${env.JOB_NAME}' (${env.BUILD_NUMBER}) - failed.&quot;,\n       body: &quot;Please visit to ${env.BUILD_URL} for further details.&quot;);\n      }\n    }\n    success\n    {\n      script\n      {\n         mail (to: 'abc@xyz.com',\n         subject: &quot;Job '${env.JOB_NAME}' (${env.BUILD_NUMBER}) - success.&quot;,\n         body: &quot;Please visit to ${env.BUILD_URL} for further details.&quot;);\n      }\n     }\n}\n</code></pre>\n<p>The above script is working fine and I'm able to get the mail but it stores into 'Junk' folder. I also tried with below script after creating webhook thru Teams.</p>\n<pre><code>post {\n     always {\n            mail(to: 'abc@xyz.com', subject: &quot;Pipeline Notification&quot;, body: &quot;Job '${env.JOB_NAME} [${env.BRANCH_NAME}]' (${env.BUILD_URL})&quot;)\n            office365ConnectorSend color: '#00FF00', message: &quot;SUCCESSFUL&quot;, status: &quot;Build \n            Success&quot;, webhookUrl: 'URL'\n            cleanWs()\n            }\n}\n</code></pre>\n<p>This is too triggering email but mail is sitting into 'Junk' mail box only. <br>\nCould you please help me how can I get the mails from jenkins pipeline (<b>using jenkinsfile</b> script, not using jenkins UI) and store it into 'Inbox' or 'Custom Folder' (i.e. created new folder called 'Jenkins' ) ?</p>\n<p>Thanks, <br>\nKarunagara Pandi G</p>\n"},{"tags":["java","spring-boot","java-8"],"answers":[{"tags":[],"owner":{"account_id":8624904,"reputation":323,"user_id":6458399,"accept_rate":100,"display_name":"Manan Adhvaryu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647869503,"creation_date":1647869503,"answer_id":71558471,"question_id":71558415,"body_markdown":"Have a variable in your SendMyEmail class that stores the time when you call your function. Then simply add your logic to an if condition that checks if it has been 5 minutes since the method was called.","title":"Call method once every 5 minutes","body":"<p>Have a variable in your SendMyEmail class that stores the time when you call your function. Then simply add your logic to an if condition that checks if it has been 5 minutes since the method was called.</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647869562,"creation_date":1647869562,"answer_id":71558485,"question_id":71558415,"body_markdown":"You could simply create a timestamp when your class is instantiated (in the constructor). \r\n\r\nYour send method simply checks &quot;more than 5 minutes since that timestamp&quot;?\r\n\r\nIf yes: then take a new timestamp, and send the mail.\r\n\r\nIf no: do nothing.\r\n\r\nThat&#39;s all you will need. Not going to provide code here, as this is probably homework, and the point is that *you* learn how to write the corresponding code.","title":"Call method once every 5 minutes","body":"<p>You could simply create a timestamp when your class is instantiated (in the constructor).</p>\n<p>Your send method simply checks &quot;more than 5 minutes since that timestamp&quot;?</p>\n<p>If yes: then take a new timestamp, and send the mail.</p>\n<p>If no: do nothing.</p>\n<p>That's all you will need. Not going to provide code here, as this is probably homework, and the point is that <em>you</em> learn how to write the corresponding code.</p>\n"},{"tags":[],"owner":{"account_id":10892421,"reputation":567,"user_id":8007713,"display_name":"Guilherme Barboza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647871298,"creation_date":1647871298,"answer_id":71558905,"question_id":71558415,"body_markdown":"You&#39;ll have to create what we call a `Schedule` - a procedure that runs consistently and periodically. Your Schedule would have the following logic:  \r\n  \r\n\t@Scheduled(cron = &quot;0 * * * * *&quot;) // Will run every minute\r\n\tpublic synchronized void sendEmailSchedule() {\r\n\r\n\t\tEmail email = getEmail();\r\n\r\n        Date lastTimeSent = email.getLastTimeEmailWasSent();\r\n        Date now = new Date();\r\n\t\t\r\n        long difference = now.getTime() - lastTimeSent.getTime();\r\n\t\tlong differenceInMinutes = difference / (60 * 1000) % 60; \r\n\t\t\r\n\t\tif (differenceInMinutes &gt; 5) {\r\n\t\t\tsendEmail(email);\r\n\t\t}\r\n    }","title":"Call method once every 5 minutes","body":"<p>You'll have to create what we call a <code>Schedule</code> - a procedure that runs consistently and periodically. Your Schedule would have the following logic:</p>\n<pre><code>@Scheduled(cron = &quot;0 * * * * *&quot;) // Will run every minute\npublic synchronized void sendEmailSchedule() {\n\n    Email email = getEmail();\n\n    Date lastTimeSent = email.getLastTimeEmailWasSent();\n    Date now = new Date();\n    \n    long difference = now.getTime() - lastTimeSent.getTime();\n    long differenceInMinutes = difference / (60 * 1000) % 60; \n    \n    if (differenceInMinutes &gt; 5) {\n        sendEmail(email);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647871777,"creation_date":1647871777,"answer_id":71559007,"question_id":71558415,"body_markdown":"What you have is almost what you need.\r\nThe cron expression means, trigger every 5 minutes: on Minute 0, 5, 10, etc.\r\n\r\n\r\n\tpublic class SendMyEmail\r\n\t{\r\n\t\tprivate volatile String mailMessage;\r\n\r\n\t\tpublic void sendmail(String msg)\r\n\t\t{\r\n\t\t\tmailMessage = msg;\r\n\t\t}\r\n\r\n\t\t@Scheduled(cron = &quot;*/5 * * * *&quot;)\r\n\t\tpublic void sendmailJob()\r\n\t\t{\r\n\t\t\tif (mailMessage != null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot; Mail sent &quot; + mailMessage);\r\n\t\t\t\tmailMessage = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Call method once every 5 minutes","body":"<p>What you have is almost what you need.\nThe cron expression means, trigger every 5 minutes: on Minute 0, 5, 10, etc.</p>\n<pre><code>public class SendMyEmail\n{\n    private volatile String mailMessage;\n\n    public void sendmail(String msg)\n    {\n        mailMessage = msg;\n    }\n\n    @Scheduled(cron = &quot;*/5 * * * *&quot;)\n    public void sendmailJob()\n    {\n        if (mailMessage != null)\n        {\n            System.out.println(&quot; Mail sent &quot; + mailMessage);\n            mailMessage = null;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22817364,"reputation":17,"user_id":16968868,"display_name":"Pale Dot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71558485,"answer_count":4,"score":1,"last_activity_date":1647871777,"creation_date":1647869295,"question_id":71558415,"body_markdown":"I want to send 1 mail every 5 minutes irrepective of how many times i call sendmail() in 5 minutes ?\r\nFor eg. \r\n\r\n- if i call sendmail at 10 pm .first mail should be sent \r\n - If i call sendmail at 10:03 and 10:04 no mail should be sent. \r\n - If  i call sendmail at 10 :06 mail should be sent as difference is    \r\n   greater than 5 mins\r\n \r\n\r\n\r\nHow to achieve it?\r\n\r\n    public class SendMyEmail {\r\n     private boolean sendMail=false;\r\n     public void sendmail(String msg) {\r\n     if(sendMail) {\r\n     System.out.println(&quot; Mail sent &quot; +msg);\r\n     }","title":"Call method once every 5 minutes","body":"<p>I want to send 1 mail every 5 minutes irrepective of how many times i call sendmail() in 5 minutes ?\nFor eg.</p>\n<ul>\n<li>if i call sendmail at 10 pm .first mail should be sent</li>\n<li>If i call sendmail at 10:03 and 10:04 no mail should be sent.</li>\n<li>If  i call sendmail at 10 :06 mail should be sent as difference is<br />\ngreater than 5 mins</li>\n</ul>\n<p>How to achieve it?</p>\n<pre><code>public class SendMyEmail {\n private boolean sendMail=false;\n public void sendmail(String msg) {\n if(sendMail) {\n System.out.println(&quot; Mail sent &quot; +msg);\n }\n</code></pre>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"score":3,"creation_date":1385136387,"post_id":20149304,"comment_id":30031963,"body_markdown":"java -jar -Xmx1024M A.jar","body":"java -jar -Xmx1024M A.jar"}],"answers":[{"tags":[],"owner":{"account_id":3624348,"reputation":370,"user_id":3022379,"display_name":"Davy Cielen"},"down_vote_count":21,"up_vote_count":30,"is_accepted":true,"score":9,"last_activity_date":1581262683,"creation_date":1385136603,"answer_id":20149394,"question_id":20149304,"body_markdown":"try `java -Xmx1024m` filename.\r\n\r\nI found this on StackOverflow https://stackoverflow.com/questions/5374455/what-does-java-option-xmx-stand-for and use it when I start Netbeans for instance.\r\n\r\nuse it like this \r\n\r\n```\r\njava -Xmx1024m -jar JavaApplication.jar\r\n```\r\n\r\ninfo:\r\n`-Xmxn`\r\nSpecify the maximum size, in bytes, of the memory allocation pool. This value must be a multiple of 1024 greater than 2MB. Append the letter k or K to indicate kilobytes, or m or M to indicate megabytes. The default value is 64MB. The upper limit for this value will be approximately 4000m on Solaris 7 and Solaris 8 SPARC platforms and 2000m on Solaris 2.6 and x86 platforms, minus overhead amounts. \r\n\r\n","title":"How to set the -Xmx when start running a jar file?","body":"<p>try <code>java -Xmx1024m</code> filename.</p>\n\n<p>I found this on StackOverflow <a href=\"https://stackoverflow.com/questions/5374455/what-does-java-option-xmx-stand-for\">What does Java option -Xmx stand for?</a> and use it when I start Netbeans for instance.</p>\n\n<p>use it like this </p>\n\n<pre><code>java -Xmx1024m -jar JavaApplication.jar\n</code></pre>\n\n<p>info:\n<code>-Xmxn</code>\nSpecify the maximum size, in bytes, of the memory allocation pool. This value must be a multiple of 1024 greater than 2MB. Append the letter k or K to indicate kilobytes, or m or M to indicate megabytes. The default value is 64MB. The upper limit for this value will be approximately 4000m on Solaris 7 and Solaris 8 SPARC platforms and 2000m on Solaris 2.6 and x86 platforms, minus overhead amounts. </p>\n"},{"tags":[],"owner":{"account_id":1442218,"reputation":924,"user_id":1361991,"display_name":"DKATyler"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1647871698,"creation_date":1453238951,"answer_id":34887271,"question_id":20149304,"body_markdown":"Three methods:\r\n\r\n - Command Line:\r\n  - Instruct your users to run your application using &quot;java -Xmx1024m -jar SampleJavaApp.jar&quot;\r\n - Java Control Panel:\r\n  - Instruct your users to dedicate more memory to java by default: [Win7 guide][1]\r\n - Restart your jar with the appropriate Xmx value.\r\n\r\nThe last option is &quot;evil&quot; but doesn&#39;t require any extra effort from your users.  Here&#39;s a sample block of code:\r\n\r\n    public static void main(String[] args) throws IOException, URISyntaxException {\r\n        String currentPath=SampleJavaApp.class\r\n              .getProtectionDomain()\r\n              .getCodeSource().getLocation()\r\n              .toURI().getPath()\r\n              .replace(&#39;/&#39;, File.separator.charAt(0)).substring(1);\r\n        if(args.length==0 &amp;&amp; Runtime.getRuntime().maxMemory()/1024/1024&lt;980) {\r\n            Runtime.getRuntime().exec(&quot;java -Xmx1024m -jar &quot;+currentPath+&quot; restart&quot;);\r\n            return;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.wikihow.com/Increase-Java-Memory-in-Windows-7","title":"How to set the -Xmx when start running a jar file?","body":"<p>Three methods:</p>\n<ul>\n<li>Command Line:</li>\n<li>Instruct your users to run your application using &quot;java -Xmx1024m -jar SampleJavaApp.jar&quot;</li>\n<li>Java Control Panel:</li>\n<li>Instruct your users to dedicate more memory to java by default: <a href=\"http://www.wikihow.com/Increase-Java-Memory-in-Windows-7\" rel=\"nofollow noreferrer\">Win7 guide</a></li>\n<li>Restart your jar with the appropriate Xmx value.</li>\n</ul>\n<p>The last option is &quot;evil&quot; but doesn't require any extra effort from your users.  Here's a sample block of code:</p>\n<pre><code>public static void main(String[] args) throws IOException, URISyntaxException {\n    String currentPath=SampleJavaApp.class\n          .getProtectionDomain()\n          .getCodeSource().getLocation()\n          .toURI().getPath()\n          .replace('/', File.separator.charAt(0)).substring(1);\n    if(args.length==0 &amp;&amp; Runtime.getRuntime().maxMemory()/1024/1024&lt;980) {\n        Runtime.getRuntime().exec(&quot;java -Xmx1024m -jar &quot;+currentPath+&quot; restart&quot;);\n        return;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10143457,"reputation":2565,"user_id":7492402,"display_name":"Philipp Merkle"},"down_vote_count":0,"up_vote_count":172,"is_accepted":false,"score":172,"last_activity_date":1487019374,"creation_date":1487000648,"answer_id":42207984,"question_id":20149304,"body_markdown":"Unfortunately, existing answers are wrong in one crucial point. \r\n\r\n**`-Xmx` must be passed to the Java runtime environment, not to the executed jar.**\r\n\r\nWrong:\r\n\r\n    java -jar JavaApplication.jar -Xmx1024m \r\n\r\nCorrect:\r\n\r\n    java -Xmx1024m -jar JavaApplication.jar \r\n\r\nMore specifically, the [java launcher][1] needs to be used as follows:\r\n\r\n&gt; java [options] -jar file.jar [arguments]\r\n\r\n* `[options]` are passed to the Java runtime environment\r\n* `[arguments]` are passed to the main function\r\n\r\nThe `-Xmx` parameter belongs to the (nonstandard) JVM options, and--being an option--needs to be listed before -jar (or at least before file.jar). The JVM will not recognize an `-Xmx` argument passed to the main function as proposed in other answers.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html","title":"How to set the -Xmx when start running a jar file?","body":"<p>Unfortunately, existing answers are wrong in one crucial point. </p>\n\n<p><strong><code>-Xmx</code> must be passed to the Java runtime environment, not to the executed jar.</strong></p>\n\n<p>Wrong:</p>\n\n<pre><code>java -jar JavaApplication.jar -Xmx1024m \n</code></pre>\n\n<p>Correct:</p>\n\n<pre><code>java -Xmx1024m -jar JavaApplication.jar \n</code></pre>\n\n<p>More specifically, the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"noreferrer\">java launcher</a> needs to be used as follows:</p>\n\n<blockquote>\n  <p>java [options] -jar file.jar [arguments]</p>\n</blockquote>\n\n<ul>\n<li><code>[options]</code> are passed to the Java runtime environment</li>\n<li><code>[arguments]</code> are passed to the main function</li>\n</ul>\n\n<p>The <code>-Xmx</code> parameter belongs to the (nonstandard) JVM options, and--being an option--needs to be listed before -jar (or at least before file.jar). The JVM will not recognize an <code>-Xmx</code> argument passed to the main function as proposed in other answers.</p>\n"},{"tags":[],"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490400440,"creation_date":1490400440,"answer_id":43011040,"question_id":20149304,"body_markdown":"user1361991 &gt; I like your evil option but I cannot comment it since I am still a newbie here. Anyway, I thought it deserved a little enhancement since I find it lacks the stderr and stdout redirection.\r\n\r\n    String currentPath= MyClass.class\r\n        .getProtectionDomain()\r\n        .getCodeSource().getLocation()\r\n        .toURI().getPath()\r\n        .replace(&#39;/&#39;, File.separatorChar).substring(1) ;\r\n    if ( args.length == 0 &amp;&amp; Runtime.getRuntime().maxMemory()&lt;512*1024*1024) {\r\n        Process p= Runtime.getRuntime().exec(&quot;java -jar -Xmx512M &quot; + currentPath + &quot; restart&quot;) ;\r\n        new StreamGobbler(p.getInputStream()).start() ;\r\n        new StreamGobbler(p.getErrorStream()).start() ;\r\n        p.waitFor() ;\r\n        return ;\r\n    }\r\n\r\nand the StreamGobbler source (probably retrieved from somewhere on the Internet to be honest and modified a little, I can&#39;t remember):\r\n\r\n    public class StreamGobbler\r\n        extends Thread\r\n    {\r\n        public StreamGobbler( InputStream is )\r\n        {\r\n            this(is, System.out) ;\r\n        }\r\n\r\n        public StreamGobbler( InputStream is, PrintStream ps )\r\n        {\r\n            this.is= is ;\r\n            this.ps= ps ;\r\n        }\r\n        private final InputStream is ;\r\n        private final PrintStream ps ;\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n            try {\r\n                InputStreamReader isr= new InputStreamReader(is) ;\r\n                BufferedReader br= new BufferedReader(isr) ;\r\n                for ( String line ; (line= br.readLine()) != null ; ) {\r\n                    ps.println(line) ;\r\n                }\r\n           }\r\n           catch ( IOException ioe ) {\r\n               ioe.printStackTrace() ;\r\n           }\r\n        }\r\n    }","title":"How to set the -Xmx when start running a jar file?","body":"<p>user1361991 > I like your evil option but I cannot comment it since I am still a newbie here. Anyway, I thought it deserved a little enhancement since I find it lacks the stderr and stdout redirection.</p>\n\n<pre><code>String currentPath= MyClass.class\n    .getProtectionDomain()\n    .getCodeSource().getLocation()\n    .toURI().getPath()\n    .replace('/', File.separatorChar).substring(1) ;\nif ( args.length == 0 &amp;&amp; Runtime.getRuntime().maxMemory()&lt;512*1024*1024) {\n    Process p= Runtime.getRuntime().exec(\"java -jar -Xmx512M \" + currentPath + \" restart\") ;\n    new StreamGobbler(p.getInputStream()).start() ;\n    new StreamGobbler(p.getErrorStream()).start() ;\n    p.waitFor() ;\n    return ;\n}\n</code></pre>\n\n<p>and the StreamGobbler source (probably retrieved from somewhere on the Internet to be honest and modified a little, I can't remember):</p>\n\n<pre><code>public class StreamGobbler\n    extends Thread\n{\n    public StreamGobbler( InputStream is )\n    {\n        this(is, System.out) ;\n    }\n\n    public StreamGobbler( InputStream is, PrintStream ps )\n    {\n        this.is= is ;\n        this.ps= ps ;\n    }\n    private final InputStream is ;\n    private final PrintStream ps ;\n\n    @Override\n    public void run()\n    {\n        try {\n            InputStreamReader isr= new InputStreamReader(is) ;\n            BufferedReader br= new BufferedReader(isr) ;\n            for ( String line ; (line= br.readLine()) != null ; ) {\n                ps.println(line) ;\n            }\n       }\n       catch ( IOException ioe ) {\n           ioe.printStackTrace() ;\n       }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13989606,"reputation":71,"user_id":10103872,"display_name":"venkatesh akkisetty"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1575527345,"creation_date":1575527345,"answer_id":59189458,"question_id":20149304,"body_markdown":"Correct way to set Xmx value for jar file at run time is:\r\n\r\n    java -Xmx512m -jar Application.jar ","title":"How to set the -Xmx when start running a jar file?","body":"<p>Correct way to set Xmx value for jar file at run time is:</p>\n\n<pre><code>java -Xmx512m -jar Application.jar \n</code></pre>\n"}],"owner":{"account_id":1578096,"reputation":6131,"user_id":1464078,"accept_rate":60,"display_name":"Judking"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113267,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":20149394,"answer_count":5,"score":53,"last_activity_date":1647871698,"creation_date":1385136322,"question_id":20149304,"body_markdown":"As we know that we can set `-Xmx1024M` in `window-&gt;preferences-&gt;java-&gt;installed jres-&gt;edit-&gt;default vm arguments` in **eclipse**. But when I package this project into a runnable jar file, how can I set the `-Xmx1024M` when running the jar via `java -jar A.jar`?\r\n\r\nThanks a lot!","title":"How to set the -Xmx when start running a jar file?","body":"<p>As we know that we can set <code>-Xmx1024M</code> in <code>window-&gt;preferences-&gt;java-&gt;installed jres-&gt;edit-&gt;default vm arguments</code> in <strong>eclipse</strong>. But when I package this project into a runnable jar file, how can I set the <code>-Xmx1024M</code> when running the jar via <code>java -jar A.jar</code>?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","jdbc","ibm-midrange","jt400","ibm-ifs"],"comments":[{"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"score":0,"creation_date":1647840813,"post_id":71553154,"comment_id":126463375,"body_markdown":"Found a similar question &quot;https://stackoverflow.com/questions/47513662/ifsfile-when-user-password-none&quot;, but no selected answer on that.","body":"Found a similar question &quot;<a href=\"https://stackoverflow.com/questions/47513662/ifsfile-when-user-password-none\" title=\"ifsfile when user password none\">stackoverflow.com/questions/47513662/&hellip;</a>&quot;, but no selected answer on that."}],"answers":[{"tags":[],"owner":{"account_id":15658085,"reputation":229,"user_id":11297683,"display_name":"jiarong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647842550,"creation_date":1647842550,"answer_id":71553360,"question_id":71553154,"body_markdown":"You can create a User ID with password but set the Initial menu to *SIGNOFF for security reasons.\r\n\r\nhttps://www.ibm.com/docs/en/i/7.2?topic=fields-initial-menu","title":"Execute CommandCall/ProgramCall by JT400 with Disabled user profile","body":"<p>You can create a User ID with password but set the Initial menu to *SIGNOFF for security reasons.</p>\n<p><a href=\"https://www.ibm.com/docs/en/i/7.2?topic=fields-initial-menu\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/i/7.2?topic=fields-initial-menu</a></p>\n"},{"tags":[],"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647871449,"creation_date":1647871449,"answer_id":71558936,"question_id":71553154,"body_markdown":"You can&#39;t connect to the server with a disabled user.\r\n\r\nPeriod.  No exceptions.\r\n\r\nIt&#39;d be a very insecure server if that was allowed.\r\n\r\n","title":"Execute CommandCall/ProgramCall by JT400 with Disabled user profile","body":"<p>You can't connect to the server with a disabled user.</p>\n<p>Period.  No exceptions.</p>\n<p>It'd be a very insecure server if that was allowed.</p>\n"}],"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647871449,"creation_date":1647840571,"question_id":71553154,"body_markdown":"Our problem is as follows:\r\n\r\nWe have to connect to an ISeries with the JT400 and run some commands/Programs. The requirement is: Job is running in the QBatch with **DISABLED** user profile (**because of security reasons**). \r\nWe are able to make the JDBC connection, but getting the exception when executing the CommandCall/ProgramCall run() method. Our code is the following:\r\n\r\n    // This way we are able to create the JDBC connection without supplying a username/password\r\n    Class.forName(&quot;com.ibm.db2.jdbc.app.DB2Driver&quot;);\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:db2:*local;translate binary=true;prompt=false;naming=sql;libraries=MyLib&quot;);\r\n\r\n    // This way we are trying to connect to the Iseries and to execute CommandCall\r\n    AS400 as400 = new AS400(); \r\n    CommandCall commandCall = new CommandCall(as400, &quot;ADDLIBLE LIB(MyCmdLib)&quot;);\r\n    \r\n    //Similarly executing ProgramCall as \r\n    ProgramCall programCall = new ProgramCall(as400, &quot;/QSYS.LIB/OBJLIB.LIB/MYPGM.PGM&quot;, paramlist);\r\n    programCall.run();\r\n\r\nand the exception is\r\n\r\n&gt; com.ibm.as400.access.AS400SecurityException: User ID is\r\n&gt; disabled.:NONACTUSR \tat\r\n&gt; com.ibm.as400.access.AS400ImplRemote.returnSecurityException(AS400ImplRemote.java:2889)\r\n&gt; \tat com.ibm.as400.access.CurrentUser.getUserInfo(CurrentUser.java:87)\r\n&gt; \tat\r\n&gt; com.ibm.as400.access.AS400ImplRemote.getPassword(AS400ImplRemote.java:1585)\r\n&gt; \tat\r\n&gt; com.ibm.as400.access.AS400ImplRemote.signon(AS400ImplRemote.java:3188)\r\n&gt; \tat com.ibm.as400.access.AS400.sendSignonRequest(AS400.java:3465) \tat\r\n&gt; com.ibm.as400.access.AS400.promptSignon(AS400.java:3043) \tat\r\n&gt; com.ibm.as400.access.AS400.signon(AS400.java:4375) \tat\r\n&gt; com.ibm.as400.access.CommandCall.chooseImpl(CommandCall.java:279) \tat\r\n&gt; com.ibm.as400.access.CommandCall.run(CommandCall.java:713)\r\n\r\nWe searched on the internet but couldn&#180;t find anyone with the same problem.\r\n\r\nThank you for reading our question.","title":"Execute CommandCall/ProgramCall by JT400 with Disabled user profile","body":"<p>Our problem is as follows:</p>\n<p>We have to connect to an ISeries with the JT400 and run some commands/Programs. The requirement is: Job is running in the QBatch with <strong>DISABLED</strong> user profile (<strong>because of security reasons</strong>).\nWe are able to make the JDBC connection, but getting the exception when executing the CommandCall/ProgramCall run() method. Our code is the following:</p>\n<pre><code>// This way we are able to create the JDBC connection without supplying a username/password\nClass.forName(&quot;com.ibm.db2.jdbc.app.DB2Driver&quot;);\nConnection connection = DriverManager.getConnection(&quot;jdbc:db2:*local;translate binary=true;prompt=false;naming=sql;libraries=MyLib&quot;);\n\n// This way we are trying to connect to the Iseries and to execute CommandCall\nAS400 as400 = new AS400(); \nCommandCall commandCall = new CommandCall(as400, &quot;ADDLIBLE LIB(MyCmdLib)&quot;);\n\n//Similarly executing ProgramCall as \nProgramCall programCall = new ProgramCall(as400, &quot;/QSYS.LIB/OBJLIB.LIB/MYPGM.PGM&quot;, paramlist);\nprogramCall.run();\n</code></pre>\n<p>and the exception is</p>\n<blockquote>\n<p>com.ibm.as400.access.AS400SecurityException: User ID is\ndisabled.:NONACTUSR   at\ncom.ibm.as400.access.AS400ImplRemote.returnSecurityException(AS400ImplRemote.java:2889)\nat com.ibm.as400.access.CurrentUser.getUserInfo(CurrentUser.java:87)\nat\ncom.ibm.as400.access.AS400ImplRemote.getPassword(AS400ImplRemote.java:1585)\nat\ncom.ibm.as400.access.AS400ImplRemote.signon(AS400ImplRemote.java:3188)\nat com.ibm.as400.access.AS400.sendSignonRequest(AS400.java:3465)    at\ncom.ibm.as400.access.AS400.promptSignon(AS400.java:3043)  at\ncom.ibm.as400.access.AS400.signon(AS400.java:4375)    at\ncom.ibm.as400.access.CommandCall.chooseImpl(CommandCall.java:279)     at\ncom.ibm.as400.access.CommandCall.run(CommandCall.java:713)</p>\n</blockquote>\n<p>We searched on the internet but couldn´t find anyone with the same problem.</p>\n<p>Thank you for reading our question.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":532383,"reputation":956,"user_id":903402,"accept_rate":88,"display_name":"PWiggin"},"score":0,"creation_date":1647576566,"post_id":71522337,"comment_id":126411276,"body_markdown":"When you say position, do you mean physical position on the screen or position inside the array?","body":"When you say position, do you mean physical position on the screen or position inside the array?"},{"owner":{"account_id":12332887,"reputation":1,"user_id":8998207,"display_name":"Parker"},"score":0,"creation_date":1647576666,"post_id":71522337,"comment_id":126411289,"body_markdown":"position inside the array deck. the output should be 0-51","body":"position inside the array deck. the output should be 0-51"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1647576897,"post_id":71522337,"comment_id":126411313,"body_markdown":"I don&#39;t quite understand what you&#39;re asking, do you think you could go into more detail or give an example?","body":"I don&#39;t quite understand what you&#39;re asking, do you think you could go into more detail or give an example?"},{"owner":{"account_id":12332887,"reputation":1,"user_id":8998207,"display_name":"Parker"},"score":0,"creation_date":1647577309,"post_id":71522337,"comment_id":126411385,"body_markdown":"with the above code, what would be my best option to be able to reshuffle the deck of cards as I don&#39;t use the above code word for word because I couldn&#39;t figure out how to. I personally took out the private static string lines to be able to use the individual variables (for example calling deck[x] to produce a card &quot;9 of hearts&quot; outside of the private static String ) for a different part of the assignment","body":"with the above code, what would be my best option to be able to reshuffle the deck of cards as I don&#39;t use the above code word for word because I couldn&#39;t figure out how to. I personally took out the private static string lines to be able to use the individual variables (for example calling deck[x] to produce a card &quot;9 of hearts&quot; outside of the private static String ) for a different part of the assignment"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1647577527,"post_id":71522337,"comment_id":126411417,"body_markdown":"When do you want to reshuffle the deck? Every time left-click is pressed? When the spacebar is pressed? Every 5 seconds?","body":"When do you want to reshuffle the deck? Every time left-click is pressed? When the spacebar is pressed? Every 5 seconds?"},{"owner":{"account_id":12332887,"reputation":1,"user_id":8998207,"display_name":"Parker"},"score":0,"creation_date":1647577649,"post_id":71522337,"comment_id":126411437,"body_markdown":"I basically just need help on how I am able to reshuffle the deck inside a for loop so the outputs of the position of the cards are different. outputs should be like shuffle 1: position 5 shuffle 2: position 42 and so on depending on the # of loops","body":"I basically just need help on how I am able to reshuffle the deck inside a for loop so the outputs of the position of the cards are different. outputs should be like shuffle 1: position 5 shuffle 2: position 42 and so on depending on the # of loops"},{"owner":{"account_id":12332887,"reputation":1,"user_id":8998207,"display_name":"Parker"},"score":0,"creation_date":1647577718,"post_id":71522337,"comment_id":126411447,"body_markdown":"@MorganS42 the shuffle should happen in a for loop. every time it restarts the loop the deck gets reshuffled","body":"@MorganS42 the shuffle should happen in a for loop. every time it restarts the loop the deck gets reshuffled"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1647577722,"post_id":71522337,"comment_id":126411448,"body_markdown":"Okay I think I understand now; but just for a bit more context do you think you could post the whole file? Including the public static void main? Just by editing your question.","body":"Okay I think I understand now; but just for a bit more context do you think you could post the whole file? Including the public static void main? Just by editing your question."},{"owner":{"account_id":12332887,"reputation":1,"user_id":8998207,"display_name":"Parker"},"score":0,"creation_date":1647578138,"post_id":71522337,"comment_id":126411511,"body_markdown":"@MorganS42 ive added the extra code. if that made it more confusing you&#39;ll have to give me some time to format it to the original code.","body":"@MorganS42 ive added the extra code. if that made it more confusing you&#39;ll have to give me some time to format it to the original code."},{"owner":{"account_id":12332887,"reputation":1,"user_id":8998207,"display_name":"Parker"},"score":0,"creation_date":1647578386,"post_id":71522337,"comment_id":126411541,"body_markdown":"the outcome of my code is as following. Shuffling 3 times.\n9 of Diamonds\n\nStarting Position: 0\nShuffle 1: 1\nShuffle 2: 1\nShuffle 3: 1","body":"the outcome of my code is as following. Shuffling 3 times. 9 of Diamonds  Starting Position: 0 Shuffle 1: 1 Shuffle 2: 1 Shuffle 3: 1"}],"answers":[{"tags":[],"owner":{"account_id":24584136,"reputation":1,"user_id":18488856,"display_name":"oy9r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647578344,"creation_date":1647578344,"answer_id":71522535,"question_id":71522337,"body_markdown":"your code have a probem in this line:\r\n```\r\nfor (int i=0; i&lt;n; i++){\r\n    int r = i + (int)(Math.random()*(n-i));\r\n```\r\nvariable `r` will be set a random number from `i` to `n`(include `i`),so The card may be exchanged with itself.\r\n\r\nIf you wish to change the position of all cards after shuffling, you should change the line of code to this:\r\n```\r\nfor (int i=0; i&lt;n-2; i++){\r\n    int r = i + (int)(Math.random()*(n-i-1)+1);\r\n```","title":"Reshuffling deck of cards","body":"<p>your code have a probem in this line:</p>\n<pre><code>for (int i=0; i&lt;n; i++){\n    int r = i + (int)(Math.random()*(n-i));\n</code></pre>\n<p>variable <code>r</code> will be set a random number from <code>i</code> to <code>n</code>(include <code>i</code>),so The card may be exchanged with itself.</p>\n<p>If you wish to change the position of all cards after shuffling, you should change the line of code to this:</p>\n<pre><code>for (int i=0; i&lt;n-2; i++){\n    int r = i + (int)(Math.random()*(n-i-1)+1);\n</code></pre>\n"}],"owner":{"account_id":12332887,"reputation":1,"user_id":8998207,"display_name":"Parker"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647871345,"creation_date":1647576083,"question_id":71522337,"body_markdown":"for the code below I need to track a card after a series of multiple shuffles in one run. I have used a for loop, Ofindex(), and Object.equals to find the position of the card. I need help with the reshuffle of the deck after it compiles\r\n\r\nhow would I go about reshuffling the deck in the code so when I go to find the position of the card in the for loop. it finds a different position everytime \r\n\r\ncode below is what we are given to build off of. not my personal code\r\n\r\n\r\n\r\n \r\n\r\n    private static String[] createDeck()\r\n          {\r\n    \r\n               String[] SUITS = {&quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;};\r\n               String[] RANKS = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot; };\r\n     \r\n               // Deck creation code\r\n               String[] deck = new String[RANKS.length*SUITS.length];\r\n               for (int i=0; i&lt; RANKS.length; i++)\r\n                     for (int j=0; j&lt; SUITS.length; j++)\r\n                           deck[SUITS.length*i+j] = RANKS[i] + &quot; of &quot; +SUITS[j];\r\n     \r\n     \r\n               return deck;\r\n          }\r\n         \r\n          private static String[] shuffleDeck(String[] deck)\r\n          {\r\n               //Shuffle Code\r\n               int n = deck.length;\r\n               for (int i=0; i&lt;n; i++)\r\n               {\r\n                     int r = i + (int)(Math.random()*(n-i));\r\n                     String temp = deck[i];\r\n                     deck[i] = deck[r];\r\n                     deck[r] = temp;\r\n               }\r\n               return deck;\r\n          }\r\n\r\n This would be the public static void main part  \r\n\r\n    int x = Integer.parseInt(args[0]);\r\n    int y = Integer.parseInt(args[1]);\r\n    System.out.println(&quot;Shuffling &quot; + x + &quot; times.&quot;);\r\n    System.out.println(deck[y]);\r\n    System.out.println();\r\n    int Y = y-1;\r\n    System.out.println(&quot;Starting Position: &quot;+ Y );\r\n    \r\n    //Objects.equals(&quot;test&quot;, new String(&quot;test&quot;))\r\n    \r\n    for(int L = 0; L &lt; x; L++) {\r\n      \r\n      for (int f = 0; f &lt; deck.length; f++) {\r\n        \r\n        if (Objects.equals(deck[f], new String(deck[y]))) {\r\n        \r\n          System.out.println(&quot;Shuffle &quot; + (L + 1) + &quot;: &quot; + f);\r\n\r\n\r\nkeep in mind that some of this will not work with the code above it, as ive said I took out the private static String so I would be able to use some of the upper code. ","title":"Reshuffling deck of cards","body":"<p>for the code below I need to track a card after a series of multiple shuffles in one run. I have used a for loop, Ofindex(), and Object.equals to find the position of the card. I need help with the reshuffle of the deck after it compiles</p>\n<p>how would I go about reshuffling the deck in the code so when I go to find the position of the card in the for loop. it finds a different position everytime</p>\n<p>code below is what we are given to build off of. not my personal code</p>\n<pre><code>private static String[] createDeck()\n      {\n\n           String[] SUITS = {&quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;};\n           String[] RANKS = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot; };\n \n           // Deck creation code\n           String[] deck = new String[RANKS.length*SUITS.length];\n           for (int i=0; i&lt; RANKS.length; i++)\n                 for (int j=0; j&lt; SUITS.length; j++)\n                       deck[SUITS.length*i+j] = RANKS[i] + &quot; of &quot; +SUITS[j];\n \n \n           return deck;\n      }\n     \n      private static String[] shuffleDeck(String[] deck)\n      {\n           //Shuffle Code\n           int n = deck.length;\n           for (int i=0; i&lt;n; i++)\n           {\n                 int r = i + (int)(Math.random()*(n-i));\n                 String temp = deck[i];\n                 deck[i] = deck[r];\n                 deck[r] = temp;\n           }\n           return deck;\n      }\n</code></pre>\n<p>This would be the public static void main part</p>\n<pre><code>int x = Integer.parseInt(args[0]);\nint y = Integer.parseInt(args[1]);\nSystem.out.println(&quot;Shuffling &quot; + x + &quot; times.&quot;);\nSystem.out.println(deck[y]);\nSystem.out.println();\nint Y = y-1;\nSystem.out.println(&quot;Starting Position: &quot;+ Y );\n\n//Objects.equals(&quot;test&quot;, new String(&quot;test&quot;))\n\nfor(int L = 0; L &lt; x; L++) {\n  \n  for (int f = 0; f &lt; deck.length; f++) {\n    \n    if (Objects.equals(deck[f], new String(deck[y]))) {\n    \n      System.out.println(&quot;Shuffle &quot; + (L + 1) + &quot;: &quot; + f);\n</code></pre>\n<p>keep in mind that some of this will not work with the code above it, as ive said I took out the private static String so I would be able to use some of the upper code.</p>\n"},{"tags":["java","spring","spring-boot","event-driven"],"comments":[{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1647891780,"post_id":71558916,"comment_id":126481053,"body_markdown":"Excuse me, but what is your question exactly about? According to logs, all evens are captured successfully. What are you trying to achieve? And what do you mean by &quot;cross-project&quot; event listener? So, you want to have two running separate services and exchange events between them?","body":"Excuse me, but what is your question exactly about? According to logs, all evens are captured successfully. What are you trying to achieve? And what do you mean by &quot;cross-project&quot; event listener? So, you want to have two running separate services and exchange events between them?"},{"owner":{"account_id":8035459,"reputation":31,"user_id":6058742,"display_name":"Ahmet Emre Harsa"},"score":0,"creation_date":1647930610,"post_id":71558916,"comment_id":126488633,"body_markdown":"@SemyonKirekov would like to have two separate Spring Boot applications and exchange events between them. Sorry for the quirky wording of the cross-project event listener. Basically, I would like to set up two different Spring Boot projects in my IDE and want to be able to exchange events between them.","body":"@SemyonKirekov would like to have two separate Spring Boot applications and exchange events between them. Sorry for the quirky wording of the cross-project event listener. Basically, I would like to set up two different Spring Boot projects in my IDE and want to be able to exchange events between them."},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1647934323,"post_id":71558916,"comment_id":126489435,"body_markdown":"Well, EventListener can only handle events inside one Spring application. If you want to distribute them across the network, you have to apply some external message queue (e.g. Kafka, RabbitMQ).","body":"Well, EventListener can only handle events inside one Spring application. If you want to distribute them across the network, you have to apply some external message queue (e.g. Kafka, RabbitMQ)."},{"owner":{"account_id":8035459,"reputation":31,"user_id":6058742,"display_name":"Ahmet Emre Harsa"},"score":0,"creation_date":1647950588,"post_id":71558916,"comment_id":126495066,"body_markdown":"@SemyonKirekov I have heard it before from somewhere that this can be implemented without using any external message broker and just by using Spring Boot. However, I don&#39;t technically know how to implement it by myself yet - that&#39;s why I&#39;ve decided to write this post.","body":"@SemyonKirekov I have heard it before from somewhere that this can be implemented without using any external message broker and just by using Spring Boot. However, I don&#39;t technically know how to implement it by myself yet - that&#39;s why I&#39;ve decided to write this post."}],"owner":{"account_id":8035459,"reputation":31,"user_id":6058742,"display_name":"Ahmet Emre Harsa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647871335,"creation_date":1647871335,"question_id":71558916,"body_markdown":"I am recently learning Spring Boot and Spring events. I have a two-part question related with the Spring Framework and especially its Event-Driven system. I was able to complete its first part, but I had difficulty in finding a solution for the second part. Here it goes:\r\n\r\nMy initial task was to set up a Spring Boot project which would publish an event and then listen this event successfully in the same project (by implementing ApplicationEvent in the entity class, ApplicationEventPublisher in the controller class and by using the @EventListener annotation in the listener class). I have successfully completed this task and executed &amp; received a correct output with the help of this web page. If you would like to view it as well: &lt;https://www.yawintutor.com/spring-boot-event-listener-annotation-example/&gt;\r\n\r\nThe reason I am actually writing this thread is to ask how to do the same task in a cross-project or cross-module fashion, meaning the publishing action/publisher would reside on Project 1 and an @EventListener on Project 2 will be able to receive the published message/event respectively.\r\n\r\nI have already set up another project, included the &#39;Student&#39; and &#39;StudentListener&#39; classes below and tried getting the data from the listener, but naturally it didn&#39;t work - as I guess I need to have another additional configuration for achieving this.\r\n\r\nI am open to any suggestion and criticism regarding my code, so long as it is constructive. You can kindly find the classes I have had for the first task:\r\n\r\n**The &#39;Student&#39; class under &#39;entity&#39; package (This is the class I am publishing as an event):**\r\n```\r\npackage com.fyk.spring_boot_events.entity;\r\n\r\nimport org.springframework.context.ApplicationEvent;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.StringJoiner;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Student extends ApplicationEvent\r\n{\r\n    private String ID;\r\n    private String name;\r\n    private LocalDate birthdate;\r\n    private int entryYear;\r\n    private String program;\r\n    private List&lt;String&gt; takenCourses;\r\n    private List&lt;String&gt; currentTermCourses;\r\n\r\n    public Student(Object source, String ID, String name, LocalDate birthdate, int entryYear,\r\n                   String program, List&lt;String&gt; takenCourses, List&lt;String&gt; currentTermCourses)\r\n    {\r\n        super(source);\r\n        this.ID = ID;\r\n        this.name = name;\r\n        this.birthdate = birthdate;\r\n        this.entryYear = entryYear;\r\n        this.program = program;\r\n        this.takenCourses = takenCourses;\r\n        this.currentTermCourses = currentTermCourses;\r\n    }\r\n\r\n    public void setID(String ID)\r\n    {\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getID()\r\n    {\r\n        return ID;\r\n    }\r\n\r\n    public void setName(String name)\r\n    {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n\r\n    public void setBirthdate(LocalDate birthdate)\r\n    {\r\n        this.birthdate = birthdate;\r\n    }\r\n\r\n    public LocalDate getBirthdate()\r\n    {\r\n        return birthdate;\r\n    }\r\n\r\n    public void setEntryYear(int entryYear)\r\n    {\r\n        this.entryYear = entryYear;\r\n    }\r\n\r\n    public int getEntryYear()\r\n    {\r\n        return entryYear;\r\n    }\r\n\r\n    public void setProgram(String program)\r\n    {\r\n        this.program = program;\r\n    }\r\n\r\n    public String getProgram()\r\n    {\r\n        return program;\r\n    }\r\n\r\n    public void setTakenCourses(List&lt;String&gt; takenCourses)\r\n    {\r\n        this.takenCourses = takenCourses;\r\n    }\r\n\r\n    public List&lt;String&gt; getTakenCourses()\r\n    {\r\n        return takenCourses;\r\n    }\r\n\r\n    public void setCurrentTermCourses(List&lt;String&gt; currentTermCourses)\r\n    {\r\n        this.currentTermCourses = currentTermCourses;\r\n    }\r\n\r\n    public List&lt;String&gt; getCurrentTermCourses()\r\n    {\r\n        return currentTermCourses;\r\n    }\r\n\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return new StringJoiner(&quot;, &quot;, Student.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n                .add(&quot;ID=&#39;&quot; + ID + &quot;&#39;&quot;)\r\n                .add(&quot;name=&#39;&quot; + name + &quot;&#39;&quot;)\r\n                .add(&quot;birthdate=&quot; + birthdate)\r\n                .add(&quot;entryYear=&quot; + entryYear)\r\n                .add(&quot;program=&#39;&quot; + program + &quot;&#39;&quot;)\r\n                .add(&quot;takenCourses=&quot; + takenCourses)\r\n                .add(&quot;currentTermCourses=&quot; + currentTermCourses)\r\n                .toString();\r\n    }\r\n}\r\n```\r\n\r\n**The &#39;TestController&#39; class under &#39;controller&#39; package:**\r\n```\r\npackage com.fyk.spring_boot_events.controller;\r\n\r\nimport com.fyk.spring_boot_events.entity.Student;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.ApplicationEventPublisher;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/student&quot;)\r\npublic class TestController\r\n{\r\n    @Autowired\r\n    ApplicationEventPublisher publisher;\r\n    private LocalDate birthdate;\r\n    private ArrayList&lt;String&gt; studentTakenCourses, studentCurrentCourses;\r\n\r\n    @GetMapping(value = &quot;/publish&quot;)\r\n    public String publish()\r\n    {\r\n        System.out.println(&quot;TestController: initializing example POJO...&quot;);\r\n        birthdate = LocalDate.of([PLACE_YEAR_HERE], [PLACE_MONTH_HERE], [PLACE_DAY_HERE]);\r\n        studentTakenCourses = new ArrayList&lt;&gt;();\r\n        studentTakenCourses.add(&quot;CSCI 2141 - Introduction to Database Systems&quot;);\r\n        studentTakenCourses.add(&quot;CSCI 4171 - Networks and Communications&quot;);\r\n        studentTakenCourses.add(&quot;CSCI 4152 - Natural Language Processing&quot;);\r\n        studentTakenCourses.add(&quot;CSCI 3136 - Principles of Programming Languages&quot;);\r\n        studentTakenCourses.add(&quot;CSCI 4116 - Cryptography&quot;);\r\n        studentTakenCourses.add(&quot;CSCI 3151 - Foundations of Machine Learning&quot;);\r\n\r\n        studentCurrentCourses = new ArrayList&lt;&gt;();\r\n        studentCurrentCourses.add(&quot;CENG 463 - Introduction to Machine Learning&quot;);\r\n        studentCurrentCourses.add(&quot;CENG 506 - Deep Learning&quot;);\r\n\r\n        Student event = new Student(this, &quot;[SOME_STUDENT_ID]&quot;, &quot;Ahmet Emre Harsa&quot;, birthdate,\r\n                2014, &quot;Computer Science&quot;, studentTakenCourses, studentCurrentCourses);\r\n\r\n\r\n        System.out.println(&quot;TestController: publishing the message...&quot;);\r\n        event.toString();\r\n        publisher.publishEvent(event);\r\n\r\n        System.out.println(&quot;TestController: successfully published the message.&quot;);\r\n        return &quot;Published&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**The &#39;StudentListener&#39; class under &#39;listener&#39; package:**\r\n```\r\npackage com.fyk.spring_boot_events.listener;\r\n\r\nimport com.fyk.spring_boot_events.entity.Student;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.core.annotation.Order;\r\n\r\n@Configuration\r\npublic class StudentListener\r\n{\r\n    @EventListener\r\n    @Order(1)\r\n    public void listener1(Student event)\r\n    {\r\n        System.out.println(&quot;Listener 1      : Source : &quot; + event.getSource().getClass().getName()\r\n                + &quot;, Message : &quot; + event);\r\n    }\r\n\r\n    @EventListener\r\n    @Order(2)\r\n    public void listener2(Student event)\r\n    {\r\n        System.out.println(&quot;Listener 2      : Source : &quot; + event.getSource().getClass().getName()\r\n                + &quot;, Message : &quot; + event);\r\n    }\r\n\r\n    @EventListener\r\n    @Order(3)\r\n    public void listener3(Student event)\r\n    {\r\n        System.out.println(&quot;Listener 3      : Source : &quot; + event.getSource().getClass().getName()\r\n                + &quot;, Message : &quot; + event);\r\n    }\r\n}\r\n```\r\n\r\n**Finally, the &#39;SpringBootEventsApplication&#39; class under root package:**\r\n```\r\npackage com.fyk.spring_boot_events;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringBootEventsApplication\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tSpringApplication.run(SpringBootEventsApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nI am starting the Spring Boot Application in my IDE and sending a &quot;GET&quot; via &lt;http://localhost:8080/student/publish&gt; in Postman to get the following successful output (for the &quot;same project&quot; publish-listen):\r\n\r\n```\r\nTestController: initializing example POJO...\r\nTestController: publishing the message...\r\nListener 1      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name=&#39;Ahmet Emre Harsa&#39;, birthdate=[SOME_BIRTH_DATE], entryYear=2014, program=&#39;Computer Science&#39;, takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\r\nListener 2      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name=&#39;Ahmet Emre Harsa&#39;, birthdate=[SOME_BIRTH_DATE], entryYear=2014, program=&#39;Computer Science&#39;, takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\r\nListener 3      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name=&#39;Ahmet Emre Harsa&#39;, birthdate=[SOME_BIRTH_DATE], entryYear=2014, program=&#39;Computer Science&#39;, takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\r\nTestController: successfully published the message.\r\nTestController: initializing example POJO...\r\nTestController: publishing the message...\r\nListener 1      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name=&#39;Ahmet Emre Harsa&#39;, birthdate=[SOME_BIRTH_DATE], entryYear=2014, program=&#39;Computer Science&#39;, takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\r\nListener 2      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name=&#39;Ahmet Emre Harsa&#39;, birthdate=[SOME_BIRTH_DATE], entryYear=2014, program=&#39;Computer Science&#39;, takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\r\nListener 3      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name=&#39;Ahmet Emre Harsa&#39;, birthdate=[SOME_BIRTH_DATE], entryYear=2014, program=&#39;Computer Science&#39;, takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\r\nTestController: successfully published the message.\r\n```\r\n\r\n**In case you might also need the build.gradle file:**\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.experimental.aot&#39; version &#39;0.11.3&#39;\r\n}\r\n\r\ngroup = &#39;com.fyk&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmaven { url &#39;https://repo.spring.io/release&#39; }\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\ntasks.named(&#39;bootBuildImage&#39;) {\r\n\tbuilder = &#39;paketobuildpacks/builder:tiny&#39;\r\n\tenvironment = [&#39;BP_NATIVE_IMAGE&#39;: &#39;true&#39;]\r\n}\r\n```\r\n\r\nNote: I needed to anonymize some information in the &#39;TestController&#39; class for the fields such as [SOME_STUDENT_ID], [PLACE_YEAR_HERE], [PLACE_MONTH_HERE] and [PLACE_DAY_HERE]. If you would like to test the code on your own machine, please enter some dummy values for these fields. \r\n\r\nThank you for your guidance and recommendations in advance!","title":"Spring Boot - Implementing Cross-Project @EventListener (Spring Event Publish - Listen)","body":"<p>I am recently learning Spring Boot and Spring events. I have a two-part question related with the Spring Framework and especially its Event-Driven system. I was able to complete its first part, but I had difficulty in finding a solution for the second part. Here it goes:</p>\n<p>My initial task was to set up a Spring Boot project which would publish an event and then listen this event successfully in the same project (by implementing ApplicationEvent in the entity class, ApplicationEventPublisher in the controller class and by using the @EventListener annotation in the listener class). I have successfully completed this task and executed &amp; received a correct output with the help of this web page. If you would like to view it as well: <a href=\"https://www.yawintutor.com/spring-boot-event-listener-annotation-example/\" rel=\"nofollow noreferrer\">https://www.yawintutor.com/spring-boot-event-listener-annotation-example/</a></p>\n<p>The reason I am actually writing this thread is to ask how to do the same task in a cross-project or cross-module fashion, meaning the publishing action/publisher would reside on Project 1 and an @EventListener on Project 2 will be able to receive the published message/event respectively.</p>\n<p>I have already set up another project, included the 'Student' and 'StudentListener' classes below and tried getting the data from the listener, but naturally it didn't work - as I guess I need to have another additional configuration for achieving this.</p>\n<p>I am open to any suggestion and criticism regarding my code, so long as it is constructive. You can kindly find the classes I have had for the first task:</p>\n<p><strong>The 'Student' class under 'entity' package (This is the class I am publishing as an event):</strong></p>\n<pre><code>package com.fyk.spring_boot_events.entity;\n\nimport org.springframework.context.ApplicationEvent;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.StringJoiner;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Student extends ApplicationEvent\n{\n    private String ID;\n    private String name;\n    private LocalDate birthdate;\n    private int entryYear;\n    private String program;\n    private List&lt;String&gt; takenCourses;\n    private List&lt;String&gt; currentTermCourses;\n\n    public Student(Object source, String ID, String name, LocalDate birthdate, int entryYear,\n                   String program, List&lt;String&gt; takenCourses, List&lt;String&gt; currentTermCourses)\n    {\n        super(source);\n        this.ID = ID;\n        this.name = name;\n        this.birthdate = birthdate;\n        this.entryYear = entryYear;\n        this.program = program;\n        this.takenCourses = takenCourses;\n        this.currentTermCourses = currentTermCourses;\n    }\n\n    public void setID(String ID)\n    {\n        this.ID = ID;\n    }\n\n    public String getID()\n    {\n        return ID;\n    }\n\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public void setBirthdate(LocalDate birthdate)\n    {\n        this.birthdate = birthdate;\n    }\n\n    public LocalDate getBirthdate()\n    {\n        return birthdate;\n    }\n\n    public void setEntryYear(int entryYear)\n    {\n        this.entryYear = entryYear;\n    }\n\n    public int getEntryYear()\n    {\n        return entryYear;\n    }\n\n    public void setProgram(String program)\n    {\n        this.program = program;\n    }\n\n    public String getProgram()\n    {\n        return program;\n    }\n\n    public void setTakenCourses(List&lt;String&gt; takenCourses)\n    {\n        this.takenCourses = takenCourses;\n    }\n\n    public List&lt;String&gt; getTakenCourses()\n    {\n        return takenCourses;\n    }\n\n    public void setCurrentTermCourses(List&lt;String&gt; currentTermCourses)\n    {\n        this.currentTermCourses = currentTermCourses;\n    }\n\n    public List&lt;String&gt; getCurrentTermCourses()\n    {\n        return currentTermCourses;\n    }\n\n    @Override\n    public String toString()\n    {\n        return new StringJoiner(&quot;, &quot;, Student.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n                .add(&quot;ID='&quot; + ID + &quot;'&quot;)\n                .add(&quot;name='&quot; + name + &quot;'&quot;)\n                .add(&quot;birthdate=&quot; + birthdate)\n                .add(&quot;entryYear=&quot; + entryYear)\n                .add(&quot;program='&quot; + program + &quot;'&quot;)\n                .add(&quot;takenCourses=&quot; + takenCourses)\n                .add(&quot;currentTermCourses=&quot; + currentTermCourses)\n                .toString();\n    }\n}\n</code></pre>\n<p><strong>The 'TestController' class under 'controller' package:</strong></p>\n<pre><code>package com.fyk.spring_boot_events.controller;\n\nimport com.fyk.spring_boot_events.entity.Student;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationEventPublisher;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\n\n@RestController\n@RequestMapping(&quot;/student&quot;)\npublic class TestController\n{\n    @Autowired\n    ApplicationEventPublisher publisher;\n    private LocalDate birthdate;\n    private ArrayList&lt;String&gt; studentTakenCourses, studentCurrentCourses;\n\n    @GetMapping(value = &quot;/publish&quot;)\n    public String publish()\n    {\n        System.out.println(&quot;TestController: initializing example POJO...&quot;);\n        birthdate = LocalDate.of([PLACE_YEAR_HERE], [PLACE_MONTH_HERE], [PLACE_DAY_HERE]);\n        studentTakenCourses = new ArrayList&lt;&gt;();\n        studentTakenCourses.add(&quot;CSCI 2141 - Introduction to Database Systems&quot;);\n        studentTakenCourses.add(&quot;CSCI 4171 - Networks and Communications&quot;);\n        studentTakenCourses.add(&quot;CSCI 4152 - Natural Language Processing&quot;);\n        studentTakenCourses.add(&quot;CSCI 3136 - Principles of Programming Languages&quot;);\n        studentTakenCourses.add(&quot;CSCI 4116 - Cryptography&quot;);\n        studentTakenCourses.add(&quot;CSCI 3151 - Foundations of Machine Learning&quot;);\n\n        studentCurrentCourses = new ArrayList&lt;&gt;();\n        studentCurrentCourses.add(&quot;CENG 463 - Introduction to Machine Learning&quot;);\n        studentCurrentCourses.add(&quot;CENG 506 - Deep Learning&quot;);\n\n        Student event = new Student(this, &quot;[SOME_STUDENT_ID]&quot;, &quot;Ahmet Emre Harsa&quot;, birthdate,\n                2014, &quot;Computer Science&quot;, studentTakenCourses, studentCurrentCourses);\n\n\n        System.out.println(&quot;TestController: publishing the message...&quot;);\n        event.toString();\n        publisher.publishEvent(event);\n\n        System.out.println(&quot;TestController: successfully published the message.&quot;);\n        return &quot;Published&quot;;\n    }\n}\n</code></pre>\n<p><strong>The 'StudentListener' class under 'listener' package:</strong></p>\n<pre><code>package com.fyk.spring_boot_events.listener;\n\nimport com.fyk.spring_boot_events.entity.Student;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.core.annotation.Order;\n\n@Configuration\npublic class StudentListener\n{\n    @EventListener\n    @Order(1)\n    public void listener1(Student event)\n    {\n        System.out.println(&quot;Listener 1      : Source : &quot; + event.getSource().getClass().getName()\n                + &quot;, Message : &quot; + event);\n    }\n\n    @EventListener\n    @Order(2)\n    public void listener2(Student event)\n    {\n        System.out.println(&quot;Listener 2      : Source : &quot; + event.getSource().getClass().getName()\n                + &quot;, Message : &quot; + event);\n    }\n\n    @EventListener\n    @Order(3)\n    public void listener3(Student event)\n    {\n        System.out.println(&quot;Listener 3      : Source : &quot; + event.getSource().getClass().getName()\n                + &quot;, Message : &quot; + event);\n    }\n}\n</code></pre>\n<p><strong>Finally, the 'SpringBootEventsApplication' class under root package:</strong></p>\n<pre><code>package com.fyk.spring_boot_events;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringBootEventsApplication\n{\n    public static void main(String[] args)\n    {\n        SpringApplication.run(SpringBootEventsApplication.class, args);\n    }\n}\n</code></pre>\n<p>I am starting the Spring Boot Application in my IDE and sending a &quot;GET&quot; via <a href=\"http://localhost:8080/student/publish\" rel=\"nofollow noreferrer\">http://localhost:8080/student/publish</a> in Postman to get the following successful output (for the &quot;same project&quot; publish-listen):</p>\n<pre><code>TestController: initializing example POJO...\nTestController: publishing the message...\nListener 1      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name='Ahmet Emre Harsa', birthdate=[SOME_BIRTH_DATE], entryYear=2014, program='Computer Science', takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\nListener 2      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name='Ahmet Emre Harsa', birthdate=[SOME_BIRTH_DATE], entryYear=2014, program='Computer Science', takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\nListener 3      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name='Ahmet Emre Harsa', birthdate=[SOME_BIRTH_DATE], entryYear=2014, program='Computer Science', takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\nTestController: successfully published the message.\nTestController: initializing example POJO...\nTestController: publishing the message...\nListener 1      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name='Ahmet Emre Harsa', birthdate=[SOME_BIRTH_DATE], entryYear=2014, program='Computer Science', takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\nListener 2      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name='Ahmet Emre Harsa', birthdate=[SOME_BIRTH_DATE], entryYear=2014, program='Computer Science', takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\nListener 3      : Source : com.fyk.spring_boot_events.controller.TestController, Message : Student[ID=[SOME_STUDENT_ID], name='Ahmet Emre Harsa', birthdate=[SOME_BIRTH_DATE], entryYear=2014, program='Computer Science', takenCourses=[CSCI 2141 - Introduction to Database Systems, CSCI 4171 - Networks and Communications, CSCI 4152 - Natural Language Processing, CSCI 3136 - Principles of Programming Languages, CSCI 4116 - Cryptography, CSCI 3151 - Foundations of Machine Learning], currentTermCourses=[CENG 463 - Introduction to Machine Learning, CENG 506 - Deep Learning]]\nTestController: successfully published the message.\n</code></pre>\n<p><strong>In case you might also need the build.gradle file:</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'org.springframework.experimental.aot' version '0.11.3'\n}\n\ngroup = 'com.fyk'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    maven { url 'https://repo.spring.io/release' }\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ntasks.named('bootBuildImage') {\n    builder = 'paketobuildpacks/builder:tiny'\n    environment = ['BP_NATIVE_IMAGE': 'true']\n}\n</code></pre>\n<p>Note: I needed to anonymize some information in the 'TestController' class for the fields such as [SOME_STUDENT_ID], [PLACE_YEAR_HERE], [PLACE_MONTH_HERE] and [PLACE_DAY_HERE]. If you would like to test the code on your own machine, please enter some dummy values for these fields.</p>\n<p>Thank you for your guidance and recommendations in advance!</p>\n"},{"tags":["java","ios","selenium","appium"],"answers":[{"tags":[],"owner":{"account_id":2377507,"reputation":389,"user_id":3894496,"display_name":"SthQA"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1408969140,"creation_date":1408969140,"answer_id":25485789,"question_id":25475925,"body_markdown":"The code you have posted manages the timeout to wait for a maximum of 50 seconds. It doesn&#39;t make the driver wait 50 seconds. You can use the wait like:\r\n\r\n     driver.wait(); //this will wait a max of 50 seconds cuz you said so\r\n    \r\nIf you ask me the proper way you would want to use waiting on Webdriver is:\r\n\r\n    WebDriverWait wait;\r\n    wait = new WebDriverWait(driver, 60);\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;blabla&quot;));\r\n\r\nThe code above checks if blabla is clickable until that condition is proved or 60 seconds(stated above) passes the driver waits.","title":"Appium&#39;s implicitlyWait does not work","body":"<p>The code you have posted manages the timeout to wait for a maximum of 50 seconds. It doesn't make the driver wait 50 seconds. You can use the wait like:</p>\n\n<pre><code> driver.wait(); //this will wait a max of 50 seconds cuz you said so\n</code></pre>\n\n<p>If you ask me the proper way you would want to use waiting on Webdriver is:</p>\n\n<pre><code>WebDriverWait wait;\nwait = new WebDriverWait(driver, 60);\nwait.until(ExpectedConditions.elementToBeClickable(By.id(\"blabla\"));\n</code></pre>\n\n<p>The code above checks if blabla is clickable until that condition is proved or 60 seconds(stated above) passes the driver waits.</p>\n"},{"tags":[],"owner":{"account_id":2645032,"reputation":101,"user_id":2287922,"display_name":"Kostya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424252151,"creation_date":1424252151,"answer_id":28580165,"question_id":25475925,"body_markdown":"In Appium it is possible to set implicit way in this way:\r\n\r\nJava code:\r\n\r\n    AppiumFieldDecorator decorator = new AppiumFieldDecorator(driver);\r\n    decorator.resetImplicitlyWaitTimeOut(50, TimeUnit.SECONDS);\r\n    PageFactory.initElements(decorator, this /* refers to current page object class*/);\r\n\r\nSuch timeout will work for the whole time.\r\n\r\nIt is not possible (at least I don&#39;t know) to change it. \r\n\r\nAs when web drivers are used you can do this with:\r\n\r\n    driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);\r\n    // some actions for which you don&#39;t want to wait implicitly\r\n    driver.manage().timeouts().implicitlyWait(50, TimeUnit.SECONDS);","title":"Appium&#39;s implicitlyWait does not work","body":"<p>In Appium it is possible to set implicit way in this way:</p>\n\n<p>Java code:</p>\n\n<pre><code>AppiumFieldDecorator decorator = new AppiumFieldDecorator(driver);\ndecorator.resetImplicitlyWaitTimeOut(50, TimeUnit.SECONDS);\nPageFactory.initElements(decorator, this /* refers to current page object class*/);\n</code></pre>\n\n<p>Such timeout will work for the whole time.</p>\n\n<p>It is not possible (at least I don't know) to change it. </p>\n\n<p>As when web drivers are used you can do this with:</p>\n\n<pre><code>driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);\n// some actions for which you don't want to wait implicitly\ndriver.manage().timeouts().implicitlyWait(50, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1799087,"reputation":2619,"user_id":1637815,"accept_rate":14,"display_name":"Ram Ch. Bachkheti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467295831,"creation_date":1467295831,"answer_id":38125676,"question_id":25475925,"body_markdown":"Try this: \r\n\r\n    public static void WaitForElementPresent1(String locator, int timeout)\r\n    {\r\n       \tWebDriverWait wait = new WebDriverWait(driver, timeout);\r\n        try{   \r\n\t        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(locator)));\r\n        } catch (Exception e){\r\n        \te.printStackTrace();\r\n        }\r\n     }","title":"Appium&#39;s implicitlyWait does not work","body":"<p>Try this: </p>\n\n<pre><code>public static void WaitForElementPresent1(String locator, int timeout)\n{\n    WebDriverWait wait = new WebDriverWait(driver, timeout);\n    try{   \n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(locator)));\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9056085,"reputation":1023,"user_id":6744397,"display_name":"Anish Pillai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481518942,"creation_date":1481518942,"answer_id":41094473,"question_id":25475925,"body_markdown":"If you are using PageFactory model, you can specify the implicit wait with initElements() method as given below - \r\n\r\n    PageFactory.initElements(new AppiumFieldDecorator(driver, 10, TimeUnit.SECONDS), this);\r\n\r\nI have tried this with Appium 1.6 and it works fine.","title":"Appium&#39;s implicitlyWait does not work","body":"<p>If you are using PageFactory model, you can specify the implicit wait with initElements() method as given below - </p>\n\n<pre><code>PageFactory.initElements(new AppiumFieldDecorator(driver, 10, TimeUnit.SECONDS), this);\n</code></pre>\n\n<p>I have tried this with Appium 1.6 and it works fine.</p>\n"},{"tags":[],"owner":{"account_id":2464420,"reputation":658,"user_id":2147846,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491197044,"creation_date":1491197044,"answer_id":43177015,"question_id":25475925,"body_markdown":"The new way of setting  the implicit time out is using the code\r\n\r\n   \r\n\r\n    AppiumFieldDecorator decorator = new AppiumFieldDecorator(mobDriver);\r\n    decorator.DEFAULT_IMPLICITLY_WAIT_TIMEOUT = longValue;\r\n    decorator.DEFAULT_TIMEUNIT = TimeUnit.TimeUnit ;\r\n\r\nHope this helps","title":"Appium&#39;s implicitlyWait does not work","body":"<p>The new way of setting  the implicit time out is using the code</p>\n\n<pre><code>AppiumFieldDecorator decorator = new AppiumFieldDecorator(mobDriver);\ndecorator.DEFAULT_IMPLICITLY_WAIT_TIMEOUT = longValue;\ndecorator.DEFAULT_TIMEUNIT = TimeUnit.TimeUnit ;\n</code></pre>\n\n<p>Hope this helps</p>\n"}],"owner":{"account_id":4932430,"reputation":41,"user_id":3971738,"display_name":"smallfishwu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7342,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1647871320,"creation_date":1408911467,"question_id":25475925,"body_markdown":"I am using Appium to automate an iOS app but met a problem, is there anyone meet the same problem before?\r\n\r\nAppium&#39;s `implicitlyWait` API seems to not work. I am using Java and JUnit to run the test, here is the line of code:\r\n\r\n`driver.manage().timeouts().implicitlyWait(50, TimeUnit.SECONDS);`\r\n\r\nI have checked the debug info in the appium console, it looks correctly:\r\n\r\n&gt; info: [debug] Set iOS implicit wait to 50000ms\r\n\r\n**My Environment:** \r\n\r\nLatest Appium 1.2.1, Java client library 1.6.1, Selenium Java language binding 2.42.2 and sample app &#39;UICatalog&#39;provided by Sauce Lab.\r\n\r\nThanks in advance for the reply.","title":"Appium&#39;s implicitlyWait does not work","body":"<p>I am using Appium to automate an iOS app but met a problem, is there anyone meet the same problem before?</p>\n\n<p>Appium's <code>implicitlyWait</code> API seems to not work. I am using Java and JUnit to run the test, here is the line of code:</p>\n\n<p><code>driver.manage().timeouts().implicitlyWait(50, TimeUnit.SECONDS);</code></p>\n\n<p>I have checked the debug info in the appium console, it looks correctly:</p>\n\n<blockquote>\n  <p>info: [debug] Set iOS implicit wait to 50000ms</p>\n</blockquote>\n\n<p><strong>My Environment:</strong> </p>\n\n<p>Latest Appium 1.2.1, Java client library 1.6.1, Selenium Java language binding 2.42.2 and sample app 'UICatalog'provided by Sauce Lab.</p>\n\n<p>Thanks in advance for the reply.</p>\n"},{"tags":["java","spring-boot","tomcat","spring-security","hazelcast"],"comments":[{"owner":{"account_id":2468330,"reputation":1677,"user_id":2150870,"accept_rate":75,"display_name":"Bere"},"score":0,"creation_date":1658155528,"post_id":71558857,"comment_id":128974853,"body_markdown":"did you find a solution for this? I came across the same issue.","body":"did you find a solution for this? I came across the same issue."},{"owner":{"account_id":1434077,"reputation":318,"user_id":1355846,"accept_rate":60,"display_name":"Gvg"},"score":0,"creation_date":1661928603,"post_id":71558857,"comment_id":129885228,"body_markdown":"Seems that the custom serializer does not work when using hazelcast client-server topology.\nTry removing the serializerConfig.","body":"Seems that the custom serializer does not work when using hazelcast client-server topology. Try removing the serializerConfig."}],"owner":{"account_id":10689457,"reputation":147,"user_id":7868898,"accept_rate":43,"display_name":"azguindou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647871147,"creation_date":1647871147,"question_id":71558857,"body_markdown":"I am trying to add Hazelcast as a session manager with a spring boot project.\r\nI created a Hazelcast cluster in docker and Hazelcast client using Java like the code below.\r\n\r\n```\r\n@Configuration\r\n@EnableHazelcastHttpSession\r\npublic class SessionConfiguration {\r\n\r\n    private final String SESSIONS_MAP_NAME = &quot;session-map&quot;;\r\n\r\n    @Bean\r\n    @SpringSessionHazelcastInstance\r\n    public HazelcastInstance hazelcastInstance() {\r\n        ClientConfig clientConfig = new ClientConfig();\r\n        clientConfig.setClusterName(&quot;dev&quot;);\r\n        clientConfig.getNetworkConfig().addAddress(&quot;192.168.192.5:5701&quot;).setSmartRouting(false);\r\n\r\n        SerializerConfig serializerConfig = new SerializerConfig();\r\n        serializerConfig.setImplementation(new HazelcastSessionSerializer()).setTypeClass(MapSession.class);\r\n        clientConfig.getSerializationConfig().addSerializerConfig(serializerConfig);\r\n\r\n\r\n        clientConfig.getUserCodeDeploymentConfig()\r\n                .setEnabled(true)\r\n                .addClass(Session.class)\r\n                .addClass(MapSession.class)\r\n                .addClass(Hazelcast4SessionUpdateEntryProcessor.class);\r\n\r\n        return HazelcastClient.newHazelcastClient(clientConfig);\r\n    }\r\n\r\n    @Bean\r\n    public SessionRepositoryCustomizer&lt;Hazelcast4IndexedSessionRepository&gt; customize() {\r\n        return (sessionRepository) -&gt; {\r\n            sessionRepository.setFlushMode(FlushMode.IMMEDIATE);\r\n            sessionRepository.setSaveMode(SaveMode.ALWAYS);\r\n            sessionRepository.setSessionMapName(SESSIONS_MAP_NAME);\r\n            sessionRepository.setDefaultMaxInactiveInterval(900);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI can connect to the cluster and see the map created using Hazelcast mancenter, but when I try to connect to the application I have this exception.\r\n\r\n```\r\nerror:There is no suitable de-serializer for type 1453. This exception is likely caused by differences in the serialization configuration between members or between clients and members.\r\n2022-03-21T10:48:14.503294200Z com.hazelcast.nio.serialization.HazelcastSerializationException: There is no suitable de-serializer for type 1453. This exception is likely caused by differences in the serialization configuration between members or between clients and members.\r\n2022-03-21T10:48:14.503373800Z          at com.hazelcast.internal.serialization.impl.AbstractSerializationService.newHazelcastSerializationException(AbstractSerializationService.java:319) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503406600Z          at com.hazelcast.internal.serialization.impl.AbstractSerializationService.toObject(AbstractSerializationService.java:259) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503454200Z          at com.hazelcast.query.impl.CachedQueryEntry.getValue(CachedQueryEntry.java:116) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503473000Z          at org.springframework.session.hazelcast.Hazelcast4SessionUpdateEntryProcessor.process(Hazelcast4SessionUpdateEntryProcessor.java:46) ~[spring-session-hazelcast-2.6.1.jar!/:2.6.1]\r\n2022-03-21T10:48:14.503534900Z          at com.hazelcast.map.impl.operation.EntryOperator.process(EntryOperator.java:338) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503556600Z          at com.hazelcast.map.impl.operation.EntryOperator.operateOnKeyValueInternal(EntryOperator.java:193) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503593400Z          at com.hazelcast.map.impl.operation.EntryOperator.operateOnKey(EntryOperator.java:176) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503611200Z          at com.hazelcast.map.impl.operation.EntryOperation.call(EntryOperation.java:193) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503645700Z          at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:273) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503663400Z          at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:248) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503700100Z          at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:471) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503719600Z          at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:197) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503760100Z          at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:137) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503778200Z          at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.executeRun(OperationThread.java:123) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503814300Z          at com.hazelcast.internal.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:102) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503832300Z          at ------ submitted from ------.() ~[?:?]\r\n2022-03-21T10:48:14.503867900Z          at com.hazelcast.internal.util.ExceptionUtil.cloneExceptionWithFixedAsyncStackTrace(ExceptionUtil.java:336) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503907000Z          at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:112) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503958400Z          at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.503977600Z          at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.504049500Z          at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:617) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.504072100Z          at com.hazelcast.client.impl.spi.ClientProxy.invokeOnPartition(ClientProxy.java:188) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.504121800Z          at com.hazelcast.client.impl.spi.ClientProxy.invoke(ClientProxy.java:182) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.504140400Z          at com.hazelcast.client.impl.proxy.ClientMapProxy.executeOnKeyInternal(ClientMapProxy.java:1368) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.504175600Z          at com.hazelcast.client.impl.proxy.ClientMapProxy.executeOnKey(ClientMapProxy.java:1360) ~[hazelcast-5.1.jar!/:5.1]\r\n2022-03-21T10:48:14.504193000Z          at org.springframework.session.hazelcast.Hazelcast4IndexedSessionRepository.save(Hazelcast4IndexedSessionRepository.java:267) ~[spring-session-hazelcast-2.6.1.jar!/:2.6.1]\r\n2022-03-21T10:48:14.504229100Z          at org.springframework.session.hazelcast.Hazelcast4IndexedSessionRepository$HazelcastSession.flushImmediateIfNecessary(Hazelcast4IndexedSessionRepository.java:472) ~[spring-session-hazelcast-2.6.1.jar!/:2.6.1]\r\n2022-03-21T10:48:14.504248000Z          at org.springframework.session.hazelcast.Hazelcast4IndexedSessionRepository$HazelcastSession.setLastAccessedTime(Hazelcast4IndexedSessionRepository.java:377) ~[spring-session-hazelcast-2.6.1.jar!/:2.6.1]\r\n2022-03-21T10:48:14.504289000Z          at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:324) ~[spring-session-core-2.6.1.jar!/:2.6.1]\r\n2022-03-21T10:48:14.504307000Z          at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:193) ~[spring-session-core-2.6.1.jar!/:2.6.1]\r\n2022-03-21T10:48:14.504343400Z          at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:244) ~[tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504360800Z          at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:244) ~[tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504399200Z          at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:244) ~[tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504417700Z          at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:244) ~[tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504453200Z          at org.apache.myfaces.context.servlet.SessionMap.setAttribute(SessionMap.java:56) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504471000Z          at org.apache.myfaces.util.AbstractThreadSafeAttributeMap.put(AbstractThreadSafeAttributeMap.java:109) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504523000Z          at org.apache.myfaces.util.AbstractThreadSafeAttributeMap.put(AbstractThreadSafeAttributeMap.java:38) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504542600Z          at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.getResponseEncoding(FaceletViewDeclarationLanguage.java:2403) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504580600Z          at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.createResponseWriter(FaceletViewDeclarationLanguage.java:2303) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504599300Z          at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.renderView(FaceletViewDeclarationLanguage.java:1867) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504644600Z          at org.apache.myfaces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:315) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504662900Z          at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:73) ~[myfaces-api-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504701800Z          at org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:117) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504719800Z          at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:266) [myfaces-impl-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504754600Z          at javax.faces.webapp.FacesServlet.service(FacesServlet.java:206) [myfaces-api-2.3.0.jar!/:2.3.0]\r\n2022-03-21T10:48:14.504772200Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504806700Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504824200Z          at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504859000Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504876700Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.504944800Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.504964100Z          at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.505004600Z          at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.505023200Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.505059400Z          at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506154800Z          at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506223700Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506240900Z          at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506249200Z          at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506272200Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506280300Z          at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506287200Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506294400Z          at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506302000Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506308900Z          at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506315900Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506322800Z          at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506329900Z          at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506339200Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506346400Z          at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506353500Z          at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506360500Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506367500Z          at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506374200Z          at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506380700Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506386400Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506392300Z          at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506404700Z          at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506411100Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506417100Z          at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506423600Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506430700Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506438500Z          at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506444600Z          at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.6.1.jar!/:5.6.1]\r\n2022-03-21T10:48:14.506450800Z          at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506456800Z          at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506462900Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506468800Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506475100Z          at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506481200Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506487900Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506494500Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506500100Z          at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506522400Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506532300Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506540300Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506546400Z          at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142) [spring-session-core-2.6.1.jar!/:2.6.1]\r\n2022-03-21T10:48:14.506561000Z          at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82) [spring-session-core-2.6.1.jar!/:2.6.1]\r\n2022-03-21T10:48:14.506567300Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506573600Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506579500Z          at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n2022-03-21T10:48:14.506585000Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506591100Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506597300Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506603800Z          at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506610900Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n2022-03-21T10:48:14.506617100Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506624100Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506630800Z          at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506637400Z          at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506644100Z          at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506650500Z          at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506657900Z          at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506664500Z          at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506670900Z          at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506677300Z          at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506683500Z          at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506703600Z          at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506711600Z          at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506718200Z          at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506724900Z          at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506731300Z          at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506737800Z          at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506744200Z          at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar!/:?]\r\n2022-03-21T10:48:14.506750500Z          at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]\r\n```\r\n\r\nAny idea please ?\r\n\r\nWhen I remove the `SerializerConfig`, I have another exception related to `MapSession` serialization.","title":"Hazelcast: There is no suitable de-serializer for type 1453","body":"<p>I am trying to add Hazelcast as a session manager with a spring boot project.\nI created a Hazelcast cluster in docker and Hazelcast client using Java like the code below.</p>\n<pre><code>@Configuration\n@EnableHazelcastHttpSession\npublic class SessionConfiguration {\n\n    private final String SESSIONS_MAP_NAME = &quot;session-map&quot;;\n\n    @Bean\n    @SpringSessionHazelcastInstance\n    public HazelcastInstance hazelcastInstance() {\n        ClientConfig clientConfig = new ClientConfig();\n        clientConfig.setClusterName(&quot;dev&quot;);\n        clientConfig.getNetworkConfig().addAddress(&quot;192.168.192.5:5701&quot;).setSmartRouting(false);\n\n        SerializerConfig serializerConfig = new SerializerConfig();\n        serializerConfig.setImplementation(new HazelcastSessionSerializer()).setTypeClass(MapSession.class);\n        clientConfig.getSerializationConfig().addSerializerConfig(serializerConfig);\n\n\n        clientConfig.getUserCodeDeploymentConfig()\n                .setEnabled(true)\n                .addClass(Session.class)\n                .addClass(MapSession.class)\n                .addClass(Hazelcast4SessionUpdateEntryProcessor.class);\n\n        return HazelcastClient.newHazelcastClient(clientConfig);\n    }\n\n    @Bean\n    public SessionRepositoryCustomizer&lt;Hazelcast4IndexedSessionRepository&gt; customize() {\n        return (sessionRepository) -&gt; {\n            sessionRepository.setFlushMode(FlushMode.IMMEDIATE);\n            sessionRepository.setSaveMode(SaveMode.ALWAYS);\n            sessionRepository.setSessionMapName(SESSIONS_MAP_NAME);\n            sessionRepository.setDefaultMaxInactiveInterval(900);\n        };\n    }\n}\n</code></pre>\n<p>I can connect to the cluster and see the map created using Hazelcast mancenter, but when I try to connect to the application I have this exception.</p>\n<pre><code>error:There is no suitable de-serializer for type 1453. This exception is likely caused by differences in the serialization configuration between members or between clients and members.\n2022-03-21T10:48:14.503294200Z com.hazelcast.nio.serialization.HazelcastSerializationException: There is no suitable de-serializer for type 1453. This exception is likely caused by differences in the serialization configuration between members or between clients and members.\n2022-03-21T10:48:14.503373800Z          at com.hazelcast.internal.serialization.impl.AbstractSerializationService.newHazelcastSerializationException(AbstractSerializationService.java:319) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503406600Z          at com.hazelcast.internal.serialization.impl.AbstractSerializationService.toObject(AbstractSerializationService.java:259) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503454200Z          at com.hazelcast.query.impl.CachedQueryEntry.getValue(CachedQueryEntry.java:116) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503473000Z          at org.springframework.session.hazelcast.Hazelcast4SessionUpdateEntryProcessor.process(Hazelcast4SessionUpdateEntryProcessor.java:46) ~[spring-session-hazelcast-2.6.1.jar!/:2.6.1]\n2022-03-21T10:48:14.503534900Z          at com.hazelcast.map.impl.operation.EntryOperator.process(EntryOperator.java:338) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503556600Z          at com.hazelcast.map.impl.operation.EntryOperator.operateOnKeyValueInternal(EntryOperator.java:193) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503593400Z          at com.hazelcast.map.impl.operation.EntryOperator.operateOnKey(EntryOperator.java:176) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503611200Z          at com.hazelcast.map.impl.operation.EntryOperation.call(EntryOperation.java:193) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503645700Z          at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:273) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503663400Z          at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:248) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503700100Z          at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:471) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503719600Z          at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:197) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503760100Z          at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:137) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503778200Z          at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.executeRun(OperationThread.java:123) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503814300Z          at com.hazelcast.internal.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:102) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503832300Z          at ------ submitted from ------.() ~[?:?]\n2022-03-21T10:48:14.503867900Z          at com.hazelcast.internal.util.ExceptionUtil.cloneExceptionWithFixedAsyncStackTrace(ExceptionUtil.java:336) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503907000Z          at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:112) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503958400Z          at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.503977600Z          at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.504049500Z          at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:617) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.504072100Z          at com.hazelcast.client.impl.spi.ClientProxy.invokeOnPartition(ClientProxy.java:188) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.504121800Z          at com.hazelcast.client.impl.spi.ClientProxy.invoke(ClientProxy.java:182) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.504140400Z          at com.hazelcast.client.impl.proxy.ClientMapProxy.executeOnKeyInternal(ClientMapProxy.java:1368) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.504175600Z          at com.hazelcast.client.impl.proxy.ClientMapProxy.executeOnKey(ClientMapProxy.java:1360) ~[hazelcast-5.1.jar!/:5.1]\n2022-03-21T10:48:14.504193000Z          at org.springframework.session.hazelcast.Hazelcast4IndexedSessionRepository.save(Hazelcast4IndexedSessionRepository.java:267) ~[spring-session-hazelcast-2.6.1.jar!/:2.6.1]\n2022-03-21T10:48:14.504229100Z          at org.springframework.session.hazelcast.Hazelcast4IndexedSessionRepository$HazelcastSession.flushImmediateIfNecessary(Hazelcast4IndexedSessionRepository.java:472) ~[spring-session-hazelcast-2.6.1.jar!/:2.6.1]\n2022-03-21T10:48:14.504248000Z          at org.springframework.session.hazelcast.Hazelcast4IndexedSessionRepository$HazelcastSession.setLastAccessedTime(Hazelcast4IndexedSessionRepository.java:377) ~[spring-session-hazelcast-2.6.1.jar!/:2.6.1]\n2022-03-21T10:48:14.504289000Z          at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:324) ~[spring-session-core-2.6.1.jar!/:2.6.1]\n2022-03-21T10:48:14.504307000Z          at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:193) ~[spring-session-core-2.6.1.jar!/:2.6.1]\n2022-03-21T10:48:14.504343400Z          at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:244) ~[tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504360800Z          at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:244) ~[tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504399200Z          at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:244) ~[tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504417700Z          at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:244) ~[tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504453200Z          at org.apache.myfaces.context.servlet.SessionMap.setAttribute(SessionMap.java:56) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504471000Z          at org.apache.myfaces.util.AbstractThreadSafeAttributeMap.put(AbstractThreadSafeAttributeMap.java:109) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504523000Z          at org.apache.myfaces.util.AbstractThreadSafeAttributeMap.put(AbstractThreadSafeAttributeMap.java:38) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504542600Z          at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.getResponseEncoding(FaceletViewDeclarationLanguage.java:2403) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504580600Z          at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.createResponseWriter(FaceletViewDeclarationLanguage.java:2303) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504599300Z          at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.renderView(FaceletViewDeclarationLanguage.java:1867) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504644600Z          at org.apache.myfaces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:315) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504662900Z          at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:73) ~[myfaces-api-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504701800Z          at org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:117) ~[myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504719800Z          at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:266) [myfaces-impl-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504754600Z          at javax.faces.webapp.FacesServlet.service(FacesServlet.java:206) [myfaces-api-2.3.0.jar!/:2.3.0]\n2022-03-21T10:48:14.504772200Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504806700Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504824200Z          at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504859000Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504876700Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.504944800Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.504964100Z          at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.505004600Z          at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.505023200Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.505059400Z          at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506154800Z          at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506223700Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506240900Z          at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506249200Z          at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506272200Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506280300Z          at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506287200Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506294400Z          at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506302000Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506308900Z          at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506315900Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506322800Z          at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506329900Z          at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506339200Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506346400Z          at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506353500Z          at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506360500Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506367500Z          at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506374200Z          at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506380700Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506386400Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506392300Z          at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506404700Z          at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506411100Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506417100Z          at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506423600Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506430700Z          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506438500Z          at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506444600Z          at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.6.1.jar!/:5.6.1]\n2022-03-21T10:48:14.506450800Z          at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506456800Z          at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506462900Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506468800Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506475100Z          at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506481200Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506487900Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506494500Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506500100Z          at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506522400Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506532300Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506540300Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506546400Z          at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142) [spring-session-core-2.6.1.jar!/:2.6.1]\n2022-03-21T10:48:14.506561000Z          at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82) [spring-session-core-2.6.1.jar!/:2.6.1]\n2022-03-21T10:48:14.506567300Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506573600Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506579500Z          at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n2022-03-21T10:48:14.506585000Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506591100Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506597300Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506603800Z          at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506610900Z          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n2022-03-21T10:48:14.506617100Z          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506624100Z          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506630800Z          at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506637400Z          at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506644100Z          at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506650500Z          at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506657900Z          at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506664500Z          at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506670900Z          at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506677300Z          at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506683500Z          at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506703600Z          at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506711600Z          at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506718200Z          at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506724900Z          at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506731300Z          at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506737800Z          at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506744200Z          at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar!/:?]\n2022-03-21T10:48:14.506750500Z          at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]\n</code></pre>\n<p>Any idea please ?</p>\n<p>When I remove the <code>SerializerConfig</code>, I have another exception related to <code>MapSession</code> serialization.</p>\n"},{"tags":["java","oracle","jdbc"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1442651717,"creation_date":1335968833,"answer_id":10415782,"question_id":10415733,"body_markdown":"Refer to the whitepaper linked below for details.\r\n\r\n&gt; the JDBC URL must use the _tcps_ protocol in order to activate SSL in the JDBC Thin driver.\r\n&gt;\r\n&gt; For example the following URL activates SSL: \r\n&gt;\r\n&gt;     jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=servername\r\n         )(PORT=2484))(CONNECT_DATA=(SERVICE_NAME=servicename))) \r\n\r\nThis answer assumes that you have already configured TLS correctly on the oracle server. If not, refer to the [SSL With Oracle JDBC Thin Driver][1] whitepaper.\r\n\r\nThis whitepaper also includes more advanced options like authentication, selection of cipher, etc.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf","title":"JDBC Connection to Oracle database using TLS Certificate","body":"<p>Refer to the whitepaper linked below for details.</p>\n\n<blockquote>\n  <p>the JDBC URL must use the <em>tcps</em> protocol in order to activate SSL in the JDBC Thin driver.</p>\n  \n  <p>For example the following URL activates SSL: </p>\n\n<pre><code>jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=servername\n     )(PORT=2484))(CONNECT_DATA=(SERVICE_NAME=servicename))) \n</code></pre>\n</blockquote>\n\n<p>This answer assumes that you have already configured TLS correctly on the oracle server. If not, refer to the <a href=\"http://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf\" rel=\"noreferrer\">SSL With Oracle JDBC Thin Driver</a> whitepaper.</p>\n\n<p>This whitepaper also includes more advanced options like authentication, selection of cipher, etc.</p>\n"}],"owner":{"account_id":1454167,"reputation":41,"user_id":1370253,"display_name":"JavaOracle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9505,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1647871041,"creation_date":1335968677,"question_id":10415733,"body_markdown":"I am trying to write a connection class in Java to connect to an Oracle database using the JDBC driver, but I want to secure the parameters like jdbcurl/username/password which is used to connect to the Oracle database.\r\n\r\nI have to use TLS certificate concept to connect to the Oracle database in Java. I tried looking for a working example but couldn&#39;t find one.\r\n\r\nCan anyone give me an idea how to implement that. I have to add connection pooling concept also to it.\r\n","title":"JDBC Connection to Oracle database using TLS Certificate","body":"<p>I am trying to write a connection class in Java to connect to an Oracle database using the JDBC driver, but I want to secure the parameters like jdbcurl/username/password which is used to connect to the Oracle database.</p>\n<p>I have to use TLS certificate concept to connect to the Oracle database in Java. I tried looking for a working example but couldn't find one.</p>\n<p>Can anyone give me an idea how to implement that. I have to add connection pooling concept also to it.</p>\n"},{"tags":["java","android","unit-testing","kotlin","robolectric"],"answers":[{"tags":[],"owner":{"account_id":16166174,"reputation":347,"user_id":11671103,"display_name":"Flash103"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647870996,"creation_date":1647870996,"answer_id":71558825,"question_id":71542971,"body_markdown":"I have discovered a solution. Add the following to the `android` section of the **module** `build.gradle`:\r\n\r\n        testOptions {\r\n            unitTests {\r\n                includeAndroidResources = true\r\n            }\r\n        }\r\nAccording to [documentation][1], setting this to true will allow a unit test &quot;to use Android resources, assets, and manifests&quot; by &quot;perform[ing] resource, asset, and manifest merging before running your unit tests.&quot;\r\n\r\nOnce I added this as described above, the exceptions stopped and my unit tests invoking `HtmlCompat` were able to complete.\r\n\r\n\r\n  [1]: https://google.github.io/android-gradle-dsl/3.0/com.android.build.gradle.internal.dsl.TestOptions.UnitTestOptions.html","title":"Why does ExceptionInInitializerError occur when invoking HtmlCompat in an Android unit test using Robolectric?","body":"<p>I have discovered a solution. Add the following to the <code>android</code> section of the <strong>module</strong> <code>build.gradle</code>:</p>\n<pre><code>    testOptions {\n        unitTests {\n            includeAndroidResources = true\n        }\n    }\n</code></pre>\n<p>According to <a href=\"https://google.github.io/android-gradle-dsl/3.0/com.android.build.gradle.internal.dsl.TestOptions.UnitTestOptions.html\" rel=\"nofollow noreferrer\">documentation</a>, setting this to true will allow a unit test &quot;to use Android resources, assets, and manifests&quot; by &quot;perform[ing] resource, asset, and manifest merging before running your unit tests.&quot;</p>\n<p>Once I added this as described above, the exceptions stopped and my unit tests invoking <code>HtmlCompat</code> were able to complete.</p>\n"}],"owner":{"account_id":16166174,"reputation":347,"user_id":11671103,"display_name":"Flash103"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71558825,"answer_count":1,"score":2,"last_activity_date":1647870996,"creation_date":1647733656,"question_id":71542971,"body_markdown":"I am attempting to unit test a method that is part of my use case layer of an Android app. The method receives an XML RSS feed and returns it to the view model as GSON-parsed objects. The testing class is annotated with `@RunWith(RobolectricTestRunner::class)`.\r\n\r\nThe test fails because a `java.lang.ExceptionInInitializerError` (among others) is thrown by `.fromHtml()` within this method of the use case class:\r\n\r\n        private fun convertHtml(rawString: String): String {\r\n        return HtmlCompat\r\n            .fromHtml(rawString, HtmlCompat.FROM_HTML_MODE_COMPACT)\r\n            .toString()\r\n            .replace(&quot;￼&quot;, &quot;&quot;)\r\n            .trim()\r\n    }\r\nIn reading the stack trace, it appears that this might be an issue with Robolectric trying to initialize a static method or class? I say this because of some of the lines in the stack trace, such as:\r\n\r\n    \tat org.robolectric.internal.bytecode.RobolectricInternals.performStaticInitialization(RobolectricInternals.java:61)\r\n\t    at org.robolectric.internal.bytecode.ShadowWrangler.classInitializing(ShadowWrangler.java:178)\r\nUnfortunately, all of my research has gotten me nowhere. I cannot seem to find anything related to this issue. I have seen several threads talk about using Robolectric and PowerMock together for testing static classes, although I am not sure if this is a relevant approach, and I would like to avoid adding more testing frameworks if possible. **Why is this exception being thrown, and how does one address this exception?**\r\n\r\nFor reference, here is the whole stack trace:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n    \tat android.text.SpannableStringBuilder.__constructor__(SpannableStringBuilder.java:61)\r\n    \tat android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\r\n    \tat android.text.HtmlToSpannedConverter.__constructor__(Html.java:425)\r\n    \tat android.text.HtmlToSpannedConverter.&lt;init&gt;(Html.java)\r\n    \tat android.text.Html.fromHtml(Html.java:135)\r\n    \tat android.text.Html.fromHtml(Html.java:101)\r\n    \tat androidx.core.text.HtmlCompat.fromHtml(HtmlCompat.java:150)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertHtml(GetNewsHeadlinesUseCase.kt:162)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertXmlToJson(GetNewsHeadlinesUseCase.kt:80)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.execute(GetNewsHeadlinesUseCase.kt:35)\r\n    \tat com.domg.testrss.GetNewsHeadlinesUseCaseTest$parsing success$1.invokeSuspend(GetNewsHeadlinesUseCaseTest.kt:33)\r\n    \tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n    \tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n    \tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:279)\r\n    \tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n    \tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n    \tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n    \tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\r\n    \tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\r\n    \tat com.domg.testrss.GetNewsHeadlinesUseCaseTest.parsing success(GetNewsHeadlinesUseCaseTest.kt:32)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:570)\r\n    \tat org.robolectric.internal.SandboxTestRunner$2.lambda$evaluate$0(SandboxTestRunner.java:278)\r\n    \tat org.robolectric.internal.bytecode.Sandbox.lambda$runOnMainThread$0(Sandbox.java:89)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat org.robolectric.internal.bytecode.ShadowWrangler.classInitializing(ShadowWrangler.java:181)\r\n    \tat org.robolectric.internal.bytecode.RobolectricInternals.classInitializing(RobolectricInternals.java:21)\r\n    \tat android.text.TextUtils.&lt;clinit&gt;(TextUtils.java)\r\n    \tat android.text.SpannableStringBuilder.$$robo$$android_text_SpannableStringBuilder$__constructor__(SpannableStringBuilder.java:61)\r\n    \tat android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\r\n    \tat android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\r\n    \tat android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\r\n    \tat android.text.HtmlToSpannedConverter.$$robo$$android_text_HtmlToSpannedConverter$__constructor__(Html.java:425)\r\n    \tat android.text.HtmlToSpannedConverter.&lt;init&gt;(Html.java)\r\n    \tat android.text.Html.$$robo$$android_text_Html$fromHtml(Html.java:135)\r\n    \tat android.text.Html.fromHtml(Html.java)\r\n    \tat android.text.Html.$$robo$$android_text_Html$fromHtml(Html.java:101)\r\n    \tat android.text.Html.fromHtml(Html.java)\r\n    \tat androidx.core.text.HtmlCompat.fromHtml(HtmlCompat.java:150)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertHtml(GetNewsHeadlinesUseCase.kt:162)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertXmlToJson(GetNewsHeadlinesUseCase.kt:80)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.execute(GetNewsHeadlinesUseCase.kt:35)\r\n    \tat com.domg.testrss.GetNewsHeadlinesUseCaseTest$parsing success$1.invokeSuspend(GetNewsHeadlinesUseCaseTest.kt:33)\r\n    \tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n    \tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n    \tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:279)\r\n    \tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n    \tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n    \tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n    \tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\r\n    \tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\r\n    \tat com.domg.testrss.GetNewsHeadlinesUseCaseTest.parsing success(GetNewsHeadlinesUseCaseTest.kt:32)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \t... 13 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.robolectric.internal.bytecode.RobolectricInternals.performStaticInitialization(RobolectricInternals.java:61)\r\n    \tat org.robolectric.internal.bytecode.ShadowWrangler.classInitializing(ShadowWrangler.java:178)\r\n    \t... 43 more\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.robolectric.shadows.ShadowLegacyAssetManager.getAndResolve(ShadowLegacyAssetManager.java:1019)\r\n    \tat org.robolectric.shadows.ShadowLegacyAssetManager.getResourceText(ShadowLegacyAssetManager.java:285)\r\n    \tat android.content.res.AssetManager.getResourceText(AssetManager.java)\r\n    \tat android.content.res.Resources.getText(Resources.java:225)\r\n    \tat android.content.res.Resources.getString(Resources.java:313)\r\n    \tat android.text.TextUtils.__staticInitializer__(TextUtils.java:1704)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.robolectric.internal.bytecode.RobolectricInternals.performStaticInitialization(RobolectricInternals.java:61)\r\n    \tat org.robolectric.internal.bytecode.ShadowWrangler.classInitializing(ShadowWrangler.java:178)\r\n    \tat org.robolectric.internal.bytecode.RobolectricInternals.classInitializing(RobolectricInternals.java:21)\r\n    \tat android.text.TextUtils.&lt;clinit&gt;(TextUtils.java)\r\n    \tat android.text.SpannableStringBuilder.__constructor__(SpannableStringBuilder.java:61)\r\n    \tat android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\r\n    \tat android.text.HtmlToSpannedConverter.__constructor__(Html.java:425)\r\n    \tat android.text.HtmlToSpannedConverter.&lt;init&gt;(Html.java)\r\n    \tat android.text.Html.fromHtml(Html.java:135)\r\n    \tat android.text.Html.fromHtml(Html.java:101)\r\n    \tat androidx.core.text.HtmlCompat.fromHtml(HtmlCompat.java:150)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertHtml(GetNewsHeadlinesUseCase.kt:162)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertXmlToJson(GetNewsHeadlinesUseCase.kt:80)\r\n    \tat com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.execute(GetNewsHeadlinesUseCase.kt:35)\r\n    \tat com.domg.testrss.GetNewsHeadlinesUseCaseTest$parsing success$1.invokeSuspend(GetNewsHeadlinesUseCaseTest.kt:33)\r\n    \tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n    \tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n    \tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:279)\r\n    \tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n    \tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n    \tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n    \tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\r\n    \tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\r\n    \tat com.domg.testrss.GetNewsHeadlinesUseCaseTest.parsing success(GetNewsHeadlinesUseCaseTest.kt:32)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t... 13 more","title":"Why does ExceptionInInitializerError occur when invoking HtmlCompat in an Android unit test using Robolectric?","body":"<p>I am attempting to unit test a method that is part of my use case layer of an Android app. The method receives an XML RSS feed and returns it to the view model as GSON-parsed objects. The testing class is annotated with <code>@RunWith(RobolectricTestRunner::class)</code>.</p>\n<p>The test fails because a <code>java.lang.ExceptionInInitializerError</code> (among others) is thrown by <code>.fromHtml()</code> within this method of the use case class:</p>\n<pre><code>    private fun convertHtml(rawString: String): String {\n    return HtmlCompat\n        .fromHtml(rawString, HtmlCompat.FROM_HTML_MODE_COMPACT)\n        .toString()\n        .replace(&quot;￼&quot;, &quot;&quot;)\n        .trim()\n}\n</code></pre>\n<p>In reading the stack trace, it appears that this might be an issue with Robolectric trying to initialize a static method or class? I say this because of some of the lines in the stack trace, such as:</p>\n<pre><code>    at org.robolectric.internal.bytecode.RobolectricInternals.performStaticInitialization(RobolectricInternals.java:61)\n    at org.robolectric.internal.bytecode.ShadowWrangler.classInitializing(ShadowWrangler.java:178)\n</code></pre>\n<p>Unfortunately, all of my research has gotten me nowhere. I cannot seem to find anything related to this issue. I have seen several threads talk about using Robolectric and PowerMock together for testing static classes, although I am not sure if this is a relevant approach, and I would like to avoid adding more testing frameworks if possible. <strong>Why is this exception being thrown, and how does one address this exception?</strong></p>\n<p>For reference, here is the whole stack trace:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at android.text.SpannableStringBuilder.__constructor__(SpannableStringBuilder.java:61)\n    at android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\n    at android.text.HtmlToSpannedConverter.__constructor__(Html.java:425)\n    at android.text.HtmlToSpannedConverter.&lt;init&gt;(Html.java)\n    at android.text.Html.fromHtml(Html.java:135)\n    at android.text.Html.fromHtml(Html.java:101)\n    at androidx.core.text.HtmlCompat.fromHtml(HtmlCompat.java:150)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertHtml(GetNewsHeadlinesUseCase.kt:162)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertXmlToJson(GetNewsHeadlinesUseCase.kt:80)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.execute(GetNewsHeadlinesUseCase.kt:35)\n    at com.domg.testrss.GetNewsHeadlinesUseCaseTest$parsing success$1.invokeSuspend(GetNewsHeadlinesUseCaseTest.kt:33)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:279)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at com.domg.testrss.GetNewsHeadlinesUseCaseTest.parsing success(GetNewsHeadlinesUseCaseTest.kt:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:570)\n    at org.robolectric.internal.SandboxTestRunner$2.lambda$evaluate$0(SandboxTestRunner.java:278)\n    at org.robolectric.internal.bytecode.Sandbox.lambda$runOnMainThread$0(Sandbox.java:89)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at org.robolectric.internal.bytecode.ShadowWrangler.classInitializing(ShadowWrangler.java:181)\n    at org.robolectric.internal.bytecode.RobolectricInternals.classInitializing(RobolectricInternals.java:21)\n    at android.text.TextUtils.&lt;clinit&gt;(TextUtils.java)\n    at android.text.SpannableStringBuilder.$$robo$$android_text_SpannableStringBuilder$__constructor__(SpannableStringBuilder.java:61)\n    at android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\n    at android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\n    at android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\n    at android.text.HtmlToSpannedConverter.$$robo$$android_text_HtmlToSpannedConverter$__constructor__(Html.java:425)\n    at android.text.HtmlToSpannedConverter.&lt;init&gt;(Html.java)\n    at android.text.Html.$$robo$$android_text_Html$fromHtml(Html.java:135)\n    at android.text.Html.fromHtml(Html.java)\n    at android.text.Html.$$robo$$android_text_Html$fromHtml(Html.java:101)\n    at android.text.Html.fromHtml(Html.java)\n    at androidx.core.text.HtmlCompat.fromHtml(HtmlCompat.java:150)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertHtml(GetNewsHeadlinesUseCase.kt:162)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertXmlToJson(GetNewsHeadlinesUseCase.kt:80)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.execute(GetNewsHeadlinesUseCase.kt:35)\n    at com.domg.testrss.GetNewsHeadlinesUseCaseTest$parsing success$1.invokeSuspend(GetNewsHeadlinesUseCaseTest.kt:33)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:279)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at com.domg.testrss.GetNewsHeadlinesUseCaseTest.parsing success(GetNewsHeadlinesUseCaseTest.kt:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    ... 13 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.robolectric.internal.bytecode.RobolectricInternals.performStaticInitialization(RobolectricInternals.java:61)\n    at org.robolectric.internal.bytecode.ShadowWrangler.classInitializing(ShadowWrangler.java:178)\n    ... 43 more\nCaused by: java.lang.NullPointerException\n    at org.robolectric.shadows.ShadowLegacyAssetManager.getAndResolve(ShadowLegacyAssetManager.java:1019)\n    at org.robolectric.shadows.ShadowLegacyAssetManager.getResourceText(ShadowLegacyAssetManager.java:285)\n    at android.content.res.AssetManager.getResourceText(AssetManager.java)\n    at android.content.res.Resources.getText(Resources.java:225)\n    at android.content.res.Resources.getString(Resources.java:313)\n    at android.text.TextUtils.__staticInitializer__(TextUtils.java:1704)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.robolectric.internal.bytecode.RobolectricInternals.performStaticInitialization(RobolectricInternals.java:61)\n    at org.robolectric.internal.bytecode.ShadowWrangler.classInitializing(ShadowWrangler.java:178)\n    at org.robolectric.internal.bytecode.RobolectricInternals.classInitializing(RobolectricInternals.java:21)\n    at android.text.TextUtils.&lt;clinit&gt;(TextUtils.java)\n    at android.text.SpannableStringBuilder.__constructor__(SpannableStringBuilder.java:61)\n    at android.text.SpannableStringBuilder.&lt;init&gt;(SpannableStringBuilder.java)\n    at android.text.HtmlToSpannedConverter.__constructor__(Html.java:425)\n    at android.text.HtmlToSpannedConverter.&lt;init&gt;(Html.java)\n    at android.text.Html.fromHtml(Html.java:135)\n    at android.text.Html.fromHtml(Html.java:101)\n    at androidx.core.text.HtmlCompat.fromHtml(HtmlCompat.java:150)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertHtml(GetNewsHeadlinesUseCase.kt:162)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.convertXmlToJson(GetNewsHeadlinesUseCase.kt:80)\n    at com.domg.testrss.domain.usecase.GetNewsHeadlinesUseCase.execute(GetNewsHeadlinesUseCase.kt:35)\n    at com.domg.testrss.GetNewsHeadlinesUseCaseTest$parsing success$1.invokeSuspend(GetNewsHeadlinesUseCaseTest.kt:33)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:279)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at com.domg.testrss.GetNewsHeadlinesUseCaseTest.parsing success(GetNewsHeadlinesUseCaseTest.kt:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    ... 13 more\n</code></pre>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":1,"creation_date":1618304851,"post_id":67071254,"comment_id":118555066,"body_markdown":"This would be a good question for the flink-user mailing list. I know that support for the ARM architecture isn&#39;t all the way there yet -- see https://issues.apache.org/jira/browse/FLINK-13448 and http://apache-flink-user-mailing-list-archive.2336050.n4.nabble.com/ARM-support-td42684.html -- but that&#39;s not really the same question.","body":"This would be a good question for the flink-user mailing list. I know that support for the ARM architecture isn&#39;t all the way there yet -- see <a href=\"https://issues.apache.org/jira/browse/FLINK-13448\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/FLINK-13448</a> and <a href=\"http://apache-flink-user-mailing-list-archive.2336050.n4.nabble.com/ARM-support-td42684.html\" rel=\"nofollow noreferrer\">apache-flink-user-mailing-list-archive.2336050.n4.nabble.com&zwnj;&#8203;/&hellip;</a> -- but that&#39;s not really the same question."},{"owner":{"account_id":152705,"reputation":1475,"user_id":367391,"accept_rate":68,"display_name":"ali"},"score":0,"creation_date":1618307615,"post_id":67071254,"comment_id":118556249,"body_markdown":"I&#39;ve posted the question here at first, to avoid the overhead of registering for the list and getting all those mails, where I can really contribute nothing, to my inbox. But the mailing list will be my next step of escalation. ;)","body":"I&#39;ve posted the question here at first, to avoid the overhead of registering for the list and getting all those mails, where I can really contribute nothing, to my inbox. But the mailing list will be my next step of escalation. ;)"},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":1,"creation_date":1618401244,"post_id":67071254,"comment_id":118589094,"body_markdown":"Did you have a cluster running? Those examples rely on having a session cluster available.","body":"Did you have a cluster running? Those examples rely on having a session cluster available."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":1,"creation_date":1618404745,"post_id":67071254,"comment_id":118590703,"body_markdown":"By the way, `WARNING: An illegal reflective access operation has occurred` is not a problem -- this always warning always appears when Flink is run with Java 11.","body":"By the way, <code>WARNING: An illegal reflective access operation has occurred</code> is not a problem -- this always warning always appears when Flink is run with Java 11."},{"owner":{"account_id":152705,"reputation":1475,"user_id":367391,"accept_rate":68,"display_name":"ali"},"score":0,"creation_date":1618405517,"post_id":67071254,"comment_id":118591080,"body_markdown":"I just double checked. The cluster was running. I get different exceptions, depending on whether I run using Rosetta 2 or not. I&#39;ll update the question.","body":"I just double checked. The cluster was running. I get different exceptions, depending on whether I run using Rosetta 2 or not. I&#39;ll update the question."},{"owner":{"account_id":152705,"reputation":1475,"user_id":367391,"accept_rate":68,"display_name":"ali"},"score":0,"creation_date":1618406006,"post_id":67071254,"comment_id":118591296,"body_markdown":"Ok. The Exception now was a different one. Maybe the cluster was not running the first time. I&#39;ve updated the question, with both exceptions. The one with Rosetta 2 and the one without. Both follow the three commands from the tutorial &#39;start-cluster&#39;, &#39;flink run&#39; and &#39;stop-cluster&#39;.","body":"Ok. The Exception now was a different one. Maybe the cluster was not running the first time. I&#39;ve updated the question, with both exceptions. The one with Rosetta 2 and the one without. Both follow the three commands from the tutorial &#39;start-cluster&#39;, &#39;flink run&#39; and &#39;stop-cluster&#39;."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":1,"creation_date":1618408371,"post_id":67071254,"comment_id":118592478,"body_markdown":"After starting the cluster, can you access the web ui at localhost:8081 ?","body":"After starting the cluster, can you access the web ui at localhost:8081 ?"},{"owner":{"account_id":152705,"reputation":1475,"user_id":367391,"accept_rate":68,"display_name":"ali"},"score":0,"creation_date":1618486427,"post_id":67071254,"comment_id":118618585,"body_markdown":"No. Unfortunately not. I&#39;ve added that information to the question.","body":"No. Unfortunately not. I&#39;ve added that information to the question."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":1,"creation_date":1618494481,"post_id":67071254,"comment_id":118622175,"body_markdown":"What do you see in the job manager and task manager logs?","body":"What do you see in the job manager and task manager logs?"},{"owner":{"account_id":152705,"reputation":1475,"user_id":367391,"accept_rate":68,"display_name":"ali"},"score":1,"creation_date":1618673326,"post_id":67071254,"comment_id":118675795,"body_markdown":"I&#39;ve provided TRACE logs to Robert Metzger via the Flink Mailing List. He believes the problem is with the REST interface used to deploy jobs to a Flink Cluster. That is why my jobs run from within the IDE. You can find the discussion here: http://apache-flink-user-mailing-list-archive.2336050.n4.nabble.com/Running-Apache-Flink-1-12-on-Apple-Silicon-M1-MacBook-Pro-td42923.html","body":"I&#39;ve provided TRACE logs to Robert Metzger via the Flink Mailing List. He believes the problem is with the REST interface used to deploy jobs to a Flink Cluster. That is why my jobs run from within the IDE. You can find the discussion here: <a href=\"http://apache-flink-user-mailing-list-archive.2336050.n4.nabble.com/Running-Apache-Flink-1-12-on-Apple-Silicon-M1-MacBook-Pro-td42923.html\" rel=\"nofollow noreferrer\">apache-flink-user-mailing-list-archive.2336050.n4.nabble.com&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":964672,"reputation":2010,"user_id":988324,"accept_rate":65,"display_name":"Richard Deurwaarder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618331336,"creation_date":1618331336,"answer_id":67078843,"question_id":67071254,"body_markdown":"Could it be that you are running with java 15/16?\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n\r\nI&#39;ve seen other libraries struggling with some of the changes that happened regarding reflection and java 12+. This would also explain why the pipeline does run via intellij (as you&#39;ve mentioned in the mailing list)\r\n\r\nI would give it a try with java 11","title":"Running Apache Flink 1.12 Jobs on Apple M1 Silicon","body":"<p>Could it be that you are running with java 15/16?</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\n</code></pre>\n<p>I've seen other libraries struggling with some of the changes that happened regarding reflection and java 12+. This would also explain why the pipeline does run via intellij (as you've mentioned in the mailing list)</p>\n<p>I would give it a try with java 11</p>\n"},{"tags":[],"owner":{"account_id":14192024,"reputation":66,"user_id":10252353,"display_name":"user10252353"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647870723,"creation_date":1647870723,"answer_id":71558778,"question_id":67071254,"body_markdown":"I&#39;ve had similar issues with trying to run Flink on my M1 machine using JDK 11. As a workaround, I&#39;ve been able to run Flink successfully in a Docker container by emulating Intel architecture without having to use Rosetta. To do this, you have to specify a platform of `linux/amd64` in your build config. [See this article on Docker&#39;s website for more info][1].\r\n\r\n\r\n  [1]: https://docs.docker.com/desktop/mac/apple-silicon/#known-issues","title":"Running Apache Flink 1.12 Jobs on Apple M1 Silicon","body":"<p>I've had similar issues with trying to run Flink on my M1 machine using JDK 11. As a workaround, I've been able to run Flink successfully in a Docker container by emulating Intel architecture without having to use Rosetta. To do this, you have to specify a platform of <code>linux/amd64</code> in your build config. <a href=\"https://docs.docker.com/desktop/mac/apple-silicon/#known-issues\" rel=\"nofollow noreferrer\">See this article on Docker's website for more info</a>.</p>\n"}],"owner":{"account_id":152705,"reputation":1475,"user_id":367391,"accept_rate":68,"display_name":"ali"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1979,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1647870723,"creation_date":1618302453,"question_id":67071254,"body_markdown":"I&#39;ve just tried to run the [basic example for Apache Flink](https://ci.apache.org/projects/flink/flink-docs-release-1.12/try-flink/local_installation.html) on an Apple Mac Pro with the new M1 Processor using the Rosetta 2 compatibility layer.\r\n\r\nUnfortunately it failed with the following Stack Trace:\r\n```bash\r\nflink-1.12.2 ./bin/flink run ./examples/streaming/WordCount.jar\r\nExecuting WordCount example with default input data set.\r\nUse --input to specify file input.\r\nPrinting result to stdout. Use --output to specify output path.\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.flink.api.java.ClosureCleaner (file:/Users/muthmann/Development/Flink/flink-1.12.2/lib/flink-dist_2.11-1.12.2.jar) to field java.lang.String.value\r\nWARNING: Please consider reporting this to the maintainers of org.apache.flink.api.java.ClosureCleaner\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n------------------------------------------------------------\r\n The program finished with the following exception:\r\n\r\norg.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Failed to execute job &#39;Streaming WordCount&#39;.\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:366)\r\n\tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:219)\r\n\tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:114)\r\n\tat org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:812)\r\n\tat org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:246)\r\n\tat org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1054)\r\n\tat org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1132)\r\n\tat org.apache.flink.runtime.security.contexts.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:28)\r\n\tat org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1132)\r\nCaused by: org.apache.flink.util.FlinkException: Failed to execute job &#39;Streaming WordCount&#39;.\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1918)\r\n\tat org.apache.flink.client.program.StreamContextEnvironment.executeAsync(StreamContextEnvironment.java:135)\r\n\tat org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:76)\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1782)\r\n\tat org.apache.flink.streaming.examples.wordcount.WordCount.main(WordCount.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:349)\r\n\t... 8 more\r\nCaused by: org.apache.flink.runtime.client.JobSubmissionException: Failed to submit JobGraph.\r\n\tat org.apache.flink.client.program.rest.RestClusterClient.lambda$submitJob$7(RestClusterClient.java:400)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\r\n\tat org.apache.flink.runtime.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:390)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\r\n\tat org.apache.flink.runtime.rest.RestClient$ClientHandler.exceptionCaught(RestClient.java:613)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireExceptionCaught(CombinedChannelDuplexHandler.java:424)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerAdapter.exceptionCaught(ChannelHandlerAdapter.java:92)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$1.fireExceptionCaught(CombinedChannelDuplexHandler.java:145)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:143)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler.exceptionCaught(CombinedChannelDuplexHandler.java:231)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat org.apache.flink.shaded.netty4.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.apache.flink.runtime.concurrent.FutureUtils$RetryException: Could not complete the operation. Number of retries has been exhausted.\r\n\tat org.apache.flink.runtime.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:386)\r\n\t... 29 more\r\nCaused by: java.util.concurrent.CompletionException: java.io.IOException: Connection reset by peer\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:367)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:376)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:1019)\r\n\t... 27 more\r\nCaused by: java.io.IOException: Connection reset by peer\r\n\tat java.base/sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat org.apache.flink.shaded.netty4.io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n\tat org.apache.flink.shaded.netty4.io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\r\n```\r\n\r\nSo my question is, did anyone get this to run? Is there any chance of executing Flink jobs on Apple Silicon?\r\n\r\n**Edit (13.04.2021)**\r\nBTW.: This error occurs while running using the Rosetta compatibility layer. So that is unfortunately no solution to the problem at hand.\r\n\r\n**Edit (14.04.2021 in response to answer from [Richard Deurwaarder](https://stackoverflow.com/users/988324/richard-deurwaarder)**\r\n\r\nI am running Java 11:\r\n```\r\nopenjdk 11.0.10 2021-01-19 LTS\r\nOpenJDK Runtime Environment Zulu11.45+27-CA (build 11.0.10+9-LTS)\r\nOpenJDK 64-Bit Server VM Zulu11.45+27-CA (build 11.0.10+9-LTS, mixed mode)\r\n```\r\n\r\n**Edit (14.04.2021)**\r\n\r\nThis is the exception I get when running without the Rosetta 2 compatibility layer:\r\n\r\n```\r\nflink-1.12.2 ./bin/flink run ./examples/streaming/WordCount.jar\r\nExecuting WordCount example with default input data set.\r\nUse --input to specify file input.\r\nPrinting result to stdout. Use --output to specify output path.\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.flink.api.java.ClosureCleaner (file:/Users/muthmann/Development/Flink/flink-1.12.2/lib/flink-dist_2.11-1.12.2.jar) to field java.lang.String.value\r\nWARNING: Please consider reporting this to the maintainers of org.apache.flink.api.java.ClosureCleaner\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n------------------------------------------------------------\r\n The program finished with the following exception:\r\n\r\norg.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Failed to execute job &#39;Streaming WordCount&#39;.\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:366)\r\n\tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:219)\r\n\tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:114)\r\n\tat org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:812)\r\n\tat org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:246)\r\n\tat org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1054)\r\n\tat org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1132)\r\n\tat org.apache.flink.runtime.security.contexts.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:28)\r\n\tat org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1132)\r\nCaused by: org.apache.flink.util.FlinkException: Failed to execute job &#39;Streaming WordCount&#39;.\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1918)\r\n\tat org.apache.flink.client.program.StreamContextEnvironment.executeAsync(StreamContextEnvironment.java:135)\r\n\tat org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:76)\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1782)\r\n\tat org.apache.flink.streaming.examples.wordcount.WordCount.main(WordCount.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:349)\r\n\t... 8 more\r\nCaused by: org.apache.flink.runtime.client.JobSubmissionException: Failed to submit JobGraph.\r\n\tat org.apache.flink.client.program.rest.RestClusterClient.lambda$submitJob$7(RestClusterClient.java:400)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\r\n\tat org.apache.flink.runtime.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:390)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\r\n\tat org.apache.flink.runtime.rest.RestClient$ClientHandler.channelInactive(RestClient.java:588)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)\r\n\tat org.apache.flink.shaded.netty4.io.netty.handler.timeout.IdleStateHandler.channelInactive(IdleStateHandler.java:277)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n\tat org.apache.flink.shaded.netty4.io.netty.handler.stream.ChunkedWriteHandler.channelInactive(ChunkedWriteHandler.java:138)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)\r\n\tat org.apache.flink.shaded.netty4.io.netty.handler.codec.MessageAggregator.channelInactive(MessageAggregator.java:438)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418)\r\n\tat org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\r\n\tat org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\r\n\tat org.apache.flink.shaded.netty4.io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:288)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:818)\r\n\tat org.apache.flink.shaded.netty4.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497)\r\n\tat org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat org.apache.flink.shaded.netty4.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.apache.flink.runtime.concurrent.FutureUtils$RetryException: Could not complete the operation. Number of retries has been exhausted.\r\n\tat org.apache.flink.runtime.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:386)\r\n\t... 41 more\r\nCaused by: java.util.concurrent.CompletionException: org.apache.flink.runtime.rest.ConnectionClosedException: Channel became inactive.\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:367)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:376)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:1019)\r\n\t... 39 more\r\nCaused by: org.apache.flink.runtime.rest.ConnectionClosedException: Channel became inactive.\r\n\t... 37 more\r\n```\r\n\r\n**Edit (15.04.2021)**\r\n\r\nAfter starting the cluster, there is no Web Interface available under http://localhost:8081 (tried with Safari and Firefox).","title":"Running Apache Flink 1.12 Jobs on Apple M1 Silicon","body":"<p>I've just tried to run the <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.12/try-flink/local_installation.html\" rel=\"nofollow noreferrer\">basic example for Apache Flink</a> on an Apple Mac Pro with the new M1 Processor using the Rosetta 2 compatibility layer.</p>\n<p>Unfortunately it failed with the following Stack Trace:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>flink-1.12.2 ./bin/flink run ./examples/streaming/WordCount.jar\nExecuting WordCount example with default input data set.\nUse --input to specify file input.\nPrinting result to stdout. Use --output to specify output path.\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.flink.api.java.ClosureCleaner (file:/Users/muthmann/Development/Flink/flink-1.12.2/lib/flink-dist_2.11-1.12.2.jar) to field java.lang.String.value\nWARNING: Please consider reporting this to the maintainers of org.apache.flink.api.java.ClosureCleaner\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n\n------------------------------------------------------------\n The program finished with the following exception:\n\norg.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Failed to execute job 'Streaming WordCount'.\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:366)\n    at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:219)\n    at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:114)\n    at org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:812)\n    at org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:246)\n    at org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1054)\n    at org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1132)\n    at org.apache.flink.runtime.security.contexts.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:28)\n    at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1132)\nCaused by: org.apache.flink.util.FlinkException: Failed to execute job 'Streaming WordCount'.\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1918)\n    at org.apache.flink.client.program.StreamContextEnvironment.executeAsync(StreamContextEnvironment.java:135)\n    at org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:76)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1782)\n    at org.apache.flink.streaming.examples.wordcount.WordCount.main(WordCount.java:97)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:349)\n    ... 8 more\nCaused by: org.apache.flink.runtime.client.JobSubmissionException: Failed to submit JobGraph.\n    at org.apache.flink.client.program.rest.RestClusterClient.lambda$submitJob$7(RestClusterClient.java:400)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\n    at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\n    at org.apache.flink.runtime.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:390)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\n    at org.apache.flink.runtime.rest.RestClient$ClientHandler.exceptionCaught(RestClient.java:613)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireExceptionCaught(CombinedChannelDuplexHandler.java:424)\n    at org.apache.flink.shaded.netty4.io.netty.channel.ChannelHandlerAdapter.exceptionCaught(ChannelHandlerAdapter.java:92)\n    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$1.fireExceptionCaught(CombinedChannelDuplexHandler.java:145)\n    at org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:143)\n    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler.exceptionCaught(CombinedChannelDuplexHandler.java:231)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n    at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\n    at org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\n    at org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)\n    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at org.apache.flink.shaded.netty4.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.flink.runtime.concurrent.FutureUtils$RetryException: Could not complete the operation. Number of retries has been exhausted.\n    at org.apache.flink.runtime.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:386)\n    ... 29 more\nCaused by: java.util.concurrent.CompletionException: java.io.IOException: Connection reset by peer\n    at java.base/java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:367)\n    at java.base/java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:376)\n    at java.base/java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:1019)\n    ... 27 more\nCaused by: java.io.IOException: Connection reset by peer\n    at java.base/sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at org.apache.flink.shaded.netty4.io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\n    at org.apache.flink.shaded.netty4.io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\n    at org.apache.flink.shaded.netty4.io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\n    at org.apache.flink.shaded.netty4.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\n</code></pre>\n<p>So my question is, did anyone get this to run? Is there any chance of executing Flink jobs on Apple Silicon?</p>\n<p><strong>Edit (13.04.2021)</strong>\nBTW.: This error occurs while running using the Rosetta compatibility layer. So that is unfortunately no solution to the problem at hand.</p>\n<p><strong>Edit (14.04.2021 in response to answer from <a href=\"https://stackoverflow.com/users/988324/richard-deurwaarder\">Richard Deurwaarder</a></strong></p>\n<p>I am running Java 11:</p>\n<pre><code>openjdk 11.0.10 2021-01-19 LTS\nOpenJDK Runtime Environment Zulu11.45+27-CA (build 11.0.10+9-LTS)\nOpenJDK 64-Bit Server VM Zulu11.45+27-CA (build 11.0.10+9-LTS, mixed mode)\n</code></pre>\n<p><strong>Edit (14.04.2021)</strong></p>\n<p>This is the exception I get when running without the Rosetta 2 compatibility layer:</p>\n<pre><code>flink-1.12.2 ./bin/flink run ./examples/streaming/WordCount.jar\nExecuting WordCount example with default input data set.\nUse --input to specify file input.\nPrinting result to stdout. Use --output to specify output path.\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.flink.api.java.ClosureCleaner (file:/Users/muthmann/Development/Flink/flink-1.12.2/lib/flink-dist_2.11-1.12.2.jar) to field java.lang.String.value\nWARNING: Please consider reporting this to the maintainers of org.apache.flink.api.java.ClosureCleaner\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n\n------------------------------------------------------------\n The program finished with the following exception:\n\norg.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Failed to execute job 'Streaming WordCount'.\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:366)\n    at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:219)\n    at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:114)\n    at org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:812)\n    at org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:246)\n    at org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1054)\n    at org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1132)\n    at org.apache.flink.runtime.security.contexts.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:28)\n    at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1132)\nCaused by: org.apache.flink.util.FlinkException: Failed to execute job 'Streaming WordCount'.\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1918)\n    at org.apache.flink.client.program.StreamContextEnvironment.executeAsync(StreamContextEnvironment.java:135)\n    at org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:76)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1782)\n    at org.apache.flink.streaming.examples.wordcount.WordCount.main(WordCount.java:97)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:349)\n    ... 8 more\nCaused by: org.apache.flink.runtime.client.JobSubmissionException: Failed to submit JobGraph.\n    at org.apache.flink.client.program.rest.RestClusterClient.lambda$submitJob$7(RestClusterClient.java:400)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\n    at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\n    at org.apache.flink.runtime.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:390)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\n    at org.apache.flink.runtime.rest.RestClient$ClientHandler.channelInactive(RestClient.java:588)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n    at org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)\n    at org.apache.flink.shaded.netty4.io.netty.handler.timeout.IdleStateHandler.channelInactive(IdleStateHandler.java:277)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n    at org.apache.flink.shaded.netty4.io.netty.handler.stream.ChunkedWriteHandler.channelInactive(ChunkedWriteHandler.java:138)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n    at org.apache.flink.shaded.netty4.io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)\n    at org.apache.flink.shaded.netty4.io.netty.handler.codec.MessageAggregator.channelInactive(MessageAggregator.java:438)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418)\n    at org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\n    at org.apache.flink.shaded.netty4.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\n    at org.apache.flink.shaded.netty4.io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:288)\n    at org.apache.flink.shaded.netty4.io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n    at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n    at org.apache.flink.shaded.netty4.io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\n    at org.apache.flink.shaded.netty4.io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:818)\n    at org.apache.flink.shaded.netty4.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n    at org.apache.flink.shaded.netty4.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497)\n    at org.apache.flink.shaded.netty4.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at org.apache.flink.shaded.netty4.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.flink.runtime.concurrent.FutureUtils$RetryException: Could not complete the operation. Number of retries has been exhausted.\n    at org.apache.flink.runtime.concurrent.FutureUtils.lambda$retryOperationWithDelay$9(FutureUtils.java:386)\n    ... 41 more\nCaused by: java.util.concurrent.CompletionException: org.apache.flink.runtime.rest.ConnectionClosedException: Channel became inactive.\n    at java.base/java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:367)\n    at java.base/java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:376)\n    at java.base/java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:1019)\n    ... 39 more\nCaused by: org.apache.flink.runtime.rest.ConnectionClosedException: Channel became inactive.\n    ... 37 more\n</code></pre>\n<p><strong>Edit (15.04.2021)</strong></p>\n<p>After starting the cluster, there is no Web Interface available under http://localhost:8081 (tried with Safari and Firefox).</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24058409,"reputation":33,"user_id":18035952,"display_name":"Phaeron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647870539,"creation_date":1647870539,"answer_id":71558729,"question_id":71548121,"body_markdown":"To &quot;listen&quot; a click on your bar, you need to use this method :\r\n\r\n```\r\nView.setOnClickListener(new View.OnClickListener()) { // set listener\r\n  Intent newActivityIntent = new Intent(homefunction_code.this, nextactivity.class);\r\n  startActivity(newActivityIntent) // change activity\r\n  overridePendingTransition(0, 0); //avoid animation\r\n}\r\n```","title":"How do I set Listener on","body":"<p>To &quot;listen&quot; a click on your bar, you need to use this method :</p>\n<pre><code>View.setOnClickListener(new View.OnClickListener()) { // set listener\n  Intent newActivityIntent = new Intent(homefunction_code.this, nextactivity.class);\n  startActivity(newActivityIntent) // change activity\n  overridePendingTransition(0, 0); //avoid animation\n}\n</code></pre>\n"}],"owner":{"account_id":24510767,"reputation":1,"user_id":18425117,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647870539,"creation_date":1647790281,"question_id":71548121,"body_markdown":"I want to set  click Option on **BottomAppBar**,make this change page like **intent**.\r\n\r\nWhat should I do next?\r\n\r\nSorry I&#39;m from Taiwanese,so my english is not good...\r\n\r\nhope you can understand my question.\r\n\r\nThank you\r\n\r\n[This is my picture][1]\r\n\r\nThis is my code **Avtivity.java**\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.MenuItem;\r\n    import android.widget.Button;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.google.android.material.bottomappbar.BottomAppBar;\r\n    \r\n    public class homefunction_code extends AppCompatActivity {\r\n    \r\n        Button record,Act,MVnBook,Resourse,Start;\r\n        BottomAppBar bar;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.homefunction);\r\n    \r\n            bar = (BottomAppBar) findViewById(R.id.bottomAppBar);\r\n    //        bar.setOnMenuItemClickListener(itemClick);\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DWPhi.png\r\n","title":"How do I set Listener on","body":"<p>I want to set  click Option on <strong>BottomAppBar</strong>,make this change page like <strong>intent</strong>.</p>\n<p>What should I do next?</p>\n<p>Sorry I'm from Taiwanese,so my english is not good...</p>\n<p>hope you can understand my question.</p>\n<p>Thank you</p>\n<p><a href=\"https://i.stack.imgur.com/DWPhi.png\" rel=\"nofollow noreferrer\">This is my picture</a></p>\n<p>This is my code <strong>Avtivity.java</strong></p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Button;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.material.bottomappbar.BottomAppBar;\n\npublic class homefunction_code extends AppCompatActivity {\n\n    Button record,Act,MVnBook,Resourse,Start;\n    BottomAppBar bar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.homefunction);\n\n        bar = (BottomAppBar) findViewById(R.id.bottomAppBar);\n//        bar.setOnMenuItemClickListener(itemClick);\n</code></pre>\n"},{"tags":["java","hibernate","jpa","java-module","metamodel"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1586967846,"post_id":61233419,"comment_id":108326582,"body_markdown":"..and these automatic modules are added to your `pom.xml` as a dependency?","body":"..and these automatic modules are added to your <code>pom.xml</code> as a dependency?"},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1586968135,"post_id":61233419,"comment_id":108326761,"body_markdown":"@Naman Yes. Module is compiled fine (and works fine) without trying to generate metamodels.","body":"@Naman Yes. Module is compiled fine (and works fine) without trying to generate metamodels."}],"answers":[{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1647870135,"creation_date":1587304340,"answer_id":61305429,"question_id":61233419,"body_markdown":"It wasn&#39;t possible, now it is possible. I opened an issue for `maven-processor-plugin` and they did necessary modification. So, use version `4.0-rc1+` and the following code:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0-rc1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;processors&gt;\r\n                                &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n                            &lt;/processors&gt;\r\n                            &lt;compilerArguments&gt;-AaddGeneratedAnnotation=false&lt;/compilerArguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n                        &lt;version&gt;5.4.14.Final&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n**Edit:**\r\nThis is the link to the [issue][1].\r\n\r\n\r\n  [1]: https://github.com/bsorrentino/maven-annotation-plugin/issues/80","title":"Is it possible to generate hibernate metamodel for Java 11 and java modules?","body":"<p>It wasn't possible, now it is possible. I opened an issue for <code>maven-processor-plugin</code> and they did necessary modification. So, use version <code>4.0-rc1+</code> and the following code:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.0-rc1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;processors&gt;\n                            &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                        &lt;/processors&gt;\n                        &lt;compilerArguments&gt;-AaddGeneratedAnnotation=false&lt;/compilerArguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                    &lt;version&gt;5.4.14.Final&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p><strong>Edit:</strong>\nThis is the link to the <a href=\"https://github.com/bsorrentino/maven-annotation-plugin/issues/80\" rel=\"nofollow noreferrer\">issue</a>.</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4655,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61305429,"answer_count":1,"score":2,"last_activity_date":1647870135,"creation_date":1586967026,"question_id":61233419,"body_markdown":"I have a java module with JPA entities and persistence.xml and I want to generate metamodel. I tried two variants.\r\n\r\n**Variant 1**\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                            &lt;annotationProcessorPath&gt;\r\n                                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n                                    &lt;version&gt;5.4.14.Final&lt;/version&gt;\r\n                            &lt;/annotationProcessorPath&gt;\r\n                            &lt;path&gt;\r\n                                    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;2.3.0&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;1.3.1&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\nResult:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.hibernate.jpamodelgen.ClassWriter.writeGeneratedAnnotation(ClassWriter.java:202)\r\n    \tat org.hibernate.jpamodelgen.ClassWriter.generateBody(ClassWriter.java:100)\r\n    \tat org.hibernate.jpamodelgen.ClassWriter.writeFile(ClassWriter.java:53)\r\n    \tat org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor.createMetaModelClasses(JPAMetaModelEntityProcessor.java:145)\r\n    \tat org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor.process(JPAMetaModelEntityProcessor.java:135)\r\n    \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:972)\r\n    \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:888)\r\n    \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1214)\r\n    \tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1326)\r\n    \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1258)\r\n    \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:936)\r\n    \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\r\n    \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:147)\r\n    \t... 28 more\r\n\r\n\r\n**Variant 2**\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.3&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;process&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerArguments&gt;-AaddGeneratedAnnotation=false&lt;/compilerArguments&gt;\r\n                        &lt;processors&gt;\r\n                          &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n                        &lt;/processors&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.4.14.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n\r\nResult a lot of errors like the following:\r\n\r\n    [ERROR] diagnostic: /home/&lt;deleted&gt;/src/main/java/module-info.java:11: error: module not found: org.slf4j\r\n        requires org.slf4j;\r\n                    ^\r\n    [ERROR] diagnostic: /home/&lt;deleted&gt;/src/main/java/module-info.java:15: error: module not found: java.persistence\r\n        requires java.persistence;\r\n                     ^\r\n\r\nIs it possible to generate hibernate models for Java 11 and java module?","title":"Is it possible to generate hibernate metamodel for Java 11 and java modules?","body":"<p>I have a java module with JPA entities and persistence.xml and I want to generate metamodel. I tried two variants.</p>\n\n<p><strong>Variant 1</strong></p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                        &lt;annotationProcessorPath&gt;\n                                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                                &lt;version&gt;5.4.14.Final&lt;/version&gt;\n                        &lt;/annotationProcessorPath&gt;\n                        &lt;path&gt;\n                                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                                &lt;version&gt;2.3.0&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n                                &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n                                &lt;version&gt;1.3.1&lt;/version&gt;\n                        &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException\n    at org.hibernate.jpamodelgen.ClassWriter.writeGeneratedAnnotation(ClassWriter.java:202)\n    at org.hibernate.jpamodelgen.ClassWriter.generateBody(ClassWriter.java:100)\n    at org.hibernate.jpamodelgen.ClassWriter.writeFile(ClassWriter.java:53)\n    at org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor.createMetaModelClasses(JPAMetaModelEntityProcessor.java:145)\n    at org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor.process(JPAMetaModelEntityProcessor.java:135)\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:972)\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:888)\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1214)\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1326)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1258)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:936)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:147)\n    ... 28 more\n</code></pre>\n\n<p><strong>Variant 2</strong></p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;process&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArguments&gt;-AaddGeneratedAnnotation=false&lt;/compilerArguments&gt;\n                    &lt;processors&gt;\n                      &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                    &lt;/processors&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                &lt;version&gt;5.4.14.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Result a lot of errors like the following:</p>\n\n<pre><code>[ERROR] diagnostic: /home/&lt;deleted&gt;/src/main/java/module-info.java:11: error: module not found: org.slf4j\n    requires org.slf4j;\n                ^\n[ERROR] diagnostic: /home/&lt;deleted&gt;/src/main/java/module-info.java:15: error: module not found: java.persistence\n    requires java.persistence;\n                 ^\n</code></pre>\n\n<p>Is it possible to generate hibernate models for Java 11 and java module?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":9,"up_vote_count":98,"is_accepted":true,"score":89,"last_activity_date":1369762835,"creation_date":1317966248,"answer_id":7683463,"question_id":7683448,"body_markdown":"look at `String.indexOf` and `String.substring`.  \r\n\r\nMake sure you check for -1 for `indexOf`.","title":"In java how to get substring from a string till a character c?","body":"<p>look at <code>String.indexOf</code> and <code>String.substring</code>.  </p>\n\n<p>Make sure you check for -1 for <code>indexOf</code>.</p>\n"},{"tags":[],"owner":{"account_id":794572,"reputation":1993,"user_id":945945,"accept_rate":73,"display_name":"Umer Hayat"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1317969870,"creation_date":1317966523,"answer_id":7683489,"question_id":7683448,"body_markdown":"or you may try something like\r\n\r\n`&quot;abc.def.ghi&quot;.substring(0,&quot;abc.def.ghi&quot;.indexOf(c)-1);`","title":"In java how to get substring from a string till a character c?","body":"<p>or you may try something like</p>\n\n<p><code>\"abc.def.ghi\".substring(0,\"abc.def.ghi\".indexOf(c)-1);</code></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1317967377,"creation_date":1317966660,"answer_id":7683503,"question_id":7683448,"body_markdown":"How about using regex?\r\n\r\n    String firstWord = filename.replaceAll(&quot;\\\\..*&quot;,&quot;&quot;)\r\n\r\nThis replaces everything from the first dot to the end with &quot;&quot; (ie it clears it, leaving you with what you want)\r\n\r\nHere&#39;s a test:\r\n\r\n    System.out.println(&quot;abc.def.hij&quot;.replaceAll(&quot;\\\\..*&quot;, &quot;&quot;);\r\n\r\nOutput:\r\n\r\n    abc","title":"In java how to get substring from a string till a character c?","body":"<p>How about using regex?</p>\n\n<pre><code>String firstWord = filename.replaceAll(\"\\\\..*\",\"\")\n</code></pre>\n\n<p>This replaces everything from the first dot to the end with \"\" (ie it clears it, leaving you with what you want)</p>\n\n<p>Here's a test:</p>\n\n<pre><code>System.out.println(\"abc.def.hij\".replaceAll(\"\\\\..*\", \"\");\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>abc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341876,"reputation":3376,"user_id":672736,"accept_rate":70,"display_name":"Swagatika"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1317966863,"creation_date":1317966863,"answer_id":7683521,"question_id":7683448,"body_markdown":"In java.lang.String you get some methods like indexOf(): which returns you first index of a char/string.\r\nand lstIndexOf: which returns you the last index of String/char\r\n\r\nFrom Java Doc: \r\n\r\n  \r\n\r\n      public int indexOf(int ch)\r\n      public int indexOf(String str)\r\n\r\nReturns the index within this string of the **first occurrence** of the specified character. ","title":"In java how to get substring from a string till a character c?","body":"<p>In java.lang.String you get some methods like indexOf(): which returns you first index of a char/string.\nand lstIndexOf: which returns you the last index of String/char</p>\n\n<p>From Java Doc: </p>\n\n<pre><code>  public int indexOf(int ch)\n  public int indexOf(String str)\n</code></pre>\n\n<p>Returns the index within this string of the <strong>first occurrence</strong> of the specified character. </p>\n"},{"tags":[],"owner":{"account_id":534557,"reputation":3460,"user_id":904475,"accept_rate":73,"display_name":"Chad Schouggins"},"down_vote_count":1,"up_vote_count":108,"is_accepted":false,"score":107,"last_activity_date":1368191093,"creation_date":1317971208,"answer_id":7684061,"question_id":7683448,"body_markdown":"You can just [split][1] the string..\r\n\r\n    public String[] split(String regex)\r\n\r\nNote that java.lang.String.split uses delimiter&#39;s regular expression value.\r\nBasically like this...\r\n\r\n    String filename = &quot;abc.def.ghi&quot;;     // full file name\r\n    String[] parts = filename.split(&quot;\\\\.&quot;); // String array, each element is text between dots\r\n    \r\n    String beforeFirstDot = parts[0];    // Text before the first dot\r\n\r\nOf course, this is split into multiple lines for clairity. It could be written as\r\n\r\n    String beforeFirstDot = filename.split(&quot;\\\\.&quot;)[0];\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split%28java.lang.String%29","title":"In java how to get substring from a string till a character c?","body":"<p>You can just <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"noreferrer\">split</a> the string..</p>\n\n<pre><code>public String[] split(String regex)\n</code></pre>\n\n<p>Note that java.lang.String.split uses delimiter's regular expression value.\nBasically like this...</p>\n\n<pre><code>String filename = \"abc.def.ghi\";     // full file name\nString[] parts = filename.split(\"\\\\.\"); // String array, each element is text between dots\n\nString beforeFirstDot = parts[0];    // Text before the first dot\n</code></pre>\n\n<p>Of course, this is split into multiple lines for clairity. It could be written as</p>\n\n<pre><code>String beforeFirstDot = filename.split(\"\\\\.\")[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413018,"reputation":3396,"user_id":1339257,"accept_rate":40,"display_name":"Max Fichtelmann"},"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1377513634,"creation_date":1377513634,"answer_id":18442183,"question_id":7683448,"body_markdown":"If your project already uses [commons-lang][1], StringUtils provide a nice method for this purpose:\r\n\r\n    String filename = &quot;abc.def.ghi&quot;;\r\n\r\n    String start = StringUtils.substringBefore(filename, &quot;.&quot;); // returns &quot;abc&quot;\r\n\r\nsee javadoc [[2.6]][2] [[3.1]][3]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#substringBefore%28java.lang.String,%20java.lang.String%29\r\n  [3]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#substringBefore%28java.lang.String,%20java.lang.String%29","title":"In java how to get substring from a string till a character c?","body":"<p>If your project already uses <a href=\"http://commons.apache.org/proper/commons-lang/\">commons-lang</a>, StringUtils provide a nice method for this purpose:</p>\n\n<pre><code>String filename = \"abc.def.ghi\";\n\nString start = StringUtils.substringBefore(filename, \".\"); // returns \"abc\"\n</code></pre>\n\n<p>see javadoc <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#substringBefore%28java.lang.String,%20java.lang.String%29\">[2.6]</a> <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#substringBefore%28java.lang.String,%20java.lang.String%29\">[3.1]</a></p>\n"},{"tags":[],"owner":{"account_id":1055629,"reputation":27323,"user_id":1058419,"accept_rate":77,"display_name":"Sam B"},"down_vote_count":1,"up_vote_count":157,"is_accepted":false,"score":156,"last_activity_date":1520783194,"creation_date":1430424971,"answer_id":29977018,"question_id":7683448,"body_markdown":"The accepted answer is correct but it doesn&#39;t tell you how to use it. This is how you use indexOf and substring functions together.\r\n\r\n    String filename = &quot;abc.def.ghi&quot;;     // full file name\r\n    int iend = filename.indexOf(&quot;.&quot;); //this finds the first occurrence of &quot;.&quot; \r\n    //in string thus giving you the index of where it is in the string\r\n\r\n    // Now iend can be -1, if lets say the string had no &quot;.&quot; at all in it i.e. no &quot;.&quot; is found. \r\n    //So check and account for it.\r\n\r\n    String subString;\r\n    if (iend != -1) \r\n    {\r\n        subString= filename.substring(0 , iend); //this will give abc\r\n    }\r\n\r\n","title":"In java how to get substring from a string till a character c?","body":"<p>The accepted answer is correct but it doesn't tell you how to use it. This is how you use indexOf and substring functions together.</p>\n\n<pre><code>String filename = \"abc.def.ghi\";     // full file name\nint iend = filename.indexOf(\".\"); //this finds the first occurrence of \".\" \n//in string thus giving you the index of where it is in the string\n\n// Now iend can be -1, if lets say the string had no \".\" at all in it i.e. no \".\" is found. \n//So check and account for it.\n\nString subString;\nif (iend != -1) \n{\n    subString= filename.substring(0 , iend); //this will give abc\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1519313299,"creation_date":1519313299,"answer_id":48931166,"question_id":7683448,"body_markdown":"Here is code which returns a substring from a `String` until any of a given list of characters: \r\n\r\n    /**\r\n     * Return a substring of the given original string until the first appearance\r\n     * of any of the given characters.\r\n     * &lt;p&gt;\r\n     * e.g. Original &quot;ab&amp;cd-ef&amp;gh&quot;\r\n     * 1. Separators {&#39;&amp;&#39;, &#39;-&#39;}\r\n     * Result: &quot;ab&quot;\r\n     * 2. Separators {&#39;~&#39;, &#39;-&#39;}\r\n     * Result: &quot;ab&amp;cd&quot;\r\n     * 3. Separators {&#39;~&#39;, &#39;=&#39;}\r\n     * Result: &quot;ab&amp;cd-ef&amp;gh&quot;\r\n     *\r\n     * @param original   the original string\r\n     * @param characters the separators until the substring to be considered\r\n     * @return the substring or the original string of no separator exists\r\n     */\r\n    public static String substringFirstOf(String original, List&lt;Character&gt; characters) {\r\n        return characters.stream()\r\n                .map(original::indexOf)\r\n                .filter(min -&gt; min &gt; 0)\r\n                .reduce(Integer::min)\r\n                .map(position -&gt; original.substring(0, position))\r\n                .orElse(original);\r\n    }","title":"In java how to get substring from a string till a character c?","body":"<p>Here is code which returns a substring from a <code>String</code> until any of a given list of characters: </p>\n\n<pre><code>/**\n * Return a substring of the given original string until the first appearance\n * of any of the given characters.\n * &lt;p&gt;\n * e.g. Original \"ab&amp;cd-ef&amp;gh\"\n * 1. Separators {'&amp;', '-'}\n * Result: \"ab\"\n * 2. Separators {'~', '-'}\n * Result: \"ab&amp;cd\"\n * 3. Separators {'~', '='}\n * Result: \"ab&amp;cd-ef&amp;gh\"\n *\n * @param original   the original string\n * @param characters the separators until the substring to be considered\n * @return the substring or the original string of no separator exists\n */\npublic static String substringFirstOf(String original, List&lt;Character&gt; characters) {\n    return characters.stream()\n            .map(original::indexOf)\n            .filter(min -&gt; min &gt; 0)\n            .reduce(Integer::min)\n            .map(position -&gt; original.substring(0, position))\n            .orElse(original);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8887293,"reputation":59,"user_id":6635156,"display_name":"Vinod Moyal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554722280,"creation_date":1554721527,"answer_id":55572015,"question_id":7683448,"body_markdown":"This could help:\r\n\r\n    public static String getCorporateID(String fileName) {\r\n\r\n\t\tString corporateId = null;\r\n\t\r\n\t\ttry {\r\n\t\t\tcorporateId = fileName.substring(0, fileName.indexOf(&quot;_&quot;));\r\n\t\t\t// System.out.println(new Date() + &quot;: &quot; + &quot;Corporate:\r\n\t\t\t// &quot;+corporateId);\r\n\t\t\treturn corporateId;\r\n\t\t} catch (Exception e) {\r\n\t\t\tcorporateId = null;\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn corporateId;\r\n\t}\r\n","title":"In java how to get substring from a string till a character c?","body":"<p>This could help:</p>\n\n<pre><code>public static String getCorporateID(String fileName) {\n\n    String corporateId = null;\n\n    try {\n        corporateId = fileName.substring(0, fileName.indexOf(\"_\"));\n        // System.out.println(new Date() + \": \" + \"Corporate:\n        // \"+corporateId);\n        return corporateId;\n    } catch (Exception e) {\n        corporateId = null;\n        e.printStackTrace();\n    }\n\n    return corporateId;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9038214,"reputation":2416,"user_id":6733315,"accept_rate":62,"display_name":"beginner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1623152520,"creation_date":1623152520,"answer_id":67886215,"question_id":7683448,"body_markdown":"   \r\n\r\n      private String getTextBefore(final String wholeString, String before){\r\n       final int indexOf = wholeString.indexOf(before); \r\n       if(indexOf != -1){\r\n           return wholeString.substring(0, indexOf);\r\n       }\r\n       return wholeString;\r\n    }","title":"In java how to get substring from a string till a character c?","body":"<pre><code>  private String getTextBefore(final String wholeString, String before){\n   final int indexOf = wholeString.indexOf(before); \n   if(indexOf != -1){\n       return wholeString.substring(0, indexOf);\n   }\n   return wholeString;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1625735104,"creation_date":1625655465,"answer_id":68284751,"question_id":7683448,"body_markdown":"    public void getStrings() {\r\n    \tString params = &quot;abc.def.ghi&quot;;\r\n    \tString s1, s2, s3;\r\n    \ts1 = params.substring(0, params.indexOf(&quot;.&quot;));\r\n    \tparams = params.substring(params.indexOf(&quot;.&quot;) + 1);\r\n    \ts2 = params.substring(0, params.indexOf(&quot;.&quot;));\r\n    \tparams = params.substring(params.indexOf(&quot;.&quot;) + 1, params.length());\r\n    \ts3 = params;\r\n    }\r\n\r\n**the solution**\r\n\r\n&gt; s1=&quot;abc&quot; \r\ns2=&quot;def&quot;\r\n s3=&quot;ghi&quot;\r\n\r\nIF you have *more than* 3 String , so then it will look **exactly like s2**","title":"In java how to get substring from a string till a character c?","body":"<pre><code>public void getStrings() {\n    String params = &quot;abc.def.ghi&quot;;\n    String s1, s2, s3;\n    s1 = params.substring(0, params.indexOf(&quot;.&quot;));\n    params = params.substring(params.indexOf(&quot;.&quot;) + 1);\n    s2 = params.substring(0, params.indexOf(&quot;.&quot;));\n    params = params.substring(params.indexOf(&quot;.&quot;) + 1, params.length());\n    s3 = params;\n}\n</code></pre>\n<p><strong>the solution</strong></p>\n<blockquote>\n<p>s1=&quot;abc&quot;\ns2=&quot;def&quot;\ns3=&quot;ghi&quot;</p>\n</blockquote>\n<p>IF you have <em>more than</em> 3 String , so then it will look <strong>exactly like s2</strong></p>\n"},{"tags":[],"owner":{"account_id":24069207,"reputation":51,"user_id":18045345,"display_name":"Liam Botham"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1647869727,"creation_date":1647863563,"answer_id":71557195,"question_id":7683448,"body_markdown":"I tried something like this, \r\n    \r\n    String str = &quot;abc.def.ghi&quot;;\r\n    String strBeforeFirstDot = str.substring(0, str.indexOf(&#39;.&#39;));\r\n    // strBeforeFirstDot = &quot;abc&quot;\r\n\r\nI tried for my example, to extract all char before @ sign in email to extract and provide a username. ","title":"In java how to get substring from a string till a character c?","body":"<p>I tried something like this,</p>\n<pre><code>String str = &quot;abc.def.ghi&quot;;\nString strBeforeFirstDot = str.substring(0, str.indexOf('.'));\n// strBeforeFirstDot = &quot;abc&quot;\n</code></pre>\n<p>I tried for my example, to extract all char before @ sign in email to extract and provide a username.</p>\n"}],"owner":{"account_id":160777,"reputation":8727,"user_id":381088,"accept_rate":88,"display_name":"xyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465123,"favorite_count":0,"down_vote_count":0,"up_vote_count":146,"accepted_answer_id":7683463,"answer_count":12,"score":146,"last_activity_date":1647869727,"creation_date":1317966106,"question_id":7683448,"body_markdown":"I have a string (which is basically a file name following a naming convention) `abc.def.ghi`\r\n\r\nI would like to extract the substring before the first `.` (ie a dot)\r\n\r\nIn java doc api, I can&#39;t seem to find a method in String which does that.  \r\nAm I missing something? How to do it?\r\n","title":"In java how to get substring from a string till a character c?","body":"<p>I have a string (which is basically a file name following a naming convention) <code>abc.def.ghi</code></p>\n\n<p>I would like to extract the substring before the first <code>.</code> (ie a dot)</p>\n\n<p>In java doc api, I can't seem to find a method in String which does that.<br>\nAm I missing something? How to do it?</p>\n"},{"tags":["java","maven","pom.xml","wsdl2java","cxf-codegen-plugin"],"answers":[{"tags":[],"owner":{"account_id":1723412,"reputation":15,"user_id":1578634,"display_name":"sabri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647869399,"creation_date":1647701721,"answer_id":71539223,"question_id":32317425,"body_markdown":"Your last solution worked for me with below confi\r\n\r\ncxf.version&gt;3.4.0\r\n\r\n    &lt;wsdlOptions&gt;\r\n\t   &lt;wsdlOption&gt;\r\n\t\t &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/wsdl1.wsdl&lt;/wsdl&gt;\r\n\t   &lt;/wsdlOption&gt;\r\n\t   &lt;wsdlOption&gt;\r\n\t\t &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/wsdl2.wsdl&lt;/wsdl&gt;\r\n\t   &lt;/wsdlOption&gt;\r\n\t&lt;/wsdlOptions&gt;\r\n\r\n","title":"How to generate sources for multiple services using Apache CXF codegen plugin for Maven under one execution","body":"<p>Your last solution worked for me with below confi</p>\n<p>cxf.version&gt;3.4.0</p>\n<pre><code>&lt;wsdlOptions&gt;\n   &lt;wsdlOption&gt;\n     &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/wsdl1.wsdl&lt;/wsdl&gt;\n   &lt;/wsdlOption&gt;\n   &lt;wsdlOption&gt;\n     &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/wsdl2.wsdl&lt;/wsdl&gt;\n   &lt;/wsdlOption&gt;\n&lt;/wsdlOptions&gt;\n</code></pre>\n"}],"owner":{"account_id":2265091,"reputation":977,"user_id":1994018,"accept_rate":20,"display_name":"Evan LaHurd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1647869399,"creation_date":1441045031,"question_id":32317425,"body_markdown":"I&#39;m currently using the Apache CXF codegen plugin (version 3.1.1) for Maven to generate sources from our client-provided WSDL. I have the wsdl2java goal specified, and I want to generate code for multiple services. I know you can specify a `&lt;serviceName&gt;` under the `&lt;wsdlOption&gt;` tag, but when I try to put more than one `&lt;serviceName&gt;`, or even create another `&lt;wsdlOption&gt;` using the same `&lt;wsdl&gt;` value with a different `&lt;serviceName&gt;`, it seems to ignore one of them and just generate the classes for one service.\r\n\r\nThe only way around this that I&#39;ve found is to create another identical `&lt;execution&gt;` block and just change the `&lt;serviceName&gt;`. Am I doing something wrong, or is that the only way to do it? Here is the overall setup for one `&lt;execution&gt;` (the paths and service names have been changed for privacy&#39;s sake):\r\n\r\n    &lt;execution&gt;\r\n\t    &lt;id&gt;generate-sources-a&lt;/id&gt;\r\n\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t&lt;defaultOptions&gt;\r\n\t\t\t    &lt;bindingFiles&gt;\r\n\t\t\t\t    &lt;bindingFile&gt;binding.xjb&lt;/bindingFile&gt;\r\n\t\t\t\t&lt;/bindingFiles&gt;\r\n\t\t\t&lt;/defaultOptions&gt;\r\n\t\t\t&lt;sourceRoot&gt;${project.build.directory}/generated-sources&lt;/sourceRoot&gt;\r\n\t\t\t&lt;wsdlRoot&gt;${project.build.directory}/wsdl&lt;/wsdlRoot&gt;\r\n\t\t\t&lt;includes&gt;\r\n                &lt;include&gt;Path/To/WSDL/MyWSDL.wsdl&lt;/include&gt;\r\n\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;wsdlOptions&gt;\r\n\t\t\t    &lt;wsdlOption&gt;\r\n\t\t\t\t\t&lt;wsdl&gt;${project.build.directory}/wsdl/Path/To/WSDL/MyWSDL.wsdl&lt;/wsdl&gt;\r\n\t\t\t        &lt;serviceName&gt;ServiceA&lt;/serviceName&gt;\r\n\t\t\t\t&lt;/wsdlOption&gt;\r\n\t\t\t&lt;/wsdlOptions&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t    &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n\r\nI&#39;ve tried both this:\r\n\r\n    &lt;wsdlOptions&gt;\r\n\t    &lt;wsdlOption&gt;\r\n\t\t\t&lt;wsdl&gt;${project.build.directory}/wsdl/Path/To/WSDL/MyWSDL.wsdl&lt;/wsdl&gt;\r\n            &lt;serviceName&gt;ServiceA&lt;/serviceName&gt;\r\n            &lt;serviceName&gt;ServiceB&lt;/serviceName&gt;\r\n\t\t&lt;/wsdlOption&gt;\r\n\t&lt;/wsdlOptions&gt;\r\n\r\n...and this (used in Example 4 here http://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html):\r\n\r\n    &lt;wsdlOptions&gt;\r\n\t    &lt;wsdlOption&gt;\r\n\t\t\t&lt;wsdl&gt;${project.build.directory}/wsdl/Path/To/WSDL/MyWSDL.wsdl&lt;/wsdl&gt;\r\n            &lt;serviceName&gt;ServiceA&lt;/serviceName&gt;\r\n\t\t&lt;/wsdlOption&gt;\r\n        &lt;wsdlOption&gt;\r\n\t\t\t&lt;wsdl&gt;${project.build.directory}/wsdl/Path/To/WSDL/MyWSDL.wsdl&lt;/wsdl&gt;\r\n            &lt;serviceName&gt;ServiceB&lt;/serviceName&gt;\r\n\t\t&lt;/wsdlOption&gt;\r\n\t&lt;/wsdlOptions&gt;\r\n    \r\n**Note that these services are from the same WSDL provided by our client.\r\n\r\nThanks in advance for the help!","title":"How to generate sources for multiple services using Apache CXF codegen plugin for Maven under one execution","body":"<p>I'm currently using the Apache CXF codegen plugin (version 3.1.1) for Maven to generate sources from our client-provided WSDL. I have the wsdl2java goal specified, and I want to generate code for multiple services. I know you can specify a <code>&lt;serviceName&gt;</code> under the <code>&lt;wsdlOption&gt;</code> tag, but when I try to put more than one <code>&lt;serviceName&gt;</code>, or even create another <code>&lt;wsdlOption&gt;</code> using the same <code>&lt;wsdl&gt;</code> value with a different <code>&lt;serviceName&gt;</code>, it seems to ignore one of them and just generate the classes for one service.</p>\n\n<p>The only way around this that I've found is to create another identical <code>&lt;execution&gt;</code> block and just change the <code>&lt;serviceName&gt;</code>. Am I doing something wrong, or is that the only way to do it? Here is the overall setup for one <code>&lt;execution&gt;</code> (the paths and service names have been changed for privacy's sake):</p>\n\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;generate-sources-a&lt;/id&gt;\n    &lt;phase&gt;generate-sources&lt;/phase&gt;\n    &lt;configuration&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;defaultOptions&gt;\n            &lt;bindingFiles&gt;\n                &lt;bindingFile&gt;binding.xjb&lt;/bindingFile&gt;\n            &lt;/bindingFiles&gt;\n        &lt;/defaultOptions&gt;\n        &lt;sourceRoot&gt;${project.build.directory}/generated-sources&lt;/sourceRoot&gt;\n        &lt;wsdlRoot&gt;${project.build.directory}/wsdl&lt;/wsdlRoot&gt;\n        &lt;includes&gt;\n            &lt;include&gt;Path/To/WSDL/MyWSDL.wsdl&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;wsdlOptions&gt;\n            &lt;wsdlOption&gt;\n                &lt;wsdl&gt;${project.build.directory}/wsdl/Path/To/WSDL/MyWSDL.wsdl&lt;/wsdl&gt;\n                &lt;serviceName&gt;ServiceA&lt;/serviceName&gt;\n            &lt;/wsdlOption&gt;\n        &lt;/wsdlOptions&gt;\n    &lt;/configuration&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;wsdl2java&lt;/goal&gt;\n    &lt;/goals&gt;\n&lt;/execution&gt;\n</code></pre>\n\n<p>I've tried both this:</p>\n\n<pre><code>&lt;wsdlOptions&gt;\n    &lt;wsdlOption&gt;\n        &lt;wsdl&gt;${project.build.directory}/wsdl/Path/To/WSDL/MyWSDL.wsdl&lt;/wsdl&gt;\n        &lt;serviceName&gt;ServiceA&lt;/serviceName&gt;\n        &lt;serviceName&gt;ServiceB&lt;/serviceName&gt;\n    &lt;/wsdlOption&gt;\n&lt;/wsdlOptions&gt;\n</code></pre>\n\n<p>...and this (used in Example 4 here <a href=\"http://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html\" rel=\"noreferrer\">http://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html</a>):</p>\n\n<pre><code>&lt;wsdlOptions&gt;\n    &lt;wsdlOption&gt;\n        &lt;wsdl&gt;${project.build.directory}/wsdl/Path/To/WSDL/MyWSDL.wsdl&lt;/wsdl&gt;\n        &lt;serviceName&gt;ServiceA&lt;/serviceName&gt;\n    &lt;/wsdlOption&gt;\n    &lt;wsdlOption&gt;\n        &lt;wsdl&gt;${project.build.directory}/wsdl/Path/To/WSDL/MyWSDL.wsdl&lt;/wsdl&gt;\n        &lt;serviceName&gt;ServiceB&lt;/serviceName&gt;\n    &lt;/wsdlOption&gt;\n&lt;/wsdlOptions&gt;\n</code></pre>\n\n<p>**Note that these services are from the same WSDL provided by our client.</p>\n\n<p>Thanks in advance for the help!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1577381070,"post_id":59491390,"comment_id":105157334,"body_markdown":"Does this answer your question? [jTextArea as IO console](https://stackoverflow.com/questions/15017148/jtextarea-as-io-console)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15017148/jtextarea-as-io-console\">jTextArea as IO console</a>"},{"owner":{"account_id":14603438,"reputation":820,"user_id":10547108,"display_name":"fuggerjaki61"},"score":0,"creation_date":1577382681,"post_id":59491390,"comment_id":105157823,"body_markdown":"[this](https://stackoverflow.com/questions/13841884/redirecting-system-out-to-a-textarea-in-javafx) may help you","body":"<a href=\"https://stackoverflow.com/questions/13841884/redirecting-system-out-to-a-textarea-in-javafx\">this</a> may help you"},{"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"score":0,"creation_date":1577389901,"post_id":59491390,"comment_id":105159861,"body_markdown":"Please have a look at @jewelsea&#39;s answer as well to make your app more efficient!","body":"Please have a look at @jewelsea&#39;s answer as well to make your app more efficient!"}],"answers":[{"tags":[],"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1577388137,"creation_date":1577384821,"answer_id":59492085,"question_id":59491390,"body_markdown":"Here is a simple application, which has the functionality of a real-time command-line binding with a text-area.\r\n\r\n - Enter command on `input`(tree, time, etc) TextField and hit &lt;kbd&gt;Enter&lt;/kbd&gt; key\r\n - The results will be appended in the `text-area` constantly\r\n\r\n**Demo**\r\n    \r\n    public class CommandLineTextAreaDemo extends Application {\r\n\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            BorderPane root = new BorderPane();\r\n            root.setCenter(getContent());\r\n            primaryStage.setScene(new Scene(root, 200, 200));\r\n            primaryStage.show();\r\n        }\r\n\r\n        private BorderPane getContent() {\r\n            TextArea textArea = new TextArea();\r\n            TextField input = new TextField();\r\n\r\n            input.setOnAction(event -&gt; executeTask(textArea, input.getText()));\r\n\r\n            BorderPane content = new BorderPane();\r\n            content.setTop(input);\r\n            content.setCenter(textArea);\r\n            return content;\r\n        }\r\n\r\n        private void executeTask(TextArea textArea, String command) {\r\n            Task&lt;String&gt; commandLineTask = new Task&lt;String&gt;() {\r\n                @Override\r\n                protected String call() throws Exception {\r\n                    StringBuilder commandResult = new StringBuilder();\r\n                    try {\r\n                        Process p = Runtime.getRuntime().exec(command);\r\n                        BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n                        String line;\r\n                        while ((line = in.readLine()) != null) {\r\n                            commandResult.append(line + &quot;\\n&quot;);\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    return commandResult.toString();\r\n                }\r\n            };\r\n\r\n            commandLineTask.setOnSucceeded(event -&gt; textArea.appendText(commandLineTask.getValue()));\r\n\r\n            new Thread(commandLineTask).start();\r\n        }\r\n    }\r\n\r\nIf you want to use `TextArea` independently(without using `input` TextField), you can do something like this instead.\r\n\r\n    textArea.setOnKeyReleased(event -&gt; {\r\n        if(event.getCode() == KeyCode.ENTER) {\r\n            String[] lines = textArea.getText().split(&quot;\\n&quot;);\r\n            executeTask(textArea, lines[lines.length - 1]);\r\n        }\r\n    });","title":"How do I update the input of a TextArea in real-time?","body":"<p>Here is a simple application, which has the functionality of a real-time command-line binding with a text-area.</p>\n\n<ul>\n<li>Enter command on <code>input</code>(tree, time, etc) TextField and hit <kbd>Enter</kbd> key</li>\n<li>The results will be appended in the <code>text-area</code> constantly</li>\n</ul>\n\n<p><strong>Demo</strong></p>\n\n<pre><code>public class CommandLineTextAreaDemo extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        BorderPane root = new BorderPane();\n        root.setCenter(getContent());\n        primaryStage.setScene(new Scene(root, 200, 200));\n        primaryStage.show();\n    }\n\n    private BorderPane getContent() {\n        TextArea textArea = new TextArea();\n        TextField input = new TextField();\n\n        input.setOnAction(event -&gt; executeTask(textArea, input.getText()));\n\n        BorderPane content = new BorderPane();\n        content.setTop(input);\n        content.setCenter(textArea);\n        return content;\n    }\n\n    private void executeTask(TextArea textArea, String command) {\n        Task&lt;String&gt; commandLineTask = new Task&lt;String&gt;() {\n            @Override\n            protected String call() throws Exception {\n                StringBuilder commandResult = new StringBuilder();\n                try {\n                    Process p = Runtime.getRuntime().exec(command);\n                    BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\n                    String line;\n                    while ((line = in.readLine()) != null) {\n                        commandResult.append(line + \"\\n\");\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                return commandResult.toString();\n            }\n        };\n\n        commandLineTask.setOnSucceeded(event -&gt; textArea.appendText(commandLineTask.getValue()));\n\n        new Thread(commandLineTask).start();\n    }\n}\n</code></pre>\n\n<p>If you want to use <code>TextArea</code> independently(without using <code>input</code> TextField), you can do something like this instead.</p>\n\n<pre><code>textArea.setOnKeyReleased(event -&gt; {\n    if(event.getCode() == KeyCode.ENTER) {\n        String[] lines = textArea.getText().split(\"\\n\");\n        executeTask(textArea, lines[lines.length - 1]);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577404937,"creation_date":1577386634,"answer_id":59492365,"question_id":59491390,"body_markdown":"**Custom logging framework based solution**\r\n\r\nSpawn a thread to execute your command, and then use the answer to the following question:\r\n\r\n * https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu\r\n\r\nWhich will log the messages from the process launched by your spawned thread back to the UI in a thread-safe manner.\r\n\r\nYou can use an [ExecutorService][1] to assist with thread management if you wish.  If you do, remember to shut it down cleanly (usually in the `stop()` method for your JavaFX app).\r\n\r\n**JavaFX concurrency utilities based solution**\r\n\r\nYou can also make use of [JavaFX concurrency utilities][2], such as `Task`, `Service` and `Platform.runLater` if you wish.  See the &quot;A Task Which Returns Partial Results&quot; or &quot;A Task Which Modifies The Scene Graph&quot; sections of the [`Task` java documentation][3] for more information on this approach.\r\n\r\n[![sample output][4]][4]\r\n\r\nExample of using JavaFX concurrency utilities.\r\n\r\n    import javafx.application.*;\r\n    import javafx.concurrent.Task;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class ConsoleLogger extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            TextArea outputArea = new TextArea();\r\n            outputArea.setStyle(&quot;-fx-font-family: monospace&quot;);\r\n            outputArea.setEditable(false);\r\n    \r\n            TextField commandField = new TextField();\r\n            commandField.setOnAction(event -&gt;\r\n                    executeTask(\r\n                            commandField.getText(),\r\n                            outputArea\r\n                    )\r\n            );\r\n    \r\n            VBox layout = new VBox(\r\n                    10,\r\n                    new Label(&quot;Enter a command and press return to execute it.&quot;),\r\n                    commandField,\r\n                    outputArea\r\n            );\r\n            VBox.setVgrow(outputArea, Priority.ALWAYS);\r\n            layout.setPadding(new Insets(10));\r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        private void executeTask(String commandString, TextArea outputArea) {\r\n            CommandExecutor commandExecutor = new CommandExecutor(\r\n                    commandString,\r\n                    outputArea\r\n            );\r\n    \r\n            new Thread(commandExecutor).start();\r\n        }\r\n    \r\n        public class CommandExecutor extends Task&lt;Void&gt; {\r\n            private final String commandString;\r\n            private final TextArea outputArea;\r\n            private final ProcessBuilder processBuilder;\r\n    \r\n            public CommandExecutor(\r\n                    String commandString,\r\n                    TextArea outputArea\r\n            ) {\r\n                this.commandString = commandString;\r\n                this.outputArea = outputArea;\r\n    \r\n                processBuilder = new ProcessBuilder(\r\n                        commandString.trim().split(&quot;\\\\s+&quot;)\r\n                )\r\n                        .redirectErrorStream(true);\r\n    \r\n                exceptionProperty().addListener((observable, oldException, newException) -&gt; {\r\n                    if (newException != null) {\r\n                        newException.printStackTrace();\r\n                    }\r\n                });\r\n            }\r\n    \r\n            @Override\r\n            protected Void call() throws IOException {\r\n                Process process = processBuilder.start();\r\n                try (\r\n                        BufferedReader reader =\r\n                                new BufferedReader(\r\n                                        new InputStreamReader(\r\n                                                process.getInputStream()\r\n                                        )\r\n                                )\r\n                ) {\r\n                    String line;\r\n                    while ((line = reader.readLine()) != null) {\r\n                        final String nextLine = line;\r\n                        Platform.runLater(\r\n                                () -&gt; outputArea.appendText(nextLine + &quot;\\n&quot;)\r\n                        );\r\n                    }\r\n                }\r\n    \r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nNote that this is a naive solution which can flood the JavaFX runnable queue, does not include robust exception handling, has no thread pooling, does not deal with processes which take interactive input I/O, merges output from concurrent executing processes to a single text area, does not limit text area size, etc.  In particular, you need to be careful if the spawned process does something like tail a large log file which is constantly being written to at a rapid pace, as the naive solution could flood the JavaFX runnable queue with many calls to `Platform.runLater`, which wouldn&#39;t be good.\r\n\r\nFor a more efficient solution, the custom logging system linked earlier may be better.  However, for some applications, the Task based system logging to a TextArea in this example, or some small modifications to it, may be fine. \r\n\r\n**Additional Notes**\r\n\r\nIn any case, be careful you don&#39;t try to modify the text area or any of its properties directly from another thread (use `Platform.runLater` to prevent that), otherwise the program may fail due to concurrency issues.\r\n\r\nThere are quite a few tricks and unexpected (undesirable) things which can happen when using the Java Process API, so if you are not very proficient in it, then google around to see what these are and how they may be addressed if you need a very robust solution.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/concurrent/Executors.html#newCachedThreadPool()\r\n  [2]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\r\n  [3]: https://openjfx.io/javadoc/13/javafx.graphics/javafx/concurrent/Task.html\r\n  [4]: https://i.stack.imgur.com/Nn6UN.png","title":"How do I update the input of a TextArea in real-time?","body":"<p><strong>Custom logging framework based solution</strong></p>\n\n<p>Spawn a thread to execute your command, and then use the answer to the following question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu\">Most efficient way to log messages to JavaFX TextArea via threads with simple custom logging frameworks</a></li>\n</ul>\n\n<p>Which will log the messages from the process launched by your spawned thread back to the UI in a thread-safe manner.</p>\n\n<p>You can use an <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/concurrent/Executors.html#newCachedThreadPool()\" rel=\"nofollow noreferrer\">ExecutorService</a> to assist with thread management if you wish.  If you do, remember to shut it down cleanly (usually in the <code>stop()</code> method for your JavaFX app).</p>\n\n<p><strong>JavaFX concurrency utilities based solution</strong></p>\n\n<p>You can also make use of <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"nofollow noreferrer\">JavaFX concurrency utilities</a>, such as <code>Task</code>, <code>Service</code> and <code>Platform.runLater</code> if you wish.  See the \"A Task Which Returns Partial Results\" or \"A Task Which Modifies The Scene Graph\" sections of the <a href=\"https://openjfx.io/javadoc/13/javafx.graphics/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\"><code>Task</code> java documentation</a> for more information on this approach.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nn6UN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nn6UN.png\" alt=\"sample output\"></a></p>\n\n<p>Example of using JavaFX concurrency utilities.</p>\n\n<pre><code>import javafx.application.*;\nimport javafx.concurrent.Task;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class ConsoleLogger extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        TextArea outputArea = new TextArea();\n        outputArea.setStyle(\"-fx-font-family: monospace\");\n        outputArea.setEditable(false);\n\n        TextField commandField = new TextField();\n        commandField.setOnAction(event -&gt;\n                executeTask(\n                        commandField.getText(),\n                        outputArea\n                )\n        );\n\n        VBox layout = new VBox(\n                10,\n                new Label(\"Enter a command and press return to execute it.\"),\n                commandField,\n                outputArea\n        );\n        VBox.setVgrow(outputArea, Priority.ALWAYS);\n        layout.setPadding(new Insets(10));\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    private void executeTask(String commandString, TextArea outputArea) {\n        CommandExecutor commandExecutor = new CommandExecutor(\n                commandString,\n                outputArea\n        );\n\n        new Thread(commandExecutor).start();\n    }\n\n    public class CommandExecutor extends Task&lt;Void&gt; {\n        private final String commandString;\n        private final TextArea outputArea;\n        private final ProcessBuilder processBuilder;\n\n        public CommandExecutor(\n                String commandString,\n                TextArea outputArea\n        ) {\n            this.commandString = commandString;\n            this.outputArea = outputArea;\n\n            processBuilder = new ProcessBuilder(\n                    commandString.trim().split(\"\\\\s+\")\n            )\n                    .redirectErrorStream(true);\n\n            exceptionProperty().addListener((observable, oldException, newException) -&gt; {\n                if (newException != null) {\n                    newException.printStackTrace();\n                }\n            });\n        }\n\n        @Override\n        protected Void call() throws IOException {\n            Process process = processBuilder.start();\n            try (\n                    BufferedReader reader =\n                            new BufferedReader(\n                                    new InputStreamReader(\n                                            process.getInputStream()\n                                    )\n                            )\n            ) {\n                String line;\n                while ((line = reader.readLine()) != null) {\n                    final String nextLine = line;\n                    Platform.runLater(\n                            () -&gt; outputArea.appendText(nextLine + \"\\n\")\n                    );\n                }\n            }\n\n            return null;\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>Note that this is a naive solution which can flood the JavaFX runnable queue, does not include robust exception handling, has no thread pooling, does not deal with processes which take interactive input I/O, merges output from concurrent executing processes to a single text area, does not limit text area size, etc.  In particular, you need to be careful if the spawned process does something like tail a large log file which is constantly being written to at a rapid pace, as the naive solution could flood the JavaFX runnable queue with many calls to <code>Platform.runLater</code>, which wouldn't be good.</p>\n\n<p>For a more efficient solution, the custom logging system linked earlier may be better.  However, for some applications, the Task based system logging to a TextArea in this example, or some small modifications to it, may be fine. </p>\n\n<p><strong>Additional Notes</strong></p>\n\n<p>In any case, be careful you don't try to modify the text area or any of its properties directly from another thread (use <code>Platform.runLater</code> to prevent that), otherwise the program may fail due to concurrency issues.</p>\n\n<p>There are quite a few tricks and unexpected (undesirable) things which can happen when using the Java Process API, so if you are not very proficient in it, then google around to see what these are and how they may be addressed if you need a very robust solution.</p>\n"}],"owner":{"account_id":16218264,"reputation":117,"user_id":11710512,"display_name":"David Moll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59492085,"answer_count":2,"score":2,"last_activity_date":1647869356,"creation_date":1577380299,"question_id":59491390,"body_markdown":"I am currently working on a JavaFX-program with SceneBuilder which also utilies the commandline of windows. To show the user that the program is doing something I want it to put the console-output into a textarea. So far it only updates after everything is finished, not in real-time, which is my goal.\r\n\r\nHere is the code I have so far, where it enters &quot;tree&quot; as a test. &quot;textareaOutput&quot; is the textarea which shows the output:\r\n\r\n    try {\r\n\t\t\t\tProcess p = Runtime.getRuntime().exec(&quot;cmd /C tree&quot;);\r\n\t\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t\t\t\tString line = null;\r\n\t\t\t\twhile ((line = in.readLine()) != null) {\r\n\t\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t\ttextareaOutput.appendText(line + &quot;\\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\nI know of MessageConsole in Swing, but I don&#39;t know if something similar exists in JafaFX","title":"How do I update the input of a TextArea in real-time?","body":"<p>I am currently working on a JavaFX-program with SceneBuilder which also utilies the commandline of windows. To show the user that the program is doing something I want it to put the console-output into a textarea. So far it only updates after everything is finished, not in real-time, which is my goal.</p>\n\n<p>Here is the code I have so far, where it enters \"tree\" as a test. \"textareaOutput\" is the textarea which shows the output:</p>\n\n<pre><code>try {\n            Process p = Runtime.getRuntime().exec(\"cmd /C tree\");\n            BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            String line = null;\n            while ((line = in.readLine()) != null) {\n                System.out.println(line);\n                textareaOutput.appendText(line + \"\\n\");\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>I know of MessageConsole in Swing, but I don't know if something similar exists in JafaFX</p>\n"},{"tags":["java","android","storage-access-framework","scoped-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647869456,"post_id":71558418,"comment_id":126472345,"body_markdown":"`After persistence, can I use the File class to create and save a file in that persistent path using the File class?` No you cant. And your example code does not work which you could have told us right away. Why didnt you?","body":"<code>After persistence, can I use the File class to create and save a file in that persistent path using the File class?</code> No you cant. And your example code does not work which you could have told us right away. Why didnt you?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647869538,"post_id":71558418,"comment_id":126472390,"body_markdown":"For 2: no you cant.","body":"For 2: no you cant."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647869562,"post_id":71558418,"comment_id":126472399,"body_markdown":"For 3: use that to do what?","body":"For 3: use that to do what?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647869691,"post_id":71558418,"comment_id":126472453,"body_markdown":"`Can I use the File class with the code above to write files into the app&#39;s folder?` Yes. But we do not know what you consider to be the apps folder.","body":"<code>Can I use the File class with the code above to write files into the app&#39;s folder?</code> Yes. But we do not know what you consider to be the apps folder."}],"owner":{"account_id":13928146,"reputation":65,"user_id":10459304,"display_name":"Sami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647869312,"creation_date":1647869312,"question_id":71558418,"body_markdown":"The following article mentions that Android 11 allows for usage of the `File` API (under the title `Access files using direct file paths and native libraries`).\r\n\r\nhttps://developer.android.com/about/versions/11/privacy/storage\r\n\r\nI would like more information on this. Does this refer to `MANAGE_EXTERNAL_STORAGE` permission or does it speak in general. If it does not mean `MANAGE_EXTERNAL_STORAGE` permission then what does it mean exactly? \r\n\r\n1. If I use Storage Access Framework to persist a path. After persistence, can I use the `File` class to create and save a file in that persistent path using the `File` class? For example:\r\n\r\n```\r\n File file = new File(filePath);\r\n FileOutputStream os = new FileOutputStream(file, false);\r\n OutputStreamWriter out = new OutputStreamWriter(os);\r\n out.write(downloadedSubtitles);\r\n out.close();\r\n```\r\n2. Can I use the `File` class to read a file within the persisted path?\r\n3. Can I use `file://` paths?\r\n\r\nI also have different related question. Can I use the `File` class with the code above to write files into the app&#39;s folder?\r\n\r\nThank you.\r\n\r\n","title":"Android 11 and File API support","body":"<p>The following article mentions that Android 11 allows for usage of the <code>File</code> API (under the title <code>Access files using direct file paths and native libraries</code>).</p>\n<p><a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a></p>\n<p>I would like more information on this. Does this refer to <code>MANAGE_EXTERNAL_STORAGE</code> permission or does it speak in general. If it does not mean <code>MANAGE_EXTERNAL_STORAGE</code> permission then what does it mean exactly?</p>\n<ol>\n<li>If I use Storage Access Framework to persist a path. After persistence, can I use the <code>File</code> class to create and save a file in that persistent path using the <code>File</code> class? For example:</li>\n</ol>\n<pre><code> File file = new File(filePath);\n FileOutputStream os = new FileOutputStream(file, false);\n OutputStreamWriter out = new OutputStreamWriter(os);\n out.write(downloadedSubtitles);\n out.close();\n</code></pre>\n<ol start=\"2\">\n<li>Can I use the <code>File</code> class to read a file within the persisted path?</li>\n<li>Can I use <code>file://</code> paths?</li>\n</ol>\n<p>I also have different related question. Can I use the <code>File</code> class with the code above to write files into the app's folder?</p>\n<p>Thank you.</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647869094,"creation_date":1647869094,"answer_id":71558363,"question_id":71557758,"body_markdown":"IDE launches the Maven goals with the JDK you choose in the Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | **JDK for importer** settings. This error happens when the JVM tries to use non-trusted self-signed certificate. \r\n\r\nIt is likely that the proxy server in your network replaces the remote certificate with its own self-signed. So you need to [import your certificate into the JDK trust store](https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html) which you use to build by Maven (**JDK for importer** setting).","title":"Reloading maven projects in IDEA: unable to find valid certification path to requested target","body":"<p>IDE launches the Maven goals with the JDK you choose in the Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | <strong>JDK for importer</strong> settings. This error happens when the JVM tries to use non-trusted self-signed certificate.</p>\n<p>It is likely that the proxy server in your network replaces the remote certificate with its own self-signed. So you need to <a href=\"https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html\" rel=\"noreferrer\">import your certificate into the JDK trust store</a> which you use to build by Maven (<strong>JDK for importer</strong> setting).</p>\n"}],"owner":{"account_id":24017610,"reputation":67,"user_id":18000372,"display_name":"LeeDerson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71558363,"answer_count":1,"score":0,"last_activity_date":1647869094,"creation_date":1647866327,"question_id":71557758,"body_markdown":"I am reloading a maven project in IDEA when the error occurs. \r\n\r\nThe error description is:\r\n\r\nCould not transfer artifact org.apache.parquet:parquet-common:pom:1.11.1-h0.gdd.maem.V100R023C00.r1-SNAPSHOT from/to mae-cloudsop-repo (https://cmc.centralrepo.rnd.konglb.com/artifactory/product_maven/): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nI have imported the certificate as [the adopted answer][1]. And I try to install the maven project in command line by &quot;mvn -U clean install&quot;. It builds success. But reloading maven projects in IDEA still throw the error.\r\n\r\nMy java version is 1.8 and maven version is 3.6.0.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ","title":"Reloading maven projects in IDEA: unable to find valid certification path to requested target","body":"<p>I am reloading a maven project in IDEA when the error occurs.</p>\n<p>The error description is:</p>\n<p>Could not transfer artifact org.apache.parquet:parquet-common:pom:1.11.1-h0.gdd.maem.V100R023C00.r1-SNAPSHOT from/to mae-cloudsop-repo (<a href=\"https://cmc.centralrepo.rnd.konglb.com/artifactory/product_maven/\" rel=\"nofollow noreferrer\">https://cmc.centralrepo.rnd.konglb.com/artifactory/product_maven/</a>): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n<p>I have imported the certificate as <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\">the adopted answer</a>. And I try to install the maven project in command line by &quot;mvn -U clean install&quot;. It builds success. But reloading maven projects in IDEA still throw the error.</p>\n<p>My java version is 1.8 and maven version is 3.6.0.</p>\n"},{"tags":["java","android","uinavigationbar","android-api-30"],"answers":[{"tags":[],"owner":{"account_id":24058409,"reputation":33,"user_id":18035952,"display_name":"Phaeron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647869061,"creation_date":1647849833,"answer_id":71554438,"question_id":71529922,"body_markdown":"After few hours, I found a solution :\r\n ```\r\n@Override\r\npublic void onWindowFocusChanged(boolean hasFocus) {\r\n    super.onWindowFocusChanged(hasFocus);\r\n    if(hasFocus)\r\n    {\r\n        fullSceen(getWindow().getDecorView());\r\n    }\r\n    else {\r\n        try {\r\n            Object wmgInstance = Class.forName(&quot;android.view.WindowManagerGlobal&quot;).getMethod(&quot;getInstance&quot;).invoke(null);\r\n            Field viewsField = Class.forName(&quot;android.view.WindowManagerGlobal&quot;).getDeclaredField(&quot;mViews&quot;);\r\n\r\n            viewsField.setAccessible(true);\r\n            ArrayList&lt;View&gt; views = (ArrayList&lt;View&gt;) viewsField.get(wmgInstance);\r\n            for (View view: views) {\r\n                fullSceen(view);\r\n\r\n                view.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() {\r\n                    @Override\r\n                    public void onSystemUiVisibilityChange(int visibility) {\r\n                        fullSceen(view);\r\n                    }\r\n                });\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        AppUtils.console(this,TAG, &quot;hasFocus == false&quot;);\r\n    }\r\n}\r\nprivate void fullSceen(View view){\r\n    view.setSystemUiVisibility(\r\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n}\r\n```\r\nDepreciated since Android 30+. For last API, use :\r\n\r\n```\r\n        binding = ActivityBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        mContentView = binding.fullscreenContent;\r\n        mContentView.getWindowInsetsController().setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\r\n        mContentView.getWindowInsetsController().hide(WindowInsets.Type.navigationBars());\r\n```\r\nThanks to @Hong Nguyen","title":"Why does the navigationBars() come back on Fullscreen activity?","body":"<p>After few hours, I found a solution :</p>\n<pre><code>@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n   super.onWindowFocusChanged(hasFocus);\n   if(hasFocus)\n   {\n       fullSceen(getWindow().getDecorView());\n   }\n   else {\n       try {\n           Object wmgInstance = Class.forName(&quot;android.view.WindowManagerGlobal&quot;).getMethod(&quot;getInstance&quot;).invoke(null);\n           Field viewsField = Class.forName(&quot;android.view.WindowManagerGlobal&quot;).getDeclaredField(&quot;mViews&quot;);\n\n           viewsField.setAccessible(true);\n           ArrayList&lt;View&gt; views = (ArrayList&lt;View&gt;) viewsField.get(wmgInstance);\n           for (View view: views) {\n               fullSceen(view);\n\n               view.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() {\n                   @Override\n                   public void onSystemUiVisibilityChange(int visibility) {\n                       fullSceen(view);\n                   }\n               });\n           }\n       } catch (Exception e) {\n           e.printStackTrace();\n       }\n       AppUtils.console(this,TAG, &quot;hasFocus == false&quot;);\n   }\n}\nprivate void fullSceen(View view){\n   view.setSystemUiVisibility(\n           View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                   | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                   | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                   | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                   | View.SYSTEM_UI_FLAG_FULLSCREEN\n                   | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n}\n</code></pre>\n<p>Depreciated since Android 30+. For last API, use :</p>\n<pre><code>        binding = ActivityBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        mContentView = binding.fullscreenContent;\n        mContentView.getWindowInsetsController().setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n        mContentView.getWindowInsetsController().hide(WindowInsets.Type.navigationBars());\n</code></pre>\n<p>Thanks to @Hong Nguyen</p>\n"}],"owner":{"account_id":24058409,"reputation":33,"user_id":18035952,"display_name":"Phaeron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71554438,"answer_count":1,"score":2,"last_activity_date":1647869061,"creation_date":1647619444,"question_id":71529922,"body_markdown":"I work on Android API 30+, and I want to make a fullscreen app.\r\nI disabled the `navigationBars()` here :\r\n\r\n```java\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    binding = ActivitySplashscreenBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.getRoot());\r\n    mContentView = binding.fullscreenContent;\r\n    mContentView.getWindowInsetsController().hide(WindowInsets.Type.navigationBars());\r\n```\r\n\r\nHowever, when I click anywhere, the navigationBars() come back.\r\n\r\nIf I do a second click/touch, it disappears again, and this situation is every time.\r\n\r\nAny ideas?","title":"Why does the navigationBars() come back on Fullscreen activity?","body":"<p>I work on Android API 30+, and I want to make a fullscreen app.\nI disabled the <code>navigationBars()</code> here :</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = ActivitySplashscreenBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n    mContentView = binding.fullscreenContent;\n    mContentView.getWindowInsetsController().hide(WindowInsets.Type.navigationBars());\n</code></pre>\n<p>However, when I click anywhere, the navigationBars() come back.</p>\n<p>If I do a second click/touch, it disappears again, and this situation is every time.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","github","jsch","jgit"],"answers":[{"tags":[],"owner":{"account_id":11896030,"reputation":68091,"user_id":8705432,"display_name":"bk2204"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647637901,"creation_date":1647632944,"answer_id":71532474,"question_id":71532284,"body_markdown":"There is [a fork of JSch](https://github.com/mwiede/jsch) which has support for modern algorithms and should be fairly robust.  I know of at least one major organization using it against GitHub with success.\r\n\r\nHowever, note that it disables RSA with SHA-1 support by default, because it&#39;s insecure (which is why GitHub is phasing it out), so if you need to work with sites that don&#39;t support anything else (e.g., Azure DevOps at the moment), you&#39;ll need to set some configuration accordingly.\r\n\r\nYou may also be able to use Apache Mina in conjunction with JGit.  The 5.13 release of JGit supports Mina 2.7.0, which should support modern algorithms.","title":"How to use JGit with GitHub in 2022","body":"<p>There is <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">a fork of JSch</a> which has support for modern algorithms and should be fairly robust.  I know of at least one major organization using it against GitHub with success.</p>\n<p>However, note that it disables RSA with SHA-1 support by default, because it's insecure (which is why GitHub is phasing it out), so if you need to work with sites that don't support anything else (e.g., Azure DevOps at the moment), you'll need to set some configuration accordingly.</p>\n<p>You may also be able to use Apache Mina in conjunction with JGit.  The 5.13 release of JGit supports Mina 2.7.0, which should support modern algorithms.</p>\n"},{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647868984,"creation_date":1647868984,"answer_id":71558337,"question_id":71532284,"body_markdown":"The latest JGit supports Apache MINA which can use ECDSA keys without problems.\r\n\r\nBe wary that JGit 6.x is build for Java 11+. Use the following Maven artifacts:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\r\n                &lt;version&gt;5.13.0.202109080827-r&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.jgit.ssh.apache&lt;/artifactId&gt;\r\n                &lt;version&gt;5.13.0.202109080827-r&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nNo code changes were needed in my use case.","title":"How to use JGit with GitHub in 2022","body":"<p>The latest JGit supports Apache MINA which can use ECDSA keys without problems.</p>\n<p>Be wary that JGit 6.x is build for Java 11+. Use the following Maven artifacts:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\n            &lt;version&gt;5.13.0.202109080827-r&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.jgit.ssh.apache&lt;/artifactId&gt;\n            &lt;version&gt;5.13.0.202109080827-r&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>No code changes were needed in my use case.</p>\n"}],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1374,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71558337,"answer_count":2,"score":1,"last_activity_date":1647868984,"creation_date":1647631730,"question_id":71532284,"body_markdown":"In 2022, GitHub has discontinued DSA and RSA with old signatures.\r\n\r\nUnfortunately, JGit uses JSch which is not getting any updates and will [always offer old signatures with RSA][1] even for &quot;good&quot; keys, and its implementation of [ECDSA/ed25519 will fail on reconnect attempt][2].\r\n\r\nIs JGit usable with GitHub at all - what kind of configuration should I use? I am talking about a combination of key type, configuration settings and code invocations that would lead to reliable work against GitHub.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70668289/connecting-eclipse-jgit-to-github-so-teamcity-may-check-for-changes\r\n  [2]: https://www.eclipse.org/forums/index.php/t/1093889/","title":"How to use JGit with GitHub in 2022","body":"<p>In 2022, GitHub has discontinued DSA and RSA with old signatures.</p>\n<p>Unfortunately, JGit uses JSch which is not getting any updates and will <a href=\"https://stackoverflow.com/questions/70668289/connecting-eclipse-jgit-to-github-so-teamcity-may-check-for-changes\">always offer old signatures with RSA</a> even for &quot;good&quot; keys, and its implementation of <a href=\"https://www.eclipse.org/forums/index.php/t/1093889/\" rel=\"nofollow noreferrer\">ECDSA/ed25519 will fail on reconnect attempt</a>.</p>\n<p>Is JGit usable with GitHub at all - what kind of configuration should I use? I am talking about a combination of key type, configuration settings and code invocations that would lead to reliable work against GitHub.</p>\n"},{"tags":["java","spring-boot","azure-active-directory","principal"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1647864479,"post_id":71556095,"comment_id":126470420,"body_markdown":"Cast to `Authentication` and obtain it, or use the `@AuthenticationPrincipal` on your method argument and use the user class you have.","body":"Cast to <code>Authentication</code> and obtain it, or use the <code>@AuthenticationPrincipal</code> on your method argument and use the user class you have."}],"answers":[{"tags":[],"owner":{"account_id":14735116,"reputation":41,"user_id":10641381,"display_name":"MrrrLuiigii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647868900,"creation_date":1647863679,"answer_id":71557224,"question_id":71556095,"body_markdown":"As stated in this [Baeldung guide][1] you can get access to the principal via the SecurityContextHolder.\r\n\r\nCasting this object to AADOAuth2AuthenticatedPrincipal provides access to the principle properties as follows.\r\n\r\n```\r\nAADOAuth2AuthenticatedPrincipal principal = (AADOAuth2AuthenticatedPrincipal) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\nMap&lt;String, Object&gt; attributes = principal.getAttributes();\r\nString name = String.valueOf(attributes.get(&quot;unique_name&quot;));\r\n```\r\n\r\nAnother option is to use the ```AADOAuth2AuthenticatedPrincipal``` directly in the controller parameters by using the ```@AuthenticationPrincipal``` annotation as pointed out in the comments below.\r\n\r\n```\r\n@GetMapping(&quot;/test&quot;)\r\n    ResponseEntity&lt;String&gt; test(@AuthenticationPrincipal AADOAuth2AuthenticatedPrincipal principal) {\r\n        Map&lt;String, Object&gt; attributes = principal.getAttributes();\r\n        String name = String.valueOf(attributes.get(&quot;unique_name&quot;));\r\n        return ResponseEntity.ok(name);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/get-user-in-spring-security#bean","title":"How to access java.security.Principal attributes inside Spring Boot controller?","body":"<p>As stated in this <a href=\"https://www.baeldung.com/get-user-in-spring-security#bean\" rel=\"nofollow noreferrer\">Baeldung guide</a> you can get access to the principal via the SecurityContextHolder.</p>\n<p>Casting this object to AADOAuth2AuthenticatedPrincipal provides access to the principle properties as follows.</p>\n<pre><code>AADOAuth2AuthenticatedPrincipal principal = (AADOAuth2AuthenticatedPrincipal) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\nMap&lt;String, Object&gt; attributes = principal.getAttributes();\nString name = String.valueOf(attributes.get(&quot;unique_name&quot;));\n</code></pre>\n<p>Another option is to use the <code>AADOAuth2AuthenticatedPrincipal</code> directly in the controller parameters by using the <code>@AuthenticationPrincipal</code> annotation as pointed out in the comments below.</p>\n<pre><code>@GetMapping(&quot;/test&quot;)\n    ResponseEntity&lt;String&gt; test(@AuthenticationPrincipal AADOAuth2AuthenticatedPrincipal principal) {\n        Map&lt;String, Object&gt; attributes = principal.getAttributes();\n        String name = String.valueOf(attributes.get(&quot;unique_name&quot;));\n        return ResponseEntity.ok(name);\n    }\n</code></pre>\n"}],"owner":{"account_id":14735116,"reputation":41,"user_id":10641381,"display_name":"MrrrLuiigii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71557224,"answer_count":1,"score":0,"last_activity_date":1647868900,"creation_date":1647858654,"question_id":71556095,"body_markdown":"I have an Angular frontend which prompts the user to login using Microsoft Azure Active Directory. The correct headers are added to the request when the user accesses my API.\r\n\r\nMy API is a Spring Boot Rest API secured according to this ([Protect a resource server/API][1]) guide.\r\n\r\nMy controller has the following method using the java.security.Principal interface as a parameter.\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    ResponseEntity&lt;Object&gt; test(Principal principal) {\r\n        return ResponseEntity.ok(principal);\r\n    }\r\n\r\nWhen I set a breakpoint I see the attributes I want to get like ***principal.attributes.unique_name***, but I am not able to access those attributes through the Principal interface. Any idea on how to achieve this?\r\n\r\nPS: I&#39;ve had a look at similar questions like this one ([How to get all attributes from java.security.Principal?][2]), but their answers were not able to help me... \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide#protect-a-resource-serverapi\r\n  [2]: https://stackoverflow.com/questions/58463803/how-to-get-all-attributes-from-java-security-principal","title":"How to access java.security.Principal attributes inside Spring Boot controller?","body":"<p>I have an Angular frontend which prompts the user to login using Microsoft Azure Active Directory. The correct headers are added to the request when the user accesses my API.</p>\n<p>My API is a Spring Boot Rest API secured according to this (<a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide#protect-a-resource-serverapi\" rel=\"nofollow noreferrer\">Protect a resource server/API</a>) guide.</p>\n<p>My controller has the following method using the java.security.Principal interface as a parameter.</p>\n<pre><code>@GetMapping(&quot;/test&quot;)\nResponseEntity&lt;Object&gt; test(Principal principal) {\n    return ResponseEntity.ok(principal);\n}\n</code></pre>\n<p>When I set a breakpoint I see the attributes I want to get like <em><strong>principal.attributes.unique_name</strong></em>, but I am not able to access those attributes through the Principal interface. Any idea on how to achieve this?</p>\n<p>PS: I've had a look at similar questions like this one (<a href=\"https://stackoverflow.com/questions/58463803/how-to-get-all-attributes-from-java-security-principal\">How to get all attributes from java.security.Principal?</a>), but their answers were not able to help me...</p>\n"},{"tags":["java","spring-boot","hibernate","jpql"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647860317,"post_id":71556418,"comment_id":126468882,"body_markdown":"P_CC_CASE -&gt; this is the tablename you are looking for.","body":"P_CC_CASE -&gt; this is the tablename you are looking for."},{"owner":{"account_id":1856813,"reputation":3135,"user_id":1682200,"accept_rate":51,"display_name":"NDeveloper"},"score":0,"creation_date":1647861421,"post_id":71556418,"comment_id":126469290,"body_markdown":"@Gurkanİlleez: Yes, but while writing JPQL we refer the Entity class not the actual Table Name. I don&#39;t think that is the problem, because I am getting the results when I am running only the inner query, i.e &quot;SELECT c from Cases c where c.caseType IN (:caseCategories) OR c.caseType IS NULL&quot; of type Cases.","body":"@Gurkanİlleez: Yes, but while writing JPQL we refer the Entity class not the actual Table Name. I don&#39;t think that is the problem, because I am getting the results when I am running only the inner query, i.e &quot;SELECT c from Cases c where c.caseType IN (:caseCategories) OR c.caseType IS NULL&quot; of type Cases."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647867598,"post_id":71556418,"comment_id":126471629,"body_markdown":"I forget to write. \\&quot;P_CC_CASE\\&quot; this means table name is &quot;P_CC_CASE&quot; not P_CC_CASE. Please don&#39;t use \\&quot; this character to add string to name","body":"I forget to write. \\&quot;P_CC_CASE\\&quot; this means table name is &quot;P_CC_CASE&quot; not P_CC_CASE. Please don&#39;t use \\&quot; this character to add string to name"},{"owner":{"account_id":1856813,"reputation":3135,"user_id":1682200,"accept_rate":51,"display_name":"NDeveloper"},"score":0,"creation_date":1647868661,"post_id":71556418,"comment_id":126472038,"body_markdown":"No actually, I am looking for an answer for Subquery on Select clause in JPQL. Quotes I am using to match the case in Postgres DB, Tables are case sensitive here :)","body":"No actually, I am looking for an answer for Subquery on Select clause in JPQL. Quotes I am using to match the case in Postgres DB, Tables are case sensitive here :)"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647868732,"post_id":71556418,"comment_id":126472078,"body_markdown":"Why are you using nativeQuery true then? It is not JPQL","body":"Why are you using nativeQuery true then? It is not JPQL"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647868766,"post_id":71556418,"comment_id":126472093,"body_markdown":"@Query(value = GET_CASES_BY_PARAMS)\nList&lt;Cases&gt; searchCases(@Param(&quot;caseCategories&quot;) List&lt;String&gt; caseCategories);","body":"@Query(value = GET_CASES_BY_PARAMS) List&lt;Cases&gt; searchCases(@Param(&quot;caseCategories&quot;) List&lt;String&gt; caseCategories);"},{"owner":{"account_id":1856813,"reputation":3135,"user_id":1682200,"accept_rate":51,"display_name":"NDeveloper"},"score":0,"creation_date":1647874149,"post_id":71556418,"comment_id":126474414,"body_markdown":"@Query(value = GET_CASES_BY_PARAMS) List&lt;Cases&gt; searchCases(@Param(&quot;caseCategories&quot;) List&lt;String&gt; caseCategories);\n\nwithout nativeQuery=true this giving compilation error.\n\nANY HELP ON SUBQUERY ON SELECT CLAUSE IN JPA? :( \nNot getting much example for the query to implement\n\n&lt;select T1.* from (SELECT * FROM &quot;P_CC_CASE&quot; WHERE &quot;CASE_TYPE&quot; IN (&#39;GAS&#39;,&#39;HEAT&#39;,&#39;ELECTRICITY&#39;) OR &quot;CASE_TYPE&quot; IS NULL) as T1; &gt;","body":"@Query(value = GET_CASES_BY_PARAMS) List&lt;Cases&gt; searchCases(@Param(&quot;caseCategories&quot;) List&lt;String&gt; caseCategories);  without nativeQuery=true this giving compilation error.  ANY HELP ON SUBQUERY ON SELECT CLAUSE IN JPA? :(  Not getting much example for the query to implement  &lt;select T1.* from (SELECT * FROM &quot;P_CC_CASE&quot; WHERE &quot;CASE_TYPE&quot; IN (&#39;GAS&#39;,&#39;HEAT&#39;,&#39;ELECTRICITY&#39;) OR &quot;CASE_TYPE&quot; IS NULL) as T1; &gt;"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647868885,"creation_date":1647867737,"answer_id":71558064,"question_id":71556418,"body_markdown":"    SELECT T1.* FROM (SELECT * FROM &quot;P_CC_CASE&quot; WHERE &quot;CASE_TYPE&quot; IN (&#39;GAS&#39;,&#39;HEAT&#39;,&#39;ELECTRICITY&#39;) OR &quot;CASE_TYPE&quot; IS NULL) T1;\r\n\r\nPlease just change @Column and @Entity&#39;s attribute of value to @Column(&quot;column&quot;)and @Entity(&quot;P_CC_CASE&quot;)\r\n\r\nTable name is &quot;P_CC_CASE&quot; with double quota. You need to write P_CC_CASE at @Entity annotation\r\n\r\nSELECT * FROM &quot;P_CC_CASE&quot; means table name is string so it can not find it.\r\n\r\n\r\n\r\n\r\n    package com.ericsson.smart.meter.smartmeter.model;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Transient;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;P_CC_CASE&quot;, schema = &quot;public&quot;)\r\n    \r\n    public class Cases {\r\n    \r\n    @Id\r\n    @Column(name = &quot;CASE_ID&quot;)\r\n    private long caseId;\r\n    \r\n    @Column(name = &quot;CASE_FOCUS&quot;)\r\n    private String caseFocus;\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\n\r\n\r\nAlso there is another problem. If nativeQuery is true then you can not use jqpl.\r\n\r\n    @Query(value = GET_CASES_BY_PARAMS) List&lt;Cases&gt; searchCases(@Param(&quot;caseCategories&quot;) List&lt;String&gt; caseCategories); ","title":"JPQL Subquery example throws error relation &quot;table_name&quot; does not exist, Spring Boot","body":"<pre><code>SELECT T1.* FROM (SELECT * FROM &quot;P_CC_CASE&quot; WHERE &quot;CASE_TYPE&quot; IN ('GAS','HEAT','ELECTRICITY') OR &quot;CASE_TYPE&quot; IS NULL) T1;\n</code></pre>\n<p>Please just change @Column and @Entity's attribute of value to @Column(&quot;column&quot;)and @Entity(&quot;P_CC_CASE&quot;)</p>\n<p>Table name is &quot;P_CC_CASE&quot; with double quota. You need to write P_CC_CASE at @Entity annotation</p>\n<p>SELECT * FROM &quot;P_CC_CASE&quot; means table name is string so it can not find it.</p>\n<pre><code>package com.ericsson.smart.meter.smartmeter.model;\nimport java.util.Date;\nimport java.util.List;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.persistence.Transient;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;P_CC_CASE&quot;, schema = &quot;public&quot;)\n\npublic class Cases {\n\n@Id\n@Column(name = &quot;CASE_ID&quot;)\nprivate long caseId;\n\n@Column(name = &quot;CASE_FOCUS&quot;)\nprivate String caseFocus;\n\n...\n\n}\n</code></pre>\n<p>Also there is another problem. If nativeQuery is true then you can not use jqpl.</p>\n<pre><code>@Query(value = GET_CASES_BY_PARAMS) List&lt;Cases&gt; searchCases(@Param(&quot;caseCategories&quot;) List&lt;String&gt; caseCategories); \n</code></pre>\n"}],"owner":{"account_id":1856813,"reputation":3135,"user_id":1682200,"accept_rate":51,"display_name":"NDeveloper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647868885,"creation_date":1647860123,"question_id":71556418,"body_markdown":"I am trying to implement a Subquery within a query example in Spring Boot, JPQL but getting error\r\n\r\n&gt; 2022-03-21 16:13:20.582  WARN 23580 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n2022-03-21 16:13:20.582 ERROR 23580 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;cases&quot; does not exist\r\n  Position: 30\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy464.searchCases(Unknown Source)\r\n\tat com.ericsson.smart.meter.smartmeter.service.Impl.CaseServiceImpl.searchCases(CaseServiceImpl.java:125)\r\n\tat com.ericsson.smart.meter.smartmeter.controller.CaseController.searchCases(CaseController.java:187)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2181)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)\r\n\tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 63 more\r\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;cases&quot; does not exist\r\n  Position: 30\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2674)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2364)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:354)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:484)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:404)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:162)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\t... 94 more\r\n\r\n\r\nMy entity table structure is below:\r\n\r\n    package com.ericsson.smart.meter.smartmeter.model;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Transient;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;\\&quot;P_CC_CASE\\&quot;&quot;, schema = &quot;public&quot;)\r\n    \r\n    public class Cases {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;\\&quot;CASE_ID\\&quot;&quot;)\r\n\tprivate long caseId;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_FOCUS\\&quot;&quot;)\r\n\tprivate String caseFocus;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_TYPE\\&quot;&quot;)\r\n\tprivate String caseType;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_CATEGORY\\&quot;&quot;)\r\n\tprivate String caseCategory;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_RPT_CATEGORY\\&quot;&quot;)\r\n\tprivate String caseRptCategory;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_STATUS\\&quot;&quot;)\r\n\tprivate String caseStatus;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_CUST_SEVERITY\\&quot;&quot;)\r\n\tprivate String caseCustSeverity;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_EON_SEVERITY\\&quot;&quot;)\r\n\tprivate String caseeonSeverity;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_PRIORITY\\&quot;&quot;)\r\n\tprivate String casePriority;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_ISSUE\\&quot;&quot;)\r\n\tprivate String caseIssue;\r\n\r\n\t@Column(name = &quot;\\&quot;CREATED_ON\\&quot;&quot;)\r\n\tprivate Date createdOn;\r\n\r\n\t@Column(name = &quot;\\&quot;EXPECTED_RESPONSE_DATE\\&quot;&quot;)\r\n\tprivate Date expectedResponseDate;\r\n\r\n\t@Column(name = &quot;\\&quot;LAST_CONTACT_DATE\\&quot;&quot;)\r\n\tprivate Date lastContactDate;\r\n\r\n\t@Column(name = &quot;\\&quot;FIRST_RESPONSE_TO_CUST\\&quot;&quot;)\r\n\tprivate Date firstResponseToCust;\r\n\r\n\t@Column(name = &quot;\\&quot;CONTACT_DATE\\&quot;&quot;)\r\n\tprivate Date contactDate;\r\n\r\n\t@Column(name = &quot;\\&quot;CREATED_BY\\&quot;&quot;)\r\n\tprivate String createdBy;\r\n\r\n\t@Column(name = &quot;\\&quot;ORGANIZATION_ID\\&quot;&quot;)\r\n\tprivate String organizationId;\r\n\r\n\t@Column(name = &quot;\\&quot;QUEUE\\&quot;&quot;)\r\n\tprivate String queue;\r\n\r\n\t@Column(name = &quot;\\&quot;CHANGED_BY\\&quot;&quot;)\r\n\tprivate String changedBy;\r\n\r\n\t@Column(name = &quot;\\&quot;EQUIPMENT_ID\\&quot;&quot;)\r\n\tprivate String equipmentId;\r\n\r\n\t@Column(name = &quot;\\&quot;EVENT_ID\\&quot;&quot;)\r\n\tprivate String eventId;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_TITLE\\&quot;&quot;)\r\n\tprivate String caseTitle;\r\n\r\n\t@Column(name = &quot;\\&quot;CASE_DESC\\&quot;&quot;)\r\n\tprivate String caseDesc;\r\n\r\n\t@Column(name = &quot;\\&quot;SUPPORT_KEY\\&quot;&quot;)\r\n\tprivate String supportKey;\r\n\r\n\t@Column(name = &quot;\\&quot;OBJEVENTS\\&quot;&quot;)\r\n\tprivate String objevents;\r\n\r\n\t@Column(name = &quot;\\&quot;POD\\&quot;&quot;)\r\n\tprivate String pod;\r\n\r\n\t@Column(name = &quot;\\&quot;CHNAGED_DATE\\&quot;&quot;)\r\n\tprivate Date chnagedDate;\r\n    \r\n    }\r\n\r\nThe Query I am trying to implement is as follows:\r\n\r\n    SELECT T1.* FROM (SELECT * FROM &quot;P_CC_CASE&quot; WHERE &quot;CASE_TYPE&quot; IN (&#39;GAS&#39;,&#39;HEAT&#39;,&#39;ELECTRICITY&#39;) OR &quot;CASE_TYPE&quot; IS NULL) T1;\r\n\r\nLike: `public static final String GET_CASES_BY_PARAMS = &quot;SELECT t from (SELECT c from Cases c where c.caseType IN (:caseCategories) OR c.caseType IS NULL) t&quot;;`\r\n\r\n    @Query(value = GET_CASES_BY_PARAMS, nativeQuery = true)\r\n\tList&lt;Cases&gt; searchCases(@Param(&quot;caseCategories&quot;) List&lt;String&gt; caseCategories);\r\n\r\nI am not able to understand that the inner query is also returning a set of type Cases and so does the entire query, but when writing together gives an error. Can anyone help, how can I implement this?\r\n\r\nThanks in advance.","title":"JPQL Subquery example throws error relation &quot;table_name&quot; does not exist, Spring Boot","body":"<p>I am trying to implement a Subquery within a query example in Spring Boot, JPQL but getting error</p>\n<blockquote>\n<p>2022-03-21 16:13:20.582  WARN 23580 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2022-03-21 16:13:20.582 ERROR 23580 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;cases&quot; does not exist\nPosition: 30\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\nat com.sun.proxy.$Proxy464.searchCases(Unknown Source)\nat com.ericsson.smart.meter.smartmeter.service.Impl.CaseServiceImpl.searchCases(CaseServiceImpl.java:125)\nat com.ericsson.smart.meter.smartmeter.controller.CaseController.searchCases(CaseController.java:187)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\nat org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\nat org.hibernate.loader.Loader.doQuery(Loader.java:956)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\nat org.hibernate.loader.Loader.doList(Loader.java:2868)\nat org.hibernate.loader.Loader.doList(Loader.java:2850)\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\nat org.hibernate.loader.Loader.list(Loader.java:2677)\nat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\nat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2181)\nat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)\nat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\nat org.hibernate.query.Query.getResultList(Query.java:165)\nat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)\nat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n... 63 more\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;cases&quot; does not exist\nPosition: 30\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2674)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2364)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:354)\nat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:484)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:404)\nat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:162)\nat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n... 94 more</p>\n</blockquote>\n<p>My entity table structure is below:</p>\n<pre><code>package com.ericsson.smart.meter.smartmeter.model;\nimport java.util.Date;\nimport java.util.List;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.persistence.Transient;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;\\&quot;P_CC_CASE\\&quot;&quot;, schema = &quot;public&quot;)\n\npublic class Cases {\n\n@Id\n@Column(name = &quot;\\&quot;CASE_ID\\&quot;&quot;)\nprivate long caseId;\n\n@Column(name = &quot;\\&quot;CASE_FOCUS\\&quot;&quot;)\nprivate String caseFocus;\n\n@Column(name = &quot;\\&quot;CASE_TYPE\\&quot;&quot;)\nprivate String caseType;\n\n@Column(name = &quot;\\&quot;CASE_CATEGORY\\&quot;&quot;)\nprivate String caseCategory;\n\n@Column(name = &quot;\\&quot;CASE_RPT_CATEGORY\\&quot;&quot;)\nprivate String caseRptCategory;\n\n@Column(name = &quot;\\&quot;CASE_STATUS\\&quot;&quot;)\nprivate String caseStatus;\n\n@Column(name = &quot;\\&quot;CASE_CUST_SEVERITY\\&quot;&quot;)\nprivate String caseCustSeverity;\n\n@Column(name = &quot;\\&quot;CASE_EON_SEVERITY\\&quot;&quot;)\nprivate String caseeonSeverity;\n\n@Column(name = &quot;\\&quot;CASE_PRIORITY\\&quot;&quot;)\nprivate String casePriority;\n\n@Column(name = &quot;\\&quot;CASE_ISSUE\\&quot;&quot;)\nprivate String caseIssue;\n\n@Column(name = &quot;\\&quot;CREATED_ON\\&quot;&quot;)\nprivate Date createdOn;\n\n@Column(name = &quot;\\&quot;EXPECTED_RESPONSE_DATE\\&quot;&quot;)\nprivate Date expectedResponseDate;\n\n@Column(name = &quot;\\&quot;LAST_CONTACT_DATE\\&quot;&quot;)\nprivate Date lastContactDate;\n\n@Column(name = &quot;\\&quot;FIRST_RESPONSE_TO_CUST\\&quot;&quot;)\nprivate Date firstResponseToCust;\n\n@Column(name = &quot;\\&quot;CONTACT_DATE\\&quot;&quot;)\nprivate Date contactDate;\n\n@Column(name = &quot;\\&quot;CREATED_BY\\&quot;&quot;)\nprivate String createdBy;\n\n@Column(name = &quot;\\&quot;ORGANIZATION_ID\\&quot;&quot;)\nprivate String organizationId;\n\n@Column(name = &quot;\\&quot;QUEUE\\&quot;&quot;)\nprivate String queue;\n\n@Column(name = &quot;\\&quot;CHANGED_BY\\&quot;&quot;)\nprivate String changedBy;\n\n@Column(name = &quot;\\&quot;EQUIPMENT_ID\\&quot;&quot;)\nprivate String equipmentId;\n\n@Column(name = &quot;\\&quot;EVENT_ID\\&quot;&quot;)\nprivate String eventId;\n\n@Column(name = &quot;\\&quot;CASE_TITLE\\&quot;&quot;)\nprivate String caseTitle;\n\n@Column(name = &quot;\\&quot;CASE_DESC\\&quot;&quot;)\nprivate String caseDesc;\n\n@Column(name = &quot;\\&quot;SUPPORT_KEY\\&quot;&quot;)\nprivate String supportKey;\n\n@Column(name = &quot;\\&quot;OBJEVENTS\\&quot;&quot;)\nprivate String objevents;\n\n@Column(name = &quot;\\&quot;POD\\&quot;&quot;)\nprivate String pod;\n\n@Column(name = &quot;\\&quot;CHNAGED_DATE\\&quot;&quot;)\nprivate Date chnagedDate;\n\n}\n</code></pre>\n<p>The Query I am trying to implement is as follows:</p>\n<pre><code>SELECT T1.* FROM (SELECT * FROM &quot;P_CC_CASE&quot; WHERE &quot;CASE_TYPE&quot; IN ('GAS','HEAT','ELECTRICITY') OR &quot;CASE_TYPE&quot; IS NULL) T1;\n</code></pre>\n<p>Like: <code>public static final String GET_CASES_BY_PARAMS = &quot;SELECT t from (SELECT c from Cases c where c.caseType IN (:caseCategories) OR c.caseType IS NULL) t&quot;;</code></p>\n<pre><code>@Query(value = GET_CASES_BY_PARAMS, nativeQuery = true)\nList&lt;Cases&gt; searchCases(@Param(&quot;caseCategories&quot;) List&lt;String&gt; caseCategories);\n</code></pre>\n<p>I am not able to understand that the inner query is also returning a set of type Cases and so does the entire query, but when writing together gives an error. Can anyone help, how can I implement this?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":1,"creation_date":1647868564,"post_id":71558181,"comment_id":126472000,"body_markdown":"This build error seems specific to the readium dependency which you are using in your project, check the implementation guide for the correct library path for project","body":"This build error seems specific to the readium dependency which you are using in your project, check the implementation guide for the correct library path for project"},{"owner":{"account_id":24630140,"reputation":1,"user_id":18529459,"display_name":"Jason L"},"score":0,"creation_date":1647869689,"post_id":71558181,"comment_id":126472451,"body_markdown":"I&#39;m sorry, but where can I check the implementation guide? I have search at jetpack &amp; github but I can&#39;t find any :v","body":"I&#39;m sorry, but where can I check the implementation guide? I have search at jetpack &amp; github but I can&#39;t find any :v"},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1647870055,"post_id":71558181,"comment_id":126472606,"body_markdown":"You can raise an issue on the corresponding GitHub library for your build error. First check if there exists same open/close issue on GitHub","body":"You can raise an issue on the corresponding GitHub library for your build error. First check if there exists same open/close issue on GitHub"}],"owner":{"account_id":24630140,"reputation":1,"user_id":18529459,"display_name":"Jason L"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647868769,"creation_date":1647868268,"question_id":71558181,"body_markdown":"```\r\nError Code : FAILURE: Build failed with an exception.\r\n```\r\n\r\n* What went wrong:\r\n```\r\nExecution failed for task &#39;:app:dataBindingMergeDependencyArtifactsDebug&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not resolve org.readium:r2-parser:0.1.5.\r\n     Required by:\r\n         project :app &gt; com.folioreader:folioreader:0.3.9\r\n         project :app &gt; org.readium:r2-fetcher:0.1.5\r\n      &gt; Skipped due to earlier error\r\n   &gt; Could not resolve org.readium:r2-server:0.1.5.\r\n     Required by:\r\n         project :app &gt; com.folioreader:folioreader:0.3.9\r\n      &gt; Skipped due to earlier error\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 26s\r\n1 actionable task: 1 executed\r\n```\r\n\r\nMy gradle.build :\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.3&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n repositories {\r\n        google()\r\n        jcenter()\r\n        maven {\r\n           url &quot;http://dl.bintray.com/mobisystech/maven&quot;}\r\n    }\r\n}\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\n\r\n&amp; also the one in &quot;app&quot; folder\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    signingConfigs {\r\n    }\r\n    compileSdkVersion 27\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.suusoft.ebook&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 27\r\n        versionCode 4\r\n        versionName &#39;1.3&#39;\r\n        vectorDrawables.useSupportLibrary = true\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            debuggable false\r\n\r\n        }\r\n    }\r\n    buildFeatures {\r\n    dataBinding true\r\n\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n\r\n}\r\n\r\nrepositories {\r\n    maven { url &quot;https://jitpack.io&quot; }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.android.support:support-vector-drawable:27.1.1&#39;\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;com.android.support:appcompat-v7:27.1.1&#39;\r\n    implementation &#39;com.android.support:design:27.1.1&#39;\r\n    implementation &#39;com.android.support:support-v4:27.1.1&#39;\r\n    implementation &#39;com.android.support:cardview-v7:27.1.1&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;com.github.lsjwzh.RecyclerViewPager:lib:v1.1.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:16.0.0&#39;\r\n    implementation &#39;me.relex:circleindicator:1.2.1@aar&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n    implementation &#39;com.joooonho:selectableroundedimageview:1.0.1&#39;\r\n    implementation &#39;com.github.barteksc:android-pdf-viewer:2.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.6.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.devbrackets.android:exomedia:4.1.0&#39;\r\n    implementation &#39;org.greenrobot:eventbus:3.1.1&#39;\r\n    implementation &#39;com.folioreader:folioreader:0.3.9&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.2.1&#39;)\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.0.2&#39;\r\n}\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\n\r\nI&#39;ve tried several ways including :\r\n- Reinstall Android Studio and tried another version\r\n- Allow auto detect proxy (but i think I&#39;m not connected to any proxies)\r\n- Invalidate / Restart IDE\r\n\r\nIs there something I miss? Or is there some repository which is out of date / wrong version? Or even wrong code? Please help me, any answer would be appreciated ^_^","title":"How do I resolve this error in Android Studio?","body":"<pre><code>Error Code : FAILURE: Build failed with an exception.\n</code></pre>\n<ul>\n<li>What went wrong:</li>\n</ul>\n<pre><code>Execution failed for task ':app:dataBindingMergeDependencyArtifactsDebug'.\n&gt; Could not resolve all files for configuration ':app:debugCompileClasspath'.\n   &gt; Could not resolve org.readium:r2-parser:0.1.5.\n     Required by:\n         project :app &gt; com.folioreader:folioreader:0.3.9\n         project :app &gt; org.readium:r2-fetcher:0.1.5\n      &gt; Skipped due to earlier error\n   &gt; Could not resolve org.readium:r2-server:0.1.5.\n     Required by:\n         project :app &gt; com.folioreader:folioreader:0.3.9\n      &gt; Skipped due to earlier error\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 26s\n1 actionable task: 1 executed\n</code></pre>\n<p>My gradle.build :</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.3'\n        classpath 'com.google.gms:google-services:4.3.10'\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n repositories {\n        google()\n        jcenter()\n        maven {\n           url &quot;http://dl.bintray.com/mobisystech/maven&quot;}\n    }\n}\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>&amp; also the one in &quot;app&quot; folder</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    signingConfigs {\n    }\n    compileSdkVersion 27\n\n    defaultConfig {\n        applicationId &quot;com.suusoft.ebook&quot;\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 4\n        versionName '1.3'\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            debuggable false\n\n        }\n    }\n    buildFeatures {\n    dataBinding true\n\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n\n}\n\nrepositories {\n    maven { url &quot;https://jitpack.io&quot; }\n}\n\ndependencies {\n    implementation 'com.android.support:support-vector-drawable:27.1.1'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.android.support:support-v4:27.1.1'\n    implementation 'com.android.support:cardview-v7:27.1.1'\n    implementation 'com.google.code.gson:gson:2.8.6'\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'com.github.lsjwzh.RecyclerViewPager:lib:v1.1.1'\n    implementation 'com.google.android.gms:play-services-auth:16.0.0'\n    implementation 'me.relex:circleindicator:1.2.1@aar'\n    implementation 'com.squareup.picasso:picasso:2.5.2'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n    implementation 'com.joooonho:selectableroundedimageview:1.0.1'\n    implementation 'com.github.barteksc:android-pdf-viewer:2.1.0'\n    implementation 'com.google.android.gms:play-services-ads:20.6.0'\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.devbrackets.android:exomedia:4.1.0'\n    implementation 'org.greenrobot:eventbus:3.1.1'\n    implementation 'com.folioreader:folioreader:0.3.9'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation platform('com.google.firebase:firebase-bom:29.2.1')\n    implementation 'com.google.firebase:firebase-messaging:23.0.2'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>I've tried several ways including :</p>\n<ul>\n<li>Reinstall Android Studio and tried another version</li>\n<li>Allow auto detect proxy (but i think I'm not connected to any proxies)</li>\n<li>Invalidate / Restart IDE</li>\n</ul>\n<p>Is there something I miss? Or is there some repository which is out of date / wrong version? Or even wrong code? Please help me, any answer would be appreciated ^_^</p>\n"},{"tags":["java","spring","spring-boot","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647868610,"creation_date":1647868610,"answer_id":71558259,"question_id":71556368,"body_markdown":"You cannot delete entities with annotations or configuration, use the `RabbitAdmin.delete*()` methods to remove them like in that answer - the management template was used to list the bindings, the `RabbitAdmin` (`amqpAdmin`) does the removals.","title":"Spring AMQP: remove old bindings and queues","body":"<p>You cannot delete entities with annotations or configuration, use the <code>RabbitAdmin.delete*()</code> methods to remove them like in that answer - the management template was used to list the bindings, the <code>RabbitAdmin</code> (<code>amqpAdmin</code>) does the removals.</p>\n"}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71558259,"answer_count":1,"score":0,"last_activity_date":1647868610,"creation_date":1647859926,"question_id":71556368,"body_markdown":"I’m using Spring AMQP and Spring Boot `@Configuration` and `@Bean` annotations in order to create all required queues, exchanges and bindings.\r\n\r\n```java\r\n@Bean\r\npublic Queue queue() {\r\n    return new Queue(&quot;my_old_queue&quot;, true, false, false);\r\n}\r\n\r\n@Bean\r\npublic Exchange exchange() {\r\n    return new DirectExchange(&quot;MY_OLD_EXCHANGE&quot;);\r\n}\r\n\r\n@Bean\r\npublic Binding binding() {\r\n    return BindingBuilder.bind(queue())\r\n                         .to(exchange())\r\n                         .with(&quot;old_binding&quot;)\r\n                         .noargs();\r\n}\r\n```\r\n\r\n\r\nBut I’ve faced with a problem of upgrading my topology:\r\n1. I wanna add a new queue/binding/exchange\r\n2. And remove an old queue/binding/exchange (even if it was durable entity).\r\n\r\nDoes some annotation exists for removing or unbinding (like `@Unbind`)?\r\nI’ve seen the [example](https://stackoverflow.com/questions/39275135/spring-amqp-remove-all-bindings-for-specific-queue) where `RabbitManagementTemplate`  was suggested, but it’s a completely different way of configuration - I wanna keep everything in the single @Configuration class and use annotations or config beans only (is it possible?). \r\nDoes some common pattern exists for creating/removing and updating rabbit topology (maybe I missed something)? ","title":"Spring AMQP: remove old bindings and queues","body":"<p>I’m using Spring AMQP and Spring Boot <code>@Configuration</code> and <code>@Bean</code> annotations in order to create all required queues, exchanges and bindings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Queue queue() {\n    return new Queue(&quot;my_old_queue&quot;, true, false, false);\n}\n\n@Bean\npublic Exchange exchange() {\n    return new DirectExchange(&quot;MY_OLD_EXCHANGE&quot;);\n}\n\n@Bean\npublic Binding binding() {\n    return BindingBuilder.bind(queue())\n                         .to(exchange())\n                         .with(&quot;old_binding&quot;)\n                         .noargs();\n}\n</code></pre>\n<p>But I’ve faced with a problem of upgrading my topology:</p>\n<ol>\n<li>I wanna add a new queue/binding/exchange</li>\n<li>And remove an old queue/binding/exchange (even if it was durable entity).</li>\n</ol>\n<p>Does some annotation exists for removing or unbinding (like <code>@Unbind</code>)?\nI’ve seen the <a href=\"https://stackoverflow.com/questions/39275135/spring-amqp-remove-all-bindings-for-specific-queue\">example</a> where <code>RabbitManagementTemplate</code>  was suggested, but it’s a completely different way of configuration - I wanna keep everything in the single @Configuration class and use annotations or config beans only (is it possible?).\nDoes some common pattern exists for creating/removing and updating rabbit topology (maybe I missed something)?</p>\n"},{"tags":["java","pdf","jasper-reports","dynamic-jasper"],"comments":[{"owner":{"account_id":1020340,"reputation":349,"user_id":1030866,"display_name":"Dj Mamana"},"score":3,"creation_date":1647607407,"post_id":71495136,"comment_id":126419114,"body_markdown":"The code looks good. Maybe you should decouple the web/http code from the report logic to troubleshoot in a more slightly isolated way. Say, refactor this logic so that this report generation  method becomes a service which does not know of the web/http at all, it receives business logic params and only returns a byteArray, then troubleshoot in isolation (maybe a test)","body":"The code looks good. Maybe you should decouple the web/http code from the report logic to troubleshoot in a more slightly isolated way. Say, refactor this logic so that this report generation  method becomes a service which does not know of the web/http at all, it receives business logic params and only returns a byteArray, then troubleshoot in isolation (maybe a test)"}],"answers":[{"tags":[],"owner":{"account_id":528341,"reputation":416,"user_id":1783452,"display_name":"Dr BDO Adams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647868549,"creation_date":1647867722,"answer_id":71558059,"question_id":71495136,"body_markdown":"File download is corrupt. When I write the output directly to a file via fileOutputStream the above code works, and produces a report table.\r\n\r\nFor corrupt downloads, see here, https://stackoverflow.com/questions/34676037/how-to-return-binary-data-instead-of-base64-encoded-byte-in-spring-mvc-rest-co","title":"Trying to export Dynamic-Jasper Report to PDF from Spring Boot 1.5 But Result is a Blank PDF","body":"<p>File download is corrupt. When I write the output directly to a file via fileOutputStream the above code works, and produces a report table.</p>\n<p>For corrupt downloads, see here, <a href=\"https://stackoverflow.com/questions/34676037/how-to-return-binary-data-instead-of-base64-encoded-byte-in-spring-mvc-rest-co\">How to return binary data instead of base64 encoded byte[] in spring mvc rest controller</a></p>\n"}],"owner":{"account_id":528341,"reputation":416,"user_id":1783452,"display_name":"Dr BDO Adams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1367,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647868549,"creation_date":1647425324,"question_id":71495136,"body_markdown":"I am try to export a PDF based on an Dynamic Jasper Report, using gradle setting.\r\n\r\n    \r\nbuild.gradle:\t\r\n\r\n    compile (group: &#39;net.sf.jasperreports&#39;, name: &#39;jasperreports&#39;, version: &#39;6.18.1&#39;)\r\n    \timplementation group: &#39;ar.com.fdvs&#39;, name: &#39;DynamicJasper&#39;, version: &#39;5.3.3&#39;\r\n    \timplementation group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;4.1.1&#39;\r\n    \t// compile group: &#39;com.lowagie&#39;, name: &#39;itext&#39;, version:&#39;2.1.7.js9&#39;\r\n    \truntime files(&#39;libs/itext-2.1.7.js9.jar&#39;)\r\n\r\nThe Java code below, always exports an blank PDF page, if I export to CSV (from Japser), I can see the report generated with the correct fields. How do I fix to have the PDF correctly generated? Thanks in advance.\r\n\r\n       private void setupPdfExport(String format, HttpServletResponse response, ActivePatientsData data, ReportCriteriaFormSupport support, String currencySymbol, ReportCriteriaForm reportCriteriaForm, PortalSecurityPrinciple principle) throws Exception {\r\n    \r\n            String csvFileName = &quot;Active_patients.&quot;+format;\r\n    //        response.setContentType(format.equals(&quot;pdf&quot;)?&quot;application/pdf&quot;:\r\n    //                format.equals(&quot;xsls&quot;)? &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot; : &quot;application/vnd.oasis.opendocument.spreadsheet&quot;);\r\n            response.setContentType(&quot;application/octet-stream&quot;);\r\n            String headerKey = &quot;Content-Disposition&quot;;\r\n            String headerValue = String.format(&quot;attachment; filename=\\&quot;%s\\&quot;&quot;, csvFileName);\r\n            response.setHeader(headerKey, headerValue);\r\n    \r\n    \r\n            List&lt;List&lt;String&gt;&gt; outputRows = getCsv(false, data, support, reportCriteriaForm, principle, codesToNames);\r\n    \r\n    \r\n            List&lt;String&gt; headers = createHeadings(data, false);\r\n    \r\n    \r\n    \r\n            FastReportBuilder drb = new FastReportBuilder();\r\n            String[] columnNames = headers.toArray(new String[0]);\r\n    \r\n    \r\n            Style headerStyle = new Style();\r\n            Font font = new Font(10, &quot;Arial&quot;, true, false, false);\r\n            headerStyle.setFont(font);\r\n            headerStyle.setHorizontalAlign(HorizontalAlign.CENTER);\r\n            headerStyle.setVerticalAlign(VerticalAlign.TOP);\r\n            headerStyle.setBorder(Border.PEN_1_POINT());\r\n            headerStyle.setBackgroundColor(Color.WHITE);\r\n            headerStyle.setBorderColor(Color.BLACK);\r\n            headerStyle.setTextColor(Color.BLACK);\r\n            headerStyle.setTransparency(Transparency.OPAQUE);\r\n    \r\n            drb      .setDetailHeight(30)\r\n                    .setReportName(&quot;Active Patients&quot;)\r\n                    .setTitle(&quot;Active Patients&quot;)\r\n                    .setSubtitle(&quot;This report was generated at &quot; + new Date())\r\n                    .setPageSizeAndOrientation(Page.Page_A4_Landscape())\r\n                    .setWhenNoData(&quot;No Data&quot;, headerStyle)\r\n                    .setUseFullPageWidth(true)\r\n                    .setDetailHeight(15)\t\t//defines the height for each record of the report\r\n                    .setMargins(30, 20, 30, 15)\t\t//define the margin space for each side (top, bottom, left and right)\r\n                    .setDefaultStyles(headerStyle, headerStyle, headerStyle, headerStyle)\r\n            ;\r\n    \r\n    \r\n    //        drb.setTemplateFile(file.getAbsolutePath(), true, true, true, true);\r\n    \r\n            for(int i=0; i&lt;columnNames.length; i++){\r\n                drb.addColumn(columnNames[i],&quot;COLUMN_&quot;+i, String.class.getName(), 70,false );\r\n            }\r\n    \r\n    \r\n            List&lt;Map&lt;String, String&gt;&gt; dataRows = new LinkedList&lt;&gt;();\r\n            for(int j=0; j&lt;outputRows.size(); j++){\r\n                List&lt;String&gt; row = outputRows.get(j);\r\n                Map&lt;String, String&gt; dataMap = new HashMap&lt;&gt;();\r\n                for(int i=0; i&lt;columnNames.length; i++){\r\n                    dataMap.put(&quot;COLUMN_&quot;+i, row.get(i));\r\n                }\r\n                dataRows.add(dataMap);\r\n            }\r\n    \r\n            DynamicReport dr = drb.build();\r\n    JasperPrint jasperPrint = DynamicJasperHelper.generateJasperPrint(dr, new ClassicLayoutManager(), new JRBeanCollectionDataSource(dataRows), params);\r\n    \r\n    //        JasperPrint jasperPrint = JasperFillManager.fillReport(\r\n    //                jasperReport, params, dataSource);\r\n    \r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            if (format.equals(&quot;pdf&quot;)) {\r\n                JRPdfExporter exporter = new JRPdfExporter();\r\n    \r\n                exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\r\n    \r\n    \r\n                SimplePdfReportConfiguration reportConfig\r\n                        = new SimplePdfReportConfiguration();\r\n                reportConfig.setSizePageToContent(false);\r\n                reportConfig.setForceLineBreakPolicy(true);\r\n    \r\n                SimplePdfExporterConfiguration exportConfig\r\n                        = new SimplePdfExporterConfiguration();\r\n                exportConfig.setMetadataAuthor(&quot;Our Company&quot;);\r\n                exportConfig.setEncrypted(false);\r\n                exportConfig.setAllowedPermissionsHint(&quot;PRINTING&quot;);\r\n    \r\n                exporter.setConfiguration(reportConfig);\r\n                exporter.setConfiguration(exportConfig);\r\n                exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(out));\r\n                exporter.exportReport();\r\n                out.close();\r\n        } \r\n        // ... Also code in if blocks for XLS \r\n        \r\n            byte[] binData = out.toByteArray();\r\n            OutputStream out1 = response.getOutputStream();\r\n            out1.write(binData);\r\n            out1.close();\r\n            response.setContentLength(binData.length);\r\n    }\r\n\r\n","title":"Trying to export Dynamic-Jasper Report to PDF from Spring Boot 1.5 But Result is a Blank PDF","body":"<p>I am try to export a PDF based on an Dynamic Jasper Report, using gradle setting.</p>\n<p>build.gradle:</p>\n<pre><code>compile (group: 'net.sf.jasperreports', name: 'jasperreports', version: '6.18.1')\n    implementation group: 'ar.com.fdvs', name: 'DynamicJasper', version: '5.3.3'\n    implementation group: 'org.apache.poi', name: 'poi', version: '4.1.1'\n    // compile group: 'com.lowagie', name: 'itext', version:'2.1.7.js9'\n    runtime files('libs/itext-2.1.7.js9.jar')\n</code></pre>\n<p>The Java code below, always exports an blank PDF page, if I export to CSV (from Japser), I can see the report generated with the correct fields. How do I fix to have the PDF correctly generated? Thanks in advance.</p>\n<pre><code>   private void setupPdfExport(String format, HttpServletResponse response, ActivePatientsData data, ReportCriteriaFormSupport support, String currencySymbol, ReportCriteriaForm reportCriteriaForm, PortalSecurityPrinciple principle) throws Exception {\n\n        String csvFileName = &quot;Active_patients.&quot;+format;\n//        response.setContentType(format.equals(&quot;pdf&quot;)?&quot;application/pdf&quot;:\n//                format.equals(&quot;xsls&quot;)? &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot; : &quot;application/vnd.oasis.opendocument.spreadsheet&quot;);\n        response.setContentType(&quot;application/octet-stream&quot;);\n        String headerKey = &quot;Content-Disposition&quot;;\n        String headerValue = String.format(&quot;attachment; filename=\\&quot;%s\\&quot;&quot;, csvFileName);\n        response.setHeader(headerKey, headerValue);\n\n\n        List&lt;List&lt;String&gt;&gt; outputRows = getCsv(false, data, support, reportCriteriaForm, principle, codesToNames);\n\n\n        List&lt;String&gt; headers = createHeadings(data, false);\n\n\n\n        FastReportBuilder drb = new FastReportBuilder();\n        String[] columnNames = headers.toArray(new String[0]);\n\n\n        Style headerStyle = new Style();\n        Font font = new Font(10, &quot;Arial&quot;, true, false, false);\n        headerStyle.setFont(font);\n        headerStyle.setHorizontalAlign(HorizontalAlign.CENTER);\n        headerStyle.setVerticalAlign(VerticalAlign.TOP);\n        headerStyle.setBorder(Border.PEN_1_POINT());\n        headerStyle.setBackgroundColor(Color.WHITE);\n        headerStyle.setBorderColor(Color.BLACK);\n        headerStyle.setTextColor(Color.BLACK);\n        headerStyle.setTransparency(Transparency.OPAQUE);\n\n        drb      .setDetailHeight(30)\n                .setReportName(&quot;Active Patients&quot;)\n                .setTitle(&quot;Active Patients&quot;)\n                .setSubtitle(&quot;This report was generated at &quot; + new Date())\n                .setPageSizeAndOrientation(Page.Page_A4_Landscape())\n                .setWhenNoData(&quot;No Data&quot;, headerStyle)\n                .setUseFullPageWidth(true)\n                .setDetailHeight(15)        //defines the height for each record of the report\n                .setMargins(30, 20, 30, 15)     //define the margin space for each side (top, bottom, left and right)\n                .setDefaultStyles(headerStyle, headerStyle, headerStyle, headerStyle)\n        ;\n\n\n//        drb.setTemplateFile(file.getAbsolutePath(), true, true, true, true);\n\n        for(int i=0; i&lt;columnNames.length; i++){\n            drb.addColumn(columnNames[i],&quot;COLUMN_&quot;+i, String.class.getName(), 70,false );\n        }\n\n\n        List&lt;Map&lt;String, String&gt;&gt; dataRows = new LinkedList&lt;&gt;();\n        for(int j=0; j&lt;outputRows.size(); j++){\n            List&lt;String&gt; row = outputRows.get(j);\n            Map&lt;String, String&gt; dataMap = new HashMap&lt;&gt;();\n            for(int i=0; i&lt;columnNames.length; i++){\n                dataMap.put(&quot;COLUMN_&quot;+i, row.get(i));\n            }\n            dataRows.add(dataMap);\n        }\n\n        DynamicReport dr = drb.build();\nJasperPrint jasperPrint = DynamicJasperHelper.generateJasperPrint(dr, new ClassicLayoutManager(), new JRBeanCollectionDataSource(dataRows), params);\n\n//        JasperPrint jasperPrint = JasperFillManager.fillReport(\n//                jasperReport, params, dataSource);\n\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        if (format.equals(&quot;pdf&quot;)) {\n            JRPdfExporter exporter = new JRPdfExporter();\n\n            exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\n\n\n            SimplePdfReportConfiguration reportConfig\n                    = new SimplePdfReportConfiguration();\n            reportConfig.setSizePageToContent(false);\n            reportConfig.setForceLineBreakPolicy(true);\n\n            SimplePdfExporterConfiguration exportConfig\n                    = new SimplePdfExporterConfiguration();\n            exportConfig.setMetadataAuthor(&quot;Our Company&quot;);\n            exportConfig.setEncrypted(false);\n            exportConfig.setAllowedPermissionsHint(&quot;PRINTING&quot;);\n\n            exporter.setConfiguration(reportConfig);\n            exporter.setConfiguration(exportConfig);\n            exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(out));\n            exporter.exportReport();\n            out.close();\n    } \n    // ... Also code in if blocks for XLS \n    \n        byte[] binData = out.toByteArray();\n        OutputStream out1 = response.getOutputStream();\n        out1.write(binData);\n        out1.close();\n        response.setContentLength(binData.length);\n}\n</code></pre>\n"},{"tags":["java","spring","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647797617,"creation_date":1647797617,"answer_id":71549075,"question_id":71547270,"body_markdown":"##### You can use [`Querydsl Extension.`](https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#core.extensions.querydsl)\r\n\r\nQuerydsl is a framework that enables the construction of statically typed SQL-like queries through its fluent API.\r\n\r\nYou have `QueryDSL` integration, [you can derive queries from the attributes contained in a `Request` query string.](https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#core.web.type-safe)\r\n\r\nPlease see these links for more information:\r\n\r\n* [Spring Data Extensions](https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#core.extensions)\r\n* https://stackoverflow.com/questions/51127468/how-to-easy-implement-rest-api-query-language-with-querydsl-and-spring-data-to\r\n* https://stackoverflow.com/questions/27090122/spring-data-querydsl-empty-predicate-predicate-chaining","title":"How to query couchbase with multiple values using spring-data-couchbase","body":"<h5>You can use <a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#core.extensions.querydsl\" rel=\"nofollow noreferrer\"><code>Querydsl Extension.</code></a></h5>\n<p>Querydsl is a framework that enables the construction of statically typed SQL-like queries through its fluent API.</p>\n<p>You have <code>QueryDSL</code> integration, <a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#core.web.type-safe\" rel=\"nofollow noreferrer\">you can derive queries from the attributes contained in a <code>Request</code> query string.</a></p>\n<p>Please see these links for more information:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#core.extensions\" rel=\"nofollow noreferrer\">Spring Data Extensions</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51127468/how-to-easy-implement-rest-api-query-language-with-querydsl-and-spring-data-to\">How to easy implement &#39;REST API query language&#39; with Querydsl and Spring Data to filter the entities?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27090122/spring-data-querydsl-empty-predicate-predicate-chaining\">Spring Data + QueryDSL empty predicate + Predicate chaining</a></li>\n</ul>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647868491,"creation_date":1647783578,"question_id":71547270,"body_markdown":"Hi I have an endpoint like `/findBy` and it can take several query params similar like ;\r\n\r\n    findBy?color=&quot;blue&quot;&amp;size=&quot;big&quot;&amp;city=&quot;ny&quot;&amp;country=&quot;usa&quot;\r\n\r\nHow can I have such query in repository layer using spring-data-couchbase. Normally if it would something like `findByCity` or `findByColor` only I would have such methods in my repository\r\n\r\n\r\n    @Repository\r\n    public interface HouseRepository  extends CouchbaseRepository&lt;House, String&gt; {\r\n    \r\n        House findByColor(String Color);\r\n        House findByCity(String City);\r\n    }\r\n\r\nbut in this case I might not get all the parameter values. I want to query whatever values I have. Same `findBy` should return the values in these cases:\r\n\r\n    findBy?country=&quot;usa&quot;\r\n    findBy?city=&quot;ny&quot;&amp;country=&quot;usa&quot;\r\n    findBy?color=&quot;blue&quot;&amp;size=&quot;big&quot;\r\n\r\n\r\nCan such thing be done using spring data couchbase **without** writing custom sql queries? \r\n","title":"How to query couchbase with multiple values using spring-data-couchbase","body":"<p>Hi I have an endpoint like <code>/findBy</code> and it can take several query params similar like ;</p>\n<pre><code>findBy?color=&quot;blue&quot;&amp;size=&quot;big&quot;&amp;city=&quot;ny&quot;&amp;country=&quot;usa&quot;\n</code></pre>\n<p>How can I have such query in repository layer using spring-data-couchbase. Normally if it would something like <code>findByCity</code> or <code>findByColor</code> only I would have such methods in my repository</p>\n<pre><code>@Repository\npublic interface HouseRepository  extends CouchbaseRepository&lt;House, String&gt; {\n\n    House findByColor(String Color);\n    House findByCity(String City);\n}\n</code></pre>\n<p>but in this case I might not get all the parameter values. I want to query whatever values I have. Same <code>findBy</code> should return the values in these cases:</p>\n<pre><code>findBy?country=&quot;usa&quot;\nfindBy?city=&quot;ny&quot;&amp;country=&quot;usa&quot;\nfindBy?color=&quot;blue&quot;&amp;size=&quot;big&quot;\n</code></pre>\n<p>Can such thing be done using spring data couchbase <strong>without</strong> writing custom sql queries?</p>\n"},{"tags":["java","jquery","ajax","jsp","servlets"],"comments":[{"owner":{"account_id":4646604,"reputation":1330,"user_id":4048263,"accept_rate":74,"display_name":"Mingle Li"},"score":0,"creation_date":1469225281,"post_id":22740572,"comment_id":64465488,"body_markdown":"I&#39;m having the same problem. Did you find the solution?","body":"I&#39;m having the same problem. Did you find the solution?"}],"answers":[{"tags":[],"owner":{"account_id":4200329,"reputation":2634,"user_id":3440582,"accept_rate":54,"display_name":"BlackPearl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1396157882,"creation_date":1396157882,"answer_id":22740677,"question_id":22740572,"body_markdown":"You are not sending data at all\r\n\r\n\r\n` data: fd,` \r\n\r\nTry;\r\n\r\n`data: {fd: fd}`","title":"Can not send FormData from JSP page using jquery-AJAX to Servlet","body":"<p>You are not sending data at all</p>\n\n<p><code>data: fd,</code> </p>\n\n<p>Try;</p>\n\n<p><code>data: {fd: fd}</code></p>\n"},{"tags":[],"owner":{"account_id":4942012,"reputation":11,"user_id":3978497,"display_name":"hyphenX Freeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647868452,"creation_date":1647868452,"answer_id":71558219,"question_id":22740572,"body_markdown":"Try with with Content-Type  &quot;application/x-www-form-urlencoded&quot;\r\n\r\nIt seems JSP read formData as unique parameter. \r\n\r\nIf it could help... The code below works fine (without formdata).\r\n\r\nJS  :\r\n\r\n       function saveClient() {\r\n            var ticketToSave=ticket;\r\n            var connexion=null;\r\n            if(window.XMLHttpRequest) // Firefox\r\n            \tconnexion = new XMLHttpRequest();\r\n            else if(window.ActiveXObject) // Internet Explorer\r\n               \tconnexion = new ActiveXObject(\\&quot;Microsoft.XMLHTTP\\&quot;);\r\n                 else { // XMLHttpRequest non supporte par le navigateur\r\n               \talert(\\&quot;Votre navigateur ne supporte pas les objets XMLHTTPRequest...\\&quot;);\r\n               \treturn;\r\n                 }\r\n\t\t\t\r\n\t\t\tvar client = &#39;toto&#39;;\r\n\t\t\tvar name = &#39;titi&#39;;\r\n\r\n            var postData = &#39;client=&#39; + encodeURIComponent(client) + \r\n                           &#39;&amp;name=&#39; + encodeURIComponent(name);\r\n\r\n            connexion.onreadystatechange=function(){request_callback(connexion);}\r\n            connexion.open(\\&quot;POST\\&quot;, \\&quot;saveClient.jsp\\&quot;);\r\n            connexion.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;);\r\n\t\t\tconnexion.send(postData);\r\n                 \r\n        }\r\n\r\nJSP :\r\n\r\n    out.print(request.getParameter(&quot;client&quot;));\r\n    out.print(request.getParameter(&quot;name&quot;));\r\n    \r\n    Enumeration reqParams = request.getParameterNames();\r\n    while (reqParams.hasMoreElements()) {\r\n      String key= (String) reqParams.nextElement();\r\n      String val = request.getParameter(key);\r\n      out.println(&quot; Key ==&gt; &quot;+key+&quot; , Value ==&gt; &quot;+val);\r\n    }\r\n\r\n","title":"Can not send FormData from JSP page using jquery-AJAX to Servlet","body":"<p>Try with with Content-Type  &quot;application/x-www-form-urlencoded&quot;</p>\n<p>It seems JSP read formData as unique parameter.</p>\n<p>If it could help... The code below works fine (without formdata).</p>\n<p>JS  :</p>\n<pre><code>   function saveClient() {\n        var ticketToSave=ticket;\n        var connexion=null;\n        if(window.XMLHttpRequest) // Firefox\n            connexion = new XMLHttpRequest();\n        else if(window.ActiveXObject) // Internet Explorer\n            connexion = new ActiveXObject(\\&quot;Microsoft.XMLHTTP\\&quot;);\n             else { // XMLHttpRequest non supporte par le navigateur\n            alert(\\&quot;Votre navigateur ne supporte pas les objets XMLHTTPRequest...\\&quot;);\n            return;\n             }\n        \n        var client = 'toto';\n        var name = 'titi';\n\n        var postData = 'client=' + encodeURIComponent(client) + \n                       '&amp;name=' + encodeURIComponent(name);\n\n        connexion.onreadystatechange=function(){request_callback(connexion);}\n        connexion.open(\\&quot;POST\\&quot;, \\&quot;saveClient.jsp\\&quot;);\n        connexion.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        connexion.send(postData);\n             \n    }\n</code></pre>\n<p>JSP :</p>\n<pre><code>out.print(request.getParameter(&quot;client&quot;));\nout.print(request.getParameter(&quot;name&quot;));\n\nEnumeration reqParams = request.getParameterNames();\nwhile (reqParams.hasMoreElements()) {\n  String key= (String) reqParams.nextElement();\n  String val = request.getParameter(key);\n  out.println(&quot; Key ==&gt; &quot;+key+&quot; , Value ==&gt; &quot;+val);\n}\n</code></pre>\n"}],"owner":{"account_id":1292822,"reputation":114,"user_id":1244566,"accept_rate":38,"display_name":"ParthPatel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22740677,"answer_count":2,"score":0,"last_activity_date":1647868452,"creation_date":1396156899,"question_id":22740572,"body_markdown":"Trying to send POST data from JSP file using jQuery-AJAX to servlet, but getting null values in servlet post request. \r\n\r\nOn JSP page , in console it is displaying proper data and in post request it is showing me that it is sending data, i have checked that using firebug in mozilla. But getting null values in servlet.\r\n\r\nJSP-Code:\r\n\r\n\r\n            \r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n            \r\n            &lt;script src=&quot;js/jquery-1.8.3.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n            &lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-ui-1.8.24.js&quot;&gt;&lt;/script&gt;\r\n            &lt;script type=&quot;text/javascript&quot;&gt;\r\n                $( document ).ready(function() {\r\n    \r\n        alert(&quot;DOM is ready&quot;);\r\n    \r\n    });\r\n    \r\n                 function qry()\r\n                {\r\n                    \r\n                    var fd = new FormData();                               \r\n                    var tinfo=$(&quot;#tablename&quot;).val();                   \r\n                    var cinfo=$(&quot;#columnname&quot;).val();\r\n                    var oinfo=$(&quot;#operator&quot;).val();\r\n                    var uinfo=$(&quot;#txtuserinput&quot;).val();\r\n                     console.log(tinfo);\r\n                    console.log(cinfo);\r\n                    console.log(oinfo);\r\n                    console.log(uinfo);\r\n                    \r\n                    fd.append(&quot;abc&quot;,tinfo);\r\n                fd.append(&quot;mycolumnname&quot;,cinfo);\r\n                fd.append(&quot;myoperator&quot;,oinfo);\r\n                fd.append(&quot;mytxtuserinput&quot;,uinfo);\r\n                                                                                   \r\n                     $.ajax({\t\t\r\n    \t\t\t\r\n                                    type: &#39;POST&#39;,\r\n                                    url: &quot;http://localhost:8084/NavigatingApp/getInfo/queryoutput&quot;,\t\t\r\n                                    contentType: false,\r\n                                    dataType: &quot;html&quot;,\r\n                                    data: fd,                                \r\n    \t\tasync:false,\t\t\t\r\n    \t\tcache: false,\r\n    \t\t\r\n    \t\tprocessData: false,                \r\n    \t\t\r\n                    success:function(data){\r\n                    \tconsole.log(data);\r\n                \r\n                            },\r\n    \t\terror:function(){\r\n    \t\t\talert(&quot;Error in receving data...!!!&quot;);\r\n    \t\t}\r\n    \t});\r\n                }\r\n                &lt;/script&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Hello World!&lt;/h1&gt;\r\n            &lt;select name=&quot;tablename&quot; id=&quot;tablename&quot; &gt;\r\n                &lt;option value=&quot;tbl1&quot;&gt;tbl1&lt;/option&gt;\r\n                &lt;option value=&quot;tbl2&quot;&gt;tbl2&lt;/option&gt;\r\n                &lt;option value=&quot;tbl3&quot;&gt;tbl3&lt;/option&gt;            \r\n            &lt;/select&gt;\r\n            &lt;select name=&quot;columnname&quot; id=&quot;columnname&quot;&gt;\r\n                &lt;option value=&quot;col1&quot;&gt;col1&lt;/option&gt;\r\n                &lt;option value=&quot;col2&quot;&gt;col2&lt;/option&gt;\r\n                &lt;option value=&quot;col3&quot;&gt;col3&lt;/option&gt;\r\n            &lt;/select&gt;\r\n            &lt;select name=&quot;operator&quot; id=&quot;operator&quot;&gt;\r\n                &lt;option value=&quot;op1&quot;&gt;op1&lt;/option&gt;\r\n                &lt;option value=&quot;op2&quot;&gt;op2&lt;/option&gt;\r\n                &lt;option value=&quot;op3&quot;&gt;op3&lt;/option&gt;\r\n            &lt;/select&gt;\r\n            &lt;select name=&quot;condition&quot; id=&quot;condition&quot; &gt;\r\n                &lt;option value=&quot;condtn1&quot;&gt;condtn1&lt;/option&gt;\r\n                &lt;option value=&quot;condtn2&quot;&gt;condtn2&lt;/option&gt;\r\n                &lt;option value=&quot;condtn3&quot;&gt;condtn3&lt;/option&gt;\r\n            &lt;/select&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;txtuserinput&quot; id=&quot;txtuserinput&quot; /&gt;\r\n              &lt;input type=&quot;button&quot; value=&quot;search&quot; id=&quot;btnsearch&quot; onclick=&quot;qry();&quot; /&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nServlet Code:\r\n\r\n    @WebServlet(name = &quot;queryoutput&quot;, urlPatterns = {&quot;/queryoutput&quot;})\r\n    public class QueryOutput extends HttpServlet {\r\n     public QueryOutput() {\r\n            super();\r\n            // TODO Auto-generated constructor stubatavu\r\n            \r\n        }\r\n       \r\n        @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n              \r\n        }\r\n    \r\n       \r\n        @Override\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            \r\n               \r\n                response.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n               \r\n               \r\n                System.out.println(&quot; inside do post table::&quot; +request.getParameter(&quot;mytablename&quot;));\r\n                System.out.println(&quot; inside do post col name:: &quot; +request.getParameter(&quot;mycolumnname&quot;));\r\n                System.out.println(&quot; inside do post operator::&quot; +request.getParameter(&quot;myoperator&quot;));\r\n                System.out.println(&quot; inside do post user input::&quot; +request.getParameter(&quot;mytxtuserinput&quot;));\r\n                  response.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n                  \r\n                PrintWriter out=response.getWriter();\r\n                \r\n               \r\n                  out.flush();\r\n            \r\n        }    \r\n    }","title":"Can not send FormData from JSP page using jquery-AJAX to Servlet","body":"<p>Trying to send POST data from JSP file using jQuery-AJAX to servlet, but getting null values in servlet post request. </p>\n\n<p>On JSP page , in console it is displaying proper data and in post request it is showing me that it is sending data, i have checked that using firebug in mozilla. But getting null values in servlet.</p>\n\n<p>JSP-Code:</p>\n\n<pre><code>        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n\n        &lt;script src=\"js/jquery-1.8.3.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"js/jquery-ui-1.8.24.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            $( document ).ready(function() {\n\n    alert(\"DOM is ready\");\n\n});\n\n             function qry()\n            {\n\n                var fd = new FormData();                               \n                var tinfo=$(\"#tablename\").val();                   \n                var cinfo=$(\"#columnname\").val();\n                var oinfo=$(\"#operator\").val();\n                var uinfo=$(\"#txtuserinput\").val();\n                 console.log(tinfo);\n                console.log(cinfo);\n                console.log(oinfo);\n                console.log(uinfo);\n\n                fd.append(\"abc\",tinfo);\n            fd.append(\"mycolumnname\",cinfo);\n            fd.append(\"myoperator\",oinfo);\n            fd.append(\"mytxtuserinput\",uinfo);\n\n                 $.ajax({       \n\n                                type: 'POST',\n                                url: \"http://localhost:8084/NavigatingApp/getInfo/queryoutput\",     \n                                contentType: false,\n                                dataType: \"html\",\n                                data: fd,                                \n        async:false,            \n        cache: false,\n\n        processData: false,                \n\n                success:function(data){\n                    console.log(data);\n\n                        },\n        error:function(){\n            alert(\"Error in receving data...!!!\");\n        }\n    });\n            }\n            &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n        &lt;select name=\"tablename\" id=\"tablename\" &gt;\n            &lt;option value=\"tbl1\"&gt;tbl1&lt;/option&gt;\n            &lt;option value=\"tbl2\"&gt;tbl2&lt;/option&gt;\n            &lt;option value=\"tbl3\"&gt;tbl3&lt;/option&gt;            \n        &lt;/select&gt;\n        &lt;select name=\"columnname\" id=\"columnname\"&gt;\n            &lt;option value=\"col1\"&gt;col1&lt;/option&gt;\n            &lt;option value=\"col2\"&gt;col2&lt;/option&gt;\n            &lt;option value=\"col3\"&gt;col3&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;select name=\"operator\" id=\"operator\"&gt;\n            &lt;option value=\"op1\"&gt;op1&lt;/option&gt;\n            &lt;option value=\"op2\"&gt;op2&lt;/option&gt;\n            &lt;option value=\"op3\"&gt;op3&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;select name=\"condition\" id=\"condition\" &gt;\n            &lt;option value=\"condtn1\"&gt;condtn1&lt;/option&gt;\n            &lt;option value=\"condtn2\"&gt;condtn2&lt;/option&gt;\n            &lt;option value=\"condtn3\"&gt;condtn3&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;input type=\"text\" name=\"txtuserinput\" id=\"txtuserinput\" /&gt;\n          &lt;input type=\"button\" value=\"search\" id=\"btnsearch\" onclick=\"qry();\" /&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Servlet Code:</p>\n\n<pre><code>@WebServlet(name = \"queryoutput\", urlPatterns = {\"/queryoutput\"})\npublic class QueryOutput extends HttpServlet {\n public QueryOutput() {\n        super();\n        // TODO Auto-generated constructor stubatavu\n\n    }\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n\n    }\n\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n\n\n            response.setContentType(\"application/json;charset=UTF-8\");\n\n\n            System.out.println(\" inside do post table::\" +request.getParameter(\"mytablename\"));\n            System.out.println(\" inside do post col name:: \" +request.getParameter(\"mycolumnname\"));\n            System.out.println(\" inside do post operator::\" +request.getParameter(\"myoperator\"));\n            System.out.println(\" inside do post user input::\" +request.getParameter(\"mytxtuserinput\"));\n              response.setContentType(\"application/json;charset=UTF-8\");\n\n            PrintWriter out=response.getWriter();\n\n\n              out.flush();\n\n    }    \n}\n</code></pre>\n"},{"tags":["java","android","proxy","http-proxy"],"owner":{"account_id":1845109,"reputation":19,"user_id":1673603,"display_name":"user1673603"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647867984,"creation_date":1647867984,"question_id":71558116,"body_markdown":"I have been trying to run littleproxy from my Android app. Below, you will find the code.\r\n\r\nBefore publishing this post, I searched through StackOverflow and the web for information on running littleproxy on Android devices. I could not find answers to my questions below. There is very little information about littleproxy on Android.\r\n\r\nOn my test Android phone, a Huawei Mate 20 Pro running Androind 9, I enabled proxy manually on the Wifi network I am using as follows:\r\n\r\nProxy hostname - 127.0.0.1\r\nProxy port - 8100\r\n\r\nThe logs posted by littleproxy are as follows:\r\n\r\n    03-20 18:46:48.345: I/DefaultHttpProxyServer(27269):  - withAddress - /127.0.0.1:8100\r\n    03-20 18:46:48.547: I/DefaultHttpProxyServer(27269): Starting proxy at address: {} - /127.0.0.1:8100\r\n    03-20 18:46:48.549: D/ServerGroup(27269): Initializing thread pools for {} with {} \r\n    acceptor threads, {} incoming worker threads, and {} outgoing worker threads - TCP - 2 - 8 - 8\r\n    03-20 18:46:48.558: I/DefaultHttpProxyServer(27269): Proxy listening with TCP transport\r\n    03-20 18:46:48.589: I/DefaultHttpProxyServer(27269): Proxy started at address: {} - /127.0.0.1:8100\r\n\r\nAfter proxy starts as the above logs seem to indicate, I try to access a (any) site on the web and I am unable to do so.\r\n\r\nBased on the code (below), the only sites I should not be able to access are ones like\r\nhttp://httpbin.org/image/png\r\n\r\nI have four questions/issues I hope someone can help me answer:\r\n\r\n1) Is setting the address of the proxy server on an Android device to 127.0.0.1 allowed? If not what can it be set to? Can I use port 8100, or is there a preset port I should be using (e.g. 8080) (I don&#39;t think so, just checking to make sure)?\r\n\r\n2) How can I check whether the littleproxy proxy server is running after I start it (see code below)? Do I need to add code to ensure that it keep running?\r\n\r\n3) Is the littleproxy start call (see code below) correct?\r\n\r\n4) Does anyone have a successful experience of running a local proxy on an Android device without rooting the device? If yes, what&#39;s the proxy application used?\r\n\r\nThanks for any help in addressing these issues.\r\n\r\nCode which calls littleproxy from main activity\r\n===============================================\r\n\r\n        Log.i(TAG, &quot; - onCreate - About to run BlockingFilterProxy.main(args) --- &quot;);\r\n\r\n            String[] args = new String[1];\r\n\r\n            BlockingFilterProxy.main(args);\r\n\r\n        Log.i(TAG, &quot; - onCreate - Returned from BlockingFilterProxy.main(args) --- &quot;);\r\n\r\n\r\nBlockingFilterProxy code\r\n=========================\r\n\r\n    package com.android.contextq.gatekeepertolltaker.proxy.filters;\r\n    \r\n    import android.util.Log;\r\n    \r\n    import java.net.InetSocketAddress;\r\n    import java.nio.charset.Charset;\r\n    import java.util.Date;\r\n    \r\n    import org.littleshoot.proxy.HttpFilters;\r\n    import org.littleshoot.proxy.HttpFiltersAdapter;\r\n    import org.littleshoot.proxy.HttpFiltersSource;\r\n    import org.littleshoot.proxy.HttpFiltersSourceAdapter;\r\n    import org.littleshoot.proxy.impl.DefaultHttpProxyServer;\r\n    import org.littleshoot.proxy.impl.ProxyUtils;\r\n    \r\n    import io.netty.buffer.ByteBuf;\r\n    import io.netty.buffer.Unpooled;\r\n    import io.netty.handler.codec.http.DefaultFullHttpResponse;\r\n    import io.netty.handler.codec.http.HttpHeaders;\r\n    import io.netty.handler.codec.http.HttpObject;\r\n    import io.netty.handler.codec.http.HttpRequest;\r\n    import io.netty.handler.codec.http.HttpResponse;\r\n    import io.netty.handler.codec.http.HttpResponseStatus;\r\n    import io.netty.handler.codec.http.HttpVersion;\r\n    \r\n    /**\r\n     * Blocks access to URLs ending in &quot;png&quot; or &quot;jpeg&quot; and returns a 502 response. \r\n     * \r\n     * Test URLs - HTTP  : http://httpbin.org/image/png\r\n     *             HTTPS : https://httpbin.org/image/png\r\n     */\r\n    public class BlockingFilterProxy {\r\n\r\n    private static String TAG = &quot;BlockingFilterProxy&quot;;\r\n    private static final int PORT = 8100;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        HttpFiltersSource filtersSource = getFiltersSource();\r\n\r\n        DefaultHttpProxyServer.bootstrap()\r\n                .withAddress(new InetSocketAddress(&quot;127.0.0.1&quot;,8100))\r\n    //                .withAddress(new InetSocketAddress(&quot;10.125.24.28&quot;,8100))\r\n    //        .withPort(PORT)\r\n        .withAllowLocalOnly(false)\r\n        .withFiltersSource(filtersSource)\r\n        .withName(&quot;BlockingFilterProxy&quot;)\r\n        .start();\r\n    }\r\n\r\n    private static HttpFiltersSource getFiltersSource() {\r\n        return new HttpFiltersSourceAdapter(){\r\n\r\n            @Override\r\n            public HttpFilters filterRequest(HttpRequest originalRequest) {\r\n\r\n                return new HttpFiltersAdapter(originalRequest){\r\n\r\n                    @Override\r\n                    public HttpResponse clientToProxyRequest(HttpObject httpObject) {\r\n\r\n                        if(httpObject instanceof HttpRequest){\r\n                            HttpRequest request = (HttpRequest) httpObject;\r\n\r\n                            Log.i(TAG, &quot;Method URI : &quot; + request.getMethod() + &quot; &quot; + request.getUri());\r\n\r\n                            if(request.getUri().endsWith(&quot;png&quot;) || request.getUri().endsWith(&quot;jpeg&quot;)){\r\n                                //For URLs ending in &#39;png&#39; and &#39;jpeg&#39;, return a 502 response.\r\n                                return getBadGatewayResponse();\r\n                            }\r\n                        }\r\n\r\n                        return null;\r\n                    }\r\n\r\n                    private HttpResponse getBadGatewayResponse() {\r\n                        String body = &quot;&lt;!DOCTYPE HTML \\&quot;-//IETF//DTD HTML 2.0//EN\\&quot;&gt;\\n&quot;\r\n                                + &quot;&lt;html&gt;&lt;head&gt;\\n&quot;\r\n                                + &quot;&lt;title&gt;&quot;+&quot;Bad Gateway&quot;+&quot;&lt;/title&gt;\\n&quot;\r\n                                + &quot;&lt;/head&gt;&lt;body&gt;\\n&quot;\r\n                                + &quot;An error occurred&quot;\r\n                                + &quot;&lt;/body&gt;&lt;/html&gt;\\n&quot;;\r\n                        byte[] bytes = body.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n                        ByteBuf content = Unpooled.copiedBuffer(bytes);\r\n                        HttpResponse response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.BAD_GATEWAY, content);\r\n                        response.headers().set(HttpHeaders.Names.CONTENT_LENGTH, bytes.length);\r\n                        response.headers().set(&quot;Content-Type&quot;, &quot;text/html; charset=UTF-8&quot;);\r\n                        response.headers().set(&quot;Date&quot;, ProxyUtils.formatDate(new Date()));\r\n                        response.headers().set(HttpHeaders.Names.CONNECTION, &quot;close&quot;);\r\n                        return response;\r\n                        }\t\t\t\t\t\r\n                    };\r\n                }\t\t\t\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"littleproxy on Android devices how to get it to work","body":"<p>I have been trying to run littleproxy from my Android app. Below, you will find the code.</p>\n<p>Before publishing this post, I searched through StackOverflow and the web for information on running littleproxy on Android devices. I could not find answers to my questions below. There is very little information about littleproxy on Android.</p>\n<p>On my test Android phone, a Huawei Mate 20 Pro running Androind 9, I enabled proxy manually on the Wifi network I am using as follows:</p>\n<p>Proxy hostname - 127.0.0.1\nProxy port - 8100</p>\n<p>The logs posted by littleproxy are as follows:</p>\n<pre><code>03-20 18:46:48.345: I/DefaultHttpProxyServer(27269):  - withAddress - /127.0.0.1:8100\n03-20 18:46:48.547: I/DefaultHttpProxyServer(27269): Starting proxy at address: {} - /127.0.0.1:8100\n03-20 18:46:48.549: D/ServerGroup(27269): Initializing thread pools for {} with {} \nacceptor threads, {} incoming worker threads, and {} outgoing worker threads - TCP - 2 - 8 - 8\n03-20 18:46:48.558: I/DefaultHttpProxyServer(27269): Proxy listening with TCP transport\n03-20 18:46:48.589: I/DefaultHttpProxyServer(27269): Proxy started at address: {} - /127.0.0.1:8100\n</code></pre>\n<p>After proxy starts as the above logs seem to indicate, I try to access a (any) site on the web and I am unable to do so.</p>\n<p>Based on the code (below), the only sites I should not be able to access are ones like\n<a href=\"http://httpbin.org/image/png\" rel=\"nofollow noreferrer\">http://httpbin.org/image/png</a></p>\n<p>I have four questions/issues I hope someone can help me answer:</p>\n<ol>\n<li><p>Is setting the address of the proxy server on an Android device to 127.0.0.1 allowed? If not what can it be set to? Can I use port 8100, or is there a preset port I should be using (e.g. 8080) (I don't think so, just checking to make sure)?</p>\n</li>\n<li><p>How can I check whether the littleproxy proxy server is running after I start it (see code below)? Do I need to add code to ensure that it keep running?</p>\n</li>\n<li><p>Is the littleproxy start call (see code below) correct?</p>\n</li>\n<li><p>Does anyone have a successful experience of running a local proxy on an Android device without rooting the device? If yes, what's the proxy application used?</p>\n</li>\n</ol>\n<p>Thanks for any help in addressing these issues.</p>\n<h1>Code which calls littleproxy from main activity</h1>\n<pre><code>    Log.i(TAG, &quot; - onCreate - About to run BlockingFilterProxy.main(args) --- &quot;);\n\n        String[] args = new String[1];\n\n        BlockingFilterProxy.main(args);\n\n    Log.i(TAG, &quot; - onCreate - Returned from BlockingFilterProxy.main(args) --- &quot;);\n</code></pre>\n<h1>BlockingFilterProxy code</h1>\n<pre><code>package com.android.contextq.gatekeepertolltaker.proxy.filters;\n\nimport android.util.Log;\n\nimport java.net.InetSocketAddress;\nimport java.nio.charset.Charset;\nimport java.util.Date;\n\nimport org.littleshoot.proxy.HttpFilters;\nimport org.littleshoot.proxy.HttpFiltersAdapter;\nimport org.littleshoot.proxy.HttpFiltersSource;\nimport org.littleshoot.proxy.HttpFiltersSourceAdapter;\nimport org.littleshoot.proxy.impl.DefaultHttpProxyServer;\nimport org.littleshoot.proxy.impl.ProxyUtils;\n\nimport io.netty.buffer.ByteBuf;\nimport io.netty.buffer.Unpooled;\nimport io.netty.handler.codec.http.DefaultFullHttpResponse;\nimport io.netty.handler.codec.http.HttpHeaders;\nimport io.netty.handler.codec.http.HttpObject;\nimport io.netty.handler.codec.http.HttpRequest;\nimport io.netty.handler.codec.http.HttpResponse;\nimport io.netty.handler.codec.http.HttpResponseStatus;\nimport io.netty.handler.codec.http.HttpVersion;\n\n/**\n * Blocks access to URLs ending in &quot;png&quot; or &quot;jpeg&quot; and returns a 502 response. \n * \n * Test URLs - HTTP  : http://httpbin.org/image/png\n *             HTTPS : https://httpbin.org/image/png\n */\npublic class BlockingFilterProxy {\n\nprivate static String TAG = &quot;BlockingFilterProxy&quot;;\nprivate static final int PORT = 8100;\n\npublic static void main(String[] args) {\n\n    HttpFiltersSource filtersSource = getFiltersSource();\n\n    DefaultHttpProxyServer.bootstrap()\n            .withAddress(new InetSocketAddress(&quot;127.0.0.1&quot;,8100))\n//                .withAddress(new InetSocketAddress(&quot;10.125.24.28&quot;,8100))\n//        .withPort(PORT)\n    .withAllowLocalOnly(false)\n    .withFiltersSource(filtersSource)\n    .withName(&quot;BlockingFilterProxy&quot;)\n    .start();\n}\n\nprivate static HttpFiltersSource getFiltersSource() {\n    return new HttpFiltersSourceAdapter(){\n\n        @Override\n        public HttpFilters filterRequest(HttpRequest originalRequest) {\n\n            return new HttpFiltersAdapter(originalRequest){\n\n                @Override\n                public HttpResponse clientToProxyRequest(HttpObject httpObject) {\n\n                    if(httpObject instanceof HttpRequest){\n                        HttpRequest request = (HttpRequest) httpObject;\n\n                        Log.i(TAG, &quot;Method URI : &quot; + request.getMethod() + &quot; &quot; + request.getUri());\n\n                        if(request.getUri().endsWith(&quot;png&quot;) || request.getUri().endsWith(&quot;jpeg&quot;)){\n                            //For URLs ending in 'png' and 'jpeg', return a 502 response.\n                            return getBadGatewayResponse();\n                        }\n                    }\n\n                    return null;\n                }\n\n                private HttpResponse getBadGatewayResponse() {\n                    String body = &quot;&lt;!DOCTYPE HTML \\&quot;-//IETF//DTD HTML 2.0//EN\\&quot;&gt;\\n&quot;\n                            + &quot;&lt;html&gt;&lt;head&gt;\\n&quot;\n                            + &quot;&lt;title&gt;&quot;+&quot;Bad Gateway&quot;+&quot;&lt;/title&gt;\\n&quot;\n                            + &quot;&lt;/head&gt;&lt;body&gt;\\n&quot;\n                            + &quot;An error occurred&quot;\n                            + &quot;&lt;/body&gt;&lt;/html&gt;\\n&quot;;\n                    byte[] bytes = body.getBytes(Charset.forName(&quot;UTF-8&quot;));\n                    ByteBuf content = Unpooled.copiedBuffer(bytes);\n                    HttpResponse response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.BAD_GATEWAY, content);\n                    response.headers().set(HttpHeaders.Names.CONTENT_LENGTH, bytes.length);\n                    response.headers().set(&quot;Content-Type&quot;, &quot;text/html; charset=UTF-8&quot;);\n                    response.headers().set(&quot;Date&quot;, ProxyUtils.formatDate(new Date()));\n                    response.headers().set(HttpHeaders.Names.CONNECTION, &quot;close&quot;);\n                    return response;\n                    }                   \n                };\n            }           \n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","android","whatsapp","android-11","saf"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647869041,"post_id":71557883,"comment_id":126472204,"body_markdown":"You should use the uri for the file itself to access the file. You tried to get &#39;a real path&#39; for an uri. Which is a bad idea but you managed to get a path indeed. But you can do nothing with that path as you have discovered as you have no read permission for it.","body":"You should use the uri for the file itself to access the file. You tried to get &#39;a real path&#39; for an uri. Which is a bad idea but you managed to get a path indeed. But you can do nothing with that path as you have discovered as you have no read permission for it."},{"owner":{"account_id":7392564,"reputation":119,"user_id":5625544,"display_name":"Areeba Qurashi"},"score":0,"creation_date":1647885253,"post_id":71557883,"comment_id":126478909,"body_markdown":"@blackapps are You Mean i use fileItem.getUri()","body":"@blackapps are You Mean i use fileItem.getUri()"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647887287,"post_id":71557883,"comment_id":126479600,"body_markdown":"If that gives you the uri of the file then yes. You put the uries in the list. Now use them one by one.","body":"If that gives you the uri of the file then yes. You put the uries in the list. Now use them one by one."},{"owner":{"account_id":7392564,"reputation":119,"user_id":5625544,"display_name":"Areeba Qurashi"},"score":0,"creation_date":1647890549,"post_id":71557883,"comment_id":126480699,"body_markdown":"Thanks, Probleme is Solve i get All the Files","body":"Thanks, Probleme is Solve i get All the Files"}],"owner":{"account_id":7392564,"reputation":119,"user_id":5625544,"display_name":"Areeba Qurashi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647867653,"creation_date":1647866899,"question_id":71557883,"body_markdown":"by using [this Stack OverFlow Answer (FOR SDK 30 AND ABOVE)][1] I well able to retrieve the number of media files present in the .Status Folder on Android 11\r\n\r\nBut When I set the path to Imageview, image view Show Blanks\r\n\r\n    WAStatusModel fileItem = fileArrayList.get(i);\r\n     File backupFile = new File( fileItem.getPath() );\r\n            Uri imageUri = Uri.fromFile(backupFile);    \r\n    Glide.with(context)\r\n                    .load(imageUri)\r\n                    .into(viewHolder.imgpc);\r\n\r\nI Also Try with the provider But no effect i.e\r\n\r\n     Uri photoURI = FileProvider.getUriForFile(context, context.getPackageName() + &quot;.provider&quot;, backupFile);\r\n    Glide.with(context)\r\n                        .load(photoURI)\r\n                        .into(viewHolder.imgpc);\r\n\r\nMy Output paths are::\r\n imageUri is\r\n\r\n     file:///storage/emulated/0/Android/media/com.whatsapp/WhatsApp/Media/.Statuses/img.jpg\r\n\r\nfileItem.getUri() is\r\n\r\n    content://com.android.externalstorage.documents/tree/primary%3AAndroid%2Fmedia/document/primary%3AAndroid%2Fmedia%2Fcom.whatsapp%2FWhatsApp%2FMedia%2F.Statuses%2Fimg.jpg\r\n\r\nand fileItem.getPath() is\r\n\r\n    /storage/emulated/0/Android/media/com.whatsapp/WhatsApp/Media/.Statuses/img.jpg\r\n\r\nimage is not Loaded in Adapter. How it is possible. \r\nPlz Help Me\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/68408220","title":"get Whatsapp Status Images and Videos in Android 11 by Using StorageManager","body":"<p>by using <a href=\"https://stackoverflow.com/a/68408220\">this Stack OverFlow Answer (FOR SDK 30 AND ABOVE)</a> I well able to retrieve the number of media files present in the .Status Folder on Android 11</p>\n<p>But When I set the path to Imageview, image view Show Blanks</p>\n<pre><code>WAStatusModel fileItem = fileArrayList.get(i);\n File backupFile = new File( fileItem.getPath() );\n        Uri imageUri = Uri.fromFile(backupFile);    \nGlide.with(context)\n                .load(imageUri)\n                .into(viewHolder.imgpc);\n</code></pre>\n<p>I Also Try with the provider But no effect i.e</p>\n<pre><code> Uri photoURI = FileProvider.getUriForFile(context, context.getPackageName() + &quot;.provider&quot;, backupFile);\nGlide.with(context)\n                    .load(photoURI)\n                    .into(viewHolder.imgpc);\n</code></pre>\n<p>My Output paths are::\nimageUri is</p>\n<pre><code> file:///storage/emulated/0/Android/media/com.whatsapp/WhatsApp/Media/.Statuses/img.jpg\n</code></pre>\n<p>fileItem.getUri() is</p>\n<pre><code>content://com.android.externalstorage.documents/tree/primary%3AAndroid%2Fmedia/document/primary%3AAndroid%2Fmedia%2Fcom.whatsapp%2FWhatsApp%2FMedia%2F.Statuses%2Fimg.jpg\n</code></pre>\n<p>and fileItem.getPath() is</p>\n<pre><code>/storage/emulated/0/Android/media/com.whatsapp/WhatsApp/Media/.Statuses/img.jpg\n</code></pre>\n<p>image is not Loaded in Adapter. How it is possible.\nPlz Help Me</p>\n"},{"tags":["java","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647867537,"creation_date":1647867537,"answer_id":71558020,"question_id":71557976,"body_markdown":"Here:\r\n\r\n    when(testAPIKeyAuthHandler)\r\n\r\nBut:\r\n\r\n    @InjectMocks\r\n    private APIKeyAuthHandler testAPIKeyAuthHandler;\r\n\r\n`testAPIKeyAuthHandler` is **not** a mock, and the syntax for doing a `when()` specification will not change that.\r\n\r\nMeaning: the @InjectMocks annotation does **not** create a mock. It creates an object that Mockito will try to **populate** with your mock objects!\r\n\r\nBut note, the **real** answer here: these things are complicated. You can&#39;t learn how to use mockito in conjunction with a complex framework like spring by trial and error. Thus: you better step back. Pick up a good tutorial on how to use mockito. Read that, and **understand** how to use Mockito the proper way. **Then** pick up a tutorial that explains Mockito in conjunction with spring, read that, understand it. And **then** apply what you have learned to your setup.","title":"JAVA : JUNIT Argument passed to when() is not a mock","body":"<p>Here:</p>\n<pre><code>when(testAPIKeyAuthHandler)\n</code></pre>\n<p>But:</p>\n<pre><code>@InjectMocks\nprivate APIKeyAuthHandler testAPIKeyAuthHandler;\n</code></pre>\n<p><code>testAPIKeyAuthHandler</code> is <strong>not</strong> a mock, and the syntax for doing a <code>when()</code> specification will not change that.</p>\n<p>Meaning: the @InjectMocks annotation does <strong>not</strong> create a mock. It creates an object that Mockito will try to <strong>populate</strong> with your mock objects!</p>\n<p>But note, the <strong>real</strong> answer here: these things are complicated. You can't learn how to use mockito in conjunction with a complex framework like spring by trial and error. Thus: you better step back. Pick up a good tutorial on how to use mockito. Read that, and <strong>understand</strong> how to use Mockito the proper way. <strong>Then</strong> pick up a tutorial that explains Mockito in conjunction with spring, read that, understand it. And <strong>then</strong> apply what you have learned to your setup.</p>\n"}],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71558020,"answer_count":1,"score":1,"last_activity_date":1647867537,"creation_date":1647867314,"question_id":71557976,"body_markdown":"I&#39;m trying to run unit test for below function\r\n```\r\n\r\n    @Autowired\r\n\tprivate EmailServiceConfigProperties emailServiceConfigProperties;\r\n\t\r\n\t@Autowired\r\n\tprivate HttpHandler httpHandler;\r\n\t\t\r\n\tpublic TransactionalEmailResponse sendPostRequestForTransactionalEmail(String endpoint, TransactionalEmail emailRequestBody) {\r\n\t\tHttpHeaders httpHeaders = setHttpHeaders();\t\r\n\t\tResponseEntity&lt;TransactionalEmailResponse&gt; response = null;\r\n\t\ttry {\r\n\t\t\tresponse = httpHandler.sendPost(endpoint, httpHeaders, emailRequestBody, TransactionalEmailResponse.class);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;An error while sending POST request to email-service : &quot; + JsonUtils.jsonize(emailRequestBody), e);\r\n\t\t}\r\n\t\tTransactionalEmailResponse body = response.getBody();\r\n\t\treturn body;\r\n\t}\r\n```\r\nBelow is the unit test of the same:\r\n```\r\n@InjectMocks\r\n\tprivate APIKeyAuthHandler testAPIKeyAuthHandler;\r\n\t\r\n\t@Mock\r\n\tprivate HttpHandler httpHandler;\r\n\t\r\n\t@Mock\r\n\tprivate EmailServiceConfigProperties emailServiceConfigPropertiesMock;\r\n\r\n@Test\r\n\tpublic void testSendPostRequestForTransactionalEmail() {\r\n\t\tTransactionalEmail transactionalEmail = getTransactionalEmailRequestBody(); //returns POJO\r\n\t\tTransactionalEmailResponse transactionalEmailResponse = transcationEmailResponse();\r\n\t\t\r\n\t\tMockito.doReturn(setHttpHeaders()).when(testAPIKeyAuthHandler).setHttpHeaders(); returns POJO\r\n\t\tString sendEmailEndpoint = &quot;https://dev.com/api/v2/send/email&quot;;\r\n\t\tMockito.when(httpHandler.sendPost(sendEmailEndpoint, setHttpHeaders(), transactionalEmail, TransactionalEmailResponse.class))\r\n\t\t.thenReturn(new ResponseEntity&lt;&gt;(transactionalEmailResponse, HttpStatus.OK));\r\n\t\t\r\n\t\tassertNotNull(testAPIKeyAuthHandler.sendPostRequestForTransactionalEmail(sendEmailEndpoint, transactionalEmail));\r\n\t}\r\n```\r\n\r\nBelow is the log of the error:\r\n\r\n```\r\norg.mockito.exceptions.misusing.NotAMockException: \r\nArgument passed to when() is not a mock!\r\nExample of correct stubbing:\r\n    doThrow(new RuntimeException()).when(mock).someMethod();\r\n\tat service.api.handlers.APIKeyAuthHandlerUnitTest.testSendPostRequestForTransactionalEmail(APIKeyAuthHandlerUnitTest.java:42)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\r\n```\r\n\r\nCan someone help me with how to fix the same?\r\nThank you","title":"JAVA : JUNIT Argument passed to when() is not a mock","body":"<p>I'm trying to run unit test for below function</p>\n<pre><code>\n    @Autowired\n    private EmailServiceConfigProperties emailServiceConfigProperties;\n    \n    @Autowired\n    private HttpHandler httpHandler;\n        \n    public TransactionalEmailResponse sendPostRequestForTransactionalEmail(String endpoint, TransactionalEmail emailRequestBody) {\n        HttpHeaders httpHeaders = setHttpHeaders(); \n        ResponseEntity&lt;TransactionalEmailResponse&gt; response = null;\n        try {\n            response = httpHandler.sendPost(endpoint, httpHeaders, emailRequestBody, TransactionalEmailResponse.class);\n        } catch (Exception e) {\n            logger.error(&quot;An error while sending POST request to email-service : &quot; + JsonUtils.jsonize(emailRequestBody), e);\n        }\n        TransactionalEmailResponse body = response.getBody();\n        return body;\n    }\n</code></pre>\n<p>Below is the unit test of the same:</p>\n<pre><code>@InjectMocks\n    private APIKeyAuthHandler testAPIKeyAuthHandler;\n    \n    @Mock\n    private HttpHandler httpHandler;\n    \n    @Mock\n    private EmailServiceConfigProperties emailServiceConfigPropertiesMock;\n\n@Test\n    public void testSendPostRequestForTransactionalEmail() {\n        TransactionalEmail transactionalEmail = getTransactionalEmailRequestBody(); //returns POJO\n        TransactionalEmailResponse transactionalEmailResponse = transcationEmailResponse();\n        \n        Mockito.doReturn(setHttpHeaders()).when(testAPIKeyAuthHandler).setHttpHeaders(); returns POJO\n        String sendEmailEndpoint = &quot;https://dev.com/api/v2/send/email&quot;;\n        Mockito.when(httpHandler.sendPost(sendEmailEndpoint, setHttpHeaders(), transactionalEmail, TransactionalEmailResponse.class))\n        .thenReturn(new ResponseEntity&lt;&gt;(transactionalEmailResponse, HttpStatus.OK));\n        \n        assertNotNull(testAPIKeyAuthHandler.sendPostRequestForTransactionalEmail(sendEmailEndpoint, transactionalEmail));\n    }\n</code></pre>\n<p>Below is the log of the error:</p>\n<pre><code>org.mockito.exceptions.misusing.NotAMockException: \nArgument passed to when() is not a mock!\nExample of correct stubbing:\n    doThrow(new RuntimeException()).when(mock).someMethod();\n    at service.api.handlers.APIKeyAuthHandlerUnitTest.testSendPostRequestForTransactionalEmail(APIKeyAuthHandlerUnitTest.java:42)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n\n</code></pre>\n<p>Can someone help me with how to fix the same?\nThank you</p>\n"},{"tags":["java","spring-boot","spring-security","azure-ad-b2c","azure-ad-b2c-custom-policy"],"answers":[{"tags":[],"owner":{"account_id":21681461,"reputation":8709,"user_id":15997509,"display_name":"kavyaS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647867522,"creation_date":1647866899,"answer_id":71557882,"question_id":71531368,"body_markdown":"Please check if below references can be worked around:\r\n\r\nIf the user clicks the ‘Cancel’ button ,Azure AD B2C will return an error response with Error Code -AADB2C90091 .**This is  expected behavior** as the idea is to catch those error codes and redirect to any other page for example to home or index page,\r\nThe error is handled by the application based on the code sent back.\r\n\r\nTo mitigate the Error AADB2C90091 you must intercept the error response and prevent the Authentication middleware to throw this error back to page. \r\nThe user is redirected to the url specified in the redirect_uri but with error. But you can play with HTML template (with JavaScript) and add your own link.\r\n\r\nor\r\nTry to make use of `accessDeniedHandler`     under exceptionHandling()\r\n\r\n        .requestCache()\r\n        .requestCache(myRequestCache)\r\n        .and()       \r\n       .exceptionHandling()\r\n            .accessDeniedHandler(myAccessDeniedHandler)\r\n\r\nAnd  in accessdeniedhandler ,you can redirect to required page ex:login page in place as shown in below references.\r\n\r\nPlease see  : [spring - AccessDeniedHandler with redirect to login page - Stack Overflow][1] for more details\r\n&amp; [java - Handle Security exceptions in Spring Boot Resource Server - Stack Overflow][2]\r\n\r\n**Other references:**\r\n\r\n 1. [Spring Security – Customize the 403 Forbidden/Access Denied Page |\r\n    Baeldung][3]\r\n 2. [angular-oauth2-oidc forgot password flow - Javaer101][4]\r\n 3. [Cancel button Azure B2C - Microsoft Q&amp;A][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41610042/accessdeniedhandler-with-redirect-to-login-page\r\n  [2]: https://stackoverflow.com/questions/41140669/handle-security-exceptions-in-spring-boot-resource-server/41303283#41303283\r\n  [3]: https://www.baeldung.com/spring-security-custom-access-denied-page\r\n  [4]: https://www.javaer101.com/en/article/38649116.html\r\n  [5]: https://learn.microsoft.com/en-us/answers/questions/721436/cancel-button-azure-btc.html","title":"Spring Boot - Cancel button throws error on Azure AD B2C Policy","body":"<p>Please check if below references can be worked around:</p>\n<p>If the user clicks the ‘Cancel’ button ,Azure AD B2C will return an error response with Error Code -AADB2C90091 .<strong>This is  expected behavior</strong> as the idea is to catch those error codes and redirect to any other page for example to home or index page,\nThe error is handled by the application based on the code sent back.</p>\n<p>To mitigate the Error AADB2C90091 you must intercept the error response and prevent the Authentication middleware to throw this error back to page.\nThe user is redirected to the url specified in the redirect_uri but with error. But you can play with HTML template (with JavaScript) and add your own link.</p>\n<p>or\nTry to make use of <code>accessDeniedHandler</code>     under exceptionHandling()</p>\n<pre><code>    .requestCache()\n    .requestCache(myRequestCache)\n    .and()       \n   .exceptionHandling()\n        .accessDeniedHandler(myAccessDeniedHandler)\n</code></pre>\n<p>And  in accessdeniedhandler ,you can redirect to required page ex:login page in place as shown in below references.</p>\n<p>Please see  : <a href=\"https://stackoverflow.com/questions/41610042/accessdeniedhandler-with-redirect-to-login-page\">spring - AccessDeniedHandler with redirect to login page - Stack Overflow</a> for more details\n&amp; <a href=\"https://stackoverflow.com/questions/41140669/handle-security-exceptions-in-spring-boot-resource-server/41303283#41303283\">java - Handle Security exceptions in Spring Boot Resource Server - Stack Overflow</a></p>\n<p><strong>Other references:</strong></p>\n<ol>\n<li><a href=\"https://www.baeldung.com/spring-security-custom-access-denied-page\" rel=\"nofollow noreferrer\">Spring Security – Customize the 403 Forbidden/Access Denied Page |\nBaeldung</a></li>\n<li><a href=\"https://www.javaer101.com/en/article/38649116.html\" rel=\"nofollow noreferrer\">angular-oauth2-oidc forgot password flow - Javaer101</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/answers/questions/721436/cancel-button-azure-btc.html\" rel=\"nofollow noreferrer\">Cancel button Azure B2C - Microsoft Q&amp;A</a></li>\n</ol>\n"}],"owner":{"account_id":7864718,"reputation":135,"user_id":5943871,"accept_rate":33,"display_name":"sudhansh_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647867522,"creation_date":1647626763,"question_id":71531368,"body_markdown":"I have to consume a custom policy on Azure AD B2C on my Spring Boot App.\r\n\r\nWhen I try to &quot;Cancel&quot; from the Forgot Password policy, it takes me to localhost:8443/login?error.\r\n\r\nOn that page, it shows me\r\n\r\n&gt;[access_denied] AADB2C90091: The user has cancelled entering self-asserted information. Correlation ID: XXX-XXX-XXX-XXX-XXX Timestamp: 2022-03-18 18:00:37Z \r\n\r\nHow do I handle such errors in Spring Boot? What changes do I make in WebSecurity.java, if any?\r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp\r\n        .authorizeRequests()\r\n        \t.antMatchers(&quot;/welcome&quot;, &quot;/newRegistrationStart&quot;, &quot;/logoutSuccess&quot; ).permitAll()\r\n        \t.antMatchers(&quot;/images/*&quot;).permitAll()\r\n        \t.anyRequest().authenticated()\r\n        .and()\r\n        \t.logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/logoutSuccess&quot;)\r\n        .and()\r\n        \t.apply(configurer)\r\n        ;\r\n    }\r\n```","title":"Spring Boot - Cancel button throws error on Azure AD B2C Policy","body":"<p>I have to consume a custom policy on Azure AD B2C on my Spring Boot App.</p>\n<p>When I try to &quot;Cancel&quot; from the Forgot Password policy, it takes me to localhost:8443/login?error.</p>\n<p>On that page, it shows me</p>\n<blockquote>\n<p>[access_denied] AADB2C90091: The user has cancelled entering self-asserted information. Correlation ID: XXX-XXX-XXX-XXX-XXX Timestamp: 2022-03-18 18:00:37Z</p>\n</blockquote>\n<p>How do I handle such errors in Spring Boot? What changes do I make in WebSecurity.java, if any?</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n        .authorizeRequests()\n            .antMatchers(&quot;/welcome&quot;, &quot;/newRegistrationStart&quot;, &quot;/logoutSuccess&quot; ).permitAll()\n            .antMatchers(&quot;/images/*&quot;).permitAll()\n            .anyRequest().authenticated()\n        .and()\n            .logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/logoutSuccess&quot;)\n        .and()\n            .apply(configurer)\n        ;\n    }\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"comments":[{"owner":{"account_id":4441086,"reputation":2767,"user_id":3615605,"accept_rate":69,"display_name":"MathankumarK"},"score":0,"creation_date":1647362009,"post_id":71485703,"comment_id":126349820,"body_markdown":"Share more information about your question and share some code that you tried to achieve","body":"Share more information about your question and share some code that you tried to achieve"},{"owner":{"account_id":23089254,"reputation":3,"user_id":17200344,"display_name":"Faizan Yousaf"},"score":0,"creation_date":1647362201,"post_id":71485703,"comment_id":126349889,"body_markdown":"@MathankumarK below is the solution I found for the solution but it is not maintaining the navigation flow\n try {\n               navController.popBackStack(R.id.LabDashboard, true)\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n\nLabDashboard is my targeted fragment","body":"@MathankumarK below is the solution I found for the solution but it is not maintaining the navigation flow  try {                navController.popBackStack(R.id.LabDashboard, true)             } catch (e: Exception) {                 e.printStackTrace()             }  LabDashboard is my targeted fragment"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1647424391,"post_id":71485703,"comment_id":126365277,"body_markdown":"Why don&#39;t you use viewpager ?","body":"Why don&#39;t you use viewpager ?"},{"owner":{"account_id":20804099,"reputation":147,"user_id":15279383,"display_name":"Sasmita"},"score":0,"creation_date":1647536948,"post_id":71485703,"comment_id":126401696,"body_markdown":"You can use tab layout, navigation host fragment or view pager","body":"You can use tab layout, navigation host fragment or view pager"},{"owner":{"account_id":23089254,"reputation":3,"user_id":17200344,"display_name":"Faizan Yousaf"},"score":0,"creation_date":1647890055,"post_id":71485703,"comment_id":126480542,"body_markdown":"Found the solution, solution for this problem is popUpTo and popUpInclusive. Take help from here is anyone needs \ndeveloper.android.com/guide/navigation/navigation-navigat","body":"Found the solution, solution for this problem is popUpTo and popUpInclusive. Take help from here is anyone needs  developer.android.com/guide/navigation/navigation-navigat"}],"answers":[{"tags":[],"owner":{"account_id":24491899,"reputation":1,"user_id":18408870,"display_name":"Khalid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647867265,"creation_date":1647867265,"answer_id":71557962,"question_id":71485703,"body_markdown":"That&#39;s not how fragments work, when you add fragment to fragment manager, objects of fragments get stored in fragmentmanager&#39;s backstack. With multiple fragments they do not get rendered at the same time so that it would work with just show and hide. Therefore show and hide do not work. Only a single fragment gets rendered in fragment container which is on the top of the fragment backstack.","title":"Navigate to specific fragment from fragment","body":"<p>That's not how fragments work, when you add fragment to fragment manager, objects of fragments get stored in fragmentmanager's backstack. With multiple fragments they do not get rendered at the same time so that it would work with just show and hide. Therefore show and hide do not work. Only a single fragment gets rendered in fragment container which is on the top of the fragment backstack.</p>\n"}],"owner":{"account_id":23089254,"reputation":3,"user_id":17200344,"display_name":"Faizan Yousaf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647867265,"creation_date":1647361806,"question_id":71485703,"body_markdown":"I am trying to navigate back to specific fragment from current fragment, suppose the flow is\r\n\r\nA -&gt; B -&gt; C -&gt; D\r\n\r\nnow I am currently at fragment D, now what I want is\r\n\r\nfragment D -&gt; A\r\n\r\nfound couple of solutions but it is disturbing my navigating flow like disabling my back button and etc.\r\n","title":"Navigate to specific fragment from fragment","body":"<p>I am trying to navigate back to specific fragment from current fragment, suppose the flow is</p>\n<p>A -&gt; B -&gt; C -&gt; D</p>\n<p>now I am currently at fragment D, now what I want is</p>\n<p>fragment D -&gt; A</p>\n<p>found couple of solutions but it is disturbing my navigating flow like disabling my back button and etc.</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1647609724,"post_id":71527582,"comment_id":126419950,"body_markdown":"Either downgrade to Tomcat 9, or get a newer version of that library so it uses the jakarta namespace. There might be tools to convert libraries, but I haven&#39;t actually used any.","body":"Either downgrade to Tomcat 9, or get a newer version of that library so it uses the jakarta namespace. There might be tools to convert libraries, but I haven&#39;t actually used any."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647617294,"post_id":71527582,"comment_id":126423061,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1647866771,"creation_date":1647617320,"answer_id":71529414,"question_id":71527582,"body_markdown":"\r\n\r\n&gt; Tomcat 10\r\n\r\nApache Tomcat 9 and 10 are essentially the same product. One uses the javax.* package naming, and the other uses jakarta.* naming, respectively. The two products are developed in parallel.  \r\n\r\nThe change in package naming is part of the transition of Oracle handing off responsibility for Java EE technologies to the Eclipse Foundation where they were renamed [Jakarta EE][1]. \r\n\r\nIf you are not familiar with this transition, read some industry press, view some video presentations on YouTube etc. This has been covered many time in many places. \r\n\r\nIf you want to continue using the old naming, just use Tomcat 9 instead of Tomcat 10.0 — same performance, same feature set. You can defer making the name change if you so choose. But future development of Jakarta EE will be done in the new package naming. \r\n\r\nIf you choose to go with the new naming, you may need to do little more than change your `import` statements. There may be tools to assist you with this, including new features in the latest IDEs. Again, article and videos are plentiful. \r\n\r\n&gt; class MultipartParser need javax.servlet.http.HttpServletRequest \r\n\r\nIf you want to move to the new package naming, you will need to update any and all libraries and tooling using the old naming to new versions using the new naming. If you cannot obtain new versions, you’ll have to stick to the old naming and Tomcat 9. \r\n\r\n&gt; Or is there any jar i can use to upload file quickly?\r\n\r\nI expect you can find many libraries to assist with file upload. \r\n\r\nHowever, asking for software recommendations is explicitly off-topic on this site. See sister site, Software Recommendations Stack Exchange. \r\n\r\n\r\n  [1]: https://jakarta.ee/","title":"How to transform jakarta.servlet.http.HttpServletRequest to javax.servlet.http.HttpServletRequest","body":"<blockquote>\n<p>Tomcat 10</p>\n</blockquote>\n<p>Apache Tomcat 9 and 10 are essentially the same product. One uses the javax.* package naming, and the other uses jakarta.* naming, respectively. The two products are developed in parallel.</p>\n<p>The change in package naming is part of the transition of Oracle handing off responsibility for Java EE technologies to the Eclipse Foundation where they were renamed <a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">Jakarta EE</a>.</p>\n<p>If you are not familiar with this transition, read some industry press, view some video presentations on YouTube etc. This has been covered many time in many places.</p>\n<p>If you want to continue using the old naming, just use Tomcat 9 instead of Tomcat 10.0 — same performance, same feature set. You can defer making the name change if you so choose. But future development of Jakarta EE will be done in the new package naming.</p>\n<p>If you choose to go with the new naming, you may need to do little more than change your <code>import</code> statements. There may be tools to assist you with this, including new features in the latest IDEs. Again, article and videos are plentiful.</p>\n<blockquote>\n<p>class MultipartParser need javax.servlet.http.HttpServletRequest</p>\n</blockquote>\n<p>If you want to move to the new package naming, you will need to update any and all libraries and tooling using the old naming to new versions using the new naming. If you cannot obtain new versions, you’ll have to stick to the old naming and Tomcat 9.</p>\n<blockquote>\n<p>Or is there any jar i can use to upload file quickly?</p>\n</blockquote>\n<p>I expect you can find many libraries to assist with file upload.</p>\n<p>However, asking for software recommendations is explicitly off-topic on this site. See sister site, Software Recommendations Stack Exchange.</p>\n"}],"owner":{"account_id":24601051,"reputation":41,"user_id":18503926,"display_name":"Kreig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14404,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1647866771,"creation_date":1647609134,"question_id":71527582,"body_markdown":"I use package com.oreilly.servlet to upload files to my server which is build by Tomcat 10, but it seems this package is old and the class MultipartParser need javax.servlet.http.HttpServletRequest as parameter，but servlet only provide me jakarta.servlet.http.HttpServletRequest，so how can i transform jakarta class to javax class? Or is there any jar i can use to upload file quickly?","title":"How to transform jakarta.servlet.http.HttpServletRequest to javax.servlet.http.HttpServletRequest","body":"<p>I use package com.oreilly.servlet to upload files to my server which is build by Tomcat 10, but it seems this package is old and the class MultipartParser need javax.servlet.http.HttpServletRequest as parameter，but servlet only provide me jakarta.servlet.http.HttpServletRequest，so how can i transform jakarta class to javax class? Or is there any jar i can use to upload file quickly?</p>\n"},{"tags":["java","maven","liquibase","jooq","jooq-codegen-maven"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647866732,"creation_date":1647866732,"answer_id":71557848,"question_id":71556847,"body_markdown":"This is most likely due to a bug: https://github.com/jOOQ/jOOQ/issues/12997\r\n\r\n### Explanation and workaround\r\n\r\nBehind the scenes, in jOOQ 3.16, the `LiquibaseDatabase`, `DDLDatabase`, and `JPADatabase` all simulate your database migrations using an in-memory H2 database. This might be changed in the future, but that&#39;s how it works now. In H2, by default, all identifiers are in upper case, and so is the `&lt;inputSchema/&gt;` configuration. This means you should be including the `PUBLIC` schema, not the `public` schema.\r\n\r\nNote that also code generation output will contain references to `PUBLIC`, not `public`, so if you want to continue using the `LiquibaseDatabase`, you&#39;ll have to turn off quoting of identifiers at runtime using the [`RenderQuotedNames` setting][1].\r\n\r\n### More robust alternative that doesn&#39;t simulate Liquibase on H2\r\n\r\nAlternatively, you don&#39;t *have to* use the `LiquibaseDatabase`, as I&#39;ve mentioned elsewhere. You can also use testcontainers to run an actual migration directly on PostgreSQL, and reverse engineer an actual PostgreSQL database, instead, [as described in this blog post][2].\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/\r\n  [2]: https://blog.jooq.org/using-testcontainers-to-generate-jooq-code/","title":"How to configure jOOQ auto generator to run on basis of liquibase schema xml file?","body":"<p>This is most likely due to a bug: <a href=\"https://github.com/jOOQ/jOOQ/issues/12997\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12997</a></p>\n<h3>Explanation and workaround</h3>\n<p>Behind the scenes, in jOOQ 3.16, the <code>LiquibaseDatabase</code>, <code>DDLDatabase</code>, and <code>JPADatabase</code> all simulate your database migrations using an in-memory H2 database. This might be changed in the future, but that's how it works now. In H2, by default, all identifiers are in upper case, and so is the <code>&lt;inputSchema/&gt;</code> configuration. This means you should be including the <code>PUBLIC</code> schema, not the <code>public</code> schema.</p>\n<p>Note that also code generation output will contain references to <code>PUBLIC</code>, not <code>public</code>, so if you want to continue using the <code>LiquibaseDatabase</code>, you'll have to turn off quoting of identifiers at runtime using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/\" rel=\"nofollow noreferrer\"><code>RenderQuotedNames</code> setting</a>.</p>\n<h3>More robust alternative that doesn't simulate Liquibase on H2</h3>\n<p>Alternatively, you don't <em>have to</em> use the <code>LiquibaseDatabase</code>, as I've mentioned elsewhere. You can also use testcontainers to run an actual migration directly on PostgreSQL, and reverse engineer an actual PostgreSQL database, instead, <a href=\"https://blog.jooq.org/using-testcontainers-to-generate-jooq-code/\" rel=\"nofollow noreferrer\">as described in this blog post</a>.</p>\n"}],"owner":{"account_id":24617626,"reputation":63,"user_id":18518406,"display_name":"Divyanshi Mangal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71557848,"answer_count":1,"score":1,"last_activity_date":1647866732,"creation_date":1647861944,"question_id":71556847,"body_markdown":"I want jOOQ auto-code generator to run on basis of liquibase schema xml file located in resources folder (not on basis of database connection). The configuration part looks like this in pom.xml:\r\n\r\n```xml\r\n&lt;configuration xmlns=&quot;http://www.jooq.org/xsd/jooq-codegen-3.13.4.xsd&quot;&gt;\r\n    &lt;generator&gt;\r\n        &lt;database&gt;\r\n            &lt;name&gt;org.jooq.meta.extensions.liquibase.LiquibaseDatabase&lt;/name&gt;\r\n            &lt;includes&gt;.*&lt;/includes&gt;\r\n            &lt;excludes&gt;&lt;/excludes&gt;\r\n            &lt;inputSchema&gt;public&lt;/inputSchema&gt;\r\n\r\n            &lt;properties&gt;\r\n                &lt;property&gt;\r\n                    &lt;key&gt;scripts&lt;/key&gt;\r\n                    &lt;value&gt;/liquibase-outputChangeLog.xml&lt;/value&gt;\r\n                &lt;/property&gt;\r\n\r\n                &lt;property&gt;\r\n                    &lt;key&gt;includeLiquibaseTables&lt;/key&gt;\r\n                    &lt;value&gt;true&lt;/value&gt;\r\n                &lt;/property&gt;\r\n\r\n                &lt;property&gt;\r\n                    &lt;key&gt;database.liquibaseSchemaName&lt;/key&gt;\r\n                    &lt;value&gt;public&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/database&gt;\r\n\r\n        &lt;target&gt;\r\n            &lt;packageName&gt;jooqGenerated&lt;/packageName&gt;\r\n            &lt;directory&gt;target/generated-sources/jooq&lt;/directory&gt;\r\n        &lt;/target&gt;\r\n    &lt;/generator&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nIt is not able to generate jOOQ code in the specified folder, says \r\n\r\n```\r\n[ERROR] azure/postgresql/TrackerAzureImpl.java: package ...tables does not exist (for all the tables, I cannot even see elsewhere where jooq code is getting generated),\r\nAlso one warning: No schemata were loaded: [WARNING] No schemata were loaded  : Please check your connection settings, and whether your database (and your database version!) is really supported by jOOQ. Also, check the case-sensitivity in your configured &lt;inputSchema/&gt; elements : {=[public]}\r\n```\r\n\r\nPlease guide.","title":"How to configure jOOQ auto generator to run on basis of liquibase schema xml file?","body":"<p>I want jOOQ auto-code generator to run on basis of liquibase schema xml file located in resources folder (not on basis of database connection). The configuration part looks like this in pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration xmlns=&quot;http://www.jooq.org/xsd/jooq-codegen-3.13.4.xsd&quot;&gt;\n    &lt;generator&gt;\n        &lt;database&gt;\n            &lt;name&gt;org.jooq.meta.extensions.liquibase.LiquibaseDatabase&lt;/name&gt;\n            &lt;includes&gt;.*&lt;/includes&gt;\n            &lt;excludes&gt;&lt;/excludes&gt;\n            &lt;inputSchema&gt;public&lt;/inputSchema&gt;\n\n            &lt;properties&gt;\n                &lt;property&gt;\n                    &lt;key&gt;scripts&lt;/key&gt;\n                    &lt;value&gt;/liquibase-outputChangeLog.xml&lt;/value&gt;\n                &lt;/property&gt;\n\n                &lt;property&gt;\n                    &lt;key&gt;includeLiquibaseTables&lt;/key&gt;\n                    &lt;value&gt;true&lt;/value&gt;\n                &lt;/property&gt;\n\n                &lt;property&gt;\n                    &lt;key&gt;database.liquibaseSchemaName&lt;/key&gt;\n                    &lt;value&gt;public&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/properties&gt;\n        &lt;/database&gt;\n\n        &lt;target&gt;\n            &lt;packageName&gt;jooqGenerated&lt;/packageName&gt;\n            &lt;directory&gt;target/generated-sources/jooq&lt;/directory&gt;\n        &lt;/target&gt;\n    &lt;/generator&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>It is not able to generate jOOQ code in the specified folder, says</p>\n<pre><code>[ERROR] azure/postgresql/TrackerAzureImpl.java: package ...tables does not exist (for all the tables, I cannot even see elsewhere where jooq code is getting generated),\nAlso one warning: No schemata were loaded: [WARNING] No schemata were loaded  : Please check your connection settings, and whether your database (and your database version!) is really supported by jOOQ. Also, check the case-sensitivity in your configured &lt;inputSchema/&gt; elements : {=[public]}\n</code></pre>\n<p>Please guide.</p>\n"},{"tags":["java","multithreading","multiprocessing","helper","pi"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647866189,"post_id":71557671,"comment_id":126471037,"body_markdown":"What problem are you having doing this, precisely?","body":"What problem are you having doing this, precisely?"},{"owner":{"account_id":24629918,"reputation":1,"user_id":18529269,"display_name":"Ahtess_ Khan"},"score":0,"creation_date":1647866717,"post_id":71557671,"comment_id":126471274,"body_markdown":"hi, I want to do multithreading. e.g, i want these  numberOfDarts = 100_000_000; to be divided in half and then execute the program in threads and A TotalWithin class that keeps track of the number of darts that are within the dart board","body":"hi, I want to do multithreading. e.g, i want these  numberOfDarts = 100_000_000; to be divided in half and then execute the program in threads and A TotalWithin class that keeps track of the number of darts that are within the dart board"},{"owner":{"account_id":24629918,"reputation":1,"user_id":18529269,"display_name":"Ahtess_ Khan"},"score":0,"creation_date":1647867846,"post_id":71557671,"comment_id":126471733,"body_markdown":"@tgdavies Do you get what i am trying to tell ?","body":"@tgdavies Do you get what i am trying to tell ?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647866681,"creation_date":1647866681,"answer_id":71557838,"question_id":71557671,"body_markdown":"Every time 2 separate threads need to synchronize anything, you get a slowdown. Hence, trying to keep one counter that counts how many darts were thrown by _all_ the threads is quite expensive, and doesn&#39;t seem relevant: It is much less tricky to gather up individual thread&#39;s total throw counts when they are done, or if you intent is to run them endlessly, for them to update the &#39;main counter&#39; only every 1000 throws or so.\r\n\r\nThe primitives you need to perform this task:\r\n\r\n## Threads\r\n\r\nYou start with encapsulating the &#39;job&#39; of a dart thrower. Whatever state you want to look at is probably best stored as actual state - as fields of instances of such a class. You&#39;re going to make a bunch of these, and have one thread running each.\r\n```\r\npublic class DartThrower implements Runnable {\r\n  private int within;\r\n  private int thrown;\r\n  \r\n  @Override public void run() {\r\n    Random r = new Random();\r\n    for (int i = 0; i &lt; MAX_THROW; i++) {\r\n      // the usual logic goes here\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThen to actually make a thread that runs a &#39;thrower&#39; on its own, simply:\r\n\r\n```\r\nDartThrower thrower = new DartThrower();\r\nnew Thread(thrower).start();\r\n```\r\n\r\n## synchronization\r\n\r\nAnytime a thread accesses any field in any class anywhere, the JVM flips an evil coin. If the coin lands heads, you get a local cached copy of that field (unique to the thread - one thread reads &#39;5&#39;, another may read &#39;8&#39;, because they each have a local copy). On tails, the thread syncs up the cached copies with other threads.\r\n\r\nIt&#39;s &#39;evil&#39; in the sense that it may flip heads _every time_, reliably, throughout all your testing and your first week on production, and then it starts flipping tails juuust when that important prospective customer shows up and you&#39;re giving a demo. The name of the game is to prevent the JVM from flipping it. You do this by establishing happens-before relationships, which is quite detailed - usually you want _ALL_ inter-thread communication to be tightly controlled, because you can&#39;t test this stuff.\r\n\r\n## Useful synchronization primitives\r\n\r\n* In this case, `AtomicInteger` is great. You can use it to have a single counter that all the dart instances increment. That class promises syncing (but, _all_ syncing is somewhat slow, so keep that in mind).\r\n\r\n* To speed things up, you can have your dart throwers update the 2  AtomicIntegers representing thrown and within for all throwers, only every 1000 throws or so, this should massively speed things up considerably.\r\n\r\n* Alternatively, don&#39;t have any global AtomicIntegers at all; just run your dart throwers and wait for them to complete the job. &quot;The thread is now done&quot; is guaranteed to happens-before any attempt to read anything that the now-done thread changed by any code that already established that the other thread is done. Thread itself isn&#39;t the right abstraction for this - for that you need an ExecutorPool.\r\n\r\n## ExecutorPool\r\n\r\nThis concept of &quot;I have a task I want to do a few million times, each &#39;run&#39; is independent of all others, and I just want to merge some &#39;result&#39; values from each runner once they are all done, then all I need is the merged results&quot; - is very common. ExecutorPool is a class baked into core java that helps with this.\r\n\r\n[Here is a great tutorial](https://www.baeldung.com/thread-pool-java-and-guava).\r\n\r\nThis is by far the best option if you want to go for maximum speed: Set up X dart throwers (X = equal to # of cores on the CPU and figured out by the JVM for you), they all throw however many they need to, and you only report the result at the end.\r\n","title":"pi estimation by throwing darts using multithreaded in java","body":"<p>Every time 2 separate threads need to synchronize anything, you get a slowdown. Hence, trying to keep one counter that counts how many darts were thrown by <em>all</em> the threads is quite expensive, and doesn't seem relevant: It is much less tricky to gather up individual thread's total throw counts when they are done, or if you intent is to run them endlessly, for them to update the 'main counter' only every 1000 throws or so.</p>\n<p>The primitives you need to perform this task:</p>\n<h2>Threads</h2>\n<p>You start with encapsulating the 'job' of a dart thrower. Whatever state you want to look at is probably best stored as actual state - as fields of instances of such a class. You're going to make a bunch of these, and have one thread running each.</p>\n<pre><code>public class DartThrower implements Runnable {\n  private int within;\n  private int thrown;\n  \n  @Override public void run() {\n    Random r = new Random();\n    for (int i = 0; i &lt; MAX_THROW; i++) {\n      // the usual logic goes here\n    }\n  }\n}\n</code></pre>\n<p>Then to actually make a thread that runs a 'thrower' on its own, simply:</p>\n<pre><code>DartThrower thrower = new DartThrower();\nnew Thread(thrower).start();\n</code></pre>\n<h2>synchronization</h2>\n<p>Anytime a thread accesses any field in any class anywhere, the JVM flips an evil coin. If the coin lands heads, you get a local cached copy of that field (unique to the thread - one thread reads '5', another may read '8', because they each have a local copy). On tails, the thread syncs up the cached copies with other threads.</p>\n<p>It's 'evil' in the sense that it may flip heads <em>every time</em>, reliably, throughout all your testing and your first week on production, and then it starts flipping tails juuust when that important prospective customer shows up and you're giving a demo. The name of the game is to prevent the JVM from flipping it. You do this by establishing happens-before relationships, which is quite detailed - usually you want <em>ALL</em> inter-thread communication to be tightly controlled, because you can't test this stuff.</p>\n<h2>Useful synchronization primitives</h2>\n<ul>\n<li><p>In this case, <code>AtomicInteger</code> is great. You can use it to have a single counter that all the dart instances increment. That class promises syncing (but, <em>all</em> syncing is somewhat slow, so keep that in mind).</p>\n</li>\n<li><p>To speed things up, you can have your dart throwers update the 2  AtomicIntegers representing thrown and within for all throwers, only every 1000 throws or so, this should massively speed things up considerably.</p>\n</li>\n<li><p>Alternatively, don't have any global AtomicIntegers at all; just run your dart throwers and wait for them to complete the job. &quot;The thread is now done&quot; is guaranteed to happens-before any attempt to read anything that the now-done thread changed by any code that already established that the other thread is done. Thread itself isn't the right abstraction for this - for that you need an ExecutorPool.</p>\n</li>\n</ul>\n<h2>ExecutorPool</h2>\n<p>This concept of &quot;I have a task I want to do a few million times, each 'run' is independent of all others, and I just want to merge some 'result' values from each runner once they are all done, then all I need is the merged results&quot; - is very common. ExecutorPool is a class baked into core java that helps with this.</p>\n<p><a href=\"https://www.baeldung.com/thread-pool-java-and-guava\" rel=\"nofollow noreferrer\">Here is a great tutorial</a>.</p>\n<p>This is by far the best option if you want to go for maximum speed: Set up X dart throwers (X = equal to # of cores on the CPU and figured out by the JVM for you), they all throw however many they need to, and you only report the result at the end.</p>\n"}],"owner":{"account_id":24629918,"reputation":1,"user_id":18529269,"display_name":"Ahtess_ Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71557838,"answer_count":1,"score":0,"last_activity_date":1647866681,"creation_date":1647865809,"question_id":71557671,"body_markdown":"I have to write a code to use multithreading for piEstimator. It is a simple algorithm that makes an estimate of Pi. The algorithm works by throwing theoretical darts at a dartboard darts that hit the board fall within the quarter circle darts that miss is outside it. The dartboard has a height and width of 1. We throw a dart by generating a random x and y coordinate for the dart between 0 and 1.  I have calculated this using Pythagoras (x2+y2= dist2) \r\n\r\nmy code \r\n \r\n\r\n    import java.util.Random;\r\n\r\n    public class PiEstimator {\r\n    //number of iterations the algorithm, a larger number here should result in a more accurate estimate\r\n    public static int numberOfDarts = 100_000_000;\r\n    public static void main(String[] args) {\r\n        //how many darts lie within the quarter circle region\r\n        int within = 0;\r\n        Random r = new Random();\r\n        for(int i = 0; i&lt; numberOfDarts; i++){\r\n            //get x and y coordinates for the darts\r\n            double x = r.nextDouble();\r\n            double y = r.nextDouble();\r\n            //calculate the distance from the origin (0, 0) darts with a distance less than 1 are within the\r\n            //quarter circle so add these to within\r\n            double dist = Math.sqrt((x*x) + (y*y));\r\n            if(dist &lt; 1)\r\n                within++;\r\n        }\r\n\r\n        //estimate pi by getting proportion of darts in the quarter circle and multiplying by 4.\r\n        double estimate = (double)within/numberOfDarts *4;\r\n        System.out.println(estimate);\r\n\r\n    }\r\n    }\r\n\r\n\r\nWhat I want to do is\r\n1. A TotalWithin class that keeps track of the number of darts that are within the dart board• A class that extends Thread which throws darts, works out their distance from the origin and increases the value held within TotalWithin if needed.\r\n\r\n\r\n","title":"pi estimation by throwing darts using multithreaded in java","body":"<p>I have to write a code to use multithreading for piEstimator. It is a simple algorithm that makes an estimate of Pi. The algorithm works by throwing theoretical darts at a dartboard darts that hit the board fall within the quarter circle darts that miss is outside it. The dartboard has a height and width of 1. We throw a dart by generating a random x and y coordinate for the dart between 0 and 1.  I have calculated this using Pythagoras (x2+y2= dist2)</p>\n<p>my code</p>\n<pre><code>import java.util.Random;\n\npublic class PiEstimator {\n//number of iterations the algorithm, a larger number here should result in a more accurate estimate\npublic static int numberOfDarts = 100_000_000;\npublic static void main(String[] args) {\n    //how many darts lie within the quarter circle region\n    int within = 0;\n    Random r = new Random();\n    for(int i = 0; i&lt; numberOfDarts; i++){\n        //get x and y coordinates for the darts\n        double x = r.nextDouble();\n        double y = r.nextDouble();\n        //calculate the distance from the origin (0, 0) darts with a distance less than 1 are within the\n        //quarter circle so add these to within\n        double dist = Math.sqrt((x*x) + (y*y));\n        if(dist &lt; 1)\n            within++;\n    }\n\n    //estimate pi by getting proportion of darts in the quarter circle and multiplying by 4.\n    double estimate = (double)within/numberOfDarts *4;\n    System.out.println(estimate);\n\n}\n}\n</code></pre>\n<p>What I want to do is</p>\n<ol>\n<li>A TotalWithin class that keeps track of the number of darts that are within the dart board• A class that extends Thread which throws darts, works out their distance from the origin and increases the value held within TotalWithin if needed.</li>\n</ol>\n"},{"tags":["java","clojure","bit","sha","bit-packing"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1647777975,"post_id":71537595,"comment_id":126451770,"body_markdown":"Why do you need a string back? Couldn&#39;t you use a byte array so you don&#39;t have to battle against character encodings and such things?  https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java","body":"Why do you need a string back? Couldn&#39;t you use a byte array so you don&#39;t have to battle against character encodings and such things?  <a href=\"https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java\" title=\"convert a string representation of a hex dump to a byte array using java\">stackoverflow.com/questions/140131/&hellip;</a>"},{"owner":{"account_id":4602967,"reputation":161,"user_id":3733191,"accept_rate":0,"display_name":"Suvrat Apte"},"score":0,"creation_date":1647868997,"post_id":71537595,"comment_id":126472182,"body_markdown":"@cfrick Yes, that&#39;s what I did in the end. But I was anyway curious as to what is going wrong here.","body":"@cfrick Yes, that&#39;s what I did in the end. But I was anyway curious as to what is going wrong here."}],"answers":[{"tags":[],"owner":{"account_id":18010296,"reputation":807,"user_id":13090146,"display_name":"dorab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647734417,"creation_date":1647734417,"answer_id":71543031,"question_id":71537595,"body_markdown":"In general, it is not possible to pack 40 bytes into 20 bytes in a reversible manner.  You **will** lose information in the packing.  I have not read the &quot;Building Git&quot; book, so not quite sure what exactly they are trying to do.  Perhaps you can edit your question to clarify.\r\n\r\nA SHA-1 is always 20 bytes.  In order to print those 20 *bytes*, you can display them using 40 hex *characters*, where each byte is displayed as 2 hex characters.  That is not 40 bytes, but 40 characters for the display.\r\n\r\nThere can be other ways to display the 20 bytes.  For example, you could consider each byte as an unsigned integer between 000 and 255 (1-3 characters) and a space between them.  In that case, your first example SHA would be displayed as\r\n`&quot;0 195 84 34 24 91 241 220 165 148 246 153 8 69 37 232 208 184 86 159&quot;`.\r\n\r\nThe byte that displays as `08` in hex is the backspace character.  I tried typing a backspace into the ASCII-to-Hex converter you provided and was not able to.  So, I would not trust that converter to work correctly for all characters.","title":"Packing a 40 byte SHA in 20 bytes in Clojure","body":"<p>In general, it is not possible to pack 40 bytes into 20 bytes in a reversible manner.  You <strong>will</strong> lose information in the packing.  I have not read the &quot;Building Git&quot; book, so not quite sure what exactly they are trying to do.  Perhaps you can edit your question to clarify.</p>\n<p>A SHA-1 is always 20 bytes.  In order to print those 20 <em>bytes</em>, you can display them using 40 hex <em>characters</em>, where each byte is displayed as 2 hex characters.  That is not 40 bytes, but 40 characters for the display.</p>\n<p>There can be other ways to display the 20 bytes.  For example, you could consider each byte as an unsigned integer between 000 and 255 (1-3 characters) and a space between them.  In that case, your first example SHA would be displayed as\n<code>&quot;0 195 84 34 24 91 241 220 165 148 246 153 8 69 37 232 208 184 86 159&quot;</code>.</p>\n<p>The byte that displays as <code>08</code> in hex is the backspace character.  I tried typing a backspace into the ASCII-to-Hex converter you provided and was not able to.  So, I would not trust that converter to work correctly for all characters.</p>\n"},{"tags":[],"owner":{"account_id":66342,"reputation":151,"user_id":194678,"display_name":"tudor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647866491,"creation_date":1647861323,"answer_id":71556705,"question_id":71537595,"body_markdown":"Actually, I think it works - you may have trouble with copy/pasting the string that the pack-sha-1 is outputting.\r\n\r\nIf you do: \r\n`(def packed-sha-1 (pack-sha-1 &quot;00c35422185bf1dca594f699084525e8d0b8569f&quot;))`\r\n\r\nand then using the answer from here: [Clojure&#39;s equivalent to python&#39;s encode hex and decodehex][1] you convert it back:\r\n\r\n    (hexify (map short (seq packed-sha-1)))\r\n\r\nyou get back the &quot;00c35422185bf1dca594f699084525e8d0b8569f&quot; string.\r\n\r\n    (=  &quot;00c35422185bf1dca594f699084525e8d0b8569f&quot; (hexify (map short (seq packed-sha-1 ))))\r\n    true\r\n\r\n \r\n  [1]: https://stackoverflow.com/questions/10062967/clojures-equivalent-to-pythons-encodehex-and-decodehex","title":"Packing a 40 byte SHA in 20 bytes in Clojure","body":"<p>Actually, I think it works - you may have trouble with copy/pasting the string that the pack-sha-1 is outputting.</p>\n<p>If you do:\n<code>(def packed-sha-1 (pack-sha-1 &quot;00c35422185bf1dca594f699084525e8d0b8569f&quot;))</code></p>\n<p>and then using the answer from here: <a href=\"https://stackoverflow.com/questions/10062967/clojures-equivalent-to-pythons-encodehex-and-decodehex\">Clojure's equivalent to python's encode hex and decodehex</a> you convert it back:</p>\n<pre><code>(hexify (map short (seq packed-sha-1)))\n</code></pre>\n<p>you get back the &quot;00c35422185bf1dca594f699084525e8d0b8569f&quot; string.</p>\n<pre><code>(=  &quot;00c35422185bf1dca594f699084525e8d0b8569f&quot; (hexify (map short (seq packed-sha-1 ))))\ntrue\n</code></pre>\n"}],"owner":{"account_id":4602967,"reputation":161,"user_id":3733191,"accept_rate":0,"display_name":"Suvrat Apte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647866491,"creation_date":1647687803,"question_id":71537595,"body_markdown":"To pack a 40 byte SHA in 20 bytes, we are doing this:\r\n\r\n```\r\n(defn pack-sha-1 [sha-1] \r\n  (-&gt;&gt; sha-1\r\n       (partition 2)\r\n       (map (partial apply str)) ;; To convert back to list of strings\r\n       (map (fn [hex] (-&gt; hex\r\n                         (Integer/parseInt 16)\r\n                         char)))\r\n       (apply str)))             ;; To convert back to string\r\n```\r\nFirst we partition by 2 and then convert that into a single character. \r\n\r\nThis is essentially the packing step where 2 hex characters are converted into a\r\nsingle character.\r\n\r\nWhen we try to convert the packed string back to its 40 bytes SHA (using\r\nhttps://www.rapidtables.com/convert/number/ascii-to-hex.html), it does not give\r\nthe same SHA back in all the cases. \r\n\r\nIt works for: &quot;5e4fb7a0afe4f2ec9768a9ddd2c476dab7fd449b&quot;\r\n\r\nBut it does not work for: &quot;00c35422185bf1dca594f699084525e8d0b8569f&quot;\r\n\r\nWhenever there is a pair of hex in the range (&quot;08&quot; - &quot;0d&quot;), it does not work.\r\n\r\nWhat is going wrong here?\r\n\r\nThis is done as part of implementing James Coglan&#39;s book &quot;Building Git&quot; in Clojure.\r\n\r\nThanks for your help!","title":"Packing a 40 byte SHA in 20 bytes in Clojure","body":"<p>To pack a 40 byte SHA in 20 bytes, we are doing this:</p>\n<pre><code>(defn pack-sha-1 [sha-1] \n  (-&gt;&gt; sha-1\n       (partition 2)\n       (map (partial apply str)) ;; To convert back to list of strings\n       (map (fn [hex] (-&gt; hex\n                         (Integer/parseInt 16)\n                         char)))\n       (apply str)))             ;; To convert back to string\n</code></pre>\n<p>First we partition by 2 and then convert that into a single character.</p>\n<p>This is essentially the packing step where 2 hex characters are converted into a\nsingle character.</p>\n<p>When we try to convert the packed string back to its 40 bytes SHA (using\n<a href=\"https://www.rapidtables.com/convert/number/ascii-to-hex.html\" rel=\"nofollow noreferrer\">https://www.rapidtables.com/convert/number/ascii-to-hex.html</a>), it does not give\nthe same SHA back in all the cases.</p>\n<p>It works for: &quot;5e4fb7a0afe4f2ec9768a9ddd2c476dab7fd449b&quot;</p>\n<p>But it does not work for: &quot;00c35422185bf1dca594f699084525e8d0b8569f&quot;</p>\n<p>Whenever there is a pair of hex in the range (&quot;08&quot; - &quot;0d&quot;), it does not work.</p>\n<p>What is going wrong here?</p>\n<p>This is done as part of implementing James Coglan's book &quot;Building Git&quot; in Clojure.</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","hashmap","synchronized"],"comments":[{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":0,"creation_date":1374925920,"post_id":17897437,"comment_id":26140740,"body_markdown":"Making structures thread-safe needs additional runtime work (CPU cycles). So if thread-safety isn&#39;t an issue, `HashMap` is more efficient","body":"Making structures thread-safe needs additional runtime work (CPU cycles). So if thread-safety isn&#39;t an issue, <code>HashMap</code> is more efficient"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1374926032,"post_id":17897437,"comment_id":26140766,"body_markdown":"It is not a good choice if it is shared, but if it is restricted to a single thread there is no issue... There are use cases for both situations...","body":"It is not a good choice if it is shared, but if it is restricted to a single thread there is no issue... There are use cases for both situations..."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1374926206,"post_id":17897437,"comment_id":26140815,"body_markdown":"If you can ensure single-threaded access to that `HashMap`, you can use it safely. Otherwise, start and ask yourself questions...","body":"If you can ensure single-threaded access to that <code>HashMap</code>, you can use it safely. Otherwise, start and ask yourself questions..."}],"answers":[{"tags":[],"owner":{"account_id":1179367,"reputation":3434,"user_id":1154654,"accept_rate":50,"display_name":"saurav"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1374926292,"creation_date":1374926292,"answer_id":17897516,"question_id":17897437,"body_markdown":" I can confidently say ConcurrentHashMap is a pretty ignored class. Not many people know about it and not many people care to use it. The class offers a very robust and fast method of synchronizing a Map collection. I have read a few comparisons of HashMap and ConcurrentHashMap on the web. Let me just say that they’re totally wrong. There is no way you can compare the two, one offers synchronized methods to access a map while the other offers no synchronization whatsoever. \r\n\r\nWhat most of us fail to notice is that while our applications, web applications especially, work fine during the development &amp; testing phase, they usually go tilts up under heavy (or even moderately heavy) load. This is due to the fact that we expect our HashMap’s to behave a certain way but under load they usually misbehave. Hashtable’s offer concurrent access to their entries, with a small caveat, the entire map is locked to perform any sort of operation. \r\n\r\nWhile this overhead is ignorable in a web application under normal load, under heavy load it can lead to delayed response times and overtaxing of your server for no good reason. This is where ConcurrentHashMap’s step in. They offer all the features of Hashtable with a performance almost as good as a HashMap. ConcurrentHashMap’s accomplish this by a very simple mechanism. \r\n\r\nInstead of a map wide lock, the collection maintains a list of 16 locks by default, each of which is used to guard (or lock on) a single bucket of the map. This effectively means that 16 threads can modify the collection at a single time (as long as they’re all working on different buckets). Infact there is no operation performed by this collection that locks the entire map.","title":"Why should we use HashMap in multi-threaded environments?","body":"<p>I can confidently say ConcurrentHashMap is a pretty ignored class. Not many people know about it and not many people care to use it. The class offers a very robust and fast method of synchronizing a Map collection. I have read a few comparisons of HashMap and ConcurrentHashMap on the web. Let me just say that they’re totally wrong. There is no way you can compare the two, one offers synchronized methods to access a map while the other offers no synchronization whatsoever. </p>\n\n<p>What most of us fail to notice is that while our applications, web applications especially, work fine during the development &amp; testing phase, they usually go tilts up under heavy (or even moderately heavy) load. This is due to the fact that we expect our HashMap’s to behave a certain way but under load they usually misbehave. Hashtable’s offer concurrent access to their entries, with a small caveat, the entire map is locked to perform any sort of operation. </p>\n\n<p>While this overhead is ignorable in a web application under normal load, under heavy load it can lead to delayed response times and overtaxing of your server for no good reason. This is where ConcurrentHashMap’s step in. They offer all the features of Hashtable with a performance almost as good as a HashMap. ConcurrentHashMap’s accomplish this by a very simple mechanism. </p>\n\n<p>Instead of a map wide lock, the collection maintains a list of 16 locks by default, each of which is used to guard (or lock on) a single bucket of the map. This effectively means that 16 threads can modify the collection at a single time (as long as they’re all working on different buckets). Infact there is no operation performed by this collection that locks the entire map.</p>\n"},{"tags":[],"owner":{"account_id":1900543,"reputation":4792,"user_id":1716487,"accept_rate":82,"display_name":"morpheus05"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374927749,"creation_date":1374926395,"answer_id":17897537,"question_id":17897437,"body_markdown":"There are several aspects to this: First of all, most of the collections are not thread safe. If you want a thread safe collection you can call [`synchronizedCollection`](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#synchronizedCollection%28java.util.Collection%29) or [`synchronizedMap`](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#synchronizedMap%28java.util.Map%29)\r\n\r\nBut the main point is this: You want your threads to run in parallel, no synchronization at all - if possible of course. This is something you should strive for but of course cannot be achieved every time you deal with multithreading. \r\nBut there is no point in making the default collection/map thread safe, because it should be an edge case that a map is shared. Synchronization means more work for the jvm. ","title":"Why should we use HashMap in multi-threaded environments?","body":"<p>There are several aspects to this: First of all, most of the collections are not thread safe. If you want a thread safe collection you can call <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#synchronizedCollection%28java.util.Collection%29\" rel=\"nofollow\"><code>synchronizedCollection</code></a> or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#synchronizedMap%28java.util.Map%29\" rel=\"nofollow\"><code>synchronizedMap</code></a></p>\n\n<p>But the main point is this: You want your threads to run in parallel, no synchronization at all - if possible of course. This is something you should strive for but of course cannot be achieved every time you deal with multithreading. \nBut there is no point in making the default collection/map thread safe, because it should be an edge case that a map is shared. Synchronization means more work for the jvm. </p>\n"},{"tags":[],"owner":{"account_id":2838973,"reputation":847,"user_id":2438930,"accept_rate":100,"display_name":"Sheel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374927013,"creation_date":1374927013,"answer_id":17897660,"question_id":17897437,"body_markdown":"In a multithreaded environment, you have to ensure that it is not modified concurrently or you can reach a critical memory problem, because it is not synchronized in any way.\r\n\r\nDear just check Api previously I also thinking in same manner.\r\n\r\nI thought that the solution was to use the static Collections.synchronizedMap method. I was expecting it to return a better implementation. But if you look at the source code you will realize that all they do in there is just a wrapper with a synchronized call on a mutex, which happens to be the same map, not allowing reads to occur concurrently.\r\n\r\nIn the Jakarta commons project, there is an implementation that is called FastHashMap. This implementation has a property called fast. If fast is true, then the reads are non-synchronized, and the writes will perform the following steps:\r\n\r\n    Clone the current structure\r\n    Perform the modification on the clone\r\n    Replace the existing structure with the modified clone \r\n    public class FastSynchronizedMap implements Map,   \r\n    Serializable {\r\n\r\n    private final Map m;\r\n    private ReentrantReadWriteLock lock = new ReentrantReadWriteLock();\r\n\r\n    .\r\n    .\r\n    .\r\n\r\n    public V get(Object key) {\r\n\tlock.readLock().lock();\r\n\tV value = null;\r\n\ttry {\r\n\t    value = m.get(key);\r\n\t} finally {\r\n\t    lock.readLock().unlock();\r\n\t}\r\n\treturn value;\r\n    }\r\n\r\n    public V put(K key, V value) {\r\n\tlock.writeLock().lock();\r\n\tV v = null;\r\n\ttry {\r\n\t    v = m.put(key, value);\r\n\t} finally {\r\n\t    lock.writeLock().lock();\r\n\t}\r\n\treturn v;\r\n    }\r\n\r\n    .\r\n    .\r\n    .\r\n    }\r\nNote that we do a try finally block, we want to guarantee that the lock is released no matter what problem is encountered in the block.\r\n\r\nThis implementation works well when you have almost no write operations, and mostly read operations.","title":"Why should we use HashMap in multi-threaded environments?","body":"<p>In a multithreaded environment, you have to ensure that it is not modified concurrently or you can reach a critical memory problem, because it is not synchronized in any way.</p>\n\n<p>Dear just check Api previously I also thinking in same manner.</p>\n\n<p>I thought that the solution was to use the static Collections.synchronizedMap method. I was expecting it to return a better implementation. But if you look at the source code you will realize that all they do in there is just a wrapper with a synchronized call on a mutex, which happens to be the same map, not allowing reads to occur concurrently.</p>\n\n<p>In the Jakarta commons project, there is an implementation that is called FastHashMap. This implementation has a property called fast. If fast is true, then the reads are non-synchronized, and the writes will perform the following steps:</p>\n\n<pre><code>Clone the current structure\nPerform the modification on the clone\nReplace the existing structure with the modified clone \npublic class FastSynchronizedMap implements Map,   \nSerializable {\n\nprivate final Map m;\nprivate ReentrantReadWriteLock lock = new ReentrantReadWriteLock();\n\n.\n.\n.\n\npublic V get(Object key) {\nlock.readLock().lock();\nV value = null;\ntry {\n    value = m.get(key);\n} finally {\n    lock.readLock().unlock();\n}\nreturn value;\n}\n\npublic V put(K key, V value) {\nlock.writeLock().lock();\nV v = null;\ntry {\n    v = m.put(key, value);\n} finally {\n    lock.writeLock().lock();\n}\nreturn v;\n}\n\n.\n.\n.\n}\n</code></pre>\n\n<p>Note that we do a try finally block, we want to guarantee that the lock is released no matter what problem is encountered in the block.</p>\n\n<p>This implementation works well when you have almost no write operations, and mostly read operations.</p>\n"},{"tags":[],"owner":{"account_id":7172095,"reputation":31,"user_id":5479253,"display_name":"netblogger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491626771,"creation_date":1491626771,"answer_id":43290283,"question_id":17897437,"body_markdown":"Hashmap can be used when a single thread has an access to it. However when multiple threads start accessing the Hashmap there will be 2 main problems:\r\n1. resizing of hashmap is not gauranteed to work as expected.\r\n2. Concurrent Modification exception would be thrown. This can also be thrown when its accessed by single thread to read and write onto the hashmap at the same time.","title":"Why should we use HashMap in multi-threaded environments?","body":"<p>Hashmap can be used when a single thread has an access to it. However when multiple threads start accessing the Hashmap there will be 2 main problems:\n1. resizing of hashmap is not gauranteed to work as expected.\n2. Concurrent Modification exception would be thrown. This can also be thrown when its accessed by single thread to read and write onto the hashmap at the same time.</p>\n"},{"tags":[],"owner":{"account_id":4576660,"reputation":157,"user_id":3714933,"display_name":"Rimmy Mathew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506661230,"creation_date":1506661230,"answer_id":46482093,"question_id":17897437,"body_markdown":"A workaround for using HashMap in multi-threaded environment is to initialize it with the expected number of objects&#39; count, hence avoiding the need for a re-sizing.","title":"Why should we use HashMap in multi-threaded environments?","body":"<p>A workaround for using HashMap in multi-threaded environment is to initialize it with the expected number of objects' count, hence avoiding the need for a re-sizing.</p>\n"}],"owner":{"account_id":1464781,"reputation":4561,"user_id":1377979,"accept_rate":75,"display_name":"benz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9832,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1647866457,"creation_date":1374925739,"question_id":17897437,"body_markdown":"Today I was reading about how HashMap works in Java. I came across a blog and I am quoting directly from the article of the blog. I have gone through [this][1] article on Stack Overflow. Still\r\nI want to know the detail.\r\n\r\n&gt; So the answer is Yes there is potential race condition exists while\r\n&gt; resizing HashMap in Java, if two thread at the same time found that\r\n&gt; now HashMap needs resizing and they both try to resizing. on the\r\n&gt; process of resizing of HashMap in Java , the element in bucket which\r\n&gt; is stored in linked list get reversed in order during there migration\r\n&gt; to new bucket because java HashMap  doesn&#39;t append the new element at\r\n&gt; tail instead it append new element at head to avoid tail traversing.\r\n&gt; If race condition happens then you will end up with an infinite loop.\r\n\r\nIt states that as HashMap is not thread-safe during resizing of the HashMap a potential race condition can occur. I have seen in our office projects even, people are extensively using HashMaps knowing they are not thread safe. If it is not thread safe, why should we use HashMap then? Is it just lack of knowledge among developers as they might not be aware about structures like ConcurrentHashMap or some other reason. Can anyone put a light on this puzzle.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1361784/hashmap-and-hashtable-in-multithreaded-environment","title":"Why should we use HashMap in multi-threaded environments?","body":"<p>Today I was reading about how HashMap works in Java. I came across a blog and I am quoting directly from the article of the blog. I have gone through <a href=\"https://stackoverflow.com/questions/1361784/hashmap-and-hashtable-in-multithreaded-environment\">this</a> article on Stack Overflow. Still\nI want to know the detail.</p>\n<blockquote>\n<p>So the answer is Yes there is potential race condition exists while\nresizing HashMap in Java, if two thread at the same time found that\nnow HashMap needs resizing and they both try to resizing. on the\nprocess of resizing of HashMap in Java , the element in bucket which\nis stored in linked list get reversed in order during there migration\nto new bucket because java HashMap  doesn't append the new element at\ntail instead it append new element at head to avoid tail traversing.\nIf race condition happens then you will end up with an infinite loop.</p>\n</blockquote>\n<p>It states that as HashMap is not thread-safe during resizing of the HashMap a potential race condition can occur. I have seen in our office projects even, people are extensively using HashMaps knowing they are not thread safe. If it is not thread safe, why should we use HashMap then? Is it just lack of knowledge among developers as they might not be aware about structures like ConcurrentHashMap or some other reason. Can anyone put a light on this puzzle.</p>\n"},{"tags":["java","maven","dependencies","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":406137,"reputation":5823,"user_id":775467,"accept_rate":75,"display_name":"coderplus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1413664973,"creation_date":1413647981,"answer_id":26441702,"question_id":26441383,"body_markdown":"Yes, version is not optional.\r\n\r\nConsider a multimodule application which has 10 modules, say module1, module2.. module10.Assume that all of these 10 projects use the `spring-boot-starter-web`. In case these 10 modules are interdependent, you might want to use the same version of the `spring-boot-starter-web` in each of these 10. \r\n\r\nNow just imagine how complicated it would be if you were to maintain the same version number in all of these 10 pom files and then update all of them when you want to use a newer version of `spring-boot-starter-web`. Wouldn&#39;t it be better if this information can be managed centrally?\r\n\r\nMaven has got something known a `&lt;dependencyManagement/&gt;` tag to get around this and centralize dependency information.\r\n\r\nFor the example which you have provided, below set of links will help you understand how the version number is resolved even though it&#39;s not present in the pom which you are looking at.\r\n\r\nLook at the parent tag of the pom you are looking at (https://github.com/spring-guides/gs-authenticating-ldap/blob/master/complete/pom.xml)\r\n\r\nNow lets go to that parent and see if the versions are specified in the dependencyManagement section of that pom(https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/spring-boot-starter-parent/pom.xml). No it&#39;s not defined there as well. Now lets look at the parent of parent. https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml. Oh yea, we have got the version numbers there.\r\n\r\nSimilar to dependencyManagement, plugins can be managed in the pluginManagement section of the pom. \r\n\r\nHope that explains it.\r\n\r\nRefer : [dependencyManagement][1], [pluginManagement][2]\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management\r\n  [2]: http://maven.apache.org/pom.html#Plugin_Management","title":"Why version number in maven dependency is skipped at times?","body":"<p>Yes, version is not optional.</p>\n\n<p>Consider a multimodule application which has 10 modules, say module1, module2.. module10.Assume that all of these 10 projects use the <code>spring-boot-starter-web</code>. In case these 10 modules are interdependent, you might want to use the same version of the <code>spring-boot-starter-web</code> in each of these 10. </p>\n\n<p>Now just imagine how complicated it would be if you were to maintain the same version number in all of these 10 pom files and then update all of them when you want to use a newer version of <code>spring-boot-starter-web</code>. Wouldn't it be better if this information can be managed centrally?</p>\n\n<p>Maven has got something known a <code>&lt;dependencyManagement/&gt;</code> tag to get around this and centralize dependency information.</p>\n\n<p>For the example which you have provided, below set of links will help you understand how the version number is resolved even though it's not present in the pom which you are looking at.</p>\n\n<p>Look at the parent tag of the pom you are looking at (<a href=\"https://github.com/spring-guides/gs-authenticating-ldap/blob/master/complete/pom.xml\" rel=\"noreferrer\">https://github.com/spring-guides/gs-authenticating-ldap/blob/master/complete/pom.xml</a>)</p>\n\n<p>Now lets go to that parent and see if the versions are specified in the dependencyManagement section of that pom(<a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/spring-boot-starter-parent/pom.xml\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/spring-boot-starter-parent/pom.xml</a>). No it's not defined there as well. Now lets look at the parent of parent. <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml</a>. Oh yea, we have got the version numbers there.</p>\n\n<p>Similar to dependencyManagement, plugins can be managed in the pluginManagement section of the pom. </p>\n\n<p>Hope that explains it.</p>\n\n<p>Refer : <a href=\"http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management\" rel=\"noreferrer\">dependencyManagement</a>, <a href=\"http://maven.apache.org/pom.html#Plugin_Management\" rel=\"noreferrer\">pluginManagement</a></p>\n"},{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413648983,"creation_date":1413648983,"answer_id":26441857,"question_id":26441383,"body_markdown":"A few additions to the excellent answer by `coderplus`:\r\n\r\nIn a multi-module project, it is considered to be a good practice to configure the artifacts used by the project in the `dependencyManagement` of the root `pom.xml` so that you don&#39;t have to write versions in child module `pom.xml`s (like in some dependencies in your example).\r\n\r\nIt is also considered to be a good practice to declare versions of the external libraries that you use as properties and then use these properties in `dependencyManagement/dependencies/dependency/version`. This is more or less done [here][1]:\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;logback.version&gt;1.1.2&lt;/logback.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${logback.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\nIn a multi-module project, you should also declare your own artifacts in `dependencyManagement`. \r\n\r\nBut please do not write the version explicitly (like Spring people do [here][2]), use `${project.version}` instead.\r\n\r\nSo it would have been better to write:\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\ninstead of\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\r\n[here][3].\r\n\r\nThe whole purpose is [DRY][4], don&#39;t repeat yourself. The more redundant declarations you have in your POMs, the harder they can hit. Hunting for the obsolete dependencies is so much fun.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml#L382\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml#L142\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml#L139-L143\r\n  [4]: http://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself","title":"Why version number in maven dependency is skipped at times?","body":"<p>A few additions to the excellent answer by <code>coderplus</code>:</p>\n\n<p>In a multi-module project, it is considered to be a good practice to configure the artifacts used by the project in the <code>dependencyManagement</code> of the root <code>pom.xml</code> so that you don't have to write versions in child module <code>pom.xml</code>s (like in some dependencies in your example).</p>\n\n<p>It is also considered to be a good practice to declare versions of the external libraries that you use as properties and then use these properties in <code>dependencyManagement/dependencies/dependency/version</code>. This is more or less done <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml#L382\" rel=\"nofollow\">here</a>:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;logback.version&gt;1.1.2&lt;/logback.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${logback.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>In a multi-module project, you should also declare your own artifacts in <code>dependencyManagement</code>. </p>\n\n<p>But please do not write the version explicitly (like Spring people do <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml#L142\" rel=\"nofollow\">here</a>), use <code>${project.version}</code> instead.</p>\n\n<p>So it would have been better to write:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0.BUILD-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-dependencies/pom.xml#L139-L143\" rel=\"nofollow\">here</a>.</p>\n\n<p>The whole purpose is <a href=\"http://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself\" rel=\"nofollow\">DRY</a>, don't repeat yourself. The more redundant declarations you have in your POMs, the harder they can hit. Hunting for the obsolete dependencies is so much fun.</p>\n"},{"tags":[],"owner":{"account_id":2760668,"reputation":2685,"user_id":2377639,"display_name":"Will Humphreys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647865814,"creation_date":1647865814,"answer_id":71557672,"question_id":26441383,"body_markdown":"If the `&lt;version&gt;` isn&#39;t specified then the `&lt;version&gt;` of `&lt;parent&gt;` is used. If there is no `&lt;version&gt;` in the `&lt;parent&gt;` then the `&lt;version&gt;` in the `&lt;parent&gt;` of the `&lt;parent&gt;` is used. etc.","title":"Why version number in maven dependency is skipped at times?","body":"<p>If the <code>&lt;version&gt;</code> isn't specified then the <code>&lt;version&gt;</code> of <code>&lt;parent&gt;</code> is used. If there is no <code>&lt;version&gt;</code> in the <code>&lt;parent&gt;</code> then the <code>&lt;version&gt;</code> in the <code>&lt;parent&gt;</code> of the <code>&lt;parent&gt;</code> is used. etc.</p>\n"}],"owner":{"account_id":3375229,"reputation":1556,"user_id":2833484,"accept_rate":81,"display_name":"Amar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1743,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26441702,"answer_count":3,"score":4,"last_activity_date":1647865814,"creation_date":1413646137,"question_id":26441383,"body_markdown":"I am fairly new to maven&#39;s capabilities..\r\nI have seen that in pom.xml where dependencies are put, at times, only groupID and artifact id are mentioned and version is skipped. why is this?\r\nFor example the below dependency is from springsource website [http://spring.io/guides/gs/authenticating-ldap/][1]\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.directory.server&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apacheds-server-jndi&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: http://spring.io/guides/gs/authenticating-ldap/\r\nBut elsewhere in stackoverflow it was also mentioned that version is not optional. I would be glad if someone could explain this.","title":"Why version number in maven dependency is skipped at times?","body":"<p>I am fairly new to maven's capabilities..\nI have seen that in pom.xml where dependencies are put, at times, only groupID and artifact id are mentioned and version is skipped. why is this?\nFor example the below dependency is from springsource website <a href=\"http://spring.io/guides/gs/authenticating-ldap/\" rel=\"nofollow\">http://spring.io/guides/gs/authenticating-ldap/</a></p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.directory.server&lt;/groupId&gt;\n        &lt;artifactId&gt;apacheds-server-jndi&lt;/artifactId&gt;\n        &lt;version&gt;1.5.5&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>But elsewhere in stackoverflow it was also mentioned that version is not optional. I would be glad if someone could explain this.</p>\n"},{"tags":["java","jwt","jose4j"],"answers":[{"tags":[],"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1647865603,"creation_date":1438615124,"answer_id":31790974,"question_id":31779585,"body_markdown":"I &#39;d guess you&#39;re getting an Exception something like this?\r\n&gt;`org.jose4j.lang.InvalidKeyException: A key of the same size as the hash output (i.e. 256 bits for HS256) or larger MUST be used with the HMAC SHA algorithms but this key is only 48 bits`\r\n\r\nThe `HmacKey` is the correct type for `HS256` but the key is technically too short according to the second paragraph of https://www.rfc-editor.org/rfc/rfc7518#section-3.2 which has the same text as the exception message. \r\n\r\nYou can work around it by building the `JwtConsumer` with `.setRelaxVerificationKeyValidation()`, which will allow for shorter keys.\r\n\r\nThat looks like this (adding just one line to a snippet from your example):\r\n\r\n\r\n    JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n         .setVerificationKey(new HmacKey(secret.getBytes())) \r\n         .setRelaxVerificationKeyValidation() \r\n         // allow shorter HMAC keys when used w/ HSxxx algs \r\n         .build();\r\n\r\nIn general though I would try and avoid the use of a short password like key such as &quot;secret&quot; and suggest using a stronger key when possible. ","title":"Verification key for jose4j JwtConsumer","body":"<p>I 'd guess you're getting an Exception something like this?</p>\n<blockquote>\n<p><code>org.jose4j.lang.InvalidKeyException: A key of the same size as the hash output (i.e. 256 bits for HS256) or larger MUST be used with the HMAC SHA algorithms but this key is only 48 bits</code></p>\n</blockquote>\n<p>The <code>HmacKey</code> is the correct type for <code>HS256</code> but the key is technically too short according to the second paragraph of <a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-3.2\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7518#section-3.2</a> which has the same text as the exception message.</p>\n<p>You can work around it by building the <code>JwtConsumer</code> with <code>.setRelaxVerificationKeyValidation()</code>, which will allow for shorter keys.</p>\n<p>That looks like this (adding just one line to a snippet from your example):</p>\n<pre><code>JwtConsumer jwtConsumer = new JwtConsumerBuilder()\n     .setVerificationKey(new HmacKey(secret.getBytes())) \n     .setRelaxVerificationKeyValidation() \n     // allow shorter HMAC keys when used w/ HSxxx algs \n     .build();\n</code></pre>\n<p>In general though I would try and avoid the use of a short password like key such as &quot;secret&quot; and suggest using a stronger key when possible.</p>\n"}],"owner":{"account_id":1678690,"reputation":780,"user_id":1543528,"accept_rate":100,"display_name":"Wang Sheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11564,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":31790974,"answer_count":1,"score":10,"last_activity_date":1647865603,"creation_date":1438577165,"question_id":31779585,"body_markdown":"I am using jose4j to validate and process a JWT. The JWT looks like the following and it passes the validation in the JWT homepage.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Enaea.png\r\n\r\nHowever, I can&#39;t do the same using jose4j java library. The exception complains about the verification key I set. But there are many types of keys defined in the library and I tried them but no luck. The code is as following:\r\n\r\n\timport java.util.Map;\r\n\t\r\n\timport org.jose4j.jwt.JwtClaims;\r\n\timport org.jose4j.jwt.consumer.InvalidJwtException;\r\n\timport org.jose4j.jwt.consumer.JwtConsumer;\r\n\timport org.jose4j.jwt.consumer.JwtConsumerBuilder;\r\n\timport org.jose4j.keys.HmacKey;\r\n\t\r\n\tpublic class YGJWT {\r\n\t\t\r\n\t\tpublic static void main(String args[]) throws InvalidJwtException {\r\n\t\t\t\r\n\t\t\tString jwt = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ&quot;;\r\n\t\t\tString secret = &quot;secret&quot;;\r\n\t\t\t\r\n\t\t\tJwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n\t\t\t\t\t.setVerificationKey(new HmacKey(secret.getBytes())) //what kind of key do i need to use it here?\r\n\t\t            .build();\r\n\t\t\t\r\n\t\t\t\r\n\t        JwtClaims jwtClaims = jwtConsumer.processToClaims(jwt);\r\n\t        Map&lt;String, Object&gt; claimsMap = jwtClaims.getClaimsMap();\r\n\t        \r\n\t        claimsMap.forEach((String key, Object val) -&gt; {\r\n\t        \tSystem.out.println(key + &quot;: &quot; + val.toString());\r\n\t        });\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nAny help is appreciated.","title":"Verification key for jose4j JwtConsumer","body":"<p>I am using jose4j to validate and process a JWT. The JWT looks like the following and it passes the validation in the JWT homepage.\n<a href=\"https://i.stack.imgur.com/Enaea.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Enaea.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, I can't do the same using jose4j java library. The exception complains about the verification key I set. But there are many types of keys defined in the library and I tried them but no luck. The code is as following:</p>\n\n<pre><code>import java.util.Map;\n\nimport org.jose4j.jwt.JwtClaims;\nimport org.jose4j.jwt.consumer.InvalidJwtException;\nimport org.jose4j.jwt.consumer.JwtConsumer;\nimport org.jose4j.jwt.consumer.JwtConsumerBuilder;\nimport org.jose4j.keys.HmacKey;\n\npublic class YGJWT {\n\n    public static void main(String args[]) throws InvalidJwtException {\n\n        String jwt = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\";\n        String secret = \"secret\";\n\n        JwtConsumer jwtConsumer = new JwtConsumerBuilder()\n                .setVerificationKey(new HmacKey(secret.getBytes())) //what kind of key do i need to use it here?\n                .build();\n\n\n        JwtClaims jwtClaims = jwtConsumer.processToClaims(jwt);\n        Map&lt;String, Object&gt; claimsMap = jwtClaims.getClaimsMap();\n\n        claimsMap.forEach((String key, Object val) -&gt; {\n            System.out.println(key + \": \" + val.toString());\n        });\n\n    }\n\n}\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1647826665,"post_id":71551963,"comment_id":126461394,"body_markdown":"What **`Pair`**?","body":"What <b><code>Pair</code></b>?"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1647827045,"post_id":71551963,"comment_id":126461447,"body_markdown":"`Pair` is a class and `Map.Entry` is an interface.","body":"<code>Pair</code> is a class and <code>Map.Entry</code> is an interface."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1647832114,"post_id":71551963,"comment_id":126462207,"body_markdown":"`Map.Entry` has a specific, clear context in which it is meant to be used, and clearer meanings for its parts.  Pair has...basically none of that.","body":"<code>Map.Entry</code> has a specific, clear context in which it is meant to be used, and clearer meanings for its parts.  Pair has...basically none of that."},{"owner":{"account_id":11103984,"reputation":145,"user_id":9996617,"display_name":"wangge"},"score":0,"creation_date":1648250680,"post_id":71551963,"comment_id":126585342,"body_markdown":"I see people have said Map.Entry is an interface. That&#39;s not the question is really asking. I can ask what&#39;s the difference between AbstractMap.SimpleEntry, AbstractMap.SimpleImmutableEntry and pair, that would be too verbose. But please answer what&#39;s the difference btw those two entries and pair","body":"I see people have said Map.Entry is an interface. That&#39;s not the question is really asking. I can ask what&#39;s the difference between AbstractMap.SimpleEntry, AbstractMap.SimpleImmutableEntry and pair, that would be too verbose. But please answer what&#39;s the difference btw those two entries and pair"}],"answers":[{"tags":[],"owner":{"account_id":15063510,"reputation":1863,"user_id":10871450,"display_name":"flyingfishcattle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647865389,"creation_date":1647827872,"answer_id":71552075,"question_id":71551963,"body_markdown":"They should be very similar but ```Pair``` is defined in the ```javafx``` library whereas ```Map.Entry``` is defined in the ```java.util``` library.\r\n\r\nThe basic gist of both objects are some like:\r\n```\r\npublic class Pair&lt;K, V&gt; implements Serializable {\r\n    private K key;\r\n    public K getKey() { return key; }\r\n    \r\n    private V value;\r\n    public V getValue() { return value; }\r\n}\r\n```\r\n```Map.Entry``` is mainly used to store a collection of key-value pairs that can be iterated over whereas ```Pair``` is mainly used for storing single key-value pairs.\r\n\r\n[Here is another SO post][1] detailing further differences between ```Pair``` and ```Map``` implementations\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45396342/difference-between-pair-and-hashmap","title":"What&#39;s the difference between Map.entry and Pair in Java?","body":"<p>They should be very similar but <code>Pair</code> is defined in the <code>javafx</code> library whereas <code>Map.Entry</code> is defined in the <code>java.util</code> library.</p>\n<p>The basic gist of both objects are some like:</p>\n<pre><code>public class Pair&lt;K, V&gt; implements Serializable {\n    private K key;\n    public K getKey() { return key; }\n    \n    private V value;\n    public V getValue() { return value; }\n}\n</code></pre>\n<p><code>Map.Entry</code> is mainly used to store a collection of key-value pairs that can be iterated over whereas <code>Pair</code> is mainly used for storing single key-value pairs.</p>\n<p><a href=\"https://stackoverflow.com/questions/45396342/difference-between-pair-and-hashmap\">Here is another SO post</a> detailing further differences between <code>Pair</code> and <code>Map</code> implementations</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647844052,"creation_date":1647830420,"answer_id":71552276,"question_id":71551963,"body_markdown":"# Interface versus class\r\n\r\nOne difference is that one is a class while the other is an interface.\r\n\r\n[`javafx.util.Pair&lt;K,V&gt;`][1] is a concrete class. To instantiate a `Pair`, use `new`. To access the class you’ll need to add the OpenJFX libraries to your project, or else use a JDK that comes bundled with the OpenJFX libraries such as ZuluFX or LibericaFX. \r\n\r\nIn contrast, [`java.util.Map.Entry&lt;K,V&gt;`][2] is an interface. To instantiate a `Map.Entry`, you’ll need to choose a class that implements that interface. Java comes with two such classes: `AbstractMap.SimpleEntry` and `AbstractMap.SimpleImmutableEntry`. \r\n\r\nAlternatively, in Java 9+ you can call the static method [`Map.entry( key , value )`][3] to get an unmodifiable `Map.Entry` object. The concrete class is unspecified. \r\n\r\nYou asked:\r\n\r\n&gt;but internally, are they just the same thing\r\n\r\nAn interface has no implementation, so no “internals” on `Map.Entry`. As for the implementation details of the concrete classes, we should not really care. All we care about as calling programmers is the contract they promise to fulfill as specified in the JavaDoc. \r\n\r\nIf you are curious about the implementation details, both are open-source. So you can browse their implementation. Both are found on the OpenJDK project site. But remember that the implementors are free to change their respective implementations between versions, as long as the contract is respected. \r\n\r\n - [`Map.Entry` source code][4] at [OpenJDK on GitHub][5]\r\n - [`Pair` source code][6] at [OpenJFX on GitHub][7]\r\n\r\n\r\n# Original intent\r\n\r\n`Pair` is meant to be used in JavaFX. \r\n\r\n`Entry` is meant to be used with `Map`.\r\n\r\nYou can certainly use either class outside of those contexts. But such use can be confusing to other programmers reading your code. Consider adding a brief explanation in your code comments. \r\n\r\n# Record\r\n\r\nInstead of using `Pair` outside of JavaFX, or using `Entry` outside of a `Map`, in many cases it makes more sense to use the new [records](https://openjdk.java.net/jeps/395) feature to make your own purpose-built class for pairing in one short simple line. \r\n\r\nFor example:\r\n\r\n    Record( Person person , Color favoriteColor ) {}\r\n\r\nRecords can even be defined locally (as can interfaces and enums in Java 16+). \r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/18/javafx.base/javafx/util/Pair.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entry(K,V)\r\n  [4]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Map.java\r\n  [5]: https://github.com/openjdk\r\n  [6]: https://github.com/openjdk/jfx/blob/master/modules/javafx.base/src/main/java/javafx/util/Pair.java\r\n  [7]: https://github.com/openjdk/jfx","title":"What&#39;s the difference between Map.entry and Pair in Java?","body":"<h1>Interface versus class</h1>\n<p>One difference is that one is a class while the other is an interface.</p>\n<p><a href=\"https://openjfx.io/javadoc/18/javafx.base/javafx/util/Pair.html\" rel=\"nofollow noreferrer\"><code>javafx.util.Pair&lt;K,V&gt;</code></a> is a concrete class. To instantiate a <code>Pair</code>, use <code>new</code>. To access the class you’ll need to add the OpenJFX libraries to your project, or else use a JDK that comes bundled with the OpenJFX libraries such as ZuluFX or LibericaFX.</p>\n<p>In contrast, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\"><code>java.util.Map.Entry&lt;K,V&gt;</code></a> is an interface. To instantiate a <code>Map.Entry</code>, you’ll need to choose a class that implements that interface. Java comes with two such classes: <code>AbstractMap.SimpleEntry</code> and <code>AbstractMap.SimpleImmutableEntry</code>.</p>\n<p>Alternatively, in Java 9+ you can call the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entry(K,V)\" rel=\"nofollow noreferrer\"><code>Map.entry( key , value )</code></a> to get an unmodifiable <code>Map.Entry</code> object. The concrete class is unspecified.</p>\n<p>You asked:</p>\n<blockquote>\n<p>but internally, are they just the same thing</p>\n</blockquote>\n<p>An interface has no implementation, so no “internals” on <code>Map.Entry</code>. As for the implementation details of the concrete classes, we should not really care. All we care about as calling programmers is the contract they promise to fulfill as specified in the JavaDoc.</p>\n<p>If you are curious about the implementation details, both are open-source. So you can browse their implementation. Both are found on the OpenJDK project site. But remember that the implementors are free to change their respective implementations between versions, as long as the contract is respected.</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Map.java\" rel=\"nofollow noreferrer\"><code>Map.Entry</code> source code</a> at <a href=\"https://github.com/openjdk\" rel=\"nofollow noreferrer\">OpenJDK on GitHub</a></li>\n<li><a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.base/src/main/java/javafx/util/Pair.java\" rel=\"nofollow noreferrer\"><code>Pair</code> source code</a> at <a href=\"https://github.com/openjdk/jfx\" rel=\"nofollow noreferrer\">OpenJFX on GitHub</a></li>\n</ul>\n<h1>Original intent</h1>\n<p><code>Pair</code> is meant to be used in JavaFX.</p>\n<p><code>Entry</code> is meant to be used with <code>Map</code>.</p>\n<p>You can certainly use either class outside of those contexts. But such use can be confusing to other programmers reading your code. Consider adding a brief explanation in your code comments.</p>\n<h1>Record</h1>\n<p>Instead of using <code>Pair</code> outside of JavaFX, or using <code>Entry</code> outside of a <code>Map</code>, in many cases it makes more sense to use the new <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature to make your own purpose-built class for pairing in one short simple line.</p>\n<p>For example:</p>\n<pre><code>Record( Person person , Color favoriteColor ) {}\n</code></pre>\n<p>Records can even be defined locally (as can interfaces and enums in Java 16+).</p>\n"}],"owner":{"account_id":11103984,"reputation":145,"user_id":9996617,"display_name":"wangge"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2709,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1647865551,"creation_date":1647826348,"question_id":71551963,"body_markdown":"The all have getkey, getValue methods.\r\nClearly Map.entry is used in a map, like map.entrySet,\r\nbut internally, are they just the same thing, implemented the same way.  ","title":"What&#39;s the difference between Map.entry and Pair in Java?","body":"<p>The all have getkey, getValue methods.\nClearly Map.entry is used in a map, like map.entrySet,\nbut internally, are they just the same thing, implemented the same way.</p>\n"},{"tags":["java","swing","gnome","repaint"],"comments":[{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1647763718,"post_id":71545024,"comment_id":126449222,"body_markdown":"Explain why are are using a ScheduledExecutorService  with invokeLater() when you can just use a swing [Timer](https://docs.oracle.com/javase/7/docs/api/javax/swing/Timer.html#Timer(int,%20java.awt.event.ActionListener)) like this new Timer(3000,(action)-&gt;{...}).start(); for the same purpose?","body":"Explain why are are using a ScheduledExecutorService  with invokeLater() when you can just use a swing <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/Timer.html#Timer(int,%20java.awt.event.ActionListener)\" rel=\"nofollow noreferrer\">Timer</a> like this new Timer(3000,(action)-&gt;{...}).start(); for the same purpose?"},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1647763902,"post_id":71545024,"comment_id":126449248,"body_markdown":"Also why are you adding 5 labels to your panel every 3 seconds?  If you are trying to add multiple lines of text why not use a [JTextArea](https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html) and append multiple lines to your text area using [append](https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#append(java.lang.String))?","body":"Also why are you adding 5 labels to your panel every 3 seconds?  If you are trying to add multiple lines of text why not use a <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html\" rel=\"nofollow noreferrer\">JTextArea</a> and append multiple lines to your text area using <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#append(java.lang.String)\" rel=\"nofollow noreferrer\">append</a>?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1647764345,"post_id":71545024,"comment_id":126449304,"body_markdown":"I&#39;ll look further into it when I see an attempt to change the components using a **`CardLayout`**. Check it out in the API and the tutorial.","body":"I&#39;ll look further into it when I see an attempt to change the components using a <b><code>CardLayout</code></b>. Check it out in the API and the tutorial."},{"owner":{"account_id":2880367,"reputation":6588,"user_id":2471439,"display_name":"kiheru"},"score":1,"creation_date":1647936510,"post_id":71545024,"comment_id":126490049,"body_markdown":"I can&#39;t reproduce this. Probably it&#39;s a driver (wayland/X11?) / java version / gnome version dependent issue. Also, really take a look at CardLayout as Andrew suggested, if your real application does the same kind of component replacement.","body":"I can&#39;t reproduce this. Probably it&#39;s a driver (wayland/X11?) / java version / gnome version dependent issue. Also, really take a look at CardLayout as Andrew suggested, if your real application does the same kind of component replacement."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647764552,"creation_date":1647764007,"answer_id":71545115,"question_id":71545024,"body_markdown":"Use a [Swing Timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) rather than `ScheduledExecutorService`.\r\n```java\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\npublic class Main {\r\n    private JPanel panel;\r\n\r\n    private void buildAndDisplayGui() {\r\n        Timer timer = new Timer(3000, this::timer);\r\n        panel = new JPanel();\r\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\r\n        panel.add(new JLabel(&quot;Line 1&quot;));\r\n        panel.add(new JLabel(&quot;Line 2&quot;));\r\n        panel.add(new JLabel(&quot;Line 3&quot;));\r\n        final JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setPreferredSize(new Dimension(800, 600));\r\n        frame.add(panel);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        final JDialog dialog = new JDialog();\r\n        dialog.add(new JLabel(&quot;Hello !&quot;));\r\n        dialog.pack();\r\n        dialog.setVisible(true);\r\n        timer.start();\r\n    }\r\n\r\n    private void timer(ActionEvent event) {\r\n        panel.removeAll();\r\n        panel.add(new JLabel(&quot;Line 0000000 (new line !)&quot;));\r\n        panel.add(new JLabel(&quot;Line 1&quot;));\r\n        panel.add(new JLabel(&quot;Line 2&quot;));\r\n        panel.add(new JLabel(&quot;Line 3&quot;));\r\n        panel.add(new JLabel(&quot;Line 4 (new line !)&quot;));\r\n        panel.revalidate();\r\n        panel.repaint();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Main instance = new Main();\r\n        EventQueue.invokeLater(() -&gt; instance.buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n","title":"Swing JPanel repaint issue when it occurs while being on another gnome desktop","body":"<p>Use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a> rather than <code>ScheduledExecutorService</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport javax.swing.BoxLayout;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    private JPanel panel;\n\n    private void buildAndDisplayGui() {\n        Timer timer = new Timer(3000, this::timer);\n        panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n        panel.add(new JLabel(&quot;Line 1&quot;));\n        panel.add(new JLabel(&quot;Line 2&quot;));\n        panel.add(new JLabel(&quot;Line 3&quot;));\n        final JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setPreferredSize(new Dimension(800, 600));\n        frame.add(panel);\n        frame.pack();\n        frame.setVisible(true);\n        final JDialog dialog = new JDialog();\n        dialog.add(new JLabel(&quot;Hello !&quot;));\n        dialog.pack();\n        dialog.setVisible(true);\n        timer.start();\n    }\n\n    private void timer(ActionEvent event) {\n        panel.removeAll();\n        panel.add(new JLabel(&quot;Line 0000000 (new line !)&quot;));\n        panel.add(new JLabel(&quot;Line 1&quot;));\n        panel.add(new JLabel(&quot;Line 2&quot;));\n        panel.add(new JLabel(&quot;Line 3&quot;));\n        panel.add(new JLabel(&quot;Line 4 (new line !)&quot;));\n        panel.revalidate();\n        panel.repaint();\n    }\n\n    public static void main(String[] args) {\n        Main instance = new Main();\n        EventQueue.invokeLater(() -&gt; instance.buildAndDisplayGui());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24617720,"reputation":1,"user_id":18518487,"display_name":"J&#233;r&#233;my Guillemot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647865189,"creation_date":1647762914,"question_id":71545024,"body_markdown":"I am facing a problem driving me nuts. I have a panel which I update this way :\r\n- removeAll\r\n- add new JComponents\r\n- revalidate\r\n- repaint\r\n\r\nMost of the time, this works perfectly fine. However, if I switch to another gnome desktop (I tried on lxde, this is the same) **while a JDialog is showing**, the panel won&#39;t repaint properly.\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n**What I tried**\r\n\r\nAdding this property on startup:\r\n\r\n&gt; -Dswing.bufferPerWindow=false\r\n\r\nI tried calling the paint method on the panel directly, which is strongly discouraged.\r\n\r\nBoth methods result in messing arround with my components with transparent background. I see some pieces of other components which are at a total opposite location on my frame.\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nHere a piece of code to reproduce. Launch, switch to another desktop, wait for more than 3 seconds, and switch to first desktop. 2 lines are missing, and the first one is partially repaint.\r\n\r\n\r\n\r\n    import java.awt.Dimension;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ScheduledExecutorService;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class Main {\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        final JPanel panel = new JPanel();\r\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\r\n        panel.add(new JLabel(&quot;Line 1&quot;));\r\n        panel.add(new JLabel(&quot;Line 2&quot;));\r\n        panel.add(new JLabel(&quot;Line 3&quot;));\r\n    \r\n        final JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setPreferredSize(new Dimension(800, 600));\r\n        frame.add(panel);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    \r\n        final JDialog dialog = new JDialog();\r\n        dialog.add(new JLabel(&quot;Hello !&quot;));\r\n        dialog.pack();\r\n        dialog.setVisible(true);\r\n    \r\n        // This executor simulate an incoming event I receive from another thread.\r\n        final ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n        executor.schedule(() -&gt; {\r\n    \r\n          SwingUtilities.invokeLater(() -&gt; {\r\n            panel.removeAll();\r\n    \r\n            panel.add(new JLabel(&quot;Line 0000000 (new line !)&quot;));\r\n            panel.add(new JLabel(&quot;Line 1&quot;));\r\n            panel.add(new JLabel(&quot;Line 2&quot;));\r\n            panel.add(new JLabel(&quot;Line 3&quot;));\r\n            panel.add(new JLabel(&quot;Line 4 (new line !)&quot;));\r\n    \r\n            panel.revalidate();\r\n            panel.repaint();\r\n          });\r\n    \r\n          executor.shutdown();\r\n        }, 3, TimeUnit.SECONDS);\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nAny help would be appreciated ! Thanks !\r\n\r\n\r\n","title":"Swing JPanel repaint issue when it occurs while being on another gnome desktop","body":"<p>I am facing a problem driving me nuts. I have a panel which I update this way :</p>\n<ul>\n<li>removeAll</li>\n<li>add new JComponents</li>\n<li>revalidate</li>\n<li>repaint</li>\n</ul>\n<p>Most of the time, this works perfectly fine. However, if I switch to another gnome desktop (I tried on lxde, this is the same) <strong>while a JDialog is showing</strong>, the panel won't repaint properly.</p>\n<br>\n<br>\n<p><strong>What I tried</strong></p>\n<p>Adding this property on startup:</p>\n<blockquote>\n<p>-Dswing.bufferPerWindow=false</p>\n</blockquote>\n<p>I tried calling the paint method on the panel directly, which is strongly discouraged.</p>\n<p>Both methods result in messing arround with my components with transparent background. I see some pieces of other components which are at a total opposite location on my frame.</p>\n<br>\n<br>\nHere a piece of code to reproduce. Launch, switch to another desktop, wait for more than 3 seconds, and switch to first desktop. 2 lines are missing, and the first one is partially repaint.\n<pre><code>import java.awt.Dimension;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Main {\n\n  public static void main(String[] args) {\n\n    final JPanel panel = new JPanel();\n    panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n    panel.add(new JLabel(&quot;Line 1&quot;));\n    panel.add(new JLabel(&quot;Line 2&quot;));\n    panel.add(new JLabel(&quot;Line 3&quot;));\n\n    final JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setPreferredSize(new Dimension(800, 600));\n    frame.add(panel);\n    frame.pack();\n    frame.setVisible(true);\n\n    final JDialog dialog = new JDialog();\n    dialog.add(new JLabel(&quot;Hello !&quot;));\n    dialog.pack();\n    dialog.setVisible(true);\n\n    // This executor simulate an incoming event I receive from another thread.\n    final ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\n    executor.schedule(() -&gt; {\n\n      SwingUtilities.invokeLater(() -&gt; {\n        panel.removeAll();\n\n        panel.add(new JLabel(&quot;Line 0000000 (new line !)&quot;));\n        panel.add(new JLabel(&quot;Line 1&quot;));\n        panel.add(new JLabel(&quot;Line 2&quot;));\n        panel.add(new JLabel(&quot;Line 3&quot;));\n        panel.add(new JLabel(&quot;Line 4 (new line !)&quot;));\n\n        panel.revalidate();\n        panel.repaint();\n      });\n\n      executor.shutdown();\n    }, 3, TimeUnit.SECONDS);\n\n  }\n\n}\n</code></pre>\n<p>Any help would be appreciated ! Thanks !</p>\n"},{"tags":["java","string","algorithm","recursion","string-parsing"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647838705,"post_id":71552954,"comment_id":126463115,"body_markdown":"Sounds like they want you to have only one add method with a [varargs](https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html) parameter. And use recursion in the add method to add the numbers.","body":"Sounds like they want you to have only one add method with a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">varargs</a> parameter. And use recursion in the add method to add the numbers."}],"answers":[{"tags":[],"owner":{"account_id":61118,"reputation":11403,"user_id":182289,"accept_rate":73,"display_name":"stepanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647845367,"creation_date":1647845367,"answer_id":71553739,"question_id":71552954,"body_markdown":"You are not passing the correct indexes to the various add methods. For example, if you want to add three numbers, you should do the following:\r\n\r\n    result = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[1]), Double.parseDouble(expression[2]));\r\n    ","title":"How to replace the overridden methods with a Recursive implementation","body":"<p>You are not passing the correct indexes to the various add methods. For example, if you want to add three numbers, you should do the following:</p>\n<pre><code>result = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[1]), Double.parseDouble(expression[2]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647865179,"creation_date":1647856215,"answer_id":71555590,"question_id":71552954,"body_markdown":"That&#39;s doable with **recursion**. \r\n\r\nBut before diving into ***recursive implementation***, it&#39;s worth to find out how to solve this problem ***iteratively*** because it&#39;ll give you a better understanding of what the *recursion* does.\r\n\r\nFirstly, I want to point out at *issues* with the code you&#39;ve provided.\r\n\r\nYour existing solution is *brittle* since it depends on the consistency of  the user input, and it will fail because of the single additional white space or if a white space will be missing. \r\n\r\nAnother draw-back is that you have a *lot of methods* and with them, you are able to handle only a *limited number* of arguments in the given expression. Let&#39;s fix it.\r\n\r\nSince your code is intended to perform the *arithmetical addition*, I think it&#39;ll be better to split the input on the *plus symbol* `+` and give a user a bit of freedom with white spaces.\r\n\r\nFor that, we need to pass the following regular expression into the `split()` method:\r\n```\r\n&quot;\\\\s*\\\\+\\\\s*&quot;\r\n```\r\n* **\\s***  -  implies `0` or more white spaces;\r\n* **\\\\+**  -  plus symbol has a special meaning in regular expressions and needs to be escaped with a back-slash. \r\n\r\nAnd since there&#39;s more than one arithmetical operation (*and you also might want to implement others letter on*). It&#39;s better to extract your the logic for splitting the user input into a separate method:\r\n\r\n    public static double add(String expression) {\r\n        return addIteratively(expression.split(&quot;\\\\s*\\\\+\\\\s*&quot;));\r\n    }\r\n\r\n`expression.split()` will return an *array of numeric strings* that will allow to substitute all your methods with a **single method** that expects a *string array* `String[]` or *varargs* `String... expression` (*which will allow you to pass as an argument either an array of strings or arbitrary number of string values*).\r\n\r\n    public static double addIteratively(String[] operands) {\r\n        double result = 0;\r\n        for (String next: operands) {\r\n            result += Double.parseDouble(next);\r\n        }\r\n        return result;\r\n    }\r\n\r\nNow, when it&#39;s clear how to deal with this task **iteratively** (*remember every problem and could be addressed using **iteration** is also eligible for **recursion** and vice versa*) let&#39;s proceed with a quick recap on **recursion**.\r\n\r\nEvery recursive method consists of two parts:\r\n\r\n* **Base case** - that represents a simple *edge-case* (condition when recursion terminates) for which the outcome is known in advance.\r\n* **Recursive case** - a part of a solution where *recursive calls* are made and where the main logic resides.\r\n\r\nTo process the given array recursively, we can track the *position* in the array by passing it with each method call.\r\n\r\nThe **base case** will represent a situation when there&#39;s no more elements left in the array, i.e. current *position* is equal to the *array&#39;s length*. Since there&#39;s no element under the given *position*, the return is `0`.\r\n\r\nIn the **recursive case** we need to parse the number under the current position and add the result of the *recursive call* with *position* incremented by `1` to it. That will give us the *return value*.\r\n\r\nThe **recursive implementation** might look that:\r\n\r\n    public static double addAsDouble(String[] operands, int pos) {\r\n        if (pos == operands.length) { // base case\r\n            return 0;\r\n        }\r\n        // recursive case\r\n        return Double.parseDouble(operands[pos]) + addAsDouble(operands, pos + 1);\r\n    }\r\n\r\nMethod responsible for splitting the *user input*.\r\n\r\n    public static double add(String expression) {\r\n        return addAsDouble(expression.split(&quot;\\\\s*\\\\+\\\\s*&quot;), 0); // recursion starts at position 0\r\n    }\r\n\r\n`main()` - here, you just need to call the `add()` providing a string inter by the user and bother of what is happening inside add. That makes code cleaner and easier to read.\r\n\r\n    public static void main(String args[]) {\r\n        Scanner input = new Scanner(System.in);\r\n        String exp = input.nextLine();\r\n\r\n        System.out.println(add(exp));\r\n    }\r\n\r\n**Output**\r\n```\r\n3 + 4 +5\r\n12.0\r\n```","title":"How to replace the overridden methods with a Recursive implementation","body":"<p>That's doable with <strong>recursion</strong>.</p>\n<p>But before diving into <em><strong>recursive implementation</strong></em>, it's worth to find out how to solve this problem <em><strong>iteratively</strong></em> because it'll give you a better understanding of what the <em>recursion</em> does.</p>\n<p>Firstly, I want to point out at <em>issues</em> with the code you've provided.</p>\n<p>Your existing solution is <em>brittle</em> since it depends on the consistency of  the user input, and it will fail because of the single additional white space or if a white space will be missing.</p>\n<p>Another draw-back is that you have a <em>lot of methods</em> and with them, you are able to handle only a <em>limited number</em> of arguments in the given expression. Let's fix it.</p>\n<p>Since your code is intended to perform the <em>arithmetical addition</em>, I think it'll be better to split the input on the <em>plus symbol</em> <code>+</code> and give a user a bit of freedom with white spaces.</p>\n<p>For that, we need to pass the following regular expression into the <code>split()</code> method:</p>\n<pre><code>&quot;\\\\s*\\\\+\\\\s*&quot;\n</code></pre>\n<ul>\n<li><strong>\\s</strong>*  -  implies <code>0</code> or more white spaces;</li>\n<li><strong>\\+</strong>  -  plus symbol has a special meaning in regular expressions and needs to be escaped with a back-slash.</li>\n</ul>\n<p>And since there's more than one arithmetical operation (<em>and you also might want to implement others letter on</em>). It's better to extract your the logic for splitting the user input into a separate method:</p>\n<pre><code>public static double add(String expression) {\n    return addIteratively(expression.split(&quot;\\\\s*\\\\+\\\\s*&quot;));\n}\n</code></pre>\n<p><code>expression.split()</code> will return an <em>array of numeric strings</em> that will allow to substitute all your methods with a <strong>single method</strong> that expects a <em>string array</em> <code>String[]</code> or <em>varargs</em> <code>String... expression</code> (<em>which will allow you to pass as an argument either an array of strings or arbitrary number of string values</em>).</p>\n<pre><code>public static double addIteratively(String[] operands) {\n    double result = 0;\n    for (String next: operands) {\n        result += Double.parseDouble(next);\n    }\n    return result;\n}\n</code></pre>\n<p>Now, when it's clear how to deal with this task <strong>iteratively</strong> (<em>remember every problem and could be addressed using <strong>iteration</strong> is also eligible for <strong>recursion</strong> and vice versa</em>) let's proceed with a quick recap on <strong>recursion</strong>.</p>\n<p>Every recursive method consists of two parts:</p>\n<ul>\n<li><strong>Base case</strong> - that represents a simple <em>edge-case</em> (condition when recursion terminates) for which the outcome is known in advance.</li>\n<li><strong>Recursive case</strong> - a part of a solution where <em>recursive calls</em> are made and where the main logic resides.</li>\n</ul>\n<p>To process the given array recursively, we can track the <em>position</em> in the array by passing it with each method call.</p>\n<p>The <strong>base case</strong> will represent a situation when there's no more elements left in the array, i.e. current <em>position</em> is equal to the <em>array's length</em>. Since there's no element under the given <em>position</em>, the return is <code>0</code>.</p>\n<p>In the <strong>recursive case</strong> we need to parse the number under the current position and add the result of the <em>recursive call</em> with <em>position</em> incremented by <code>1</code> to it. That will give us the <em>return value</em>.</p>\n<p>The <strong>recursive implementation</strong> might look that:</p>\n<pre><code>public static double addAsDouble(String[] operands, int pos) {\n    if (pos == operands.length) { // base case\n        return 0;\n    }\n    // recursive case\n    return Double.parseDouble(operands[pos]) + addAsDouble(operands, pos + 1);\n}\n</code></pre>\n<p>Method responsible for splitting the <em>user input</em>.</p>\n<pre><code>public static double add(String expression) {\n    return addAsDouble(expression.split(&quot;\\\\s*\\\\+\\\\s*&quot;), 0); // recursion starts at position 0\n}\n</code></pre>\n<p><code>main()</code> - here, you just need to call the <code>add()</code> providing a string inter by the user and bother of what is happening inside add. That makes code cleaner and easier to read.</p>\n<pre><code>public static void main(String args[]) {\n    Scanner input = new Scanner(System.in);\n    String exp = input.nextLine();\n\n    System.out.println(add(exp));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>3 + 4 +5\n12.0\n</code></pre>\n"}],"owner":{"account_id":24625822,"reputation":11,"user_id":18525537,"display_name":"Sean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647865179,"creation_date":1647838271,"question_id":71552954,"body_markdown":"I want to use **recursion** in order to collapse the overridden `add()` methods in the code and allow the user to provide any number of terms.\r\n\r\nI&#39;ve made a couple of changes to my code, but I&#39;m not getting the desired result. \r\n\r\nExamples of user input and expected output.\r\n\r\n**Output** (for input `3 + 4`)\r\n```\r\n7.0\r\n```\r\n**Output** (for input `3 + 4 + 5`)\r\n```\r\n12.0\r\n```\r\n\r\nThe **code** I have:\r\n```\r\nimport java.util.*;\r\n\r\npublic class Recursion {\r\n\r\n\tpublic static void main(String args[]) {\r\n\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tString exp = input.nextLine();\r\n\t\tSystem.out.println(solver(exp.split(&quot; &quot;)));\r\n\r\n\t}\r\n\tpublic static double solver(String[] expression) {\r\n\r\n\t\tdouble result = 0;\r\n\r\n\t\tif (expression.length == 3) {\r\n\t\t\tresult = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]));\r\n\t\t}\r\n\t\telse if (expression.length == 5) {\r\n\t\t\tresult = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]),\r\n\t\t\t\t\tDouble.parseDouble(expression[4]));\r\n\t\t}\r\n\t\telse if (expression.length == 7) {\r\n\t\t\tresult = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]),\r\n\t\t\t\t\tDouble.parseDouble(expression[4]), Double.parseDouble(expression[6]));\r\n\t\t}\r\n\t\telse if (expression.length == 9) {\r\n\t\t\tresult = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]),\r\n\t\t\t\t\tDouble.parseDouble(expression[4]), Double.parseDouble(expression[6]),\r\n\t\t\t\t\tDouble.parseDouble(expression[8]));\r\n\t\t}\r\n\t\telse if (expression.length == 11) {\r\n\t\t\tresult = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]),\r\n\t\t\t\t\tDouble.parseDouble(expression[4]), Double.parseDouble(expression[6]),\r\n\t\t\t\t\tDouble.parseDouble(expression[8]), Double.parseDouble(expression[10]));\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tpublic static double add(double a, double b) {return a + b;}\r\n\tpublic static double add(double a, double b, double c) {return a + b + c;}\r\n\tpublic static double add(double a, double b, double c, double d) {return a + b + c + d;}\r\n\tpublic static double add(double a, double b, double c, double d, double e) {return a + b + c + d + e;}\r\n\tpublic static double add(double a, double b, double c, double d, double e, double f) {return a + b + c + d + e + f;}\r\n}\r\n```","title":"How to replace the overridden methods with a Recursive implementation","body":"<p>I want to use <strong>recursion</strong> in order to collapse the overridden <code>add()</code> methods in the code and allow the user to provide any number of terms.</p>\n<p>I've made a couple of changes to my code, but I'm not getting the desired result.</p>\n<p>Examples of user input and expected output.</p>\n<p><strong>Output</strong> (for input <code>3 + 4</code>)</p>\n<pre><code>7.0\n</code></pre>\n<p><strong>Output</strong> (for input <code>3 + 4 + 5</code>)</p>\n<pre><code>12.0\n</code></pre>\n<p>The <strong>code</strong> I have:</p>\n<pre><code>import java.util.*;\n\npublic class Recursion {\n\n    public static void main(String args[]) {\n\n        Scanner input = new Scanner(System.in);\n        String exp = input.nextLine();\n        System.out.println(solver(exp.split(&quot; &quot;)));\n\n    }\n    public static double solver(String[] expression) {\n\n        double result = 0;\n\n        if (expression.length == 3) {\n            result = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]));\n        }\n        else if (expression.length == 5) {\n            result = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]),\n                    Double.parseDouble(expression[4]));\n        }\n        else if (expression.length == 7) {\n            result = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]),\n                    Double.parseDouble(expression[4]), Double.parseDouble(expression[6]));\n        }\n        else if (expression.length == 9) {\n            result = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]),\n                    Double.parseDouble(expression[4]), Double.parseDouble(expression[6]),\n                    Double.parseDouble(expression[8]));\n        }\n        else if (expression.length == 11) {\n            result = add(Double.parseDouble(expression[0]), Double.parseDouble(expression[2]),\n                    Double.parseDouble(expression[4]), Double.parseDouble(expression[6]),\n                    Double.parseDouble(expression[8]), Double.parseDouble(expression[10]));\n        }\n\n        return result;\n\n    }\n\n    public static double add(double a, double b) {return a + b;}\n    public static double add(double a, double b, double c) {return a + b + c;}\n    public static double add(double a, double b, double c, double d) {return a + b + c + d;}\n    public static double add(double a, double b, double c, double d, double e) {return a + b + c + d + e;}\n    public static double add(double a, double b, double c, double d, double e, double f) {return a + b + c + d + e + f;}\n}\n</code></pre>\n"},{"tags":["java","data-structures","collections"],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647865115,"creation_date":1647864726,"answer_id":71557451,"question_id":71557276,"body_markdown":"Looks good to me. Only thing I would change is to create a separate class for an occurrence so you have control over `equals()` which `Set` uses to determine equality so you can define what a *duplicate* actually is.\r\n\r\nAs you are defining a range with a `start` and `end` *duplicate* could theoretically mean multiple things. \r\n- Start and end must match exactly for it to be a duplicate (this is implemented below but probably not what you want here): `[0, 2]` and `[1, 2]` would **not** be considered a *duplicate* here.\r\n- Two ranges in a `Set` must not have an intersection (this is likely what you want): `[0, 2]` and `[1, 2]` would be considered a *duplicate* here.\r\n- ...\r\n\r\nTake for instance this class:\r\n```java\r\npublic class Occurrence{\r\n        private int start;\r\n        private int end;\r\n\r\n        public Occurrence(int start, int end) {\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Occurrence that = (Occurrence) o;\r\n            return start == that.start &amp;&amp; end == that.end;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(start, end);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;[&quot; +\r\n                    + start +\r\n                    &quot;, &quot; + end +\r\n                    &#39;]&#39;;\r\n        }\r\n    }\r\n```\r\n\r\nThen you could use the data structure like this:\r\n```java\r\nvar ds = new HashMap&lt;String, Set&lt;Occurrence&gt;&gt;();\r\n```\r\n\r\nOnly other thing you could then think about is which map to use. I suggest you take [this thread](https://stackoverflow.com/questions/2889777/difference-between-hashmap-linkedhashmap-and-treemap) as a point of reference to make up your mind and make a conscious choice in the end.","title":"Store each character occurence","body":"<p>Looks good to me. Only thing I would change is to create a separate class for an occurrence so you have control over <code>equals()</code> which <code>Set</code> uses to determine equality so you can define what a <em>duplicate</em> actually is.</p>\n<p>As you are defining a range with a <code>start</code> and <code>end</code> <em>duplicate</em> could theoretically mean multiple things.</p>\n<ul>\n<li>Start and end must match exactly for it to be a duplicate (this is implemented below but probably not what you want here): <code>[0, 2]</code> and <code>[1, 2]</code> would <strong>not</strong> be considered a <em>duplicate</em> here.</li>\n<li>Two ranges in a <code>Set</code> must not have an intersection (this is likely what you want): <code>[0, 2]</code> and <code>[1, 2]</code> would be considered a <em>duplicate</em> here.</li>\n<li>...</li>\n</ul>\n<p>Take for instance this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Occurrence{\n        private int start;\n        private int end;\n\n        public Occurrence(int start, int end) {\n            this.start = start;\n            this.end = end;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Occurrence that = (Occurrence) o;\n            return start == that.start &amp;&amp; end == that.end;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(start, end);\n        }\n\n        @Override\n        public String toString() {\n            return &quot;[&quot; +\n                    + start +\n                    &quot;, &quot; + end +\n                    ']';\n        }\n    }\n</code></pre>\n<p>Then you could use the data structure like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var ds = new HashMap&lt;String, Set&lt;Occurrence&gt;&gt;();\n</code></pre>\n<p>Only other thing you could then think about is which map to use. I suggest you take <a href=\"https://stackoverflow.com/questions/2889777/difference-between-hashmap-linkedhashmap-and-treemap\">this thread</a> as a point of reference to make up your mind and make a conscious choice in the end.</p>\n"}],"owner":{"account_id":7454179,"reputation":660,"user_id":5667911,"accept_rate":45,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647865115,"creation_date":1647863949,"question_id":71557276,"body_markdown":"I want to design a data structure to store occurence if each character in java. \r\nfor eg: for the given below string\r\n\r\n    DDDTTNNDD\r\n\r\nmy data structure should look something like this\r\n\r\n    D-[[0,2],[7,8]]\r\n    T-[[3,4]]\r\n    N-[[5,6]]\r\n\r\nI have something like this in mind but dont know exactly what datastructure in java to use\r\n\r\n\r\n    Map&lt;String,Set&lt;&gt;&gt;\r\n\r\nusing set because dont want the occurence to repeat","title":"Store each character occurence","body":"<p>I want to design a data structure to store occurence if each character in java.\nfor eg: for the given below string</p>\n<pre><code>DDDTTNNDD\n</code></pre>\n<p>my data structure should look something like this</p>\n<pre><code>D-[[0,2],[7,8]]\nT-[[3,4]]\nN-[[5,6]]\n</code></pre>\n<p>I have something like this in mind but dont know exactly what datastructure in java to use</p>\n<pre><code>Map&lt;String,Set&lt;&gt;&gt;\n</code></pre>\n<p>using set because dont want the occurence to repeat</p>\n"},{"tags":["java","spring-boot","docker","gradle","build.gradle"],"comments":[{"owner":{"account_id":13095631,"reputation":147,"user_id":9461640,"display_name":"Crude Code"},"score":1,"creation_date":1638435052,"post_id":70193877,"comment_id":124088564,"body_markdown":"What happens if you try to run the jar after the build directly on your system?","body":"What happens if you try to run the jar after the build directly on your system?"},{"owner":{"account_id":6314572,"reputation":46,"user_id":4905043,"display_name":"Dennis .VN"},"score":0,"creation_date":1638436936,"post_id":70193877,"comment_id":124089250,"body_markdown":"The command prompt returns `Error: Unable to access jarfile moescrud.jar`. I will rebuild the jar and try again !","body":"The command prompt returns <code>Error: Unable to access jarfile moescrud.jar</code>. I will rebuild the jar and try again !"},{"owner":{"account_id":13095631,"reputation":147,"user_id":9461640,"display_name":"Crude Code"},"score":1,"creation_date":1638437582,"post_id":70193877,"comment_id":124089516,"body_markdown":"This can be related to permission error or using an incompatible java version on you system. But it is probably not the same problem as your docker problem.","body":"This can be related to permission error or using an incompatible java version on you system. But it is probably not the same problem as your docker problem."}],"answers":[{"tags":[],"owner":{"account_id":13095631,"reputation":147,"user_id":9461640,"display_name":"Crude Code"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638438950,"creation_date":1638438429,"answer_id":70197204,"question_id":70193877,"body_markdown":"This reminds me of a similar error I once had. The gradle build does only consider the source files you have in your project. It does not contain additional dependencies in the resulting jar file.\r\n\r\nSo this essentially means, that every dependency your project needs is not present.\r\n\r\nTo solve this you have to build an executable jar / fat jar.\r\n\r\n# Spring boot way #\r\nYou can build an executable jar with the command `./gradlew bootJar`\r\n\r\nIt is also possible to add the gradle configuration:\r\n```gradle\r\nspringBoot {\r\n  exectuable = true\r\n}\r\n```\r\nNote: I do not have a lot of expierence regarding this config, but the [documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html) give a broader overview.\r\n\r\n# Shadow #\r\nYou can also use a gradle plugin called [shadow](https://imperceptiblethoughts.com/shadow/introduction/).\r\n\r\nWith it you can build an uber / fat jar which contains every dependency your app needs to run standalone.","title":"Docker: image won&#39;t run : No auto configuration classes found in META-INF/spring.factories","body":"<p>This reminds me of a similar error I once had. The gradle build does only consider the source files you have in your project. It does not contain additional dependencies in the resulting jar file.</p>\n<p>So this essentially means, that every dependency your project needs is not present.</p>\n<p>To solve this you have to build an executable jar / fat jar.</p>\n<h1>Spring boot way</h1>\n<p>You can build an executable jar with the command <code>./gradlew bootJar</code></p>\n<p>It is also possible to add the gradle configuration:</p>\n<pre><code>springBoot {\n  exectuable = true\n}\n</code></pre>\n<p>Note: I do not have a lot of expierence regarding this config, but the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">documentation</a> give a broader overview.</p>\n<h1>Shadow</h1>\n<p>You can also use a gradle plugin called <a href=\"https://imperceptiblethoughts.com/shadow/introduction/\" rel=\"nofollow noreferrer\">shadow</a>.</p>\n<p>With it you can build an uber / fat jar which contains every dependency your app needs to run standalone.</p>\n"}],"owner":{"account_id":6314572,"reputation":46,"user_id":4905043,"display_name":"Dennis .VN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70197204,"answer_count":1,"score":0,"last_activity_date":1647864808,"creation_date":1638415818,"question_id":70193877,"body_markdown":"I&#39;m working on my first, very basic Docker Image with **Spring Boot &amp; Gradle**.&lt;br&gt;&lt;br&gt; When i run it i get following error :&lt;br&gt; \r\n`No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.`\r\n```\r\n02:33:59.843 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\njava.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct. \r\n        at org.springframework.util.Assert.notEmpty(Assert.java:470)\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getCandidateConfigurations(AutoConfigurationImportSelector.java:180)\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getAutoConfigurationEntry(AutoConfigurationImportSelector.java:123)\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.process(AutoConfigurationImportSelector.java:434)\r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGrouping.getImports(ConfigurationClassParser.java:879)\r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)    \r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)    \r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\r\n        at be.dennisvn.demo.MoesCrudApplication.main(MoesCrudApplication.java:13)\r\n02:33:59.875 [main] DEBUG org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@d6da883, started on Thu Dec 02 02:33:59 UTC 2021\r\n```\r\n&lt;br&gt;this is my **main class** &lt;br&gt;\r\n```\r\npackage be.dennisvn.demo;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class MoesCrudApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MoesCrudApplication.class, args);\r\n\t}\r\n}\r\n```\r\nThis is my **build.gradle :**\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;com.palantir.docker&#39; version &#39;0.22.1&#39;\r\n}\r\n\r\ngroup = &#39;be.dennisvn&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndocker {\r\n\tname &quot;crudformoes&quot;\r\n\tdockerfile file(&#39;Dockerfile&#39;)\r\n\tcopySpec.from(jar).rename(&quot;.*&quot;,&quot;app.jar&quot;)\r\n\tbuildArgs([&#39;JAR_FILE&#39;: &quot;app.jar&quot;])\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\nAnd this is my **Dockerfile :**\r\n```\r\nFROM openjdk:17.0.1\r\nADD MoesCrud.jar MoesCrud.jar\r\nEXPOSE 9090\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;MoesCrud.jar&quot;]\r\n```\r\nBesides trying most suggestions on other threads, i also tried removing the `id &#39;com.palantir.docker&#39; version &#39;0.22.1&#39;` because i thought the plugin caused it. But it also doesn&#39;t solve the error.[Source of the plugin][1] as recommended in [this tutorial][2]&lt;br&gt;\r\n\r\nI know watching youtube tutorials isn&#39;t always the smartest way, but i find it overwhelming to find a straighforward explanation on how all this works together.I went through similar posts, but all have very specific builds,work with pom.xml files or are posted years ago.\r\n\r\n\r\n  [1]: https://github.com/ekim197711/springboot-docker-gradle\r\n  [2]: https://www.youtube.com/watch?v=x7nrGLJLN5U&amp;t=823s","title":"Docker: image won&#39;t run : No auto configuration classes found in META-INF/spring.factories","body":"<p>I'm working on my first, very basic Docker Image with <strong>Spring Boot &amp; Gradle</strong>.<br><br> When i run it i get following error :<br>\n<code>No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.</code></p>\n<pre><code>02:33:59.843 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct. \n        at org.springframework.util.Assert.notEmpty(Assert.java:470)\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getCandidateConfigurations(AutoConfigurationImportSelector.java:180)\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getAutoConfigurationEntry(AutoConfigurationImportSelector.java:123)\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.process(AutoConfigurationImportSelector.java:434)\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGrouping.getImports(ConfigurationClassParser.java:879)\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)    \n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)    \n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\n        at be.dennisvn.demo.MoesCrudApplication.main(MoesCrudApplication.java:13)\n02:33:59.875 [main] DEBUG org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@d6da883, started on Thu Dec 02 02:33:59 UTC 2021\n</code></pre>\n<p><br>this is my <strong>main class</strong> <br></p>\n<pre><code>package be.dennisvn.demo;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MoesCrudApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MoesCrudApplication.class, args);\n    }\n}\n</code></pre>\n<p>This is my <strong>build.gradle :</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.0'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'com.palantir.docker' version '0.22.1'\n}\n\ngroup = 'be.dennisvn'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndocker {\n    name &quot;crudformoes&quot;\n    dockerfile file('Dockerfile')\n    copySpec.from(jar).rename(&quot;.*&quot;,&quot;app.jar&quot;)\n    buildArgs(['JAR_FILE': &quot;app.jar&quot;])\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>And this is my <strong>Dockerfile :</strong></p>\n<pre><code>FROM openjdk:17.0.1\nADD MoesCrud.jar MoesCrud.jar\nEXPOSE 9090\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;MoesCrud.jar&quot;]\n</code></pre>\n<p>Besides trying most suggestions on other threads, i also tried removing the <code>id 'com.palantir.docker' version '0.22.1'</code> because i thought the plugin caused it. But it also doesn't solve the error.<a href=\"https://github.com/ekim197711/springboot-docker-gradle\" rel=\"nofollow noreferrer\">Source of the plugin</a> as recommended in <a href=\"https://www.youtube.com/watch?v=x7nrGLJLN5U&amp;t=823s\" rel=\"nofollow noreferrer\">this tutorial</a><br></p>\n<p>I know watching youtube tutorials isn't always the smartest way, but i find it overwhelming to find a straighforward explanation on how all this works together.I went through similar posts, but all have very specific builds,work with pom.xml files or are posted years ago.</p>\n"},{"tags":["java","spring-boot","tomcat9","graceful-shutdown"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647865468,"post_id":71556899,"comment_id":126470790,"body_markdown":"Are you running an embedded tomcat or deploying in Tomcat? Very different. And also why would you need to call yourself over HTTP that seems overly complicated, why not just call the beans/methods directly from the `@PreDestroy` method(s)?","body":"Are you running an embedded tomcat or deploying in Tomcat? Very different. And also why would you need to call yourself over HTTP that seems overly complicated, why not just call the beans/methods directly from the <code>@PreDestroy</code> method(s)?"},{"owner":{"account_id":21497056,"reputation":53,"user_id":15841915,"display_name":"AP_22"},"score":0,"creation_date":1647872058,"post_id":71556899,"comment_id":126473469,"body_markdown":"I will be deploying in Tomcat &amp; I&#39;m also trying to test the behaviour in local by sending a SIGINT.\nhe calls are not http calls exactly. Basically it&#39;s a calling application (where users can call each other). The use case is whenever I am shutting down the application, I need to keep the call alive for sometime(there&#39;s some logic) and call should not get disconnected. The &quot;keeping call alive&quot; part is taken care of in @Predestroy. But for the calls to be alive, I need 8080 as it requires a couple of self pings and multiple calls to/from other services even when the predestoy method is running.","body":"I will be deploying in Tomcat &amp; I&#39;m also trying to test the behaviour in local by sending a SIGINT. he calls are not http calls exactly. Basically it&#39;s a calling application (where users can call each other). The use case is whenever I am shutting down the application, I need to keep the call alive for sometime(there&#39;s some logic) and call should not get disconnected. The &quot;keeping call alive&quot; part is taken care of in @Predestroy. But for the calls to be alive, I need 8080 as it requires a couple of self pings and multiple calls to/from other services even when the predestoy method is running."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647872122,"post_id":71556899,"comment_id":126473498,"body_markdown":"An external tomcat is something you cannot control, so you are at the mercy how things are configured. Those `server.*` properties don&#39;t apply when using an external tomcat.","body":"An external tomcat is something you cannot control, so you are at the mercy how things are configured. Those <code>server.*</code> properties don&#39;t apply when using an external tomcat."},{"owner":{"account_id":21497056,"reputation":53,"user_id":15841915,"display_name":"AP_22"},"score":0,"creation_date":1647872251,"post_id":71556899,"comment_id":126473566,"body_markdown":"Just to clarify, the moment it receives SIGINT, the port is closed and there&#39;s no way I can keep them open for a little longer?","body":"Just to clarify, the moment it receives SIGINT, the port is closed and there&#39;s no way I can keep them open for a little longer?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647872463,"post_id":71556899,"comment_id":126473663,"body_markdown":"As stated if you are using an external tomcat there isn&#39;t. Graceful shutdown only works for an embedded tomcat instance (although regular tomcat shuts down grafecull it only does so for a short period). You could delay the unload but that requires configuration (see https://stackoverflow.com/questions/51675180/how-to-gracefully-shutdown-servelts-in-tomcat-in-docker-container#:~:text=Yes%2C%20tomcat%20itself%20shuts%20down%20gracefully%2C%20but%20not,in%20the%20middle%20of%20processing%20a%20reguest%20%28%21%21%29)","body":"As stated if you are using an external tomcat there isn&#39;t. Graceful shutdown only works for an embedded tomcat instance (although regular tomcat shuts down grafecull it only does so for a short period). You could delay the unload but that requires configuration (see <a href=\"https://stackoverflow.com/questions/51675180/how-to-gracefully-shutdown-servelts-in-tomcat-in-docker-container#:~:text=Yes%2C%20tomcat%20itself%20shuts%20down%20gracefully%2C%20but%20not,in%20the%20middle%20of%20processing%20a%20reguest%20%28%21%21%29\" title=\"how to gracefully shutdown servelts in tomcat in docker container%23%3a%7e%3atext%3dYes%252C%2520tomcat%2520itself%2520shuts%2520down%2520gracefully%252C%2520but%2520not%2cin%2520the%2520middle%2520of%2520processing%2520a%2520reguest%2520%2528%2521%2521%2529\">stackoverflow.com/questions/51675180/&hellip;</a>)"},{"owner":{"account_id":21497056,"reputation":53,"user_id":15841915,"display_name":"AP_22"},"score":0,"creation_date":1647872681,"post_id":71556899,"comment_id":126473756,"body_markdown":"For embedded tomcat, do you know any alternative to https://dzone.com/articles/configuring-graceful-shutdown-readiness-and-livene ? I&#39;m trying in local and this doesn’t seem to be working for me","body":"For embedded tomcat, do you know any alternative to <a href=\"https://dzone.com/articles/configuring-graceful-shutdown-readiness-and-livene\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a> ? I&#39;m trying in local and this doesn’t seem to be working for me"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647872776,"post_id":71556899,"comment_id":126473803,"body_markdown":"What do you mean with local? If you are deploying to a local tomcat that isn&#39;t an embedded tomcat. Embedded means running `java -jar your.jar` or running it from within your IDE. However as you aren&#39;t allowed anymore incoming connections those self pings will obviously not work as no incoming requests are allowed.","body":"What do you mean with local? If you are deploying to a local tomcat that isn&#39;t an embedded tomcat. Embedded means running <code>java -jar your.jar</code> or running it from within your IDE. However as you aren&#39;t allowed anymore incoming connections those self pings will obviously not work as no incoming requests are allowed."},{"owner":{"account_id":21497056,"reputation":53,"user_id":15841915,"display_name":"AP_22"},"score":0,"creation_date":1647872909,"post_id":71556899,"comment_id":126473875,"body_markdown":"i&#39;m running it within my IDE, using IntelliJ","body":"i&#39;m running it within my IDE, using IntelliJ"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1647873031,"post_id":71556899,"comment_id":126473924,"body_markdown":"The graceful shutdown isn&#39;t what you think it is. There is a graceful shutdown but you cannot make new connections. You require new connections in your shutdown logic and that is where your flaw is, you cannot self ping or do anytning with connections as those aren&#39;t allowed. Regardless of using Graceful shutdown or not.","body":"The graceful shutdown isn&#39;t what you think it is. There is a graceful shutdown but you cannot make new connections. You require new connections in your shutdown logic and that is where your flaw is, you cannot self ping or do anytning with connections as those aren&#39;t allowed. Regardless of using Graceful shutdown or not."},{"owner":{"account_id":21497056,"reputation":53,"user_id":15841915,"display_name":"AP_22"},"score":0,"creation_date":1647873300,"post_id":71556899,"comment_id":126474033,"body_markdown":"Thank you. Appreciate the clarification! :)","body":"Thank you. Appreciate the clarification! :)"}],"owner":{"account_id":21497056,"reputation":53,"user_id":15841915,"display_name":"AP_22"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647864674,"creation_date":1647862260,"question_id":71556899,"body_markdown":"I am hosting an application in Tomcat. I have some cleanup logic that needs to run before application shuts down, which I have implemented using spring @Predestroy methods.\r\nAfter I send SIGINT to the process, predestroyer logic starts running, which is exactly what I want. But as part of this predestroy logic, there are a few API calls and other stuff that needs 8080 to be still open. As soon as I send kill signal, the ports are closed, but the process still runs. \r\nIs there a way I can still keep the ports open until all beans are destroyed? Can someone please help?\r\n\r\n( I have used graceful shutdown tag with a sufficient timeout period, it does not work for me even though the prerequisites are met - https://dzone.com/articles/configuring-graceful-shutdown-readiness-and-livene \r\nMy spring boot version is 2.6 and tomcat is 9.0.60 )","title":"8080 gets closed immediately after sending SIGINT signal to tomcat","body":"<p>I am hosting an application in Tomcat. I have some cleanup logic that needs to run before application shuts down, which I have implemented using spring @Predestroy methods.\nAfter I send SIGINT to the process, predestroyer logic starts running, which is exactly what I want. But as part of this predestroy logic, there are a few API calls and other stuff that needs 8080 to be still open. As soon as I send kill signal, the ports are closed, but the process still runs.\nIs there a way I can still keep the ports open until all beans are destroyed? Can someone please help?</p>\n<p>( I have used graceful shutdown tag with a sufficient timeout period, it does not work for me even though the prerequisites are met - <a href=\"https://dzone.com/articles/configuring-graceful-shutdown-readiness-and-livene\" rel=\"nofollow noreferrer\">https://dzone.com/articles/configuring-graceful-shutdown-readiness-and-livene</a>\nMy spring boot version is 2.6 and tomcat is 9.0.60 )</p>\n"},{"tags":["javascript","java","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":12826119,"reputation":109,"user_id":9279083,"display_name":"Abhale Amol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647864551,"creation_date":1647864551,"answer_id":71557411,"question_id":71549884,"body_markdown":"    On click of button, call a Javascript function which will send an Ajax POST request to the Controller.\r\n                    \r\n    JavaScript Code:\r\n    \r\n    const holdingTimes = [];\r\n    holdingTimes.push(10);\r\n    holdingTimes.push(20);\r\n    holdingTimes.push(30);\r\n                \r\n    $.ajax({\r\n        &#39;url&#39; : &quot;/test-url&quot;,\r\n        &quot;data&quot; : JSON.stringify(holdingTimes),\r\n        &#39;method&#39; : &quot;POST&quot;,\r\n        &#39;contentType&#39; : &#39;application/json&#39;\r\n    }).done(function(data) {\r\n        // handling code for success response\r\n    });\r\n                \r\n                \r\n    Spring Controller:    \r\n    \r\n    @PostMapping(&quot;/test-url&quot;)\r\n    public String testArrayUpload(@RequestBody int[] times) {\r\n        //your logic goes here\r\n        return &quot;test&quot;;\r\n    }","title":"How to get array from JavaScript to JavaController?","body":"<pre><code>On click of button, call a Javascript function which will send an Ajax POST request to the Controller.\n                \nJavaScript Code:\n\nconst holdingTimes = [];\nholdingTimes.push(10);\nholdingTimes.push(20);\nholdingTimes.push(30);\n            \n$.ajax({\n    'url' : &quot;/test-url&quot;,\n    &quot;data&quot; : JSON.stringify(holdingTimes),\n    'method' : &quot;POST&quot;,\n    'contentType' : 'application/json'\n}).done(function(data) {\n    // handling code for success response\n});\n            \n            \nSpring Controller:    \n\n@PostMapping(&quot;/test-url&quot;)\npublic String testArrayUpload(@RequestBody int[] times) {\n    //your logic goes here\n    return &quot;test&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":24621828,"reputation":3,"user_id":18522071,"display_name":"pahud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71557411,"answer_count":1,"score":-1,"last_activity_date":1647864551,"creation_date":1647803718,"question_id":71549884,"body_markdown":"I am saving data of how long users hold the buttons when they are writing. Now the data is saved in \r\n`const holdingTimes`, but I want to add any button in html like SAVE and then send data from js to my JavaController.\r\n\r\nhtml:\r\n```html\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;p&gt;Write some text:&lt;/p&gt;\r\n    &lt;form&gt;\r\n        &lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;textarea class=&quot;form-control&quot; rows=&quot;5&quot; id=&quot;myInput&quot;&gt;&lt;/textarea&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n```\r\njs:\r\n```js\r\n&lt;script&gt;\r\n    var pressedTime; var releasedTime; var holdingTime; \r\n    const holdingTimes = [];\r\n \r\n    document.getElementById(&quot;myInput&quot;).addEventListener(&quot;keydown&quot;, pressedFunction);\r\n    document.getElementById(&quot;myInput&quot;).addEventListener(&quot;keyup&quot;, releasedFunction);\r\n\r\n    function pressedFunction() {\r\n        pressedTime = Date.now();\r\n    }\r\n\r\n    function releasedFunction() {\r\n        releasedTime = Date.now() ;\r\n        holdingTime = releasedTime - pressedTime;\r\n      \r\n        holdingTimes.push(holdingTime);\r\n    }\r\n&lt;/script&gt;\r\n```\r\nAny ideas how to build JavaController and SAVE button? \r\n\r\nJavaController looks like:\r\n```java\r\n@Controller\r\n@Scope(WebApplicationContext.SCOPE_SESSION)\r\n@RequestMapping(&quot;/getValues&quot;)\r\n\r\npublic class JavaController {\r\n\r\nint [] holdingTimes;\r\n\r\n@RequestMapping(&quot;/save&quot;)\r\n    public String getData(int[] holdingTimesFromJs, Model model) {\r\n        \r\n        holdingTimes = holdingTimesFromJs;        \r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```","title":"How to get array from JavaScript to JavaController?","body":"<p>I am saving data of how long users hold the buttons when they are writing. Now the data is saved in\n<code>const holdingTimes</code>, but I want to add any button in html like SAVE and then send data from js to my JavaController.</p>\n<p>html:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;container&quot;&gt;\n    &lt;p&gt;Write some text:&lt;/p&gt;\n    &lt;form&gt;\n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;textarea class=&quot;form-control&quot; rows=&quot;5&quot; id=&quot;myInput&quot;&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n<p>js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script&gt;\n    var pressedTime; var releasedTime; var holdingTime; \n    const holdingTimes = [];\n \n    document.getElementById(&quot;myInput&quot;).addEventListener(&quot;keydown&quot;, pressedFunction);\n    document.getElementById(&quot;myInput&quot;).addEventListener(&quot;keyup&quot;, releasedFunction);\n\n    function pressedFunction() {\n        pressedTime = Date.now();\n    }\n\n    function releasedFunction() {\n        releasedTime = Date.now() ;\n        holdingTime = releasedTime - pressedTime;\n      \n        holdingTimes.push(holdingTime);\n    }\n&lt;/script&gt;\n</code></pre>\n<p>Any ideas how to build JavaController and SAVE button?</p>\n<p>JavaController looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@Scope(WebApplicationContext.SCOPE_SESSION)\n@RequestMapping(&quot;/getValues&quot;)\n\npublic class JavaController {\n\nint [] holdingTimes;\n\n@RequestMapping(&quot;/save&quot;)\n    public String getData(int[] holdingTimesFromJs, Model model) {\n        \n        holdingTimes = holdingTimesFromJs;        \n\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","database","sqlite"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":2,"creation_date":1647855781,"post_id":71555487,"comment_id":126467205,"body_markdown":"I don&#39;t see any loop","body":"I don&#39;t see any loop"},{"owner":{"account_id":24627983,"reputation":51,"user_id":18527510,"display_name":"shiga123"},"score":0,"creation_date":1647857519,"post_id":71555487,"comment_id":126467832,"body_markdown":"Hi @Bentaye stackoverflow is not allowing me to share image so i am sharing this image link for the log file https://i.stack.imgur.com/Nm6qU.png","body":"Hi @Bentaye stackoverflow is not allowing me to share image so i am sharing this image link for the log file <a href=\"https://i.stack.imgur.com/Nm6qU.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/Nm6qU.png</a>"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1647863199,"post_id":71555487,"comment_id":126469903,"body_markdown":"You are probably getting this message once every time `executeInsertQuery` is called. I don&#39;t see any problem with that. I think there is not enough information in your question.","body":"You are probably getting this message once every time <code>executeInsertQuery</code> is called. I don&#39;t see any problem with that. I think there is not enough information in your question."},{"owner":{"account_id":24627983,"reputation":51,"user_id":18527510,"display_name":"shiga123"},"score":0,"creation_date":1647863979,"post_id":71555487,"comment_id":126470210,"body_markdown":"@Bentaye One more thing due to this exception device is stuck in power off activity.how can we avoid this?","body":"@Bentaye One more thing due to this exception device is stuck in power off activity.how can we avoid this?"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1647864202,"post_id":71555487,"comment_id":126470305,"body_markdown":"Well, the best way to not have this exception is to fix the issue with the DB. Is that what you are asking? how to fix the DB access?","body":"Well, the best way to not have this exception is to fix the issue with the DB. Is that what you are asking? how to fix the DB access?"},{"owner":{"account_id":24627983,"reputation":51,"user_id":18527510,"display_name":"shiga123"},"score":0,"creation_date":1647866596,"post_id":71555487,"comment_id":126471215,"body_markdown":"@Bentaye Yes. the name of the class is also sqliteDBAccess.stackoverflow is not allowing me to comment more. is their any way you can create a chat room so that we can discuss this briefly?","body":"@Bentaye Yes. the name of the class is also sqliteDBAccess.stackoverflow is not allowing me to comment more. is their any way you can create a chat room so that we can discuss this briefly?"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1647956073,"post_id":71555487,"comment_id":126497265,"body_markdown":"I am not an android developer and I am just trying to clarify the question. I can&#39;t really help you. Have a try googling `java sqlite &quot;database not open&quot;`  you might have not called the method to open or create the database.","body":"I am not an android developer and I am just trying to clarify the question. I can&#39;t really help you. Have a try googling <code>java sqlite &quot;database not open&quot;</code>  you might have not called the method to open or create the database."}],"answers":[{"tags":[],"owner":{"account_id":24627983,"reputation":51,"user_id":18527510,"display_name":"shiga123"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1647864498,"creation_date":1647864498,"answer_id":71557397,"question_id":71555487,"body_markdown":"yes @Bentaye the name of this class is also sqlitedbaccess.sry stack overflow is not allowing me to comment more.\r\n","title":"Unable to exit this illegal statement exception loop","body":"<p>yes @Bentaye the name of this class is also sqlitedbaccess.sry stack overflow is not allowing me to comment more.</p>\n"}],"owner":{"account_id":24627983,"reputation":51,"user_id":18527510,"display_name":"shiga123"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71557397,"answer_count":1,"score":0,"last_activity_date":1647864498,"creation_date":1647855682,"question_id":71555487,"body_markdown":"I am new to android.And i got this task at work.you can see in the logs i am getting illegal statement multiple times.what i want is it should give this exception only one time .below is the method that i think causing the exception.\r\n\r\n```\r\n   @Override\r\n    public boolean executeInsertQuery(String query) {\r\n        boolean isInsertSuccess;\r\n        SQLiteStatement sqlStmt = null;\r\n        try {\r\n            if (dbWriteInstance == null) {\r\n                dbWriteInstance = getWriteableDatabase();\r\n            }\r\n            sqlStmt = dbWriteInstance.compileStatement(query);\r\n            sqlStmt.executeInsert();\r\n            dbWriteInstance.yieldIfContendedSafely();\r\n            isInsertSuccess = true;\r\n        } catch (Exception e) {\r\n            bllLog.logInfo(LogWarningEvent.UNEXPECTED_EXCEPTION, e,\r\n                    &quot;Exception in SQLiteAccess.executeInsertQuery()&quot;);\r\n            isInsertSuccess = false;\r\n        } finally {\r\n            if (sqlStmt != null) {\r\n                sqlStmt.close();\r\n            }\r\n        }\r\n\r\n        return isInsertSuccess;\r\n    }\r\n```\r\n```\r\n\r\n    /**\r\n     * Compiles an SQL statement into a reusable pre-compiled statement object.\r\n     * The parameters are identical to {@link #execSQL(String)}. You may put ?s in the\r\n     * statement and fill in those values with {@link SQLiteProgram#bindString}\r\n     * and {@link SQLiteProgram#bindLong} each time you want to run the\r\n     * statement. Statements may not return result sets larger than 1x1.\r\n     *\r\n     * @param sql The raw SQL statement, may contain ? for unknown values to be\r\n     *            bound later.\r\n     *\r\n     * @return A pre-compiled {@link SQLiteStatement} object. Note that\r\n     * {@link SQLiteStatement}s are not synchronized, see the documentation for more details.\r\n     *\r\n     * @throws SQLException If the SQL string is invalid for some reason\r\n     * @throws IllegalStateException if the database is not open\r\n     */\r\n    public SQLiteStatement compileStatement(String sql) throws SQLException {\r\n        lock();\r\n        try {\r\n            if (!isOpen()) {\r\n                throw new IllegalStateException(&quot;database not open&quot;);\r\n            }\r\n            return new SQLiteStatement(this, sql);\r\n        } finally {\r\n            unlock();\r\n        }\r\n    }\r\n\r\n```\r\nSee the image from 10689 to 10715 i am getting this multiple times i just want this whole block one time\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\nAny suggestion on this will be helpful thanks..\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nm6qU.png","title":"Unable to exit this illegal statement exception loop","body":"<p>I am new to android.And i got this task at work.you can see in the logs i am getting illegal statement multiple times.what i want is it should give this exception only one time .below is the method that i think causing the exception.</p>\n<pre><code>   @Override\n    public boolean executeInsertQuery(String query) {\n        boolean isInsertSuccess;\n        SQLiteStatement sqlStmt = null;\n        try {\n            if (dbWriteInstance == null) {\n                dbWriteInstance = getWriteableDatabase();\n            }\n            sqlStmt = dbWriteInstance.compileStatement(query);\n            sqlStmt.executeInsert();\n            dbWriteInstance.yieldIfContendedSafely();\n            isInsertSuccess = true;\n        } catch (Exception e) {\n            bllLog.logInfo(LogWarningEvent.UNEXPECTED_EXCEPTION, e,\n                    &quot;Exception in SQLiteAccess.executeInsertQuery()&quot;);\n            isInsertSuccess = false;\n        } finally {\n            if (sqlStmt != null) {\n                sqlStmt.close();\n            }\n        }\n\n        return isInsertSuccess;\n    }\n</code></pre>\n<pre><code>\n    /**\n     * Compiles an SQL statement into a reusable pre-compiled statement object.\n     * The parameters are identical to {@link #execSQL(String)}. You may put ?s in the\n     * statement and fill in those values with {@link SQLiteProgram#bindString}\n     * and {@link SQLiteProgram#bindLong} each time you want to run the\n     * statement. Statements may not return result sets larger than 1x1.\n     *\n     * @param sql The raw SQL statement, may contain ? for unknown values to be\n     *            bound later.\n     *\n     * @return A pre-compiled {@link SQLiteStatement} object. Note that\n     * {@link SQLiteStatement}s are not synchronized, see the documentation for more details.\n     *\n     * @throws SQLException If the SQL string is invalid for some reason\n     * @throws IllegalStateException if the database is not open\n     */\n    public SQLiteStatement compileStatement(String sql) throws SQLException {\n        lock();\n        try {\n            if (!isOpen()) {\n                throw new IllegalStateException(&quot;database not open&quot;);\n            }\n            return new SQLiteStatement(this, sql);\n        } finally {\n            unlock();\n        }\n    }\n\n</code></pre>\n<p>See the image from 10689 to 10715 i am getting this multiple times i just want this whole block one time</p>\n<p><a href=\"https://i.stack.imgur.com/Nm6qU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nm6qU.png\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestion on this will be helpful thanks..</p>\n"},{"tags":["java","spring-boot","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1614363673,"creation_date":1614349787,"answer_id":66387638,"question_id":66361283,"body_markdown":"The underlying issue has nothing to do with Spring Boot/Hibernate or your test setup.\r\n\r\nThe SQL statement `SELECT COUNT(*) FROM Person` returns a single row with a single column that contains the number of counted rows:\r\n\r\n    $ SELECT COUNT(*) FROM Person;\r\n\r\n    COUNT(*)  \r\n    ----\r\n    4\r\n\r\nThat&#39;s why you have to call `.getSingleResult()` from the result for your native or custom query:\r\n\r\n    assertThat(personRepository.count())\r\n      .isEqualTo(4);\r\n    \r\n    assertThat(testEntityManager.getEntityManager()\r\n                                .createQuery(&quot;SELECT COUNT(*) FROM Person p&quot;, Long.class)\r\n                                .getSingleResult())\r\n      .isEqualTo(4L);\r\n    \r\n    assertThat(testEntityManager.getEntityManager()\r\n                                .createNativeQuery(&quot;SELECT COUNT(*) FROM Person&quot;)\r\n                                .getSingleResult())\r\n      .isEqualTo(BigInteger.valueOf(4));\r\n\r\nSpring Data JPA does the exact same thing under the hood for `.count()`:\r\n\r\n    public long count() {\r\n        return (Long)this.em.createQuery(this.getCountQueryString(), Long.class).getSingleResult();\r\n    }\r\n\r\nYou can also directly inject the `EntityManager` for your `@DataJpaTest` test and don&#39;t need the `TestEntityManager` for this:\r\n\r\n    @DataJpaTest\r\n    class ApplicationTests {\r\n    \r\n      @Autowired\r\n      private TestEntityManager testEntityManager;\r\n    \r\n      @Autowired\r\n      private EntityManager entityManager;\r\n    \r\n      @Autowired\r\n      private PersonRepository personRepository;\r\n    \r\n      @Test\r\n      void contextLoads() {\r\n    \r\n        assertThat(personRepository.count())\r\n          .isEqualTo(4);\r\n    \r\n        //With TestEntityManager\r\n\r\n        assertThat(testEntityManager.getEntityManager()\r\n                                    .createQuery(&quot;SELECT COUNT(*) FROM Person p&quot;, Long.class)\r\n                                    .getSingleResult())\r\n          .isEqualTo(4L);\r\n    \r\n        assertThat(testEntityManager.getEntityManager()\r\n                                    .createNativeQuery(&quot;SELECT COUNT(*) FROM Person&quot;)\r\n                                    .getSingleResult())\r\n          .isEqualTo(BigInteger.valueOf(4));\r\n    \r\n         //With EntityManager\r\n\r\n        assertThat(entityManager.createQuery(&quot;SELECT COUNT(*) FROM Person p&quot;, Long.class)\r\n                                .getSingleResult())\r\n          .isEqualTo(4L);\r\n    \r\n        assertThat(entityManager.createNativeQuery(&quot;SELECT COUNT(*) FROM Person&quot;)\r\n                                .getSingleResult())\r\n          .isEqualTo(BigInteger.valueOf(4));\r\n      }\r\n    \r\n    }\r\n\r\nThe `TestEntityManager` provides helper methods to e.g. do a persist/flush/find operation (flush the in-memory persistence context and read the same entity from the database) with a single-liner. The `TestEntityManager` is never *mandatory*.","title":"When is mandatory use TestEntityManager in testing?","body":"<p>The underlying issue has nothing to do with Spring Boot/Hibernate or your test setup.</p>\n<p>The SQL statement <code>SELECT COUNT(*) FROM Person</code> returns a single row with a single column that contains the number of counted rows:</p>\n<pre><code>$ SELECT COUNT(*) FROM Person;\n\nCOUNT(*)  \n----\n4\n</code></pre>\n<p>That's why you have to call <code>.getSingleResult()</code> from the result for your native or custom query:</p>\n<pre><code>assertThat(personRepository.count())\n  .isEqualTo(4);\n\nassertThat(testEntityManager.getEntityManager()\n                            .createQuery(&quot;SELECT COUNT(*) FROM Person p&quot;, Long.class)\n                            .getSingleResult())\n  .isEqualTo(4L);\n\nassertThat(testEntityManager.getEntityManager()\n                            .createNativeQuery(&quot;SELECT COUNT(*) FROM Person&quot;)\n                            .getSingleResult())\n  .isEqualTo(BigInteger.valueOf(4));\n</code></pre>\n<p>Spring Data JPA does the exact same thing under the hood for <code>.count()</code>:</p>\n<pre><code>public long count() {\n    return (Long)this.em.createQuery(this.getCountQueryString(), Long.class).getSingleResult();\n}\n</code></pre>\n<p>You can also directly inject the <code>EntityManager</code> for your <code>@DataJpaTest</code> test and don't need the <code>TestEntityManager</code> for this:</p>\n<pre><code>@DataJpaTest\nclass ApplicationTests {\n\n  @Autowired\n  private TestEntityManager testEntityManager;\n\n  @Autowired\n  private EntityManager entityManager;\n\n  @Autowired\n  private PersonRepository personRepository;\n\n  @Test\n  void contextLoads() {\n\n    assertThat(personRepository.count())\n      .isEqualTo(4);\n\n    //With TestEntityManager\n\n    assertThat(testEntityManager.getEntityManager()\n                                .createQuery(&quot;SELECT COUNT(*) FROM Person p&quot;, Long.class)\n                                .getSingleResult())\n      .isEqualTo(4L);\n\n    assertThat(testEntityManager.getEntityManager()\n                                .createNativeQuery(&quot;SELECT COUNT(*) FROM Person&quot;)\n                                .getSingleResult())\n      .isEqualTo(BigInteger.valueOf(4));\n\n     //With EntityManager\n\n    assertThat(entityManager.createQuery(&quot;SELECT COUNT(*) FROM Person p&quot;, Long.class)\n                            .getSingleResult())\n      .isEqualTo(4L);\n\n    assertThat(entityManager.createNativeQuery(&quot;SELECT COUNT(*) FROM Person&quot;)\n                            .getSingleResult())\n      .isEqualTo(BigInteger.valueOf(4));\n  }\n\n}\n</code></pre>\n<p>The <code>TestEntityManager</code> provides helper methods to e.g. do a persist/flush/find operation (flush the in-memory persistence context and read the same entity from the database) with a single-liner. The <code>TestEntityManager</code> is never <em>mandatory</em>.</p>\n"}],"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5867,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66387638,"answer_count":1,"score":3,"last_activity_date":1647864371,"creation_date":1614217661,"question_id":66361283,"body_markdown":"Having a Spring Boot app, working with Spring Data JPA and H2 configured, it for sample/academic purposes. \r\n\r\na Repository is defined as:\r\n\r\n```\r\npublic interface PersonaRepository extends CrudRepository&lt;Persona, String&gt; {\r\n\r\n}\r\n```\r\n\r\nand then the following test\r\n\r\n```\r\n@ActiveProfiles(profiles={&quot;h2&quot;})\r\n@DataJpaTest\r\nclass PersonaRepositorySliceTests {\r\n\r\n\t@Autowired\r\n\tprivate PersonaRepository personaRepository;\r\n\r\n\t@Autowired\r\n\tprivate TestEntityManager testEntityManager;\r\n\r\n\t@Test\r\n\tvoid countTest() {\r\n\t\tlong count = personaRepository.count();\r\n\t\tassertThat(count).isEqualTo(33);\r\n\r\n\t\tcount = testEntityManager.getEntityManager()\r\n\t\t\t\t\t\t\t\t .createQuery(&quot;SELECT COUNT(*) FROM Persona p&quot;)\r\n\t\t\t\t\t\t\t\t .getResultList().size();\r\n        System.out.println(&quot;count: &quot; + count);//prints 1\r\n\t\t//assertThat(count).isEqualTo(33);//fails\r\n\r\n\t\tcount = testEntityManager.getEntityManager()\r\n                                 .createNativeQuery(&quot;SELECT COUNT(*) FROM persona&quot;)\r\n\t\t                         .getResultList().size();\r\n\r\n\t\tSystem.out.println(&quot;count: &quot; + count);//prints 1\r\n\t\tassertThat(count).isEqualTo(33);//fails\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe\r\n\r\n```\r\nlong count = personaRepository.count();\r\nassertThat(count).isEqualTo(33);\r\n```\r\n\r\npass, therefore the `@Entity` classes were detected and of course the `schema-h2.sql` and `data-h2.sql` scripts were executed as expected.\r\n\r\nNow the confusion is why \r\n\r\n* `.createQuery(&quot;SELECT COUNT(*) FROM Persona p&quot;)`\r\n* `.createNativeQuery(&quot;SELECT COUNT(*) FROM persona&quot;)`\r\n\r\nWorks **but** always returns 1, why not 33 how is expected?\r\n\r\n_&quot;Seems&quot;_ that `TestEntityManager` in some way is **not** working with the data loaded by the `data-h2.sql` file. \r\n\r\n**Secondary** question:\r\n\r\n* Is it the expected behaviour? \r\n\r\nEven if is yes, why is returned 1 and not 0? or is mandatory an extra configuration?\r\n\r\nI read some tutorials about `@DataJpaTest` and `TestEntityManager`, among them, main source:\r\n\r\n* [Auto-configured Data JPA Tests][1]\r\n\r\nThe former is a slice test and the latter is an alternative of `EntityManager` for test.\r\nIn other tutorials I saw many examples of `TestEntityManager` working with `persist` and later retrieving the data (for 1 or more entities) within the same `@Test`, so the insertion was accomplished manually.\r\n\r\n**Main Question:**\r\n\r\n* So when is necessary work with the `TestEntityManager` type (approach) over the Custom `CrudRepository&lt;T,ID&gt;` approach for testing purposes?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test","title":"When is mandatory use TestEntityManager in testing?","body":"<p>Having a Spring Boot app, working with Spring Data JPA and H2 configured, it for sample/academic purposes.</p>\n<p>a Repository is defined as:</p>\n<pre><code>public interface PersonaRepository extends CrudRepository&lt;Persona, String&gt; {\n\n}\n</code></pre>\n<p>and then the following test</p>\n<pre><code>@ActiveProfiles(profiles={&quot;h2&quot;})\n@DataJpaTest\nclass PersonaRepositorySliceTests {\n\n    @Autowired\n    private PersonaRepository personaRepository;\n\n    @Autowired\n    private TestEntityManager testEntityManager;\n\n    @Test\n    void countTest() {\n        long count = personaRepository.count();\n        assertThat(count).isEqualTo(33);\n\n        count = testEntityManager.getEntityManager()\n                                 .createQuery(&quot;SELECT COUNT(*) FROM Persona p&quot;)\n                                 .getResultList().size();\n        System.out.println(&quot;count: &quot; + count);//prints 1\n        //assertThat(count).isEqualTo(33);//fails\n\n        count = testEntityManager.getEntityManager()\n                                 .createNativeQuery(&quot;SELECT COUNT(*) FROM persona&quot;)\n                                 .getResultList().size();\n\n        System.out.println(&quot;count: &quot; + count);//prints 1\n        assertThat(count).isEqualTo(33);//fails\n    }\n\n}\n</code></pre>\n<p>The</p>\n<pre><code>long count = personaRepository.count();\nassertThat(count).isEqualTo(33);\n</code></pre>\n<p>pass, therefore the <code>@Entity</code> classes were detected and of course the <code>schema-h2.sql</code> and <code>data-h2.sql</code> scripts were executed as expected.</p>\n<p>Now the confusion is why</p>\n<ul>\n<li><code>.createQuery(&quot;SELECT COUNT(*) FROM Persona p&quot;)</code></li>\n<li><code>.createNativeQuery(&quot;SELECT COUNT(*) FROM persona&quot;)</code></li>\n</ul>\n<p>Works <strong>but</strong> always returns 1, why not 33 how is expected?</p>\n<p><em>&quot;Seems&quot;</em> that <code>TestEntityManager</code> in some way is <strong>not</strong> working with the data loaded by the <code>data-h2.sql</code> file.</p>\n<p><strong>Secondary</strong> question:</p>\n<ul>\n<li>Is it the expected behaviour?</li>\n</ul>\n<p>Even if is yes, why is returned 1 and not 0? or is mandatory an extra configuration?</p>\n<p>I read some tutorials about <code>@DataJpaTest</code> and <code>TestEntityManager</code>, among them, main source:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test\" rel=\"nofollow noreferrer\">Auto-configured Data JPA Tests</a></li>\n</ul>\n<p>The former is a slice test and the latter is an alternative of <code>EntityManager</code> for test.\nIn other tutorials I saw many examples of <code>TestEntityManager</code> working with <code>persist</code> and later retrieving the data (for 1 or more entities) within the same <code>@Test</code>, so the insertion was accomplished manually.</p>\n<p><strong>Main Question:</strong></p>\n<ul>\n<li>So when is necessary work with the <code>TestEntityManager</code> type (approach) over the Custom <code>CrudRepository&lt;T,ID&gt;</code> approach for testing purposes?</li>\n</ul>\n"},{"tags":["java","jpa","orm","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1647876569,"post_id":71557096,"comment_id":126475524,"body_markdown":"Are you relying on it to set the DB column type for DDL? If so, have you tried specifying the column type @Column(columnDefinition=&quot;CLOB&quot;)","body":"Are you relying on it to set the DB column type for DDL? If so, have you tried specifying the column type @Column(columnDefinition=&quot;CLOB&quot;)"},{"owner":{"account_id":3117618,"reputation":492,"user_id":2638053,"accept_rate":58,"display_name":"Amit P"},"score":0,"creation_date":1647923414,"post_id":71557096,"comment_id":126487321,"body_markdown":"@Chris Thanks, I missed that part. It works when I add native SQL fragment in columnDefinition attribute. I am using MariaDB so I had to use &#39;longtext&#39;. However, it becomes specific to the underlying database I am using. You may post as answer I will accept. Thanks","body":"@Chris Thanks, I missed that part. It works when I add native SQL fragment in columnDefinition attribute. I am using MariaDB so I had to use &#39;longtext&#39;. However, it becomes specific to the underlying database I am using. You may post as answer I will accept. Thanks"},{"owner":{"account_id":3117618,"reputation":492,"user_id":2638053,"accept_rate":58,"display_name":"Amit P"},"score":0,"creation_date":1647923545,"post_id":71557096,"comment_id":126487345,"body_markdown":"@Chris, It works with ColumnDefinition, but still I am curious to know why Converter and Lob doesn&#39;t work together.","body":"@Chris, It works with ColumnDefinition, but still I am curious to know why Converter and Lob doesn&#39;t work together."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647962661,"post_id":71557096,"comment_id":126500325,"body_markdown":"Lob is treated as a special type of converter. Both can set the type, but I&#39;m guessing your custom Convert one is last. Either it is blocking out the Lob annotation from being loaded, or is overriding the column type to String because that is what your converter returns.","body":"Lob is treated as a special type of converter. Both can set the type, but I&#39;m guessing your custom Convert one is last. Either it is blocking out the Lob annotation from being loaded, or is overriding the column type to String because that is what your converter returns."}],"owner":{"account_id":3117618,"reputation":492,"user_id":2638053,"accept_rate":58,"display_name":"Amit P"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647863970,"creation_date":1647863142,"question_id":71557096,"body_markdown":"I am trying to store a ```Map&lt;Date,String&gt;``` with JPA. I am using JPA 2.2 with MariaDB on Payara 5.2020 with Java 11. I am using Eclipselink as provider.\r\n\r\nI want to store the content of Map as JSON in DB. I have defined a converter for this sake. At the same time I also want the column type as a CLOB to support large JSON string. I have used ```@Lob``` annotation from JPA for this sake. In MariaDB it maps to ```longtext```. \r\n\r\nThe problem I am facing is, if I use JPA Converter and Lob together, Lob is ignored completely and field is stored in DB as varchar. If I remove the converter, then Lob annotation is respected.\r\n\r\nI would like to know why Lob annotation is ignored.I could not find anything specific after searching on Google. \r\n\r\nIs it expected behavior? Has anyone faced this problem before?\r\n\r\nHere is the converter skeleton\r\n\r\n```\r\n@Converter\r\npublic class TemporalLogJsonConverter implements AttributeConverter&lt;Map&lt;Date,String&gt;,String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(Map&lt;Date,String&gt; log) {\r\n            //code to convert\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;Date,String&gt; convertToEntityAttribute(String dbData) {\r\n        return Collections.EMPTY_MAP;  //dummy code \r\n  }\r\n}\r\n```\r\nHere is the entity skeleton\r\n\r\n```\r\n@Entity(name = &quot;MYENTITY_TBL&quot;)\r\npublic class MyEntity implements Serializable{\r\n\r\n@Id\r\nprivate String id;\r\n\r\n@Column(name=&quot;LOG&quot;)\r\n@Convert(converter=TemporalLogJsonConverter.class)\r\n@Lob\r\nprivate Mat&lt;Date,String&gt; log;\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Storing large character objects with attribute converter in JPA","body":"<p>I am trying to store a <code>Map&lt;Date,String&gt;</code> with JPA. I am using JPA 2.2 with MariaDB on Payara 5.2020 with Java 11. I am using Eclipselink as provider.</p>\n<p>I want to store the content of Map as JSON in DB. I have defined a converter for this sake. At the same time I also want the column type as a CLOB to support large JSON string. I have used <code>@Lob</code> annotation from JPA for this sake. In MariaDB it maps to <code>longtext</code>.</p>\n<p>The problem I am facing is, if I use JPA Converter and Lob together, Lob is ignored completely and field is stored in DB as varchar. If I remove the converter, then Lob annotation is respected.</p>\n<p>I would like to know why Lob annotation is ignored.I could not find anything specific after searching on Google.</p>\n<p>Is it expected behavior? Has anyone faced this problem before?</p>\n<p>Here is the converter skeleton</p>\n<pre><code>@Converter\npublic class TemporalLogJsonConverter implements AttributeConverter&lt;Map&lt;Date,String&gt;,String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(Map&lt;Date,String&gt; log) {\n            //code to convert\n        return &quot;&quot;;\n    }\n\n    @Override\n    public Map&lt;Date,String&gt; convertToEntityAttribute(String dbData) {\n        return Collections.EMPTY_MAP;  //dummy code \n  }\n}\n</code></pre>\n<p>Here is the entity skeleton</p>\n<pre><code>@Entity(name = &quot;MYENTITY_TBL&quot;)\npublic class MyEntity implements Serializable{\n\n@Id\nprivate String id;\n\n@Column(name=&quot;LOG&quot;)\n@Convert(converter=TemporalLogJsonConverter.class)\n@Lob\nprivate Mat&lt;Date,String&gt; log;\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":11986763,"reputation":71,"user_id":8771090,"display_name":"baumfreund"},"score":0,"creation_date":1553761450,"post_id":55392864,"comment_id":97506490,"body_markdown":"I&#39;m not sure but it might be necessary to add the annotations to the getter instead.","body":"I&#39;m not sure but it might be necessary to add the annotations to the getter instead."},{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":0,"creation_date":1553761506,"post_id":55392864,"comment_id":97506518,"body_markdown":"it&#39;s surely working.. the code has been running on current environment","body":"it&#39;s surely working.. the code has been running on current environment"},{"owner":{"account_id":6370156,"reputation":145,"user_id":4942817,"display_name":"RiyaGeorge"},"score":0,"creation_date":1553762875,"post_id":55392864,"comment_id":97507214,"body_markdown":"private profile profile; ---&gt; make it capital P","body":"private profile profile; ---&gt; make it capital P"},{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":0,"creation_date":1553763380,"post_id":55392864,"comment_id":97507484,"body_markdown":"its typo..mine is already private Profile profile; ..","body":"its typo..mine is already private Profile profile; .."}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553765086,"creation_date":1553761326,"answer_id":55392969,"question_id":55392864,"body_markdown":"Try to specify a join column:\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\r\n    private profile profile;\r\n\r\nYou do not really need the `@MapsId` here.","title":"JPA OneToOne association without foreign key always fail","body":"<p>Try to specify a join column:</p>\n\n<pre><code>@OneToOne\n@JoinColumn(name = \"username\", referencedColumnName = \"username\")\nprivate profile profile;\n</code></pre>\n\n<p>You do not really need the <code>@MapsId</code> here.</p>\n"},{"tags":[],"owner":{"account_id":13433597,"reputation":20,"user_id":9692681,"display_name":"Dyakin Anton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553865285,"creation_date":1553865285,"answer_id":55418237,"question_id":55392864,"body_markdown":"I recommend create third table with relations for your tables\r\n\r\n    @Entity\r\n    @Table(name = &quot;M_USER&quot;)\r\n    public class User {\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n    name = &quot;user_profile&quot;,\r\n    joinColumns = @JoinColumn(name=&quot;user_id&quot;),\r\n    inverseJoinColumns = @JoinColumn(name=&quot;profile_username&quot;)\r\n     )\r\n    private Profile profile;\r\n\r\n\r\n    UPDATE user_profile \r\n    SET user_id = (\r\n        SELECT id\r\n        FROM M_USER\r\n    );\r\n\r\n\r\n    UPDATE user_profile \r\n    SET profile_username = (\r\n        SELECT username\r\n        FROM M_USER\r\n    );\r\n","title":"JPA OneToOne association without foreign key always fail","body":"<p>I recommend create third table with relations for your tables</p>\n\n<pre><code>@Entity\n@Table(name = \"M_USER\")\npublic class User {\n\n@OneToOne(fetch = FetchType.LAZY)\n@JoinTable(\nname = \"user_profile\",\njoinColumns = @JoinColumn(name=\"user_id\"),\ninverseJoinColumns = @JoinColumn(name=\"profile_username\")\n )\nprivate Profile profile;\n\n\nUPDATE user_profile \nSET user_id = (\n    SELECT id\n    FROM M_USER\n);\n\n\nUPDATE user_profile \nSET profile_username = (\n    SELECT username\n    FROM M_USER\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11619292,"reputation":31,"user_id":8511050,"display_name":"Oleh Masnyk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647863743,"creation_date":1647532421,"answer_id":71515378,"question_id":55392864,"body_markdown":"Don&#39;t forget to disable insertable and updatable for JoinColumn\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;, updatable = false, insertable = false)\r\n    private profile profile;","title":"JPA OneToOne association without foreign key always fail","body":"<p>Don't forget to disable insertable and updatable for JoinColumn</p>\n<pre><code>@OneToOne\n@JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;, updatable = false, insertable = false)\nprivate profile profile;\n</code></pre>\n"}],"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55392969,"answer_count":3,"score":1,"last_activity_date":1647863743,"creation_date":1553760901,"question_id":55392864,"body_markdown":"I am new to JPA/Hibernate,\r\nI am creating a simple join for getting some data in different table\r\nLet&#39;s see like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe purpose is getting the M_PROFILE data based on M_USER.username column, but clearly you see that there is no foreign key in M_PROFILE table.\r\n\r\nI just try to use below code but have no results and always got error.\r\n\r\nUser Entity Class\r\n\r\n    @Entity\r\n    @Table(name = &quot;M_USER&quot;)\r\n    public class User {\r\n        \r\n            @Id\r\n            @Column(name = &quot;id&quot;)\r\n            private String uuid;\r\n        \r\n            @Column(name = &quot;email&quot;)\r\n            private String email;\r\n        \r\n            @Column(name = &quot;username&quot;)\r\n            private String username;\r\n        \r\n            @OneToOne(fetch = FetchType.LAZY)\r\n            @MapsId(&quot;username&quot;)\r\n            private Profile profile;\r\n        \r\n            public String getId() {\r\n                return id;\r\n            }\r\n            public void setId(String id) {\r\n                this.id = id;\r\n            }\r\n        \r\n            public String getEmail() {\r\n                return email;\r\n            }\r\n            public void setEmail(String email) {\r\n                this.email = email;\r\n            }\r\n        \r\n            public String getUsername() {\r\n                return username;\r\n            }\r\n            public void setUsername(String username) {\r\n                this.username = username;\r\n            }\r\n        \r\n            public Profile getProfile() {\r\n                return profile;\r\n            }\r\n            public void setProfile(Profile profile) {\r\n                this.profile = profile;\r\n            }\r\n        }\r\n\r\nProfile Entity Class\r\n\r\n    @Entity\r\n    @Table(name = &quot;M_PROFILE&quot;)\r\n    public class Profile {\r\n    \r\n        private String username;\r\n        private String phone;\r\n        private String address;\r\n        \r\n        @Id\r\n        @Column(name = &quot;username&quot;, nullable = false)\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;phone&quot;)\r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n        public void setPhone(String phone) {\r\n            this.phone = phone;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;address&quot;)\r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    }\r\n\r\nI got different error when calling \r\n\r\n    User user = userRepository.findByUsername(&quot;aswzen&quot;);\r\n    String phone = user.getProfile().getPhone();\r\n\r\nfor example this one. \r\n\r\n&gt; &quot;USER0_&quot;.&quot;PROFILE_USERNAME&quot;: invalid identifier\r\n\r\nNeed help, thanks in advance,\r\n\r\nNB : i don&#39;t have privilege to alter the table.. \r\n\r\n [1]: https://i.stack.imgur.com/vVJ1b.png\r\n","title":"JPA OneToOne association without foreign key always fail","body":"<p>I am new to JPA/Hibernate,\nI am creating a simple join for getting some data in different table\nLet's see like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vVJ1b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vVJ1b.png\" alt=\"enter image description here\"></a></p>\n\n<p>The purpose is getting the M_PROFILE data based on M_USER.username column, but clearly you see that there is no foreign key in M_PROFILE table.</p>\n\n<p>I just try to use below code but have no results and always got error.</p>\n\n<p>User Entity Class</p>\n\n<pre><code>@Entity\n@Table(name = \"M_USER\")\npublic class User {\n\n        @Id\n        @Column(name = \"id\")\n        private String uuid;\n\n        @Column(name = \"email\")\n        private String email;\n\n        @Column(name = \"username\")\n        private String username;\n\n        @OneToOne(fetch = FetchType.LAZY)\n        @MapsId(\"username\")\n        private Profile profile;\n\n        public String getId() {\n            return id;\n        }\n        public void setId(String id) {\n            this.id = id;\n        }\n\n        public String getEmail() {\n            return email;\n        }\n        public void setEmail(String email) {\n            this.email = email;\n        }\n\n        public String getUsername() {\n            return username;\n        }\n        public void setUsername(String username) {\n            this.username = username;\n        }\n\n        public Profile getProfile() {\n            return profile;\n        }\n        public void setProfile(Profile profile) {\n            this.profile = profile;\n        }\n    }\n</code></pre>\n\n<p>Profile Entity Class</p>\n\n<pre><code>@Entity\n@Table(name = \"M_PROFILE\")\npublic class Profile {\n\n    private String username;\n    private String phone;\n    private String address;\n\n    @Id\n    @Column(name = \"username\", nullable = false)\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Basic\n    @Column(name = \"phone\")\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    @Basic\n    @Column(name = \"address\")\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n}\n</code></pre>\n\n<p>I got different error when calling </p>\n\n<pre><code>User user = userRepository.findByUsername(\"aswzen\");\nString phone = user.getProfile().getPhone();\n</code></pre>\n\n<p>for example this one. </p>\n\n<blockquote>\n  <p>\"USER0_\".\"PROFILE_USERNAME\": invalid identifier</p>\n</blockquote>\n\n<p>Need help, thanks in advance,</p>\n\n<p>NB : i don't have privilege to alter the table.. </p>\n"},{"tags":["java","multithreading","synchronization","locking","synchronized"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":3,"creation_date":1614806065,"post_id":66464897,"comment_id":117500681,"body_markdown":"On the instance, just like for any other object.","body":"On the instance, just like for any other object."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1614811501,"post_id":66464897,"comment_id":117502546,"body_markdown":"1. It synchronizes on the `String` referred to by `s`. 2. Yes it would mean exactly that. So why do it? There is nothing inside the `synchronized` block that relies on `s`.","body":"1. It synchronizes on the <code>String</code> referred to by <code>s</code>. 2. Yes it would mean exactly that. So why do it? There is nothing inside the <code>synchronized</code> block that relies on <code>s</code>."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1614810204,"creation_date":1614806163,"answer_id":66465036,"question_id":66464897,"body_markdown":"The intrinsic lock on the String object is the lock that gets acquired. But whether locking works depends on if the string is always the same instance or not. String pools and interning will affect this. \r\n\r\nThat it is difficult to figure out if the same instance will be used is only one reason not to do this.\r\n\r\nIf two classes in the application use the same string instance then one of them can acquire the lock and shut the other out. So you can have conceptually unrelated objects affecting each other, contending for the same lock. \r\n\r\nAlso people are going to be confused into thinking they can use the string value to mean something and have code change the value of s inside the synchronized block or method. That will break all the locking. Locks are on the objects, not on the variables. Changing values means the thread currently holding the lock now has the old object but threads trying to get in are trying to get the lock on the new object, a thread can acquire the new object and start executing the synchronized code before the previous thread is done. \r\n\r\nIt might work by accident sometimes but it is a terrible idea. Use a dedicated object as a lock instead: \r\n\r\n    private final Object lock = new Object(); \r\n\r\n","title":"What object is the lock on when a String parameter is used for locking?","body":"<p>The intrinsic lock on the String object is the lock that gets acquired. But whether locking works depends on if the string is always the same instance or not. String pools and interning will affect this.</p>\n<p>That it is difficult to figure out if the same instance will be used is only one reason not to do this.</p>\n<p>If two classes in the application use the same string instance then one of them can acquire the lock and shut the other out. So you can have conceptually unrelated objects affecting each other, contending for the same lock.</p>\n<p>Also people are going to be confused into thinking they can use the string value to mean something and have code change the value of s inside the synchronized block or method. That will break all the locking. Locks are on the objects, not on the variables. Changing values means the thread currently holding the lock now has the old object but threads trying to get in are trying to get the lock on the new object, a thread can acquire the new object and start executing the synchronized code before the previous thread is done.</p>\n<p>It might work by accident sometimes but it is a terrible idea. Use a dedicated object as a lock instead:</p>\n<pre><code>private final Object lock = new Object(); \n</code></pre>\n"}],"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":66465036,"answer_count":1,"score":1,"last_activity_date":1647863640,"creation_date":1614805490,"question_id":66464897,"body_markdown":"I came across code like this in one of the repos. I checked it out and it works. (Only one thread enters the synchronized block.)\r\n\r\n    public Void hello(String s) {\r\n    \r\n        synchronized (s) {\r\n    \r\n            i++;\r\n            System.out.println(i);\r\n        }\r\n    \r\n        return null;\r\n    }\r\n\r\nMy question is is the lock obtained on the String class itself? If yes, wouldn&#39;t it mean if code like this exists else where in the code base, they will all wait to obtain a lock on the same object? Thus adding unnecessary delays?","title":"What object is the lock on when a String parameter is used for locking?","body":"<p>I came across code like this in one of the repos. I checked it out and it works. (Only one thread enters the synchronized block.)</p>\n<pre><code>public Void hello(String s) {\n\n    synchronized (s) {\n\n        i++;\n        System.out.println(i);\n    }\n\n    return null;\n}\n</code></pre>\n<p>My question is is the lock obtained on the String class itself? If yes, wouldn't it mean if code like this exists else where in the code base, they will all wait to obtain a lock on the same object? Thus adding unnecessary delays?</p>\n"},{"tags":["java","maven","selenium-webdriver"],"comments":[{"owner":{"account_id":8295144,"reputation":565,"user_id":6235606,"display_name":"briadeus"},"score":0,"creation_date":1647863412,"post_id":71556424,"comment_id":126469981,"body_markdown":"what do you mean &quot;by even though I added SLF4J jars to my libraries&quot;? In Eclipse? Or in the pom.xml?","body":"what do you mean &quot;by even though I added SLF4J jars to my libraries&quot;? In Eclipse? Or in the pom.xml?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1647866577,"post_id":71556424,"comment_id":126471207,"body_markdown":"The output `SLF4J: Defaulting to no-o` is not an error. It&#39;s a warning...furthermore why do you use an old Maven version? The zip can be extracted and will result in a directory like `apache-maven-3.3.9` ..the directory `Installation\\apache-maven-3.3.9\\bin` should be added to the PATH environment variable of your system. The `JAVA_HOME` variable should be set as welll to your used JDk...","body":"The output <code>SLF4J: Defaulting to no-o</code> is not an error. It&#39;s a warning...furthermore why do you use an old Maven version? The zip can be extracted and will result in a directory like <code>apache-maven-3.3.9</code> ..the directory <code>Installation\\apache-maven-3.3.9\\bin</code> should be added to the PATH environment variable of your system. The <code>JAVA_HOME</code> variable should be set as welll to your used JDk..."}],"answers":[{"tags":[],"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647863389,"creation_date":1647863389,"answer_id":71557150,"question_id":71556424,"body_markdown":"The Variable under 3. should be `M2_HOME`, but this is not really relevant for your issue.\r\n\r\nThe point is that in one of your dependencies the slf4j-api is referenced. In your tests it searches the classpath for an implementation and does not find one. One countermeasure would be to add logback like this:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.3&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"MAVEN successfully ran testcases with 0 failures then why I got this errors in output","body":"<p>The Variable under 3. should be <code>M2_HOME</code>, but this is not really relevant for your issue.</p>\n<p>The point is that in one of your dependencies the slf4j-api is referenced. In your tests it searches the classpath for an implementation and does not find one. One countermeasure would be to add logback like this:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24493946,"reputation":103,"user_id":18410561,"display_name":"Michael Bevans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647863389,"creation_date":1647860155,"question_id":71556424,"body_markdown":"My **POM.XML**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;qaclickacademy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Mavenjava&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;name&gt;Mavenjava&lt;/name&gt;\r\n      &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n     \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.5&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    \r\n    &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n                  &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nMy maven **error** output with **0 failures** in test cases&quot; even though I added **SLF4J jars** to my libraries:\r\n\r\n    \r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\n\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\n\r\nThis is the installation procedure I followed for Maven for Eclipse software:\r\n\r\n1.\tDownload MAVEN software from &quot;Binary zip archive&quot; column from https://maven.apache.org/download.cgi\r\n2.\tExtract zip file and copy the location of apache-maven-3.3.9:\r\nC:\\work\\apache-maven-3.3.9-bin\\apche-maven-3.3.9\r\n3.\tGo to control panel &lt; Adavanced System settings &lt; Adavanced (tab) &lt; Environment Variables &lt; System Variables (column)\r\n4.\tClick “New”, then &quot;New System Variable&quot; window pops up, In &quot;Variable Name&quot; field, enter &quot;MAVEN_HOME&quot; and in &quot;Variable value&quot; field, paste the location of apache-maven-3.3.9, click “OK.\r\n5.\tNow copy the location of &quot;bin&quot; folder present in &quot;Apache-Maven-3.3.9&quot; folder\r\nand double click &quot;path&quot; in &quot;system variables&quot;, click &quot;NEW&quot;, then paste it.\r\n\r\n\r\n\r\n   ","title":"MAVEN successfully ran testcases with 0 failures then why I got this errors in output","body":"<p>My <strong>POM.XML</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;qaclickacademy&lt;/groupId&gt;\n  &lt;artifactId&gt;Mavenjava&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;Mavenjava&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.5&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n\n&lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n              &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My maven <strong>error</strong> output with <strong>0 failures</strong> in test cases&quot; even though I added <strong>SLF4J jars</strong> to my libraries:</p>\n<p>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</p>\n<p>SLF4J: Defaulting to no-operation (NOP) logger implementation</p>\n<p>SLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.</p>\n<p>This is the installation procedure I followed for Maven for Eclipse software:</p>\n<ol>\n<li>Download MAVEN software from &quot;Binary zip archive&quot; column from <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://maven.apache.org/download.cgi</a></li>\n<li>Extract zip file and copy the location of apache-maven-3.3.9:\nC:\\work\\apache-maven-3.3.9-bin\\apche-maven-3.3.9</li>\n<li>Go to control panel &lt; Adavanced System settings &lt; Adavanced (tab) &lt; Environment Variables &lt; System Variables (column)</li>\n<li>Click “New”, then &quot;New System Variable&quot; window pops up, In &quot;Variable Name&quot; field, enter &quot;MAVEN_HOME&quot; and in &quot;Variable value&quot; field, paste the location of apache-maven-3.3.9, click “OK.</li>\n<li>Now copy the location of &quot;bin&quot; folder present in &quot;Apache-Maven-3.3.9&quot; folder\nand double click &quot;path&quot; in &quot;system variables&quot;, click &quot;NEW&quot;, then paste it.</li>\n</ol>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647862948,"creation_date":1647841087,"answer_id":71553205,"question_id":71553143,"body_markdown":"Do the same in all the other OnClickListner\r\n```\r\nadd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int p,q,r;\r\n                if(!n1.getText().toString().equals(&quot;&quot;) &amp;&amp; !n2.getText().toString().equals(&quot;&quot;)) {\r\n                    p = Integer.parseInt(n1.getText().toString());\r\n                    q = Integer.parseInt(n2.getText().toString());\r\n                    r = (p + q);\r\n                    Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\r\n                    tv.setText(&quot;Result is &quot; + r);\r\n                }else {\r\n                    Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n        });\r\n```","title":"I want to show a toast error msg if the edittext section is blank when the button is pressed (Android Studio)","body":"<p>Do the same in all the other OnClickListner</p>\n<pre><code>add.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                int p,q,r;\n                if(!n1.getText().toString().equals(&quot;&quot;) &amp;&amp; !n2.getText().toString().equals(&quot;&quot;)) {\n                    p = Integer.parseInt(n1.getText().toString());\n                    q = Integer.parseInt(n2.getText().toString());\n                    r = (p + q);\n                    Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\n                    tv.setText(&quot;Result is &quot; + r);\n                }else {\n                    Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8699298,"reputation":49,"user_id":6509741,"display_name":"Sid Pethe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647841139,"creation_date":1647841139,"answer_id":71553212,"question_id":71553143,"body_markdown":"You could do a preliminary check to see if any text was entered like \r\n\r\n    if(n1.getText()) ....\r\nIdeally you&#39;d want to surround the ParseInt() with a try{}..catch{} block and handle any errors there to stop the app from crashing.\r\n","title":"I want to show a toast error msg if the edittext section is blank when the button is pressed (Android Studio)","body":"<p>You could do a preliminary check to see if any text was entered like</p>\n<pre><code>if(n1.getText()) ....\n</code></pre>\n<p>Ideally you'd want to surround the ParseInt() with a try{}..catch{} block and handle any errors there to stop the app from crashing.</p>\n"},{"tags":[],"owner":{"account_id":13896796,"reputation":812,"user_id":10033423,"display_name":"End User"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647841539,"creation_date":1647841539,"answer_id":71553249,"question_id":71553143,"body_markdown":"      int n1Value = n1.getText().toString();\r\n      int n2Value = n2.getText().toString();\r\n      p = n1Value !=null&amp;&amp;!n1Value.isEmpty()? Integer.parseInt(n1Value):0 \r\n      p = n2Value !=null&amp;&amp;!n2Value.isEmpty()? Integer.parseInt(n2Value):0 \r\n\r\nAdd this in your click listeners. the crash is happening because you don&#39;t have any null check. \r\n\r\n \r\n  ","title":"I want to show a toast error msg if the edittext section is blank when the button is pressed (Android Studio)","body":"<pre><code>  int n1Value = n1.getText().toString();\n  int n2Value = n2.getText().toString();\n  p = n1Value !=null&amp;&amp;!n1Value.isEmpty()? Integer.parseInt(n1Value):0 \n  p = n2Value !=null&amp;&amp;!n2Value.isEmpty()? Integer.parseInt(n2Value):0 \n</code></pre>\n<p>Add this in your click listeners. the crash is happening because you don't have any null check.</p>\n"}],"owner":{"account_id":24626028,"reputation":3,"user_id":18525729,"display_name":"Anish Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71553205,"answer_count":3,"score":-1,"last_activity_date":1647862948,"creation_date":1647840441,"question_id":71553143,"body_markdown":"I made a simple calculator app in android studio but the app crashes when no value is entered in the edittext section.\r\nI want to show a toast msg when no value is entered in the edittext section.\r\nPlease check this issue and guide me how to fix this and add toast.\r\nhere n1 and n2 is the id of edittext.\r\n\r\nMainActivity (code):\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        n1 = findViewById(R.id.n1);\r\n        n2 = findViewById(R.id.n2);\r\n        add = findViewById(R.id.add);\r\n        sub = findViewById(R.id.sub);\r\n        multi = findViewById(R.id.multi);\r\n        div = findViewById(R.id.div);\r\n        tv = findViewById(R.id.tv);\r\n\r\n        // addition part\r\n\r\n        add.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int p,q,r;\r\n                p = Integer.parseInt(n1.getText().toString());\r\n                q = Integer.parseInt(n2.getText().toString());\r\n                r = p+q;\r\n                tv.setText(&quot;Result is &quot; + r);\r\n                Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        //subtraction part\r\n\r\n        sub.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int p,q,r;\r\n                p = Integer.parseInt(n1.getText().toString());\r\n                q = Integer.parseInt(n2.getText().toString());\r\n                r = p-q;\r\n                tv.setText(&quot;Result is &quot; + r);\r\n                Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n        // multiplication part\r\n\r\n        multi.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int p,q,r;\r\n                p = Integer.parseInt(n1.getText().toString());\r\n                q = Integer.parseInt(n2.getText().toString());\r\n                r = p*q;\r\n                tv.setText(&quot;Result is &quot; + r);\r\n                Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n        //divison part\r\n\r\n        div.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int p,q,r;\r\n                p = Integer.parseInt(n1.getText().toString());\r\n                q = Integer.parseInt(n2.getText().toString());\r\n                r = p/q;\r\n                tv.setText(&quot;Result is &quot; + r);\r\n                Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}","title":"I want to show a toast error msg if the edittext section is blank when the button is pressed (Android Studio)","body":"<p>I made a simple calculator app in android studio but the app crashes when no value is entered in the edittext section.\nI want to show a toast msg when no value is entered in the edittext section.\nPlease check this issue and guide me how to fix this and add toast.\nhere n1 and n2 is the id of edittext.</p>\n<p>MainActivity (code):</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    n1 = findViewById(R.id.n1);\n    n2 = findViewById(R.id.n2);\n    add = findViewById(R.id.add);\n    sub = findViewById(R.id.sub);\n    multi = findViewById(R.id.multi);\n    div = findViewById(R.id.div);\n    tv = findViewById(R.id.tv);\n\n    // addition part\n\n    add.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int p,q,r;\n            p = Integer.parseInt(n1.getText().toString());\n            q = Integer.parseInt(n2.getText().toString());\n            r = p+q;\n            tv.setText(&quot;Result is &quot; + r);\n            Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n    //subtraction part\n\n    sub.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int p,q,r;\n            p = Integer.parseInt(n1.getText().toString());\n            q = Integer.parseInt(n2.getText().toString());\n            r = p-q;\n            tv.setText(&quot;Result is &quot; + r);\n            Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n\n    // multiplication part\n\n    multi.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int p,q,r;\n            p = Integer.parseInt(n1.getText().toString());\n            q = Integer.parseInt(n2.getText().toString());\n            r = p*q;\n            tv.setText(&quot;Result is &quot; + r);\n            Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n\n    //divison part\n\n    div.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int p,q,r;\n            p = Integer.parseInt(n1.getText().toString());\n            q = Integer.parseInt(n2.getText().toString());\n            r = p/q;\n            tv.setText(&quot;Result is &quot; + r);\n            Toast.makeText(MainActivity.this, &quot;Successfully Calculated&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1543626212,"post_id":53566847,"comment_id":93999398,"body_markdown":"You&#39;re leaking an async task and it might finish when containing activity is already finished or paused.","body":"You&#39;re leaking an async task and it might finish when containing activity is already finished or paused."},{"owner":{"account_id":105082,"reputation":21937,"user_id":280602,"accept_rate":76,"display_name":"Mike Flynn"},"score":0,"creation_date":1543626988,"post_id":53566847,"comment_id":93999533,"body_markdown":"Is there a solution or something I should do?","body":"Is there a solution or something I should do?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":2,"creation_date":1543931836,"post_id":53566847,"comment_id":94089748,"body_markdown":"Take a look at [Fragment Transactions &amp; Activity State Loss](https://www.androiddesignpatterns.com/2013/08/fragment-transaction-commit-state-loss.html). This is most likely the problem.","body":"Take a look at <a href=\"https://www.androiddesignpatterns.com/2013/08/fragment-transaction-commit-state-loss.html\" rel=\"nofollow noreferrer\">Fragment Transactions &amp; Activity State Loss</a>. This is most likely the problem."},{"owner":{"account_id":105082,"reputation":21937,"user_id":280602,"accept_rate":76,"display_name":"Mike Flynn"},"score":0,"creation_date":1543931890,"post_id":53566847,"comment_id":94089785,"body_markdown":"I did look at that post, but there really isnt an answer for me.  I am not going to ignore state loss.","body":"I did look at that post, but there really isnt an answer for me.  I am not going to ignore state loss."},{"owner":{"account_id":105082,"reputation":21937,"user_id":280602,"accept_rate":76,"display_name":"Mike Flynn"},"score":0,"creation_date":1543934026,"post_id":53566847,"comment_id":94091129,"body_markdown":"It comes from my async call if you look at the stack trace @Cheticamp","body":"It comes from my async call if you look at the stack trace @Cheticamp"},{"owner":{"account_id":244437,"reputation":15249,"user_id":517247,"accept_rate":72,"display_name":"ingsaurabh"},"score":0,"creation_date":1544076953,"post_id":53566847,"comment_id":94149747,"body_markdown":"kindly post your asynctask","body":"kindly post your asynctask"}],"answers":[{"tags":[],"owner":{"account_id":10115313,"reputation":41,"user_id":7474190,"display_name":"Janeviemus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543931818,"creation_date":1543931818,"answer_id":53614566,"question_id":53566847,"body_markdown":"Just call **popBackStackImmediate()** as the regular **popBackStack()** is asynchronous...","title":"popBackStack causing java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState","body":"<p>Just call <strong>popBackStackImmediate()</strong> as the regular <strong>popBackStack()</strong> is asynchronous...</p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543948655,"creation_date":1543932964,"answer_id":53614898,"question_id":53566847,"body_markdown":"the problem basically is:\r\n\r\n&gt; IllegalStateException: Can not perform this action **after** onSaveInstanceState.\r\n\r\ntherefore, check with `!isFinishing() &amp;&amp; !isDestroyed()` in `.updateView()`\r\n\r\nbecause this would return `true` upon `onSaveInstanceState()` ...\r\n\r\nalike this the situation can be mitigated and the crash prevented.","title":"popBackStack causing java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState","body":"<p>the problem basically is:</p>\n\n<blockquote>\n  <p>IllegalStateException: Can not perform this action <strong>after</strong> onSaveInstanceState.</p>\n</blockquote>\n\n<p>therefore, check with <code>!isFinishing() &amp;&amp; !isDestroyed()</code> in <code>.updateView()</code></p>\n\n<p>because this would return <code>true</code> upon <code>onSaveInstanceState()</code> ...</p>\n\n<p>alike this the situation can be mitigated and the crash prevented.</p>\n"},{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1544482596,"creation_date":1543966141,"answer_id":53622947,"question_id":53566847,"body_markdown":"As explained in [Fragment Transactions &amp; Activity State Loss](https://www.androiddesignpatterns.com/2013/08/fragment-transaction-commit-state-loss.html) under the bullet point _&quot;Avoid performing transactions inside asynchronous callback methods&quot;_:\r\n\r\n&gt;_Avoid performing transactions inside asynchronous callback methods._ This includes commonly used methods such as `AsyncTask#onPostExecute()` and `LoaderManager.LoaderCallbacks#onLoadFinished()`. The problem with performing transactions in these methods is that they have no knowledge of the current state of the Activity lifecycle when they are called.\r\n\r\nThis appears to be the issue that you are having since `updateView()` is called from an asynchronous task, but let&#39;s test that hypothesis.\r\n\r\nThe following demo app creates a fragment, simulates background processing and a callback that mimics your async callback. There is a flag in the code, `mFixIt` when set to true causes the app to behave properly (not blow up) and when false lets the app fail.\r\n\r\nWith mFixIt == false. The trigger is the home button that causes the app to go into a stopped state:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the stack trace:\r\n\t\r\n\t14967-15003 E/AndroidRuntime: FATAL EXCEPTION: Thread-2\r\n\t    Process: com.example.illegalstatepopbackstack, PID: 14967\r\n\t    java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState\r\n\t        at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:2080)\r\n\t        at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:2106)\r\n\t        at android.support.v4.app.FragmentManagerImpl.popBackStack(FragmentManager.java:832)\r\n\t        at com.example.illegalstatepopbackstack.MainActivity.updateView(MainActivity.java:70)\r\n\t        at com.example.illegalstatepopbackstack.ui.main.MainFragment$1.run(MainFragment.java:63)\r\n\t        at java.lang.Thread.run(Thread.java:764)\r\n\r\nNow with `mFixIt` == true. The difference this time is that the app recognizes an async callback while the activity is in a stopped state, records that this has happened and completes the processing when the app is restarted.  The visual is simply pressing the home button and restoring from &quot;recents&quot;. The app simply puts up the fragment at the start and when re-started changes the top `TextView` text and pops the fragment from the backstack.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs can be seen, processing completes as expected.\r\n\r\nThis is a trivial example. If your processing is more involved or you just want a more formal way of handling this situation I recommend taking a look at [this solution](https://stackoverflow.com/a/8122789/6287910). \r\n\r\nHere is the code for the demo app:\r\n\r\n**MainActivity.java**\r\n\r\n\tpublic class MainActivity extends AppCompatActivity {\r\n\t\t// Set to true to fix the problem; false will cause the IllegalStateException\r\n\t\tprivate boolean mFixIt = false;\r\n\r\n\t\tprivate MainFragment mFragment;\r\n\t\tprivate TextView mTextView;\r\n\t\tprivate boolean mIsPaused;\r\n\t\tprivate boolean mUpdateViewNeeded;\r\n\r\n\t\t@Override\r\n\t\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tsetContentView(R.layout.main_activity);\r\n\t\t\tmTextView = findViewById(R.id.textView);\r\n\r\n\t\t\tFragmentManager fm = getSupportFragmentManager();\r\n\t\t\tif (savedInstanceState == null) {\r\n\t\t\t\t// Create out fragment\r\n\t\t\t\tmFragment = MainFragment.newInstance();\r\n\t\t\t\tfm.beginTransaction()\r\n\t\t\t\t\t.replace(R.id.container, mFragment)\r\n\t\t\t\t\t.addToBackStack(FRAGMENT_TAG)\r\n\t\t\t\t\t.commit();\r\n\t\t\t} else {\r\n\t\t\t\t// Find the restored fragment.\r\n\t\t\t\tmFragment = (MainFragment) fm.findFragmentByTag(FRAGMENT_TAG);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onStop() {\r\n\t\t\tsuper.onStop();\r\n\r\n\t\t\t// Simulate a background task that does something useful. This one just waits a few\r\n\t\t\t// second then does a callback to updateView(). The activity will be fully paused by then.\r\n\t\t\tmFragment.doSomethingInBackground();\r\n\t\t\tmIsPaused = true;\r\n\t\t\tLog.d(&quot;MainActivity&quot;,&quot;&lt;&lt;&lt;&lt; stopped&quot;);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onStart() {\r\n\t\t\tsuper.onStart();\r\n\t\t\tmIsPaused = false;\r\n\t\t\tif (mUpdateViewNeeded) {\r\n\t\t\t\t// Execute delayed processing now that the activity is resumed.\r\n\t\t\t\tupdateView(getSupportFragmentManager().findFragmentByTag(FRAGMENT_TAG));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void updateView(Fragment fragment) {\r\n\t\t\tif (mIsPaused &amp;&amp; mFixIt) {\r\n\t\t\t\t// Delay processing\r\n\t\t\t\tmUpdateViewNeeded = true;\r\n\t\t\t} else {\r\n\t\t\t\t// Do out update work. If we are paused, this will get an IllegalStateException. If\r\n\t\t\t\t// we are resumed, this will work as intended.\r\n\t\t\t\tmTextView.setText(&quot;Replaced...&quot;);\r\n\t\t\t\tgetSupportFragmentManager().popBackStack(null, FragmentManager.POP_BACK_STACK_INCLUSIVE);\r\n\t\t\t\tmUpdateViewNeeded = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static final String FRAGMENT_TAG = &quot;MyFragment&quot;;\r\n\t}\r\n\r\n**MainFragment.java**\r\n\r\n\tpublic class MainFragment extends Fragment {\r\n\r\n\t\tMainActivity mMainActivity;\r\n\r\n\t\tpublic static MainFragment newInstance() {\r\n\t\t\treturn new MainFragment();\r\n\t\t}\r\n\r\n\t\t@Nullable\r\n\t\t@Override\r\n\t\tpublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\r\n\t\t\t\t\t\t\t\t @Nullable Bundle savedInstanceState) {\r\n\t\t\treturn inflater.inflate(R.layout.main_fragment, container, false);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n\t\t\tsuper.onActivityCreated(savedInstanceState);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onAttach(Context context) {\r\n\t\t\tsuper.onAttach(context);\r\n\t\t\tmMainActivity = (MainActivity) context;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onDetach() {\r\n\t\t\tsuper.onDetach();\r\n\t\t\tmMainActivity = null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onStart() {\r\n\t\t\tsuper.onStart();\r\n\r\n\t\t}\r\n\r\n\t\tpublic void doSomethingInBackground() {\r\n\t\t\tnew Thread(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tThread.sleep(2000);\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mMainActivity != null) {\r\n\t\t\t\t\t\tmMainActivity.updateView(MainFragment.this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).start();\r\n\t\t}\r\n\t}\r\n\r\n**main_activity.xml**\r\n\r\n&lt;LinearLayout \r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;To be replaced...&quot;\r\n        android:textSize=&quot;36sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n**main_fragment.xml**\r\n\r\n\t&lt;android.support.constraint.ConstraintLayout \r\n\t\tandroid:id=&quot;@+id/main&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\tandroid:background=&quot;@android:color/holo_green_light&quot;\r\n\t\ttools:context=&quot;.ui.main.MainFragment&quot;&gt;\r\n\r\n\t\t&lt;TextView\r\n\t\t\tandroid:id=&quot;@+id/message&quot;\r\n\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:text=&quot;MainFragment&quot;\r\n\t\t\tandroid:textSize=&quot;36sp&quot;\r\n\t\t\tandroid:textStyle=&quot;bold&quot;\r\n\t\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\t&lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/86pen.gif\r\n  [2]: https://i.stack.imgur.com/k1mhG.gif","title":"popBackStack causing java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState","body":"<p>As explained in <a href=\"https://www.androiddesignpatterns.com/2013/08/fragment-transaction-commit-state-loss.html\" rel=\"noreferrer\">Fragment Transactions &amp; Activity State Loss</a> under the bullet point <em>\"Avoid performing transactions inside asynchronous callback methods\"</em>:</p>\n\n<blockquote>\n  <p><em>Avoid performing transactions inside asynchronous callback methods.</em> This includes commonly used methods such as <code>AsyncTask#onPostExecute()</code> and <code>LoaderManager.LoaderCallbacks#onLoadFinished()</code>. The problem with performing transactions in these methods is that they have no knowledge of the current state of the Activity lifecycle when they are called.</p>\n</blockquote>\n\n<p>This appears to be the issue that you are having since <code>updateView()</code> is called from an asynchronous task, but let's test that hypothesis.</p>\n\n<p>The following demo app creates a fragment, simulates background processing and a callback that mimics your async callback. There is a flag in the code, <code>mFixIt</code> when set to true causes the app to behave properly (not blow up) and when false lets the app fail.</p>\n\n<p>With mFixIt == false. The trigger is the home button that causes the app to go into a stopped state:</p>\n\n<p><a href=\"https://i.stack.imgur.com/86pen.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/86pen.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the stack trace:</p>\n\n<pre><code>14967-15003 E/AndroidRuntime: FATAL EXCEPTION: Thread-2\n    Process: com.example.illegalstatepopbackstack, PID: 14967\n    java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState\n        at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:2080)\n        at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:2106)\n        at android.support.v4.app.FragmentManagerImpl.popBackStack(FragmentManager.java:832)\n        at com.example.illegalstatepopbackstack.MainActivity.updateView(MainActivity.java:70)\n        at com.example.illegalstatepopbackstack.ui.main.MainFragment$1.run(MainFragment.java:63)\n        at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n\n<p>Now with <code>mFixIt</code> == true. The difference this time is that the app recognizes an async callback while the activity is in a stopped state, records that this has happened and completes the processing when the app is restarted.  The visual is simply pressing the home button and restoring from \"recents\". The app simply puts up the fragment at the start and when re-started changes the top <code>TextView</code> text and pops the fragment from the backstack.</p>\n\n<p><a href=\"https://i.stack.imgur.com/k1mhG.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k1mhG.gif\" alt=\"enter image description here\"></a></p>\n\n<p>As can be seen, processing completes as expected.</p>\n\n<p>This is a trivial example. If your processing is more involved or you just want a more formal way of handling this situation I recommend taking a look at <a href=\"https://stackoverflow.com/a/8122789/6287910\">this solution</a>. </p>\n\n<p>Here is the code for the demo app:</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    // Set to true to fix the problem; false will cause the IllegalStateException\n    private boolean mFixIt = false;\n\n    private MainFragment mFragment;\n    private TextView mTextView;\n    private boolean mIsPaused;\n    private boolean mUpdateViewNeeded;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_activity);\n        mTextView = findViewById(R.id.textView);\n\n        FragmentManager fm = getSupportFragmentManager();\n        if (savedInstanceState == null) {\n            // Create out fragment\n            mFragment = MainFragment.newInstance();\n            fm.beginTransaction()\n                .replace(R.id.container, mFragment)\n                .addToBackStack(FRAGMENT_TAG)\n                .commit();\n        } else {\n            // Find the restored fragment.\n            mFragment = (MainFragment) fm.findFragmentByTag(FRAGMENT_TAG);\n        }\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        // Simulate a background task that does something useful. This one just waits a few\n        // second then does a callback to updateView(). The activity will be fully paused by then.\n        mFragment.doSomethingInBackground();\n        mIsPaused = true;\n        Log.d(\"MainActivity\",\"&lt;&lt;&lt;&lt; stopped\");\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        mIsPaused = false;\n        if (mUpdateViewNeeded) {\n            // Execute delayed processing now that the activity is resumed.\n            updateView(getSupportFragmentManager().findFragmentByTag(FRAGMENT_TAG));\n        }\n    }\n\n    public void updateView(Fragment fragment) {\n        if (mIsPaused &amp;&amp; mFixIt) {\n            // Delay processing\n            mUpdateViewNeeded = true;\n        } else {\n            // Do out update work. If we are paused, this will get an IllegalStateException. If\n            // we are resumed, this will work as intended.\n            mTextView.setText(\"Replaced...\");\n            getSupportFragmentManager().popBackStack(null, FragmentManager.POP_BACK_STACK_INCLUSIVE);\n            mUpdateViewNeeded = false;\n        }\n    }\n\n    public static final String FRAGMENT_TAG = \"MyFragment\";\n}\n</code></pre>\n\n<p><strong>MainFragment.java</strong></p>\n\n<pre><code>public class MainFragment extends Fragment {\n\n    MainActivity mMainActivity;\n\n    public static MainFragment newInstance() {\n        return new MainFragment();\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.main_fragment, container, false);\n    }\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n    }\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        mMainActivity = (MainActivity) context;\n    }\n\n    @Override\n    public void onDetach() {\n        super.onDetach();\n        mMainActivity = null;\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n\n    }\n\n    public void doSomethingInBackground() {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                if (mMainActivity != null) {\n                    mMainActivity.updateView(MainFragment.this);\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n\n<p><strong>main_activity.xml</strong></p>\n\n<p></p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/textView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:gravity=\"center\"\n    android:text=\"To be replaced...\"\n    android:textSize=\"36sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;FrameLayout\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>main_fragment.xml</strong></p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout \n    android:id=\"@+id/main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@android:color/holo_green_light\"\n    tools:context=\".ui.main.MainFragment\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/message\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"MainFragment\"\n        android:textSize=\"36sp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":452250,"reputation":1194,"user_id":848579,"display_name":"Melad"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1647862945,"creation_date":1575461918,"answer_id":59175911,"question_id":53566847,"body_markdown":"This is what worked for me is to check if fragment manger doesn&#39;t hava a saved state before popBackStack()\r\n```\r\nif (fragmentManager != null &amp;&amp; !fragmentManager.isStateSaved()) {\r\n    fragmentManager.popBackStack();\r\n}\r\n```","title":"popBackStack causing java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState","body":"<p>This is what worked for me is to check if fragment manger doesn't hava a saved state before popBackStack()</p>\n<pre><code>if (fragmentManager != null &amp;&amp; !fragmentManager.isStateSaved()) {\n    fragmentManager.popBackStack();\n}\n</code></pre>\n"}],"owner":{"account_id":105082,"reputation":21937,"user_id":280602,"accept_rate":76,"display_name":"Mike Flynn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8406,"favorite_count":0,"down_vote_count":3,"up_vote_count":15,"accepted_answer_id":53622947,"answer_count":4,"score":12,"last_activity_date":1647862945,"creation_date":1543625975,"question_id":53566847,"body_markdown":"I am getting this error below at the line of manager.popBackStack.  Is there a way around this?  It happens quite a it.\r\n\r\n    public void updateView(Fragment fragment) {\r\n    \r\n    \t\tIFragment currentFragment = (IFragment)fragment;\r\n    \r\n    \t\tFragmentManager manager = getSupportFragmentManager();\r\n    \t\tFragmentTransaction fragmentTransaction = manager.beginTransaction();\r\n    \t\tfragmentTransaction.replace(R.id.content_frame, fragment);\r\n    \r\n    \t\tif(currentFragment != null)\r\n    \t\t{\r\n    \t\t\tif(currentFragment.isRoot())\r\n    \t\t\t{\r\n    \t\t\t\tmanager.popBackStack(null, FragmentManager.POP_BACK_STACK_INCLUSIVE);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tfragmentTransaction.addToBackStack(&quot;test&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfragmentTransaction.commitAllowingStateLoss();\r\n    \r\n    \t\tif(drawerManager.DrawerLayout != null) {\r\n    \t\t\tdrawerManager.DrawerLayout.closeDrawer(drawerManager.DrawerList);\r\n    \t\t}\r\n    \t}\r\n```\r\n Fatal Exception: java.lang.IllegalStateException: Can not perform this\r\n action after onSaveInstanceState\r\n        at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:2044)\r\n        at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:2067)\r\n        at android.support.v4.app.FragmentManagerImpl.popBackStack(FragmentManager.java:799)\r\n        at com.exposure.activities.BaseActivity.updateView(BaseActivity.java:239)\r\n        at com.exposure.activities.events.EventActivity.setupEvent(EventActivity.java:204)\r\n        at com.exposure.activities.events.EventActivity.getData(EventActivity.java:117)\r\n        at com.exposure.utilities.ActivityContainer.getData(ActivityContainer.java:83)\r\n        at com.exposure.utilities.DataTask.onPostExecute(DataTask.java:37)\r\n        at android.os.AsyncTask.finish(AsyncTask.java:695)\r\n        at android.os.AsyncTask.-wrap1(Unknown Source)\r\n        at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:712)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n```","title":"popBackStack causing java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState","body":"<p>I am getting this error below at the line of manager.popBackStack.  Is there a way around this?  It happens quite a it.</p>\n<pre><code>public void updateView(Fragment fragment) {\n\n        IFragment currentFragment = (IFragment)fragment;\n\n        FragmentManager manager = getSupportFragmentManager();\n        FragmentTransaction fragmentTransaction = manager.beginTransaction();\n        fragmentTransaction.replace(R.id.content_frame, fragment);\n\n        if(currentFragment != null)\n        {\n            if(currentFragment.isRoot())\n            {\n                manager.popBackStack(null, FragmentManager.POP_BACK_STACK_INCLUSIVE);\n            }\n            else\n            {\n                fragmentTransaction.addToBackStack(&quot;test&quot;);\n            }\n        }\n\n        fragmentTransaction.commitAllowingStateLoss();\n\n        if(drawerManager.DrawerLayout != null) {\n            drawerManager.DrawerLayout.closeDrawer(drawerManager.DrawerList);\n        }\n    }\n</code></pre>\n<pre><code> Fatal Exception: java.lang.IllegalStateException: Can not perform this\n action after onSaveInstanceState\n        at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:2044)\n        at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:2067)\n        at android.support.v4.app.FragmentManagerImpl.popBackStack(FragmentManager.java:799)\n        at com.exposure.activities.BaseActivity.updateView(BaseActivity.java:239)\n        at com.exposure.activities.events.EventActivity.setupEvent(EventActivity.java:204)\n        at com.exposure.activities.events.EventActivity.getData(EventActivity.java:117)\n        at com.exposure.utilities.ActivityContainer.getData(ActivityContainer.java:83)\n        at com.exposure.utilities.DataTask.onPostExecute(DataTask.java:37)\n        at android.os.AsyncTask.finish(AsyncTask.java:695)\n        at android.os.AsyncTask.-wrap1(Unknown Source)\n        at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:712)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\n       at java.lang.reflect.Method.invoke(Method.java)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n</code></pre>\n"},{"tags":["java","python","macos","applescript","macbookpro-touch-bar"],"answers":[{"tags":[],"owner":{"account_id":2602356,"reputation":952,"user_id":2277445,"accept_rate":71,"display_name":"Jorrick Sleijster"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1647862818,"creation_date":1647862818,"answer_id":71557027,"question_id":60058048,"body_markdown":"The easiest solution I found was to use\r\n```\r\ncaffeinate -d\r\n```\r\nNo admin access required or programming. Simply run it in a terminal and it will keep all your screens on infinitely. Watch out that you don&#39;t leave your macbook unattended though :)","title":"Is there any way to avoid the Touch Bar of Macbook Pro from sleeping?","body":"<p>The easiest solution I found was to use</p>\n<pre><code>caffeinate -d\n</code></pre>\n<p>No admin access required or programming. Simply run it in a terminal and it will keep all your screens on infinitely. Watch out that you don't leave your macbook unattended though :)</p>\n"}],"owner":{"account_id":17685653,"reputation":39,"user_id":12838860,"display_name":"blackcloud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1647862818,"creation_date":1580821397,"question_id":60058048,"body_markdown":"I&#39;ve found that the Touch Bar of my MacbookPro2018 13&quot; had square flickers on and off. I&#39;ve learned from Google that it&#39;s a hardware problem of Mbp, but I can&#39;t get it repaired immediately :(\r\n\r\nI found that it only happens when the Touch Bar is sleeping. If I keep operating my computer and keep the Touch Bar awake, the problem will not occur. So I want to find a way that can avoid Touch Bar from sleeping.\r\n\r\nI&#39;ve made efforts to simulate a keypress event repeatedly (like press &quot;fn&quot; for each 60s) to keep it awake, but the following ways I tried didn&#39;t work. \r\n\r\n1. AppleScript\r\n    ```\r\n    repeat while true\r\n    \ttell application &quot;System Events&quot; to keystroke (key code 63)\r\n    \tdelay 60               -- use sec\r\n    end repeat\r\n    ```\r\n\r\n2. PyUserInput\r\n    ```\r\n    ...\r\n\r\n    while True :\r\n    \tk = pykeyboard.PyKeyboard()\r\n    \tk.press_key(&#39;Command&#39;) # Cmd is an alternate of fn\r\n    \ttime.sleep(1)          # use sec\r\n    \tk.release_key(&#39;Command&#39;)\r\n    \ttime.sleep(60)         # use sec\r\n    ```\r\n3. Java Robot\r\n    ```\r\n    ...\r\n    while (true) {\r\n    \trobot.keyPress(KeyEvent.VK_CONTROL);\r\n        robot.delay(1000);     // use ms\r\n        robot.keyRelease(KeyEvent.VK_CONTROL);    \r\n        robot.delay(60000);    // 60s\r\n    }\r\n    ...\r\n    ```\r\n\r\nThe problem is, though the scripts above can actually &#39;simulate&#39; the keypress events (the keypress events really took place), the events may have differences from the **physical/true** press event so they can&#39;t awake the Touch Bar.\r\n\r\nSo is there any way to avoid the Touch Bar from sleeping? or is there any way to simulate physical press event (I don&#39;t want to press my fn for each 60s when I&#39;m watching videos, lol)\r\n\r\nThanks for your answer! : )","title":"Is there any way to avoid the Touch Bar of Macbook Pro from sleeping?","body":"<p>I've found that the Touch Bar of my MacbookPro2018 13\" had square flickers on and off. I've learned from Google that it's a hardware problem of Mbp, but I can't get it repaired immediately :(</p>\n\n<p>I found that it only happens when the Touch Bar is sleeping. If I keep operating my computer and keep the Touch Bar awake, the problem will not occur. So I want to find a way that can avoid Touch Bar from sleeping.</p>\n\n<p>I've made efforts to simulate a keypress event repeatedly (like press \"fn\" for each 60s) to keep it awake, but the following ways I tried didn't work. </p>\n\n<ol>\n<li><p>AppleScript</p>\n\n<pre><code>repeat while true\n    tell application \"System Events\" to keystroke (key code 63)\n    delay 60               -- use sec\nend repeat\n</code></pre></li>\n<li><p>PyUserInput</p>\n\n<pre><code>...\n\nwhile True :\n    k = pykeyboard.PyKeyboard()\n    k.press_key('Command') # Cmd is an alternate of fn\n    time.sleep(1)          # use sec\n    k.release_key('Command')\n    time.sleep(60)         # use sec\n</code></pre></li>\n<li>Java Robot\n\n<pre><code>...\nwhile (true) {\n    robot.keyPress(KeyEvent.VK_CONTROL);\n    robot.delay(1000);     // use ms\n    robot.keyRelease(KeyEvent.VK_CONTROL);    \n    robot.delay(60000);    // 60s\n}\n...\n</code></pre></li>\n</ol>\n\n<p>The problem is, though the scripts above can actually 'simulate' the keypress events (the keypress events really took place), the events may have differences from the <strong>physical/true</strong> press event so they can't awake the Touch Bar.</p>\n\n<p>So is there any way to avoid the Touch Bar from sleeping? or is there any way to simulate physical press event (I don't want to press my fn for each 60s when I'm watching videos, lol)</p>\n\n<p>Thanks for your answer! : )</p>\n"},{"tags":["java","scala","jodatime"],"comments":[{"owner":{"account_id":166529,"reputation":20225,"user_id":390708,"accept_rate":89,"display_name":"Brian"},"score":0,"creation_date":1374034869,"post_id":17690739,"comment_id":25775923,"body_markdown":"See this: http://www.scala-lang.org/node/6982. Are you entering this line by line in the REPL? I can&#39;t reproduce this with scala 2.10.0 and Joda Time 1.6 when I compile with `scalac` or when I load a file with the code in `scala`.","body":"See this: <a href=\"http://www.scala-lang.org/node/6982\" rel=\"nofollow noreferrer\">scala-lang.org/node/6982</a>. Are you entering this line by line in the REPL? I can&#39;t reproduce this with scala 2.10.0 and Joda Time 1.6 when I compile with <code>scalac</code> or when I load a file with the code in <code>scala</code>."},{"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"score":0,"creation_date":1374036869,"post_id":17690739,"comment_id":25776513,"body_markdown":"Hi Brian, I saw that thread before, although I&#39;m not sure what to make of it, apart from some other people having the same issue. I am running Joda Time 1.6, but Scala 2.9.2. trying your setup on a different system now. I have tried scala 2.10.2 previously, although I dont think the problem lies there.","body":"Hi Brian, I saw that thread before, although I&#39;m not sure what to make of it, apart from some other people having the same issue. I am running Joda Time 1.6, but Scala 2.9.2. trying your setup on a different system now. I have tried scala 2.10.2 previously, although I dont think the problem lies there."},{"owner":{"account_id":166529,"reputation":20225,"user_id":390708,"accept_rate":89,"display_name":"Brian"},"score":1,"creation_date":1374037013,"post_id":17690739,"comment_id":25776546,"body_markdown":"The problem can be reduced to this snippet `val dt = new DateTime(2013,7,16)` as noted in that thread which gives the same error `java.lang.IllegalArgumentException: No instant converter found for type: scala.Tuple3`","body":"The problem can be reduced to this snippet <code>val dt = new DateTime(2013,7,16)</code> as noted in that thread which gives the same error <code>java.lang.IllegalArgumentException: No instant converter found for type: scala.Tuple3</code>"},{"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"score":1,"creation_date":1374041470,"post_id":17690739,"comment_id":25778186,"body_markdown":"I fixed the issue, I think it came down to not giving enough info to the DateTime() thing. ie it needed milliseconds, eg DateTime(2000, 06, 30,0,0,0,0). also a similar story for Period. This meant that the Compiler didn&#39;t know what to do with it. Ill put up the full code when I can.","body":"I fixed the issue, I think it came down to not giving enough info to the DateTime() thing. ie it needed milliseconds, eg DateTime(2000, 06, 30,0,0,0,0). also a similar story for Period. This meant that the Compiler didn&#39;t know what to do with it. Ill put up the full code when I can."},{"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1374042327,"post_id":17690739,"comment_id":25778560,"body_markdown":"And by the way, why are you using Joda Time 1.6 when the current version is 2.2?","body":"And by the way, why are you using Joda Time 1.6 when the current version is 2.2?"},{"owner":{"account_id":166529,"reputation":20225,"user_id":390708,"accept_rate":89,"display_name":"Brian"},"score":0,"creation_date":1374042586,"post_id":17690739,"comment_id":25778670,"body_markdown":"1.6 was the first one I found in my .m2 directory. :) What&#39;s your excuse @Loooit?","body":"1.6 was the first one I found in my .m2 directory. :) What&#39;s your excuse @Loooit?"},{"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"score":0,"creation_date":1374102257,"post_id":17690739,"comment_id":25813874,"body_markdown":"I was running 2.2, but changed to see if it made a difference.","body":"I was running 2.2, but changed to see if it made a difference."}],"answers":[{"tags":[],"owner":{"account_id":166529,"reputation":20225,"user_id":390708,"accept_rate":89,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1512098384,"creation_date":1374036629,"answer_id":17691356,"question_id":17690739,"body_markdown":"A work around is to define the dates like this:\r\n\r\n    val date = new DateTime().withYear(2013).withMonthOfYear(7).withDayOfMonth(16)\r\n\r\nThe entire sequence in the REPL then becomes this:\r\n\r\n    scala&gt; import org.joda.time.{DateTime, Period}\r\n    import org.joda.time.{DateTime, Period}\r\n    \r\n    scala&gt; def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\r\n    dateRange: (from: org.joda.time.DateTime, to: org.joda.time.DateTime, step: org.joda.time.Period)Iterator[org.joda.time.DateTime]\r\n    \r\n    scala&gt; val from = new DateTime().withYear(2012).withMonthOfYear(6).withDayOfMonth(30).minusYears(5)\r\n    from: org.joda.time.DateTime = 2007-06-30T21:46:05.536-07:00\r\n    \r\n    scala&gt; val to = new DateTime().withYear(2000).withMonthOfYear(6).withDayOfMonth(30)\r\n    to: org.joda.time.DateTime = 2000-06-30T21:46:26.186-07:00\r\n    \r\n    scala&gt; val range = dateRange(from, to, new Period().withMonths(6))\r\n    range: Iterator[org.joda.time.DateTime] = non-empty iterator\r\n    \r\n    scala&gt; range.toList\r\n    res4: List[org.joda.time.DateTime] = List(\r\n    2000-06-30T21:46:26.186-07:00,\r\n    2000-12-30T21:46:26.186-08:00,\r\n    2001-06-30T21:46:26.186-07:00,\r\n    2001-12-30T21:46:26.186-08:00,\r\n    2002-06-30T21:46:26.186-07:00,\r\n    2002-12-30T21:46:26.186-08:00,\r\n    2003-06-30T21:46:26.186-07:00,\r\n    2003-12-30T21:46:26.186-08:00,\r\n    2004-06-30T21:46:26.186-07:00,\r\n    2004-12-30T21:46:26.186-08:00,\r\n    2005-06-30T21:46:26.186-07:00,\r\n    2005-12-30T21:46:26.186-08:00,\r\n    2006-06-30T21:46:26.186-07:00,\r\n    2006-12-30T21:46:26.186-08:00)\r\n\r\nAlso, I wasn&#39;t able to reproduce this as noted in my comment. Seems the behavior is different in the REPL and the compiler.\r\n\r\n","title":"Creating a dateRange Scala, Joda, Java","body":"<p>A work around is to define the dates like this:</p>\n\n<pre><code>val date = new DateTime().withYear(2013).withMonthOfYear(7).withDayOfMonth(16)\n</code></pre>\n\n<p>The entire sequence in the REPL then becomes this:</p>\n\n<pre><code>scala&gt; import org.joda.time.{DateTime, Period}\nimport org.joda.time.{DateTime, Period}\n\nscala&gt; def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\ndateRange: (from: org.joda.time.DateTime, to: org.joda.time.DateTime, step: org.joda.time.Period)Iterator[org.joda.time.DateTime]\n\nscala&gt; val from = new DateTime().withYear(2012).withMonthOfYear(6).withDayOfMonth(30).minusYears(5)\nfrom: org.joda.time.DateTime = 2007-06-30T21:46:05.536-07:00\n\nscala&gt; val to = new DateTime().withYear(2000).withMonthOfYear(6).withDayOfMonth(30)\nto: org.joda.time.DateTime = 2000-06-30T21:46:26.186-07:00\n\nscala&gt; val range = dateRange(from, to, new Period().withMonths(6))\nrange: Iterator[org.joda.time.DateTime] = non-empty iterator\n\nscala&gt; range.toList\nres4: List[org.joda.time.DateTime] = List(\n2000-06-30T21:46:26.186-07:00,\n2000-12-30T21:46:26.186-08:00,\n2001-06-30T21:46:26.186-07:00,\n2001-12-30T21:46:26.186-08:00,\n2002-06-30T21:46:26.186-07:00,\n2002-12-30T21:46:26.186-08:00,\n2003-06-30T21:46:26.186-07:00,\n2003-12-30T21:46:26.186-08:00,\n2004-06-30T21:46:26.186-07:00,\n2004-12-30T21:46:26.186-08:00,\n2005-06-30T21:46:26.186-07:00,\n2005-12-30T21:46:26.186-08:00,\n2006-06-30T21:46:26.186-07:00,\n2006-12-30T21:46:26.186-08:00)\n</code></pre>\n\n<p>Also, I wasn't able to reproduce this as noted in my comment. Seems the behavior is different in the REPL and the compiler.</p>\n"},{"tags":[],"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1374042258,"creation_date":1374041628,"answer_id":17692400,"question_id":17690739,"body_markdown":"`DateTime` [doesn&#39;t have][1] a constructor taking three `int` arguments, so `new DateTime(2012, 06, 30)` calls `DateTime(Object)` constructor with the tuple `(2012, 06, 30)` as the argument. The documentation says:\n\n&gt; Constructs an instance from an `Object` that represents a datetime.\n&gt;\n&gt; If the object implies a chronology (such as `GregorianCalendar` does), then that chronology will be used. Otherwise, ISO default is used. Thus if a `GregorianCalendar` is passed in, the chronology used will be GJ, but if a Date is passed in the chronology will be ISO.\n&gt;\n&gt; The recognised object types are defined in `ConverterManager` and include `ReadableInstant`, `String`, `Calendar` and `Date`. The `String` formats are described by `ISODateTimeFormat.dateTimeParser()`.\n\nUnsurprisingly, `ConverterManager` doesn&#39;t know what to do with a Scala tuple, which results in the exception.\n\n&gt; If someone can give me a different solution, that would also be great. I want a list of dates from 2000 to 2012, every 6 months.\n\nIf you actually want dates, the better type to use is [`LocalDate`][2] (which does have the constructor you want, by the way). If you want `DateTime` at the start of these dates, then you need to think about what time zone to use.\n\n\n  [1]: http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html","title":"Creating a dateRange Scala, Joda, Java","body":"<p><code>DateTime</code> <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html\" rel=\"nofollow noreferrer\">doesn't have</a> a constructor taking three <code>int</code> arguments, so <code>new DateTime(2012, 06, 30)</code> calls <code>DateTime(Object)</code> constructor with the tuple <code>(2012, 06, 30)</code> as the argument. The documentation says:</p>\n<blockquote>\n<p>Constructs an instance from an <code>Object</code> that represents a datetime.</p>\n<p>If the object implies a chronology (such as <code>GregorianCalendar</code> does), then that chronology will be used. Otherwise, ISO default is used. Thus if a <code>GregorianCalendar</code> is passed in, the chronology used will be GJ, but if a Date is passed in the chronology will be ISO.</p>\n<p>The recognised object types are defined in <code>ConverterManager</code> and include <code>ReadableInstant</code>, <code>String</code>, <code>Calendar</code> and <code>Date</code>. The <code>String</code> formats are described by <code>ISODateTimeFormat.dateTimeParser()</code>.</p>\n</blockquote>\n<p>Unsurprisingly, <code>ConverterManager</code> doesn't know what to do with a Scala tuple, which results in the exception.</p>\n<blockquote>\n<p>If someone can give me a different solution, that would also be great. I want a list of dates from 2000 to 2012, every 6 months.</p>\n</blockquote>\n<p>If you actually want dates, the better type to use is <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> (which does have the constructor you want, by the way). If you want <code>DateTime</code> at the start of these dates, then you need to think about what time zone to use.</p>\n"},{"tags":[],"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1444744222,"creation_date":1374102468,"answer_id":17711812,"question_id":17690739,"body_markdown":"Ok, Here is the complete working code.\r\n\r\n    import org.joda.time.{Period, DateTime}\r\n\r\n    object runme {\r\n\r\n      def main(args:Array[String]) {\r\n\r\n      def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]\r\n      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\r\n\r\n      val range = { dateRange(new DateTime(2000, 06, 30,0,0,0,0).minusYears(5) ,new DateTime(2013, 06, 30,0,0,0,0),new Period(0,6,0,0,0,0,0,0))}\r\n\r\n      range.foreach(u =&gt; { \r\n        print(u.getYear)\r\n        print(u.getMonthOfYear)\r\n        println(u.getDayOfMonth)\r\n      })\r\n\r\n     }\r\n    }\r\n\r\nI think my main problem was not having enough numbers after the `DateTime()` functions (ie the milliseconds etc.) this meant the compiler wasn&#39;t receiving all the parameters that it wanted. As mentioned by Alexey Romanov\r\n\r\nThis then prints the dates for a desired range, and can be used as an iterator.\r\n\r\nHope that helps others.\r\n\r\nThanks @Brian and others for the Help\r\n","title":"Creating a dateRange Scala, Joda, Java","body":"<p>Ok, Here is the complete working code.</p>\n\n<pre><code>import org.joda.time.{Period, DateTime}\n\nobject runme {\n\n  def main(args:Array[String]) {\n\n  def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]\n  =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\n\n  val range = { dateRange(new DateTime(2000, 06, 30,0,0,0,0).minusYears(5) ,new DateTime(2013, 06, 30,0,0,0,0),new Period(0,6,0,0,0,0,0,0))}\n\n  range.foreach(u =&gt; { \n    print(u.getYear)\n    print(u.getMonthOfYear)\n    println(u.getDayOfMonth)\n  })\n\n }\n}\n</code></pre>\n\n<p>I think my main problem was not having enough numbers after the <code>DateTime()</code> functions (ie the milliseconds etc.) this meant the compiler wasn't receiving all the parameters that it wanted. As mentioned by Alexey Romanov</p>\n\n<p>This then prints the dates for a desired range, and can be used as an iterator.</p>\n\n<p>Hope that helps others.</p>\n\n<p>Thanks @Brian and others for the Help</p>\n"},{"tags":[],"owner":{"account_id":1623182,"reputation":603,"user_id":1499332,"display_name":"Brandon Kearby"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1426520874,"creation_date":1426520874,"answer_id":29081108,"question_id":17690739,"body_markdown":"I was needing something similar. Here&#39;s what I came up with:\r\n\r\n    import org.joda.time.{Period, DateTime}\r\n\r\n    class DateRange(val start: DateTime, val end: DateTime, val step: Period, inclusive: Boolean) extends Iterable[DateTime] {\r\n        override def iterator: Iterator[DateTime] = new DateRangeIterator\r\n\r\n        class DateRangeIterator extends Iterator[DateTime] {\r\n            var current = start\r\n\r\n            override def hasNext: Boolean = current.isBefore(end) || (inclusive &amp;&amp; current == end)\r\n\r\n            override def next(): DateTime = {\r\n                val returnVal = current\r\n                current = current.withPeriodAdded(step, 1)\r\n                returnVal\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nExample Usage:\r\n\r\n    val startOfDay: DateTime = new DateTime().withTimeAtStartOfDay()\r\n    val endOfDay: DateTime = startOfDay.plusDays(1)\r\n    val dateRange = new DateRange(startOfDay, endOfDay, Period.hours(1), false)\r\n    for (d &lt;- dateRange) println(d)\r\n\r\n\r\nOutput:\r\n\r\n    2015-03-16T00:00:00.000-05:00\r\n    2015-03-16T01:00:00.000-05:00\r\n    2015-03-16T02:00:00.000-05:00\r\n    2015-03-16T03:00:00.000-05:00\r\n    2015-03-16T04:00:00.000-05:00\r\n    2015-03-16T05:00:00.000-05:00\r\n    2015-03-16T06:00:00.000-05:00\r\n    2015-03-16T07:00:00.000-05:00\r\n    2015-03-16T08:00:00.000-05:00\r\n    2015-03-16T09:00:00.000-05:00\r\n    2015-03-16T10:00:00.000-05:00\r\n    2015-03-16T11:00:00.000-05:00\r\n    2015-03-16T12:00:00.000-05:00\r\n    2015-03-16T13:00:00.000-05:00\r\n    2015-03-16T14:00:00.000-05:00\r\n    2015-03-16T15:00:00.000-05:00\r\n    2015-03-16T16:00:00.000-05:00\r\n    2015-03-16T17:00:00.000-05:00\r\n    2015-03-16T18:00:00.000-05:00\r\n    2015-03-16T19:00:00.000-05:00\r\n    2015-03-16T20:00:00.000-05:00\r\n    2015-03-16T21:00:00.000-05:00\r\n    2015-03-16T22:00:00.000-05:00\r\n    2015-03-16T23:00:00.000-05:00\r\n\r\n","title":"Creating a dateRange Scala, Joda, Java","body":"<p>I was needing something similar. Here's what I came up with:</p>\n\n<pre><code>import org.joda.time.{Period, DateTime}\n\nclass DateRange(val start: DateTime, val end: DateTime, val step: Period, inclusive: Boolean) extends Iterable[DateTime] {\n    override def iterator: Iterator[DateTime] = new DateRangeIterator\n\n    class DateRangeIterator extends Iterator[DateTime] {\n        var current = start\n\n        override def hasNext: Boolean = current.isBefore(end) || (inclusive &amp;&amp; current == end)\n\n        override def next(): DateTime = {\n            val returnVal = current\n            current = current.withPeriodAdded(step, 1)\n            returnVal\n        }\n    }\n}\n</code></pre>\n\n<p>Example Usage:</p>\n\n<pre><code>val startOfDay: DateTime = new DateTime().withTimeAtStartOfDay()\nval endOfDay: DateTime = startOfDay.plusDays(1)\nval dateRange = new DateRange(startOfDay, endOfDay, Period.hours(1), false)\nfor (d &lt;- dateRange) println(d)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2015-03-16T00:00:00.000-05:00\n2015-03-16T01:00:00.000-05:00\n2015-03-16T02:00:00.000-05:00\n2015-03-16T03:00:00.000-05:00\n2015-03-16T04:00:00.000-05:00\n2015-03-16T05:00:00.000-05:00\n2015-03-16T06:00:00.000-05:00\n2015-03-16T07:00:00.000-05:00\n2015-03-16T08:00:00.000-05:00\n2015-03-16T09:00:00.000-05:00\n2015-03-16T10:00:00.000-05:00\n2015-03-16T11:00:00.000-05:00\n2015-03-16T12:00:00.000-05:00\n2015-03-16T13:00:00.000-05:00\n2015-03-16T14:00:00.000-05:00\n2015-03-16T15:00:00.000-05:00\n2015-03-16T16:00:00.000-05:00\n2015-03-16T17:00:00.000-05:00\n2015-03-16T18:00:00.000-05:00\n2015-03-16T19:00:00.000-05:00\n2015-03-16T20:00:00.000-05:00\n2015-03-16T21:00:00.000-05:00\n2015-03-16T22:00:00.000-05:00\n2015-03-16T23:00:00.000-05:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12404214,"reputation":81,"user_id":9039958,"display_name":"hucko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647862521,"creation_date":1590698402,"answer_id":62074120,"question_id":17690739,"body_markdown":"I came up with this simple solution:\r\n\r\n```scala\r\ndef generateDateRange(from: LocalDate, to: LocalDate): List[Date] = {\r\n    if(from.compareTo(to) &gt; 0) Nil\r\n    from :: generateDateRange(from.plusDays(1), to)\r\n}\r\n```\r\n\r\nWe recursively build a list of dates by prepending the start of the range to the new range which starts a day later.","title":"Creating a dateRange Scala, Joda, Java","body":"<p>I came up with this simple solution:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def generateDateRange(from: LocalDate, to: LocalDate): List[Date] = {\n    if(from.compareTo(to) &gt; 0) Nil\n    from :: generateDateRange(from.plusDays(1), to)\n}\n</code></pre>\n<p>We recursively build a list of dates by prepending the start of the range to the new range which starts a day later.</p>\n"},{"tags":[],"owner":{"account_id":8339747,"reputation":51,"user_id":6265413,"display_name":"Hans Adriaans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613747729,"creation_date":1613747729,"answer_id":66280178,"question_id":17690739,"body_markdown":"I had some small changes to the code of hucko\r\n\r\n    private def generateDateRange(from: LocalDate, to: LocalDate): List[LocalDate] = {\r\n        if (from.compareTo(to) &gt; 0) Nil\r\n        else from :: generateDateRange(from.plusDays(1), to)\r\n    }","title":"Creating a dateRange Scala, Joda, Java","body":"<p>I had some small changes to the code of hucko</p>\n<pre><code>private def generateDateRange(from: LocalDate, to: LocalDate): List[LocalDate] = {\n    if (from.compareTo(to) &gt; 0) Nil\n    else from :: generateDateRange(from.plusDays(1), to)\n}\n</code></pre>\n"}],"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15435,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":17691356,"answer_count":6,"score":10,"last_activity_date":1647862521,"creation_date":1374032825,"question_id":17690739,"body_markdown":"I have spent hours trying to make this next piece of code work.\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    import org.joda.time.{DateTime, Period}\r\n    \r\n\r\n    def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\r\n\r\n    val range = {\r\n    dateRange(new DateTime(2012, 06, 30).minusYears(5), new DateTime(2000, 06, 30),new Period.months(6))\r\n    }\r\n\r\nI&#39;m trying to set up a date range array that steps through from 2000 to 2012 in 6 month increments. The problem that I am facing is the following error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No instant converter found for type: scala.Tuple3\r\n\tat    org.joda.time.convert.ConverterManager.getInstantConverter(ConverterManager.java:165)\r\n\tat org.joda.time.base.BaseDateTime.&lt;init&gt;(BaseDateTime.java:169)\r\n\tat org.joda.time.DateTime.&lt;init&gt;(DateTime.java:241)\r\n\tat tester.MomentumAlgo$class.$init$(MomentumAlgo.scala:154)\r\n\tat tester.RunMomentumAlgo$$anon$1.&lt;init&gt;(RunMomentumAlgo.scala:86)\r\n\tat tester.RunMomentumAlgo$.main(RunMomentumAlgo.scala:86)\r\n\tat tester.RunMomentumAlgo.main(RunMomentumAlgo.scala)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\n\r\n\r\nI seems to be something to do with the last Period.months() part, however I have no idea how to fix it. The Tuple3 error I have no idea about.\r\n\r\nIf someone can give me a different solution, that would also be great. I want a list of dates from 2000 to 2012, every 6 months.\r\n\r\nAny questions welcome. I thought this would be a common piece of code, but there isn&#39;t much on the net about it.\r\n\r\nThanks in advance.\r\n\r\n","title":"Creating a dateRange Scala, Joda, Java","body":"<p>I have spent hours trying to make this next piece of code work.</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import org.joda.time.{DateTime, Period}\n\n\ndef dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\n\nval range = {\ndateRange(new DateTime(2012, 06, 30).minusYears(5), new DateTime(2000, 06, 30),new Period.months(6))\n}\n</code></pre>\n\n<p>I'm trying to set up a date range array that steps through from 2000 to 2012 in 6 month increments. The problem that I am facing is the following error.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: No instant converter found for type: scala.Tuple3\nat    org.joda.time.convert.ConverterManager.getInstantConverter(ConverterManager.java:165)\nat org.joda.time.base.BaseDateTime.&lt;init&gt;(BaseDateTime.java:169)\nat org.joda.time.DateTime.&lt;init&gt;(DateTime.java:241)\nat tester.MomentumAlgo$class.$init$(MomentumAlgo.scala:154)\nat tester.RunMomentumAlgo$$anon$1.&lt;init&gt;(RunMomentumAlgo.scala:86)\nat tester.RunMomentumAlgo$.main(RunMomentumAlgo.scala:86)\nat tester.RunMomentumAlgo.main(RunMomentumAlgo.scala)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\n</code></pre>\n\n<p>I seems to be something to do with the last Period.months() part, however I have no idea how to fix it. The Tuple3 error I have no idea about.</p>\n\n<p>If someone can give me a different solution, that would also be great. I want a list of dates from 2000 to 2012, every 6 months.</p>\n\n<p>Any questions welcome. I thought this would be a common piece of code, but there isn't much on the net about it.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3252196,"reputation":136,"user_id":2742162,"display_name":"Tunca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647862208,"creation_date":1647862208,"answer_id":71556887,"question_id":71555785,"body_markdown":"The connection is successful but it can&#39;t be find a table in db. I think you need to separate package of models by each db and the configuration class should be know the package name for each db. For example for JPA:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n            basePackages = &quot;com.project.modelpackage&quot;\r\n    )\r\n    public class ClassName { ... }","title":"Spring MVC with multiple database connections","body":"<p>The connection is successful but it can't be find a table in db. I think you need to separate package of models by each db and the configuration class should be know the package name for each db. For example for JPA:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = &quot;com.project.modelpackage&quot;\n)\npublic class ClassName { ... }\n</code></pre>\n"}],"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647862208,"creation_date":1647857116,"question_id":71555785,"body_markdown":"Hello I am building my first Spring MVC and Thymeleaf web app and I do not know how to connect to two different Oracle databases. I managed to connect to just one.\r\n\r\nHere is the code:\r\n\r\nRepository code: \r\n\r\n        package com.example.demo;\r\n    \r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import javax.sql.DataSource;\r\n     \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.dao.DataAccessException;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.core.RowMapper;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    /**\r\n     *\r\n     * @author 40723\r\n     */\r\n    @Repository\r\n    public class TelefonMailRepositoryImpl implements TelefonMailRepository {\r\n        \r\n        \r\n     private final DataSource dataSourceMail;\r\n     private final DataSource inregIvg;   \r\n     \r\n     public TelefonMailRepositoryImpl(DataSource dataSourceMail, @Qualifier(&quot;inregIvg&quot;) DataSource inregIvg) {\r\n            this.dataSourceMail = dataSourceMail;\r\n            this.inregIvg = inregIvg;\r\n    \r\n        }\r\n        \r\n    \r\n     \r\n     \r\n      public Map&lt;String, Object&gt; findByNumber(String telefon) {\r\n          \r\n            Map&lt;String, Object&gt; toateTel;\r\n          \r\n            String query = &quot;select cnp, nume, prenume from utilizatori where telefon=?&quot;;\r\n           JdbcTemplate jdbcTemplate = new JdbcTemplate(this.dataSourceMail);\r\n            jdbcTemplate.queryForMap(query,telefon);\r\n            Map&lt;String, Object&gt; info1 = jdbcTemplate.queryForMap(query,telefon);\r\n           // return info1;\r\n          \r\n           String query2 = &quot;select cif, den_client from b101_conturi where telefon=?&quot;;\r\n           JdbcTemplate jdbcTemplate2 = new JdbcTemplate(this.inregIvg);\r\n           Map&lt;String, Object&gt; info2 = jdbcTemplate.queryForMap(query2,telefon);\r\n           \r\n          if(info2.isEmpty()) {\r\n              return info1;\r\n          } else {\r\n              return info2;\r\n          }\r\n           \r\n        \r\n           }\r\n        \r\n        \r\n        public Map&lt;String, Object&gt; findByEmail(String email) {\r\n            \r\n            \r\n            \r\n            String query = &quot;select cnp, nume, prenume from utilizatori where upper(email)=upper(?)&quot;;\r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(this.dataSourceMail);\r\n            Map&lt;String, Object&gt; info1 = jdbcTemplate.queryForMap(query, email);\r\n            \r\n            String query2 = &quot;select cif, den_client from b101_conturi where upper(email)=upper(?)&quot;;\r\n            JdbcTemplate jdbcTemplate2 = new JdbcTemplate(this.inregIvg);\r\n            Map&lt;String, Object&gt; info2 = jdbcTemplate2.queryForMap(query2,email);\r\n            \r\n            if(info2.isEmpty()) {\r\n                return info1;\r\n            } else {\r\n                return info1;\r\n            }\r\n    \r\n    \r\n        }\r\n        \r\n        \r\n        public DataSource getDataSourceMail() {\r\n            return dataSourceMail;\r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n\r\nThis is the DbConfig file:\r\n\r\n        package com.example.demo;\r\n    \r\n    import com.zaxxer.hikari.HikariDataSource;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    \r\n    /**\r\n     *\r\n     * @author 40723\r\n     */\r\n    @Configuration\r\n    public class DbConfig {\r\n    \r\n       @Bean\r\n        @Primary\r\n        @ConfigurationProperties(&quot;app.datasource.dsmail&quot;)\r\n        public DataSourceProperties dsmailDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n        @Bean(name=&quot;DSMail&quot;)\r\n        @Primary\r\n        @ConfigurationProperties(&quot;app.datasource.dsmail.configuration&quot;)\r\n        public HikariDataSource dataSourceMail() {\r\n            return dsmailDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n        }\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(&quot;app.datasource.inregivg&quot;)\r\n        public DataSourceProperties inregIvgDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n        @Bean(name = &quot;inregIvg&quot;)\r\n        @ConfigurationProperties(&quot;app.datasource.inregivg.configuration&quot;)\r\n        public HikariDataSource dataSourceInregIvg() {\r\n            return inregIvgDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n        }\r\n        \r\n    \r\n    }\r\n\r\nAnd here are the application properties:\r\n\r\n    app.datasource.dsmail.username=xxx\r\n    app.datasource.dsmail.password=xxx\r\n    app.datasource.dsmail.url=dburl:123\r\n    app.datasource.dsmail.driver-class-name=oracle.jdbc.OracleDriver\r\n    app.datasource.dsmail.configuration.pool-name=DSMailPool\r\n    app.datasource.dsmail.configuration.auto-commit=false\r\n    \r\n    app.datasource.inregivg.username=yyy\r\n    app.datasource.inregivg.password=yyy\r\n    app.datasource.inregivg.url=dburl2:321\r\n    app.datasource.inregivg.driver-class-name=oracle.jdbc.OracleDriver\r\n    app.datasource.inregivg.configuration.pool-name=DSInregivgPool\r\n    app.datasource.inregivg.configuration.auto-commit=false\r\n\r\nI have changed the user, pass, and url of application props because of security reasons.\r\n\r\nCan you tell me what I am doing wrong ? \r\n\r\nThe error that I get is:\r\n\r\n        This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Mon Mar 21 12:00:20 EET 2022\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    PreparedStatementCallback; bad SQL grammar [select cif, den_client from b101_conturi where telefon=?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\r\n    org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [select cif, den_client from b101_conturi where telefon=?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\r\n    \r\n    \tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:879)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.queryForMap(JdbcTemplate.java:916)\r\n    \tat com.example.demo.TelefonMailRepositoryImpl.findByNumber(TelefonMailRepositoryImpl.java:56)\r\n    \tat com.example.demo.TelefonMailRepositoryImpl$$FastClassBySpringCGLIB$$ecef6002.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n    \tat com.example.demo.TelefonMailRepositoryImpl$$EnhancerBySpringCGLIB$$637cc014.findByNumber(&lt;generated&gt;)\r\n    \tat com.example.demo.TelefonMailService.getRaspuns(TelefonMailService.java:25)\r\n    \tat com.example.demo.TelefonMailController.postDbRequest(TelefonMailController.java:36)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\r\n    \r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\r\n    \tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1151)\r\n    \tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:771)\r\n    \tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\r\n    \tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:152)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:937)\r\n    \tat oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1172)\r\n    \tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1101)\r\n    \tat oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1426)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1309)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3746)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3855)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1098)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:722)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n    \t... 71 more\r\n    Caused by: Error : 942, Position : 28, Sql = select cif, den_client from b101_conturi where telefon=:1 , OriginalSql = select cif, den_client from b101_conturi where telefon=?, Error Msg = ORA-00942: table or view does not exist\r\n    \r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\r\n    \t... 89 more\r\n\r\n\r\nJust as a reminder with one connection it works it retrieves the desired info but with two datasources it does not work. I made the select that spits the error in Toad and it works so the tabvle exists. Thanks in advance. Have a nice day !\r\n","title":"Spring MVC with multiple database connections","body":"<p>Hello I am building my first Spring MVC and Thymeleaf web app and I do not know how to connect to two different Oracle databases. I managed to connect to just one.</p>\n<p>Here is the code:</p>\n<p>Repository code:</p>\n<pre><code>    package com.example.demo;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport javax.sql.DataSource;\n \nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.dao.DataAccessException;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.RowMapper;\nimport org.springframework.stereotype.Repository;\n\n/**\n *\n * @author 40723\n */\n@Repository\npublic class TelefonMailRepositoryImpl implements TelefonMailRepository {\n    \n    \n private final DataSource dataSourceMail;\n private final DataSource inregIvg;   \n \n public TelefonMailRepositoryImpl(DataSource dataSourceMail, @Qualifier(&quot;inregIvg&quot;) DataSource inregIvg) {\n        this.dataSourceMail = dataSourceMail;\n        this.inregIvg = inregIvg;\n\n    }\n    \n\n \n \n  public Map&lt;String, Object&gt; findByNumber(String telefon) {\n      \n        Map&lt;String, Object&gt; toateTel;\n      \n        String query = &quot;select cnp, nume, prenume from utilizatori where telefon=?&quot;;\n       JdbcTemplate jdbcTemplate = new JdbcTemplate(this.dataSourceMail);\n        jdbcTemplate.queryForMap(query,telefon);\n        Map&lt;String, Object&gt; info1 = jdbcTemplate.queryForMap(query,telefon);\n       // return info1;\n      \n       String query2 = &quot;select cif, den_client from b101_conturi where telefon=?&quot;;\n       JdbcTemplate jdbcTemplate2 = new JdbcTemplate(this.inregIvg);\n       Map&lt;String, Object&gt; info2 = jdbcTemplate.queryForMap(query2,telefon);\n       \n      if(info2.isEmpty()) {\n          return info1;\n      } else {\n          return info2;\n      }\n       \n    \n       }\n    \n    \n    public Map&lt;String, Object&gt; findByEmail(String email) {\n        \n        \n        \n        String query = &quot;select cnp, nume, prenume from utilizatori where upper(email)=upper(?)&quot;;\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(this.dataSourceMail);\n        Map&lt;String, Object&gt; info1 = jdbcTemplate.queryForMap(query, email);\n        \n        String query2 = &quot;select cif, den_client from b101_conturi where upper(email)=upper(?)&quot;;\n        JdbcTemplate jdbcTemplate2 = new JdbcTemplate(this.inregIvg);\n        Map&lt;String, Object&gt; info2 = jdbcTemplate2.queryForMap(query2,email);\n        \n        if(info2.isEmpty()) {\n            return info1;\n        } else {\n            return info1;\n        }\n\n\n    }\n    \n    \n    public DataSource getDataSourceMail() {\n        return dataSourceMail;\n    }\n    \n    \n    \n}\n</code></pre>\n<p>This is the DbConfig file:</p>\n<pre><code>    package com.example.demo;\n\nimport com.zaxxer.hikari.HikariDataSource;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\n\n/**\n *\n * @author 40723\n */\n@Configuration\npublic class DbConfig {\n\n   @Bean\n    @Primary\n    @ConfigurationProperties(&quot;app.datasource.dsmail&quot;)\n    public DataSourceProperties dsmailDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name=&quot;DSMail&quot;)\n    @Primary\n    @ConfigurationProperties(&quot;app.datasource.dsmail.configuration&quot;)\n    public HikariDataSource dataSourceMail() {\n        return dsmailDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;app.datasource.inregivg&quot;)\n    public DataSourceProperties inregIvgDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = &quot;inregIvg&quot;)\n    @ConfigurationProperties(&quot;app.datasource.inregivg.configuration&quot;)\n    public HikariDataSource dataSourceInregIvg() {\n        return inregIvgDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\n    }\n    \n\n}\n</code></pre>\n<p>And here are the application properties:</p>\n<pre><code>app.datasource.dsmail.username=xxx\napp.datasource.dsmail.password=xxx\napp.datasource.dsmail.url=dburl:123\napp.datasource.dsmail.driver-class-name=oracle.jdbc.OracleDriver\napp.datasource.dsmail.configuration.pool-name=DSMailPool\napp.datasource.dsmail.configuration.auto-commit=false\n\napp.datasource.inregivg.username=yyy\napp.datasource.inregivg.password=yyy\napp.datasource.inregivg.url=dburl2:321\napp.datasource.inregivg.driver-class-name=oracle.jdbc.OracleDriver\napp.datasource.inregivg.configuration.pool-name=DSInregivgPool\napp.datasource.inregivg.configuration.auto-commit=false\n</code></pre>\n<p>I have changed the user, pass, and url of application props because of security reasons.</p>\n<p>Can you tell me what I am doing wrong ?</p>\n<p>The error that I get is:</p>\n<pre><code>    This application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nMon Mar 21 12:00:20 EET 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\nPreparedStatementCallback; bad SQL grammar [select cif, den_client from b101_conturi where telefon=?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\norg.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [select cif, den_client from b101_conturi where telefon=?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\n\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\n    at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:879)\n    at org.springframework.jdbc.core.JdbcTemplate.queryForMap(JdbcTemplate.java:916)\n    at com.example.demo.TelefonMailRepositoryImpl.findByNumber(TelefonMailRepositoryImpl.java:56)\n    at com.example.demo.TelefonMailRepositoryImpl$$FastClassBySpringCGLIB$$ecef6002.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at com.example.demo.TelefonMailRepositoryImpl$$EnhancerBySpringCGLIB$$637cc014.findByNumber(&lt;generated&gt;)\n    at com.example.demo.TelefonMailService.getRaspuns(TelefonMailService.java:25)\n    at com.example.demo.TelefonMailController.postDbRequest(TelefonMailController.java:36)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1151)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:771)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:152)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:937)\n    at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1172)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1101)\n    at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1426)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1309)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3746)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3855)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1098)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:722)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n    ... 71 more\nCaused by: Error : 942, Position : 28, Sql = select cif, den_client from b101_conturi where telefon=:1 , OriginalSql = select cif, den_client from b101_conturi where telefon=?, Error Msg = ORA-00942: table or view does not exist\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\n    ... 89 more\n</code></pre>\n<p>Just as a reminder with one connection it works it retrieves the desired info but with two datasources it does not work. I made the select that spits the error in Toad and it works so the tabvle exists. Thanks in advance. Have a nice day !</p>\n"},{"tags":["java","maven","keycloak","noclassdeffounderror","jackson-databind"],"comments":[{"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"score":0,"creation_date":1647852265,"post_id":71554631,"comment_id":126466025,"body_markdown":"can please add you pom file details. what version you are using for fasterxml databind?","body":"can please add you pom file details. what version you are using for fasterxml databind?"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1647857637,"post_id":71554631,"comment_id":126467879,"body_markdown":"so it&#39;s the conflict between all these different version causing the problem?","body":"so it&#39;s the conflict between all these different version causing the problem?"},{"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"score":1,"creation_date":1647870679,"post_id":71554631,"comment_id":126472899,"body_markdown":"Yes, [here](https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/jsontype/PolymorphicTypeValidator.html) they have mentioned that PolymorphicTypeValidator is available from 2.10 but you are using 2.9.8","body":"Yes, <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/jsontype/PolymorphicTypeValidator.html\" rel=\"nofollow noreferrer\">here</a> they have mentioned that PolymorphicTypeValidator is available from 2.10 but you are using 2.9.8"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647862145,"creation_date":1647851074,"question_id":71554631,"body_markdown":"EDIT: Just realised it&#39;s caused by a `ClassNotFoundException`, would still like some help.\r\n\r\nI&#39;m trying to update keycloak from version `12.0.3 ` to version `13.0.0`, however when I make that change I get the following error:  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/jsontype/PolymorphicTypeValidator\r\n    \tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\r\n    \tat java.lang.Class.getConstructors(Class.java:1651)\r\n    \tat org.jboss.resteasy.util.PickConstructor.pickSingletonConstructor(PickConstructor.java:30)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.createConstructorInjector(ResteasyProviderFactory.java:2821)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2813)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:1048)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1821)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.register(ResteasyProviderFactory.java:3026)\r\n    \tat org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.register(ResteasyClientBuilder.java:559)\r\n    \tat org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.register(ResteasyClientBuilder.java:48)\r\n    \tat org.keycloak.admin.client.Keycloak.newRestEasyClient(Keycloak.java:71)\r\n    \tat org.keycloak.admin.client.Keycloak.&lt;init&gt;(Keycloak.java:53)\r\n    \tat org.keycloak.admin.client.KeycloakBuilder.build(KeycloakBuilder.java:147)\r\n    \tat socsan.myapp.v1.mymodule.keycloak.KeycloakUserManager.createKeycloakInstance(KeycloakUserManager.java:187)\r\n    \tat socsan.myapp.v1.mymodule.keycloak.KeycloakUserManager.&lt;init&gt;(KeycloakUserManager.java:36)\r\n    \tat socsan.myapp.v1.mymodule.mymodule.startServices(mymodule.java:51)\r\n    \tat socsan.myapp.common.lifecycle.ProcessStarter.runStartupTasks(ProcessStarter.java:61)\r\n    \tat socsan.myapp.common.lifecycle.ProcessStarter.start(ProcessStarter.java:48)\r\n    \tat socsan.myapp.v1.mymodule.mymodule.main(mymodule.java:34)\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.jsontype.PolymorphicTypeValidator\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 20 more\r\n\r\nI tried updating the fasterxml databind package too, but it didn&#39;t make any difference.   \r\n\r\nI noticed that the path to the correct jar in the maven repository is different to the path in the error. \r\nIn the maven repository there are stored at `com/fasterxml/jackson/core/databind`. \r\nDoes that have any baring on the issue?   \r\nHow can I fix this?    \r\n\r\nEDIT 2: \r\nIn the parent pom we have this:  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe only change made to the module pom was to increase the version as stated above.  \r\n\r\nlooking at the dependency analyser for `jackson-databind` it does look a bit of a mess, I should also point out that we&#39;re using the maven shade plugin: \r\n[![dependency analyser for jackson-databind package][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0T3Q6.png","title":"How do I fix NoClassDefFoundError, the class path in the error is incorrect, but it&#39;s not in code I&#39;ve written","body":"<p>EDIT: Just realised it's caused by a <code>ClassNotFoundException</code>, would still like some help.</p>\n<p>I'm trying to update keycloak from version <code>12.0.3 </code> to version <code>13.0.0</code>, however when I make that change I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/jsontype/PolymorphicTypeValidator\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\n    at java.lang.Class.getConstructors(Class.java:1651)\n    at org.jboss.resteasy.util.PickConstructor.pickSingletonConstructor(PickConstructor.java:30)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.createConstructorInjector(ResteasyProviderFactory.java:2821)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2813)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:1048)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1821)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.register(ResteasyProviderFactory.java:3026)\n    at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.register(ResteasyClientBuilder.java:559)\n    at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.register(ResteasyClientBuilder.java:48)\n    at org.keycloak.admin.client.Keycloak.newRestEasyClient(Keycloak.java:71)\n    at org.keycloak.admin.client.Keycloak.&lt;init&gt;(Keycloak.java:53)\n    at org.keycloak.admin.client.KeycloakBuilder.build(KeycloakBuilder.java:147)\n    at socsan.myapp.v1.mymodule.keycloak.KeycloakUserManager.createKeycloakInstance(KeycloakUserManager.java:187)\n    at socsan.myapp.v1.mymodule.keycloak.KeycloakUserManager.&lt;init&gt;(KeycloakUserManager.java:36)\n    at socsan.myapp.v1.mymodule.mymodule.startServices(mymodule.java:51)\n    at socsan.myapp.common.lifecycle.ProcessStarter.runStartupTasks(ProcessStarter.java:61)\n    at socsan.myapp.common.lifecycle.ProcessStarter.start(ProcessStarter.java:48)\n    at socsan.myapp.v1.mymodule.mymodule.main(mymodule.java:34)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.jsontype.PolymorphicTypeValidator\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 20 more\n</code></pre>\n<p>I tried updating the fasterxml databind package too, but it didn't make any difference.</p>\n<p>I noticed that the path to the correct jar in the maven repository is different to the path in the error.\nIn the maven repository there are stored at <code>com/fasterxml/jackson/core/databind</code>.\nDoes that have any baring on the issue?<br />\nHow can I fix this?</p>\n<p>EDIT 2:\nIn the parent pom we have this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The only change made to the module pom was to increase the version as stated above.</p>\n<p>looking at the dependency analyser for <code>jackson-databind</code> it does look a bit of a mess, I should also point out that we're using the maven shade plugin:\n<a href=\"https://i.stack.imgur.com/0T3Q6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0T3Q6.png\" alt=\"dependency analyser for jackson-databind package\" /></a></p>\n"},{"tags":["java","python","python-2.7","apache-spark","pyspark"],"comments":[{"owner":{"account_id":2838125,"reputation":2368,"user_id":3968028,"accept_rate":67,"display_name":"Dat Tran"},"score":0,"creation_date":1494316338,"post_id":43863569,"comment_id":74763397,"body_markdown":"How are your `spark_envs`defined like `SPARK_HOME`?","body":"How are your <code>spark_envs</code>defined like <code>SPARK_HOME</code>?"},{"owner":{"account_id":5299244,"reputation":343,"user_id":4229455,"accept_rate":71,"display_name":"Rahul Poddar"},"score":0,"creation_date":1494318416,"post_id":43863569,"comment_id":74764713,"body_markdown":"Added @DatTran, any unlikely bugs here?","body":"Added @DatTran, any unlikely bugs here?"},{"owner":{"account_id":2838125,"reputation":2368,"user_id":3968028,"accept_rate":67,"display_name":"Dat Tran"},"score":0,"creation_date":1494319175,"post_id":43863569,"comment_id":74765222,"body_markdown":"It doesn&#39;t help anything if you post code that is from Spark itself like `java_gateway.py` and `load-spark.env`... There are no bugs. The error is most likely due to your settings. What I mean is how did you set your `export SPARK_HOME=.../apache-spark/2.x.x./libexec` and what java version are you using...","body":"It doesn&#39;t help anything if you post code that is from Spark itself like <code>java_gateway.py</code> and <code>load-spark.env</code>... There are no bugs. The error is most likely due to your settings. What I mean is how did you set your <code>export SPARK_HOME=...&#47;apache-spark&#47;2.x.x.&#47;libexec</code> and what java version are you using..."},{"owner":{"account_id":5299244,"reputation":343,"user_id":4229455,"accept_rate":71,"display_name":"Rahul Poddar"},"score":0,"creation_date":1494319931,"post_id":43863569,"comment_id":74765718,"body_markdown":"I am using Standard Edition Runtime Environment Version 7 of Java. Also, updated my question with the SPARK_HOME settings that I have used in my python IDE","body":"I am using Standard Edition Runtime Environment Version 7 of Java. Also, updated my question with the SPARK_HOME settings that I have used in my python IDE"}],"answers":[{"tags":[],"owner":{"account_id":2838125,"reputation":2368,"user_id":3968028,"accept_rate":67,"display_name":"Dat Tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494355563,"creation_date":1494355563,"answer_id":43877640,"question_id":43863569,"body_markdown":"From my &quot;guess&quot; this is a problem with your java version. Maybe you have two different java version installed. Also it looks like you are using code that you copy and paste from somewhere for setting the `SPARK_HOME`etc.. There are many simple examples how to set up Spark. Also it looks like that you are using Windows. I would suggest to take a *NIX environment to test things as this is much easier e.g. you could use `brew` to install Spark. Windows is not really made for this...","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>From my \"guess\" this is a problem with your java version. Maybe you have two different java version installed. Also it looks like you are using code that you copy and paste from somewhere for setting the <code>SPARK_HOME</code>etc.. There are many simple examples how to set up Spark. Also it looks like that you are using Windows. I would suggest to take a *NIX environment to test things as this is much easier e.g. you could use <code>brew</code> to install Spark. Windows is not really made for this...</p>\n"},{"tags":[],"owner":{"account_id":11412895,"reputation":11,"user_id":8366508,"display_name":"Juan Mora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501022614,"creation_date":1501022614,"answer_id":45314670,"question_id":43863569,"body_markdown":"I had the exact same issue after playing around with my JAVA_HOME system environmental variables on Windows 10 using python 2.7: I tried to run the same configuration script for Pyspark (Based on the V2-Maestros Udemy course) with the same error message &quot;Java gateway process exited before sending the driver its port number&quot;.\r\n\r\nAfter several attempts to fix the problem, the only solution that ended up working was to uninstall all versions of java (had three of them) from my machine, and deleting the JAVA_HOME system variable as well as the record from the PATH system variable related to JAVA_HOME; after that I performed a clean installation of Java jre V1.8.0_141, reconfigured both the JAVA_HOME and PATH entries in the system environment for Windows and restarted my machine and finally got the script to work.\r\n\r\nHope this helps. ","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>I had the exact same issue after playing around with my JAVA_HOME system environmental variables on Windows 10 using python 2.7: I tried to run the same configuration script for Pyspark (Based on the V2-Maestros Udemy course) with the same error message \"Java gateway process exited before sending the driver its port number\".</p>\n\n<p>After several attempts to fix the problem, the only solution that ended up working was to uninstall all versions of java (had three of them) from my machine, and deleting the JAVA_HOME system variable as well as the record from the PATH system variable related to JAVA_HOME; after that I performed a clean installation of Java jre V1.8.0_141, reconfigured both the JAVA_HOME and PATH entries in the system environment for Windows and restarted my machine and finally got the script to work.</p>\n\n<p>Hope this helps. </p>\n"},{"tags":[],"owner":{"account_id":1305173,"reputation":609,"user_id":1254285,"accept_rate":67,"display_name":"Rustam Aliyev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1504448627,"creation_date":1504448627,"answer_id":46024377,"question_id":43863569,"body_markdown":"After reading many posts I finally made Spark work on my Windows laptop. I use Anaconda Python, but I am sure this will work with standard distibution too.\r\n\r\nSo, you need to make sure you can run Spark independently. My assumptions are that you have valid python path and Java installed. For Java I had &quot;C:\\ProgramData\\Oracle\\Java\\javapath&quot; defined in my Path which redirects to my Java8 bin folder.\r\n\r\n 1. Download pre-built Hadoop version of Spark from https://spark.apache.org/downloads.html and extract it, e.g. to C:\\spark-2.2.0-bin-hadoop2.7\r\n 2. Create Environmental variable SPARK_HOME which you will need later for pyspark to pick up your local Spark installation.\r\n 3. Go to %SPARK_HOME%\\bin and try to run pyspark which is Python Spark shell. If your environment is like mine you will see exeption about inability to find winutils and hadoop. Second exception will be about missing Hive:\r\n\r\n    pyspark.sql.utils.IllegalArgumentException: u&quot;Error while instantiating &#39;org.apache.spark.sql.hive.HiveSessionStateBuilder&#39;:&quot;\r\n\r\n 4. I then found and simply followed https://jaceklaskowski.gitbooks.io/mastering-apache-spark/spark-tips-and-tricks-running-spark-windows.html \r\nSpecifically:\r\n 5. Download winutils, put it to c:\\hadoop\\bin . Create HADOOP_HOME env and add %HADOOP_HOME%\\bin to PATH.\r\n 6. Create directory for Hive, e.g. c:\\tmp\\hive and run `winutils.exe chmod -R 777 C:\\tmp\\hive` in cmd in admin mode.\r\n 7. Then go to %SPARK_HOME%\\bin and make sure when you run pyspark you see a nice following Spark logo in ASCII:[![enter image description here][1]][1]\r\nNote that sc spark context variable needs to be defined already.\r\n 8. Well, my main purpose was to have pyspark with auto completion in my IDE, and that&#39;s when SPARK_HOME (Step 2) comes into play. If everything is setup correctly, you should see the following lines working:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHope that helps and you can enjoy running Spark code locally.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0HbOK.png\r\n  [2]: https://i.stack.imgur.com/mXmNE.png","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>After reading many posts I finally made Spark work on my Windows laptop. I use Anaconda Python, but I am sure this will work with standard distibution too.</p>\n\n<p>So, you need to make sure you can run Spark independently. My assumptions are that you have valid python path and Java installed. For Java I had \"C:\\ProgramData\\Oracle\\Java\\javapath\" defined in my Path which redirects to my Java8 bin folder.</p>\n\n<ol>\n<li>Download pre-built Hadoop version of Spark from <a href=\"https://spark.apache.org/downloads.html\" rel=\"noreferrer\">https://spark.apache.org/downloads.html</a> and extract it, e.g. to C:\\spark-2.2.0-bin-hadoop2.7</li>\n<li>Create Environmental variable SPARK_HOME which you will need later for pyspark to pick up your local Spark installation.</li>\n<li><p>Go to %SPARK_HOME%\\bin and try to run pyspark which is Python Spark shell. If your environment is like mine you will see exeption about inability to find winutils and hadoop. Second exception will be about missing Hive:</p>\n\n<p>pyspark.sql.utils.IllegalArgumentException: u\"Error while instantiating 'org.apache.spark.sql.hive.HiveSessionStateBuilder':\"</p></li>\n<li><p>I then found and simply followed <a href=\"https://jaceklaskowski.gitbooks.io/mastering-apache-spark/spark-tips-and-tricks-running-spark-windows.html\" rel=\"noreferrer\">https://jaceklaskowski.gitbooks.io/mastering-apache-spark/spark-tips-and-tricks-running-spark-windows.html</a> \nSpecifically:</p></li>\n<li>Download winutils, put it to c:\\hadoop\\bin . Create HADOOP_HOME env and add %HADOOP_HOME%\\bin to PATH.</li>\n<li>Create directory for Hive, e.g. c:\\tmp\\hive and run <code>winutils.exe chmod -R 777 C:\\tmp\\hive</code> in cmd in admin mode.</li>\n<li>Then go to %SPARK_HOME%\\bin and make sure when you run pyspark you see a nice following Spark logo in ASCII:<a href=\"https://i.stack.imgur.com/0HbOK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0HbOK.png\" alt=\"enter image description here\"></a>\nNote that sc spark context variable needs to be defined already.</li>\n<li>Well, my main purpose was to have pyspark with auto completion in my IDE, and that's when SPARK_HOME (Step 2) comes into play. If everything is setup correctly, you should see the following lines working:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/mXmNE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mXmNE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope that helps and you can enjoy running Spark code locally.</p>\n"},{"tags":[],"owner":{"account_id":8788015,"reputation":125,"user_id":6569138,"display_name":"QiuYi"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1520563030,"creation_date":1520563030,"answer_id":49185768,"question_id":43863569,"body_markdown":"I have the same problem.  \r\nLuckily I found the reason.\r\n\r\n    from pyspark.sql import SparkSession\r\n    # spark = SparkSession.builder.appName(&#39;Check Pyspark&#39;).master(&quot;local&quot;).getOrCreate()\r\n    spark = SparkSession.builder.appName(&#39;CheckPyspark&#39;).master(&quot;local&quot;).getOrCreate()\r\n    print spark.sparkContext.parallelize(range(6), 3).collect()\r\nNotice the difference between the second line and the third line.  \r\nIf the parameter after the AppName like this &#39;Check Pyspark&#39;,you will get error(Exception: Java gateway process...).  \r\nThe parameter after the AppName can not has blank space. Should chagne &#39;Check Pyspark&#39; to &#39;CheckPyspark&#39;.","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>I have the same problem.<br>\nLuckily I found the reason.</p>\n\n<pre><code>from pyspark.sql import SparkSession\n# spark = SparkSession.builder.appName('Check Pyspark').master(\"local\").getOrCreate()\nspark = SparkSession.builder.appName('CheckPyspark').master(\"local\").getOrCreate()\nprint spark.sparkContext.parallelize(range(6), 3).collect()\n</code></pre>\n\n<p>Notice the difference between the second line and the third line.<br>\nIf the parameter after the AppName like this 'Check Pyspark',you will get error(Exception: Java gateway process...).<br>\nThe parameter after the AppName can not has blank space. Should chagne 'Check Pyspark' to 'CheckPyspark'.</p>\n"},{"tags":[],"owner":{"account_id":9085512,"reputation":541,"user_id":6763678,"display_name":"bhargav3vedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647862081,"creation_date":1647862081,"answer_id":71556866,"question_id":43863569,"body_markdown":"Spark will not work fine with java version greater than 11, downgrade java to version 8 or 11 and set JAVA_HOME.","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>Spark will not work fine with java version greater than 11, downgrade java to version 8 or 11 and set JAVA_HOME.</p>\n"}],"owner":{"account_id":5299244,"reputation":343,"user_id":4229455,"accept_rate":71,"display_name":"Rahul Poddar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37664,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1647862081,"creation_date":1494314417,"question_id":43863569,"body_markdown":"So, I am trying to create a Spark session in Python 2.7 using the following:\r\n\r\n    #Initialize SparkSession and SparkContext\r\n    from pyspark.sql import SparkSession  \r\n    from pyspark import SparkContext\r\n    \r\n    #Create a Spark Session\r\n    SpSession = SparkSession \\\r\n        .builder \\\r\n        .master(&quot;local[2]&quot;) \\\r\n        .appName(&quot;V2 Maestros&quot;) \\\r\n        .config(&quot;spark.executor.memory&quot;, &quot;1g&quot;) \\\r\n        .config(&quot;spark.cores.max&quot;,&quot;2&quot;) \\\r\n        .config(&quot;spark.sql.warehouse.dir&quot;, &quot;file:///c:/temp/spark-warehouse&quot;)\\\r\n        .getOrCreate()\r\n        \r\n    #Get the Spark Context from Spark Session    \r\n    SpContext = SpSession.sparkContext\r\n\r\nI get the following error pointing to the `python\\lib\\pyspark.zip\\pyspark\\java_gateway.py `path`\r\n\r\n    Exception: Java gateway process exited before sending the driver its port number\r\n\r\nTried to look into the java_gateway.py file, with the following contents:\r\n\r\n    import atexit\r\n    import os\r\n    import sys\r\n    import select\r\n    import signal\r\n    import shlex\r\n    import socket\r\n    import platform\r\n    from subprocess import Popen, PIPE\r\n    \r\n    if sys.version &gt;= &#39;3&#39;:\r\n        xrange = range\r\n    \r\n    from py4j.java_gateway import java_import, JavaGateway, GatewayClient\r\n    from py4j.java_collections import ListConverter\r\n    \r\n    from pyspark.serializers import read_int\r\n    \r\n    \r\n    # patching ListConverter, or it will convert bytearray into Java ArrayList\r\n    def can_convert_list(self, obj):\r\n        return isinstance(obj, (list, tuple, xrange))\r\n    \r\n    ListConverter.can_convert = can_convert_list\r\n    \r\n    \r\n    def launch_gateway():\r\n        if &quot;PYSPARK_GATEWAY_PORT&quot; in os.environ:\r\n            gateway_port = int(os.environ[&quot;PYSPARK_GATEWAY_PORT&quot;])\r\n        else:\r\n            SPARK_HOME = os.environ[&quot;SPARK_HOME&quot;]\r\n            # Launch the Py4j gateway using Spark&#39;s run command so that we pick up the\r\n            # proper classpath and settings from spark-env.sh\r\n            on_windows = platform.system() == &quot;Windows&quot;\r\n            script = &quot;./bin/spark-submit.cmd&quot; if on_windows else &quot;./bin/spark-submit&quot;\r\n            submit_args = os.environ.get(&quot;PYSPARK_SUBMIT_ARGS&quot;, &quot;pyspark-shell&quot;)\r\n            if os.environ.get(&quot;SPARK_TESTING&quot;):\r\n                submit_args = &#39; &#39;.join([\r\n                    &quot;--conf spark.ui.enabled=false&quot;,\r\n                    submit_args\r\n                ])\r\n            command = [os.path.join(SPARK_HOME, script)] + shlex.split(submit_args)\r\n    \r\n            # Start a socket that will be used by PythonGatewayServer to communicate its port to us\r\n            callback_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\n            callback_socket.bind((&#39;127.0.0.1&#39;, 0))\r\n            callback_socket.listen(1)\r\n            callback_host, callback_port = callback_socket.getsockname()\r\n            env = dict(os.environ)\r\n            env[&#39;_PYSPARK_DRIVER_CALLBACK_HOST&#39;] = callback_host\r\n            env[&#39;_PYSPARK_DRIVER_CALLBACK_PORT&#39;] = str(callback_port)\r\n    \r\n            # Launch the Java gateway.\r\n            # We open a pipe to stdin so that the Java gateway can die when the pipe is broken\r\n            if not on_windows:\r\n                # Don&#39;t send ctrl-c / SIGINT to the Java gateway:\r\n                def preexec_func():\r\n                    signal.signal(signal.SIGINT, signal.SIG_IGN)\r\n                proc = Popen(command, stdin=PIPE, preexec_fn=preexec_func, env=env)\r\n            else:\r\n                # preexec_fn not supported on Windows\r\n                proc = Popen(command, stdin=PIPE, env=env)\r\n    \r\n            gateway_port = None\r\n            # We use select() here in order to avoid blocking indefinitely if the subprocess dies\r\n            # before connecting\r\n            while gateway_port is None and proc.poll() is None:\r\n                timeout = 1  # (seconds)\r\n                readable, _, _ = select.select([callback_socket], [], [], timeout)\r\n                if callback_socket in readable:\r\n                    gateway_connection = callback_socket.accept()[0]\r\n                    # Determine which ephemeral port the server started on:\r\n                    gateway_port = read_int(gateway_connection.makefile(mode=&quot;rb&quot;))\r\n                    gateway_connection.close()\r\n                    callback_socket.close()\r\n            if gateway_port is None:\r\n                raise Exception(&quot;Java gateway process exited before sending the driver its port number&quot;)\r\n    \r\n            # In Windows, ensure the Java child processes do not linger after Python has exited.\r\n            # In UNIX-based systems, the child process can kill itself on broken pipe (i.e. when\r\n            # the parent process&#39; stdin sends an EOF). In Windows, however, this is not possible\r\n            # because java.lang.Process reads directly from the parent process&#39; stdin, contending\r\n            # with any opportunity to read an EOF from the parent. Note that this is only best\r\n            # effort and will not take effect if the python process is violently terminated.\r\n            if on_windows:\r\n                # In Windows, the child process here is &quot;spark-submit.cmd&quot;, not the JVM itself\r\n                # (because the UNIX &quot;exec&quot; command is not available). This means we cannot simply\r\n                # call proc.kill(), which kills only the &quot;spark-submit.cmd&quot; process but not the\r\n                # JVMs. Instead, we use &quot;taskkill&quot; with the tree-kill option &quot;/t&quot; to terminate all\r\n                # child processes in the tree (http://technet.microsoft.com/en-us/library/bb491009.aspx)\r\n                def killChild():\r\n                    Popen([&quot;cmd&quot;, &quot;/c&quot;, &quot;taskkill&quot;, &quot;/f&quot;, &quot;/t&quot;, &quot;/pid&quot;, str(proc.pid)])\r\n                atexit.register(killChild)\r\n    \r\n        # Connect to the gateway\r\n        gateway = JavaGateway(GatewayClient(port=gateway_port), auto_convert=True)\r\n    \r\n        # Import the classes used by PySpark\r\n        java_import(gateway.jvm, &quot;org.apache.spark.SparkConf&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.api.java.*&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.api.python.*&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.ml.python.*&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.mllib.api.python.*&quot;)\r\n        # TODO(davies): move into sql\r\n        java_import(gateway.jvm, &quot;org.apache.spark.sql.*&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.sql.hive.*&quot;)\r\n        java_import(gateway.jvm, &quot;scala.Tuple2&quot;)\r\n    \r\n        return gateway\r\nI am pretty new to Spark and Pyspark, hence unable to debug the issue here. I also tried to look at some other suggestions:\r\nhttps://stackoverflow.com/questions/31825911/spark-python-java-gateway-process-exited-before-sending-the-driver-its-port\r\nand\r\nhttps://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po\r\n\r\nbut unable to resolve this so far. Please help!\r\n\r\nHere is how the spark environment looks like:\r\n\r\n    # This script loads spark-env.sh if it exists, and ensures it is only loaded once.\r\n    # spark-env.sh is loaded from SPARK_CONF_DIR if set, or within the current directory&#39;s\r\n    # conf/ subdirectory.\r\n    \r\n    # Figure out where Spark is installed\r\n    if [ -z &quot;${SPARK_HOME}&quot; ]; then\r\n      export SPARK_HOME=&quot;$(cd &quot;`dirname &quot;$0&quot;`&quot;/..; pwd)&quot;\r\n    fi\r\n    \r\n    if [ -z &quot;$SPARK_ENV_LOADED&quot; ]; then\r\n      export SPARK_ENV_LOADED=1\r\n    \r\n      # Returns the parent of the directory this script lives in.\r\n      parent_dir=&quot;${SPARK_HOME}&quot;\r\n    \r\n      user_conf_dir=&quot;${SPARK_CONF_DIR:-&quot;$parent_dir&quot;/conf}&quot;\r\n    \r\n      if [ -f &quot;${user_conf_dir}/spark-env.sh&quot; ]; then\r\n        # Promote all variable declarations to environment (exported) variables\r\n        set -a\r\n        . &quot;${user_conf_dir}/spark-env.sh&quot;\r\n        set +a\r\n      fi\r\n    fi\r\n    \r\n    # Setting SPARK_SCALA_VERSION if not already set.\r\n    \r\n    if [ -z &quot;$SPARK_SCALA_VERSION&quot; ]; then\r\n    \r\n      ASSEMBLY_DIR2=&quot;${SPARK_HOME}/assembly/target/scala-2.11&quot;\r\n      ASSEMBLY_DIR1=&quot;${SPARK_HOME}/assembly/target/scala-2.10&quot;\r\n    \r\n      if [[ -d &quot;$ASSEMBLY_DIR2&quot; &amp;&amp; -d &quot;$ASSEMBLY_DIR1&quot; ]]; then\r\n        echo -e &quot;Presence of build for both scala versions(SCALA 2.10 and SCALA 2.11) detected.&quot; 1&gt;&amp;2\r\n        echo -e &#39;Either clean one of them or, export SPARK_SCALA_VERSION=2.11 in spark-env.sh.&#39; 1&gt;&amp;2\r\n        exit 1\r\n      fi\r\n    \r\n      if [ -d &quot;$ASSEMBLY_DIR2&quot; ]; then\r\n        export SPARK_SCALA_VERSION=&quot;2.11&quot;\r\n      else\r\n        export SPARK_SCALA_VERSION=&quot;2.10&quot;\r\n      fi\r\n    fi\r\n\r\nHere is how my Spark environment is set up in Python:\r\n\r\n    import os\r\n    import sys\r\n    \r\n    # NOTE: Please change the folder paths to your current setup.\r\n    #Windows\r\n    if sys.platform.startswith(&#39;win&#39;):\r\n        #Where you downloaded the resource bundle\r\n        os.chdir(&quot;E:/Udemy - Spark/SparkPythonDoBigDataAnalytics-Resources&quot;)\r\n        #Where you installed spark.    \r\n        os.environ[&#39;SPARK_HOME&#39;] = &#39;E:/Udemy - Spark/Apache Spark/spark-2.0.0-bin-hadoop2.7&#39;\r\n    #other platforms - linux/mac\r\n    else:\r\n        os.chdir(&quot;/Users/kponnambalam/Dropbox/V2Maestros/Modules/Apache Spark/Python&quot;)\r\n        os.environ[&#39;SPARK_HOME&#39;] = &#39;/users/kponnambalam/products/spark-2.0.0-bin-hadoop2.7&#39;\r\n    \r\n    os.curdir\r\n    \r\n    # Create a variable for our root path\r\n    SPARK_HOME = os.environ[&#39;SPARK_HOME&#39;]\r\n    # Create a variable for our root path\r\n    SPARK_HOME = os.environ[&#39;SPARK_HOME&#39;]\r\n    \r\n    #Add the following paths to the system path. Please check your installation\r\n    #to make sure that these zip files actually exist. The names might change\r\n    #as versions change.\r\n    sys.path.insert(0,os.path.join(SPARK_HOME,&quot;python&quot;))\r\n    sys.path.insert(0,os.path.join(SPARK_HOME,&quot;python&quot;,&quot;lib&quot;))\r\n    sys.path.insert(0,os.path.join(SPARK_HOME,&quot;python&quot;,&quot;lib&quot;,&quot;pyspark.zip&quot;))\r\n    sys.path.insert(0,os.path.join(SPARK_HOME,&quot;python&quot;,&quot;lib&quot;,&quot;py4j-0.10.1-src.zip&quot;))\r\n    \r\n    #Initialize SparkSession and SparkContext\r\n    from pyspark.sql import SparkSession  \r\n    from pyspark import SparkContext","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>So, I am trying to create a Spark session in Python 2.7 using the following:</p>\n\n<pre><code>#Initialize SparkSession and SparkContext\nfrom pyspark.sql import SparkSession  \nfrom pyspark import SparkContext\n\n#Create a Spark Session\nSpSession = SparkSession \\\n    .builder \\\n    .master(\"local[2]\") \\\n    .appName(\"V2 Maestros\") \\\n    .config(\"spark.executor.memory\", \"1g\") \\\n    .config(\"spark.cores.max\",\"2\") \\\n    .config(\"spark.sql.warehouse.dir\", \"file:///c:/temp/spark-warehouse\")\\\n    .getOrCreate()\n\n#Get the Spark Context from Spark Session    \nSpContext = SpSession.sparkContext\n</code></pre>\n\n<p>I get the following error pointing to the <code>python\\lib\\pyspark.zip\\pyspark\\java_gateway.py</code>path`</p>\n\n<pre><code>Exception: Java gateway process exited before sending the driver its port number\n</code></pre>\n\n<p>Tried to look into the java_gateway.py file, with the following contents:</p>\n\n<pre><code>import atexit\nimport os\nimport sys\nimport select\nimport signal\nimport shlex\nimport socket\nimport platform\nfrom subprocess import Popen, PIPE\n\nif sys.version &gt;= '3':\n    xrange = range\n\nfrom py4j.java_gateway import java_import, JavaGateway, GatewayClient\nfrom py4j.java_collections import ListConverter\n\nfrom pyspark.serializers import read_int\n\n\n# patching ListConverter, or it will convert bytearray into Java ArrayList\ndef can_convert_list(self, obj):\n    return isinstance(obj, (list, tuple, xrange))\n\nListConverter.can_convert = can_convert_list\n\n\ndef launch_gateway():\n    if \"PYSPARK_GATEWAY_PORT\" in os.environ:\n        gateway_port = int(os.environ[\"PYSPARK_GATEWAY_PORT\"])\n    else:\n        SPARK_HOME = os.environ[\"SPARK_HOME\"]\n        # Launch the Py4j gateway using Spark's run command so that we pick up the\n        # proper classpath and settings from spark-env.sh\n        on_windows = platform.system() == \"Windows\"\n        script = \"./bin/spark-submit.cmd\" if on_windows else \"./bin/spark-submit\"\n        submit_args = os.environ.get(\"PYSPARK_SUBMIT_ARGS\", \"pyspark-shell\")\n        if os.environ.get(\"SPARK_TESTING\"):\n            submit_args = ' '.join([\n                \"--conf spark.ui.enabled=false\",\n                submit_args\n            ])\n        command = [os.path.join(SPARK_HOME, script)] + shlex.split(submit_args)\n\n        # Start a socket that will be used by PythonGatewayServer to communicate its port to us\n        callback_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        callback_socket.bind(('127.0.0.1', 0))\n        callback_socket.listen(1)\n        callback_host, callback_port = callback_socket.getsockname()\n        env = dict(os.environ)\n        env['_PYSPARK_DRIVER_CALLBACK_HOST'] = callback_host\n        env['_PYSPARK_DRIVER_CALLBACK_PORT'] = str(callback_port)\n\n        # Launch the Java gateway.\n        # We open a pipe to stdin so that the Java gateway can die when the pipe is broken\n        if not on_windows:\n            # Don't send ctrl-c / SIGINT to the Java gateway:\n            def preexec_func():\n                signal.signal(signal.SIGINT, signal.SIG_IGN)\n            proc = Popen(command, stdin=PIPE, preexec_fn=preexec_func, env=env)\n        else:\n            # preexec_fn not supported on Windows\n            proc = Popen(command, stdin=PIPE, env=env)\n\n        gateway_port = None\n        # We use select() here in order to avoid blocking indefinitely if the subprocess dies\n        # before connecting\n        while gateway_port is None and proc.poll() is None:\n            timeout = 1  # (seconds)\n            readable, _, _ = select.select([callback_socket], [], [], timeout)\n            if callback_socket in readable:\n                gateway_connection = callback_socket.accept()[0]\n                # Determine which ephemeral port the server started on:\n                gateway_port = read_int(gateway_connection.makefile(mode=\"rb\"))\n                gateway_connection.close()\n                callback_socket.close()\n        if gateway_port is None:\n            raise Exception(\"Java gateway process exited before sending the driver its port number\")\n\n        # In Windows, ensure the Java child processes do not linger after Python has exited.\n        # In UNIX-based systems, the child process can kill itself on broken pipe (i.e. when\n        # the parent process' stdin sends an EOF). In Windows, however, this is not possible\n        # because java.lang.Process reads directly from the parent process' stdin, contending\n        # with any opportunity to read an EOF from the parent. Note that this is only best\n        # effort and will not take effect if the python process is violently terminated.\n        if on_windows:\n            # In Windows, the child process here is \"spark-submit.cmd\", not the JVM itself\n            # (because the UNIX \"exec\" command is not available). This means we cannot simply\n            # call proc.kill(), which kills only the \"spark-submit.cmd\" process but not the\n            # JVMs. Instead, we use \"taskkill\" with the tree-kill option \"/t\" to terminate all\n            # child processes in the tree (http://technet.microsoft.com/en-us/library/bb491009.aspx)\n            def killChild():\n                Popen([\"cmd\", \"/c\", \"taskkill\", \"/f\", \"/t\", \"/pid\", str(proc.pid)])\n            atexit.register(killChild)\n\n    # Connect to the gateway\n    gateway = JavaGateway(GatewayClient(port=gateway_port), auto_convert=True)\n\n    # Import the classes used by PySpark\n    java_import(gateway.jvm, \"org.apache.spark.SparkConf\")\n    java_import(gateway.jvm, \"org.apache.spark.api.java.*\")\n    java_import(gateway.jvm, \"org.apache.spark.api.python.*\")\n    java_import(gateway.jvm, \"org.apache.spark.ml.python.*\")\n    java_import(gateway.jvm, \"org.apache.spark.mllib.api.python.*\")\n    # TODO(davies): move into sql\n    java_import(gateway.jvm, \"org.apache.spark.sql.*\")\n    java_import(gateway.jvm, \"org.apache.spark.sql.hive.*\")\n    java_import(gateway.jvm, \"scala.Tuple2\")\n\n    return gateway\n</code></pre>\n\n<p>I am pretty new to Spark and Pyspark, hence unable to debug the issue here. I also tried to look at some other suggestions:\n<a href=\"https://stackoverflow.com/questions/31825911/spark-python-java-gateway-process-exited-before-sending-the-driver-its-port\">Spark + Python - Java gateway process exited before sending the driver its port number?</a>\nand\n<a href=\"https://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po\">Pyspark: Exception: Java gateway process exited before sending the driver its port number</a></p>\n\n<p>but unable to resolve this so far. Please help!</p>\n\n<p>Here is how the spark environment looks like:</p>\n\n<pre><code># This script loads spark-env.sh if it exists, and ensures it is only loaded once.\n# spark-env.sh is loaded from SPARK_CONF_DIR if set, or within the current directory's\n# conf/ subdirectory.\n\n# Figure out where Spark is installed\nif [ -z \"${SPARK_HOME}\" ]; then\n  export SPARK_HOME=\"$(cd \"`dirname \"$0\"`\"/..; pwd)\"\nfi\n\nif [ -z \"$SPARK_ENV_LOADED\" ]; then\n  export SPARK_ENV_LOADED=1\n\n  # Returns the parent of the directory this script lives in.\n  parent_dir=\"${SPARK_HOME}\"\n\n  user_conf_dir=\"${SPARK_CONF_DIR:-\"$parent_dir\"/conf}\"\n\n  if [ -f \"${user_conf_dir}/spark-env.sh\" ]; then\n    # Promote all variable declarations to environment (exported) variables\n    set -a\n    . \"${user_conf_dir}/spark-env.sh\"\n    set +a\n  fi\nfi\n\n# Setting SPARK_SCALA_VERSION if not already set.\n\nif [ -z \"$SPARK_SCALA_VERSION\" ]; then\n\n  ASSEMBLY_DIR2=\"${SPARK_HOME}/assembly/target/scala-2.11\"\n  ASSEMBLY_DIR1=\"${SPARK_HOME}/assembly/target/scala-2.10\"\n\n  if [[ -d \"$ASSEMBLY_DIR2\" &amp;&amp; -d \"$ASSEMBLY_DIR1\" ]]; then\n    echo -e \"Presence of build for both scala versions(SCALA 2.10 and SCALA 2.11) detected.\" 1&gt;&amp;2\n    echo -e 'Either clean one of them or, export SPARK_SCALA_VERSION=2.11 in spark-env.sh.' 1&gt;&amp;2\n    exit 1\n  fi\n\n  if [ -d \"$ASSEMBLY_DIR2\" ]; then\n    export SPARK_SCALA_VERSION=\"2.11\"\n  else\n    export SPARK_SCALA_VERSION=\"2.10\"\n  fi\nfi\n</code></pre>\n\n<p>Here is how my Spark environment is set up in Python:</p>\n\n<pre><code>import os\nimport sys\n\n# NOTE: Please change the folder paths to your current setup.\n#Windows\nif sys.platform.startswith('win'):\n    #Where you downloaded the resource bundle\n    os.chdir(\"E:/Udemy - Spark/SparkPythonDoBigDataAnalytics-Resources\")\n    #Where you installed spark.    \n    os.environ['SPARK_HOME'] = 'E:/Udemy - Spark/Apache Spark/spark-2.0.0-bin-hadoop2.7'\n#other platforms - linux/mac\nelse:\n    os.chdir(\"/Users/kponnambalam/Dropbox/V2Maestros/Modules/Apache Spark/Python\")\n    os.environ['SPARK_HOME'] = '/users/kponnambalam/products/spark-2.0.0-bin-hadoop2.7'\n\nos.curdir\n\n# Create a variable for our root path\nSPARK_HOME = os.environ['SPARK_HOME']\n# Create a variable for our root path\nSPARK_HOME = os.environ['SPARK_HOME']\n\n#Add the following paths to the system path. Please check your installation\n#to make sure that these zip files actually exist. The names might change\n#as versions change.\nsys.path.insert(0,os.path.join(SPARK_HOME,\"python\"))\nsys.path.insert(0,os.path.join(SPARK_HOME,\"python\",\"lib\"))\nsys.path.insert(0,os.path.join(SPARK_HOME,\"python\",\"lib\",\"pyspark.zip\"))\nsys.path.insert(0,os.path.join(SPARK_HOME,\"python\",\"lib\",\"py4j-0.10.1-src.zip\"))\n\n#Initialize SparkSession and SparkContext\nfrom pyspark.sql import SparkSession  \nfrom pyspark import SparkContext\n</code></pre>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1647857104,"post_id":71555699,"comment_id":126467684,"body_markdown":"Well, what is the problem? Please describe what is not working in detail.","body":"Well, what is the problem? Please describe what is not working in detail."},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1647857473,"post_id":71555699,"comment_id":126467815,"body_markdown":"@JustanotherJavaprogrammer add information","body":"@JustanotherJavaprogrammer add information"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1647860362,"post_id":71555699,"comment_id":126468899,"body_markdown":"Have you tried using the css page size `A4 landscape` instead of `A4`?","body":"Have you tried using the css page size <code>A4 landscape</code> instead of <code>A4</code>?"},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1647869844,"post_id":71555699,"comment_id":126472505,"body_markdown":"@mkl yes, same result","body":"@mkl yes, same result"}],"answers":[{"tags":[],"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647861487,"creation_date":1647861487,"answer_id":71556747,"question_id":71555699,"body_markdown":"Can you please try the following code. baseUri is basically a path to the directory that contain resources files like images/CSS.\r\n\r\n    /**\r\n     * Creates the PDF file.\r\n     *\r\n     * @param baseUri the base URI\r\n     * @param src     the path to the source HTML file\r\n     * @param dest    the path to the resulting PDF\r\n     * @throws IOException signals that an I/O exception has occurred.\r\n     */\r\n    public void createPdf(String baseUri, String src, String dest) throws IOException {\r\n        PdfWriter writer = new PdfWriter(dest);\r\n        PdfDocument pdf = new PdfDocument(writer);\r\n        PageSize pageSize = PageSize.A4.rotate();\r\n        pdf.setDefaultPageSize(pageSize);\r\n        ConverterProperties properties = new ConverterProperties();\r\n        properties.setBaseUri(baseUri);\r\n\r\n        HtmlConverter.convertToPdf(new FileInputStream(src), pdf, properties);\r\n    }","title":"How to set page orientation in itextpdf HtmlConverter","body":"<p>Can you please try the following code. baseUri is basically a path to the directory that contain resources files like images/CSS.</p>\n<pre><code>/**\n * Creates the PDF file.\n *\n * @param baseUri the base URI\n * @param src     the path to the source HTML file\n * @param dest    the path to the resulting PDF\n * @throws IOException signals that an I/O exception has occurred.\n */\npublic void createPdf(String baseUri, String src, String dest) throws IOException {\n    PdfWriter writer = new PdfWriter(dest);\n    PdfDocument pdf = new PdfDocument(writer);\n    PageSize pageSize = PageSize.A4.rotate();\n    pdf.setDefaultPageSize(pageSize);\n    ConverterProperties properties = new ConverterProperties();\n    properties.setBaseUri(baseUri);\n\n    HtmlConverter.convertToPdf(new FileInputStream(src), pdf, properties);\n}\n</code></pre>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71556747,"answer_count":1,"score":0,"last_activity_date":1647861487,"creation_date":1647856736,"question_id":71555699,"body_markdown":"In database I store different html templates for pdf.\r\nToday client ask to add landscape oriented template.\r\nWell, now convertation works incorrect:\r\ntemplate is landscape and part of text out of page, because page is vertical oriented.\r\n\r\nI used itextpdf and convertation from html to pdf looks like:\r\n\r\n    public static byte[] convertString(String htmlContent, boolean useDefaultStyles) throws IOException {\r\n    \t\tlog.debug(&quot;html {}&quot;, htmlContent == null? 0: htmlContent.length());\r\n    \t\tbyte[] bytes = new byte[0];\r\n    \t\tif(Strings.isNullOrEmpty(htmlContent)){\r\n    \t\t\treturn bytes;\r\n    \t\t}\r\n    \t\ttry{\r\n    \t\t\tif(useDefaultStyles){\r\n    \t\t\t\thtmlContent = htmlContent.replace(\r\n    \t\t\t\t\t\t&quot;&lt;head&gt;&quot;,\r\n    \t\t\t\t\t\t&quot;&lt;head&gt;\\n&lt;style type=\\&quot;text/css\\&quot;&gt;@page {\\tsize: A4; margin: 0; }&lt;/style&gt;&quot;\r\n    \t\t\t\t);\r\n    \t\t\t}\r\n    \t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\tHtmlConverter.convertToPdf(htmlContent, baos);\r\n    \t\t\tbytes = baos.toByteArray();\r\n    \t\t} catch(Exception e){\r\n    \t\t\tlog.error(&quot;Error converting html to pdf&quot;, e);\r\n    \t\t}\r\n    \t\tlog.debug(&quot;html2pdf {}&quot;, bytes.length);\r\n    \t\treturn bytes;\r\n    \t}\r\n\r\nWhat I need to add to fix this problem?\r\nThanks in advance.","title":"How to set page orientation in itextpdf HtmlConverter","body":"<p>In database I store different html templates for pdf.\nToday client ask to add landscape oriented template.\nWell, now convertation works incorrect:\ntemplate is landscape and part of text out of page, because page is vertical oriented.</p>\n<p>I used itextpdf and convertation from html to pdf looks like:</p>\n<pre><code>public static byte[] convertString(String htmlContent, boolean useDefaultStyles) throws IOException {\n        log.debug(&quot;html {}&quot;, htmlContent == null? 0: htmlContent.length());\n        byte[] bytes = new byte[0];\n        if(Strings.isNullOrEmpty(htmlContent)){\n            return bytes;\n        }\n        try{\n            if(useDefaultStyles){\n                htmlContent = htmlContent.replace(\n                        &quot;&lt;head&gt;&quot;,\n                        &quot;&lt;head&gt;\\n&lt;style type=\\&quot;text/css\\&quot;&gt;@page {\\tsize: A4; margin: 0; }&lt;/style&gt;&quot;\n                );\n            }\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            HtmlConverter.convertToPdf(htmlContent, baos);\n            bytes = baos.toByteArray();\n        } catch(Exception e){\n            log.error(&quot;Error converting html to pdf&quot;, e);\n        }\n        log.debug(&quot;html2pdf {}&quot;, bytes.length);\n        return bytes;\n    }\n</code></pre>\n<p>What I need to add to fix this problem?\nThanks in advance.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1647860291,"post_id":71556412,"comment_id":126468871,"body_markdown":"What does the variable named s1 look like? And which line gives you that error?","body":"What does the variable named s1 look like? And which line gives you that error?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647861535,"post_id":71556412,"comment_id":126469328,"body_markdown":"You are trying to insert a character at position 2 in the original array (`val`) into position 2 of array `charset`, while `charset` has length 2 (valid positions are 0 and 1). You need to properly offset the position when inserting into the target array. Or better yet, use the `Arrays.copyOfRange`","body":"You are trying to insert a character at position 2 in the original array (<code>val</code>) into position 2 of array <code>charset</code>, while <code>charset</code> has length 2 (valid positions are 0 and 1). You need to properly offset the position when inserting into the target array. Or better yet, use the <code>Arrays.copyOfRange</code>"}],"owner":{"account_id":21179371,"reputation":11,"user_id":15574054,"display_name":"SpicyVanilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1647860473,"answer_count":0,"score":0,"last_activity_date":1647861470,"creation_date":1647860101,"question_id":71556412,"body_markdown":"```java\r\npublic MyString1 substring(int begin, int end)\r\n{\r\n    char[] charset = new char[end - begin];\r\n    \r\n    while( begin &lt; end)\r\n    {\r\n    \tcharset[begin] = val[begin];\r\n    \tbegin++;\r\n    }\r\n    return new MyString1(charset);\r\n}\r\n```\r\nWhen I try to test out this method in the main method it gives me &quot;Index 2 out of bounds for length 2&quot; error.\r\nThe size of the array is 5 so how is it that 2 is out of bound?\r\n\r\nI used this line to test it\r\n```java\r\nchar[] test1 = {&#39;T&#39;, &#39;e&#39;, &#39;S&#39;, &#39;t&#39;, &#39;1&#39;};\r\nMyString1 s1 = new MyString1(test1);\r\nSystem.out.println(s1.substring(1, 3));\r\n```","title":"Index 2 out of bounds for length 2 char array substring","body":"<pre class=\"lang-java prettyprint-override\"><code>public MyString1 substring(int begin, int end)\n{\n    char[] charset = new char[end - begin];\n    \n    while( begin &lt; end)\n    {\n        charset[begin] = val[begin];\n        begin++;\n    }\n    return new MyString1(charset);\n}\n</code></pre>\n<p>When I try to test out this method in the main method it gives me &quot;Index 2 out of bounds for length 2&quot; error.\nThe size of the array is 5 so how is it that 2 is out of bound?</p>\n<p>I used this line to test it</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] test1 = {'T', 'e', 'S', 't', '1'};\nMyString1 s1 = new MyString1(test1);\nSystem.out.println(s1.substring(1, 3));\n</code></pre>\n"},{"tags":["java","fxml"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647908980,"post_id":71556287,"comment_id":126485061,"body_markdown":"Enable all compiler warnings, and pay attention to them.  Those warnings will tell you that you are using a [raw type](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it).  You need to change `TableColumn` to `TableColumn&lt;Tabellmodell, String&gt;`.","body":"Enable all compiler warnings, and pay attention to them.  Those warnings will tell you that you are using a <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw type</a>.  You need to change <code>TableColumn</code> to <code>TableColumn&lt;Tabellmodell, String&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":24601344,"reputation":119,"user_id":18504189,"display_name":"Johnys"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1647859795,"creation_date":1647859795,"answer_id":71556336,"question_id":71556287,"body_markdown":"You are trying to set attribute of **null** object. I think that may be the case. Test it out and reach out to me if it doesn&#39;t work.","title":"Cannot resolve method &#39;setCellValueFactory&#39; in &#39;TableColumn&#39;","body":"<p>You are trying to set attribute of <strong>null</strong> object. I think that may be the case. Test it out and reach out to me if it doesn't work.</p>\n"}],"owner":{"account_id":11645607,"reputation":3,"user_id":8528595,"display_name":"revl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647861417,"creation_date":1647859608,"question_id":71556287,"body_markdown":"I have no idea why I get this error message: \r\n\r\n&gt; Cannot resolve method &#39;setCellValueFactory&#39; in &#39;TableColumn&#39;\r\n\r\nBut when I change to this code in initialize with a test variable, the error message get away:\r\n\r\n    @Override                                                                                 \r\n    public void initialize(URL url, ResourceBundle resourceBundle) {                          \r\n        javafx.scene.control.TableColumn kol2 = null;                                         \r\n        kol2.setCellValueFactory(new PropertyValueFactory&lt;Tabellmodell,String&gt;(&quot;name&quot;));        \r\n    }                                                                                         \r\n\r\n  Does anyone know what the problem is with my original code?\r\n\r\n    package com.example.oppgave;\r\n    \r\n    import javax.swing.table.TableColumn;\r\n    \r\n    import com.example.oppgave.Modell.Ansatt;\r\n    import com.example.oppgave.Modell.Tabellmodell;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    \r\n    import java.net.URL;\r\n    import java.sql.*;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class AnsattController implements Initializable {\r\n        @FXML\r\n        private Label tilbakemelding;\r\n        @FXML\r\n        private TextField innputNavn;\r\n        @FXML\r\n        private TextField innputId;\r\n        @FXML\r\n        private TableView&lt;Tabellmodell&gt; ansattTabell;\r\n        @FXML\r\n        private TableColumn kolname;\r\n        @FXML\r\n        private TableColumn kolid;\r\n    \r\n    \tObservableList&lt;Tabellmodell&gt; oblist= FXCollections.observableArrayList();\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n             kolname.setCellValueFactory(new PropertyValueFactory&lt;Tabellmodell,String&gt;(&quot;name&quot;));\r\n        }\r\n    \r\n        private void listAnsatteTabell(){\r\n            int c;\r\n            try{\r\n                Db nyDb= new Db();\r\n                Connection tilkobling=nyDb.dbnyTilkobling();\r\n                Statement stmt=tilkobling.createStatement();\r\n                System.out.println(&quot;Connected to the database&quot;);\r\n                String sql = &quot;SELECT id, navn from ansatt;&quot;;\r\n    \r\n                ResultSet rs = stmt.executeQuery(sql);\r\n    \r\n                while(rs.next()){\r\n                    oblist.add(new Tabellmodell(rs.getString(&quot;id&quot;),rs.getString(&quot;navn&quot;)));\r\n                }\r\n\r\n    ansattTabell.setItems(oblist); \r\n                } catch (SQLException throwables) {\r\n                    throwables.printStackTrace();\r\n                }\r\n            }\r\n    }\r\n\r\nFXML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TableColumn?&gt;\r\n    &lt;?import javafx.scene.control.TableView?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.oppgave.AnsattController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;innputNavn&quot; layoutX=&quot;61.0&quot; layoutY=&quot;110.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;innputId&quot; layoutX=&quot;61.0&quot; layoutY=&quot;156.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;26.0&quot; layoutY=&quot;114.0&quot; text=&quot;Navn&quot; /&gt;\r\n          &lt;Label layoutX=&quot;26.0&quot; layoutY=&quot;160.0&quot; text=&quot;Id&quot; /&gt;\r\n          &lt;Button fx:id=&quot;regAnsatt&quot; layoutX=&quot;61.0&quot; layoutY=&quot;200.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#regNyAnsatt&quot; text=&quot;Registrer&quot; /&gt;\r\n          &lt;TableView fx:id=&quot;ansattTabell&quot; editable=&quot;true&quot; layoutX=&quot;306.0&quot; layoutY=&quot;89.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;273.0&quot;&gt;\r\n            &lt;columns&gt;\r\n              &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ID&quot; fx:id=&quot;kolid&quot;/&gt;\r\n              &lt;TableColumn prefWidth=&quot;191.0&quot; text=&quot;Navn&quot; fx:id=&quot;kolname&quot;/&gt;\r\n            &lt;/columns&gt;\r\n          &lt;/TableView&gt;\r\n          &lt;Label fx:id=&quot;tilbakemelding&quot; layoutX=&quot;26.0&quot; layoutY=&quot;72.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;212.0&quot; layoutY=&quot;39.0&quot; text=&quot;Ansatt&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;27.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n       &lt;/children&gt;\r\n    &lt;/Pane&gt;\r\n\r\nI also seem to get a error message when the @FXML variable and the x:id in the fxml is the same","title":"Cannot resolve method &#39;setCellValueFactory&#39; in &#39;TableColumn&#39;","body":"<p>I have no idea why I get this error message:</p>\n<blockquote>\n<p>Cannot resolve method 'setCellValueFactory' in 'TableColumn'</p>\n</blockquote>\n<p>But when I change to this code in initialize with a test variable, the error message get away:</p>\n<pre><code>@Override                                                                                 \npublic void initialize(URL url, ResourceBundle resourceBundle) {                          \n    javafx.scene.control.TableColumn kol2 = null;                                         \n    kol2.setCellValueFactory(new PropertyValueFactory&lt;Tabellmodell,String&gt;(&quot;name&quot;));        \n}                                                                                         \n</code></pre>\n<p>Does anyone know what the problem is with my original code?</p>\n<pre><code>package com.example.oppgave;\n\nimport javax.swing.table.TableColumn;\n\nimport com.example.oppgave.Modell.Ansatt;\nimport com.example.oppgave.Modell.Tabellmodell;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\n\nimport java.net.URL;\nimport java.sql.*;\nimport java.util.ResourceBundle;\n\npublic class AnsattController implements Initializable {\n    @FXML\n    private Label tilbakemelding;\n    @FXML\n    private TextField innputNavn;\n    @FXML\n    private TextField innputId;\n    @FXML\n    private TableView&lt;Tabellmodell&gt; ansattTabell;\n    @FXML\n    private TableColumn kolname;\n    @FXML\n    private TableColumn kolid;\n\n    ObservableList&lt;Tabellmodell&gt; oblist= FXCollections.observableArrayList();\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n         kolname.setCellValueFactory(new PropertyValueFactory&lt;Tabellmodell,String&gt;(&quot;name&quot;));\n    }\n\n    private void listAnsatteTabell(){\n        int c;\n        try{\n            Db nyDb= new Db();\n            Connection tilkobling=nyDb.dbnyTilkobling();\n            Statement stmt=tilkobling.createStatement();\n            System.out.println(&quot;Connected to the database&quot;);\n            String sql = &quot;SELECT id, navn from ansatt;&quot;;\n\n            ResultSet rs = stmt.executeQuery(sql);\n\n            while(rs.next()){\n                oblist.add(new Tabellmodell(rs.getString(&quot;id&quot;),rs.getString(&quot;navn&quot;)));\n            }\n\nansattTabell.setItems(oblist); \n            } catch (SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n}\n</code></pre>\n<p>FXML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.oppgave.AnsattController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;innputNavn&quot; layoutX=&quot;61.0&quot; layoutY=&quot;110.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;innputId&quot; layoutX=&quot;61.0&quot; layoutY=&quot;156.0&quot; /&gt;\n      &lt;Label layoutX=&quot;26.0&quot; layoutY=&quot;114.0&quot; text=&quot;Navn&quot; /&gt;\n      &lt;Label layoutX=&quot;26.0&quot; layoutY=&quot;160.0&quot; text=&quot;Id&quot; /&gt;\n      &lt;Button fx:id=&quot;regAnsatt&quot; layoutX=&quot;61.0&quot; layoutY=&quot;200.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#regNyAnsatt&quot; text=&quot;Registrer&quot; /&gt;\n      &lt;TableView fx:id=&quot;ansattTabell&quot; editable=&quot;true&quot; layoutX=&quot;306.0&quot; layoutY=&quot;89.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;273.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ID&quot; fx:id=&quot;kolid&quot;/&gt;\n          &lt;TableColumn prefWidth=&quot;191.0&quot; text=&quot;Navn&quot; fx:id=&quot;kolname&quot;/&gt;\n        &lt;/columns&gt;\n      &lt;/TableView&gt;\n      &lt;Label fx:id=&quot;tilbakemelding&quot; layoutX=&quot;26.0&quot; layoutY=&quot;72.0&quot; /&gt;\n      &lt;Label layoutX=&quot;212.0&quot; layoutY=&quot;39.0&quot; text=&quot;Ansatt&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;27.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p>I also seem to get a error message when the @FXML variable and the x:id in the fxml is the same</p>\n"},{"tags":["python","java","spring-boot","heroku"],"answers":[{"tags":[],"owner":{"account_id":1006212,"reputation":571,"user_id":1019927,"accept_rate":38,"display_name":"Kanghu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647855945,"creation_date":1647855945,"answer_id":71555539,"question_id":71555431,"body_markdown":"First, make sure that your application is actually being packaged into a `jar`, i.e. the file `target/Destadeals.0.0.1-SNAPSHOT.jar` actually exists in your project folder after building with `mvn clean install`.\r\n\r\nIt would be helpful if you could also provide a log tail of your Heroku dyno. There could be plenty of reasons for your app crashing. To get a log tail, you  may call `heroku logs --tail -a &lt;app-name&gt;`. A thing to look out for is your database: I see it being configured as a local instance (`localhost:3306`) but this will of course not work on your Heroku dyno.","title":"error code=H10: Unable to deploy springboot app to heroku","body":"<p>First, make sure that your application is actually being packaged into a <code>jar</code>, i.e. the file <code>target/Destadeals.0.0.1-SNAPSHOT.jar</code> actually exists in your project folder after building with <code>mvn clean install</code>.</p>\n<p>It would be helpful if you could also provide a log tail of your Heroku dyno. There could be plenty of reasons for your app crashing. To get a log tail, you  may call <code>heroku logs --tail -a &lt;app-name&gt;</code>. A thing to look out for is your database: I see it being configured as a local instance (<code>localhost:3306</code>) but this will of course not work on your Heroku dyno.</p>\n"}],"owner":{"account_id":17261853,"reputation":606,"user_id":12499550,"display_name":"Teshie Ethiopia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647861334,"creation_date":1647855349,"question_id":71555431,"body_markdown":"I am really new to springboot and I buld my first rest API and wanted to deploy it to heroku. But unfortunately the heroku returned `at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot;` error. Here is my procfile\r\n\r\n    web: java -jar target/Destadeals.0.0.1-SNAPSHOT.jar\r\n\r\nHere is pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.2&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;Destadeals&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Destadeals&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Destadeals&lt;/name&gt;\r\n        &lt;description&gt;Desta deals project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-common&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sebastian-daschner&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxrs-analyzer&lt;/artifactId&gt;\r\n                &lt;version&gt;0.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;destFileName&gt;webapp-runner.jar&lt;/destFileName&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\napplication.properties\r\n\r\n    spring.datasource.url= jdbc:mysql://localhost:3306/desta_deals?allowPublicKeyRetrieval=true&amp;useSSL=false\r\n    spring.datasource.username= root\r\n    spring.datasource.password= password\r\n    \r\n    spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto= update\r\n    server.forward-headers-strategy=framework\r\n    # App Properties\r\n    bezkoder.app.jwtSecret= loginaccepted\r\n    bezkoder.app.jwtExpirationMs= 86400000\r\n    server.port=${PORT:8080}\r\n    spring.datasource.initialization-mode=always\r\n    spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n    springdoc.api-docs.path=/api-docs\r\n    springdoc.swagger-ui.path=/swagger-ui-custom.html\r\n\r\nI have tried the following procfile \r\n\r\n    web: java $JAVA_OPTS -Dserver.port=$PORT -jar target/Destadeals.0.0.1-SNAPSHOT.war\r\n\r\n    web: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/Destadeals.0.0.1-SNAPSHOT.jar\r\n\r\n    web: java -jar target/java-getting-started-1.0.jar\r\n\r\nBut none of the above procfile codes worked for me.\r\n\r\nHere is log file after running `heroku logs --tail -a desta-deals-backend`\r\n\r\n    2022-03-21T08:35:05.982432+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/login&quot; host=desta-deals-backend.herokuapp.com request_id=d2b8c3a0-977d-4b5b-bfc3-33019714901c fwd=&quot;196.190.152.203&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n    2022-03-21T08:35:06.652854+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=desta-deals-backend.herokuapp.com request_id=5ecb9bde-d9df-4763-997f-b25d82f76614 fwd=&quot;196.190.152.203&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n\r\nWhat can I change to deploy my springboot application to heroku?\r\n\r\nThanks\r\n","title":"error code=H10: Unable to deploy springboot app to heroku","body":"<p>I am really new to springboot and I buld my first rest API and wanted to deploy it to heroku. But unfortunately the heroku returned <code>at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot;</code> error. Here is my procfile</p>\n<pre><code>web: java -jar target/Destadeals.0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>Here is pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;Destadeals&lt;/groupId&gt;\n    &lt;artifactId&gt;Destadeals&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Destadeals&lt;/name&gt;\n    &lt;description&gt;Desta deals project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-common&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sebastian-daschner&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxrs-analyzer&lt;/artifactId&gt;\n            &lt;version&gt;0.17&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;destFileName&gt;webapp-runner.jar&lt;/destFileName&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url= jdbc:mysql://localhost:3306/desta_deals?allowPublicKeyRetrieval=true&amp;useSSL=false\nspring.datasource.username= root\nspring.datasource.password= password\n\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto= update\nserver.forward-headers-strategy=framework\n# App Properties\nbezkoder.app.jwtSecret= loginaccepted\nbezkoder.app.jwtExpirationMs= 86400000\nserver.port=${PORT:8080}\nspring.datasource.initialization-mode=always\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\nspringdoc.api-docs.path=/api-docs\nspringdoc.swagger-ui.path=/swagger-ui-custom.html\n</code></pre>\n<p>I have tried the following procfile</p>\n<pre><code>web: java $JAVA_OPTS -Dserver.port=$PORT -jar target/Destadeals.0.0.1-SNAPSHOT.war\n\nweb: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/Destadeals.0.0.1-SNAPSHOT.jar\n\nweb: java -jar target/java-getting-started-1.0.jar\n</code></pre>\n<p>But none of the above procfile codes worked for me.</p>\n<p>Here is log file after running <code>heroku logs --tail -a desta-deals-backend</code></p>\n<pre><code>2022-03-21T08:35:05.982432+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/login&quot; host=desta-deals-backend.herokuapp.com request_id=d2b8c3a0-977d-4b5b-bfc3-33019714901c fwd=&quot;196.190.152.203&quot; dyno= connect= service= status=503 bytes= protocol=https\n2022-03-21T08:35:06.652854+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=desta-deals-backend.herokuapp.com request_id=5ecb9bde-d9df-4763-997f-b25d82f76614 fwd=&quot;196.190.152.203&quot; dyno= connect= service= status=503 bytes= protocol=https\n</code></pre>\n<p>What can I change to deploy my springboot application to heroku?</p>\n<p>Thanks</p>\n"},{"tags":["java","weblogic","jax-rpc"],"comments":[{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1647813234,"post_id":71546724,"comment_id":126459458,"body_markdown":"trying specifying the scope of your wls-api dependecy as `provided`","body":"trying specifying the scope of your wls-api dependecy as <code>provided</code>"},{"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"score":0,"creation_date":1647861078,"post_id":71546724,"comment_id":126469152,"body_markdown":"@httPants thanks but that didn&#39;t make any difference.","body":"@httPants thanks but that didn&#39;t make any difference."}],"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647861296,"creation_date":1647779165,"question_id":71546724,"body_markdown":"I have a Webservice implemented with jwsc for Weblogic 12c. It&#39;s a WAR file. The classes for the various beans used for the parameters and returns are added with the standard maven plugin, and everything _looks_ OK.\r\n\r\nIt compiles and packages OK. But any attempt to deploy it gets &quot;Unable to invoke Annotation processoror&quot; (yes, spelt wrong) from the Admin console.\r\n\r\nThe stacktrace is below, but really doesn&#39;t provide much of a hint. I&#39;ve searched for other questions/answers but have come up blank.\r\n\r\nThe supporting classes were originally generated with xjc and so had many annotations. I removed those in case that was the issue, but no change. So the only annotations are in the WS implementation class:\r\n\r\n    @WebService(name = &quot;MyServicePortType&quot;, serviceName = &quot;MyService&quot;, targetNamespace = &quot;http://test/wsdl/getInfo/v1&quot;)\r\n    \r\n    @WLHttpTransport(contextPath = &quot;my-nbi&quot;, serviceUri = &quot;/MyService&quot;)\r\n    @SOAPBinding(style = SOAPBinding.Style.DOCUMENT, use = SOAPBinding.Use.LITERAL)\r\n    public class MyServiceImpl implements OPLService {\r\n\r\nThere&#39;s just a single dependency in the POM:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wls-api&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n\r\nPossibly connected is that if I try to generate as a JAXWS web service (`type=&quot;JAXWS&quot;` rather than `type=&quot;JAXRPC&quot;` in the args to jwsc) that fails with: \r\n\r\n`error: Annotation processor &#39;com.sun.tools.ws.processor.modeler.annotation.WebServiceAp&#39; not found`\r\n\r\nI&#39;ve tried adding jars with that class (there are several supplied with weblogic) to the JWSC classpath but with no success (nothing seemed to change at all).\r\n\r\nAny ideas on what to try next?\r\n\r\nEDIT: One thing I missed was that WL seems to like its SOAP web services as an EAR (containing the WAR). I tried that but still got the error.\r\n\r\nI then did what should have done earlier and started with the sample from the documentation (which uses ANT rather than maven, but builds an EAR). That worked, and I&#39;ve slowly modified that towards the web service I actually need. When I&#39;ve done, I&#39;ll try to work out what the differences are.\r\n\r\n    &lt;Mar 20, 2022 11:55:57,636 AM UTC&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt; \r\n    weblogic.utils.compiler.ToolFailureException: Unable to invoke Annotation processoror\r\n    \tat weblogic.application.compiler.FlowDriver.handleStateChangeException(FlowDriver.java:55)\r\n    \tat weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:38)\r\n    \tat weblogic.application.compiler.AppMerge.runBody(AppMerge.java:168)\r\n    \tat weblogic.utils.compiler.Tool.run(Tool.java:159)\r\n    \tat weblogic.utils.compiler.Tool.run(Tool.java:116)\r\n    \tat weblogic.application.compiler.AppMerge.merge(AppMerge.java:198)\r\n    \tat weblogic.deploy.api.internal.utils.AppMerger.merge(AppMerger.java:94)\r\n    \tat weblogic.deploy.api.internal.utils.AppMerger.getMergedApp(AppMerger.java:58)\r\n    \tat weblogic.deploy.api.model.internal.WebLogicDeployableObjectFactoryImpl.createDeployableObject(WebLogicDeployableObjectFactoryImpl.java:186)\r\n    \tat weblogic.deploy.api.model.internal.WebLogicDeployableObjectFactoryImpl.createLazyDeployableObject(WebLogicDeployableObjectFactoryImpl.java:160)\r\n    \tat weblogic.deploy.api.tools.SessionHelper.inspect(SessionHelper.java:781)\r\n    \tat com.bea.console.actions.app.install.Flow$2.execute(Flow.java:541)\r\n    \tat com.bea.console.utils.DeploymentUtils.runDeploymentAction(DeploymentUtils.java:5787)\r\n        [Lots of console related entries removed]\r\n    Caused by: java.lang.AssertionError: Unable to invoke Annotation processoror\r\n    \tat weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotations(WSEEModuleHelper.java:287)\r\n    \tat weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotationsWithServiceLinks(WSEEModuleHelper.java:245)\r\n    \tat weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotations(WSEEModuleHelper.java:178)\r\n    \tat weblogic.wsee.tools.WSEEWebAppToolsModuleExtension.processAnnotations(WSEEWebAppToolsModuleExtension.java:216)\r\n    \tat weblogic.wsee.tools.WSEEWebAppToolsModuleExtension.merge(WSEEWebAppToolsModuleExtension.java:109)\r\n    \tat weblogic.application.compiler.flow.SingleModuleMergeFlow.proecessModule(SingleModuleMergeFlow.java:33)\r\n    \tat weblogic.application.compiler.flow.SingleModuleFlow.compile(SingleModuleFlow.java:64)\r\n    \tat weblogic.application.compiler.FlowDriver$FlowStateChange.next(FlowDriver.java:70)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n    \tat weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:37)\r\n    \tat weblogic.application.compiler.BaseMerger.merge(BaseMerger.java:20)\r\n    \tat weblogic.application.compiler.flow.AppMergerFlow.mergeInput(AppMergerFlow.java:75)\r\n    \tat weblogic.application.compiler.flow.AppMergerFlow.compile(AppMergerFlow.java:40)\r\n    \tat weblogic.application.compiler.FlowDriver$FlowStateChange.next(FlowDriver.java:70)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n    \tat weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:37)\r\n    \t... 116 more\r\n\r\n","title":"&quot; Error Unable to invoke Annotation processoror&quot; wben deploying web service in Weblogic 12c","body":"<p>I have a Webservice implemented with jwsc for Weblogic 12c. It's a WAR file. The classes for the various beans used for the parameters and returns are added with the standard maven plugin, and everything <em>looks</em> OK.</p>\n<p>It compiles and packages OK. But any attempt to deploy it gets &quot;Unable to invoke Annotation processoror&quot; (yes, spelt wrong) from the Admin console.</p>\n<p>The stacktrace is below, but really doesn't provide much of a hint. I've searched for other questions/answers but have come up blank.</p>\n<p>The supporting classes were originally generated with xjc and so had many annotations. I removed those in case that was the issue, but no change. So the only annotations are in the WS implementation class:</p>\n<pre><code>@WebService(name = &quot;MyServicePortType&quot;, serviceName = &quot;MyService&quot;, targetNamespace = &quot;http://test/wsdl/getInfo/v1&quot;)\n\n@WLHttpTransport(contextPath = &quot;my-nbi&quot;, serviceUri = &quot;/MyService&quot;)\n@SOAPBinding(style = SOAPBinding.Style.DOCUMENT, use = SOAPBinding.Use.LITERAL)\npublic class MyServiceImpl implements OPLService {\n</code></pre>\n<p>There's just a single dependency in the POM:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;wls-api&lt;/artifactId&gt;\n        &lt;version&gt;12.2.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Possibly connected is that if I try to generate as a JAXWS web service (<code>type=&quot;JAXWS&quot;</code> rather than <code>type=&quot;JAXRPC&quot;</code> in the args to jwsc) that fails with:</p>\n<p><code>error: Annotation processor 'com.sun.tools.ws.processor.modeler.annotation.WebServiceAp' not found</code></p>\n<p>I've tried adding jars with that class (there are several supplied with weblogic) to the JWSC classpath but with no success (nothing seemed to change at all).</p>\n<p>Any ideas on what to try next?</p>\n<p>EDIT: One thing I missed was that WL seems to like its SOAP web services as an EAR (containing the WAR). I tried that but still got the error.</p>\n<p>I then did what should have done earlier and started with the sample from the documentation (which uses ANT rather than maven, but builds an EAR). That worked, and I've slowly modified that towards the web service I actually need. When I've done, I'll try to work out what the differences are.</p>\n<pre><code>&lt;Mar 20, 2022 11:55:57,636 AM UTC&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt; \nweblogic.utils.compiler.ToolFailureException: Unable to invoke Annotation processoror\n    at weblogic.application.compiler.FlowDriver.handleStateChangeException(FlowDriver.java:55)\n    at weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:38)\n    at weblogic.application.compiler.AppMerge.runBody(AppMerge.java:168)\n    at weblogic.utils.compiler.Tool.run(Tool.java:159)\n    at weblogic.utils.compiler.Tool.run(Tool.java:116)\n    at weblogic.application.compiler.AppMerge.merge(AppMerge.java:198)\n    at weblogic.deploy.api.internal.utils.AppMerger.merge(AppMerger.java:94)\n    at weblogic.deploy.api.internal.utils.AppMerger.getMergedApp(AppMerger.java:58)\n    at weblogic.deploy.api.model.internal.WebLogicDeployableObjectFactoryImpl.createDeployableObject(WebLogicDeployableObjectFactoryImpl.java:186)\n    at weblogic.deploy.api.model.internal.WebLogicDeployableObjectFactoryImpl.createLazyDeployableObject(WebLogicDeployableObjectFactoryImpl.java:160)\n    at weblogic.deploy.api.tools.SessionHelper.inspect(SessionHelper.java:781)\n    at com.bea.console.actions.app.install.Flow$2.execute(Flow.java:541)\n    at com.bea.console.utils.DeploymentUtils.runDeploymentAction(DeploymentUtils.java:5787)\n    [Lots of console related entries removed]\nCaused by: java.lang.AssertionError: Unable to invoke Annotation processoror\n    at weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotations(WSEEModuleHelper.java:287)\n    at weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotationsWithServiceLinks(WSEEModuleHelper.java:245)\n    at weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotations(WSEEModuleHelper.java:178)\n    at weblogic.wsee.tools.WSEEWebAppToolsModuleExtension.processAnnotations(WSEEWebAppToolsModuleExtension.java:216)\n    at weblogic.wsee.tools.WSEEWebAppToolsModuleExtension.merge(WSEEWebAppToolsModuleExtension.java:109)\n    at weblogic.application.compiler.flow.SingleModuleMergeFlow.proecessModule(SingleModuleMergeFlow.java:33)\n    at weblogic.application.compiler.flow.SingleModuleFlow.compile(SingleModuleFlow.java:64)\n    at weblogic.application.compiler.FlowDriver$FlowStateChange.next(FlowDriver.java:70)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n    at weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:37)\n    at weblogic.application.compiler.BaseMerger.merge(BaseMerger.java:20)\n    at weblogic.application.compiler.flow.AppMergerFlow.mergeInput(AppMergerFlow.java:75)\n    at weblogic.application.compiler.flow.AppMergerFlow.compile(AppMergerFlow.java:40)\n    at weblogic.application.compiler.FlowDriver$FlowStateChange.next(FlowDriver.java:70)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n    at weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:37)\n    ... 116 more\n</code></pre>\n"},{"tags":["java","spring-boot","aop"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1647861986,"post_id":71556694,"comment_id":126469484,"body_markdown":"Just curious...Are you trying to implement your own tracing mechanism?  You know there is Jaeger which is used for distributed tracing (example REST).  Tutorial https://reflectoring.io/spring-boot-tracing/\n\nYou dont have to change your APIs or create any AOP..","body":"Just curious...Are you trying to implement your own tracing mechanism?  You know there is Jaeger which is used for distributed tracing (example REST).  Tutorial <a href=\"https://reflectoring.io/spring-boot-tracing/\" rel=\"nofollow noreferrer\">reflectoring.io/spring-boot-tracing</a>  You dont have to change your APIs or create any AOP.."},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1647864743,"post_id":71556694,"comment_id":126470524,"body_markdown":"So the implementation doesn&#39;t really matter. The main thing is that the effort is very low. But would it be possible to determine the times of the requests across all services with AOP? I&#39;ll have a look at Jaeger right away.","body":"So the implementation doesn&#39;t really matter. The main thing is that the effort is very low. But would it be possible to determine the times of the requests across all services with AOP? I&#39;ll have a look at Jaeger right away."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1647865818,"post_id":71556694,"comment_id":126470928,"body_markdown":"I have not tried doing it using AOP.  Generally for distributed across multiple services, it is best to use a tracing solution, and Jaeger is a good way.  You can also search google for Springboot Open Tracing and see what other solutions might be available.","body":"I have not tried doing it using AOP.  Generally for distributed across multiple services, it is best to use a tracing solution, and Jaeger is a good way.  You can also search google for Springboot Open Tracing and see what other solutions might be available."},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1647940708,"post_id":71556694,"comment_id":126491527,"body_markdown":"Thanks again for your advice. Have now installed Jaeger and it works great. Thanks :)","body":"Thanks again for your advice. Have now installed Jaeger and it works great. Thanks :)"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1647941160,"post_id":71556694,"comment_id":126491701,"body_markdown":"Glad to have helped","body":"Glad to have helped"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647861283,"creation_date":1647861283,"question_id":71556694,"body_markdown":"I would like to invite you to talk with me about AOP and logging in Spring Boot applications. My goal is to log the speeds of each request. This should also work when a service calls another service. Preferably the runtime, the name of the method and an individual ID for each request should be output. \r\n\r\nNow the question: Is it possible to realize this with AOP? \r\n\r\nI started with the following Youtube tutorial: https://www.youtube.com/watch?v=RVvKPP5HyaA&amp;ab_channel=JavaTechie\r\n\r\nAnd here is a first AOP:\r\n\r\n```\r\npackage abc.advise;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n@Aspect\r\n@Component\r\npublic class LoggingAdvice {\r\n\r\n  Logger log = LoggerFactory.getLogger(LoggingAdvice.class);\r\n\r\n  @Pointcut(\r\n      value = &quot;execution(* abc.api.*Controller.*(..))&quot;)\r\n  public void pointCut() {\r\n\r\n  }\r\n\r\n  @Around(&quot;pointCut()&quot;)\r\n  public Object applicationLogger(ProceedingJoinPoint pjp) throws Throwable {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String methodName = pjp.getSignature().getName();\r\n    String className = pjp.getTarget().getClass().toString();\r\n    Object[] array = pjp.getArgs();\r\n    log.info(&quot;method invoked &quot; + className + &quot; : &quot; + methodName + &quot;()&quot; + &quot;arguments : &quot;\r\n        + mapper.writeValueAsString(array));\r\n\r\n    Object object = pjp.proceed();\r\n    log.info(&quot;method invoked &quot; + className + &quot; : &quot; + methodName + &quot;()&quot; + &quot;Response : &quot;\r\n        + mapper.writeValueAsString(array));\r\n\r\n    return object;\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nSo this AOP looks into the package API and applies the AOP to classes with controller as suffix. (I decided to use AOP because I thought that I would not have to change my single rest methods).\r\n\r\nTo come back to the question. Can I use AOP to measure request times across services?\r\n\r\nThe questions that naturally play a role here are: \r\n\r\nWhere should the ID be stored so that other services working with the same request can continue to use the ID?\r\n\r\nHow should I use the endpoints with AOP so that I get a log entry that shows the runtime of the complete request? \r\n\r\nI am open for suggestions.\r\n\r\nThanks in advance.\r\n","title":"How to use AOP correctly to measure the runtime of requests across services? (Spring Boot)","body":"<p>I would like to invite you to talk with me about AOP and logging in Spring Boot applications. My goal is to log the speeds of each request. This should also work when a service calls another service. Preferably the runtime, the name of the method and an individual ID for each request should be output.</p>\n<p>Now the question: Is it possible to realize this with AOP?</p>\n<p>I started with the following Youtube tutorial: <a href=\"https://www.youtube.com/watch?v=RVvKPP5HyaA&amp;ab_channel=JavaTechie\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=RVvKPP5HyaA&amp;ab_channel=JavaTechie</a></p>\n<p>And here is a first AOP:</p>\n<pre><code>package abc.advise;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Aspect\n@Component\npublic class LoggingAdvice {\n\n  Logger log = LoggerFactory.getLogger(LoggingAdvice.class);\n\n  @Pointcut(\n      value = &quot;execution(* abc.api.*Controller.*(..))&quot;)\n  public void pointCut() {\n\n  }\n\n  @Around(&quot;pointCut()&quot;)\n  public Object applicationLogger(ProceedingJoinPoint pjp) throws Throwable {\n    ObjectMapper mapper = new ObjectMapper();\n    String methodName = pjp.getSignature().getName();\n    String className = pjp.getTarget().getClass().toString();\n    Object[] array = pjp.getArgs();\n    log.info(&quot;method invoked &quot; + className + &quot; : &quot; + methodName + &quot;()&quot; + &quot;arguments : &quot;\n        + mapper.writeValueAsString(array));\n\n    Object object = pjp.proceed();\n    log.info(&quot;method invoked &quot; + className + &quot; : &quot; + methodName + &quot;()&quot; + &quot;Response : &quot;\n        + mapper.writeValueAsString(array));\n\n    return object;\n  }\n\n}\n\n</code></pre>\n<p>So this AOP looks into the package API and applies the AOP to classes with controller as suffix. (I decided to use AOP because I thought that I would not have to change my single rest methods).</p>\n<p>To come back to the question. Can I use AOP to measure request times across services?</p>\n<p>The questions that naturally play a role here are:</p>\n<p>Where should the ID be stored so that other services working with the same request can continue to use the ID?</p>\n<p>How should I use the endpoints with AOP so that I get a log entry that shows the runtime of the complete request?</p>\n<p>I am open for suggestions.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","http","chunked-encoding","chunked","http-chunked"],"comments":[{"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"score":0,"creation_date":1446028579,"post_id":33373334,"comment_id":54569389,"body_markdown":"Why do you need a chunked response? TCP does it already","body":"Why do you need a chunked response? TCP does it already"},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1446028712,"post_id":33373334,"comment_id":54569469,"body_markdown":"I&#39;m creating a JSON response which can be quite large &gt; 4K.  Some browsers like IE will tolerate larger packets.  I want to ensure the solution works for all by keeping the maximum packet size to 768 bytes per chunk.","body":"I&#39;m creating a JSON response which can be quite large &gt; 4K.  Some browsers like IE will tolerate larger packets.  I want to ensure the solution works for all by keeping the maximum packet size to 768 bytes per chunk."},{"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"score":0,"creation_date":1446029041,"post_id":33373334,"comment_id":54569677,"body_markdown":"I am pretty sure you won&#39;t have problems there in any popular browser, there is a limit on GET url length, but on response? Are you sure you have an issue?","body":"I am pretty sure you won&#39;t have problems there in any popular browser, there is a limit on GET url length, but on response? Are you sure you have an issue?"},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1446029195,"post_id":33373334,"comment_id":54569763,"body_markdown":"The request method is not relevant, GET or POST, its the response data that needs to be chunked because there is a limit in TCP on the size of a packet and HTTP restricts it further.","body":"The request method is not relevant, GET or POST, its the response data that needs to be chunked because there is a limit in TCP on the size of a packet and HTTP restricts it further."},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1446029650,"post_id":33373334,"comment_id":54570075,"body_markdown":"In my response handler routine, I am seeing a response which tells me that the chunks are being reassembled, however the data is prefixed with the chunk size...not sure why, but it invalidates the data.","body":"In my response handler routine, I am seeing a response which tells me that the chunks are being reassembled, however the data is prefixed with the chunk size...not sure why, but it invalidates the data."},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1446029912,"post_id":33373334,"comment_id":54570230,"body_markdown":"Looking at the response, the data actually contains everything, all the chunks including the chunk sizes and the terminating 0 with CRLF, not sure why...could it be down to the headers?","body":"Looking at the response, the data actually contains everything, all the chunks including the chunk sizes and the terminating 0 with CRLF, not sure why...could it be down to the headers?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1446109773,"post_id":33373334,"comment_id":54610370,"body_markdown":"Don&#39;t use `Thread.sleep().` Use a `Selector` to tell you when there is something to accept.","body":"Don&#39;t use <code>Thread.sleep().</code> Use a <code>Selector</code> to tell you when there is something to accept."}],"answers":[{"tags":[],"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1446034427,"creation_date":1446034427,"answer_id":33390781,"question_id":33373334,"body_markdown":"Solved, not sure why, but removing the header:\r\n\r\n      Transfer-Encoding: chunked\r\n\r\nAnd also the chunk lengths at the beginning of each chunk resolved the issue, I still write the data in 768 byte chunks.  This works reliably and very well.\r\n\r\nNot sure why I had to do this.\r\n\r\nFinal method to produce chunks from data string:\r\n\r\n        public static String[] arystrChunkData(String strData) {\r\n        \t\tint intChunks = (strData.length() / CHUNK_THRESHOLD_BYTESIZE) + 1;\r\n        \t\tString[] arystrChunks = new String[intChunks];\r\n        \t\tint intLength = strData.length(), intPos = 0;\r\n\t\t\r\n        \t\tfor( int c=0; c&lt;arystrChunks.length; c++ ) {\t\t\t\r\n        \t\t\tif ( intPos &lt; intLength ) {\r\n        //Extract a chunk from the data\t\t\t\r\n        \t\t\t\tint intEnd = Math.min(intLength, intPos + CHUNK_THRESHOLD_BYTESIZE);\r\n        \t\t\t\tarystrChunks[c] = strData.substring(intPos, intEnd);\r\n        \t\t\t\tintPos = intEnd;\r\n        \t\t\t}\r\n        \t\t}\t\t\r\n        \t\treturn arystrChunks;\r\n        \t}\r\n\r\nLoop to write chunks, no lengths at the beginning and no 0 byte at the end of the chunks required:\r\n\r\n        String[] arystrChunks = arystrChunkData(strResponse);\r\n        for( String strChunk : arystrChunks ) {\r\n                if ( strChunk != null ) {\r\n                        out.write(strChunk.getBytes());\r\n                }\t\t\t\t\t\t\t\r\n        }\r\n","title":"Java HTTP server sending chunked response","body":"<p>Solved, not sure why, but removing the header:</p>\n\n<pre><code>  Transfer-Encoding: chunked\n</code></pre>\n\n<p>And also the chunk lengths at the beginning of each chunk resolved the issue, I still write the data in 768 byte chunks.  This works reliably and very well.</p>\n\n<p>Not sure why I had to do this.</p>\n\n<p>Final method to produce chunks from data string:</p>\n\n<pre><code>    public static String[] arystrChunkData(String strData) {\n            int intChunks = (strData.length() / CHUNK_THRESHOLD_BYTESIZE) + 1;\n            String[] arystrChunks = new String[intChunks];\n            int intLength = strData.length(), intPos = 0;\n\n            for( int c=0; c&lt;arystrChunks.length; c++ ) {            \n                if ( intPos &lt; intLength ) {\n    //Extract a chunk from the data         \n                    int intEnd = Math.min(intLength, intPos + CHUNK_THRESHOLD_BYTESIZE);\n                    arystrChunks[c] = strData.substring(intPos, intEnd);\n                    intPos = intEnd;\n                }\n            }       \n            return arystrChunks;\n        }\n</code></pre>\n\n<p>Loop to write chunks, no lengths at the beginning and no 0 byte at the end of the chunks required:</p>\n\n<pre><code>    String[] arystrChunks = arystrChunkData(strResponse);\n    for( String strChunk : arystrChunks ) {\n            if ( strChunk != null ) {\n                    out.write(strChunk.getBytes());\n            }                           \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446107547,"creation_date":1446107547,"answer_id":33409312,"question_id":33373334,"body_markdown":"As I commented already, there is NOT an official limit on HTTP response size. TCP does this work for you. However, you can always configure your web server to implement such a policy by setting Content-Length :: 32 bit Integer max size or 64 bit for modern browsers (see [here][1]).\r\n\r\nTechnically, you can have unlimited responses using Chunked Transfer as you state on your post. In theory, this is used to bypass the max Content-Length.\r\n\r\nMost commonly and if there is such a requirement for a huge JSON file (at least some MBs in size), you can use some sort of pagination logic via sequential AJAX requests. In your case, you could split your big JSON data to chunks programmatically and send each one via another AJAX request. Then, let Javascript perform the merging task.\r\n\r\nTypically, a JSON response of some MB in size will load successfully on any browser. I suggest you take a look on [this][2] article; it is 3-years old, but I guess things are even better nowadays.\r\n\r\nIn short, the above benchmark states that JSON of size less than 35 MB will probably load successfully on any modern desktop browser. This, however, may not be the case for mobile browsers. For instance, there are some [reports][3] for mobile safari limitations on &gt;10MB Json files.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8811824/http-content-length-and-chunked-transfer-encoding-is-there-a-2gb-limit\r\n  [2]: http://josh.zeigler.us/technology/web-development/how-big-is-too-big-for-json/\r\n  [3]: https://stackoverflow.com/questions/8937516/maximum-json-size-for-response-to-the-browser#comments-8937620","title":"Java HTTP server sending chunked response","body":"<p>As I commented already, there is NOT an official limit on HTTP response size. TCP does this work for you. However, you can always configure your web server to implement such a policy by setting Content-Length :: 32 bit Integer max size or 64 bit for modern browsers (see <a href=\"https://stackoverflow.com/questions/8811824/http-content-length-and-chunked-transfer-encoding-is-there-a-2gb-limit\">here</a>).</p>\n\n<p>Technically, you can have unlimited responses using Chunked Transfer as you state on your post. In theory, this is used to bypass the max Content-Length.</p>\n\n<p>Most commonly and if there is such a requirement for a huge JSON file (at least some MBs in size), you can use some sort of pagination logic via sequential AJAX requests. In your case, you could split your big JSON data to chunks programmatically and send each one via another AJAX request. Then, let Javascript perform the merging task.</p>\n\n<p>Typically, a JSON response of some MB in size will load successfully on any browser. I suggest you take a look on <a href=\"http://josh.zeigler.us/technology/web-development/how-big-is-too-big-for-json/\" rel=\"nofollow noreferrer\">this</a> article; it is 3-years old, but I guess things are even better nowadays.</p>\n\n<p>In short, the above benchmark states that JSON of size less than 35 MB will probably load successfully on any modern desktop browser. This, however, may not be the case for mobile browsers. For instance, there are some <a href=\"https://stackoverflow.com/questions/8937516/maximum-json-size-for-response-to-the-browser#comments-8937620\">reports</a> for mobile safari limitations on >10MB Json files.</p>\n"},{"tags":[],"owner":{"account_id":2005653,"reputation":439,"user_id":1795639,"display_name":"Christopher Broderick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647861256,"creation_date":1647861256,"answer_id":71556687,"question_id":33373334,"body_markdown":"If you transfer user Transfer-Encoding=chunked then each chunk of data must be preceded by the size of the chunk.\r\n\r\nSee here for a good explanation:\r\nhttps://en.wikipedia.org/wiki/Chunked_transfer_encoding","title":"Java HTTP server sending chunked response","body":"<p>If you transfer user Transfer-Encoding=chunked then each chunk of data must be preceded by the size of the chunk.</p>\n<p>See here for a good explanation:\n<a href=\"https://en.wikipedia.org/wiki/Chunked_transfer_encoding\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Chunked_transfer_encoding</a></p>\n"}],"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16531,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":33390781,"answer_count":3,"score":7,"last_activity_date":1647861256,"creation_date":1445963167,"question_id":33373334,"body_markdown":"I am working on a Java application which has a built in HTTP server, at the moment the server is implemented using ServerSocketChannel, it listens on port 1694 for requests:\r\n\r\n        \tmsvrCh = ServerSocketChannel.open();\r\n\t\t\tmsvrCh.socket().bind(new InetSocketAddress(mintPort));\r\n\t\t\tmsvrCh.configureBlocking(false);\r\n\r\nA thread is installed to manage requests and responses:\r\n\r\n\t\t\tThread thrd = new Thread(msgReceiver);\r\n\t\t\tthrd.setUncaughtExceptionHandler(exceptionHandler);\r\n\t\t\tthrd.start();\r\n\r\nThe thread is quite simple:\r\n\r\n\t\t\tRunnable msgReceiver = new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\twhile( !Thread.interrupted() ) {\r\n        //Sleep a short period between checks for new requests\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tThread.sleep(DELAY_BETWEEN_ACCEPTS);\r\n\t\t\t\t\t\t\t} catch(Exception ex) {\r\n\t\t\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tSocketChannel cliCh = msvrCh.accept();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ( blnExit() == true ) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ( cliCh == null ) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tprocessRequest(cliCh.socket());\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t} finally {\t\t\t\t\t\t\r\n\t\t\t\t\t\tlogMsg(TERMINATING_THREAD + \r\n\t\t\t\t\t\t\t\t&quot;for accepting cluster connections&quot;, true);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( msvrCh != null ) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tmsvrCh.close();\r\n\t\t\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmsvrCh = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\nThe main bulk of the code for dealing with the response is in the function processRequest:\r\n\r\n    private void processRequest(Socket sck) {\r\n        try {\r\n        //AJAX Parameters\r\n        \tfinal String AJAX_ID\t\t\t= &quot;ajmid&quot;;\r\n        //The &#39;Handler Key&#39; used to decode response        \t\r\n        \tfinal String HANDLER_KEY\t\t= &quot;hkey&quot;;\r\n        //Message payload        \t\r\n        \tfinal String PAYLOAD\t\t\t= &quot;payload&quot;;\r\n        //Post input buffer size        \t\r\n        \tfinal int REQUEST_BUFFER_SIZE\t= 4096;\r\n        //Double carriage return marks the end of the headers        \t\r\n        \tfinal String CRLF\t\t\t\t= &quot;\\r\\n&quot;;\r\n        \t\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(sck.getInputStream()));\r\n        \tString strAMID = null, strHKey = null, strRequest;\r\n        \tchar[] chrBuffer = new char[REQUEST_BUFFER_SIZE];\r\n        \tStringBuffer sbRequest = new StringBuffer();\r\n            eMsgTypes eType = eMsgTypes.UNKNOWN;\r\n            clsHTTPparameters objParams = null;\r\n            int intPos, intCount;            \t\r\n        //Extract the entire request, including headers        \t\r\n            if ( (intCount = in.read(chrBuffer)) == 0 ) {\r\n            \tthrow new Exception(&quot;Cannot read request!&quot;);\r\n            }\r\n        \tsbRequest.append(chrBuffer, 0, intCount);        \t\r\n    \t\tstrRequest = sbRequest.toString();\r\n        //What method is being used by this request?\r\n            if ( strRequest.startsWith(HTTP_GET) ) {\r\n        //The request should end with a HTTP marker, remove this before trying to interpret the data\r\n                if ( strRequest.indexOf(HTTP_MARKER) != -1 ) {\r\n                \tstrRequest = strRequest.substring(0, strRequest.indexOf(HTTP_MARKER)).trim();\r\n                }            \r\n        //Look for a data marker\r\n            \tif ( (intPos = strRequest.indexOf(HTTP_DATA_START)) &gt;= 0 ) {\r\n        //Data is present in the query, skip to the start of the data\r\n            \t\tstrRequest = strRequest.substring(intPos + 1);\r\n            \t} else {\r\n        //Remove the method indicator\r\n                \tstrRequest = strRequest.substring(HTTP_GET.length());            \t\t\r\n            \t}\r\n            } else if ( strRequest.startsWith(HTTP_POST) ) {\r\n        //Discard the headers and jump to the data\r\n            \tif ( (intPos = strRequest.lastIndexOf(CRLF)) &gt;= 0 ) {\r\n            \t\tstrRequest = strRequest.substring(intPos + CRLF.length());\t\r\n            \t}\r\n            }\r\n    \t\tif ( strRequest.length() &gt; 1 ) {\r\n        //Extract the parameters            \t\t\r\n    \t\t\tobjParams = new clsHTTPparameters(strRequest);\r\n    \t\t}            \r\n            if ( strRequest.startsWith(&quot;/&quot;) == true ) {\r\n        //Look for the document reference\r\n\t\t\t\tstrRequest = strRequest.substring(1);\t\t\t\t\r\n\t\t\t\teType = eMsgTypes.SEND_DOC;\t\t\t\t\r\n\t\t\t}\r\n            if ( objParams != null ) {\r\n        //Transfer the payload to the request\r\n            \tString strPayload = objParams.getValue(PAYLOAD);\r\n            \t\r\n            \tif ( strPayload != null ) {\r\n            \t\tbyte[] arybytPayload = Base64.decodeBase64(strPayload.getBytes()); \r\n            \t\tstrRequest = new String(arybytPayload);\r\n            \t\tstrAMID = objParams.getValue(AJAX_ID);\r\n            \t\tstrHKey = objParams.getValue(HANDLER_KEY);\r\n            \t}\r\n            } \r\n            if ( eType == eMsgTypes.UNKNOWN \r\n              &amp;&amp; strRequest.startsWith(&quot;{&quot;) &amp;&amp; strRequest.endsWith(&quot;}&quot;) ) {\r\n        //The payload is JSON, is there a type parameter?\r\n            \tString strType = strGetJSONItem(strRequest, JSON_LBL_TYPE);\r\n            \t\r\n\t\t\t\tif ( strType != null &amp;&amp; strType.length() &gt; 0 ) {\r\n        //Decode the type\t\t\t\t\t\r\n\t\t\t\t\teType = eMsgTypes.valueOf(strType.toUpperCase().trim());\r\n        //What system is the message from?\r\n\t\t\t\t\tString strIP = strGetJSONItem(strRequest, JSON_LBL_IP)\r\n\t\t\t\t\t\t  ,strMAC = strGetJSONItem(strRequest, JSON_LBL_MAC);\t\t\t\t\t\r\n\t\t\t\t\tif ( strIP != null &amp;&amp; strIP.length() &gt; 0\r\n\t\t\t\t\t &amp;&amp; strMAC != null &amp;&amp; strMAC.length() &gt; 0 ) {\r\n        //Is this system known in the cluster?\r\n\t\t\t\t\t\tclsIPmon objSystem = objAddSysToCluster(strIP, strMAC);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( objSystem != null ) {\r\n        //Update the date/time stamp of the remote system\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tobjSystem.touch();\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n        //This is an internal cluster message, no response required\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n        \t}            \r\n\t\t\tString strContentType = null, strRespPayload = null;\r\n\t\t\tOutputStream out = sck.getOutputStream();\r\n            byte[] arybytResponse = null;\r\n            boolean blnShutdown = false;\r\n            out.write(&quot;HTTP/1.0 200\\n&quot;.getBytes());\r\n            \r\n\t\t\tswitch( eType ) {\r\n\t\t\tcase SEND_DOC:\r\n\t\t\t\tif ( strRequest.length() &lt;= 1 ) {\r\n\t\t\t\t\tstrRequest = HTML_ROOT + DEFAULT_DOC;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstrRequest = HTML_ROOT + strRequest;\r\n\t\t\t\t}\r\n\t\t\t\tlogMsg(&quot;HTTP Request for: &quot; + strRequest, true);\r\n\t\t\t\t\r\n\t\t\t\tif ( strRequest.toLowerCase().endsWith(&quot;.css&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_CSS;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.gif&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_GIF;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.jpg&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_JPG;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.js&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_JS;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.png&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_PNG;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.html&quot;) == true \r\n\t\t\t\t\t\t || strRequest.toLowerCase().endsWith(&quot;.htm&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_HTML;\r\n\t\t\t\t}\r\n\t\t\t\tFile objFile = new File(strRequest);\r\n\t\t\t\t\r\n\t\t\t\tif ( objFile.exists() == true ) {\r\n\t\t\t\t\tFileInputStream objFIS = new FileInputStream(objFile);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( objFIS != null ) {\r\n\t\t\t\t\t\tarybytResponse = new byte[(int)objFile.length()];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( objFIS.read(arybytResponse) == 0 ) {\r\n\t\t\t\t\t\t\tarybytResponse = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tobjFIS.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase CHANNEL_STS:\r\n\t\t\t\tstrRespPayload = strChannelStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase CLUSTER_STS:\r\n\t\t\t\tstrRespPayload = strClusterStatus();\r\n\t\t\t\tstrContentType = MIME_JSON; \r\n\t\t\t\tbreak;\r\n\t\t\tcase MODULE_STS:\r\n\t\t\t\tstrRespPayload = strModuleStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NETWORK_INF:\r\n\t\t\t\tstrRespPayload = strNetworkInfo(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NODE_STS:\r\n\t\t\t\tstrRespPayload = strNodeStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase POLL_STS:\r\n\t\t\t\tstrRespPayload = strPollStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SYS_STS:\r\n        //Issue system status\t\t\t\t\r\n\t\t\t\tstrRespPayload = strAppStatus();\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t\tcase SHUTDOWN:\r\n        //Issue instruction to restart system\r\n\t\t\t\tstrRespPayload = &quot;Shutdown in progress!&quot;;\r\n\t\t\t\tstrContentType = MIME_PLAIN;\r\n        //Flag that shutdown has been requested\t\t\t\t\r\n\t\t\t\tblnShutdown = true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t}\r\n\t\t\tif ( strRespPayload != null ) {\r\n        //Convert response string to byte array\t\t\t\t\r\n\t\t\t\tarybytResponse = strRespPayload.getBytes();\r\n        System.out.println(&quot;[ &quot; + strRespPayload.length() + &quot; ]: &quot; + strRespPayload);\t        //HACK\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t\tif ( arybytResponse != null &amp;&amp; arybytResponse.length &gt; 0 ) {\r\n\t\t\t\tif ( strContentType == MIME_JSON ) {\r\n\t\t\t\t\tString strResponse = &quot;{&quot;;\r\n\t\t\t\t\r\n\t\t\t\t\tif ( strAMID != null ) {\r\n        //Include the request AJAX Message ID in the response\r\n\t\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\tstrResponse += &quot;\\&quot;&quot; + AJAX_ID + &quot;\\&quot;:&quot; + strAMID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( strHKey != null ) {\r\n\t\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstrResponse += &quot;\\&quot;&quot; + HANDLER_KEY + &quot;\\&quot;:\\&quot;&quot; + strHKey + &quot;\\&quot;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstrResponse += &quot;\\&quot;payload\\&quot;:&quot; + new String(arybytResponse) \r\n                \t\t\t\t + &quot;}&quot;;\t\t\t\t\t\r\n\t\t\t\t\tarybytResponse = strResponse.getBytes();\r\n\t\t\t\t}\r\n\t\t\t\tString strHeaders = &quot;&quot;;\r\n\r\n\t\t\t\tif ( strContentType != null ) {\r\n\t\t\t\t\tstrHeaders += &quot;Content-type: &quot; + strContentType + &quot;\\n&quot;;\t\t\t\t\t\r\n\t\t\t\t}\r\n            \tstrHeaders += &quot;Content-length: &quot; + arybytResponse.length + &quot;\\n&quot; \r\n            \t\t\t\t+ &quot;Access-Control-Allow-Origin: *\\n&quot;\r\n            \t\t\t    + &quot;Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT\\n&quot;\r\n            \t\t\t\t+ &quot;Access-Control-Allow-Credentials: true\\n&quot;\r\n            \t\t\t\t+ &quot;Keep-Alive: timeout=2, max=100\\n&quot;\r\n            \t\t\t\t+ &quot;Cache-Control: no-cache\\n&quot; \r\n            \t\t\t\t+ &quot;Pragma: no-cache\\n\\n&quot;;\r\n\t\t\t\tout.write(strHeaders.getBytes());\r\n\t\t\t\tout.write(arybytResponse);\r\n\t\t\t\tout.flush();\t\t\t\t\r\n\t\t\t}\r\n\t\t\tout.close();\r\n            sck.close();\r\n\r\n            if ( blnShutdown == true ) {\r\n            \tString strSystem =  mobjLocalIP.strGetIP();\r\n            \t \r\n            \tif ( strSystem.compareTo(mobjLocalIP.strGetIP()) != 0 ) {\r\n        //Specified system is not the local system, issue message to remote system.\r\n            \t\tbroadcastMessage(&quot;{\\&quot;&quot; + JSON_LBL_TYPE  + &quot;\\&quot;:\\&quot;&quot; + \r\n                                                       eMsgTypes.SHUTDOWN + &quot;\\&quot;&quot;\r\n            \t\t\t\t\t   + &quot;,\\&quot;&quot; + JSON_LBL_TIME  + &quot;\\&quot;:\\&quot;&quot; + \r\n                                               clsTimeMan.lngTimeNow() + &quot;\\&quot;}&quot;);    \t            \t\t\r\n            \t} else {\r\n        //Shutdown addressed to local system            \t\t\r\n    \t\t\t\tif ( getOS().indexOf(&quot;linux&quot;) &gt;= 0 ) {\r\n        //TO DO!!!\t\t\t\t\t\r\n    \t\t\t\t} else if ( getOS().indexOf(&quot;win&quot;) &gt;= 0 ) {\r\n    \t\t\t\t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\t\t\t\truntime.exec(&quot;shutdown /r /c \\&quot;Shutdown request\\&quot; /t 0 /f&quot;);\r\n    \t\t\t\t\tSystem.exit(EXITCODE_REQUESTED_SHUTDOWN);\r\n    \t\t\t\t}            \t\r\n            \t}\r\n\t\t\t}\r\n        } catch (Exception ex) {        \t\r\n\t\t} finally {\r\n            if (sck != null) {\r\n                try {\r\n                \tsck.close();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI would like to implemented a chunked response, at present chunked responses are not supported by the code above.  \r\n\r\n[Edit] I&#39;ve tried to implement a chunked response by adding the method:\r\n\r\n        /**\r\n         * @param strData - The data to split into chunks\r\n         * @return A string array containing the chunks\r\n         */\r\n\t public static String[] arystrChunkData(String strData) {\r\n\t\tint intChunks = (strData.length() / CHUNK_THRESHOLD_BYTESIZE) + 1;\r\n\t\tString[] arystrChunks = new String[intChunks];\r\n\t\tint intLength = strData.length(), intPos = 0;\r\n\t\t\r\n\t\tfor( int c=0; c&lt;arystrChunks.length; c++ ) {\t\t\t\r\n\t\t\tif ( intPos &lt; intLength ) {\r\n        //Extract a chunk from the data\t\t\t\r\n\t\t\t\tint intEnd = Math.min(intLength - 1, intPos + CHUNK_THRESHOLD_BYTESIZE);\r\n\t\t\t\tarystrChunks[c] = strData.substring(intPos, intEnd);\r\n\t\t\t}\r\n        //Advance data position to next chunk\t\t\t\r\n\t\t\tintPos += CHUNK_THRESHOLD_BYTESIZE;\r\n\t\t}\t\t\r\n\t\treturn arystrChunks;\r\n\t}\r\n\r\n\r\nThe modified processRequest now looks like this:\r\n\r\n            private void processRequest(Socket sck) {\r\n        try {\r\n            //AJAX Parameters\r\n        \tfinal String AJAX_ID\t\t\t= &quot;ajmid&quot;;\r\n            //The &#39;Handler Key&#39; used to decode response        \t\r\n        \tfinal String HANDLER_KEY\t\t= &quot;hkey&quot;;\r\n            //Message payload        \t\r\n        \tfinal String PAYLOAD\t\t\t= &quot;payload&quot;;\r\n            //Post input buffer size        \t\r\n        \tfinal int REQUEST_BUFFER_SIZE\t= 4096;\r\n            //Double carriage return marks the end of the headers        \t\r\n        \tfinal String CRLF\t\t\t\t= &quot;\\r\\n&quot;;\r\n        \t\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(sck.getInputStream()));\r\n        \tString strAMID = null, strHKey = null, strRequest;\r\n        \tchar[] chrBuffer = new char[REQUEST_BUFFER_SIZE];\r\n        \tStringBuffer sbRequest = new StringBuffer();\r\n            eMsgTypes eType = eMsgTypes.UNKNOWN;\r\n            clsHTTPparameters objParams = null;\r\n            int intPos, intCount;            \t\r\n            //Extract the entire request, including headers        \t\r\n            if ( (intCount = in.read(chrBuffer)) == 0 ) {\r\n            \tthrow new Exception(&quot;Cannot read request!&quot;);\r\n            }\r\n        \tsbRequest.append(chrBuffer, 0, intCount);        \t\r\n    \t\tstrRequest = sbRequest.toString();\r\n            //What method is being used by this request?\r\n            if ( strRequest.startsWith(HTTP_GET) ) {\r\n            //The request should end with a HTTP marker, remove this before trying to interpret the data\r\n                if ( strRequest.indexOf(HTTP_MARKER) != -1 ) {\r\n                \tstrRequest = strRequest.substring(0, strRequest.indexOf(HTTP_MARKER)).trim();\r\n                }            \r\n            //Look for a data marker\r\n            \tif ( (intPos = strRequest.indexOf(HTTP_DATA_START)) &gt;= 0 ) {\r\n            //Data is present in the query, skip to the start of the data\r\n            \t\tstrRequest = strRequest.substring(intPos + 1);\r\n            \t} else {\r\n            //Remove the method indicator\r\n                \tstrRequest = strRequest.substring(HTTP_GET.length());            \t\t\r\n            \t}\r\n            } else if ( strRequest.startsWith(HTTP_POST) ) {\r\n            //Discard the headers and jump to the data\r\n            \tif ( (intPos = strRequest.lastIndexOf(CRLF)) &gt;= 0 ) {\r\n            \t\tstrRequest = strRequest.substring(intPos + CRLF.length());\t\r\n            \t}\r\n            }\r\n    \t\tif ( strRequest.length() &gt; 1 ) {\r\n            //Extract the parameters            \t\t\r\n    \t\t\tobjParams = new clsHTTPparameters(strRequest);\r\n    \t\t}            \r\n            if ( strRequest.startsWith(&quot;/&quot;) == true ) {\r\n            //Look for the document reference\r\n\t\t\t\tstrRequest = strRequest.substring(1);\t\t\t\t\r\n\t\t\t\teType = eMsgTypes.SEND_DOC;\t\t\t\t\r\n\t\t\t}\r\n            if ( objParams != null ) {\r\n            //Transfer the payload to the request\r\n            \tString strPayload = objParams.getValue(PAYLOAD);\r\n            \t\r\n            \tif ( strPayload != null ) {\r\n            \t\tbyte[] arybytPayload = Base64.decodeBase64(strPayload.getBytes()); \r\n            \t\tstrRequest = new String(arybytPayload);\r\n            \t\tstrAMID = objParams.getValue(AJAX_ID);\r\n            \t\tstrHKey = objParams.getValue(HANDLER_KEY);\r\n            \t}\r\n            } \r\n            if ( eType == eMsgTypes.UNKNOWN \r\n              &amp;&amp; strRequest.startsWith(&quot;{&quot;) &amp;&amp; strRequest.endsWith(&quot;}&quot;) ) {\r\n            //The payload is JSON, is there a type parameter?\r\n            \tString strType = strGetJSONItem(strRequest, JSON_LBL_TYPE);\r\n            \t\r\n\t\t\t\t  if ( strType != null &amp;&amp; strType.length() &gt; 0 ) {\r\n            //Decode the type\t\t\t\t\t\r\n\t\t\t\t\teType = eMsgTypes.valueOf(strType.toUpperCase().trim());\r\n            //What system is the message from?\r\n\t\t\t\t\tString strIP = strGetJSONItem(strRequest, JSON_LBL_IP)\r\n\t\t\t\t\t\t  ,strMAC = strGetJSONItem(strRequest, JSON_LBL_MAC);\t\t\t\t\t\r\n\t\t\t\t\tif ( strIP != null &amp;&amp; strIP.length() &gt; 0\r\n\t\t\t\t\t &amp;&amp; strMAC != null &amp;&amp; strMAC.length() &gt; 0 ) {\r\n            //Is this system known in the cluster?\r\n\t\t\t\t\t\tclsIPmon objSystem = objAddSysToCluster(strIP, strMAC);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( objSystem != null ) {\r\n            //Update the date/time stamp of the remote system\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tobjSystem.touch();\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n            //This is an internal cluster message, no response required\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n        \t}            \r\n\t\t\tString strContentType = null, strRespPayload = null;\t\t\t\r\n\t\t\tOutputStream out = sck.getOutputStream();\r\n            byte[] arybytResponse = null;\r\n            boolean blnShutdown = false;\r\n            //Start the writing the headers\r\n            String strHeaders = &quot;HTTP/1.0 200\\n&quot;\r\n            \t\t\t  \t  + &quot;Date: &quot; + (new Date()).toString() + &quot;\\n&quot;\r\n            \t\t          + &quot;Access-Control-Allow-Origin: *\\n&quot;\r\n            \t\t\t\t  + &quot;Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT\\n&quot;\r\n            \t\t\t\t  + &quot;Access-Control-Allow-Credentials: true\\n&quot;\r\n            \t\t\t\t  + &quot;Keep-Alive: timeout=2, max=100\\n&quot;\r\n            \t\t\t\t  + &quot;Cache-Control: no-cache\\n&quot; \r\n            \t\t\t\t  + &quot;Pragma: no-cache\\n&quot;;            \r\n            out.write(strHeaders.getBytes());\r\n            strHeaders = &quot;&quot;;\r\n            \r\n\t\t\tswitch( eType ) {\r\n\t\t\tcase SEND_DOC:\r\n\t\t\t\tif ( strRequest.length() &lt;= 1 ) {\r\n\t\t\t\t\tstrRequest = HTML_ROOT + DEFAULT_DOC;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstrRequest = HTML_ROOT + strRequest;\r\n\t\t\t\t}\r\n\t\t\t\tlogMsg(&quot;HTTP Request for: &quot; + strRequest, true);\r\n\t\t\t\t\r\n\t\t\t\tif ( strRequest.toLowerCase().endsWith(&quot;.css&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_CSS;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.gif&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_GIF;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.jpg&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_JPG;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.js&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_JS;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.png&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_PNG;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.html&quot;) == true \r\n\t\t\t\t\t\t || strRequest.toLowerCase().endsWith(&quot;.htm&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_HTML;\r\n\t\t\t\t}\r\n\t\t\t\tFile objFile = new File(strRequest);\r\n\t\t\t\t\r\n\t\t\t\tif ( objFile.exists() == true ) {\r\n\t\t\t\t\tFileInputStream objFIS = new FileInputStream(objFile);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( objFIS != null ) {\r\n\t\t\t\t\t\tarybytResponse = new byte[(int)objFile.length()];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( objFIS.read(arybytResponse) == 0 ) {\r\n\t\t\t\t\t\t\tarybytResponse = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tobjFIS.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase CHANNEL_STS:\r\n\t\t\t\tstrRespPayload = strChannelStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase CLUSTER_STS:\r\n\t\t\t\tstrRespPayload = strClusterStatus();\r\n\t\t\t\tstrContentType = MIME_JSON; \r\n\t\t\t\tbreak;\r\n\t\t\tcase MODULE_STS:\r\n\t\t\t\tstrRespPayload = strModuleStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NETWORK_INF:\r\n\t\t\t\tstrRespPayload = strNetworkInfo(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NODE_STS:\r\n\t\t\t\tstrRespPayload = strNodeStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase POLL_STS:\r\n\t\t\t\tstrRespPayload = strPollStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SYS_STS:\r\n            //Issue system status\t\t\t\t\r\n\t\t\t\tstrRespPayload = strAppStatus();\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t\tcase SHUTDOWN:\r\n            //Issue instruction to restart system\r\n\t\t\t\tstrRespPayload = &quot;Shutdown in progress!&quot;;\r\n\t\t\t\tstrContentType = MIME_PLAIN;\r\n            //Flag that shutdown has been requested\t\t\t\t\r\n\t\t\t\tblnShutdown = true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t}\r\n\t\t\tif ( strRespPayload != null ) {\r\n            //Convert response string to byte array\t\t\t\t\r\n\t\t\t\tarybytResponse = strRespPayload.getBytes();\r\n\t\t\t}\t\t\t\r\n\t\t\tif ( arybytResponse != null &amp;&amp; arybytResponse.length &gt; 0 ) {\r\n\t\t\t\tboolean blnChunked = false;\r\n\t\t\t\t\r\n\t\t\t\tif ( strContentType != null ) {\r\n\t\t\t\t\tstrHeaders += &quot;Content-type: &quot; + strContentType + &quot;\\n&quot;;\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tif ( strContentType == MIME_JSON ) {\r\n\t\t\t\t\tString strResponse = &quot;{&quot;;\r\n\t\t\t\t\r\n\t\t\t\t\tif ( strAMID != null ) {\r\n            //Include the request AJAX Message ID in the response\r\n\t\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\tstrResponse += &quot;\\&quot;&quot; + AJAX_ID + &quot;\\&quot;:&quot; + strAMID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( strHKey != null ) {\r\n\t\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstrResponse += &quot;\\&quot;&quot; + HANDLER_KEY + &quot;\\&quot;:\\&quot;&quot; + strHKey + &quot;\\&quot;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstrResponse += &quot;\\&quot;payload\\&quot;:&quot; + new String(arybytResponse) \r\n                \t\t\t\t + &quot;}&quot;;\r\n            //How big is the response?\r\n        if ( strResponse.length() &gt; CHUNK_THRESHOLD_BYTESIZE ) {\r\n\t\t\t\t\t\tblnChunked = true;\r\n        \t\t\t\tstrHeaders += &quot;Transfer-Encoding: chunked\\n\\n&quot;;\r\n\t\t\t\t\t\tout.write(strHeaders.getBytes());\r\n            //Slice up the string into chunks\r\n        \t\t\t\t\t\tString[] arystrChunks = arystrChunkData(strResponse);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor( int c=0; c&lt;arystrChunks.length; c++ ) {\r\n\t\t\t\t\t\t\tString strChunk = arystrChunks[c];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ( strChunk != null ) {\r\n\t\t\t\t\t\t\t\tString strLength = Integer.toHexString(strChunk.length()) + &quot;\\r\\n&quot;;\r\n\t\t\t\t\t\t\t\tstrChunk += &quot;\\r\\n&quot;;\r\n\t\t\t\t\t\t\t\tout.write(strLength.getBytes());\r\n\t\t\t\t\t\t\t\tout.write(strChunk.getBytes());\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n            //Last chunk is always 0 bytes \t\t\t\t\t\t\r\n\t\t\t\t\t\tout.write(&quot;0\\r\\n\\r\\n&quot;.getBytes());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tarybytResponse = strResponse.getBytes();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif ( blnChunked == false ) {\t\r\n\t            \tstrHeaders += &quot;Content-length: &quot; + arybytResponse.length + &quot;\\n\\n&quot;;\t            \t\t\t\r\n\t\t\t\t\tout.write(strHeaders.getBytes());\r\n\t\t\t\t\tout.write(arybytResponse);\r\n\t\t\t\t}\r\n\t\t\t\tout.flush();\t\t\t\t\r\n\t\t\t}\r\n\t\t\tout.close();\r\n            sck.close();\r\n\r\n            if ( blnShutdown == true ) {\r\n            \tString strSystem =  mobjLocalIP.strGetIP();\r\n            \t \r\n            \tif ( strSystem.compareTo(mobjLocalIP.strGetIP()) != 0 ) {\r\n            //Specified system is not the local system, issue message to remote system.\r\n            \t\tbroadcastMessage(&quot;{\\&quot;&quot; + JSON_LBL_TYPE  + &quot;\\&quot;:\\&quot;&quot; + \r\n                                                       eMsgTypes.SHUTDOWN + &quot;\\&quot;&quot;\r\n            \t\t\t\t\t   + &quot;,\\&quot;&quot; + JSON_LBL_TIME  + &quot;\\&quot;:\\&quot;&quot; + \r\n                                               clsTimeMan.lngTimeNow() + &quot;\\&quot;}&quot;);    \t            \t\t\r\n            \t} else {\r\n        //Shutdown addressed to local system            \t\t\r\n    \t\t\t\tif ( getOS().indexOf(&quot;linux&quot;) &gt;= 0 ) {\r\n            //TO DO!!!\t\t\t\t\t\r\n    \t\t\t\t} else if ( getOS().indexOf(&quot;win&quot;) &gt;= 0 ) {\r\n    \t\t\t\t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\t\t\t\truntime.exec(&quot;shutdown /r /c \\&quot;Shutdown request\\&quot; /t 0 /f&quot;);\r\n    \t\t\t\t\tSystem.exit(EXITCODE_REQUESTED_SHUTDOWN);\r\n    \t\t\t\t}            \t\r\n            \t}\r\n\t\t\t}\r\n        } catch (Exception ex) {        \t\r\n\t\t} finally {\r\n            if (sck != null) {\r\n                try {\r\n                \tsck.close();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve read several specifications for Chunked responses and as far as I can tell I am sending data in the correct format, however I don&#39;t receive anything in the browser.\r\n\r\nI may have wrongly assume that the browser would correctly piece together the chunks into one, but I could be wrong.  The client side handler looks like this:\r\n\r\n          this.responseHandler = function() {\r\n    try {    \r\n      if ( mobjHTTP == null\r\n      || !(mobjHTTP.readyState == 4 &amp;&amp; mobjHTTP.status == 200)\r\n      || !(mstrResponseText = mobjHTTP.responseText)\r\n      || mstrResponseText.length == 0 ) {\r\n        //Not ready or no response to decode      \r\n        return;\r\n      }\r\n        //Do something with the response\r\n        } catch( ex ) {\r\n      T.error(&quot;responseHandler:&quot;, ex);\r\n    }\r\n  };\r\n\r\nThis handler is set-up elsewhere in the object:\r\n\r\n        mobjHTTP.onreadystatechange = this.responseHandler;\r\n\r\n","title":"Java HTTP server sending chunked response","body":"<p>I am working on a Java application which has a built in HTTP server, at the moment the server is implemented using ServerSocketChannel, it listens on port 1694 for requests:</p>\n\n<pre><code>        msvrCh = ServerSocketChannel.open();\n        msvrCh.socket().bind(new InetSocketAddress(mintPort));\n        msvrCh.configureBlocking(false);\n</code></pre>\n\n<p>A thread is installed to manage requests and responses:</p>\n\n<pre><code>        Thread thrd = new Thread(msgReceiver);\n        thrd.setUncaughtExceptionHandler(exceptionHandler);\n        thrd.start();\n</code></pre>\n\n<p>The thread is quite simple:</p>\n\n<pre><code>        Runnable msgReceiver = new Runnable() {\n            @Override\n            public void run() {\n                try{\n                    while( !Thread.interrupted() ) {\n    //Sleep a short period between checks for new requests                          \n                        try{\n                            Thread.sleep(DELAY_BETWEEN_ACCEPTS);\n                        } catch(Exception ex) {\n                            ex.printStackTrace();\n                        }                           \n                        SocketChannel cliCh = msvrCh.accept();\n\n                        if ( blnExit() == true ) {\n                            break;\n                        }                           \n                        if ( cliCh == null ) {\n                            continue;\n                        }\n                        processRequest(cliCh.socket());\n                    }                       \n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                } finally {                     \n                    logMsg(TERMINATING_THREAD + \n                            \"for accepting cluster connections\", true);\n\n                    if ( msvrCh != null ) {\n                        try {\n                            msvrCh.close();\n                        } catch (IOException ex) {\n                            ex.printStackTrace();\n                        }\n                        msvrCh = null;\n                    }\n                }               \n            }\n        };\n</code></pre>\n\n<p>The main bulk of the code for dealing with the response is in the function processRequest:</p>\n\n<pre><code>private void processRequest(Socket sck) {\n    try {\n    //AJAX Parameters\n        final String AJAX_ID            = \"ajmid\";\n    //The 'Handler Key' used to decode response         \n        final String HANDLER_KEY        = \"hkey\";\n    //Message payload           \n        final String PAYLOAD            = \"payload\";\n    //Post input buffer size            \n        final int REQUEST_BUFFER_SIZE   = 4096;\n    //Double carriage return marks the end of the headers           \n        final String CRLF               = \"\\r\\n\";\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(sck.getInputStream()));\n        String strAMID = null, strHKey = null, strRequest;\n        char[] chrBuffer = new char[REQUEST_BUFFER_SIZE];\n        StringBuffer sbRequest = new StringBuffer();\n        eMsgTypes eType = eMsgTypes.UNKNOWN;\n        clsHTTPparameters objParams = null;\n        int intPos, intCount;               \n    //Extract the entire request, including headers         \n        if ( (intCount = in.read(chrBuffer)) == 0 ) {\n            throw new Exception(\"Cannot read request!\");\n        }\n        sbRequest.append(chrBuffer, 0, intCount);           \n        strRequest = sbRequest.toString();\n    //What method is being used by this request?\n        if ( strRequest.startsWith(HTTP_GET) ) {\n    //The request should end with a HTTP marker, remove this before trying to interpret the data\n            if ( strRequest.indexOf(HTTP_MARKER) != -1 ) {\n                strRequest = strRequest.substring(0, strRequest.indexOf(HTTP_MARKER)).trim();\n            }            \n    //Look for a data marker\n            if ( (intPos = strRequest.indexOf(HTTP_DATA_START)) &gt;= 0 ) {\n    //Data is present in the query, skip to the start of the data\n                strRequest = strRequest.substring(intPos + 1);\n            } else {\n    //Remove the method indicator\n                strRequest = strRequest.substring(HTTP_GET.length());                   \n            }\n        } else if ( strRequest.startsWith(HTTP_POST) ) {\n    //Discard the headers and jump to the data\n            if ( (intPos = strRequest.lastIndexOf(CRLF)) &gt;= 0 ) {\n                strRequest = strRequest.substring(intPos + CRLF.length());  \n            }\n        }\n        if ( strRequest.length() &gt; 1 ) {\n    //Extract the parameters                    \n            objParams = new clsHTTPparameters(strRequest);\n        }            \n        if ( strRequest.startsWith(\"/\") == true ) {\n    //Look for the document reference\n            strRequest = strRequest.substring(1);               \n            eType = eMsgTypes.SEND_DOC;             \n        }\n        if ( objParams != null ) {\n    //Transfer the payload to the request\n            String strPayload = objParams.getValue(PAYLOAD);\n\n            if ( strPayload != null ) {\n                byte[] arybytPayload = Base64.decodeBase64(strPayload.getBytes()); \n                strRequest = new String(arybytPayload);\n                strAMID = objParams.getValue(AJAX_ID);\n                strHKey = objParams.getValue(HANDLER_KEY);\n            }\n        } \n        if ( eType == eMsgTypes.UNKNOWN \n          &amp;&amp; strRequest.startsWith(\"{\") &amp;&amp; strRequest.endsWith(\"}\") ) {\n    //The payload is JSON, is there a type parameter?\n            String strType = strGetJSONItem(strRequest, JSON_LBL_TYPE);\n\n            if ( strType != null &amp;&amp; strType.length() &gt; 0 ) {\n    //Decode the type                   \n                eType = eMsgTypes.valueOf(strType.toUpperCase().trim());\n    //What system is the message from?\n                String strIP = strGetJSONItem(strRequest, JSON_LBL_IP)\n                      ,strMAC = strGetJSONItem(strRequest, JSON_LBL_MAC);                   \n                if ( strIP != null &amp;&amp; strIP.length() &gt; 0\n                 &amp;&amp; strMAC != null &amp;&amp; strMAC.length() &gt; 0 ) {\n    //Is this system known in the cluster?\n                    clsIPmon objSystem = objAddSysToCluster(strIP, strMAC);\n\n                    if ( objSystem != null ) {\n    //Update the date/time stamp of the remote system                           \n                        objSystem.touch();                          \n                    }\n    //This is an internal cluster message, no response required\n                    return;\n                }                   \n            }\n        }            \n        String strContentType = null, strRespPayload = null;\n        OutputStream out = sck.getOutputStream();\n        byte[] arybytResponse = null;\n        boolean blnShutdown = false;\n        out.write(\"HTTP/1.0 200\\n\".getBytes());\n\n        switch( eType ) {\n        case SEND_DOC:\n            if ( strRequest.length() &lt;= 1 ) {\n                strRequest = HTML_ROOT + DEFAULT_DOC;\n            } else {\n                strRequest = HTML_ROOT + strRequest;\n            }\n            logMsg(\"HTTP Request for: \" + strRequest, true);\n\n            if ( strRequest.toLowerCase().endsWith(\".css\") == true ) {\n                strContentType = MIME_CSS;\n            } else if ( strRequest.toLowerCase().endsWith(\".gif\") == true ) {\n                strContentType = MIME_GIF;\n            } else if ( strRequest.toLowerCase().endsWith(\".jpg\") == true ) {\n                strContentType = MIME_JPG;\n            } else if ( strRequest.toLowerCase().endsWith(\".js\") == true ) {\n                strContentType = MIME_JS;\n            } else if ( strRequest.toLowerCase().endsWith(\".png\") == true ) {\n                strContentType = MIME_PNG;\n            } else if ( strRequest.toLowerCase().endsWith(\".html\") == true \n                     || strRequest.toLowerCase().endsWith(\".htm\") == true ) {\n                strContentType = MIME_HTML;\n            }\n            File objFile = new File(strRequest);\n\n            if ( objFile.exists() == true ) {\n                FileInputStream objFIS = new FileInputStream(objFile);\n\n                if ( objFIS != null ) {\n                    arybytResponse = new byte[(int)objFile.length()];\n\n                    if ( objFIS.read(arybytResponse) == 0 ) {\n                        arybytResponse = null;\n                    }\n                    objFIS.close();\n                }\n            }\n            break;\n        case CHANNEL_STS:\n            strRespPayload = strChannelStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case CLUSTER_STS:\n            strRespPayload = strClusterStatus();\n            strContentType = MIME_JSON; \n            break;\n        case MODULE_STS:\n            strRespPayload = strModuleStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case NETWORK_INF:\n            strRespPayload = strNetworkInfo(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case NODE_STS:\n            strRespPayload = strNodeStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case POLL_STS:\n            strRespPayload = strPollStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case SYS_STS:\n    //Issue system status               \n            strRespPayload = strAppStatus();\n            strContentType = MIME_JSON;\n            break;          \n        case SHUTDOWN:\n    //Issue instruction to restart system\n            strRespPayload = \"Shutdown in progress!\";\n            strContentType = MIME_PLAIN;\n    //Flag that shutdown has been requested             \n            blnShutdown = true;\n            break;\n        default:\n        }\n        if ( strRespPayload != null ) {\n    //Convert response string to byte array             \n            arybytResponse = strRespPayload.getBytes();\n    System.out.println(\"[ \" + strRespPayload.length() + \" ]: \" + strRespPayload);           //HACK          \n        }           \n        if ( arybytResponse != null &amp;&amp; arybytResponse.length &gt; 0 ) {\n            if ( strContentType == MIME_JSON ) {\n                String strResponse = \"{\";\n\n                if ( strAMID != null ) {\n    //Include the request AJAX Message ID in the response\n                    if ( strResponse.length() &gt; 1 ) {\n                        strResponse += \",\";\n                    }   \n                    strResponse += \"\\\"\" + AJAX_ID + \"\\\":\" + strAMID;\n                }\n                if ( strHKey != null ) {\n                    if ( strResponse.length() &gt; 1 ) {\n                        strResponse += \",\";\n                    }\n                    strResponse += \"\\\"\" + HANDLER_KEY + \"\\\":\\\"\" + strHKey + \"\\\"\";\n                }\n                if ( strResponse.length() &gt; 1 ) {\n                    strResponse += \",\";\n                }\n                strResponse += \"\\\"payload\\\":\" + new String(arybytResponse) \n                             + \"}\";                 \n                arybytResponse = strResponse.getBytes();\n            }\n            String strHeaders = \"\";\n\n            if ( strContentType != null ) {\n                strHeaders += \"Content-type: \" + strContentType + \"\\n\";                 \n            }\n            strHeaders += \"Content-length: \" + arybytResponse.length + \"\\n\" \n                        + \"Access-Control-Allow-Origin: *\\n\"\n                        + \"Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT\\n\"\n                        + \"Access-Control-Allow-Credentials: true\\n\"\n                        + \"Keep-Alive: timeout=2, max=100\\n\"\n                        + \"Cache-Control: no-cache\\n\" \n                        + \"Pragma: no-cache\\n\\n\";\n            out.write(strHeaders.getBytes());\n            out.write(arybytResponse);\n            out.flush();                \n        }\n        out.close();\n        sck.close();\n\n        if ( blnShutdown == true ) {\n            String strSystem =  mobjLocalIP.strGetIP();\n\n            if ( strSystem.compareTo(mobjLocalIP.strGetIP()) != 0 ) {\n    //Specified system is not the local system, issue message to remote system.\n                broadcastMessage(\"{\\\"\" + JSON_LBL_TYPE  + \"\\\":\\\"\" + \n                                                   eMsgTypes.SHUTDOWN + \"\\\"\"\n                               + \",\\\"\" + JSON_LBL_TIME  + \"\\\":\\\"\" + \n                                           clsTimeMan.lngTimeNow() + \"\\\"}\");                            \n            } else {\n    //Shutdown addressed to local system                    \n                if ( getOS().indexOf(\"linux\") &gt;= 0 ) {\n    //TO DO!!!                  \n                } else if ( getOS().indexOf(\"win\") &gt;= 0 ) {\n                    Runtime runtime = Runtime.getRuntime();\n                    runtime.exec(\"shutdown /r /c \\\"Shutdown request\\\" /t 0 /f\");\n                    System.exit(EXITCODE_REQUESTED_SHUTDOWN);\n                }               \n            }\n        }\n    } catch (Exception ex) {            \n    } finally {\n        if (sck != null) {\n            try {\n                sck.close();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I would like to implemented a chunked response, at present chunked responses are not supported by the code above.  </p>\n\n<p>[Edit] I've tried to implement a chunked response by adding the method:</p>\n\n<pre><code>    /**\n     * @param strData - The data to split into chunks\n     * @return A string array containing the chunks\n     */\n public static String[] arystrChunkData(String strData) {\n    int intChunks = (strData.length() / CHUNK_THRESHOLD_BYTESIZE) + 1;\n    String[] arystrChunks = new String[intChunks];\n    int intLength = strData.length(), intPos = 0;\n\n    for( int c=0; c&lt;arystrChunks.length; c++ ) {            \n        if ( intPos &lt; intLength ) {\n    //Extract a chunk from the data         \n            int intEnd = Math.min(intLength - 1, intPos + CHUNK_THRESHOLD_BYTESIZE);\n            arystrChunks[c] = strData.substring(intPos, intEnd);\n        }\n    //Advance data position to next chunk           \n        intPos += CHUNK_THRESHOLD_BYTESIZE;\n    }       \n    return arystrChunks;\n}\n</code></pre>\n\n<p>The modified processRequest now looks like this:</p>\n\n<pre><code>        private void processRequest(Socket sck) {\n    try {\n        //AJAX Parameters\n        final String AJAX_ID            = \"ajmid\";\n        //The 'Handler Key' used to decode response         \n        final String HANDLER_KEY        = \"hkey\";\n        //Message payload           \n        final String PAYLOAD            = \"payload\";\n        //Post input buffer size            \n        final int REQUEST_BUFFER_SIZE   = 4096;\n        //Double carriage return marks the end of the headers           \n        final String CRLF               = \"\\r\\n\";\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(sck.getInputStream()));\n        String strAMID = null, strHKey = null, strRequest;\n        char[] chrBuffer = new char[REQUEST_BUFFER_SIZE];\n        StringBuffer sbRequest = new StringBuffer();\n        eMsgTypes eType = eMsgTypes.UNKNOWN;\n        clsHTTPparameters objParams = null;\n        int intPos, intCount;               \n        //Extract the entire request, including headers         \n        if ( (intCount = in.read(chrBuffer)) == 0 ) {\n            throw new Exception(\"Cannot read request!\");\n        }\n        sbRequest.append(chrBuffer, 0, intCount);           \n        strRequest = sbRequest.toString();\n        //What method is being used by this request?\n        if ( strRequest.startsWith(HTTP_GET) ) {\n        //The request should end with a HTTP marker, remove this before trying to interpret the data\n            if ( strRequest.indexOf(HTTP_MARKER) != -1 ) {\n                strRequest = strRequest.substring(0, strRequest.indexOf(HTTP_MARKER)).trim();\n            }            \n        //Look for a data marker\n            if ( (intPos = strRequest.indexOf(HTTP_DATA_START)) &gt;= 0 ) {\n        //Data is present in the query, skip to the start of the data\n                strRequest = strRequest.substring(intPos + 1);\n            } else {\n        //Remove the method indicator\n                strRequest = strRequest.substring(HTTP_GET.length());                   \n            }\n        } else if ( strRequest.startsWith(HTTP_POST) ) {\n        //Discard the headers and jump to the data\n            if ( (intPos = strRequest.lastIndexOf(CRLF)) &gt;= 0 ) {\n                strRequest = strRequest.substring(intPos + CRLF.length());  \n            }\n        }\n        if ( strRequest.length() &gt; 1 ) {\n        //Extract the parameters                    \n            objParams = new clsHTTPparameters(strRequest);\n        }            \n        if ( strRequest.startsWith(\"/\") == true ) {\n        //Look for the document reference\n            strRequest = strRequest.substring(1);               \n            eType = eMsgTypes.SEND_DOC;             \n        }\n        if ( objParams != null ) {\n        //Transfer the payload to the request\n            String strPayload = objParams.getValue(PAYLOAD);\n\n            if ( strPayload != null ) {\n                byte[] arybytPayload = Base64.decodeBase64(strPayload.getBytes()); \n                strRequest = new String(arybytPayload);\n                strAMID = objParams.getValue(AJAX_ID);\n                strHKey = objParams.getValue(HANDLER_KEY);\n            }\n        } \n        if ( eType == eMsgTypes.UNKNOWN \n          &amp;&amp; strRequest.startsWith(\"{\") &amp;&amp; strRequest.endsWith(\"}\") ) {\n        //The payload is JSON, is there a type parameter?\n            String strType = strGetJSONItem(strRequest, JSON_LBL_TYPE);\n\n              if ( strType != null &amp;&amp; strType.length() &gt; 0 ) {\n        //Decode the type                   \n                eType = eMsgTypes.valueOf(strType.toUpperCase().trim());\n        //What system is the message from?\n                String strIP = strGetJSONItem(strRequest, JSON_LBL_IP)\n                      ,strMAC = strGetJSONItem(strRequest, JSON_LBL_MAC);                   \n                if ( strIP != null &amp;&amp; strIP.length() &gt; 0\n                 &amp;&amp; strMAC != null &amp;&amp; strMAC.length() &gt; 0 ) {\n        //Is this system known in the cluster?\n                    clsIPmon objSystem = objAddSysToCluster(strIP, strMAC);\n\n                    if ( objSystem != null ) {\n        //Update the date/time stamp of the remote system                           \n                        objSystem.touch();                          \n                    }\n        //This is an internal cluster message, no response required\n                    return;\n                }                   \n            }\n        }            \n        String strContentType = null, strRespPayload = null;            \n        OutputStream out = sck.getOutputStream();\n        byte[] arybytResponse = null;\n        boolean blnShutdown = false;\n        //Start the writing the headers\n        String strHeaders = \"HTTP/1.0 200\\n\"\n                          + \"Date: \" + (new Date()).toString() + \"\\n\"\n                          + \"Access-Control-Allow-Origin: *\\n\"\n                          + \"Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT\\n\"\n                          + \"Access-Control-Allow-Credentials: true\\n\"\n                          + \"Keep-Alive: timeout=2, max=100\\n\"\n                          + \"Cache-Control: no-cache\\n\" \n                          + \"Pragma: no-cache\\n\";            \n        out.write(strHeaders.getBytes());\n        strHeaders = \"\";\n\n        switch( eType ) {\n        case SEND_DOC:\n            if ( strRequest.length() &lt;= 1 ) {\n                strRequest = HTML_ROOT + DEFAULT_DOC;\n            } else {\n                strRequest = HTML_ROOT + strRequest;\n            }\n            logMsg(\"HTTP Request for: \" + strRequest, true);\n\n            if ( strRequest.toLowerCase().endsWith(\".css\") == true ) {\n                strContentType = MIME_CSS;\n            } else if ( strRequest.toLowerCase().endsWith(\".gif\") == true ) {\n                strContentType = MIME_GIF;\n            } else if ( strRequest.toLowerCase().endsWith(\".jpg\") == true ) {\n                strContentType = MIME_JPG;\n            } else if ( strRequest.toLowerCase().endsWith(\".js\") == true ) {\n                strContentType = MIME_JS;\n            } else if ( strRequest.toLowerCase().endsWith(\".png\") == true ) {\n                strContentType = MIME_PNG;\n            } else if ( strRequest.toLowerCase().endsWith(\".html\") == true \n                     || strRequest.toLowerCase().endsWith(\".htm\") == true ) {\n                strContentType = MIME_HTML;\n            }\n            File objFile = new File(strRequest);\n\n            if ( objFile.exists() == true ) {\n                FileInputStream objFIS = new FileInputStream(objFile);\n\n                if ( objFIS != null ) {\n                    arybytResponse = new byte[(int)objFile.length()];\n\n                    if ( objFIS.read(arybytResponse) == 0 ) {\n                        arybytResponse = null;\n                    }\n                    objFIS.close();\n                }\n            }\n            break;\n        case CHANNEL_STS:\n            strRespPayload = strChannelStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case CLUSTER_STS:\n            strRespPayload = strClusterStatus();\n            strContentType = MIME_JSON; \n            break;\n        case MODULE_STS:\n            strRespPayload = strModuleStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case NETWORK_INF:\n            strRespPayload = strNetworkInfo(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case NODE_STS:\n            strRespPayload = strNodeStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case POLL_STS:\n            strRespPayload = strPollStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case SYS_STS:\n        //Issue system status               \n            strRespPayload = strAppStatus();\n            strContentType = MIME_JSON;\n            break;          \n        case SHUTDOWN:\n        //Issue instruction to restart system\n            strRespPayload = \"Shutdown in progress!\";\n            strContentType = MIME_PLAIN;\n        //Flag that shutdown has been requested             \n            blnShutdown = true;\n            break;\n        default:\n        }\n        if ( strRespPayload != null ) {\n        //Convert response string to byte array             \n            arybytResponse = strRespPayload.getBytes();\n        }           \n        if ( arybytResponse != null &amp;&amp; arybytResponse.length &gt; 0 ) {\n            boolean blnChunked = false;\n\n            if ( strContentType != null ) {\n                strHeaders += \"Content-type: \" + strContentType + \"\\n\";                 \n            }               \n            if ( strContentType == MIME_JSON ) {\n                String strResponse = \"{\";\n\n                if ( strAMID != null ) {\n        //Include the request AJAX Message ID in the response\n                    if ( strResponse.length() &gt; 1 ) {\n                        strResponse += \",\";\n                    }   \n                    strResponse += \"\\\"\" + AJAX_ID + \"\\\":\" + strAMID;\n                }\n                if ( strHKey != null ) {\n                    if ( strResponse.length() &gt; 1 ) {\n                        strResponse += \",\";\n                    }\n                    strResponse += \"\\\"\" + HANDLER_KEY + \"\\\":\\\"\" + strHKey + \"\\\"\";\n                }\n                if ( strResponse.length() &gt; 1 ) {\n                    strResponse += \",\";\n                }\n                strResponse += \"\\\"payload\\\":\" + new String(arybytResponse) \n                             + \"}\";\n        //How big is the response?\n    if ( strResponse.length() &gt; CHUNK_THRESHOLD_BYTESIZE ) {\n                    blnChunked = true;\n                    strHeaders += \"Transfer-Encoding: chunked\\n\\n\";\n                    out.write(strHeaders.getBytes());\n        //Slice up the string into chunks\n                            String[] arystrChunks = arystrChunkData(strResponse);\n\n                    for( int c=0; c&lt;arystrChunks.length; c++ ) {\n                        String strChunk = arystrChunks[c];\n\n                        if ( strChunk != null ) {\n                            String strLength = Integer.toHexString(strChunk.length()) + \"\\r\\n\";\n                            strChunk += \"\\r\\n\";\n                            out.write(strLength.getBytes());\n                            out.write(strChunk.getBytes());\n                        }                           \n                    }\n        //Last chunk is always 0 bytes                      \n                    out.write(\"0\\r\\n\\r\\n\".getBytes());\n                } else {\n                    arybytResponse = strResponse.getBytes();\n                }\n            }\n            if ( blnChunked == false ) {    \n                strHeaders += \"Content-length: \" + arybytResponse.length + \"\\n\\n\";                          \n                out.write(strHeaders.getBytes());\n                out.write(arybytResponse);\n            }\n            out.flush();                \n        }\n        out.close();\n        sck.close();\n\n        if ( blnShutdown == true ) {\n            String strSystem =  mobjLocalIP.strGetIP();\n\n            if ( strSystem.compareTo(mobjLocalIP.strGetIP()) != 0 ) {\n        //Specified system is not the local system, issue message to remote system.\n                broadcastMessage(\"{\\\"\" + JSON_LBL_TYPE  + \"\\\":\\\"\" + \n                                                   eMsgTypes.SHUTDOWN + \"\\\"\"\n                               + \",\\\"\" + JSON_LBL_TIME  + \"\\\":\\\"\" + \n                                           clsTimeMan.lngTimeNow() + \"\\\"}\");                            \n            } else {\n    //Shutdown addressed to local system                    \n                if ( getOS().indexOf(\"linux\") &gt;= 0 ) {\n        //TO DO!!!                  \n                } else if ( getOS().indexOf(\"win\") &gt;= 0 ) {\n                    Runtime runtime = Runtime.getRuntime();\n                    runtime.exec(\"shutdown /r /c \\\"Shutdown request\\\" /t 0 /f\");\n                    System.exit(EXITCODE_REQUESTED_SHUTDOWN);\n                }               \n            }\n        }\n    } catch (Exception ex) {            \n    } finally {\n        if (sck != null) {\n            try {\n                sck.close();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I've read several specifications for Chunked responses and as far as I can tell I am sending data in the correct format, however I don't receive anything in the browser.</p>\n\n<p>I may have wrongly assume that the browser would correctly piece together the chunks into one, but I could be wrong.  The client side handler looks like this:</p>\n\n<pre><code>      this.responseHandler = function() {\ntry {    \n  if ( mobjHTTP == null\n  || !(mobjHTTP.readyState == 4 &amp;&amp; mobjHTTP.status == 200)\n  || !(mstrResponseText = mobjHTTP.responseText)\n  || mstrResponseText.length == 0 ) {\n    //Not ready or no response to decode      \n    return;\n  }\n    //Do something with the response\n    } catch( ex ) {\n  T.error(\"responseHandler:\", ex);\n}\n</code></pre>\n\n<p>};</p>\n\n<p>This handler is set-up elsewhere in the object:</p>\n\n<pre><code>    mobjHTTP.onreadystatechange = this.responseHandler;\n</code></pre>\n"},{"tags":["java","html","base64","png","signature"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647861231,"post_id":71556559,"comment_id":126469211,"body_markdown":"&#39;Asetronics&#39; looks well encoded to me. Could be that Microsoft have broken the standard (wouldn&#39;t be the first time)","body":"&#39;Asetronics&#39; looks well encoded to me. Could be that Microsoft have broken the standard (wouldn&#39;t be the first time)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647862236,"post_id":71556559,"comment_id":126469579,"body_markdown":"https://support.microsoft.com/de-de/topic/ea15bbf7-9c46-6edc-569e-65e373317670","body":"<a href=\"https://support.microsoft.com/de-de/topic/ea15bbf7-9c46-6edc-569e-65e373317670\" rel=\"nofollow noreferrer\">support.microsoft.com/de-de/topic/&hellip;</a>"},{"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"score":0,"creation_date":1647866339,"post_id":71556559,"comment_id":126471091,"body_markdown":"Deleting the Key BlockHTTPimage sadly doesn&#39;t resolve the issue.","body":"Deleting the Key BlockHTTPimage sadly doesn&#39;t resolve the issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647866391,"post_id":71556559,"comment_id":126471123,"body_markdown":"Did you reboot?","body":"Did you reboot?"},{"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"score":0,"creation_date":1647867243,"post_id":71556559,"comment_id":126471468,"body_markdown":"To be precise there, wasn&#39;t even a key named BlockHTTPimage under: HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\x.0\\Common","body":"To be precise there, wasn&#39;t even a key named BlockHTTPimage under: HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\x.0\\Common"}],"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647860749,"creation_date":1647860749,"question_id":71556559,"body_markdown":"I&#39;m having trouble embedding a base64 encoded png file into outlook signature via java/html. It recently stopped working the way it used to and I think some Windows update is the reason as to why it stopped working properly.\r\n\r\nThe picture&#39;s not properly embedded like shown [here.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wNcYA.png\r\n\r\nThis method is writing the html content:\r\n\r\n        private void changeHTMLContent(String HTMLFileName) throws FileNotFoundException, IOException, SQLException {\r\n        getHTMLContent(HTMLFileName);\r\n        String fileLang = HTMLFileName.substring(11, 13).toUpperCase();\r\n        langCfg = cfgReader.getLanguageConfig(fileLang);\r\n\r\n        htmlString = htmlString.replace(&quot;[NAME]&quot;, uDataSet.getPersonalName());\r\n        htmlString = htmlString.replace(&quot;[VORNAME]&quot;, uDataSet.getPersonalFirstName());\r\n        htmlString = htmlString.replace(&quot;[FUNKTION]&quot;, uDataSet.getPersonalFunction());\r\n        htmlString = htmlString.replace(&quot;[TELEFON]&quot;, langCfg.get(&quot;tel&quot;) + &quot; &quot; + uDataSet.getTelefonNumber());\r\n        if (uDataSet.getTelefonMobil().length() != 0) {\r\n            htmlString = htmlString.replace(&quot;[MOBILTELEFON]&quot;, langCfg.get(&quot;mobile&quot;) + &quot; &quot; + uDataSet.getTelefonMobil());\r\n        } else {\r\n            htmlString = htmlString.replace(&quot;[MOBILTELEFON]&lt;br&gt;&quot;, &quot;\\r&quot;);\r\n        }\r\n        if (uDataSet.getTelefonFax().length() != 0) {\r\n            htmlString = htmlString.replace(&quot;[FAX]&quot;, langCfg.get(&quot;fax&quot;) + &quot; &quot; + uDataSet.getTelefonFax());\r\n        } else {\r\n            htmlString = htmlString.replace(&quot;[FAX]&lt;br&gt;&quot;, &quot;\\r&quot;);\r\n        }\r\n        htmlString = htmlString.replace(&quot;[EMAILT]&quot;, langCfg.get(&quot;email&quot;) + &quot; &quot;);\r\n        htmlString = htmlString.replace(&quot;[EMAIL]&quot;, uDataSet.getPersonalEmail());\r\n        htmlString = htmlString.replace(&quot;[EMAIL1]&quot;, uDataSet.getPersonalEmail());\r\n        htmlString = htmlString.replace(&quot;[LOGO]&quot;, &quot;&lt;img border=0 width=180 height=70 src=&quot; + &quot;\\&quot;data:image/png;base64, &quot; + imgLogoStr + &quot;\\&quot;&gt;&quot;);\r\n        if (arguments.get(&quot;name&quot;) != null) {\r\n            String logoFile = System.getenv(cfgOutFilePath.get(&quot;userProfile&quot;)) + cfgOutFilePath.get(&quot;logofilepath&quot;) + arguments.get(&quot;name&quot;) + &quot;.jpg&quot;;\r\n            BufferedImage image = ImageIO.read(new File(logoFile));\r\n            int height = image.getHeight();\r\n            int width = image.getWidth();\r\n            String imageString = encodeToString(image, &quot;jpg&quot;);\r\n            String HTMLLogoElement = &quot;&lt;tr&gt;\\n&quot;\r\n                    + &quot;\t&lt;td width=&quot; + width + &quot; valign=top style=&#39;width:&quot; + width + &quot;pt;padding:0.5cm 5.4pt 0cm 5.4pt; border:none;&#39;&gt;\\n&quot;\r\n                    + &quot;\t\t&lt;p class=MsoNormal style=&#39;text-autospace:none&#39;&gt;&lt;b&gt;&lt;i&gt;&lt;span style=&#39;font-size:\\n&quot;\r\n                    + &quot;\t\t  10.0pt;font-family:Arial&#39;&gt;&lt;img border=0 width=&quot; + width + &quot; height=&quot; + height + &quot;\\n&quot;\r\n                    + &quot;\t\t  src=\\&quot;data:image/png;base64,&quot; + imageString + &quot;\\&quot;&gt;&lt;/span&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\\n&quot;\r\n                    + &quot;\t&lt;/td&gt;\\n&quot;\r\n                    + &quot; &lt;/tr&gt;&quot;;\r\n            htmlString = htmlString.replace(&quot;[ADDITIONALLOGO]&quot;, HTMLLogoElement);\r\n        } else {\r\n            htmlString = htmlString.replace(&quot;[ADDITIONALLOGO]&quot;, &quot;\\r&quot;);\r\n        }\r\n\r\n    }\r\n\r\nHere&#39;s the html content:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      &lt;td width=318 valign=top style=&#39;width:238.65pt;border:none;border-top:solid windowtext 1.0pt;\r\n      padding:0cm 5.4pt 0cm 5.4pt&#39;&gt;&lt;br&gt;\r\n      &lt;p class=MsoNormal style=&#39;text-autospace:none&#39;&gt;&lt;b&gt;&lt;i&gt;&lt;span style=&#39;font-size:\r\n      10.0pt;font-family:Arial&#39;&gt;&lt;img border=0 width=180 height=70 src=&quot;data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAALQAAABGCAYAAABll74gAAAKXklEQVR42u1dbZaqMAx1P/50LW7BdbCNboG18Lfr4U3RYEjz1YKO40vO8YwjUEJ7e5smaTnNISFfJKeogpAAdEhIADokJAAdEhKADglAh4QEoENCAtAhIQHokJAAdEgAOiQkAB3yCzLlab6cL/fP9edzusxpTAHogMYfBfQ4zafTafO5DbcA9P/2wN/CYoWhK0BfA9Cn/wXEZWiGhv+WZwqG/g8BTRv9WwDNmhzB0AHov87SBdjF/IgJYQA6JAAdgA75IkBPGX167D5Sxq7r3wzoZXjPk+hxKEM/mABHeDCOKusoPfG1n2zemK17G39Owp+B/B3tm9zKBIZcg8szleTuq9yf8wBIn/WaIbHH8O900lW8ClrZUsOXcth7CXoXHVxeDmFSaOkpdVRJV+sZT9eJx8xR//+UfxM65MkEElco811iXA6A3k5RyvTcu/zF9+c8ACagGYD8cJLoFiuROU/5HMg4gHEdaqMLaUBvYMVbDxwwsauz5VqrrY44nnIjQy+sOjhupoByZWaH0lyPk67b6Aa/D9M+hnZcA0xpsZYFRosxLV3BBLA6T6uevaMcvfYVAKbfUytDc4XgoYkDKmVpDbScspaZopoipHxwZ0lDLLUjPQ0IgGk1XSqwCOcUoBfdJCC2MrRWBse+mGm5EUi7lh2VvUDVgC0cS2MjQ3OFVAxBzqG9hiqPAZ8MwHIP7+l0vZNCDdAl+aeAECZGlo1r3ZNjaMquZqfIeqSQex5LT3xcK5sjCtaG1kDqHfm5Yz02tMWgk8WQs359MiaHXC9VzSLhnL2A9ti/dFJlMRjH0NQsscqwIoUePZsAbXS4j/dyWOy3TtiEYYA7jis05f0MvbHRh+MZmp3QXR2Avl6aGZpOrExAZ93k8OipXa+aM3k2Ro8JuWc7vs+O31sBnR6Gd5lNpnGq7GPOA0GHgdqQJww9bCeereZE8tjZOwDNzfxZ5mtk10MA3cPQYz9DF5v6Ofo6TY49H9VE6XTbmfROhvubZENvGHRiAyatNvw7GJrz/7oYugPQFdjO7TY01tejZzmn6AJ/sQ6mey7fgT3nuWb+YZLt4cGwlZ2ejuZJIecTLkNJgr8MO7IMzSjkiVFZNvzGDh9eY0N3M/S13YY+hKGHNhtaDYYJnhZPlNDtkut15fW47TRgSUMBdxM5EDLZ9231c+9h6OGNDH3db7ZYfmjPPXrSBjxpqitD94DaCezmwIoGRummt9EZ7TN6mdqRjKHpVxg6f4gNfSBDW6Auo5B4zXVqZtwm//TQ67Zr9B+6ASpMFLuGrRe67V7F0B6To8eGbvVy7Ab16fJ3kpNY2zf7I3UtuSGmqdIQSfoLNvQRnhLTy3GAyeHJ6yi/c6bgbbzPs/Dfo367MV43FdCcD9njh745KkwCpofR77Nr5IPcfBe8JX/Ey3G4H3o4jqGtHJQqAjm+/tNkckxM0IOyKGcbJycDSIlPFpsfNVz+th/6LV6Ogxm6JVfFNefa+bfJbcdH+ZjQd+WHbgCaAdievOtdgP4wL0eXH/qamhh69SM//rrND8akEhPXWvOdnd9TbmDolOteQQuwIoVLGT8VjBNK1Cjf0O6Hvhll/JqX4/oBXo4doW/OnMH6WcerIMp4gG/a4VFTAD1VvahmaD3bLmUrW29WfchNkcJXTQq9DD0eHyl8SS6HM/TNlW1dO+HU0wEmb88J4tHf+yaFg+zhsLwcVp7Fcg8SEsXTOk9yUnpxth3L0G9y2/1Gtp2XodnO8CHrDG0bWpjwpVzbQpvkI4Oh12y7Ucm2M9NH5/fncjjMhZ586MP90DvSR1mGzhZDd9rQnfZ0U+h7mvllT5ZJsMmHzrp9W3k6BqfbrnHiuGfRKcc6XGNTX2zPipVD/NA4CZ85jqN71vNq7M+vv7SDaEfkcKxYaw19y8a4HKdXE/zROVyPpB0mCfeBHFmOBdh1ic51gl6GtsLBnlXVr/JDYy+HpCdswct2uuy4VnjG5pSJnd8PWVNIbWorjL1ngW1TPofip5YawAVowS5sWVXORtLe4OXYq2fLAlvXqu/xGCD3p49m2we4Z+W2ZwsEyZPB/a/6TZUtBwAEnBmg7eYpLcB17ZPR4YHwrMrm7ufRU0o0sshAGsXewdDdCf7Yk5CYiR0siSnHJrHxsdvFjsfzetRlpNbdf9DOP3QHoOKGLI2Dj3lCxaXMAiS8m75kqmCQUT2qoIeiKwa1V1+qJyT1m5LvHXB5SwC6VvNqpPzMn5/I94SWViWyzMp7voa12Ogt5KskAB0SgA4JCUCHhHwKoFs2E/mkMKhXX22b3CNCvOBBOVpvzWMBm03ulVe25RE52s2Axr5Mz82/CdDULQWusp69lY9+/wnocfcATOs2Zfj4nPfdAzr0q6TUydsBXXIKSqOWni81Cri7NoDO/MruiWyomIbaBQTnLK6m4SaWIx7LdxfcJO3PjPagkAAtsSpmwWqL21z/LzXYUmdDEnW3SMFiYGkbM6ncxfVH9Fk7MDwDalNoY1VntKKIOy7VO5tyIGClHdCPiuF6Kx6ScWQLdvasQqLnZ0SKCxdT0OByuV19uGshaMG9xg1ASqNwHJPBs2k+5SqxndlOC/zJdFPzRYfzNqgCenleQWcxJ9aNe26tDXH74cBPeTZaBkQ98e9wXxxA4u690XGsdazq5eqoF3VIeCgrmRO0waFyJsTW1TAodA58rpQMgyuJM3OkckFHCsCKgQSWxpG4DYDPTz3XhkUroSmIOdAvIEF2r9d8s/Zplr4vAHkESTSzirsW6gN04uobtw83yuH6lr5T7GlYaQI03rMY3i2tVRRthOXhzqeNLV4Nrz/nQiVgswU/HL5WY038zutleH2YSkUH7v7eiQlEEeH513A5avxyDDcwsBk9D7OllDK6dBxrBf2jvoBNqclAOxOuEww6je0oYCnBceSCy7wtdaYTF96i2JoAu+rFehiJBaQJA8fi0ODc7pYQRtV6K2U4+d0ll7VMCNdC+ZR5LEDfbXDbtqbAwH/h+ureeTsc49GoXIOHVpGJHCYH1pfWydIW2SgnMwx93gKaywPhOjWHD24E07wtm3rJjQwNcXuWtdFO9lziNwV01dMFswH3XG5yQod5albcz7uwo4DWAbnKgcqzWAu/HwWejTIZNZmk8qRXSvS4vGDSKD03NsPEedNcMzQ2qTggSqOUytDc/GyU6wVyZpoA7Zn9Q4VjZr0DemInYvQ3uA5PRiyTY52sjYlt9HVomp9DGa5AWomW2w5MCTw0cvY9/Ablcs+LzQr67JUHBcqRGu5h+qwJVQ+vyYb9Mv8cWF+4Pz4Guld1PfBEVECO63udV1xthqbYwe0NIzpXv2KuuuR71vYug8qhE6fpYadxqy+0JPe7SwbZo+XeWfbjLvb86SLmG2MPCTVP8FAP8wLLV7qaW2f5bVHYhUafl+qPn51jH2uBATzjmj13rTP9tPxm+gybV9cN9avrFsA+OrS1CTwuG+ZHku+5RUdvvUToO+SrJAAdEoAOCQlAh4QEoENCAtAhAeiQkAB0SEgAOiTklfIPyzXXIYqQ110AAAAASUVORK5CYII=&quot;&gt;&lt;/span&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\r\n      &lt;/td&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAny help fixing this would be appreciated.","title":"Having trouble embedding base64 encoded png file into outlook signature via html","body":"<p>I'm having trouble embedding a base64 encoded png file into outlook signature via java/html. It recently stopped working the way it used to and I think some Windows update is the reason as to why it stopped working properly.</p>\n<p>The picture's not properly embedded like shown <a href=\"https://i.stack.imgur.com/wNcYA.png\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>This method is writing the html content:</p>\n<pre><code>    private void changeHTMLContent(String HTMLFileName) throws FileNotFoundException, IOException, SQLException {\n    getHTMLContent(HTMLFileName);\n    String fileLang = HTMLFileName.substring(11, 13).toUpperCase();\n    langCfg = cfgReader.getLanguageConfig(fileLang);\n\n    htmlString = htmlString.replace(&quot;[NAME]&quot;, uDataSet.getPersonalName());\n    htmlString = htmlString.replace(&quot;[VORNAME]&quot;, uDataSet.getPersonalFirstName());\n    htmlString = htmlString.replace(&quot;[FUNKTION]&quot;, uDataSet.getPersonalFunction());\n    htmlString = htmlString.replace(&quot;[TELEFON]&quot;, langCfg.get(&quot;tel&quot;) + &quot; &quot; + uDataSet.getTelefonNumber());\n    if (uDataSet.getTelefonMobil().length() != 0) {\n        htmlString = htmlString.replace(&quot;[MOBILTELEFON]&quot;, langCfg.get(&quot;mobile&quot;) + &quot; &quot; + uDataSet.getTelefonMobil());\n    } else {\n        htmlString = htmlString.replace(&quot;[MOBILTELEFON]&lt;br&gt;&quot;, &quot;\\r&quot;);\n    }\n    if (uDataSet.getTelefonFax().length() != 0) {\n        htmlString = htmlString.replace(&quot;[FAX]&quot;, langCfg.get(&quot;fax&quot;) + &quot; &quot; + uDataSet.getTelefonFax());\n    } else {\n        htmlString = htmlString.replace(&quot;[FAX]&lt;br&gt;&quot;, &quot;\\r&quot;);\n    }\n    htmlString = htmlString.replace(&quot;[EMAILT]&quot;, langCfg.get(&quot;email&quot;) + &quot; &quot;);\n    htmlString = htmlString.replace(&quot;[EMAIL]&quot;, uDataSet.getPersonalEmail());\n    htmlString = htmlString.replace(&quot;[EMAIL1]&quot;, uDataSet.getPersonalEmail());\n    htmlString = htmlString.replace(&quot;[LOGO]&quot;, &quot;&lt;img border=0 width=180 height=70 src=&quot; + &quot;\\&quot;data:image/png;base64, &quot; + imgLogoStr + &quot;\\&quot;&gt;&quot;);\n    if (arguments.get(&quot;name&quot;) != null) {\n        String logoFile = System.getenv(cfgOutFilePath.get(&quot;userProfile&quot;)) + cfgOutFilePath.get(&quot;logofilepath&quot;) + arguments.get(&quot;name&quot;) + &quot;.jpg&quot;;\n        BufferedImage image = ImageIO.read(new File(logoFile));\n        int height = image.getHeight();\n        int width = image.getWidth();\n        String imageString = encodeToString(image, &quot;jpg&quot;);\n        String HTMLLogoElement = &quot;&lt;tr&gt;\\n&quot;\n                + &quot; &lt;td width=&quot; + width + &quot; valign=top style='width:&quot; + width + &quot;pt;padding:0.5cm 5.4pt 0cm 5.4pt; border:none;'&gt;\\n&quot;\n                + &quot;     &lt;p class=MsoNormal style='text-autospace:none'&gt;&lt;b&gt;&lt;i&gt;&lt;span style='font-size:\\n&quot;\n                + &quot;       10.0pt;font-family:Arial'&gt;&lt;img border=0 width=&quot; + width + &quot; height=&quot; + height + &quot;\\n&quot;\n                + &quot;       src=\\&quot;data:image/png;base64,&quot; + imageString + &quot;\\&quot;&gt;&lt;/span&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\\n&quot;\n                + &quot; &lt;/td&gt;\\n&quot;\n                + &quot; &lt;/tr&gt;&quot;;\n        htmlString = htmlString.replace(&quot;[ADDITIONALLOGO]&quot;, HTMLLogoElement);\n    } else {\n        htmlString = htmlString.replace(&quot;[ADDITIONALLOGO]&quot;, &quot;\\r&quot;);\n    }\n\n}\n</code></pre>\n<p>Here's the html content:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;td width=318 valign=top style='width:238.65pt;border:none;border-top:solid windowtext 1.0pt;\n  padding:0cm 5.4pt 0cm 5.4pt'&gt;&lt;br&gt;\n  &lt;p class=MsoNormal style='text-autospace:none'&gt;&lt;b&gt;&lt;i&gt;&lt;span style='font-size:\n  10.0pt;font-family:Arial'&gt;&lt;img border=0 width=180 height=70 src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAALQAAABGCAYAAABll74gAAAKXklEQVR42u1dbZaqMAx1P/50LW7BdbCNboG18Lfr4U3RYEjz1YKO40vO8YwjUEJ7e5smaTnNISFfJKeogpAAdEhIADokJAAdEhKADglAh4QEoENCAtAhIQHokJAAdEgAOiQkAB3yCzLlab6cL/fP9edzusxpTAHogMYfBfQ4zafTafO5DbcA9P/2wN/CYoWhK0BfA9Cn/wXEZWiGhv+WZwqG/g8BTRv9WwDNmhzB0AHov87SBdjF/IgJYQA6JAAdgA75IkBPGX167D5Sxq7r3wzoZXjPk+hxKEM/mABHeDCOKusoPfG1n2zemK17G39Owp+B/B3tm9zKBIZcg8szleTuq9yf8wBIn/WaIbHH8O900lW8ClrZUsOXcth7CXoXHVxeDmFSaOkpdVRJV+sZT9eJx8xR//+UfxM65MkEElco811iXA6A3k5RyvTcu/zF9+c8ACagGYD8cJLoFiuROU/5HMg4gHEdaqMLaUBvYMVbDxwwsauz5VqrrY44nnIjQy+sOjhupoByZWaH0lyPk67b6Aa/D9M+hnZcA0xpsZYFRosxLV3BBLA6T6uevaMcvfYVAKbfUytDc4XgoYkDKmVpDbScspaZopoipHxwZ0lDLLUjPQ0IgGk1XSqwCOcUoBfdJCC2MrRWBse+mGm5EUi7lh2VvUDVgC0cS2MjQ3OFVAxBzqG9hiqPAZ8MwHIP7+l0vZNCDdAl+aeAECZGlo1r3ZNjaMquZqfIeqSQex5LT3xcK5sjCtaG1kDqHfm5Yz02tMWgk8WQs359MiaHXC9VzSLhnL2A9ti/dFJlMRjH0NQsscqwIoUePZsAbXS4j/dyWOy3TtiEYYA7jis05f0MvbHRh+MZmp3QXR2Avl6aGZpOrExAZ93k8OipXa+aM3k2Ro8JuWc7vs+O31sBnR6Gd5lNpnGq7GPOA0GHgdqQJww9bCeereZE8tjZOwDNzfxZ5mtk10MA3cPQYz9DF5v6Ofo6TY49H9VE6XTbmfROhvubZENvGHRiAyatNvw7GJrz/7oYugPQFdjO7TY01tejZzmn6AJ/sQ6mey7fgT3nuWb+YZLt4cGwlZ2ejuZJIecTLkNJgr8MO7IMzSjkiVFZNvzGDh9eY0N3M/S13YY+hKGHNhtaDYYJnhZPlNDtkut15fW47TRgSUMBdxM5EDLZ9231c+9h6OGNDH3db7ZYfmjPPXrSBjxpqitD94DaCezmwIoGRummt9EZ7TN6mdqRjKHpVxg6f4gNfSBDW6Auo5B4zXVqZtwm//TQ67Zr9B+6ASpMFLuGrRe67V7F0B6To8eGbvVy7Ab16fJ3kpNY2zf7I3UtuSGmqdIQSfoLNvQRnhLTy3GAyeHJ6yi/c6bgbbzPs/Dfo367MV43FdCcD9njh745KkwCpofR77Nr5IPcfBe8JX/Ey3G4H3o4jqGtHJQqAjm+/tNkckxM0IOyKGcbJycDSIlPFpsfNVz+th/6LV6Ogxm6JVfFNefa+bfJbcdH+ZjQd+WHbgCaAdievOtdgP4wL0eXH/qamhh69SM//rrND8akEhPXWvOdnd9TbmDolOteQQuwIoVLGT8VjBNK1Cjf0O6Hvhll/JqX4/oBXo4doW/OnMH6WcerIMp4gG/a4VFTAD1VvahmaD3bLmUrW29WfchNkcJXTQq9DD0eHyl8SS6HM/TNlW1dO+HU0wEmb88J4tHf+yaFg+zhsLwcVp7Fcg8SEsXTOk9yUnpxth3L0G9y2/1Gtp2XodnO8CHrDG0bWpjwpVzbQpvkI4Oh12y7Ucm2M9NH5/fncjjMhZ586MP90DvSR1mGzhZDd9rQnfZ0U+h7mvllT5ZJsMmHzrp9W3k6BqfbrnHiuGfRKcc6XGNTX2zPipVD/NA4CZ85jqN71vNq7M+vv7SDaEfkcKxYaw19y8a4HKdXE/zROVyPpB0mCfeBHFmOBdh1ic51gl6GtsLBnlXVr/JDYy+HpCdswct2uuy4VnjG5pSJnd8PWVNIbWorjL1ngW1TPofip5YawAVowS5sWVXORtLe4OXYq2fLAlvXqu/xGCD3p49m2we4Z+W2ZwsEyZPB/a/6TZUtBwAEnBmg7eYpLcB17ZPR4YHwrMrm7ufRU0o0sshAGsXewdDdCf7Yk5CYiR0siSnHJrHxsdvFjsfzetRlpNbdf9DOP3QHoOKGLI2Dj3lCxaXMAiS8m75kqmCQUT2qoIeiKwa1V1+qJyT1m5LvHXB5SwC6VvNqpPzMn5/I94SWViWyzMp7voa12Ogt5KskAB0SgA4JCUCHhHwKoFs2E/mkMKhXX22b3CNCvOBBOVpvzWMBm03ulVe25RE52s2Axr5Mz82/CdDULQWusp69lY9+/wnocfcATOs2Zfj4nPfdAzr0q6TUydsBXXIKSqOWni81Cri7NoDO/MruiWyomIbaBQTnLK6m4SaWIx7LdxfcJO3PjPagkAAtsSpmwWqL21z/LzXYUmdDEnW3SMFiYGkbM6ncxfVH9Fk7MDwDalNoY1VntKKIOy7VO5tyIGClHdCPiuF6Kx6ScWQLdvasQqLnZ0SKCxdT0OByuV19uGshaMG9xg1ASqNwHJPBs2k+5SqxndlOC/zJdFPzRYfzNqgCenleQWcxJ9aNe26tDXH74cBPeTZaBkQ98e9wXxxA4u690XGsdazq5eqoF3VIeCgrmRO0waFyJsTW1TAodA58rpQMgyuJM3OkckFHCsCKgQSWxpG4DYDPTz3XhkUroSmIOdAvIEF2r9d8s/Zplr4vAHkESTSzirsW6gN04uobtw83yuH6lr5T7GlYaQI03rMY3i2tVRRthOXhzqeNLV4Nrz/nQiVgswU/HL5WY038zutleH2YSkUH7v7eiQlEEeH513A5avxyDDcwsBk9D7OllDK6dBxrBf2jvoBNqclAOxOuEww6je0oYCnBceSCy7wtdaYTF96i2JoAu+rFehiJBaQJA8fi0ODc7pYQRtV6K2U4+d0ll7VMCNdC+ZR5LEDfbXDbtqbAwH/h+ureeTsc49GoXIOHVpGJHCYH1pfWydIW2SgnMwx93gKaywPhOjWHD24E07wtm3rJjQwNcXuWtdFO9lziNwV01dMFswH3XG5yQod5albcz7uwo4DWAbnKgcqzWAu/HwWejTIZNZmk8qRXSvS4vGDSKD03NsPEedNcMzQ2qTggSqOUytDc/GyU6wVyZpoA7Zn9Q4VjZr0DemInYvQ3uA5PRiyTY52sjYlt9HVomp9DGa5AWomW2w5MCTw0cvY9/Ablcs+LzQr67JUHBcqRGu5h+qwJVQ+vyYb9Mv8cWF+4Pz4Guld1PfBEVECO63udV1xthqbYwe0NIzpXv2KuuuR71vYug8qhE6fpYadxqy+0JPe7SwbZo+XeWfbjLvb86SLmG2MPCTVP8FAP8wLLV7qaW2f5bVHYhUafl+qPn51jH2uBATzjmj13rTP9tPxm+gybV9cN9avrFsA+OrS1CTwuG+ZHku+5RUdvvUToO+SrJAAdEoAOCQlAh4QEoENCAtAhAeiQkAB0SEgAOiTklfIPyzXXIYqQ110AAAAASUVORK5CYII=\"&gt;&lt;/span&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n  &lt;/td&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Any help fixing this would be appreciated.</p>\n"},{"tags":["java","android","android-intent","android-activity","android-listview"],"comments":[{"owner":{"account_id":5028906,"reputation":923,"user_id":4039784,"display_name":"Hayssam Soussi"},"score":0,"creation_date":1647731448,"post_id":71542573,"comment_id":126445572,"body_markdown":"Thats happening because you&#39;re recreating the mainactivity so the arrays are recreated with the old values","body":"Thats happening because you&#39;re recreating the mainactivity so the arrays are recreated with the old values"},{"owner":{"account_id":24615170,"reputation":1,"user_id":18516275,"display_name":"altair"},"score":0,"creation_date":1647755766,"post_id":71542573,"comment_id":126448160,"body_markdown":"Any way to not have that happen?","body":"Any way to not have that happen?"}],"answers":[{"tags":[],"owner":{"account_id":21850307,"reputation":29,"user_id":16142468,"display_name":"Tanvir Islam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647755929,"creation_date":1647755929,"answer_id":71544430,"question_id":71542573,"body_markdown":"I think you can use `SharedPreferences` to store edited values and pass the value of the preference.","title":"ListView being restored when returning to MainActivity - Android Java Activities","body":"<p>I think you can use <code>SharedPreferences</code> to store edited values and pass the value of the preference.</p>\n"},{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647860687,"creation_date":1647860687,"answer_id":71556545,"question_id":71542573,"body_markdown":"`MainActivity` should launch `SecondActivity` using `startActivityForResult()`. `SecondActivity` will do whatever and when it is time to return to `MainActivity`, `SecondActivity` should return an `Intent` with some &quot;extras&quot; that `MainActivity` can use to determine what `View` or `Layout` to show/hide. To return the result, `SecondActivity` should call `setResult()`, not `startActivity()`.\r\n\r\nIn `MainActivity`, implement `onActivityResult()`. This method will be called when `SecondActivity` finishes, and it will be called with the `Intent` that `SecondActivity` passed to `setResult()`. In `onActivityResult()` you can check the returned `Intent` for the &quot;extras&quot; and you can update the data in `MainActivity` accordingly. \r\n\r\nIn this way, the data in `MainActivity` can be sent to `SecondActivity` again to edit another item, etc. ","title":"ListView being restored when returning to MainActivity - Android Java Activities","body":"<p><code>MainActivity</code> should launch <code>SecondActivity</code> using <code>startActivityForResult()</code>. <code>SecondActivity</code> will do whatever and when it is time to return to <code>MainActivity</code>, <code>SecondActivity</code> should return an <code>Intent</code> with some &quot;extras&quot; that <code>MainActivity</code> can use to determine what <code>View</code> or <code>Layout</code> to show/hide. To return the result, <code>SecondActivity</code> should call <code>setResult()</code>, not <code>startActivity()</code>.</p>\n<p>In <code>MainActivity</code>, implement <code>onActivityResult()</code>. This method will be called when <code>SecondActivity</code> finishes, and it will be called with the <code>Intent</code> that <code>SecondActivity</code> passed to <code>setResult()</code>. In <code>onActivityResult()</code> you can check the returned <code>Intent</code> for the &quot;extras&quot; and you can update the data in <code>MainActivity</code> accordingly.</p>\n<p>In this way, the data in <code>MainActivity</code> can be sent to <code>SecondActivity</code> again to edit another item, etc.</p>\n"}],"owner":{"account_id":24615170,"reputation":1,"user_id":18516275,"display_name":"altair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647860687,"creation_date":1647728707,"question_id":71542573,"body_markdown":"I&#39;m building an app where I allow the user to make edits to the listview, fill it with content in a second activity, and send the results back to the first activity using intents, and display the results as such. This works fine when specifically editing ONE item. If I try to edit another item, the rest of them get restored to the initial value. \r\n[secondactivity throw][1]\r\n\r\n\r\n\r\n[mainactivity catch][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vniom.png\r\n  [2]: https://i.stack.imgur.com/sPRDs.png","title":"ListView being restored when returning to MainActivity - Android Java Activities","body":"<p>I'm building an app where I allow the user to make edits to the listview, fill it with content in a second activity, and send the results back to the first activity using intents, and display the results as such. This works fine when specifically editing ONE item. If I try to edit another item, the rest of them get restored to the initial value.\n<a href=\"https://i.stack.imgur.com/Vniom.png\" rel=\"nofollow noreferrer\">secondactivity throw</a></p>\n<p><a href=\"https://i.stack.imgur.com/sPRDs.png\" rel=\"nofollow noreferrer\">mainactivity catch</a></p>\n"},{"tags":["java","android","debugging","junit","connection-timeout"],"answers":[{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545784709,"creation_date":1392912273,"answer_id":21913173,"question_id":21912348,"body_markdown":"Try adding this rule in  the class containing your tests:\r\n\r\n    @Rule\r\n        public Timeout globalTimeout = new Timeout(10000); // 10 seconds max per method tested\r\n\r\nSource: https://github.com/junit-team/junit/wiki/Timeout-for-tests\r\n\r\nNote : Put debug point on respective test case also to enable Junit in debug mode","title":"Getting debug session timeout trying to debug Android junit tests","body":"<p>Try adding this rule in  the class containing your tests:</p>\n\n<pre><code>@Rule\n    public Timeout globalTimeout = new Timeout(10000); // 10 seconds max per method tested\n</code></pre>\n\n<p>Source: <a href=\"https://github.com/junit-team/junit/wiki/Timeout-for-tests\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit/wiki/Timeout-for-tests</a></p>\n\n<p>Note : Put debug point on respective test case also to enable Junit in debug mode</p>\n"},{"tags":[],"owner":{"account_id":7404272,"reputation":23,"user_id":5633630,"display_name":"Shubhendu Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545786953,"creation_date":1545756924,"answer_id":53924128,"question_id":21912348,"body_markdown":"Add following syntax to the test case:\r\n\r\n    @Rule\r\n    public TestRule timeout = new DisableOnDebug(new Timeout(20));\r\n\r\nReference:  \r\nhttps://junit.org/junit4/javadoc/4.12/org/junit/rules/DisableOnDebug.html\r\n","title":"Getting debug session timeout trying to debug Android junit tests","body":"<p>Add following syntax to the test case:</p>\n\n<pre><code>@Rule\npublic TestRule timeout = new DisableOnDebug(new Timeout(20));\n</code></pre>\n\n<p>Reference:<br>\n<a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/rules/DisableOnDebug.html\" rel=\"nofollow noreferrer\">https://junit.org/junit4/javadoc/4.12/org/junit/rules/DisableOnDebug.html</a></p>\n"}],"owner":{"account_id":2119559,"reputation":1,"user_id":1883121,"display_name":"user1883121"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647860436,"creation_date":1392910404,"question_id":21912348,"body_markdown":"I&#39;m trying to debug Android junit tests. I can set break points in a test or in the code under test and they get hit. However, there is a one minute timeout that ends the debug session. I&#39;ve looked at using @LargeTest instead of @SmallTest since it is suppose to have a 5 minute timeout, but I see no difference. My colleague has the same problem, so it&#39;s not just my machine. How can I disable the junit 1 minute timeout?","title":"Getting debug session timeout trying to debug Android junit tests","body":"<p>I'm trying to debug Android junit tests. I can set break points in a test or in the code under test and they get hit. However, there is a one minute timeout that ends the debug session. I've looked at using @LargeTest instead of @SmallTest since it is suppose to have a 5 minute timeout, but I see no difference. My colleague has the same problem, so it's not just my machine. How can I disable the junit 1 minute timeout?</p>\n"},{"tags":["java","maven","option-type","java-17","immutables-library"],"owner":{"account_id":24628436,"reputation":21,"user_id":18527929,"display_name":"Jaroslaw Pasiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647860305,"creation_date":1647860305,"question_id":71556462,"body_markdown":"I have problems getting my code to compile with maven.\r\n\r\nI&#39;m using these dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.immutables&lt;/groupId&gt;\r\n            &lt;artifactId&gt;value&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.immutables&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;value&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.9.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n   \r\n&lt;/project&gt;\r\nOne class looks like this:\r\n\r\n    @Value.Immutable\r\n    public interface Foo {\r\n        Optional&lt;List&lt;@NotNull @Valid Bar&gt;&gt; getBar();\r\n    }\r\n\r\nAnd the other like this:\r\n\r\n    @Value.Immutable\r\n    public interface Bar {\r\n    }\r\n\r\nAnd when I try to build the maven project with mvn clean install I get this error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project Testing: Compilation failure\r\n    [ERROR] org.immutables.value.internal.$processor$.$Processor threw org.immutables.value.internal.$guava$.base.$VerifyException: [E] =/&gt; [@javax.validation.constraints.NotNull, @javax.validation.Validcom.exam\r\n    ple.Bar]\r\n    [ERROR]         at org.immutables.value.internal.$guava$.base.$Verify.verify($Verify.java:125)\r\n    [ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector$TypevarContext.&lt;init&gt;($TypeHierarchyCollector.java:59)\r\n    [ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector.collectHierarchyMirrors($TypeHierarchyCollector.java:106)\r\n    [ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector.collectFrom($TypeHierarchyCollector.java:69)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.collectTypeHierarchy($TypeIntrospectionBase.java:155)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.introspectTypeMirror($TypeIntrospectionBase.java:147)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.introspectType($ValueAttribute.java:881)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.ensureTypeIntrospected($TypeIntrospectionBase.java:81)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.initTypeKind($ValueAttribute.java:1441)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.initAndValidate($ValueAttribute.java:1210)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$AccessorAttributesCollector.collect($AccessorAttributesCollector.java:95)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueTypeComposer.compose($ValueTypeComposer.java:67)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$Round.composeValue($Round.java:181)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$Round.collectValues($Round.java:95)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.$Processor.process($Processor.java:79)\r\n    [ERROR]         at org.immutables.value.internal.$generator$.$AbstractGenerator.process($AbstractGenerator.java:93)\r\n    [ERROR]         at org.immutables.processor.ProxyProcessor.process(ProxyProcessor.java:72)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:1023)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:939)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1267)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1382)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1234)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:916)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\r\n    [ERROR]         at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:126)\r\n    [ERROR]         at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)\r\n    [ERROR]         at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1134)\r\n    [ERROR]         at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:187)\r\n    [ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:972)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n    [ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR]\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    \r\nThis error seem to only appear when I annotate the Optional&lt;List&lt;Bar&gt;&gt; with both @NotNull and @Valid at the same time. This doesn&#39;t happen when I only use one annotation. Also this error is not present when the List isn&#39;t Optional.\r\n    \r\nThis code compiles and builds as intended on Java 8.\r\nThis error appeared when I started upgrading my project from java 8 to java 17 (also tested with java11, and I get the same error).\r\n\r\nAny ideas on how I can fix this problem?\r\n\r\nHave made a table to show what I tested and when it fails.\r\n\r\n[Table of successful and failed builds][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T11nq.png","title":"immutables.value.internal.$guava$.base.$VerifyException with java 17","body":"<p>I have problems getting my code to compile with maven.</p>\n<p>I'm using these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.immutables&lt;/groupId&gt;\n        &lt;artifactId&gt;value&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.immutables&lt;/groupId&gt;\n                        &lt;artifactId&gt;value&lt;/artifactId&gt;\n                        &lt;version&gt;2.9.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\nOne class looks like this:\n<pre><code>@Value.Immutable\npublic interface Foo {\n    Optional&lt;List&lt;@NotNull @Valid Bar&gt;&gt; getBar();\n}\n</code></pre>\n<p>And the other like this:</p>\n<pre><code>@Value.Immutable\npublic interface Bar {\n}\n</code></pre>\n<p>And when I try to build the maven project with mvn clean install I get this error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project Testing: Compilation failure\n[ERROR] org.immutables.value.internal.$processor$.$Processor threw org.immutables.value.internal.$guava$.base.$VerifyException: [E] =/&gt; [@javax.validation.constraints.NotNull, @javax.validation.Validcom.exam\nple.Bar]\n[ERROR]         at org.immutables.value.internal.$guava$.base.$Verify.verify($Verify.java:125)\n[ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector$TypevarContext.&lt;init&gt;($TypeHierarchyCollector.java:59)\n[ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector.collectHierarchyMirrors($TypeHierarchyCollector.java:106)\n[ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector.collectFrom($TypeHierarchyCollector.java:69)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.collectTypeHierarchy($TypeIntrospectionBase.java:155)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.introspectTypeMirror($TypeIntrospectionBase.java:147)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.introspectType($ValueAttribute.java:881)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.ensureTypeIntrospected($TypeIntrospectionBase.java:81)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.initTypeKind($ValueAttribute.java:1441)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.initAndValidate($ValueAttribute.java:1210)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$AccessorAttributesCollector.collect($AccessorAttributesCollector.java:95)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueTypeComposer.compose($ValueTypeComposer.java:67)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$Round.composeValue($Round.java:181)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$Round.collectValues($Round.java:95)\n[ERROR]         at org.immutables.value.internal.$processor$.$Processor.process($Processor.java:79)\n[ERROR]         at org.immutables.value.internal.$generator$.$AbstractGenerator.process($AbstractGenerator.java:93)\n[ERROR]         at org.immutables.processor.ProxyProcessor.process(ProxyProcessor.java:72)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:1023)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:939)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1267)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1382)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1234)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:916)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\n[ERROR]         at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:126)\n[ERROR]         at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)\n[ERROR]         at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1134)\n[ERROR]         at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:187)\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:972)\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[ERROR]\n[ERROR]\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>This error seem to only appear when I annotate the Optional&lt;List&gt; with both @NotNull and @Valid at the same time. This doesn't happen when I only use one annotation. Also this error is not present when the List isn't Optional.</p>\n<p>This code compiles and builds as intended on Java 8.\nThis error appeared when I started upgrading my project from java 8 to java 17 (also tested with java11, and I get the same error).</p>\n<p>Any ideas on how I can fix this problem?</p>\n<p>Have made a table to show what I tested and when it fails.</p>\n<p><a href=\"https://i.stack.imgur.com/T11nq.png\" rel=\"nofollow noreferrer\">Table of successful and failed builds</a></p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":5807463,"reputation":315,"user_id":4579668,"accept_rate":33,"display_name":"Ankit Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1515482349,"creation_date":1515482349,"answer_id":48163106,"question_id":48162917,"body_markdown":"I can think of two options. Although I haven&#39;t tried them.\r\n\r\n 1. Use the getUsedDatabases method of MongoClient to get the database (ref: http://api.mongodb.com/java/2.10.1/com/mongodb/Mongo.html)\r\n 2. Create an instance of MongoClientURI (ref: http://api.mongodb.com/java/current/com/mongodb/MongoClientURI.html) using the uri and then use the method getDatabase() on this object.","title":"How to get the Mongo database specified in connection string from MongoClient, Java","body":"<p>I can think of two options. Although I haven't tried them.</p>\n\n<ol>\n<li>Use the getUsedDatabases method of MongoClient to get the database (ref: <a href=\"http://api.mongodb.com/java/2.10.1/com/mongodb/Mongo.html\" rel=\"nofollow noreferrer\">http://api.mongodb.com/java/2.10.1/com/mongodb/Mongo.html</a>)</li>\n<li>Create an instance of MongoClientURI (ref: <a href=\"http://api.mongodb.com/java/current/com/mongodb/MongoClientURI.html\" rel=\"nofollow noreferrer\">http://api.mongodb.com/java/current/com/mongodb/MongoClientURI.html</a>) using the uri and then use the method getDatabase() on this object.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647860135,"creation_date":1647857686,"answer_id":71555913,"question_id":48162917,"body_markdown":"With the [modern API](https://mongodb.github.io/mongo-java-driver/4.5/apidocs/mongodb-driver-sync/index.html), you can use:\r\n\r\n```\r\nString uri = &quot;mongodb+srv://...&quot;;\r\nString databaseName = new ConnectionString(uri).getDatabase();\r\nDatabase database = mongoClient.getDatabase(databaseName);\r\n```","title":"How to get the Mongo database specified in connection string from MongoClient, Java","body":"<p>With the <a href=\"https://mongodb.github.io/mongo-java-driver/4.5/apidocs/mongodb-driver-sync/index.html\" rel=\"nofollow noreferrer\">modern API</a>, you can use:</p>\n<pre><code>String uri = &quot;mongodb+srv://...&quot;;\nString databaseName = new ConnectionString(uri).getDatabase();\nDatabase database = mongoClient.getDatabase(databaseName);\n</code></pre>\n"}],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":48163106,"answer_count":2,"score":5,"last_activity_date":1647860135,"creation_date":1515481521,"question_id":48162917,"body_markdown":"I have already specified the database to connect in the connection string, so I hope I can get the database instance without hard coded . \r\n\r\nBut the method mongoDbClient.getDatabase needs the database name as the parameter. Is there any easy way to do that?\r\n\r\n\r\n    MongoClient mongoClient = new MongoClientURI(DispatcherConfigHolder.config.getMongoUrl());//I will put the uri in a config file so that I can change the db easily\r\n    MongoDatabase db = ...//need a MongoDataBase here\r\n    MongoCollection collection = db.getCollection(&quot;device&quot;);//so that I can access the collection from it","title":"How to get the Mongo database specified in connection string from MongoClient, Java","body":"<p>I have already specified the database to connect in the connection string, so I hope I can get the database instance without hard coded .</p>\n<p>But the method mongoDbClient.getDatabase needs the database name as the parameter. Is there any easy way to do that?</p>\n<pre><code>MongoClient mongoClient = new MongoClientURI(DispatcherConfigHolder.config.getMongoUrl());//I will put the uri in a config file so that I can change the db easily\nMongoDatabase db = ...//need a MongoDataBase here\nMongoCollection collection = db.getCollection(&quot;device&quot;);//so that I can access the collection from it\n</code></pre>\n"},{"tags":["java","android","google-play","location"],"comments":[{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1647860705,"post_id":71556409,"comment_id":126469017,"body_markdown":"What is current problem","body":"What is current problem"},{"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"score":0,"creation_date":1647860995,"post_id":71556409,"comment_id":126469119,"body_markdown":"There are new safety policies from google. You need to fill up a console form &amp; maybe have to do some other stuff . You should check it.","body":"There are new safety policies from google. You need to fill up a console form &amp; maybe have to do some other stuff . You should check it."}],"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1647860087,"creation_date":1647860087,"question_id":71556409,"body_markdown":"Our app uses the user&#39;s location data &amp; device camera. Is there anything to do like- any changes to the code apart from filling up the console form provided by Google?\r\nFor reference, I am providing some links below -\r\n[Documentation from google][1] &amp; \r\n[Android Developers Blog][2]\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/10787469?hl=en#:~:text=By%20July%2020%2C%202022%2C%20all,through%20security%20practices%20like%20encryption.\r\n\r\n[2]: https://android-developers.googleblog.com/2021/10/launching-data-safety-in-play-console.html","title":"What changes do I need to bring to my existing apps on the play store so that they can match Google&#39;s new data safety policy?","body":"<p>Our app uses the user's location data &amp; device camera. Is there anything to do like- any changes to the code apart from filling up the console form provided by Google?\nFor reference, I am providing some links below -\n<a href=\"https://support.google.com/googleplay/android-developer/answer/10787469?hl=en#:%7E:text=By%20July%2020%2C%202022%2C%20all,through%20security%20practices%20like%20encryption.\" rel=\"nofollow noreferrer\">Documentation from google</a> &amp;\n<a href=\"https://android-developers.googleblog.com/2021/10/launching-data-safety-in-play-console.html\" rel=\"nofollow noreferrer\">Android Developers Blog</a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":24441553,"reputation":13,"user_id":18365181,"display_name":"sunmiao"},"score":0,"creation_date":1647855855,"post_id":71555513,"comment_id":126467227,"body_markdown":"Could someone give me a light?","body":"Could someone give me a light?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1647857245,"post_id":71555513,"comment_id":126467734,"body_markdown":"an Object array `new Object[5]` is not an valid String array `GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();`","body":"an Object array <code>new Object[5]</code> is not an valid String array <code>GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();</code>"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647859512,"creation_date":1647859512,"answer_id":71556267,"question_id":71555513,"body_markdown":"Well, they may look similar, but they are not.\r\n\r\nThe thing is that with `func()`, the compiler knows nothing about the actual generic type of `GenericTest`, except that is is eventually an `Object`. Retrieving `arr.length` will just work fine.\r\n\r\nBut then look at `void func(GenericTest&lt;String&gt; gt)`. The argument mandates that a `GenericTest&lt;String&gt;` is passed in. So the compiler inserts a type cast for `arr` to a `String[]`:\r\n\r\n```java\r\n((String[]) gt.arr).length\r\n```\r\n\r\nAnd guess what – `gt.arr` is *actually* an `Object[]`, which can, of course, not be converted to a `String[]`.","title":"[Ljava.lang.Object; cannot be cast to [Ljava.lang.String; when I use generic","body":"<p>Well, they may look similar, but they are not.</p>\n<p>The thing is that with <code>func()</code>, the compiler knows nothing about the actual generic type of <code>GenericTest</code>, except that is is eventually an <code>Object</code>. Retrieving <code>arr.length</code> will just work fine.</p>\n<p>But then look at <code>void func(GenericTest&lt;String&gt; gt)</code>. The argument mandates that a <code>GenericTest&lt;String&gt;</code> is passed in. So the compiler inserts a type cast for <code>arr</code> to a <code>String[]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>((String[]) gt.arr).length\n</code></pre>\n<p>And guess what – <code>gt.arr</code> is <em>actually</em> an <code>Object[]</code>, which can, of course, not be converted to a <code>String[]</code>.</p>\n"}],"owner":{"account_id":24441553,"reputation":13,"user_id":18365181,"display_name":"sunmiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647859512,"creation_date":1647855813,"question_id":71555513,"body_markdown":"When I run code below:\r\n```java\r\npublic class GenericTest&lt;T&gt; {\r\n\r\n    private T[] arr = (T[]) new Object[5];//泛型不能直接创建，但是可以这样转型\r\n\r\n    public static void func(GenericTest&lt;String&gt; gt){\r\n        for(int i = 0; i &lt; gt.arr.length; i++){\r\n            if(gt.arr[i] == null)\r\n                System.out.print(i);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();\r\n        //gt.func();\r\n        func(gt);\r\n    }\r\n}\r\n```\r\nI got a error:\r\n\r\n&gt; [Ljava.lang.Object; cannot be cast to [Ljava.lang.String; [duplicate]\r\n\r\nBut when I run code like this (though they like very similar)：\r\n\r\n```java\r\npublic class GenericTest&lt;T&gt; {\r\n\r\n    private T[] arr = (T[]) new Object[5];//泛型不能直接创建，但是可以这样转型\r\n\r\n    public void func(){\r\n        for(int i = 0; i &lt; arr.length; i++){\r\n            if(arr[i] == null)\r\n                System.out.print(i);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();\r\n        gt.func();\r\n        //func(gt);\r\n    }\r\n}\r\n```\r\n\r\nI can get what I want to see:\r\n```none\r\n01234\r\nProcess finished with exit code 0\r\n```","title":"[Ljava.lang.Object; cannot be cast to [Ljava.lang.String; when I use generic","body":"<p>When I run code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericTest&lt;T&gt; {\n\n    private T[] arr = (T[]) new Object[5];//泛型不能直接创建，但是可以这样转型\n\n    public static void func(GenericTest&lt;String&gt; gt){\n        for(int i = 0; i &lt; gt.arr.length; i++){\n            if(gt.arr[i] == null)\n                System.out.print(i);\n        }\n    }\n\n    public static void main(String[] args){\n        GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();\n        //gt.func();\n        func(gt);\n    }\n}\n</code></pre>\n<p>I got a error:</p>\n<blockquote>\n<p>[Ljava.lang.Object; cannot be cast to [Ljava.lang.String; [duplicate]</p>\n</blockquote>\n<p>But when I run code like this (though they like very similar)：</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericTest&lt;T&gt; {\n\n    private T[] arr = (T[]) new Object[5];//泛型不能直接创建，但是可以这样转型\n\n    public void func(){\n        for(int i = 0; i &lt; arr.length; i++){\n            if(arr[i] == null)\n                System.out.print(i);\n        }\n    }\n\n    public static void main(String[] args){\n        GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();\n        gt.func();\n        //func(gt);\n    }\n}\n</code></pre>\n<p>I can get what I want to see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>01234\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647861701,"post_id":71556076,"comment_id":126469380,"body_markdown":"It seems to crash when calling the native [`libglib` library of GTK](https://docs.gtk.org/glib/). Which GTK version do you have and is this something that can be reproduced in the current Eclipse and GTK versions or only in your outdated Eclipse which is 4 releases behind?","body":"It seems to crash when calling the native <a href=\"https://docs.gtk.org/glib/\" rel=\"nofollow noreferrer\"><code>libglib</code> library of GTK</a>. Which GTK version do you have and is this something that can be reproduced in the current Eclipse and GTK versions or only in your outdated Eclipse which is 4 releases behind?"},{"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"score":0,"creation_date":1647868566,"post_id":71556076,"comment_id":126472001,"body_markdown":"I tried with latest version of eclipse as well. Facing the same issue. How do I confirm which libglib I am using ?","body":"I tried with latest version of eclipse as well. Facing the same issue. How do I confirm which libglib I am using ?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647870517,"post_id":71556076,"comment_id":126472824,"body_markdown":"The question still says Eclipse 2021-03 which is 4 releases behind. See [here how to find out the GTK version you have](https://stackoverflow.com/q/126141/6505250).","body":"The question still says Eclipse 2021-03 which is 4 releases behind. See <a href=\"https://stackoverflow.com/q/126141/6505250\">here how to find out the GTK version you have</a>."}],"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647858564,"creation_date":1647858564,"question_id":71556076,"body_markdown":"I am using Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)\r\n\r\nVersion: 2021-03 (4.19.0)\r\nBuild id: 20210312-0638\r\n\r\nwhich keeps on crashing for some reason. This crashing usually happens when I try to navigate between classes using references ( Ctrl + Mouse click ). Also when I try to syncronize with SVN repository it crashes. These are few instances which creates error log file having following content. \r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00007fb6ae09b660, pid=29515, tid=29587\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment (15.0.2+7) (build 15.0.2+7-27)\r\n    # Java VM: OpenJDK 64-Bit Server VM (15.0.2+7-27, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\r\n    # Problematic frame:\r\n    # C  [libglib-2.0.so.0+0x3b660]  g_str_hash+0x0\r\n    #\r\n    # Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport %p %s %c %d %P %E&quot; (or dumping to /home/etp/Desktop/133backup/eclipse/core.29515)\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n\r\n[Here][1] is the link of the entire log file. \r\n\r\n\r\n  [1]: https://github.com/iamakashk/eclipse-crash-log/blob/main/eclipseError.log\r\n\r\nHere is my System Configuration: \r\nUbuntu 18.04.6\r\nRAM 15.6 GiB\r\nProcessor Intel&#174; Core™ i5-9400F CPU @ 2.90GHz &#215; 6 \r\nGraphics llvmpipe (LLVM 10.0.0, 256 bits)\r\nSSD 512 GB\r\n\r\nMy Eclipse configuration file :\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.2.100.v20210209-1541\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    -showsplash\r\n    org.eclipse.epp.package.common\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vm\r\n    plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_15.0.2.v20210201-0955/jre/bin\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=8\r\n    -Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n    -Dsun.java.command=Eclipse\r\n    -XX:+UseG1GC\r\n    -XX:+UseStringDeduplication\r\n    --add-modules=ALL-SYSTEM\r\n    -Dosgi.requiredJavaVersion=8\r\n    -Dosgi.dataAreaRequiresExplicitInit=true\r\n    -Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\r\n    -Xms2048m\r\n    -Xmx8000m\r\n    --add-modules=ALL-SYSTEM\r\n\r\n","title":"Eclipse crashes with Problematic frame: C [libglib-2.0.so.0+0x3b660] g_str_hash+0x0","body":"<p>I am using Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)</p>\n<p>Version: 2021-03 (4.19.0)\nBuild id: 20210312-0638</p>\n<p>which keeps on crashing for some reason. This crashing usually happens when I try to navigate between classes using references ( Ctrl + Mouse click ). Also when I try to syncronize with SVN repository it crashes. These are few instances which creates error log file having following content.</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fb6ae09b660, pid=29515, tid=29587\n#\n# JRE version: OpenJDK Runtime Environment (15.0.2+7) (build 15.0.2+7-27)\n# Java VM: OpenJDK 64-Bit Server VM (15.0.2+7-27, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libglib-2.0.so.0+0x3b660]  g_str_hash+0x0\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport %p %s %c %d %P %E&quot; (or dumping to /home/etp/Desktop/133backup/eclipse/core.29515)\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p><a href=\"https://github.com/iamakashk/eclipse-crash-log/blob/main/eclipseError.log\" rel=\"nofollow noreferrer\">Here</a> is the link of the entire log file.</p>\n<p>Here is my System Configuration:\nUbuntu 18.04.6\nRAM 15.6 GiB\nProcessor Intel® Core™ i5-9400F CPU @ 2.90GHz × 6\nGraphics llvmpipe (LLVM 10.0.0, 256 bits)\nSSD 512 GB</p>\n<p>My Eclipse configuration file :</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.2.100.v20210209-1541\n-product\norg.eclipse.epp.package.jee.product\n-showsplash\norg.eclipse.epp.package.common\n--launcher.defaultAction\nopenFile\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\nplugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_15.0.2.v20210201-0955/jre/bin\n-vmargs\n-Dosgi.requiredJavaVersion=8\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-Dsun.java.command=Eclipse\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=8\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\n-Xms2048m\n-Xmx8000m\n--add-modules=ALL-SYSTEM\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1647425884,"post_id":71495098,"comment_id":126365875,"body_markdown":"You&#39;re logging the exception with the cause first, so the exception you need to throw in your test is a `org.springframework.dao.DataIntegrityViolationException` with the cause set to a `org.hibernate.exception.ConstraintViolationException`.","body":"You&#39;re logging the exception with the cause first, so the exception you need to throw in your test is a <code>org.springframework.dao.DataIntegrityViolationException</code> with the cause set to a <code>org.hibernate.exception.ConstraintViolationException</code>."},{"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"score":0,"creation_date":1647427173,"post_id":71495098,"comment_id":126366391,"body_markdown":"I&#39;ve tried to put in the try-catch clause both`org.hibernate.exception.ConstraintViolationException` and `org.springframework.dao.DataIntegrityViolationException`, both work in the unit test, but fail to catch the exception when I actually try running the program.","body":"I&#39;ve tried to put in the try-catch clause both<code>org.hibernate.exception.ConstraintViolationException</code> and <code>org.springframework.dao.DataIntegrityViolationException</code>, both work in the unit test, but fail to catch the exception when I actually try running the program."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647427632,"post_id":71495098,"comment_id":126366596,"body_markdown":"The exception happens on commit, which is done by an aspect on `getDocument`, looking at the stack trace.","body":"The exception happens on commit, which is done by an aspect on <code>getDocument</code>, looking at the stack trace."},{"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"score":0,"creation_date":1647427839,"post_id":71495098,"comment_id":126366695,"body_markdown":"Could it be caused by a @Transactional?\nLet me add some more code then","body":"Could it be caused by a @Transactional? Let me add some more code then"}],"answers":[{"tags":[],"owner":{"account_id":2513532,"reputation":51,"user_id":2185443,"display_name":"mithildobarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647440222,"creation_date":1647440222,"answer_id":71498672,"question_id":71495098,"body_markdown":"You may find [this thread][1] useful, it is similar to the issue you are facing about catching the SQLIntegrityConstraintViolationException.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18816761/how-to-catch-java-sql-sqlintegrityconstraintviolationexception","title":"repository.save() throwing the wrong exception","body":"<p>You may find <a href=\"https://stackoverflow.com/questions/18816761/how-to-catch-java-sql-sqlintegrityconstraintviolationexception\">this thread</a> useful, it is similar to the issue you are facing about catching the SQLIntegrityConstraintViolationException.</p>\n"},{"tags":[],"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647858454,"creation_date":1647858454,"answer_id":71556060,"question_id":71495098,"body_markdown":"The issue was that the annotation @Transactional was &quot;hijacking&quot; the exception. We end up removing the annotation as we realized we didn&#39;t needed it for that part of the code.\r\n\r\nThe other alternative we came up to solve it was to capture `Exception` and check for `instanceOf` but we didn&#39;t like this.","title":"repository.save() throwing the wrong exception","body":"<p>The issue was that the annotation @Transactional was &quot;hijacking&quot; the exception. We end up removing the annotation as we realized we didn't needed it for that part of the code.</p>\n<p>The other alternative we came up to solve it was to capture <code>Exception</code> and check for <code>instanceOf</code> but we didn't like this.</p>\n"}],"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71556060,"answer_count":2,"score":0,"last_activity_date":1647858454,"creation_date":1647425193,"question_id":71495098,"body_markdown":"I am using a jpa repository that extends from `CrudRepository` to save an object into a DB. \r\n\r\nThe object has a unique index on one of the columns and if I try to save the same value twice it throws an `java.sql.SQLIntegrityConstraintViolationException` .\r\n\r\nWhen I tried to create a test that recreates this behaviour:\r\n\r\n    when(docsRepository.save(doc)).thenThrow(SQLIntegrityConstraintViolationException.class);\r\n    classThatCallsToSave(doc)\r\n\r\nI got a \r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Checked exception is invalid for this method!\r\n    Invalid: java.sql.SQLIntegrityConstraintViolationException\r\n\r\nI also get an error if I try to use the `SQLIntegrityConstraintViolationException` in the catch expression of the try-catch. \r\n\r\nThis is because `CrudRepository.save` is not supposed to throw that kind of exception. Based on this answer https://stackoverflow.com/a/28650987/5913107, the repository should throw a `NonTransientDataAccessException` in particular: `DataIntegrityViolationException`. But the exception seems to be wrapped by the `SQLIntegrityConstraintViolationException`. If I try to catch `DataIntegrityViolationException` the exception is not catch.\r\n\r\nI don&#39;t know what to do because I have an exception being thrown that because it is not supposed to be thrown, I cannot catch. \r\n\r\nThe code:\r\n\r\n    @Transactional\r\n    public getDocument(String docName){\r\n        var hash = hash(docName);\r\n        createDoc(docName, hash)\r\n    }\r\n\r\n    private String createDoc(String name, String hash) {\r\n        var doc = new Doc(\r\n            name,\r\n            hash);\r\n\r\n        try {\r\n            docsRepository.save(doc);\r\n        } catch (ConstraintViolationException e) {\r\n            token = tokensRepository.findByHash(hash).get();\r\n        }\r\n\r\n        return token.getValue();\r\n\r\nThe entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;docs&quot;,\r\n        indexes = {\r\n            @Index(name = &quot;HASH_IDX&quot;, columnList = &quot;hash&quot;, unique = true)\r\n        })\r\n    public class Doc {\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n        @Id\r\n        @NotNull\r\n        private String value;\r\n    \r\n        @NotNull\r\n        private String hash;\r\n    }\r\n\r\nThe repository:\r\n\r\n    @Repository\r\n    public interface DocsRepository extends CrudRepository&lt;Doc, String&gt; {\r\n        Collection&lt;Doc&gt; findAll();\r\n    \r\n        Optional&lt;Doc&gt; findByHash(String hash);\r\n    \r\n        void deleteAll();\r\n    }\r\n\r\nThis is the relevant part of the trace:\r\n\r\n    &quot;stack_trace&quot;:&quot;java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;efb12e37f6b898b576dd051cf1fcbd78be6bbea19316e591b03ac98e3f922f18&#39; for key &#39;docss.HASH_IDX&#39;\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n    \t... 102 common frames omitted\r\n    Wrapped by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3298)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3825)\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n    \tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n    \t... 82 common frames omitted\r\n    Wrapped by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [docs.HASH_IDX]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n    \tat com.foo.bar.Document.domain.DocumentService$$EnhancerBySpringCGLIB$$1801847c.getDocument(&lt;generated&gt;)\r\n    \tat com.foo.bar.Document.rest.GetDocumentResource.getDocument(GetDocumentResource.java:21)\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java)\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\r\n \r\n\r\n","title":"repository.save() throwing the wrong exception","body":"<p>I am using a jpa repository that extends from <code>CrudRepository</code> to save an object into a DB.</p>\n<p>The object has a unique index on one of the columns and if I try to save the same value twice it throws an <code>java.sql.SQLIntegrityConstraintViolationException</code> .</p>\n<p>When I tried to create a test that recreates this behaviour:</p>\n<pre><code>when(docsRepository.save(doc)).thenThrow(SQLIntegrityConstraintViolationException.class);\nclassThatCallsToSave(doc)\n</code></pre>\n<p>I got a</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nChecked exception is invalid for this method!\nInvalid: java.sql.SQLIntegrityConstraintViolationException\n</code></pre>\n<p>I also get an error if I try to use the <code>SQLIntegrityConstraintViolationException</code> in the catch expression of the try-catch.</p>\n<p>This is because <code>CrudRepository.save</code> is not supposed to throw that kind of exception. Based on this answer <a href=\"https://stackoverflow.com/a/28650987/5913107\">https://stackoverflow.com/a/28650987/5913107</a>, the repository should throw a <code>NonTransientDataAccessException</code> in particular: <code>DataIntegrityViolationException</code>. But the exception seems to be wrapped by the <code>SQLIntegrityConstraintViolationException</code>. If I try to catch <code>DataIntegrityViolationException</code> the exception is not catch.</p>\n<p>I don't know what to do because I have an exception being thrown that because it is not supposed to be thrown, I cannot catch.</p>\n<p>The code:</p>\n<pre><code>@Transactional\npublic getDocument(String docName){\n    var hash = hash(docName);\n    createDoc(docName, hash)\n}\n\nprivate String createDoc(String name, String hash) {\n    var doc = new Doc(\n        name,\n        hash);\n\n    try {\n        docsRepository.save(doc);\n    } catch (ConstraintViolationException e) {\n        token = tokensRepository.findByHash(hash).get();\n    }\n\n    return token.getValue();\n</code></pre>\n<p>The entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;docs&quot;,\n    indexes = {\n        @Index(name = &quot;HASH_IDX&quot;, columnList = &quot;hash&quot;, unique = true)\n    })\npublic class Doc {\n    public String getValue() {\n        return value;\n    }\n    @Id\n    @NotNull\n    private String value;\n\n    @NotNull\n    private String hash;\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>@Repository\npublic interface DocsRepository extends CrudRepository&lt;Doc, String&gt; {\n    Collection&lt;Doc&gt; findAll();\n\n    Optional&lt;Doc&gt; findByHash(String hash);\n\n    void deleteAll();\n}\n</code></pre>\n<p>This is the relevant part of the trace:</p>\n<pre><code>&quot;stack_trace&quot;:&quot;java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'efb12e37f6b898b576dd051cf1fcbd78be6bbea19316e591b03ac98e3f922f18' for key 'docss.HASH_IDX'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 102 common frames omitted\nWrapped by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3298)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3825)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    ... 82 common frames omitted\nWrapped by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [docs.HASH_IDX]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at com.foo.bar.Document.domain.DocumentService$$EnhancerBySpringCGLIB$$1801847c.getDocument(&lt;generated&gt;)\n    at com.foo.bar.Document.rest.GetDocumentResource.getDocument(GetDocumentResource.java:21)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-platform"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647719506,"post_id":71537996,"comment_id":126443289,"body_markdown":"Do you have an error? What&#39;s your credentials?","body":"Do you have an error? What&#39;s your credentials?"},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647738942,"post_id":71537996,"comment_id":126446514,"body_markdown":"I don&#39;t have the secretmanager.versions.access permission, Is this the issue? I am using service account for service deployment. whom need this permission, Is this project level or default appengine service account","body":"I don&#39;t have the secretmanager.versions.access permission, Is this the issue? I am using service account for service deployment. whom need this permission, Is this project level or default appengine service account"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647779000,"post_id":71537996,"comment_id":126451975,"body_markdown":"Where is running your app? How did you set up the credentials in the environment?","body":"Where is running your app? How did you set up the credentials in the environment?"},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647793027,"post_id":71537996,"comment_id":126455056,"body_markdown":"I have deployed app to App Engine. (How did you set up the credentials in the environment?)  Which credentials you are talking about?","body":"I have deployed app to App Engine. (How did you set up the credentials in the environment?)  Which credentials you are talking about?"},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647793258,"post_id":71537996,"comment_id":126455109,"body_markdown":"In local machine I did the the credentials setup by:  GOOGLE_APPLICATION_CREDENTIALS=&quot;C:\\Users\\username\\Downloads\\service-account-file.json&quot;","body":"In local machine I did the the credentials setup by:  GOOGLE_APPLICATION_CREDENTIALS=&quot;C:\\Users\\username\\Downloads\\&zwnj;&#8203;service-account-file&zwnj;&#8203;.json&quot;"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647802081,"post_id":71537996,"comment_id":126457166,"body_markdown":"Did you check if your App Engine default service account (if you use the default in your deployment) has the secret accessor role granted on it? In adition, can you tell me what&#39;s the content of your secret? I fear that&#39;s a services account key file (based on the name).","body":"Did you check if your App Engine default service account (if you use the default in your deployment) has the secret accessor role granted on it? In adition, can you tell me what&#39;s the content of your secret? I fear that&#39;s a services account key file (based on the name)."},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647827625,"post_id":71537996,"comment_id":126461530,"body_markdown":"Yes, I have stored service account key in secret manager. I am not using Default App Engine  service account for deployment. I am using another service account for deployment. So Which service account need permission, Default AppEngine SA or Another service account.","body":"Yes, I have stored service account key in secret manager. I am not using Default App Engine  service account for deployment. I am using another service account for deployment. So Which service account need permission, Default AppEngine SA or Another service account."},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647851667,"post_id":71537996,"comment_id":126465826,"body_markdown":"Why do you need another service account? It does not make sense!","body":"Why do you need another service account? It does not make sense!"},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647851828,"post_id":71537996,"comment_id":126465880,"body_markdown":"There are multiple user/developer and every developer having separate service account for deployment only, no one use default appEngine?   So Which service account need permission?","body":"There are multiple user/developer and every developer having separate service account for deployment only, no one use default appEngine?   So Which service account need permission?"}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647858410,"creation_date":1647858410,"answer_id":71556052,"question_id":71537996,"body_markdown":"Deployment and runtime are 2 different things. At deployment, user must have the permission to deploy a new service. You have 3 roles that you can find in [the documentation][1]\r\n\r\nAt runtime, by default, the App Engine default service account is used. And, as you fill it, it&#39;s not a good practice because:\r\n* The default role is Editor, that grant the service account too much permissions\r\n* If you have 2 different services, both have the same permissions because they use the same identity (service account)\r\n\r\nThat&#39;s why, they have finally release a great feature: [user managed service account][2]\r\n\r\nYou simply have to set the service account email in the `app.yaml` file, and that&#39;s all. You have a dedicated service account for your App Engine service.\r\n\r\n----\r\n\r\nNow you have the identity that you want at runtime. At runtime, you want to get a secret. So, you must grant the runtime identity to be able to access the secret.\r\n\r\n**HOWEVER**, because you already have a specific and dedicated identity for your App Engine service, loading a service account key file from secret manager makes no sense! Use directly the runtime identity!\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/standard/python/roles\r\n  [2]: https://cloud.google.com/appengine/docs/standard/go/user-managed-service-accounts","title":"Google Secret Manager: unable get value from secret manager with Spring Boot","body":"<p>Deployment and runtime are 2 different things. At deployment, user must have the permission to deploy a new service. You have 3 roles that you can find in <a href=\"https://cloud.google.com/appengine/docs/standard/python/roles\" rel=\"nofollow noreferrer\">the documentation</a></p>\n<p>At runtime, by default, the App Engine default service account is used. And, as you fill it, it's not a good practice because:</p>\n<ul>\n<li>The default role is Editor, that grant the service account too much permissions</li>\n<li>If you have 2 different services, both have the same permissions because they use the same identity (service account)</li>\n</ul>\n<p>That's why, they have finally release a great feature: <a href=\"https://cloud.google.com/appengine/docs/standard/go/user-managed-service-accounts\" rel=\"nofollow noreferrer\">user managed service account</a></p>\n<p>You simply have to set the service account email in the <code>app.yaml</code> file, and that's all. You have a dedicated service account for your App Engine service.</p>\n<hr />\n<p>Now you have the identity that you want at runtime. At runtime, you want to get a secret. So, you must grant the runtime identity to be able to access the secret.</p>\n<p><strong>HOWEVER</strong>, because you already have a specific and dedicated identity for your App Engine service, loading a service account key file from secret manager makes no sense! Use directly the runtime identity!</p>\n"}],"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71556052,"answer_count":1,"score":0,"last_activity_date":1647858410,"creation_date":1647691588,"question_id":71537996,"body_markdown":"I am unable to get value from secret manager.\r\n    \r\n    **Application.property:**\r\n    spring.secret.key=${sm://projects/154281748/secrets/serviceaccount/versions/1}\r\n    \r\n    **bootstrap.property:**\r\n    spring.cloud.gcp.secretmanager.enabled=true\r\n    spring.cloud.gcp.secretmanager.secret-name-prefix=sm://\r\n    \r\n    **pom.xml:**\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;             \r\n    &lt;/dependency&gt;\r\n    \r\n    **Java Code**\r\n    @Value(&quot;${spring.secret.key}&quot;)\r\n    private String key;\r\n    \r\nI am getting &quot;//projects/154281748/secrets/serviceaccount/versions/1&quot; value of Key.","title":"Google Secret Manager: unable get value from secret manager with Spring Boot","body":"<p>I am unable to get value from secret manager.</p>\n<pre><code>**Application.property:**\nspring.secret.key=${sm://projects/154281748/secrets/serviceaccount/versions/1}\n\n**bootstrap.property:**\nspring.cloud.gcp.secretmanager.enabled=true\nspring.cloud.gcp.secretmanager.secret-name-prefix=sm://\n\n**pom.xml:**\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n&lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;             \n&lt;/dependency&gt;\n\n**Java Code**\n@Value(&quot;${spring.secret.key}&quot;)\nprivate String key;\n</code></pre>\n<p>I am getting &quot;//projects/154281748/secrets/serviceaccount/versions/1&quot; value of Key.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1647849401,"post_id":71554336,"comment_id":126465178,"body_markdown":"what have you tried? you are just showing String representations, just apply a different formatter","body":"what have you tried? you are just showing String representations, just apply a different formatter"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647858222,"creation_date":1647850735,"answer_id":71554574,"question_id":71554336,"body_markdown":"Here&#39;s an example using `java.time`:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n\t// input dates / days\r\n\tString fromDate = &quot;04-10-2021&quot;;\r\n\tString toDate = &quot;06-10-2021&quot;;\r\n\t// prepare the times of day\r\n\tLocalTime startOfDay = LocalTime.MIN; // 00:00:00.000\r\n\tLocalTime endOfDay = LocalTime.of(23, 59, 59); // 23:59:59.000\r\n\t// create an object that takes care of parsing the expected format\r\n\tDateTimeFormatter customDateParser = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\r\n\t// then parse the dates using the formatter / parser\r\n\tLocalDate fromDay = LocalDate.parse(fromDate, customDateParser);\r\n\tLocalDate toDay = LocalDate.parse(toDate, customDateParser);\r\n\t// then concatenate the parsed dates with the prepared times of day\r\n\tLocalDateTime fromTime = LocalDateTime.of(fromDay, startOfDay);\r\n\tLocalDateTime toTime = LocalDateTime.of(toDay, endOfDay);\r\n\t// finally define a formatter for the String output of the LocalDateTimes\r\n\tDateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;);\r\n    // and print their toString() methods\r\n\tSystem.out.println(&quot;from &quot; + fromTime.format(customFormatter) \r\n\t\t\t\t\t + &quot; to &quot; + toTime.format(customFormatter));\r\n}\r\n```\r\n\r\n```lang-none\r\nfrom 2021-10-04T00:00:00.000 to 2021-10-06T23:59:59.000\r\n```","title":"How to convert from string format of date (dd/mm/yyyy) to string format of date (yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSS)","body":"<p>Here's an example using <code>java.time</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // input dates / days\n    String fromDate = &quot;04-10-2021&quot;;\n    String toDate = &quot;06-10-2021&quot;;\n    // prepare the times of day\n    LocalTime startOfDay = LocalTime.MIN; // 00:00:00.000\n    LocalTime endOfDay = LocalTime.of(23, 59, 59); // 23:59:59.000\n    // create an object that takes care of parsing the expected format\n    DateTimeFormatter customDateParser = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\n    // then parse the dates using the formatter / parser\n    LocalDate fromDay = LocalDate.parse(fromDate, customDateParser);\n    LocalDate toDay = LocalDate.parse(toDate, customDateParser);\n    // then concatenate the parsed dates with the prepared times of day\n    LocalDateTime fromTime = LocalDateTime.of(fromDay, startOfDay);\n    LocalDateTime toTime = LocalDateTime.of(toDay, endOfDay);\n    // finally define a formatter for the String output of the LocalDateTimes\n    DateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSS&quot;);\n    // and print their toString() methods\n    System.out.println(&quot;from &quot; + fromTime.format(customFormatter) \n                     + &quot; to &quot; + toTime.format(customFormatter));\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>from 2021-10-04T00:00:00.000 to 2021-10-06T23:59:59.000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647851714,"creation_date":1647851381,"answer_id":71554685,"question_id":71554336,"body_markdown":"Generally speaking, you really want to avoid representing date/time as `String` where ever possible.\r\n\r\nDisplaying date/time values to the user should be done in styles that respect their localisation and transmitting date/time values using JSON or XML should use common/standardised formats.  This reduces a LOT of issues (don&#39;t even get me started)\r\n\r\nFor example, had I the choice, I would prefer to use `ISO_LOCAL_DATE` (`uuuu-MM-dd`) and `ISO_LOCAL_DATE_TIME` (`uuuu-MM-dd&#39;T&#39;HH:mm:ss`).  I&#39;m already worried about the lack of time zone information &#128561;\r\n\r\nA &quot;simple&quot; approach might be to do something like...\r\n\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\r\n    DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu.SSS&quot;);\r\n\r\n    LocalDateTime locatDateTime = LocalDate\r\n            .parse(&quot;04-10-2021&quot;, dateFormatter)\r\n            .atTime(0, 0, 0, 0);\r\n\r\n    String dateAndTime = locatDateTime.format(timeFormatter);\r\n    System.out.println(dateAndTime);\r\n\r\n    locatDateTime = LocalDate\r\n            .parse(&quot;04-10-2021&quot;, dateFormatter)\r\n            .atTime(23, 59, 59, 0);\r\n\r\n    dateAndTime = locatDateTime.format(timeFormatter);\r\n    System.out.println(dateAndTime);\r\n\r\nBasically...\r\n\r\n* Parse the date value through a `DateTimeFormatter` using a matching format patten\r\n* Convert the `LocalDate` to a `LocalDateTime` by passing in the values we want to use\r\n* Format the `LocalDateTime` through a `DateTimeFormatter` to the desired format\r\n\r\nwhich prints...\r\n\r\n    04-10-2021T00:00:00.000\r\n    06-10-2021T23:59:59.000\r\n\r\nSee:\r\n\r\n* [The date/time trail](https://docs.oracle.com/javase/tutorial/datetime/index.html)\r\n* [Introduction to the Java 8 Date/Time API](https://www.baeldung.com/java-8-date-time-intro)\r\n\r\nfor more details\r\n\r\nNow, if all you really want to do, is make it &quot;start of&quot; and &quot;end of&quot; day, you might be able to use...\r\n\r\n    LocalDateTime startOfDay = LocalDate\r\n            .parse(&quot;04-10-2021&quot;, dateFormatter)\r\n            .atStartOfDay();\r\n\r\n    LocalDateTime endOfDay = LocalDate\r\n            .parse(&quot;06-10-2021&quot;, dateFormatter)\r\n            .plusDays(1)\r\n            .atStartOfDay()\r\n            .minusSeconds(1);\r\n\r\nRight about now, I&#39;d be starting a utility class of some kind which had a method which could take a date `String` (and possibly an optional format) and generate a `LocalDate` and then another method which could take `LocalDate` which could convert it to a `LocalDateTime` at either the `startOfDay` or `endOfDay`","title":"How to convert from string format of date (dd/mm/yyyy) to string format of date (yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSS)","body":"<p>Generally speaking, you really want to avoid representing date/time as <code>String</code> where ever possible.</p>\n<p>Displaying date/time values to the user should be done in styles that respect their localisation and transmitting date/time values using JSON or XML should use common/standardised formats.  This reduces a LOT of issues (don't even get me started)</p>\n<p>For example, had I the choice, I would prefer to use <code>ISO_LOCAL_DATE</code> (<code>uuuu-MM-dd</code>) and <code>ISO_LOCAL_DATE_TIME</code> (<code>uuuu-MM-dd'T'HH:mm:ss</code>).  I'm already worried about the lack of time zone information 😱</p>\n<p>A &quot;simple&quot; approach might be to do something like...</p>\n<pre><code>DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\nDateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu.SSS&quot;);\n\nLocalDateTime locatDateTime = LocalDate\n        .parse(&quot;04-10-2021&quot;, dateFormatter)\n        .atTime(0, 0, 0, 0);\n\nString dateAndTime = locatDateTime.format(timeFormatter);\nSystem.out.println(dateAndTime);\n\nlocatDateTime = LocalDate\n        .parse(&quot;04-10-2021&quot;, dateFormatter)\n        .atTime(23, 59, 59, 0);\n\ndateAndTime = locatDateTime.format(timeFormatter);\nSystem.out.println(dateAndTime);\n</code></pre>\n<p>Basically...</p>\n<ul>\n<li>Parse the date value through a <code>DateTimeFormatter</code> using a matching format patten</li>\n<li>Convert the <code>LocalDate</code> to a <code>LocalDateTime</code> by passing in the values we want to use</li>\n<li>Format the <code>LocalDateTime</code> through a <code>DateTimeFormatter</code> to the desired format</li>\n</ul>\n<p>which prints...</p>\n<pre><code>04-10-2021T00:00:00.000\n06-10-2021T23:59:59.000\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">The date/time trail</a></li>\n<li><a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">Introduction to the Java 8 Date/Time API</a></li>\n</ul>\n<p>for more details</p>\n<p>Now, if all you really want to do, is make it &quot;start of&quot; and &quot;end of&quot; day, you might be able to use...</p>\n<pre><code>LocalDateTime startOfDay = LocalDate\n        .parse(&quot;04-10-2021&quot;, dateFormatter)\n        .atStartOfDay();\n\nLocalDateTime endOfDay = LocalDate\n        .parse(&quot;06-10-2021&quot;, dateFormatter)\n        .plusDays(1)\n        .atStartOfDay()\n        .minusSeconds(1);\n</code></pre>\n<p>Right about now, I'd be starting a utility class of some kind which had a method which could take a date <code>String</code> (and possibly an optional format) and generate a <code>LocalDate</code> and then another method which could take <code>LocalDate</code> which could convert it to a <code>LocalDateTime</code> at either the <code>startOfDay</code> or <code>endOfDay</code></p>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647852685,"creation_date":1647851534,"answer_id":71554716,"question_id":71554336,"body_markdown":"You have to do these steps:\r\n 1. create a [DateTimeFormatter][1] for `dd-MM-yyyy`\r\n 2. parse the date with `LocalDate.parse` with `atTime`\r\n 3. create a [DateTimeFormatter][1] for `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS`\r\n 4. format the date in order to have the final result\r\n\r\n```java\r\npublic String changeFormatDate(String date, int hour, int minute, int second, int nanoOfSecond) {\r\n    DateTimeFormatter formatterFrom = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;); // 1\r\n    LocalDateTime localDateTimeFrom = LocalDate.parse(date, formatterFrom).atTime(hour, minute, second, nanoOfSecond); // 2\r\n\r\n    DateTimeFormatter formatterTo = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;); // 3\r\n    return localDateTimeFrom.format(formatterTo); //4\r\n}\r\n```\r\nCall example:\r\n```java\r\nString fromTime = changeFormatDate(&quot;04-10-2021&quot;, 0, 0, 0, 0);\r\nString toTime = changeFormatDate(&quot;06-10-2021&quot;, 23, 59, 59, 999999999);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"How to convert from string format of date (dd/mm/yyyy) to string format of date (yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSS)","body":"<p>You have to do these steps:</p>\n<ol>\n<li>create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> for <code>dd-MM-yyyy</code></li>\n<li>parse the date with <code>LocalDate.parse</code> with <code>atTime</code></li>\n<li>create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> for <code>yyyy-MM-dd'T'HH:mm:ss.SSS</code></li>\n<li>format the date in order to have the final result</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public String changeFormatDate(String date, int hour, int minute, int second, int nanoOfSecond) {\n    DateTimeFormatter formatterFrom = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;); // 1\n    LocalDateTime localDateTimeFrom = LocalDate.parse(date, formatterFrom).atTime(hour, minute, second, nanoOfSecond); // 2\n\n    DateTimeFormatter formatterTo = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;); // 3\n    return localDateTimeFrom.format(formatterTo); //4\n}\n</code></pre>\n<p>Call example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fromTime = changeFormatDate(&quot;04-10-2021&quot;, 0, 0, 0, 0);\nString toTime = changeFormatDate(&quot;06-10-2021&quot;, 23, 59, 59, 999999999);\n</code></pre>\n"}],"owner":{"account_id":22978259,"reputation":13,"user_id":17105599,"display_name":"madhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1647858222,"creation_date":1647849268,"question_id":71554336,"body_markdown":"I have to convert \r\n\r\n```lang-json\r\n&quot;fromTime&quot; : &quot;04-10-2021&quot;`\r\n```\r\nto \r\n```lang-json\r\n&quot;fromTime&quot; : &quot;2021-10-04T00:00:00.000&quot;\r\n```\r\nand\r\n```lang-json\r\n&quot;toTime&quot; : &quot;06-10-2021&quot;\r\n```\r\nto\r\n```lang-json\r\n&quot;toTime&quot; : &quot;2021-10-06T23:59:59.000&quot;\r\n```\r\nin java . Help please!","title":"How to convert from string format of date (dd/mm/yyyy) to string format of date (yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSS)","body":"<p>I have to convert</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;fromTime&quot; : &quot;04-10-2021&quot;`\n</code></pre>\n<p>to</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;fromTime&quot; : &quot;2021-10-04T00:00:00.000&quot;\n</code></pre>\n<p>and</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;toTime&quot; : &quot;06-10-2021&quot;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;toTime&quot; : &quot;2021-10-06T23:59:59.000&quot;\n</code></pre>\n<p>in java . Help please!</p>\n"},{"tags":["java","h2","embedded-database"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1647706796,"post_id":71538840,"comment_id":126440586,"body_markdown":"https://h2database.com/html/features.html#trace_options ?","body":"<a href=\"https://h2database.com/html/features.html#trace_options\" rel=\"nofollow noreferrer\">h2database.com/html/features.html#trace_options</a> ?"},{"owner":{"account_id":3815856,"reputation":11,"user_id":18513066,"display_name":"Retardo"},"score":0,"creation_date":1647721343,"post_id":71538840,"comment_id":126443705,"body_markdown":"Not exactly what I needed, but you put in the right direction (see my answer). Thx","body":"Not exactly what I needed, but you put in the right direction (see my answer). Thx"}],"answers":[{"tags":[],"owner":{"account_id":3815856,"reputation":11,"user_id":18513066,"display_name":"Retardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647858071,"creation_date":1647721276,"answer_id":71541753,"question_id":71538840,"body_markdown":"It seem like the getConnection method from the EmbeddedDatabase and from the DriverManager create a different log strategie for the connection. The default config fits for my problem. So the code would look like this:\r\n\r\n    new EmbeddedDatabaseBuilder()\r\n                .setName(&quot;test&quot;)\r\n                .setType(EmbeddedDatabaseType.H2)\r\n                .build();\r\n    ...\r\n    Connection connection = DriverManager\r\n           .getConnection(&quot;jdbc:h2:mem:test&quot;, &quot;sa&quot;, &quot;&quot;);\r\n    ... or\r\n    Connection connection = DriverManager\r\n           .getConnection(&quot;jdbc:h2:mem:test;TRACE_LEVEL_SYSTEM_OUT=3&quot;, &quot;sa&quot;, &quot;&quot;);\r\nMore options:\r\nhttps://h2database.com/html/features.html#trace_options","title":"Java EmbeddedDatabase (H2) logging","body":"<p>It seem like the getConnection method from the EmbeddedDatabase and from the DriverManager create a different log strategie for the connection. The default config fits for my problem. So the code would look like this:</p>\n<pre><code>new EmbeddedDatabaseBuilder()\n            .setName(&quot;test&quot;)\n            .setType(EmbeddedDatabaseType.H2)\n            .build();\n...\nConnection connection = DriverManager\n       .getConnection(&quot;jdbc:h2:mem:test&quot;, &quot;sa&quot;, &quot;&quot;);\n... or\nConnection connection = DriverManager\n       .getConnection(&quot;jdbc:h2:mem:test;TRACE_LEVEL_SYSTEM_OUT=3&quot;, &quot;sa&quot;, &quot;&quot;);\n</code></pre>\n<p>More options:\n<a href=\"https://h2database.com/html/features.html#trace_options\" rel=\"nofollow noreferrer\">https://h2database.com/html/features.html#trace_options</a></p>\n"}],"owner":{"account_id":3815856,"reputation":11,"user_id":18513066,"display_name":"Retardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647858071,"creation_date":1647698937,"question_id":71538840,"body_markdown":"I would like to change the logging of my EmbeddedDatabase. Atm every time I open a connection it logs &quot;... Creating new JDBC Driver Connection to ...&quot;. In my test suite, I open for every request a new connection, and now there are way too many of these messages.\r\n\r\n    EmbeddedDatabase embeddedDatabase = new EmbeddedDatabaseBuilder()\r\n                .generateUniqueName(true)\r\n                .setType(EmbeddedDatabaseType.H2)\r\n                .build();\r\n    ...\r\n    Connection connection = embeddedDatabase.getConnection();\r\n\r\nI didn&#39;t find any kind of log level. I just can set the PrintWriter. But I wanna see the error msgs.\r\nI run this outside of spring as a regular unit test.\r\n\r\nAny ideas?","title":"Java EmbeddedDatabase (H2) logging","body":"<p>I would like to change the logging of my EmbeddedDatabase. Atm every time I open a connection it logs &quot;... Creating new JDBC Driver Connection to ...&quot;. In my test suite, I open for every request a new connection, and now there are way too many of these messages.</p>\n<pre><code>EmbeddedDatabase embeddedDatabase = new EmbeddedDatabaseBuilder()\n            .generateUniqueName(true)\n            .setType(EmbeddedDatabaseType.H2)\n            .build();\n...\nConnection connection = embeddedDatabase.getConnection();\n</code></pre>\n<p>I didn't find any kind of log level. I just can set the PrintWriter. But I wanna see the error msgs.\nI run this outside of spring as a regular unit test.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","graalvm","graalvm-native-image","spring-native","graaljs"],"comments":[{"owner":{"account_id":2537956,"reputation":55,"user_id":2204531,"display_name":"Orazio Contarino"},"score":0,"creation_date":1649259635,"post_id":71527356,"comment_id":126832037,"body_markdown":"As reported in:\nhttps://github.com/spring-projects-experimental/spring-native/issues/1510\nIt&#39;s a bug in GraalVm side","body":"As reported in: <a href=\"https://github.com/spring-projects-experimental/spring-native/issues/1510\" rel=\"nofollow noreferrer\">github.com/spring-projects-experimental/spring-native/issues&zwnj;&#8203;/&hellip;</a> It&#39;s a bug in GraalVm side"}],"owner":{"account_id":2537956,"reputation":55,"user_id":2204531,"display_name":"Orazio Contarino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647857753,"creation_date":1647608168,"question_id":71527356,"body_markdown":"i&#39;ve configured a spring native app which should use graalvm js interpreter to run js code.\r\nThe app works fine if i build/run it with nashorn interpreter (no native, standard build).\r\nIf i build it using native profile and GraalVM js interpreter it fails at runtime (build completed with success and some warnings).\r\n\r\nIf i remove tomcat dependency (native build, graalvm interpreter, no tomcat) it works fine. My question is: is there a way to run graalvm native image (graalvm js interpreter) and tomcat in the same app? What should i modify?\r\n\r\nGraalvm version:22.0.0.2\r\n\r\nPOM (maven project):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;TestSpringNativeExe&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.11&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;graalvm.version&gt;21.2.0&lt;/graalvm.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-release&lt;/id&gt;\r\n                &lt;name&gt;Spring release&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-release&lt;/id&gt;\r\n                &lt;name&gt;Spring release&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- ... --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n                &lt;version&gt;0.11.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Spring web --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.experimental&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-programmatic&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Logback --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n                &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- others --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n                &lt;artifactId&gt;js&lt;/artifactId&gt;\r\n                &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n                &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n                &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.graalvm.truffle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;truffle-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- ... --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.11.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;generate&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;test-generate&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test-generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;removeXmlSupport&gt;false&lt;/removeXmlSupport&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;native&lt;/id&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;!-- Required with Maven Surefire 2.x --&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.9.10&lt;/version&gt;\r\n                            &lt;extensions&gt;true&lt;/extensions&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;build-native&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;build&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;/execution&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;test-native&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;test&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;phase&gt;test&lt;/phase&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;!-- ... --&gt;\r\n                                &lt;buildArgs&gt;--language:js&lt;/buildArgs&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;!-- Avoid a clash between Spring Boot repackaging and native-maven-plugin --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWarnings at build time (native build):\r\n\r\n    [1/7] Initializing...                                                                                    (6,7s @ 0,25GB)\r\n    Warning: Could not register org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: org/springframework/jdbc/CannotGetJdbcConnectionExcept\r\n    ion.\r\n    Warning: Could not register org.springframework.boot.diagnostics.analyzer.ValidationExceptionFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: javax/validation/ValidationException.\r\n    Warning: Could not register org.springframework.boot.liquibase.LiquibaseChangelogMissingFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException.\r\n     Version info: &#39;GraalVM 22.0.0.1 Java 11 EE&#39;\r\n    The bundle named: org.apache.tomcat.util.threads.res.LocalStrings, has not been found. If the bundle is part of a module, verify the bundle name is a fully qualified class name. Otherwise verify the bundle path is accessible in the classpath.\r\n    [2/7] Performing analysis...  [*********]                                                               (93,1s @ 3,89GB)\r\n    Warning: Could not register complete reflection metadata for org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator. Reason(s): java.lang.NoClassDefFoundError: org/aspectj/util/PartialOrder$PartialComparable\r\n    Warning: Could not register complete reflection metadata for org.springframework.validation.beanvalidation.SpringValidatorAdapter$ViolationFieldError. Reason(s): java.lang.NoClassDefFoundError: javax/validation/Validator, java.lang.NoClassDefFoundE\r\n    rror: javax/validation/ConstraintViolation\r\n    Warning: Could not register complete reflection metadata for org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator. Reason(s): java.lang.NoClassDefFoundError: org/aspectj/util/PartialOrder$PartialComparable\r\n    Warning: Could not register complete reflection metadata for org.springframework.boot.diagnostics.analyzer.ValidationExceptionFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: javax/validation/ValidationException\r\n    Warning: Could not register complete reflection metadata for org.springframework.boot.liquibase.LiquibaseChangelogMissingFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException\r\n    Warning: Could not register complete reflection metadata for org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: org/springframework/jdbc/CannotGetJdbcConnectionException\r\n     \r\nError at runtime (native image run):\r\n\r\n    13:29:27.327 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerMapping&#39;: Unexpected exception during bean creation; nested exception is java.lang.ExceptionInInitializerError\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n            at com.example.SpringNativeApp.main(SpringNativeApp.java:24)\r\n    Caused by: java.lang.ExceptionInInitializerError: null\r\n            at java.lang.Class.ensureInitialized(DynamicHub.java:510)\r\n            at java.lang.Class.ensureInitialized(DynamicHub.java:510)\r\n            at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.createRequestMappingHandlerMapping(WebMvcConfigurationSupport.java:351)\r\n            at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.createRequestMappingHandlerMapping(WebMvcAutoConfiguration.java:543)\r\n            at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerMapping(WebMvcConfigurationSupport.java:311)\r\n            at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerMapping(WebMvcAutoConfiguration.java:445)\r\n            at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$23(ContextBootstrapInitializer.java:168)\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294)\r\n            at org.springframework.aot.beans.factory.InjectedElementResolver.create(InjectedElementResolver.java:67)\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$BeanInstanceContext.create(BeanDefinitionRegistrar.java:211)\r\n            at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$24(ContextBootstrapInitializer.java:168)\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294)\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar.lambda$instanceSupplier$0(BeanDefinitionRegistrar.java:115)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n            ... 14 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Expected method not found: java.lang.NoSuchMethodException: org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$EmptyHandler.handle()\r\n            at org.springframework.util.ClassUtils.getMethod(ClassUtils.java:1141)\r\n            at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.&lt;clinit&gt;(AbstractHandlerMethodMapping.java:84)\r\n            ... 31 common frames omitted\r\n\r\n","title":"Spring Native fails to start native app after add language:js - Error creating bean with name &#39;requestMappingHandlerMapping&#39;","body":"<p>i've configured a spring native app which should use graalvm js interpreter to run js code.\nThe app works fine if i build/run it with nashorn interpreter (no native, standard build).\nIf i build it using native profile and GraalVM js interpreter it fails at runtime (build completed with success and some warnings).</p>\n<p>If i remove tomcat dependency (native build, graalvm interpreter, no tomcat) it works fine. My question is: is there a way to run graalvm native image (graalvm js interpreter) and tomcat in the same app? What should i modify?</p>\n<p>Graalvm version:22.0.0.2</p>\n<p>POM (maven project):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestSpringNativeExe&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;graalvm.version&gt;21.2.0&lt;/graalvm.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-release&lt;/id&gt;\n            &lt;name&gt;Spring release&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-release&lt;/id&gt;\n            &lt;name&gt;Spring release&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- ... --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n            &lt;version&gt;0.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-programmatic&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Logback --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n            &lt;version&gt;3.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- others --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js&lt;/artifactId&gt;\n            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.truffle&lt;/groupId&gt;\n            &lt;artifactId&gt;truffle-api&lt;/artifactId&gt;\n            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- ... --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.11.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-generate&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;removeXmlSupport&gt;false&lt;/removeXmlSupport&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;!-- Required with Maven Surefire 2.x --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.9.10&lt;/version&gt;\n                        &lt;extensions&gt;true&lt;/extensions&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;test-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;test&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- ... --&gt;\n                            &lt;buildArgs&gt;--language:js&lt;/buildArgs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;!-- Avoid a clash between Spring Boot repackaging and native-maven-plugin --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Warnings at build time (native build):</p>\n<pre><code>[1/7] Initializing...                                                                                    (6,7s @ 0,25GB)\nWarning: Could not register org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: org/springframework/jdbc/CannotGetJdbcConnectionExcept\nion.\nWarning: Could not register org.springframework.boot.diagnostics.analyzer.ValidationExceptionFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: javax/validation/ValidationException.\nWarning: Could not register org.springframework.boot.liquibase.LiquibaseChangelogMissingFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException.\n Version info: 'GraalVM 22.0.0.1 Java 11 EE'\nThe bundle named: org.apache.tomcat.util.threads.res.LocalStrings, has not been found. If the bundle is part of a module, verify the bundle name is a fully qualified class name. Otherwise verify the bundle path is accessible in the classpath.\n[2/7] Performing analysis...  [*********]                                                               (93,1s @ 3,89GB)\nWarning: Could not register complete reflection metadata for org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator. Reason(s): java.lang.NoClassDefFoundError: org/aspectj/util/PartialOrder$PartialComparable\nWarning: Could not register complete reflection metadata for org.springframework.validation.beanvalidation.SpringValidatorAdapter$ViolationFieldError. Reason(s): java.lang.NoClassDefFoundError: javax/validation/Validator, java.lang.NoClassDefFoundE\nrror: javax/validation/ConstraintViolation\nWarning: Could not register complete reflection metadata for org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator. Reason(s): java.lang.NoClassDefFoundError: org/aspectj/util/PartialOrder$PartialComparable\nWarning: Could not register complete reflection metadata for org.springframework.boot.diagnostics.analyzer.ValidationExceptionFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: javax/validation/ValidationException\nWarning: Could not register complete reflection metadata for org.springframework.boot.liquibase.LiquibaseChangelogMissingFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException\nWarning: Could not register complete reflection metadata for org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: org/springframework/jdbc/CannotGetJdbcConnectionException\n \n</code></pre>\n<p>Error at runtime (native image run):</p>\n<pre><code>13:29:27.327 [main] ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping': Unexpected exception during bean creation; nested exception is java.lang.ExceptionInInitializerError\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n        at com.example.SpringNativeApp.main(SpringNativeApp.java:24)\nCaused by: java.lang.ExceptionInInitializerError: null\n        at java.lang.Class.ensureInitialized(DynamicHub.java:510)\n        at java.lang.Class.ensureInitialized(DynamicHub.java:510)\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.createRequestMappingHandlerMapping(WebMvcConfigurationSupport.java:351)\n        at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.createRequestMappingHandlerMapping(WebMvcAutoConfiguration.java:543)\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerMapping(WebMvcConfigurationSupport.java:311)\n        at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerMapping(WebMvcAutoConfiguration.java:445)\n        at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$23(ContextBootstrapInitializer.java:168)\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294)\n        at org.springframework.aot.beans.factory.InjectedElementResolver.create(InjectedElementResolver.java:67)\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$BeanInstanceContext.create(BeanDefinitionRegistrar.java:211)\n        at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$24(ContextBootstrapInitializer.java:168)\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294)\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar.lambda$instanceSupplier$0(BeanDefinitionRegistrar.java:115)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        ... 14 common frames omitted\nCaused by: java.lang.IllegalStateException: Expected method not found: java.lang.NoSuchMethodException: org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$EmptyHandler.handle()\n        at org.springframework.util.ClassUtils.getMethod(ClassUtils.java:1141)\n        at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.&lt;clinit&gt;(AbstractHandlerMethodMapping.java:84)\n        ... 31 common frames omitted\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647857556,"creation_date":1647857556,"answer_id":71555889,"question_id":71555750,"body_markdown":"I might not use a single regex pattern, but would instead use multiple checks.  For example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String password = &quot;ABC123@&quot;;\r\n    int numChars = password.replaceAll(&quot;(?i)[^A-Z]+&quot;, &quot;&quot;).length();\r\n    int numDigits = password.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;).length();\r\n    int numSpecial = password.replaceAll(&quot;[^!@#$%^&amp;*()_+.-]&quot;, &quot;&quot;).length();\r\n\r\n    if (numChars &gt;=1 &amp;&amp; numChars &lt;= 6 &amp;&amp; numDigits &gt;= 1 &amp;&amp; numDigits &lt;= 10 &amp;&amp;\r\n        numSpecial &lt;= 1) {\r\n        System.out.println(&quot;password is valid&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;password is invalid&quot;);\r\n    }","title":"Password validation in Java using RegEx","body":"<p>I might not use a single regex pattern, but would instead use multiple checks.  For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String password = &quot;ABC123@&quot;;\nint numChars = password.replaceAll(&quot;(?i)[^A-Z]+&quot;, &quot;&quot;).length();\nint numDigits = password.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;).length();\nint numSpecial = password.replaceAll(&quot;[^!@#$%^&amp;*()_+.-]&quot;, &quot;&quot;).length();\n\nif (numChars &gt;=1 &amp;&amp; numChars &lt;= 6 &amp;&amp; numDigits &gt;= 1 &amp;&amp; numDigits &lt;= 10 &amp;&amp;\n    numSpecial &lt;= 1) {\n    System.out.println(&quot;password is valid&quot;);\n}\nelse {\n    System.out.println(&quot;password is invalid&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":20283367,"reputation":121,"user_id":14876572,"display_name":"George Cosmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71555889,"answer_count":1,"score":1,"last_activity_date":1647857556,"creation_date":1647856917,"question_id":71555750,"body_markdown":"I need a regular expression to check that if a password contains:\r\n\r\n - [1,6] uppercase/lowercase characters\r\n - [1,10] digits\r\n - [0,1] special characters\r\n\r\nI tried multiple approach, but without success. I don&#39;t know if I can do this verify with regex. The most accurate pattern is : `^(?=(.*[a-zA-Z]){1,6})(?=(.*[0-9]){1,10})(?=(.*[!@#$%^&amp;*()\\-__+.]){0,1})`\r\n\r\nBut it don&#39;t work good when I have more than 6 char, 10 digits or 1 special character.\r\n\r\nCould anyone help me?","title":"Password validation in Java using RegEx","body":"<p>I need a regular expression to check that if a password contains:</p>\n<ul>\n<li>[1,6] uppercase/lowercase characters</li>\n<li>[1,10] digits</li>\n<li>[0,1] special characters</li>\n</ul>\n<p>I tried multiple approach, but without success. I don't know if I can do this verify with regex. The most accurate pattern is : <code>^(?=(.*[a-zA-Z]){1,6})(?=(.*[0-9]){1,10})(?=(.*[!@#$%^&amp;*()\\-__+.]){0,1})</code></p>\n<p>But it don't work good when I have more than 6 char, 10 digits or 1 special character.</p>\n<p>Could anyone help me?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8493,"page":1499,"page_size":100}
