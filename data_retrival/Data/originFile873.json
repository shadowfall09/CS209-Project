{"items":[{"tags":["java","ubuntu","intellij-idea","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1668789328,"post_id":74492608,"comment_id":131499212,"body_markdown":"It looks like you are using remote development and running the code on the remote target (WSL). Deployment may be not configured correctly and your code is not updated on the remote. Please file a bug at https://youtrack.jetbrains.com/newIssue?project=IDEA with the sample project and the exact steps to reproduce it.","body":"It looks like you are using remote development and running the code on the remote target (WSL). Deployment may be not configured correctly and your code is not updated on the remote. Please file a bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with the sample project and the exact steps to reproduce it."},{"owner":{"account_id":4978521,"reputation":119,"user_id":4004201,"accept_rate":40,"display_name":"Simon"},"score":0,"creation_date":1701695813,"post_id":74492608,"comment_id":136803837,"body_markdown":"Is there a space in the path to your app?  Try removing the space. This resolved the same issue for me.","body":"Is there a space in the path to your app?  Try removing the space. This resolved the same issue for me."}],"owner":{"account_id":26942136,"reputation":33,"user_id":20512760,"display_name":"JMoh04"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668789426,"creation_date":1668788652,"question_id":74492608,"body_markdown":"Editing a program and then running it ignores all changes and runs the code that was present when IntelliJ was opened.\r\n\r\n[![enter image description here][1]][1]\r\nAs you can see, my Main program was first just a Hello World, however when I write some new code in, running it will keep displaying that Hello World. The only thing that works is restarting IntelliJ each time, which is tedious.\r\n\r\nI&#39;ve tried various ways to run it, using the gutter run buttons, right-clicking the program and then running for example, reloading from disk, and also rebuilding, but none of these work, my only solution is to restart IntelliJ each time.\r\n\r\nAm I missing something? Thanks for any help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x8BlA.png","title":"Have to restart IntelliJ to run new/edited code?","body":"<p>Editing a program and then running it ignores all changes and runs the code that was present when IntelliJ was opened.</p>\n<p><a href=\"https://i.stack.imgur.com/x8BlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x8BlA.png\" alt=\"enter image description here\" /></a>\nAs you can see, my Main program was first just a Hello World, however when I write some new code in, running it will keep displaying that Hello World. The only thing that works is restarting IntelliJ each time, which is tedious.</p>\n<p>I've tried various ways to run it, using the gutter run buttons, right-clicking the program and then running for example, reloading from disk, and also rebuilding, but none of these work, my only solution is to restart IntelliJ each time.</p>\n<p>Am I missing something? Thanks for any help.</p>\n"},{"tags":["java","mysql","sql","transactions","commit"],"comments":[{"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"score":0,"creation_date":1668789082,"post_id":74492519,"comment_id":131499125,"body_markdown":"Why would you need to commit the transaction to get the referenced primary key?","body":"Why would you need to commit the transaction to get the referenced primary key?"}],"answers":[{"tags":[],"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788542,"creation_date":1668788542,"answer_id":74492586,"question_id":74492519,"body_markdown":"You already answered your question: you don&#39;t have enough data before transaction&#39;s commit. Maybe try something like nested transactions? Note that not every database supports this feature.","title":"Is there a way to insert a row in a father table with autoincrement primary key and a child table in the same transaction in SQL?","body":"<p>You already answered your question: you don't have enough data before transaction's commit. Maybe try something like nested transactions? Note that not every database supports this feature.</p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788629,"creation_date":1668788629,"answer_id":74492602,"question_id":74492519,"body_markdown":"Mysql has LAST_INSERT_ID() function.","title":"Is there a way to insert a row in a father table with autoincrement primary key and a child table in the same transaction in SQL?","body":"<p>Mysql has LAST_INSERT_ID() function.</p>\n"},{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668789317,"creation_date":1668788630,"answer_id":74492603,"question_id":74492519,"body_markdown":"When you have executed your statement, call [getGeneratedKeys()][1] to fetch the generated keys:\r\n\r\n    Statement statement =\r\n        connection.prepareStatement(&quot;insert into ..&quot;,\r\n                                    Statement.RETURN_GENERATED_KEYS);\r\n    statement.executeUpdate();\r\n    ResultSet keys = statement.getGeneratedKeys();\r\n    ...\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Statement.html#getGeneratedKeys()","title":"Is there a way to insert a row in a father table with autoincrement primary key and a child table in the same transaction in SQL?","body":"<p>When you have executed your statement, call <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Statement.html#getGeneratedKeys()\" rel=\"nofollow noreferrer\">getGeneratedKeys()</a> to fetch the generated keys:</p>\n<pre><code>Statement statement =\n    connection.prepareStatement(&quot;insert into ..&quot;,\n                                Statement.RETURN_GENERATED_KEYS);\nstatement.executeUpdate();\nResultSet keys = statement.getGeneratedKeys();\n...\n</code></pre>\n"}],"owner":{"account_id":24939548,"reputation":11,"user_id":18805621,"display_name":"Francisco Shick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668789317,"creation_date":1668788306,"question_id":74492519,"body_markdown":"I don&#39; t know how to insert a row in the child table that has an attribute that references to the column ID (primary key of the father Table)in the same transaction because i dont know the father primary key if i don&#39;t commit the transaction.\r\nIs there a way to solve this problem?","title":"Is there a way to insert a row in a father table with autoincrement primary key and a child table in the same transaction in SQL?","body":"<p>I don' t know how to insert a row in the child table that has an attribute that references to the column ID (primary key of the father Table)in the same transaction because i dont know the father primary key if i don't commit the transaction.\nIs there a way to solve this problem?</p>\n"},{"tags":["java","hibernate","jpa","orm","natural-key"],"answers":[{"tags":[],"owner":{"account_id":13638,"reputation":424823,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1260910035,"creation_date":1260909628,"answer_id":1910240,"question_id":1910220,"body_markdown":"What naturally identifies an entity. For example, my email address.\r\n\r\nHowever, a long variable length string is not an ideal key, so you may want to define a [surrogate id][1]\r\n\r\nAKA [Natural key][2] in relational design\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html#mapping-declaration-naturalid\r\n  [2]: http://en.wikipedia.org/wiki/Natural_key","title":"What is a natural identifier in Hibernate?","body":"<p>What naturally identifies an entity. For example, my email address.</p>\n\n<p>However, a long variable length string is not an ideal key, so you may want to define a <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html#mapping-declaration-naturalid\" rel=\"noreferrer\">surrogate id</a></p>\n\n<p>AKA <a href=\"http://en.wikipedia.org/wiki/Natural_key\" rel=\"noreferrer\">Natural key</a> in relational design</p>\n"},{"tags":[],"owner":{"account_id":11234,"reputation":64948,"user_id":21574,"accept_rate":81,"display_name":"Chris S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260964473,"creation_date":1260909632,"answer_id":1910241,"question_id":1910220,"body_markdown":"A social security number might be a [natural identity][1], or as you&#39;ve said a hash of the User&#39;s information. The alternative is a [surrogate key][2], for example a Guid/UID.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Natural_key\r\n  [2]: http://en.wikipedia.org/wiki/Surrogate_key","title":"What is a natural identifier in Hibernate?","body":"<p>A social security number might be a <a href=\"http://en.wikipedia.org/wiki/Natural_key\" rel=\"nofollow noreferrer\">natural identity</a>, or as you've said a hash of the User's information. The alternative is a <a href=\"http://en.wikipedia.org/wiki/Surrogate_key\" rel=\"nofollow noreferrer\">surrogate key</a>, for example a Guid/UID.</p>\n"},{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1260909720,"creation_date":1260909720,"answer_id":1910250,"question_id":1910220,"body_markdown":"A natural identifier is something that is used in the real world as an identifier. An example is a social security number, or a passport number.\r\n\r\nIt is usually a bad idea to use natural identifiers as keys in a persistence layer because a) they can be changed outside of your control, and b) they can end up not being unique due to a mistake elsewhere, and then your data model can&#39;t handle it so your application blows up. ","title":"What is a natural identifier in Hibernate?","body":"<p>A natural identifier is something that is used in the real world as an identifier. An example is a social security number, or a passport number.</p>\n\n<p>It is usually a bad idea to use natural identifiers as keys in a persistence layer because a) they can be changed outside of your control, and b) they can end up not being unique due to a mistake elsewhere, and then your data model can't handle it so your application blows up. </p>\n"},{"tags":[],"owner":{"account_id":239026,"reputation":2527,"user_id":508329,"accept_rate":75,"display_name":"chris"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1668789294,"creation_date":1399979135,"answer_id":23629503,"question_id":1910220,"body_markdown":"In Hibernate, natural keys are often used for lookups. You will have an auto-generated surrogate id in most cases. But this id is rather useless for lookups, as you&#39;ll always query by fields like name, social security number or anything else from the real world.\r\n\r\nWhen using Hibernate&#39;s caching features, this difference is very important: If the cache is indexed by your primary key (surrogate id), there won&#39;t be any performance gain on lookups. That&#39;s why you can define a set of fields that you are going to query the database with - the natural id. Hibernate can then index the data by your natural key and improve the lookup performance.\r\n\r\nSee this excellent [blog post][1] for a more detailed explanation or this [RedHat page][2] for an example Hibernate mapping file.\r\n\r\n\r\n  [1]: http://tech.puredanger.com/2009/07/10/hibernate-query-cache/\r\n  [2]: http://web.archive.org/web/20150923212633/https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Web_Platform/5/html/Hibernate_Core_Reference_Guide/query-criteria-naturalid.html","title":"What is a natural identifier in Hibernate?","body":"<p>In Hibernate, natural keys are often used for lookups. You will have an auto-generated surrogate id in most cases. But this id is rather useless for lookups, as you'll always query by fields like name, social security number or anything else from the real world.</p>\n<p>When using Hibernate's caching features, this difference is very important: If the cache is indexed by your primary key (surrogate id), there won't be any performance gain on lookups. That's why you can define a set of fields that you are going to query the database with - the natural id. Hibernate can then index the data by your natural key and improve the lookup performance.</p>\n<p>See this excellent <a href=\"http://tech.puredanger.com/2009/07/10/hibernate-query-cache/\" rel=\"noreferrer\">blog post</a> for a more detailed explanation or this <a href=\"http://web.archive.org/web/20150923212633/https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Web_Platform/5/html/Hibernate_Core_Reference_Guide/query-criteria-naturalid.html\" rel=\"noreferrer\">RedHat page</a> for an example Hibernate mapping file.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1631712651,"creation_date":1509442035,"answer_id":47031917,"question_id":1910220,"body_markdown":"In a relational database system, typically, you can have two types of simple identifiers:\r\n\r\n- Natural keys, which are assigned by external systems and guaranteed to be unique\r\n- Surrogate keys, like `IDENTITY` or `SEQUENCE` which are assigned by the database. \r\n\r\nThe reason why Surrogate Keys are so popular is that they are more compact (4 bytes or 8 bytes), compared to a Natural Key which is very long (e.g. the VIN takes 17 alphanumerical characters, the book ISBN is 13 digits long). If the Surrogate Key becomes the Primary Key, you can map it using the JPA `@Id` annotation.\r\n\r\nNow, let&#39;s assume we have the following `Post` entity:\r\n\r\n[![Post entity with natural id][1]](https://vladmihalcea.com/the-best-way-to-map-a-naturalid-business-key-with-jpa-and-hibernate/)\r\n\r\nSince the `Post` entity that has also a Natural Key, besides the Surrogate one, you can map it with the Hibernate-specific `@NaturalId` annotation:\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    public class Post {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @NaturalId\r\n        @Column(nullable = false, unique = true)\r\n        private String slug;\r\n     \r\n        //Getters and setters omitted for brevity\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) \r\n                return false;\r\n            Post post = (Post) o;\r\n            return Objects.equals(slug, post.slug);\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(slug);\r\n        }\r\n    }\r\n\r\nNow, considering the entity above, the user might have bookmarked a `Post` article and now they want to read it. However, the bookmarked URL contains the `slug` Natural Identifier, not the Primary Key.\r\n\r\nSo, we can fetch it like this using Hibernate:\r\n\r\n    Post post = entityManager.unwrap(Session.class)\r\n    .bySimpleNaturalId(Post.class)\r\n    .load(slug); \r\n\r\n### Hibernate 5.5 or newer\r\n\r\nWhen fetching the entity by its natural key on Hibernate 5.5 or newer, the following SQL query is generated:\r\n\r\n    SELECT p.id AS id1_0_0_,\r\n           p.slug AS slug2_0_0_,\r\n           p.title AS title3_0_0_\r\n    FROM post p\r\n    WHERE p.slug = &#39;high-performance-java-persistence&#39;\r\n\r\nSo, since Hibernate 5.5, the entity is fetched by its natural identifier directly from the database.\r\n\r\n### Hibernate 5.4 or older\r\n\r\nWhen fetching the entity by its natural key on Hibernate 5.4 or older, two SQL queries are generated:\r\n\r\n    SELECT p.id AS id1_0_\r\n    FROM post p\r\n    WHERE p.slug = &#39;high-performance-java-persistence&#39;\r\n     \r\n    SELECT p.id AS id1_0_0_,\r\n           p.slug AS slug2_0_0_,\r\n           p.title AS title3_0_0_\r\n    FROM post p\r\n    WHERE p.id = 1\r\n\r\nThe first query is needed to resolve the entity identifier associated with the provided natural identifier.\r\n\r\nThe second query is optional if the entity is already loaded in the first or the second-level cache.\r\n\r\nThe reason for having the first query is because Hibernate already has a well-established logic for loading and associating entities by their identifier in the Persistence Context.\r\n\r\nNow, if you want to skip the entity identifier query, you can easily annotate the entity using the `@NaturalIdCache` annotation:\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    @org.hibernate.annotations.Cache(\r\n        usage = CacheConcurrencyStrategy.READ_WRITE\r\n    )\r\n    @NaturalIdCache\r\n    public class Post {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @NaturalId\r\n        @Column(nullable = false, unique = true)\r\n        private String slug;\r\n     \r\n        //Getters and setters omitted for brevity\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) \r\n                return false;\r\n            Post post = (Post) o;\r\n            return Objects.equals(slug, post.slug);\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(slug);\r\n        }\r\n    }\r\n\r\nThis way, you can fetch the `Post` entity without even hitting the database. Cool, right?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/teolr.png\r\n","title":"What is a natural identifier in Hibernate?","body":"<p>In a relational database system, typically, you can have two types of simple identifiers:</p>\n<ul>\n<li>Natural keys, which are assigned by external systems and guaranteed to be unique</li>\n<li>Surrogate keys, like <code>IDENTITY</code> or <code>SEQUENCE</code> which are assigned by the database.</li>\n</ul>\n<p>The reason why Surrogate Keys are so popular is that they are more compact (4 bytes or 8 bytes), compared to a Natural Key which is very long (e.g. the VIN takes 17 alphanumerical characters, the book ISBN is 13 digits long). If the Surrogate Key becomes the Primary Key, you can map it using the JPA <code>@Id</code> annotation.</p>\n<p>Now, let's assume we have the following <code>Post</code> entity:</p>\n<p><a href=\"https://vladmihalcea.com/the-best-way-to-map-a-naturalid-business-key-with-jpa-and-hibernate/\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/teolr.png\" alt=\"Post entity with natural id\" /></a></p>\n<p>Since the <code>Post</code> entity that has also a Natural Key, besides the Surrogate one, you can map it with the Hibernate-specific <code>@NaturalId</code> annotation:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\npublic class Post {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @NaturalId\n    @Column(nullable = false, unique = true)\n    private String slug;\n \n    //Getters and setters omitted for brevity\n \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) \n            return false;\n        Post post = (Post) o;\n        return Objects.equals(slug, post.slug);\n    }\n \n    @Override\n    public int hashCode() {\n        return Objects.hash(slug);\n    }\n}\n</code></pre>\n<p>Now, considering the entity above, the user might have bookmarked a <code>Post</code> article and now they want to read it. However, the bookmarked URL contains the <code>slug</code> Natural Identifier, not the Primary Key.</p>\n<p>So, we can fetch it like this using Hibernate:</p>\n<pre><code>Post post = entityManager.unwrap(Session.class)\n.bySimpleNaturalId(Post.class)\n.load(slug); \n</code></pre>\n<h3>Hibernate 5.5 or newer</h3>\n<p>When fetching the entity by its natural key on Hibernate 5.5 or newer, the following SQL query is generated:</p>\n<pre><code>SELECT p.id AS id1_0_0_,\n       p.slug AS slug2_0_0_,\n       p.title AS title3_0_0_\nFROM post p\nWHERE p.slug = 'high-performance-java-persistence'\n</code></pre>\n<p>So, since Hibernate 5.5, the entity is fetched by its natural identifier directly from the database.</p>\n<h3>Hibernate 5.4 or older</h3>\n<p>When fetching the entity by its natural key on Hibernate 5.4 or older, two SQL queries are generated:</p>\n<pre><code>SELECT p.id AS id1_0_\nFROM post p\nWHERE p.slug = 'high-performance-java-persistence'\n \nSELECT p.id AS id1_0_0_,\n       p.slug AS slug2_0_0_,\n       p.title AS title3_0_0_\nFROM post p\nWHERE p.id = 1\n</code></pre>\n<p>The first query is needed to resolve the entity identifier associated with the provided natural identifier.</p>\n<p>The second query is optional if the entity is already loaded in the first or the second-level cache.</p>\n<p>The reason for having the first query is because Hibernate already has a well-established logic for loading and associating entities by their identifier in the Persistence Context.</p>\n<p>Now, if you want to skip the entity identifier query, you can easily annotate the entity using the <code>@NaturalIdCache</code> annotation:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\n@org.hibernate.annotations.Cache(\n    usage = CacheConcurrencyStrategy.READ_WRITE\n)\n@NaturalIdCache\npublic class Post {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @NaturalId\n    @Column(nullable = false, unique = true)\n    private String slug;\n \n    //Getters and setters omitted for brevity\n \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) \n            return false;\n        Post post = (Post) o;\n        return Objects.equals(slug, post.slug);\n    }\n \n    @Override\n    public int hashCode() {\n        return Objects.hash(slug);\n    }\n}\n</code></pre>\n<p>This way, you can fetch the <code>Post</code> entity without even hitting the database. Cool, right?</p>\n"},{"tags":[],"owner":{"account_id":6135552,"reputation":2268,"user_id":4784537,"display_name":"Ahmad Al-Kurdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531868279,"creation_date":1531868279,"answer_id":51391279,"question_id":1910220,"body_markdown":"**Natural identifier** (also known as business key): is an identifier that means or represent something in real life.\r\n&lt;br/&gt;\r\n**Email** or **national id** for **person** &lt;br/&gt;\r\n**Isbn** for **Book** &lt;br/&gt;\r\n**IBAN** for **Bank** account \r\n\r\n\r\nThis `@NaturalId` Annotation is used to specify Natural identifier.\r\n\r\n","title":"What is a natural identifier in Hibernate?","body":"<p><strong>Natural identifier</strong> (also known as business key): is an identifier that means or represent something in real life.\n<br/>\n<strong>Email</strong> or <strong>national id</strong> for <strong>person</strong> <br/>\n<strong>Isbn</strong> for <strong>Book</strong> <br/>\n<strong>IBAN</strong> for <strong>Bank</strong> account </p>\n\n<p>This <code>@NaturalId</code> Annotation is used to specify Natural identifier.</p>\n"},{"tags":[],"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541352705,"creation_date":1541351903,"answer_id":53143364,"question_id":1910220,"body_markdown":"In relational database theory a relation can have multiple *candidate keys*.\r\nA [candidate key][1] is a set of attributes of a relation that are never duplicate in two rows of that relation and that cannot be reduced by removing one of the attributes and still guarantee uniqueness.\r\n\r\nA natural ID is essentially a candidate key. Where &quot;natural&quot; means it is in the nature of the data you hold in that relation, not something you add like an autogenerated key.\r\nA natural ID can be composed of a single attribute.\r\nIn general any attribute of a relation that is unique and not-null is a candidate key, and can be considered a natural id.\r\n\r\nIn Hibernate this annotation can be used simply to denote that an attribute can be used to do searches that return unique results while not using the key.\r\nThis can be useful when the attribute you denote as natural id is more natural to deal with for you, e.g. when the actual key is autogenerated and you don&#39;t want to use in searches.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Candidate_key","title":"What is a natural identifier in Hibernate?","body":"<p>In relational database theory a relation can have multiple <em>candidate keys</em>.\nA <a href=\"https://en.wikipedia.org/wiki/Candidate_key\" rel=\"nofollow noreferrer\">candidate key</a> is a set of attributes of a relation that are never duplicate in two rows of that relation and that cannot be reduced by removing one of the attributes and still guarantee uniqueness.</p>\n\n<p>A natural ID is essentially a candidate key. Where \"natural\" means it is in the nature of the data you hold in that relation, not something you add like an autogenerated key.\nA natural ID can be composed of a single attribute.\nIn general any attribute of a relation that is unique and not-null is a candidate key, and can be considered a natural id.</p>\n\n<p>In Hibernate this annotation can be used simply to denote that an attribute can be used to do searches that return unique results while not using the key.\nThis can be useful when the attribute you denote as natural id is more natural to deal with for you, e.g. when the actual key is autogenerated and you don't want to use in searches.</p>\n"}],"owner":{"account_id":34618,"reputation":33031,"user_id":97901,"accept_rate":62,"display_name":"benstpierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27909,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":23629503,"answer_count":7,"score":42,"last_activity_date":1668789294,"creation_date":1260909448,"question_id":1910220,"body_markdown":"While reading through the Hibernate documentation, I keep seeing references to the concept of a *natural identifier*. \r\n\r\nDoes this just mean the id an entity has due to the nature of the data it holds? \r\n\r\nE.g. A user&#39;s name + password + age + something are used as a compound identitifier?","title":"What is a natural identifier in Hibernate?","body":"<p>While reading through the Hibernate documentation, I keep seeing references to the concept of a <em>natural identifier</em>. </p>\n\n<p>Does this just mean the id an entity has due to the nature of the data it holds? </p>\n\n<p>E.g. A user's name + password + age + something are used as a compound identitifier?</p>\n"},{"tags":["java",".class-file"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1668785002,"post_id":74491769,"comment_id":131497616,"body_markdown":"The basic way is to put the `.class` files on your class path so the compiler can find them.  In an IDE this may involve adding the files as a &quot;library&quot; and including the library as part of the project.  You should have instructions / documentation how to do that for your assignment.  If you don&#39;t, I&#39;d ask a classmate or your instructor, I think you may have missed some instructions.","body":"The basic way is to put the <code>.class</code> files on your class path so the compiler can find them.  In an IDE this may involve adding the files as a &quot;library&quot; and including the library as part of the project.  You should have instructions / documentation how to do that for your assignment.  If you don&#39;t, I&#39;d ask a classmate or your instructor, I think you may have missed some instructions."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1668785179,"post_id":74491769,"comment_id":131497676,"body_markdown":"P.S. a `.doc` file is normally a Microsoft Word document, maybe open it up and see what&#39;s inside?","body":"P.S. a <code>.doc</code> file is normally a Microsoft Word document, maybe open it up and see what&#39;s inside?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668785649,"post_id":74491769,"comment_id":131497840,"body_markdown":"Even if it’s not a Word file, a file with a `.doc` ending typically is a readable text document targeting human users. So it’s definitely worth looking into this file first.","body":"Even if it’s not a Word file, a file with a <code>.doc</code> ending typically is a readable text document targeting human users. So it’s definitely worth looking into this file first."},{"owner":{"account_id":16519526,"reputation":13,"user_id":13542764,"display_name":"dylanroman03"},"score":0,"creation_date":1668806037,"post_id":74491769,"comment_id":131503864,"body_markdown":"@markspace yeah is a word document, with the instructions for the homework, but it doesn&#39;t say anything about how to use the .class file","body":"@markspace yeah is a word document, with the instructions for the homework, but it doesn&#39;t say anything about how to use the .class file"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1668807142,"post_id":74491769,"comment_id":131504105,"body_markdown":"Without any details what you were actually told to do, I don&#39;t think anyone here has a chance of actually helping you.  Please ask your instructor what you are supposed to do.","body":"Without any details what you were actually told to do, I don&#39;t think anyone here has a chance of actually helping you.  Please ask your instructor what you are supposed to do."},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1668964692,"post_id":74491769,"comment_id":131528628,"body_markdown":"If your teacher is reasonable, he will be delighted to give you all the necessary requirements (i.e. contract) on how the interface must be implemented to fully comply with the specification at hand. Otherwise an interface is just technical debt to urgently get rid of.","body":"If your teacher is reasonable, he will be delighted to give you all the necessary requirements (i.e. contract) on how the interface must be implemented to fully comply with the specification at hand. Otherwise an interface is just technical debt to urgently get rid of."}],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668786042,"creation_date":1668786042,"answer_id":74492037,"question_id":74491769,"body_markdown":"One option is to decompile the class-file, which will get you a java-file of the interface that was compiled.\r\n\r\nIf you don&#39;t want to use a decompiler, write a small application that will reflect the `numeros` class and prints out all methods and their parameter-types and return-types, so you can implement it.\r\n\r\nOf course you could always use an IDE, with the class-file in module-path, your IDE will assist you to implement the interface.","title":"How to implements interface from .class file in .java file?","body":"<p>One option is to decompile the class-file, which will get you a java-file of the interface that was compiled.</p>\n<p>If you don't want to use a decompiler, write a small application that will reflect the <code>numeros</code> class and prints out all methods and their parameter-types and return-types, so you can implement it.</p>\n<p>Of course you could always use an IDE, with the class-file in module-path, your IDE will assist you to implement the interface.</p>\n"},{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668789050,"creation_date":1668789050,"answer_id":74492687,"question_id":74491769,"body_markdown":"The .class files simply need to be on the classpath when you compile. How exactly you configure that depends on how you compile (on the commandline or in an IDE; in what IDE).\r\n\r\n[Here][1] is the documentation for the classpath. [Here][2] is a related question for setting the classpath.\r\n\r\n&gt; The class path is the path that the Java runtime environment searches for classes and other resource files. The class search path (more commonly known by the shorter name, &quot;class path&quot;) can be set using either the -classpath option when calling a JDK tool (the preferred method) or by setting the CLASSPATH environment variable. The -classpath option is preferred because you can set it individually for each application without affecting other applications and without other applications modifying its value.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n  [2]: https://stackoverflow.com/questions/36187722/setting-javac-classpath","title":"How to implements interface from .class file in .java file?","body":"<p>The .class files simply need to be on the classpath when you compile. How exactly you configure that depends on how you compile (on the commandline or in an IDE; in what IDE).</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">Here</a> is the documentation for the classpath. <a href=\"https://stackoverflow.com/questions/36187722/setting-javac-classpath\">Here</a> is a related question for setting the classpath.</p>\n<blockquote>\n<p>The class path is the path that the Java runtime environment searches for classes and other resource files. The class search path (more commonly known by the shorter name, &quot;class path&quot;) can be set using either the -classpath option when calling a JDK tool (the preferred method) or by setting the CLASSPATH environment variable. The -classpath option is preferred because you can set it individually for each application without affecting other applications and without other applications modifying its value.</p>\n</blockquote>\n"}],"owner":{"account_id":16519526,"reputation":13,"user_id":13542764,"display_name":"dylanroman03"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668789050,"creation_date":1668784545,"question_id":74491769,"body_markdown":"I have homework that asks me to use a .class file for my project, but I don&#39;t know how to use those files in a .java file. This is the project structure\r\n\r\n```\r\nagentes.class\r\ndatos_confidenciales.class\r\nII_Parcial_2007_1.doc\r\nMain.java\r\nnumeros.class\r\n```\r\n\r\nI mean, I got to make a class called `Main` that implements the `numeros interface`, the numeros interface is in `numeros.class` file\r\n\r\nI&#39;ve googled but no results.","title":"How to implements interface from .class file in .java file?","body":"<p>I have homework that asks me to use a .class file for my project, but I don't know how to use those files in a .java file. This is the project structure</p>\n<pre><code>agentes.class\ndatos_confidenciales.class\nII_Parcial_2007_1.doc\nMain.java\nnumeros.class\n</code></pre>\n<p>I mean, I got to make a class called <code>Main</code> that implements the <code>numeros interface</code>, the numeros interface is in <code>numeros.class</code> file</p>\n<p>I've googled but no results.</p>\n"},{"tags":["java","spring","spring-data-jpa","locking","spring-transactions"],"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1586207850,"post_id":61068982,"comment_id":108039690,"body_markdown":"Is the mysql table setup to handle the lock?","body":"Is the mysql table setup to handle the lock?"},{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1586207996,"post_id":61068982,"comment_id":108039739,"body_markdown":"If that is setup, try autowiring in an `EntityManager em` and call `em.flush()` and `em.clear()` before querying the AccountBalance.","body":"If that is setup, try autowiring in an <code>EntityManager em</code> and call <code>em.flush()</code> and <code>em.clear()</code> before querying the AccountBalance."},{"owner":{"account_id":2732270,"reputation":30,"user_id":2355778,"display_name":"l7777777b"},"score":0,"creation_date":1586232794,"post_id":61068982,"comment_id":108045906,"body_markdown":"@RobOhRob if i call flush and clear before fetching accountbalance it&#39;ll work. or flush and detach(accountBalance entity only) also going to work well. but why do i need those for accountbalance query not depositTransactionLatest query? and i thought hibernate can handle that automatically?","body":"@RobOhRob if i call flush and clear before fetching accountbalance it&#39;ll work. or flush and detach(accountBalance entity only) also going to work well. but why do i need those for accountbalance query not depositTransactionLatest query? and i thought hibernate can handle that automatically?"}],"answers":[{"tags":[],"owner":{"account_id":1003184,"reputation":852,"user_id":1017571,"accept_rate":75,"display_name":"mbosecke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668789039,"creation_date":1668789039,"answer_id":74492684,"question_id":61068982,"body_markdown":"I had a case where fetching data with a pessimistic lock would correctly block if there happened to be a concurrent transaction, but would inexplicably return stale data to me. The concurrent transaction would update the data and I would expect my return value to reflect this update. The cause was because I was also fetching unrelated data prior to my lock, and this caused hibernate to seed it&#39;s first-level cache with stale data. Something like this:\r\n\r\n````\r\n// Zoo has a collection of animals which will seed the first-level cache.\r\nZoo zoo = zooRepository.getZoo();\r\n\r\n// ... do unrelated work with zoo\r\n\r\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\r\n/* \r\n * Even though the above command might block, making you THINK that \r\n * hibernate is going to return the latest version of this specific \r\n * animal, in reality, if it&#39;s already in the first-level cache, from\r\n * when you fetched the zoo, you will get the cached copy which is \r\n * now stale.\r\n */\r\n````\r\n\r\nI figured this out by having Spring print the SQL and carefully examining it. Prior to my lock I realized that while fetching the Zoo, it would&#39;ve simultaneously fetched my target Animal in a stale state.\r\n\r\nIn my case, the answer was to fetch my locked entities at the very beginning of the transaction so there wasn&#39;t an opportunity for the first-level cache to have gotten dirty by that time, like this:\r\n\r\n```\r\n// Fetch important entity first so we know it&#39;s fresh from the database!\r\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\r\n\r\n// Now do unrelated work \r\nZoo zoo = animal.getZoo();\r\n```\r\n\r\nAn alternative that I didn&#39;t try might be to flush the cache immediately prior to fetching the locked entity: \r\n\r\n```\r\nZoo zoo = animal.getZoo(); // Cache is now dirty/stale!\r\n\r\nentityManager.clear(); // Clear the cache\r\n\r\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\r\n```\r\n\r\nHopefully that helps someone in the future.","title":"Entity fetched with pessimistic locking has outdated value","body":"<p>I had a case where fetching data with a pessimistic lock would correctly block if there happened to be a concurrent transaction, but would inexplicably return stale data to me. The concurrent transaction would update the data and I would expect my return value to reflect this update. The cause was because I was also fetching unrelated data prior to my lock, and this caused hibernate to seed it's first-level cache with stale data. Something like this:</p>\n<pre><code>// Zoo has a collection of animals which will seed the first-level cache.\nZoo zoo = zooRepository.getZoo();\n\n// ... do unrelated work with zoo\n\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\n/* \n * Even though the above command might block, making you THINK that \n * hibernate is going to return the latest version of this specific \n * animal, in reality, if it's already in the first-level cache, from\n * when you fetched the zoo, you will get the cached copy which is \n * now stale.\n */\n</code></pre>\n<p>I figured this out by having Spring print the SQL and carefully examining it. Prior to my lock I realized that while fetching the Zoo, it would've simultaneously fetched my target Animal in a stale state.</p>\n<p>In my case, the answer was to fetch my locked entities at the very beginning of the transaction so there wasn't an opportunity for the first-level cache to have gotten dirty by that time, like this:</p>\n<pre><code>// Fetch important entity first so we know it's fresh from the database!\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\n\n// Now do unrelated work \nZoo zoo = animal.getZoo();\n</code></pre>\n<p>An alternative that I didn't try might be to flush the cache immediately prior to fetching the locked entity:</p>\n<pre><code>Zoo zoo = animal.getZoo(); // Cache is now dirty/stale!\n\nentityManager.clear(); // Clear the cache\n\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\n</code></pre>\n<p>Hopefully that helps someone in the future.</p>\n"}],"owner":{"account_id":2732270,"reputation":30,"user_id":2355778,"display_name":"l7777777b"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668789039,"creation_date":1586207177,"question_id":61068982,"body_markdown":"im testing some kind of small banking-ish service with mysql database. \r\n\r\nim using 2nd level cache hibernate (possible source of problem?). \r\n\r\nthe data structure basically consists of 2 tables, a table for list of transactions (deposits) and a table for storing the latest balance for each account which should be able to be updated concurrently. \r\n\r\nand while im testing the concurrency, i see some mistakes on my program. \r\nhere&#39;s my code, its not perfect but its actually running.\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class depositService {\r\n\r\n    //method below is being executed concurrently\r\n    public Deposit save(Long userId, BigDecimal amount){ //add deposit transaction into transaction list and update related user balance\r\n\r\n        DepositTransaction depositTransaction = new DepositTransaction();\r\n        depositTransaction.setUserId(userId);\r\n        depositTransaction.setAmount(amount);\r\n        DepositTransaction depositTransactionLatest = depositTransactionRepository.findTopWithLockByUser_IdOrderByIdDesc(userId).orElse(new DepositTransaction());\r\ndepositTransaction.setBalance(depositTransactionLatest.getBalance().add(depositTransaction.getAmount())); // balance increment works well \r\n        depositTransaction = depositTransactionRepository.save(depositTransaction); //add into transaction table works as expected without any inconsistencies / lost update\r\n            \r\n        AccountBalance accountBalance = accountBalanceRepository.findOneWithLockById(depositTransaction.getUserId()).orElse(null); //update user balance\r\n        accountBalance.setBalance(accountBalance.getBalance().add(depositTransaction.getAmount())); //most of the time, accountBalance.getBalance still having outdated value\r\n        accountBalanceRepository.save(companyBank);\r\n    }\r\n}\r\n```\r\n```\r\n@Repository\r\npublic interface DepositTransactionRepository{\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    Optional&lt;DepositTransaction&gt; findTopWithLockByUser_IdOrderByIdDesc(Long userId);\r\n}\r\n```\r\n```\r\n@Repository\r\npublic interface AccountBalanceRepository{\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    Optional&lt;AccountBalanceTransaction&gt; findOneWithLockById(Long userId);\r\n}\r\n```\r\n\r\nbased on the above code, i have a transaction and inside it i use 2 pessimistic locking fetch for 2 entities. \r\nthe queries generated have &quot;for update&quot; included correctly and its locked properly since i tried to acquire the lock and failed using mysql command line.\r\n\r\nmy problem is the accountbalance will have inconsistencies if there are concurrent request, but i dont quite understand why deposit transaction&#39;s lock can do it.\r\n\r\nthe accountBalance.getBalance() will always have outdated value and will need to wait for a few iterations to change to the updated value.\r\n\r\ni can make this work if i use serialize transaction isolation with retry mechanism in case of deadlock. but i prefer pessimistic if its possible.\r\n","title":"Entity fetched with pessimistic locking has outdated value","body":"<p>im testing some kind of small banking-ish service with mysql database. </p>\n\n<p>im using 2nd level cache hibernate (possible source of problem?). </p>\n\n<p>the data structure basically consists of 2 tables, a table for list of transactions (deposits) and a table for storing the latest balance for each account which should be able to be updated concurrently. </p>\n\n<p>and while im testing the concurrency, i see some mistakes on my program. \nhere's my code, its not perfect but its actually running.</p>\n\n<pre><code>@Service\n@Transactional\npublic class depositService {\n\n    //method below is being executed concurrently\n    public Deposit save(Long userId, BigDecimal amount){ //add deposit transaction into transaction list and update related user balance\n\n        DepositTransaction depositTransaction = new DepositTransaction();\n        depositTransaction.setUserId(userId);\n        depositTransaction.setAmount(amount);\n        DepositTransaction depositTransactionLatest = depositTransactionRepository.findTopWithLockByUser_IdOrderByIdDesc(userId).orElse(new DepositTransaction());\ndepositTransaction.setBalance(depositTransactionLatest.getBalance().add(depositTransaction.getAmount())); // balance increment works well \n        depositTransaction = depositTransactionRepository.save(depositTransaction); //add into transaction table works as expected without any inconsistencies / lost update\n\n        AccountBalance accountBalance = accountBalanceRepository.findOneWithLockById(depositTransaction.getUserId()).orElse(null); //update user balance\n        accountBalance.setBalance(accountBalance.getBalance().add(depositTransaction.getAmount())); //most of the time, accountBalance.getBalance still having outdated value\n        accountBalanceRepository.save(companyBank);\n    }\n}\n</code></pre>\n\n<pre><code>@Repository\npublic interface DepositTransactionRepository{\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    Optional&lt;DepositTransaction&gt; findTopWithLockByUser_IdOrderByIdDesc(Long userId);\n}\n</code></pre>\n\n<pre><code>@Repository\npublic interface AccountBalanceRepository{\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    Optional&lt;AccountBalanceTransaction&gt; findOneWithLockById(Long userId);\n}\n</code></pre>\n\n<p>based on the above code, i have a transaction and inside it i use 2 pessimistic locking fetch for 2 entities. \nthe queries generated have \"for update\" included correctly and its locked properly since i tried to acquire the lock and failed using mysql command line.</p>\n\n<p>my problem is the accountbalance will have inconsistencies if there are concurrent request, but i dont quite understand why deposit transaction's lock can do it.</p>\n\n<p>the accountBalance.getBalance() will always have outdated value and will need to wait for a few iterations to change to the updated value.</p>\n\n<p>i can make this work if i use serialize transaction isolation with retry mechanism in case of deadlock. but i prefer pessimistic if its possible.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1648836128,"post_id":71710995,"comment_id":126733799,"body_markdown":"Why dont you mock restHighLevelClient instead?","body":"Why dont you mock restHighLevelClient instead?"},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1648838899,"post_id":71710995,"comment_id":126734568,"body_markdown":"@Lesiak I  have updated the code, The  restHighLevelClient is declared as a private variable. And to mock the private variable, I need to use PowerMock or mockito-inline. None of these are supported by the current framework which I am using.","body":"@Lesiak I  have updated the code, The  restHighLevelClient is declared as a private variable. And to mock the private variable, I need to use PowerMock or mockito-inline. None of these are supported by the current framework which I am using."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1648839258,"post_id":71710995,"comment_id":126734644,"body_markdown":"@Lesiak Here, the object creation of restHighLevelClient is happening within the class scope due to which, I am unable to mock it.","body":"@Lesiak Here, the object creation of restHighLevelClient is happening within the class scope due to which, I am unable to mock it."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1648842446,"post_id":71710995,"comment_id":126735348,"body_markdown":"ElasticSearch RestHighLevelClient is thread-safe, if it is also true with OpenSearch, than it is a perfect candidate for injection. See https://stackoverflow.com/questions/46357400/elasticsearch-java-high-level-rest-client-singleton-or-one-instance-per-user","body":"ElasticSearch RestHighLevelClient is thread-safe, if it is also true with OpenSearch, than it is a perfect candidate for injection. See <a href=\"https://stackoverflow.com/questions/46357400/elasticsearch-java-high-level-rest-client-singleton-or-one-instance-per-user\" title=\"elasticsearch java high level rest client singleton or one instance per user\">stackoverflow.com/questions/46357400/&hellip;</a>"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648852717,"post_id":71710995,"comment_id":126737489,"body_markdown":"Hi, Spy and InjectMock annotations does not work together, See an example how to resolve it https://stackoverflow.com/questions/71619940/mockito-how-to-mock-objects-in-a-spy/71621205#71621205","body":"Hi, Spy and InjectMock annotations does not work together, See an example how to resolve it <a href=\"https://stackoverflow.com/questions/71619940/mockito-how-to-mock-objects-in-a-spy/71621205#71621205\" title=\"mockito how to mock objects in a spy\">stackoverflow.com/questions/71619940/&hellip;</a>"},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1648868425,"post_id":71710995,"comment_id":126739245,"body_markdown":"@Eugene unlike the example in the link, here  the method is in the same mock class. I have but its not working. The code goes into the implementation class and throws NULL pointer exception. I have updated the question. It would be helpful, if you are able to provide me a code snippet.","body":"@Eugene unlike the example in the link, here  the method is in the same mock class. I have but its not working. The code goes into the implementation class and throws NULL pointer exception. I have updated the question. It would be helpful, if you are able to provide me a code snippet."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648909500,"post_id":71710995,"comment_id":126745049,"body_markdown":"I have described the full test.","body":"I have described the full test."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648909754,"creation_date":1648909047,"answer_id":71718320,"question_id":71710995,"body_markdown":"1) Create a partial mock for `PredictionService`.\r\n   You need to use [Spy][1] mock. When you use the spy then the real methods are called (unless a method was stubbed). So some methods will be executed, and others will be mocked.\r\n\r\n2) Second problem is that `Spy` annotation can not work together with `InjectMocks`. Use `Mockito.spy` instead.\r\n```java\r\n @org.mockito.InjectMocks\r\n PredictionService mockPredictionService = Mockito.spy(new PredictionService());\r\n```\r\nAnother option is to create a constructor in `PredictionService` and inject mock manually:\r\n```java\r\nPredictionService mockPredictionService = Mockito.spy(new PredictionService(mockElasticSearch));\r\n```\r\n\r\nExample of working test with comments:\r\n```java\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.Mockito.*;\r\n\r\n@RunWith(org.mockito.junit.MockitoJUnitRunner.class)\r\npublic class PredictionServiceTest{\r\n    @org.mockito.Mock\r\n    ElasticSearch mockElasticSearch; //create mock for elastic search\r\n\r\n    @org.mockito.InjectMocks\r\n    PredictionService mockPredictionService = Mockito.spy(new PredictionService());// create partial mock for your service, because you mock only one method of real object\r\n                                                                                   //inject mocks in your service\r\n\r\n    @org.mockito.Mock\r\n    SearchResponse searchResponse;//create a mock for the search response or you can create your own response without mock\r\n\r\n    @org.junit.Test\r\n    public void getPredictionListTest() {\r\n        //perform mock of elastic search\r\n        SearchSourceBuilder searchSourceBuilder = SearchSourceBuilder.searchSource();\r\n        when(mockElasticSearch.createQuery(any())).thenReturn(searchSourceBuilder);\r\n\r\n        //partially mock your service\r\n        when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\r\n        //execute test\r\n        String actualResponse = mockPredictionService.getPredictionList(&quot;inputQuery&quot;, &quot;someIndex&quot;);\r\n\r\n        //verify that mock was executed\r\n        verify(mockPredictionService, times(1)).getSearchResponse(any());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy","title":"Mockito mocking a method within the mocked class","body":"<ol>\n<li><p>Create a partial mock for <code>PredictionService</code>.\nYou need to use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy\" rel=\"nofollow noreferrer\">Spy</a> mock. When you use the spy then the real methods are called (unless a method was stubbed). So some methods will be executed, and others will be mocked.</p>\n</li>\n<li><p>Second problem is that <code>Spy</code> annotation can not work together with <code>InjectMocks</code>. Use <code>Mockito.spy</code> instead.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code> @org.mockito.InjectMocks\n PredictionService mockPredictionService = Mockito.spy(new PredictionService());\n</code></pre>\n<p>Another option is to create a constructor in <code>PredictionService</code> and inject mock manually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PredictionService mockPredictionService = Mockito.spy(new PredictionService(mockElasticSearch));\n</code></pre>\n<p>Example of working test with comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.runner.RunWith;\nimport org.mockito.Mockito;\n\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.*;\n\n@RunWith(org.mockito.junit.MockitoJUnitRunner.class)\npublic class PredictionServiceTest{\n    @org.mockito.Mock\n    ElasticSearch mockElasticSearch; //create mock for elastic search\n\n    @org.mockito.InjectMocks\n    PredictionService mockPredictionService = Mockito.spy(new PredictionService());// create partial mock for your service, because you mock only one method of real object\n                                                                                   //inject mocks in your service\n\n    @org.mockito.Mock\n    SearchResponse searchResponse;//create a mock for the search response or you can create your own response without mock\n\n    @org.junit.Test\n    public void getPredictionListTest() {\n        //perform mock of elastic search\n        SearchSourceBuilder searchSourceBuilder = SearchSourceBuilder.searchSource();\n        when(mockElasticSearch.createQuery(any())).thenReturn(searchSourceBuilder);\n\n        //partially mock your service\n        when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n\n        //execute test\n        String actualResponse = mockPredictionService.getPredictionList(&quot;inputQuery&quot;, &quot;someIndex&quot;);\n\n        //verify that mock was executed\n        verify(mockPredictionService, times(1)).getSearchResponse(any());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679776,"reputation":51,"user_id":4491418,"display_name":"Steven Dewey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668788769,"creation_date":1668788769,"answer_id":74492624,"question_id":71710995,"body_markdown":"I stumbled on this thread while trying to set up some mocks for a slightly more complicated situation and figured I&#39;d share my results for posterity. \r\n\r\nMy situation was similar in the fact that I needed to mock dependencies, but I also wanted to mock some of the methods on the class I was testing. This was the solution: \r\n```\r\n    @MockBean\r\n    DependentService mockDependentService\r\n    \r\n    ControllerToTest controllerToTest\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n       mockDependentService = mock(DependentService.class);\r\n       controllerToTest = mock(ControllerToTest.class);\r\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\r\n    }\r\n    \r\n    @Test\r\n    void test() {\r\n        //set up test and other mocks \r\n        //be sure to implement the below code that will call the real method that you are wanting to test\r\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\r\n        //assertions\r\n    }\r\n\r\n```\r\nNote that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn&#39;t match the reflection will not find it and inject the mock for you. \r\n\r\nThis approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects. ","title":"Mockito mocking a method within the mocked class","body":"<p>I stumbled on this thread while trying to set up some mocks for a slightly more complicated situation and figured I'd share my results for posterity.</p>\n<p>My situation was similar in the fact that I needed to mock dependencies, but I also wanted to mock some of the methods on the class I was testing. This was the solution:</p>\n<pre><code>    @MockBean\n    DependentService mockDependentService\n    \n    ControllerToTest controllerToTest\n\n    @BeforeEach\n    public void setup() {\n       mockDependentService = mock(DependentService.class);\n       controllerToTest = mock(ControllerToTest.class);\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\n    }\n    \n    @Test\n    void test() {\n        //set up test and other mocks \n        //be sure to implement the below code that will call the real method that you are wanting to test\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\n        //assertions\n    }\n\n</code></pre>\n<p>Note that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn't match the reflection will not find it and inject the mock for you.</p>\n<p>This approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects.</p>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2940,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668788769,"creation_date":1648835477,"question_id":71710995,"body_markdown":"I am trying to mock a method in the below class, I am unable to do that and the code flow goes into the implemantion method and it leads to nullPointerException.\r\n\r\nThe class is as below and the method that, I intend to mock is getPredictionList(String, String).\r\n\t\t\r\n\t\tpublic class PredictionService {\r\n\t\t\r\n\t\t\t@Inject\r\n\t\t\tprivate ElasticSearch elasticSearch;\r\n\r\n            private final RestHighLevelClient restHighLevelClient = OpenSearchRestHighLevelClient.getRestHighLevelClient();\r\n\t\t\t\r\n\r\n\t\t\tpublic String getPredictionList(String query, String index){\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t//Method call successfully mocked\r\n\t\t\t\tSearchSourceBuilder searchSourceBuilder = elasticSearchEntity.createQuery(query);\r\n\t\t\t\tSearchRequest  searchRequest = new SearchRequest(index);\r\n\t\t\t\tsearchRequest.source(searchSourceBuilder);\r\n\t\t\t\t\r\n\t\t\t\t//Method to be mocked\r\n\t\t\t\tSearchResponse serchResponse = getSearchResponse(searchRequest);\r\n\t\t\t\t\r\n\t\t\t\t//..code..//\r\n\t\t\t\t\r\n\t\t\t\t}catch(Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tpublic SearchResponse getSearchResponse(SearchRequest searchRequest){\r\n\t\t\t\treturn restHighLevelClient.search(searchRequest, RequestOption.DEFAULT);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\nThe corresponding Testing class is as below.\r\n\r\nFirst, I have created a mock of PredictionService and then injected the dependencies. I have mocked getSearchResponse method using this statement. \r\n\r\n     when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\r\nBut when the code executes, this mock is not present and the code flows into the getSearchResponse implementation and throws null pointer exception. \r\n\r\n\t\t\r\n\t\tclass PredictionServiceTest{\r\n\t\t\t\r\n\t\t\t//Write create a mock to test and inject the resources.\r\n\t\t\t\r\n\t\t\t@Spy\r\n\t\t\t@InjectMock\r\n\t\t\tPredictionService injectMockPredictionService;\r\n\t\t\t\r\n\t\t\t//Mock the resource \r\n\t\t\t@Mock \r\n\t\t\tElasticSearchEntity mockElasticSearchEntity;\r\n\t\t\t\r\n\t\t\t@InjectMock\r\n\t\t\tPredictionService mockPredictionService;\r\n\t\t\t\r\n\t\t\t@Test\r\n\t\t\tpublic void getPredictionListTest() {\r\n\t\t\t\t\r\n\t\t\t\t//Mocking createQuery Response\r\n\t\t\t\tElasticSearchEntity elasticSearchEntity = ElasticSearchEntity();\r\n\t\t\t\tSearchSourceBuilder searchSourceBuilder = elasticSearchEntity.createQuery(&quot;inputQuery&quot;);\r\n\t\t\t\twhen(mockElasticSearchEntity.createQuery(any())).thenReturn(searchSourceBuilder);\r\n\t\t\t\t\r\n\t\t\t\t//Mocking searchResponse\r\n\t\t\t\tSearchResponse searchResponse = getDummySearchResponseImplementation();\r\n\t\t\t\twhen(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\t\t\t\t\r\n\t\t\t\tString actualResponse = injectMockPredictionService.getPredictionList(&quot;inputQuery&quot;, &quot;someIndex&quot;);\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t}\r\n\r\n\r\nIf I am to replace mockPredictionService with injectMockPredictionService it directly goes into the implementation method at this line itself and then returns null pointer exception.\r\n\r\n    when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\r\nreplaced code.\r\n\r\n    when(injectMockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\r\n\r\n**Update**\t\r\n\r\nI have two mocks of PredictionService, \r\n\r\n\r\n    // To call the method\r\n    @Spy\r\n\t@InjectMock\r\n\tPredictionService injectMockPredictionService;\r\n\r\n\r\n    // To Provide mock for getSearchResponse Method\r\n\t@InjectMock\r\n\tPredictionService mockPredictionService;\r\n\r\nAs per the link  I have changed the implementation to \r\n\r\n    @InjectMock\r\n\tPredictionService injectMockPredictionService = Mockito.spy(new PredictionService ());\r\n\r\nBut this did not help,  The code goes into the implementation class and throws NULL pointer exception. I have updated the question.","title":"Mockito mocking a method within the mocked class","body":"<p>I am trying to mock a method in the below class, I am unable to do that and the code flow goes into the implemantion method and it leads to nullPointerException.</p>\n<p>The class is as below and the method that, I intend to mock is getPredictionList(String, String).</p>\n<pre><code>    public class PredictionService {\n    \n        @Inject\n        private ElasticSearch elasticSearch;\n\n        private final RestHighLevelClient restHighLevelClient = OpenSearchRestHighLevelClient.getRestHighLevelClient();\n        \n\n        public String getPredictionList(String query, String index){\n            \n            try {\n            //Method call successfully mocked\n            SearchSourceBuilder searchSourceBuilder = elasticSearchEntity.createQuery(query);\n            SearchRequest  searchRequest = new SearchRequest(index);\n            searchRequest.source(searchSourceBuilder);\n            \n            //Method to be mocked\n            SearchResponse serchResponse = getSearchResponse(searchRequest);\n            \n            //..code..//\n            \n            }catch(Exception e) {\n                e.printStackTrace();\n            }\n            \n            return \n        }\n        \n        \n        public SearchResponse getSearchResponse(SearchRequest searchRequest){\n            return restHighLevelClient.search(searchRequest, RequestOption.DEFAULT);\n        }\n    }\n    \n</code></pre>\n<p>The corresponding Testing class is as below.</p>\n<p>First, I have created a mock of PredictionService and then injected the dependencies. I have mocked getSearchResponse method using this statement.</p>\n<pre><code> when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n</code></pre>\n<p>But when the code executes, this mock is not present and the code flows into the getSearchResponse implementation and throws null pointer exception.</p>\n<pre><code>    class PredictionServiceTest{\n        \n        //Write create a mock to test and inject the resources.\n        \n        @Spy\n        @InjectMock\n        PredictionService injectMockPredictionService;\n        \n        //Mock the resource \n        @Mock \n        ElasticSearchEntity mockElasticSearchEntity;\n        \n        @InjectMock\n        PredictionService mockPredictionService;\n        \n        @Test\n        public void getPredictionListTest() {\n            \n            //Mocking createQuery Response\n            ElasticSearchEntity elasticSearchEntity = ElasticSearchEntity();\n            SearchSourceBuilder searchSourceBuilder = elasticSearchEntity.createQuery(&quot;inputQuery&quot;);\n            when(mockElasticSearchEntity.createQuery(any())).thenReturn(searchSourceBuilder);\n            \n            //Mocking searchResponse\n            SearchResponse searchResponse = getDummySearchResponseImplementation();\n            when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n            \n            String actualResponse = injectMockPredictionService.getPredictionList(&quot;inputQuery&quot;, &quot;someIndex&quot;);       \n        }\n                    \n    }\n</code></pre>\n<p>If I am to replace mockPredictionService with injectMockPredictionService it directly goes into the implementation method at this line itself and then returns null pointer exception.</p>\n<pre><code>when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n</code></pre>\n<p>replaced code.</p>\n<pre><code>when(injectMockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n</code></pre>\n<p><strong>Update</strong></p>\n<p>I have two mocks of PredictionService,</p>\n<pre><code>// To call the method\n@Spy\n@InjectMock\nPredictionService injectMockPredictionService;\n\n\n// To Provide mock for getSearchResponse Method\n@InjectMock\nPredictionService mockPredictionService;\n</code></pre>\n<p>As per the link  I have changed the implementation to</p>\n<pre><code>@InjectMock\nPredictionService injectMockPredictionService = Mockito.spy(new PredictionService ());\n</code></pre>\n<p>But this did not help,  The code goes into the implementation class and throws NULL pointer exception. I have updated the question.</p>\n"},{"tags":["java","spring","junit","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1303614874,"creation_date":1303614874,"answer_id":5768418,"question_id":5767936,"body_markdown":"In Mockito you aren&#39;t really going to create new &quot;mock&quot; implementations, but rather you are going to mock out the methods on the interface of the injected dependency by telling Mockito what to return when the method is called.\r\n\r\nI wrote a test of a Spring MVC Controller using Mockito and treated it just like any other java class.  I was able to mock out the various other Spring beans I had and inject those using Spring&#39;s ReflectionTestUtils to pass in the Mockito based values.  I wrote about it in my blog back in February.  It has the full source for the test class and most of the source from the controller, so it&#39;s probably too long to put the contents here.\r\n\r\nhttp://digitaljoel.nerd-herders.com/2011/02/05/mock-testing-spring-mvc-controller/","title":"Mockito, Testing an object that relies on injected dependencies (Spring)?","body":"<p>In Mockito you aren't really going to create new \"mock\" implementations, but rather you are going to mock out the methods on the interface of the injected dependency by telling Mockito what to return when the method is called.</p>\n\n<p>I wrote a test of a Spring MVC Controller using Mockito and treated it just like any other java class.  I was able to mock out the various other Spring beans I had and inject those using Spring's ReflectionTestUtils to pass in the Mockito based values.  I wrote about it in my blog back in February.  It has the full source for the test class and most of the source from the controller, so it's probably too long to put the contents here.</p>\n\n<p><a href=\"http://digitaljoel.nerd-herders.com/2011/02/05/mock-testing-spring-mvc-controller/\" rel=\"noreferrer\">http://digitaljoel.nerd-herders.com/2011/02/05/mock-testing-spring-mvc-controller/</a></p>\n"},{"tags":[],"owner":{"account_id":211749,"reputation":96,"user_id":464118,"display_name":"Ed Kurowski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1303615096,"creation_date":1303615096,"answer_id":5768433,"question_id":5767936,"body_markdown":"If you&#39;re using Mockito you create mocks by calling Mockito&#39;s static mock method.  You can then just pass in the mock to the class you&#39;re trying to test.  Your setup method would look something like this:\r\n\r\n    testBean1 = new TestBean1();\r\n    SubBean1 subBeanMock = mock(SubBean1.class);\r\n    testBean1.setSubBean(subBeanMock);\r\n\r\n\r\n\r\nYou can then add the appropriate behavior to your mock objects for whatever you&#39;re trying to test with Mockito&#39;s static when method, for example:\r\n\r\n    when(subBeanMock.getSomething()).thenReturn(&quot;its working&quot;);\r\n\r\n","title":"Mockito, Testing an object that relies on injected dependencies (Spring)?","body":"<p>If you're using Mockito you create mocks by calling Mockito's static mock method.  You can then just pass in the mock to the class you're trying to test.  Your setup method would look something like this:</p>\n\n<pre><code>testBean1 = new TestBean1();\nSubBean1 subBeanMock = mock(SubBean1.class);\ntestBean1.setSubBean(subBeanMock);\n</code></pre>\n\n<p>You can then add the appropriate behavior to your mock objects for whatever you're trying to test with Mockito's static when method, for example:</p>\n\n<pre><code>when(subBeanMock.getSomething()).thenReturn(\"its working\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679776,"reputation":51,"user_id":4491418,"display_name":"Steven Dewey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788451,"creation_date":1668788451,"answer_id":74492562,"question_id":5767936,"body_markdown":"I stumbled on this thread while trying to set up some mocks for a slightly more complicated situation and figured I&#39;d share my results for posterity. \r\n\r\nMy situation was similar in the fact that I needed to mock dependencies, but I also wanted to mock some of the methods on the class I was testing. This was the solution: \r\n```\r\n    @MockBean\r\n    DependentService mockDependentService\r\n    \r\n    ControllerToTest controllerToTest\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n       mockDependentService = mock(DependentService.class);\r\n       controllerToTest = mock(ControllerToTest.class);\r\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\r\n    }\r\n    \r\n    @Test\r\n    void test() {\r\n        //set up test and other mocks \r\n        //be sure to implement the below code that will call the real method that you are wanting to test\r\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\r\n        //assertions\r\n    }\r\n\r\n```\r\nNote that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn&#39;t match the reflection will not find it and inject the mock for you. \r\n\r\nThis approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects. \r\n\r\nHope this helps someone down the road as it stumped me for a while. ","title":"Mockito, Testing an object that relies on injected dependencies (Spring)?","body":"<p>I stumbled on this thread while trying to set up some mocks for a slightly more complicated situation and figured I'd share my results for posterity.</p>\n<p>My situation was similar in the fact that I needed to mock dependencies, but I also wanted to mock some of the methods on the class I was testing. This was the solution:</p>\n<pre><code>    @MockBean\n    DependentService mockDependentService\n    \n    ControllerToTest controllerToTest\n\n    @BeforeEach\n    public void setup() {\n       mockDependentService = mock(DependentService.class);\n       controllerToTest = mock(ControllerToTest.class);\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\n    }\n    \n    @Test\n    void test() {\n        //set up test and other mocks \n        //be sure to implement the below code that will call the real method that you are wanting to test\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\n        //assertions\n    }\n\n</code></pre>\n<p>Note that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn't match the reflection will not find it and inject the mock for you.</p>\n<p>This approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects.</p>\n<p>Hope this helps someone down the road as it stumped me for a while.</p>\n"}],"owner":{"account_id":159474,"reputation":16722,"user_id":378874,"accept_rate":98,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13767,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":5768433,"answer_count":3,"score":8,"last_activity_date":1668788451,"creation_date":1303606091,"question_id":5767936,"body_markdown":"I&#39;m new to using Mockito and am trying to understand a way to make a unit test of a class that relies on injected dependencies. What I want to do is to create mock objects of the dependencies and make the class that I am testing use those instead of the regular injected dependencies that would be injected by Spring. I have been reading tutorials but am a bit confused on how to do this.\r\n\r\nI have one the class I want to test like this:\r\n\r\n    package org.rd.server.beans;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    public class TestBean1 {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SubBean1 subBean1;\r\n    \t\r\n    \tprivate String helloString;\r\n    \t\r\n    \tpublic String testReturn () {\r\n    \t\t\r\n    \t\tsubBean1.setSomething(&quot;its working&quot;);\r\n    \t\tString something = subBean1.getSomething();\r\n    \t\thelloString = &quot;Hello...... &quot; + something;\r\n    \r\n    \t\treturn helloString;\r\n    \t}\r\n    \t\r\n\r\nThen I have the class that I want to use as a mock object (rather than the regular `SubBean1` class, like below:\r\n\r\n    package org.rd.server.beans.mock;\r\n    \r\n    public class SubBean1Mock {\r\n    \t\r\n    \tprivate String something;\r\n    \r\n    \tpublic String getSomething() {\r\n    \t\treturn something;\r\n    \t}\r\n    \r\n    \tpublic void setSomething(String something) {\r\n    \t\tthis.something = something;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n    \r\n        \r\n        }\r\n\r\nI just want to try running a simple test like this:\r\n\r\n    package test.rd.beans;\r\n    import org.rd.server.beans.TestBean1;\r\n    \r\n    import junit.framework.*;\r\n    \r\n    \r\n    public class TestBean1Test extends TestCase\r\n    {\r\n    \tprivate TestBean1 testBean1;\r\n    \t\r\n    \tpublic TestBean1Test(String name)\r\n    \t{\r\n    \t\tsuper(name);\r\n    \t}\r\n    \t\r\n    \tpublic void setUp()\r\n    \t{\r\n    \t\ttestBean1 = new TestBean1();\r\n    \t\t// Somehow inject the mock dependency SubBean1Mock ???\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void test1() {\r\n    \t\tassertEquals(testBean1.testReturn(),&quot;working&quot;);\r\n    \t}\r\n    }\r\n\r\nI figure there must be some fairly simple way to do this but I can&#39;t seem to understand the tutorials as I don&#39;t have the context yet to understand everything they are doing / explaining. If anyone could shed some light on this I would appreciate it.\r\n\r\n\r\n\r\n\r\n","title":"Mockito, Testing an object that relies on injected dependencies (Spring)?","body":"<p>I'm new to using Mockito and am trying to understand a way to make a unit test of a class that relies on injected dependencies. What I want to do is to create mock objects of the dependencies and make the class that I am testing use those instead of the regular injected dependencies that would be injected by Spring. I have been reading tutorials but am a bit confused on how to do this.</p>\n\n<p>I have one the class I want to test like this:</p>\n\n<pre><code>package org.rd.server.beans;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class TestBean1 {\n\n    @Autowired\n    private SubBean1 subBean1;\n\n    private String helloString;\n\n    public String testReturn () {\n\n        subBean1.setSomething(\"its working\");\n        String something = subBean1.getSomething();\n        helloString = \"Hello...... \" + something;\n\n        return helloString;\n    }\n</code></pre>\n\n<p>Then I have the class that I want to use as a mock object (rather than the regular <code>SubBean1</code> class, like below:</p>\n\n<pre><code>package org.rd.server.beans.mock;\n\npublic class SubBean1Mock {\n\n    private String something;\n\n    public String getSomething() {\n        return something;\n    }\n\n    public void setSomething(String something) {\n        this.something = something;\n    }\n\n\n}\n\n\n    }\n</code></pre>\n\n<p>I just want to try running a simple test like this:</p>\n\n<pre><code>package test.rd.beans;\nimport org.rd.server.beans.TestBean1;\n\nimport junit.framework.*;\n\n\npublic class TestBean1Test extends TestCase\n{\n    private TestBean1 testBean1;\n\n    public TestBean1Test(String name)\n    {\n        super(name);\n    }\n\n    public void setUp()\n    {\n        testBean1 = new TestBean1();\n        // Somehow inject the mock dependency SubBean1Mock ???\n\n    }\n\n    public void test1() {\n        assertEquals(testBean1.testReturn(),\"working\");\n    }\n}\n</code></pre>\n\n<p>I figure there must be some fairly simple way to do this but I can't seem to understand the tutorials as I don't have the context yet to understand everything they are doing / explaining. If anyone could shed some light on this I would appreciate it.</p>\n"},{"tags":["java","database","postgresql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":16761030,"reputation":8819,"user_id":12115778,"display_name":"richyen"},"score":0,"creation_date":1576625513,"post_id":59383535,"comment_id":104958924,"body_markdown":"Queries logged to Postgres&#39; logs are not differentiated by application--can you update your post with your values for `log_min_duration_statement` and `log_statement` in your `SHOW ALL` output (run `SHOW ALL` from `psql`).  Please also show the other params related to `log_*`","body":"Queries logged to Postgres&#39; logs are not differentiated by application--can you update your post with your values for <code>log_min_duration_statement</code> and <code>log_statement</code> in your <code>SHOW ALL</code> output (run <code>SHOW ALL</code> from <code>psql</code>).  Please also show the other params related to <code>log_*</code>"},{"owner":{"account_id":6869865,"reputation":1304,"user_id":5280707,"accept_rate":43,"display_name":"Daniel"},"score":0,"creation_date":1576626058,"post_id":59383535,"comment_id":104959039,"body_markdown":"I added a picture with the log values","body":"I added a picture with the log values"},{"owner":{"account_id":14462805,"reputation":821,"user_id":10447184,"display_name":"Marius Jaraminas"},"score":0,"creation_date":1576626514,"post_id":59383535,"comment_id":104959153,"body_markdown":"Why you just don&#39;t log SQL calls in Spring Boot application logs? like: `logging.level.org.hibernate.SQL=DEBUG`","body":"Why you just don&#39;t log SQL calls in Spring Boot application logs? like: <code>logging.level.org.hibernate.SQL=DEBUG</code>"},{"owner":{"account_id":6869865,"reputation":1304,"user_id":5280707,"accept_rate":43,"display_name":"Daniel"},"score":0,"creation_date":1576626725,"post_id":59383535,"comment_id":104959208,"body_markdown":"I am already doing that. The problem is a certain query is not returning a result set but it works when I copy paste it from the server log to psql. I want to be able to see the logs postgres is putting out to see what&#39;s going on from the database side.","body":"I am already doing that. The problem is a certain query is not returning a result set but it works when I copy paste it from the server log to psql. I want to be able to see the logs postgres is putting out to see what&#39;s going on from the database side."}],"answers":[{"tags":[],"owner":{"account_id":481679,"reputation":6383,"user_id":895640,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576628682,"creation_date":1576628682,"answer_id":59383946,"question_id":59383535,"body_markdown":"You can set log_min_duration_statement to 0 to log all statements.  Be careful, though, as this can greatly increase the size of your logs.\r\n\r\nIt&#39;s also helpful to set the application name in the jdbc connection url so it&#39;s easier to pick out the appropriate log messages:\r\n\r\n```\r\njdbc:postgresql://host:5432/DB?ApplicationName=YourApp\r\n```","title":"How do I make queries made by JDBC show up in postgres logs?","body":"<p>You can set log_min_duration_statement to 0 to log all statements.  Be careful, though, as this can greatly increase the size of your logs.</p>\n\n<p>It's also helpful to set the application name in the jdbc connection url so it's easier to pick out the appropriate log messages:</p>\n\n<pre><code>jdbc:postgresql://host:5432/DB?ApplicationName=YourApp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788183,"creation_date":1576629468,"answer_id":59384029,"question_id":59383535,"body_markdown":"If `log_statement=all` is coming from your postgresql.conf file, but it doesn&#39;t seem to be effective sometimes, then it is possible that that setting has been overridden at the database or user level.  Make sure you are connected to the same database and as the same user as your app server connects, before you issue the &#39;SHOW ALL&#39;.\r\n\r\nThey could have been overridden by something like one of these:\r\n\r\n    alter user &lt;foo&gt; set log_statement=&#39;none&#39;;\r\n    alter database &lt;foo&gt; set log_statement=&#39;none&#39;;\r\n\r\nHowever, to ensure users can&#39;t hide their activity from the superuser, only a superuser would have been allowed to issue one of the above.  And if your app logs in as a superuser (not a good idea), then it could have turned off logging at the session level, overriding the conf file.\r\n\r\nIf it is one of the above commands which changed the setting, you can see it with \\drds in psql, or in SQL with:\r\n\r\n    SELECT rolname AS &quot;Role&quot;, datname AS &quot;Database&quot;,\r\n    pg_catalog.array_to_string(setconfig, E&#39;\\n&#39;) AS &quot;Settings&quot;\r\n    FROM pg_catalog.pg_db_role_setting s\r\n    LEFT JOIN pg_catalog.pg_database d ON d.oid = setdatabase\r\n    LEFT JOIN pg_catalog.pg_roles r ON r.oid = setrole\r\n    ORDER BY 1, 2;\r\n","title":"How do I make queries made by JDBC show up in postgres logs?","body":"<p>If <code>log_statement=all</code> is coming from your postgresql.conf file, but it doesn't seem to be effective sometimes, then it is possible that that setting has been overridden at the database or user level.  Make sure you are connected to the same database and as the same user as your app server connects, before you issue the 'SHOW ALL'.</p>\n<p>They could have been overridden by something like one of these:</p>\n<pre><code>alter user &lt;foo&gt; set log_statement='none';\nalter database &lt;foo&gt; set log_statement='none';\n</code></pre>\n<p>However, to ensure users can't hide their activity from the superuser, only a superuser would have been allowed to issue one of the above.  And if your app logs in as a superuser (not a good idea), then it could have turned off logging at the session level, overriding the conf file.</p>\n<p>If it is one of the above commands which changed the setting, you can see it with \\drds in psql, or in SQL with:</p>\n<pre><code>SELECT rolname AS &quot;Role&quot;, datname AS &quot;Database&quot;,\npg_catalog.array_to_string(setconfig, E'\\n') AS &quot;Settings&quot;\nFROM pg_catalog.pg_db_role_setting s\nLEFT JOIN pg_catalog.pg_database d ON d.oid = setdatabase\nLEFT JOIN pg_catalog.pg_roles r ON r.oid = setrole\nORDER BY 1, 2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616057019,"creation_date":1616057019,"answer_id":66687547,"question_id":59383535,"body_markdown":"In order to get the logs of every query, I use the option `log_statement=all` which is configured as a command line argument, for the process of postgres. I use the following docker compose file in order to run the postgresql database in development environment.\r\n  \r\n    version: &quot;3.8&quot;\r\n    \r\n    services:\r\n    \r\n      db-ct:\r\n        container_name: &#39;my-container-name&#39;\r\n        image: &#39;postgres:13&#39;\r\n        environment:\r\n          - POSTGRES_USER=database-username-created-on-container-creation\r\n          - POSTGRES_PASSWORD=database-password-created-on-container-creation\r\n          - POSTGRES_DB=database-name-created-on-container-creation\r\n        ports:\r\n          # The port is available by sql clients, like sqldeveloper\r\n          - &#39;5000:5432&#39;\r\n        volumes:\r\n          - db:/var/lib/postgresql/data/\r\n        restart: &#39;no&#39;\r\n        # Run postgres and log all queries\r\n        command: [ &quot;postgres&quot;, &quot;-c&quot;, &quot;log_statement=all&quot; ]\r\n        networks:\r\n          internal:\r\n    \r\n    volumes:\r\n      # Database files\r\n      # They are stored in a volume thus they are not reset after rebuilding the images\r\n      db:\r\n        name: your-volume-name\r\n    \r\n    networks:\r\n      internal:\r\n  \r\nLine 19: The command line argument\r\n  \r\n4 replaces are required: `my-container-name`, `database-username-created-on-container-creation`, `database-password-created-on-container-creation`, `database-name-created-on-container-creation`, `your-volume-name`\r\n  \r\nThe database will listen on port 5000.","title":"How do I make queries made by JDBC show up in postgres logs?","body":"<p>In order to get the logs of every query, I use the option <code>log_statement=all</code> which is configured as a command line argument, for the process of postgres. I use the following docker compose file in order to run the postgresql database in development environment.</p>\n<pre><code>version: &quot;3.8&quot;\n\nservices:\n\n  db-ct:\n    container_name: 'my-container-name'\n    image: 'postgres:13'\n    environment:\n      - POSTGRES_USER=database-username-created-on-container-creation\n      - POSTGRES_PASSWORD=database-password-created-on-container-creation\n      - POSTGRES_DB=database-name-created-on-container-creation\n    ports:\n      # The port is available by sql clients, like sqldeveloper\n      - '5000:5432'\n    volumes:\n      - db:/var/lib/postgresql/data/\n    restart: 'no'\n    # Run postgres and log all queries\n    command: [ &quot;postgres&quot;, &quot;-c&quot;, &quot;log_statement=all&quot; ]\n    networks:\n      internal:\n\nvolumes:\n  # Database files\n  # They are stored in a volume thus they are not reset after rebuilding the images\n  db:\n    name: your-volume-name\n\nnetworks:\n  internal:\n</code></pre>\n<p>Line 19: The command line argument</p>\n<p>4 replaces are required: <code>my-container-name</code>, <code>database-username-created-on-container-creation</code>, <code>database-password-created-on-container-creation</code>, <code>database-name-created-on-container-creation</code>, <code>your-volume-name</code></p>\n<p>The database will listen on port 5000.</p>\n"}],"owner":{"account_id":6869865,"reputation":1304,"user_id":5280707,"accept_rate":43,"display_name":"Daniel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2008,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668788183,"creation_date":1576625277,"question_id":59383535,"body_markdown":"[![enter image description here][1]][1]I am working on a spring boot server using Postgres as the database. I would like to be able to have a log file of the queries coming from the server. I have found my sql logs and I can see queries I make to the database via psql but queries coming from my server via jdbc are not logged. How can I get these queries to show in my log file? Or if they are just being logged somewhere else could someone point me in the right direction?\r\n\r\n  [1]: https://i.stack.imgur.com/1s1iW.png","title":"How do I make queries made by JDBC show up in postgres logs?","body":"<p><a href=\"https://i.stack.imgur.com/1s1iW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1s1iW.png\" alt=\"enter image description here\"></a>I am working on a spring boot server using Postgres as the database. I would like to be able to have a log file of the queries coming from the server. I have found my sql logs and I can see queries I make to the database via psql but queries coming from my server via jdbc are not logged. How can I get these queries to show in my log file? Or if they are just being logged somewhere else could someone point me in the right direction?</p>\n"},{"tags":["java","jsp","jstl","jooq"],"answers":[{"tags":[],"owner":{"account_id":1941613,"reputation":5357,"user_id":1747706,"accept_rate":100,"display_name":"Zutty"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1353946860,"creation_date":1353946475,"answer_id":13568710,"question_id":13568538,"body_markdown":"I would use an ORM library like Hibernate, so you just iterate through a plain list of objects.\r\n\r\nIt might seem a bit heavy-weight if your just doing JDBC operations, but it looks like you&#39;ve reached where it would be useful to you. Something like this...\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    class User {\r\n        private String login;\r\n        ...\r\n    }\r\n\r\nand then a DAO class like this...\r\n    \r\n    public List&lt;Users&gt; getUsers() {\r\n        return (List&lt;Users&gt;)sessionFactory.getCurrentSession().createQuery(&quot;from Users&quot;).list();\r\n    }\r\n\r\nObviously there&#39;s plenty of setup and such to bring Hibernate into your project, but I think the benefits outweight that.\r\n\r\nEdit: I don&#39;t think JOOQ can do ORM, but it does seem to have a row mapping system. If you want to stick with JOOQ try creating a `RecordHandler` and use `fetchInto()` method.","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>I would use an ORM library like Hibernate, so you just iterate through a plain list of objects.</p>\n\n<p>It might seem a bit heavy-weight if your just doing JDBC operations, but it looks like you've reached where it would be useful to you. Something like this...</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\nclass User {\n    private String login;\n    ...\n}\n</code></pre>\n\n<p>and then a DAO class like this...</p>\n\n<pre><code>public List&lt;Users&gt; getUsers() {\n    return (List&lt;Users&gt;)sessionFactory.getCurrentSession().createQuery(\"from Users\").list();\n}\n</code></pre>\n\n<p>Obviously there's plenty of setup and such to bring Hibernate into your project, but I think the benefits outweight that.</p>\n\n<p>Edit: I don't think JOOQ can do ORM, but it does seem to have a row mapping system. If you want to stick with JOOQ try creating a <code>RecordHandler</code> and use <code>fetchInto()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":2016743,"reputation":352,"user_id":1803874,"display_name":"Robertiano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353949554,"creation_date":1353949554,"answer_id":13569631,"question_id":13568538,"body_markdown":"    public List&lt;String&gt; getUsers() {\r\n      Factory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\r\n      Result&lt;Record&gt; results = sql.select().from(&quot;users&quot;).fetch();\r\n\r\n      return results.getValues(loginFieldIndex);\r\n    }\r\n\r\nAnd you put returned List in request attributes (eg. attribute name &quot;users&quot;) and jsp:\r\n\r\n    &lt;c:forEach var=&quot;u&quot; items=&quot;${users}&quot;&gt;\r\n      ${u} &lt;br /&gt;\r\n    &lt;/c:forEach&gt;","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<pre><code>public List&lt;String&gt; getUsers() {\n  Factory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\n  Result&lt;Record&gt; results = sql.select().from(\"users\").fetch();\n\n  return results.getValues(loginFieldIndex);\n}\n</code></pre>\n\n<p>And you put returned List in request attributes (eg. attribute name \"users\") and jsp:</p>\n\n<pre><code>&lt;c:forEach var=\"u\" items=\"${users}\"&gt;\n  ${u} &lt;br /&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668788181,"creation_date":1353954561,"answer_id":13570924,"question_id":13568538,"body_markdown":"It seems that you would like to operate on records as if they were maps. Here&#39;s how to achieve this with jOOQ:\r\n\r\n    public List&lt;Map&lt;String, Object&gt;&gt; getUsers() {\r\n        DSLContext sql = DSL.using(Database.getInstance().connect(), SQLDialect.MYSQL);\r\n      return sql.select().from(&quot;users&quot;).fetchMaps();\r\n    }\r\n\r\nSee the relevant Javadocs here:\r\n\r\n- [`ResultQuery.fetchMaps()`][1]\r\n- [`Result.intoMaps()`][2]\r\n- [`Record.intoMap()`][3]\r\n\r\n\r\n  [1]: http://www.jooq.org/javadoc/latest/org/jooq/ResultQuery.html#fetchMaps%28%29\r\n  [2]: http://www.jooq.org/javadoc/latest/org/jooq/Result.html#intoMaps%28%29\r\n  [3]: http://www.jooq.org/javadoc/latest/org/jooq/Record.html#intoMap%28%29","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>It seems that you would like to operate on records as if they were maps. Here's how to achieve this with jOOQ:</p>\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; getUsers() {\n    DSLContext sql = DSL.using(Database.getInstance().connect(), SQLDialect.MYSQL);\n  return sql.select().from(&quot;users&quot;).fetchMaps();\n}\n</code></pre>\n<p>See the relevant Javadocs here:</p>\n<ul>\n<li><a href=\"http://www.jooq.org/javadoc/latest/org/jooq/ResultQuery.html#fetchMaps%28%29\" rel=\"nofollow noreferrer\"><code>ResultQuery.fetchMaps()</code></a></li>\n<li><a href=\"http://www.jooq.org/javadoc/latest/org/jooq/Result.html#intoMaps%28%29\" rel=\"nofollow noreferrer\"><code>Result.intoMaps()</code></a></li>\n<li><a href=\"http://www.jooq.org/javadoc/latest/org/jooq/Record.html#intoMap%28%29\" rel=\"nofollow noreferrer\"><code>Record.intoMap()</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3622137,"reputation":9,"user_id":3020596,"display_name":"Dan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1385102240,"creation_date":1385102240,"answer_id":20138591,"question_id":13568538,"body_markdown":"This is the top Google answer for &quot;jooq jsp&quot; so (after some experimentation) here is another way of combining JOOQ with JSP, while preserving the type safety and performance of JOOQ.\r\n\r\n    &lt;%@ page isELIgnored=&quot;false&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;\r\n    &lt;%@ page import=&quot;static com.example.jooq.tables.TblCats.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;org.jooq.Result, org.jooq.Record&quot; %&gt;\r\n\r\n    &lt;h2&gt;Length: ${fn:length(cats)}&lt;/h2&gt;\r\n\r\n    &lt;c:forEach var=&quot;cat&quot; items=&quot;${cats}&quot;&gt;\r\n     &lt;% Record cat = (Record) pageContext.getAttribute(&quot;cat&quot;); %&gt;\r\n    \r\n     &lt;%= cat.getValue(TBL_CATS.TITLE) %&gt;,\r\n     &lt;%= cat.getValue(TBL_CATS.POSITION) %&gt;\r\n     \r\n     &lt;br&gt;\r\n    \r\n    &lt;/c:forEach&gt;\r\n    \r\n","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>This is the top Google answer for \"jooq jsp\" so (after some experimentation) here is another way of combining JOOQ with JSP, while preserving the type safety and performance of JOOQ.</p>\n\n<pre><code>&lt;%@ page isELIgnored=\"false\" %&gt;\n&lt;%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %&gt;\n&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %&gt;\n&lt;%@ page import=\"static com.example.jooq.tables.TblCats.*\" %&gt;\n&lt;%@ page import=\"org.jooq.Result, org.jooq.Record\" %&gt;\n\n&lt;h2&gt;Length: ${fn:length(cats)}&lt;/h2&gt;\n\n&lt;c:forEach var=\"cat\" items=\"${cats}\"&gt;\n &lt;% Record cat = (Record) pageContext.getAttribute(\"cat\"); %&gt;\n\n &lt;%= cat.getValue(TBL_CATS.TITLE) %&gt;,\n &lt;%= cat.getValue(TBL_CATS.POSITION) %&gt;\n\n &lt;br&gt;\n\n&lt;/c:forEach&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241614,"reputation":9009,"user_id":512535,"accept_rate":80,"display_name":"Dmitri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412296815,"creation_date":1412296815,"answer_id":26171728,"question_id":13568538,"body_markdown":"If you use JOOQ with JSP a lot, it&#39;s worthwhile to add an [ELResolver](http://docs.oracle.com/javaee/5/api/javax/el/ELResolver.html) that understands `Record`.\r\n\r\nHere&#39;s a simple implementation: https://gist.github.com/dbichko/074641915157ac21996c\r\n\r\nYou then need to register it with the JSP engine. In a `ServletContextListener` is as good a place as any:\r\n\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        ServletContext ctx = sce.getServletContext();\r\n        JspFactory.getDefaultFactory()\r\n            .getJspApplicationContext(ctx).addELResolver(new RecordResolver());\r\n    }\r\n\r\nWith that, you can use record fields as properties:\r\n\r\n    &lt;c:forEach var=&quot;user&quot; items=&quot;${users}&quot;&gt;\r\n      ${user.login} &lt;br /&gt;\r\n    &lt;/c:forEach&gt;\r\n","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>If you use JOOQ with JSP a lot, it's worthwhile to add an <a href=\"http://docs.oracle.com/javaee/5/api/javax/el/ELResolver.html\" rel=\"nofollow\">ELResolver</a> that understands <code>Record</code>.</p>\n\n<p>Here's a simple implementation: <a href=\"https://gist.github.com/dbichko/074641915157ac21996c\" rel=\"nofollow\">https://gist.github.com/dbichko/074641915157ac21996c</a></p>\n\n<p>You then need to register it with the JSP engine. In a <code>ServletContextListener</code> is as good a place as any:</p>\n\n<pre><code>public void contextInitialized(ServletContextEvent sce) {\n    ServletContext ctx = sce.getServletContext();\n    JspFactory.getDefaultFactory()\n        .getJspApplicationContext(ctx).addELResolver(new RecordResolver());\n}\n</code></pre>\n\n<p>With that, you can use record fields as properties:</p>\n\n<pre><code>&lt;c:forEach var=\"user\" items=\"${users}\"&gt;\n  ${user.login} &lt;br /&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n"}],"owner":{"account_id":374907,"reputation":4994,"user_id":725400,"accept_rate":57,"display_name":"kskaradzinski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2414,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13570924,"answer_count":5,"score":2,"last_activity_date":1668788181,"creation_date":1353945808,"question_id":13568538,"body_markdown":"Is there a way to loop through `Result&lt;Record&gt;` from jOOQ in a `&lt;c:forEach&gt;`?\r\n\r\nHere&#39;s the getter method:\r\n\r\n    public Vector&lt;Map&lt;String, String&gt;&gt; getUsers() {\r\n    \tFactory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\r\n    \tResult&lt;Record&gt; results = sql.select().from(&quot;users&quot;).fetch();\r\n    \r\n    \tVector&lt;Map&lt;String, String&gt;&gt; v = new Vector&lt;Map&lt;String, String&gt;&gt;();\r\n    \tfor(Record item: results) {\r\n    \t\tMap&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\r\n    \t\tm.put(&quot;login&quot;, item.getValueAsString(&quot;login&quot;));\r\n    \t\t// other columns\r\n    \t\tv.add(m);\r\n    \t}\r\n    \treturn v;\r\n    }\r\n\r\nHere&#39;s the view:\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n\r\n    &lt;c:forEach var=&quot;u&quot; items=&quot;${users}&quot;&gt;\r\n       ${u.login} &lt;br /&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nIs there way to make my getter method simpler like:\r\n\r\n    public Result&lt;Record&gt; getUsers() {\r\n    \tFactory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\r\n    \treutrn sql.select().from(&quot;users&quot;).fetch();\r\n    }\r\n\r\nBut as mentioned earlier I don&#39;t know how to loop through it in `&lt;c:forEach&gt;`, or maybe is it not possible?","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>Is there a way to loop through <code>Result&lt;Record&gt;</code> from jOOQ in a <code>&lt;c:forEach&gt;</code>?</p>\n\n<p>Here's the getter method:</p>\n\n<pre><code>public Vector&lt;Map&lt;String, String&gt;&gt; getUsers() {\n    Factory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\n    Result&lt;Record&gt; results = sql.select().from(\"users\").fetch();\n\n    Vector&lt;Map&lt;String, String&gt;&gt; v = new Vector&lt;Map&lt;String, String&gt;&gt;();\n    for(Record item: results) {\n        Map&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\n        m.put(\"login\", item.getValueAsString(\"login\"));\n        // other columns\n        v.add(m);\n    }\n    return v;\n}\n</code></pre>\n\n<p>Here's the view:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;c:forEach var=\"u\" items=\"${users}\"&gt;\n   ${u.login} &lt;br /&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>Is there way to make my getter method simpler like:</p>\n\n<pre><code>public Result&lt;Record&gt; getUsers() {\n    Factory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\n    reutrn sql.select().from(\"users\").fetch();\n}\n</code></pre>\n\n<p>But as mentioned earlier I don't know how to loop through it in <code>&lt;c:forEach&gt;</code>, or maybe is it not possible?</p>\n"},{"tags":["java","sql","preprocessor"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1262941023,"creation_date":1262941023,"answer_id":2026445,"question_id":2026429,"body_markdown":"There is already a standard for embedded SQL in Java, it&#39;s called [SQLJ][1].\r\n\r\nHaving said that, I&#39;ve never seen it used in the wild, and I&#39;ve no idea if it&#39;s really an option any more, with modern tools. Oracle went for it in a big way when the standard appeared, but I think it died on the vine.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SQLJ","title":"Embedded SQL in OO languages like Java","body":"<p>There is already a standard for embedded SQL in Java, it's called <a href=\"http://en.wikipedia.org/wiki/SQLJ\" rel=\"nofollow noreferrer\">SQLJ</a>.</p>\n\n<p>Having said that, I've never seen it used in the wild, and I've no idea if it's really an option any more, with modern tools. Oracle went for it in a big way when the standard appeared, but I think it died on the vine.</p>\n"},{"tags":[],"owner":{"account_id":87753,"reputation":2467,"user_id":243191,"display_name":"Timothy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262941781,"creation_date":1262941073,"answer_id":2026453,"question_id":2026429,"body_markdown":"Object-Relational mapping tools, such as Hibernate, theoretically make this sort of stuff less of an issue. &quot;theoretically&quot; ;)\r\n\r\nAlso, if you can use Grails, I&#39;ve heard that you can just write fantastic multi-line strings which makes reading SQL statements easier.\r\n","title":"Embedded SQL in OO languages like Java","body":"<p>Object-Relational mapping tools, such as Hibernate, theoretically make this sort of stuff less of an issue. \"theoretically\" ;)</p>\n\n<p>Also, if you can use Grails, I've heard that you can just write fantastic multi-line strings which makes reading SQL statements easier.</p>\n"},{"tags":[],"owner":{"account_id":3591,"reputation":332917,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262962519,"creation_date":1262941083,"answer_id":2026454,"question_id":2026429,"body_markdown":"There already is something similar to an &#39;embedded language preprocessor&#39; for Java and .NET in the SQL domain: http://ibatis.apache.org/\r\n\r\nAlso, what people usually do is to use a full fledged ORM, like [Hibernate][1], to abstract away SQL.\r\n\r\nMind you, these tools do not allow to store the SQL strings in Java code itself, but serve a similar intent. I personally see no benefit in storing the SQL strings in the code itself, as that is usually messier. Having all the SQL neatly written in a specific file aids reusability and maintainability of your SQL. They do allow SQL as strings if the need should arise, but that is usually as a last resort measure (when the ORM tool doesn&#39;t have a good abstraction for your use case.)\r\n\r\nEDIT: I do think mixing SQL and code (be it OO or not) is fragile and not desirable. It&#39;s a lot better to have a centralized place to store your queries. This is the iBATIS approach. \r\n\r\n  [1]: https://www.hibernate.org/","title":"Embedded SQL in OO languages like Java","body":"<p>There already is something similar to an 'embedded language preprocessor' for Java and .NET in the SQL domain: <a href=\"http://ibatis.apache.org/\" rel=\"nofollow noreferrer\">http://ibatis.apache.org/</a></p>\n\n<p>Also, what people usually do is to use a full fledged ORM, like <a href=\"https://www.hibernate.org/\" rel=\"nofollow noreferrer\">Hibernate</a>, to abstract away SQL.</p>\n\n<p>Mind you, these tools do not allow to store the SQL strings in Java code itself, but serve a similar intent. I personally see no benefit in storing the SQL strings in the code itself, as that is usually messier. Having all the SQL neatly written in a specific file aids reusability and maintainability of your SQL. They do allow SQL as strings if the need should arise, but that is usually as a last resort measure (when the ORM tool doesn't have a good abstraction for your use case.)</p>\n\n<p>EDIT: I do think mixing SQL and code (be it OO or not) is fragile and not desirable. It's a lot better to have a centralized place to store your queries. This is the iBATIS approach. </p>\n"},{"tags":[],"owner":{"account_id":20439,"reputation":4580,"user_id":48839,"display_name":"Chad Okere"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1262941837,"creation_date":1262941837,"answer_id":2026490,"question_id":2026429,"body_markdown":"Well, the simplest, most brain-dead way to do this is simply to include your SQL as a string in your code. \r\n\r\nSomething like \r\n\r\n       Statement s = new Statement(&quot;Select * from wherever&quot;);\r\n\r\nThat may not be very sophisticated, but it works.  The downside is that the compiler can&#39;t check your SQL syntax.  Slightly better solution is &lt;a href=&quot;http://java.sun.com/docs/books/tutorial/jdbc/basics/prepared.html&quot;&gt;Prepaired Statements&lt;/a&gt; where you specify a parametic template.  So you can do stuff like: \r\n\r\n    PreparedStatement s = connection.prepareStatement(&quot;Select * from wherever where state = ?&quot;);\r\n\r\nThat way, your JDBC connection &lt;i&gt;should&lt;/i&gt; throw an exception as soon as you create the prepared statement at run time. So if the code works the first time, it should always work. \r\n\r\nThen in your code later when you want to change the parameter you do: \r\n\r\n    s.setString(1, &quot;CA&quot;);\r\n\r\nMicrosoft has an embedded query language for .net called &lt;a href=&quot;http://msdn.microsoft.com/en-us/netframework/aa904594.aspx&quot;&gt;LINQ&lt;/a&gt;. For databases you use &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/bb425822.aspx&quot;&gt;LINQ to SQL&lt;/a&gt; which lets you embed queries right in your code. ","title":"Embedded SQL in OO languages like Java","body":"<p>Well, the simplest, most brain-dead way to do this is simply to include your SQL as a string in your code. </p>\n\n<p>Something like </p>\n\n<pre><code>   Statement s = new Statement(\"Select * from wherever\");\n</code></pre>\n\n<p>That may not be very sophisticated, but it works.  The downside is that the compiler can't check your SQL syntax.  Slightly better solution is <a href=\"http://java.sun.com/docs/books/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">Prepaired Statements</a> where you specify a parametic template.  So you can do stuff like: </p>\n\n<pre><code>PreparedStatement s = connection.prepareStatement(\"Select * from wherever where state = ?\");\n</code></pre>\n\n<p>That way, your JDBC connection <i>should</i> throw an exception as soon as you create the prepared statement at run time. So if the code works the first time, it should always work. </p>\n\n<p>Then in your code later when you want to change the parameter you do: </p>\n\n<pre><code>s.setString(1, \"CA\");\n</code></pre>\n\n<p>Microsoft has an embedded query language for .net called <a href=\"http://msdn.microsoft.com/en-us/netframework/aa904594.aspx\" rel=\"nofollow noreferrer\">LINQ</a>. For databases you use <a href=\"http://msdn.microsoft.com/en-us/library/bb425822.aspx\" rel=\"nofollow noreferrer\">LINQ to SQL</a> which lets you embed queries right in your code. </p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269184988,"creation_date":1262944282,"answer_id":2026705,"question_id":2026429,"body_markdown":"For the current state of affairs I can offer the following points\r\n\r\n* As mentioned above there is technic in java doing that: [SQLJ][1] which never took of.\r\n* Typically one uses an ORM to get a similiar result ([iBatis][2] and [Hibernate][3] being the ones I here most about\r\n* C# has LINQ which does something similiar\r\n\r\nThere are many problems with embedding sql as part of the language:\r\n\r\n* It tends to tie your language to a database vendor, since the various sql dialects are very different. This is a no go for most modern languages. This wasn&#39;t a problem for COBOL since portability was not a requirement.\r\n* It makes either the language way more complex or requires preprocessing, both are bad things in their own right. But with modern IDEs this is even worse, since they would have a hard time to handle sql inside their code (although they start to actually do it, even when sql is embedded in Strings). This wasn&#39;t a problem for COBOL, since in a modern sense it is a butt ugly language anyway (although it probably was nice when it was invented)\r\n* It requires resources for compiling that are hard to control (namingly the database) and follow a completely different approach then &#39;normal&#39; programming. Again a COBOL Programm and it&#39;s database is pretty much fused together so no problem there.\r\n* SQL doesn&#39;t fit to the OO Paradigm. It returns two dimensional arrays of values, not objects. So you need some kind of ORM anyway.\r\n\r\nOn the other hand DSLs are all the hype now. And there are languages that have XML literals. So I think it is quite possible that languages emerge (or already exist) that have ORM like capabilities embedded in them and allow you to use a SQL (or HQL?) like DSL inside the code.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SQLJ\r\n  [2]: http://ibatis.apache.org/\r\n  [3]: http://www.hibernate.org","title":"Embedded SQL in OO languages like Java","body":"<p>For the current state of affairs I can offer the following points</p>\n\n<ul>\n<li>As mentioned above there is technic in java doing that: <a href=\"http://en.wikipedia.org/wiki/SQLJ\" rel=\"nofollow noreferrer\">SQLJ</a> which never took of.</li>\n<li>Typically one uses an ORM to get a similiar result (<a href=\"http://ibatis.apache.org/\" rel=\"nofollow noreferrer\">iBatis</a> and <a href=\"http://www.hibernate.org\" rel=\"nofollow noreferrer\">Hibernate</a> being the ones I here most about</li>\n<li>C# has LINQ which does something similiar</li>\n</ul>\n\n<p>There are many problems with embedding sql as part of the language:</p>\n\n<ul>\n<li>It tends to tie your language to a database vendor, since the various sql dialects are very different. This is a no go for most modern languages. This wasn't a problem for COBOL since portability was not a requirement.</li>\n<li>It makes either the language way more complex or requires preprocessing, both are bad things in their own right. But with modern IDEs this is even worse, since they would have a hard time to handle sql inside their code (although they start to actually do it, even when sql is embedded in Strings). This wasn't a problem for COBOL, since in a modern sense it is a butt ugly language anyway (although it probably was nice when it was invented)</li>\n<li>It requires resources for compiling that are hard to control (namingly the database) and follow a completely different approach then 'normal' programming. Again a COBOL Programm and it's database is pretty much fused together so no problem there.</li>\n<li>SQL doesn't fit to the OO Paradigm. It returns two dimensional arrays of values, not objects. So you need some kind of ORM anyway.</li>\n</ul>\n\n<p>On the other hand DSLs are all the hype now. And there are languages that have XML literals. So I think it is quite possible that languages emerge (or already exist) that have ORM like capabilities embedded in them and allow you to use a SQL (or HQL?) like DSL inside the code.</p>\n"},{"tags":[],"owner":{"account_id":91198,"reputation":10280,"user_id":250560,"accept_rate":87,"display_name":"Konstantin Solomatov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263677431,"creation_date":1263677431,"answer_id":2078967,"question_id":2026429,"body_markdown":"You can workaround such an inability with a decent IDE. For example, IntelliJ IDEA supports a features which is called injected languages. It allows you to write code in a language you want inside of a string literal and be able to use code highlighting, completion, navigation and other services. You can read more about it here: http://blogs.jetbrains.com/idea/2009/03/user-defined-language-injection/","title":"Embedded SQL in OO languages like Java","body":"<p>You can workaround such an inability with a decent IDE. For example, IntelliJ IDEA supports a features which is called injected languages. It allows you to write code in a language you want inside of a string literal and be able to use code highlighting, completion, navigation and other services. You can read more about it here: <a href=\"http://blogs.jetbrains.com/idea/2009/03/user-defined-language-injection/\" rel=\"nofollow noreferrer\">http://blogs.jetbrains.com/idea/2009/03/user-defined-language-injection/</a></p>\n"}],"owner":{"account_id":68381,"reputation":1779,"user_id":199536,"accept_rate":80,"display_name":"Steve De Caux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5213,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1668788133,"creation_date":1262940819,"question_id":2026429,"body_markdown":"One of the things that annoys me working with SQL in OO languages is having to define SQL statements in strings.\n\nWhen I used to work on IBM mainframes, the languages used an SQL preprocessor to parse SQL statements out of the native code, so the statements could be written in cleartext SQL without the obfuscation of strings, for instance in Cobol there is a *EXEC SQL .... END-EXEC* syntax construct that allows **pure SQL statements** to be **embedded** in the Cobol code.\n\n    &lt;pure cobol code, including assignment of value\n     to local variable HOSTVARIABLE&gt;    \n    \n    EXEC SQL\n           SELECT COL_A, COL_B, COL_C\n           INTO :COLA, :COLB, :COLC\n           FROM TAB_A\n           WHERE COL_D = :HOSTVARIABLE\n    END_EXEC\n    \n    &lt;more cobol code, variables COLA, COLB, COLC have been set&gt;\n\n...this makes the SQL statement really easy to read &amp; check for errors. Between the *EXEC SQL .... END-EXEC* tokens there are no constraints on indentation, linebreaking etc., so you can format the SQL statement according to taste.\n\nNote that this example is for a single-row select, when a multiple-row resultset is expected, the coding is different (but still v. easy to read).\n\nSo, taking Java as an example\n\n 1. What made the *&quot;old COBOL&quot;* approach undesirable ? Not only SQL, but system calls could be made much more readable with that approach. Let&#39;s call it the *embedded foreign language preprocessor* approach.  \n\n 2. Would an *embedded foreign language preprocessor* for SQL be useful to implement ? Would you see a benefit in being able to write native SQL statements inside java code ?\n\nEdit\n----\n\n  I&#39;m really asking if you think SQL in OO languages is a throwback, and if not then what could be done to make it better.\n\n","title":"Embedded SQL in OO languages like Java","body":"<p>One of the things that annoys me working with SQL in OO languages is having to define SQL statements in strings.</p>\n<p>When I used to work on IBM mainframes, the languages used an SQL preprocessor to parse SQL statements out of the native code, so the statements could be written in cleartext SQL without the obfuscation of strings, for instance in Cobol there is a <em>EXEC SQL .... END-EXEC</em> syntax construct that allows <strong>pure SQL statements</strong> to be <strong>embedded</strong> in the Cobol code.</p>\n<pre><code>&lt;pure cobol code, including assignment of value\n to local variable HOSTVARIABLE&gt;    \n\nEXEC SQL\n       SELECT COL_A, COL_B, COL_C\n       INTO :COLA, :COLB, :COLC\n       FROM TAB_A\n       WHERE COL_D = :HOSTVARIABLE\nEND_EXEC\n\n&lt;more cobol code, variables COLA, COLB, COLC have been set&gt;\n</code></pre>\n<p>...this makes the SQL statement really easy to read &amp; check for errors. Between the <em>EXEC SQL .... END-EXEC</em> tokens there are no constraints on indentation, linebreaking etc., so you can format the SQL statement according to taste.</p>\n<p>Note that this example is for a single-row select, when a multiple-row resultset is expected, the coding is different (but still v. easy to read).</p>\n<p>So, taking Java as an example</p>\n<ol>\n<li><p>What made the <em>&quot;old COBOL&quot;</em> approach undesirable ? Not only SQL, but system calls could be made much more readable with that approach. Let's call it the <em>embedded foreign language preprocessor</em> approach.</p>\n</li>\n<li><p>Would an <em>embedded foreign language preprocessor</em> for SQL be useful to implement ? Would you see a benefit in being able to write native SQL statements inside java code ?</p>\n</li>\n</ol>\n<h2>Edit</h2>\n<p>I'm really asking if you think SQL in OO languages is a throwback, and if not then what could be done to make it better.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1650989493,"post_id":72016485,"comment_id":127252594,"body_markdown":"Not sure what you mean by it is there without error - the only time you are using that file is in the createEntityManagerFactory line. As your research shows, this is commonly because it isn&#39;t found on the class path, so it isn&#39;t visible to the class loader used to load your DAO class. The persistence xml has to do with your DAO and entities, so I don&#39;t know why you&#39;d have it under the webapp, or how it is getting packed up for deployment, but check your jar file structure on deployment to be sure they are all in the same one.","body":"Not sure what you mean by it is there without error - the only time you are using that file is in the createEntityManagerFactory line. As your research shows, this is commonly because it isn&#39;t found on the class path, so it isn&#39;t visible to the class loader used to load your DAO class. The persistence xml has to do with your DAO and entities, so I don&#39;t know why you&#39;d have it under the webapp, or how it is getting packed up for deployment, but check your jar file structure on deployment to be sure they are all in the same one."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651001293,"post_id":72016485,"comment_id":127256553,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25103918,"reputation":21,"user_id":18954296,"display_name":"SaladCesar"},"score":0,"creation_date":1651003096,"post_id":72016485,"comment_id":127257133,"body_markdown":"Thanks for your answer. What I mean by &quot;without error&quot; is a mistake on my part. I just mean that Eclipse doesn&#39;t throw any immediate syntax error. That&#39;s all. I tried multiple places for the persistence.xml. I tried under /src/main/META-INF/, src/META-INF, src/main/webapp/META-INF. I always get that error.","body":"Thanks for your answer. What I mean by &quot;without error&quot; is a mistake on my part. I just mean that Eclipse doesn&#39;t throw any immediate syntax error. That&#39;s all. I tried multiple places for the persistence.xml. I tried under /src/main/META-INF/, src/META-INF, src/main/webapp/META-INF. I always get that error."},{"owner":{"account_id":25103918,"reputation":21,"user_id":18954296,"display_name":"SaladCesar"},"score":0,"creation_date":1651004206,"post_id":72016485,"comment_id":127257505,"body_markdown":"Also, how can I check file structure on deployment ? It is deployed directly to my tomcat server run by eclipse.","body":"Also, how can I check file structure on deployment ? It is deployed directly to my tomcat server run by eclipse."},{"owner":{"account_id":3418037,"reputation":359,"user_id":2866386,"display_name":"asam"},"score":0,"creation_date":1677680438,"post_id":72016485,"comment_id":133385665,"body_markdown":"@SaladCesar persistence.xml should be in src/main/resources/META-INF/ ie META_INF is inside resources directory","body":"@SaladCesar persistence.xml should be in src/main/resources/META-INF/ ie META_INF is inside resources directory"}],"answers":[{"tags":[],"owner":{"account_id":5266864,"reputation":13,"user_id":4206504,"display_name":"Slavko Krstic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668788087,"creation_date":1668788087,"answer_id":74492471,"question_id":72016485,"body_markdown":"It could be because in your persistence.xml you&#39;re specifying version 2.2 (which is an old javax version) and Jakarta is 3.x. I&#39;m assuming this is Hibernate 6. See here: https://itnext.io/whats-new-in-jakarta-persistence-3-1-by-examples-81b292e8b3a4","title":"jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named error when trying to createEntityManagerFactory","body":"<p>It could be because in your persistence.xml you're specifying version 2.2 (which is an old javax version) and Jakarta is 3.x. I'm assuming this is Hibernate 6. See here: <a href=\"https://itnext.io/whats-new-in-jakarta-persistence-3-1-by-examples-81b292e8b3a4\" rel=\"nofollow noreferrer\">https://itnext.io/whats-new-in-jakarta-persistence-3-1-by-examples-81b292e8b3a4</a></p>\n"}],"owner":{"account_id":25103918,"reputation":21,"user_id":18954296,"display_name":"SaladCesar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2030,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668788087,"creation_date":1650986375,"question_id":72016485,"body_markdown":"I&#39;m trying to setup a backend with an eclipse Dynamic Web Project, and this backend will access a MariaDB using Hibernate ORM. I&#39;m having an issue when creating the Entity Manager Factory. Here is the structure of my project :\r\n[project structure][1]\r\n\r\nHere is the list of the librairies I&#39;ve included :\r\n[Librairies 1][2]\r\n[Librairies 2][3]\r\n\r\nHere is the content of my web.xml :\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:web=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd http://xmlns.jcp.org/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;5.0&quot;&gt;\r\n  &lt;display-name&gt;trakteur-backend2&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n    &lt;servlet-name&gt;Jersey Web app&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer\r\n\t\t&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n      &lt;param-value&gt;service&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.scanning.recursive&lt;/param-name&gt;\r\n      &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n  \r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;Jersey Web app&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\nHere is the content of my persistence.xml :\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;persistence version=&quot;2.2&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\nhttp://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n\t&lt;persistence-unit name=&quot;persistUnit&quot;&gt;\r\n\t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\t\t&lt;class&gt; entities.TrakteurFilm &lt;/class&gt;\r\n\t\t&lt;class&gt; entities.TrakteurUser &lt;/class&gt;\r\n\t\t&lt;class&gt; entities.TrakteurComment &lt;/class&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot;\r\n\t\t\t\tvalue=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n\t\t\t\tvalue=&quot;jdbc:mysql://localhost:3306/trakteur?serverTimezone=UTC&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot;\r\n\t\t\t\tvalue=&quot;user&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot;\r\n\t\t\t\tvalue=&quot;password&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.id.new_generator_mappings&quot;\r\n\t\t\t\tvalue=&quot;false&quot; /&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nMy DAO class is just the following for now :\r\n```java\r\npackage jpaDAO;\r\n\r\nimport java.util.List;\r\n\r\nimport entities.*;\r\nimport jakarta.persistence.*;\r\n\r\npublic class DAO{\r\n\tprivate EntityManagerFactory emf;\r\n\t\r\n\tpublic DAO()\r\n\t{\r\n\t\temf = Persistence.createEntityManagerFactory(&quot;persistUnit&quot;);\r\n\t}\r\n\t\r\n\tpublic EntityManager getEntityManager()\r\n\t{\r\n\t\treturn emf.createEntityManager();\r\n\t}\r\n}\r\n```\r\n\r\nThe error I&#39;m having when executing the project on my Tomcat 10 server is the following :\r\n```\r\njakarta.persistence.PersistenceException: No Persistence provider for EntityManager named persistUnit\r\n\tjakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\r\n\tjakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tjpaDAO.DAO.&lt;init&gt;(DAO.java:13)\r\n\tservice.ServiceTrakteur.&lt;clinit&gt;(ServiceTrakteur.java:14)\r\n\tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tjava.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tjava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tjava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\torg.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1356)\r\n\torg.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:248)\r\n\torg.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:342)\r\n\torg.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:466)\r\n\torg.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\r\n\torg.jvnet.hk2.internal.Utilities.createService(Utilities.java:2103)\r\n\torg.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:769)\r\n\torg.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:732)\r\n\torg.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:702)\r\n\torg.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\r\n\torg.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\r\n\torg.glassfish.jersey.internal.inject.Injections.getOrCreate(Injections.java:105)\r\n\torg.glassfish.jersey.server.model.MethodHandler$ClassBasedMethodHandler.getInstance(MethodHandler.java:260)\r\n\torg.glassfish.jersey.server.internal.routing.PushMethodHandlerRouter.apply(PushMethodHandlerRouter.java:51)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:86)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:69)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:38)\r\n\torg.glassfish.jersey.process.internal.Stages.process(Stages.java:173)\r\n\torg.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:247)\r\n\torg.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\torg.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\torg.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\torg.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\torg.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\torg.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\torg.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\r\n\torg.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n\torg.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\n\r\nI am getting this error no matter what methods are in my DAO or no matter what REST request I do from my service package.\r\n\r\nWhat I am sure of is that it comes from the line `emf = Persistence.createEntityManagerFactory(&quot;persistUnit&quot;);` in my DAO, because if I remove this line, all my methods (that don&#39;t need to use the DB obviously) work. With this line, none of them work.\r\n\r\nI can&#39;t find where I failed with my setup. I searched a lot on this issue but I don&#39;t find cases that correspond to mine. Apparently, it appears that the persistence.xml or the persistence unit can&#39;t be found, but it&#39;s here and without error. My object classes (TrakteurComment, TrakteurUser and TrakteurFilm) don&#39;t have any error.\r\n\r\nDo you have an idea of what it could be ?\r\nThanks in advance for any help or any answer.\r\nHave a great day\r\n\r\n  [1]: https://i.stack.imgur.com/oOm0T.png\r\n  [2]: https://i.stack.imgur.com/Ti9vr.png\r\n  [3]: https://i.stack.imgur.com/3b0UV.png","title":"jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named error when trying to createEntityManagerFactory","body":"<p>I'm trying to setup a backend with an eclipse Dynamic Web Project, and this backend will access a MariaDB using Hibernate ORM. I'm having an issue when creating the Entity Manager Factory. Here is the structure of my project :\n<a href=\"https://i.stack.imgur.com/oOm0T.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>Here is the list of the librairies I've included :\n<a href=\"https://i.stack.imgur.com/Ti9vr.png\" rel=\"nofollow noreferrer\">Librairies 1</a>\n<a href=\"https://i.stack.imgur.com/3b0UV.png\" rel=\"nofollow noreferrer\">Librairies 2</a></p>\n<p>Here is the content of my web.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:web=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd http://xmlns.jcp.org/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;5.0&quot;&gt;\n  &lt;display-name&gt;trakteur-backend2&lt;/display-name&gt;\n    &lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey Web app&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer\n        &lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n      &lt;param-value&gt;service&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.scanning.recursive&lt;/param-name&gt;\n      &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  \n    &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey Web app&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>Here is the content of my persistence.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;persistence version=&quot;2.2&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\nhttp://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;persistUnit&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt; entities.TrakteurFilm &lt;/class&gt;\n        &lt;class&gt; entities.TrakteurUser &lt;/class&gt;\n        &lt;class&gt; entities.TrakteurComment &lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\n                value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                value=&quot;jdbc:mysql://localhost:3306/trakteur?serverTimezone=UTC&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot;\n                value=&quot;user&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot;\n                value=&quot;password&quot; /&gt;\n            &lt;property name=&quot;hibernate.id.new_generator_mappings&quot;\n                value=&quot;false&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>My DAO class is just the following for now :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package jpaDAO;\n\nimport java.util.List;\n\nimport entities.*;\nimport jakarta.persistence.*;\n\npublic class DAO{\n    private EntityManagerFactory emf;\n    \n    public DAO()\n    {\n        emf = Persistence.createEntityManagerFactory(&quot;persistUnit&quot;);\n    }\n    \n    public EntityManager getEntityManager()\n    {\n        return emf.createEntityManager();\n    }\n}\n</code></pre>\n<p>The error I'm having when executing the project on my Tomcat 10 server is the following :</p>\n<pre><code>jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named persistUnit\n    jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\n    jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    jpaDAO.DAO.&lt;init&gt;(DAO.java:13)\n    service.ServiceTrakteur.&lt;clinit&gt;(ServiceTrakteur.java:14)\n    java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1356)\n    org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:248)\n    org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:342)\n    org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:466)\n    org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\n    org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2103)\n    org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:769)\n    org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:732)\n    org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:702)\n    org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\n    org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\n    org.glassfish.jersey.internal.inject.Injections.getOrCreate(Injections.java:105)\n    org.glassfish.jersey.server.model.MethodHandler$ClassBasedMethodHandler.getInstance(MethodHandler.java:260)\n    org.glassfish.jersey.server.internal.routing.PushMethodHandlerRouter.apply(PushMethodHandlerRouter.java:51)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:86)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\n    org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:69)\n    org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:38)\n    org.glassfish.jersey.process.internal.Stages.process(Stages.java:173)\n    org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:247)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n    org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\n    org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>I am getting this error no matter what methods are in my DAO or no matter what REST request I do from my service package.</p>\n<p>What I am sure of is that it comes from the line <code>emf = Persistence.createEntityManagerFactory(&quot;persistUnit&quot;);</code> in my DAO, because if I remove this line, all my methods (that don't need to use the DB obviously) work. With this line, none of them work.</p>\n<p>I can't find where I failed with my setup. I searched a lot on this issue but I don't find cases that correspond to mine. Apparently, it appears that the persistence.xml or the persistence unit can't be found, but it's here and without error. My object classes (TrakteurComment, TrakteurUser and TrakteurFilm) don't have any error.</p>\n<p>Do you have an idea of what it could be ?\nThanks in advance for any help or any answer.\nHave a great day</p>\n"},{"tags":["java","mysql","hibernate","foreign-keys","liquibase"],"answers":[{"tags":[],"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634662177,"creation_date":1634662177,"answer_id":69634847,"question_id":69570980,"body_markdown":"I think you have your foreign key set up backwards from what your business logic expects.\r\n\r\nFrom the Liquibase side, It&#39;s just generating SQL like `alter table wallet_information add constraint verification_challenge_fk ... on delete cascade` which tells the database &quot;when you have a delete that would cause this constraint to fail, delete the problem data&quot;. So in your case &quot;when you delete a verification_challenge, delete the wallet_information&quot;.\r\n\r\nSo your fix should be to remove the `verification_challenge_id` column from `wallet_information` and add a `wallet_information_id` column to `verification_challenge` instead. Then, the onDelete=cascade logic will match what you are expecting.","title":"Liquibase: onDelete=&quot;CASCADE&quot; - deleting parent doesn&#39;t delete child, but deleting child deletes parent","body":"<p>I think you have your foreign key set up backwards from what your business logic expects.</p>\n<p>From the Liquibase side, It's just generating SQL like <code>alter table wallet_information add constraint verification_challenge_fk ... on delete cascade</code> which tells the database &quot;when you have a delete that would cause this constraint to fail, delete the problem data&quot;. So in your case &quot;when you delete a verification_challenge, delete the wallet_information&quot;.</p>\n<p>So your fix should be to remove the <code>verification_challenge_id</code> column from <code>wallet_information</code> and add a <code>wallet_information_id</code> column to <code>verification_challenge</code> instead. Then, the onDelete=cascade logic will match what you are expecting.</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668787865,"creation_date":1668787865,"answer_id":74492414,"question_id":69570980,"body_markdown":"TL;DR\r\n\r\n&gt; **I assumed that onDelete=&quot;CASCADE&quot; will behave quite in opposite way...**\r\n\r\nAhh.. not really, [it works][1] as it should be, in your shared code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n       &lt;addForeignKeyConstraint baseTableName=&quot;wallet_information&quot; \r\n            baseColumnNames=&quot;verification_challenge_id&quot;\r\n            constraintName=&quot;verification_challenge_fk&quot;\r\n            referencedTableName=&quot;verification_challenge&quot; \r\n            referencedColumnNames=&quot;id&quot;\r\n            onDelete=&quot;CASCADE&quot;/&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMeaning whenever you delete record within `verification_challenge` table all the associated entities that have cascading on delete like `wallet_information` will be deleted as well.\r\n \r\n\r\n\r\n  [1]: https://docs.liquibase.com/change-types/add-foreign-key-constraint.html","title":"Liquibase: onDelete=&quot;CASCADE&quot; - deleting parent doesn&#39;t delete child, but deleting child deletes parent","body":"<p>TL;DR</p>\n<blockquote>\n<p><strong>I assumed that onDelete=&quot;CASCADE&quot; will behave quite in opposite way...</strong></p>\n</blockquote>\n<p>Ahh.. not really, <a href=\"https://docs.liquibase.com/change-types/add-foreign-key-constraint.html\" rel=\"nofollow noreferrer\">it works</a> as it should be, in your shared code</p>\n<pre><code>   &lt;addForeignKeyConstraint baseTableName=&quot;wallet_information&quot; \n        baseColumnNames=&quot;verification_challenge_id&quot;\n        constraintName=&quot;verification_challenge_fk&quot;\n        referencedTableName=&quot;verification_challenge&quot; \n        referencedColumnNames=&quot;id&quot;\n        onDelete=&quot;CASCADE&quot;/&gt;\n</code></pre>\n<p>Meaning whenever you delete record within <code>verification_challenge</code> table all the associated entities that have cascading on delete like <code>wallet_information</code> will be deleted as well.</p>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668787865,"creation_date":1634215630,"question_id":69570980,"body_markdown":"I have two entities (giving You simplified versions):\r\n\r\n    &lt;createTable tableName=&quot;wallet_information&quot;\r\n                 remarks=&quot;A table to contain wallet data&quot;&gt;\r\n        &lt;column name=&quot;id&quot; type=&quot;bigint(20)&quot; autoIncrement=&quot;true&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;user_uuid&quot; type=&quot;varchar(255)&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;wallet_name&quot; type=&quot;varchar(255)&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;wallet_address&quot; type=&quot;varchar(63)&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;verification_challenge_id&quot; type=&quot;bigint(20)&quot;&gt;\r\n            &lt;constraints nullable=&quot;true&quot;/&gt;\r\n        &lt;/column&gt;\r\n    &lt;/createTable&gt;\r\n\r\nAnd:\r\n\r\n    &lt;createTable tableName=&quot;verification_challenge&quot;\r\n                 remarks=&quot;A table to contain challenge data&quot;&gt;\r\n        &lt;column name=&quot;id&quot; type=&quot;bigint(20)&quot; autoIncrement=&quot;true&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;challenge_type&quot; type=&quot;varchar(255)&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot;/&gt;\r\n        &lt;/column&gt;\r\n    &lt;/createTable&gt;\r\n\r\nAnd finally:\r\n\r\n       &lt;addForeignKeyConstraint baseTableName=&quot;wallet_information&quot; \r\n            baseColumnNames=&quot;verification_challenge_id&quot;\r\n            constraintName=&quot;verification_challenge_fk&quot;\r\n            referencedTableName=&quot;verification_challenge&quot; \r\n            referencedColumnNames=&quot;id&quot;\r\n            onDelete=&quot;CASCADE&quot;/&gt;\r\n\r\nThen I persist some data in those tables using Hibernate.\r\n\r\nCurrently I am not deleting any data from those tables from the code perspective, but when I manually delete an entry in `wallet_information`, the referenced entry in `verification_challenge` is not deleted alongside it.\r\n\r\nBut when I delete an entry in `verification_challenge`, the referenced entry in `wallet_information` is deleted.\r\n\r\nI assumed that `onDelete=&quot;CASCADE&quot;` will behave quite in opposite way...\r\n\r\nWhat have I done wrong?","title":"Liquibase: onDelete=&quot;CASCADE&quot; - deleting parent doesn&#39;t delete child, but deleting child deletes parent","body":"<p>I have two entities (giving You simplified versions):</p>\n<pre><code>&lt;createTable tableName=&quot;wallet_information&quot;\n             remarks=&quot;A table to contain wallet data&quot;&gt;\n    &lt;column name=&quot;id&quot; type=&quot;bigint(20)&quot; autoIncrement=&quot;true&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;user_uuid&quot; type=&quot;varchar(255)&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;wallet_name&quot; type=&quot;varchar(255)&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;wallet_address&quot; type=&quot;varchar(63)&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;verification_challenge_id&quot; type=&quot;bigint(20)&quot;&gt;\n        &lt;constraints nullable=&quot;true&quot;/&gt;\n    &lt;/column&gt;\n&lt;/createTable&gt;\n</code></pre>\n<p>And:</p>\n<pre><code>&lt;createTable tableName=&quot;verification_challenge&quot;\n             remarks=&quot;A table to contain challenge data&quot;&gt;\n    &lt;column name=&quot;id&quot; type=&quot;bigint(20)&quot; autoIncrement=&quot;true&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;challenge_type&quot; type=&quot;varchar(255)&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot;/&gt;\n    &lt;/column&gt;\n&lt;/createTable&gt;\n</code></pre>\n<p>And finally:</p>\n<pre><code>   &lt;addForeignKeyConstraint baseTableName=&quot;wallet_information&quot; \n        baseColumnNames=&quot;verification_challenge_id&quot;\n        constraintName=&quot;verification_challenge_fk&quot;\n        referencedTableName=&quot;verification_challenge&quot; \n        referencedColumnNames=&quot;id&quot;\n        onDelete=&quot;CASCADE&quot;/&gt;\n</code></pre>\n<p>Then I persist some data in those tables using Hibernate.</p>\n<p>Currently I am not deleting any data from those tables from the code perspective, but when I manually delete an entry in <code>wallet_information</code>, the referenced entry in <code>verification_challenge</code> is not deleted alongside it.</p>\n<p>But when I delete an entry in <code>verification_challenge</code>, the referenced entry in <code>wallet_information</code> is deleted.</p>\n<p>I assumed that <code>onDelete=&quot;CASCADE&quot;</code> will behave quite in opposite way...</p>\n<p>What have I done wrong?</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668787410,"post_id":74492258,"comment_id":131498515,"body_markdown":"There&#39;s a lot in your code that is pretty confusing.\n\nFirst, storing whether it&#39;s sorted or not a s a string is a bad idea - store that as a boolean. \n\nIs it your intention to only remove the max if the list is unsorted? If so, please edit that into your question.\n\nSimilarly, do we only want to remove it if it *is* the first or last element? Or are we guaranteed to be working with a list such that that is the case?\n\nCan we have repeated elements in the list? What should we do with a list like, say, `1, 2, 2`?","body":"There&#39;s a lot in your code that is pretty confusing.  First, storing whether it&#39;s sorted or not a s a string is a bad idea - store that as a boolean.   Is it your intention to only remove the max if the list is unsorted? If so, please edit that into your question.  Similarly, do we only want to remove it if it <i>is</i> the first or last element? Or are we guaranteed to be working with a list such that that is the case?  Can we have repeated elements in the list? What should we do with a list like, say, <code>1, 2, 2</code>?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1668787529,"post_id":74492258,"comment_id":131498557,"body_markdown":"Pleas add a failing test and debug-information you found so far","body":"Pleas add a failing test and debug-information you found so far"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668787558,"post_id":74492258,"comment_id":131498565,"body_markdown":"Continuing with the code review, using `+=` to append rather than `=` to overwrite is a weird phrasing - in this case it&#39;s equivalent because you&#39;re appending to an empty string, but it&#39;s confusing. It would actually be better to entirely separate that into an `isSorted` function (or just use a pre-existing one, like you do to get the max)","body":"Continuing with the code review, using <code>+=</code> to append rather than <code>=</code> to overwrite is a weird phrasing - in this case it&#39;s equivalent because you&#39;re appending to an empty string, but it&#39;s confusing. It would actually be better to entirely separate that into an <code>isSorted</code> function (or just use a pre-existing one, like you do to get the max)"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1668787584,"post_id":74492258,"comment_id":131498581,"body_markdown":"Please fix the  formatting of your code. (especially indention)","body":"Please fix the  formatting of your code. (especially indention)"},{"owner":{"account_id":15493486,"reputation":83,"user_id":16708103,"display_name":"Aliayub Ali"},"score":0,"creation_date":1668787622,"post_id":74492258,"comment_id":131498599,"body_markdown":"that&#39;s true, that&#39;s how I solved it last time exactly thank you genius.","body":"that&#39;s true, that&#39;s how I solved it last time exactly thank you genius."}],"answers":[{"tags":[],"owner":{"account_id":6970461,"reputation":7437,"user_id":5348875,"accept_rate":67,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668787609,"creation_date":1668787609,"answer_id":74492363,"question_id":74492258,"body_markdown":"Store the index of the maximum element in your recursion and in the end, remove it.\r\n\r\n```\r\nList&lt;Integer&gt; RemoveBiggestFromList(List&lt;Integer&gt; list, int index, int maxIndex){\r\n    if(index &gt;= list.size()) {\r\n        if(list.size() &gt; 0) list.remove(maxIndex);\r\n        return list;\r\n    }\r\n    else{\r\n        if(list.get(index) &gt; list.get(maxIndex)) maxIndex = index;\r\n        return RemoveBiggestFromList(list, index + 1, maxIndex);\r\n    }\r\n}\r\n```\r\n\r\nThen, just do `list = RemoveBiggestFromList(list, 0, 0)`.\r\n\r\nThis is a recursive method to remove the biggest element wherever it is.","title":"is there any recursive way that I can remove the max number either from start or at the end?","body":"<p>Store the index of the maximum element in your recursion and in the end, remove it.</p>\n<pre><code>List&lt;Integer&gt; RemoveBiggestFromList(List&lt;Integer&gt; list, int index, int maxIndex){\n    if(index &gt;= list.size()) {\n        if(list.size() &gt; 0) list.remove(maxIndex);\n        return list;\n    }\n    else{\n        if(list.get(index) &gt; list.get(maxIndex)) maxIndex = index;\n        return RemoveBiggestFromList(list, index + 1, maxIndex);\n    }\n}\n</code></pre>\n<p>Then, just do <code>list = RemoveBiggestFromList(list, 0, 0)</code>.</p>\n<p>This is a recursive method to remove the biggest element wherever it is.</p>\n"}],"owner":{"account_id":15493486,"reputation":83,"user_id":16708103,"display_name":"Aliayub Ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668787609,"creation_date":1668787095,"question_id":74492258,"body_markdown":"I am checking if the list is sorted if it sorted than return false if not than remove the maxNumer in the list either from the start or the end not in the middle the middle is wanted but at end or the start no for example [1,2,3,4] expected false [9,1,2,3,4,6,22] // expected [1,2,3,4,6] thank you.\r\n\r\n\r\n   \r\n    \r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n            list.add(9);\r\n            list.add(2);\r\n            list.add(3);\r\n            list.add(4);\r\n            list.add(5);\r\n            list.add(22);\r\n            var r = find132pattern(list);\r\n    \r\n            \r\n        }\r\n    \r\n        \r\n       public static boolean find132pattern(List&lt;Integer&gt; list) {\r\n    \r\n        int count = 0;\r\n        String result = &quot;&quot;;\r\n        for(int i = 0; i &lt; list.size(); i++){\r\n            int prev = i-1;\r\n            int next = list.get(i);\r\n            if(prev &gt; -1){\r\n                prev = list.get(i-1);\r\n                if(prev &gt; next){\r\n                    count+=1;\r\n                }\r\n            }\r\n        }\r\n        if(count &gt; 0){\r\n            result+=&quot;not sorted&quot;;\r\n        }else {\r\n            result+=&quot;sorted&quot;;\r\n        }\r\n    \r\n        Integer start = 0;\r\n    \r\n        Integer end = list.size();\r\n    \r\n        Integer maxNum = Collections.max(list);\r\n    \r\n        Integer maxPos = list.indexOf(maxNum);\r\n    \r\n        \r\n        if(result == &quot;sorted&quot;){\r\n            return false;\r\n        }else if(result == &quot;not sorted&quot; &amp;&amp; maxPos == end || maxPos == start){\r\n            list.remove(maxPos);\r\n            find132pattern(list);\r\n        }else {\r\n            System.out.println(list);\r\n        }\r\n           \r\n        \r\n     return false;\r\n    }\r\n        \r\n    }\r\n    \r\n    \r\n    // find an element","title":"is there any recursive way that I can remove the max number either from start or at the end?","body":"<p>I am checking if the list is sorted if it sorted than return false if not than remove the maxNumer in the list either from the start or the end not in the middle the middle is wanted but at end or the start no for example [1,2,3,4] expected false [9,1,2,3,4,6,22] // expected [1,2,3,4,6] thank you.</p>\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n        list.add(9);\n        list.add(2);\n        list.add(3);\n        list.add(4);\n        list.add(5);\n        list.add(22);\n        var r = find132pattern(list);\n\n        \n    }\n\n    \n   public static boolean find132pattern(List&lt;Integer&gt; list) {\n\n    int count = 0;\n    String result = &quot;&quot;;\n    for(int i = 0; i &lt; list.size(); i++){\n        int prev = i-1;\n        int next = list.get(i);\n        if(prev &gt; -1){\n            prev = list.get(i-1);\n            if(prev &gt; next){\n                count+=1;\n            }\n        }\n    }\n    if(count &gt; 0){\n        result+=&quot;not sorted&quot;;\n    }else {\n        result+=&quot;sorted&quot;;\n    }\n\n    Integer start = 0;\n\n    Integer end = list.size();\n\n    Integer maxNum = Collections.max(list);\n\n    Integer maxPos = list.indexOf(maxNum);\n\n    \n    if(result == &quot;sorted&quot;){\n        return false;\n    }else if(result == &quot;not sorted&quot; &amp;&amp; maxPos == end || maxPos == start){\n        list.remove(maxPos);\n        find132pattern(list);\n    }else {\n        System.out.println(list);\n    }\n       \n    \n return false;\n}\n    \n}\n\n\n// find an element\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1668788484,"post_id":74492349,"comment_id":131498918,"body_markdown":"IDE does not know about every error in the project in most cases. Analysis is run when you open a file, otherwise performance would suffer. There is support for Project wide error analysis, but it&#39;s limited to some languages only. See https://www.jetbrains.com/help/idea/file-and-project-analysis.html#project-wide-analysis. At the moment, it works only for Java.","body":"IDE does not know about every error in the project in most cases. Analysis is run when you open a file, otherwise performance would suffer. There is support for Project wide error analysis, but it&#39;s limited to some languages only. See <a href=\"https://www.jetbrains.com/help/idea/file-and-project-analysis.html#project-wide-analysis\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. At the moment, it works only for Java."},{"owner":{"account_id":309064,"reputation":12440,"user_id":621316,"accept_rate":95,"display_name":"Dave Cousineau"},"score":0,"creation_date":1668788876,"post_id":74492349,"comment_id":131499053,"body_markdown":"in Rider it is, I think Alt-Shift-PageDown (and -PageUp for previous). Not sure about IntelliJ.","body":"in Rider it is, I think Alt-Shift-PageDown (and -PageUp for previous). Not sure about IntelliJ."}],"owner":{"account_id":4742401,"reputation":864,"user_id":7858768,"display_name":"user7858768"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668787518,"creation_date":1668787518,"question_id":74492349,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uk5Xx.png\r\n\r\nIs there any way to go to next error that is anywhere in the project within IntelliJ? Going to `Next Highlighted Error` only goes to errors within the opened file rather than anywhere in the project.","title":"Intellij: Any way to go to next error anywhere in the project?","body":"<p><a href=\"https://i.stack.imgur.com/uk5Xx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uk5Xx.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to go to next error that is anywhere in the project within IntelliJ? Going to <code>Next Highlighted Error</code> only goes to errors within the opened file rather than anywhere in the project.</p>\n"},{"tags":["java","maven","jar","environment-variables"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1668787637,"post_id":74492348,"comment_id":131498604,"body_markdown":"Create 1 config jar per env. At runtime, add the jar to the classpath that matches the env.","body":"Create 1 config jar per env. At runtime, add the jar to the classpath that matches the env."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668787739,"post_id":74492348,"comment_id":131498640,"body_markdown":"Either create an appropriate configuration file which will be put on the class path during runtime so you can control by your classpath at runtime which configuration you are picking up... or just use access to environment variables... never package the configuration into your application...keep the appliation and configuration like a db etc. independent.","body":"Either create an appropriate configuration file which will be put on the class path during runtime so you can control by your classpath at runtime which configuration you are picking up... or just use access to environment variables... never package the configuration into your application...keep the appliation and configuration like a db etc. independent."},{"owner":{"account_id":21872292,"reputation":107,"user_id":16161654,"display_name":"Jack"},"score":0,"creation_date":1668788393,"post_id":74492348,"comment_id":131498884,"body_markdown":"@khmarbaise can you share any resource that might help me on this? cause everything is new to me","body":"@khmarbaise can you share any resource that might help me on this? cause everything is new to me"},{"owner":{"account_id":21872292,"reputation":107,"user_id":16161654,"display_name":"Jack"},"score":0,"creation_date":1668790231,"post_id":74492348,"comment_id":131499557,"body_markdown":"@Michael what do you mean by config jar? what does kind of files is in there to bundle? if you have a helpful resource please share","body":"@Michael what do you mean by config jar? what does kind of files is in there to bundle? if you have a helpful resource please share"}],"owner":{"account_id":21872292,"reputation":107,"user_id":16161654,"display_name":"Jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668787517,"creation_date":1668787517,"question_id":74492348,"body_markdown":"I have a pure java project built with maven\r\n\r\nThis java project is using external DB so there&#39;s a DB IP &amp; DB username and password.\r\n\r\nThese values currently are hardcoded. I want to be able to make these values configurable based on the environment.\r\n\r\nFor example if I want to build the jar for Dev env I will have these values \r\n\r\n    DB IP : 123\r\n    DB username : dev123\r\n    DB password : dev123\r\n\r\nfor QA \r\n\r\n    DB IP : 345\r\n    DB username : Qa123\r\n    DB password : Qa123 \r\n\r\nand so on .. \r\n\r\nI have looked into the profiles but as I understood I cannot access these values withing my program or it&#39;s not recommended to use them for this purpose.\r\n\r\nI had experience with Django and I know that we can create `.env` file \r\nand for `.net` we can have what is called `appsettings`.\r\n\r\nThanks.","title":"Java maven build jar for different environment configuration settings","body":"<p>I have a pure java project built with maven</p>\n<p>This java project is using external DB so there's a DB IP &amp; DB username and password.</p>\n<p>These values currently are hardcoded. I want to be able to make these values configurable based on the environment.</p>\n<p>For example if I want to build the jar for Dev env I will have these values</p>\n<pre><code>DB IP : 123\nDB username : dev123\nDB password : dev123\n</code></pre>\n<p>for QA</p>\n<pre><code>DB IP : 345\nDB username : Qa123\nDB password : Qa123 \n</code></pre>\n<p>and so on ..</p>\n<p>I have looked into the profiles but as I understood I cannot access these values withing my program or it's not recommended to use them for this purpose.</p>\n<p>I had experience with Django and I know that we can create <code>.env</code> file\nand for <code>.net</code> we can have what is called <code>appsettings</code>.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","mysql","sql","database"],"comments":[{"owner":{"account_id":7696128,"reputation":5629,"user_id":5830574,"accept_rate":93,"display_name":"PerlDuck"},"score":2,"creation_date":1469977093,"post_id":38685006,"comment_id":64749697,"body_markdown":"Your English is _by far_ not terrible but I&#39;m afraid your question is off-topic because you are asking for some kind of tutorial. Please refer to [ask]. SO is about specific programming problems, i.e. you should have a particular piece of code that doesn&#39;t work as you expect.","body":"Your English is <i>by far</i> not terrible but I&#39;m afraid your question is off-topic because you are asking for some kind of tutorial. Please refer to <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. SO is about specific programming problems, i.e. you should have a particular piece of code that doesn&#39;t work as you expect."}],"answers":[{"tags":[],"owner":{"account_id":6080497,"reputation":628,"user_id":5212952,"accept_rate":50,"display_name":"Drgabble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469976301,"creation_date":1469976301,"answer_id":38685114,"question_id":38685006,"body_markdown":"I would recommend SQL database [H2][1]. Simply include the .jar with your project (follow the website installation instructions) and use it in your code with:\r\n\r\n    Class.forName(&quot;org.h2.Driver&quot;);\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:h2:&quot;+path_to_database);\r\n    con.createStatement().execute(&quot;CREATE TABLE games(name VARCHAR(80))&quot;);\r\n    con.createStatement().execute(&quot;INSERT INTO games(name) VALUES(&#39;Halo 3&#39;)&quot;);\r\n    // etc...\r\n\r\nTheir documentation is pretty comprehensive to get you started with reading and writing from the database.\r\n\r\n\r\n  [1]: http://www.h2database.com","title":"How to download and parse an sql file in java","body":"<p>I would recommend SQL database <a href=\"http://www.h2database.com\" rel=\"nofollow\">H2</a>. Simply include the .jar with your project (follow the website installation instructions) and use it in your code with:</p>\n\n<pre><code>Class.forName(\"org.h2.Driver\");\nConnection con = DriverManager.getConnection(\"jdbc:h2:\"+path_to_database);\ncon.createStatement().execute(\"CREATE TABLE games(name VARCHAR(80))\");\ncon.createStatement().execute(\"INSERT INTO games(name) VALUES('Halo 3')\");\n// etc...\n</code></pre>\n\n<p>Their documentation is pretty comprehensive to get you started with reading and writing from the database.</p>\n"}],"owner":{"account_id":8925496,"reputation":3,"user_id":6660205,"display_name":"Lucy Snod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38685114,"answer_count":1,"score":0,"last_activity_date":1668787480,"creation_date":1469975464,"question_id":38685006,"body_markdown":"I&#39;m learning java/android development and I have an idea of an app that I want to make.\r\nI want to make an app that displays a list of upcoming games (just an example) that I keep updating frequently. And in order to do that, it downloads a database file (or read it directly without downloading) and parse it to display the information each time the user opens the app.\r\n\r\nI searched a lot and I didn&#39;t find any way to do it. I&#39;ll be thankful if someone tells me how.\r\nI know that it&#39;s possible to use a RSS feed but I want to use database if possible.\r\n","title":"How to download and parse an sql file in java","body":"<p>I'm learning java/android development and I have an idea of an app that I want to make.\nI want to make an app that displays a list of upcoming games (just an example) that I keep updating frequently. And in order to do that, it downloads a database file (or read it directly without downloading) and parse it to display the information each time the user opens the app.</p>\n<p>I searched a lot and I didn't find any way to do it. I'll be thankful if someone tells me how.\nI know that it's possible to use a RSS feed but I want to use database if possible.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"score":3,"creation_date":1340897805,"post_id":11247793,"comment_id":14781345,"body_markdown":"Dot notation may be seen as code, where in Object.toString `Object` will be an instance or otherwise `toString` will be a static method. Dash notation is Javadoc and so is clear.","body":"Dot notation may be seen as code, where in Object.toString <code>Object</code> will be an instance or otherwise <code>toString</code> will be a static method. Dash notation is Javadoc and so is clear."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1459716008,"creation_date":1340897050,"answer_id":11247849,"question_id":11247793,"body_markdown":"It&#39;s the notation used in javadoc comments when linking to another class&#39; method.\r\n\r\nEDIT\r\n\r\nTo gather the additional information provided in comments:\r\n\r\n- @Hugo notes that the `#` notation in turn comes from HTML anchors\r\n- @maksimov points out that `Object.method` is the Java syntax to call static methods, which could be misleading\r\n\r\nUPDATE\r\n\r\nJava 8 brings a new syntax for method references, which now seems to become more popular - so `Object#toString` tends to now be written `Object::toString`.","title":"Why do some folks use Class#method instead of Class.method in correspondence?","body":"<p>It's the notation used in javadoc comments when linking to another class' method.</p>\n\n<p>EDIT</p>\n\n<p>To gather the additional information provided in comments:</p>\n\n<ul>\n<li>@Hugo notes that the <code>#</code> notation in turn comes from HTML anchors</li>\n<li>@maksimov points out that <code>Object.method</code> is the Java syntax to call static methods, which could be misleading</li>\n</ul>\n\n<p>UPDATE</p>\n\n<p>Java 8 brings a new syntax for method references, which now seems to become more popular - so <code>Object#toString</code> tends to now be written <code>Object::toString</code>.</p>\n"}],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6361,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":11247849,"answer_count":1,"score":34,"last_activity_date":1668787240,"creation_date":1340896865,"question_id":11247793,"body_markdown":"When writing about methods in Java (e.g. in forums, mailing lists, issue trackers, etc.) many people separate the method name from the class name using the &#39;#&#39; symbol instead of Java&#39;s native `.` operator; for example, folks refer to `Object#toString` instead of `Object.toString`. Where does this syntax come from?","title":"Why do some folks use Class#method instead of Class.method in correspondence?","body":"<p>When writing about methods in Java (e.g. in forums, mailing lists, issue trackers, etc.) many people separate the method name from the class name using the '#' symbol instead of Java's native <code>.</code> operator; for example, folks refer to <code>Object#toString</code> instead of <code>Object.toString</code>. Where does this syntax come from?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":58992,"reputation":15767,"user_id":176569,"accept_rate":70,"display_name":"bpgergo"},"score":0,"creation_date":1315226479,"post_id":7308083,"comment_id":131508221,"body_markdown":"I just put this here in case you do not insist on regex\nhttps://stackoverflow.com/questions/5572793/sql-parser-library-for-java-retrieve-the-list-of-table-names-present-in-a-sql-s https://stackoverflow.com/questions/660609/sql-parser-library-for-java","body":"I just put this here in case you do not insist on regex <a href=\"https://stackoverflow.com/questions/5572793/sql-parser-library-for-java-retrieve-the-list-of-table-names-present-in-a-sql-s\" title=\"sql parser library for java retrieve the list of table names present in a sql s\">stackoverflow.com/questions/5572793/&hellip;</a> <a href=\"https://stackoverflow.com/questions/660609/sql-parser-library-for-java\" title=\"sql parser library for java\">stackoverflow.com/questions/660609/sql-parser-library-for-ja&zwnj;&#8203;va</a>"},{"owner":{"account_id":190533,"reputation":9098,"user_id":430560,"accept_rate":80,"display_name":"Jonathan Dickinson"},"score":0,"creation_date":1315239766,"post_id":7308083,"comment_id":131508222,"body_markdown":"Wish I could +2: no regex, pre-built solution (Especially the proper parser +298345).","body":"Wish I could +2: no regex, pre-built solution (Especially the proper parser +298345)."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1315225980,"creation_date":1315225980,"answer_id":7308141,"question_id":7308083,"body_markdown":"`(.+)` will consume as much as possible. To make it consume as *little* as possible, change it to `(.+?)`.\r\n\r\nTry something like this:\r\n\r\n    String input = &quot;firstColumn         varchar(4)   not null,&quot;;\r\n    \r\n    Pattern p = Pattern.compile(&quot;(.+?)\\\\s+(.+?)\\\\s+(.*)&quot;);\r\n    Matcher m = p.matcher(input);\r\n    \r\n    if (m.find()) {\r\n        System.out.println(m.group(1));\r\n        System.out.println(m.group(2));\r\n        System.out.println(m.group(3));\r\n    }\r\n\r\nOutput:\r\n\r\n    firstColumn\r\n    varchar(4)\r\n    not null,\r\n\r\n","title":"Parsing SQL table definition using regular expression in Java","body":"<p><code>(.+)</code> will consume as much as possible. To make it consume as <em>little</em> as possible, change it to <code>(.+?)</code>.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>String input = \"firstColumn         varchar(4)   not null,\";\n\nPattern p = Pattern.compile(\"(.+?)\\\\s+(.+?)\\\\s+(.*)\");\nMatcher m = p.matcher(input);\n\nif (m.find()) {\n    System.out.println(m.group(1));\n    System.out.println(m.group(2));\n    System.out.println(m.group(3));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>firstColumn\nvarchar(4)\nnot null,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21356,"reputation":47248,"user_id":51831,"accept_rate":56,"display_name":"jpalecek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315226527,"creation_date":1315226527,"answer_id":7308255,"question_id":7308083,"body_markdown":"Another option (IMHO a preferable one) to lazy matching is specifying the characters that can happen in the word, that is:\r\n\r\n    ([^ ]+)([ ]+)([^ ]+)([ ]+)(.+)([ ]+)\r\n\r\nThe difference is that while this approach will never put spaces in `columnName`, the lazy match still might if the rest of the pattern fails and backtracks.\r\n\r\nBTW, the data type can still contain spaces (eg. `CHAR(20) CHARACTER SET xxxxx`, also the parens may be spaced), so this approach is not really going to work.","title":"Parsing SQL table definition using regular expression in Java","body":"<p>Another option (IMHO a preferable one) to lazy matching is specifying the characters that can happen in the word, that is:</p>\n\n<pre><code>([^ ]+)([ ]+)([^ ]+)([ ]+)(.+)([ ]+)\n</code></pre>\n\n<p>The difference is that while this approach will never put spaces in <code>columnName</code>, the lazy match still might if the rest of the pattern fails and backtracks.</p>\n\n<p>BTW, the data type can still contain spaces (eg. <code>CHAR(20) CHARACTER SET xxxxx</code>, also the parens may be spaced), so this approach is not really going to work.</p>\n"}],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1960,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7308141,"answer_count":2,"score":2,"last_activity_date":1668787167,"creation_date":1315225732,"question_id":7308083,"body_markdown":"Im trying to parse a SQL table creation script in Java.\r\n\r\nIve currently got the following pattern:\r\n\r\n    Pattern p = Pattern.compile(&quot;(.+)([ ]+)(.+)([ ]+)(.+)&quot;);\r\n\r\ni.e a group of any chars (column name), followed by one or more spaces, followed by another group of chars (column type), followed by one or more spaces, followed by any number of chars (i.,e not null etc).\r\n\r\nAnd this is used by the following code:\r\n\r\n    Matcher m = p.matcher(field);\r\n    if(m.find()){\r\n        String column = m.group(1).trim();\r\n        String type = m.group(3).trim();\r\n        String clauses = m.group(5).trim();\r\n    }\r\n\r\nAnd yet when I run this on:\r\n\r\n    firstColumn         varchar(4)   not null,\r\n\r\nThe first group is:\r\n\r\n    firstColumn         varchar(4)\r\n\r\nI would expect the three extracted fields to be firstColumn, varchar(4) and not null respectively.\r\n\r\nAny ideas?\r\n","title":"Parsing SQL table definition using regular expression in Java","body":"<p>Im trying to parse a SQL table creation script in Java.</p>\n\n<p>Ive currently got the following pattern:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(.+)([ ]+)(.+)([ ]+)(.+)\");\n</code></pre>\n\n<p>i.e a group of any chars (column name), followed by one or more spaces, followed by another group of chars (column type), followed by one or more spaces, followed by any number of chars (i.,e not null etc).</p>\n\n<p>And this is used by the following code:</p>\n\n<pre><code>Matcher m = p.matcher(field);\nif(m.find()){\n    String column = m.group(1).trim();\n    String type = m.group(3).trim();\n    String clauses = m.group(5).trim();\n}\n</code></pre>\n\n<p>And yet when I run this on:</p>\n\n<pre><code>firstColumn         varchar(4)   not null,\n</code></pre>\n\n<p>The first group is:</p>\n\n<pre><code>firstColumn         varchar(4)\n</code></pre>\n\n<p>I would expect the three extracted fields to be firstColumn, varchar(4) and not null respectively.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","android","image","animated-gif"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1668789493,"post_id":74492253,"comment_id":131499284,"body_markdown":"Use Glide as your image loader, as [Glide supports GIF](https://stackoverflow.com/q/31082330/115145). Or, use [a dedicated GIF library](https://android-arsenal.com/tag/193?sort=created).","body":"Use Glide as your image loader, as <a href=\"https://stackoverflow.com/q/31082330/115145\">Glide supports GIF</a>. Or, use <a href=\"https://android-arsenal.com/tag/193?sort=created\" rel=\"nofollow noreferrer\">a dedicated GIF library</a>."},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1668834128,"post_id":74492253,"comment_id":131507701,"body_markdown":"Load gif using `coil` https://coil-kt.github.io/coil/gifs/","body":"Load gif using <code>coil</code> <a href=\"https://coil-kt.github.io/coil/gifs/\" rel=\"nofollow noreferrer\">coil-kt.github.io/coil/gifs</a>"},{"owner":{"account_id":25183656,"reputation":21,"user_id":19024839,"display_name":"ram shinde"},"score":0,"creation_date":1672399721,"post_id":74492253,"comment_id":132282509,"body_markdown":"@Ammar Abdullah where should i add that code for image loader in my project in which file ?","body":"@Ammar Abdullah where should i add that code for image loader in my project in which file ?"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1672404760,"post_id":74492253,"comment_id":132283700,"body_markdown":"@ramshinde check it out . It for loading images using `Glide` https://stackoverflow.com/a/72543476/15218726","body":"@ramshinde check it out . It for loading images using <code>Glide</code> <a href=\"https://stackoverflow.com/a/72543476/15218726\">stackoverflow.com/a/72543476/15218726</a>"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1672404852,"post_id":74492253,"comment_id":132283720,"body_markdown":"Just replace `.load(IMAGE_URL)` with `.load(R.drawable.your_gif)`","body":"Just replace <code>.load(IMAGE_URL)</code> with <code>.load(R.drawable.your_gif)</code>"},{"owner":{"account_id":25183656,"reputation":21,"user_id":19024839,"display_name":"ram shinde"},"score":0,"creation_date":1672474527,"post_id":74492253,"comment_id":132295480,"body_markdown":"@Ammar Abdullah, Thank you Ammar but I am trying to fetch gifs from my emulators gallery just like the normal images and when I fetch any gif image from gallery it does not show me any animation just frozen image of that gif so if you can help me with that then that would be amazing.","body":"@Ammar Abdullah, Thank you Ammar but I am trying to fetch gifs from my emulators gallery just like the normal images and when I fetch any gif image from gallery it does not show me any animation just frozen image of that gif so if you can help me with that then that would be amazing."},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1672474640,"post_id":74492253,"comment_id":132295494,"body_markdown":"pass that gif uri from `onActivityResult` to `.load(uri)` then Glide will play gif for you","body":"pass that gif uri from <code>onActivityResult</code> to <code>.load(uri)</code> then Glide will play gif for you"}],"owner":{"account_id":25183656,"reputation":21,"user_id":19024839,"display_name":"ram shinde"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668787084,"creation_date":1668787084,"question_id":74492253,"body_markdown":"I am developing social media app in which I already coded the logic to take image from my phone gallery but when I retrieve gif image from gallery it doesn&#39;t show me any animation of that gif image, it just shows the still image and I have post feature also but there also it doesn&#39;t show me animation of gif image, so if anyone know how to get the gif image working on android app then please help me.\r\n\r\nThe logic to retrieve image from gallery is:\r\n\r\nthis is a onClick function when i click on camera icon it take me back to gallery.\r\n\r\n```\r\nPhoto.launch(&quot;image/*&quot;);\r\n```\r\n\r\nbefore this i created the global variable for photo and then i stored the image in the firebase database using registerForActivityResult\r\n  \r\n\r\nI want to know how to get the gif image animation working after I retrieve them from gallery.","title":"Does anyone know how to get gif images working in android app?","body":"<p>I am developing social media app in which I already coded the logic to take image from my phone gallery but when I retrieve gif image from gallery it doesn't show me any animation of that gif image, it just shows the still image and I have post feature also but there also it doesn't show me animation of gif image, so if anyone know how to get the gif image working on android app then please help me.</p>\n<p>The logic to retrieve image from gallery is:</p>\n<p>this is a onClick function when i click on camera icon it take me back to gallery.</p>\n<pre><code>Photo.launch(&quot;image/*&quot;);\n</code></pre>\n<p>before this i created the global variable for photo and then i stored the image in the firebase database using registerForActivityResult</p>\n<p>I want to know how to get the gif image animation working after I retrieve them from gallery.</p>\n"},{"tags":["java","option-type","method-chaining","notnull"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588027134,"creation_date":1588027134,"answer_id":61469649,"question_id":61469515,"body_markdown":"If `withAttachments()` doesn&#39;t allow a `null` value, then yes, you need `if (attachments != null)`.\r\n\r\nBut, since builders don&#39;t (generally) require a specific order of method calls, you can clean the code up a bit.\r\n\r\n```\r\nEmailBuilder eb = emailBuilder()\r\n        .withSubject(email.getSubject())\r\n        .withReplyTo(replyAddresses)\r\n        .withHeader(&quot;X-showheader&quot;, email.getHeader());\r\nif (attachments != null)\r\n    eb.withAttachments(attachments);\r\nreturn eb.build();\r\n```","title":"Java Method Chaining Optionally based on arguments","body":"<p>If <code>withAttachments()</code> doesn't allow a <code>null</code> value, then yes, you need <code>if (attachments != null)</code>.</p>\n\n<p>But, since builders don't (generally) require a specific order of method calls, you can clean the code up a bit.</p>\n\n<pre><code>EmailBuilder eb = emailBuilder()\n        .withSubject(email.getSubject())\n        .withReplyTo(replyAddresses)\n        .withHeader(\"X-showheader\", email.getHeader());\nif (attachments != null)\n    eb.withAttachments(attachments);\nreturn eb.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588027575,"creation_date":1588027202,"answer_id":61469667,"question_id":61469515,"body_markdown":"I&#39;m assuming you can&#39;t change the contract of `withAttachments` to ignore calls with null?  You could, upstream wrap attachments in an `Optional` and then provide an `orElse` with an empty, but not null, impl of whatever type `attachments` is, e.g. (assuming `attachments` is a `List`):\r\n\r\n    Optional&lt;...&gt; optionalAttachments = Optional.ofNullable(attachments);\r\n    \r\n    ...\r\n    \r\n    .withAttachments(optionalAttachments.orElse(Collections.emptyList())\r\n\r\n\r\n**UPDATE** (based on input from comment, hat tip to Andreas)\r\n\r\nYou could also achieve this with a ternary, e.g.:\r\n\r\n    .withAttachments(attachments != null ? attachments : Collections.emptyList())","title":"Java Method Chaining Optionally based on arguments","body":"<p>I'm assuming you can't change the contract of <code>withAttachments</code> to ignore calls with null?  You could, upstream wrap attachments in an <code>Optional</code> and then provide an <code>orElse</code> with an empty, but not null, impl of whatever type <code>attachments</code> is, e.g. (assuming <code>attachments</code> is a <code>List</code>):</p>\n\n<pre><code>Optional&lt;...&gt; optionalAttachments = Optional.ofNullable(attachments);\n\n...\n\n.withAttachments(optionalAttachments.orElse(Collections.emptyList())\n</code></pre>\n\n<p><strong>UPDATE</strong> (based on input from comment, hat tip to Andreas)</p>\n\n<p>You could also achieve this with a ternary, e.g.:</p>\n\n<pre><code>.withAttachments(attachments != null ? attachments : Collections.emptyList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668786839,"creation_date":1668786839,"answer_id":74492221,"question_id":61469515,"body_markdown":"Here is the approach you can use if you can edit or extend the builder.\r\n\r\n    public class ChainBuilder {\r\n    \r\n      public ChainBuilder ifApplicable(\r\n        Supplier&lt;Boolean&gt; filter,\r\n        Consumer&lt;ChainBuilder&gt; extension) {\r\n        if (filter.get()) {\r\n          extension.accept(this);\r\n        }\r\n        return this;\r\n      }\r\n    \r\n      public ChainBuilder withAttribute1(String attribute1) {\r\n        //handle store attribute1;\r\n        return this;\r\n      }\r\n    \r\n      public ChainBuilder withAttribute2(String attribute2) {\r\n        //handle store attribute2;\r\n        return this;\r\n      }\r\n      \r\n      public SomeData build() {\r\n        return new SomeDate(); //with the optional attributes\r\n      }\r\n    }\r\n\r\nThe client code can chain the methods:\r\n\r\n    SomeData data = new ChainBuilder()\r\n          .withAttribute1(&quot;A&quot;)\r\n          .ifApplicable(() -&gt; false, builder -&gt; builder.withAttribute2(&quot;B&quot;))\r\n          .build();\r\n\r\nIt is just an illustration. If you have several conditions, it might make sense to inlcude this into the builder class. ","title":"Java Method Chaining Optionally based on arguments","body":"<p>Here is the approach you can use if you can edit or extend the builder.</p>\n<pre><code>public class ChainBuilder {\n\n  public ChainBuilder ifApplicable(\n    Supplier&lt;Boolean&gt; filter,\n    Consumer&lt;ChainBuilder&gt; extension) {\n    if (filter.get()) {\n      extension.accept(this);\n    }\n    return this;\n  }\n\n  public ChainBuilder withAttribute1(String attribute1) {\n    //handle store attribute1;\n    return this;\n  }\n\n  public ChainBuilder withAttribute2(String attribute2) {\n    //handle store attribute2;\n    return this;\n  }\n  \n  public SomeData build() {\n    return new SomeDate(); //with the optional attributes\n  }\n}\n</code></pre>\n<p>The client code can chain the methods:</p>\n<pre><code>SomeData data = new ChainBuilder()\n      .withAttribute1(&quot;A&quot;)\n      .ifApplicable(() -&gt; false, builder -&gt; builder.withAttribute2(&quot;B&quot;))\n      .build();\n</code></pre>\n<p>It is just an illustration. If you have several conditions, it might make sense to inlcude this into the builder class.</p>\n"}],"owner":{"account_id":30545,"reputation":940,"user_id":83321,"accept_rate":67,"display_name":"Jerry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61469667,"answer_count":3,"score":2,"last_activity_date":1668786839,"creation_date":1588026465,"question_id":61469515,"body_markdown":"If a 3rd party requests an argument ```attachments``` in a method, how may I avoid using an ```if``` and break method chaining, knowing that my argument may be null? The method has the following definition.\r\n\r\n    // import org.jetbrains.annotations.NotNull;\r\n    EmailBuilder withAttachments(@NotNull List&lt;Attachment&gt; attachments);\r\n\r\nI would prefer **NOT** using an if condition for .withAttachments, when attachments == null. I know that javascript has method?(), but what is appropriate for java8, or above? In the case where (attachments == null), I don&#39;t want to call ```.withAttachments()``` at all. But, I don&#39;t see syntax comparable to methodA?() like in javascript, or typescript.\r\n\r\n    return emailBuilder()\r\n      .withSubject(email.getSubject())\r\n      .withReplyTo(replyAddresses)\r\n      .withAttachments(attachments) // This is conditional...based on attachments\r\n      .withHeader(&quot;X-showheader&quot;, email.getShowHeader());\r\n      .build();\r\n\r\nWould I be required to do this?\r\n\r\n    EmailBuilder eb = emailBuilder()\r\n      .withSubject(email.getSubject())\r\n      .withReplyTo(replyAddresses);\r\n      if(attachments)\r\n        eb = eb.withAttachments(attachments); // This is conditional...based on attachments\r\n      eb = eb.withHeader(&quot;X-showheader&quot;, email.getHeader())\r\n      .build;\r\n    return eb;","title":"Java Method Chaining Optionally based on arguments","body":"<p>If a 3rd party requests an argument <code>attachments</code> in a method, how may I avoid using an <code>if</code> and break method chaining, knowing that my argument may be null? The method has the following definition.</p>\n\n<pre><code>// import org.jetbrains.annotations.NotNull;\nEmailBuilder withAttachments(@NotNull List&lt;Attachment&gt; attachments);\n</code></pre>\n\n<p>I would prefer <strong>NOT</strong> using an if condition for .withAttachments, when attachments == null. I know that javascript has method?(), but what is appropriate for java8, or above? In the case where (attachments == null), I don't want to call <code>.withAttachments()</code> at all. But, I don't see syntax comparable to methodA?() like in javascript, or typescript.</p>\n\n<pre><code>return emailBuilder()\n  .withSubject(email.getSubject())\n  .withReplyTo(replyAddresses)\n  .withAttachments(attachments) // This is conditional...based on attachments\n  .withHeader(\"X-showheader\", email.getShowHeader());\n  .build();\n</code></pre>\n\n<p>Would I be required to do this?</p>\n\n<pre><code>EmailBuilder eb = emailBuilder()\n  .withSubject(email.getSubject())\n  .withReplyTo(replyAddresses);\n  if(attachments)\n    eb = eb.withAttachments(attachments); // This is conditional...based on attachments\n  eb = eb.withHeader(\"X-showheader\", email.getHeader())\n  .build;\nreturn eb;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668790879,"post_id":74492148,"comment_id":131499773,"body_markdown":"I hate Spring&#39;s dynamic persistence units; I don&#39;t know the config well, but I suspect you haven&#39;t set it up so that the employee and address packages are not picked up in the same persistence unit. Try putting them in the same package, and verify with the tutorials how they have setup the persistence units and the Classes with in them - they usually do more than just mark a class with the @Entity annotation, giving it a way to limit the packages it scans for entities.","body":"I hate Spring&#39;s dynamic persistence units; I don&#39;t know the config well, but I suspect you haven&#39;t set it up so that the employee and address packages are not picked up in the same persistence unit. Try putting them in the same package, and verify with the tutorials how they have setup the persistence units and the Classes with in them - they usually do more than just mark a class with the @Entity annotation, giving it a way to limit the packages it scans for entities."},{"owner":{"account_id":19780517,"reputation":141,"user_id":14485623,"display_name":"kuriboh"},"score":0,"creation_date":1668792021,"post_id":74492148,"comment_id":131500167,"body_markdown":"Have you checked hibernate configuration, especially the mapping config?","body":"Have you checked hibernate configuration, especially the mapping config?"}],"owner":{"account_id":26073704,"reputation":1,"user_id":19772921,"display_name":"ha ha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668786752,"creation_date":1668786484,"question_id":74492148,"body_markdown":"I have 2 microservices on postgresql - Account and Employee. Where Account is dependent on Employee. \r\nI&#39;m stuck for a few days with this problem:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: @OneToOne or @ManyToOne on com.rszumlas.account.Account.employee references an unknown entity: com.rszumlas.employee.Employee\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat com.rszumlas.account.AccountApplication.main(AccountApplication.java:14) ~[classes/:na]\r\nCaused by: org.hibernate.AnnotationException: @OneToOne or @ManyToOne on com.rszumlas.account.Account.employee references an unknown entity: com.rszumlas.employee.Employee\r\n\tat org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:100) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1694) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 16 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n**Account entity:**\r\n\r\n```\r\npackage com.rszumlas.account;\r\n\r\nimport com.rszumlas.employee.Employee;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\nimport static javax.persistence.GenerationType.SEQUENCE;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity(name = &quot;Account&quot;)\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;account_sequence&quot;,\r\n            sequenceName = &quot;account_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = SEQUENCE,\r\n            generator = &quot;account_sequence&quot;\r\n    )\r\n    @Column(\r\n            name = &quot;id&quot;,\r\n            updatable = false\r\n    )\r\n    private Long id;\r\n\r\n    @Column(\r\n            name = &quot;email&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;TEXT&quot;\r\n    )\r\n    private String email;\r\n\r\n    @Column(\r\n            name = &quot;password&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;TEXT&quot;\r\n    )\r\n    private String password;\r\n\r\n    @OneToOne(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.EAGER\r\n    )\r\n    @JoinColumn(\r\n            name = &quot;employee_id&quot;,\r\n            referencedColumnName = &quot;id&quot;,\r\n            nullable = false,\r\n            foreignKey = @ForeignKey(\r\n                    name = &quot;account_employee_id_fk&quot;\r\n            )\r\n    )\r\n    private Employee employee;\r\n\r\n}\r\n\r\n```\r\n\r\n**Employee entity:**\r\n```\r\npackage com.rszumlas.employee;\r\n\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\nimport static javax.persistence.GenerationType.SEQUENCE;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity(name = &quot;Employee&quot;)\r\n@Table(name = &quot;employee&quot;)\r\npublic class Employee {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;order_type_sequence&quot;,\r\n            sequenceName = &quot;order_type_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = SEQUENCE,\r\n            generator = &quot;order_type_sequence&quot;\r\n    )\r\n    @Column(\r\n            name = &quot;id&quot;,\r\n            updatable = false\r\n    )\r\n    private Long id;\r\n\r\n    @Column(\r\n            name = &quot;first_name&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;TEXT&quot;\r\n    )\r\n    private String first_name;\r\n\r\n    @Column(\r\n            name = &quot;last_name&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;TEXT&quot;\r\n    )\r\n    private String last_name;\r\n\r\n    @Column(\r\n            name = &quot;eth&quot;,\r\n            nullable = false\r\n    )\r\n    private double eth;\r\n\r\n    @Column(\r\n            name = &quot;PESEL&quot;,\r\n            nullable = false\r\n    )\r\n    private int PESEL;\r\n\r\n}\r\n\r\n```\r\n\r\n**Parent pom.xml:**\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.rszumlas.ethanol&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ethanol&lt;/artifactId&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;vodka&lt;/module&gt;\r\n        &lt;module&gt;shelf&lt;/module&gt;\r\n        &lt;module&gt;employee&lt;/module&gt;\r\n        &lt;module&gt;account&lt;/module&gt;\r\n        &lt;module&gt;order&lt;/module&gt;\r\n        &lt;module&gt;order-accepted&lt;/module&gt;\r\n        &lt;module&gt;order-done&lt;/module&gt;\r\n        &lt;module&gt;order-handling-info&lt;/module&gt;\r\n        &lt;module&gt;clients&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    \r\n      &lt;name&gt;ethanol&lt;/name&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n          &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n          &lt;version&gt;42.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n          &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n          &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.13.2&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n          &lt;version&gt;3.29.2-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n    \r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n```\r\n\r\nThe same problem also occurs in any relations between other microservices.\r\nDon&#39;t really see any typo, just following some tutorial on Spring Data JPA.\r\n\r\n\r\nThought a missing employee table in postgresql database is a problem, but it isn&#39;t. I created it, and still it throws exception.","title":"org.hibernate.AnnotationException: @OneToOne or @ManyToOne references an unknown entity","body":"<p>I have 2 microservices on postgresql - Account and Employee. Where Account is dependent on Employee.\nI'm stuck for a few days with this problem:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: @OneToOne or @ManyToOne on com.rszumlas.account.Account.employee references an unknown entity: com.rszumlas.employee.Employee\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.rszumlas.account.AccountApplication.main(AccountApplication.java:14) ~[classes/:na]\nCaused by: org.hibernate.AnnotationException: @OneToOne or @ManyToOne on com.rszumlas.account.Account.employee references an unknown entity: com.rszumlas.employee.Employee\n    at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:100) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1694) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 16 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p><strong>Account entity:</strong></p>\n<pre><code>package com.rszumlas.account;\n\nimport com.rszumlas.employee.Employee;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\nimport static javax.persistence.GenerationType.SEQUENCE;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity(name = &quot;Account&quot;)\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;account_sequence&quot;,\n            sequenceName = &quot;account_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = SEQUENCE,\n            generator = &quot;account_sequence&quot;\n    )\n    @Column(\n            name = &quot;id&quot;,\n            updatable = false\n    )\n    private Long id;\n\n    @Column(\n            name = &quot;email&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String email;\n\n    @Column(\n            name = &quot;password&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String password;\n\n    @OneToOne(\n            cascade = CascadeType.ALL,\n            fetch = FetchType.EAGER\n    )\n    @JoinColumn(\n            name = &quot;employee_id&quot;,\n            referencedColumnName = &quot;id&quot;,\n            nullable = false,\n            foreignKey = @ForeignKey(\n                    name = &quot;account_employee_id_fk&quot;\n            )\n    )\n    private Employee employee;\n\n}\n\n</code></pre>\n<p><strong>Employee entity:</strong></p>\n<pre><code>package com.rszumlas.employee;\n\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\nimport static javax.persistence.GenerationType.SEQUENCE;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity(name = &quot;Employee&quot;)\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;order_type_sequence&quot;,\n            sequenceName = &quot;order_type_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = SEQUENCE,\n            generator = &quot;order_type_sequence&quot;\n    )\n    @Column(\n            name = &quot;id&quot;,\n            updatable = false\n    )\n    private Long id;\n\n    @Column(\n            name = &quot;first_name&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String first_name;\n\n    @Column(\n            name = &quot;last_name&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String last_name;\n\n    @Column(\n            name = &quot;eth&quot;,\n            nullable = false\n    )\n    private double eth;\n\n    @Column(\n            name = &quot;PESEL&quot;,\n            nullable = false\n    )\n    private int PESEL;\n\n}\n\n</code></pre>\n<p><strong>Parent pom.xml:</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    \n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n      &lt;groupId&gt;com.rszumlas.ethanol&lt;/groupId&gt;\n      &lt;artifactId&gt;ethanol&lt;/artifactId&gt;\n      &lt;packaging&gt;pom&lt;/packaging&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;modules&gt;\n        &lt;module&gt;vodka&lt;/module&gt;\n        &lt;module&gt;shelf&lt;/module&gt;\n        &lt;module&gt;employee&lt;/module&gt;\n        &lt;module&gt;account&lt;/module&gt;\n        &lt;module&gt;order&lt;/module&gt;\n        &lt;module&gt;order-accepted&lt;/module&gt;\n        &lt;module&gt;order-done&lt;/module&gt;\n        &lt;module&gt;order-handling-info&lt;/module&gt;\n        &lt;module&gt;clients&lt;/module&gt;\n      &lt;/modules&gt;\n    \n      &lt;name&gt;ethanol&lt;/name&gt;\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\n    \n      &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n      &lt;/properties&gt;\n    \n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n          &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n          &lt;version&gt;42.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n          &lt;optional&gt;true&lt;/optional&gt;\n          &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n          &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n          &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n          &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n          &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;4.13.2&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n          &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n          &lt;version&gt;3.29.2-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n          &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    \n      &lt;build&gt;\n    \n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n          &lt;plugins&gt;\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.22.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>The same problem also occurs in any relations between other microservices.\nDon't really see any typo, just following some tutorial on Spring Data JPA.</p>\n<p>Thought a missing employee table in postgresql database is a problem, but it isn't. I created it, and still it throws exception.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668786686,"creation_date":1668786686,"answer_id":74492194,"question_id":74491660,"body_markdown":"Add `cascade = CascadeType.ALL` to :\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    protected City city\r\n\r\nthis will solve your problem.","title":"I can not save entity (Spring Boot Application)","body":"<p>Add <code>cascade = CascadeType.ALL</code> to :</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\nprotected City city\n</code></pre>\n<p>this will solve your problem.</p>\n"}],"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668786686,"creation_date":1668783978,"question_id":74491660,"body_markdown":"    @Entity(name = &quot;cities&quot;)\r\n    public class City {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @Column(length = 256, unique = true, nullable = false)\r\n    private String name;\r\n\r\n    @Column(length = 4, nullable = false, unique = true)\r\n    private String code;\r\n\r\n    //    @OneToMany(mappedBy=&quot;city&quot;)\r\n    @OneToMany(cascade = CascadeType.ALL , orphanRemoval = true)\r\n    @JoinColumn(name = &quot;city_id&quot;)\r\n    private List&lt;ParkingFacility&gt; parkingFacilities = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy=&quot;city&quot;)\r\n    private List&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\r\n\r\n----------------------------------------------------------------------------------\r\n\r\n    @Entity(name = &quot;parking_facilities&quot;)\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public class ParkingFacility {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    protected Integer id;\r\n\r\n    @Column(length = 256, unique = true, nullable = false)\r\n    protected String name;\r\n\r\n\r\n    protected Integer capacity = 0;\r\n\r\n    @Column(name = &quot;available_capacity&quot;)\r\n    protected  Integer availableCapacity = 0;\r\n\r\n    //    @ManyToOne(cascade=CascadeType.ALL)\r\n    //    @JoinColumn(name=&quot;city_id&quot;, nullable=false)\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    protected City city;\r\n\r\n    @OneToMany(mappedBy=&quot;parkingFacility&quot;)\r\n    private List&lt;Vehicle&gt; vehicles;\r\n\r\n\r\n---------------------------------------------------------------------------------------\r\n\r\n\r\n    public class ParkingFacilityDto {\r\n\r\n    protected Integer id;\r\n    @NotBlank @Length(max = 256)\r\n    protected String name;\r\n    @Min(0)\r\n    protected Integer capacity;\r\n    @Min(0)\r\n    protected Integer availableCapacity;\r\n    @NotBlank @Length(max = 256)\r\n    protected String city;\r\n\r\n\r\n--------------------------------------------------------------------------------------------\r\n\r\n\r\n    public class ParkingFacilityMapper {\r\n\r\n    \r\n\r\n    public static ParkingFacility toFacility(ParkingFacilityDto facilityDto) {\r\n\r\n        return ParkingFacility.builder()\r\n                .name(facilityDto.getName())\r\n                .capacity(facilityDto.getCapacity())\r\n                .availableCapacity(facilityDto.getAvailableCapacity())\r\n                .city(new City(InputFormatter.formatCityName(facilityDto.getCity())))\r\n                .build();\r\n\r\n    }\r\n}\r\n\r\n\r\nI am trying to save a Parking Facility for a given city, but I get this error:\r\n\r\n    org.hibernate.TransientPropertyValueException: object references an unsaved transient \r\n    instance - save the transient instance before flushing : \r\n    com.goosfraba.city_parking.parking_facilities.model.ParkingFacility.city -&gt; \r\n    com.goosfraba.city_parking.cities.model.City; nested exception is \r\n    java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object \r\n    references an unsaved transient instance - save the transient instance before flushing : \r\n    com.goosfraba.city_parking.parking_facilities.model.ParkingFacility.city -&gt; com.goosfraba.city_parking.cities.model.City&quot;,\r\n\r\n\r\nI have seen many people recommending to use CascadeType.All on similar questions asked on StackOverflow, but as you can see I am already using it, and still get this error.\r\n\r\nPlease help me as I do not know what to from here\r\n","title":"I can not save entity (Spring Boot Application)","body":"<pre><code>@Entity(name = &quot;cities&quot;)\npublic class City {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Integer id;\n\n@Column(length = 256, unique = true, nullable = false)\nprivate String name;\n\n@Column(length = 4, nullable = false, unique = true)\nprivate String code;\n\n//    @OneToMany(mappedBy=&quot;city&quot;)\n@OneToMany(cascade = CascadeType.ALL , orphanRemoval = true)\n@JoinColumn(name = &quot;city_id&quot;)\nprivate List&lt;ParkingFacility&gt; parkingFacilities = new ArrayList&lt;&gt;();\n\n@OneToMany(mappedBy=&quot;city&quot;)\nprivate List&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\n</code></pre>\n<hr />\n<pre><code>@Entity(name = &quot;parking_facilities&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class ParkingFacility {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprotected Integer id;\n\n@Column(length = 256, unique = true, nullable = false)\nprotected String name;\n\n\nprotected Integer capacity = 0;\n\n@Column(name = &quot;available_capacity&quot;)\nprotected  Integer availableCapacity = 0;\n\n//    @ManyToOne(cascade=CascadeType.ALL)\n//    @JoinColumn(name=&quot;city_id&quot;, nullable=false)\n@ManyToOne(fetch = FetchType.EAGER)\nprotected City city;\n\n@OneToMany(mappedBy=&quot;parkingFacility&quot;)\nprivate List&lt;Vehicle&gt; vehicles;\n</code></pre>\n<hr />\n<pre><code>public class ParkingFacilityDto {\n\nprotected Integer id;\n@NotBlank @Length(max = 256)\nprotected String name;\n@Min(0)\nprotected Integer capacity;\n@Min(0)\nprotected Integer availableCapacity;\n@NotBlank @Length(max = 256)\nprotected String city;\n</code></pre>\n<hr />\n<pre><code>public class ParkingFacilityMapper {\n\n\n\npublic static ParkingFacility toFacility(ParkingFacilityDto facilityDto) {\n\n    return ParkingFacility.builder()\n            .name(facilityDto.getName())\n            .capacity(facilityDto.getCapacity())\n            .availableCapacity(facilityDto.getAvailableCapacity())\n            .city(new City(InputFormatter.formatCityName(facilityDto.getCity())))\n            .build();\n\n}\n</code></pre>\n<p>}</p>\n<p>I am trying to save a Parking Facility for a given city, but I get this error:</p>\n<pre><code>org.hibernate.TransientPropertyValueException: object references an unsaved transient \ninstance - save the transient instance before flushing : \ncom.goosfraba.city_parking.parking_facilities.model.ParkingFacility.city -&gt; \ncom.goosfraba.city_parking.cities.model.City; nested exception is \njava.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object \nreferences an unsaved transient instance - save the transient instance before flushing : \ncom.goosfraba.city_parking.parking_facilities.model.ParkingFacility.city -&gt; com.goosfraba.city_parking.cities.model.City&quot;,\n</code></pre>\n<p>I have seen many people recommending to use CascadeType.All on similar questions asked on StackOverflow, but as you can see I am already using it, and still get this error.</p>\n<p>Please help me as I do not know what to from here</p>\n"},{"tags":["java","xml","streamwriter","xstream"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1668791303,"post_id":74492181,"comment_id":131499903,"body_markdown":"You might have a look at https://stackoverflow.com/questions/8943000/format-xml-generated-by-xstream","body":"You might have a look at <a href=\"https://stackoverflow.com/questions/8943000/format-xml-generated-by-xstream\" title=\"format xml generated by xstream\">stackoverflow.com/questions/8943000/&hellip;</a>"},{"owner":{"account_id":21751347,"reputation":1,"user_id":16057277,"display_name":"Jochen"},"score":0,"creation_date":1669021767,"post_id":74492181,"comment_id":131539483,"body_markdown":"Unfortunately, this does not help me.","body":"Unfortunately, this does not help me."}],"owner":{"account_id":21751347,"reputation":1,"user_id":16057277,"display_name":"Jochen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668786606,"creation_date":1668786606,"question_id":74492181,"body_markdown":"I could use some help to get a better XML output. I hope to find a solution here! Couldn&#39;t find any solution for this.\r\n\r\nThat is my current output:\r\n\r\n```\r\n&lt;java.util.Arrays_-ArrayList&gt;\r\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;123&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;abc&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;some text&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[Lorem ipsum dolor sit amet\r\nconsectetur adipisici elit\r\nsed eiusmod tempor incidunt ut labore et dolore magna aliqua\r\n]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n  &lt;/a&gt;\r\n&lt;/java.util.Arrays_-ArrayList&gt;\r\n```\r\n\r\nBut I need one of the following one:\r\n\r\nMinimal solution:\r\n\r\n```\r\n&lt;java.util.Arrays_-ArrayList&gt;\r\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;123&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;abc&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;some text&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[Lorem ipsum dolor sit amet\r\n        consectetur adipisici elit\r\n        sed eiusmod tempor incidunt ut labore et dolore magna aliqua\r\n        ]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n  &lt;/a&gt;\r\n&lt;/java.util.Arrays_-ArrayList&gt;\r\n```\r\n\r\nBest solution:\r\n\r\n```\r\n&lt;java.util.Arrays_-ArrayList&gt;\r\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;123&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;abc&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;some text&lt;/normalText&gt;\r\n      &lt;cdataText&gt;\r\n        &lt;![CDATA[\r\n        Lorem ipsum dolor sit amet\r\n        consectetur adipisici elit\r\n        sed eiusmod tempor incidunt ut labore et dolore magna aliqua\r\n        ]]&gt;\r\n      &lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n  &lt;/a&gt;\r\n&lt;/java.util.Arrays_-ArrayList&gt;\r\n```\r\n\r\n---\r\n\r\nI run this code:\r\n\r\n```\r\nXStream xStream = new XStream(cdataXppDriver);\r\nString xml = xStream.toXML(model);\r\n```\r\n\r\nFollowing my code for the driver:\r\n\r\n```\r\npublic class CdataXppDriver extends XppDriver\r\n{\r\n\r\n    /** The list that contains the field names that would contain a CDATA in the xml. */\r\n    private final List&lt;String&gt; CDATA_FIELDS;\r\n\r\n    public CdataXppDriver(List&lt;String&gt; cdataFields)\r\n    {\r\n        super();\r\n        CDATA_FIELDS = new ArrayList&lt;&gt;();\r\n\r\n        if (cdataFields != null)\r\n        {\r\n            for (String cdataField : cdataFields)\r\n            {\r\n                CDATA_FIELDS.add(cdataField);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public HierarchicalStreamWriter createWriter(Writer out)\r\n    {\r\n        return new PrettyPrintWriter(out, getNameCoder())\r\n        {\r\n            boolean cdata = false;\r\n\r\n            @Override\r\n            public void startNode(String name)\r\n            {\r\n                super.startNode(name);\r\n                cdata = CDATA_FIELDS.contains(name);\r\n            }\r\n\r\n            @Override\r\n            protected void writeText(QuickWriter writer, String text)\r\n            {\r\n                if (cdata)\r\n                {\r\n                    writer.write(&quot;&lt;![CDATA[&quot;);\r\n                    writer.write(text);\r\n                    writer.write(&quot;]]&gt;&quot;);\r\n                }\r\n                else\r\n                {\r\n                    super.writeText(writer, text);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI need more text to post this question, but I don&#39;t know which informations might be missing:","title":"XStream - data within a tag should be indented identically","body":"<p>I could use some help to get a better XML output. I hope to find a solution here! Couldn't find any solution for this.</p>\n<p>That is my current output:</p>\n<pre><code>&lt;java.util.Arrays_-ArrayList&gt;\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;123&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;abc&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;some text&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[Lorem ipsum dolor sit amet\nconsectetur adipisici elit\nsed eiusmod tempor incidunt ut labore et dolore magna aliqua\n]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n  &lt;/a&gt;\n&lt;/java.util.Arrays_-ArrayList&gt;\n</code></pre>\n<p>But I need one of the following one:</p>\n<p>Minimal solution:</p>\n<pre><code>&lt;java.util.Arrays_-ArrayList&gt;\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;123&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;abc&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;some text&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[Lorem ipsum dolor sit amet\n        consectetur adipisici elit\n        sed eiusmod tempor incidunt ut labore et dolore magna aliqua\n        ]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n  &lt;/a&gt;\n&lt;/java.util.Arrays_-ArrayList&gt;\n</code></pre>\n<p>Best solution:</p>\n<pre><code>&lt;java.util.Arrays_-ArrayList&gt;\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;123&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;abc&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;some text&lt;/normalText&gt;\n      &lt;cdataText&gt;\n        &lt;![CDATA[\n        Lorem ipsum dolor sit amet\n        consectetur adipisici elit\n        sed eiusmod tempor incidunt ut labore et dolore magna aliqua\n        ]]&gt;\n      &lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n  &lt;/a&gt;\n&lt;/java.util.Arrays_-ArrayList&gt;\n</code></pre>\n<hr />\n<p>I run this code:</p>\n<pre><code>XStream xStream = new XStream(cdataXppDriver);\nString xml = xStream.toXML(model);\n</code></pre>\n<p>Following my code for the driver:</p>\n<pre><code>public class CdataXppDriver extends XppDriver\n{\n\n    /** The list that contains the field names that would contain a CDATA in the xml. */\n    private final List&lt;String&gt; CDATA_FIELDS;\n\n    public CdataXppDriver(List&lt;String&gt; cdataFields)\n    {\n        super();\n        CDATA_FIELDS = new ArrayList&lt;&gt;();\n\n        if (cdataFields != null)\n        {\n            for (String cdataField : cdataFields)\n            {\n                CDATA_FIELDS.add(cdataField);\n            }\n        }\n    }\n\n    @Override\n    public HierarchicalStreamWriter createWriter(Writer out)\n    {\n        return new PrettyPrintWriter(out, getNameCoder())\n        {\n            boolean cdata = false;\n\n            @Override\n            public void startNode(String name)\n            {\n                super.startNode(name);\n                cdata = CDATA_FIELDS.contains(name);\n            }\n\n            @Override\n            protected void writeText(QuickWriter writer, String text)\n            {\n                if (cdata)\n                {\n                    writer.write(&quot;&lt;![CDATA[&quot;);\n                    writer.write(text);\n                    writer.write(&quot;]]&gt;&quot;);\n                }\n                else\n                {\n                    super.writeText(writer, text);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>I need more text to post this question, but I don't know which informations might be missing:</p>\n"},{"tags":["java","android","launcher"],"comments":[{"owner":{"account_id":1104091,"reputation":3026,"user_id":1095875,"accept_rate":67,"display_name":"HardCoder"},"score":3,"creation_date":1335502722,"post_id":10344824,"comment_id":13325363,"body_markdown":"Doesn&#39;t that only give the package name of the current app ?","body":"Doesn&#39;t that only give the package name of the current app ?"}],"answers":[{"tags":[],"owner":{"account_id":252759,"reputation":19874,"user_id":531021,"display_name":"JesusFreke"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1335502940,"creation_date":1335502940,"answer_id":10344985,"question_id":10344824,"body_markdown":"I think you should be able to use [PackageManager.resolveActivity()][1], with the home intent.\r\n\r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    intent.addCategory(Intent.CATEGORY_HOME);\r\n    ResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n    String currentHomePackage = resolveInfo.activityInfo.packageName;\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/pm/PackageManager.html#resolveActivity%28android.content.Intent,%20int%29","title":"How can I get the package name of the current launcher in android 2.3 and above?","body":"<p>I think you should be able to use <a href=\"http://developer.android.com/reference/android/content/pm/PackageManager.html#resolveActivity%28android.content.Intent,%20int%29\">PackageManager.resolveActivity()</a>, with the home intent.</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_HOME);\nResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\nString currentHomePackage = resolveInfo.activityInfo.packageName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":252146,"reputation":4740,"user_id":529977,"accept_rate":62,"display_name":"childno͡.de"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1553573760,"creation_date":1553573760,"answer_id":55349760,"question_id":10344824,"body_markdown":"in general, [I agree to @JesusFreke][1] using the PM resolveActivity\r\n\r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    intent.addCategory(Intent.CATEGORY_HOME);\r\n    ResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n\r\nbut to get the right package name, you should use\r\n\r\n    resolveInfo.loadLabel(packageManager).toString()\r\n\r\nor\r\n\r\n    resolveInfo.activityInfo.applicationInfo.loadLabel(packageManager).toString()\r\n\r\n\r\n----------\r\n\r\nHint:\r\nif there is no default set, this might become &quot;Android System&quot; or &quot;open&quot; as for the general System Intent Receiver\r\n\r\nHint:\r\nif you&#39;re looking for web browsers, you might use `net.openid.appauth.browser.BrowserSelector#select()` ([0.7.1+][2]) to implicit get the default browser even there is no one explicit set.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10344985/529977\r\n  [2]: https://github.com/openid/AppAuth-Android/blob/0.7.1/library/java/net/openid/appauth/browser/BrowserSelector.java#L151","title":"How can I get the package name of the current launcher in android 2.3 and above?","body":"<p>in general, <a href=\"https://stackoverflow.com/a/10344985/529977\">I agree to @JesusFreke</a> using the PM resolveActivity</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_HOME);\nResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\n</code></pre>\n\n<p>but to get the right package name, you should use</p>\n\n<pre><code>resolveInfo.loadLabel(packageManager).toString()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>resolveInfo.activityInfo.applicationInfo.loadLabel(packageManager).toString()\n</code></pre>\n\n<hr>\n\n<p>Hint:\nif there is no default set, this might become \"Android System\" or \"open\" as for the general System Intent Receiver</p>\n\n<p>Hint:\nif you're looking for web browsers, you might use <code>net.openid.appauth.browser.BrowserSelector#select()</code> (<a href=\"https://github.com/openid/AppAuth-Android/blob/0.7.1/library/java/net/openid/appauth/browser/BrowserSelector.java#L151\" rel=\"nofollow noreferrer\">0.7.1+</a>) to implicit get the default browser even there is no one explicit set.</p>\n"},{"tags":[],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668786413,"creation_date":1635793034,"answer_id":69801531,"question_id":10344824,"body_markdown":"With the [package visibility changes][1] introduced in Android 11, it is now necessary to add a [queries][2] element in your application&#39;s manifest file as below before you can query the [PackageManager.resolveActivity(intent:flags:)][3] method for the default home (a.k.a. launcher) activity that is installed on the device:\r\n\r\n```lang-xml\r\n&lt;queries&gt;\r\n    &lt;intent&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\r\n    &lt;/intent&gt;\r\n&lt;/queries&gt;\r\n```\r\n\r\nIf this [queries](https://developer.android.com/guide/topics/manifest/queries-element) element is omitted from your application&#39;s manifest, then the device will report the `com.android.settings.FallbackHome` activity as its default home activity and that is most likely not what you want.\r\n\r\nFor guidance on how to query the [PackageManager.resolveActivity(intent:flags:)][3] method, see the [accepted answer][4] in this thread.\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/package-visibility\r\n  [2]: https://developer.android.com/guide/topics/manifest/queries-element\r\n  [3]: https://developer.android.com/reference/android/content/pm/PackageManager#resolveActivity(android.content.Intent,%20int)\r\n  [4]: https://stackoverflow.com/a/10344985/1071320","title":"How can I get the package name of the current launcher in android 2.3 and above?","body":"<p>With the <a href=\"https://developer.android.com/about/versions/11/privacy/package-visibility\" rel=\"nofollow noreferrer\">package visibility changes</a> introduced in Android 11, it is now necessary to add a <a href=\"https://developer.android.com/guide/topics/manifest/queries-element\" rel=\"nofollow noreferrer\">queries</a> element in your application's manifest file as below before you can query the <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#resolveActivity(android.content.Intent,%20int)\" rel=\"nofollow noreferrer\">PackageManager.resolveActivity(intent:flags:)</a> method for the default home (a.k.a. launcher) activity that is installed on the device:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>If this <a href=\"https://developer.android.com/guide/topics/manifest/queries-element\" rel=\"nofollow noreferrer\">queries</a> element is omitted from your application's manifest, then the device will report the <code>com.android.settings.FallbackHome</code> activity as its default home activity and that is most likely not what you want.</p>\n<p>For guidance on how to query the <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#resolveActivity(android.content.Intent,%20int)\" rel=\"nofollow noreferrer\">PackageManager.resolveActivity(intent:flags:)</a> method, see the <a href=\"https://stackoverflow.com/a/10344985/1071320\">accepted answer</a> in this thread.</p>\n"}],"owner":{"account_id":1104091,"reputation":3026,"user_id":1095875,"accept_rate":67,"display_name":"HardCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19417,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":10344985,"answer_count":3,"score":31,"last_activity_date":1668786413,"creation_date":1335501753,"question_id":10344824,"body_markdown":"How can I get the package name of the current launcher in android 2.3 and above programmatically in Java ?","title":"How can I get the package name of the current launcher in android 2.3 and above?","body":"<p>How can I get the package name of the current launcher in android 2.3 and above programmatically in Java ?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1432890279,"post_id":30525437,"comment_id":49124527,"body_markdown":"Try a flush after writing.","body":"Try a flush after writing."},{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":2,"creation_date":1432890345,"post_id":30525437,"comment_id":49124570,"body_markdown":"try to flush the writer. By default it print the result the value only the buffer is full or writer is closed.","body":"try to flush the writer. By default it print the result the value only the buffer is full or writer is closed."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1432891348,"post_id":30525437,"comment_id":49125192,"body_markdown":"Side note: consider to use the NIO.2 File API (introduced in Java SE 7) instead of FileWriter.","body":"Side note: consider to use the NIO.2 File API (introduced in Java SE 7) instead of FileWriter."}],"answers":[{"tags":[],"owner":{"account_id":1203727,"reputation":3545,"user_id":1173884,"display_name":"Jindra Helcl"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1432890279,"creation_date":1432890279,"answer_id":30525502,"question_id":30525437,"body_markdown":"You must close the `FileWriter`, otherwise it won&#39;t flush the current buffer. You can call the `flush` method directly..\r\n\r\n    fileWriter.flush()\r\n    fileWriter.close()\r\n\r\nYou don&#39;t need to use the `flush` method if you are closing the file. The `flush` can be used for example if your program runs for a while and outputs something in a file and you want to check it elsewhere.","title":"FileWriter is not writing into a file","body":"<p>You must close the <code>FileWriter</code>, otherwise it won't flush the current buffer. You can call the <code>flush</code> method directly..</p>\n\n<pre><code>fileWriter.flush()\nfileWriter.close()\n</code></pre>\n\n<p>You don't need to use the <code>flush</code> method if you are closing the file. The <code>flush</code> can be used for example if your program runs for a while and outputs something in a file and you want to check it elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":1602362,"reputation":391,"user_id":1483182,"display_name":"romfret"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432890293,"creation_date":1432890293,"answer_id":30525507,"question_id":30525437,"body_markdown":"Please try this :\r\n\r\n      try\r\n        {\r\n            FileWriter fileWriter = new FileWriter(&quot;C:\\\\temp\\\\test.txt&quot;);\r\n            fileWriter.write(&quot;Hi this is sasi This test writing&quot;);\r\n            fileWriter.append(&quot;test&quot;);\r\n            fileWriter.flush(); // empty buffer in the file\r\n            fileWriter.close(); // close the file to allow opening by others applications\r\n        }\r\n        catch(IOException ioException)\r\n        {\r\n            ioException.printStackTrace();\r\n        }\r\n\r\n","title":"FileWriter is not writing into a file","body":"<p>Please try this :</p>\n\n<pre><code>  try\n    {\n        FileWriter fileWriter = new FileWriter(\"C:\\\\temp\\\\test.txt\");\n        fileWriter.write(\"Hi this is sasi This test writing\");\n        fileWriter.append(\"test\");\n        fileWriter.flush(); // empty buffer in the file\n        fileWriter.close(); // close the file to allow opening by others applications\n    }\n    catch(IOException ioException)\n    {\n        ioException.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1432890307,"creation_date":1432890307,"answer_id":30525510,"question_id":30525437,"body_markdown":"You need to close the `filewriter` else the current buffer will not flush and will not allow you to write to the file.\r\n\r\n    fileWriter.flush(); //just makes sure that any buffered data is written to disk\r\n    fileWriter.close(); //flushes the data and indicates that there isn&#39;t any more data.\r\n\r\nFrom  the Javadoc\r\n\r\n&gt; Close the stream, flushing it first. Once a stream has been closed,\r\n&gt; further write() or flush() invocations will cause an IOException to be\r\n&gt; thrown. Closing a previously-closed stream, however, has no effect.","title":"FileWriter is not writing into a file","body":"<p>You need to close the <code>filewriter</code> else the current buffer will not flush and will not allow you to write to the file.</p>\n\n<pre><code>fileWriter.flush(); //just makes sure that any buffered data is written to disk\nfileWriter.close(); //flushes the data and indicates that there isn't any more data.\n</code></pre>\n\n<p>From  the Javadoc</p>\n\n<blockquote>\n  <p>Close the stream, flushing it first. Once a stream has been closed,\n  further write() or flush() invocations will cause an IOException to be\n  thrown. Closing a previously-closed stream, however, has no effect.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432890427,"creation_date":1432890427,"answer_id":30525545,"question_id":30525437,"body_markdown":"Try this:\r\n\r\n    import java.io.*;\r\n    \r\n    public class Hey\r\n    \r\n    {\r\n    \tpublic static void main(String ar[])throws IOException\r\n    \t{\r\n    \t\t\r\n          \t\tFile file = new File(&quot;c://temp//Hello1.txt&quot;);\r\n          \t\t// creates the file\r\n          \t\tfile.createNewFile();\r\n          \t\t// creates a FileWriter Object\r\n          \t\tFileWriter writer = new FileWriter(file); \r\n          \t\t// Writes the content to the file\r\n          \t\twriter.write(&quot;This\\n is\\n an\\n example\\n&quot;); \r\n          \t\twriter.flush();\r\n          \t\twriter.close();\r\n    \t}\r\n    }","title":"FileWriter is not writing into a file","body":"<p>Try this:</p>\n\n<pre><code>import java.io.*;\n\npublic class Hey\n\n{\n    public static void main(String ar[])throws IOException\n    {\n\n            File file = new File(\"c://temp//Hello1.txt\");\n            // creates the file\n            file.createNewFile();\n            // creates a FileWriter Object\n            FileWriter writer = new FileWriter(file); \n            // Writes the content to the file\n            writer.write(\"This\\n is\\n an\\n example\\n\"); \n            writer.flush();\n            writer.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432890594,"creation_date":1432890594,"answer_id":30525596,"question_id":30525437,"body_markdown":"Closing was missing. Hence not the last buffered data was not written to disk.\r\n\r\nClosing also happens with try-with-resources. Even when an exception would be thrown. Also a `flush` before `close` is not needed, as a close flushes all buffered data to file.\r\n\r\n    try (FileWriter fileWriter = new FileWriter(&quot;C:\\\\temp\\\\test.txt&quot;))\r\n    {\r\n        fileWriter.write(&quot;Hi this is sasi This test writing&quot;);\r\n        fileWriter.append(&quot;test&quot;);\r\n    }\r\n    catch (IOException ioException)\r\n    {\r\n        ioException.printStackTrace();\r\n    }\r\n","title":"FileWriter is not writing into a file","body":"<p>Closing was missing. Hence not the last buffered data was not written to disk.</p>\n\n<p>Closing also happens with try-with-resources. Even when an exception would be thrown. Also a <code>flush</code> before <code>close</code> is not needed, as a close flushes all buffered data to file.</p>\n\n<pre><code>try (FileWriter fileWriter = new FileWriter(\"C:\\\\temp\\\\test.txt\"))\n{\n    fileWriter.write(\"Hi this is sasi This test writing\");\n    fileWriter.append(\"test\");\n}\ncatch (IOException ioException)\n{\n    ioException.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":302854,"reputation":4422,"user_id":611446,"accept_rate":82,"display_name":"Sasikumar Murugesan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33932,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"closed_date":1690697405,"accepted_answer_id":30525502,"answer_count":5,"score":6,"last_activity_date":1668786176,"creation_date":1432890093,"question_id":30525437,"body_markdown":"I have below code\r\n\r\n    try\r\n\t{\r\n\t\tFileWriter fileWriter = new FileWriter(&quot;C:\\\\temp\\\\test.txt&quot;);\r\n\t\tfileWriter.write(&quot;Hi this is sasi This test writing&quot;);\r\n\t\tfileWriter.append(&quot;test&quot;);\r\n\t}\r\n\tcatch(IOException ioException)\r\n\t{\r\n\t\tioException.printStackTrace();\r\n\t}\r\n\r\nAfter executing it, the file is created successfully, but the created file is empty.\r\n\r\nWhat is wrong with the code?","title":"FileWriter is not writing into a file","body":"<p>I have below code</p>\n<pre><code>try\n{\n    FileWriter fileWriter = new FileWriter(&quot;C:\\\\temp\\\\test.txt&quot;);\n    fileWriter.write(&quot;Hi this is sasi This test writing&quot;);\n    fileWriter.append(&quot;test&quot;);\n}\ncatch(IOException ioException)\n{\n    ioException.printStackTrace();\n}\n</code></pre>\n<p>After executing it, the file is created successfully, but the created file is empty.</p>\n<p>What is wrong with the code?</p>\n"},{"tags":["java","linked-list","priority-queue"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1668783759,"post_id":74491538,"comment_id":131497178,"body_markdown":"Why do you sort using a priority queue in the first place? Why not use `Collections.sort` or `.stream().sorted(comparator).toList()`?","body":"Why do you sort using a priority queue in the first place? Why not use <code>Collections.sort</code> or <code>.stream().sorted(comparator).toList()</code>?"},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1668784047,"post_id":74491538,"comment_id":131497286,"body_markdown":"Are you trying to sort all `Integer` values across all `LinkedList`s?","body":"Are you trying to sort all <code>Integer</code> values across all <code>LinkedList</code>s?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668784162,"post_id":74491538,"comment_id":131497324,"body_markdown":"@Savior yes I&#39;m trying to sort them","body":"@Savior yes I&#39;m trying to sort them"},{"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"score":0,"creation_date":1668784180,"post_id":74491538,"comment_id":131497335,"body_markdown":"Hello , You are passing array of LinkedList to the method, so what exactly you want? Just to sort all elements in LinkedList array then whatever @marstran had suggested is clear.","body":"Hello , You are passing array of LinkedList to the method, so what exactly you want? Just to sort all elements in LinkedList array then whatever @marstran had suggested is clear."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1668784517,"post_id":74491538,"comment_id":131497435,"body_markdown":"What do you think `p.add(x);` does in relation to that kind of sorting?","body":"What do you think <code>p.add(x);</code> does in relation to that kind of sorting?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668784603,"post_id":74491538,"comment_id":131497475,"body_markdown":"@Savior From my understanding of priorityqueues, upon adding x (the linked list) to the queue using p.add(x), it will be sorted already since its a prioriyqueue. Is my understanding right?","body":"@Savior From my understanding of priorityqueues, upon adding x (the linked list) to the queue using p.add(x), it will be sorted already since its a prioriyqueue. Is my understanding right?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668784680,"post_id":74491538,"comment_id":131497505,"body_markdown":"@marstran I need the running time to be as low as possible, which is why I used a priority queue. I need the running time to be O(N logk), where N is the sum of the list lengths and k = lists.length","body":"@marstran I need the running time to be as low as possible, which is why I used a priority queue. I need the running time to be O(N logk), where N is the sum of the list lengths and k = lists.length"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668784804,"post_id":74491538,"comment_id":131497549,"body_markdown":"@Droid But a priority queue will most likely be slower than just sorting the list in the usual way...","body":"@Droid But a priority queue will most likely be slower than just sorting the list in the usual way..."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668784874,"post_id":74491538,"comment_id":131497561,"body_markdown":"@marstran isn&#39;t collections.sort running time O(nlogn)?","body":"@marstran isn&#39;t collections.sort running time O(nlogn)?"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668785164,"post_id":74491538,"comment_id":131497670,"body_markdown":"Yes, but that is the complexity of `Collections.sort` as well. What the big O doesn&#39;t recognize, is that you need to loop through all the elements twice to convert back and forth from the LinkedList as well. So that is an overhead you don&#39;t get with `Collections.sort`.","body":"Yes, but that is the complexity of <code>Collections.sort</code> as well. What the big O doesn&#39;t recognize, is that you need to loop through all the elements twice to convert back and forth from the LinkedList as well. So that is an overhead you don&#39;t get with <code>Collections.sort</code>."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1668785262,"post_id":74491538,"comment_id":131497708,"body_markdown":"You changed your comment while I was writing my previous comment. Doing `priorityQueue.add(x)` for every element is also `O(nlogn)`, as `add` is `O(log n)`","body":"You changed your comment while I was writing my previous comment. Doing <code>priorityQueue.add(x)</code> for every element is also <code>O(nlogn)</code>, as <code>add</code> is <code>O(log n)</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1668785576,"post_id":74491538,"comment_id":131497818,"body_markdown":"@marstran Can you say the compexity of Collections.sort when you don&#39;t know the list implementation? Isn&#39;t lookup of a LinkedList slow, eg. ArrayList .get is O(1) but LinkedList is O(N) so changing to a new data type could improve the code?","body":"@marstran Can you say the compexity of Collections.sort when you don&#39;t know the list implementation? Isn&#39;t lookup of a LinkedList slow, eg. ArrayList .get is O(1) but LinkedList is O(N) so changing to a new data type could improve the code?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1668785809,"post_id":74491538,"comment_id":131497900,"body_markdown":"Shouldn&#39;t your priority queue just be `PriorityQueue&lt;Integer&gt;` isn&#39;t that where you want to sort the `Integer`s","body":"Shouldn&#39;t your priority queue just be <code>PriorityQueue&lt;Integer&gt;</code> isn&#39;t that where you want to sort the <code>Integer</code>s"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668785954,"post_id":74491538,"comment_id":131497957,"body_markdown":"@matt I tried to do PriorityQueue&lt;Integer&gt; but then I couldn&#39;t do the add() method","body":"@matt I tried to do PriorityQueue&lt;Integer&gt; but then I couldn&#39;t do the add() method"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668785981,"post_id":74491538,"comment_id":131497962,"body_markdown":"@matt sorry just saw ur answer","body":"@matt sorry just saw ur answer"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668786585,"post_id":74491538,"comment_id":131498182,"body_markdown":"@matt I implicitly meant `Collections.sort` with a linked list. Should have specified it.","body":"@matt I implicitly meant <code>Collections.sort</code> with a linked list. Should have specified it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1668864660,"post_id":74491538,"comment_id":131512252,"body_markdown":"@marstran I check, Collections.sort just delgates to List.sort, which for a LinkedList uses the default implementation. The default implementation creates a Object[] and then uses Arrays.sort. So ArrayList, LinkedList would have the same behaviour.","body":"@marstran I check, Collections.sort just delgates to List.sort, which for a LinkedList uses the default implementation. The default implementation creates a Object[] and then uses Arrays.sort. So ArrayList, LinkedList would have the same behaviour."}],"answers":[{"tags":[],"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785774,"creation_date":1668785233,"answer_id":74491891,"question_id":74491538,"body_markdown":"Try below answer.\r\nTo sort your LinkedList you don&#39;t need to use PriorityQueue. \r\nIt will simply possible with sorted() method of stream API can help you.\r\n\r\n[Collection.sort][1]\r\n\r\nAs you are using Array of LinkedList , java 8 stream API providing [**`flatMap`**][2] function mapper, which will flat multiple list and then simply applying sorting.\r\n\r\nThis will help you.\r\n\r\n    public class MultiMergeWay {\r\n        public static void main(String[] args) {\r\n            LinkedList&lt;Integer&gt; array_list = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{100, 500, 80}));\r\n            LinkedList&lt;Integer&gt; array_list1 = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{200, 600, 90}));\r\n            LinkedList&lt;Integer&gt; array_list2 = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{1200, 700, 80}));\r\n            mergeAll(new LinkedList[]{array_list, array_list1, array_list2});\r\n        }\r\n    \r\n        public static LinkedList&lt;Integer&gt; mergeAll(LinkedList&lt;Integer&gt;[] array) {\r\n            System.out.println(&quot;Before ==&gt;&quot; + array[0] + &quot; &quot; + array[1] + &quot;&quot; + array[2]);\r\n            var result = Stream.of(array).flatMap(Collection::stream).sorted().collect(Collectors.toList());\r\n            System.out.println(&quot;After ==&gt;&quot; + result);\r\n            return new LinkedList&lt;&gt;(result);\r\n        }\r\n    \r\n    }\r\n\r\n## Output ##\r\nBefore ==&gt;[100, 500, 80] [200, 600, 90][1200, 700, 80]\r\n\r\nAfter ==&gt;[80, 80, 90, 100, 200, 500, 600, 700, 1200]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/collections-sort-java-examples/\r\n  [2]: https://www.geeksforgeeks.org/stream-flatmap-java-examples/\r\n  [3]: https://i.stack.imgur.com/R5gQ6.png","title":"is it possible to covert my priorityqueue back to a LinkedList&lt;Integer&gt;?","body":"<p>Try below answer.\nTo sort your LinkedList you don't need to use PriorityQueue.\nIt will simply possible with sorted() method of stream API can help you.</p>\n<p><a href=\"https://www.geeksforgeeks.org/collections-sort-java-examples/\" rel=\"nofollow noreferrer\">Collection.sort</a></p>\n<p>As you are using Array of LinkedList , java 8 stream API providing <a href=\"https://www.geeksforgeeks.org/stream-flatmap-java-examples/\" rel=\"nofollow noreferrer\"><strong><code>flatMap</code></strong></a> function mapper, which will flat multiple list and then simply applying sorting.</p>\n<p>This will help you.</p>\n<pre><code>public class MultiMergeWay {\n    public static void main(String[] args) {\n        LinkedList&lt;Integer&gt; array_list = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{100, 500, 80}));\n        LinkedList&lt;Integer&gt; array_list1 = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{200, 600, 90}));\n        LinkedList&lt;Integer&gt; array_list2 = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{1200, 700, 80}));\n        mergeAll(new LinkedList[]{array_list, array_list1, array_list2});\n    }\n\n    public static LinkedList&lt;Integer&gt; mergeAll(LinkedList&lt;Integer&gt;[] array) {\n        System.out.println(&quot;Before ==&gt;&quot; + array[0] + &quot; &quot; + array[1] + &quot;&quot; + array[2]);\n        var result = Stream.of(array).flatMap(Collection::stream).sorted().collect(Collectors.toList());\n        System.out.println(&quot;After ==&gt;&quot; + result);\n        return new LinkedList&lt;&gt;(result);\n    }\n\n}\n</code></pre>\n<h2>Output</h2>\n<p>Before ==&gt;[100, 500, 80] [200, 600, 90][1200, 700, 80]</p>\n<p>After ==&gt;[80, 80, 90, 100, 200, 500, 600, 700, 1200]</p>\n<p><a href=\"https://i.stack.imgur.com/R5gQ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R5gQ6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668785929,"creation_date":1668785929,"answer_id":74492012,"question_id":74491538,"body_markdown":"I think you should change a few things, if I understand the problem. First make the PriorityQueue a collection of Integer not List&lt;Integer&gt;\r\n\r\n    PriorityQueue&lt;Integer&gt; p = new PriorityQueue&lt;&gt;();\r\n\r\nSecond in your loop.\r\n\r\n    p.addAll(x);\r\n\r\nThen your erroneous line, should be correct","title":"is it possible to covert my priorityqueue back to a LinkedList&lt;Integer&gt;?","body":"<p>I think you should change a few things, if I understand the problem. First make the PriorityQueue a collection of Integer not List</p>\n<pre><code>PriorityQueue&lt;Integer&gt; p = new PriorityQueue&lt;&gt;();\n</code></pre>\n<p>Second in your loop.</p>\n<pre><code>p.addAll(x);\n</code></pre>\n<p>Then your erroneous line, should be correct</p>\n"}],"owner":{"display_name":"user18984687"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1668827783,"accepted_answer_id":74492012,"answer_count":2,"score":0,"last_activity_date":1668786056,"creation_date":1668783401,"question_id":74491538,"body_markdown":"I am given `k` numbers of `LinkedList&lt;Integer&gt;` and I&#39;m trying to put them into a `PriorityQueue p` in order to sort it.\r\n\r\nHowever, I&#39;m having trouble trying to convert it back into a `LinkedList&lt;Integer&gt;` from the Priority Queue that I have declared. \r\n\r\nHere is my code: \r\n\r\n    //Code by Dave S.    \r\n    public class MultiMergeWay {\r\n            public static LinkedList&lt;Integer&gt; mergeAll(LinkedList&lt;Integer&gt;[] lists){\r\n                PriorityQueue&lt;LinkedList&lt;Integer&gt;&gt; p = new PriorityQueue&lt;&gt;();\r\n                for(LinkedList&lt;Integer&gt; x : lists){\r\n                    p.add(x);\r\n                }\r\n                LinkedList&lt;Integer&gt; array_list = new LinkedList&lt;Integer&gt;(p); //\r\n                return array_list;\r\n            }\r\n        \r\n        }\r\n\r\nUnless you haven&#39;t already seen it, my code wouldn&#39;t even compile because of an error in the line marked with a `//`. \r\n\r\nCan anyone please explain how can I change my priority queue back to a LinkedList&lt;Integer&gt;?","title":"is it possible to covert my priorityqueue back to a LinkedList&lt;Integer&gt;?","body":"<p>I am given <code>k</code> numbers of <code>LinkedList&lt;Integer&gt;</code> and I'm trying to put them into a <code>PriorityQueue p</code> in order to sort it.</p>\n<p>However, I'm having trouble trying to convert it back into a <code>LinkedList&lt;Integer&gt;</code> from the Priority Queue that I have declared.</p>\n<p>Here is my code:</p>\n<pre><code>//Code by Dave S.    \npublic class MultiMergeWay {\n        public static LinkedList&lt;Integer&gt; mergeAll(LinkedList&lt;Integer&gt;[] lists){\n            PriorityQueue&lt;LinkedList&lt;Integer&gt;&gt; p = new PriorityQueue&lt;&gt;();\n            for(LinkedList&lt;Integer&gt; x : lists){\n                p.add(x);\n            }\n            LinkedList&lt;Integer&gt; array_list = new LinkedList&lt;Integer&gt;(p); //\n            return array_list;\n        }\n    \n    }\n</code></pre>\n<p>Unless you haven't already seen it, my code wouldn't even compile because of an error in the line marked with a <code>//</code>.</p>\n<p>Can anyone please explain how can I change my priority queue back to a LinkedList?</p>\n"},{"tags":["java","enums","xsd","jaxb"],"comments":[{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":0,"creation_date":1668678065,"post_id":74400463,"comment_id":131465892,"body_markdown":"Your pattern allows almost 10 million different values for exampleType. I don&#39;t understand why you want to treat that type as an _enumeration_.","body":"Your pattern allows almost 10 million different values for exampleType. I don&#39;t understand why you want to treat that type as an <i>enumeration</i>."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1668687456,"post_id":74400463,"comment_id":131469376,"body_markdown":"@kimbert there is a specification document describing the possible values","body":"@kimbert there is a specification document describing the possible values"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668698034,"post_id":74400463,"comment_id":131473801,"body_markdown":"@kimbert 10 million? &quot;&quot;\\d{3,6}&quot; (3 to 6 digits) sounds like 1000 values to me. Nevertheless, it&#39;s not suitable for an enumeration.","body":"@kimbert 10 million? &quot;&quot;\\d{3,6}&quot; (3 to 6 digits) sounds like 1000 values to me. Nevertheless, it&#39;s not suitable for an enumeration."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1668756782,"post_id":74400463,"comment_id":131488230,"body_markdown":"@ChristophDahlen it&#39;s a real world scenario. we have no control over the schema. the documentation defines 6 possible values, which is why i would like to have an enum.","body":"@ChristophDahlen it&#39;s a real world scenario. we have no control over the schema. the documentation defines 6 possible values, which is why i would like to have an enum."},{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":0,"creation_date":1668781189,"post_id":74400463,"comment_id":131496188,"body_markdown":"You&#39;re right. 6 digits is 000000..999999, so 1 million. The pattern requires at least 3 digits, so the pattern allows (1 million - 1 hundred) values.","body":"You&#39;re right. 6 digits is 000000..999999, so 1 million. The pattern requires at least 3 digits, so the pattern allows (1 million - 1 hundred) values."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":1,"creation_date":1668787157,"post_id":74400463,"comment_id":131498416,"body_markdown":"unrelated, but i believe the number of possible values for `\\d{3,6}` is `10^3 + 10^4 + 10^5 + 10^6`","body":"unrelated, but i believe the number of possible values for <code>\\d{3,6}</code> is <code>10^3 + 10^4 + 10^5 + 10^6</code>"}],"answers":[{"tags":[],"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781518,"creation_date":1668781518,"answer_id":74491115,"question_id":74400463,"body_markdown":"Your data type only allows 6 values. Instead of using xs:pattern you should be using xs:enumeration. You have not quoted the values, so I have made up some values as an example:\r\n\r\n```xsd\r\n&lt;xs:simpleType name=&quot;exampleType&quot;&gt;\r\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n        &lt;xs:enumeration value=&quot;100&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;2000&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;30000&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;400000&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;100001&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;999999&quot;/&gt;\r\n    &lt;/xs:restriction&gt;\r\n&lt;/xs:simpleType&gt;\r\n```","title":"Is it possible to map a pattern-restricted simpleType to an enum class?","body":"<p>Your data type only allows 6 values. Instead of using xs:pattern you should be using xs:enumeration. You have not quoted the values, so I have made up some values as an example:</p>\n<pre><code>&lt;xs:simpleType name=&quot;exampleType&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:enumeration value=&quot;100&quot;/&gt;\n        &lt;xs:enumeration value=&quot;2000&quot;/&gt;\n        &lt;xs:enumeration value=&quot;30000&quot;/&gt;\n        &lt;xs:enumeration value=&quot;400000&quot;/&gt;\n        &lt;xs:enumeration value=&quot;100001&quot;/&gt;\n        &lt;xs:enumeration value=&quot;999999&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785951,"creation_date":1668785951,"answer_id":74492021,"question_id":74400463,"body_markdown":"Instead of letting JAXB generate an enum based on XSD enumeration values, it seems to be possible to map a custom enum class:\r\n\r\n    &lt;jaxb:bindings node=&quot;//xs:simpleType[@name=&#39;customType&#39;]&quot;&gt;\r\n      &lt;jaxb:class ref=&quot;com.package.EnumCustom&quot; /&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n\r\nManually written:\r\n\r\n    @XmlType(name = &quot;&quot;)\r\n    @XmlEnum\r\n    public enum EnumCustom {\r\n      @XmlEnumValue(&quot;111&quot;)    VALUE_A,\r\n      @XmlEnumValue(&quot;111222&quot;) VALUE_B,\r\n      ...\r\n      ;\r\n    }","title":"Is it possible to map a pattern-restricted simpleType to an enum class?","body":"<p>Instead of letting JAXB generate an enum based on XSD enumeration values, it seems to be possible to map a custom enum class:</p>\n<pre><code>&lt;jaxb:bindings node=&quot;//xs:simpleType[@name='customType']&quot;&gt;\n  &lt;jaxb:class ref=&quot;com.package.EnumCustom&quot; /&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>Manually written:</p>\n<pre><code>@XmlType(name = &quot;&quot;)\n@XmlEnum\npublic enum EnumCustom {\n  @XmlEnumValue(&quot;111&quot;)    VALUE_A,\n  @XmlEnumValue(&quot;111222&quot;) VALUE_B,\n  ...\n  ;\n}\n</code></pre>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668785951,"creation_date":1668159141,"question_id":74400463,"body_markdown":"I was trying to map a pattern-restricted simpleType\r\n\r\n    &lt;xs:simpleType name=&quot;exampleType&quot;&gt;\r\n    \t&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n    \t\t&lt;xs:pattern value=&quot;\\d{3,6}&quot;/&gt;\r\n    \t&lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n\r\nto an enum class (with values based on some specification document):\r\n\r\n    &lt;jaxb:bindings node=&quot;//xs:simpleType[@name=&#39;ExampleType&#39;]&quot;&gt;\r\n      &lt;jaxb:typesafeEnumClass name=&quot;EnumExample&quot;&gt;\r\n        &lt;jaxb:typesafeEnumMember value=&quot;1&quot; name=&quot;description_1&quot; /&gt;\r\n        ....\r\n      &lt;/jaxb:typesafeEnumClass&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n\r\nbut got\r\n\r\n    com.sun.istack.SAXParseException2: enum class customization is specified on a type that has no enumeration facet.\r\n\r\nIs that or something similar possible somehow?\r\n","title":"Is it possible to map a pattern-restricted simpleType to an enum class?","body":"<p>I was trying to map a pattern-restricted simpleType</p>\n<pre><code>&lt;xs:simpleType name=&quot;exampleType&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:pattern value=&quot;\\d{3,6}&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n</code></pre>\n<p>to an enum class (with values based on some specification document):</p>\n<pre><code>&lt;jaxb:bindings node=&quot;//xs:simpleType[@name='ExampleType']&quot;&gt;\n  &lt;jaxb:typesafeEnumClass name=&quot;EnumExample&quot;&gt;\n    &lt;jaxb:typesafeEnumMember value=&quot;1&quot; name=&quot;description_1&quot; /&gt;\n    ....\n  &lt;/jaxb:typesafeEnumClass&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>but got</p>\n<pre><code>com.sun.istack.SAXParseException2: enum class customization is specified on a type that has no enumeration facet.\n</code></pre>\n<p>Is that or something similar possible somehow?</p>\n"},{"tags":["java","json","gson","pojo"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668785865,"creation_date":1668785865,"answer_id":74492000,"question_id":74490537,"body_markdown":"May be you need to create custom deserializer like this:\r\n```\r\nclass MyTypeModelDeserializer implements JsonDeserializer&lt;MyBaseTypeModel&gt; {\r\n\r\n    @Override\r\n    public MyBaseTypeModel deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context)\r\n            throws JsonParseException {\r\n\r\n        JsonObject jsonObject = json.getAsJsonObject();\r\n\r\n        JsonElement jsonType = jsonObject.get(&quot;type&quot;);\r\n        String type = jsonType.getAsString();\r\n\r\n        MyBaseTypeModel typeModel = null;     \r\n\r\n        if(&quot;type1&quot;.equals(type)) {\r\n            typeModel = new Type1Model();\r\n        } else if(&quot;type2&quot;.equals(type)) {\r\n            typeModel = new Type2Model();\r\n        }\r\n        // TODO : set properties of type model\r\n\r\n        return typeModel;\r\n    }\r\n}\r\n```","title":"How to set different type for variable in POJO than expected while deserializing json using gson","body":"<p>May be you need to create custom deserializer like this:</p>\n<pre><code>class MyTypeModelDeserializer implements JsonDeserializer&lt;MyBaseTypeModel&gt; {\n\n    @Override\n    public MyBaseTypeModel deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context)\n            throws JsonParseException {\n\n        JsonObject jsonObject = json.getAsJsonObject();\n\n        JsonElement jsonType = jsonObject.get(&quot;type&quot;);\n        String type = jsonType.getAsString();\n\n        MyBaseTypeModel typeModel = null;     \n\n        if(&quot;type1&quot;.equals(type)) {\n            typeModel = new Type1Model();\n        } else if(&quot;type2&quot;.equals(type)) {\n            typeModel = new Type2Model();\n        }\n        // TODO : set properties of type model\n\n        return typeModel;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26954658,"reputation":5,"user_id":20523260,"display_name":"glory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74492000,"answer_count":1,"score":0,"last_activity_date":1668785865,"creation_date":1668778699,"question_id":74490537,"body_markdown":"I want to convert JSON object back to Person object java, but field key can be String or String[]. So I am getting the following error: java.lang.IllegalStateException: Expected STRING but was BEGIN_ARRAY at path $.key\r\n\r\nExample Json files: \r\n\r\n```\r\n{\r\n  &quot;type&quot;:&quot;set&quot;,\r\n  &quot;key&quot;:&quot;person&quot;,\r\n  &quot;value&quot;:{\r\n    &quot;name&quot;:&quot;Elon Musk&quot;,\r\n    &quot;car&quot;:{\r\n      &quot;model&quot;:&quot;Tesla Roadster&quot;,\r\n      &quot;year&quot;:&quot;2018&quot;\r\n    },\r\n    &quot;rocket&quot;:{\r\n      &quot;name&quot;:&quot;Falcon 9&quot;,\r\n      &quot;launches&quot;:&quot;87&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nor\r\n\r\n```\r\n{&quot;type&quot;:&quot;get&quot;,&quot;key&quot;:[&quot;person&quot;,&quot;name&quot;]}\r\n```\r\n\r\n```\r\nJsonObject jsonObject = new JsonParser().parse(input.readUTF()).getAsJsonObject();\r\n\r\nGson gson = new Gson();\r\n\r\nPerson person = gson.fromJson(jsonObject, Person.class);\r\n\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class Person  {\r\nString type;\r\nString key;\r\nValue value;\r\n}\r\n```","title":"How to set different type for variable in POJO than expected while deserializing json using gson","body":"<p>I want to convert JSON object back to Person object java, but field key can be String or String[]. So I am getting the following error: java.lang.IllegalStateException: Expected STRING but was BEGIN_ARRAY at path $.key</p>\n<p>Example Json files:</p>\n<pre><code>{\n  &quot;type&quot;:&quot;set&quot;,\n  &quot;key&quot;:&quot;person&quot;,\n  &quot;value&quot;:{\n    &quot;name&quot;:&quot;Elon Musk&quot;,\n    &quot;car&quot;:{\n      &quot;model&quot;:&quot;Tesla Roadster&quot;,\n      &quot;year&quot;:&quot;2018&quot;\n    },\n    &quot;rocket&quot;:{\n      &quot;name&quot;:&quot;Falcon 9&quot;,\n      &quot;launches&quot;:&quot;87&quot;\n    }\n  }\n}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;type&quot;:&quot;get&quot;,&quot;key&quot;:[&quot;person&quot;,&quot;name&quot;]}\n</code></pre>\n<pre><code>JsonObject jsonObject = new JsonParser().parse(input.readUTF()).getAsJsonObject();\n\nGson gson = new Gson();\n\nPerson person = gson.fromJson(jsonObject, Person.class);\n\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Person  {\nString type;\nString key;\nValue value;\n}\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":4437721,"reputation":123,"user_id":3613100,"accept_rate":75,"display_name":"343GuiltySpark"},"score":0,"creation_date":1592479038,"post_id":62447117,"comment_id":110443165,"body_markdown":"I&#39;m using Flink 1.10.1 FWIW.","body":"I&#39;m using Flink 1.10.1 FWIW."}],"answers":[{"tags":[],"owner":{"account_id":17213019,"reputation":697,"user_id":12461814,"display_name":"ShemTov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592477698,"creation_date":1592477698,"answer_id":62448352,"question_id":62447117,"body_markdown":"As far as i know, you can&#39;t get the global state from the @override open method.\r\n\r\nYou need to get it from the process function on the ProcessWindowFunction:\r\n\r\n    context.globalState().getMapState(&lt;your_Map_State_Descriptor&gt;)\r\n","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>As far as i know, you can't get the global state from the @override open method.</p>\n\n<p>You need to get it from the process function on the ProcessWindowFunction:</p>\n\n<pre><code>context.globalState().getMapState(&lt;your_Map_State_Descriptor&gt;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592480861,"creation_date":1592479818,"answer_id":62449013,"question_id":62447117,"body_markdown":"You want to do something more like this. And keep in mind that these are per-key state stores -- there&#39;s a separate map for every key -- so where do you are doing `stateStore.get(key)`, that doesn&#39;t really make sense. Perhaps all you need is `ValueState`, if you only need to store an Integer for each key.\r\n\r\n    static class MyProcessWindowFn extends ProcessWindowFunction&lt;Element, String, Integer, TimeWindow&gt; {\r\n        private final static MapStateDescriptor mapDesc = new MapStateDescriptor&lt;Integer, Integer&gt;(&quot;stateStore&quot;, Integer.class, Integer.class);\r\n\r\n        @Override\r\n        public void process(Integer key, Context context, Iterable&lt;Element&gt; elements, Collector&lt;String&gt; out) throws Exception {\r\n\r\n            MapState&lt;Integer, Integer&gt; stateStore = context.globalState.getMapState(mapDesc);\r\n\r\n            ...\r\n        }\r\n    }\r\n\r\nNote that the global state store is never cleared. So if you have an unbounded key space, you&#39;ll eventually run into problems. You can configure [state TTL](https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/state.html#state-time-to-live-ttl) on the state descriptor(s) to deal with this.","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>You want to do something more like this. And keep in mind that these are per-key state stores -- there's a separate map for every key -- so where do you are doing <code>stateStore.get(key)</code>, that doesn't really make sense. Perhaps all you need is <code>ValueState</code>, if you only need to store an Integer for each key.</p>\n\n<pre><code>static class MyProcessWindowFn extends ProcessWindowFunction&lt;Element, String, Integer, TimeWindow&gt; {\n    private final static MapStateDescriptor mapDesc = new MapStateDescriptor&lt;Integer, Integer&gt;(\"stateStore\", Integer.class, Integer.class);\n\n    @Override\n    public void process(Integer key, Context context, Iterable&lt;Element&gt; elements, Collector&lt;String&gt; out) throws Exception {\n\n        MapState&lt;Integer, Integer&gt; stateStore = context.globalState.getMapState(mapDesc);\n\n        ...\n    }\n}\n</code></pre>\n\n<p>Note that the global state store is never cleared. So if you have an unbounded key space, you'll eventually run into problems. You can configure <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/state.html#state-time-to-live-ttl\" rel=\"nofollow noreferrer\">state TTL</a> on the state descriptor(s) to deal with this.</p>\n"},{"tags":[],"owner":{"account_id":4437721,"reputation":123,"user_id":3613100,"accept_rate":75,"display_name":"343GuiltySpark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592481822,"creation_date":1592481822,"answer_id":62449574,"question_id":62447117,"body_markdown":"My mistake was that I was using the `clear()` method incorrectly. Since this is a global state, using the `clear()` method will clear the state as soon as the TumblingWindow expires. As David pointed out, global state is never cleared, and we have to define a TTL for unbounded key streams.","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>My mistake was that I was using the <code>clear()</code> method incorrectly. Since this is a global state, using the <code>clear()</code> method will clear the state as soon as the TumblingWindow expires. As David pointed out, global state is never cleared, and we have to define a TTL for unbounded key streams.</p>\n"},{"tags":[],"owner":{"account_id":2138751,"reputation":505,"user_id":1897932,"accept_rate":33,"display_name":"kuixiong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785599,"creation_date":1668785599,"answer_id":74491951,"question_id":62447117,"body_markdown":"I noticed that in your `minimum working example`, you just created `stateStore` in `open` function, and used `stateStore` directly in `process` function. While in the so-called `actual class`, you created `activeSessionStore` in `open` function but used `context.globalState().getMapState(desc)` to get the state. In my understanding, you never used the state you created in your `open` function, and always used global state. That&#39;s why when you added the `clear` function, it would become empty, and after you removed `clear` function it would work as you had expected. But actually you have verified in your example, you can achieve what you want without the global state like this:\r\n```java\r\n    ...\r\n    @Override\r\n    public void open(Configuration parameters) throws Exception {\r\n        activeSessionStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\r\n                                                &quot;name&quot;, UserDefinedEnum.class, Boolean.class));\r\n    }\r\n    ...\r\n    @Override\r\n    public void process(IUMonitorFeatureKey iuMonitorFeatureKey, Context context, Iterable&lt;IUSessionMessage&gt; elements, Collector&lt;IUSessionMessage&gt; out) throws Exception {\r\n        ...\r\n\r\n        Iterable&lt;Entry&lt;IUEventType, Boolean&gt;&gt; lastFeatureStates = activeSessionStore.entries(); // &lt;-------- Finally used the one you created in open function\r\n        ... do something based on lastFeatureStates....\r\n\r\n        activeSessionStore.put(...);\r\n    }\r\n    \r\n``` ","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>I noticed that in your <code>minimum working example</code>, you just created <code>stateStore</code> in <code>open</code> function, and used <code>stateStore</code> directly in <code>process</code> function. While in the so-called <code>actual class</code>, you created <code>activeSessionStore</code> in <code>open</code> function but used <code>context.globalState().getMapState(desc)</code> to get the state. In my understanding, you never used the state you created in your <code>open</code> function, and always used global state. That's why when you added the <code>clear</code> function, it would become empty, and after you removed <code>clear</code> function it would work as you had expected. But actually you have verified in your example, you can achieve what you want without the global state like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ...\n    @Override\n    public void open(Configuration parameters) throws Exception {\n        activeSessionStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\n                                                &quot;name&quot;, UserDefinedEnum.class, Boolean.class));\n    }\n    ...\n    @Override\n    public void process(IUMonitorFeatureKey iuMonitorFeatureKey, Context context, Iterable&lt;IUSessionMessage&gt; elements, Collector&lt;IUSessionMessage&gt; out) throws Exception {\n        ...\n\n        Iterable&lt;Entry&lt;IUEventType, Boolean&gt;&gt; lastFeatureStates = activeSessionStore.entries(); // &lt;-------- Finally used the one you created in open function\n        ... do something based on lastFeatureStates....\n\n        activeSessionStore.put(...);\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":4437721,"reputation":123,"user_id":3613100,"accept_rate":75,"display_name":"343GuiltySpark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1668785599,"creation_date":1592473560,"question_id":62447117,"body_markdown":"I have a `ProcessWindowFunction` for processing TumblingEventTimeWindows in which I use a state store to preserve some values *across multiple tumbling windows*.\r\nMy problem is that this state store is not being preserved across tumbling windows i.e. if I first store something in window [0,999] and then access this store from window [1000,1999], the store is empty.\r\nI am aware of the *global state* and *per window state* stated [here][1]. I want to use global state. I also tried creating a minimum working example to investigate this:\r\n\r\n    import org.apache.flink.api.common.state.MapState;\r\n    import org.apache.flink.api.common.state.MapStateDescriptor;\r\n    import org.apache.flink.api.java.functions.KeySelector;\r\n    import org.apache.flink.configuration.Configuration;\r\n    import org.apache.flink.streaming.api.TimeCharacteristic;\r\n    import org.apache.flink.streaming.api.datastream.DataStream;\r\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n    import org.apache.flink.streaming.api.functions.AssignerWithPeriodicWatermarks;\r\n    import org.apache.flink.streaming.api.functions.windowing.ProcessWindowFunction;\r\n    import org.apache.flink.streaming.api.watermark.Watermark;\r\n    import org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\r\n    import org.apache.flink.streaming.api.windowing.time.Time;\r\n    import org.apache.flink.streaming.api.windowing.windows.TimeWindow;\r\n    import org.apache.flink.util.Collector;\r\n    \r\n    import javax.annotation.Nullable;\r\n    \r\n    \r\n    public class twStateStoreTest {\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // set up the streaming execution environment\r\n            final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n            env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n            env.getConfig().setAutoWatermarkInterval(1000L);\r\n    \r\n            final DataStream&lt;Element&gt; elements = env.fromElements(\r\n                    Element.from(1, 500),\r\n                    Element.from(1, 1000),\r\n                    Element.from(1, 1500),\r\n                    Element.from(1, 2000),\r\n    \r\n                    Element.from(99, 9999)\r\n                    ).\r\n                    assignTimestampsAndWatermarks(new AssignerWithPeriodicWatermarks&lt;Element&gt;() {\r\n                        long w;\r\n                        @Nullable\r\n                        @Override\r\n                        public Watermark getCurrentWatermark() {\r\n                            return new Watermark(w);\r\n                        }\r\n    \r\n                        @Override\r\n                        public long extractTimestamp(Element element, long previousElementTimestamp) {\r\n                            w = element.getTimestamp();\r\n                            return w;\r\n                        }\r\n                    });\r\n    \r\n            elements\r\n                    .keyBy(new KeySelector&lt;Element, Integer&gt;() {\r\n                        @Override\r\n                        public Integer getKey(Element element) throws Exception {\r\n                            return element.value;\r\n                        }\r\n                    })\r\n                    .window(TumblingEventTimeWindows.of(Time.milliseconds(1000L)))\r\n                    .process(new MyProcessWindowFn()).\r\n                    print();\r\n    \r\n            // execute program\r\n            env.execute(&quot;Flink Streaming Java API Skeleton&quot;);\r\n        }\r\n    \r\n        static class MyProcessWindowFn extends ProcessWindowFunction&lt;Element, String, Integer, TimeWindow&gt; {\r\n            MapState&lt;Integer, Integer&gt; stateStore;\r\n    \r\n            @Override\r\n            public void open(Configuration parameters) throws Exception {\r\n                stateStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;Integer, Integer&gt;(&quot;stateStore&quot;, Integer.class, Integer.class));\r\n            }\r\n    \r\n            @Override\r\n            public void process(Integer key, Context context, Iterable&lt;Element&gt; elements, Collector&lt;String&gt; out) throws Exception {\r\n    \r\n                if (stateStore.get(key) == null) {\r\n                    stateStore.put(key, 1);\r\n                }else {\r\n                    int previous = stateStore.get(key);\r\n                    stateStore.put(key, previous+1);\r\n                }\r\n                out.collect(&quot;State store for &quot; + elements.toString() + &quot; is &quot; + stateStore.entries().toString()\r\n                        + &quot; for window : &quot; + context.window());\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        static class Element {\r\n            private final long timestamp;\r\n            private final int value;\r\n    \r\n            public Element(long timestamp, int value) {\r\n                this.timestamp = timestamp;\r\n                this.value = value;\r\n            }\r\n    \r\n            public long getTimestamp() {\r\n                return timestamp;\r\n            }\r\n    \r\n            public int getValue() {\r\n                return value;\r\n            }\r\n    \r\n            public static Element from(int value, long timestamp) {\r\n                return new Element(timestamp, value);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nHere I&#39;m trying to count the number of times the `process()` function was called for a key. This example **works** and the state is indeed stored across tumbling windows. I&#39;ve ensured that this example exactly mirrors the actual processWindow function, with other unnecessary code stripped off. \r\n\r\nBut state is **not** preserved across windows in the actual processWindowFunction!\r\n\r\nIs there any gotcha that I am clearly missing to account for? \r\nIs there any other reason why state is not preserved across EventTimeTumblingWindows for a processWindowFunction that uses a MapState defined as follows:\r\n\r\n    private MapState&lt;UserDefinedEnum, Boolean&gt; activeSessionStore;\r\n    \r\n    @Override\r\n        public void open(Configuration parameters) throws Exception {\r\n            activeSessionStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\r\n                                                    &quot;name&quot;, UserDefinedEnum.class, Boolean.class));\r\n        }\r\n\r\nHere&#39;s the actual class with bloat removed and as per @David&#39;s and @ShemTov&#39;s suggestions:\r\n\r\n    public class IUFeatureStateCombiner extends ProcessWindowFunction&lt;IUSessionMessage, IUSessionMessage, IUMonitorFeatureKey, TimeWindow&gt; {\r\n    \r\n        private final static MapStateDescriptor&lt;IUEventType, Boolean&gt; desc =  new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\r\n                &quot;store&quot;, IUEventType.class, Boolean.class);\r\n        private final Logger LOGGER = LoggerFactory.getLogger(IUFeatureStateCombiner.class);\r\n        \r\n        @Override\r\n        public void process(IUMonitorFeatureKey iuMonitorFeatureKey, Context context, Iterable&lt;IUSessionMessage&gt; elements, Collector&lt;IUSessionMessage&gt; out) throws Exception {\r\n            ...\r\n    \r\n            MapState&lt;IUEventType, Boolean&gt; activeSessionStore = context.globalState().getMapState(desc);\r\n    \r\n            Iterable&lt;Entry&lt;IUEventType, Boolean&gt;&gt; lastFeatureStates = activeSessionStore.entries(); // &lt;-------- This returns an empty iterable\r\n            // even though I populated activeSessionStore with some values in the previous invocation of process()\r\n    \r\n            ... do something based on lastFeatureStates....\r\n    \r\n            activeSessionStore.put(...);\r\n        }\r\n    \r\n        @Override\r\n        public void clear(Context context) throws Exception {\r\n            context.globalState().getMapState(desc).clear();\r\n        }\r\n    }\r\n\r\nAnd I invoke it using :\r\n\r\n    inputStream.keyBy(IUSessionMessage::getMonitorFeatureKey).\r\n    window(TumblingEventTimeWindows.of(Time.milliseconds(1000L))).\r\n    \t\t\tprocess(new IUFeatureStateCombiner())\r\n\r\n\r\n\r\nThis still has the problem, I get an empty iterable in the second invocation of `process()` even though I populated the state in the previous invocation. \r\n\r\n**Edit: Problem solved, the clear() method should not be invoked since this is a global state.**\r\n\r\n\r\n  [1]: https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/windows.html#using-per-window-state-in-processwindowfunction","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>I have a <code>ProcessWindowFunction</code> for processing TumblingEventTimeWindows in which I use a state store to preserve some values <em>across multiple tumbling windows</em>.\nMy problem is that this state store is not being preserved across tumbling windows i.e. if I first store something in window [0,999] and then access this store from window [1000,1999], the store is empty.\nI am aware of the <em>global state</em> and <em>per window state</em> stated <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/windows.html#using-per-window-state-in-processwindowfunction\" rel=\"nofollow noreferrer\">here</a>. I want to use global state. I also tried creating a minimum working example to investigate this:</p>\n\n<pre><code>import org.apache.flink.api.common.state.MapState;\nimport org.apache.flink.api.common.state.MapStateDescriptor;\nimport org.apache.flink.api.java.functions.KeySelector;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.TimeCharacteristic;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.AssignerWithPeriodicWatermarks;\nimport org.apache.flink.streaming.api.functions.windowing.ProcessWindowFunction;\nimport org.apache.flink.streaming.api.watermark.Watermark;\nimport org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.streaming.api.windowing.windows.TimeWindow;\nimport org.apache.flink.util.Collector;\n\nimport javax.annotation.Nullable;\n\n\npublic class twStateStoreTest {\n\n\n    public static void main(String[] args) throws Exception {\n        // set up the streaming execution environment\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n        env.getConfig().setAutoWatermarkInterval(1000L);\n\n        final DataStream&lt;Element&gt; elements = env.fromElements(\n                Element.from(1, 500),\n                Element.from(1, 1000),\n                Element.from(1, 1500),\n                Element.from(1, 2000),\n\n                Element.from(99, 9999)\n                ).\n                assignTimestampsAndWatermarks(new AssignerWithPeriodicWatermarks&lt;Element&gt;() {\n                    long w;\n                    @Nullable\n                    @Override\n                    public Watermark getCurrentWatermark() {\n                        return new Watermark(w);\n                    }\n\n                    @Override\n                    public long extractTimestamp(Element element, long previousElementTimestamp) {\n                        w = element.getTimestamp();\n                        return w;\n                    }\n                });\n\n        elements\n                .keyBy(new KeySelector&lt;Element, Integer&gt;() {\n                    @Override\n                    public Integer getKey(Element element) throws Exception {\n                        return element.value;\n                    }\n                })\n                .window(TumblingEventTimeWindows.of(Time.milliseconds(1000L)))\n                .process(new MyProcessWindowFn()).\n                print();\n\n        // execute program\n        env.execute(\"Flink Streaming Java API Skeleton\");\n    }\n\n    static class MyProcessWindowFn extends ProcessWindowFunction&lt;Element, String, Integer, TimeWindow&gt; {\n        MapState&lt;Integer, Integer&gt; stateStore;\n\n        @Override\n        public void open(Configuration parameters) throws Exception {\n            stateStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;Integer, Integer&gt;(\"stateStore\", Integer.class, Integer.class));\n        }\n\n        @Override\n        public void process(Integer key, Context context, Iterable&lt;Element&gt; elements, Collector&lt;String&gt; out) throws Exception {\n\n            if (stateStore.get(key) == null) {\n                stateStore.put(key, 1);\n            }else {\n                int previous = stateStore.get(key);\n                stateStore.put(key, previous+1);\n            }\n            out.collect(\"State store for \" + elements.toString() + \" is \" + stateStore.entries().toString()\n                    + \" for window : \" + context.window());\n        }\n    }\n\n\n\n\n    static class Element {\n        private final long timestamp;\n        private final int value;\n\n        public Element(long timestamp, int value) {\n            this.timestamp = timestamp;\n            this.value = value;\n        }\n\n        public long getTimestamp() {\n            return timestamp;\n        }\n\n        public int getValue() {\n            return value;\n        }\n\n        public static Element from(int value, long timestamp) {\n            return new Element(timestamp, value);\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>Here I'm trying to count the number of times the <code>process()</code> function was called for a key. This example <strong>works</strong> and the state is indeed stored across tumbling windows. I've ensured that this example exactly mirrors the actual processWindow function, with other unnecessary code stripped off. </p>\n\n<p>But state is <strong>not</strong> preserved across windows in the actual processWindowFunction!</p>\n\n<p>Is there any gotcha that I am clearly missing to account for? \nIs there any other reason why state is not preserved across EventTimeTumblingWindows for a processWindowFunction that uses a MapState defined as follows:</p>\n\n<pre><code>private MapState&lt;UserDefinedEnum, Boolean&gt; activeSessionStore;\n\n@Override\n    public void open(Configuration parameters) throws Exception {\n        activeSessionStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\n                                                \"name\", UserDefinedEnum.class, Boolean.class));\n    }\n</code></pre>\n\n<p>Here's the actual class with bloat removed and as per @David's and @ShemTov's suggestions:</p>\n\n<pre><code>public class IUFeatureStateCombiner extends ProcessWindowFunction&lt;IUSessionMessage, IUSessionMessage, IUMonitorFeatureKey, TimeWindow&gt; {\n\n    private final static MapStateDescriptor&lt;IUEventType, Boolean&gt; desc =  new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\n            \"store\", IUEventType.class, Boolean.class);\n    private final Logger LOGGER = LoggerFactory.getLogger(IUFeatureStateCombiner.class);\n\n    @Override\n    public void process(IUMonitorFeatureKey iuMonitorFeatureKey, Context context, Iterable&lt;IUSessionMessage&gt; elements, Collector&lt;IUSessionMessage&gt; out) throws Exception {\n        ...\n\n        MapState&lt;IUEventType, Boolean&gt; activeSessionStore = context.globalState().getMapState(desc);\n\n        Iterable&lt;Entry&lt;IUEventType, Boolean&gt;&gt; lastFeatureStates = activeSessionStore.entries(); // &lt;-------- This returns an empty iterable\n        // even though I populated activeSessionStore with some values in the previous invocation of process()\n\n        ... do something based on lastFeatureStates....\n\n        activeSessionStore.put(...);\n    }\n\n    @Override\n    public void clear(Context context) throws Exception {\n        context.globalState().getMapState(desc).clear();\n    }\n}\n</code></pre>\n\n<p>And I invoke it using :</p>\n\n<pre><code>inputStream.keyBy(IUSessionMessage::getMonitorFeatureKey).\nwindow(TumblingEventTimeWindows.of(Time.milliseconds(1000L))).\n            process(new IUFeatureStateCombiner())\n</code></pre>\n\n<p>This still has the problem, I get an empty iterable in the second invocation of <code>process()</code> even though I populated the state in the previous invocation. </p>\n\n<p><strong>Edit: Problem solved, the clear() method should not be invoked since this is a global state.</strong></p>\n"},{"tags":["java","maven","version"],"answers":[{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":3,"up_vote_count":339,"is_accepted":true,"score":336,"last_activity_date":1597182634,"creation_date":1284342635,"answer_id":3697482,"question_id":3697449,"body_markdown":"Assuming you&#39;re using Java, you can:\r\n\r\n1. Create a `.properties` file in (most commonly) your `src/main/resources` directory (but in step 4 you could tell it to look elsewhere).\r\n\r\n2. Set the value of some property in your `.properties` file using the standard Maven property for project version:\r\n    ```\r\n    foo.bar=${project.version}\r\n    ```\r\n\r\n3. In your Java code, load the value from the properties file as a resource from the classpath (google for copious examples of how to do this, but [here&#39;s an example for starters][2]).\r\n\r\n4. In Maven, enable resource filtering. This will cause Maven to copy that file into your output classes and translate the resource during that copy, interpreting the property.  You can find some info [here][1] but you mostly just do this in your pom:\r\n\r\n    ```xml\r\n    &lt;build&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource&gt;\r\n          &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n      &lt;/resources&gt;   \r\n    &lt;/build&gt;\r\n    ```\r\n\r\nYou can also get to other standard properties like `project.name`, `project.description`, or even arbitrary properties you put in your pom `&lt;properties&gt;`, etc.  Resource filtering, combined with Maven profiles, can give you variable build behavior at build time.  When you specify a profile at runtime with `-PmyProfile`, that can enable properties that then can show up in your build.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files\r\n  [2]: https://stackoverflow.com/a/26573884/1470257\r\n\r\n\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>Assuming you're using Java, you can:</p>\n<ol>\n<li><p>Create a <code>.properties</code> file in (most commonly) your <code>src/main/resources</code> directory (but in step 4 you could tell it to look elsewhere).</p>\n</li>\n<li><p>Set the value of some property in your <code>.properties</code> file using the standard Maven property for project version:</p>\n<pre><code>foo.bar=${project.version}\n</code></pre>\n</li>\n<li><p>In your Java code, load the value from the properties file as a resource from the classpath (google for copious examples of how to do this, but <a href=\"https://stackoverflow.com/a/26573884/1470257\">here's an example for starters</a>).</p>\n</li>\n<li><p>In Maven, enable resource filtering. This will cause Maven to copy that file into your output classes and translate the resource during that copy, interpreting the property.  You can find some info <a href=\"http://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files\" rel=\"noreferrer\">here</a> but you mostly just do this in your pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;resources&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/resource&gt;\n  &lt;/resources&gt;   \n&lt;/build&gt;\n</code></pre>\n</li>\n</ol>\n<p>You can also get to other standard properties like <code>project.name</code>, <code>project.description</code>, or even arbitrary properties you put in your pom <code>&lt;properties&gt;</code>, etc.  Resource filtering, combined with Maven profiles, can give you variable build behavior at build time.  When you specify a profile at runtime with <code>-PmyProfile</code>, that can enable properties that then can show up in your build.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1284363990,"creation_date":1284361811,"answer_id":3698409,"question_id":3697449,"body_markdown":"Packaged artifacts contain a `META-INF/maven/${groupId}/${artifactId}/pom.properties` file which content looks like:\r\n\r\n    #Generated by Maven\r\n    #Sun Feb 21 23:38:24 GMT 2010\r\n    version=2.5\r\n    groupId=commons-lang\r\n    artifactId=commons-lang\r\n\r\nMany applications use this file to read the application/jar version at runtime, there is zero setup required.\r\n\r\nThe only problem with the above approach is that this file is (currently) generated during the `package` phase and will thus not be present during tests, etc (there is a Jira issue to change this, see [MJAR-76][1]). If this is an issue for you, then the approach described by Alex is the way to go. \r\n\r\n\r\n  [1]: http://jira.codehaus.org/browse/MJAR-76","title":"Retrieve version from maven pom.xml in code","body":"<p>Packaged artifacts contain a <code>META-INF/maven/${groupId}/${artifactId}/pom.properties</code> file which content looks like:</p>\n\n<pre><code>#Generated by Maven\n#Sun Feb 21 23:38:24 GMT 2010\nversion=2.5\ngroupId=commons-lang\nartifactId=commons-lang\n</code></pre>\n\n<p>Many applications use this file to read the application/jar version at runtime, there is zero setup required.</p>\n\n<p>The only problem with the above approach is that this file is (currently) generated during the <code>package</code> phase and will thus not be present during tests, etc (there is a Jira issue to change this, see <a href=\"http://jira.codehaus.org/browse/MJAR-76\" rel=\"noreferrer\">MJAR-76</a>). If this is an issue for you, then the approach described by Alex is the way to go. </p>\n"},{"tags":[],"owner":{"account_id":456697,"reputation":1152,"user_id":855592,"display_name":"adam.lofts"},"down_vote_count":3,"up_vote_count":63,"is_accepted":false,"score":60,"last_activity_date":1418066393,"creation_date":1311239976,"answer_id":6773868,"question_id":3697449,"body_markdown":"There is also the method described in [Easy way to display your apps version number using Maven][1]:\r\n\r\nAdd this to pom.xml\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;test.App&lt;/mainClass&gt;\r\n                &lt;addDefaultImplementationEntries&gt;\r\n                  true\r\n                &lt;/addDefaultImplementationEntries&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen use this:\r\n\r\n    App.class.getPackage().getImplementationVersion()\r\n\r\nI have found this method to be simpler.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20120121133235/http://www.christophkiehl.com/easy-way-to-display-your-apps-version-using-maven-and-manifest","title":"Retrieve version from maven pom.xml in code","body":"<p>There is also the method described in <a href=\"https://web.archive.org/web/20120121133235/http://www.christophkiehl.com/easy-way-to-display-your-apps-version-using-maven-and-manifest\" rel=\"noreferrer\">Easy way to display your apps version number using Maven</a>:</p>\n\n<p>Add this to pom.xml</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;test.App&lt;/mainClass&gt;\n            &lt;addDefaultImplementationEntries&gt;\n              true\n            &lt;/addDefaultImplementationEntries&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then use this:</p>\n\n<pre><code>App.class.getPackage().getImplementationVersion()\n</code></pre>\n\n<p>I have found this method to be simpler.</p>\n"},{"tags":[],"owner":{"account_id":1968068,"reputation":1775,"user_id":1767758,"accept_rate":67,"display_name":"feder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1398065645,"creation_date":1375710738,"answer_id":18059903,"question_id":3697449,"body_markdown":"Use this Library for the ease of a simple solution. Add to the manifest whatever you need and then query by string.\r\n\r\n     System.out.println(&quot;JAR was created by &quot; + Manifests.read(&quot;Created-By&quot;));\r\n\r\nhttp://manifests.jcabi.com/index.html","title":"Retrieve version from maven pom.xml in code","body":"<p>Use this Library for the ease of a simple solution. Add to the manifest whatever you need and then query by string.</p>\n\n<pre><code> System.out.println(\"JAR was created by \" + Manifests.read(\"Created-By\"));\n</code></pre>\n\n<p><a href=\"http://manifests.jcabi.com/index.html\" rel=\"noreferrer\">http://manifests.jcabi.com/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":3603762,"reputation":1569,"user_id":3006465,"display_name":"electrobabe"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1431526649,"creation_date":1431526649,"answer_id":30217570,"question_id":3697449,"body_markdown":"If you use mvn packaging such as jar or war, use:\r\n\r\n    getClass().getPackage().getImplementationVersion()\r\n\r\nIt reads a property &quot;Implementation-Version&quot; of the generated META-INF/MANIFEST.MF (that is set to the pom.xml&#39;s version) in the archive.","title":"Retrieve version from maven pom.xml in code","body":"<p>If you use mvn packaging such as jar or war, use:</p>\n\n<pre><code>getClass().getPackage().getImplementationVersion()\n</code></pre>\n\n<p>It reads a property \"Implementation-Version\" of the generated META-INF/MANIFEST.MF (that is set to the pom.xml's version) in the archive.</p>\n"},{"tags":[],"owner":{"account_id":250728,"reputation":787,"user_id":2674251,"accept_rate":20,"display_name":"coolnodje"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1460458654,"creation_date":1441861915,"answer_id":32493612,"question_id":3697449,"body_markdown":"To complement what @kieste has posted, which I think is the best way to have Maven build informations available in your code if you&#39;re using Spring-boot: the documentation at http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info is very useful.\r\n\r\nYou just need to activate actuators, and add the properties you need in your ```application.properties``` or ```application.yml```\r\n\r\n\r\n    Automatic property expansion using Maven\r\n    \r\n    You can automatically expand info properties from the Maven project using resource filtering. If you use the spring-boot-starter-parent you can then refer to your Maven ‘project properties’ via @..@ placeholders, e.g.\r\n    \r\n    project.artifactId=myproject\r\n    project.name=Demo\r\n    project.version=X.X.X.X\r\n    project.description=Demo project for info endpoint\r\n    info.build.artifact=@project.artifactId@\r\n    info.build.name=@project.name@\r\n    info.build.description=@project.description@\r\n    info.build.version=@project.version@\r\n\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>To complement what @kieste has posted, which I think is the best way to have Maven build informations available in your code if you're using Spring-boot: the documentation at <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info</a> is very useful.</p>\n\n<p>You just need to activate actuators, and add the properties you need in your <code>application.properties</code> or <code>application.yml</code></p>\n\n<pre><code>Automatic property expansion using Maven\n\nYou can automatically expand info properties from the Maven project using resource filtering. If you use the spring-boot-starter-parent you can then refer to your Maven ‘project properties’ via @..@ placeholders, e.g.\n\nproject.artifactId=myproject\nproject.name=Demo\nproject.version=X.X.X.X\nproject.description=Demo project for info endpoint\ninfo.build.artifact=@project.artifactId@\ninfo.build.name=@project.name@\ninfo.build.description=@project.description@\ninfo.build.version=@project.version@\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":132,"is_accepted":false,"score":132,"last_activity_date":1509454277,"creation_date":1485094141,"answer_id":41791885,"question_id":3697449,"body_markdown":"The accepted answer may be the best and most stable way to get a version number into an application **_statically_**, but does not actually answer the original question: How to retrieve the artifact&#39;s version number from pom.xml? Thus, I want to offer an alternative showing how to do it **_dynamically_** during runtime:\r\n\r\nYou can use Maven itself. To be more exact, you can use a Maven library.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then do something like this in Java:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    import org.apache.maven.model.Model;\r\n    import org.apache.maven.model.io.xpp3.MavenXpp3Reader;\r\n    import org.codehaus.plexus.util.xml.pull.XmlPullParserException;\r\n    \r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class Application {\r\n        public static void main(String[] args) throws IOException, XmlPullParserException {\r\n            MavenXpp3Reader reader = new MavenXpp3Reader();\r\n            Model model = reader.read(new FileReader(&quot;pom.xml&quot;));\r\n            System.out.println(model.getId());\r\n            System.out.println(model.getGroupId());\r\n            System.out.println(model.getArtifactId());\r\n            System.out.println(model.getVersion());\r\n        }\r\n    }\r\n\r\nThe console log is as follows:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    de.scrum-master.stackoverflow:my-artifact:jar:1.0-SNAPSHOT\r\n    de.scrum-master.stackoverflow\r\n    my-artifact\r\n    1.0-SNAPSHOT\r\n\r\n&lt;hr&gt;\r\n\r\n**Update 2017-10-31:** In order to answer Simon Sobisch&#39;s follow-up question I modified the example like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    import org.apache.maven.model.Model;\r\n    import org.apache.maven.model.io.xpp3.MavenXpp3Reader;\r\n    import org.codehaus.plexus.util.xml.pull.XmlPullParserException;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class Application {\r\n      public static void main(String[] args) throws IOException, XmlPullParserException {\r\n        MavenXpp3Reader reader = new MavenXpp3Reader();\r\n        Model model;\r\n        if ((new File(&quot;pom.xml&quot;)).exists())\r\n          model = reader.read(new FileReader(&quot;pom.xml&quot;));\r\n        else\r\n          model = reader.read(\r\n            new InputStreamReader(\r\n              Application.class.getResourceAsStream(\r\n                &quot;/META-INF/maven/de.scrum-master.stackoverflow/aspectj-introduce-method/pom.xml&quot;\r\n              )\r\n            )\r\n          );\r\n        System.out.println(model.getId());\r\n        System.out.println(model.getGroupId());\r\n        System.out.println(model.getArtifactId());\r\n        System.out.println(model.getVersion());\r\n      }\r\n    }\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>The accepted answer may be the best and most stable way to get a version number into an application <strong><em>statically</em></strong>, but does not actually answer the original question: How to retrieve the artifact's version number from pom.xml? Thus, I want to offer an alternative showing how to do it <strong><em>dynamically</em></strong> during runtime:</p>\n\n<p>You can use Maven itself. To be more exact, you can use a Maven library.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n  &lt;version&gt;3.3.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And then do something like this in Java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport org.apache.maven.model.Model;\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Application {\n    public static void main(String[] args) throws IOException, XmlPullParserException {\n        MavenXpp3Reader reader = new MavenXpp3Reader();\n        Model model = reader.read(new FileReader(\"pom.xml\"));\n        System.out.println(model.getId());\n        System.out.println(model.getGroupId());\n        System.out.println(model.getArtifactId());\n        System.out.println(model.getVersion());\n    }\n}\n</code></pre>\n\n<p>The console log is as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>de.scrum-master.stackoverflow:my-artifact:jar:1.0-SNAPSHOT\nde.scrum-master.stackoverflow\nmy-artifact\n1.0-SNAPSHOT\n</code></pre>\n\n<hr>\n\n<p><strong>Update 2017-10-31:</strong> In order to answer Simon Sobisch's follow-up question I modified the example like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport org.apache.maven.model.Model;\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Application {\n  public static void main(String[] args) throws IOException, XmlPullParserException {\n    MavenXpp3Reader reader = new MavenXpp3Reader();\n    Model model;\n    if ((new File(\"pom.xml\")).exists())\n      model = reader.read(new FileReader(\"pom.xml\"));\n    else\n      model = reader.read(\n        new InputStreamReader(\n          Application.class.getResourceAsStream(\n            \"/META-INF/maven/de.scrum-master.stackoverflow/aspectj-introduce-method/pom.xml\"\n          )\n        )\n      );\n    System.out.println(model.getId());\n    System.out.println(model.getGroupId());\n    System.out.println(model.getArtifactId());\n    System.out.println(model.getVersion());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4722165,"reputation":2588,"user_id":3819751,"display_name":"ketankk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1549619404,"creation_date":1549619404,"answer_id":54589733,"question_id":3697449,"body_markdown":"        &lt;build&gt;\r\n                &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\r\n                &lt;pluginManagement&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.2&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                                &lt;archive&gt;\r\n                                    &lt;manifest&gt;\r\n                                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                                        &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                                    &lt;/manifest&gt;\r\n                                &lt;/archive&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                     &lt;/plugins&gt;\r\n                &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nGet Version using `this.getClass().getPackage().getImplementationVersion()`\r\n\r\nPS Don&#39;t forget to add:\r\n\r\n    &lt;manifest&gt;\r\n        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n        &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n    &lt;/manifest&gt;\r\n\r\n","title":"Retrieve version from maven pom.xml in code","body":"<pre><code>    &lt;build&gt;\n            &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n            &lt;pluginManagement&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.2&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                                    &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                 &lt;/plugins&gt;\n            &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Get Version using <code>this.getClass().getPackage().getImplementationVersion()</code></p>\n\n<p>PS Don't forget to add:</p>\n\n<pre><code>&lt;manifest&gt;\n    &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n    &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98194,"reputation":4266,"user_id":265954,"display_name":"t0r0X"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1583198700,"creation_date":1569933076,"answer_id":58184845,"question_id":3697449,"body_markdown":"Sometimes the Maven command line is sufficient when scripting something related to the project version, e.g. for artifact retrieval via URL from a repository:\r\n\r\n    mvn help:evaluate -Dexpression=project.version -q -DforceStdout\r\n\r\nUsage example:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    VERSION=$( mvn help:evaluate -Dexpression=project.version -q -DforceStdout )\r\n    ARTIFACT_ID=$( mvn help:evaluate -Dexpression=project.artifactId -q -DforceStdout )\r\n    GROUP_ID_URL=$( mvn help:evaluate -Dexpression=project.groupId -q -DforceStdout | sed -e &#39;s#\\.#/#g&#39; )\r\n    curl -f -S -O http://REPO-URL/mvn-repos/${GROUP_ID_URL}/${ARTIFACT_ID}/${VERSION}/${ARTIFACT_ID}-${VERSION}.jar\r\n\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>Sometimes the Maven command line is sufficient when scripting something related to the project version, e.g. for artifact retrieval via URL from a repository:</p>\n\n<pre><code>mvn help:evaluate -Dexpression=project.version -q -DforceStdout\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>VERSION=$( mvn help:evaluate -Dexpression=project.version -q -DforceStdout )\nARTIFACT_ID=$( mvn help:evaluate -Dexpression=project.artifactId -q -DforceStdout )\nGROUP_ID_URL=$( mvn help:evaluate -Dexpression=project.groupId -q -DforceStdout | sed -e 's#\\.#/#g' )\ncurl -f -S -O http://REPO-URL/mvn-repos/${GROUP_ID_URL}/${ARTIFACT_ID}/${VERSION}/${ARTIFACT_ID}-${VERSION}.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475993,"reputation":178,"user_id":5014577,"display_name":"Leo Lamas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591058373,"creation_date":1591057043,"answer_id":62142908,"question_id":3697449,"body_markdown":"With reference to [ketankk&#39;s answer](https://stackoverflow.com/a/54589733/10251345):\r\n\r\nUnfortunately, adding this messed with how my application dealt with resources:\r\n\r\n    &lt;build&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource&gt;\r\n          &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n      &lt;/resources&gt;   \r\n    &lt;/build&gt;\r\n\r\nBut using this inside maven-assemble-plugin&#39;s &lt; manifest &gt; tag did the trick:\r\n\r\n    &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n    &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n\r\nSo I was able to get version using\r\n\r\n    String version = getClass().getPackage().getImplementationVersion();","title":"Retrieve version from maven pom.xml in code","body":"<p>With reference to <a href=\"https://stackoverflow.com/a/54589733/10251345\">ketankk's answer</a>:</p>\n\n<p>Unfortunately, adding this messed with how my application dealt with resources:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;resources&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/resource&gt;\n  &lt;/resources&gt;   \n&lt;/build&gt;\n</code></pre>\n\n<p>But using this inside maven-assemble-plugin's &lt; manifest > tag did the trick:</p>\n\n<pre><code>&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n&lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n</code></pre>\n\n<p>So I was able to get version using</p>\n\n<pre><code>String version = getClass().getPackage().getImplementationVersion();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4330003,"reputation":666,"user_id":3535788,"accept_rate":80,"display_name":"Horst Krause"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1594723691,"creation_date":1594723691,"answer_id":62893431,"question_id":3697449,"body_markdown":"When using spring boot, this link might be useful: https://docs.spring.io/spring-boot/docs/2.3.x/reference/html/howto.html#howto-properties-and-configuration\r\n\r\nWith spring-boot-starter-parent you just need to add the following to your application config file:\r\n\r\n    # get values from pom.xml\r\n    pom.version=@project.version@\r\n\r\nAfter that the value is available like this:\r\n\r\n    @Value(&quot;${pom.version}&quot;)\r\n    private String pomVersion;\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>When using spring boot, this link might be useful: <a href=\"https://docs.spring.io/spring-boot/docs/2.3.x/reference/html/howto.html#howto-properties-and-configuration\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/2.3.x/reference/html/howto.html#howto-properties-and-configuration</a></p>\n<p>With spring-boot-starter-parent you just need to add the following to your application config file:</p>\n<pre><code># get values from pom.xml\npom.version=@project.version@\n</code></pre>\n<p>After that the value is available like this:</p>\n<pre><code>@Value(&quot;${pom.version}&quot;)\nprivate String pomVersion;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3168724,"reputation":20909,"user_id":2678170,"accept_rate":0,"display_name":"Salim Hamidi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615397457,"creation_date":1615397457,"answer_id":66569945,"question_id":3697449,"body_markdown":"**Step 1**: If you are using Spring Boot, your pom.xml should already contain **spring-boot-maven-plugin**. You just need to add the following configuration.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;build-info&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;build-info&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\nIt instructs the plugin to execute also build-info goal, which is not run by default. This generates build meta-data about your application, which includes artifact version, build time and more.\r\n\r\n**Step2:** Accessing Build Properties with buildProperties bean. In our case we create a restResource to access to this build info in our webapp\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class BuildInfoResource {\r\n        @Autowired\r\n        private BuildProperties buildProperties;\r\n    \r\n        \r\n        @GetMapping(&quot;/build-info&quot;)\r\n        public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getBuildInfo() {\r\n            Map&lt;String, String&gt; buildInfo = new HashMap();\r\n            buildInfo.put(&quot;appName&quot;, buildProperties.getName());\r\n            buildInfo.put(&quot;appArtifactId&quot;, buildProperties.getArtifact());\r\n            buildInfo.put(&quot;appVersion&quot;, buildProperties.getVersion());\r\n            buildInfo.put(&quot;appBuildDateTime&quot;, buildProperties.getTime());\r\n            return ResponseEntity.ok().body(buldInfo);\r\n        }\r\n    }\r\n\r\nI hope this will help","title":"Retrieve version from maven pom.xml in code","body":"<p><strong>Step 1</strong>: If you are using Spring Boot, your pom.xml should already contain <strong>spring-boot-maven-plugin</strong>. You just need to add the following configuration.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;build-info&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;build-info&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It instructs the plugin to execute also build-info goal, which is not run by default. This generates build meta-data about your application, which includes artifact version, build time and more.</p>\n<p><strong>Step2:</strong> Accessing Build Properties with buildProperties bean. In our case we create a restResource to access to this build info in our webapp</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class BuildInfoResource {\n    @Autowired\n    private BuildProperties buildProperties;\n\n    \n    @GetMapping(&quot;/build-info&quot;)\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getBuildInfo() {\n        Map&lt;String, String&gt; buildInfo = new HashMap();\n        buildInfo.put(&quot;appName&quot;, buildProperties.getName());\n        buildInfo.put(&quot;appArtifactId&quot;, buildProperties.getArtifact());\n        buildInfo.put(&quot;appVersion&quot;, buildProperties.getVersion());\n        buildInfo.put(&quot;appBuildDateTime&quot;, buildProperties.getTime());\n        return ResponseEntity.ok().body(buldInfo);\n    }\n}\n</code></pre>\n<p>I hope this will help</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625891534,"creation_date":1625891534,"answer_id":68324727,"question_id":3697449,"body_markdown":"**Preface:** Because I remember this often referred-to question after having [answered](https://stackoverflow.com/a/41791885/1082681) it a few years ago, showing a dynamic version actually accessing Maven POM infos dynamically (e.g. also during tests), today I found a [similar question](https://stackoverflow.com/q/68321439/1082681) which involved accessing module A&#39;s Maven info from another module B.\r\n\r\nI thought about it for a moment and spontaneously had the idea to use a **special annotation**, applying it to a package declaration in **`package-info.java`**. I also created a multi-module example project on GitHub. I do not want to repeat the whole answer, so please see solution B in [this answer](https://stackoverflow.com/a/68324028/1082681). The Maven setup involves **Templating Maven Plugin**, but could also be solved in a more verbose way using a combination of resource filtering and adding generated sources directory to the build via Build Helper Maven. I wanted to avoid that, so I simply used Templating Maven.","title":"Retrieve version from maven pom.xml in code","body":"<p><strong>Preface:</strong> Because I remember this often referred-to question after having <a href=\"https://stackoverflow.com/a/41791885/1082681\">answered</a> it a few years ago, showing a dynamic version actually accessing Maven POM infos dynamically (e.g. also during tests), today I found a <a href=\"https://stackoverflow.com/q/68321439/1082681\">similar question</a> which involved accessing module A's Maven info from another module B.</p>\n<p>I thought about it for a moment and spontaneously had the idea to use a <strong>special annotation</strong>, applying it to a package declaration in <strong><code>package-info.java</code></strong>. I also created a multi-module example project on GitHub. I do not want to repeat the whole answer, so please see solution B in <a href=\"https://stackoverflow.com/a/68324028/1082681\">this answer</a>. The Maven setup involves <strong>Templating Maven Plugin</strong>, but could also be solved in a more verbose way using a combination of resource filtering and adding generated sources directory to the build via Build Helper Maven. I wanted to avoid that, so I simply used Templating Maven.</p>\n"},{"tags":[],"owner":{"account_id":18165126,"reputation":278,"user_id":13215866,"display_name":"Sebastian Westemeyer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639516615,"creation_date":1633377657,"answer_id":69441776,"question_id":3697449,"body_markdown":"I had the same problem in my daytime job. Even though many of the answers will help to find the version for a specific artifact, we needed to get the version for modules/jars that are not a direct dependency of the application. The classpath is assembled from multiple modules when the application starts, the main application module has no knowledge of how many jars are added later.\r\n\r\nThat&#39;s why I came up with a different solution, which may be a little more elegant than having to read XML or properties from jar files.\r\n\r\n# The idea\r\n\r\n1. use a Java service loader approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.\r\n2. Create a maven source code generator plugin that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.\r\n\r\n# The solution\r\nPart one of the solution is the `artifact-version-service` library, which can be found on [github](https://github.com/swesteme/artifact-version-service) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-service) now. It covers the service definition and a few ways to get the artifact versions at runtime.\r\n\r\nPart two is the `artifact-version-maven-plugin`, which can also be found on [github](https://github.com/swesteme/artifact-version-maven-plugin) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin). It is used to have a hassle-free generator implementing the service definition for each of the artifacts.\r\n\r\n# Examples\r\n### Fetching all modules with coordinates\r\nNo more reading jar manifests, just a simple method call:\r\n\r\n```java\r\n// iterate list of artifact dependencies\r\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\r\n    // print simple artifact string example\r\n    System.out.println(&quot;artifact = &quot; + artifact);\r\n}\r\n```\r\nA sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\r\n```\r\nThis way the list of artifacts is returned sorted by version numbers. \r\n\r\n### Find a specific artifact\r\n```java\r\nArtifactVersionCollector.findArtifact(&quot;de.westemeyer&quot;, &quot;artifact-version-service&quot;);\r\n```\r\nFetches the version details for a specific artifact.\r\n\r\n### Find artifacts with matching groupId(s)\r\nFind all artifacts with groupId `de.westemeyer` (exact match):\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, true);\r\n```\r\n\r\nFind all artifacts where groupId *starts with* `de.westemeyer`:\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, false);\r\n```\r\n\r\nSort result by version number:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;de.&quot;, false);\r\n```\r\n\r\n### Implement custom actions on list of artifacts\r\nBy supplying a lambda, the very first example could be implemented like this:\r\n```java\r\nArtifactVersionCollector.iterateArtifacts(a -&gt; {\r\n    System.out.println(a);\r\n    return false;\r\n});\r\n```\r\n\r\n# Installation\r\nAdd these two tags to all `pom.xml` files, or maybe to a company master pom somewhere:\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;generate-service&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n# Feedback\r\nIt would be great if maybe some people could give the solution a try. Getting feedback about whether you think the solution fits your needs would be even better. So please don&#39;t hesitate to add a new issue on any of the github projects if you have any suggestions, feature requests, problems, whatsoever.\r\n\r\n# Licence\r\nAll of the source code is open source, free to use even for commercial products (MIT licence).","title":"Retrieve version from maven pom.xml in code","body":"<p>I had the same problem in my daytime job. Even though many of the answers will help to find the version for a specific artifact, we needed to get the version for modules/jars that are not a direct dependency of the application. The classpath is assembled from multiple modules when the application starts, the main application module has no knowledge of how many jars are added later.</p>\n<p>That's why I came up with a different solution, which may be a little more elegant than having to read XML or properties from jar files.</p>\n<h1>The idea</h1>\n<ol>\n<li>use a Java service loader approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.</li>\n<li>Create a maven source code generator plugin that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.</li>\n</ol>\n<h1>The solution</h1>\n<p>Part one of the solution is the <code>artifact-version-service</code> library, which can be found on <a href=\"https://github.com/swesteme/artifact-version-service\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-service\" rel=\"nofollow noreferrer\">MavenCentral</a> now. It covers the service definition and a few ways to get the artifact versions at runtime.</p>\n<p>Part two is the <code>artifact-version-maven-plugin</code>, which can also be found on <a href=\"https://github.com/swesteme/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">MavenCentral</a>. It is used to have a hassle-free generator implementing the service definition for each of the artifacts.</p>\n<h1>Examples</h1>\n<h3>Fetching all modules with coordinates</h3>\n<p>No more reading jar manifests, just a simple method call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// iterate list of artifact dependencies\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\n    // print simple artifact string example\n    System.out.println(&quot;artifact = &quot; + artifact);\n}\n</code></pre>\n<p>A sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\n</code></pre>\n<p>This way the list of artifacts is returned sorted by version numbers.</p>\n<h3>Find a specific artifact</h3>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifact(&quot;de.westemeyer&quot;, &quot;artifact-version-service&quot;);\n</code></pre>\n<p>Fetches the version details for a specific artifact.</p>\n<h3>Find artifacts with matching groupId(s)</h3>\n<p>Find all artifacts with groupId <code>de.westemeyer</code> (exact match):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, true);\n</code></pre>\n<p>Find all artifacts where groupId <em>starts with</em> <code>de.westemeyer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, false);\n</code></pre>\n<p>Sort result by version number:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;de.&quot;, false);\n</code></pre>\n<h3>Implement custom actions on list of artifacts</h3>\n<p>By supplying a lambda, the very first example could be implemented like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.iterateArtifacts(a -&gt; {\n    System.out.println(a);\n    return false;\n});\n</code></pre>\n<h1>Installation</h1>\n<p>Add these two tags to all <code>pom.xml</code> files, or maybe to a company master pom somewhere:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;generate-service&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<h1>Feedback</h1>\n<p>It would be great if maybe some people could give the solution a try. Getting feedback about whether you think the solution fits your needs would be even better. So please don't hesitate to add a new issue on any of the github projects if you have any suggestions, feature requests, problems, whatsoever.</p>\n<h1>Licence</h1>\n<p>All of the source code is open source, free to use even for commercial products (MIT licence).</p>\n"},{"tags":[],"owner":{"account_id":10878966,"reputation":734,"user_id":8000120,"display_name":"J. Jerez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663635083,"creation_date":1663635083,"answer_id":73780575,"question_id":3697449,"body_markdown":"It&#39;s very easy and no configuration is needed if you use Spring with Maven.\r\nAccording to the [“Automatic Property Expansion Using Maven”][1] official documentation you can automatically expand properties from the Maven project by using resource filtering. If you use the spring-boot-starter-parent, you can then refer to your Maven ‘project properties’ with @..@ placeholders, as shown in the following example:\r\n\r\n    project.version=@project.version@\r\n    project.artifactId=@project.artifactId@\r\n\r\nAnd you can retrieve it with @Value annotation in any class:\r\n\r\n    @Value(&quot;${project.artifactId}@${project.version}&quot;)\r\n    private String RELEASE;\r\n\r\nI hope this helps!\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.properties-and-configuration.expand-properties.maven","title":"Retrieve version from maven pom.xml in code","body":"<p>It's very easy and no configuration is needed if you use Spring with Maven.\nAccording to the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.properties-and-configuration.expand-properties.maven\" rel=\"nofollow noreferrer\">“Automatic Property Expansion Using Maven”</a> official documentation you can automatically expand properties from the Maven project by using resource filtering. If you use the spring-boot-starter-parent, you can then refer to your Maven ‘project properties’ with @..@ placeholders, as shown in the following example:</p>\n<pre><code>project.version=@project.version@\nproject.artifactId=@project.artifactId@\n</code></pre>\n<p>And you can retrieve it with @Value annotation in any class:</p>\n<pre><code>@Value(&quot;${project.artifactId}@${project.version}&quot;)\nprivate String RELEASE;\n</code></pre>\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":26229192,"reputation":1,"user_id":19905455,"display_name":"Maryna Vasylenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785287,"creation_date":1668784909,"answer_id":74491832,"question_id":3697449,"body_markdown":"Accepted answer worked for me once in the step #2 I changed &lt;code&gt;${project.version}&lt;/code&gt; to &lt;code&gt;${pom.version}&lt;/code&gt;","title":"Retrieve version from maven pom.xml in code","body":"<p>Accepted answer worked for me once in the step #2 I changed <code>${project.version}</code> to <code>${pom.version}</code></p>\n"}],"owner":{"account_id":196153,"reputation":4695,"user_id":439450,"accept_rate":79,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273584,"favorite_count":0,"down_vote_count":0,"up_vote_count":333,"accepted_answer_id":3697482,"answer_count":16,"score":333,"last_activity_date":1668785287,"creation_date":1284341769,"question_id":3697449,"body_markdown":"What is the simplest way to retrieve version number from maven&#39;s pom.xml in code, i.e., programatically?","title":"Retrieve version from maven pom.xml in code","body":"<p>What is the simplest way to retrieve version number from maven's pom.xml in code, i.e., programatically?</p>\n"},{"tags":["java","spring","synchronization","infinispan","thread-synchronization"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668761773,"post_id":74487003,"comment_id":131489651,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2471887,"reputation":1379,"user_id":2153535,"display_name":"Tristan Tarrant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785083,"creation_date":1668785083,"answer_id":74491869,"question_id":74487003,"body_markdown":"There are several ways to implement this:\r\n\r\n - using counters https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#remotecache_countermanager-hotrod-client-api\r\n - using transactions https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#hotrod_transactions\r\n - using versioned operations ","title":"Java synchronisation with infinispan","body":"<p>There are several ways to implement this:</p>\n<ul>\n<li>using counters <a href=\"https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#remotecache_countermanager-hotrod-client-api\" rel=\"nofollow noreferrer\">https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#remotecache_countermanager-hotrod-client-api</a></li>\n<li>using transactions <a href=\"https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#hotrod_transactions\" rel=\"nofollow noreferrer\">https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#hotrod_transactions</a></li>\n<li>using versioned operations</li>\n</ul>\n"}],"owner":{"account_id":25896963,"reputation":1,"user_id":19623399,"display_name":"Gagan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668785083,"creation_date":1668761231,"question_id":74487003,"body_markdown":"I need to display number of users currently logged in to an application..\r\nI am using one cache to store the current number of user.\r\nAnd i am doing this operations,\r\nWhen the user logged to an application i am fetching the number of users from the cache and incrementing the value by 1 since one more user has logged in.\r\nBut i am facing problem when multiple users logged at the same time..\r\nCan any plz help me resolve this issue?\r\n\r\nI need to display number of users currently logged in to an application..\r\n\r\nI am using one cache to store the current number of user.\r\n\r\nAnd i am doing this operations,\r\n\r\nWhen the user logged to an application i am fetching the number of users from the cache and incrementing the value by 1 since one more user has logged in.\r\n\r\nBut i am facing problem when multiple users logged at the same time..\r\n\r\nCan any plz help me resolve this issue?","title":"Java synchronisation with infinispan","body":"<p>I need to display number of users currently logged in to an application..\nI am using one cache to store the current number of user.\nAnd i am doing this operations,\nWhen the user logged to an application i am fetching the number of users from the cache and incrementing the value by 1 since one more user has logged in.\nBut i am facing problem when multiple users logged at the same time..\nCan any plz help me resolve this issue?</p>\n<p>I need to display number of users currently logged in to an application..</p>\n<p>I am using one cache to store the current number of user.</p>\n<p>And i am doing this operations,</p>\n<p>When the user logged to an application i am fetching the number of users from the cache and incrementing the value by 1 since one more user has logged in.</p>\n<p>But i am facing problem when multiple users logged at the same time..</p>\n<p>Can any plz help me resolve this issue?</p>\n"},{"tags":["java","kotlin","gradle","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":11569135,"reputation":302,"user_id":8476400,"display_name":"orby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668784909,"creation_date":1668784600,"answer_id":74491776,"question_id":73186364,"body_markdown":"Change to \r\n```groovy\r\ntestImplementation &quot;org.junit.jupiter:junit-jupiter-engine&quot;\r\n```","title":"Could not find method testRuntime() for arguments [org.junit.jupiter:junit-jupiter-engine]","body":"<p>Change to</p>\n<pre><code>testImplementation &quot;org.junit.jupiter:junit-jupiter-engine&quot;\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1668784909,"creation_date":1659296124,"question_id":73186364,"body_markdown":"jdk 1.8.\r\n\r\nGradle 7.3\r\n\r\n\r\nIn my java project I want to write unit test by Kotlin. So I try this:\r\n\r\nin build.gradle:\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &quot;com.nocwriter.runsql&quot; version &quot;1.0.3&quot;\r\n        id &#39;idea&#39;\r\n        id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\r\n        id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.7.10&#39;\r\n    }\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    dependencies {\r\n        // The dependencies in the BOM will be dependency constraints in our build, but the versions in the BOM are forced for used dependencies.\r\n        implementation enforcedPlatform(&#39;org.springframework.boot:spring-boot-dependencies:2.7.2&#39;)\r\n    \r\n        // Use dependency defined in BOM.\r\n        // Version is not needed, because the version defined in the BOM is a dependency constraint that is used.\r\n        implementation &#39;org.xerial:sqlite-jdbc&#39;\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-stdlib&#39;\r\n        testImplementation(\r\n                &#39;org.assertj:assertj-core&#39;,\r\n                &#39;org.junit.jupiter:junit-jupiter-api&#39;\r\n        )\r\n        testRuntime(&#39;org.junit.jupiter:junit-jupiter-engine&#39;)\r\n    \r\n        // This version will be overridden by the one found in the BOM\r\n        implementation &#39;log4j:log4j:1.2.17&#39;\r\n        implementation &#39;com.toedter:jcalendar:1.4&#39;\r\n        \r\n    }\r\n\r\nUsage:\r\n\r\n    ./gradlew build\r\n\r\nBut I get error in this line:\r\n\r\n    testRuntime(&#39;org.junit.jupiter:junit-jupiter-engine&#39;)\r\n\r\nError:\r\n\r\n     What went wrong:\r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Could not find method testRuntime() for arguments [org.junit.jupiter:junit-jupiter-engine] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\n","title":"Could not find method testRuntime() for arguments [org.junit.jupiter:junit-jupiter-engine]","body":"<p>jdk 1.8.</p>\n<p>Gradle 7.3</p>\n<p>In my java project I want to write unit test by Kotlin. So I try this:</p>\n<p>in build.gradle:</p>\n<pre><code>plugins {\n    id 'application'\n    id &quot;com.nocwriter.runsql&quot; version &quot;1.0.3&quot;\n    id 'idea'\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\n    id 'org.jetbrains.kotlin.jvm' version '1.7.10'\n}\napply plugin: &quot;io.spring.dependency-management&quot;\ndependencies {\n    // The dependencies in the BOM will be dependency constraints in our build, but the versions in the BOM are forced for used dependencies.\n    implementation enforcedPlatform('org.springframework.boot:spring-boot-dependencies:2.7.2')\n\n    // Use dependency defined in BOM.\n    // Version is not needed, because the version defined in the BOM is a dependency constraint that is used.\n    implementation 'org.xerial:sqlite-jdbc'\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib'\n    testImplementation(\n            'org.assertj:assertj-core',\n            'org.junit.jupiter:junit-jupiter-api'\n    )\n    testRuntime('org.junit.jupiter:junit-jupiter-engine')\n\n    // This version will be overridden by the one found in the BOM\n    implementation 'log4j:log4j:1.2.17'\n    implementation 'com.toedter:jcalendar:1.4'\n    \n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>./gradlew build\n</code></pre>\n<p>But I get error in this line:</p>\n<pre><code>testRuntime('org.junit.jupiter:junit-jupiter-engine')\n</code></pre>\n<p>Error:</p>\n<pre><code> What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Could not find method testRuntime() for arguments [org.junit.jupiter:junit-jupiter-engine] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","websocket","spring-websocket"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668785853,"post_id":72628157,"comment_id":131497912,"body_markdown":"so, is there a question ?","body":"so, is there a question ?"}],"owner":{"account_id":22649623,"reputation":53,"user_id":16824491,"display_name":"WebDev1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668783919,"creation_date":1655281804,"question_id":72628157,"body_markdown":"I&#39;m a backend dev coming from a Python/Django background, and there, there&#39;s a module that introduces channels to websockets.\r\n\r\nFor example, user 1 and 2 can subscribe to a channel i.e. `/payment/1` and user 3 and 4 can subscribe to a channel `/payment/2`. If a message gets sent to a channel, then only those users would get the message.\r\n\r\nI&#39;m finding the Spring websocket somewhat difficult to understand, so this might be something trivial. ","title":"How to subscribe a user to a websocket channel in Java Spring Boot?","body":"<p>I'm a backend dev coming from a Python/Django background, and there, there's a module that introduces channels to websockets.</p>\n<p>For example, user 1 and 2 can subscribe to a channel i.e. <code>/payment/1</code> and user 3 and 4 can subscribe to a channel <code>/payment/2</code>. If a message gets sent to a channel, then only those users would get the message.</p>\n<p>I'm finding the Spring websocket somewhat difficult to understand, so this might be something trivial.</p>\n"},{"tags":["java","android","sqlite","kotlin"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":2,"creation_date":1657620229,"post_id":72950355,"comment_id":128848507,"body_markdown":"Why don&#39;t you use the insert() method: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insert(java.lang.String,%20java.lang.String,%20android.content.ContentValues)?","body":"Why don&#39;t you use the insert() method: <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insert(java.lang.String,%20java.lang.String,%20android.content.ContentValues)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/database/sqlite/&hellip;</a>?"},{"owner":{"account_id":2613857,"reputation":2238,"user_id":2263395,"accept_rate":60,"display_name":"Tom Raganowicz"},"score":0,"creation_date":1657635117,"post_id":72950355,"comment_id":128854184,"body_markdown":"@forpas Actually `insert` worked well, but was throwing constraint exceptions. Once replaced with: `insertWithOnConflict` works flawlessly. It&#39;s great that Android API can make up some feature lacking natively in that SQLite version.","body":"@forpas Actually <code>insert</code> worked well, but was throwing constraint exceptions. Once replaced with: <code>insertWithOnConflict</code> works flawlessly. It&#39;s great that Android API can make up some feature lacking natively in that SQLite version."}],"answers":[{"tags":[],"owner":{"account_id":2613857,"reputation":2238,"user_id":2263395,"accept_rate":60,"display_name":"Tom Raganowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668783261,"creation_date":1657622022,"answer_id":72950908,"question_id":72950355,"body_markdown":"I changed to [native insert][1]. I have no clue why `changes()` erroneously returns 1 sometimes.\r\n\r\n    fun insertFilePath(filePath : String) : Boolean {\r\n        val db = this.writableDatabase\r\n    \r\n        val values = ContentValues()\r\n        values.put(&quot;filePath&quot;, filePath)\r\n            \r\n        // Classic `insert` function was throwing SQLiteConstraintException errors\r\n        val rowId = db.insertWithOnConflict(&quot;Files&quot;, null, values, CONFLICT_IGNORE)\r\n    \r\n        if (rowId != -1L) {\r\n            LogHelper.log(this, &quot;Inserted UNIQUE filePath: $filePath, rowId: $rowId&quot;)\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insertWithOnConflict(java.lang.String,%20java.lang.String,%20android.content.ContentValues,%20int)","title":"On INSERT, changes() sometimes returns 1 even if row already existed","body":"<p>I changed to <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insertWithOnConflict(java.lang.String,%20java.lang.String,%20android.content.ContentValues,%20int)\" rel=\"nofollow noreferrer\">native insert</a>. I have no clue why <code>changes()</code> erroneously returns 1 sometimes.</p>\n<pre><code>fun insertFilePath(filePath : String) : Boolean {\n    val db = this.writableDatabase\n\n    val values = ContentValues()\n    values.put(&quot;filePath&quot;, filePath)\n        \n    // Classic `insert` function was throwing SQLiteConstraintException errors\n    val rowId = db.insertWithOnConflict(&quot;Files&quot;, null, values, CONFLICT_IGNORE)\n\n    if (rowId != -1L) {\n        LogHelper.log(this, &quot;Inserted UNIQUE filePath: $filePath, rowId: $rowId&quot;)\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2613857,"reputation":2238,"user_id":2263395,"accept_rate":60,"display_name":"Tom Raganowicz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1668783261,"creation_date":1657619514,"question_id":72950355,"body_markdown":"Table:\r\n\r\n    CREATE TABLE UniqueFile (\r\n        filePath TEXT NOT NULL UNIQUE,\r\n        created INTEGER NOT NULL DEFAULT (strftime(&#39;%s&#39;, &#39;now&#39;))\r\n    )\r\n\r\nwhich along with SQLite&#39;s `changes()` function I use to determine if file entry is inserted for the first time or not:\r\n\r\n```\r\nfun insertFilePath(filePath : String) : Boolean {\r\n        val db = this.writableDatabase\r\n        db.execSQL(&quot;INSERT OR IGNORE INTO UniqueFile (filePath) VALUES(?)&quot;, arrayOf(filePath)) // This will silently hide any other errors. Better alternative is `INSERT ... ON CONFLICT DO NOTHING`, however it requires SQLite 3.24.0+\r\n\r\n        val cursor = db.rawQuery(&quot;select changes()&quot;, null)\r\n        cursor.moveToFirst()\r\n        val changes = cursor.getInt(0)\r\n        cursor.close()\r\n\r\n        if (changes &gt; 0) {\r\n            LogHelper.log(this, &quot;Inserted UNIQUE filePath: $filePath, changes: $changes&quot;)\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nSometimes `changes()` returns `1` even for existing entry.\r\n\r\n```\r\nFirst: [2022-07-12 08:27:26]: Inserted UNIQUE filePath: /storage/emulated/0/somefile.jpg\r\nSecond: [2022-07-12 08:28:32]: Inserted UNIQUE filePath: /storage/emulated/0/somefile.jpg\r\n```\r\n\r\n`created` field is set to `1657614446` which translates to 08:27:26. It&#39;s like second INSERT was at 08:28:32, but it wasn&#39;t as there is no duplicate. Yet `changes()` returned 1.\r\n\r\nThere is no other function which reads/deletes/writes to this table, however there may be multiple threads opening connections to database. I use singleton approach to make sure only one database connection is open at a time.\r\n\r\n```\r\nclass DatabaseHandler private constructor(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {\r\n\r\n \t\tprivate var instance: DatabaseHandler? = null\r\n        fun getInstance(context: Context) : DatabaseHandler {\r\n            if (instance == null) {\r\n                instance = DatabaseHandler(context)             \r\n            }\r\n\r\n            return instance as DatabaseHandler\r\n        }\r\n}\r\n```\r\n\r\nHow could this happen? I would happily get rid of `INSERT OR IGNORE` but need to support devices with SQLite not supporting `ON DUPLICATE` clause.","title":"On INSERT, changes() sometimes returns 1 even if row already existed","body":"<p>Table:</p>\n<pre><code>CREATE TABLE UniqueFile (\n    filePath TEXT NOT NULL UNIQUE,\n    created INTEGER NOT NULL DEFAULT (strftime('%s', 'now'))\n)\n</code></pre>\n<p>which along with SQLite's <code>changes()</code> function I use to determine if file entry is inserted for the first time or not:</p>\n<pre><code>fun insertFilePath(filePath : String) : Boolean {\n        val db = this.writableDatabase\n        db.execSQL(&quot;INSERT OR IGNORE INTO UniqueFile (filePath) VALUES(?)&quot;, arrayOf(filePath)) // This will silently hide any other errors. Better alternative is `INSERT ... ON CONFLICT DO NOTHING`, however it requires SQLite 3.24.0+\n\n        val cursor = db.rawQuery(&quot;select changes()&quot;, null)\n        cursor.moveToFirst()\n        val changes = cursor.getInt(0)\n        cursor.close()\n\n        if (changes &gt; 0) {\n            LogHelper.log(this, &quot;Inserted UNIQUE filePath: $filePath, changes: $changes&quot;)\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n<p>Sometimes <code>changes()</code> returns <code>1</code> even for existing entry.</p>\n<pre><code>First: [2022-07-12 08:27:26]: Inserted UNIQUE filePath: /storage/emulated/0/somefile.jpg\nSecond: [2022-07-12 08:28:32]: Inserted UNIQUE filePath: /storage/emulated/0/somefile.jpg\n</code></pre>\n<p><code>created</code> field is set to <code>1657614446</code> which translates to 08:27:26. It's like second INSERT was at 08:28:32, but it wasn't as there is no duplicate. Yet <code>changes()</code> returned 1.</p>\n<p>There is no other function which reads/deletes/writes to this table, however there may be multiple threads opening connections to database. I use singleton approach to make sure only one database connection is open at a time.</p>\n<pre><code>class DatabaseHandler private constructor(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {\n\n        private var instance: DatabaseHandler? = null\n        fun getInstance(context: Context) : DatabaseHandler {\n            if (instance == null) {\n                instance = DatabaseHandler(context)             \n            }\n\n            return instance as DatabaseHandler\n        }\n}\n</code></pre>\n<p>How could this happen? I would happily get rid of <code>INSERT OR IGNORE</code> but need to support devices with SQLite not supporting <code>ON DUPLICATE</code> clause.</p>\n"},{"tags":["java","maven","migration","java-8","javadoc"],"comments":[{"owner":{"account_id":415316,"reputation":8582,"user_id":790053,"accept_rate":62,"display_name":"Sergio"},"score":0,"creation_date":1365448570,"post_id":15886209,"comment_id":22620180,"body_markdown":"Hi @75inchpianist, I have updated the question, in fact they are errors (although surprisingly enough the last line of the error refers to a warning, as you can see in the generated output). The project is not installed in my local repository, so it is not considered as a simple warning :(","body":"Hi @75inchpianist, I have updated the question, in fact they are errors (although surprisingly enough the last line of the error refers to a warning, as you can see in the generated output). The project is not installed in my local repository, so it is not considered as a simple warning :("},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":0,"creation_date":1392748243,"post_id":15886209,"comment_id":33097398,"body_markdown":"For GoogleJuice: I got the error &quot;error: bad use of &#39;&gt;&#39;&quot; because I had a big arrow in JavaDoc comment","body":"For GoogleJuice: I got the error &quot;error: bad use of &#39;&gt;&#39;&quot; because I had a big arrow in JavaDoc comment"},{"owner":{"account_id":1044212,"reputation":3002,"user_id":1049542,"accept_rate":36,"display_name":"Sergey Ponomarev"},"score":3,"creation_date":1439311114,"post_id":15886209,"comment_id":51804324,"body_markdown":"Maybe it will be useful for someone: You can easily find all this incomplete tags in IntelliJ by running inspection Ctrl+Alt+Shift+i  &quot;Declaration has JavaDoc problems&quot;","body":"Maybe it will be useful for someone: You can easily find all this incomplete tags in IntelliJ by running inspection Ctrl+Alt+Shift+i  &quot;Declaration has JavaDoc problems&quot;"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1509495119,"post_id":15886209,"comment_id":81039961,"body_markdown":"This is not maven, it is the javadoc program which got a lot stricter in Java 8.","body":"This is not maven, it is the javadoc program which got a lot stricter in Java 8."}],"answers":[{"tags":[],"owner":{"account_id":302679,"reputation":9593,"user_id":611182,"display_name":"Martin Ellis"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1369253273,"creation_date":1369253273,"answer_id":16700705,"question_id":15886209,"body_markdown":"You could try setting the `failOnError` property (see [plugin documentation][1]) to `false`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;failOnError&gt;false&lt;/failOnError&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAs you can see from the docs, the default value is `true`.\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#failOnError","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>You could try setting the <code>failOnError</code> property (see <a href=\"http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#failOnError\">plugin documentation</a>) to <code>false</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.9&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;failOnError&gt;false&lt;/failOnError&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>As you can see from the docs, the default value is <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":104631,"reputation":14320,"user_id":279614,"display_name":"Subhas"},"down_vote_count":1,"up_vote_count":426,"is_accepted":true,"score":425,"last_activity_date":1582292267,"creation_date":1369427319,"answer_id":16743137,"question_id":15886209,"body_markdown":"The best solution would be to fix the javadoc errors. If for some reason that is not possible (ie: auto generated source code) then you can disable this check.\r\n\r\n[DocLint is a new feature in Java 8](http://openjdk.java.net/jeps/172), which is summarized as:\r\n\r\n&gt; Provide a means to detect errors in Javadoc comments early in the\r\n&gt; development cycle and in a way that is easily linked back to the\r\n&gt; source code.\r\n\r\nThis is enabled by default, and will run a whole lot of checks before generating Javadocs. You need to turn this off for Java 8 as specified [in this thread](http://mail.openjdk.java.net/pipermail/build-infra-dev/2013-January/002899.html). You&#39;ll have to add this to your maven configuration:\r\n\r\n    &lt;profiles&gt;\r\n      &lt;profile&gt;\r\n        &lt;id&gt;java8-doclint-disabled&lt;/id&gt;\r\n        &lt;activation&gt;\r\n          &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\r\n        &lt;/activation&gt;\r\n        &lt;properties&gt;\r\n          &lt;javadoc.opts&gt;-Xdoclint:none&lt;/javadoc.opts&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;jar&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;reportPlugins&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\r\n                  &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n              &lt;/reportPlugins&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n**For maven-javadoc-plugin 3.0.0+:**\r\nReplace\r\n\r\n    &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n\r\nwith\r\n\r\n    &lt;doclint&gt;none&lt;/doclint&gt;\r\n\r\n","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>The best solution would be to fix the javadoc errors. If for some reason that is not possible (ie: auto generated source code) then you can disable this check.</p>\n\n<p><a href=\"http://openjdk.java.net/jeps/172\" rel=\"noreferrer\">DocLint is a new feature in Java 8</a>, which is summarized as:</p>\n\n<blockquote>\n  <p>Provide a means to detect errors in Javadoc comments early in the\n  development cycle and in a way that is easily linked back to the\n  source code.</p>\n</blockquote>\n\n<p>This is enabled by default, and will run a whole lot of checks before generating Javadocs. You need to turn this off for Java 8 as specified <a href=\"http://mail.openjdk.java.net/pipermail/build-infra-dev/2013-January/002899.html\" rel=\"noreferrer\">in this thread</a>. You'll have to add this to your maven configuration:</p>\n\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;java8-doclint-disabled&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n    &lt;/activation&gt;\n    &lt;properties&gt;\n      &lt;javadoc.opts&gt;-Xdoclint:none&lt;/javadoc.opts&gt;\n    &lt;/properties&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.9&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;jar&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;reportPlugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\n              &lt;/configuration&gt;\n            &lt;/plugin&gt;\n          &lt;/reportPlugins&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n   &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>For maven-javadoc-plugin 3.0.0+:</strong>\nReplace</p>\n\n<pre><code>&lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;doclint&gt;none&lt;/doclint&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67017,"reputation":4157,"user_id":196315,"display_name":"ankon"},"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1408108866,"creation_date":1394442988,"answer_id":22296107,"question_id":15886209,"body_markdown":"The easiest approach to get things working with both java 8 and java 7 is to use a profile in the build:\r\n\r\n    &lt;profiles&gt;\r\n      &lt;profile&gt;\r\n        &lt;id&gt;doclint-java8-disable&lt;/id&gt;\r\n        &lt;activation&gt;\r\n          &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\r\n        &lt;/activation&gt;\r\n    \r\n        &lt;build&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n              &lt;configuration&gt;\r\n                &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n      &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>The easiest approach to get things working with both java 8 and java 7 is to use a profile in the build:</p>\n\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;doclint-java8-disable&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n    &lt;/activation&gt;\n\n    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2648113,"reputation":336,"user_id":2290418,"display_name":"Jakub Skoczen"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1397114130,"creation_date":1397114130,"answer_id":22981151,"question_id":15886209,"body_markdown":"Overriding `maven-javadoc-plugin` configuration only, does not fix the problem with `mvn site` (used e.g during the release stage). Here&#39;s what I had to do:\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;doclint-java8-disable&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;reportPlugins&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n                  &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n              &lt;/reportPlugins&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Overriding <code>maven-javadoc-plugin</code> configuration only, does not fix the problem with <code>mvn site</code> (used e.g during the release stage). Here's what I had to do:</p>\n\n<pre><code>&lt;profile&gt;\n  &lt;id&gt;doclint-java8-disable&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;reportPlugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n              &lt;/configuration&gt;\n            &lt;/plugin&gt;\n          &lt;/reportPlugins&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2391748,"reputation":3426,"user_id":2091470,"accept_rate":58,"display_name":"Oliver Gondža"},"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1552397791,"creation_date":1415379054,"answer_id":26806103,"question_id":15886209,"body_markdown":"Here is the most concise way I am aware of to ignore doclint warnings regardless of java version used. There is no need to duplicate plugin configuration in multiple profiles with slight modifications.\r\n\r\n    &lt;profiles&gt;\r\n      &lt;profile&gt;\r\n        &lt;id&gt;doclint-java8-disable&lt;/id&gt;\r\n        &lt;activation&gt;\r\n          &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\r\n        &lt;/activation&gt;\r\n        &lt;properties&gt;\r\n          &lt;javadoc.opts&gt;-Xdoclint:none&lt;/javadoc.opts&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    \r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.9.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;attach-javadocs&lt;/id&gt; &lt;!-- The actual id should be apparent from maven output --&gt;\r\n              &lt;configuration&gt;\r\n                &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        ...\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nTested on oracle/open jdk 6, 7, 8 and 11.","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Here is the most concise way I am aware of to ignore doclint warnings regardless of java version used. There is no need to duplicate plugin configuration in multiple profiles with slight modifications.</p>\n\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;doclint-java8-disable&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n    &lt;/activation&gt;\n    &lt;properties&gt;\n      &lt;javadoc.opts&gt;-Xdoclint:none&lt;/javadoc.opts&gt;\n    &lt;/properties&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.9.1&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;attach-javadocs&lt;/id&gt; &lt;!-- The actual id should be apparent from maven output --&gt;\n          &lt;configuration&gt;\n            &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n    ...\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Tested on oracle/open jdk 6, 7, 8 and 11.</p>\n"},{"tags":[],"owner":{"account_id":1525852,"reputation":1543,"user_id":1424321,"display_name":"zapp"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1431769453,"creation_date":1431769453,"answer_id":30274114,"question_id":15886209,"body_markdown":"Add into the global properties section in the pom file:\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n            &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n        &lt;/properties&gt;\r\n\r\nThe common solution provided here in the other answers (adding that property in the plugins section) did not work for some reason. Only by setting it globally I could build the javadoc jar successfully.","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Add into the global properties section in the pom file:</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;properties&gt;\n        &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n    &lt;/properties&gt;\n</code></pre>\n\n<p>The common solution provided here in the other answers (adding that property in the plugins section) did not work for some reason. Only by setting it globally I could build the javadoc jar successfully.</p>\n"},{"tags":[],"owner":{"account_id":2728269,"reputation":8653,"user_id":2352699,"accept_rate":36,"display_name":"Fred Porci&#250;ncula"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1516966974,"creation_date":1451911603,"answer_id":34591533,"question_id":15886209,"body_markdown":"# The shortest solution that will work with any Java version:\n\n&lt;!-- language: lang-xml --&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;disable-java8-doclint&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\nJust add that to your POM and you&#39;re good to go.\n\nThis is basically [@ankon&#39;s answer](https://stackoverflow.com/a/22296107/2352699) plus [@zapp&#39;s answer](https://stackoverflow.com/a/30274114/2352699).\n\n---\n### For maven-javadoc-plugin 3.0.0 users:\nReplace\n\n`&lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;` \n\nby \n\n`&lt;doclint&gt;none&lt;/doclint&gt;`","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<h1>The shortest solution that will work with any Java version:</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;disable-java8-doclint&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>Just add that to your POM and you're good to go.</p>\n<p>This is basically <a href=\"https://stackoverflow.com/a/22296107/2352699\">@ankon's answer</a> plus <a href=\"https://stackoverflow.com/a/30274114/2352699\">@zapp's answer</a>.</p>\n<hr />\n<h3>For maven-javadoc-plugin 3.0.0 users:</h3>\n<p>Replace</p>\n<p><code>&lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;</code></p>\n<p>by</p>\n<p><code>&lt;doclint&gt;none&lt;/doclint&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1471169155,"creation_date":1452856518,"answer_id":34809831,"question_id":15886209,"body_markdown":"I don&#39;t think just turning off DocLint is a good solution, at least not long term. It is good that Javadoc has become a bit more strict so the right way to fix the build problem is to **fix the underlying problem**. Yes, you&#39;ll ultimately need to fix those source code files.\r\n\r\nHere are the things to look out for that you could previously get away with:\r\n\r\n* Malformed HTML (for example a missing end-tag, un-escaped brackets, etc)\r\n* Invalid `{@link }`s. (same goes for similar tags such as `@see`)\r\n* Invalid `@author` values. This used to be accepted : `@author John &lt;john.doe@mine.com&gt;` but not so anymore because of the un-escaped brackets.\r\n* HTML tables in Javadoc now require a summary or caption. See [this question][1] for explanation.\r\n\r\nYou&#39;ll simply have to fix your source code files and keep building your Javadoc until it can build without a failure. Cumbersome yes, but personally I like when I have brought my projects up to DocLint level because it means I can be more confident that the Javadoc I produce is actually what I intend.\r\n\r\nThere&#39;s of course the problem if you are generating Javadoc on some source code you&#39;ve not produced yourself, for example because it comes from some code generator, e.g. [wsimport][2]. Strange that Oracle didn&#39;t prepare their own tools for JDK8 compliance before actually releasing JDK8. It seems [it won&#39;t be fixed until Java 9][3]. Only in this particular case I suggest to turn off DocLint as documented elsewhere on this page.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/22528767/1504556\r\n  [2]: http://docs.oracle.com/javase/8/docs/technotes/tools/index.html#webservices\r\n  [3]: http://openjdk.java.net/jeps/212","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>I don't think just turning off DocLint is a good solution, at least not long term. It is good that Javadoc has become a bit more strict so the right way to fix the build problem is to <strong>fix the underlying problem</strong>. Yes, you'll ultimately need to fix those source code files.</p>\n\n<p>Here are the things to look out for that you could previously get away with:</p>\n\n<ul>\n<li>Malformed HTML (for example a missing end-tag, un-escaped brackets, etc)</li>\n<li>Invalid <code>{@link }</code>s. (same goes for similar tags such as <code>@see</code>)</li>\n<li>Invalid <code>@author</code> values. This used to be accepted : <code>@author John &lt;john.doe@mine.com&gt;</code> but not so anymore because of the un-escaped brackets.</li>\n<li>HTML tables in Javadoc now require a summary or caption. See <a href=\"https://stackoverflow.com/q/22528767/1504556\">this question</a> for explanation.</li>\n</ul>\n\n<p>You'll simply have to fix your source code files and keep building your Javadoc until it can build without a failure. Cumbersome yes, but personally I like when I have brought my projects up to DocLint level because it means I can be more confident that the Javadoc I produce is actually what I intend.</p>\n\n<p>There's of course the problem if you are generating Javadoc on some source code you've not produced yourself, for example because it comes from some code generator, e.g. <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/index.html#webservices\" rel=\"noreferrer\">wsimport</a>. Strange that Oracle didn't prepare their own tools for JDK8 compliance before actually releasing JDK8. It seems <a href=\"http://openjdk.java.net/jeps/212\" rel=\"noreferrer\">it won't be fixed until Java 9</a>. Only in this particular case I suggest to turn off DocLint as documented elsewhere on this page.</p>\n"},{"tags":[],"owner":{"account_id":6266229,"reputation":118,"user_id":4871886,"display_name":"Raghu Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459652330,"creation_date":1459652330,"answer_id":36381155,"question_id":15886209,"body_markdown":"I&#39;m not sure if this is going to help, but even i faced the exact same problem very recently with **oozie-4.2.0** version.  After reading through the above answers i have just added the maven option through command line and it worked for me.  So, just sharing here.\r\n\r\nI&#39;m using java **1.8.0_77**, haven&#39;t tried with java 1.7  \r\n\r\nbin/mkdistro.sh -DskipTests **-Dmaven.javadoc.opts=&#39;-Xdoclint:-html&#39;**  ","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>I'm not sure if this is going to help, but even i faced the exact same problem very recently with <strong>oozie-4.2.0</strong> version.  After reading through the above answers i have just added the maven option through command line and it worked for me.  So, just sharing here.</p>\n\n<p>I'm using java <strong>1.8.0_77</strong>, haven't tried with java 1.7  </p>\n\n<p>bin/mkdistro.sh -DskipTests <strong>-Dmaven.javadoc.opts='-Xdoclint:-html'</strong>  </p>\n"},{"tags":[],"owner":{"account_id":2034272,"reputation":4862,"user_id":1817029,"accept_rate":84,"display_name":"My-Name-Is"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1462289799,"creation_date":1462289799,"answer_id":37008481,"question_id":15886209,"body_markdown":"Since it depends on the version of your JRE which is used to run the maven command you propably dont want to disable `DocLint` per default in your pom.xml\r\n\r\nHence, from command line you can use the switch `-Dadditionalparam=-Xdoclint:none`.\r\n\r\nExample: `mvn clean install -Dadditionalparam=-Xdoclint:none`","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Since it depends on the version of your JRE which is used to run the maven command you propably dont want to disable <code>DocLint</code> per default in your pom.xml</p>\n\n<p>Hence, from command line you can use the switch <code>-Dadditionalparam=-Xdoclint:none</code>.</p>\n\n<p>Example: <code>mvn clean install -Dadditionalparam=-Xdoclint:none</code></p>\n"},{"tags":[],"owner":{"account_id":2199170,"reputation":821,"user_id":1944056,"accept_rate":75,"display_name":"mpasko256"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1508076333,"creation_date":1508076333,"answer_id":46755921,"question_id":15886209,"body_markdown":"I would like to add some insight into other answers\r\n\r\nIn my case \r\n&gt; -Xdoclint:none\r\n\r\nDidn&#39;t work.\r\n\r\nLet start with that, in my project, I didn&#39;t really need javadoc at all. Only some necessary plugins had got a build time dependency on it.\r\n\r\nSo, the most simple way solve my problem was: \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>I would like to add some insight into other answers</p>\n\n<p>In my case </p>\n\n<blockquote>\n  <p>-Xdoclint:none</p>\n</blockquote>\n\n<p>Didn't work.</p>\n\n<p>Let start with that, in my project, I didn't really need javadoc at all. Only some necessary plugins had got a build time dependency on it.</p>\n\n<p>So, the most simple way solve my problem was: </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;skip&gt;true&lt;/skip&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6273007,"reputation":392,"user_id":7347179,"display_name":"Balachandar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1513806601,"creation_date":1513806601,"answer_id":47914847,"question_id":15886209,"body_markdown":"The configuration property name has been changed in the latest version of maven-javadoc-plugin which is 3.0.0. \r\n\r\nHence the &amp;lt;additionalparam&amp;gt; will not work. So we have to modify it as below.\r\n\r\n       &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n             &lt;doclint&gt;none&lt;/doclint&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>The configuration property name has been changed in the latest version of maven-javadoc-plugin which is 3.0.0. </p>\n\n<p>Hence the &lt;additionalparam&gt; will not work. So we have to modify it as below.</p>\n\n<pre><code>   &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;configuration&gt;\n         &lt;doclint&gt;none&lt;/doclint&gt;\n      &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5517095,"reputation":399,"user_id":4381451,"display_name":"amanzoor"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1517410486,"creation_date":1517410486,"answer_id":48545078,"question_id":15886209,"body_markdown":"As of maven-javadoc-plugin 3.0.0 you should have been using [additionalJOption][1] to set an additional Javadoc option, so if you would like Javadoc to disable doclint, you should add the following property. \r\n    \r\n    &lt;properties&gt;\r\n        ...\r\n        &lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;\r\n        ...\r\n    &lt;properties&gt;\r\n\r\nYou should also mention the version of maven-javadoc-plugin as 3.0.0 or higher. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\t\r\n\t&lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#additionalJOption","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>As of maven-javadoc-plugin 3.0.0 you should have been using <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#additionalJOption\" rel=\"noreferrer\">additionalJOption</a> to set an additional Javadoc option, so if you would like Javadoc to disable doclint, you should add the following property. </p>\n\n<pre><code>&lt;properties&gt;\n    ...\n    &lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;\n    ...\n&lt;properties&gt;\n</code></pre>\n\n<p>You should also mention the version of maven-javadoc-plugin as 3.0.0 or higher. </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;    \n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7762785,"reputation":1,"user_id":6393084,"display_name":"Mariusz Borsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518239255,"creation_date":1518226160,"answer_id":48716350,"question_id":15886209,"body_markdown":"I&#39;m a bit late to the party, but I was forced to search for workaround too, ended up here, and then found it.\r\n\r\nHere&#39;s what works for me:-\r\n\r\n    export JAVA_TOOL_OPTIONS=-DadditionalJOption=-Xdoclint:none\r\n\r\nAnd then start your Maven build, any Linux distribution build etc. Nice thing about it that it doesn&#39;t require Maven *config* files modification - I couldn&#39;t do that as my objective was to rebuild a bunch of **Centos** rpm packages, so had to go really deep.","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>I'm a bit late to the party, but I was forced to search for workaround too, ended up here, and then found it.</p>\n\n<p>Here's what works for me:-</p>\n\n<pre><code>export JAVA_TOOL_OPTIONS=-DadditionalJOption=-Xdoclint:none\n</code></pre>\n\n<p>And then start your Maven build, any Linux distribution build etc. Nice thing about it that it doesn't require Maven <em>config</em> files modification - I couldn't do that as my objective was to rebuild a bunch of <strong>Centos</strong> rpm packages, so had to go really deep.</p>\n"},{"tags":[],"owner":{"account_id":11895985,"reputation":41,"user_id":8705407,"display_name":"snj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574354886,"creation_date":1518655575,"answer_id":48798566,"question_id":15886209,"body_markdown":"Added below\r\n\r\n    JAVA_TOOL_OPTIONS=-DadditionalJOption=-Xdoclint:none\r\n\r\nInto Jenkins job :  \r\n\r\n***Configuration &gt; Build Environment &gt; Inject environment variables to the build process &gt; Properties Content***\r\n\r\nSolved my problem of code building through Jenkins Maven :-)","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Added below</p>\n\n<pre><code>JAVA_TOOL_OPTIONS=-DadditionalJOption=-Xdoclint:none\n</code></pre>\n\n<p>Into Jenkins job :  </p>\n\n<p><strong><em>Configuration > Build Environment > Inject environment variables to the build process > Properties Content</em></strong></p>\n\n<p>Solved my problem of code building through Jenkins Maven :-)</p>\n"},{"tags":[],"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526481029,"creation_date":1526294274,"answer_id":50328297,"question_id":15886209,"body_markdown":"To ignore missing `@param` and `@return` tags, it&#39;s enough to disable the `missing` [doclint group][1]. This way, the javadoc will still be checked for higher level and syntax issues:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;doclint&gt;all,-missing&lt;/doclint&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nNote that this is for plugin version 3.0 or newer.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#BEJEFABE","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>To ignore missing <code>@param</code> and <code>@return</code> tags, it's enough to disable the <code>missing</code> <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#BEJEFABE\" rel=\"nofollow noreferrer\">doclint group</a>. This way, the javadoc will still be checked for higher level and syntax issues:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;doclint&gt;all,-missing&lt;/doclint&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Note that this is for plugin version 3.0 or newer.</p>\n"},{"tags":[],"owner":{"account_id":4093009,"reputation":89,"user_id":3360534,"accept_rate":0,"display_name":"rawrintheclouds"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533651978,"creation_date":1533651978,"answer_id":51729196,"question_id":15886209,"body_markdown":" So, save yourself some hours that I didn&#39;t and try this if it seems not to work:\r\n  \r\n\r\n     &lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;\r\n\r\nThe tag is changed for newer versions. ","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>So, save yourself some hours that I didn't and try this if it seems not to work:</p>\n\n<pre><code> &lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;\n</code></pre>\n\n<p>The tag is changed for newer versions. </p>\n"},{"tags":[],"owner":{"account_id":465807,"reputation":456,"user_id":870149,"display_name":"darkstar_mx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605037488,"creation_date":1605037488,"answer_id":64775740,"question_id":15886209,"body_markdown":"In my case I was using a parent pom (not sure it was the real cause since I was running against the clock), maven 2.x and java 1.6 were used, for some reason above solutions didn&#39;t work, so I added the following profile and managed it to make it run:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;myapp&lt;/name&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;description&gt;My App&lt;/description&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;parent-artifact&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;doclint-java6-disable&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;jdk&gt;[1.6,)&lt;/jdk&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;additionalparam&gt;--allow-script-in-comments&lt;/additionalparam&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    &lt;/project&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>In my case I was using a parent pom (not sure it was the real cause since I was running against the clock), maven 2.x and java 1.6 were used, for some reason above solutions didn't work, so I added the following profile and managed it to make it run:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myapp&lt;/name&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;My App&lt;/description&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-artifact&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;doclint-java6-disable&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;jdk&gt;[1.6,)&lt;/jdk&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;additionalparam&gt;--allow-script-in-comments&lt;/additionalparam&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9347215,"reputation":431,"user_id":6938132,"display_name":"srihitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668782586,"creation_date":1668782073,"answer_id":74491250,"question_id":15886209,"body_markdown":"Below configuration worked for me\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnError&gt;false&lt;/failOnError&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Below configuration worked for me</p>\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;failOnError&gt;false&lt;/failOnError&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":415316,"reputation":8582,"user_id":790053,"accept_rate":62,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225128,"favorite_count":0,"down_vote_count":0,"up_vote_count":346,"accepted_answer_id":16743137,"answer_count":19,"score":346,"last_activity_date":1668782586,"creation_date":1365445416,"question_id":15886209,"body_markdown":"Since I use Maven I have been able to build and install in my local repository projects that have incomplete Javadoc tags (for example, a missing parameter). \r\n\r\nHowever, since I migrated to Java 8 (1.8.0-ea-b90) Maven is absolutely strict about missing documentation tags and show me lots of Javadoc errors related to Javadoc problems when I try to build or install a project where the Javadoc is not &quot;perfect&quot;. Some of the projects I am trying to compile and install in my local repository are third party projects from which I do not have control. So the workaround of just fixing all the Javadocs in all these projects does not seem to be feasable in my scenario.\r\n\r\nThis is a small part of the output I see when I execute `mvn clean package install` in my project:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 9.026s\r\n    [INFO] Finished at: Mon Apr 08 21:06:17 CEST 2013\r\n    [INFO] Final Memory: 27M/437M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:2.9:jar (attach-javadocs) on project jpc: MavenReportException: Error while creating archive:\r\n    [ERROR] Exit code: 1 - /Users/sergioc/Documents/workspaces/heal/jpc/src/main/java/org/jpc/engine/prolog/PrologDatabase.java:10: error: @param name not found\r\n    [ERROR] * @param terms the terms to assert\r\n    [ERROR] ^\r\n    [ERROR] /Users/sergioc/Documents/workspaces/heal/jpc/src/main/java/org/jpc/engine/prolog/PrologDatabase.java:11: warning: no description for @return\r\n    [ERROR] * @return\r\n    [ERROR] ^\r\n\r\n\r\n\r\nThe Javadoc Maven plugin is configured like this in my POM:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAs I said before, everything is working fine if I go back to Java 7. \r\nMaybe is this a bug related to Maven running in Java 8?\r\nHow could I make it work (i.e., being able to build the Javadoc of the project and install its code in my local repository) with Java 8?\r\nI have tested with both Maven 3.0.3 and 3.0.5 in OSX.\r\n\r\n**UPDATE:**\r\n\r\nIf I change my Javadoc plugin configuration with `&lt;failOnError&gt;false&lt;/failOnError&gt;` (thanks Martin):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThen the project is installed in my local repository. However, the Javadoc JAR is still not generated.\r\n\r\nA fragment of the output I see in the console with this new configuration is:\r\n\r\n&gt; [ERROR] MavenReportException: Error while creating archive:  Exit\r\n&gt; code: 1 - /Users/....java:18: warning: no @param  ... Command line\r\n&gt; was: /Library/Java/Home/bin/javadoc @options @packages\r\n&gt; \r\n&gt; Refer to the generated Javadoc files in\r\n&gt; &#39;/Users/sergioc/Documents/workspaces/heal/minitoolbox/target/apidocs&#39;\r\n&gt; dir.\r\n&gt; \r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.javadoc.AbstractJavadocMojo.executeJavadocCommandLine(AbstractJavadocMojo.java:5043)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.javadoc.AbstractJavadocMojo.executeReport(AbstractJavadocMojo.java:1990)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.javadoc.JavadocJar.execute(JavadocJar.java:181)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n&gt; \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320) \tat\r\n&gt; org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156) \tat\r\n&gt; org.apache.maven.cli.MavenCli.execute(MavenCli.java:537) \tat\r\n&gt; org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196) \tat\r\n&gt; org.apache.maven.cli.MavenCli.main(MavenCli.java:141) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:491) \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n\r\nAny workaround about how to build the sources, install the project and generate the Javadoc JAR in one step as it was working with Java 7?","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Since I use Maven I have been able to build and install in my local repository projects that have incomplete Javadoc tags (for example, a missing parameter). </p>\n\n<p>However, since I migrated to Java 8 (1.8.0-ea-b90) Maven is absolutely strict about missing documentation tags and show me lots of Javadoc errors related to Javadoc problems when I try to build or install a project where the Javadoc is not \"perfect\". Some of the projects I am trying to compile and install in my local repository are third party projects from which I do not have control. So the workaround of just fixing all the Javadocs in all these projects does not seem to be feasable in my scenario.</p>\n\n<p>This is a small part of the output I see when I execute <code>mvn clean package install</code> in my project:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 9.026s\n[INFO] Finished at: Mon Apr 08 21:06:17 CEST 2013\n[INFO] Final Memory: 27M/437M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:2.9:jar (attach-javadocs) on project jpc: MavenReportException: Error while creating archive:\n[ERROR] Exit code: 1 - /Users/sergioc/Documents/workspaces/heal/jpc/src/main/java/org/jpc/engine/prolog/PrologDatabase.java:10: error: @param name not found\n[ERROR] * @param terms the terms to assert\n[ERROR] ^\n[ERROR] /Users/sergioc/Documents/workspaces/heal/jpc/src/main/java/org/jpc/engine/prolog/PrologDatabase.java:11: warning: no description for @return\n[ERROR] * @return\n[ERROR] ^\n</code></pre>\n\n<p>The Javadoc Maven plugin is configured like this in my POM:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.9&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>As I said before, everything is working fine if I go back to Java 7. \nMaybe is this a bug related to Maven running in Java 8?\nHow could I make it work (i.e., being able to build the Javadoc of the project and install its code in my local repository) with Java 8?\nI have tested with both Maven 3.0.3 and 3.0.5 in OSX.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If I change my Javadoc plugin configuration with <code>&lt;failOnError&gt;false&lt;/failOnError&gt;</code> (thanks Martin):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.9&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Then the project is installed in my local repository. However, the Javadoc JAR is still not generated.</p>\n\n<p>A fragment of the output I see in the console with this new configuration is:</p>\n\n<blockquote>\n  <p>[ERROR] MavenReportException: Error while creating archive:  Exit\n  code: 1 - /Users/....java:18: warning: no @param  ... Command line\n  was: /Library/Java/Home/bin/javadoc @options @packages</p>\n  \n  <p>Refer to the generated Javadoc files in\n  '/Users/sergioc/Documents/workspaces/heal/minitoolbox/target/apidocs'\n  dir.</p>\n  \n  <p>at\n  org.apache.maven.plugin.javadoc.AbstractJavadocMojo.executeJavadocCommandLine(AbstractJavadocMojo.java:5043)\n    at\n  org.apache.maven.plugin.javadoc.AbstractJavadocMojo.executeReport(AbstractJavadocMojo.java:1990)\n    at\n  org.apache.maven.plugin.javadoc.JavadocJar.execute(JavadocJar.java:181)\n    at\n  org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)   at\n  org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)  at\n  org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)  at\n  org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)   at\n  org.apache.maven.cli.MavenCli.main(MavenCli.java:141)     at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:491)     at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)</p>\n</blockquote>\n\n<p>Any workaround about how to build the sources, install the project and generate the Javadoc JAR in one step as it was working with Java 7?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1668773553,"post_id":74489364,"comment_id":131493539,"body_markdown":"Why do you extract a known word? Are you counting matches?","body":"Why do you extract a known word? Are you counting matches?"},{"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"score":0,"creation_date":1668773681,"post_id":74489364,"comment_id":131493578,"body_markdown":"@WiktorStribiżew Yes, I want to count the total number of occurences of the word, &quot;variant&quot; in this case, in the text.","body":"@WiktorStribiżew Yes, I want to count the total number of occurences of the word, &quot;variant&quot; in this case, in the text."},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1668773855,"post_id":74489364,"comment_id":131493637,"body_markdown":"You need to extract all matches with `(?&lt;!\\\\)(?:\\\\{2})*\\&quot;[^\\&quot;\\\\]*(?:\\\\.[^\\&quot;\\\\]*)*\\&quot;` regex and then find all occurrences of `variant` inside those matches, there is no way with a single regex here.","body":"You need to extract all matches with <code>(?&lt;!\\\\)(?:\\\\{2})*\\&quot;[^\\&quot;\\\\]*(?:\\\\.[^\\&quot;\\\\]*)*\\&quot;</code> regex and then find all occurrences of <code>variant</code> inside those matches, there is no way with a single regex here."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668782556,"creation_date":1668782556,"answer_id":74491357,"question_id":74489364,"body_markdown":"You can match all occurrences of the strings inside double quotes and then count the `variant` occurrences inside the  matches:\r\n```java\r\nString s = &quot;variant \\&quot;if and only if 5 divides by i without remainder, then it prints \\\\\\&quot;i + \\\\\\&quot; variant: \\\\\\&quot; + variant\\\\\\&quot;\\&quot; variant&quot;;\r\n\r\n\t\t\r\nPattern pattern = Pattern.compile(&quot;(?s)(?&lt;!\\\\\\\\)(?:\\\\\\\\{2})*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;&quot;);\r\nMatcher matcher = pattern.matcher(s);\r\nint count = 0;\r\nwhile (matcher.find()){\r\n\tcount += matcher.group().split(&quot;variant&quot;, -1).length-1;\r\n}\r\nSystem.out.println(count);\r\n```\r\nSee the [online demo][1]. So, the `variant &quot;if and only if 5 divides by i without remainder, then it prints \\&quot;i + \\&quot; variant: \\&quot; + variant\\&quot;&quot; variant` string contains two occurrences of `variant`.\r\n\r\nThe regex is `(?&lt;!\\\\)(?:\\\\{2})*&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;`, see [its demo][2].\r\n\r\n*Details*:\r\n\r\n - `(?&lt;!\\\\)` - no `\\` allowed immediately on the left\r\n - `(?:\\\\{2})*` - zero or more double backslashes\r\n - `&quot;` - a `&quot;` char\r\n - `[^&quot;\\\\]*` - zero or more chars other than `&quot;` and `\\`\r\n - `(?:\\\\.[^&quot;\\\\]*)*`  - zero or more sequences of any escaped char and then zero or more chars other than `\\` and `&quot;`\r\n - `&quot;` - a `&quot;` char.\r\n\r\n  [1]: https://ideone.com/IWn4AU\r\n  [2]: https://regex101.com/r/IohlS8/2","title":"Java regex find all occurences of a word inside double quotes","body":"<p>You can match all occurrences of the strings inside double quotes and then count the <code>variant</code> occurrences inside the  matches:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;variant \\&quot;if and only if 5 divides by i without remainder, then it prints \\\\\\&quot;i + \\\\\\&quot; variant: \\\\\\&quot; + variant\\\\\\&quot;\\&quot; variant&quot;;\n\n        \nPattern pattern = Pattern.compile(&quot;(?s)(?&lt;!\\\\\\\\)(?:\\\\\\\\{2})*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;&quot;);\nMatcher matcher = pattern.matcher(s);\nint count = 0;\nwhile (matcher.find()){\n    count += matcher.group().split(&quot;variant&quot;, -1).length-1;\n}\nSystem.out.println(count);\n</code></pre>\n<p>See the <a href=\"https://ideone.com/IWn4AU\" rel=\"nofollow noreferrer\">online demo</a>. So, the <code>variant &quot;if and only if 5 divides by i without remainder, then it prints \\&quot;i + \\&quot; variant: \\&quot; + variant\\&quot;&quot; variant</code> string contains two occurrences of <code>variant</code>.</p>\n<p>The regex is <code>(?&lt;!\\\\)(?:\\\\{2})*&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;</code>, see <a href=\"https://regex101.com/r/IohlS8/2\" rel=\"nofollow noreferrer\">its demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(?&lt;!\\\\)</code> - no <code>\\</code> allowed immediately on the left</li>\n<li><code>(?:\\\\{2})*</code> - zero or more double backslashes</li>\n<li><code>&quot;</code> - a <code>&quot;</code> char</li>\n<li><code>[^&quot;\\\\]*</code> - zero or more chars other than <code>&quot;</code> and <code>\\</code></li>\n<li><code>(?:\\\\.[^&quot;\\\\]*)*</code>  - zero or more sequences of any escaped char and then zero or more chars other than <code>\\</code> and <code>&quot;</code></li>\n<li><code>&quot;</code> - a <code>&quot;</code> char.</li>\n</ul>\n"}],"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74491357,"answer_count":1,"score":2,"last_activity_date":1668782556,"creation_date":1668772865,"question_id":74489364,"body_markdown":"[this][1] is my regex, I&#39;m trying to find all occurences of string &quot;variant&quot; inside double quotes using this regex, but if there are 2 occurences inside double quotes it will take only the last one. My regex basically tries to find the string &quot;variant&quot; which is written inside double quotes, I tried writing it like this but it didn&#39;t work either: `\\\\&quot;.*(variant*).*\\\\&quot;` This is my code:\r\n```\r\nString str_regex = &quot;\\\\&quot;.*(variant).*\\\\&quot;&quot;;\r\nMatcher str_matcher = Pattern.compile(str_regex).matcher(joined);\r\nwhile(str_matcher.find()) {\r\n\tSystem.out.println(str_matcher.group());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/IohlS8/1","title":"Java regex find all occurences of a word inside double quotes","body":"<p><a href=\"https://regex101.com/r/IohlS8/1\" rel=\"nofollow noreferrer\">this</a> is my regex, I'm trying to find all occurences of string &quot;variant&quot; inside double quotes using this regex, but if there are 2 occurences inside double quotes it will take only the last one. My regex basically tries to find the string &quot;variant&quot; which is written inside double quotes, I tried writing it like this but it didn't work either: <code>\\\\&quot;.*(variant*).*\\\\&quot;</code> This is my code:</p>\n<pre><code>String str_regex = &quot;\\\\&quot;.*(variant).*\\\\&quot;&quot;;\nMatcher str_matcher = Pattern.compile(str_regex).matcher(joined);\nwhile(str_matcher.find()) {\n    System.out.println(str_matcher.group());\n}\n</code></pre>\n"},{"tags":["java","marklogic"],"comments":[{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1668782163,"post_id":74486562,"comment_id":131496559,"body_markdown":"You mean the example in https://docs.marklogic.com/search:search right?","body":"You mean the example in <a href=\"https://docs.marklogic.com/search:search\" rel=\"nofollow noreferrer\">docs.marklogic.com/search:search</a> right?"}],"answers":[{"tags":[],"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668782298,"creation_date":1668782298,"answer_id":74491296,"question_id":74486562,"body_markdown":"When you perform a search with [`search:search`][1] it executes an [unfiltered search][2] with the provided search criteria. \r\n\r\nThe `@total` that is returned is the equivalent of what you would get if you provided the search criteria to [`xdmp:estimate()`][3]. It uses the indexes to answer your question and tell you how many documents it thinks match.\r\n\r\n\r\n  [1]: https://docs.marklogic.com/search:search\r\n  [2]: https://docs.marklogic.com/guide/performance/unfiltered#id_89797\r\n  [3]: https://docs.marklogic.com/xdmp:estimate","title":"How total is calculated in search resolve in marklogic","body":"<p>When you perform a search with <a href=\"https://docs.marklogic.com/search:search\" rel=\"nofollow noreferrer\"><code>search:search</code></a> it executes an <a href=\"https://docs.marklogic.com/guide/performance/unfiltered#id_89797\" rel=\"nofollow noreferrer\">unfiltered search</a> with the provided search criteria.</p>\n<p>The <code>@total</code> that is returned is the equivalent of what you would get if you provided the search criteria to <a href=\"https://docs.marklogic.com/xdmp:estimate\" rel=\"nofollow noreferrer\"><code>xdmp:estimate()</code></a>. It uses the indexes to answer your question and tell you how many documents it thinks match.</p>\n"}],"owner":{"account_id":24811112,"reputation":61,"user_id":18692547,"display_name":"Suprita S B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668782298,"creation_date":1668758493,"question_id":74486562,"body_markdown":"In the MarkLogic example explained in this article https://docs.marklogic.com/search:parse, how the total is calculated?\r\n        \r\n example :      \r\n \r\n    &lt;search:response total=&quot;1234&quot; start=&quot;1&quot; page-length=&quot;10&quot; xmlns=&quot;&quot;\r\n                xmlns:search=&quot;http://marklogic.com/appservices/search&quot;&gt;          ","title":"How total is calculated in search resolve in marklogic","body":"<p>In the MarkLogic example explained in this article <a href=\"https://docs.marklogic.com/search:parse\" rel=\"nofollow noreferrer\">https://docs.marklogic.com/search:parse</a>, how the total is calculated?</p>\n<p>example :</p>\n<pre><code>&lt;search:response total=&quot;1234&quot; start=&quot;1&quot; page-length=&quot;10&quot; xmlns=&quot;&quot;\n            xmlns:search=&quot;http://marklogic.com/appservices/search&quot;&gt;          \n</code></pre>\n"},{"tags":["java","hibernate","jpa","reactive-streams","micronaut-data"],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656334818,"creation_date":1655970650,"answer_id":72726482,"question_id":72706129,"body_markdown":"There are a few options:\r\n\r\n1. Add `@Join(&quot;contributions&quot;)` annotation to your repository method\r\n2. Add `@EntityGraph ...` annotation to your repository method\r\n3. Do fetching and mapping in one method annotated `@ReadOnly` or `@Transactional` so the session is open when the mapper is called\r\n\r\nIn this case, having reactive streams doesn&#39;t make much sense. Just return `Page` from the controller annotated `@ExecuteOn(TaskExecutors.IO)`.","title":"How to use Hibernate lazy loading and reactive streams?","body":"<p>There are a few options:</p>\n<ol>\n<li>Add <code>@Join(&quot;contributions&quot;)</code> annotation to your repository method</li>\n<li>Add <code>@EntityGraph ...</code> annotation to your repository method</li>\n<li>Do fetching and mapping in one method annotated <code>@ReadOnly</code> or <code>@Transactional</code> so the session is open when the mapper is called</li>\n</ol>\n<p>In this case, having reactive streams doesn't make much sense. Just return <code>Page</code> from the controller annotated <code>@ExecuteOn(TaskExecutors.IO)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668782013,"creation_date":1656403822,"answer_id":72782888,"question_id":72706129,"body_markdown":"Mapping the association as `EAGER` is usually a code smell. But if you have situations where you always need to load an association,  you can do it via a query.\r\n\r\nInstead of `findAll`, you would call:\r\n```\r\n@Repository\r\npublic interface ScoringRepository extends GenericRepository&lt;ScoringEntity, String&gt; {\r\n\r\n    @Query(&quot;select se from ScoringEntity se left fetch join se.contributions&quot;)\r\n    Page&lt;ScoringEntity&gt; findScoringWithContributions(Pageable pageable);\r\n\r\n}\r\n```\r\n\r\n&gt; Besides I can&#39;t imagine that reactive streams be incompatible with hibernate and lazy loading.\r\n\r\nIn this case the problem is that you are trying to lazy load the association after the session has been closed.\r\n","title":"How to use Hibernate lazy loading and reactive streams?","body":"<p>Mapping the association as <code>EAGER</code> is usually a code smell. But if you have situations where you always need to load an association,  you can do it via a query.</p>\n<p>Instead of <code>findAll</code>, you would call:</p>\n<pre><code>@Repository\npublic interface ScoringRepository extends GenericRepository&lt;ScoringEntity, String&gt; {\n\n    @Query(&quot;select se from ScoringEntity se left fetch join se.contributions&quot;)\n    Page&lt;ScoringEntity&gt; findScoringWithContributions(Pageable pageable);\n\n}\n</code></pre>\n<blockquote>\n<p>Besides I can't imagine that reactive streams be incompatible with hibernate and lazy loading.</p>\n</blockquote>\n<p>In this case the problem is that you are trying to lazy load the association after the session has been closed.</p>\n"}],"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72726482,"answer_count":2,"score":-1,"last_activity_date":1668782013,"creation_date":1655839370,"question_id":72706129,"body_markdown":"I am currently building a REST service with Micronaut Data. I have defined two JPA entities, bounded by a bidirectional ```@OneToMany``` relationship, and lazy loading.\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class ScoringEntity {\r\n    @Id\r\n    private String id;\r\n\r\n    @OneToMany(mappedBy = &quot;scoring&quot;, fetch = FetchType.LAZY)\r\n    private Set&lt;ContributionEntity&gt; contributions;\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class ContributionEntity {\r\n    @Id\r\n    private String id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId\r\n    private ScoringEntity scoring;\r\n}\r\n```\r\n```java\r\n@Repository\r\npublic interface ScoringRepository extends GenericRepository&lt;ScoringEntity, String&gt; {\r\n\r\n    Page&lt;ScoringEntity&gt; findAll(Pageable pageable);\r\n\r\n}\r\n```\r\n\r\nIn the controller, I return a ```Mono``` which is set to call the repository, then perform a mapping to a DTO (```Scoring```).\r\n```java\r\n@Get\r\npublic Mono&lt;Page&lt;Scoring&gt;&gt; getScoring(Pageable pageable) {\r\n\treturn Mono.fromCallable(() -&gt; scoringRepository.findAll(pageable))\r\n\t\t.map(scoringEntities -&gt; scoringEntities.map(scoringMapper::mapScoring));\r\n}\r\n```\r\n\r\nEverything works fine in the ```findAll()``` method, but things go south when the mapper\r\ntries to access the contributions set :\r\n\r\n```\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: ScoringEntity.contributions, could not initialize proxy - no Session\r\n```\r\n\r\nWhile I understand why this happens (the transaction probably ends with the repository method), I can&#39;t find a satisfying solution. Setting the relationship to eager loading works, but it \r\nsignificantly decreases performance (and I&#39;ve read [elsewhere][1] it would be a code smell, which I tend to believe).\r\n\r\nBesides I can&#39;t imagine that reactive streams be incompatible with hibernate and lazy loading. \r\n\r\nWhat would be the best practice in this situation ?\r\n\r\n\r\n  [1]: https://vladmihalcea.com/eager-fetching-is-a-code-smell/","title":"How to use Hibernate lazy loading and reactive streams?","body":"<p>I am currently building a REST service with Micronaut Data. I have defined two JPA entities, bounded by a bidirectional <code>@OneToMany</code> relationship, and lazy loading.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\npublic class ScoringEntity {\n    @Id\n    private String id;\n\n    @OneToMany(mappedBy = &quot;scoring&quot;, fetch = FetchType.LAZY)\n    private Set&lt;ContributionEntity&gt; contributions;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\npublic class ContributionEntity {\n    @Id\n    private String id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId\n    private ScoringEntity scoring;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ScoringRepository extends GenericRepository&lt;ScoringEntity, String&gt; {\n\n    Page&lt;ScoringEntity&gt; findAll(Pageable pageable);\n\n}\n</code></pre>\n<p>In the controller, I return a <code>Mono</code> which is set to call the repository, then perform a mapping to a DTO (<code>Scoring</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Get\npublic Mono&lt;Page&lt;Scoring&gt;&gt; getScoring(Pageable pageable) {\n    return Mono.fromCallable(() -&gt; scoringRepository.findAll(pageable))\n        .map(scoringEntities -&gt; scoringEntities.map(scoringMapper::mapScoring));\n}\n</code></pre>\n<p>Everything works fine in the <code>findAll()</code> method, but things go south when the mapper\ntries to access the contributions set :</p>\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: ScoringEntity.contributions, could not initialize proxy - no Session\n</code></pre>\n<p>While I understand why this happens (the transaction probably ends with the repository method), I can't find a satisfying solution. Setting the relationship to eager loading works, but it\nsignificantly decreases performance (and I've read <a href=\"https://vladmihalcea.com/eager-fetching-is-a-code-smell/\" rel=\"nofollow noreferrer\">elsewhere</a> it would be a code smell, which I tend to believe).</p>\n<p>Besides I can't imagine that reactive streams be incompatible with hibernate and lazy loading.</p>\n<p>What would be the best practice in this situation ?</p>\n"},{"tags":["java","hibernate","quarkus","hibernate-mapping","quarkus-hibernate-orm"],"comments":[{"owner":{"account_id":20510427,"reputation":21,"user_id":15052338,"display_name":"Altafhusen Makandar"},"score":0,"creation_date":1668783884,"post_id":74491203,"comment_id":131497221,"body_markdown":"After debugging the code, I found that `HibernateOrmRuntimeConfigPersistenceUnit` class has a property `unsupportedProperties` to use for properties that cannot be defined explicitly and it works if the property is defined as.\n\n`quarkus.hibernate-orm.unsupported-properties.&quot;hibernate.physical_naming_strategy&quot;=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy`\n\nBut I think the property should have been provided explicitly. Quarkus team could let know if it can introduce it since `Entity` mapping has these kind of requirement very often.","body":"After debugging the code, I found that <code>HibernateOrmRuntimeConfigPersistenceUnit</code> class has a property <code>unsupportedProperties</code> to use for properties that cannot be defined explicitly and it works if the property is defined as.  <code>quarkus.hibernate-orm.unsupported-properties.&quot;hibernate.phys&zwnj;&#8203;ical_naming_strategy&zwnj;&#8203;&quot;=org.hibernate.boot&zwnj;&#8203;.model.naming.CamelC&zwnj;&#8203;aseToUnderscoresNami&zwnj;&#8203;ngStrategy</code>  But I think the property should have been provided explicitly. Quarkus team could let know if it can introduce it since <code>Entity</code> mapping has these kind of requirement very often."}],"owner":{"account_id":20510427,"reputation":21,"user_id":15052338,"display_name":"Altafhusen Makandar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668781825,"creation_date":1668781825,"question_id":74491203,"body_markdown":"I am trying to map hibernate properties to the database and I do not want to add @Column for  entities having camel case\r\n\r\n```\r\n@Entity\r\npublic class User extends PanacheEntity{\r\n  @Column(name = &quot;user_name&quot;)\r\n  String userName;\r\n}\r\n```\r\n\r\nI am trying to set the below property but it does not work for quarkus version 2.14.1.Final (not sure about other versions)\r\n\r\n```\r\nquarkus.hibernate-orm.physical-naming-strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy\r\n```\r\n\r\nAm I doing something wrong?","title":"Unable to define quarkus.hibernate-orm.physical-naming-strategy in quarkus version 2.14.1.Final","body":"<p>I am trying to map hibernate properties to the database and I do not want to add @Column for  entities having camel case</p>\n<pre><code>@Entity\npublic class User extends PanacheEntity{\n  @Column(name = &quot;user_name&quot;)\n  String userName;\n}\n</code></pre>\n<p>I am trying to set the below property but it does not work for quarkus version 2.14.1.Final (not sure about other versions)</p>\n<pre><code>quarkus.hibernate-orm.physical-naming-strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy\n</code></pre>\n<p>Am I doing something wrong?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668777420,"post_id":74490182,"comment_id":131494806,"body_markdown":"Are only the last 2 items valid? `\\b\\d+\\s*\\/\\s*0+\\b` https://regex101.com/r/tEBepz/1 If there also can not be quotes in the string `^(?![^&quot;&#39;\\n]*[&quot;&#39;]).*\\b\\d+\\s*\\/\\s*0+\\b` https://regex101.com/r/GEfROq/1","body":"Are only the last 2 items valid? <code>\\b\\d+\\s*\\&#47;\\s*0+\\b</code> <a href=\"https://regex101.com/r/tEBepz/1\" rel=\"nofollow noreferrer\">regex101.com/r/tEBepz/1</a> If there also can not be quotes in the string <code>^(?![^&quot;&#39;\\n]*[&quot;&#39;]).*\\b\\d+\\s*\\&#47;\\s*0+\\b</code> <a href=\"https://regex101.com/r/GEfROq/1\" rel=\"nofollow noreferrer\">regex101.com/r/GEfROq/1</a>"},{"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"score":0,"creation_date":1668777746,"post_id":74490182,"comment_id":131494940,"body_markdown":"all 4 are valid, if a divide by zero operation is found, then it should return true and there can be many such combinations.","body":"all 4 are valid, if a divide by zero operation is found, then it should return true and there can be many such combinations."},{"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"score":0,"creation_date":1668778151,"post_id":74490182,"comment_id":131495093,"body_markdown":"java, sorry i tagged javascript also by mistake","body":"java, sorry i tagged javascript also by mistake"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668778182,"post_id":74490182,"comment_id":131495105,"body_markdown":"It looks like also strings with `&lt;&lt;...&gt;&gt;` perhaps like this https://regex101.com/r/HxuBqI/1","body":"It looks like also strings with <code>&lt;&lt;...&gt;&gt;</code> perhaps like this <a href=\"https://regex101.com/r/HxuBqI/1\" rel=\"nofollow noreferrer\">regex101.com/r/HxuBqI/1</a>"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1668779364,"post_id":74490182,"comment_id":131495511,"body_markdown":"Try `text.matches(&quot;([^&#39;\\&quot;]*[&#39;\\&quot;]|.*/\\\\s*0+(?:\\\\.0*)?\\\\b).*&quot;)` - if there is a match, fail the string.","body":"Try <code>text.matches(&quot;([^&#39;\\&quot;]*[&#39;\\&quot;]|.*&#47;\\\\s*0+(?:\\\\.0*)?\\\\b).*&quot;)</code> - if there is a match, fail the string."},{"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"score":0,"creation_date":1668781219,"post_id":74490182,"comment_id":131496202,"body_markdown":"@WiktorStribiżew tried this, other cases work, but it fails in one case KLENGTH(&quot;/0&quot;)\nIt considers this operation also as divide by zero, which is actually not a divide by zero operation.","body":"@WiktorStribiżew tried this, other cases work, but it fails in one case KLENGTH(&quot;/0&quot;) It considers this operation also as divide by zero, which is actually not a divide by zero operation."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668781916,"post_id":74490182,"comment_id":131496436,"body_markdown":"@aby007 It does not match `LENGTH(&quot;/0&quot;)` See https://regex101.com/r/UUXULn/1 Are there other scenario&#39;s that should/should not match. Are the parts `&lt;&lt;...&gt;&gt;` relevant? If not, can you update the examples in the question?","body":"@aby007 It does not match <code>LENGTH(&quot;&#47;0&quot;)</code> See <a href=\"https://regex101.com/r/UUXULn/1\" rel=\"nofollow noreferrer\">regex101.com/r/UUXULn/1</a> Are there other scenario&#39;s that should/should not match. Are the parts <code>&lt;&lt;...&gt;&gt;</code> relevant? If not, can you update the examples in the question?"},{"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"score":0,"creation_date":1668784305,"post_id":74490182,"comment_id":131497375,"body_markdown":"yes those parts are also relevant, updated the string which should not match","body":"yes those parts are also relevant, updated the string which should not match"}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668780887,"creation_date":1668780887,"answer_id":74490982,"question_id":74490182,"body_markdown":"If there should not be quotes in the string, you can start the pattern with an assertion that there are no quotes present in the string.\r\n\r\n```none\r\n^(?![^&quot;&#39;\\n]*[&quot;&#39;]).*?(?:\\b\\d+\\b|&lt;&lt;.*?&gt;&gt;)\\s*\\/\\s*0+\\b\r\n```\r\n**Explanation**\r\n\r\n- `^` Start of string\r\n- `(?![^&quot;&#39;\\n]*[&quot;&#39;])` Negative lookahead, assert not `&quot;` or `&#39;` in the string\r\n- `.*?` Match any char as few as possible\r\n- `(?:` Non capture group\r\n  - `\\b\\d+\\b` Match 1+ digits between word boundaries\r\n  - `|` Or\r\n  - `&lt;&lt;.*?&gt;&gt;` match `&lt;&lt;...&gt;&gt;`\r\n- `)` Close non capture group\r\n- `\\s*\\/\\s*` Match `/` between optional whitespace chars\r\n- `0+\\b` Match 1+ zeroes and a word boundary\r\n\r\nSee a [regex demo](https://regex101.com/r/dCYUcO/1).\r\n\r\nCode example\r\n\r\n    String regex = &quot;^(?![^\\&quot;&#39;\\\\n]*[\\&quot;&#39;]).*?(?:\\\\b\\\\d+|&lt;&lt;.*?&gt;&gt;)\\\\s*\\\\/\\\\s*0+\\\\b&quot;;\r\n    Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n\r\n    String[] strings = { \r\n            &quot;1) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001&quot;,\r\n            &quot;2) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0&quot;,\r\n            &quot;3) 1    /    0000 + 1       /   00&quot;,\r\n            &quot;4) 1/0&quot;,\r\n            &quot;5) 1/0\\&quot;&quot;,\r\n            &quot;6) 1    /    0900 + 1       /   99&quot;\r\n    };\r\n    for (String s : strings) {\r\n        Matcher matcher = pattern.matcher(s);\r\n        if (matcher.find()) {\r\n            System.out.println(&quot;Match for: &quot; + s);   \r\n        }            \r\n    }\r\n\r\nOutput\r\n\r\n    Match for: 1) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001\r\n    Match for: 2) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0\r\n    Match for: 3) 1    /    0000 + 1       /   00\r\n    Match for: 4) 1/","title":"Create a pattern to find out if the string contains a divide by zero operation","body":"<p>If there should not be quotes in the string, you can start the pattern with an assertion that there are no quotes present in the string.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?![^&quot;'\\n]*[&quot;']).*?(?:\\b\\d+\\b|&lt;&lt;.*?&gt;&gt;)\\s*\\/\\s*0+\\b\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?![^&quot;'\\n]*[&quot;'])</code> Negative lookahead, assert not <code>&quot;</code> or <code>'</code> in the string</li>\n<li><code>.*?</code> Match any char as few as possible</li>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>\\b\\d+\\b</code> Match 1+ digits between word boundaries</li>\n<li><code>|</code> Or</li>\n<li><code>&lt;&lt;.*?&gt;&gt;</code> match <code>&lt;&lt;...&gt;&gt;</code></li>\n</ul>\n</li>\n<li><code>)</code> Close non capture group</li>\n<li><code>\\s*\\/\\s*</code> Match <code>/</code> between optional whitespace chars</li>\n<li><code>0+\\b</code> Match 1+ zeroes and a word boundary</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/dCYUcO/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>Code example</p>\n<pre><code>String regex = &quot;^(?![^\\&quot;'\\\\n]*[\\&quot;']).*?(?:\\\\b\\\\d+|&lt;&lt;.*?&gt;&gt;)\\\\s*\\\\/\\\\s*0+\\\\b&quot;;\nPattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n\nString[] strings = { \n        &quot;1) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001&quot;,\n        &quot;2) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0&quot;,\n        &quot;3) 1    /    0000 + 1       /   00&quot;,\n        &quot;4) 1/0&quot;,\n        &quot;5) 1/0\\&quot;&quot;,\n        &quot;6) 1    /    0900 + 1       /   99&quot;\n};\nfor (String s : strings) {\n    Matcher matcher = pattern.matcher(s);\n    if (matcher.find()) {\n        System.out.println(&quot;Match for: &quot; + s);   \n    }            \n}\n</code></pre>\n<p>Output</p>\n<pre><code>Match for: 1) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001\nMatch for: 2) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0\nMatch for: 3) 1    /    0000 + 1       /   00\nMatch for: 4) 1/\n</code></pre>\n"}],"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668781758,"creation_date":1668776973,"question_id":74490182,"body_markdown":"I have to create a pattern to find out whether there is a divide by zero operation going on in a string.\r\nFollowing are some example strings:\r\n1) `&lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001`\r\n2) `&lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0`\r\n3) `1    /    0000 + 1       /   00`\r\n4) `1/0`\r\n\r\nThere can be multiple spaces anywhere in the string, operators(+,-,/,*,**,AND,OR,&lt;,&gt;,&lt;=,&gt;=) can be used anywhere in the string. If any double quote(&quot;) or single quote(&#39;) encounters in a string, it should return false.\r\nCan someone help me with this?\r\n\r\nI tried pattern &quot;.+/*0+[^0-9]*&quot; but it doesn&#39;t work for all cases.\r\n\r\nA pattern which should not be considered a divide zero pattern. \r\nEx : LENGTH(&quot;/0&quot;)","title":"Create a pattern to find out if the string contains a divide by zero operation","body":"<p>I have to create a pattern to find out whether there is a divide by zero operation going on in a string.\nFollowing are some example strings:</p>\n<ol>\n<li><code>&lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001</code></li>\n<li><code>&lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0</code></li>\n<li><code>1    /    0000 + 1       /   00</code></li>\n<li><code>1/0</code></li>\n</ol>\n<p>There can be multiple spaces anywhere in the string, operators(+,-,/,*,**,AND,OR,&lt;,&gt;,&lt;=,&gt;=) can be used anywhere in the string. If any double quote(&quot;) or single quote(') encounters in a string, it should return false.\nCan someone help me with this?</p>\n<p>I tried pattern &quot;.+/<em>0+[^0-9]</em>&quot; but it doesn't work for all cases.</p>\n<p>A pattern which should not be considered a divide zero pattern.\nEx : LENGTH(&quot;/0&quot;)</p>\n"},{"tags":["java","java-8","conda"],"answers":[{"tags":[],"owner":{"account_id":2290778,"reputation":101,"user_id":7475219,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781745,"creation_date":1668553855,"answer_id":74453269,"question_id":74453205,"body_markdown":"I solved the issue by first installing Java 1.8 with the command:\r\n\r\n```\r\nconda install -c main java-1.8.0-openjdk-cos7-s390x\r\n```\r\n\r\nAnd then creating the environment.","title":"conda environment with wrong java version","body":"<p>I solved the issue by first installing Java 1.8 with the command:</p>\n<pre><code>conda install -c main java-1.8.0-openjdk-cos7-s390x\n</code></pre>\n<p>And then creating the environment.</p>\n"}],"owner":{"account_id":2290778,"reputation":101,"user_id":7475219,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668781745,"creation_date":1668553291,"question_id":74453205,"body_markdown":"I created a new conda environment with the command `conda create --name condaenv python=2.7 openjdk=8`. When I activate this environment using `conda activate condaenv` and check the java version, however, I get:\r\n```\r\nopenjdk version &quot;1.7.0_91&quot;\r\nOpenJDK Runtime Environment (Zulu 7.12.0.3-linux64) (build 1.7.0_91-b15)\r\nOpenJDK 64-Bit Server VM (Zulu 7.12.0.3-linux64) (build 24.91-b15, mixed mode)\r\n```\r\nHow can I get the correct java version for this conda environment?\r\n\r\nI checked that the `JAVA_HOME` environmental variable is correct, and it is since running `echo $JAVA_HOME` gives `/home/ag956/.conda/envs/condaenv`","title":"conda environment with wrong java version","body":"<p>I created a new conda environment with the command <code>conda create --name condaenv python=2.7 openjdk=8</code>. When I activate this environment using <code>conda activate condaenv</code> and check the java version, however, I get:</p>\n<pre><code>openjdk version &quot;1.7.0_91&quot;\nOpenJDK Runtime Environment (Zulu 7.12.0.3-linux64) (build 1.7.0_91-b15)\nOpenJDK 64-Bit Server VM (Zulu 7.12.0.3-linux64) (build 24.91-b15, mixed mode)\n</code></pre>\n<p>How can I get the correct java version for this conda environment?</p>\n<p>I checked that the <code>JAVA_HOME</code> environmental variable is correct, and it is since running <code>echo $JAVA_HOME</code> gives <code>/home/ag956/.conda/envs/condaenv</code></p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"score":0,"creation_date":1313106141,"post_id":7034176,"comment_id":8404824,"body_markdown":"Maybe some dedicated wizard library would be helpful, e.g. http://code.google.com/p/cjwizard/","body":"Maybe some dedicated wizard library would be helpful, e.g. <a href=\"http://code.google.com/p/cjwizard/\" rel=\"nofollow noreferrer\">code.google.com/p/cjwizard</a>"},{"owner":{"account_id":451504,"reputation":420,"user_id":847426,"display_name":"mwd"},"score":0,"creation_date":1313106257,"post_id":7034176,"comment_id":8404842,"body_markdown":"What do you mean by &quot;page&quot;? Are you using JPanels? You can swap JPanels to implement the kind of behaviour you are describing.","body":"What do you mean by &quot;page&quot;? Are you using JPanels? You can swap JPanels to implement the kind of behaviour you are describing."},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1313111928,"post_id":7034176,"comment_id":8405618,"body_markdown":"@Brandon, See edit. It includes an [SSCCE](http://www.sscce.org).","body":"@Brandon, See edit. It includes an <a href=\"http://www.sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":2475,"reputation":16513,"user_id":3446,"accept_rate":67,"display_name":"rcreswick"},"score":0,"creation_date":1396287201,"post_id":7034176,"comment_id":34710587,"body_markdown":"@miku that project has a new URL now: https://github.com/creswick/cjwizard","body":"@miku that project has a new URL now: <a href=\"https://github.com/creswick/cjwizard\" rel=\"nofollow noreferrer\">github.com/creswick/cjwizard</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1668781721,"post_id":7034176,"comment_id":131496366,"body_markdown":"Wizard?  Better switch to Microsoft for that.  Or learn how to code Swing properly.","body":"Wizard?  Better switch to Microsoft for that.  Or learn how to code Swing properly."}],"answers":[{"tags":[],"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313112591,"creation_date":1313108706,"answer_id":7034449,"question_id":7034176,"body_markdown":"Recommendations:\r\n\r\n 1. Read the [How to Use Radio Buttons](http://download.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton) tutorial\r\n 2. Read the [How to Use CardLayout](http://download.oracle.com/javase/tutorial/uiswing/layout/card.html) tutorial\r\n 3. Learn how to use a [`ButtonGroup`](http://download.oracle.com/javase/7/docs/api/javax/swing/ButtonGroup.html), since you&#39;ll only want one button to be selected at a time\r\n\r\n\r\n----------\r\n\r\n    public final class RadioButtonDemo {\r\n    \tprivate static CardPanel cards;\r\n    \tprivate static Card cardOne;\r\n    \tprivate static Card cardTwo;\r\n    \tprivate static Card cardThree;\r\n    \t\r\n    \tpublic static void main(String[] args){\r\n    \t\tSwingUtilities.invokeLater(new Runnable(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tcreateAndShowGUI();\t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \tprivate static void createAndShowGUI(){\r\n    \t\tfinal JFrame frame = new JFrame(&quot;RB Demo&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.getContentPane().setLayout(\r\n    \t\t\t\tnew BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));\r\n    \t\tcards = new CardPanel();\r\n    \t\tframe.getContentPane().add(cards);\r\n    \t\tframe.getContentPane().add(new ControlPanel());\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate static void createCards(){\r\n    \t\tcardOne = new Card(\r\n    \t\t\t\t&quot;Card 1&quot;, \r\n    \t\t\t\tnew JLabel(&quot;This is card one&quot;), \r\n    \t\t\t\tColor.PINK);\r\n    \t\tcardTwo = new Card(\r\n    \t\t\t\t&quot;Card 2&quot;, \r\n    \t\t\t\tnew JLabel(&quot;This is card two&quot;), \r\n    \t\t\t\tColor.YELLOW);\r\n    \t\tcardThree = new Card(\r\n    \t\t\t\t&quot;Card 3&quot;, \r\n    \t\t\t\tnew JLabel(&quot;This is card three&quot;), \r\n    \t\t\t\tColor.CYAN);\r\n    \t}\r\n    \t\r\n    \tprivate static final class Card extends JPanel{\r\n    \t\tprivate final String name;\r\n    \t\t\r\n    \t\tpublic Card(\r\n    \t\t\t\tfinal String name, \r\n    \t\t\t\tfinal JComponent component, \r\n    \t\t\t\tfinal Color c){\r\n    \t\t\tsuper();\r\n    \t\t\tthis.name = name;\r\n    \t\t\tsetBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n    \t\t\tsetBackground(c);\r\n    \t\t\tadd(component);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic final String getName(){\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static final class CardPanel extends JPanel{\r\n    \t\tpublic CardPanel(){\r\n    \t\t\tsuper(new CardLayout());\r\n    \t\t\tcreateCards();\r\n    \t\t\tadd(cardOne, cardOne.getName());\r\n    \t\t\tadd(cardTwo, cardTwo.getName());\r\n    \t\t\tadd(cardThree, cardThree.getName());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static final class ControlPanel extends JPanel{\r\n    \t\tprivate static JRadioButton showCardOneButton;\r\n    \t\tprivate static JRadioButton showCardTwoButton;\r\n    \t\tprivate static JRadioButton showCardThreeButton;\r\n    \t\tprivate static JButton showButton;\r\n    \t\t\r\n    \t\tpublic ControlPanel(){\r\n    \t\t\tsuper();\r\n    \t\t\tsetLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n    \t\t\tadd(createJRadioButtonPanel());\r\n    \t\t\tadd(createJButtonPanel());\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate final JPanel createJRadioButtonPanel(){\r\n    \t\t\tfinal JPanel panel = new JPanel();\r\n    \t\t\t\r\n    \t\t\tshowCardOneButton = new JRadioButton(cardOne.getName());\r\n    \t\t\tshowCardOneButton.setSelected(true);\r\n    \t\t\tshowCardTwoButton = new JRadioButton(cardTwo.getName());\r\n    \t\t\tshowCardThreeButton = new JRadioButton(cardThree.getName());\r\n    \t\t\tButtonGroup group = new ButtonGroup();\r\n    \t\t\tgroup.add(showCardOneButton);\r\n    \t\t\tgroup.add(showCardTwoButton);\r\n    \t\t\tgroup.add(showCardThreeButton);\r\n    \t\t\tpanel.add(showCardOneButton);\r\n    \t\t\tpanel.add(showCardTwoButton);\r\n    \t\t\tpanel.add(showCardThreeButton);\r\n    \t\t\t\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate final JPanel createJButtonPanel(){\r\n    \t\t\tfinal JPanel panel = new JPanel();\r\n    \t\t\t\r\n    \t\t\tshowButton = new JButton(&quot;Show&quot;);\r\n    \t\t\tshowButton.addActionListener(new ActionListener(){\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent e){\r\n    \t\t\t\t\tCardLayout cl = (CardLayout) cards.getLayout();\r\n    \t\t\t\t\tif(showCardOneButton.isSelected()){\r\n    \t\t\t\t\t\tcl.show(cards, showCardOneButton.getText());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(showCardTwoButton.isSelected()){\r\n    \t\t\t\t\t\tcl.show(cards, showCardTwoButton.getText());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(showCardThreeButton.isSelected()){\r\n    \t\t\t\t\t\tcl.show(cards, showCardThreeButton.getText());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\tpanel.add(showButton);\r\n    \t\t\t\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YXreg.png","title":"Java UI, trying to go to next page upon clicking button","body":"<p>Recommendations:</p>\n\n<ol>\n<li>Read the <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton\" rel=\"noreferrer\">How to Use Radio Buttons</a> tutorial</li>\n<li>Read the <a href=\"http://download.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"noreferrer\">How to Use CardLayout</a> tutorial</li>\n<li>Learn how to use a <a href=\"http://download.oracle.com/javase/7/docs/api/javax/swing/ButtonGroup.html\" rel=\"noreferrer\"><code>ButtonGroup</code></a>, since you'll only want one button to be selected at a time</li>\n</ol>\n\n<hr>\n\n<pre><code>public final class RadioButtonDemo {\n    private static CardPanel cards;\n    private static Card cardOne;\n    private static Card cardTwo;\n    private static Card cardThree;\n\n    public static void main(String[] args){\n        SwingUtilities.invokeLater(new Runnable(){\n            @Override\n            public void run() {\n                createAndShowGUI();             \n            }\n        });\n    }\n\n    private static void createAndShowGUI(){\n        final JFrame frame = new JFrame(\"RB Demo\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(\n                new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));\n        cards = new CardPanel();\n        frame.getContentPane().add(cards);\n        frame.getContentPane().add(new ControlPanel());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private static void createCards(){\n        cardOne = new Card(\n                \"Card 1\", \n                new JLabel(\"This is card one\"), \n                Color.PINK);\n        cardTwo = new Card(\n                \"Card 2\", \n                new JLabel(\"This is card two\"), \n                Color.YELLOW);\n        cardThree = new Card(\n                \"Card 3\", \n                new JLabel(\"This is card three\"), \n                Color.CYAN);\n    }\n\n    private static final class Card extends JPanel{\n        private final String name;\n\n        public Card(\n                final String name, \n                final JComponent component, \n                final Color c){\n            super();\n            this.name = name;\n            setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            setBackground(c);\n            add(component);\n        }\n\n        public final String getName(){\n            return name;\n        }\n    }\n\n    private static final class CardPanel extends JPanel{\n        public CardPanel(){\n            super(new CardLayout());\n            createCards();\n            add(cardOne, cardOne.getName());\n            add(cardTwo, cardTwo.getName());\n            add(cardThree, cardThree.getName());\n        }\n    }\n\n    private static final class ControlPanel extends JPanel{\n        private static JRadioButton showCardOneButton;\n        private static JRadioButton showCardTwoButton;\n        private static JRadioButton showCardThreeButton;\n        private static JButton showButton;\n\n        public ControlPanel(){\n            super();\n            setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n            add(createJRadioButtonPanel());\n            add(createJButtonPanel());\n        }\n\n        private final JPanel createJRadioButtonPanel(){\n            final JPanel panel = new JPanel();\n\n            showCardOneButton = new JRadioButton(cardOne.getName());\n            showCardOneButton.setSelected(true);\n            showCardTwoButton = new JRadioButton(cardTwo.getName());\n            showCardThreeButton = new JRadioButton(cardThree.getName());\n            ButtonGroup group = new ButtonGroup();\n            group.add(showCardOneButton);\n            group.add(showCardTwoButton);\n            group.add(showCardThreeButton);\n            panel.add(showCardOneButton);\n            panel.add(showCardTwoButton);\n            panel.add(showCardThreeButton);\n\n            return panel;\n        }\n\n        private final JPanel createJButtonPanel(){\n            final JPanel panel = new JPanel();\n\n            showButton = new JButton(\"Show\");\n            showButton.addActionListener(new ActionListener(){\n                @Override\n                public void actionPerformed(ActionEvent e){\n                    CardLayout cl = (CardLayout) cards.getLayout();\n                    if(showCardOneButton.isSelected()){\n                        cl.show(cards, showCardOneButton.getText());\n                    }\n                    else if(showCardTwoButton.isSelected()){\n                        cl.show(cards, showCardTwoButton.getText());\n                    }\n                    else if(showCardThreeButton.isSelected()){\n                        cl.show(cards, showCardThreeButton.getText());\n                    }\n                }\n            });\n            panel.add(showButton);\n\n            return panel;\n        }\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/YXreg.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313126879,"creation_date":1313126879,"answer_id":7035921,"question_id":7034176,"body_markdown":"    JPanel panelCSV, panelExcel, panelDatabase;\r\n    CardLayout cardLayout = new CardLayout();\r\n    JPanel pagePanel = new JPanel(cardLayout);\r\n    pagePanel.add(panelCSV, &quot;CSV&quot;);\r\n    pagePanel.add(panelExcel, &quot;Excel&quot;);\r\n    pagePanel.add(panelDatabase, &quot;Database&quot;);\r\n    \r\n    public void btnContinueActionPerformed(ActionEvent e) {\r\n        if ( rbCSV.isSelected() ) {\r\n            cardLayout.show(pagePanel, &quot;CSV&quot;);\r\n        } else if ( rbExcel.isSelected() ) {\r\n            cardLayout.show(pagePanel, &quot;Excel&quot;);\r\n        } else if ( rbDatabase.isSelected() ) {\r\n            cardLayout.show(pagePanel, &quot;Database&quot;);\r\n        } else {\r\n            // ....\r\n        }\r\n    }\r\n\r\n","title":"Java UI, trying to go to next page upon clicking button","body":"<pre><code>JPanel panelCSV, panelExcel, panelDatabase;\nCardLayout cardLayout = new CardLayout();\nJPanel pagePanel = new JPanel(cardLayout);\npagePanel.add(panelCSV, \"CSV\");\npagePanel.add(panelExcel, \"Excel\");\npagePanel.add(panelDatabase, \"Database\");\n\npublic void btnContinueActionPerformed(ActionEvent e) {\n    if ( rbCSV.isSelected() ) {\n        cardLayout.show(pagePanel, \"CSV\");\n    } else if ( rbExcel.isSelected() ) {\n        cardLayout.show(pagePanel, \"Excel\");\n    } else if ( rbDatabase.isSelected() ) {\n        cardLayout.show(pagePanel, \"Database\");\n    } else {\n        // ....\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":478669,"reputation":69,"user_id":890905,"accept_rate":50,"display_name":"Brandon Lehman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15557,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1668781588,"creation_date":1313105972,"question_id":7034176,"body_markdown":"I have a simple GUI with 3 radio buttons and a button.  I want the user to select a radio option, then upon clicking the button the user will be directed to a different Java UI depending upon which radio button they selected.  Here is my method:\r\n\r\n     private void btnContinueActionPerformed(java.awt.event.ActionEvent evt)\r\n     {\r\n          if(rbCSV.isSelected())\r\n          {\r\n               \r\n          }\r\n          else if(rbExcel.isSelected())\r\n          {\r\n               \r\n          }\r\n          else if(rbDatabase.isSelected())\r\n          {\r\n               \r\n          }\r\n          else\r\n          {\r\n               \r\n          }\r\n     }\r\n\r\nI am new to Java Swing, and not sure of the syntax that will allow me to direct the user to the next page.  Sort of like a Wizard, I guess.  Any help would be awesome!  Thanks!","title":"Java UI, trying to go to next page upon clicking button","body":"<p>I have a simple GUI with 3 radio buttons and a button.  I want the user to select a radio option, then upon clicking the button the user will be directed to a different Java UI depending upon which radio button they selected.  Here is my method:</p>\n\n<pre><code> private void btnContinueActionPerformed(java.awt.event.ActionEvent evt)\n {\n      if(rbCSV.isSelected())\n      {\n\n      }\n      else if(rbExcel.isSelected())\n      {\n\n      }\n      else if(rbDatabase.isSelected())\n      {\n\n      }\n      else\n      {\n\n      }\n }\n</code></pre>\n\n<p>I am new to Java Swing, and not sure of the syntax that will allow me to direct the user to the next page.  Sort of like a Wizard, I guess.  Any help would be awesome!  Thanks!</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2835334,"reputation":1103,"user_id":2436051,"accept_rate":100,"display_name":"Jens Krogsboell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781412,"creation_date":1668780471,"answer_id":74490899,"question_id":74490236,"body_markdown":"&lt;h1&gt;UPDATE&lt;/h1&gt;\r\nCreating my own bean class as suggested below was not the solution after all. It turns out that the fix really was upgrading from spring boot 2.5.5 to 2.7.5.\r\n&lt;br&gt;&lt;br&gt;\r\n&lt;h1&gt;Below is incorrect&lt;/h1&gt;\r\nI solved it by creating my owner bean class with a default constructor taking  dependencies for the super constructor from the enclosing spring component:\r\n\r\n```\r\npublic class AdminMessageListenerContainer extends KafkaMessageListenerContainer&lt;String, String&gt; {\r\n  public AdminMessageListenerContainer() {\r\n    super(adminKafkaConsumerFactory, adminMessageListenerContainerProperties);\r\n  }\r\n}\r\n```\r\nand then\r\n```\r\nprivate void startAdminMessageListener(Message heartbeat) {\r\n  final String topic = heartbeat.getMessageTopicPrefix() + &quot;-&quot; + applicationClusterName;\r\n  if (adminMessageListenerContainer == null) {\r\n    synchronized (threadLock) {\r\n      if (adminMessageListenerContainer == null) {\r\n        this.adminMessageListenerContainerProperties = getAdminMessageListenerContainerProperties(topic);\r\n        final AdminMessageListenerContainer container = new AdminMessageListenerContainer();\r\n        applicationContext.registerBean(&quot;adminMessageListenerContainer&quot;, AdminMessageListenerContainer.class, container);\r\n        container.start();\r\n        adminMessageListenerContainer = container;\r\n        log.info(&quot;Starting admin message listener on topic {}&quot;, topic);\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Dynamically registered bean causes exception in shutdown hook","body":"<h1>UPDATE</h1>\nCreating my own bean class as suggested below was not the solution after all. It turns out that the fix really was upgrading from spring boot 2.5.5 to 2.7.5.\n<br><br>\n<h1>Below is incorrect</h1>\nI solved it by creating my owner bean class with a default constructor taking  dependencies for the super constructor from the enclosing spring component:\n<pre><code>public class AdminMessageListenerContainer extends KafkaMessageListenerContainer&lt;String, String&gt; {\n  public AdminMessageListenerContainer() {\n    super(adminKafkaConsumerFactory, adminMessageListenerContainerProperties);\n  }\n}\n</code></pre>\n<p>and then</p>\n<pre><code>private void startAdminMessageListener(Message heartbeat) {\n  final String topic = heartbeat.getMessageTopicPrefix() + &quot;-&quot; + applicationClusterName;\n  if (adminMessageListenerContainer == null) {\n    synchronized (threadLock) {\n      if (adminMessageListenerContainer == null) {\n        this.adminMessageListenerContainerProperties = getAdminMessageListenerContainerProperties(topic);\n        final AdminMessageListenerContainer container = new AdminMessageListenerContainer();\n        applicationContext.registerBean(&quot;adminMessageListenerContainer&quot;, AdminMessageListenerContainer.class, container);\n        container.start();\n        adminMessageListenerContainer = container;\n        log.info(&quot;Starting admin message listener on topic {}&quot;, topic);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2835334,"reputation":1103,"user_id":2436051,"accept_rate":100,"display_name":"Jens Krogsboell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668781412,"creation_date":1668777281,"question_id":74490236,"body_markdown":"In a Spring Boot application I am starting a Kafka listener container based on a topic name I receive after the application is started. My question however is perhaps not as much about Kafka as it is about dynamically registered beans in general.\r\n\r\n```java\r\nprivate volatile KafkaMessageListenerContainer&lt;String,String&gt; adminMessageListenerContainer;\r\nprivate final Object threadLock = new Object();\r\n...\r\n...\r\nprivate void startAdminMessageListener(Message heartbeat) {\r\n  final String topic = heartbeat.getMessageTopicPrefix() + &quot;-&quot; + applicationClusterName;\r\n  if (adminMessageListenerContainer == null) {\r\n    synchronized (threadLock) {\r\n      if (adminMessageListenerContainer == null) {\r\n        final KafkaMessageListenerContainer&lt;String,String&gt; container = createAdminMessageLister(topic);\r\n        applicationContext.registerBean(&quot;adminMessageListenerContainer&quot;, KafkaMessageListenerContainer.class, container);\r\n        container.start();\r\n        adminMessageListenerContainer = container;\r\n        log.info(&quot;Starting admin message listener on topic {}&quot;, topic);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nThis works very well - except that when I stop the application I get this exception:\r\n```\r\n2022-11-18 13:59:30.861  WARN 67015 --- [ionShutdownHook] ConfigServletWebServerApplicationContext : Exception thrown from LifecycleProcessor on context close\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;adminMessageListenerContainer&#39;: Unsatisfied dependency expressed through constructor parameter 1: Ambiguous argument values for parameter of type [org.springframework.kafka.core.ConsumerFactory] - did you specify the correct bean references as arguments?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:787) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.getLifecycleBeans(DefaultLifecycleProcessor.java:285) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:191) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1067) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.5.5.jar:2.5.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137) ~[spring-boot-2.5.5.jar:2.5.5]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106) ~[spring-boot-2.5.5.jar:2.5.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n```\r\nHow can I avoid that?","title":"Dynamically registered bean causes exception in shutdown hook","body":"<p>In a Spring Boot application I am starting a Kafka listener container based on a topic name I receive after the application is started. My question however is perhaps not as much about Kafka as it is about dynamically registered beans in general.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private volatile KafkaMessageListenerContainer&lt;String,String&gt; adminMessageListenerContainer;\nprivate final Object threadLock = new Object();\n...\n...\nprivate void startAdminMessageListener(Message heartbeat) {\n  final String topic = heartbeat.getMessageTopicPrefix() + &quot;-&quot; + applicationClusterName;\n  if (adminMessageListenerContainer == null) {\n    synchronized (threadLock) {\n      if (adminMessageListenerContainer == null) {\n        final KafkaMessageListenerContainer&lt;String,String&gt; container = createAdminMessageLister(topic);\n        applicationContext.registerBean(&quot;adminMessageListenerContainer&quot;, KafkaMessageListenerContainer.class, container);\n        container.start();\n        adminMessageListenerContainer = container;\n        log.info(&quot;Starting admin message listener on topic {}&quot;, topic);\n      }\n    }\n  }\n}\n</code></pre>\n<p>This works very well - except that when I stop the application I get this exception:</p>\n<pre><code>2022-11-18 13:59:30.861  WARN 67015 --- [ionShutdownHook] ConfigServletWebServerApplicationContext : Exception thrown from LifecycleProcessor on context close\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminMessageListenerContainer': Unsatisfied dependency expressed through constructor parameter 1: Ambiguous argument values for parameter of type [org.springframework.kafka.core.ConsumerFactory] - did you specify the correct bean references as arguments?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:787) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.DefaultLifecycleProcessor.getLifecycleBeans(DefaultLifecycleProcessor.java:285) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:191) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1067) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137) ~[spring-boot-2.5.5.jar:2.5.5]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106) ~[spring-boot-2.5.5.jar:2.5.5]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>How can I avoid that?</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":224322,"reputation":451,"user_id":5647851,"display_name":"C&#233;sar Alves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668617858,"creation_date":1668617858,"answer_id":74464377,"question_id":74464155,"body_markdown":"You are using a native query, not an HQL query. Check your SQL syntax.","title":"SQL Syntax error in Hibernate&#39;s map function","body":"<p>You are using a native query, not an HQL query. Check your SQL syntax.</p>\n"},{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781369,"creation_date":1668781369,"answer_id":74491086,"question_id":74464155,"body_markdown":"With a native query, your named parameter won&#39;t work. You need to remove the `nativeQuery = true`","title":"SQL Syntax error in Hibernate&#39;s map function","body":"<p>With a native query, your named parameter won't work. You need to remove the <code>nativeQuery = true</code></p>\n"}],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668781369,"creation_date":1668616768,"question_id":74464155,"body_markdown":"```SELECT NEW Map (PRODUCT_CATEGORY, COUNT(PRODUCT_CATEGORY) AS COUNTER) from Product WHERE USER_ID = (SELECT USER_ID FROM USERS WHERE USERNAME=&#39;burak123&#39; ```\r\n\r\nHi everyone,\r\nAs hibernates document says here: https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-select\r\n\r\nI am trying to map the query result into a hash map like this\r\n\r\n```\r\n@Query(value = &quot;SELECT NEW Map( PRODUCT_CATEGORY , COUNT(PRODUCT_CATEGORY) AS COUNTER )  from Product WHERE USER_ID=(SELECT USER_ID FROM USERS WHERE USERNAME=(:username)) &quot;,nativeQuery = true)\r\n    HashMap&lt;Integer,Integer&gt; getCategoryCountsWithUsername(@Param(&quot;username&quot;)String username);\r\n```\r\nBut it throws an JdbcSyntaxErrorException. I am trying to solve this for like 1 hours already. Can someone help?","title":"SQL Syntax error in Hibernate&#39;s map function","body":"<p><code>SELECT NEW Map (PRODUCT_CATEGORY, COUNT(PRODUCT_CATEGORY) AS COUNTER) from Product WHERE USER_ID = (SELECT USER_ID FROM USERS WHERE USERNAME='burak123' </code></p>\n<p>Hi everyone,\nAs hibernates document says here: <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-select\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-select</a></p>\n<p>I am trying to map the query result into a hash map like this</p>\n<pre><code>@Query(value = &quot;SELECT NEW Map( PRODUCT_CATEGORY , COUNT(PRODUCT_CATEGORY) AS COUNTER )  from Product WHERE USER_ID=(SELECT USER_ID FROM USERS WHERE USERNAME=(:username)) &quot;,nativeQuery = true)\n    HashMap&lt;Integer,Integer&gt; getCategoryCountsWithUsername(@Param(&quot;username&quot;)String username);\n</code></pre>\n<p>But it throws an JdbcSyntaxErrorException. I am trying to solve this for like 1 hours already. Can someone help?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-chromedriver","chrome-web-driver"],"comments":[{"owner":{"account_id":10183910,"reputation":3715,"user_id":8588359,"accept_rate":100,"display_name":"Raj"},"score":0,"creation_date":1573453105,"post_id":58796324,"comment_id":103873712,"body_markdown":"Please add some more information.","body":"Please add some more information."},{"owner":{"account_id":10829360,"reputation":780,"user_id":7964299,"accept_rate":80,"display_name":"Naveen"},"score":0,"creation_date":1573455502,"post_id":58796324,"comment_id":103874464,"body_markdown":"if you have any Chrome or chrome driver instance running, close them and retry again. Also is this in an AWS / Citrix machine?","body":"if you have any Chrome or chrome driver instance running, close them and retry again. Also is this in an AWS / Citrix machine?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573469069,"creation_date":1573469069,"answer_id":58799859,"question_id":58796324,"body_markdown":"This error message...\r\n\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\t[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\r\n\tNov 11, 2019 11:25:05 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n\tINFO: Detected dialect: W3C\r\n\t[1573451709.039][WARNING]: Timed out connecting to Chrome, retrying...\r\n\r\n...implies that the **ChromeDriver** was unable to initiate/spawn a new **WebBrowser** i.e. **Chrome Browser** session.\r\n\r\n\r\n----------\r\n\r\n\r\nAnalysis\r\n--------\r\nThe first log message:\r\n\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\r\nis part of the startup log when using [ChromeDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) and is informative in nature. \r\n\r\n&gt;You can find a detailed discussion in [How do I protect the ports that chromedriver use?](https://stackoverflow.com/questions/55442679/how-do-i-protect-the-ports-that-chromedriver-use/55450099#55450099)\r\n\r\n\r\n----------\r\n\r\n\r\nThe following log message:\r\n\r\n\t[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\r\n\t\r\nindicates there are some **incompatibility** between the version of the binaries you are using.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _JDK_ is upgraded to  current levels [JDK 8u222](https://www.oracle.com/technetwork/java/javase/downloads/index.html).\r\n- _Selenium_ is upgraded to  current levels [Version 3.141.59](https://docs.seleniumhq.org/download/).\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v78.0](https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/) level.\r\n- _Chrome_ is updated to  current _Chrome Version 78.0_ level. (as per [ChromeDriver v78.0 release notes](https://chromedriver.storage.googleapis.com/78.0.3904.70/notes.txt))\r\n- _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n- (_WindowsOS only_) Use [_CCleaner_](https://www.ccleaner.com/ccleaner) tool to wipe off all the OS chores before and after the execution of your _Test Suite_.\r\n- (_LinuxOS only_) [Free Up and Release the Unused/Cached Memory in Ubuntu/Linux Mint](http://www.yourownlinux.com/2013/10/how-to-free-up-release-unused-cached-memory-in-linux.html) before and after the execution of your _Test Suite_.\r\n- If your base _Web Client_ version is too old, then uninstall it and install a recent GA and released version of _Web Client_.\r\n- Take a _System Reboot_.\r\n- Execute your `@Test` as **non-root** user.\r\n- Always invoke `driver.quit()` within `tearDown(){}` method to close &amp; destroy the _WebDriver_ and _Web Client_ instances gracefully.","title":"How to fix [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying... while using chrome version 78 and chrome driver version 78.0.3904.70","body":"<p>This error message...</p>\n\n<pre><code>Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\nNov 11, 2019 11:25:05 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n[1573451709.039][WARNING]: Timed out connecting to Chrome, retrying...\n</code></pre>\n\n<p>...implies that the <strong>ChromeDriver</strong> was unable to initiate/spawn a new <strong>WebBrowser</strong> i.e. <strong>Chrome Browser</strong> session.</p>\n\n<hr>\n\n<h2>Analysis</h2>\n\n<p>The first log message:</p>\n\n<pre><code>Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n</code></pre>\n\n<p>is part of the startup log when using <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">ChromeDriver</a> and is informative in nature. </p>\n\n<blockquote>\n  <p>You can find a detailed discussion in <a href=\"https://stackoverflow.com/questions/55442679/how-do-i-protect-the-ports-that-chromedriver-use/55450099#55450099\">How do I protect the ports that chromedriver use?</a></p>\n</blockquote>\n\n<hr>\n\n<p>The following log message:</p>\n\n<pre><code>[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\n</code></pre>\n\n<p>indicates there are some <strong>incompatibility</strong> between the version of the binaries you are using.</p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Ensure that:</p>\n\n<ul>\n<li><em>JDK</em> is upgraded to  current levels <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">JDK 8u222</a>.</li>\n<li><em>Selenium</em> is upgraded to  current levels <a href=\"https://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">Version 3.141.59</a>.</li>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/\" rel=\"nofollow noreferrer\">ChromeDriver v78.0</a> level.</li>\n<li><em>Chrome</em> is updated to  current <em>Chrome Version 78.0</em> level. (as per <a href=\"https://chromedriver.storage.googleapis.com/78.0.3904.70/notes.txt\" rel=\"nofollow noreferrer\">ChromeDriver v78.0 release notes</a>)</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>(<em>WindowsOS only</em>) Use <a href=\"https://www.ccleaner.com/ccleaner\" rel=\"nofollow noreferrer\"><em>CCleaner</em></a> tool to wipe off all the OS chores before and after the execution of your <em>Test Suite</em>.</li>\n<li>(<em>LinuxOS only</em>) <a href=\"http://www.yourownlinux.com/2013/10/how-to-free-up-release-unused-cached-memory-in-linux.html\" rel=\"nofollow noreferrer\">Free Up and Release the Unused/Cached Memory in Ubuntu/Linux Mint</a> before and after the execution of your <em>Test Suite</em>.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code> as <strong>non-root</strong> user.</li>\n<li>Always invoke <code>driver.quit()</code> within <code>tearDown(){}</code> method to close &amp; destroy the <em>WebDriver</em> and <em>Web Client</em> instances gracefully.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13455428,"reputation":1,"user_id":9709117,"display_name":"Julio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578516083,"creation_date":1573573014,"answer_id":58821922,"question_id":58796324,"body_markdown":"I had to update to the dev version of chrome 79 and the latest dev version of chromedriver to make it work. Although I&#39;ve run against other issues with this version, so I don&#39;t know if its a good solution.","title":"How to fix [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying... while using chrome version 78 and chrome driver version 78.0.3904.70","body":"<p>I had to update to the dev version of chrome 79 and the latest dev version of chromedriver to make it work. Although I've run against other issues with this version, so I don't know if its a good solution.</p>\n"},{"tags":[],"owner":{"account_id":7950604,"reputation":173,"user_id":6001534,"display_name":"nimodka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668781276,"creation_date":1668781276,"answer_id":74491065,"question_id":58796324,"body_markdown":"I have fixed this issue of timeout / Connection reset by changing my code from:\r\n```\r\npublic void AfterScenario(Scenario sc) {\t\r\n\t\tdriver.close();\r\n\t\tdriver.quit();\r\n\t\tdriver = null;\r\n\t}\r\n```\r\nto:\r\n```\r\npublic void AfterScenario(Scenario sc) {\r\n\t\tdriver.quit();\r\n\t\tdriver = null;\r\n\t}\r\n```\r\nSo basically I removed the driver.close() and this fixed my issue. I do not know why this is happening, but experts can explain more...","title":"How to fix [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying... while using chrome version 78 and chrome driver version 78.0.3904.70","body":"<p>I have fixed this issue of timeout / Connection reset by changing my code from:</p>\n<pre><code>public void AfterScenario(Scenario sc) {    \n        driver.close();\n        driver.quit();\n        driver = null;\n    }\n</code></pre>\n<p>to:</p>\n<pre><code>public void AfterScenario(Scenario sc) {\n        driver.quit();\n        driver = null;\n    }\n</code></pre>\n<p>So basically I removed the driver.close() and this fixed my issue. I do not know why this is happening, but experts can explain more...</p>\n"}],"owner":{"account_id":16199397,"reputation":41,"user_id":11696155,"display_name":"Neha Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18194,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1668781276,"creation_date":1573452644,"question_id":58796324,"body_markdown":"My Chrome browser is updated to version 78 and when I tried to execute any code of automation, it shows the error\r\n\r\n\r\n    Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n    [1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\r\n    Nov 11, 2019 11:25:05 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying...\r\n\r\n\r\n\r\n\r\nHow can I fix it?","title":"How to fix [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying... while using chrome version 78 and chrome driver version 78.0.3904.70","body":"<p>My Chrome browser is updated to version 78 and when I tried to execute any code of automation, it shows the error</p>\n\n<pre><code>Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\nNov 11, 2019 11:25:05 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n[1573451709.039][WARNING]: Timed out connecting to Chrome, retrying...\n</code></pre>\n\n<p>How can I fix it?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"score":0,"creation_date":1668767387,"post_id":74488179,"comment_id":131491592,"body_markdown":"what message you want to show like &quot;end of list&quot;","body":"what message you want to show like &quot;end of list&quot;"},{"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"score":0,"creation_date":1668767602,"post_id":74488179,"comment_id":131491661,"body_markdown":"refer https://stackoverflow.com/questions/40726438/android-detect-when-the-last-item-in-a-recyclerview-is-visible","body":"refer <a href=\"https://stackoverflow.com/questions/40726438/android-detect-when-the-last-item-in-a-recyclerview-is-visible\" title=\"android detect when the last item in a recyclerview is visible\">stackoverflow.com/questions/40726438/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781140,"creation_date":1668781140,"answer_id":74491033,"question_id":74488179,"body_markdown":"This is what I usually use when I want to check if the user is reached to the bottom of the recyclerView\r\n```\r\nrecyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n    @Override\r\n    public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n        LinearLayoutManager lm=LinearLayoutManager.class.cast(recyclerView.getLayoutManager());\r\n        int items= lm.getItemCount();\r\n        int last = lm.findLastVisibleItemPosition();\r\n\r\n        boolean bottom= last+ 5 &gt;= items;\r\n        if (items&gt; 0 &amp;&amp; bottom) {\r\n            //you have reached to the bottom of your recycler view\r\n        }\r\n    }\r\n});\r\n```","title":"The last item in the recyclerView list","body":"<p>This is what I usually use when I want to check if the user is reached to the bottom of the recyclerView</p>\n<pre><code>recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n    @Override\n    public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n        LinearLayoutManager lm=LinearLayoutManager.class.cast(recyclerView.getLayoutManager());\n        int items= lm.getItemCount();\n        int last = lm.findLastVisibleItemPosition();\n\n        boolean bottom= last+ 5 &gt;= items;\n        if (items&gt; 0 &amp;&amp; bottom) {\n            //you have reached to the bottom of your recycler view\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":20891675,"reputation":1,"user_id":15346902,"display_name":"mrp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668781140,"creation_date":1668766928,"question_id":74488179,"body_markdown":"How can I display a message to the user after scrolling the recyclerview items and viewing the last item in the list?\r\n\r\n\r\nThe code below does not work\r\n\r\n\r\n```\r\nrecyclerView.addOnScrollListener(object : RecyclerView.OnScrollListener(){\r\n    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\r\n        super.onScrolled(recyclerView, dx, dy)\r\n\r\n\r\n        val count= recyclerView.layoutManager?.itemCount\r\n\r\n        if (customerModels.size==count){\r\n            Toast.makeText(applicationContext,&quot;true&quot;,Toast.LENGTH_LONG).show()\r\n\r\n        }\r\n\r\n    }\r\n})\r\n```\r\n","title":"The last item in the recyclerView list","body":"<p>How can I display a message to the user after scrolling the recyclerview items and viewing the last item in the list?</p>\n<p>The code below does not work</p>\n<pre><code>recyclerView.addOnScrollListener(object : RecyclerView.OnScrollListener(){\n    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n        super.onScrolled(recyclerView, dx, dy)\n\n\n        val count= recyclerView.layoutManager?.itemCount\n\n        if (customerModels.size==count){\n            Toast.makeText(applicationContext,&quot;true&quot;,Toast.LENGTH_LONG).show()\n\n        }\n\n    }\n})\n</code></pre>\n"},{"tags":["java","benchmarking","jit"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1668783484,"post_id":74491019,"comment_id":131497077,"body_markdown":"You cannot do this.  You will need to set up your benchmark some other way -- probably using JMH.","body":"You cannot do this.  You will need to set up your benchmark some other way -- probably using JMH."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668785854,"post_id":74491019,"comment_id":131497913,"body_markdown":"Just restart the virtual machine?","body":"Just restart the virtual machine?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1668788966,"post_id":74491019,"comment_id":131499083,"body_markdown":"What are you trying to do? If you want to know how long it takes, why not benchmark that with the optimizations? If you&#39;re looking to improve performance, use a Profiler to see where your code spends its time.","body":"What are you trying to do? If you want to know how long it takes, why not benchmark that with the optimizations? If you&#39;re looking to improve performance, use a Profiler to see where your code spends its time."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1668789770,"post_id":74491019,"comment_id":131499380,"body_markdown":"Can you use the `asm` class to modify the bytecode, call it forcing it to re-JIT, then modify it back to its original?  I&#39;d guess that might work.  Or change some variable that was previously constant, if it had speculatively inlined / constant-propagated based on that, it would have to redo optimization.  But see also [Idiomatic way of performance evaluation?](https://stackoverflow.com/q/60291987) for potential pitfalls of microbenchmarking.","body":"Can you use the <code>asm</code> class to modify the bytecode, call it forcing it to re-JIT, then modify it back to its original?  I&#39;d guess that might work.  Or change some variable that was previously constant, if it had speculatively inlined / constant-propagated based on that, it would have to redo optimization.  But see also <a href=\"https://stackoverflow.com/q/60291987\">Idiomatic way of performance evaluation?</a> for potential pitfalls of microbenchmarking."},{"owner":{"account_id":9237444,"reputation":1,"user_id":6861603,"display_name":"Temurbek Khujaev"},"score":0,"creation_date":1668973902,"post_id":74491019,"comment_id":131530764,"body_markdown":"@Robert I want to compare results of running with different parameters. Like for first run alpha =1 and for second run alpha=1.5 and etc.","body":"@Robert I want to compare results of running with different parameters. Like for first run alpha =1 and for second run alpha=1.5 and etc."}],"owner":{"account_id":9237444,"reputation":1,"user_id":6861603,"display_name":"Temurbek Khujaev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668781062,"creation_date":1668781062,"question_id":74491019,"body_markdown":"I have a java process that benchmarks some long running function. But because of cumulative JIT optimizations every next call to the function performs better then previous calls. \r\n\r\n\r\nJust using `-Xint` to disable JIT is not an option, because it becomes 10x slower and impossible to benchmark.","title":"Is there a way to reset JIT optimizations data at runtime?","body":"<p>I have a java process that benchmarks some long running function. But because of cumulative JIT optimizations every next call to the function performs better then previous calls.</p>\n<p>Just using <code>-Xint</code> to disable JIT is not an option, because it becomes 10x slower and impossible to benchmark.</p>\n"},{"tags":["java","maven","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668850639,"post_id":74490578,"comment_id":131509656,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":24534670,"reputation":1,"user_id":18445945,"display_name":"shri"},"score":0,"creation_date":1668875038,"post_id":74490578,"comment_id":131514609,"body_markdown":"Hi My issue got resolved by adding asynchttpclient maven dependency in POM.","body":"Hi My issue got resolved by adding asynchttpclient maven dependency in POM."}],"owner":{"account_id":24534670,"reputation":1,"user_id":18445945,"display_name":"shri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668780364,"creation_date":1668778903,"question_id":74490578,"body_markdown":"Recently I have upgraded my selenium version from 3.141.59 to 4.1.0 and whenever I am running my script getting the below error\r\n\r\n\r\nConsole &amp;3\r\nN. Results of running class TestRunner\r\n髪\r\n```\r\nminated&gt; TestRunner [TestNG] C:\\Program FilesVava\\jdk1.8.0_321\\bin\\javaw.exe (Nov 18, 2022, 6:46:33 PM)\r\njava.lang.NoClassDefFoundError: org/asynchttpclient/DefaultAsyncHttpClientConfig$Builder at org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:91 at org.openqa.selenium.remote.http.netty .NettyClient.&lt;clinit&gt;(NettyClient.java:57)\r\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.jav at org.openqa.selenium.remote.tracing.TracedHttpClient$Factory.createClient(TracedHttpCli at org-openqa.selenium.remote.HttpCommandExecutor-&lt;init&gt;(HttpCommandExecutor.java:107) at org.openqa.selenium. remote. RemoteWebDriver.createTracedExecutorWithTracedHttpClient(Re at org.openqa.selenium. remote. RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java: 146) at com.cucumber.utility.BrowserFactory.launchBrowser (BrowserFactory. java: 82) at com.cucumber.step.StepDefinition _.launch_the_browser_and_navigate_to_ at ?.Launch the browser &quot;yes&quot; &quot;Chrome&quot; &quot;105.0&quot; &quot;Windows 10&quot; and navigate to URL Env &quot;h sed by: java.lang.ClassNotFoundException: org.asynchttpclient.DefaultAsyncHttpClientConfig$Bui\r\nat java.net.URLClassLoader.findClass(URLClassLoader. java: 387)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\nat sun.misc. Launcher$ApplassLoader. loadClass (Launcher. java:355) at java.lang.ClassLoader.loadClass (ClassLoader. java: 351)\r\nat org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:91)\r\nat org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:57)\r\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java at org.openqa.selenium.remote.tracing. TracedHttpClient$Factory.createClient (TracedHttplie at org.openqa.selenium. remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor. java:107) at org.openga.selenium.remote.RemoteWebDriver.createTracedExecutorWithTracedHttpClient(Rem at org.openqa.selenium.remote. RemoteWebDriver.&lt;init&gt; (RemoteWebDriver.java:146) at com.cucumber.utility.BrowserFactory.launchBrowser(BrowserFactory.java:82) at com.cucumber.step.StepDefinition_.launch_the_browser_and_navigate_to_Paypal at sun.reflect.NativeMethodAccessorImpl.invoke&#174; (Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImp1.java:62) at sun.reflect.DelegatingMethodAccessorImp1.invoke (DelegatingMethodAccessorImpl. java:43) at java.lang.reflect.Method.invoke (Method. java: 498) at cucumber.runtime.Utils$1.call(Utils. java: 26)\r\n=+\r\nTimenit timenit / Timennt\r\n```\r\n\r\nI had okhttp3 class where now I have commented it due to its throwing error.","title":"ClassNotFoundException: org.asynchttpclient.defaultasyncHttpClientConfigBuilder error","body":"<p>Recently I have upgraded my selenium version from 3.141.59 to 4.1.0 and whenever I am running my script getting the below error</p>\n<p>Console &amp;3\nN. Results of running class TestRunner\n髪</p>\n<pre><code>minated&gt; TestRunner [TestNG] C:\\Program FilesVava\\jdk1.8.0_321\\bin\\javaw.exe (Nov 18, 2022, 6:46:33 PM)\njava.lang.NoClassDefFoundError: org/asynchttpclient/DefaultAsyncHttpClientConfig$Builder at org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:91 at org.openqa.selenium.remote.http.netty .NettyClient.&lt;clinit&gt;(NettyClient.java:57)\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.jav at org.openqa.selenium.remote.tracing.TracedHttpClient$Factory.createClient(TracedHttpCli at org-openqa.selenium.remote.HttpCommandExecutor-&lt;init&gt;(HttpCommandExecutor.java:107) at org.openqa.selenium. remote. RemoteWebDriver.createTracedExecutorWithTracedHttpClient(Re at org.openqa.selenium. remote. RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java: 146) at com.cucumber.utility.BrowserFactory.launchBrowser (BrowserFactory. java: 82) at com.cucumber.step.StepDefinition _.launch_the_browser_and_navigate_to_ at ?.Launch the browser &quot;yes&quot; &quot;Chrome&quot; &quot;105.0&quot; &quot;Windows 10&quot; and navigate to URL Env &quot;h sed by: java.lang.ClassNotFoundException: org.asynchttpclient.DefaultAsyncHttpClientConfig$Bui\nat java.net.URLClassLoader.findClass(URLClassLoader. java: 387)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\nat sun.misc. Launcher$ApplassLoader. loadClass (Launcher. java:355) at java.lang.ClassLoader.loadClass (ClassLoader. java: 351)\nat org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:91)\nat org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:57)\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java at org.openqa.selenium.remote.tracing. TracedHttpClient$Factory.createClient (TracedHttplie at org.openqa.selenium. remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor. java:107) at org.openga.selenium.remote.RemoteWebDriver.createTracedExecutorWithTracedHttpClient(Rem at org.openqa.selenium.remote. RemoteWebDriver.&lt;init&gt; (RemoteWebDriver.java:146) at com.cucumber.utility.BrowserFactory.launchBrowser(BrowserFactory.java:82) at com.cucumber.step.StepDefinition_.launch_the_browser_and_navigate_to_Paypal at sun.reflect.NativeMethodAccessorImpl.invoke® (Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImp1.java:62) at sun.reflect.DelegatingMethodAccessorImp1.invoke (DelegatingMethodAccessorImpl. java:43) at java.lang.reflect.Method.invoke (Method. java: 498) at cucumber.runtime.Utils$1.call(Utils. java: 26)\n=+\nTimenit timenit / Timennt\n</code></pre>\n<p>I had okhttp3 class where now I have commented it due to its throwing error.</p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1668622876,"post_id":74465322,"comment_id":131452725,"body_markdown":"Hi there, please provide the samples and all attempted regexes (inputs: matching, non matching) **in plain text format** so whoever wants to help you will be able to copy and test their solution.","body":"Hi there, please provide the samples and all attempted regexes (inputs: matching, non matching) <b>in plain text format</b> so whoever wants to help you will be able to copy and test their solution."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1668623847,"post_id":74465322,"comment_id":131453050,"body_markdown":"You can just add a *word boundary*, e.g. [`^\\b0*(?:1(?:10)*(?:0|11)(?:01*0(?:01)*1|00)*1)*0*$`](https://regex101.com/r/gwRqnH/2) This will force a *word character* which digits belong to.","body":"You can just add a <i>word boundary</i>, e.g. <a href=\"https://regex101.com/r/gwRqnH/2\" rel=\"nofollow noreferrer\"><code>^\\b0*(?:1(?:10)*(?:0|11)(?:01*0(?:01)*1|00)*1)*0*$</code></a> This will force a <i>word character</i> which digits belong to."},{"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"score":0,"creation_date":1668630517,"post_id":74465322,"comment_id":131455357,"body_markdown":"@bobblebubble - your solution works, but not solves my problem, which is - why backreference is not working for this case, regardless +1 for you ;)","body":"@bobblebubble - your solution works, but not solves my problem, which is - why backreference is not working for this case, regardless +1 for you ;)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1668631556,"post_id":74465322,"comment_id":131455686,"body_markdown":"As per the [ask], please [**do not** post images of code, data, error message, etc](https://meta.stackoverflow.com/questions/285551). Instead, copy or type the text into your question, [formatted as code](https://meta.stackoverflow.com/questions/251361#251362). Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text.","body":"As per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, please <a href=\"https://meta.stackoverflow.com/questions/285551\"><b>do not</b> post images of code, data, error message, etc</a>. Instead, copy or type the text into your question, <a href=\"https://meta.stackoverflow.com/questions/251361#251362\">formatted as code</a>. Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1668632185,"post_id":74465322,"comment_id":131455848,"body_markdown":"@BJagger As far as I know `\\k&lt;grp&gt;` ist a [reference](https://www.regular-expressions.info/named.html) to what was matched by the referenced group. [`(?&lt;grp&gt;abc)123\\k&lt;grp&gt;`](https://regex101.com/r/zEvg1h/1) is the same like using e.g. [`(?&lt;grp&gt;abc)123\\1`](https://regex101.com/r/uHcsBk/1) or [`(abc)123\\1`](https://regex101.com/r/6K7mJu/1). Instead of the `\\b` you could also use a lookahead to check if next character is not the end `(?!$)` or require at least one character `(?=.)`  but those are a bit less efficient than the `\\b` &quot;trick&quot;.","body":"@BJagger As far as I know <code>\\k&lt;grp&gt;</code> ist a <a href=\"https://www.regular-expressions.info/named.html\" rel=\"nofollow noreferrer\">reference</a> to what was matched by the referenced group. <a href=\"https://regex101.com/r/zEvg1h/1\" rel=\"nofollow noreferrer\"><code>(?&lt;grp&gt;abc)123\\k&lt;grp&gt;</code></a> is the same like using e.g. <a href=\"https://regex101.com/r/uHcsBk/1\" rel=\"nofollow noreferrer\"><code>(?&lt;grp&gt;abc)123\\1</code></a> or <a href=\"https://regex101.com/r/6K7mJu/1\" rel=\"nofollow noreferrer\"><code>(abc)123\\1</code></a>. Instead of the <code>\\b</code> you could also use a lookahead to check if next character is not the end <code>(?!$)</code> or require at least one character <code>(?=.)</code>  but those are a bit less efficient than the <code>\\b</code> &quot;trick&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668642664,"creation_date":1668642664,"answer_id":74468617,"question_id":74465322,"body_markdown":"In your pattern you have this `(?&lt;pat&gt;^[10]+$)` followed by `\\k&lt;pat&gt;` which matches the characters that were captured by the named group `pat`.\r\n\r\nBut as you only match `0` or `1` and you have an anchor `$` that asserts the end of the string, there is no more text to match after it by the backreference.\r\n\r\nAs you don&#39;t want to match empty strings, you can write the pattern as:\r\n\r\n    ^(?&lt;pat&gt;0*(1(10)*(0|11)(01*0(01)*1|00)*1)+0*|0+)$\r\n\r\n**Explanation**\r\n\r\n- `^` Start of string\r\n- `(?&lt;pat&gt;` Named group `pat`\r\n  - `0*` Match optional zeroes\r\n  - `(` Start group to repeat as a whole part\r\n    - `1(10)*(0|11)(01*0(01)*1|00)*1` The initial pattern\r\n  - `)+` Close group and repeat this part 1 or more times to prevent matching an empty string\r\n  - `0*` Match optional zeroes\r\n  - `|` Or\r\n  - `0+` Match 1+ times a zero to prevent matching an empty string\r\n- `)` Close group `pat`\r\n- `$` End of string\r\n\r\nSee a [regex demo](https://regex101.com/r/M0TsZo/1).\r\n\r\n**Note** that I have removed some of the outer capture groups like `(11)` and `(00)` and `(01*0)` which are unnecessary for a match only. \r\n\r\nIf you are only interested in the named group *pat* you can use non capture groups `(?:` instead:\r\n\r\n    ^(?&lt;pat&gt;0*(?:1(?:10)*(?:0|11)(?:01*0(?:01)*1|00)*1)+0*|0+)$","title":"Patterns in two catching groups work as intended but fail when put in backreference","body":"<p>In your pattern you have this <code>(?&lt;pat&gt;^[10]+$)</code> followed by <code>\\k&lt;pat&gt;</code> which matches the characters that were captured by the named group <code>pat</code>.</p>\n<p>But as you only match <code>0</code> or <code>1</code> and you have an anchor <code>$</code> that asserts the end of the string, there is no more text to match after it by the backreference.</p>\n<p>As you don't want to match empty strings, you can write the pattern as:</p>\n<pre><code>^(?&lt;pat&gt;0*(1(10)*(0|11)(01*0(01)*1|00)*1)+0*|0+)$\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?&lt;pat&gt;</code> Named group <code>pat</code>\n<ul>\n<li><code>0*</code> Match optional zeroes</li>\n<li><code>(</code> Start group to repeat as a whole part\n<ul>\n<li><code>1(10)*(0|11)(01*0(01)*1|00)*1</code> The initial pattern</li>\n</ul>\n</li>\n<li><code>)+</code> Close group and repeat this part 1 or more times to prevent matching an empty string</li>\n<li><code>0*</code> Match optional zeroes</li>\n<li><code>|</code> Or</li>\n<li><code>0+</code> Match 1+ times a zero to prevent matching an empty string</li>\n</ul>\n</li>\n<li><code>)</code> Close group <code>pat</code></li>\n<li><code>$</code> End of string</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/M0TsZo/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><strong>Note</strong> that I have removed some of the outer capture groups like <code>(11)</code> and <code>(00)</code> and <code>(01*0)</code> which are unnecessary for a match only.</p>\n<p>If you are only interested in the named group <em>pat</em> you can use non capture groups <code>(?:</code> instead:</p>\n<pre><code>^(?&lt;pat&gt;0*(?:1(?:10)*(?:0|11)(?:01*0(?:01)*1|00)*1)+0*|0+)$\n</code></pre>\n"}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668780327,"creation_date":1668622404,"question_id":74465322,"body_markdown":"I write regex which should match a pattern consisting of only optional characters, but simultaneously I want it to doesn&#39;t match an empty string - I figured that I will use backreference for this, but when I try to apply it  my checks stop working: probably I lack in understanding of backreference but please give me a hint where I am making a mistake, my regex:\r\n```\r\n(?&lt;pat&gt;^[10]+$)(\\k&lt;pat&gt;0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*)\r\n```\r\n**Both subpatterns applied - no matches - regardless if correct or wrong**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Only the second pattern applied (with additional checks for anchors - all correct matches work but also matches empty line**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Only first pattern applied: matches any combination of 1 and 0**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BlMYp.png\r\n  [2]: https://i.stack.imgur.com/PxoW2.png\r\n  [3]: https://i.stack.imgur.com/c2BYZ.png\r\n\r\nAlso, I have a secondary question: If I am using backreference can I use anchors `^` and `$` to check if the whole pattern matched by the first group is matched in backreference?\r\nAs requested in the comments here are inputs \r\n```\r\nThose should match:\r\n101\r\n000\r\n1010\r\n10100\r\nThose should NOT match (empty string in first row):\r\n\r\n101110101\r\n1110001\r\n1000\r\n11\r\n```\r\nand patterns:\r\n```\r\n^[10]+$\r\n^0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*$\r\n(?&lt;pat&gt;^[10]+$)(\\k&lt;pat&gt;0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*)\r\n```","title":"Patterns in two catching groups work as intended but fail when put in backreference","body":"<p>I write regex which should match a pattern consisting of only optional characters, but simultaneously I want it to doesn't match an empty string - I figured that I will use backreference for this, but when I try to apply it  my checks stop working: probably I lack in understanding of backreference but please give me a hint where I am making a mistake, my regex:</p>\n<pre><code>(?&lt;pat&gt;^[10]+$)(\\k&lt;pat&gt;0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*)\n</code></pre>\n<p><strong>Both subpatterns applied - no matches - regardless if correct or wrong</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BlMYp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BlMYp.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Only the second pattern applied (with additional checks for anchors - all correct matches work but also matches empty line</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PxoW2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PxoW2.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Only first pattern applied: matches any combination of 1 and 0</strong></p>\n<p><a href=\"https://i.stack.imgur.com/c2BYZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c2BYZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, I have a secondary question: If I am using backreference can I use anchors <code>^</code> and <code>$</code> to check if the whole pattern matched by the first group is matched in backreference?\nAs requested in the comments here are inputs</p>\n<pre><code>Those should match:\n101\n000\n1010\n10100\nThose should NOT match (empty string in first row):\n\n101110101\n1110001\n1000\n11\n</code></pre>\n<p>and patterns:</p>\n<pre><code>^[10]+$\n^0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*$\n(?&lt;pat&gt;^[10]+$)(\\k&lt;pat&gt;0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*)\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1668779457,"post_id":74490597,"comment_id":131495545,"body_markdown":"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html section 67.8","body":"<a href=\"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a> section 67.8"}],"answers":[{"tags":[],"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668779832,"creation_date":1668779832,"answer_id":74490750,"question_id":74490597,"body_markdown":"JAR stands for Java ARchive. JAR is the only archive format that is cross-platform and the only format that handles audio and image files as well as class files.\r\n\r\nWhen `jar.enabled` is set to `true` it creates a JAR of your application in `build/libs/`.\r\n","title":"Meaning of jar.enabled=false in Gradle","body":"<p>JAR stands for Java ARchive. JAR is the only archive format that is cross-platform and the only format that handles audio and image files as well as class files.</p>\n<p>When <code>jar.enabled</code> is set to <code>true</code> it creates a JAR of your application in <code>build/libs/</code>.</p>\n"}],"owner":{"account_id":1014385,"reputation":10749,"user_id":1026271,"accept_rate":87,"display_name":"Alon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74490750,"answer_count":1,"score":0,"last_activity_date":1668779832,"creation_date":1668779036,"question_id":74490597,"body_markdown":"I&#39;ve seen in a build.gradle file the following setting:\r\n\r\n    jar.enabled = false\r\n\r\nWhat does that line do?\r\n\r\nSorry but I just couldn&#39;t find it on Google.","title":"Meaning of jar.enabled=false in Gradle","body":"<p>I've seen in a build.gradle file the following setting:</p>\n<pre><code>jar.enabled = false\n</code></pre>\n<p>What does that line do?</p>\n<p>Sorry but I just couldn't find it on Google.</p>\n"},{"tags":["java","autoit","cmdline-args"],"comments":[{"owner":{"account_id":5195749,"reputation":2617,"user_id":4157124,"display_name":"user4157124"},"score":0,"creation_date":1668779694,"post_id":74485978,"comment_id":131495656,"body_markdown":"Does this answer your question? [Use whitespace in Windows command line parameters](https://stackoverflow.com/questions/50625457/use-whitespace-in-windows-command-line-parameters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50625457/use-whitespace-in-windows-command-line-parameters\">Use whitespace in Windows command line parameters</a>"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668758671,"creation_date":1668758671,"answer_id":74486593,"question_id":74485978,"body_markdown":"Take your file path into `&quot;` so that your `exec` would look like:\r\n\r\n```\r\nRuntime.getRuntime().exec(&quot;C:\\\\Users\\Screenshots\\\\Parameterized.exe&quot; + &quot; &quot;\r\n                + &quot;\\&quot;&quot; + filePath + &quot;\\&quot;&quot;);\r\n```","title":"How to put filename with spaces as parameter?","body":"<p>Take your file path into <code>&quot;</code> so that your <code>exec</code> would look like:</p>\n<pre><code>Runtime.getRuntime().exec(&quot;C:\\\\Users\\Screenshots\\\\Parameterized.exe&quot; + &quot; &quot;\n                + &quot;\\&quot;&quot; + filePath + &quot;\\&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":10615752,"reputation":62,"user_id":7818170,"accept_rate":67,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74486593,"answer_count":1,"score":-1,"last_activity_date":1668779688,"creation_date":1668754948,"question_id":74485978,"body_markdown":"When I run my AutoIt script for a filename without spaces (&quot;filename.txt&quot;) it gets executed successfully. But when filename contains spaces (&quot;File Name.txt&quot;) I get error &quot;File not found&quot;.\r\n\r\nParameterized.au3 :\r\n\r\n```\r\nControlFocus(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;)\r\nControlSetText(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;,$CmdLine[1])\r\nControlClick(&quot;Open&quot;,&quot;&quot;,&quot;Button1&quot;)\r\n```\r\n\r\nExecution from Java:\r\n\r\n```\r\nRuntime.getRuntime().exec(&quot;C:\\\\Users\\Screenshots\\\\Parameterized.exe&quot; + &quot; &quot;\r\n                + filePath);\r\n```\r\n\r\n`filePath` is passed as argument from another method :\r\n\r\n```\r\nfilePath-&gt; &quot;C:\\\\Temp\\\\TMP\\\\TCs\\\\TC1\\\\Solution File.txt&quot;\r\n```","title":"How to put filename with spaces as parameter?","body":"<p>When I run my AutoIt script for a filename without spaces (&quot;filename.txt&quot;) it gets executed successfully. But when filename contains spaces (&quot;File Name.txt&quot;) I get error &quot;File not found&quot;.</p>\n<p>Parameterized.au3 :</p>\n<pre><code>ControlFocus(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;)\nControlSetText(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;,$CmdLine[1])\nControlClick(&quot;Open&quot;,&quot;&quot;,&quot;Button1&quot;)\n</code></pre>\n<p>Execution from Java:</p>\n<pre><code>Runtime.getRuntime().exec(&quot;C:\\\\Users\\Screenshots\\\\Parameterized.exe&quot; + &quot; &quot;\n                + filePath);\n</code></pre>\n<p><code>filePath</code> is passed as argument from another method :</p>\n<pre><code>filePath-&gt; &quot;C:\\\\Temp\\\\TMP\\\\TCs\\\\TC1\\\\Solution File.txt&quot;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668775233,"post_id":74489749,"comment_id":131494073,"body_markdown":"Have you checked that the data inside the database is correct and you should actually be getting more than 1 group?","body":"Have you checked that the data inside the database is correct and you should actually be getting more than 1 group?"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1668776062,"post_id":74489749,"comment_id":131494352,"body_markdown":"Yes, as mentioned in the post body, I have checked and it returns all groups as expected.","body":"Yes, as mentioned in the post body, I have checked and it returns all groups as expected."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668778759,"post_id":74489749,"comment_id":131495276,"body_markdown":"Does `Group` class have a `@Entity` annotation? Thats the only thing I don&#39;t see","body":"Does <code>Group</code> class have a <code>@Entity</code> annotation? Thats the only thing I don&#39;t see"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1668779527,"post_id":74489749,"comment_id":131495570,"body_markdown":"Yes it does, I think it missing in the description is a typo.","body":"Yes it does, I think it missing in the description is a typo."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668780052,"post_id":74489749,"comment_id":131495786,"body_markdown":"All examples seem to initialize both lists/sets that are involved in the mapping. So `private Set&lt;Group&gt; groups;` to `private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();` might be all thats needed","body":"All examples seem to initialize both lists/sets that are involved in the mapping. So <code>private Set&lt;Group&gt; groups;</code> to <code>private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();</code> might be all thats needed"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1668780443,"post_id":74489749,"comment_id":131495926,"body_markdown":"Just tried it, no change","body":"Just tried it, no change"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1668782660,"post_id":74489749,"comment_id":131496781,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249727/discussion-between-steve-otieno-and-xtremebaumer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249727/discussion-between-steve-otieno-and-xtremebaumer\">continue this discussion in chat</a>."},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1668785143,"post_id":74489749,"comment_id":131497658,"body_markdown":"I can&#39;t see your Table definition in Database, but if you havn&#39;t constraint on your id column, then can happen, that your groups in database have same value in id column and then result will be exactly how you describe it","body":"I can&#39;t see your Table definition in Database, but if you havn&#39;t constraint on your id column, then can happen, that your groups in database have same value in id column and then result will be exactly how you describe it"}],"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668779565,"creation_date":1668774724,"question_id":74489749,"body_markdown":"I have two entities, User and Group. The relationship between the entities is `ManyToMany`. Group is the owning entity, and User is the referencing entity. The expected functionality is this; \r\n1. When I fetch a group from database, it should return the group with a list. This works perfectly fine\r\n2. When I fetch a user from database, it should return a user with a list of all the groups a user belongs to. This returns user correct user data, with one problem. The group list only contains 1 group instead of the entire list of groups.\r\n\r\nI have checked the database, since I thought that maybe there may be a problem with how I was saving either entities. Database looks fine, and in fact, all records exist in the join table, and with the proper relationships. Wring a query in the query console returns me exactly the data I want. So no problem with data itself.\r\n\r\nThis is my `Group` Entity(Owning side)\r\n```\r\n@Builder\r\n@Entity\r\n@Data\r\n@Table(name = &quot;`group`&quot;)\r\npublic class Group extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER,\r\n            cascade = {CascadeType.MERGE, CascadeType.REFRESH})\r\n    @JoinTable(name = &quot;group_user&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;group_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    @JsonView(Views.Public.class)\r\n    private Set&lt;User&gt; groupMembers = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nThis is my `User` Entity\r\n```\r\n@Builder\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class User extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;groupMembers&quot;, fetch = FetchType.LAZY, targetEntity = Group.class)\r\n    private Set&lt;Group&gt; groups;\r\n\r\n}\r\n```\r\n\r\nI tried writing a custom native query(shown below) in my repository, but this also gives back a single item in the list.\r\n```\r\n@Query(value = &quot;SELECT * FROM group_user gu JOIN `group` g ON gu.group_id = g.id WHERE gu.user_id = 3;&quot;, nativeQuery = true)\r\n    Set&lt;Group&gt; findAllGroupsOfUser(@Param(&quot;userId&quot;) Long userId);\r\n```\r\n\r\nI also tried changing the type from `Set&lt;Group&gt; groups` to `List&lt;Group&gt; groups`, but it still returns a single item in list.\r\n\r\nFor additional clarity;\r\nHere is the `UserRepository`\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findById(Long id);\r\n\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n\r\n}\r\n```\r\n\r\nAnd the `UserService` implementation method\r\n```\r\n    @Override\r\n    public User getWithGroups(Long userId) throws ResourceNotFoundException {\r\n        User user = this.getUserById(userId).get();\r\n        user.getGroups();\r\n        return user;\r\n    }\r\n```\r\n\r\nWhat am I missing?\r\n\r\n\r\n","title":"Entity only fetches only one item in a list from a many to many relationship","body":"<p>I have two entities, User and Group. The relationship between the entities is <code>ManyToMany</code>. Group is the owning entity, and User is the referencing entity. The expected functionality is this;</p>\n<ol>\n<li>When I fetch a group from database, it should return the group with a list. This works perfectly fine</li>\n<li>When I fetch a user from database, it should return a user with a list of all the groups a user belongs to. This returns user correct user data, with one problem. The group list only contains 1 group instead of the entire list of groups.</li>\n</ol>\n<p>I have checked the database, since I thought that maybe there may be a problem with how I was saving either entities. Database looks fine, and in fact, all records exist in the join table, and with the proper relationships. Wring a query in the query console returns me exactly the data I want. So no problem with data itself.</p>\n<p>This is my <code>Group</code> Entity(Owning side)</p>\n<pre><code>@Builder\n@Entity\n@Data\n@Table(name = &quot;`group`&quot;)\npublic class Group extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(fetch = FetchType.EAGER,\n            cascade = {CascadeType.MERGE, CascadeType.REFRESH})\n    @JoinTable(name = &quot;group_user&quot;,\n            joinColumns = @JoinColumn(name = &quot;group_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    @JsonView(Views.Public.class)\n    private Set&lt;User&gt; groupMembers = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>This is my <code>User</code> Entity</p>\n<pre><code>@Builder\n@Entity\n@Data\n@EqualsAndHashCode(callSuper = true)\npublic class User extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String username;\n\n    private String password;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;groupMembers&quot;, fetch = FetchType.LAZY, targetEntity = Group.class)\n    private Set&lt;Group&gt; groups;\n\n}\n</code></pre>\n<p>I tried writing a custom native query(shown below) in my repository, but this also gives back a single item in the list.</p>\n<pre><code>@Query(value = &quot;SELECT * FROM group_user gu JOIN `group` g ON gu.group_id = g.id WHERE gu.user_id = 3;&quot;, nativeQuery = true)\n    Set&lt;Group&gt; findAllGroupsOfUser(@Param(&quot;userId&quot;) Long userId);\n</code></pre>\n<p>I also tried changing the type from <code>Set&lt;Group&gt; groups</code> to <code>List&lt;Group&gt; groups</code>, but it still returns a single item in list.</p>\n<p>For additional clarity;\nHere is the <code>UserRepository</code></p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findById(Long id);\n\n    Optional&lt;User&gt; findByUsername(String username);\n\n}\n</code></pre>\n<p>And the <code>UserService</code> implementation method</p>\n<pre><code>    @Override\n    public User getWithGroups(Long userId) throws ResourceNotFoundException {\n        User user = this.getUserById(userId).get();\n        user.getGroups();\n        return user;\n    }\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","json","netbeans","codenameone"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1668779197,"post_id":74485860,"comment_id":131495453,"body_markdown":"You have `map_saccos.get(&quot;MemberDetails&quot;)` - but where is `&quot;MemberDetails&quot;`? It is not in the JSON provided in your question. (I added `java` and `json` tags to your question, so it reaches a wider audience).","body":"You have <code>map_saccos.get(&quot;MemberDetails&quot;)</code> - but where is <code>&quot;MemberDetails&quot;</code>? It is not in the JSON provided in your question. (I added <code>java</code> and <code>json</code> tags to your question, so it reaches a wider audience)."},{"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1668834838,"post_id":74485860,"comment_id":131507772,"body_markdown":"This is JSON of a single entry. Not of a list so as @andrewJames said the `map_saccos.get(&quot;MemberDetails&quot;);` won&#39;t work. I think you got it from the server but already saved the entries. Also did you look in the developer guide at property based parsing which is more seamless?","body":"This is JSON of a single entry. Not of a list so as @andrewJames said the <code>map_saccos.get(&quot;MemberDetails&quot;);</code> won&#39;t work. I think you got it from the server but already saved the entries. Also did you look in the developer guide at property based parsing which is more seamless?"},{"owner":{"account_id":22924287,"reputation":85,"user_id":17059633,"display_name":"festus mutinda"},"score":0,"creation_date":1669022068,"post_id":74485860,"comment_id":131539609,"body_markdown":"Thanks i have looked at it, am sorted.","body":"Thanks i have looked at it, am sorted."}],"owner":{"account_id":22924287,"reputation":85,"user_id":17059633,"display_name":"festus mutinda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668779208,"creation_date":1668754180,"question_id":74485860,"body_markdown":"am getting a json from the server and i managed to save it into storage, \r\n\r\n    {&quot;FirstName&quot;:&quot;Festus&quot;,&quot;MiddleName&quot;:&quot;Kilaka&quot;,&quot;LastName&quot;:&quot;Mutinda&quot;,&quot;MemberNo&quot;:&quot;1886&quot;,&quot;IdNumber&quot;:&quot;3125638&quot;,&quot;PayRollNumber&quot;:&quot;87&quot;,&quot;PhoneNumber&quot;:&quot;254743901110&quot;,&quot;EmailAddress&quot;:&quot;FESTUS@GMAIL.COM&quot;}\r\n\r\nall i need is to read through it and get each variable and attach them to my strings.\r\ni tried the code below but am getting an error.\r\n\r\n\r\n    private String str_response;       \r\n    private String memberNoLabel = &quot;&quot;;\r\n    private String nameLabel = &quot;&quot;;\r\n    private String idNoLbl = &quot;&quot;;\r\n    private String staffNoLbl = &quot;&quot;;\r\n    private String emailAddLbl = &quot;&quot;;\r\n    private String PhoneNumber = &quot;&quot;; //Storage.getInstance().readObject(&quot;PhoneNumber&quot;).toString();\r\n    private String AccBalanceLable = &quot;50,500&quot;;\r\nstr_response = (String) Storage.getInstance().readObject(&quot;profile.json&quot;);\r\n        Log.p(&quot;Reading profile.json from storage.&quot;, 1);\r\n        \r\n        byte[] bytes_mydetails = str_response.getBytes();\r\n        JSONParser json_mysaccos = new JSONParser();\r\n        try (Reader is_mysaccos = new InputStreamReader(new ByteArrayInputStream(bytes_mydetails), &quot;UTF-8&quot;)) \r\n        {\r\n            Map&lt;String, Object&gt; map_saccos = json_mysaccos.parseJSON(is_mysaccos);\r\n            java.util.List&lt;Map&lt;String, Object&gt;&gt; objMydetails = (java.util.List&lt;Map&lt;String, Object&gt;&gt;) map_saccos.get(&quot;MemberDetails&quot;);\r\n            System.out.println(&quot;No of Details: ---------&gt; &quot; + objMydetails.size());\r\n\r\n            for (Map&lt;String, Object&gt; objDetails : objMydetails) \r\n            {\r\n                String name1 = (String) objDetails.get(&quot;FirstName&quot;);\r\n                String name2 = (String)objDetails.get(&quot;MiddleName&quot;);\r\n                String name3 = (String)objDetails.get(&quot;LastName&quot;);\r\n                nameLabel = name1+name2+name3;\r\n\r\n                memberNoLabel = (String)objDetails.get(&quot;MemberNo&quot;);\r\n                idNoLbl = (String)objDetails.get(&quot;IdNumber&quot;);\r\n                staffNoLbl = (String)objDetails.get(&quot;PayRollNumber&quot;);\r\n                PhoneNumber = (String)objDetails.get(&quot;PhoneNumber&quot;);\r\n                emailAddLbl = (String)objDetails.get(&quot;EmailAddress&quot;);\r\n            }\r\n        }\r\n        catch (Exception e) \r\n        {\r\n            System.out.println(&quot;Error @ saccos: &quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n\r\nam getting this error \r\n\r\n    Error @ saccos: java.lang.NullPointerException\r\n    java.lang.NullPointerException\r\n\r\nand it says its from the line\r\n\r\n    System.out.println(&quot;No of Details: ---------&gt; &quot; + objMydetails.size());\r\n\r\nhave tried all available documents and tutorials i could get, but i cant figure out this, help...","title":"Get the Data from a Json String in codename one","body":"<p>am getting a json from the server and i managed to save it into storage,</p>\n<pre><code>{&quot;FirstName&quot;:&quot;Festus&quot;,&quot;MiddleName&quot;:&quot;Kilaka&quot;,&quot;LastName&quot;:&quot;Mutinda&quot;,&quot;MemberNo&quot;:&quot;1886&quot;,&quot;IdNumber&quot;:&quot;3125638&quot;,&quot;PayRollNumber&quot;:&quot;87&quot;,&quot;PhoneNumber&quot;:&quot;254743901110&quot;,&quot;EmailAddress&quot;:&quot;FESTUS@GMAIL.COM&quot;}\n</code></pre>\n<p>all i need is to read through it and get each variable and attach them to my strings.\ni tried the code below but am getting an error.</p>\n<pre><code>private String str_response;       \nprivate String memberNoLabel = &quot;&quot;;\nprivate String nameLabel = &quot;&quot;;\nprivate String idNoLbl = &quot;&quot;;\nprivate String staffNoLbl = &quot;&quot;;\nprivate String emailAddLbl = &quot;&quot;;\nprivate String PhoneNumber = &quot;&quot;; //Storage.getInstance().readObject(&quot;PhoneNumber&quot;).toString();\nprivate String AccBalanceLable = &quot;50,500&quot;;\n</code></pre>\n<p>str_response = (String) Storage.getInstance().readObject(&quot;profile.json&quot;);\nLog.p(&quot;Reading profile.json from storage.&quot;, 1);</p>\n<pre><code>    byte[] bytes_mydetails = str_response.getBytes();\n    JSONParser json_mysaccos = new JSONParser();\n    try (Reader is_mysaccos = new InputStreamReader(new ByteArrayInputStream(bytes_mydetails), &quot;UTF-8&quot;)) \n    {\n        Map&lt;String, Object&gt; map_saccos = json_mysaccos.parseJSON(is_mysaccos);\n        java.util.List&lt;Map&lt;String, Object&gt;&gt; objMydetails = (java.util.List&lt;Map&lt;String, Object&gt;&gt;) map_saccos.get(&quot;MemberDetails&quot;);\n        System.out.println(&quot;No of Details: ---------&gt; &quot; + objMydetails.size());\n\n        for (Map&lt;String, Object&gt; objDetails : objMydetails) \n        {\n            String name1 = (String) objDetails.get(&quot;FirstName&quot;);\n            String name2 = (String)objDetails.get(&quot;MiddleName&quot;);\n            String name3 = (String)objDetails.get(&quot;LastName&quot;);\n            nameLabel = name1+name2+name3;\n\n            memberNoLabel = (String)objDetails.get(&quot;MemberNo&quot;);\n            idNoLbl = (String)objDetails.get(&quot;IdNumber&quot;);\n            staffNoLbl = (String)objDetails.get(&quot;PayRollNumber&quot;);\n            PhoneNumber = (String)objDetails.get(&quot;PhoneNumber&quot;);\n            emailAddLbl = (String)objDetails.get(&quot;EmailAddress&quot;);\n        }\n    }\n    catch (Exception e) \n    {\n        System.out.println(&quot;Error @ saccos: &quot; + e);\n        e.printStackTrace();\n    }\n</code></pre>\n<p>am getting this error</p>\n<pre><code>Error @ saccos: java.lang.NullPointerException\njava.lang.NullPointerException\n</code></pre>\n<p>and it says its from the line</p>\n<pre><code>System.out.println(&quot;No of Details: ---------&gt; &quot; + objMydetails.size());\n</code></pre>\n<p>have tried all available documents and tutorials i could get, but i cant figure out this, help...</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":304562,"reputation":12355,"user_id":614141,"accept_rate":96,"display_name":"javing"},"score":0,"creation_date":1635191402,"post_id":36253040,"comment_id":123225667,"body_markdown":"Maybe you find this article useful: https://medium.com/javarevisited/argument-capturing-a-must-know-unit-testing-technique-e88b3a6a6af1 \n\nIt has a simple example","body":"Maybe you find this article useful: <a href=\"https://medium.com/javarevisited/argument-capturing-a-must-know-unit-testing-technique-e88b3a6a6af1\" rel=\"nofollow noreferrer\">medium.com/javarevisited/&hellip;</a>   It has a simple example"}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1459115545,"creation_date":1459115545,"answer_id":36253109,"question_id":36253040,"body_markdown":"The two main differences are:\r\n\r\n* when you capture even a single argument, you are able to make much more elaborate tests on this argument, and with more obvious code;\r\n* an `ArgumentCaptor` can capture _more_ than once.\r\n\r\nTo illustrate the latter, say you have:\r\n\r\n    final ArgumentCaptor&lt;Foo&gt; captor = ArgumentCaptor.forClass(Foo.class);\r\n\r\n    verify(x, times(4)).someMethod(captor.capture()); // for instance\r\n\r\nThen the captor will be able to give you access to all 4 arguments, which you can then perform assertions on separately.\r\n\r\nThis or any number of arguments in fact, since a `VerificationMode` is not limited to a fixed number of invocations; in any event, the captor will give you access to all of them, if you wish.\r\n\r\nThis also has the benefit that such tests are (imho) much easier to write than having to implement your own `ArgumentMatcher`s -- particularly if you combine mockito with assertj.\r\n\r\nOh, and please consider using TestNG instead of JUnit.\r\n","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>The two main differences are:</p>\n\n<ul>\n<li>when you capture even a single argument, you are able to make much more elaborate tests on this argument, and with more obvious code;</li>\n<li>an <code>ArgumentCaptor</code> can capture <em>more</em> than once.</li>\n</ul>\n\n<p>To illustrate the latter, say you have:</p>\n\n<pre><code>final ArgumentCaptor&lt;Foo&gt; captor = ArgumentCaptor.forClass(Foo.class);\n\nverify(x, times(4)).someMethod(captor.capture()); // for instance\n</code></pre>\n\n<p>Then the captor will be able to give you access to all 4 arguments, which you can then perform assertions on separately.</p>\n\n<p>This or any number of arguments in fact, since a <code>VerificationMode</code> is not limited to a fixed number of invocations; in any event, the captor will give you access to all of them, if you wish.</p>\n\n<p>This also has the benefit that such tests are (imho) much easier to write than having to implement your own <code>ArgumentMatcher</code>s -- particularly if you combine mockito with assertj.</p>\n\n<p>Oh, and please consider using TestNG instead of JUnit.</p>\n"},{"tags":[],"owner":{"account_id":5294426,"reputation":3995,"user_id":4225948,"accept_rate":10,"display_name":"Slava Shpitalny"},"down_vote_count":1,"up_vote_count":283,"is_accepted":false,"score":282,"last_activity_date":1503669191,"creation_date":1459186872,"answer_id":36267673,"question_id":36253040,"body_markdown":"I agree with what @fge said, more over. Lets look at example.\r\nConsider you have a method:\r\n\r\n    class A {\r\n        public void foo(OtherClass other) {\r\n            SomeData data = new SomeData(&quot;Some inner data&quot;);\r\n            other.doSomething(data);\r\n        }\r\n    }\r\n\r\nNow if you want to check the inner data you can use the captor:\r\n\r\n    // Create a mock of the OtherClass\r\n    OtherClass other = mock(OtherClass.class);\r\n\r\n    // Run the foo method with the mock\r\n    new A().foo(other);\r\n\r\n    // Capture the argument of the doSomething function\r\n    ArgumentCaptor&lt;SomeData&gt; captor = ArgumentCaptor.forClass(SomeData.class);\r\n    verify(other, times(1)).doSomething(captor.capture());\r\n\r\n    // Assert the argument\r\n    SomeData actual = captor.getValue();\r\n    assertEquals(&quot;Some inner data&quot;, actual.innerData);\r\n","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>I agree with what @fge said, more over. Lets look at example.\nConsider you have a method:</p>\n\n<pre><code>class A {\n    public void foo(OtherClass other) {\n        SomeData data = new SomeData(\"Some inner data\");\n        other.doSomething(data);\n    }\n}\n</code></pre>\n\n<p>Now if you want to check the inner data you can use the captor:</p>\n\n<pre><code>// Create a mock of the OtherClass\nOtherClass other = mock(OtherClass.class);\n\n// Run the foo method with the mock\nnew A().foo(other);\n\n// Capture the argument of the doSomething function\nArgumentCaptor&lt;SomeData&gt; captor = ArgumentCaptor.forClass(SomeData.class);\nverify(other, times(1)).doSomething(captor.capture());\n\n// Assert the argument\nSomeData actual = captor.getValue();\nassertEquals(\"Some inner data\", actual.innerData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6875545,"reputation":2111,"user_id":5284105,"display_name":"Lho Ben"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1624391457,"creation_date":1539987344,"answer_id":52900526,"question_id":36253040,"body_markdown":"The steps in order to make a full check are :\r\n\r\n**First**, prepare the argument captor :\r\n```\r\nArgumentCaptor&lt;ArgumentClass&gt; argumentCaptor = ArgumentCaptor.forClass(ArgumentClass.class);\r\n```\r\n**Second**, verify the call to the dependent on component (collaborator of subject under test). \r\n\r\n*times(1) is the default value, so ne need to add it.*\r\n```\r\nverify(dependentOnComponent, times(1)).method(argumentCaptor.capture());\r\n```\r\n\r\n**Third**, get the argument passed to collaborator using getValue() of the captor\r\n```\r\nArgumentClass someArgument = messageCaptor.getValue();\r\n```\r\n\r\n**Fourth**, use someArgument for assertions","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>The steps in order to make a full check are :</p>\n<p><strong>First</strong>, prepare the argument captor :</p>\n<pre><code>ArgumentCaptor&lt;ArgumentClass&gt; argumentCaptor = ArgumentCaptor.forClass(ArgumentClass.class);\n</code></pre>\n<p><strong>Second</strong>, verify the call to the dependent on component (collaborator of subject under test).</p>\n<p><em>times(1) is the default value, so ne need to add it.</em></p>\n<pre><code>verify(dependentOnComponent, times(1)).method(argumentCaptor.capture());\n</code></pre>\n<p><strong>Third</strong>, get the argument passed to collaborator using getValue() of the captor</p>\n<pre><code>ArgumentClass someArgument = messageCaptor.getValue();\n</code></pre>\n<p><strong>Fourth</strong>, use someArgument for assertions</p>\n"},{"tags":[],"owner":{"account_id":3991392,"reputation":353,"user_id":3290219,"accept_rate":71,"display_name":"Vikram singh"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1547010908,"creation_date":1547010908,"answer_id":54103611,"question_id":36253040,"body_markdown":"Here I am giving you a proper example of one callback method .\r\nso suppose we have a method like method login() :\r\n\r\n     public void login() {\r\n        loginService = new LoginService();\r\n        loginService.login(loginProvider, new LoginListener() {\r\n            @Override\r\n            public void onLoginSuccess() {\r\n                loginService.getresult(true);\r\n            }\r\n\r\n            @Override\r\n            public void onLoginFaliure() {\r\n                loginService.getresult(false);\r\n\r\n            }\r\n        });\r\n        System.out.print(&quot;@@##### get called&quot;);\r\n    }\r\n\r\nI also put all the helper class here to make the example more clear:\r\nloginService class\r\n\r\n    public class LoginService implements Login.getresult{\r\n    public void login(LoginProvider loginProvider,LoginListener callback){\r\n\r\n        String username  = loginProvider.getUsername();\r\n        String pwd  = loginProvider.getPassword();\r\n        if(username != null &amp;&amp; pwd != null){\r\n            callback.onLoginSuccess();\r\n        }else{\r\n            callback.onLoginFaliure();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void getresult(boolean value) {\r\n        System.out.print(&quot;login success&quot;+value);\r\n    }}\r\n\r\nand we have listener LoginListener as :\r\n\r\n    interface LoginListener {\r\n    void onLoginSuccess();\r\n\r\n    void onLoginFaliure();\r\n}\r\n\r\nnow I just wanted to test the method login() of class Login\r\n\r\n     @Test\r\n    public void loginTest() throws Exception {\r\n        LoginService service = mock(LoginService.class);\r\n        LoginProvider provider = mock(LoginProvider.class);\r\n        whenNew(LoginProvider.class).withNoArguments().thenReturn(provider);\r\n        whenNew(LoginService.class).withNoArguments().thenReturn(service);\r\n        when(provider.getPassword()).thenReturn(&quot;pwd&quot;);\r\n        when(provider.getUsername()).thenReturn(&quot;username&quot;);\r\n        login.getLoginDetail(&quot;username&quot;,&quot;password&quot;);\r\n\r\n        verify(provider).setPassword(&quot;password&quot;);\r\n        verify(provider).setUsername(&quot;username&quot;);\r\n\r\n        verify(service).login(eq(provider),captor.capture());\r\n\r\n        LoginListener listener = captor.getValue();\r\n\r\n        listener.onLoginSuccess();\r\n\r\n        verify(service).getresult(true);\r\n\r\nalso dont forget to add annotation above the test class as \r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(Login.class)","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>Here I am giving you a proper example of one callback method .\nso suppose we have a method like method login() :</p>\n\n<pre><code> public void login() {\n    loginService = new LoginService();\n    loginService.login(loginProvider, new LoginListener() {\n        @Override\n        public void onLoginSuccess() {\n            loginService.getresult(true);\n        }\n\n        @Override\n        public void onLoginFaliure() {\n            loginService.getresult(false);\n\n        }\n    });\n    System.out.print(\"@@##### get called\");\n}\n</code></pre>\n\n<p>I also put all the helper class here to make the example more clear:\nloginService class</p>\n\n<pre><code>public class LoginService implements Login.getresult{\npublic void login(LoginProvider loginProvider,LoginListener callback){\n\n    String username  = loginProvider.getUsername();\n    String pwd  = loginProvider.getPassword();\n    if(username != null &amp;&amp; pwd != null){\n        callback.onLoginSuccess();\n    }else{\n        callback.onLoginFaliure();\n    }\n\n}\n\n@Override\npublic void getresult(boolean value) {\n    System.out.print(\"login success\"+value);\n}}\n</code></pre>\n\n<p>and we have listener LoginListener as :</p>\n\n<pre><code>interface LoginListener {\nvoid onLoginSuccess();\n\nvoid onLoginFaliure();\n</code></pre>\n\n<p>}</p>\n\n<p>now I just wanted to test the method login() of class Login</p>\n\n<pre><code> @Test\npublic void loginTest() throws Exception {\n    LoginService service = mock(LoginService.class);\n    LoginProvider provider = mock(LoginProvider.class);\n    whenNew(LoginProvider.class).withNoArguments().thenReturn(provider);\n    whenNew(LoginService.class).withNoArguments().thenReturn(service);\n    when(provider.getPassword()).thenReturn(\"pwd\");\n    when(provider.getUsername()).thenReturn(\"username\");\n    login.getLoginDetail(\"username\",\"password\");\n\n    verify(provider).setPassword(\"password\");\n    verify(provider).setUsername(\"username\");\n\n    verify(service).login(eq(provider),captor.capture());\n\n    LoginListener listener = captor.getValue();\n\n    listener.onLoginSuccess();\n\n    verify(service).getresult(true);\n</code></pre>\n\n<p>also dont forget to add annotation above the test class as </p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(Login.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1619433029,"creation_date":1619433029,"answer_id":67265000,"question_id":36253040,"body_markdown":"I created this example that simulates a very simple service that uses a repository to save a String (no dependency injection, no entities), just to teach ArgumentCaptor quickly.\r\n\r\n- The service receives, converts to uppercase and trim a name, then invoke the repository.\r\n- The repository &quot;saves&quot; the String.\r\n- With ArgumentCaptor I want to know which value is passed to the repository and then check if it&#39;s trimmed and in uppercase, as expected\r\n\r\n\r\n3 classes: PersonService, PersonRepository and PersonServiceTest (packages omitted)\r\n    \r\n    public class PersonService {\r\n    \r\n    \tprivate PersonRepository personRepository;\r\n    \r\n    \tpublic void setPersonRepository(final PersonRepository personRepository) {\r\n    \t\tthis.personRepository = personRepository;\r\n    \t}\r\n    \r\n    \tpublic void savePerson(final String name) {\r\n    \t\tthis.personRepository.save(name.toUpperCase().trim());\r\n    \t}\r\n    \r\n    }\r\n\r\n    public class PersonRepository {\r\n\r\n    \tpublic void save(final String person) {\r\n    \t\tSystem.out.println(&quot;.. saving person ..&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.times;\r\n    import static org.mockito.Mockito.verify;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.ArgumentCaptor;\r\n    \r\n    class PersonServiceTest {\r\n    \r\n    \t@Test\r\n    \tvoid testPersonService() {\r\n    \r\n    \t\t// Create the repository mock\r\n    \t\tfinal PersonRepository personRepositoryMock = mock(PersonRepository.class);\r\n    \r\n    \t\t// Create the service and set the repository mock\r\n    \t\tfinal PersonService personService = new PersonService();\r\n    \t\tpersonService.setPersonRepository(personRepositoryMock);\r\n    \r\n    \t\t// Save a person\r\n    \t\tpersonService.savePerson(&quot;Mario &quot;);\r\n    \r\n    \t\t// Prepare an ArgumentCaptor to capture the value passed to repo.saveMethod\r\n    \t\tfinal ArgumentCaptor&lt;String&gt; captor = ArgumentCaptor.forClass(String.class);\r\n    \r\n    \t\t// Capture the argument passed in the unique method invocation\r\n    \t\tverify(personRepositoryMock, times(1)).save(captor.capture());\r\n    \r\n    \t\t// Check if the captured value is the expected one\r\n    \t\tfinal String capturedParameter = captor.getValue();\r\n    \t\tassertEquals(&quot;MARIO&quot;, capturedParameter);\r\n    \t}\r\n    }\r\n\r\n","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>I created this example that simulates a very simple service that uses a repository to save a String (no dependency injection, no entities), just to teach ArgumentCaptor quickly.</p>\n<ul>\n<li>The service receives, converts to uppercase and trim a name, then invoke the repository.</li>\n<li>The repository &quot;saves&quot; the String.</li>\n<li>With ArgumentCaptor I want to know which value is passed to the repository and then check if it's trimmed and in uppercase, as expected</li>\n</ul>\n<p>3 classes: PersonService, PersonRepository and PersonServiceTest (packages omitted)</p>\n<pre><code>public class PersonService {\n\n    private PersonRepository personRepository;\n\n    public void setPersonRepository(final PersonRepository personRepository) {\n        this.personRepository = personRepository;\n    }\n\n    public void savePerson(final String name) {\n        this.personRepository.save(name.toUpperCase().trim());\n    }\n\n}\n\npublic class PersonRepository {\n\n    public void save(final String person) {\n        System.out.println(&quot;.. saving person ..&quot;);\n    }\n}\n\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.ArgumentCaptor;\n\nclass PersonServiceTest {\n\n    @Test\n    void testPersonService() {\n\n        // Create the repository mock\n        final PersonRepository personRepositoryMock = mock(PersonRepository.class);\n\n        // Create the service and set the repository mock\n        final PersonService personService = new PersonService();\n        personService.setPersonRepository(personRepositoryMock);\n\n        // Save a person\n        personService.savePerson(&quot;Mario &quot;);\n\n        // Prepare an ArgumentCaptor to capture the value passed to repo.saveMethod\n        final ArgumentCaptor&lt;String&gt; captor = ArgumentCaptor.forClass(String.class);\n\n        // Capture the argument passed in the unique method invocation\n        verify(personRepositoryMock, times(1)).save(captor.capture());\n\n        // Check if the captured value is the expected one\n        final String capturedParameter = captor.getValue();\n        assertEquals(&quot;MARIO&quot;, capturedParameter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668778114,"creation_date":1668778114,"answer_id":74490414,"question_id":36253040,"body_markdown":"You might want to use verify() in combination with the ArgumentCaptor to assure execution in the test and the ArgumentCaptor to evaluate the arguments:\r\n\r\n    ArgumentCaptor&lt;Document&gt; argument = ArgumentCaptor.forClass(Document.class);\r\n    verify(reader).document(argument.capture());\r\n\tassertEquals(*expected value here*, argument.getValue());\r\n\t\t\r\nThe argument&#39;s value is obviously accessible via the argument.getValue() for further manipulation / checking or whatever you wish to do.","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>You might want to use verify() in combination with the ArgumentCaptor to assure execution in the test and the ArgumentCaptor to evaluate the arguments:</p>\n<pre><code>ArgumentCaptor&lt;Document&gt; argument = ArgumentCaptor.forClass(Document.class);\nverify(reader).document(argument.capture());\nassertEquals(*expected value here*, argument.getValue());\n    \n</code></pre>\n<p>The argument's value is obviously accessible via the argument.getValue() for further manipulation / checking or whatever you wish to do.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668778886,"creation_date":1668778886,"answer_id":74490576,"question_id":36253040,"body_markdown":"Use annotations for this and most things @Spy, @Mock, @Captor, etc.\r\n\r\nHere is a sample (using JUnit 5):\r\n```java\r\npublic class Blam\r\n{\r\n  public void foo(final OtherClass other)\r\n  {\r\n    final SomeData data = new SomeData(&quot;Some inner data&quot;);\r\n    other.doSomething(data);\r\n  }\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class TestBlam\r\n{\r\n  @Captor\r\n  private ArgumentCaptor&lt;SomeData&gt; captorSomeData;\r\n\r\n  private Blam classToTest;\r\n\r\n  @Mock\r\n  private OtherClass mockOtherClass;\r\n\r\n  @BeforeEach\r\n  void beforeEach()\r\n  {\r\n    classToTest = new Blam();\r\n  }\r\n\r\n  @Test\r\n  void foo_allGood_success()\r\n  {\r\n    SomeData actualSomeData;\r\n\r\n    classToTest.foo(mockOtherClass);\r\n\t\r\n\tverify(mockOtherClass).doSomething(captorSomeData.capture());\r\n\t\r\n\tactualSomeData = captorSomeData.getValue();\r\n\t\r\n\tassert(stuff about actualSomeData);\r\n  }\r\n}\r\n```","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>Use annotations for this and most things @Spy, @Mock, @Captor, etc.</p>\n<p>Here is a sample (using JUnit 5):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Blam\n{\n  public void foo(final OtherClass other)\n  {\n    final SomeData data = new SomeData(&quot;Some inner data&quot;);\n    other.doSomething(data);\n  }\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class TestBlam\n{\n  @Captor\n  private ArgumentCaptor&lt;SomeData&gt; captorSomeData;\n\n  private Blam classToTest;\n\n  @Mock\n  private OtherClass mockOtherClass;\n\n  @BeforeEach\n  void beforeEach()\n  {\n    classToTest = new Blam();\n  }\n\n  @Test\n  void foo_allGood_success()\n  {\n    SomeData actualSomeData;\n\n    classToTest.foo(mockOtherClass);\n    \n    verify(mockOtherClass).doSomething(captorSomeData.capture());\n    \n    actualSomeData = captorSomeData.getValue();\n    \n    assert(stuff about actualSomeData);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7645565,"reputation":2443,"user_id":5796365,"display_name":"Ujjwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250230,"favorite_count":0,"down_vote_count":0,"up_vote_count":219,"answer_count":7,"score":219,"last_activity_date":1668778886,"creation_date":1459115063,"question_id":36253040,"body_markdown":"Can anyone please provide me an example showing how to use the `org.mockito.ArgumentCaptor` class and how it is different from _simple matchers_ that are provided with mockito.\r\n\r\nI read the provided mockito documents but those doesn&#39;t illustrate it clearly, none of them are able to explain it with clarity.","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>Can anyone please provide me an example showing how to use the <code>org.mockito.ArgumentCaptor</code> class and how it is different from <em>simple matchers</em> that are provided with mockito.</p>\n\n<p>I read the provided mockito documents but those doesn't illustrate it clearly, none of them are able to explain it with clarity.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668776666,"post_id":74489498,"comment_id":131494544,"body_markdown":"check here please : https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application","body":"check here please : <a href=\"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":15486586,"reputation":106,"user_id":11185081,"display_name":"Manir Mahamat"},"score":0,"creation_date":1671615948,"post_id":74489498,"comment_id":132135350,"body_markdown":"I already use an approach like that one but I want to change it to a global service by using java generics and then use this service everywhere in the project instead of rewriting converter methods every time.","body":"I already use an approach like that one but I want to change it to a global service by using java generics and then use this service everywhere in the project instead of rewriting converter methods every time."}],"answers":[{"tags":[],"owner":{"account_id":19428466,"reputation":36,"user_id":14209474,"display_name":"Nathan Mittelette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668778858,"creation_date":1668778858,"answer_id":74490568,"question_id":74489498,"body_markdown":"if you want to create some generic methods, you should create an abstract class to extends in every service.\r\n\r\nTo start you should add two types to your CommonService\r\n\r\n```java\r\n// E for Entity and D for DTO\r\npublic interface CommonService&lt;E, D&gt; {\r\n\r\n    //entity mapper\r\n    E mapToEntity(D type);\r\n\r\n    //dto mapper\r\n    D mapToDto(E type);\r\n\r\n}\r\n```\r\n\r\nAnd create a `AbstractCommonService` that implements those methods : \r\n\r\n```java\r\npublic class AbstractCommonService&lt;E, D&gt; implements CommonService&lt;E, D&gt;{\r\n\r\n    protected final ModelMapper modelMapper;\r\n    private final Class&lt;E&gt; entityClass;\r\n    private final Class&lt;D&gt; dtoClass;\r\n\r\n    public AbstractCommonService(ModelMapper modelMapper, Class&lt;E&gt; entityClass, Class&lt;D&gt; dtoClass) {\r\n        this.modelMapper = modelMapper;\r\n        this.entityClass = entityClass;\r\n        this.dtoClass = dtoClass;\r\n    }\r\n\r\n\r\n    @Override\r\n    public E mapToEntity(D type) {\r\n        E entityObject = modelMapper.map(type, entityClass);\r\n        return entityObject;\r\n    }\r\n\r\n    @Override\r\n    public D mapToDto(E type) {\r\n        D dtoObject  = modelMapper.map(type, dtoClass);\r\n        return dtoObject ;\r\n    }\r\n}\r\n```\r\n\r\nAnd create your specific service this way : \r\n\r\n```java\r\n@Service\r\n@Slf4j\r\n@Component(&quot;specificService&quot;)\r\npublic class SpecificService extends AbstractCommonService&lt;SpecificEntity, SpecificDto&gt; {\r\n\r\n    public SpecificService(ModelMapper modelMapper) {\r\n        super(modelMapper, SpecificEntity.class, SpecificDto.class);\r\n    }\r\n\r\n    public void testMethod() {\r\n        this.mapToEntity(new SpecificDto());\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis way you can have only one function to map your entity and your dto for all your services.","title":"How to write a generic service in spring boot which will map DTO to Model and Model to DTO?","body":"<p>if you want to create some generic methods, you should create an abstract class to extends in every service.</p>\n<p>To start you should add two types to your CommonService</p>\n<pre class=\"lang-java prettyprint-override\"><code>// E for Entity and D for DTO\npublic interface CommonService&lt;E, D&gt; {\n\n    //entity mapper\n    E mapToEntity(D type);\n\n    //dto mapper\n    D mapToDto(E type);\n\n}\n</code></pre>\n<p>And create a <code>AbstractCommonService</code> that implements those methods :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AbstractCommonService&lt;E, D&gt; implements CommonService&lt;E, D&gt;{\n\n    protected final ModelMapper modelMapper;\n    private final Class&lt;E&gt; entityClass;\n    private final Class&lt;D&gt; dtoClass;\n\n    public AbstractCommonService(ModelMapper modelMapper, Class&lt;E&gt; entityClass, Class&lt;D&gt; dtoClass) {\n        this.modelMapper = modelMapper;\n        this.entityClass = entityClass;\n        this.dtoClass = dtoClass;\n    }\n\n\n    @Override\n    public E mapToEntity(D type) {\n        E entityObject = modelMapper.map(type, entityClass);\n        return entityObject;\n    }\n\n    @Override\n    public D mapToDto(E type) {\n        D dtoObject  = modelMapper.map(type, dtoClass);\n        return dtoObject ;\n    }\n}\n</code></pre>\n<p>And create your specific service this way :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Slf4j\n@Component(&quot;specificService&quot;)\npublic class SpecificService extends AbstractCommonService&lt;SpecificEntity, SpecificDto&gt; {\n\n    public SpecificService(ModelMapper modelMapper) {\n        super(modelMapper, SpecificEntity.class, SpecificDto.class);\n    }\n\n    public void testMethod() {\n        this.mapToEntity(new SpecificDto());\n    }\n\n}\n</code></pre>\n<p>This way you can have only one function to map your entity and your dto for all your services.</p>\n"}],"owner":{"account_id":15486586,"reputation":106,"user_id":11185081,"display_name":"Manir Mahamat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1668778858,"creation_date":1668773481,"question_id":74489498,"body_markdown":"I am developing an e-commerce rest api using spring boot and I have more than ten models and DTOs classes in my project, so I do not want to write in each service functions which map to Enitity and Dto. Is it possible to use a generic interface that will be like a service in which I can write model mapping logic and then I use it in every service?\r\n\r\n**Here is what I am doing in each service:**\r\n\r\n```\r\n\r\n```\r\n```\r\n@Resource(name = &quot;modelMapper&quot;)\r\nprivate final ModelMapper modelMapper;\r\n```\r\n\r\n```\r\nprivate FaqDto mapToDto(Faq faq){\r\n    FaqDto faqDto = modelMapper.map(faq, FaqDto.class);\r\n    return faqDto;\r\n}\r\n//map to entity\r\nprivate Faq mapToEntity(FaqDto faqDto){\r\n    Faq faq = modelMapper.map(faqDto, Faq.class);\r\n    return faq;\r\n}\r\n```\r\n\r\n**And here what I am trying to do:**\r\n\r\n```\r\n\r\n```\r\n```\r\npublic interface CommonService&lt;T&gt; {\r\n\r\n   //entity mapper\r\n   T mapToEntity(T type);\r\n\r\n   //dto mapper\r\n   T mapToDto(T type);\r\n}\r\n```\r\n```\r\n\r\n```\r\n```\r\n@Service\r\n@Slf4j\r\n@AllArgsConstructor\r\n@Component(&quot;commonService&quot;)\r\npublic class CommonServiceImpl implements CommonService{\r\n\r\n   private static Logger logger = LoggerFactory.getLogger(CommonServiceImpl.class);\r\n\r\n   @Resource(name = &quot;modelMapper&quot;)\r\n   private final ModelMapper modelMapper;\r\n\r\n   \r\n   @Override\r\n    public Object mapToEntity(Object type) {\r\n        Object entityObject = modelMapper.map(type, Object.class);\r\n        return entityObject;\r\n    }\r\n\r\n   @Override\r\n    public Object mapToDto(Object type) {\r\n        Object dtoObject = modelMapper.map(type, Object.class);\r\n        return dtoObject;\r\n    }\r\n}\r\n```\r\n```\r\n\r\n```\r\n**Once I inject this CommonService in other services and trying to use it, so I have to use type casting but still getting error at Postman.**\r\n\r\n","title":"How to write a generic service in spring boot which will map DTO to Model and Model to DTO?","body":"<p>I am developing an e-commerce rest api using spring boot and I have more than ten models and DTOs classes in my project, so I do not want to write in each service functions which map to Enitity and Dto. Is it possible to use a generic interface that will be like a service in which I can write model mapping logic and then I use it in every service?</p>\n<p><strong>Here is what I am doing in each service:</strong></p>\n<pre><code>\n</code></pre>\n<pre><code>@Resource(name = &quot;modelMapper&quot;)\nprivate final ModelMapper modelMapper;\n</code></pre>\n<pre><code>private FaqDto mapToDto(Faq faq){\n    FaqDto faqDto = modelMapper.map(faq, FaqDto.class);\n    return faqDto;\n}\n//map to entity\nprivate Faq mapToEntity(FaqDto faqDto){\n    Faq faq = modelMapper.map(faqDto, Faq.class);\n    return faq;\n}\n</code></pre>\n<p><strong>And here what I am trying to do:</strong></p>\n<pre><code>\n</code></pre>\n<pre><code>public interface CommonService&lt;T&gt; {\n\n   //entity mapper\n   T mapToEntity(T type);\n\n   //dto mapper\n   T mapToDto(T type);\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<pre><code>@Service\n@Slf4j\n@AllArgsConstructor\n@Component(&quot;commonService&quot;)\npublic class CommonServiceImpl implements CommonService{\n\n   private static Logger logger = LoggerFactory.getLogger(CommonServiceImpl.class);\n\n   @Resource(name = &quot;modelMapper&quot;)\n   private final ModelMapper modelMapper;\n\n   \n   @Override\n    public Object mapToEntity(Object type) {\n        Object entityObject = modelMapper.map(type, Object.class);\n        return entityObject;\n    }\n\n   @Override\n    public Object mapToDto(Object type) {\n        Object dtoObject = modelMapper.map(type, Object.class);\n        return dtoObject;\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p><strong>Once I inject this CommonService in other services and trying to use it, so I have to use type casting but still getting error at Postman.</strong></p>\n"},{"tags":["java","google-cloud-platform","google-cloud-functions","google-secret-manager"],"comments":[{"owner":{"account_id":16958113,"reputation":3434,"user_id":12265927,"display_name":"Puteri"},"score":1,"creation_date":1668714273,"post_id":74480847,"comment_id":131479671,"body_markdown":"You can do that but is not recommended. Instead, why don&#39;t you simply use a single SA and grant the needed permissions on both projects according to what it needs to access?","body":"You can do that but is not recommended. Instead, why don&#39;t you simply use a single SA and grant the needed permissions on both projects according to what it needs to access?"}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668778801,"creation_date":1668778801,"answer_id":74490557,"question_id":74480847,"body_markdown":"A service account is one identity. Your function has its own identity. Then, this identity should access the required resources.\r\n\r\nTherefore, grant the Cloud Functions service account the permission to access the resources, secret or whatever.\r\n\r\n-----\r\n\r\nIn that concept, you can easily understand that you can&#39;t have 2 identities for the same service (Cloud Functions can&#39;t be schizophrenia!) \r\n\r\nOf course, you can do unrecommended things, like using a service account key file for each project and have 2 authentications, but it&#39;s a terrible thing and you have to avoid this pattern.","title":"How to use two differents projects id of GCP in Cloud Function","body":"<p>A service account is one identity. Your function has its own identity. Then, this identity should access the required resources.</p>\n<p>Therefore, grant the Cloud Functions service account the permission to access the resources, secret or whatever.</p>\n<hr />\n<p>In that concept, you can easily understand that you can't have 2 identities for the same service (Cloud Functions can't be schizophrenia!)</p>\n<p>Of course, you can do unrecommended things, like using a service account key file for each project and have 2 authentications, but it's a terrible thing and you have to avoid this pattern.</p>\n"}],"owner":{"account_id":23276582,"reputation":19,"user_id":17360633,"display_name":"Alberto Ornelas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668778801,"creation_date":1668712049,"question_id":74480847,"body_markdown":"I have a Cloud Function, in this function I&#39;m connecting database through secrets by GCP\r\n\r\nfor my secrets I&#39;m using different project id (com-project-data)\r\nFor my Google Cloud Function I&#39;m using another project id (com-project-common)\r\n\r\nExists a conflict because each project have a different service account, then I&#39;m asking the following question...\r\n\r\nCan I inject two differents service accounts in my Cloud Function? If this is probably, \r\n\r\nHow Can I do it?\r\n\r\n\r\n","title":"How to use two differents projects id of GCP in Cloud Function","body":"<p>I have a Cloud Function, in this function I'm connecting database through secrets by GCP</p>\n<p>for my secrets I'm using different project id (com-project-data)\nFor my Google Cloud Function I'm using another project id (com-project-common)</p>\n<p>Exists a conflict because each project have a different service account, then I'm asking the following question...</p>\n<p>Can I inject two differents service accounts in my Cloud Function? If this is probably,</p>\n<p>How Can I do it?</p>\n"},{"tags":["java","spring-boot","junit5","spring-cloud-feign","mockwebserver"],"answers":[{"tags":[],"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668778690,"creation_date":1668778690,"answer_id":74490535,"question_id":74490534,"body_markdown":"You can do this by configuring client-side load balancing using `spring-cloud-starter-loadbalancer`. If you are using Gradle, add this to `build.gradle`:\r\n\r\n```\r\ntestImplementation &#39;org.springframework.cloud:spring-cloud-starter-loadbalancer&#39;\r\n```\r\n\r\nThen you can write your test like this:\r\n\r\n```\r\n@SpringBootTest\r\nclass DemoClientTest {\r\n\t@Autowired\r\n\tDemoClient client;\r\n\r\n\tstatic MockWebServer demoServer;\r\n\r\n\t@AfterAll\r\n\tstatic void stopMockServer() throws IOException {\r\n\t\tdemoServer.close();\r\n\t}\r\n\r\n\t@Configuration\r\n\t@EnableAutoConfiguration\r\n\t@EnableFeignClients(clients = DemoClient.class)\r\n\tstatic class Config {\r\n\t\tstatic {\r\n\t\t\tdemoServer = new MockWebServer();\r\n\t\t\ttry {\r\n\t\t\t\tdemoServer.start();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new AssertionError(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tServiceInstanceListSupplier serviceInstanceListSupplier() {\r\n\t\t\treturn ServiceInstanceListSuppliers.from(&quot;mt-server&quot;, new DefaultServiceInstance(\r\n\t\t\t\t&quot;instance1&quot;, &quot;service1&quot;,\r\n\t\t\t\tdemoServer.getHostName(), demoServer.getPort(),\r\n\t\t\t\tfalse\r\n\t\t\t));\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThen you can write tests like this:\r\n\r\n```\r\n\t@Test\r\n\tvoid demoEndpoint_500_throws() {\r\n\t\tdemoServer.enqueue(new MockResponse()\r\n\t\t\t.setResponseCode(500));\r\n\t\tassertThrows(FeignException.class, () -&gt; client.demoEndpoint());\r\n\t}\r\n```","title":"Unit test a FeignClient using MockWebServer","body":"<p>You can do this by configuring client-side load balancing using <code>spring-cloud-starter-loadbalancer</code>. If you are using Gradle, add this to <code>build.gradle</code>:</p>\n<pre><code>testImplementation 'org.springframework.cloud:spring-cloud-starter-loadbalancer'\n</code></pre>\n<p>Then you can write your test like this:</p>\n<pre><code>@SpringBootTest\nclass DemoClientTest {\n    @Autowired\n    DemoClient client;\n\n    static MockWebServer demoServer;\n\n    @AfterAll\n    static void stopMockServer() throws IOException {\n        demoServer.close();\n    }\n\n    @Configuration\n    @EnableAutoConfiguration\n    @EnableFeignClients(clients = DemoClient.class)\n    static class Config {\n        static {\n            demoServer = new MockWebServer();\n            try {\n                demoServer.start();\n            } catch (IOException e) {\n                throw new AssertionError(e);\n            }\n        }\n\n        @Bean\n        ServiceInstanceListSupplier serviceInstanceListSupplier() {\n            return ServiceInstanceListSuppliers.from(&quot;mt-server&quot;, new DefaultServiceInstance(\n                &quot;instance1&quot;, &quot;service1&quot;,\n                demoServer.getHostName(), demoServer.getPort(),\n                false\n            ));\n        }\n    }\n</code></pre>\n<p>Then you can write tests like this:</p>\n<pre><code>    @Test\n    void demoEndpoint_500_throws() {\n        demoServer.enqueue(new MockResponse()\n            .setResponseCode(500));\n        assertThrows(FeignException.class, () -&gt; client.demoEndpoint());\n    }\n</code></pre>\n"}],"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668778690,"creation_date":1668778690,"question_id":74490534,"body_markdown":"I have a `FeignClient` I&#39;ve developed using `spring-cloud-starter-openfeign`. I&#39;d like to write a unit test using `MockWebServer`. How do I set up the Spring configuration for this?","title":"Unit test a FeignClient using MockWebServer","body":"<p>I have a <code>FeignClient</code> I've developed using <code>spring-cloud-starter-openfeign</code>. I'd like to write a unit test using <code>MockWebServer</code>. How do I set up the Spring configuration for this?</p>\n"},{"tags":["java","vaadin","multi-select"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":2,"creation_date":1668780034,"post_id":74490497,"comment_id":131495781,"body_markdown":"Does `TechnologyLabel` have proper setup for equals and hashCode?","body":"Does <code>TechnologyLabel</code> have proper setup for equals and hashCode?"},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1668782249,"post_id":74490497,"comment_id":131496597,"body_markdown":"@cfrick thank you good sir &lt;3. I completely forgot about it","body":"@cfrick thank you good sir &lt;3. I completely forgot about it"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669024050,"post_id":74490497,"comment_id":131540301,"body_markdown":"Is you issue solve? If yes, please add it as the answer or delete the question","body":"Is you issue solve? If yes, please add it as the answer or delete the question"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668778543,"creation_date":1668778543,"question_id":74490497,"body_markdown":"I have a `MultiSelectComboBox` but when trying to select some items through its `select()` method nothing happens.\r\n\r\nMy code looks as follows:\r\n\r\n\r\n    Binder&lt;Technology&gt; binder = new BeanValidationBinder&lt;&gt;(Technology.class);\r\n    MultiSelectComboBox&lt;TechnologyLabel&gt; multiComboBox = new MultiSelectComboBox&lt;&gt;(&quot;Labels&quot;);\r\n    \r\n    binder\r\n                    .forField(this.multiComboBox)\r\n                    .bind(Technology::getLabels, Technology::setLabels);\r\n\r\n            List&lt;TechnologyLabel&gt; labelList = technologyLayout.technologyLabelService.getTechnologyLabels(technology);\r\n            List&lt;Label&gt; containedLabels = new ArrayList&lt;&gt;();\r\n            for (var tl : labelList) {\r\n                containedLabels.add(tl.getLabel());\r\n            }\r\n            List&lt;Label&gt; labels = labelService.findAllLabels();\r\n\r\n            for (var label : labels) {\r\n                if (!containedLabels.contains(label)) {\r\n                    labelList.add(new TechnologyLabel(technology, label));\r\n                }\r\n            }\r\n            multiComboBox.setItems(labelList);\r\n            multiComboBox.setItemLabelGenerator(TechnologyLabel::getLabelName);\r\n            note.setMaxHeight(&quot;10em&quot;);\r\n\r\n            multiComboBox.select(labelList.get(0);\r\n\r\nWhat I do above is querying my `ManyToMany` relation to find all `labels` given the `technology`. Then I find all the `labels` and create a `list` from that. Lastly, I try to select first item of the list, but it does not show a tick next to it.\r\n\r\n ","title":"method select for MultiSelectComboBox not working","body":"<p>I have a <code>MultiSelectComboBox</code> but when trying to select some items through its <code>select()</code> method nothing happens.</p>\n<p>My code looks as follows:</p>\n<pre><code>Binder&lt;Technology&gt; binder = new BeanValidationBinder&lt;&gt;(Technology.class);\nMultiSelectComboBox&lt;TechnologyLabel&gt; multiComboBox = new MultiSelectComboBox&lt;&gt;(&quot;Labels&quot;);\n\nbinder\n                .forField(this.multiComboBox)\n                .bind(Technology::getLabels, Technology::setLabels);\n\n        List&lt;TechnologyLabel&gt; labelList = technologyLayout.technologyLabelService.getTechnologyLabels(technology);\n        List&lt;Label&gt; containedLabels = new ArrayList&lt;&gt;();\n        for (var tl : labelList) {\n            containedLabels.add(tl.getLabel());\n        }\n        List&lt;Label&gt; labels = labelService.findAllLabels();\n\n        for (var label : labels) {\n            if (!containedLabels.contains(label)) {\n                labelList.add(new TechnologyLabel(technology, label));\n            }\n        }\n        multiComboBox.setItems(labelList);\n        multiComboBox.setItemLabelGenerator(TechnologyLabel::getLabelName);\n        note.setMaxHeight(&quot;10em&quot;);\n\n        multiComboBox.select(labelList.get(0);\n</code></pre>\n<p>What I do above is querying my <code>ManyToMany</code> relation to find all <code>labels</code> given the <code>technology</code>. Then I find all the <code>labels</code> and create a <code>list</code> from that. Lastly, I try to select first item of the list, but it does not show a tick next to it.</p>\n"},{"tags":["java","arraylist","serialization"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1668778078,"post_id":74490374,"comment_id":131495063,"body_markdown":"You defined your Book constructor as taking the 3 arguments `String bookTitle, Author name, PubDate date)`, but you are trying to pass 3 Strings into it. That can&#39;t work. If you designed your class constructor to take an Object of type `Author` and `PubDate` then that is what you have to pass into that constructor. Either change your call or change your constructor (or add a new one) to accept the arguments you pass into it.","body":"You defined your Book constructor as taking the 3 arguments <code>String bookTitle, Author name, PubDate date)</code>, but you are trying to pass 3 Strings into it. That can&#39;t work. If you designed your class constructor to take an Object of type <code>Author</code> and <code>PubDate</code> then that is what you have to pass into that constructor. Either change your call or change your constructor (or add a new one) to accept the arguments you pass into it."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668779131,"post_id":74490374,"comment_id":131495425,"body_markdown":"&quot; how do i make the string be converted to author&quot; &lt;- FYI, you do not &quot;convert&quot; a String to an Author. You create an Author Object by calling the constructor you defined. eG `Author myAuthor = new Author(&quot;authorFirstname&quot;, &quot;authorLastname&quot;, &quot;authorTitle&quot;);` and then you can use that created Object to pass it into the Book class.","body":"&quot; how do i make the string be converted to author&quot; &lt;- FYI, you do not &quot;convert&quot; a String to an Author. You create an Author Object by calling the constructor you defined. eG <code>Author myAuthor = new Author(&quot;authorFirstname&quot;, &quot;authorLastname&quot;, &quot;authorTitle&quot;);</code> and then you can use that created Object to pass it into the Book class."},{"owner":{"account_id":275180,"reputation":976,"user_id":567902,"display_name":"L A"},"score":0,"creation_date":1668790105,"post_id":74490374,"comment_id":131499500,"body_markdown":"rephrase ur title, its unclear","body":"rephrase ur title, its unclear"}],"owner":{"account_id":26974369,"reputation":1,"user_id":20539860,"display_name":"Jermong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668777930,"creation_date":1668777930,"question_id":74490374,"body_markdown":"in the line of books.add it says incompatible types: string cannot be converted to Author\r\nI tried converting it all to string but it still didn&#39;t work. My problem is how do i make the string be converted to author. The expected output of this is to simply create an arraylist of 5 books with the class of authors, books, and publishing dat. Under the Book class, i am trying to add the arraylist but i cannot seem to get pass the problem of the string to be converting to the object author.\r\n\r\n```\r\npublic class Book {\r\n    private String bookTitle;\r\n    private Author name;\r\n    private PubDate date;\r\n\r\n    public Book() {\r\n    }\r\n\r\n    public Book(String bookTitle, Author name, PubDate date) {\r\n        this.bookTitle = bookTitle;\r\n        this.name = name;\r\n        this.date = date;\r\n    }\r\n\r\n    public String getBookTitle() {\r\n        return bookTitle;\r\n    }\r\n\r\n    public Author getName() {\r\n        return name;\r\n    }\r\n\r\n    public PubDate getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setBookTitle(String bookTitle) {\r\n        this.bookTitle = bookTitle;\r\n    }\r\n\r\n    public void setName(Author name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setDate(PubDate date) {\r\n        this.date = date;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Book{&quot; + &quot;bookTitle=&quot; + bookTitle + &quot;, name=&quot; + name + &quot;, date=&quot; + date + &#39;}&#39;;\r\n    }\r\n\r\n  \r\n\r\n}\r\n\r\n```\r\n```\r\npublic class Author {\r\n    private String firstname;\r\n    private String lastname;\r\n    private String title;\r\n\r\n    public Author() {\r\n    }\r\n\r\n    public Author(String firstname, String lastname, String title) {\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.title = title;\r\n    }\r\n\r\n    public String getFirstname() {\r\n        return firstname;\r\n    }\r\n\r\n    public String getLastname() {\r\n        return lastname;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setFirstname(String firstname) {\r\n        this.firstname = firstname;\r\n    }\r\n\r\n    public void setLastname(String lastname) {\r\n        this.lastname = lastname;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Author{&quot; + &quot;firstname=&quot; + firstname + &quot;, lastname=&quot; + lastname + &quot;, title=&quot; + title + &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Serialization {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\r\n        ArrayList&lt;Author&gt; authors = new ArrayList&lt;Author&gt;();\r\n        ArrayList&lt;PubDate&gt; pubs = new ArrayList&lt;PubDate&gt;();\r\n        \r\n       \r\n        \r\n        books.add(new Book(&quot;Book Title&quot;, &quot;Author Name&quot;, &quot;Publishing Date&quot;));\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"I am trying to serialize multiple objects and i could quite get pass the error of trying to add values to may ArrayList (Book)","body":"<p>in the line of books.add it says incompatible types: string cannot be converted to Author\nI tried converting it all to string but it still didn't work. My problem is how do i make the string be converted to author. The expected output of this is to simply create an arraylist of 5 books with the class of authors, books, and publishing dat. Under the Book class, i am trying to add the arraylist but i cannot seem to get pass the problem of the string to be converting to the object author.</p>\n<pre><code>public class Book {\n    private String bookTitle;\n    private Author name;\n    private PubDate date;\n\n    public Book() {\n    }\n\n    public Book(String bookTitle, Author name, PubDate date) {\n        this.bookTitle = bookTitle;\n        this.name = name;\n        this.date = date;\n    }\n\n    public String getBookTitle() {\n        return bookTitle;\n    }\n\n    public Author getName() {\n        return name;\n    }\n\n    public PubDate getDate() {\n        return date;\n    }\n\n    public void setBookTitle(String bookTitle) {\n        this.bookTitle = bookTitle;\n    }\n\n    public void setName(Author name) {\n        this.name = name;\n    }\n\n    public void setDate(PubDate date) {\n        this.date = date;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Book{&quot; + &quot;bookTitle=&quot; + bookTitle + &quot;, name=&quot; + name + &quot;, date=&quot; + date + '}';\n    }\n\n  \n\n}\n\n</code></pre>\n<pre><code>public class Author {\n    private String firstname;\n    private String lastname;\n    private String title;\n\n    public Author() {\n    }\n\n    public Author(String firstname, String lastname, String title) {\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.title = title;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Author{&quot; + &quot;firstname=&quot; + firstname + &quot;, lastname=&quot; + lastname + &quot;, title=&quot; + title + '}';\n    }\n\n}\n\n</code></pre>\n<pre><code>public class Serialization {\n    public static void main(String[] args) {\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\n        ArrayList&lt;Author&gt; authors = new ArrayList&lt;Author&gt;();\n        ArrayList&lt;PubDate&gt; pubs = new ArrayList&lt;PubDate&gt;();\n        \n       \n        \n        books.add(new Book(&quot;Book Title&quot;, &quot;Author Name&quot;, &quot;Publishing Date&quot;));\n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511814739,"post_id":47518138,"comment_id":81994880,"body_markdown":"What kind of SideInput view are you using? Can you share an example of how you were using that?","body":"What kind of SideInput view are you using? Can you share an example of how you were using that?"},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511814824,"post_id":47518138,"comment_id":81994926,"body_markdown":"Have you considered using a Stateful ParDo? If you were processing in the global window, this would allow you to store the value from BigQuery in state, and use it to process each value that arrived from the other stream. You would need to use the same Merge.Flatten approach you mentioned since Stateful DoFn&#39;s only work with a single input collection.","body":"Have you considered using a Stateful ParDo? If you were processing in the global window, this would allow you to store the value from BigQuery in state, and use it to process each value that arrived from the other stream. You would need to use the same Merge.Flatten approach you mentioned since Stateful DoFn&#39;s only work with a single input collection."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511819048,"post_id":47518138,"comment_id":81997058,"body_markdown":"For you first comment @BenChambers the side input it is a large mapping table. Each row has a key string in it that may match the data in the incoming Pubsub message. The mapping dataset changes each week but currently is ~40 million rows (about 10 GB) and for the course of the week is completely static and unchanging.\n\nI&#39;m looking at the stateful pardo documentation now and seeing if could be viable...","body":"For you first comment @BenChambers the side input it is a large mapping table. Each row has a key string in it that may match the data in the incoming Pubsub message. The mapping dataset changes each week but currently is ~40 million rows (about 10 GB) and for the course of the week is completely static and unchanging.  I&#39;m looking at the stateful pardo documentation now and seeing if could be viable..."},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":1,"creation_date":1511824677,"post_id":47518138,"comment_id":81999470,"body_markdown":"For side inputs, are you using `View.asSingleton`, `View.asMap`, etc.? For example -- `View.asSingleton` will take a PCollection with a single element and make it visible to the ParDo. `View.asMap` will take a `PCollection&lt;KV&lt;K, V&gt;&gt;` and make it available as a `Map&lt;K, V&gt;`, but will only read the keys you need.","body":"For side inputs, are you using <code>View.asSingleton</code>, <code>View.asMap</code>, etc.? For example -- <code>View.asSingleton</code> will take a PCollection with a single element and make it visible to the ParDo. <code>View.asMap</code> will take a <code>PCollection&lt;KV&lt;K, V&gt;&gt;</code> and make it available as a <code>Map&lt;K, V&gt;</code>, but will only read the keys you need."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511891451,"post_id":47518138,"comment_id":82032709,"body_markdown":"I was using `View.asIterable` to go through each row to check for a match","body":"I was using <code>View.asIterable</code> to go through each row to check for a match"},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511916724,"post_id":47518138,"comment_id":82043771,"body_markdown":"Using `View.asIterable` means that for every element you need to read (potentially) all 10 GB. That explains some performance problems. Would it be possible to use `View.asMap` or `View.asMultimap`? This would require you associate each row with a lookup key, but then you&#39;d be able to query those items without reading everything.","body":"Using <code>View.asIterable</code> means that for every element you need to read (potentially) all 10 GB. That explains some performance problems. Would it be possible to use <code>View.asMap</code> or <code>View.asMultimap</code>? This would require you associate each row with a lookup key, but then you&#39;d be able to query those items without reading everything."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511984932,"post_id":47518138,"comment_id":82079000,"body_markdown":"Do you mean to say that I can take the 10GB static side input and only bring needed values into the side input data for each incoming pubsub message?","body":"Do you mean to say that I can take the 10GB static side input and only bring needed values into the side input data for each incoming pubsub message?"},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511985430,"post_id":47518138,"comment_id":82079240,"body_markdown":"If they are keyed, yes. You take a `PCollection&lt;K, V&gt;`, and use the `View.asMap` or `View.asMultimap`, and get back a `PCollectionView&lt;Map&lt;K, V&gt;&gt;` or `PCollectionView&lt;Map&lt;K, Iterable&lt;V&gt;&gt;`. The side input is written out using an indexed format, so when you do `context.sideInput(view).get(someKey)` it only needs to read a subset of the entire side-input data.","body":"If they are keyed, yes. You take a <code>PCollection&lt;K, V&gt;</code>, and use the <code>View.asMap</code> or <code>View.asMultimap</code>, and get back a <code>PCollectionView&lt;Map&lt;K, V&gt;&gt;</code> or <code>PCollectionView&lt;Map&lt;K, Iterable&lt;V&gt;&gt;</code>. The side input is written out using an indexed format, so when you do <code>context.sideInput(view).get(someKey)</code> it only needs to read a subset of the entire side-input data."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511986317,"post_id":47518138,"comment_id":82079717,"body_markdown":"Sounds promising. I will try that","body":"Sounds promising. I will try that"},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511992503,"post_id":47518138,"comment_id":82082766,"body_markdown":"Putting the large side input into KeyValue pairs and making the view using `View.asMap`, even when using the n1-highmem-16 machines, still throws the `java.lang.IllegalArgumentException: ByteString would be too long` error. I will edit the question with details from this attempt.","body":"Putting the large side input into KeyValue pairs and making the view using <code>View.asMap</code>, even when using the n1-highmem-16 machines, still throws the <code>java.lang.IllegalArgumentException: ByteString would be too long</code> error. I will edit the question with details from this attempt."},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511994114,"post_id":47518138,"comment_id":82083500,"body_markdown":"Can you share the stack trace from the IllegalArgumentException you are getting? I want to understand where the ByteString that would be too long is occurring.","body":"Can you share the stack trace from the IllegalArgumentException you are getting? I want to understand where the ByteString that would be too long is occurring."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1512609956,"post_id":47518138,"comment_id":82331937,"body_markdown":"Any thoughts on this? I&#39;ve had a support ticket open with Google and I sent an email to Apache Beam devs with no luck","body":"Any thoughts on this? I&#39;ve had a support ticket open with Google and I sent an email to Apache Beam devs with no luck"},{"owner":{"account_id":1895524,"reputation":1043,"user_id":1712591,"accept_rate":42,"display_name":"tomer.z"},"score":2,"creation_date":1541875108,"post_id":47518138,"comment_id":93369936,"body_markdown":"Any news about this? facing the same problem","body":"Any news about this? facing the same problem"}],"answers":[{"tags":[],"owner":{"account_id":1725423,"reputation":3665,"user_id":1580227,"accept_rate":100,"display_name":"medvedev1088"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1668777426,"creation_date":1545679304,"answer_id":53917047,"question_id":47518138,"body_markdown":"Check out the section called &quot;Pattern: Streaming mode large lookup tables&quot; in [Guide to common Cloud Dataflow use-case patterns, Part 2][2]. It might be the only viable solution since your side input doesn&#39;t fit into memory.\r\n\r\n&gt; **Description:**\r\n&gt; \r\n&gt; A large (in GBs) lookup table must be accurate, and changes often or\r\n&gt; does not fit in memory.\r\n&gt; \r\n&gt; **Example:**\r\n&gt; \r\n&gt; You have point of sale information from a retailer and need to\r\n&gt; associate the name of the product item with the data record which\r\n&gt; contains the productID. There are hundreds of thousands of items\r\n&gt; stored in an external database that can change constantly. Also, all\r\n&gt; elements must be processed using the correct value.\r\n&gt; \r\n&gt; **Solution:**\r\n&gt; \r\n&gt; Use the &quot;[Calling external services for data enrichment][1]&quot; pattern\r\n&gt; but rather than calling a micro service, call a read-optimized NoSQL\r\n&gt; database (such as Cloud Datastore or Cloud Bigtable) directly.\r\n&gt; \r\n&gt; For each value to be looked up, create a Key Value pair using the KV\r\n&gt; utility class. Do a GroupByKey to create batches of the same key type\r\n&gt; to make the call against the database. In the DoFn, make a call out to\r\n&gt; the database for that key and then apply the value to all values by\r\n&gt; walking through the iterable. Follow best practices with client\r\n&gt; instantiation as described in &quot;Calling external services for data\r\n&gt; enrichment&quot;.\r\n\r\nOther relevant patterns are described in [Guide to common Cloud Dataflow use-case patterns, Part 1][1]: \r\n\r\n- Pattern: Slowly-changing lookup cache\r\n- Pattern: Calling external services for data enrichment\r\n\r\n[1]: https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-1\r\n[2]: https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-2","title":"Apache Beam in Dataflow Large Side Input","body":"<p>Check out the section called &quot;Pattern: Streaming mode large lookup tables&quot; in <a href=\"https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-2\" rel=\"nofollow noreferrer\">Guide to common Cloud Dataflow use-case patterns, Part 2</a>. It might be the only viable solution since your side input doesn't fit into memory.</p>\n<blockquote>\n<p><strong>Description:</strong></p>\n<p>A large (in GBs) lookup table must be accurate, and changes often or\ndoes not fit in memory.</p>\n<p><strong>Example:</strong></p>\n<p>You have point of sale information from a retailer and need to\nassociate the name of the product item with the data record which\ncontains the productID. There are hundreds of thousands of items\nstored in an external database that can change constantly. Also, all\nelements must be processed using the correct value.</p>\n<p><strong>Solution:</strong></p>\n<p>Use the &quot;<a href=\"https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-1\" rel=\"nofollow noreferrer\">Calling external services for data enrichment</a>&quot; pattern\nbut rather than calling a micro service, call a read-optimized NoSQL\ndatabase (such as Cloud Datastore or Cloud Bigtable) directly.</p>\n<p>For each value to be looked up, create a Key Value pair using the KV\nutility class. Do a GroupByKey to create batches of the same key type\nto make the call against the database. In the DoFn, make a call out to\nthe database for that key and then apply the value to all values by\nwalking through the iterable. Follow best practices with client\ninstantiation as described in &quot;Calling external services for data\nenrichment&quot;.</p>\n</blockquote>\n<p>Other relevant patterns are described in <a href=\"https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-1\" rel=\"nofollow noreferrer\">Guide to common Cloud Dataflow use-case patterns, Part 1</a>:</p>\n<ul>\n<li>Pattern: Slowly-changing lookup cache</li>\n<li>Pattern: Calling external services for data enrichment</li>\n</ul>\n"}],"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8906,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1668777426,"creation_date":1511809773,"question_id":47518138,"body_markdown":"This is most similar to [this question](https://stackoverflow.com/questions/36927558/how-to-combine-streaming-data-with-large-history-data-set-in-dataflow-beam).\r\n\r\nI am creating a pipeline in Dataflow 2.x that takes streaming input from a Pubsub queue. Every single message that comes in needs to be streamed through a very large dataset that comes from Google BigQuery and have all the relevant values attached to it (based on a key) before being written to a database.\r\n\r\nThe trouble is that the mapping dataset from BigQuery is very large - any attempt to use it as a side input fails with the Dataflow runners throwing the error &quot;java.lang.IllegalArgumentException: ByteString would be too long&quot;. I have attempted the following strategies:\r\n\r\n1) Side input\r\n\r\n- As stated,the mapping data is (apparently) too large to do this. If I&#39;m wrong here or there is a work-around for this, please let me know because this would be the simplest solution.\r\n\r\n2) Key-Value pair mapping\r\n\r\n\r\n - In this strategy, I read the BigQuery data and Pubsub message data in the first part of the pipeline, then run each through ParDo transformations that change every value in the PCollections to KeyValue pairs. Then, I run a Merge.Flatten transform and a GroupByKey transform to attach the relevant mapping data to each message.\r\n - The trouble here is that streaming data requires windowing to be merged with other data, so I have to apply windowing to the large, bounded BigQuery data as well. It also requires that the windowing strategies are the same on both datasets. But no windowing strategy for the bounded data makes sense, and the few windowing attempts I&#39;ve made simply send all the BQ data in a single window and then never send it again. It needs to be joined with every incoming pubsub message.\r\n\r\n3) Calling BQ directly in a ParDo (DoFn)\r\n\r\n- This seemed like a good idea - have each worker declare a static instance of the map data. If it&#39;s not there, then call BigQuery directly to get it. Unfortunately this throws internal errors from BigQuery every time (as in the entire message just says &quot;Internal error&quot;). Filing a support ticket with Google resulted in them telling me that, essentially, &quot;you can&#39;t do that&quot;.\r\n\r\nIt seems this task doesn&#39;t really fit the &quot;embarrassingly parallelizable&quot; model, so am I barking up the wrong tree here?\r\n\r\n**EDIT :**\r\n\r\nEven when using a high memory machine in dataflow and attempting to make the side input into a map view, I get the error  `java.lang.IllegalArgumentException: ByteString would be too long`\r\n\r\nHere is an example (psuedo) of the code I&#39;m using:\r\n\r\n\t\tPipeline pipeline = Pipeline.create(options);\r\n\r\n\t\tPCollectionView&lt;Map&lt;String, TableRow&gt;&gt; mapData = pipeline\r\n\t\t\t\t.apply(&quot;ReadMapData&quot;, BigQueryIO.read().fromQuery(&quot;SELECT whatever FROM ...&quot;).usingStandardSql())\r\n\t\t\t\t.apply(&quot;BQToKeyValPairs&quot;, ParDo.of(new BQToKeyValueDoFn())) \r\n\t\t\t\t.apply(View.asMap());\r\n\r\n\t\tPCollection&lt;PubsubMessage&gt; messages = pipeline.apply(PubsubIO.readMessages()\r\n\t\t\t\t.fromSubscription(String.format(&quot;projects/%1$s/subscriptions/%2$s&quot;, projectId, pubsubSubscription)));\r\n\r\n\t\tmessages.apply(ParDo.of(new DoFn&lt;PubsubMessage, TableRow&gt;() {\r\n\t\t\t@ProcessElement\r\n\t\t\tpublic void processElement(ProcessContext c) {\r\n\t\t\t\tJSONObject data = new JSONObject(new String(c.element().getPayload()));\r\n\t\t\t\tString key = getKeyFromData(data);\r\n\t\t\t\tTableRow sideInputData = c.sideInput(mapData).get(key);\r\n\t\t\t\tif (sideInputData != null) {\r\n\t\t\t\t\tLOG.info(&quot;holyWowItWOrked&quot;);\r\n\t\t\t\t\tc.output(new TableRow());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLOG.info(&quot;noSideInputDataHere&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).withSideInputs(mapData));\r\n\r\nThe pipeline throws the exception and fails before logging anything from within the `ParDo`.\r\n\r\nStack trace:\r\n\r\n    java.lang.IllegalArgumentException: ByteString would be too long: 644959474+1551393497\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.concat(ByteString.java:524)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:576)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.copyFrom(ByteString.java:559)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString$Output.toByteString(ByteString.java:1006)\r\n            com.google.cloud.dataflow.worker.WindmillStateInternals$WindmillBag.persistDirectly(WindmillStateInternals.java:575)\r\n            com.google.cloud.dataflow.worker.WindmillStateInternals$SimpleWindmillState.persist(WindmillStateInternals.java:320)\r\n            com.google.cloud.dataflow.worker.WindmillStateInternals$WindmillCombiningState.persist(WindmillStateInternals.java:951)\r\n            com.google.cloud.dataflow.worker.WindmillStateInternals.persist(WindmillStateInternals.java:216)\r\n            com.google.cloud.dataflow.worker.StreamingModeExecutionContext$StepContext.flushState(StreamingModeExecutionContext.java:513)\r\n            com.google.cloud.dataflow.worker.StreamingModeExecutionContext.flushState(StreamingModeExecutionContext.java:363)\r\n            com.google.cloud.dataflow.worker.StreamingDataflowWorker.process(StreamingDataflowWorker.java:1000)\r\n            com.google.cloud.dataflow.worker.StreamingDataflowWorker.access$800(StreamingDataflowWorker.java:133)\r\n            com.google.cloud.dataflow.worker.StreamingDataflowWorker$7.run(StreamingDataflowWorker.java:771)\r\n            java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            java.lang.Thread.run(Thread.java:745)","title":"Apache Beam in Dataflow Large Side Input","body":"<p>This is most similar to <a href=\"https://stackoverflow.com/questions/36927558/how-to-combine-streaming-data-with-large-history-data-set-in-dataflow-beam\">this question</a>.</p>\n\n<p>I am creating a pipeline in Dataflow 2.x that takes streaming input from a Pubsub queue. Every single message that comes in needs to be streamed through a very large dataset that comes from Google BigQuery and have all the relevant values attached to it (based on a key) before being written to a database.</p>\n\n<p>The trouble is that the mapping dataset from BigQuery is very large - any attempt to use it as a side input fails with the Dataflow runners throwing the error \"java.lang.IllegalArgumentException: ByteString would be too long\". I have attempted the following strategies:</p>\n\n<p>1) Side input</p>\n\n<ul>\n<li>As stated,the mapping data is (apparently) too large to do this. If I'm wrong here or there is a work-around for this, please let me know because this would be the simplest solution.</li>\n</ul>\n\n<p>2) Key-Value pair mapping</p>\n\n<ul>\n<li>In this strategy, I read the BigQuery data and Pubsub message data in the first part of the pipeline, then run each through ParDo transformations that change every value in the PCollections to KeyValue pairs. Then, I run a Merge.Flatten transform and a GroupByKey transform to attach the relevant mapping data to each message.</li>\n<li>The trouble here is that streaming data requires windowing to be merged with other data, so I have to apply windowing to the large, bounded BigQuery data as well. It also requires that the windowing strategies are the same on both datasets. But no windowing strategy for the bounded data makes sense, and the few windowing attempts I've made simply send all the BQ data in a single window and then never send it again. It needs to be joined with every incoming pubsub message.</li>\n</ul>\n\n<p>3) Calling BQ directly in a ParDo (DoFn)</p>\n\n<ul>\n<li>This seemed like a good idea - have each worker declare a static instance of the map data. If it's not there, then call BigQuery directly to get it. Unfortunately this throws internal errors from BigQuery every time (as in the entire message just says \"Internal error\"). Filing a support ticket with Google resulted in them telling me that, essentially, \"you can't do that\".</li>\n</ul>\n\n<p>It seems this task doesn't really fit the \"embarrassingly parallelizable\" model, so am I barking up the wrong tree here?</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>Even when using a high memory machine in dataflow and attempting to make the side input into a map view, I get the error  <code>java.lang.IllegalArgumentException: ByteString would be too long</code></p>\n\n<p>Here is an example (psuedo) of the code I'm using:</p>\n\n<pre><code>    Pipeline pipeline = Pipeline.create(options);\n\n    PCollectionView&lt;Map&lt;String, TableRow&gt;&gt; mapData = pipeline\n            .apply(\"ReadMapData\", BigQueryIO.read().fromQuery(\"SELECT whatever FROM ...\").usingStandardSql())\n            .apply(\"BQToKeyValPairs\", ParDo.of(new BQToKeyValueDoFn())) \n            .apply(View.asMap());\n\n    PCollection&lt;PubsubMessage&gt; messages = pipeline.apply(PubsubIO.readMessages()\n            .fromSubscription(String.format(\"projects/%1$s/subscriptions/%2$s\", projectId, pubsubSubscription)));\n\n    messages.apply(ParDo.of(new DoFn&lt;PubsubMessage, TableRow&gt;() {\n        @ProcessElement\n        public void processElement(ProcessContext c) {\n            JSONObject data = new JSONObject(new String(c.element().getPayload()));\n            String key = getKeyFromData(data);\n            TableRow sideInputData = c.sideInput(mapData).get(key);\n            if (sideInputData != null) {\n                LOG.info(\"holyWowItWOrked\");\n                c.output(new TableRow());\n            } else {\n                LOG.info(\"noSideInputDataHere\");\n            }\n        }\n    }).withSideInputs(mapData));\n</code></pre>\n\n<p>The pipeline throws the exception and fails before logging anything from within the <code>ParDo</code>.</p>\n\n<p>Stack trace:</p>\n\n<pre><code>java.lang.IllegalArgumentException: ByteString would be too long: 644959474+1551393497\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.concat(ByteString.java:524)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:576)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.copyFrom(ByteString.java:559)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString$Output.toByteString(ByteString.java:1006)\n        com.google.cloud.dataflow.worker.WindmillStateInternals$WindmillBag.persistDirectly(WindmillStateInternals.java:575)\n        com.google.cloud.dataflow.worker.WindmillStateInternals$SimpleWindmillState.persist(WindmillStateInternals.java:320)\n        com.google.cloud.dataflow.worker.WindmillStateInternals$WindmillCombiningState.persist(WindmillStateInternals.java:951)\n        com.google.cloud.dataflow.worker.WindmillStateInternals.persist(WindmillStateInternals.java:216)\n        com.google.cloud.dataflow.worker.StreamingModeExecutionContext$StepContext.flushState(StreamingModeExecutionContext.java:513)\n        com.google.cloud.dataflow.worker.StreamingModeExecutionContext.flushState(StreamingModeExecutionContext.java:363)\n        com.google.cloud.dataflow.worker.StreamingDataflowWorker.process(StreamingDataflowWorker.java:1000)\n        com.google.cloud.dataflow.worker.StreamingDataflowWorker.access$800(StreamingDataflowWorker.java:133)\n        com.google.cloud.dataflow.worker.StreamingDataflowWorker$7.run(StreamingDataflowWorker.java:771)\n        java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jparepository"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668509158,"post_id":74444016,"comment_id":131417000,"body_markdown":"Not sure how you made that jar but that isn&#39;t a proper Spring Boot jar. Use the build tool you are using (maven or gradle) to provide the jar not the export to jar functionin your IDE.","body":"Not sure how you made that jar but that isn&#39;t a proper Spring Boot jar. Use the build tool you are using (maven or gradle) to provide the jar not the export to jar functionin your IDE."},{"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"score":0,"creation_date":1668514018,"post_id":74444016,"comment_id":131418663,"body_markdown":"@M.Deinum I am using gradle, any place I can get a sample for Spring Boot?","body":"@M.Deinum I am using gradle, any place I can get a sample for Spring Boot?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668514478,"post_id":74444016,"comment_id":131418824,"body_markdown":"Check the documentaiton, just do `./gradlew build` and the resulting jar is the correct one.","body":"Check the documentaiton, just do <code>.&#47;gradlew build</code> and the resulting jar is the correct one."},{"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"score":0,"creation_date":1668523139,"post_id":74444016,"comment_id":131422476,"body_markdown":"thanks @M.Deinum, u are right. its actually just simple gradle build will generate the jar correctly. At first need tricky job on it.","body":"thanks @M.Deinum, u are right. its actually just simple gradle build will generate the jar correctly. At first need tricky job on it."}],"answers":[{"tags":[],"owner":{"account_id":23563659,"reputation":40,"user_id":17604707,"display_name":"Jatel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668777250,"creation_date":1668512083,"answer_id":74444945,"question_id":74444016,"body_markdown":"Check your SpringBoot annotations. You may be missing some `@Service`, `@Repository`, `@Component` annotations.","title":"Consider defining a bean of type in your configuration in spring boot when using Spring JpaRepository","body":"<p>Check your SpringBoot annotations. You may be missing some <code>@Service</code>, <code>@Repository</code>, <code>@Component</code> annotations.</p>\n"}],"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3332,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668777250,"creation_date":1668507809,"question_id":74444016,"body_markdown":"Good day,\r\n\r\nI am doing a Spring Boot Application in my Eclipse IDE. When I right click on my SpringBoot Application file and run as Java application, I hitting error as follow:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField tutorialRepository in com.utility.tool.ToolApplication required a bean of type &#39;com.utility.tool.repository.TutorialRepository&#39; that could not be found.\r\n\r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.utility.tool.repository.TutorialRepository&#39; in your configuration.\r\n\r\nThen I found that I forget to include the spring boot starter data jar. Hence, I add the following code in my `build.gradle` and it finally run correctly:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.7.5&#39;\r\n\r\nThen I right click my project and export jar as runnable jar, and then try to run it by `java -jar my.jar`, and it hit back the error. \r\n\r\nI open the jar in `JdGui`, and found that the `spring-boot-starter-data-jpa-2.7.5.jar` is inside. May I know what is my mistake? My jar structure is something as follow:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe jar is in the list but is at bottom, thus not in my screen shot.\r\n\r\n  [1]: https://i.stack.imgur.com/hpu3F.png","title":"Consider defining a bean of type in your configuration in spring boot when using Spring JpaRepository","body":"<p>Good day,</p>\n<p>I am doing a Spring Boot Application in my Eclipse IDE. When I right click on my SpringBoot Application file and run as Java application, I hitting error as follow:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field tutorialRepository in com.utility.tool.ToolApplication required a bean of type 'com.utility.tool.repository.TutorialRepository' that could not be found.</p>\n<pre><code>The injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.utility.tool.repository.TutorialRepository' in your configuration.\n</code></pre>\n<p>Then I found that I forget to include the spring boot starter data jar. Hence, I add the following code in my <code>build.gradle</code> and it finally run correctly:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.7.5'\n</code></pre>\n<p>Then I right click my project and export jar as runnable jar, and then try to run it by <code>java -jar my.jar</code>, and it hit back the error.</p>\n<p>I open the jar in <code>JdGui</code>, and found that the <code>spring-boot-starter-data-jpa-2.7.5.jar</code> is inside. May I know what is my mistake? My jar structure is something as follow:</p>\n<p><a href=\"https://i.stack.imgur.com/hpu3F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hpu3F.png\" alt=\"enter image description here\" /></a></p>\n<p>The jar is in the list but is at bottom, thus not in my screen shot.</p>\n"},{"tags":["java","windows","tomcat","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":2236594,"reputation":171,"user_id":1972810,"display_name":"RSCh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668776671,"creation_date":1428490170,"answer_id":29512596,"question_id":29512419,"body_markdown":"Replacing lib is not a very good solution, because there are no guarantees that it will work correctly with other programs. I propose to just download a new version of this lib in a separate directory and try linking it to Tomcat.\r\n\r\nFurthermore, looks like it is a known issue:\r\n\r\nThis usually happens because of missing `msvcr71.dll` file. However, Tomcat doesn&#39;t use `msvcr71.dll` directly, it&#39;s used by the Java Virtual Machine (JVM).\r\n\r\nSolution:\r\n\r\n1) Copy `msvcr71.dll` from Java&#39;s `bin` directory to Tomcat&#39;s `bin` folder.\r\n\r\n2) Add Java&#39;s `bin` directory to Windows environment variable.\r\n\r\n3) Copy `msvcr71.dll` from Java&#39;s `bin` directory to `windows\\system32` folder.\r\n\r\n4) Make sure your Tomcat is pointing at the correct `jvm.dll` folder.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Qi11C.jpg\r\n","title":"Starting Tomcat 8 service on Windows 7 issue: &quot;Failed creating java&quot;","body":"<p>Replacing lib is not a very good solution, because there are no guarantees that it will work correctly with other programs. I propose to just download a new version of this lib in a separate directory and try linking it to Tomcat.</p>\n<p>Furthermore, looks like it is a known issue:</p>\n<p>This usually happens because of missing <code>msvcr71.dll</code> file. However, Tomcat doesn't use <code>msvcr71.dll</code> directly, it's used by the Java Virtual Machine (JVM).</p>\n<p>Solution:</p>\n<ol>\n<li><p>Copy <code>msvcr71.dll</code> from Java's <code>bin</code> directory to Tomcat's <code>bin</code> folder.</p>\n</li>\n<li><p>Add Java's <code>bin</code> directory to Windows environment variable.</p>\n</li>\n<li><p>Copy <code>msvcr71.dll</code> from Java's <code>bin</code> directory to <code>windows\\system32</code> folder.</p>\n</li>\n<li><p>Make sure your Tomcat is pointing at the correct <code>jvm.dll</code> folder.</p>\n</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/Qi11C.jpg\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8632,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29512596,"answer_count":1,"score":4,"last_activity_date":1668776671,"creation_date":1428489658,"question_id":29512419,"body_markdown":"Starting Tomcat 8 as a service on a Windows 7 computer for development purpose can be really annoying.\r\n\r\nI had this error:\r\n\r\n```\r\nFailed creating java C:\\Program Files (x86)\\Java\\jdk1.8.0_40\\jre\\bin\\server\\jvm.dll\r\n```\r\n\r\nAnd I saw in `C:\\Program Files (x86)\\Java\\jdk1.8.0_40\\bin` that the `msvcr100.dll` wasn&#39;t the same file I had in my `Windows\\System32` folder. In fact, in my `Windows\\System32` folder, I had the `msvcr100.dll` that corresponds to the x64 version. The Tomcat service wouldn&#39;t start and told me that it is not a valid 32-bit version.\r\n\r\nWhat I did to solve this was to install `jdk1.8.0_40` in `C:\\Program Files`, open up `tomcat8w.exe` and under the `Java` tab, set the `Java Virtual Machine` path to:\r\n\r\n```\r\nC:\\Program Files\\Java\\jdk1.8.0_40\\jre\\bin\\server\\mvcr100.dll\r\n```\r\n\r\nNow, for the Tomcat8 service, it would use the x64 DLL, and all work correctly.\r\n\r\nMy question is, could I replace the `msvcr100.dll` safely in `Windows\\System32` with the x86 version instead? Or is my solution better?","title":"Starting Tomcat 8 service on Windows 7 issue: &quot;Failed creating java&quot;","body":"<p>Starting Tomcat 8 as a service on a Windows 7 computer for development purpose can be really annoying.</p>\n<p>I had this error:</p>\n<pre><code>Failed creating java C:\\Program Files (x86)\\Java\\jdk1.8.0_40\\jre\\bin\\server\\jvm.dll\n</code></pre>\n<p>And I saw in <code>C:\\Program Files (x86)\\Java\\jdk1.8.0_40\\bin</code> that the <code>msvcr100.dll</code> wasn't the same file I had in my <code>Windows\\System32</code> folder. In fact, in my <code>Windows\\System32</code> folder, I had the <code>msvcr100.dll</code> that corresponds to the x64 version. The Tomcat service wouldn't start and told me that it is not a valid 32-bit version.</p>\n<p>What I did to solve this was to install <code>jdk1.8.0_40</code> in <code>C:\\Program Files</code>, open up <code>tomcat8w.exe</code> and under the <code>Java</code> tab, set the <code>Java Virtual Machine</code> path to:</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_40\\jre\\bin\\server\\mvcr100.dll\n</code></pre>\n<p>Now, for the Tomcat8 service, it would use the x64 DLL, and all work correctly.</p>\n<p>My question is, could I replace the <code>msvcr100.dll</code> safely in <code>Windows\\System32</code> with the x86 version instead? Or is my solution better?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":0,"creation_date":1668775260,"post_id":74489791,"comment_id":131494087,"body_markdown":"Read your code again. How is `o` used?","body":"Read your code again. How is <code>o</code> used?"},{"owner":{"account_id":21139309,"reputation":3,"user_id":15542092,"display_name":"matsu"},"score":0,"creation_date":1668842917,"post_id":74489791,"comment_id":131508584,"body_markdown":"@Sneftel, after sleeping on it and reading your comment, I realized that I made a kerfuffle and didn&#39;t use `o`. Thank you for pointing it out.","body":"@Sneftel, after sleeping on it and reading your comment, I realized that I made a kerfuffle and didn&#39;t use <code>o</code>. Thank you for pointing it out."}],"answers":[{"tags":[],"owner":{"account_id":19428466,"reputation":36,"user_id":14209474,"display_name":"Nathan Mittelette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668775854,"creation_date":1668775854,"answer_id":74489956,"question_id":74489791,"body_markdown":"you can do your work with this code : \r\n\r\n```java\r\n        int size = 3;\r\n        int [][] a = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n        int [][] b = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n        int [][] c = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}};;\r\n        \r\n        int total;\r\n        for(int i = 0; i &lt; size; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                total = 0;\r\n                for (int k = 0; k &lt; size; k++) {\r\n                    total += a[i][k] * b[k][j];\r\n                }\r\n                c[i][j] = total;\r\n            }\r\n        }\r\n```","title":"How do I use a loop to multiply a row of a 2D array to the column of a second 2D array, and etc in Java?","body":"<p>you can do your work with this code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        int size = 3;\n        int [][] a = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\n        int [][] b = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\n        int [][] c = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}};;\n        \n        int total;\n        for(int i = 0; i &lt; size; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                total = 0;\n                for (int k = 0; k &lt; size; k++) {\n                    total += a[i][k] * b[k][j];\n                }\n                c[i][j] = total;\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":21139309,"reputation":3,"user_id":15542092,"display_name":"matsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74489956,"answer_count":1,"score":-1,"last_activity_date":1668775854,"creation_date":1668774959,"question_id":74489791,"body_markdown":"So I&#39;m learning Java for Uni, and one of the activities our teachers assigned us for homework was to multiply two 2D arrays in a specific way.\r\n\r\n[What he wants us to do.](https://i.stack.imgur.com/Dr5vo.png)\r\n\r\nI figured, similar to printing the contents of a 2D array, I could use a for loop to loop through both arrays and add/multiply as necessary. However, I&#39;ve been scratching my head on how to do it.\r\n\r\nI&#39;ve tried doing this, but this gave me a totally different result.\r\n\r\n```\r\nfor (int m=0; m&lt;c.length; m++){\r\n    for (int n=0; n&lt;c[m].length; n++){\r\n        c[m][n] = 0;\r\n        for (int o=0; o&lt;c.length; o++){\r\n            c[m][n] += a[n][m]*b[m][n];\r\n        };\r\n    };\r\n};\r\n\r\n```\r\n\r\n[Result of code.](https://i.stack.imgur.com/nnZW2.png)\r\n\r\nWriting down each one, and adding/multiplying as necessary seems to work:\r\n\r\n```\r\nc[0][0] = (a[0][0]*b[0][0]) + (a[0][1]*b[1][0]) + (a[0][2]*b[2][0]);\r\nc[0][1] = (a[0][0]*b[0][1]) + (a[0][1]*b[1][1]) + (a[0][2]*b[2][1]);\r\nc[0][2] = (a[0][0]*b[0][2]) + (a[0][1]*b[1][2]) + (a[0][2] * b[2][2]);\r\nc[1][0] = (a[1][0]*b[0][0]) + (a[1][1]*b[1][0]) + (a[1][2]*b[2][0]);\r\nc[1][1] = (a[1][0]*b[0][1]) + (a[1][1]*b[1][1]) + (a[1][2]*b[2][1]);\r\nc[1][2] = (a[1][0]*b[0][2]) + (a[1][1]*b[1][2]) + (a[1][2] * b[2][2]);\r\nc[2][0] = (a[2][0]*b[0][0]) + (a[2][1]*b[1][0]) + (a[2][2]*b[2][0]);\r\nc[2][1] = (a[2][0]*b[0][1]) + (a[2][1]*b[1][1]) + (a[2][2]*b[2][1]);\r\nc[2][2] = (a[2][0]*b[0][2]) + (a[2][1]*b[1][2]) + (a[2][2] * b[2][2]);\r\n```\r\n\r\nBut it&#39;s pretty ugly to look at.   \r\n  \r\nAm I wrong for thinking that I could use a for loop?","title":"How do I use a loop to multiply a row of a 2D array to the column of a second 2D array, and etc in Java?","body":"<p>So I'm learning Java for Uni, and one of the activities our teachers assigned us for homework was to multiply two 2D arrays in a specific way.</p>\n<p><a href=\"https://i.stack.imgur.com/Dr5vo.png\" rel=\"nofollow noreferrer\">What he wants us to do.</a></p>\n<p>I figured, similar to printing the contents of a 2D array, I could use a for loop to loop through both arrays and add/multiply as necessary. However, I've been scratching my head on how to do it.</p>\n<p>I've tried doing this, but this gave me a totally different result.</p>\n<pre><code>for (int m=0; m&lt;c.length; m++){\n    for (int n=0; n&lt;c[m].length; n++){\n        c[m][n] = 0;\n        for (int o=0; o&lt;c.length; o++){\n            c[m][n] += a[n][m]*b[m][n];\n        };\n    };\n};\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nnZW2.png\" rel=\"nofollow noreferrer\">Result of code.</a></p>\n<p>Writing down each one, and adding/multiplying as necessary seems to work:</p>\n<pre><code>c[0][0] = (a[0][0]*b[0][0]) + (a[0][1]*b[1][0]) + (a[0][2]*b[2][0]);\nc[0][1] = (a[0][0]*b[0][1]) + (a[0][1]*b[1][1]) + (a[0][2]*b[2][1]);\nc[0][2] = (a[0][0]*b[0][2]) + (a[0][1]*b[1][2]) + (a[0][2] * b[2][2]);\nc[1][0] = (a[1][0]*b[0][0]) + (a[1][1]*b[1][0]) + (a[1][2]*b[2][0]);\nc[1][1] = (a[1][0]*b[0][1]) + (a[1][1]*b[1][1]) + (a[1][2]*b[2][1]);\nc[1][2] = (a[1][0]*b[0][2]) + (a[1][1]*b[1][2]) + (a[1][2] * b[2][2]);\nc[2][0] = (a[2][0]*b[0][0]) + (a[2][1]*b[1][0]) + (a[2][2]*b[2][0]);\nc[2][1] = (a[2][0]*b[0][1]) + (a[2][1]*b[1][1]) + (a[2][2]*b[2][1]);\nc[2][2] = (a[2][0]*b[0][2]) + (a[2][1]*b[1][2]) + (a[2][2] * b[2][2]);\n</code></pre>\n<p>But it's pretty ugly to look at.</p>\n<p>Am I wrong for thinking that I could use a for loop?</p>\n"},{"tags":["java","spring","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":16371847,"reputation":163,"user_id":11824962,"display_name":"Rodriguez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668775648,"creation_date":1668775648,"answer_id":74489922,"question_id":74485770,"body_markdown":"Need to add \r\n\r\n&gt; server.tomcat.mbeanregistry.enabled=true\r\n\r\nin application.properties","title":"Some tomcat metrics disappeared in new spring-boot-starter-actuator version","body":"<p>Need to add</p>\n<blockquote>\n<p>server.tomcat.mbeanregistry.enabled=true</p>\n</blockquote>\n<p>in application.properties</p>\n"}],"owner":{"account_id":16371847,"reputation":163,"user_id":11824962,"display_name":"Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668775648,"creation_date":1668753487,"question_id":74485770,"body_markdown":"I upgraded spring-boot-starter-actuator version to 2.7.0\r\nand some chapters of tomcat metrics are missing now in MetricsEndpoint, such as:\r\n``` \r\ntomcat.cache.access\r\ntomcat.cache.hit\r\ntomcat.global.error\r\netc.\r\n```\r\nHow can I get them now?","title":"Some tomcat metrics disappeared in new spring-boot-starter-actuator version","body":"<p>I upgraded spring-boot-starter-actuator version to 2.7.0\nand some chapters of tomcat metrics are missing now in MetricsEndpoint, such as:</p>\n<pre><code>tomcat.cache.access\ntomcat.cache.hit\ntomcat.global.error\netc.\n</code></pre>\n<p>How can I get them now?</p>\n"},{"tags":["java","javafx","gluonfx","gluon-desktop"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1668717636,"post_id":74481776,"comment_id":131480778,"body_markdown":"When you go into full screen, by default JavaFX will display an overlay telling you the app went full screen and how to exit full screen. The error you&#39;re getting is saying the `com.sun.javafx.tk.quantum.OverlayWarning` class is missing. You need to make sure that class is included in the native image, though I&#39;m not sure how you do that.","body":"When you go into full screen, by default JavaFX will display an overlay telling you the app went full screen and how to exit full screen. The error you&#39;re getting is saying the <code>com.sun.javafx.tk.quantum.OverlayWarning</code> class is missing. You need to make sure that class is included in the native image, though I&#39;m not sure how you do that."}],"answers":[{"tags":[],"owner":{"account_id":26966717,"reputation":31,"user_id":20533450,"display_name":"Baptiste Cld"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668774495,"creation_date":1668719899,"answer_id":74482204,"question_id":74481776,"body_markdown":"Thanks to what @Slaw says I tried this code and it works: \r\n```java\r\nstage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\r\nstage.setFullScreen(true);\r\n```\r\nBased on it&#39;s answer, I suppose that this code blocked the overlay warning and therefore no exception is thrown. Not sure of this one but my .exe works now, thank you !\r\n\r\nEdit : \r\nBased on what @Jos&#233; Pereda says I added `&lt;reflectionList&gt;com.sun.javafx.tk.quantum.OverlayWarning&lt;/reflectionList&gt;` to my pom.xml and it works fine, as it keeps the default behavior this answer seems to be a better one","title":"Javafx stage.setFullScreen throw exception after gluon:build and .exe run but not after javafx:run","body":"<p>Thanks to what @Slaw says I tried this code and it works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\nstage.setFullScreen(true);\n</code></pre>\n<p>Based on it's answer, I suppose that this code blocked the overlay warning and therefore no exception is thrown. Not sure of this one but my .exe works now, thank you !</p>\n<p>Edit :\nBased on what @José Pereda says I added <code>&lt;reflectionList&gt;com.sun.javafx.tk.quantum.OverlayWarning&lt;/reflectionList&gt;</code> to my pom.xml and it works fine, as it keeps the default behavior this answer seems to be a better one</p>\n"}],"owner":{"account_id":26966717,"reputation":31,"user_id":20533450,"display_name":"Baptiste Cld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668774495,"creation_date":1668717347,"question_id":74481776,"body_markdown":"I&#39;m trying to create my first .exe from a javafx application. I&#39;m using maven and gluon to achieve my goal.\r\nWhen I launch my app with mvn javafx:run everything run fine.\r\nSo I try to package my app in a .exe using gluonfx:build and I get a .exe, everything seems okay, I have no error in maven build or link log.\r\nUnfortunately when I try to run the .exe nothing happened, I have this log using gluonfx:nativerun :\r\n\r\n```lang-none\r\n[jeu. nov. 17 21:01:45 CET 2022][INFO] ==================== RUN TASK ====================\r\n[jeu. nov. 17 21:01:45 CET 2022][INFO] [SUB] nov. 17, 2022 9:01:45 PM com.sun.javafx.application.PlatformImpl startup\r\n[jeu. nov. 17 21:01:45 CET 2022][INFO] [SUB] WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @6b71769e&#39;\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Exception in Application start method\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.lang.Thread.run(Thread.java:833)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:704)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.core.windows.WindowsPlatformThreads.osThreadStartRoutine(WindowsPlatformThreads.java:143)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Caused by: java.lang.AssertionError: java.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.OverlayWarning\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.util.Utils.forceInit(Utils.java:869)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.OverlayWarningHelper.&lt;clinit&gt;(OverlayWarningHelper.java:44)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.OverlayWarning.&lt;clinit&gt;(OverlayWarning.java:50)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.WindowStage.applyFullScreen(WindowStage.java:685)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.WindowStage.setFullScreen(WindowStage.java:734)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage.doVisibleChanged(Stage.java:1184)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage$1.doVisibleChanged(Stage.java:190)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.stage.StageHelper.visibleChangedImpl(StageHelper.java:63)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.stage.WindowHelper.visibleChanged(WindowHelper.java:77)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window$12.invalidated(Window.java:1212)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window.setShowing(Window.java:1239)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window.show(Window.java:1254)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage.show(Stage.java:277)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at fr.icom.info.m1.balleauprisonnier_fx.App.start(App.java:115)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.security.AccessController.executePrivileged(AccessController.java:169)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.security.AccessController.doPrivileged(AccessController.java:399)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST_Runnable_run_16403f8d32adb631126daa893e5e80085c5d6325(JNIJavaCallWrappers.java:0)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    ... 3 more\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Caused by: java.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.OverlayWarning\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.lang.Class.forName(DynamicHub.java:1121)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.util.Utils.forceInit(Utils.java:866)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    ... 28 more\r\n```\r\n\r\nIt appears to be the line `stage.setFullScreen(true);` in my App.java file that makes my .exe not running because when I replace it with `stage.setMaximized(true);` my .exe is launching correctly.\r\n\r\nAs the gluon documentation says (https://docs.gluonhq.com/#platforms_windows) I have installed graalvm-svm-java17-windows-gluon-22.1.0.1-Final, and the required visual studio things, like windows sdk, latest msvc version ...\r\nMy java and javafx version are 17.0.1\r\n\r\n\r\nI first thought about a javafx version problem so I change it to 11 but the same problem happens, as the problem doesn&#39;t show using javafx:run I really don&#39;t know where the problem may come from ...\r\n\r\nHere is my pom.xml file, maybe it will helps.\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;fr.icom.info.m1.&lt;/groupId&gt;\r\n  &lt;artifactId&gt;balleauprisonnier_fx&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;balleauprisonnier_fx&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n\t  &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t  &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\r\n\t  &lt;resources&gt;\r\n     \t&lt;resource&gt;\r\n       \t\t&lt;directory&gt;ressources&lt;/directory&gt;\r\n     \t&lt;/resource&gt;\r\n     &lt;/resources&gt;\r\n\t  &lt;plugins&gt;\r\n\t    &lt;plugin&gt;\r\n\t      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t      &lt;version&gt;0.0.8&lt;/version&gt;\r\n\t      &lt;configuration&gt;\r\n\t        &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\r\n\t      &lt;/configuration&gt;\r\n\t    &lt;/plugin&gt;\r\n\t  \r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\r\n            &lt;/plugin&gt;\r\n            \r\n\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.16&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-resources&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${basedir}/target/gluonfx/x86_64-windows&lt;/outputDirectory&gt;\r\n              &lt;resources&gt;          \r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;ressources&lt;/directory&gt;\r\n                  &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;              \r\n            &lt;/configuration&gt;            \r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n            &lt;!-- \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.coderplus.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;copy-rename-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-file&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceFile&gt;ressources/launcher_windows.bat&lt;/sourceFile&gt;\r\n   \t\t\t\t\t\t\t &lt;destinationFile&gt;target/launcher_windows.bat&lt;/destinationFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            \r\n\t  &lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThank you in advance\r\n","title":"Javafx stage.setFullScreen throw exception after gluon:build and .exe run but not after javafx:run","body":"<p>I'm trying to create my first .exe from a javafx application. I'm using maven and gluon to achieve my goal.\nWhen I launch my app with mvn javafx:run everything run fine.\nSo I try to package my app in a .exe using gluonfx:build and I get a .exe, everything seems okay, I have no error in maven build or link log.\nUnfortunately when I try to run the .exe nothing happened, I have this log using gluonfx:nativerun :</p>\n<pre class=\"lang-none prettyprint-override\"><code>[jeu. nov. 17 21:01:45 CET 2022][INFO] ==================== RUN TASK ====================\n[jeu. nov. 17 21:01:45 CET 2022][INFO] [SUB] nov. 17, 2022 9:01:45 PM com.sun.javafx.application.PlatformImpl startup\n[jeu. nov. 17 21:01:45 CET 2022][INFO] [SUB] WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @6b71769e'\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Exception in Application start method\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.lang.Thread.run(Thread.java:833)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:704)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.core.windows.WindowsPlatformThreads.osThreadStartRoutine(WindowsPlatformThreads.java:143)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Caused by: java.lang.AssertionError: java.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.OverlayWarning\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.util.Utils.forceInit(Utils.java:869)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.OverlayWarningHelper.&lt;clinit&gt;(OverlayWarningHelper.java:44)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.OverlayWarning.&lt;clinit&gt;(OverlayWarning.java:50)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.WindowStage.applyFullScreen(WindowStage.java:685)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.WindowStage.setFullScreen(WindowStage.java:734)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage.doVisibleChanged(Stage.java:1184)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage$1.doVisibleChanged(Stage.java:190)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.stage.StageHelper.visibleChangedImpl(StageHelper.java:63)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.stage.WindowHelper.visibleChanged(WindowHelper.java:77)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window$12.invalidated(Window.java:1212)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window.setShowing(Window.java:1239)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window.show(Window.java:1254)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage.show(Stage.java:277)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at fr.icom.info.m1.balleauprisonnier_fx.App.start(App.java:115)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.security.AccessController.executePrivileged(AccessController.java:169)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.security.AccessController.doPrivileged(AccessController.java:399)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST_Runnable_run_16403f8d32adb631126daa893e5e80085c5d6325(JNIJavaCallWrappers.java:0)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    ... 3 more\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Caused by: java.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.OverlayWarning\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.lang.Class.forName(DynamicHub.java:1121)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.util.Utils.forceInit(Utils.java:866)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    ... 28 more\n</code></pre>\n<p>It appears to be the line <code>stage.setFullScreen(true);</code> in my App.java file that makes my .exe not running because when I replace it with <code>stage.setMaximized(true);</code> my .exe is launching correctly.</p>\n<p>As the gluon documentation says (<a href=\"https://docs.gluonhq.com/#platforms_windows\" rel=\"nofollow noreferrer\">https://docs.gluonhq.com/#platforms_windows</a>) I have installed graalvm-svm-java17-windows-gluon-22.1.0.1-Final, and the required visual studio things, like windows sdk, latest msvc version ...\nMy java and javafx version are 17.0.1</p>\n<p>I first thought about a javafx version problem so I change it to 11 but the same problem happens, as the problem doesn't show using javafx:run I really don't know where the problem may come from ...</p>\n<p>Here is my pom.xml file, maybe it will helps.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;fr.icom.info.m1.&lt;/groupId&gt;\n  &lt;artifactId&gt;balleauprisonnier_fx&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;balleauprisonnier_fx&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n      &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n      &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\n      &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;ressources&lt;/directory&gt;\n        &lt;/resource&gt;\n     &lt;/resources&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n          &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;0.0.8&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      \n\n    &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n                &lt;/configuration&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n            &lt;/plugin&gt;\n            \n\n&lt;plugin&gt;\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.16&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${basedir}/target/gluonfx/x86_64-windows&lt;/outputDirectory&gt;\n              &lt;resources&gt;          \n                &lt;resource&gt;\n                  &lt;directory&gt;ressources&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;              \n            &lt;/configuration&gt;            \n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n            &lt;!-- \n            &lt;plugin&gt;\n                &lt;groupId&gt;com.coderplus.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;copy-rename-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-file&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceFile&gt;ressources/launcher_windows.bat&lt;/sourceFile&gt;\n                             &lt;destinationFile&gt;target/launcher_windows.bat&lt;/destinationFile&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            \n      &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668771533,"post_id":74489011,"comment_id":131492938,"body_markdown":"[Stream.filter()](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-) uses a [Predicate](https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html) as argument. Why are you trying to use it your own functional interface for argument, it won&#39;t even compile?","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">Stream.filter()</a> uses a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\">Predicate</a> as argument. Why are you trying to use it your own functional interface for argument, it won&#39;t even compile?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1668771798,"post_id":74489011,"comment_id":131493016,"body_markdown":"As mentioned in the other [comment](https://stackoverflow.com/questions/74489011/using-a-list-of-functional-interfaces-in-java-stream-filter#comment131492938_74489011), method `filter` takes a single `Predicate` parameter and not a `List` of `Predicate`. Can you post a concrete example of what you are trying to achieve?","body":"As mentioned in the other <a href=\"https://stackoverflow.com/questions/74489011/using-a-list-of-functional-interfaces-in-java-stream-filter#comment131492938_74489011\">comment</a>, method <code>filter</code> takes a single <code>Predicate</code> parameter and not a <code>List</code> of <code>Predicate</code>. Can you post a concrete example of what you are trying to achieve?"},{"owner":{"account_id":10958861,"reputation":504,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1668771902,"post_id":74489011,"comment_id":131493057,"body_markdown":"filter can take a Predicate but the predicate itself can be a stream. See https://stackoverflow.com/questions/24553761/how-to-apply-multiple-predicates-to-a-java-util-stream.","body":"filter can take a Predicate but the predicate itself can be a stream. See <a href=\"https://stackoverflow.com/questions/24553761/how-to-apply-multiple-predicates-to-a-java-util-stream\" title=\"how to apply multiple predicates to a java util stream\">stackoverflow.com/questions/24553761/&hellip;</a>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668772247,"post_id":74489011,"comment_id":131493144,"body_markdown":"Possible duplicate - [How to combine all predicates from List&lt;Predicate&lt;MyClass&gt;&gt;](https://stackoverflow.com/questions/47424197/how-to-combine-all-predicates-from-listpredicatemyclass).","body":"Possible duplicate - <a href=\"https://stackoverflow.com/questions/47424197/how-to-combine-all-predicates-from-listpredicatemyclass\">How to combine all predicates from List&lt;Predicate&lt;MyClass&gt;&gt;</a>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668772366,"post_id":74489011,"comment_id":131493177,"body_markdown":"The only way i see this whole thing working out, is if you wrap your `FilterClass` inside a `Predicate`, but why bother? `Predicate` provides literary the same functionality, and some more.","body":"The only way i see this whole thing working out, is if you wrap your <code>FilterClass</code> inside a <code>Predicate</code>, but why bother? <code>Predicate</code> provides literary the same functionality, and some more."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668773303,"creation_date":1668773303,"answer_id":74489465,"question_id":74489011,"body_markdown":"There are 2 separate issues here; I shall cover them both.\r\n\r\n## FilterClass probably shouldn&#39;t exist\r\n\r\nThe name is very strange (it&#39;s an interface; things that implement it generally are barely considered a class, the only interpretation that lets you state that they are, means _everything_ is, and thus the presence of `Class` in the name of the thing doesn&#39;t add any information). It&#39;s also pointless to make this interface; java already has it: `Predicate&lt;SomeClass&gt;`:\r\n\r\n```\r\nclass Student {\r\n  @Getter public LocalDate birthDate;\r\n}\r\n\r\nPredicate&lt;Student&gt; isAdult = s -&gt; ChronoUnit.YEARS.between(\r\n  LocalDate.now(), s.getBirthDate()) &gt;= 18;\r\n```\r\n\r\n## Applying multiple filters\r\n\r\nEvidently, you have a list of filters. How would you like to apply this multitude? There are 4 obvious answers:\r\n\r\n* If ALL filters match the item, it passes, otherwise, remove it from the stream.\r\n* If just ONE filter matches the item, it passes, otherwise, remove it from the stream.\r\n* If ALL filters match the item, it _fails and is removed_, otherwise, pass the item.\r\n* If just ONE filter matches the item, it _fails and is removed_. The item survives only if all filters fail to match it.\r\n\r\nRegardless of your choice, you just.. program it. Write a new predicate that implements your choice. For example, if you want the top choice:\r\n\r\n```\r\nList&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\r\nPredicate&lt;Student&gt; allMatch = s -&gt; {\r\n  for (var pred : filterList) if (!pred.test(s)) return false;\r\n  return true;\r\n}\r\n\r\nfoo.stream().filter(allMatch).collect(....);\r\n```\r\n\r\nYou may instead use the various utility methods in `Predicate` itself to construct a new predicate. For example, the above can alternatively be implemented using predicate&#39;s own `and` method:\r\n\r\n```\r\nList&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\r\nPredicate&lt;Student&gt; allMatch = s -&gt; true;\r\nfor (var pred : filterList) allMatch = allMatch.and(pred);\r\n```\r\n\r\nOr even:\r\n\r\n```\r\nList&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\r\nPredicate&lt;Student&gt; allMatch = filterList.stream()\r\n  .collect(Collectors.reducing(s -&gt; true, Predicate::and));\r\n```\r\n\r\nNB: If you insist on keeping your own `FilterClass` interface for this exercise, pretty much only the first option would be available to you, unless you fully duplicate all of `java.util.function.Predicate` and also add the default `and` method just like Predicate has.\r\n","title":"Using a list of functional interfaces in java stream filter","body":"<p>There are 2 separate issues here; I shall cover them both.</p>\n<h2>FilterClass probably shouldn't exist</h2>\n<p>The name is very strange (it's an interface; things that implement it generally are barely considered a class, the only interpretation that lets you state that they are, means <em>everything</em> is, and thus the presence of <code>Class</code> in the name of the thing doesn't add any information). It's also pointless to make this interface; java already has it: <code>Predicate&lt;SomeClass&gt;</code>:</p>\n<pre><code>class Student {\n  @Getter public LocalDate birthDate;\n}\n\nPredicate&lt;Student&gt; isAdult = s -&gt; ChronoUnit.YEARS.between(\n  LocalDate.now(), s.getBirthDate()) &gt;= 18;\n</code></pre>\n<h2>Applying multiple filters</h2>\n<p>Evidently, you have a list of filters. How would you like to apply this multitude? There are 4 obvious answers:</p>\n<ul>\n<li>If ALL filters match the item, it passes, otherwise, remove it from the stream.</li>\n<li>If just ONE filter matches the item, it passes, otherwise, remove it from the stream.</li>\n<li>If ALL filters match the item, it <em>fails and is removed</em>, otherwise, pass the item.</li>\n<li>If just ONE filter matches the item, it <em>fails and is removed</em>. The item survives only if all filters fail to match it.</li>\n</ul>\n<p>Regardless of your choice, you just.. program it. Write a new predicate that implements your choice. For example, if you want the top choice:</p>\n<pre><code>List&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\nPredicate&lt;Student&gt; allMatch = s -&gt; {\n  for (var pred : filterList) if (!pred.test(s)) return false;\n  return true;\n}\n\nfoo.stream().filter(allMatch).collect(....);\n</code></pre>\n<p>You may instead use the various utility methods in <code>Predicate</code> itself to construct a new predicate. For example, the above can alternatively be implemented using predicate's own <code>and</code> method:</p>\n<pre><code>List&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\nPredicate&lt;Student&gt; allMatch = s -&gt; true;\nfor (var pred : filterList) allMatch = allMatch.and(pred);\n</code></pre>\n<p>Or even:</p>\n<pre><code>List&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\nPredicate&lt;Student&gt; allMatch = filterList.stream()\n  .collect(Collectors.reducing(s -&gt; true, Predicate::and));\n</code></pre>\n<p>NB: If you insist on keeping your own <code>FilterClass</code> interface for this exercise, pretty much only the first option would be available to you, unless you fully duplicate all of <code>java.util.function.Predicate</code> and also add the default <code>and</code> method just like Predicate has.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668774482,"creation_date":1668774482,"answer_id":74489696,"question_id":74489011,"body_markdown":"There are several issues you need to consider:\r\n\r\n* Stream-operations like `filter` expect a `Predicate` (i.e. it&#39;s not possible to pass into `filter` anything that is not of type `Predicate`).\r\n\r\n* You can&#39;t use your instance of your custom interface as a `Predicate` unless it doesn&#39;t extend a `Predicate`.\r\n\r\n* A *Functional interface* (that&#39;s the only purpose of this annotation), i.e. it has only one `abstract` method. If your instance extends `Predicate` it would inherit `abstract` method test, i.e. it can&#39;t declare it own `abstract` method. You can preserve `isValid()` as a default method.\r\n\r\nIf you want to leave your interface as is then you can perform validation like this:\r\n\r\n```\r\nList&lt;Filter&gt; filters = List.of();\r\n    \r\nList&lt;SomeClass&gt; originalList = List.of();\r\n        \r\nList&lt;SomeClass&gt; filteredList = originalList.stream()\r\n    .filter(foo -&gt; filters.stream().anyMatch(filter -&gt; filter.isValid(foo))) // or `.allMatch` depending of how validation should be performed\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```\r\n\r\nAnd if you extend `Predicate` your interface might look like this:\r\n\r\n    @FunctionalInterface\r\n    public interface Filter extends Predicate&lt;SomeClass&gt; {\r\n        \r\n        default boolean isValid(SomeClass someClass) {\r\n            return test(someClass);\r\n        }\r\n    }\r\n\r\nThen you would be able to make use of the default methods `Predicate.and()` / `Predicate.or()` and chain your custom predicates:\r\n\r\n```\r\nList&lt;Filter&gt; filters = List.of();\r\n        \r\nPredicate&lt;SomeClass&gt; allMatch = filters.stream().map(Predicate.class::cast).reduce(t -&gt; true, Predicate::and);\r\nPredicate&lt;SomeClass&gt; anyMatch = filters.stream().map(Predicate.class::cast).reduce(t -&gt; false, Predicate::or);\r\n\r\nList&lt;SomeClass&gt; originalList = List.of();\r\n        \r\nList&lt;SomeClass&gt; filteredList = originalList.stream()\r\n    .filter(anyMatch)\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```","title":"Using a list of functional interfaces in java stream filter","body":"<p>There are several issues you need to consider:</p>\n<ul>\n<li><p>Stream-operations like <code>filter</code> expect a <code>Predicate</code> (i.e. it's not possible to pass into <code>filter</code> anything that is not of type <code>Predicate</code>).</p>\n</li>\n<li><p>You can't use your instance of your custom interface as a <code>Predicate</code> unless it doesn't extend a <code>Predicate</code>.</p>\n</li>\n<li><p>A <em>Functional interface</em> (that's the only purpose of this annotation), i.e. it has only one <code>abstract</code> method. If your instance extends <code>Predicate</code> it would inherit <code>abstract</code> method test, i.e. it can't declare it own <code>abstract</code> method. You can preserve <code>isValid()</code> as a default method.</p>\n</li>\n</ul>\n<p>If you want to leave your interface as is then you can perform validation like this:</p>\n<pre><code>List&lt;Filter&gt; filters = List.of();\n    \nList&lt;SomeClass&gt; originalList = List.of();\n        \nList&lt;SomeClass&gt; filteredList = originalList.stream()\n    .filter(foo -&gt; filters.stream().anyMatch(filter -&gt; filter.isValid(foo))) // or `.allMatch` depending of how validation should be performed\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n<p>And if you extend <code>Predicate</code> your interface might look like this:</p>\n<pre><code>@FunctionalInterface\npublic interface Filter extends Predicate&lt;SomeClass&gt; {\n    \n    default boolean isValid(SomeClass someClass) {\n        return test(someClass);\n    }\n}\n</code></pre>\n<p>Then you would be able to make use of the default methods <code>Predicate.and()</code> / <code>Predicate.or()</code> and chain your custom predicates:</p>\n<pre><code>List&lt;Filter&gt; filters = List.of();\n        \nPredicate&lt;SomeClass&gt; allMatch = filters.stream().map(Predicate.class::cast).reduce(t -&gt; true, Predicate::and);\nPredicate&lt;SomeClass&gt; anyMatch = filters.stream().map(Predicate.class::cast).reduce(t -&gt; false, Predicate::or);\n\nList&lt;SomeClass&gt; originalList = List.of();\n        \nList&lt;SomeClass&gt; filteredList = originalList.stream()\n    .filter(anyMatch)\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74489465,"answer_count":2,"score":0,"last_activity_date":1668774482,"creation_date":1668771057,"question_id":74489011,"body_markdown":"I have a list of objects which needs to be filtered with another list of functional interfaces.\r\n\r\nFor example:\r\n\r\n    List&lt;SomeClass&gt; originalList = .....\r\n    List&lt;SomeClass&gt; filteredList = originalList.stream().filter(filterList).toList();\r\n                                                          ^^^^^^^^^^^^^^^^\r\n\r\nHow do I use a list of functional interfaces here such that \r\nthe final list contains objects filtered by all the filters in the list. Where \r\n    \r\n    List&lt;FilterClass&gt; filterList = Arrays.asList(\r\n        new ClassWhichImplementsFilterClass1(),\r\n        new ClassWhichImplementsFilterClass2()\r\n    );\r\n\r\nFilterClass.java\r\n\r\n    @FunctionalInterface\r\n    public interface FilterClass{\r\n        boolean isValid(SomeClass someClass);\r\n    }\r\n\r\nHow do I achieve this? I think I can do this by streaming the list of objects and then passing that object through each filter class in the `filterList`, but is there a way to do it some other way.","title":"Using a list of functional interfaces in java stream filter","body":"<p>I have a list of objects which needs to be filtered with another list of functional interfaces.</p>\n<p>For example:</p>\n<pre><code>List&lt;SomeClass&gt; originalList = .....\nList&lt;SomeClass&gt; filteredList = originalList.stream().filter(filterList).toList();\n                                                      ^^^^^^^^^^^^^^^^\n</code></pre>\n<p>How do I use a list of functional interfaces here such that\nthe final list contains objects filtered by all the filters in the list. Where</p>\n<pre><code>List&lt;FilterClass&gt; filterList = Arrays.asList(\n    new ClassWhichImplementsFilterClass1(),\n    new ClassWhichImplementsFilterClass2()\n);\n</code></pre>\n<p>FilterClass.java</p>\n<pre><code>@FunctionalInterface\npublic interface FilterClass{\n    boolean isValid(SomeClass someClass);\n}\n</code></pre>\n<p>How do I achieve this? I think I can do this by streaming the list of objects and then passing that object through each filter class in the <code>filterList</code>, but is there a way to do it some other way.</p>\n"},{"tags":["java","stack-trace"],"answers":[{"tags":[],"owner":{"account_id":417021,"reputation":2395,"user_id":792779,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341928416,"creation_date":1341928416,"answer_id":11414872,"question_id":11414782,"body_markdown":"You could get the stacktrace from the Exception and simply loop them comparing class names.\r\n\r\nException.getStackTrace() returns an array of StackTraceElements, which has a getClassName method.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace()\r\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/StackTraceElement.html\r\n\r\nAssuming I understood the question","title":"How to check if a Java Class is part of the current stack trace?","body":"<p>You could get the stacktrace from the Exception and simply loop them comparing class names.</p>\n\n<p>Exception.getStackTrace() returns an array of StackTraceElements, which has a getClassName method.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace</a>()\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/StackTraceElement.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/StackTraceElement.html</a></p>\n\n<p>Assuming I understood the question</p>\n"},{"tags":[],"owner":{"account_id":1642501,"reputation":149,"user_id":1514698,"display_name":"Mihai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341928486,"creation_date":1341928486,"answer_id":11414892,"question_id":11414782,"body_markdown":"You could add a custom header to the message that indicates the original emitter. So `MessageReceiver` will emit messages by setting the header value to `&quot;MessageReceiver&quot;`, and will discard all messages that have this specific header value.","title":"How to check if a Java Class is part of the current stack trace?","body":"<p>You could add a custom header to the message that indicates the original emitter. So <code>MessageReceiver</code> will emit messages by setting the header value to <code>\"MessageReceiver\"</code>, and will discard all messages that have this specific header value.</p>\n"},{"tags":[],"owner":{"account_id":905797,"reputation":1171,"user_id":940731,"accept_rate":82,"display_name":"Gustav Karlsson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1668774098,"creation_date":1341929204,"answer_id":11415101,"question_id":11414782,"body_markdown":"I think this is what you&#39;re after:\r\n\r\n    Class&lt;?&gt; myClass = MessageReceiver.class;\r\n    StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\r\n    \r\n    for (StackTraceElement element : stackTrace) {\r\n        if (element.getClassName().equals(myClass.getCanonicalName())) {\r\n            System.out.println(&quot;class found in stack trace&quot;);\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n---\r\n\r\nIf you&#39;re using [tag:java-8] or higher, you can also use the following\r\n\r\n```\r\nClass&lt;?&gt; myClass = MessageReceiver.class;\r\nStackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\r\n\r\nboolean found = Arrays.stream(stackTrace)\r\n                      .map(StackTraceElement::getClassName)\r\n                      .anyMatch(myClass.getCanonicalName::equals);\r\n\r\nif (found) {\r\n    System.out.println(&quot;class found in stack trace&quot;);\r\n}\r\n```","title":"How to check if a Java Class is part of the current stack trace?","body":"<p>I think this is what you're after:</p>\n<pre><code>Class&lt;?&gt; myClass = MessageReceiver.class;\nStackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\n\nfor (StackTraceElement element : stackTrace) {\n    if (element.getClassName().equals(myClass.getCanonicalName())) {\n        System.out.println(&quot;class found in stack trace&quot;);\n        break;\n    }\n}\n</code></pre>\n<hr />\n<p>If you're using <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" aria-label=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\" aria-labelledby=\"java-8-container\">java-8</a> or higher, you can also use the following</p>\n<pre><code>Class&lt;?&gt; myClass = MessageReceiver.class;\nStackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\n\nboolean found = Arrays.stream(stackTrace)\n                      .map(StackTraceElement::getClassName)\n                      .anyMatch(myClass.getCanonicalName::equals);\n\nif (found) {\n    System.out.println(&quot;class found in stack trace&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":989964,"reputation":375,"user_id":1007546,"accept_rate":50,"display_name":"jsurls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2465,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11415101,"answer_count":3,"score":5,"last_activity_date":1668774098,"creation_date":1341928147,"question_id":11414782,"body_markdown":"I have a class: \r\n\r\n    MessageReceiver.java\r\n\r\nthat receives messages but can also produce messages indirectly (that then could potentially be redelivered to this class). I don&#39;t want to process messages that were sent with MessageReceiver.java in the stack trace. Is there a way to efficiently determine if the message I received was from MessageReceiver.java?\r\n\r\nThe following chain is possible:&lt;br&gt;\r\n\r\n    MessageReceiver.java -&gt; OtherClass.java -&gt; MessageProducer.java -&gt; MessageReceiver.java","title":"How to check if a Java Class is part of the current stack trace?","body":"<p>I have a class: </p>\n\n<pre><code>MessageReceiver.java\n</code></pre>\n\n<p>that receives messages but can also produce messages indirectly (that then could potentially be redelivered to this class). I don't want to process messages that were sent with MessageReceiver.java in the stack trace. Is there a way to efficiently determine if the message I received was from MessageReceiver.java?</p>\n\n<p>The following chain is possible:<br></p>\n\n<pre><code>MessageReceiver.java -&gt; OtherClass.java -&gt; MessageProducer.java -&gt; MessageReceiver.java\n</code></pre>\n"},{"tags":["java","spring-retry"],"comments":[{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1635415133,"post_id":58012578,"comment_id":123294166,"body_markdown":"have you got the solution?","body":"have you got the solution?"}],"answers":[{"tags":[],"owner":{"account_id":6691334,"reputation":485,"user_id":5160759,"display_name":"Arpan Kanthal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590674757,"creation_date":1590674757,"answer_id":62066719,"question_id":58012578,"body_markdown":"I believe you might be needing the @Recover annotation on specific exception. As the name suggests, the retry would just redo the failed operation. However the recover method will give you options to do specific things in code while you recover an error. This also allows access to the parameters of the method being &quot;retried&quot;. \r\n\r\n[Spring Recover documentation][1]. \r\n\r\n[Retry with Recover guide][2].\r\n\r\nLook at section 4.2 in link 2. It has examples on using retry with recover\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Recover.html\r\n  [2]: https://www.baeldung.com/spring-retry","title":"Is it possible to access the arguments of the failed method in RetryListener?","body":"<p>I believe you might be needing the @Recover annotation on specific exception. As the name suggests, the retry would just redo the failed operation. However the recover method will give you options to do specific things in code while you recover an error. This also allows access to the parameters of the method being \"retried\". </p>\n\n<p><a href=\"https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Recover.html\" rel=\"nofollow noreferrer\">Spring Recover documentation</a>. </p>\n\n<p><a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">Retry with Recover guide</a>.</p>\n\n<p>Look at section 4.2 in link 2. It has examples on using retry with recover</p>\n"},{"tags":[],"owner":{"account_id":12868060,"reputation":394,"user_id":9307598,"display_name":"Aliaksandr Hamayunau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668774094,"creation_date":1668774094,"answer_id":74489618,"question_id":58012578,"body_markdown":"You can try to use [RetryTemplate][1] instead of `@Retryable` annotation. &lt;br/&gt;\r\nWith template you can access `RetryContext` and set your arguments manually:\r\n```java\r\nprivate String goSomething(String arg1) {\r\n    return retryTemplate.execute(context -&gt; {\r\n        context.setAttribute(&quot;argument1&quot;, &quot;arg1&quot;);\r\n        return &quot;some result&quot;\r\n    });\r\n}\r\n```\r\n\r\nAnd then you can access this argument in your listener:\r\n```java\r\n@Override\r\npublic &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n    if (throwable instance of UnknownSessionException) {\r\n        String arg1 = (String) context.getAttribute(&quot;argument1&quot;)\r\n    }\r\n    super.onError(context, callback, throwable);\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html#retryTemplate","title":"Is it possible to access the arguments of the failed method in RetryListener?","body":"<p>You can try to use <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html#retryTemplate\" rel=\"nofollow noreferrer\">RetryTemplate</a> instead of <code>@Retryable</code> annotation. <br/>\nWith template you can access <code>RetryContext</code> and set your arguments manually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String goSomething(String arg1) {\n    return retryTemplate.execute(context -&gt; {\n        context.setAttribute(&quot;argument1&quot;, &quot;arg1&quot;);\n        return &quot;some result&quot;\n    });\n}\n</code></pre>\n<p>And then you can access this argument in your listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n    if (throwable instance of UnknownSessionException) {\n        String arg1 = (String) context.getAttribute(&quot;argument1&quot;)\n    }\n    super.onError(context, callback, throwable);\n}\n</code></pre>\n"}],"owner":{"account_id":16727300,"reputation":11,"user_id":12090608,"display_name":"Vincent B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668774094,"creation_date":1568900970,"question_id":58012578,"body_markdown":"I have a method that takes a session object to talk to an external system. The session object contains a username and a session token. If the external system doesn&#39;t recognize the session token then an exception is thrown. In that case  I want to login with the passed username, create a new session object and call the original method with the new session object containing a valid session token.\r\n\r\nI created a Listener extending RetryListenerSupport. I annotated the method with @Retry and specified my listener as listener. But in the onError method of my listener I can not access the arguments of the method.\r\n\r\n```java\r\n@Value\r\npublic class Session {\r\n    private final String username;\r\n    private final String sessionToken;\r\n}\r\n\r\n@Component\r\npublic class EmployeeRetryListener extends RetryListenerSupport {\r\n    @Override\r\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context,\r\n                                                 RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n        if (throwable instance of UnknownSessionException) {\r\n            // Here I want to access the arguments of the createEmployee method\r\n        }\r\n        super.onError(context, callback, throwable);\r\n    }\r\n\r\n}\r\n\r\n@Service\r\npublic class EmployeeService {\r\n\r\n    @Retryable(listeners = &quot;employeeRetryListener&quot;)\r\n    public void createEmployee(Session session, String employeeName) throws UnknownSessionException {\r\n    }\r\n}\r\n\r\n```\r\n\r\nI want to know the username in the Session instance with which the method is called. And I also want to modify the Session instance to update to sessionToken.","title":"Is it possible to access the arguments of the failed method in RetryListener?","body":"<p>I have a method that takes a session object to talk to an external system. The session object contains a username and a session token. If the external system doesn't recognize the session token then an exception is thrown. In that case  I want to login with the passed username, create a new session object and call the original method with the new session object containing a valid session token.</p>\n\n<p>I created a Listener extending RetryListenerSupport. I annotated the method with @Retry and specified my listener as listener. But in the onError method of my listener I can not access the arguments of the method.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Value\npublic class Session {\n    private final String username;\n    private final String sessionToken;\n}\n\n@Component\npublic class EmployeeRetryListener extends RetryListenerSupport {\n    @Override\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context,\n                                                 RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n        if (throwable instance of UnknownSessionException) {\n            // Here I want to access the arguments of the createEmployee method\n        }\n        super.onError(context, callback, throwable);\n    }\n\n}\n\n@Service\npublic class EmployeeService {\n\n    @Retryable(listeners = \"employeeRetryListener\")\n    public void createEmployee(Session session, String employeeName) throws UnknownSessionException {\n    }\n}\n\n</code></pre>\n\n<p>I want to know the username in the Session instance with which the method is called. And I also want to modify the Session instance to update to sessionToken.</p>\n"},{"tags":["java","kotlin","jackson"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1668774024,"post_id":74486307,"comment_id":131493690,"body_markdown":"Convert list to `Map` and use `@JsonAnyGetter` annotation. See also: [Why I&#39;m not able to unwrap and serialize a Java map using the Jackson Java library?](https://stackoverflow.com/questions/18043587/why-im-not-able-to-unwrap-and-serialize-a-java-map-using-the-jackson-java-libra)","body":"Convert list to <code>Map</code> and use <code>@JsonAnyGetter</code> annotation. See also: <a href=\"https://stackoverflow.com/questions/18043587/why-im-not-able-to-unwrap-and-serialize-a-java-map-using-the-jackson-java-libra\">Why I&#39;m not able to unwrap and serialize a Java map using the Jackson Java library?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668773918,"creation_date":1668773918,"answer_id":74489580,"question_id":74486307,"body_markdown":"You need to unwrap `config` property. It is a list, so you need to ignore it and add extra method which converts that list to `Map`. In `Kotlin` it could look like this:\r\n```kotlin\r\n@JsonAnyGetter\r\nfun getSettingsAsMap(): Map&lt;String, String&gt;? {\r\n   return settings.stream().collect(Collectors.toMap(SettingAbstract::name, SettingAbstract::value));\r\n}\r\n```\r\nAnd you need to ignore list:\r\n```java\r\n@JsonIgnore public ArrayList&lt;SettingAbstract&gt; settings\r\n```","title":"Unwrap config settings during the serialisation","body":"<p>You need to unwrap <code>config</code> property. It is a list, so you need to ignore it and add extra method which converts that list to <code>Map</code>. In <code>Kotlin</code> it could look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonAnyGetter\nfun getSettingsAsMap(): Map&lt;String, String&gt;? {\n   return settings.stream().collect(Collectors.toMap(SettingAbstract::name, SettingAbstract::value));\n}\n</code></pre>\n<p>And you need to ignore list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnore public ArrayList&lt;SettingAbstract&gt; settings\n</code></pre>\n"}],"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74489580,"answer_count":1,"score":0,"last_activity_date":1668773918,"creation_date":1668757085,"question_id":74486307,"body_markdown":"I try to make config manager for my app. I have some problems with `Jackson`. Here is my object mapper config:\r\n```kotlin\r\nval mapper = ObjectMapper()\r\n\r\nval jackson = mapper.setVisibility(\r\n        mapper.getSerializationConfig().getDefaultVisibilityChecker()\r\n            .withFieldVisibility(JsonAutoDetect.Visibility.NONE)\r\n            .withGetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n            .withSetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n            .withCreatorVisibility(JsonAutoDetect.Visibility.NONE)\r\n    )\r\n    .configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false)\r\n    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n    .enable(SerializationFeature.INDENT_OUTPUT)\r\n```\r\nand then we saving arraylist of modules.every module has \r\n```\r\n@JsonProperty(&quot;config&quot;)  public ArrayList&lt;SettingAbstract&gt; settings = new ArrayList&lt;SettingAbstract&gt;( );\r\n```\r\nSettingAbstract have name and value. i did this\r\n```\r\n@JsonProperty(&quot;property&quot;) public abstract String saveCfg();\r\n```\r\nand then this in SettingAbstract child classes\r\n```\r\n    @Override\r\n    public String saveCfg() {\r\n        return this.name + &quot;: &quot; + this.value;\r\n    }\r\n```\r\nThe result `JSON` is:\r\n```\r\n..., {\r\n  &quot;enabled&quot; : false,\r\n  &quot;name&quot; : &quot;ESP&quot;,\r\n  &quot;config&quot; : [ {\r\n    &quot;property&quot; : &quot;Players: true&quot;\r\n  }, {\r\n    &quot;property&quot; : &quot;Mobs: false&quot;\r\n  }, {\r\n    &quot;property&quot; : &quot;Hostiles: false&quot;\r\n  } ],\r\n  &quot;currentSettingsPage&quot; : 0\r\n}, {\r\n  &quot;enabled&quot; : false,\r\n  &quot;name&quot; : &quot;Custom Time&quot;,\r\n  &quot;config&quot; : [ {\r\n    &quot;property&quot; : &quot;Ticks: 19000&quot;\r\n  } ],\r\n  &quot;currentSettingsPage&quot; : 0\r\n}, ...\r\n```\r\nWhat I want is:\r\n```\r\n..., {\r\n  &quot;enabled&quot; : false,\r\n  &quot;name&quot; : &quot;ESP&quot;,\r\n  &quot;Players&quot;: true&quot;,\r\n  &quot;Mobs&quot;: &quot;false&quot;,\r\n  &quot;Hostiles&quot;: &quot;false&quot;,\r\n  &quot;currentSettingsPage&quot; : 0\r\n}, {\r\n  &quot;enabled&quot; : false,\r\n  &quot;name&quot; : &quot;Custom Time&quot;,\r\n  &quot;Ticks&quot;: &quot;19000&quot;,\r\n  &quot;currentSettingsPage&quot; : 0\r\n}, ...\r\n```\r\nMain problems:\r\n1) how to remove theese [] &lt;- from arraylist\r\n2) how to remove {} &lt;- from SettingAbstract class (because im saving only 1 property)\r\n3) and how to save key as setting name (various modules has various settings)","title":"Unwrap config settings during the serialisation","body":"<p>I try to make config manager for my app. I have some problems with <code>Jackson</code>. Here is my object mapper config:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val mapper = ObjectMapper()\n\nval jackson = mapper.setVisibility(\n        mapper.getSerializationConfig().getDefaultVisibilityChecker()\n            .withFieldVisibility(JsonAutoDetect.Visibility.NONE)\n            .withGetterVisibility(JsonAutoDetect.Visibility.NONE)\n            .withSetterVisibility(JsonAutoDetect.Visibility.NONE)\n            .withCreatorVisibility(JsonAutoDetect.Visibility.NONE)\n    )\n    .configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false)\n    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n    .enable(SerializationFeature.INDENT_OUTPUT)\n</code></pre>\n<p>and then we saving arraylist of modules.every module has</p>\n<pre><code>@JsonProperty(&quot;config&quot;)  public ArrayList&lt;SettingAbstract&gt; settings = new ArrayList&lt;SettingAbstract&gt;( );\n</code></pre>\n<p>SettingAbstract have name and value. i did this</p>\n<pre><code>@JsonProperty(&quot;property&quot;) public abstract String saveCfg();\n</code></pre>\n<p>and then this in SettingAbstract child classes</p>\n<pre><code>    @Override\n    public String saveCfg() {\n        return this.name + &quot;: &quot; + this.value;\n    }\n</code></pre>\n<p>The result <code>JSON</code> is:</p>\n<pre><code>..., {\n  &quot;enabled&quot; : false,\n  &quot;name&quot; : &quot;ESP&quot;,\n  &quot;config&quot; : [ {\n    &quot;property&quot; : &quot;Players: true&quot;\n  }, {\n    &quot;property&quot; : &quot;Mobs: false&quot;\n  }, {\n    &quot;property&quot; : &quot;Hostiles: false&quot;\n  } ],\n  &quot;currentSettingsPage&quot; : 0\n}, {\n  &quot;enabled&quot; : false,\n  &quot;name&quot; : &quot;Custom Time&quot;,\n  &quot;config&quot; : [ {\n    &quot;property&quot; : &quot;Ticks: 19000&quot;\n  } ],\n  &quot;currentSettingsPage&quot; : 0\n}, ...\n</code></pre>\n<p>What I want is:</p>\n<pre><code>..., {\n  &quot;enabled&quot; : false,\n  &quot;name&quot; : &quot;ESP&quot;,\n  &quot;Players&quot;: true&quot;,\n  &quot;Mobs&quot;: &quot;false&quot;,\n  &quot;Hostiles&quot;: &quot;false&quot;,\n  &quot;currentSettingsPage&quot; : 0\n}, {\n  &quot;enabled&quot; : false,\n  &quot;name&quot; : &quot;Custom Time&quot;,\n  &quot;Ticks&quot;: &quot;19000&quot;,\n  &quot;currentSettingsPage&quot; : 0\n}, ...\n</code></pre>\n<p>Main problems:</p>\n<ol>\n<li>how to remove theese [] &lt;- from arraylist</li>\n<li>how to remove {} &lt;- from SettingAbstract class (because im saving only 1 property)</li>\n<li>and how to save key as setting name (various modules has various settings)</li>\n</ol>\n"},{"tags":["java","spring","tomcat","servlets"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1596272429,"post_id":63203369,"comment_id":111763710,"body_markdown":"The `DispatcherServlet` is, as you said, _in_ the servlet container.","body":"The <code>DispatcherServlet</code> is, as you said, <i>in</i> the servlet container."}],"answers":[{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668773648,"creation_date":1596271745,"answer_id":63203405,"question_id":63203369,"body_markdown":"- *Dispatcher Servlet* is just a conventional name for the ordinary servlet. It&#39;s called &quot;dispatcher&quot; because it simply *dispatches* requests to the corresponding handler servlet objects. It is not Spring feature, rather, Spring uses it a lot for implementing its mechanisms.\r\n\r\n- *Servlet Container* is the Web Container, which simply contains სervlets and manages their lifecycle. There are several Servlet Container implementations and of those implementations is found in the Apache Tomcat.\r\n\r\n- *Tomcat* is not *kind of*, but it **has** a Servlet Container engine.\r\n\r\nDispatcher Servlet (like any other servlet) lives within the Servlet Container.","title":"What is sequence of servlet-container and dispatcher servlet for http request?","body":"<ul>\n<li><p><em>Dispatcher Servlet</em> is just a conventional name for the ordinary servlet. It's called &quot;dispatcher&quot; because it simply <em>dispatches</em> requests to the corresponding handler servlet objects. It is not Spring feature, rather, Spring uses it a lot for implementing its mechanisms.</p>\n</li>\n<li><p><em>Servlet Container</em> is the Web Container, which simply contains სervlets and manages their lifecycle. There are several Servlet Container implementations and of those implementations is found in the Apache Tomcat.</p>\n</li>\n<li><p><em>Tomcat</em> is not <em>kind of</em>, but it <strong>has</strong> a Servlet Container engine.</p>\n</li>\n</ul>\n<p>Dispatcher Servlet (like any other servlet) lives within the Servlet Container.</p>\n"}],"owner":{"account_id":12235701,"reputation":63,"user_id":8930194,"display_name":"ramason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":63203405,"answer_count":1,"score":2,"last_activity_date":1668773648,"creation_date":1596271418,"question_id":63203369,"body_markdown":"What is sequence of servlet-container and dispatcher servlet for http request?\r\nIs servlet container front of dispatcher servlet?\r\nSome posts explain Dispatcher servlet is in Servlet container. \r\nBut I know Tomcat is kind of servlet container and dispatcher-servlet is Spring&#39;s feature. So it&#39;s wired.","title":"What is sequence of servlet-container and dispatcher servlet for http request?","body":"<p>What is sequence of servlet-container and dispatcher servlet for http request?\nIs servlet container front of dispatcher servlet?\nSome posts explain Dispatcher servlet is in Servlet container.\nBut I know Tomcat is kind of servlet container and dispatcher-servlet is Spring's feature. So it's wired.</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668772303,"creation_date":1668772303,"answer_id":74489240,"question_id":74488294,"body_markdown":"`&#39;pst&#39; is not closed at this location LoginDAO.java` means that you have resources which is not closed, such as a database connection etc. You should close it after use, the code below:\r\n\r\n```java\r\nConnection con = DriverManager.getConnection(url:&quot;url&quot;, user:&quot;root&quot;, password:&quot;password&quot;);\r\ncon.close();\r\n```\r\n\r\nIt is more common to maintain a connection pool of database, such as [hikariCP](https://github.com/brettwooldridge/HikariCP)\r\n\r\n`The import com.sun.java.swing.plaf.windows.resources cannot be resolved` I think your code import duplicate package, you can check your code again. Hope the answer helps you!","title":"Java web project get HTTP Status 500 – Internal Server Error and The import com.sun.java.swing.plaf.windows.resources cannot be resolved","body":"<p><code>'pst' is not closed at this location LoginDAO.java</code> means that you have resources which is not closed, such as a database connection etc. You should close it after use, the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection con = DriverManager.getConnection(url:&quot;url&quot;, user:&quot;root&quot;, password:&quot;password&quot;);\ncon.close();\n</code></pre>\n<p>It is more common to maintain a connection pool of database, such as <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">hikariCP</a></p>\n<p><code>The import com.sun.java.swing.plaf.windows.resources cannot be resolved</code> I think your code import duplicate package, you can check your code again. Hope the answer helps you!</p>\n"}],"owner":{"account_id":25282392,"reputation":1,"user_id":19110048,"display_name":"u cult"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668773397,"creation_date":1668767544,"question_id":74488294,"body_markdown":"I can not run my java web project. I got `HTTP Status 500 – Internal Server Error` from the web and `The import com.sun.java.swing.plaf.windows.resources cannot be resolved` from the eclipse\r\n\r\nAfter I downloaded a web project from GitHub and made some configurations, the project can run successfully. But as soon as I try to connect the web to MySQL, that is the function of login. The web went wrong. And I got this\r\n\r\n````\r\nType Exception Report\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njava.lang.NullPointerException\r\ncom.ascent.dao.LoginDAO.login(LoginDAO.java:40)\r\ncom.ascent.servlet.LoginServlet.userLogin(LoginServlet.java:183)\r\ncom.ascent.servlet.LoginServlet.doGet(LoginServlet.java:39)\r\ncom.ascent.servlet.LoginServlet.doPost(LoginServlet.java:31)\r\njavax.servlet.http.HttpServlet.service(HttpServlet.java:682)\r\njavax.servlet.http.HttpServlet.service(HttpServlet.java:765)\r\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\ncom.ascent.util.ChangeCharsetFilter.doFilter(ChangeCharsetFilter.java:22)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n````\r\n\r\nAnd the eclipse has an error`````` `The import com.sun.java.swing.plaf.windows.resources cannot be resolved` ``````and plenty of warnings such as `````` &#39;pst&#39; is not closed at this location LoginDAO.java` ``````.\r\nThe code of the project seems correct because my friends can log in successfully.","title":"Java web project get HTTP Status 500 – Internal Server Error and The import com.sun.java.swing.plaf.windows.resources cannot be resolved","body":"<p>I can not run my java web project. I got <code>HTTP Status 500 – Internal Server Error</code> from the web and <code>The import com.sun.java.swing.plaf.windows.resources cannot be resolved</code> from the eclipse</p>\n<p>After I downloaded a web project from GitHub and made some configurations, the project can run successfully. But as soon as I try to connect the web to MySQL, that is the function of login. The web went wrong. And I got this</p>\n<pre><code>Type Exception Report\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njava.lang.NullPointerException\ncom.ascent.dao.LoginDAO.login(LoginDAO.java:40)\ncom.ascent.servlet.LoginServlet.userLogin(LoginServlet.java:183)\ncom.ascent.servlet.LoginServlet.doGet(LoginServlet.java:39)\ncom.ascent.servlet.LoginServlet.doPost(LoginServlet.java:31)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:682)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:765)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\ncom.ascent.util.ChangeCharsetFilter.doFilter(ChangeCharsetFilter.java:22)\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<p>And the eclipse has an error<code>`The import com.sun.java.swing.plaf.windows.resources cannot be resolved`</code>and plenty of warnings such as <code>'pst' is not closed at this location LoginDAO.java`</code>.\nThe code of the project seems correct because my friends can log in successfully.</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1668773331,"creation_date":1668773331,"answer_id":74489471,"question_id":74489307,"body_markdown":"conclusion: JUnit and Mockito can be used at same time, JUnit is used to do common test, and Mockito is used to [mock objects](https://devopedia.org/mock-testing#:~:text=Mock%20testing%20is%20an%20approach%20to%20unit%20testing,that%20simulate%20the%20behaviour%20of%20the%20real%20ones.).\r\n\r\nIn my view, JUnit is used more often, and Mockito is only used when I want to mock object, such as the object which is not finished yet. If you just want to test your Controller, Service and Repository, I recommend you to use JUnit. But if you need to mock some objects, you can use Mockito. \r\n\r\n&gt; For example, when you test `ServiceA`, which depends on `ServiceB`, and `ServiceB` is not finished yet, you can use `Mockito` to mock `ServiceB` just to satisfy your requirements to test `ServiceA`\r\n\r\nHope this answer helps you! you can go to [mockito](https://site.mockito.org/) and [JUnit5](https://junit.org/junit5/) to learn more about them.","title":"When and where to use JUnit, Mockito and Integration testing in Spring Boot Application?","body":"<p>conclusion: JUnit and Mockito can be used at same time, JUnit is used to do common test, and Mockito is used to <a href=\"https://devopedia.org/mock-testing#:%7E:text=Mock%20testing%20is%20an%20approach%20to%20unit%20testing,that%20simulate%20the%20behaviour%20of%20the%20real%20ones.\" rel=\"nofollow noreferrer\">mock objects</a>.</p>\n<p>In my view, JUnit is used more often, and Mockito is only used when I want to mock object, such as the object which is not finished yet. If you just want to test your Controller, Service and Repository, I recommend you to use JUnit. But if you need to mock some objects, you can use Mockito.</p>\n<blockquote>\n<p>For example, when you test <code>ServiceA</code>, which depends on <code>ServiceB</code>, and <code>ServiceB</code> is not finished yet, you can use <code>Mockito</code> to mock <code>ServiceB</code> just to satisfy your requirements to test <code>ServiceA</code></p>\n</blockquote>\n<p>Hope this answer helps you! you can go to <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">mockito</a> and <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">JUnit5</a> to learn more about them.</p>\n"}],"owner":{"account_id":6954204,"reputation":551,"user_id":5335804,"accept_rate":76,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74489471,"answer_count":1,"score":0,"last_activity_date":1668773331,"creation_date":1668772593,"question_id":74489307,"body_markdown":"I&#39;m very novice to Unit Testing, I have created a Spring Boot Application and now I want to do some testing what&#39;s confusing me is where to use what e.g. I have classes and interfaces Controllers, Service, Repository I know each will have it&#39;s own Test class, so what will I be using let&#39;s say in Controllers, JUnit or Mockito ? similar question for Service and Repository.","title":"When and where to use JUnit, Mockito and Integration testing in Spring Boot Application?","body":"<p>I'm very novice to Unit Testing, I have created a Spring Boot Application and now I want to do some testing what's confusing me is where to use what e.g. I have classes and interfaces Controllers, Service, Repository I know each will have it's own Test class, so what will I be using let's say in Controllers, JUnit or Mockito ? similar question for Service and Repository.</p>\n"},{"tags":["java","validation","debugging","localtime"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1668769413,"post_id":74488624,"comment_id":131492297,"body_markdown":"You need to set appropriate parenthesis if you want your condition to be evaluated as `(A || B) &amp;&amp; C`. Currently it gets evaluated as `A  || (B &amp;&amp; C)` because &amp;&amp; has a higher precedence than ||. Meaning as soon as the first condition is true everything is true and not even evaluated because of short-circuiting.","body":"You need to set appropriate parenthesis if you want your condition to be evaluated as <code>(A || B) &amp;&amp; C</code>. Currently it gets evaluated as <code>A  || (B &amp;&amp; C)</code> because &amp;&amp; has a higher precedence than ||. Meaning as soon as the first condition is true everything is true and not even evaluated because of short-circuiting."},{"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"score":0,"creation_date":1668772124,"post_id":74488624,"comment_id":131493115,"body_markdown":"Wow, how did I miss that, I close the bracket too soon. Thank you!","body":"Wow, how did I miss that, I close the bracket too soon. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668773322,"creation_date":1668773322,"answer_id":74489468,"question_id":74488624,"body_markdown":"Your function of\r\n\r\n```\r\n    public boolean isInRange(LocalTime time){\r\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\nIs checking whether \r\n\r\n&gt; `time` is after `roundedStartTime`\r\n&gt; \r\n&gt; or\r\n&gt; \r\n&gt; `time` `equals` `roundedStartTime`\r\n&gt; \r\n&gt; and\r\n&gt; \r\n&gt; `time` is before `roundedEndTime`\r\n\r\nLooking at the [Java operator precedence table][1] we can conclude that `&amp;&amp;` has a precedence of **4**, while `||` has a precedence of **3**. As a result, your condition is checking whether (time equals roundedStartTime and before roundedEndTime) or (time is after roundedStartTime).\r\n\r\nSo, when your `time` is after `roundedStartTime` and after `roundedEndTime`, that is, it&#39;s later than the whole range, the condition will still be evaluated to true, because the first operand of `||` evaluated to true. To fix it, you will need to wrap paranthesis around your `||`, so your logical expression will evaluate to\r\n\r\n(time &gt;= roundedStartTime) and (time &lt; roundedEndTime)\r\n\r\nFix:\r\n\r\n```\r\n    public boolean isInRange(LocalTime time){\r\n        return ((time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime())) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: https://www.cs.bilkent.edu.tr/~guvenir/courses/CS101/op_precedence.html","title":"Comparing LocalTime returns true, even tho debugger evaluates to false","body":"<p>Your function of</p>\n<pre><code>    public boolean isInRange(LocalTime time){\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n<p>Is checking whether</p>\n<blockquote>\n<p><code>time</code> is after <code>roundedStartTime</code></p>\n<p>or</p>\n<p><code>time</code> <code>equals</code> <code>roundedStartTime</code></p>\n<p>and</p>\n<p><code>time</code> is before <code>roundedEndTime</code></p>\n</blockquote>\n<p>Looking at the <a href=\"https://www.cs.bilkent.edu.tr/%7Eguvenir/courses/CS101/op_precedence.html\" rel=\"nofollow noreferrer\">Java operator precedence table</a> we can conclude that <code>&amp;&amp;</code> has a precedence of <strong>4</strong>, while <code>||</code> has a precedence of <strong>3</strong>. As a result, your condition is checking whether (time equals roundedStartTime and before roundedEndTime) or (time is after roundedStartTime).</p>\n<p>So, when your <code>time</code> is after <code>roundedStartTime</code> and after <code>roundedEndTime</code>, that is, it's later than the whole range, the condition will still be evaluated to true, because the first operand of <code>||</code> evaluated to true. To fix it, you will need to wrap paranthesis around your <code>||</code>, so your logical expression will evaluate to</p>\n<p>(time &gt;= roundedStartTime) and (time &lt; roundedEndTime)</p>\n<p>Fix:</p>\n<pre><code>    public boolean isInRange(LocalTime time){\n        return ((time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime())) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n"}],"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1669587916,"accepted_answer_id":74489468,"answer_count":1,"score":-1,"last_activity_date":1668773322,"creation_date":1668769115,"question_id":74488624,"body_markdown":"So, I am currently working on a function that checks if a given `LocalTime` is inside a range. All good, and the equivalent for `LocalDateTime` works without an issue.\r\n\r\nSo, my code right now looks like this:\r\n\r\n```java\r\n    public boolean isInRange(LocalTime time){\r\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\nIt has some specifics for my business logic, but thats not part of the issue. I also have accompanying junit tests, that check if the logic works as intended. Again, the `inRange(LocalDateTime time)` function works flawlessly.\r\n\r\nBut using my tests, _with the same time I use for the_ `LocalDateTime`_verification_, they fail, as they somehow return true. I&#39;ve started debugging, and can&#39;t quite believe my eyes, which explains the `true &amp;&amp; false`check:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PxjTj.png\r\n\r\nFor whatever reason, evaluating the two statements separately shows the expected behaviour, but combining them, returns true.","title":"Comparing LocalTime returns true, even tho debugger evaluates to false","body":"<p>So, I am currently working on a function that checks if a given <code>LocalTime</code> is inside a range. All good, and the equivalent for <code>LocalDateTime</code> works without an issue.</p>\n<p>So, my code right now looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public boolean isInRange(LocalTime time){\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n<p>It has some specifics for my business logic, but thats not part of the issue. I also have accompanying junit tests, that check if the logic works as intended. Again, the <code>inRange(LocalDateTime time)</code> function works flawlessly.</p>\n<p>But using my tests, <em>with the same time I use for the</em> <code>LocalDateTime</code><em>verification</em>, they fail, as they somehow return true. I've started debugging, and can't quite believe my eyes, which explains the <code>true &amp;&amp; false</code>check:</p>\n<p><a href=\"https://i.stack.imgur.com/PxjTj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PxjTj.png\" alt=\"enter image description here\" /></a></p>\n<p>For whatever reason, evaluating the two statements separately shows the expected behaviour, but combining them, returns true.</p>\n"},{"tags":["java","mp4","mp4parser"],"answers":[{"tags":[],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668772711,"creation_date":1668772711,"answer_id":74489337,"question_id":74487131,"body_markdown":"Ok, my fault.\r\nThere was an UUID tag I missed in the original footage between moov and mdat tags. Copying the UUID tag using \r\n\r\n    pro2.addBox(Path.getPath(isoFile, &quot;uuid[0]&quot;));\r\n\r\njust before adding the mdat atom does the trick.\r\n\r\nSorry for this :) ","title":"I get a non playable MP4 file when created with Mp4Parser Java API","body":"<p>Ok, my fault.\nThere was an UUID tag I missed in the original footage between moov and mdat tags. Copying the UUID tag using</p>\n<pre><code>pro2.addBox(Path.getPath(isoFile, &quot;uuid[0]&quot;));\n</code></pre>\n<p>just before adding the mdat atom does the trick.</p>\n<p>Sorry for this :)</p>\n"}],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668772711,"creation_date":1668761838,"question_id":74487131,"body_markdown":"I&#39;m studying Mp4Parser API ([Mp4Parser GitHub][1]) and try to learn how it&#39;s working. I first tried to create an MP4 by &quot;copying&quot; the highest level tags into a new file. \r\nIf I get a similar file, it&#39;s unfortunately not &quot;the same file&quot; and result can&#39;t be played.\r\n\r\nMy dirty (it&#39;s just a quick try) code is:\r\n\r\n    public void copy(String videoFilePath) throws IOException {\r\n    \t\tFile videoFile = new File(videoFilePath);\r\n    \t\tFile videoPro2 = new File(&quot;/tmp/output.mp4&quot;);\r\n\r\n    \t\tif (videoPro2.exists()) \r\n               videoPro2.delete();\r\n    \t\tvideoPro2.createNewFile();\r\n\r\n    \t\tFileOutputStream fos = new FileOutputStream(videoPro2);\r\n    \t\t\r\n    \t\tIsoFile isoFile = new IsoFile(new FileInputStream(videoFilePath).getChannel());\r\n    \t\tIsoFile pro2 = new IsoFile(new FileInputStream(videoPro2).getChannel());\r\n    \t\t\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;ftyp[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;free[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;moov[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;mdat[0]&quot;));\r\n    \t\tpro2.getBox(Channels.newChannel(baos));\r\n    \t\t \r\n    \t\tbaos.writeTo(fos);\r\n    \t\t\r\n    \t\tisoFile.close();\r\n    \t\tpro2.close();\r\n    \t\tbaos.close();\r\n    \t\t\r\n    \t\treturn;\r\n    \t}\r\n\r\nI tested my original MP4 with [AtomicParsley][2], saw there were in that order, a ftyp, a free, a moov and an mdat tags.\r\n\r\nMy method basically aims to get these four tags and puts them into the destination file to &quot;make an exact copy&quot;. Or that&#39;s what I was expecting, but it&#39;s not the case.\r\n\r\nFirstly, output.mp4 is not playable, but comparing the hex dumps of input and output... almost everything is different, except ftyp and free. Why?\r\n\r\nI can see that tag size are not similar neither.. \r\n\r\nObviously, my goal is not to &quot;copy&quot; files, but understand Mp4Parser API as I&#39;d like to use it in a real project. But this copy method is a starter for me to understand how this works, as I&#39;m not familiar with MP4 specification.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/sannies/mp4parser\r\n  [2]: https://github.com/wez/atomicparsley","title":"I get a non playable MP4 file when created with Mp4Parser Java API","body":"<p>I'm studying Mp4Parser API (<a href=\"https://github.com/sannies/mp4parser\" rel=\"nofollow noreferrer\">Mp4Parser GitHub</a>) and try to learn how it's working. I first tried to create an MP4 by &quot;copying&quot; the highest level tags into a new file.\nIf I get a similar file, it's unfortunately not &quot;the same file&quot; and result can't be played.</p>\n<p>My dirty (it's just a quick try) code is:</p>\n<pre><code>public void copy(String videoFilePath) throws IOException {\n        File videoFile = new File(videoFilePath);\n        File videoPro2 = new File(&quot;/tmp/output.mp4&quot;);\n\n        if (videoPro2.exists()) \n           videoPro2.delete();\n        videoPro2.createNewFile();\n\n        FileOutputStream fos = new FileOutputStream(videoPro2);\n        \n        IsoFile isoFile = new IsoFile(new FileInputStream(videoFilePath).getChannel());\n        IsoFile pro2 = new IsoFile(new FileInputStream(videoPro2).getChannel());\n        \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        \n        pro2.addBox(Path.getPath(isoFile, &quot;ftyp[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;free[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;moov[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;mdat[0]&quot;));\n        pro2.getBox(Channels.newChannel(baos));\n         \n        baos.writeTo(fos);\n        \n        isoFile.close();\n        pro2.close();\n        baos.close();\n        \n        return;\n    }\n</code></pre>\n<p>I tested my original MP4 with <a href=\"https://github.com/wez/atomicparsley\" rel=\"nofollow noreferrer\">AtomicParsley</a>, saw there were in that order, a ftyp, a free, a moov and an mdat tags.</p>\n<p>My method basically aims to get these four tags and puts them into the destination file to &quot;make an exact copy&quot;. Or that's what I was expecting, but it's not the case.</p>\n<p>Firstly, output.mp4 is not playable, but comparing the hex dumps of input and output... almost everything is different, except ftyp and free. Why?</p>\n<p>I can see that tag size are not similar neither..</p>\n<p>Obviously, my goal is not to &quot;copy&quot; files, but understand Mp4Parser API as I'd like to use it in a real project. But this copy method is a starter for me to understand how this works, as I'm not familiar with MP4 specification.</p>\n<p>Thanks</p>\n"},{"tags":["java","go","zip","unzip"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667460466,"post_id":74299267,"comment_id":131172912,"body_markdown":"Did you try to open the zip file with a 3rd party application to test whether writing or reading is the problem?","body":"Did you try to open the zip file with a 3rd party application to test whether writing or reading is the problem?"},{"owner":{"account_id":1320892,"reputation":41051,"user_id":1266756,"display_name":"Volker"},"score":3,"creation_date":1667464549,"post_id":74299267,"comment_id":131174101,"body_markdown":"In Go package compress/zlib is for reading zlib compressed data. Reading zipfiles is done via archive/zip. Always read the package doc of any package you use.","body":"In Go package compress/zlib is for reading zlib compressed data. Reading zipfiles is done via archive/zip. Always read the package doc of any package you use."},{"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"score":0,"creation_date":1667465253,"post_id":74299267,"comment_id":131174310,"body_markdown":"In golang I have used with two packages\n\ncompress/flate      and \ncompress/zlib\n\nwith zlib to unzip I am getting the error:- &quot;zlib: invalid header&quot;\nwith flate to unip I am getting the error:-  &quot;flate: corrupt input before offset 5&quot;","body":"In golang I have used with two packages  compress/flate      and  compress/zlib  with zlib to unzip I am getting the error:- &quot;zlib: invalid header&quot; with flate to unip I am getting the error:-  &quot;flate: corrupt input before offset 5&quot;"},{"owner":{"account_id":1320892,"reputation":41051,"user_id":1266756,"display_name":"Volker"},"score":1,"creation_date":1667467135,"post_id":74299267,"comment_id":131174911,"body_markdown":"Please listen closely: **Neither** compress/zlib **nor** compress/flate has **anything** to do with zipfiles. Really. Zipfiles are manipulated with a**rchive/zip** only.","body":"Please listen closely: <b>Neither</b> compress/zlib <b>nor</b> compress/flate has <b>anything</b> to do with zipfiles. Really. Zipfiles are manipulated with a<b>rchive/zip</b> only."},{"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"score":0,"creation_date":1667468202,"post_id":74299267,"comment_id":131175305,"body_markdown":"Kindly not the program above, using java we zip(compress) the string data and produces zipped value in form of byte array  and then again unzipping the same zipped record using golang then getting the error","body":"Kindly not the program above, using java we zip(compress) the string data and produces zipped value in form of byte array  and then again unzipping the same zipped record using golang then getting the error"},{"owner":{"account_id":1320892,"reputation":41051,"user_id":1266756,"display_name":"Volker"},"score":0,"creation_date":1667469423,"post_id":74299267,"comment_id":131175767,"body_markdown":"It doesn&#39;t matter at all how the zipfile was created in Java or how the Java libraries are named. You _must_ read zipfile with archive/zip in Go. EOD for me. Sorry.","body":"It doesn&#39;t matter at all how the zipfile was created in Java or how the Java libraries are named. You <i>must</i> read zipfile with archive/zip in Go. EOD for me. Sorry."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667460893,"creation_date":1667460893,"answer_id":74299421,"question_id":74299267,"body_markdown":"Java part looks good to me:\r\n\r\n```java\r\npublic static byte[] createZipForLicenses(String string) throws IOException {\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    ZipOutputStream zipOutputStream = new ZipOutputStream(out);\r\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\r\n\r\n    if (string != null &amp;&amp; string.length() &gt; 0) {\r\n        ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\r\n        zipOutputStream.putNextEntry(zipEntry);\r\n        zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\r\n        zipOutputStream.closeEntry();\r\n    }\r\n\r\n    zipOutputStream.close();\r\n\r\n    return out.toByteArray();\r\n}\r\n```\r\n\r\nAnd am able to read this `zip` with `WinZip`. And this is a zip info:\r\n\r\n```\r\n(PK0506) End of Central directory record\r\n========================================\r\n    - location:                                     116 (0x00000074) bytes\r\n    - size:                                         22 bytes\r\n    part number of this part (0000):                1\r\n    part number of start of central dir (0000):     1\r\n    number of entries in central dir in this part:  1\r\n    total number of entries in central dir:         1\r\n    size of central dir:                            50 (0x00000032) bytes\r\n    relative offset of central dir:                 66 (0x00000042) bytes\r\n    zipfile comment length:                         0 bytes\r\n\r\n(PK0102) Central directory\r\n==========================\r\n    - location:                                     66 (0x00000042) bytes\r\n    - size:                                         54 bytes\r\n    total entries:                                  1\r\n\r\n#1 (PK0102) [UTF-8] data\r\n------------------------\r\n    - location:                                     66 (0x00000042) bytes\r\n    - size:                                         50 bytes\r\n    part number of this part (0000):                1\r\n    relative offset of local header:                0 (0x00000000) bytes\r\n    version made by operating system (00):          MS-DOS, OS/2, NT FAT\r\n    version made by zip software (20):              2.0\r\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\r\n    unzip software version needed to extract (20):  2.0\r\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\r\n      file security status  (bit 0):                not encrypted\r\n      data descriptor       (bit 3):                yes\r\n      strong encryption     (bit 6):                no\r\n      UTF-8 names          (bit 11):                yes\r\n    compression method (08):                        deflated\r\n      compression sub-type (deflation):             normal\r\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\r\n    32-bit CRC value:                               0x373555E7\r\n    compressed size:                                16 bytes\r\n    uncompressed size:                              14 bytes\r\n    length of filename:                             4\r\n                                                    UTF-8\r\n    64 61 74 61                                     data\r\n    length of file comment:                         0 bytes\r\n    internal file attributes:                       0x0000\r\n      apparent file type:                           binary\r\n    external file attributes:                       0x00000000\r\n      WINDOWS   (0x00):                             none\r\n      POSIX (0x000000):                             ?---------\r\n\r\n(PK0304) ZIP entries\r\n====================\r\n    total entries:                                  1\r\n\r\n#1 (PK0304) [UTF-8] data\r\n------------------------\r\n    - location:                                     0 (0x00000000) bytes\r\n    - size:                                         34 bytes\r\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\r\n    unzip software version needed to extract (20):  2.0\r\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\r\n      file security status  (bit 0):                not encrypted\r\n      data descriptor       (bit 3):                yes\r\n      strong encryption     (bit 6):                no\r\n      UTF-8 names          (bit 11):                yes\r\n    compression method (08):                        deflated\r\n      compression sub-type (deflation):             normal\r\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\r\n    32-bit CRC value:                               0x00000000\r\n    compressed size:                                0 bytes\r\n    uncompressed size:                              0 bytes\r\n    length of filename:                             4\r\n                                                    UTF-8\r\n    64 61 74 61                                     data\r\n\r\n#1 (PK0708) Data descriptor\r\n---------------------------\r\n    - location:                                     50 (0x00000032) bytes\r\n    - size:                                         16 bytes\r\n    32-bit CRC value:                               0x373555E7\r\n    compressed size:                                16 bytes\r\n    uncompressed size:                              14 bytes\r\n```\r\n\r\nLooks like you unzip it with `Go` incorrectly.\r\n\r\n***P.S.** To avoid a lot of code when zip/unzip files in java, you can use [zip4jvm][1]*\r\n\r\n\r\n  [1]: https://github.com/oleg-cherednik/zip4jvm","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<p>Java part looks good to me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] createZipForLicenses(String string) throws IOException {\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    ZipOutputStream zipOutputStream = new ZipOutputStream(out);\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\n\n    if (string != null &amp;&amp; string.length() &gt; 0) {\n        ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\n        zipOutputStream.putNextEntry(zipEntry);\n        zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\n        zipOutputStream.closeEntry();\n    }\n\n    zipOutputStream.close();\n\n    return out.toByteArray();\n}\n</code></pre>\n<p>And am able to read this <code>zip</code> with <code>WinZip</code>. And this is a zip info:</p>\n<pre><code>(PK0506) End of Central directory record\n========================================\n    - location:                                     116 (0x00000074) bytes\n    - size:                                         22 bytes\n    part number of this part (0000):                1\n    part number of start of central dir (0000):     1\n    number of entries in central dir in this part:  1\n    total number of entries in central dir:         1\n    size of central dir:                            50 (0x00000032) bytes\n    relative offset of central dir:                 66 (0x00000042) bytes\n    zipfile comment length:                         0 bytes\n\n(PK0102) Central directory\n==========================\n    - location:                                     66 (0x00000042) bytes\n    - size:                                         54 bytes\n    total entries:                                  1\n\n#1 (PK0102) [UTF-8] data\n------------------------\n    - location:                                     66 (0x00000042) bytes\n    - size:                                         50 bytes\n    part number of this part (0000):                1\n    relative offset of local header:                0 (0x00000000) bytes\n    version made by operating system (00):          MS-DOS, OS/2, NT FAT\n    version made by zip software (20):              2.0\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\n    unzip software version needed to extract (20):  2.0\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\n      file security status  (bit 0):                not encrypted\n      data descriptor       (bit 3):                yes\n      strong encryption     (bit 6):                no\n      UTF-8 names          (bit 11):                yes\n    compression method (08):                        deflated\n      compression sub-type (deflation):             normal\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\n    32-bit CRC value:                               0x373555E7\n    compressed size:                                16 bytes\n    uncompressed size:                              14 bytes\n    length of filename:                             4\n                                                    UTF-8\n    64 61 74 61                                     data\n    length of file comment:                         0 bytes\n    internal file attributes:                       0x0000\n      apparent file type:                           binary\n    external file attributes:                       0x00000000\n      WINDOWS   (0x00):                             none\n      POSIX (0x000000):                             ?---------\n\n(PK0304) ZIP entries\n====================\n    total entries:                                  1\n\n#1 (PK0304) [UTF-8] data\n------------------------\n    - location:                                     0 (0x00000000) bytes\n    - size:                                         34 bytes\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\n    unzip software version needed to extract (20):  2.0\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\n      file security status  (bit 0):                not encrypted\n      data descriptor       (bit 3):                yes\n      strong encryption     (bit 6):                no\n      UTF-8 names          (bit 11):                yes\n    compression method (08):                        deflated\n      compression sub-type (deflation):             normal\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\n    32-bit CRC value:                               0x00000000\n    compressed size:                                0 bytes\n    uncompressed size:                              0 bytes\n    length of filename:                             4\n                                                    UTF-8\n    64 61 74 61                                     data\n\n#1 (PK0708) Data descriptor\n---------------------------\n    - location:                                     50 (0x00000032) bytes\n    - size:                                         16 bytes\n    32-bit CRC value:                               0x373555E7\n    compressed size:                                16 bytes\n    uncompressed size:                              14 bytes\n</code></pre>\n<p>Looks like you unzip it with <code>Go</code> incorrectly.</p>\n<p><em><strong>P.S.</strong> To avoid a lot of code when zip/unzip files in java, you can use <a href=\"https://github.com/oleg-cherednik/zip4jvm\" rel=\"nofollow noreferrer\">zip4jvm</a></em></p>\n"},{"tags":[],"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668772659,"creation_date":1668772659,"answer_id":74489327,"question_id":74299267,"body_markdown":"    func Unzip(data []byte) (string, error) {\r\n\tzipReader, err := zip.NewReader(bytes.NewReader(data), int64(len(data)))\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tif len(zipReader.File) == 0 {\r\n\t\treturn &quot;&quot;, nil // No file to open / extract\r\n\t}\r\n\tf, err := zipReader.File[0].Open()\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tp, err := ioutil.ReadAll(f)\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\treturn string(p), nil\r\n\r\n} ","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<pre><code>func Unzip(data []byte) (string, error) {\nzipReader, err := zip.NewReader(bytes.NewReader(data), int64(len(data)))\nif err != nil {\n    panic(err)\n}\nif len(zipReader.File) == 0 {\n    return &quot;&quot;, nil // No file to open / extract\n}\nf, err := zipReader.File[0].Open()\nif err != nil {\n    panic(err)\n}\np, err := ioutil.ReadAll(f)\nif err != nil {\n    return &quot;&quot;, err\n}\nreturn string(p), nil\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1668772659,"creation_date":1667459963,"question_id":74299267,"body_markdown":"I am having two application one written in java where required to zip string of data and other in golang and required to unzip the record zipped by first application \r\n\r\n**Java program to Creating Zipped of string data**\r\n\r\n\tpublic static byte[] createZipForLicenses(String string) throws UnsupportedEncodingException {\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\t\tZipOutputStream zipOutputStream = new ZipOutputStream(outputStream);\r\n\t\tzipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\r\n\r\n\t\ttry {\r\n\r\n\t\t\tif (string != null &amp;&amp; string.length() &gt; 0) {\r\n\t\t\t\tZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\r\n\t\t\t\tzipOutputStream.putNextEntry(zipEntry);\r\n\t\t\t\tzipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\tzipOutputStream.closeEntry();\r\n\t\t\t}\r\n\r\n\t\t\tzipOutputStream.close();\r\n\r\n\t\t} catch (IOException e) {\r\n\r\n\t\t}\r\n\t\treturn outputStream.toByteArray();\r\n\t}\r\n\r\n**Golang program to unzip the string data** \r\n\r\nfunc Unzip(data []byte) (string, error) {\r\n\t\r\n    rdata := bytes.NewReader(data)\r\n\tr, err := zlib.NewReader(rdata) //**Error**-&gt; &quot;zlib: invalid header\t\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\ts, err := io.ReadAll(r)\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\treturn string(s), nil\r\n}\r\n\r\n\r\n\r\nI tried using compress/flate lib also but with this getting error &quot;flate: corrupt input before offset 5&quot;\r\n\r\n","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<p>I am having two application one written in java where required to zip string of data and other in golang and required to unzip the record zipped by first application</p>\n<p><strong>Java program to Creating Zipped of string data</strong></p>\n<pre><code>public static byte[] createZipForLicenses(String string) throws UnsupportedEncodingException {\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    ZipOutputStream zipOutputStream = new ZipOutputStream(outputStream);\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\n\n    try {\n\n        if (string != null &amp;&amp; string.length() &gt; 0) {\n            ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\n            zipOutputStream.putNextEntry(zipEntry);\n            zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\n            zipOutputStream.closeEntry();\n        }\n\n        zipOutputStream.close();\n\n    } catch (IOException e) {\n\n    }\n    return outputStream.toByteArray();\n}\n</code></pre>\n<p><strong>Golang program to unzip the string data</strong></p>\n<p>func Unzip(data []byte) (string, error) {</p>\n<pre><code>rdata := bytes.NewReader(data)\nr, err := zlib.NewReader(rdata) //**Error**-&gt; &quot;zlib: invalid header \nif err != nil {\n    return &quot;&quot;, err\n}\ns, err := io.ReadAll(r)\nif err != nil {\n    return &quot;&quot;, err\n}\nreturn string(s), nil\n</code></pre>\n<p>}</p>\n<p>I tried using compress/flate lib also but with this getting error &quot;flate: corrupt input before offset 5&quot;</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668772209,"creation_date":1668772209,"answer_id":74489225,"question_id":74488222,"body_markdown":"The timeout value from the `BulkOptions` parameter has nothing to do with the network layer, it is sent as a parameter in the query to Elasticsearch, see https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params.\r\n\r\nSpring Data Elasticsearch does not support changing the network timeout settings per request or request type.","title":"Modify the socket timeout for elasticsearch bulk requests only","body":"<p>The timeout value from the <code>BulkOptions</code> parameter has nothing to do with the network layer, it is sent as a parameter in the query to Elasticsearch, see <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params</a>.</p>\n<p>Spring Data Elasticsearch does not support changing the network timeout settings per request or request type.</p>\n"}],"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668772209,"creation_date":1668767137,"question_id":74488222,"body_markdown":"Greetings stackoverflowers! I&#39;m currently bumping into an issue with our elasticsearch re-index functionality. I&#39;m using `spring-data-elasticsearch` 7.10.0 and I created an elastic template class to do my bulk indexing using Java. Basically I create a list of index queries and I try to index the given elasticsearch index using the provided method below from elasticsearch:\r\n\r\n```java\r\n@Override\r\n\tpublic final List&lt;IndexedObjectInformation&gt; bulkIndex(List&lt;IndexQuery&gt; queries, BulkOptions bulkOptions,\r\n\t\t\tIndexCoordinates index) {\r\n\r\n\t\tAssert.notNull(queries, &quot;List of IndexQuery must not be null&quot;);\r\n\t\tAssert.notNull(bulkOptions, &quot;BulkOptions must not be null&quot;);\r\n\r\n\t\treturn bulkOperation(queries, bulkOptions, index);\r\n\t}\r\n```\r\n\r\nHow ever, when I try to import and index large batches of data (stream of around 10GB data). I get the following error:\r\n\r\n```\r\nError while processing event: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]; nested exception is java.lang.RuntimeException: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]\r\n```\r\n\r\n**Properties:**\r\n\r\nI do the batching 200 index queries per bulk request without concurence.\r\n\r\n```yml\r\nspring:\r\n  data:\r\n    elasticsearch:\r\n      max-connection-idle-time: 15000 # 15 seconds\r\n      read-timeout: 7000 # 7 seconds\r\n      socket-timeout: 60000 # 60 seconds\r\n      connection-timeout: 4000 # 4 seconds\r\n```\r\n\r\nAs you can see my socket timeout is 60 seconds (it shows it in the error as well). This configuration works most of the time but rarely I get the socket timeout exception. Bumping the socket-timeout fixes the issue but I wanted to know if there is a way to bump it only for the bulk indexing requests and not all of them including read requests?\r\n\r\n\r\n**What I tried:** \r\n\r\nI tried modifying the passed `BulkOptions` by setting the timeout to 20 minutes. After I tried to reindex a large file I got the same socket-timout exception showing 60 seconds. Is there a way to apply different socket-timeout to bulk index queries only? Thanks in advance!","title":"Modify the socket timeout for elasticsearch bulk requests only","body":"<p>Greetings stackoverflowers! I'm currently bumping into an issue with our elasticsearch re-index functionality. I'm using <code>spring-data-elasticsearch</code> 7.10.0 and I created an elastic template class to do my bulk indexing using Java. Basically I create a list of index queries and I try to index the given elasticsearch index using the provided method below from elasticsearch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public final List&lt;IndexedObjectInformation&gt; bulkIndex(List&lt;IndexQuery&gt; queries, BulkOptions bulkOptions,\n            IndexCoordinates index) {\n\n        Assert.notNull(queries, &quot;List of IndexQuery must not be null&quot;);\n        Assert.notNull(bulkOptions, &quot;BulkOptions must not be null&quot;);\n\n        return bulkOperation(queries, bulkOptions, index);\n    }\n</code></pre>\n<p>How ever, when I try to import and index large batches of data (stream of around 10GB data). I get the following error:</p>\n<pre><code>Error while processing event: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]; nested exception is java.lang.RuntimeException: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]\n</code></pre>\n<p><strong>Properties:</strong></p>\n<p>I do the batching 200 index queries per bulk request without concurence.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  data:\n    elasticsearch:\n      max-connection-idle-time: 15000 # 15 seconds\n      read-timeout: 7000 # 7 seconds\n      socket-timeout: 60000 # 60 seconds\n      connection-timeout: 4000 # 4 seconds\n</code></pre>\n<p>As you can see my socket timeout is 60 seconds (it shows it in the error as well). This configuration works most of the time but rarely I get the socket timeout exception. Bumping the socket-timeout fixes the issue but I wanted to know if there is a way to bump it only for the bulk indexing requests and not all of them including read requests?</p>\n<p><strong>What I tried:</strong></p>\n<p>I tried modifying the passed <code>BulkOptions</code> by setting the timeout to 20 minutes. After I tried to reindex a large file I got the same socket-timout exception showing 60 seconds. Is there a way to apply different socket-timeout to bulk index queries only? Thanks in advance!</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668769480,"creation_date":1668769480,"answer_id":74488695,"question_id":74488560,"body_markdown":"I&#39;ve checked out the source code of maven&#39;s archetype plugin (`generate` mojo to be precise): \r\n\r\nThey just inject the boolean value into the mojo:\r\n\r\n```java\r\n  /**\r\n     * User settings used to check the interactiveMode.\r\n     */\r\n    @Parameter( property = &quot;interactiveMode&quot;, defaultValue = &quot;${settings.interactiveMode}&quot;, required = true )\r\n    private Boolean interactiveMode;\r\n```\r\n\r\n\r\nTake a look [here][1] and pay attention to how do they use it in the source code:\r\n\r\n```java\r\n  if ( interactiveMode.booleanValue() )\r\n  {\r\n        getLog().info( &quot;Generating project in Interactive mode&quot; );\r\n  }\r\n  else\r\n  {\r\n        getLog().info( &quot;Generating project in Batch mode&quot; );\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/maven-archetype/blob/maven-archetype-3.2.1/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>I've checked out the source code of maven's archetype plugin (<code>generate</code> mojo to be precise):</p>\n<p>They just inject the boolean value into the mojo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  /**\n     * User settings used to check the interactiveMode.\n     */\n    @Parameter( property = &quot;interactiveMode&quot;, defaultValue = &quot;${settings.interactiveMode}&quot;, required = true )\n    private Boolean interactiveMode;\n</code></pre>\n<p>Take a look <a href=\"https://github.com/apache/maven-archetype/blob/maven-archetype-3.2.1/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\" rel=\"nofollow noreferrer\">here</a> and pay attention to how do they use it in the source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  if ( interactiveMode.booleanValue() )\n  {\n        getLog().info( &quot;Generating project in Interactive mode&quot; );\n  }\n  else\n  {\n        getLog().info( &quot;Generating project in Batch mode&quot; );\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668771840,"creation_date":1668771840,"answer_id":74489156,"question_id":74488560,"body_markdown":"The simplest way would be to put this:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n      @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\r\n      private MavenSession session;\r\n\r\nIf you have defined that in your mojo definition you can within your execute method going like this:\r\n\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n      if (session.getRequest().isInteractiveMode()) {\r\n        //..\r\n      } else {\r\n        //..\r\n      }\r\n\r\nThis will give you the information about using --batch-mode.\r\n\r\n\r\n","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>The simplest way would be to put this:</p>\n<pre><code>  @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\n  private MavenSession session;\n</code></pre>\n<p>If you have defined that in your mojo definition you can within your execute method going like this:</p>\n<pre><code>  if (session.getRequest().isInteractiveMode()) {\n    //..\n  } else {\n    //..\n  }\n</code></pre>\n<p>This will give you the information about using --batch-mode.</p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74489156,"answer_count":2,"score":0,"last_activity_date":1668771840,"creation_date":1668768751,"question_id":74488560,"body_markdown":"When I write a Mojo, how can I determine whether I am currently in Batch Mode (i.e. the `-B` parameter was given on command line)?","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>When I write a Mojo, how can I determine whether I am currently in Batch Mode (i.e. the <code>-B</code> parameter was given on command line)?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":15168525,"reputation":215,"user_id":10945348,"display_name":"Sibtain Raza"},"score":0,"creation_date":1668757689,"post_id":74480693,"comment_id":131488463,"body_markdown":"You can use the cloud function and do this but you have to make it secure in some manner as the request to the cloud function should be validate is it called by any authorize resource or not.","body":"You can use the cloud function and do this but you have to make it secure in some manner as the request to the cloud function should be validate is it called by any authorize resource or not."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668760638,"post_id":74480693,"comment_id":131489290,"body_markdown":"What do you mean by &quot;make only api calls using the app&quot;? Please respond using @AlexMamo","body":"What do you mean by &quot;make only api calls using the app&quot;? Please respond using @AlexMamo"},{"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"score":0,"creation_date":1668768827,"post_id":74480693,"comment_id":131492102,"body_markdown":"@AlexMamo what I mean is I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list.","body":"@AlexMamo what I mean is I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list."},{"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"score":0,"creation_date":1668768888,"post_id":74480693,"comment_id":131492122,"body_markdown":"@SibtainRaza ok noted","body":"@SibtainRaza ok noted"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668771728,"creation_date":1668770841,"answer_id":74488977,"question_id":74480693,"body_markdown":"&gt;  I mean I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list.\r\n\r\nIn that case, you should map the QuerySnapshot object directly into a List of custom objects. Assuming that you have a class that is similar to this one:\r\n\r\n```\r\npublic class User {\r\n    public String uid;\r\n    public String name;\r\n    public String email;\r\n\r\n    public User() {}\r\n\r\n    User(String uid, String name, String email) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.email = email;\r\n    }\r\n}\r\n```\r\n\r\nTo remove the for loop and get directly get the list, please use the following lines of code:\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    fi.onFollowingRetrieved(queryDocumentSnapshots.toObjects(User.class));\r\n}\r\n```\r\n\r\nSee, I have used [QuerySnapshot#&lt;T&gt; toObjects(@NonNull Class&lt;T&gt; clazz)][1] which:\r\n\r\n&gt; Returns the contents of the documents in the QuerySnapshot, converted to the provided class, as a list.\r\n\r\nBe also aware that the more documents your query returns, the longer the reading time will be. There&#39;s no hack for that, other than [limiting the results][2].\r\n\r\nIf you only want the document IDs, then assuming that the document ID is represented by the UID, then you should simply use the following code:\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    List&lt;User&gt; users = queryDocumentSnapshots.toObjects(User.class);\r\n    List&lt;String&gt; usersf = users.stream().map(user -&gt; user.uid).toList()\r\n    fi.onFollowingRetrieved(usersf);\r\n}\r\n```\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QuerySnapshot#toObjects(java.lang.Class%3CT%3E)\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/order-limit-data","title":"cloud firestore using server","body":"<blockquote>\n<p>I mean I don't want to run the loop in my app but on the server and want the server to just send me the list.</p>\n</blockquote>\n<p>In that case, you should map the QuerySnapshot object directly into a List of custom objects. Assuming that you have a class that is similar to this one:</p>\n<pre><code>public class User {\n    public String uid;\n    public String name;\n    public String email;\n\n    public User() {}\n\n    User(String uid, String name, String email) {\n        this.uid = uid;\n        this.name = name;\n        this.email = email;\n    }\n}\n</code></pre>\n<p>To remove the for loop and get directly get the list, please use the following lines of code:</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    fi.onFollowingRetrieved(queryDocumentSnapshots.toObjects(User.class));\n}\n</code></pre>\n<p>See, I have used <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QuerySnapshot#toObjects(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">QuerySnapshot# toObjects(@NonNull Class clazz)</a> which:</p>\n<blockquote>\n<p>Returns the contents of the documents in the QuerySnapshot, converted to the provided class, as a list.</p>\n</blockquote>\n<p>Be also aware that the more documents your query returns, the longer the reading time will be. There's no hack for that, other than <a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data\" rel=\"nofollow noreferrer\">limiting the results</a>.</p>\n<p>If you only want the document IDs, then assuming that the document ID is represented by the UID, then you should simply use the following code:</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    List&lt;User&gt; users = queryDocumentSnapshots.toObjects(User.class);\n    List&lt;String&gt; usersf = users.stream().map(user -&gt; user.uid).toList()\n    fi.onFollowingRetrieved(usersf);\n}\n</code></pre>\n"}],"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668771728,"creation_date":1668711242,"question_id":74480693,"body_markdown":"I am using Cloud Firestore as my database for an android project.\r\nI am writing all the crud operations in the app which makes it very slow and the code is large. I want to shift all the code to the server and make only API calls using the app.\r\n\r\n\r\n\r\nfor example,\r\n\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    List&lt;String&gt; usersf = new ArrayList&lt;&gt;();\r\n\r\n    for (DocumentSnapshot doc : queryDocumentSnapshots) {\r\n        usersf.add(doc.getId());\r\n\r\n    }\r\n\r\n    fi.onFollowingRetrieved(usersf);\r\n}\r\n```\r\n\r\nhere I write this code in my app, which get me a list of user id.\r\nI want to write an api in my application which fetches this list from server and do not do the work itself.\r\n\r\nhow do I implement this?","title":"cloud firestore using server","body":"<p>I am using Cloud Firestore as my database for an android project.\nI am writing all the crud operations in the app which makes it very slow and the code is large. I want to shift all the code to the server and make only API calls using the app.</p>\n<p>for example,</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    List&lt;String&gt; usersf = new ArrayList&lt;&gt;();\n\n    for (DocumentSnapshot doc : queryDocumentSnapshots) {\n        usersf.add(doc.getId());\n\n    }\n\n    fi.onFollowingRetrieved(usersf);\n}\n</code></pre>\n<p>here I write this code in my app, which get me a list of user id.\nI want to write an api in my application which fetches this list from server and do not do the work itself.</p>\n<p>how do I implement this?</p>\n"},{"tags":["java","list","algorithm","sorting"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1628752577,"post_id":68752292,"comment_id":121506127,"body_markdown":"Above, generating subsets in the desired order would seem better than ordering after the fact.","body":"Above, generating subsets in the desired order would seem better than ordering after the fact."}],"answers":[{"tags":[],"owner":{"account_id":22319025,"reputation":1,"user_id":16541918,"display_name":"Gaurang Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647405787,"creation_date":1647405730,"answer_id":71491889,"question_id":68752292,"body_markdown":"You can use this method\r\n\r\n    Collections.sort(result, (o1, o2) -&gt; {\r\n      int n = Math.min(o1.size(), o2.size());\r\n      for(int i=0;i&lt;n;i++){\r\n         if(o1.get(i)==o2.get(i)) continue;\r\n         else return o1.get(i) - o2.get(i);\r\n      }\r\n      return 1;\r\n    })\r\n","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>You can use this method</p>\n<pre><code>Collections.sort(result, (o1, o2) -&gt; {\n  int n = Math.min(o1.size(), o2.size());\n  for(int i=0;i&lt;n;i++){\n     if(o1.get(i)==o2.get(i)) continue;\n     else return o1.get(i) - o2.get(i);\n  }\n  return 1;\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481175,"reputation":3095,"user_id":2160616,"accept_rate":67,"display_name":"BeingSuman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668771586,"creation_date":1668771586,"answer_id":74489109,"question_id":68752292,"body_markdown":"This should help\r\n\r\n    Collections.sort(this.res, (o1, o2) -&gt; {\r\n            int n = Math.min(o1.size(), o2.size());\r\n            for(int i=0;i&lt;n;i++){\r\n                if(!Objects.equals(o1.get(i), o2.get(i))) return o1.get(i) - o2.get(i);\r\n            }\r\n\r\n            return o1.size() - o2.size();\r\n        });","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>This should help</p>\n<pre><code>Collections.sort(this.res, (o1, o2) -&gt; {\n        int n = Math.min(o1.size(), o2.size());\n        for(int i=0;i&lt;n;i++){\n            if(!Objects.equals(o1.get(i), o2.get(i))) return o1.get(i) - o2.get(i);\n        }\n\n        return o1.size() - o2.size();\n    });\n</code></pre>\n"}],"owner":{"account_id":22427892,"reputation":11,"user_id":16634205,"display_name":"Rohit Maheshwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668771586,"creation_date":1628747770,"question_id":68752292,"body_markdown":" I am having an arraylist of arraylist of subsets of number.\r\nAccording to my code the output is correct but the output is not in lexicographical order.\r\nCan anyone tell me how to sort a arraylist of arraylist in lexicographical order?\r\n\r\nHere is my code for finding subsets of a number.\r\n\r\n     public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets(ArrayList&lt;Integer&gt; A)\r\n        {\r\n            //code here\r\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; output=new ArrayList&lt;&gt;();\r\n            Solve(A,output,result,0);\r\n            // Collections.sort(result);\r\n            return result;\r\n        }\r\n        public static void Solve(ArrayList&lt;Integer&gt; input,ArrayList&lt;Integer&gt; output,ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result,int start){\r\n            if(start==input.size()){\r\n                result.add(new ArrayList&lt;Integer&gt;(output));\r\n                return;\r\n            }\r\n            output.add(input.get(start));\r\n            Solve(input,output,result,start+1);\r\n            output.remove(output.size()-1);\r\n            Solve(input,output,result,start+1);\r\n           \r\n            \r\n        }\r\n\r\n**THE EXPECTED OUTPUT IS**\r\n\r\nINPUT-\r\n\r\n    size=3\r\n    1 2 3\r\n\r\nOUTPUT - \r\n\r\n    1 ,\r\n    1 2 , \r\n    1 2 3 , \r\n    1 3 , \r\n    2 , \r\n    2 3 , \r\n    3 ,\r\n\r\n**but my output is same but not in order**\r\n\r\nOUTPUT-\r\n\r\n    1 2 3 , \r\n    1 2  , \r\n    1 3  , \r\n    1  , \r\n    2 3  , \r\n    2  , \r\n    3 ,\r\n\r\n","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>I am having an arraylist of arraylist of subsets of number.\nAccording to my code the output is correct but the output is not in lexicographical order.\nCan anyone tell me how to sort a arraylist of arraylist in lexicographical order?</p>\n<p>Here is my code for finding subsets of a number.</p>\n<pre><code> public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets(ArrayList&lt;Integer&gt; A)\n    {\n        //code here\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; output=new ArrayList&lt;&gt;();\n        Solve(A,output,result,0);\n        // Collections.sort(result);\n        return result;\n    }\n    public static void Solve(ArrayList&lt;Integer&gt; input,ArrayList&lt;Integer&gt; output,ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result,int start){\n        if(start==input.size()){\n            result.add(new ArrayList&lt;Integer&gt;(output));\n            return;\n        }\n        output.add(input.get(start));\n        Solve(input,output,result,start+1);\n        output.remove(output.size()-1);\n        Solve(input,output,result,start+1);\n       \n        \n    }\n</code></pre>\n<p><strong>THE EXPECTED OUTPUT IS</strong></p>\n<p>INPUT-</p>\n<pre><code>size=3\n1 2 3\n</code></pre>\n<p>OUTPUT -</p>\n<pre><code>1 ,\n1 2 , \n1 2 3 , \n1 3 , \n2 , \n2 3 , \n3 ,\n</code></pre>\n<p><strong>but my output is same but not in order</strong></p>\n<p>OUTPUT-</p>\n<pre><code>1 2 3 , \n1 2  , \n1 3  , \n1  , \n2 3  , \n2  , \n3 ,\n</code></pre>\n"},{"tags":["java","rabbitmq","connection","mqtt","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1668518807,"post_id":74445016,"comment_id":131420532,"body_markdown":"You probably want to include details of how you have configured RabbitMQ in the question","body":"You probably want to include details of how you have configured RabbitMQ in the question"}],"answers":[{"tags":[],"owner":{"account_id":73548,"reputation":702,"user_id":211716,"accept_rate":71,"display_name":"Peter Giacomo Lombardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668771347,"creation_date":1668771347,"answer_id":74489065,"question_id":74445016,"body_markdown":"`0000.0000.0000.0000` is not a valid IPv6 address.\r\n\r\nDid you mean `tcp://0.0.0.0:1883`?  This is a way to say, connect to any local IP address on port 1883.\r\n\r\nReplace `tcp://0000.0000.0000.0000:1883` with a valid address where the RabbitMQ broker is listening.\r\n\r\nThere is an [IPv6 address validator here][1] to check.\r\n\r\n\r\n  [1]: https://www.linkwebbie.com/apps/index/ipv6-validator/","title":"RabbitMQ as mqtt broker","body":"<p><code>0000.0000.0000.0000</code> is not a valid IPv6 address.</p>\n<p>Did you mean <code>tcp://0.0.0.0:1883</code>?  This is a way to say, connect to any local IP address on port 1883.</p>\n<p>Replace <code>tcp://0000.0000.0000.0000:1883</code> with a valid address where the RabbitMQ broker is listening.</p>\n<p>There is an <a href=\"https://www.linkwebbie.com/apps/index/ipv6-validator/\" rel=\"nofollow noreferrer\">IPv6 address validator here</a> to check.</p>\n"}],"owner":{"account_id":26897145,"reputation":21,"user_id":20474870,"display_name":"Dona Dominic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668771347,"creation_date":1668512425,"question_id":74445016,"body_markdown":"I am trying to connect eclipse paho java client to rabbitmq-mqtt broker. For that I created one user mqtt-publisher-client but when I am trying to connect it is showing an error that &quot;Broker unavailable (3)&quot;.\r\n\r\n\r\n```\r\nMqttClient client=new MqttClient(&quot;tcp://0000.0000.0000.0000:1883&quot;,&quot;mqtt-publisher-client123&quot;,new MemoryPersistence());\r\nMqttConnectOptions options = new MqttConnectOptions();\r\noptions.setCleanSession(false);\r\noptions.setUserName(&quot;mqtt-publisher-client&quot;);\r\noptions.setPassword(&quot;publisher&quot;.toCharArray());\r\nclient.connect(options);\r\n```\r\n\r\n\r\nI want to Connect with mqtt-broker and publish messages. But it is not connecting. Rabbitmq is on linux and I am writing code in windows.","title":"RabbitMQ as mqtt broker","body":"<p>I am trying to connect eclipse paho java client to rabbitmq-mqtt broker. For that I created one user mqtt-publisher-client but when I am trying to connect it is showing an error that &quot;Broker unavailable (3)&quot;.</p>\n<pre><code>MqttClient client=new MqttClient(&quot;tcp://0000.0000.0000.0000:1883&quot;,&quot;mqtt-publisher-client123&quot;,new MemoryPersistence());\nMqttConnectOptions options = new MqttConnectOptions();\noptions.setCleanSession(false);\noptions.setUserName(&quot;mqtt-publisher-client&quot;);\noptions.setPassword(&quot;publisher&quot;.toCharArray());\nclient.connect(options);\n</code></pre>\n<p>I want to Connect with mqtt-broker and publish messages. But it is not connecting. Rabbitmq is on linux and I am writing code in windows.</p>\n"},{"tags":["java","mongodb","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668770586,"creation_date":1668770586,"answer_id":74488930,"question_id":74486530,"body_markdown":"I think you need to wrap, the parameters `[&#39;$status&#39;, ?1 ]`, in square brackets as well, like this `[&#39;$status&#39;, [?1] ]`. So, the whole query becomes:\r\n\r\n    @Aggregation(pipeline = {\r\n          &quot;{$match:{&#39;job_monitor_id&#39;: {$in : ?0}}}&quot;,\r\n          &quot;{&#39;$group&#39;:{_id: &#39;$job_monitor_id&#39;,&quot; +\r\n                &quot;success: {$sum : {$cond :  [{$in :  [&#39;$status&#39;, [?1] ]}, 1, 0]}},&quot; +\r\n                &quot;fail:  {$sum : {$cond :  [{$in :  [&#39;$status&#39;,  [?2] ]}, 1, 0]}},}}&quot;\r\n    })\r\n    List&lt;JSONObject&gt; sumRecordEvent(List&lt;String&gt; events, List&lt;String&gt; statusSuccess, List&lt;String&gt; statusFail);","title":"Convert query aggregate mongodb to java @Aggregation","body":"<p>I think you need to wrap, the parameters <code>['$status', ?1 ]</code>, in square brackets as well, like this <code>['$status', [?1] ]</code>. So, the whole query becomes:</p>\n<pre><code>@Aggregation(pipeline = {\n      &quot;{$match:{'job_monitor_id': {$in : ?0}}}&quot;,\n      &quot;{'$group':{_id: '$job_monitor_id',&quot; +\n            &quot;success: {$sum : {$cond :  [{$in :  ['$status', [?1] ]}, 1, 0]}},&quot; +\n            &quot;fail:  {$sum : {$cond :  [{$in :  ['$status',  [?2] ]}, 1, 0]}},}}&quot;\n})\nList&lt;JSONObject&gt; sumRecordEvent(List&lt;String&gt; events, List&lt;String&gt; statusSuccess, List&lt;String&gt; statusFail);\n</code></pre>\n"}],"owner":{"account_id":26135982,"reputation":94,"user_id":19825967,"display_name":"hungtv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668770586,"creation_date":1668758294,"question_id":74486530,"body_markdown":"I have a query in studio3T:\r\n```\r\ndb.getCollection(&quot;event_management&quot;).aggregate([\r\n{$match: {&quot;job_monitor_id&quot;: { $in: [&quot;6375e5b4268c0b5d83db13a5&quot;] }}},\r\n{\r\n    $group: {\r\n        _id: &quot;$job_monitor_id&quot;,\r\n        success: { $sum: { $cond: [{\r\n             $in: [&quot;$status&quot;, [&quot;SUCCESS&quot;, &quot;PROCESS&quot;, &quot;FAILED_BY_EXECUTING&quot;, &quot;EXPIRED&quot;]] \r\n             }, 1, 0] } },\r\n        fail: { $sum: { $cond: [{ $in: [&quot;$status&quot;, [&quot;FAILED_BY_SENDING&quot;]] }, 1, 0] } },\r\n    }\r\n}\r\n])\r\n```\r\nI tried to convert to java hibernate:\r\n\r\n```\r\n@Aggregation(pipeline = {\r\n      &quot;{$match:{&#39;job_monitor_id&#39;: {$in : ?0}}}&quot;,\r\n      &quot;{&#39;$group&#39;:{_id: &#39;$job_monitor_id&#39;,&quot; +\r\n            &quot;success: {$sum : {$cond :  [{$in :  [&#39;$status&#39;, ?1 ]}, 1, 0]}},&quot; +\r\n            &quot;fail:  {$sum : {$cond :  [{$in :  [&#39;$status&#39;,  ?2 ]}, 1, 0]}},}}&quot;\r\n})\r\nList&lt;JSONObject&gt; sumRecordEvent(List&lt;String&gt; events, List&lt;String&gt; statusSuccess, List&lt;String&gt; statusFail);\r\n```\r\n\r\nI printed the query to the console:\r\n\r\n\r\n```\r\ndb.getCollection(&quot;event_management&quot;).aggregate([\r\n    { &quot;$match&quot; : { \r\n                    &quot;job_monitor_id&quot; : { &quot;$in&quot; : [&quot;6375e5b4268c0b5d83db13a5&quot;]}\r\n                 }\r\n    }, \r\n    { &quot;$group&quot; : { &quot;_id&quot; : &quot;$job_monitor_id&quot;, \r\n                    &quot;success&quot; : { &quot;$sum&quot; : { &quot;$cond&quot; : [{ &quot;$in&quot; : [&quot;$status&quot;, &quot;SUCCESS&quot;, &quot;PROCESS&quot;, &quot;FAILED_BY_EXECUTING&quot;, &quot;EXPIRED&quot;]}, 1, 0]}},\r\n                    &quot;fail&quot; : { &quot;$sum&quot; : { &quot;$cond&quot; : [{ &quot;$in&quot; : [&quot;$status&quot;, &quot;FAILED_BY_SENDING&quot;]}, 1, 0]}}\r\n                 }\r\n    }\r\n]);\r\n```\r\n\r\nI see my mistake ```$in``` in ```$group``` but I don&#39;t know how to fix it.\r\nCan someone help me. I am very grateful and appreciate your answer!","title":"Convert query aggregate mongodb to java @Aggregation","body":"<p>I have a query in studio3T:</p>\n<pre><code>db.getCollection(&quot;event_management&quot;).aggregate([\n{$match: {&quot;job_monitor_id&quot;: { $in: [&quot;6375e5b4268c0b5d83db13a5&quot;] }}},\n{\n    $group: {\n        _id: &quot;$job_monitor_id&quot;,\n        success: { $sum: { $cond: [{\n             $in: [&quot;$status&quot;, [&quot;SUCCESS&quot;, &quot;PROCESS&quot;, &quot;FAILED_BY_EXECUTING&quot;, &quot;EXPIRED&quot;]] \n             }, 1, 0] } },\n        fail: { $sum: { $cond: [{ $in: [&quot;$status&quot;, [&quot;FAILED_BY_SENDING&quot;]] }, 1, 0] } },\n    }\n}\n])\n</code></pre>\n<p>I tried to convert to java hibernate:</p>\n<pre><code>@Aggregation(pipeline = {\n      &quot;{$match:{'job_monitor_id': {$in : ?0}}}&quot;,\n      &quot;{'$group':{_id: '$job_monitor_id',&quot; +\n            &quot;success: {$sum : {$cond :  [{$in :  ['$status', ?1 ]}, 1, 0]}},&quot; +\n            &quot;fail:  {$sum : {$cond :  [{$in :  ['$status',  ?2 ]}, 1, 0]}},}}&quot;\n})\nList&lt;JSONObject&gt; sumRecordEvent(List&lt;String&gt; events, List&lt;String&gt; statusSuccess, List&lt;String&gt; statusFail);\n</code></pre>\n<p>I printed the query to the console:</p>\n<pre><code>db.getCollection(&quot;event_management&quot;).aggregate([\n    { &quot;$match&quot; : { \n                    &quot;job_monitor_id&quot; : { &quot;$in&quot; : [&quot;6375e5b4268c0b5d83db13a5&quot;]}\n                 }\n    }, \n    { &quot;$group&quot; : { &quot;_id&quot; : &quot;$job_monitor_id&quot;, \n                    &quot;success&quot; : { &quot;$sum&quot; : { &quot;$cond&quot; : [{ &quot;$in&quot; : [&quot;$status&quot;, &quot;SUCCESS&quot;, &quot;PROCESS&quot;, &quot;FAILED_BY_EXECUTING&quot;, &quot;EXPIRED&quot;]}, 1, 0]}},\n                    &quot;fail&quot; : { &quot;$sum&quot; : { &quot;$cond&quot; : [{ &quot;$in&quot; : [&quot;$status&quot;, &quot;FAILED_BY_SENDING&quot;]}, 1, 0]}}\n                 }\n    }\n]);\n</code></pre>\n<p>I see my mistake <code>$in</code> in <code>$group</code> but I don't know how to fix it.\nCan someone help me. I am very grateful and appreciate your answer!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668760771,"post_id":74486884,"comment_id":131489323,"body_markdown":"Annotate `LimitConfiguration` with `@Configuration`, not with `@Component`.","body":"Annotate <code>LimitConfiguration</code> with <code>@Configuration</code>, not with <code>@Component</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668761461,"post_id":74486884,"comment_id":131489548,"body_markdown":"Note that method parameter names _might_ be erased during compilation (depending on your build configuration).","body":"Note that method parameter names <i>might</i> be erased during compilation (depending on your build configuration)."}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668761749,"creation_date":1668761749,"answer_id":74487120,"question_id":74486884,"body_markdown":"1. add `@ConfigurationPropertiesScan` to LimitServiceApplication \r\n\r\n2. add `@ConstructorBinding` to LimitConfiguration and remove @Component","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<ol>\n<li><p>add <code>@ConfigurationPropertiesScan</code> to LimitServiceApplication</p>\n</li>\n<li><p>add <code>@ConstructorBinding</code> to LimitConfiguration and remove @Component</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668765636,"creation_date":1668765636,"answer_id":74487899,"question_id":74486884,"body_markdown":"If you remove the constructor, the exception would not be thrown, because the Spring framework uses setters to bind properties, so setters must be declared for each of the properties.\r\n\r\nAs of [Spring 2.2][1], `@ConfigurationProperties` can be found via classpath scanning as an alternative to using `@EnableConfigurationProperties` or `@Component`. To enable scanning, `@ConfigurationPropertiesScan` should be added to your application class. \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2-Release-Notes#configurationproperties-scanning","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<p>If you remove the constructor, the exception would not be thrown, because the Spring framework uses setters to bind properties, so setters must be declared for each of the properties.</p>\n<p>As of <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2-Release-Notes#configurationproperties-scanning\" rel=\"nofollow noreferrer\">Spring 2.2</a>, <code>@ConfigurationProperties</code> can be found via classpath scanning as an alternative to using <code>@EnableConfigurationProperties</code> or <code>@Component</code>. To enable scanning, <code>@ConfigurationPropertiesScan</code> should be added to your application class.</p>\n"},{"tags":[],"owner":{"account_id":9643196,"reputation":593,"user_id":7156819,"display_name":"Răzvan Puiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668766684,"creation_date":1668766684,"answer_id":74488127,"question_id":74486884,"body_markdown":"You can remove the constructor and add the following annotations on the fields:\r\n\r\n    @Configuration\r\n    public class LimitConfiguration {\r\n    \r\n        @Value(&quot;${limits-service.minimum}&quot;)\r\n        private int minimum;\r\n    \r\n        @Value(&quot;${limits-service.maximum}&quot;)\r\n        private int maximum;\r\n    \r\n    ...\r\n    }\r\n\r\nAlso, there is no need to do  \r\n\r\n`return new LimitConfiguration(limitConfiguration.getMinimum(),limitConfiguration.getMaximum());`\r\n \r\nin the controller. This is instantiating a new LimitConfiguration that will not be recognized by the spring container. ","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<p>You can remove the constructor and add the following annotations on the fields:</p>\n<pre><code>@Configuration\npublic class LimitConfiguration {\n\n    @Value(&quot;${limits-service.minimum}&quot;)\n    private int minimum;\n\n    @Value(&quot;${limits-service.maximum}&quot;)\n    private int maximum;\n\n...\n}\n</code></pre>\n<p>Also, there is no need to do</p>\n<p><code>return new LimitConfiguration(limitConfiguration.getMinimum(),limitConfiguration.getMaximum());</code></p>\n<p>in the controller. This is instantiating a new LimitConfiguration that will not be recognized by the spring container.</p>\n"},{"tags":[],"owner":{"account_id":16659495,"reputation":318,"user_id":12039826,"display_name":"ajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668770409,"creation_date":1668769759,"answer_id":74488758,"question_id":74486884,"body_markdown":"Looks like LimitConfiguration class is used as a data transfer purpose.\r\nThen you can get the property values inside the controller class like this\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/limits&quot;)\r\n    public class LimitsConfigurationController {\r\n    \r\n        @Value(&quot;${limits-service.minimum}&quot;)\r\n        private int minimum;\r\n    \r\n        @Value(&quot;${limits-service.maximum}&quot;)\r\n        private int maximum;\r\n    \r\n        @GetMapping\r\n        public LimitConfiguration retrieveLimitFromConfiguration() {\r\n            return new LimitConfiguration(minimum, maximum);\r\n        }\r\n    }\r\n\r\nand the LimitConfiguration class should look like this\r\n\r\n    public class LimitConfiguration {\r\n    \r\n        private int minimum;\r\n    \r\n        private int maximum;\r\n    \r\n        // Getters, Setters, No args constructor and 2 args constructor\r\n    \r\n    }","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<p>Looks like LimitConfiguration class is used as a data transfer purpose.\nThen you can get the property values inside the controller class like this</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/limits&quot;)\npublic class LimitsConfigurationController {\n\n    @Value(&quot;${limits-service.minimum}&quot;)\n    private int minimum;\n\n    @Value(&quot;${limits-service.maximum}&quot;)\n    private int maximum;\n\n    @GetMapping\n    public LimitConfiguration retrieveLimitFromConfiguration() {\n        return new LimitConfiguration(minimum, maximum);\n    }\n}\n</code></pre>\n<p>and the LimitConfiguration class should look like this</p>\n<pre><code>public class LimitConfiguration {\n\n    private int minimum;\n\n    private int maximum;\n\n    // Getters, Setters, No args constructor and 2 args constructor\n\n}\n</code></pre>\n"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1668770409,"creation_date":1668760641,"question_id":74486884,"body_markdown":"I try to read data from application properties file in Spring Boot Application.\r\n    \r\nFollowing Code is my main class.\r\n    \r\n    \r\n    @SpringBootApplication(scanBasePackages = &quot;com.fsk.limitservice&quot;)\r\n    public class LimitServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(LimitServiceApplication.class, args);\r\n        }\r\n    }\r\n\r\n    \r\nFollowing Code is My Controller Class\r\n    \r\n    @RestController\r\n    public class LimitsConfigurationController {\r\n    \r\n        @Autowired\r\n        LimitConfiguration limitConfiguration;\r\n    \r\n        @GetMapping(&quot;/limits&quot;)\r\n        public LimitConfiguration retrieveLimitFromConfiguration() {\r\n            return new LimitConfiguration(limitConfiguration.getMinimum(), limitConfiguration.getMaximum());\r\n        }\r\n    }\r\n    \r\n    \r\nFollowing Code is my component class\r\n    \r\n    @Component\r\n    @ConfigurationProperties(&quot;limits-service&quot;)\r\n    public class LimitConfiguration {\r\n    \r\n        private int minimum;\r\n        private int maximum;\r\n    \r\n        public LimitConfiguration(int minimum, int maximum) {\r\n            this.minimum = minimum;\r\n            this.maximum = maximum;\r\n        }\r\n    \r\n        public int getMinimum() {\r\n            return minimum;\r\n        }\r\n    \r\n        public void setMinimum(int minimum) {\r\n            this.minimum = minimum;\r\n        }\r\n    \r\n        public int getMaximum() {\r\n            return maximum;\r\n        }\r\n    \r\n        public void setMaximum(int maximum) {\r\n            this.maximum = maximum;\r\n        }\r\n    }\r\n    \r\n    \r\nAnd Lastly this is my application properties file\r\n```\r\nspring.application.name=limits-service\r\nlimits-service.minimum=17\r\nlimits-service.maximum=1124\r\n```\r\nWhen i click to run button, i get the following error.\r\nHow can i fix this.?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9GrWu.png\r\n\r\n","title":"Could not autowire. No beans of &#39;int&#39; type found","body":"<p>I try to read data from application properties file in Spring Boot Application.</p>\n<p>Following Code is my main class.</p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;com.fsk.limitservice&quot;)\npublic class LimitServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LimitServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p>Following Code is My Controller Class</p>\n<pre><code>@RestController\npublic class LimitsConfigurationController {\n\n    @Autowired\n    LimitConfiguration limitConfiguration;\n\n    @GetMapping(&quot;/limits&quot;)\n    public LimitConfiguration retrieveLimitFromConfiguration() {\n        return new LimitConfiguration(limitConfiguration.getMinimum(), limitConfiguration.getMaximum());\n    }\n}\n</code></pre>\n<p>Following Code is my component class</p>\n<pre><code>@Component\n@ConfigurationProperties(&quot;limits-service&quot;)\npublic class LimitConfiguration {\n\n    private int minimum;\n    private int maximum;\n\n    public LimitConfiguration(int minimum, int maximum) {\n        this.minimum = minimum;\n        this.maximum = maximum;\n    }\n\n    public int getMinimum() {\n        return minimum;\n    }\n\n    public void setMinimum(int minimum) {\n        this.minimum = minimum;\n    }\n\n    public int getMaximum() {\n        return maximum;\n    }\n\n    public void setMaximum(int maximum) {\n        this.maximum = maximum;\n    }\n}\n</code></pre>\n<p>And Lastly this is my application properties file</p>\n<pre><code>spring.application.name=limits-service\nlimits-service.minimum=17\nlimits-service.maximum=1124\n</code></pre>\n<p>When i click to run button, i get the following error.\nHow can i fix this.?</p>\n<p><a href=\"https://i.stack.imgur.com/9GrWu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9GrWu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","cryptojs"],"answers":[{"tags":[],"owner":{"account_id":3806234,"reputation":3567,"user_id":3158594,"display_name":"Joma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668497336,"creation_date":1668486798,"answer_id":74440625,"question_id":74440582,"body_markdown":"Inyour code JS implementation encodes to [Base64][1] VS Java implementation encodes to [Hexadecimal][2]\r\n\r\nThe results will be different.\r\n\r\n• **My code**\r\n\r\n**JS Code**\r\n```\r\nlet hash = CryptoJS.SHA256(&quot;grape&quot;);\r\nlet passBase64 = CryptoJS.enc.Base64.stringify(hash);\r\nconsole.log(passBase64)\r\n```\r\n\r\n**Java Code**   \r\n```\r\nSystem.out.println(HashManager.toBase64Hash(&quot;grape&quot;, HashAlgorithm.SHA256));\r\n```\r\nCheck/Test full code on [https://replit.com/@JomaCorpFX/JavaHashes#Main.java][3]\r\n\r\n**Output for both Js and Java / SHA-256(&quot;grape&quot;)**\r\n```\r\nD3j8xIb1MVQY+/CV5xwGde4H0xjlrE0VAFDNjleWZJY=\r\n```\r\n  [1]: https://en.wikipedia.org/wiki/Base64\r\n  [2]: https://en.wikipedia.org/wiki/Hexadecimal\r\n  [3]: https://replit.com/@JomaCorpFX/JavaHashes#Main.java","title":"SHA-256 Hashing in Java","body":"<p>Inyour code JS implementation encodes to <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a> VS Java implementation encodes to <a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">Hexadecimal</a></p>\n<p>The results will be different.</p>\n<p>• <strong>My code</strong></p>\n<p><strong>JS Code</strong></p>\n<pre><code>let hash = CryptoJS.SHA256(&quot;grape&quot;);\nlet passBase64 = CryptoJS.enc.Base64.stringify(hash);\nconsole.log(passBase64)\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>System.out.println(HashManager.toBase64Hash(&quot;grape&quot;, HashAlgorithm.SHA256));\n</code></pre>\n<p>Check/Test full code on <a href=\"https://replit.com/@JomaCorpFX/JavaHashes#Main.java\" rel=\"nofollow noreferrer\">https://replit.com/@JomaCorpFX/JavaHashes#Main.java</a></p>\n<p><strong>Output for both Js and Java / SHA-256(&quot;grape&quot;)</strong></p>\n<pre><code>D3j8xIb1MVQY+/CV5xwGde4H0xjlrE0VAFDNjleWZJY=\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26808022,"reputation":11,"user_id":20399058,"display_name":"kazeematics"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668535196,"creation_date":1668535196,"answer_id":74450227,"question_id":74440582,"body_markdown":"In Javacript code, you converting the output to base64 while in the Java code, you are converting the result to an hexadecimal value. That is why you are having different values.\r\n\r\nYou have to convert the output to the same type in both, either base64 or hexadecimal.\r\n","title":"SHA-256 Hashing in Java","body":"<p>In Javacript code, you converting the output to base64 while in the Java code, you are converting the result to an hexadecimal value. That is why you are having different values.</p>\n<p>You have to convert the output to the same type in both, either base64 or hexadecimal.</p>\n"},{"tags":[],"owner":{"account_id":5510609,"reputation":4457,"user_id":4376984,"accept_rate":67,"display_name":"vishnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668770338,"creation_date":1668770338,"answer_id":74488875,"question_id":74440582,"body_markdown":"I have fixed using the following code:\r\n\r\n     public static String fileSha256ToBase64(final String clearText) throws NoSuchAlgorithmException {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                return new String(\r\n                        Base64.getEncoder().encode(MessageDigest.getInstance(&quot;SHA-256&quot;).digest(clearText.getBytes(StandardCharsets.UTF_8))));\r\n            }\r\n            return clearText;\r\n        }","title":"SHA-256 Hashing in Java","body":"<p>I have fixed using the following code:</p>\n<pre><code> public static String fileSha256ToBase64(final String clearText) throws NoSuchAlgorithmException {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            return new String(\n                    Base64.getEncoder().encode(MessageDigest.getInstance(&quot;SHA-256&quot;).digest(clearText.getBytes(StandardCharsets.UTF_8))));\n        }\n        return clearText;\n    }\n</code></pre>\n"}],"owner":{"account_id":5510609,"reputation":4457,"user_id":4376984,"accept_rate":67,"display_name":"vishnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1668770338,"creation_date":1668486329,"question_id":74440582,"body_markdown":"I was able to encrypt the password using `CryptoJS` library in Angular project. And want to implement same encryption using `java`. Can any one suggest the best approach?.\r\n\r\n**Below is with Angular `CryptoJS` library implementation**\r\n\r\n \r\n\r\n    let hash = CryptoJS.SHA256(&quot;3456&quot;);\r\n    let passBase64 = CryptoJS.enc.Base64.stringify(hash);\r\n\r\nI have implemeted in the following way in java but the values are different,\r\n\r\n    Sha256.toHexString(Sha256.getSHA(&quot;3456&quot;)));\r\n\r\n    public class Sha256 {\r\n       public static byte[] getSHA(String input) throws NoSuchAlgorithmException\r\n        {\r\n            // Static getInstance method is called with hashing SHA\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \r\n            // digest() method called\r\n            // to calculate message digest of an input\r\n            // and return array of byte\r\n            return md.digest(input.getBytes(StandardCharsets.UTF_8));\r\n        }\r\n    \r\n        public static String toHexString(byte[] hash)\r\n        {\r\n            // Convert byte array into signum representation\r\n            BigInteger number = new BigInteger(1, hash);\r\n    \r\n            // Convert message digest into hex value\r\n            StringBuilder hexString = new StringBuilder(number.toString(16));\r\n    \r\n            // Pad with leading zeros\r\n            while (hexString.length() &lt; 64)\r\n            {\r\n                hexString.insert(0, &#39;0&#39;);\r\n            }\r\n    \r\n            return hexString.toString();\r\n        }","title":"SHA-256 Hashing in Java","body":"<p>I was able to encrypt the password using <code>CryptoJS</code> library in Angular project. And want to implement same encryption using <code>java</code>. Can any one suggest the best approach?.</p>\n<p><strong>Below is with Angular <code>CryptoJS</code> library implementation</strong></p>\n<pre><code>let hash = CryptoJS.SHA256(&quot;3456&quot;);\nlet passBase64 = CryptoJS.enc.Base64.stringify(hash);\n</code></pre>\n<p>I have implemeted in the following way in java but the values are different,</p>\n<pre><code>Sha256.toHexString(Sha256.getSHA(&quot;3456&quot;)));\n\npublic class Sha256 {\n   public static byte[] getSHA(String input) throws NoSuchAlgorithmException\n    {\n        // Static getInstance method is called with hashing SHA\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n\n        // digest() method called\n        // to calculate message digest of an input\n        // and return array of byte\n        return md.digest(input.getBytes(StandardCharsets.UTF_8));\n    }\n\n    public static String toHexString(byte[] hash)\n    {\n        // Convert byte array into signum representation\n        BigInteger number = new BigInteger(1, hash);\n\n        // Convert message digest into hex value\n        StringBuilder hexString = new StringBuilder(number.toString(16));\n\n        // Pad with leading zeros\n        while (hexString.length() &lt; 64)\n        {\n            hexString.insert(0, '0');\n        }\n\n        return hexString.toString();\n    }\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"score":0,"creation_date":1668769632,"post_id":74488488,"comment_id":131492355,"body_markdown":"You would need to add the service layer where you write your entities to your DB. The error message tells you that somehow you change the id of an already existing entity which was persisted in the DB.","body":"You would need to add the service layer where you write your entities to your DB. The error message tells you that somehow you change the id of an already existing entity which was persisted in the DB."}],"owner":{"account_id":9231850,"reputation":79,"user_id":8157065,"display_name":"Ilya Rogatkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668769952,"creation_date":1668768402,"question_id":74488488,"body_markdown":"Then update category field in billboard, i catch exception from JPA\r\n\r\n&gt; &quot;JpaSystemException&quot;  &quot;identifier of an instance of\r\n&gt; ru.rshbintech.crft.cos.billboard.dao.entities.Category was altered\r\n&gt; from 1 to 3; nested exception is org.hibernate.HibernateException:\r\n&gt; identifier of an instance of\r\n&gt; ru.rshbintech.crft.cos.billboard.dao.entities.Category was altered\r\n&gt; from 1 to 3&quot;\r\n\r\nThis is Billboard entity\r\n\r\n    @Entity\r\n    @Data\r\n    @Accessors(chain = true)\r\n    @Table(name = &quot;billboard&quot;)\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    public class Billboard {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;title&quot;, nullable = false)\r\n        private String title;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n        private Category category;\r\n    \r\n        @Column(name = &quot;description&quot;, nullable = false)\r\n        private String description;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;offer_type&quot;, length = 30, nullable = false)\r\n        private OfferType offerType;\r\n    \r\n        @Column(name = &quot;author&quot;, nullable = false)\r\n        private String author;\r\n        @Column(name = &quot;created&quot;)\r\n        private Instant created;\r\n    \r\n        @Column(name = &quot;cover_id&quot;)\r\n        private Long coverId;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;status_billboard&quot;)\r\n        private Status status;\r\n    \r\n        @Column(name = &quot;is_deleted&quot;)\r\n        private Boolean isDeleted;\r\n    \r\n        @Column(name = &quot;city_id&quot;)\r\n        private Long cityId;\r\n        @PrePersist\r\n        public void prePersist() {\r\n            created = created == null ? Instant.now() : created;\r\n        }\r\n    }\r\n\r\nAnd This is Category entity\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;dict_categories&quot;)\r\n    public class Category {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;name&quot;, unique = true, nullable = false)\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;Billboard&gt; billboards = new HashSet&lt;&gt;();\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Category parent;\r\n    \r\n        @Column(name = &quot;category_level&quot;, nullable = false)\r\n        private Integer categoryLevel;\r\n    \r\n    }\r\n\r\n\r\nAnd add Service class\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class BillBoardService {\r\n        private final BillboardRepository repository;\r\n        private final BillBoardMapper mapper;\r\n        private final UserInfo userInfo;\r\n        private final StorageService storageService;\r\n        private final BillBoardMergeMapper billBoardMergeMapper;\r\n    \r\n        private final BillboardStatusRepository statusRepository;\r\n    \r\n        @Qualifier(&quot;userDtoConverter&quot;)\r\n        private final Converter&lt;EmployeeDto, UserDto&gt; userDtoConverter;\r\n    \r\n        private final CategoryRepository categoryRepository;\r\n    \r\n        private static final String NOT_FOUND_AUTHOR_MESSAGE = &quot;Authors not found&quot;;\r\n    \r\n        public BillBoardService(BillboardRepository repository, BillBoardMapper mapper, UserInfo userInfo, StorageService storageService, BillBoardMergeMapper billBoardMergeMapper, BillboardStatusRepository statusRepository, Converter&lt;EmployeeDto, UserDto&gt; userDtoConverter, CategoryRepository categoryRepository) {\r\n            this.repository = repository;\r\n            this.mapper = mapper;\r\n            this.userInfo = userInfo;\r\n            this.storageService = storageService;\r\n            this.billBoardMergeMapper = billBoardMergeMapper;\r\n            this.statusRepository = statusRepository;\r\n            this.userDtoConverter = userDtoConverter;\r\n            this.categoryRepository = categoryRepository;\r\n        }\r\n    \r\n        @Transactional(rollbackFor = SQLException.class)\r\n        public BillboardDtoResponse save(BillboardDtoRequest billboardDto, TokenDto tokenDto) throws NotFoundException {\r\n    \r\n            EmployeeDto employeeDto;\r\n            try {\r\n                Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(tokenDto.getUpn()), tokenDto.getTokenBody());\r\n                List&lt;EmployeeDto&gt; employeeDtos = mono.block();\r\n                if (employeeDtos == null) {\r\n                    throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE +  billboardDto.getAuthor());\r\n                }\r\n                employeeDto = employeeDtos.get(0);\r\n            } catch (Exception e) {\r\n                log.error(LoggerMessages.ERROR_GET_INFO_USER, tokenDto.getUpn(), e.getMessage());\r\n                throw e;\r\n            }\r\n    \r\n    \r\n            Billboard billboard = mapper.billboardDtoRequestToBillboard(billboardDto);\r\n            billboard.setCityId(billboardDto.getCity().getId());\r\n            billboard.setAuthor(tokenDto.getUpn());\r\n    \r\n            try {\r\n                billboard = repository.save(billboard);\r\n            } catch (Exception e) {\r\n                log.error(LoggerMessages.ERROR_GET_DATA_FROM_DB, e.getMessage(), e.getStackTrace());\r\n                throw e;\r\n            }\r\n    \r\n            BillboardDtoResponse dto = mapper.billboardToBillboardDtoResponse(billboard);\r\n            CityDto cityDto = new CityDto();\r\n            cityDto.setId(billboard.getCityId());\r\n            dto.setCity(cityDto);\r\n            this.addCityIfExists(billboardDto, tokenDto);\r\n    \r\n            UserDto userDto = this.userDtoConverter.map(employeeDto);\r\n            dto.setAuthor(userDto);\r\n            return dto;\r\n    \r\n        }\r\n    \r\n        @Transactional(readOnly = true)\r\n        public BillboardDtoResponse getBillboardBy(@NotNull Long id, @NotNull TokenDto tokenDto) throws NotFoundException, IOException {\r\n            Optional&lt;Billboard&gt; maybeBillboard = repository.findById(id);\r\n            if(maybeBillboard.isEmpty()) {\r\n                throw new NotFoundException(&quot;billboard with id&quot; + id + &quot; not exists&quot;);\r\n            }\r\n            Billboard billboard = maybeBillboard.get();\r\n            BillboardDtoResponse billboardDto = mapper.billboardToBillboardDtoResponse(billboard);\r\n            EmployeeDto employeeDto;\r\n            Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(billboard.getAuthor()), tokenDto.getTokenBody());\r\n            List&lt;EmployeeDto&gt; employeeDtos = mono.block();\r\n            if (employeeDtos == null) {\r\n                throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE + billboardDto.getAuthor());\r\n            }\r\n    \r\n            employeeDto = employeeDtos.get(0);\r\n            UserDto userDto = this.userDtoConverter.map(employeeDto);\r\n            billboardDto.setAuthor(userDto);\r\n            CityDto cityDto = new CityDto();\r\n            cityDto.setId(billboard.getCityId());\r\n            billboardDto.setCity(cityDto);\r\n            this.addCityIfExists(billboardDto, tokenDto);\r\n    \r\n            try {\r\n                FileRecordRequestSearchDto searchDto = this.buildSearchFileDto(billboard.getId());\r\n                List&lt;FileRecordResponseDto&gt; responseDtos = storageService.search(searchDto);\r\n                if (responseDtos != null) {\r\n                    this.orderListOfImagesByCover(responseDtos, billboardDto.getCoverId());\r\n                    billboardDto.setBillboardFiles(responseDtos);\r\n                }\r\n                return billboardDto;\r\n            } catch (IOException e) {\r\n                log.error(LoggerMessages.ERROR_GET_FILES_INFO, tokenDto.getUpn(), e.getMessage());\r\n                throw e;\r\n            }\r\n        }\r\n    \r\n        @Transactional(rollbackFor = SQLException.class)\r\n        public BillboardDto update(@NotNull BillboardDto billboardDto, TokenDto tokenDto) throws IOException, NotFoundException {\r\n            Optional&lt;Billboard&gt; maybeBillboard = repository.findById(billboardDto.getId());\r\n            if (maybeBillboard.isEmpty()) {\r\n                throw new NotFoundException(&quot;Billboard with id &quot; + billboardDto.getId() + &quot; not found&quot;);\r\n            }\r\n            Billboard billboardFromDB = maybeBillboard.get();\r\n            billBoardMergeMapper.mergeNonNullFields(billboardDto, billboardFromDB);\r\n            if (billboardDto.getCity() != null) {\r\n                billboardFromDB.setCityId(billboardDto.getCity().getId());\r\n            }\r\n    \r\n            Billboard billboard = repository.save(billboardFromDB);\r\n            BillboardDto dto = mapper.billboardToBillboardDto(billboard);\r\n            CityDto cityDto = new CityDto();\r\n            cityDto.setId(billboard.getCityId());\r\n            dto.setCity(cityDto);\r\n            Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(billboard.getAuthor()), tokenDto.getTokenBody());\r\n            List&lt;EmployeeDto&gt; employeeDtos = mono.block();\r\n            if (Objects.isNull(employeeDtos)) {\r\n                throw new NotFoundException(&quot;Users for billboard with id &quot; + dto.getId() + &quot; not found&quot;);\r\n            }\r\n            EmployeeDto employeeDto = employeeDtos.get(0);\r\n            UserDto userDto = this.userDtoConverter.map(employeeDto);\r\n            dto.setAuthor(userDto);\r\n            this.addCityIfExists(dto, tokenDto);\r\n    \r\n            FileRecordRequestSearchDto searchDto = this.buildSearchFileDto(billboard.getId());\r\n            List&lt;FileRecordResponseDto&gt; responseDtos = storageService.search(searchDto);\r\n            dto.setBillboardFiles(responseDtos);\r\n    \r\n            return dto;\r\n        }\r\n    \r\n        @Transactional(readOnly = true)\r\n        public Response&lt;List&lt;BillboardDto&gt;&gt; search(SearchRequest request, TokenDto tokenDto) throws IOException, NotFoundException {\r\n            SearchSpecification&lt;Billboard&gt; specification = new SearchSpecification&lt;&gt;(request);\r\n            Pageable pageable = SearchSpecification.getPageable(request.getPage(), request.getSize());\r\n            Page&lt;Billboard&gt; page = repository.findAll(specification, pageable);\r\n            List&lt;Billboard&gt; billboards = page.getContent();\r\n            if (billboards.isEmpty()) {\r\n                List&lt;Billboard&gt; emptyBillboards = new ArrayList&lt;&gt;();\r\n                buildResponse(emptyBillboards, 0, 0, request.getPage(), request.getSize());\r\n            }\r\n            List&lt;BillboardDto&gt; dtos = new ArrayList&lt;&gt;();\r\n            Set&lt;String&gt; authors = billboards.stream().map(Billboard::getAuthor).collect(Collectors.toSet());\r\n    \r\n            try {\r\n                Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(authors.stream().toList(), tokenDto.getTokenBody());\r\n                List&lt;EmployeeDto&gt; employeeDtosList = mono.block();\r\n                if (employeeDtosList == null || employeeDtosList.isEmpty()) {\r\n                    throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE);\r\n                }\r\n                Map&lt;String, EmployeeDto&gt; upnToEmployee = employeeDtosList\r\n                        .stream()\r\n                        .collect(Collectors.toMap(EmployeeDto::getUserPrincipalName, employeeDto -&gt; employeeDto));\r\n                for(Billboard billboard : billboards) {\r\n                    BillboardDto billboardDto = mapper.billboardToBillboardDto(billboard);\r\n                    EmployeeDto employeeDto = upnToEmployee.get(billboard.getAuthor());\r\n                    UserDto userDto = this.userDtoConverter.map(employeeDto);\r\n                    billboardDto.setAuthor(userDto);\r\n                    CityDto cityDto = new CityDto();\r\n                    cityDto.setId(billboard.getCityId());\r\n                    billboardDto.setCity(cityDto);\r\n                    dtos.add(billboardDto);\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                log.error(LoggerMessages.ERROR_GET_INFO_USER, tokenDto.getUpn(), e.getMessage());\r\n                throw e;\r\n            }\r\n    \r\n    \r\n            List&lt;Long&gt; billboardIds = billboards.stream().map(Billboard::getId).toList();\r\n            try {\r\n                List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos = storageService.search(SystemParameters.OBJ_TYPE, billboardIds);\r\n                if(!fileRecordResponseDtos.isEmpty()) {\r\n                    Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; idsToFileResponseDto = this.collectFileDtoById(fileRecordResponseDtos);\r\n                    for (BillboardDto billboardDto : dtos) {\r\n                        List&lt;FileRecordResponseDto&gt; fileResponseDto = idsToFileResponseDto.get(billboardDto.getId());\r\n                        if (fileResponseDto != null &amp;&amp; (!fileResponseDto.isEmpty())) {\r\n                            fileResponseDto = this.orderListOfImagesByCover(fileResponseDto, billboardDto.getCoverId());\r\n                            billboardDto.setBillboardFiles(fileResponseDto);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n    \r\n            } catch (Exception e) {\r\n                log.error(LoggerMessages.ERROR_GET_FILES_INFO, tokenDto.getUpn(), e.getMessage());\r\n                throw e;\r\n            }\r\n            List&lt;Long&gt; citiesId = billboards.stream().map(Billboard::getCityId).distinct().toList();\r\n    \r\n            Mono&lt;List&lt;CityDto&gt;&gt; cities = userInfo.findCitiesByIds(tokenDto.getTokenBody(), citiesId);\r\n            List&lt;CityDto&gt; cityDtos = cities.block();\r\n            if (cityDtos == null) {\r\n                throw new NotFoundException(&quot;Cities are not be got&quot;);\r\n            }\r\n            Map&lt;Long, CityDto&gt; idToCity = cityDtos.stream().collect(Collectors.toMap(CityDto::getId, Function.identity(),\r\n                    (existing, replacement) -&gt; existing));\r\n            dtos.forEach(billboardDto -&gt; {\r\n                CityDto cityDto = idToCity.get(billboardDto.getCity().getId());\r\n                billboardDto.setCity(cityDto);\r\n            });\r\n    \r\n            return buildResponse(dtos, page.getTotalPages(), page.getTotalElements(), page.getNumber(), page.getSize());\r\n        }\r\n        @Transactional\r\n        public Status change(@NotNull Long id, TokenDto token, @NotNull BillboardAction action) throws NotFoundException, ActionNotExists, AuthentificationException {\r\n            if (token == null) {\r\n                throw new AuthentificationException(&quot;Authorization token is empty&quot;);\r\n            }\r\n            Optional&lt;Billboard&gt; opt = repository.findById(id);\r\n            if (opt.isEmpty()) {\r\n                throw new NotFoundException(&quot;Billboard with id &quot; + id + &quot; is not present&quot;);\r\n            }\r\n            Billboard billboard = opt.get();\r\n            BillboardStatus billboardStatus = statusRepository.findBillboardStatusByAction(action);\r\n            if (billboardStatus == null) {\r\n                throw new ActionNotExists(&quot;Action &quot; + action + &quot; not exists&quot;);\r\n            }\r\n    \r\n            billboard.setStatus(billboardStatus.getNewStatus());\r\n            return billboardStatus.getNewStatus();\r\n        }\r\n    \r\n        private FileRecordRequestSearchDto buildSearchFileDto(Long billboardId) {\r\n            return FileRecordRequestSearchDto\r\n                    .builder()\r\n                    .objId(billboardId)\r\n                    .objType(SystemParameters.OBJ_TYPE)\r\n                    .systemId(SystemParameters.SYSTEM_ID)\r\n                    .build();\r\n        }\r\n    \r\n        private  Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; collectFileDtoById(List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos) {\r\n            Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; idsToFileResponseDto = new HashMap&lt;&gt;();\r\n            for (FileRecordResponseDto responseFile : fileRecordResponseDtos) {\r\n                Long objeId = responseFile.getObjId();\r\n                if (!idsToFileResponseDto.containsKey(objeId)) {\r\n                    List&lt;FileRecordResponseDto&gt; list = new ArrayList&lt;&gt;();\r\n                    list.add(responseFile);\r\n                    idsToFileResponseDto.put(objeId, list);\r\n                } else {\r\n                    idsToFileResponseDto.get(objeId).add(responseFile);\r\n                }\r\n            }\r\n    \r\n            return idsToFileResponseDto;\r\n        }\r\n    \r\n    \r\n        private List&lt;FileRecordResponseDto&gt; orderListOfImagesByCover(List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos, Long coverId) {\r\n            List&lt;FileRecordResponseDto&gt; orderList = new ArrayList&lt;&gt;();\r\n            Optional&lt;FileRecordResponseDto&gt; coverImage = fileRecordResponseDtos.stream().filter( f -&gt; f.getObjId().equals(coverId)).findFirst();\r\n            coverImage.ifPresent(orderList::add);\r\n            fileRecordResponseDtos.forEach(f -&gt; {\r\n                if (!f.getObjId().equals(coverId)) {\r\n                    orderList.add(f);\r\n            }});\r\n            return orderList;\r\n        }\r\n    \r\n        private void addCityIfExists(ParentBillboard billboardDto, TokenDto tokenDto) throws NotFoundException {\r\n            Mono&lt;CityDto&gt; cityDto = userInfo.findCityBy(tokenDto.getTokenBody(), billboardDto.getCity().getId());\r\n            if (cityDto == null) {\r\n                throw new NotFoundException(&quot;Not Found city with id &quot; + billboardDto.getCity().getId());\r\n            }\r\n            billboardDto.setCity(cityDto.block());\r\n        }\r\n    }\r\n\r\n\r\nI Can&#39;t understand what wrong when i update?\r\n","title":"I catch exception JpaSystemException - identifier of an instance then update category field, but marked up the scheme correct","body":"<p>Then update category field in billboard, i catch exception from JPA</p>\n<blockquote>\n<p>&quot;JpaSystemException&quot;  &quot;identifier of an instance of\nru.rshbintech.crft.cos.billboard.dao.entities.Category was altered\nfrom 1 to 3; nested exception is org.hibernate.HibernateException:\nidentifier of an instance of\nru.rshbintech.crft.cos.billboard.dao.entities.Category was altered\nfrom 1 to 3&quot;</p>\n</blockquote>\n<p>This is Billboard entity</p>\n<pre><code>@Entity\n@Data\n@Accessors(chain = true)\n@Table(name = &quot;billboard&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Billboard {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;title&quot;, nullable = false)\n    private String title;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\n    private Category category;\n\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;offer_type&quot;, length = 30, nullable = false)\n    private OfferType offerType;\n\n    @Column(name = &quot;author&quot;, nullable = false)\n    private String author;\n    @Column(name = &quot;created&quot;)\n    private Instant created;\n\n    @Column(name = &quot;cover_id&quot;)\n    private Long coverId;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status_billboard&quot;)\n    private Status status;\n\n    @Column(name = &quot;is_deleted&quot;)\n    private Boolean isDeleted;\n\n    @Column(name = &quot;city_id&quot;)\n    private Long cityId;\n    @PrePersist\n    public void prePersist() {\n        created = created == null ? Instant.now() : created;\n    }\n}\n</code></pre>\n<p>And This is Category entity</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;dict_categories&quot;)\npublic class Category {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;, unique = true, nullable = false)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Billboard&gt; billboards = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Category parent;\n\n    @Column(name = &quot;category_level&quot;, nullable = false)\n    private Integer categoryLevel;\n\n}\n</code></pre>\n<p>And add Service class</p>\n<pre><code>@Service\n@Slf4j\npublic class BillBoardService {\n    private final BillboardRepository repository;\n    private final BillBoardMapper mapper;\n    private final UserInfo userInfo;\n    private final StorageService storageService;\n    private final BillBoardMergeMapper billBoardMergeMapper;\n\n    private final BillboardStatusRepository statusRepository;\n\n    @Qualifier(&quot;userDtoConverter&quot;)\n    private final Converter&lt;EmployeeDto, UserDto&gt; userDtoConverter;\n\n    private final CategoryRepository categoryRepository;\n\n    private static final String NOT_FOUND_AUTHOR_MESSAGE = &quot;Authors not found&quot;;\n\n    public BillBoardService(BillboardRepository repository, BillBoardMapper mapper, UserInfo userInfo, StorageService storageService, BillBoardMergeMapper billBoardMergeMapper, BillboardStatusRepository statusRepository, Converter&lt;EmployeeDto, UserDto&gt; userDtoConverter, CategoryRepository categoryRepository) {\n        this.repository = repository;\n        this.mapper = mapper;\n        this.userInfo = userInfo;\n        this.storageService = storageService;\n        this.billBoardMergeMapper = billBoardMergeMapper;\n        this.statusRepository = statusRepository;\n        this.userDtoConverter = userDtoConverter;\n        this.categoryRepository = categoryRepository;\n    }\n\n    @Transactional(rollbackFor = SQLException.class)\n    public BillboardDtoResponse save(BillboardDtoRequest billboardDto, TokenDto tokenDto) throws NotFoundException {\n\n        EmployeeDto employeeDto;\n        try {\n            Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(tokenDto.getUpn()), tokenDto.getTokenBody());\n            List&lt;EmployeeDto&gt; employeeDtos = mono.block();\n            if (employeeDtos == null) {\n                throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE +  billboardDto.getAuthor());\n            }\n            employeeDto = employeeDtos.get(0);\n        } catch (Exception e) {\n            log.error(LoggerMessages.ERROR_GET_INFO_USER, tokenDto.getUpn(), e.getMessage());\n            throw e;\n        }\n\n\n        Billboard billboard = mapper.billboardDtoRequestToBillboard(billboardDto);\n        billboard.setCityId(billboardDto.getCity().getId());\n        billboard.setAuthor(tokenDto.getUpn());\n\n        try {\n            billboard = repository.save(billboard);\n        } catch (Exception e) {\n            log.error(LoggerMessages.ERROR_GET_DATA_FROM_DB, e.getMessage(), e.getStackTrace());\n            throw e;\n        }\n\n        BillboardDtoResponse dto = mapper.billboardToBillboardDtoResponse(billboard);\n        CityDto cityDto = new CityDto();\n        cityDto.setId(billboard.getCityId());\n        dto.setCity(cityDto);\n        this.addCityIfExists(billboardDto, tokenDto);\n\n        UserDto userDto = this.userDtoConverter.map(employeeDto);\n        dto.setAuthor(userDto);\n        return dto;\n\n    }\n\n    @Transactional(readOnly = true)\n    public BillboardDtoResponse getBillboardBy(@NotNull Long id, @NotNull TokenDto tokenDto) throws NotFoundException, IOException {\n        Optional&lt;Billboard&gt; maybeBillboard = repository.findById(id);\n        if(maybeBillboard.isEmpty()) {\n            throw new NotFoundException(&quot;billboard with id&quot; + id + &quot; not exists&quot;);\n        }\n        Billboard billboard = maybeBillboard.get();\n        BillboardDtoResponse billboardDto = mapper.billboardToBillboardDtoResponse(billboard);\n        EmployeeDto employeeDto;\n        Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(billboard.getAuthor()), tokenDto.getTokenBody());\n        List&lt;EmployeeDto&gt; employeeDtos = mono.block();\n        if (employeeDtos == null) {\n            throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE + billboardDto.getAuthor());\n        }\n\n        employeeDto = employeeDtos.get(0);\n        UserDto userDto = this.userDtoConverter.map(employeeDto);\n        billboardDto.setAuthor(userDto);\n        CityDto cityDto = new CityDto();\n        cityDto.setId(billboard.getCityId());\n        billboardDto.setCity(cityDto);\n        this.addCityIfExists(billboardDto, tokenDto);\n\n        try {\n            FileRecordRequestSearchDto searchDto = this.buildSearchFileDto(billboard.getId());\n            List&lt;FileRecordResponseDto&gt; responseDtos = storageService.search(searchDto);\n            if (responseDtos != null) {\n                this.orderListOfImagesByCover(responseDtos, billboardDto.getCoverId());\n                billboardDto.setBillboardFiles(responseDtos);\n            }\n            return billboardDto;\n        } catch (IOException e) {\n            log.error(LoggerMessages.ERROR_GET_FILES_INFO, tokenDto.getUpn(), e.getMessage());\n            throw e;\n        }\n    }\n\n    @Transactional(rollbackFor = SQLException.class)\n    public BillboardDto update(@NotNull BillboardDto billboardDto, TokenDto tokenDto) throws IOException, NotFoundException {\n        Optional&lt;Billboard&gt; maybeBillboard = repository.findById(billboardDto.getId());\n        if (maybeBillboard.isEmpty()) {\n            throw new NotFoundException(&quot;Billboard with id &quot; + billboardDto.getId() + &quot; not found&quot;);\n        }\n        Billboard billboardFromDB = maybeBillboard.get();\n        billBoardMergeMapper.mergeNonNullFields(billboardDto, billboardFromDB);\n        if (billboardDto.getCity() != null) {\n            billboardFromDB.setCityId(billboardDto.getCity().getId());\n        }\n\n        Billboard billboard = repository.save(billboardFromDB);\n        BillboardDto dto = mapper.billboardToBillboardDto(billboard);\n        CityDto cityDto = new CityDto();\n        cityDto.setId(billboard.getCityId());\n        dto.setCity(cityDto);\n        Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(List.of(billboard.getAuthor()), tokenDto.getTokenBody());\n        List&lt;EmployeeDto&gt; employeeDtos = mono.block();\n        if (Objects.isNull(employeeDtos)) {\n            throw new NotFoundException(&quot;Users for billboard with id &quot; + dto.getId() + &quot; not found&quot;);\n        }\n        EmployeeDto employeeDto = employeeDtos.get(0);\n        UserDto userDto = this.userDtoConverter.map(employeeDto);\n        dto.setAuthor(userDto);\n        this.addCityIfExists(dto, tokenDto);\n\n        FileRecordRequestSearchDto searchDto = this.buildSearchFileDto(billboard.getId());\n        List&lt;FileRecordResponseDto&gt; responseDtos = storageService.search(searchDto);\n        dto.setBillboardFiles(responseDtos);\n\n        return dto;\n    }\n\n    @Transactional(readOnly = true)\n    public Response&lt;List&lt;BillboardDto&gt;&gt; search(SearchRequest request, TokenDto tokenDto) throws IOException, NotFoundException {\n        SearchSpecification&lt;Billboard&gt; specification = new SearchSpecification&lt;&gt;(request);\n        Pageable pageable = SearchSpecification.getPageable(request.getPage(), request.getSize());\n        Page&lt;Billboard&gt; page = repository.findAll(specification, pageable);\n        List&lt;Billboard&gt; billboards = page.getContent();\n        if (billboards.isEmpty()) {\n            List&lt;Billboard&gt; emptyBillboards = new ArrayList&lt;&gt;();\n            buildResponse(emptyBillboards, 0, 0, request.getPage(), request.getSize());\n        }\n        List&lt;BillboardDto&gt; dtos = new ArrayList&lt;&gt;();\n        Set&lt;String&gt; authors = billboards.stream().map(Billboard::getAuthor).collect(Collectors.toSet());\n\n        try {\n            Mono&lt;List&lt;EmployeeDto&gt;&gt; mono = userInfo.getUsersInfo(authors.stream().toList(), tokenDto.getTokenBody());\n            List&lt;EmployeeDto&gt; employeeDtosList = mono.block();\n            if (employeeDtosList == null || employeeDtosList.isEmpty()) {\n                throw new NotFoundException(NOT_FOUND_AUTHOR_MESSAGE);\n            }\n            Map&lt;String, EmployeeDto&gt; upnToEmployee = employeeDtosList\n                    .stream()\n                    .collect(Collectors.toMap(EmployeeDto::getUserPrincipalName, employeeDto -&gt; employeeDto));\n            for(Billboard billboard : billboards) {\n                BillboardDto billboardDto = mapper.billboardToBillboardDto(billboard);\n                EmployeeDto employeeDto = upnToEmployee.get(billboard.getAuthor());\n                UserDto userDto = this.userDtoConverter.map(employeeDto);\n                billboardDto.setAuthor(userDto);\n                CityDto cityDto = new CityDto();\n                cityDto.setId(billboard.getCityId());\n                billboardDto.setCity(cityDto);\n                dtos.add(billboardDto);\n            }\n\n        } catch (Exception e) {\n            log.error(LoggerMessages.ERROR_GET_INFO_USER, tokenDto.getUpn(), e.getMessage());\n            throw e;\n        }\n\n\n        List&lt;Long&gt; billboardIds = billboards.stream().map(Billboard::getId).toList();\n        try {\n            List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos = storageService.search(SystemParameters.OBJ_TYPE, billboardIds);\n            if(!fileRecordResponseDtos.isEmpty()) {\n                Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; idsToFileResponseDto = this.collectFileDtoById(fileRecordResponseDtos);\n                for (BillboardDto billboardDto : dtos) {\n                    List&lt;FileRecordResponseDto&gt; fileResponseDto = idsToFileResponseDto.get(billboardDto.getId());\n                    if (fileResponseDto != null &amp;&amp; (!fileResponseDto.isEmpty())) {\n                        fileResponseDto = this.orderListOfImagesByCover(fileResponseDto, billboardDto.getCoverId());\n                        billboardDto.setBillboardFiles(fileResponseDto);\n                    }\n                }\n            }\n\n\n        } catch (Exception e) {\n            log.error(LoggerMessages.ERROR_GET_FILES_INFO, tokenDto.getUpn(), e.getMessage());\n            throw e;\n        }\n        List&lt;Long&gt; citiesId = billboards.stream().map(Billboard::getCityId).distinct().toList();\n\n        Mono&lt;List&lt;CityDto&gt;&gt; cities = userInfo.findCitiesByIds(tokenDto.getTokenBody(), citiesId);\n        List&lt;CityDto&gt; cityDtos = cities.block();\n        if (cityDtos == null) {\n            throw new NotFoundException(&quot;Cities are not be got&quot;);\n        }\n        Map&lt;Long, CityDto&gt; idToCity = cityDtos.stream().collect(Collectors.toMap(CityDto::getId, Function.identity(),\n                (existing, replacement) -&gt; existing));\n        dtos.forEach(billboardDto -&gt; {\n            CityDto cityDto = idToCity.get(billboardDto.getCity().getId());\n            billboardDto.setCity(cityDto);\n        });\n\n        return buildResponse(dtos, page.getTotalPages(), page.getTotalElements(), page.getNumber(), page.getSize());\n    }\n    @Transactional\n    public Status change(@NotNull Long id, TokenDto token, @NotNull BillboardAction action) throws NotFoundException, ActionNotExists, AuthentificationException {\n        if (token == null) {\n            throw new AuthentificationException(&quot;Authorization token is empty&quot;);\n        }\n        Optional&lt;Billboard&gt; opt = repository.findById(id);\n        if (opt.isEmpty()) {\n            throw new NotFoundException(&quot;Billboard with id &quot; + id + &quot; is not present&quot;);\n        }\n        Billboard billboard = opt.get();\n        BillboardStatus billboardStatus = statusRepository.findBillboardStatusByAction(action);\n        if (billboardStatus == null) {\n            throw new ActionNotExists(&quot;Action &quot; + action + &quot; not exists&quot;);\n        }\n\n        billboard.setStatus(billboardStatus.getNewStatus());\n        return billboardStatus.getNewStatus();\n    }\n\n    private FileRecordRequestSearchDto buildSearchFileDto(Long billboardId) {\n        return FileRecordRequestSearchDto\n                .builder()\n                .objId(billboardId)\n                .objType(SystemParameters.OBJ_TYPE)\n                .systemId(SystemParameters.SYSTEM_ID)\n                .build();\n    }\n\n    private  Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; collectFileDtoById(List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos) {\n        Map&lt;Long, List&lt;FileRecordResponseDto&gt;&gt; idsToFileResponseDto = new HashMap&lt;&gt;();\n        for (FileRecordResponseDto responseFile : fileRecordResponseDtos) {\n            Long objeId = responseFile.getObjId();\n            if (!idsToFileResponseDto.containsKey(objeId)) {\n                List&lt;FileRecordResponseDto&gt; list = new ArrayList&lt;&gt;();\n                list.add(responseFile);\n                idsToFileResponseDto.put(objeId, list);\n            } else {\n                idsToFileResponseDto.get(objeId).add(responseFile);\n            }\n        }\n\n        return idsToFileResponseDto;\n    }\n\n\n    private List&lt;FileRecordResponseDto&gt; orderListOfImagesByCover(List&lt;FileRecordResponseDto&gt; fileRecordResponseDtos, Long coverId) {\n        List&lt;FileRecordResponseDto&gt; orderList = new ArrayList&lt;&gt;();\n        Optional&lt;FileRecordResponseDto&gt; coverImage = fileRecordResponseDtos.stream().filter( f -&gt; f.getObjId().equals(coverId)).findFirst();\n        coverImage.ifPresent(orderList::add);\n        fileRecordResponseDtos.forEach(f -&gt; {\n            if (!f.getObjId().equals(coverId)) {\n                orderList.add(f);\n        }});\n        return orderList;\n    }\n\n    private void addCityIfExists(ParentBillboard billboardDto, TokenDto tokenDto) throws NotFoundException {\n        Mono&lt;CityDto&gt; cityDto = userInfo.findCityBy(tokenDto.getTokenBody(), billboardDto.getCity().getId());\n        if (cityDto == null) {\n            throw new NotFoundException(&quot;Not Found city with id &quot; + billboardDto.getCity().getId());\n        }\n        billboardDto.setCity(cityDto.block());\n    }\n}\n</code></pre>\n<p>I Can't understand what wrong when i update?</p>\n"},{"tags":["java","html","dom","xpath","jsoup"],"answers":[{"tags":[],"owner":{"account_id":2422749,"reputation":9587,"user_id":2115381,"display_name":"hr_117"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458990168,"creation_date":1458990168,"answer_id":36234511,"question_id":36233695,"body_markdown":"As asked here a idea. \r\nEven if I&#39;m quite sure that there better solutions to get the xpath for a given node.  For example use xslt as in the [answer][1] to &quot;Generate/get xpath from XML node java&quot;.\r\n\r\nHere the possible solution based on your current attempt.   \r\n\r\nFor each (parent) element check if there are more than one element with this name. \r\nPseudo code: `if ( count (el.select(&#39;../&#39; + el.nodeName() ) &gt; 1)`  \r\nIf true  count the `preceding-sibling::` with same name and add 1.  \r\n`count (el.select(&#39;preceding-sibling::&#39; + el.nodeName() ) +1 `  \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4747858/2115381","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>As asked here a idea. \nEven if I'm quite sure that there better solutions to get the xpath for a given node.  For example use xslt as in the <a href=\"https://stackoverflow.com/a/4747858/2115381\">answer</a> to \"Generate/get xpath from XML node java\".</p>\n\n<p>Here the possible solution based on your current attempt.   </p>\n\n<p>For each (parent) element check if there are more than one element with this name. \nPseudo code: <code>if ( count (el.select('../' + el.nodeName() ) &gt; 1)</code><br>\nIf true  count the <code>preceding-sibling::</code> with same name and add 1.<br>\n<code>count (el.select('preceding-sibling::' + el.nodeName() ) +1</code>  </p>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1458991258,"creation_date":1458990622,"answer_id":36234564,"question_id":36233695,"body_markdown":"This would be easier, if you traversed the document from the root to the leafs instead of the other way round. This way you can easily group the elements by tag-name and handle multiple occurences accordingly. Here is a recursive approach:\r\n\r\n    private final List&lt;String&gt; path = new ArrayList&lt;&gt;();\r\n    private final List&lt;String&gt; all = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;String&gt; getAll() {\r\n        return Collections.unmodifiableList(all);\r\n    }\r\n    \r\n    public void parse(Document doc) {\r\n        path.clear();\r\n        all.clear();\r\n        parse(doc.children());\r\n    }\r\n\r\n    private void parse(List&lt;Element&gt; elements) {\r\n        if (elements.isEmpty()) {\r\n            return;\r\n        }\r\n        Map&lt;String, List&lt;Element&gt;&gt; grouped = elements.stream().collect(Collectors.groupingBy(Element::tagName));\r\n\r\n        for (Map.Entry&lt;String, List&lt;Element&gt;&gt; entry : grouped.entrySet()) {\r\n            List&lt;Element&gt; list = entry.getValue();\r\n            String key = entry.getKey();\r\n            if (list.size() &gt; 1) {\r\n                int index = 1;\r\n                // use paths with index\r\n                key += &quot;[&quot;;\r\n                for (Element e : list) {\r\n                    path.add(key + (index++) + &quot;]&quot;);\r\n                    handleElement(e);\r\n                    path.remove(path.size() - 1);\r\n                }\r\n            } else {\r\n                // use paths without index\r\n                path.add(key);\r\n                handleElement(list.get(0));\r\n                path.remove(path.size() - 1);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private void handleElement(Element e) {\r\n        String value = e.ownText();\r\n        if (!value.isEmpty()) {\r\n            // add entry\r\n            all.add(path.stream().collect(Collectors.joining(&quot;/&quot;)) + &quot; = &quot; + value);\r\n        }\r\n        // process children of element\r\n        parse(e.children());\r\n    }","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>This would be easier, if you traversed the document from the root to the leafs instead of the other way round. This way you can easily group the elements by tag-name and handle multiple occurences accordingly. Here is a recursive approach:</p>\n\n<pre><code>private final List&lt;String&gt; path = new ArrayList&lt;&gt;();\nprivate final List&lt;String&gt; all = new ArrayList&lt;&gt;();\n\npublic List&lt;String&gt; getAll() {\n    return Collections.unmodifiableList(all);\n}\n\npublic void parse(Document doc) {\n    path.clear();\n    all.clear();\n    parse(doc.children());\n}\n\nprivate void parse(List&lt;Element&gt; elements) {\n    if (elements.isEmpty()) {\n        return;\n    }\n    Map&lt;String, List&lt;Element&gt;&gt; grouped = elements.stream().collect(Collectors.groupingBy(Element::tagName));\n\n    for (Map.Entry&lt;String, List&lt;Element&gt;&gt; entry : grouped.entrySet()) {\n        List&lt;Element&gt; list = entry.getValue();\n        String key = entry.getKey();\n        if (list.size() &gt; 1) {\n            int index = 1;\n            // use paths with index\n            key += \"[\";\n            for (Element e : list) {\n                path.add(key + (index++) + \"]\");\n                handleElement(e);\n                path.remove(path.size() - 1);\n            }\n        } else {\n            // use paths without index\n            path.add(key);\n            handleElement(list.get(0));\n            path.remove(path.size() - 1);\n        }\n    }\n\n}\n\nprivate void handleElement(Element e) {\n    String value = e.ownText();\n    if (!value.isEmpty()) {\n        // add entry\n        all.add(path.stream().collect(Collectors.joining(\"/\")) + \" = \" + value);\n    }\n    // process children of element\n    parse(e.children());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9430552,"reputation":59,"user_id":7014239,"display_name":"Miklos Toth"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476369307,"creation_date":1476367759,"answer_id":40023372,"question_id":36233695,"body_markdown":"This is my solution to this problem:\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    StringBuilder absPath=new StringBuilder();\r\n    Elements parents = htmlElement.parents();\r\n\r\n    for (int j = parents.size()-1; j &gt;= 0; j--) {\r\n    \tElement element = parents.get(j);\r\n    \tabsPath.append(&quot;/&quot;);\r\n    \tabsPath.append(element.tagName());\r\n    \tabsPath.append(&quot;[&quot;);\r\n    \tabsPath.append(element.siblingIndex());\r\n    \tabsPath.append(&quot;]&quot;);\r\n    }\r\n\r\n\r\n\r\n","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>This is my solution to this problem:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>StringBuilder absPath=new StringBuilder();\nElements parents = htmlElement.parents();\n\nfor (int j = parents.size()-1; j &gt;= 0; j--) {\n    Element element = parents.get(j);\n    absPath.append(\"/\");\n    absPath.append(element.tagName());\n    absPath.append(\"[\");\n    absPath.append(element.siblingIndex());\n    absPath.append(\"]\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216468,"reputation":15127,"user_id":471744,"accept_rate":68,"display_name":"spierce7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668769830,"creation_date":1668769830,"answer_id":74488777,"question_id":36233695,"body_markdown":"Here is the solution in Kotlin. It&#39;s correct, and it works. The other answers are wrong and caused me hours of lost work.\r\n\r\n    fun Element.xpath(): String = buildString {\r\n        val parents = parents()\r\n    \r\n        for (j in (parents.size - 1) downTo 0) {\r\n            val parent = parents[j]\r\n            append(&quot;/*[&quot;)\r\n            append(parent.siblingIndex() + 1)\r\n            append(&#39;]&#39;)\r\n        }\r\n    \r\n        append(&quot;/*[&quot;)\r\n        append(siblingIndex() + 1)\r\n        append(&#39;]&#39;)\r\n    }","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>Here is the solution in Kotlin. It's correct, and it works. The other answers are wrong and caused me hours of lost work.</p>\n<pre><code>fun Element.xpath(): String = buildString {\n    val parents = parents()\n\n    for (j in (parents.size - 1) downTo 0) {\n        val parent = parents[j]\n        append(&quot;/*[&quot;)\n        append(parent.siblingIndex() + 1)\n        append(']')\n    }\n\n    append(&quot;/*[&quot;)\n    append(siblingIndex() + 1)\n    append(']')\n}\n</code></pre>\n"}],"owner":{"account_id":3383433,"reputation":303,"user_id":2839986,"accept_rate":87,"display_name":"kivok94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2954,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1668769830,"creation_date":1458984608,"question_id":36233695,"body_markdown":"_ Hi , this is my web page : \r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;div&gt; text div 1&lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;span&gt;text of first span &lt;/span&gt;\r\n                &lt;span&gt;text of second span &lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt; text div 3 &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI&#39;m using jsoup to parse it , and then browse all elements inside the page and get their paths : \r\n\r\n     Document doc = Jsoup.parse(new File(&quot;C:\\\\Users\\\\HC\\\\Desktop\\\\dataset\\\\index.html&quot;), &quot;UTF-8&quot;);\r\n     Elements elements = doc.body().select(&quot;*&quot;);\r\n    ArrayList all = new ArrayList();\r\n            for (Element element : elements) {\r\n                if (!element.ownText().isEmpty()) {\r\n    \r\n                    StringBuilder path = new StringBuilder(element.nodeName());\r\n                    String value = element.ownText();\r\n                    Elements p_el = element.parents();\r\n    \r\n                    for (Element el : p_el) {\r\n                        path.insert(0, el.nodeName() + &#39;/&#39;);\r\n                    }\r\n                    all.add(path + &quot; = &quot; + value + &quot;\\n&quot;);\r\n                    System.out.println(path +&quot; = &quot;+ value);\r\n                }\r\n            }\r\n    \r\n            return all;\r\n\r\nmy code give me this result : \r\n\r\n    html/body/div = text div 1\r\n    html/body/div/span = text of first span\r\n    html/body/div/span = text of second span\r\n    html/body/div = text div 3\r\n\r\nin fact i want get result like this : \r\n\r\n    html/body/div[1] = text div 1\r\n    html/body/div[2]/span[1] = text of first span\r\n    html/body/div[2]/span[2] = text of second span\r\n    html/body/div[3] = text div 3\r\n\r\nplease could any one give me idea how to get reach this result :) . thanks in advance. \r\n\r\n","title":"How to generate XPath query matching a specific element in Jsoup?","body":"<p>_ Hi , this is my web page : </p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt; text div 1&lt;/div&gt;\n        &lt;div&gt;\n            &lt;span&gt;text of first span &lt;/span&gt;\n            &lt;span&gt;text of second span &lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div&gt; text div 3 &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I'm using jsoup to parse it , and then browse all elements inside the page and get their paths : </p>\n\n<pre><code> Document doc = Jsoup.parse(new File(\"C:\\\\Users\\\\HC\\\\Desktop\\\\dataset\\\\index.html\"), \"UTF-8\");\n Elements elements = doc.body().select(\"*\");\nArrayList all = new ArrayList();\n        for (Element element : elements) {\n            if (!element.ownText().isEmpty()) {\n\n                StringBuilder path = new StringBuilder(element.nodeName());\n                String value = element.ownText();\n                Elements p_el = element.parents();\n\n                for (Element el : p_el) {\n                    path.insert(0, el.nodeName() + '/');\n                }\n                all.add(path + \" = \" + value + \"\\n\");\n                System.out.println(path +\" = \"+ value);\n            }\n        }\n\n        return all;\n</code></pre>\n\n<p>my code give me this result : </p>\n\n<pre><code>html/body/div = text div 1\nhtml/body/div/span = text of first span\nhtml/body/div/span = text of second span\nhtml/body/div = text div 3\n</code></pre>\n\n<p>in fact i want get result like this : </p>\n\n<pre><code>html/body/div[1] = text div 1\nhtml/body/div[2]/span[1] = text of first span\nhtml/body/div[2]/span[2] = text of second span\nhtml/body/div[3] = text div 3\n</code></pre>\n\n<p>please could any one give me idea how to get reach this result :) . thanks in advance. </p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1666678858,"post_id":74188425,"comment_id":130987715,"body_markdown":"This all seems to be correct. How are you loading the image?","body":"This all seems to be correct. How are you loading the image?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1666680370,"post_id":74188425,"comment_id":130988107,"body_markdown":"Is this problem happening before or after user logs in?","body":"Is this problem happening before or after user logs in?"},{"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"score":0,"creation_date":1666692814,"post_id":74188425,"comment_id":130992199,"body_markdown":"@SimonMartinelli: I&#39;m loading the images this way: \n\nnew Image(&quot;images/countries/&quot; + strCountry + &quot;.png&quot;, &quot;flag for &quot; + strlanguage);","body":"@SimonMartinelli: I&#39;m loading the images this way:   new Image(&quot;images/countries/&quot; + strCountry + &quot;.png&quot;, &quot;flag for &quot; + strlanguage);"},{"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"score":0,"creation_date":1666692901,"post_id":74188425,"comment_id":130992232,"body_markdown":"@TatuLund: No. This problem is before and after logging in. In the log is a hint from spring-security, that this url is not secured - this is correct too. FilterChainProxy.doFilterInternal - No security for GET /images/countries/de.png","body":"@TatuLund: No. This problem is before and after logging in. In the log is a hint from spring-security, that this url is not secured - this is correct too. FilterChainProxy.doFilterInternal - No security for GET /images/countries/de.png"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1666697007,"post_id":74188425,"comment_id":130993604,"body_markdown":"I can&#39;t reproduce your problem. Just created a new project on https://start.vaadin.com with an AboutView where an image is loaded the same way as you do","body":"I can&#39;t reproduce your problem. Just created a new project on <a href=\"https://start.vaadin.com\" rel=\"nofollow noreferrer\">start.vaadin.com</a> with an AboutView where an image is loaded the same way as you do"},{"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"score":0,"creation_date":1666707157,"post_id":74188425,"comment_id":130997257,"body_markdown":"@SimonMartinelli Thx a lot for your support. Can you see the same loader class (WebappClassLoaderBase) in your trace log? Perhaps is my DispatcherServlet misconfigured - but I don&#39;t know why or how. ;-)","body":"@SimonMartinelli Thx a lot for your support. Can you see the same loader class (WebappClassLoaderBase) in your trace log? Perhaps is my DispatcherServlet misconfigured - but I don&#39;t know why or how. ;-)"},{"owner":{"account_id":2071631,"reputation":102,"user_id":1897776,"display_name":"kszk"},"score":0,"creation_date":1667062759,"post_id":74188425,"comment_id":131084029,"body_markdown":"In my project (23.2.6) the static resources (ok.png and other images) are in the src/main/resources/META-INF/resources/img/ok.png and I&#39;m loading from Java like this: new Image(&quot;img/ok.png&quot;, &quot;Done&quot;);\nI&#39;m using SpringBoot 2.7.x .","body":"In my project (23.2.6) the static resources (ok.png and other images) are in the src/main/resources/META-INF/resources/img/ok.png and I&#39;m loading from Java like this: new Image(&quot;img/ok.png&quot;, &quot;Done&quot;); I&#39;m using SpringBoot 2.7.x ."}],"answers":[{"tags":[],"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668769570,"creation_date":1668769570,"answer_id":74488716,"question_id":74188425,"body_markdown":"After my from 18. Nov 2022, I googled a bit around and found this [question][1]. It hinted me to Spring MVC. And I rembered, that I tested a bit around with it.\r\n\r\nSo in one of the spring boot config classes was an active @EnableWebMvc annotation. This, of course, damaged the expected behavior.\r\n\r\n\r\n  [1]: https://%20https://stackoverflow.com/questions/3448467/how-can-i-change-the-ordering-of-mapped-urls-in-spring-mvc","title":"Solved : Static Resources Springboot (2.6.3) and Vaadin (23.2.5) not served in production","body":"<p>After my from 18. Nov 2022, I googled a bit around and found this <a href=\"https://%20https://stackoverflow.com/questions/3448467/how-can-i-change-the-ordering-of-mapped-urls-in-spring-mvc\" rel=\"nofollow noreferrer\">question</a>. It hinted me to Spring MVC. And I rembered, that I tested a bit around with it.</p>\n<p>So in one of the spring boot config classes was an active @EnableWebMvc annotation. This, of course, damaged the expected behavior.</p>\n"}],"owner":{"account_id":1323664,"reputation":1512,"user_id":1268954,"accept_rate":23,"display_name":"Mirko"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668769677,"creation_date":1666663160,"question_id":74188425,"body_markdown":"I&#39;ve updated my springboot project libraries:\r\n\r\nVaadin: 23.0.10 -&gt; 23.2.5 (I think here is the problem)\r\n\r\nSince then, the application doesn&#39;t serve static resources like images. \r\nI could validate, that \r\n\r\n - the project structure dosn&#39;t change (static files under /src/main/resources/META-INF/resources as documented in [Vaadin documentation][1])\r\n - the resulting jar file structure dosn&#39;t change (static files are still under /META-INF/resources)\r\n\r\nIn the log I could locate the following mismatch between the file structure and the resource path:\r\n\r\n\tTRACE o.s.web.servlet.DispatcherServlet.traceDebug - GET &quot;/images/countries/de.png&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n\tTRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@9cd25ff] and 1 interceptors\r\n\tTRACE o.s.w.s.m.ServletForwardingController.prepareResponse - Applying default cacheSeconds=-1\r\n\tDEBUG o.a.catalina.core.StandardWrapper.log -   Returning non-STM instance\r\n    DEBUG o.a.c.loader.WebappClassLoaderBase.log - getResource(META-INF/VAADIN/webapp/images/countries/de.png)\r\n    DEBUG o.a.c.loader.WebappClassLoaderBase.log -   --&gt; Resource not found, returning null\r\n\r\nSo I&#39;ts quite clear, that the application searches the media in a different folder now.\r\n\r\n\r\nCan someone hint me, \r\n\r\n 1. where the resources have to be placed in the jar file? Should I modify a maven step?\r\n 2. how can i implement and register a delegator/interceptor for this resource loading mechanism? (Just for debugging/logging reasons - because this is not the first time of this problem)\r\n\r\n\r\n\r\n**[1st Update - 18.11.2022]**\r\n\r\n\r\nAfter a small break, I spend more time on this. \r\nI have continued the approach of Simon Martinelli. I used the demo app from start.vaadin.com and started it in ProductionMode. I copied the image &quot;empty-plant.png&quot; in my project into the same folder, where my other static resources resides. \r\n\r\nBelow are the logs and the difference.\r\n\r\n    Vaadin-Demo-App:\r\n    app.jar\\META-INF\\resources\\images\\empty-plant.png\r\n    10:52:03.952 [http-nio-8080-exec-5] TRACE o.s.web.servlet.DispatcherServlet.traceDebug:116 - GET &quot;/images/empty-plant.png&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n    10:52:03.953 [http-nio-8080-exec-5] TRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler:519 - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@58d6b7b9] and 1 interceptors\r\n    10:52:03.953 [http-nio-8080-exec-5] TRACE o.s.w.s.m.ServletForwardingController.prepareResponse:405 - Applying default cacheSeconds=-1\r\n    10:52:03.953 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/VAADIN/webapp/images/empty-plant.png)\r\n    10:52:03.953 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7e32c033\r\n    10:52:03.954 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Resource not found, returning null\r\n    10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/resources/images/empty-plant.png)\r\n    10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7e32c033\r\n    10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Returning &#39;jar:file:/C:/Users/#############/Desktop/my-app/my-app/target/app.jar!/META-INF/resources/images/empty-plant.png&#39;\r\n    10:52:03.982 [http-nio-8080-exec-5] TRACE o.s.w.s.m.ServletForwardingController.handleRequestInternal:143 - Forwarded to servlet [springServlet] in ServletForwardingController &#39;vaadinForwardingController&#39;\r\n    10:52:03.982 [http-nio-8080-exec-5] TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult:1156 - No view rendering, null ModelAndView returned.\r\n    10:52:03.982 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet.logResult:1131 - Completed 304 NOT_MODIFIED, headers={masked}\r\n    \r\n    \r\n    \r\n    My App \r\n    app.jar\\META-INF\\resources\\images\\empty-plant.png\r\n    10:57:04.617 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.web.servlet.DispatcherServlet.traceDebug:116 - GET &quot;/images/empty-plant.png&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n    10:57:04.617 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler:519 - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@790174f2] and 1 interceptors\r\n    10:57:04.620 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.m.ServletForwardingController.prepareResponse:405 - Applying default cacheSeconds=-1\r\n    10:57:04.621 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/VAADIN/webapp/images/empty-plant.png)\r\n    10:57:04.621 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7eda2dbb\r\n    10:57:04.622 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Resource not found, returning null\r\n    10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.m.ServletForwardingController.handleRequestInternal:143 - Forwarded to servlet [springServlet] in ServletForwardingController &#39;vaadinForwardingController&#39;\r\n    10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult:1156 - No view rendering, null ModelAndView returned.\r\n    10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.s.web.servlet.DispatcherServlet.logResult:1131 - Completed 200 OK, headers={masked}\r\n\r\n\r\nI think here is something wrong with the ServletForwardingController, isn&#39;t it?\r\n\r\n**[2nd Update - 18.11.2022]**\r\n\r\nRemoving the @EnableWebMvc Annotation solves it. \r\n\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/advanced/loading-resouWie rces#resource-cheat-sheet\r\n\r\n\r\n\r\n\r\n","title":"Solved : Static Resources Springboot (2.6.3) and Vaadin (23.2.5) not served in production","body":"<p>I've updated my springboot project libraries:</p>\n<p>Vaadin: 23.0.10 -&gt; 23.2.5 (I think here is the problem)</p>\n<p>Since then, the application doesn't serve static resources like images.\nI could validate, that</p>\n<ul>\n<li>the project structure dosn't change (static files under /src/main/resources/META-INF/resources as documented in [Vaadin documentation][1])</li>\n<li>the resulting jar file structure dosn't change (static files are still under /META-INF/resources)</li>\n</ul>\n<p>In the log I could locate the following mismatch between the file structure and the resource path:</p>\n<pre><code>TRACE o.s.web.servlet.DispatcherServlet.traceDebug - GET &quot;/images/countries/de.png&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\nTRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@9cd25ff] and 1 interceptors\nTRACE o.s.w.s.m.ServletForwardingController.prepareResponse - Applying default cacheSeconds=-1\nDEBUG o.a.catalina.core.StandardWrapper.log -   Returning non-STM instance\nDEBUG o.a.c.loader.WebappClassLoaderBase.log - getResource(META-INF/VAADIN/webapp/images/countries/de.png)\nDEBUG o.a.c.loader.WebappClassLoaderBase.log -   --&gt; Resource not found, returning null\n</code></pre>\n<p>So I'ts quite clear, that the application searches the media in a different folder now.</p>\n<p>Can someone hint me,</p>\n<ol>\n<li>where the resources have to be placed in the jar file? Should I modify a maven step?</li>\n<li>how can i implement and register a delegator/interceptor for this resource loading mechanism? (Just for debugging/logging reasons - because this is not the first time of this problem)</li>\n</ol>\n<p><strong>[1st Update - 18.11.2022]</strong></p>\n<p>After a small break, I spend more time on this.\nI have continued the approach of Simon Martinelli. I used the demo app from start.vaadin.com and started it in ProductionMode. I copied the image &quot;empty-plant.png&quot; in my project into the same folder, where my other static resources resides.</p>\n<p>Below are the logs and the difference.</p>\n<pre><code>Vaadin-Demo-App:\napp.jar\\META-INF\\resources\\images\\empty-plant.png\n10:52:03.952 [http-nio-8080-exec-5] TRACE o.s.web.servlet.DispatcherServlet.traceDebug:116 - GET &quot;/images/empty-plant.png&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n10:52:03.953 [http-nio-8080-exec-5] TRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler:519 - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@58d6b7b9] and 1 interceptors\n10:52:03.953 [http-nio-8080-exec-5] TRACE o.s.w.s.m.ServletForwardingController.prepareResponse:405 - Applying default cacheSeconds=-1\n10:52:03.953 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/VAADIN/webapp/images/empty-plant.png)\n10:52:03.953 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7e32c033\n10:52:03.954 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Resource not found, returning null\n10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/resources/images/empty-plant.png)\n10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7e32c033\n10:52:03.978 [http-nio-8080-exec-5] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Returning 'jar:file:/C:/Users/#############/Desktop/my-app/my-app/target/app.jar!/META-INF/resources/images/empty-plant.png'\n10:52:03.982 [http-nio-8080-exec-5] TRACE o.s.w.s.m.ServletForwardingController.handleRequestInternal:143 - Forwarded to servlet [springServlet] in ServletForwardingController 'vaadinForwardingController'\n10:52:03.982 [http-nio-8080-exec-5] TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult:1156 - No view rendering, null ModelAndView returned.\n10:52:03.982 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet.logResult:1131 - Completed 304 NOT_MODIFIED, headers={masked}\n\n\n\nMy App \napp.jar\\META-INF\\resources\\images\\empty-plant.png\n10:57:04.617 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.web.servlet.DispatcherServlet.traceDebug:116 - GET &quot;/images/empty-plant.png&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n10:57:04.617 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.h.SimpleUrlHandlerMapping.getHandler:519 - Mapped to HandlerExecutionChain with [org.springframework.web.servlet.mvc.ServletForwardingController@790174f2] and 1 interceptors\n10:57:04.620 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.m.ServletForwardingController.prepareResponse:405 - Applying default cacheSeconds=-1\n10:57:04.621 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 - getResource(META-INF/VAADIN/webapp/images/empty-plant.png)\n10:57:04.621 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@7eda2dbb\n10:57:04.622 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.a.c.loader.WebappClassLoaderBase.log:173 -   --&gt; Resource not found, returning null\n10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.w.s.m.ServletForwardingController.handleRequestInternal:143 - Forwarded to servlet [springServlet] in ServletForwardingController 'vaadinForwardingController'\n10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] TRACE o.s.web.servlet.DispatcherServlet.processDispatchResult:1156 - No view rendering, null ModelAndView returned.\n10:57:04.676 [http-nio-127.0.0.1-32152-exec-9] DEBUG o.s.web.servlet.DispatcherServlet.logResult:1131 - Completed 200 OK, headers={masked}\n</code></pre>\n<p>I think here is something wrong with the ServletForwardingController, isn't it?</p>\n<p><strong>[2nd Update - 18.11.2022]</strong></p>\n<p>Removing the @EnableWebMvc Annotation solves it.</p>\n<p>[1]: <a href=\"https://vaadin.com/docs/latest/advanced/loading-resouWie\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/advanced/loading-resouWie</a> rces#resource-cheat-sheet</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668767528,"post_id":74488264,"comment_id":131491642,"body_markdown":"Don&#39;t do `i++;` inside your for loop. You used the for loop and already defined `i++` as an increment operation that gets done after every iteration so there is no need to do it 3 more times per loop.","body":"Don&#39;t do <code>i++;</code> inside your for loop. You used the for loop and already defined <code>i++</code> as an increment operation that gets done after every iteration so there is no need to do it 3 more times per loop."},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1668767659,"post_id":74488264,"comment_id":131491685,"body_markdown":"Please follow Java naming conventions: an initial lowercase letter for variable and method names (`city`, `pathIndex`, `startCity`, `initialization()`, `distance()`).","body":"Please follow Java naming conventions: an initial lowercase letter for variable and method names (<code>city</code>, <code>pathIndex</code>, <code>startCity</code>, <code>initialization()</code>, <code>distance()</code>)."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668768742,"post_id":74488264,"comment_id":131492064,"body_markdown":"If I understand your logic correct you are trying to calculate the distance from every city to every other city. That might best be done with a nested loop. Does your cities class have methods to get its X and Y coordinates? So would something like `City[0].getXLocation()` be possible?","body":"If I understand your logic correct you are trying to calculate the distance from every city to every other city. That might best be done with a nested loop. Does your cities class have methods to get its X and Y coordinates? So would something like <code>City[0].getXLocation()</code> be possible?"},{"owner":{"account_id":15067753,"reputation":11,"user_id":14808688,"display_name":"NewCoder2001"},"score":0,"creation_date":1668769680,"post_id":74488264,"comment_id":131492376,"body_markdown":"Yeah there is actually.. But the initialization is just always getting the last city to get the x and y values. Example if I write City[1].Get_X(), it still shows the x value of City[3], because i initialized it last..","body":"Yeah there is actually.. But the initialization is just always getting the last city to get the x and y values. Example if I write City[1].Get_X(), it still shows the x value of City[3], because i initialized it last.."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668775548,"post_id":74488264,"comment_id":131494182,"body_markdown":"&quot;Example if I write City[1].Get_X(), it still shows the x value of City[3], because i initialized it last..&quot; &lt;- @NewCoder2001 This sounds like you declared those fields as `static` when they shouldn&#39;t be.","body":"&quot;Example if I write City[1].Get_X(), it still shows the x value of City[3], because i initialized it last..&quot; &lt;- @NewCoder2001 This sounds like you declared those fields as <code>static</code> when they shouldn&#39;t be."}],"answers":[{"tags":[],"owner":{"account_id":18803667,"reputation":51,"user_id":13713476,"display_name":"Ruendan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668769549,"creation_date":1668769549,"answer_id":74488710,"question_id":74488264,"body_markdown":"You have a case where you want to &quot;compare&quot; an element of an array with eachother. I suppose that you do not mind small optimisation problems so I&#39;m making it simple :\r\n\r\n    //Step 1 : iterate over all your cities.\r\n    for(Cities current : City) {\r\n        //Step 2 : compare current city with eachother\r\n        for(Cities other : City) {\r\n            //Step 3 : make sure that you don&#39;t compare a city with itself\r\n            if(!current.equals(other)) {\r\n                //Step 4 : use the distance method using the other&#39;s coordinates :)\r\n                current.Distance(other.City_X_Location, other.City_Y_Location);\r\n            }\r\n        }\r\n    }\r\n\r\nThis way, each element (first loop) will be compared with each other (second loop). The &quot;if&quot; statement is just made to be sure that you don&#39;t compare twice the same element.\r\n\r\nI&#39;m using the `city.City_X_Location` and `city.City_Y_Location` dirrectly as you show it in your Distance method, thinking that it would be a `public` attribute, but it would be better if you could make it private and create a `getCity_X_Location()` method. \r\n\r\nFinally, if you&#39;re not used to use the `for(Item i : Iterrable)` syntax, feel free to turn these into `for(int i = 0; i &lt; City.length(); i++)`","title":"How to use a for loop for this problem in Java","body":"<p>You have a case where you want to &quot;compare&quot; an element of an array with eachother. I suppose that you do not mind small optimisation problems so I'm making it simple :</p>\n<pre><code>//Step 1 : iterate over all your cities.\nfor(Cities current : City) {\n    //Step 2 : compare current city with eachother\n    for(Cities other : City) {\n        //Step 3 : make sure that you don't compare a city with itself\n        if(!current.equals(other)) {\n            //Step 4 : use the distance method using the other's coordinates :)\n            current.Distance(other.City_X_Location, other.City_Y_Location);\n        }\n    }\n}\n</code></pre>\n<p>This way, each element (first loop) will be compared with each other (second loop). The &quot;if&quot; statement is just made to be sure that you don't compare twice the same element.</p>\n<p>I'm using the <code>city.City_X_Location</code> and <code>city.City_Y_Location</code> dirrectly as you show it in your Distance method, thinking that it would be a <code>public</code> attribute, but it would be better if you could make it private and create a <code>getCity_X_Location()</code> method.</p>\n<p>Finally, if you're not used to use the <code>for(Item i : Iterrable)</code> syntax, feel free to turn these into <code>for(int i = 0; i &lt; City.length(); i++)</code></p>\n"}],"owner":{"account_id":15067753,"reputation":11,"user_id":14808688,"display_name":"NewCoder2001"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74488710,"answer_count":1,"score":-1,"last_activity_date":1668769549,"creation_date":1668767379,"question_id":74488264,"body_markdown":"    public class Lab2 {\r\n        public static Cities [] PathSolution = new Cities[7];\r\n        int PathIndex = 0;\r\n        int StartCity;\r\n    \r\n        static Cities [] City = new Cities [4];\r\n        public static void main(String[] args){\r\n            for(int i = 0; i&lt;City.length; i++)\r\n                City[i] = new Cities();\r\n            City[0].Initialization ( 0, 1, 1);\r\n            City[1].Initialization ( 1, 5, 5);\r\n            City[2].Initialization ( 2, 10, 3);\r\n            City[3].Initialization ( 3, 2, 7);\r\n\r\nI would like to use a for loop in this problem such that it would go through all the citites. for example: \r\n    \r\n\r\n        City[0].Distance(5, 5);\r\n        City[0].Distance(10, 3);\r\n        City[0].Distance(2, 7);\r\n        City[1].Distance(1, 1);\r\n        City[1].Distance(10, 3);\r\n        City[1].Distance(2, 7);\r\n        City[2].Distance(1, 1);\r\n        City[2].Distance(5, 5);\r\n        City[2].Distance(2, 7);\r\n        City[3].Distance(1, 1);\r\n        City[3].Distance(5, 5);\r\n        City[3].Distance(10, 3);\r\n\r\nCurrently, I am manually typing the above code in order to go through all Cities using the &quot;Distance&quot; method that I have created. So right now I need to manually write City[0] - City[1], City[0] - City[2].. City[1] - City[0], City[1] - City[2] etc..\r\n\r\nSo basically I want each city to go through each city (except itself) using the Distance method. \r\nExplaining the code:\r\nThe Initialization is in this format (cityID, cityX, cityY) \r\n(The x and y are coordinates)\r\nThe Distance formula works like this:\r\nCity[a].Distance(x,y)\r\nThe x and y coordinates are the coordinates of the cities 0,1,2 and 3, and are currently being manually entered by me. \r\nI would like to have a for loop that would go through all cities (except itself).\r\n\r\nI was trying this for loop but it wasn&#39;t working:\r\n\r\n    for (int i = 0; i &lt; City.length; i++) {\r\n                City[i].Distance(5, 5);\r\n                i++;\r\n                City[i].Distance(10,3);\r\n                i++;\r\n                City[i].Distance(2,7);\r\n                i++;\r\n            }\r\n\r\nThis is the Distance Method:\r\n\r\n    public void Distance(float x, float y) {\r\n            int dist = (int) sqrt(Math.pow(City_X_Location - x , 2) + Math.pow(City_Y_Location - y , 2));\r\n            System.out.println(dist);\r\n        }\r\nThis is what I get when I use the Distance Method:\r\n    \r\n\r\n    City[0].Distance(5, 5);\r\n\r\n    3\r\n\r\nThis is the result I get when I type it manually and what I should get from the for loop:\r\n\r\n    3\r\n    8\r\n    0\r\n    6\r\n    8\r\n    0\r\n    6\r\n    3\r\n    0\r\n    6\r\n    3\r\n    8\r\n\r\n","title":"How to use a for loop for this problem in Java","body":"<pre><code>public class Lab2 {\n    public static Cities [] PathSolution = new Cities[7];\n    int PathIndex = 0;\n    int StartCity;\n\n    static Cities [] City = new Cities [4];\n    public static void main(String[] args){\n        for(int i = 0; i&lt;City.length; i++)\n            City[i] = new Cities();\n        City[0].Initialization ( 0, 1, 1);\n        City[1].Initialization ( 1, 5, 5);\n        City[2].Initialization ( 2, 10, 3);\n        City[3].Initialization ( 3, 2, 7);\n</code></pre>\n<p>I would like to use a for loop in this problem such that it would go through all the citites. for example:</p>\n<pre><code>    City[0].Distance(5, 5);\n    City[0].Distance(10, 3);\n    City[0].Distance(2, 7);\n    City[1].Distance(1, 1);\n    City[1].Distance(10, 3);\n    City[1].Distance(2, 7);\n    City[2].Distance(1, 1);\n    City[2].Distance(5, 5);\n    City[2].Distance(2, 7);\n    City[3].Distance(1, 1);\n    City[3].Distance(5, 5);\n    City[3].Distance(10, 3);\n</code></pre>\n<p>Currently, I am manually typing the above code in order to go through all Cities using the &quot;Distance&quot; method that I have created. So right now I need to manually write City[0] - City[1], City[0] - City[2].. City[1] - City[0], City[1] - City[2] etc..</p>\n<p>So basically I want each city to go through each city (except itself) using the Distance method.\nExplaining the code:\nThe Initialization is in this format (cityID, cityX, cityY)\n(The x and y are coordinates)\nThe Distance formula works like this:\nCity[a].Distance(x,y)\nThe x and y coordinates are the coordinates of the cities 0,1,2 and 3, and are currently being manually entered by me.\nI would like to have a for loop that would go through all cities (except itself).</p>\n<p>I was trying this for loop but it wasn't working:</p>\n<pre><code>for (int i = 0; i &lt; City.length; i++) {\n            City[i].Distance(5, 5);\n            i++;\n            City[i].Distance(10,3);\n            i++;\n            City[i].Distance(2,7);\n            i++;\n        }\n</code></pre>\n<p>This is the Distance Method:</p>\n<pre><code>public void Distance(float x, float y) {\n        int dist = (int) sqrt(Math.pow(City_X_Location - x , 2) + Math.pow(City_Y_Location - y , 2));\n        System.out.println(dist);\n    }\n</code></pre>\n<p>This is what I get when I use the Distance Method:</p>\n<pre><code>City[0].Distance(5, 5);\n\n3\n</code></pre>\n<p>This is the result I get when I type it manually and what I should get from the for loop:</p>\n<pre><code>3\n8\n0\n6\n8\n0\n6\n3\n0\n6\n3\n8\n</code></pre>\n"},{"tags":["java","if-statement","numbers","switch-statement"],"comments":[{"owner":{"display_name":"user6073886"},"score":7,"creation_date":1668768979,"post_id":74488577,"comment_id":131492152,"body_markdown":"Why not just do `if(n&gt;=1 &amp;&amp; n&lt;=6)`?","body":"Why not just do <code>if(n&gt;=1 &amp;&amp; n&lt;=6)</code>?"},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769041,"post_id":74488577,"comment_id":131492178,"body_markdown":"Jesus, you are right, but can I still do it when its a &quot;large&quot; set of numbers? Lets say 100?Also what to do when I want to use the 4 as example? @OHGODSPIDERS","body":"Jesus, you are right, but can I still do it when its a &quot;large&quot; set of numbers? Lets say 100?Also what to do when I want to use the 4 as example? @OHGODSPIDERS"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668769120,"post_id":74488577,"comment_id":131492197,"body_markdown":"That entirely depends on that &quot;large set of numbers&quot; and how they are related.","body":"That entirely depends on that &quot;large set of numbers&quot; and how they are related."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1668769173,"post_id":74488577,"comment_id":131492209,"body_markdown":"You only need two numbers, the ones that define the borders of the specific set of numbers. You can just do it like @OHGODSPIDERS did with the range 1..6, just take 1..100. Having a set of non-consecutive numbers will have to be tackled differently.","body":"You only need two numbers, the ones that define the borders of the specific set of numbers. You can just do it like @OHGODSPIDERS did with the range 1..6, just take 1..100. Having a set of non-consecutive numbers will have to be tackled differently."},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769308,"post_id":74488577,"comment_id":131492252,"body_markdown":"Lets say they are non-consecutive - what to use then? @deHaar","body":"Lets say they are non-consecutive - what to use then? @deHaar"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1668769409,"post_id":74488577,"comment_id":131492294,"body_markdown":"@Woody Just a check for each range individually should be enough then. So basically `if(n&gt;=1 &amp;&amp; n&lt;=10 || n&gt;=20 &amp;&amp; n&lt;=30)` and so on","body":"@Woody Just a check for each range individually should be enough then. So basically <code>if(n&gt;=1 &amp;&amp; n&lt;=10 || n&gt;=20 &amp;&amp; n&lt;=30)</code> and so on"},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769511,"post_id":74488577,"comment_id":131492327,"body_markdown":"Is this &quot;smarter&quot; or better than my attempts? @QBrute","body":"Is this &quot;smarter&quot; or better than my attempts? @QBrute"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1668769687,"post_id":74488577,"comment_id":131492379,"body_markdown":"if you have non-consecutive numbers, your approach is fine. There are several ways to achieve the goal, so you&#39;d have to decide case by case which is most readable (and preferrably non-bloated). I&#39;d for instance never use a switch expression/statement to achieve  this behaviour.","body":"if you have non-consecutive numbers, your approach is fine. There are several ways to achieve the goal, so you&#39;d have to decide case by case which is most readable (and preferrably non-bloated). I&#39;d for instance never use a switch expression/statement to achieve  this behaviour."},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769746,"post_id":74488577,"comment_id":131492393,"body_markdown":"Thanks a lot to all of you.","body":"Thanks a lot to all of you."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668769754,"post_id":74488577,"comment_id":131492398,"body_markdown":"@Woody you need to be more specific. You are being so vague it makes answering almost impossible. In your example you gave a simple range that can be checked with a simple if. The same can be done for every other range. If you want to check if a number is a multiple of 2 that can also be easily checked or if you want to check if a number starts or ends with a specific digit. But if the 100 numbers you want to check have absolutely no logical relation to another and are completely random then we are dealing with a whole different problem. Ask about the specific problem you are trying to solve.","body":"@Woody you need to be more specific. You are being so vague it makes answering almost impossible. In your example you gave a simple range that can be checked with a simple if. The same can be done for every other range. If you want to check if a number is a multiple of 2 that can also be easily checked or if you want to check if a number starts or ends with a specific digit. But if the 100 numbers you want to check have absolutely no logical relation to another and are completely random then we are dealing with a whole different problem. Ask about the specific problem you are trying to solve."},{"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"score":0,"creation_date":1668769907,"post_id":74488577,"comment_id":131492444,"body_markdown":"Thank you, my bad. Lets say they have absolutely no logical relation to another and are completely randomly. I question was already answared because I only have 1-6 but nowI want to know the next step when they are completely random  @OHGODSPIDERS","body":"Thank you, my bad. Lets say they have absolutely no logical relation to another and are completely randomly. I question was already answared because I only have 1-6 but nowI want to know the next step when they are completely random  @OHGODSPIDERS"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668770220,"post_id":74488577,"comment_id":131492538,"body_markdown":"`Set.of(1,7,33,...,1029).contains(n)`","body":"<code>Set.of(1,7,33,...,1029).contains(n)</code>"}],"owner":{"account_id":26973028,"reputation":3,"user_id":20538740,"display_name":"Woody"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668768829,"creation_date":1668768829,"question_id":74488577,"body_markdown":"I have to check if my `int n` equals `1 or 2 or 3 or 4 or 5 or 6`\r\nIs it bad practice to do it like this:\r\n\r\n```\r\n//n = randomnumber\r\nprivate final List&lt;Integer&gt; numbers = Arrays.asList(0,1,2,3,4,5,6);\r\nif(numbers.contains(n)){\r\nreturn;\r\n}\r\n```\r\nor should I do a switch?\r\n\r\n\r\n```\r\nswitch(n){\r\n\r\ncase 1:\r\n     return;\r\nbreak;\r\n\r\n\r\ncase 2:\r\n     return;\r\nbreak;\r\n//...\r\ncase 6:\r\n     return;\r\nbreak;\r\n}\r\n```\r\n\r\n\r\n\r\nI could also do if statmements but I guess I dont have to","title":"Bad practice when I want to check like this if an int is this number?","body":"<p>I have to check if my <code>int n</code> equals <code>1 or 2 or 3 or 4 or 5 or 6</code>\nIs it bad practice to do it like this:</p>\n<pre><code>//n = randomnumber\nprivate final List&lt;Integer&gt; numbers = Arrays.asList(0,1,2,3,4,5,6);\nif(numbers.contains(n)){\nreturn;\n}\n</code></pre>\n<p>or should I do a switch?</p>\n<pre><code>switch(n){\n\ncase 1:\n     return;\nbreak;\n\n\ncase 2:\n     return;\nbreak;\n//...\ncase 6:\n     return;\nbreak;\n}\n</code></pre>\n<p>I could also do if statmements but I guess I dont have to</p>\n"},{"tags":["java","maven","swing","netbeans"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1668763134,"post_id":74487310,"comment_id":131490093,"body_markdown":"java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()","body":"java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1668767286,"post_id":74487310,"comment_id":131491555,"body_markdown":"Since you provided a non-default constructor for your `CustomTable` class, the compiler did not implicitly declare a default (no args) constructor on your behalf. See [section 8.8.9 Default Constructor](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9) of the Java Language Specification. That resulted in the `newInstance()` call (shown at the bottom of your stack trace) failing with a `NoSuchMethodException` because `CustomTable()` does not exist. Consider providing an answer to your own question once you understand the problem.","body":"Since you provided a non-default constructor for your <code>CustomTable</code> class, the compiler did not implicitly declare a default (no args) constructor on your behalf. See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9\" rel=\"nofollow noreferrer\">section 8.8.9 Default Constructor</a> of the Java Language Specification. That resulted in the <code>newInstance()</code> call (shown at the bottom of your stack trace) failing with a <code>NoSuchMethodException</code> because <code>CustomTable()</code> does not exist. Consider providing an answer to your own question once you understand the problem."},{"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"score":0,"creation_date":1668767635,"post_id":74487310,"comment_id":131491676,"body_markdown":"@skomisa Thank you very Much for the quick and straight to the point answer adding a Default Constructor fixed the issue","body":"@skomisa Thank you very Much for the quick and straight to the point answer adding a Default Constructor fixed the issue"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1668767946,"post_id":74487310,"comment_id":131491784,"body_markdown":"@Lemonjuice That&#39;s good. Now consider writing an answer to your own question, and accepting it. Answered questions are always more helpful to the community.","body":"@Lemonjuice That&#39;s good. Now consider writing an answer to your own question, and accepting it. Answered questions are always more helpful to the community."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1668792276,"post_id":74487310,"comment_id":131500255,"body_markdown":"O/T: Two misguided people voting to close this question without comment because it _&quot;Needs debugging details&quot;_ even though the question included their code and a relevant stack trace, which was all that was needed to resolve the issue?! Over zealous close voters do more harm than good on SO, and surely drive new posters away.","body":"O/T: Two misguided people voting to close this question without comment because it <i>&quot;Needs debugging details&quot;</i> even though the question included their code and a relevant stack trace, which was all that was needed to resolve the issue?! Over zealous close voters do more harm than good on SO, and surely drive new posters away."}],"answers":[{"tags":[],"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668768591,"creation_date":1668768591,"answer_id":74488535,"question_id":74487310,"body_markdown":"The newInstance() call failed throwing an exception (NoSuchMethodException) Because no default constructor for the custom class was found thus what i did was create a default constructor and that fixed the issue  ","title":"Invalid Component Netbeans Java Swing /Maven","body":"<p>The newInstance() call failed throwing an exception (NoSuchMethodException) Because no default constructor for the custom class was found thus what i did was create a default constructor and that fixed the issue</p>\n"}],"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668768591,"creation_date":1668762817,"question_id":74487310,"body_markdown":"[enter image description here](https://i.stack.imgur.com/2XUNa.jpg)\r\nMy project was working perfectly, and then somehow when I opened netbeans I was surprised to see this exception:\r\n\r\n```none\r\njava.lang.InstantiationException: com.mycompany.mma.CustomTable\r\n\tat java.base/java.lang.Class.newInstance(Class.java:678)\r\n\tat org.netbeans.modules.form.CreationFactory.createDefaultInstance(CreationFactory.java:155)\r\n\tat org.netbeans.modules.form.RADComponent.createBeanInstance(RADComponent.java:227)\r\n\tat org.netbeans.modules.form.RADComponent.initInstance(RADComponent.java:166)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:761)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:484)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:260)\r\n\tat org.netbeans.modules.form.FormEditor$2.run(FormEditor.java:327)\r\n\tat org.netbeans.modules.form.FormLAF$2.run(FormLAF.java:268)\r\n\tat org.netbeans.modules.openide.util.NbMutexEventProvider$Event.doEventAccess(NbMutexEventProvider.java:123)\r\n\tat org.netbeans.modules.openide.util.NbMutexEventProvider$Event.readAccess(NbMutexEventProvider.java:77)\r\n\tat org.netbeans.modules.openide.util.LazyMutexImplementation.readAccess(LazyMutexImplementation.java:71)\r\n\tat org.openide.util.Mutex.readAccess(Mutex.java:231)\r\n\tat org.netbeans.modules.form.FormLAF.executeWithLookAndFeel(FormLAF.java:251)\r\n\tat org.netbeans.modules.form.FormEditor.loadFormData(FormEditor.java:324)\r\n\tat org.netbeans.modules.nbform.FormEditorSupport.loadOpeningForm(FormEditorSupport.java:436)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC.loadForm(FormDesignerTC.java:256)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC.access$300(FormDesignerTC.java:64)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC$PreLoadTask$1.run(FormDesignerTC.java:245)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:136)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3641)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:665)\r\n\t... 37 more\r\njava.lang.InstantiationException: com.mycompany.mma.CustomTable\r\n\tat java.base/java.lang.Class.newInstance(Class.java:678)\r\n\tat org.netbeans.modules.form.CreationFactory.createDefaultInstance(CreationFactory.java:155)\r\n\tat org.netbeans.modules.form.RADComponent.createBeanInstance(RADComponent.java:227)\r\n\tat org.netbeans.modules.form.RADComponent.initInstance(RADComponent.java:166)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:761)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:484)\r\n\tat org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:260)\r\n\tat org.netbeans.modules.form.FormEditor$2.run(FormEditor.java:327)\r\n\tat org.netbeans.modules.form.FormLAF$2.run(FormLAF.java:268)\r\n\tat org.netbeans.modules.openide.util.NbMutexEventProvider$Event.doEventAccess(NbMutexEventProvider.java:123)\r\n\tat org.netbeans.modules.openide.util.NbMutexEventProvider$Event.readAccess(NbMutexEventProvider.java:77)\r\n\tat org.netbeans.modules.openide.util.LazyMutexImplementation.readAccess(LazyMutexImplementation.java:71)\r\n\tat org.openide.util.Mutex.readAccess(Mutex.java:231)\r\n\tat org.netbeans.modules.form.FormLAF.executeWithLookAndFeel(FormLAF.java:251)\r\n\tat org.netbeans.modules.form.FormEditor.loadFormData(FormEditor.java:324)\r\n\tat org.netbeans.modules.nbform.FormEditorSupport.loadOpeningForm(FormEditorSupport.java:436)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC.loadForm(FormDesignerTC.java:256)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC.access$300(FormDesignerTC.java:64)\r\n\tat org.netbeans.modules.nbform.FormDesignerTC$PreLoadTask$1.run(FormDesignerTC.java:245)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:136)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3641)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:665)\r\n\t... 39 more\r\n```\r\n\r\nI created a custom table and a custom button with slide effect animation. It was working perfectly, but then this happened\r\n\r\nThis is the code for the custom table:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport static java.awt.Color.black;\r\nimport static java.awt.Color.red;\r\nimport java.awt.Component;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport javax.swing.JTable;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.JTableHeader;\r\nimport javax.swing.table.TableCellRenderer;\r\nimport javax.swing.table.TableModel;\r\n\r\n/**\r\n *\r\n * @author Haythem\r\n */\r\npublic class CustomTable extends JTable{\r\n        \r\n    public CustomTable(int a , int b ,int c){    \r\n        getTableHeader().setDefaultRenderer(new CustomTableHeader(a,b,c));\r\n        getTableHeader().setPreferredSize(new Dimension(0,70));\r\n        setDefaultRenderer(Object.class, new CustomTableCell());\r\n        setRowHeight(45);\r\n        setBorder(null);\r\n        this.setOpaque(true);\r\n        this.setBackground(new java.awt.Color(10, 100, 10));\r\nthis.isCellEditable(-1, -1);\r\nthis.setEditingRow(-1);\r\nthis.setEditingColumn(-1);\r\nthis.setDefaultEditor(Object.class, null);\r\n\r\n        \r\n    }\r\n    \r\n   private class CustomTableHeader extends DefaultTableCellRenderer{\r\n\r\n        public CustomTableHeader(int a , int b , int c) {\r\n            setcolor(a, b, c);\r\n        }\r\n        \r\n        int l,k,m;\r\n        public void setcolor(int a , int b , int c){\r\n       this.l=a;\r\n       this.k=b;\r\n       this.m=c;\r\n        }\r\n       @Override\r\n       public Component getTableCellRendererComponent(JTable table , Object o , boolean b , boolean b1 , int i , int i2){\r\n           Component c= super.getTableCellRendererComponent(table, o, b1, b1, i, i2);\r\n           c.setBackground(new java.awt.Color(l,k,m));\r\n           c.setFont(new Font(&quot;AraAlmBon&quot;,Font.BOLD,14));\r\n           return c;\r\n       }\r\n        \r\n    }\r\n    private class CustomTableCell extends DefaultTableCellRenderer{\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n           Component c=super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); \r\n            if(isCellSelected(row, column)){\r\n               if(row%2==0){\r\n                   c.setBackground(new java.awt.Color(33,103,153));\r\n               }\r\n               else{\r\n                    c.setBackground(new java.awt.Color(29,86,127));\r\n               }\r\n           }\r\n           else{\r\n                if(row%2==0){\r\n                    c.setBackground(new java.awt.Color(50,50,50));\r\n               }\r\n               else{\r\n                    c.setBackground(new java.awt.Color(30,30,30));\r\n               }\r\n           }\r\n           c.setForeground(new Color(200,200,200));\r\n           setBorder(new EmptyBorder(0,5,0,5));\r\n           return c;\r\n        }\r\n        \r\n    }\r\n  \r\n    private class CustomTablef extends DefaultTableCellRenderer{\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            return super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/OverriddenMethodBody\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the custom button code:\r\n\r\n```\r\nimport javax.swing.JButton;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.geom.Area;\r\nimport java.awt.geom.RoundRectangle2D;\r\n\r\n/**\r\n *\r\n * @author Haythem\r\n */\r\npublic class Button extends JButton{\r\n    public float getAnimate() {\r\n        return animate;\r\n    }\r\n\r\n    /**\r\n     * @param animate the animate to set\r\n     */\r\n    public void setAnimate(float animate) {\r\n        this.animate = animate;\r\n        repaint();\r\n    }\r\n    private float animate;\r\n  public Button(){\r\n      setOpaque(false);\r\n      setContentAreaFilled(false);\r\n  }\r\n    @Override\r\npublic void paint(Graphics grphcs){\r\nGraphics2D g;\r\ng=(Graphics2D)grphcs.create();\r\ng.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\ndouble width=getWidth();\r\ndouble height=getHeight();\r\ndouble x=animate*width-width;\r\nArea area=new Area(new RoundRectangle2D.Double(x,0,width,height,0,0));\r\ng.setColor(new java.awt.Color(0, 110, 50));\r\ng.fill(area);\r\ng.dispose();\r\n    super.paint(grphcs);\r\n}\r\n}\r\n```\r\n\r\n\r\nI tried to remove the component and try again. It worked for a while and then the issue resurfaced.","title":"Invalid Component Netbeans Java Swing /Maven","body":"<p><a href=\"https://i.stack.imgur.com/2XUNa.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nMy project was working perfectly, and then somehow when I opened netbeans I was surprised to see this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.InstantiationException: com.mycompany.mma.CustomTable\n    at java.base/java.lang.Class.newInstance(Class.java:678)\n    at org.netbeans.modules.form.CreationFactory.createDefaultInstance(CreationFactory.java:155)\n    at org.netbeans.modules.form.RADComponent.createBeanInstance(RADComponent.java:227)\n    at org.netbeans.modules.form.RADComponent.initInstance(RADComponent.java:166)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:761)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:484)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:260)\n    at org.netbeans.modules.form.FormEditor$2.run(FormEditor.java:327)\n    at org.netbeans.modules.form.FormLAF$2.run(FormLAF.java:268)\n    at org.netbeans.modules.openide.util.NbMutexEventProvider$Event.doEventAccess(NbMutexEventProvider.java:123)\n    at org.netbeans.modules.openide.util.NbMutexEventProvider$Event.readAccess(NbMutexEventProvider.java:77)\n    at org.netbeans.modules.openide.util.LazyMutexImplementation.readAccess(LazyMutexImplementation.java:71)\n    at org.openide.util.Mutex.readAccess(Mutex.java:231)\n    at org.netbeans.modules.form.FormLAF.executeWithLookAndFeel(FormLAF.java:251)\n    at org.netbeans.modules.form.FormEditor.loadFormData(FormEditor.java:324)\n    at org.netbeans.modules.nbform.FormEditorSupport.loadOpeningForm(FormEditorSupport.java:436)\n    at org.netbeans.modules.nbform.FormDesignerTC.loadForm(FormDesignerTC.java:256)\n    at org.netbeans.modules.nbform.FormDesignerTC.access$300(FormDesignerTC.java:64)\n    at org.netbeans.modules.nbform.FormDesignerTC$PreLoadTask$1.run(FormDesignerTC.java:245)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:136)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3641)\n    at java.base/java.lang.Class.newInstance(Class.java:665)\n    ... 37 more\njava.lang.InstantiationException: com.mycompany.mma.CustomTable\n    at java.base/java.lang.Class.newInstance(Class.java:678)\n    at org.netbeans.modules.form.CreationFactory.createDefaultInstance(CreationFactory.java:155)\n    at org.netbeans.modules.form.RADComponent.createBeanInstance(RADComponent.java:227)\n    at org.netbeans.modules.form.RADComponent.initInstance(RADComponent.java:166)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:761)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.restoreComponent(GandalfPersistenceManager.java:805)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadComponent(GandalfPersistenceManager.java:949)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:484)\n    at org.netbeans.modules.form.GandalfPersistenceManager.loadForm(GandalfPersistenceManager.java:260)\n    at org.netbeans.modules.form.FormEditor$2.run(FormEditor.java:327)\n    at org.netbeans.modules.form.FormLAF$2.run(FormLAF.java:268)\n    at org.netbeans.modules.openide.util.NbMutexEventProvider$Event.doEventAccess(NbMutexEventProvider.java:123)\n    at org.netbeans.modules.openide.util.NbMutexEventProvider$Event.readAccess(NbMutexEventProvider.java:77)\n    at org.netbeans.modules.openide.util.LazyMutexImplementation.readAccess(LazyMutexImplementation.java:71)\n    at org.openide.util.Mutex.readAccess(Mutex.java:231)\n    at org.netbeans.modules.form.FormLAF.executeWithLookAndFeel(FormLAF.java:251)\n    at org.netbeans.modules.form.FormEditor.loadFormData(FormEditor.java:324)\n    at org.netbeans.modules.nbform.FormEditorSupport.loadOpeningForm(FormEditorSupport.java:436)\n    at org.netbeans.modules.nbform.FormDesignerTC.loadForm(FormDesignerTC.java:256)\n    at org.netbeans.modules.nbform.FormDesignerTC.access$300(FormDesignerTC.java:64)\n    at org.netbeans.modules.nbform.FormDesignerTC$PreLoadTask$1.run(FormDesignerTC.java:245)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at org.netbeans.core.TimableEventQueue.dispatchEvent(TimableEventQueue.java:136)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.NoSuchMethodException: com.mycompany.mma.CustomTable.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3641)\n    at java.base/java.lang.Class.newInstance(Class.java:665)\n    ... 39 more\n</code></pre>\n<p>I created a custom table and a custom button with slide effect animation. It was working perfectly, but then this happened</p>\n<p>This is the code for the custom table:</p>\n<pre><code>import java.awt.Color;\nimport static java.awt.Color.black;\nimport static java.awt.Color.red;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport javax.swing.JTable;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.JTableHeader;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.table.TableModel;\n\n/**\n *\n * @author Haythem\n */\npublic class CustomTable extends JTable{\n        \n    public CustomTable(int a , int b ,int c){    \n        getTableHeader().setDefaultRenderer(new CustomTableHeader(a,b,c));\n        getTableHeader().setPreferredSize(new Dimension(0,70));\n        setDefaultRenderer(Object.class, new CustomTableCell());\n        setRowHeight(45);\n        setBorder(null);\n        this.setOpaque(true);\n        this.setBackground(new java.awt.Color(10, 100, 10));\nthis.isCellEditable(-1, -1);\nthis.setEditingRow(-1);\nthis.setEditingColumn(-1);\nthis.setDefaultEditor(Object.class, null);\n\n        \n    }\n    \n   private class CustomTableHeader extends DefaultTableCellRenderer{\n\n        public CustomTableHeader(int a , int b , int c) {\n            setcolor(a, b, c);\n        }\n        \n        int l,k,m;\n        public void setcolor(int a , int b , int c){\n       this.l=a;\n       this.k=b;\n       this.m=c;\n        }\n       @Override\n       public Component getTableCellRendererComponent(JTable table , Object o , boolean b , boolean b1 , int i , int i2){\n           Component c= super.getTableCellRendererComponent(table, o, b1, b1, i, i2);\n           c.setBackground(new java.awt.Color(l,k,m));\n           c.setFont(new Font(&quot;AraAlmBon&quot;,Font.BOLD,14));\n           return c;\n       }\n        \n    }\n    private class CustomTableCell extends DefaultTableCellRenderer{\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n           Component c=super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); \n            if(isCellSelected(row, column)){\n               if(row%2==0){\n                   c.setBackground(new java.awt.Color(33,103,153));\n               }\n               else{\n                    c.setBackground(new java.awt.Color(29,86,127));\n               }\n           }\n           else{\n                if(row%2==0){\n                    c.setBackground(new java.awt.Color(50,50,50));\n               }\n               else{\n                    c.setBackground(new java.awt.Color(30,30,30));\n               }\n           }\n           c.setForeground(new Color(200,200,200));\n           setBorder(new EmptyBorder(0,5,0,5));\n           return c;\n        }\n        \n    }\n  \n    private class CustomTablef extends DefaultTableCellRenderer{\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            return super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/OverriddenMethodBody\n        }\n    }\n}\n</code></pre>\n<p>This is the custom button code:</p>\n<pre><code>import javax.swing.JButton;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.geom.Area;\nimport java.awt.geom.RoundRectangle2D;\n\n/**\n *\n * @author Haythem\n */\npublic class Button extends JButton{\n    public float getAnimate() {\n        return animate;\n    }\n\n    /**\n     * @param animate the animate to set\n     */\n    public void setAnimate(float animate) {\n        this.animate = animate;\n        repaint();\n    }\n    private float animate;\n  public Button(){\n      setOpaque(false);\n      setContentAreaFilled(false);\n  }\n    @Override\npublic void paint(Graphics grphcs){\nGraphics2D g;\ng=(Graphics2D)grphcs.create();\ng.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\ndouble width=getWidth();\ndouble height=getHeight();\ndouble x=animate*width-width;\nArea area=new Area(new RoundRectangle2D.Double(x,0,width,height,0,0));\ng.setColor(new java.awt.Color(0, 110, 50));\ng.fill(area);\ng.dispose();\n    super.paint(grphcs);\n}\n}\n</code></pre>\n<p>I tried to remove the component and try again. It worked for a while and then the issue resurfaced.</p>\n"},{"tags":["java","spring-boot","camunda","camunda-modeler","camunda-spin"],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668735246,"creation_date":1668735246,"answer_id":74484029,"question_id":74472663,"body_markdown":"You need to move the code to a class implementing JavaDelegate Preferbaly this should be a Spring bean. See here: https://docs.camunda.org/get-started/spring/service-task/#invoke-a-spring-bean-from-a-bpmn-2-0-service-task\r\n\r\n    package org.camunda.bpm.getstarted.loanapproval;\r\n    \r\n    import org.camunda.bpm.engine.delegate.DelegateExecution;\r\n    import org.camunda.bpm.engine.delegate.JavaDelegate;\r\n    \r\n    @Component\r\n    public class CalculateInterestService implements JavaDelegate {\r\n    \r\n      public void execute(DelegateExecution delegate) {\r\n    \r\n        System.out.println(&quot;Spring Bean invoked.&quot;);\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nHere is a more comprehensive example, showing different ways to manage paramaters for your service in the model: https://github.com/rob2universe/flexible-delegate/blob/main/src/main/java/com/camunda/example/service/LoggerDelegate.java\r\n\r\n\r\n\r\n","title":"Camunda dependent class as a separate Service Task","body":"<p>You need to move the code to a class implementing JavaDelegate Preferbaly this should be a Spring bean. See here: <a href=\"https://docs.camunda.org/get-started/spring/service-task/#invoke-a-spring-bean-from-a-bpmn-2-0-service-task\" rel=\"nofollow noreferrer\">https://docs.camunda.org/get-started/spring/service-task/#invoke-a-spring-bean-from-a-bpmn-2-0-service-task</a></p>\n<pre><code>package org.camunda.bpm.getstarted.loanapproval;\n\nimport org.camunda.bpm.engine.delegate.DelegateExecution;\nimport org.camunda.bpm.engine.delegate.JavaDelegate;\n\n@Component\npublic class CalculateInterestService implements JavaDelegate {\n\n  public void execute(DelegateExecution delegate) {\n\n    System.out.println(&quot;Spring Bean invoked.&quot;);\n\n  }\n\n}\n</code></pre>\n<p>Here is a more comprehensive example, showing different ways to manage paramaters for your service in the model: <a href=\"https://github.com/rob2universe/flexible-delegate/blob/main/src/main/java/com/camunda/example/service/LoggerDelegate.java\" rel=\"nofollow noreferrer\">https://github.com/rob2universe/flexible-delegate/blob/main/src/main/java/com/camunda/example/service/LoggerDelegate.java</a></p>\n"}],"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74484029,"answer_count":1,"score":0,"last_activity_date":1668768554,"creation_date":1668675738,"question_id":74472663,"body_markdown":"I have below requiremnt,\r\n\r\n 1. http://localhost:8080/order/1 will be called.Workflow will start\r\n 2. I will validate the request.We have a separate Java class written\r\n    for this.\r\n 3. Return The response &quot;Hello World&quot; or Error messages if validation failed in second stage.Response should be returned only after completion of 2nd stage\r\n\r\nFirst workflow image:- works fine\r\nSecond Workflow Image : - But i want to to create ValidateRequest as a separate ServiceTask.How can achieve it ?\r\n\r\n\r\n\r\n\r\n\r\n    @RestController\r\n    public class MyTestRestController {\r\n    \r\n    @Autowired\r\n    private RuntimeService runtimeService;\r\n    \r\n    @Autowired\r\n    private TaskService taskService;\r\n    \r\n    @Autowired\r\n    private ValidateRequest validateRequest;\r\n    \r\n    @GetMapping(&quot;/order/{id}&quot;)\r\n    public String test(@PathVariable int id) throws Exception {\r\n    \r\n      Map&lt;String, Object&gt; controlParameters = new HashMap&lt;&gt;();\r\n    \r\n      ProcessInstance processInstance = runtimeService.startProcessInstanceByKey(&quot;hello-world-process&quot;,controlParameters);\r\n    \r\n      if (id == 1) {\r\n    \r\n      \tcontrolParameters.put(&quot;errorFlag&quot;, true);\r\n      \tcompleteTask(processInstance, controlParameters);\r\n      \tthrow new IllegalArgumentException(&quot; Illegal Argument &quot;);\r\n      }\r\n    \r\n      controlParameters.put(&quot;errorFlag&quot;, false);\r\n      completeTask(processInstance, controlParameters);\r\n    \r\n      return &quot;Hello World&quot;;\r\n    }\r\n\r\n\r\n\r\n[![This workflow works fine][1]][1]\r\n[![i want to to create ValidateRequest as a separate ServiceTask.How can achieve it ?][2]][2]\r\n\r\n\r\n    @Service\r\n    public class ValidateRequest implements JavaDelegate{\r\n    \r\n    \r\n    \r\n    @Override\r\n    public void execute(DelegateExecution exec) throws Exception {\r\n    \t// TODO Auto-generated method stub\r\n    \t int id =1;\r\n    \t\r\n    \tSystem.out.println(&quot; Starting ValidateRequest&quot;);\r\n    \t\r\n       Thread.sleep(10000);\r\n    \r\n       if(id==1)\r\n       {\r\n    \t   throw new IllegalArgumentException(&quot; Illegal Argument 2 &quot; );\r\n       }\r\n       \r\n        \r\n    \t\r\n    }\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vBrgN.png\r\n  [2]: https://i.stack.imgur.com/EXShy.png\r\n  [3]: https://i.stack.imgur.com/hcSOF.png","title":"Camunda dependent class as a separate Service Task","body":"<p>I have below requiremnt,</p>\n<ol>\n<li>http://localhost:8080/order/1 will be called.Workflow will start</li>\n<li>I will validate the request.We have a separate Java class written\nfor this.</li>\n<li>Return The response &quot;Hello World&quot; or Error messages if validation failed in second stage.Response should be returned only after completion of 2nd stage</li>\n</ol>\n<p>First workflow image:- works fine\nSecond Workflow Image : - But i want to to create ValidateRequest as a separate ServiceTask.How can achieve it ?</p>\n<pre><code>@RestController\npublic class MyTestRestController {\n\n@Autowired\nprivate RuntimeService runtimeService;\n\n@Autowired\nprivate TaskService taskService;\n\n@Autowired\nprivate ValidateRequest validateRequest;\n\n@GetMapping(&quot;/order/{id}&quot;)\npublic String test(@PathVariable int id) throws Exception {\n\n  Map&lt;String, Object&gt; controlParameters = new HashMap&lt;&gt;();\n\n  ProcessInstance processInstance = runtimeService.startProcessInstanceByKey(&quot;hello-world-process&quot;,controlParameters);\n\n  if (id == 1) {\n\n    controlParameters.put(&quot;errorFlag&quot;, true);\n    completeTask(processInstance, controlParameters);\n    throw new IllegalArgumentException(&quot; Illegal Argument &quot;);\n  }\n\n  controlParameters.put(&quot;errorFlag&quot;, false);\n  completeTask(processInstance, controlParameters);\n\n  return &quot;Hello World&quot;;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vBrgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vBrgN.png\" alt=\"This workflow works fine\" /></a>\n<a href=\"https://i.stack.imgur.com/EXShy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EXShy.png\" alt=\"i want to to create ValidateRequest as a separate ServiceTask.How can achieve it ?\" /></a></p>\n<pre><code>@Service\npublic class ValidateRequest implements JavaDelegate{\n\n\n\n@Override\npublic void execute(DelegateExecution exec) throws Exception {\n    // TODO Auto-generated method stub\n     int id =1;\n    \n    System.out.println(&quot; Starting ValidateRequest&quot;);\n    \n   Thread.sleep(10000);\n\n   if(id==1)\n   {\n       throw new IllegalArgumentException(&quot; Illegal Argument 2 &quot; );\n   }\n   \n    \n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hcSOF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hcSOF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","session","tomcat","spring-security"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668769699,"post_id":74488420,"comment_id":131492384,"body_markdown":"interesting. can you try this instead ? https://stackoverflow.com/a/63214800/2165146","body":"interesting. can you try this instead ? <a href=\"https://stackoverflow.com/a/63214800/2165146\">stackoverflow.com/a/63214800/2165146</a>"},{"owner":{"account_id":19899132,"reputation":91,"user_id":14579565,"display_name":"Sapsadoctor"},"score":0,"creation_date":1668789523,"post_id":74488420,"comment_id":131499293,"body_markdown":"@muhammedozbilici I&#39;ve implemented those sessions listeners and created 2 sessions. The session&#39;s timeout was set to 4 hours. In a 3 hours I sent a POST request in the first session and instatnly received the log message stating that the session was destroyed. Then I sent a GET request in another session and the 2nd session remains alive.","body":"@muhammedozbilici I&#39;ve implemented those sessions listeners and created 2 sessions. The session&#39;s timeout was set to 4 hours. In a 3 hours I sent a POST request in the first session and instatnly received the log message stating that the session was destroyed. Then I sent a GET request in another session and the 2nd session remains alive."}],"owner":{"account_id":19899132,"reputation":91,"user_id":14579565,"display_name":"Sapsadoctor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668768473,"creation_date":1668768146,"question_id":74488420,"body_markdown":"I have a Spring Boot/Spring Security application made via Java 16 and Spring Boot v2.7.5 and running on embedded Tomcat server.\r\nThe strange thing about it that I&#39;ve indicated session timeout to 4 hours using application.properties (can be found below), but **when I do POST request after e.g. 3.5 hours of inactivity the session expires** despite this setting and redirects me to login screen. Moreover, I&#39;ve done several checks to investigate this issue and I&#39;ve figured out that **if I do a GET request instead then the session remains** and then I can do any request I want without timeout.\r\n\r\n**Could you advise what can trigger such behaviour, please?** \r\n\r\nMy first thoughts were about cookies and/or CSRF token lifetime. However, looks like CSRF token has no expiration time and it remains the same all the time the session exists. The same thing is about JSESSIONID cookie behavior by default. However, I also tried to set server.servlet.session.cookie.max-age property to 4 hours and it didn&#39;t work neither.\r\n\r\nPlease note, that if I set session timeout to quite lower values like default 30 minutes, everything works as intended. Also, I&#39;ve checked session timeout internaly after server is running using RestController and calling HttpServletRequest.getSession().getMaxInactiveInterval() and the returning value was always equal to server.servlet.session.timeout value, so looks like nothing overrides this property or something.\r\n\r\nThank you for the answers in advance!\r\n\r\nPlease take a look at my application.properties document below:\r\n\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.datasource.url=jdbc:sqlserver://uri;databaseName=DBName\r\n    spring.datasource.username=user\r\n    spring.datasource.password=pwd\r\n    \r\n    spring.datasource.hikari.connectionTimeout=400000\r\n    spring.datasource.hikari.idleTimeout=600000\r\n    spring.datasource.hikari.maxLifetime=1800000\r\n    \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.show-sql=false\r\n    \r\n    server.servlet.session.timeout=240m\r\n    \r\n    server.error.whitelabel.enabled=true\r\n    server.error.include-message=never\r\n    server.error.include-binding-errors=never\r\n    logging.file.path=./log/\r\n    \r\n    spring.web.resources.cache.cachecontrol.no-store=true\r\n    spring.web.resources.cache.cachecontrol.must-revalidate=true\r\n    \r\n    spring.mail.host=smtp.com\r\n    spring.mail.properties.mail.smtp.ssl.trust=smtp.com\r\n    spring.mail.port=587\r\n    spring.mail.username=user@email.com\r\n    spring.mail.password=pwd\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    \r\n    server.port=443\r\n    \r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.key-store=keystore.p12\r\n    server.ssl.key-store-password=pwd\r\n    server.ssl.key-alias=tomcat","title":"Spring Boot session expires during POST request","body":"<p>I have a Spring Boot/Spring Security application made via Java 16 and Spring Boot v2.7.5 and running on embedded Tomcat server.\nThe strange thing about it that I've indicated session timeout to 4 hours using application.properties (can be found below), but <strong>when I do POST request after e.g. 3.5 hours of inactivity the session expires</strong> despite this setting and redirects me to login screen. Moreover, I've done several checks to investigate this issue and I've figured out that <strong>if I do a GET request instead then the session remains</strong> and then I can do any request I want without timeout.</p>\n<p><strong>Could you advise what can trigger such behaviour, please?</strong></p>\n<p>My first thoughts were about cookies and/or CSRF token lifetime. However, looks like CSRF token has no expiration time and it remains the same all the time the session exists. The same thing is about JSESSIONID cookie behavior by default. However, I also tried to set server.servlet.session.cookie.max-age property to 4 hours and it didn't work neither.</p>\n<p>Please note, that if I set session timeout to quite lower values like default 30 minutes, everything works as intended. Also, I've checked session timeout internaly after server is running using RestController and calling HttpServletRequest.getSession().getMaxInactiveInterval() and the returning value was always equal to server.servlet.session.timeout value, so looks like nothing overrides this property or something.</p>\n<p>Thank you for the answers in advance!</p>\n<p>Please take a look at my application.properties document below:</p>\n<pre><code>spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.url=jdbc:sqlserver://uri;databaseName=DBName\nspring.datasource.username=user\nspring.datasource.password=pwd\n\nspring.datasource.hikari.connectionTimeout=400000\nspring.datasource.hikari.idleTimeout=600000\nspring.datasource.hikari.maxLifetime=1800000\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=false\n\nserver.servlet.session.timeout=240m\n\nserver.error.whitelabel.enabled=true\nserver.error.include-message=never\nserver.error.include-binding-errors=never\nlogging.file.path=./log/\n\nspring.web.resources.cache.cachecontrol.no-store=true\nspring.web.resources.cache.cachecontrol.must-revalidate=true\n\nspring.mail.host=smtp.com\nspring.mail.properties.mail.smtp.ssl.trust=smtp.com\nspring.mail.port=587\nspring.mail.username=user@email.com\nspring.mail.password=pwd\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n\nserver.port=443\n\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=keystore.p12\nserver.ssl.key-store-password=pwd\nserver.ssl.key-alias=tomcat\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":19428466,"reputation":36,"user_id":14209474,"display_name":"Nathan Mittelette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668767919,"creation_date":1668767919,"answer_id":74488373,"question_id":74487480,"body_markdown":"I think the problem with your code is in your Product class.\r\nIn the service you fetch all ProductEntity from the database and for each one you create a new Product object. \r\nThe problem is when you create the Product object. You call the constructor : \r\n\r\n```java\r\npublic Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\r\n        // TODO Auto-generated constructor stub;\r\n        return; \r\n    }\r\n``` \r\n\r\nIn this constructor you never assign values to attributes of Product class.\r\nYou should remove this constructor and put this one : \r\n\r\n```java \r\npublic Product(Long prodId, String productName, int productPrice, String productDesc) {\r\n        this.prodId = prodId;\r\n        this.productName = productName;\r\n        this.productPrice = productPrice;\r\n        this.productDesc = productDesc;\r\n    }\r\n```\r\n\r\nIn the constructor, you should always use this.`ATTRIBUT_NAME` to assign values and store them in the class.","title":"Get Request serving NULL values in Springboot REST API","body":"<p>I think the problem with your code is in your Product class.\nIn the service you fetch all ProductEntity from the database and for each one you create a new Product object.\nThe problem is when you create the Product object. You call the constructor :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\n        // TODO Auto-generated constructor stub;\n        return; \n    }\n</code></pre>\n<p>In this constructor you never assign values to attributes of Product class.\nYou should remove this constructor and put this one :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Product(Long prodId, String productName, int productPrice, String productDesc) {\n        this.prodId = prodId;\n        this.productName = productName;\n        this.productPrice = productPrice;\n        this.productDesc = productDesc;\n    }\n</code></pre>\n<p>In the constructor, you should always use this.<code>ATTRIBUT_NAME</code> to assign values and store them in the class.</p>\n"},{"tags":[],"owner":{"account_id":16659495,"reputation":318,"user_id":12039826,"display_name":"ajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668768391,"creation_date":1668768391,"answer_id":74488485,"question_id":74487480,"body_markdown":"I think you should remove the return from the constructor.\r\nand if  you have `@Data` and `@AllArgsConstructor` Lombok annotations  you don&#39;t have to explicitly generate getters, setters and the constructor.\r\n\r\nAnd I would prefer\r\n\r\n    @Override\r\n        public List&lt;Product&gt; getAllProducts(){\r\n            \r\n            List&lt;ProductEntity&gt; productEntities =  productRepository.findAll();\r\n            \r\n            List&lt;Product&gt; products = productEntities.stream()\r\n                                           .map(Product::new)\r\n                                           .collect(Collectors.toList());\r\n            return products;\r\n        }\r\n\r\nAnd from the Product class will look like this\r\n\r\n    public Product(ProductEntity productEntity) {\r\n            this.prodId = productEntity.getProdId();\r\n            this.productName = productEntity.getProductName();\r\n            this.productPrice = productEntity.getProductPrice();\r\n            this.productDesc = productEntity.ProductDesc();\r\n       }\r\n","title":"Get Request serving NULL values in Springboot REST API","body":"<p>I think you should remove the return from the constructor.\nand if  you have <code>@Data</code> and <code>@AllArgsConstructor</code> Lombok annotations  you don't have to explicitly generate getters, setters and the constructor.</p>\n<p>And I would prefer</p>\n<pre><code>@Override\n    public List&lt;Product&gt; getAllProducts(){\n        \n        List&lt;ProductEntity&gt; productEntities =  productRepository.findAll();\n        \n        List&lt;Product&gt; products = productEntities.stream()\n                                       .map(Product::new)\n                                       .collect(Collectors.toList());\n        return products;\n    }\n</code></pre>\n<p>And from the Product class will look like this</p>\n<pre><code>public Product(ProductEntity productEntity) {\n        this.prodId = productEntity.getProdId();\n        this.productName = productEntity.getProductName();\n        this.productPrice = productEntity.getProductPrice();\n        this.productDesc = productEntity.ProductDesc();\n   }\n</code></pre>\n"}],"owner":{"account_id":26971860,"reputation":1,"user_id":20537761,"display_name":"kartikanand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668768391,"creation_date":1668763708,"question_id":74487480,"body_markdown":"I&#39;m fairly new to spring boot and Java, I&#39;ve been working on a REST API using springboot for an ecommerce project but for some reason I can&#39;t get the products from the database, my products are getting saved to the database but whenever I fetch them the fields show up as null values.[this is what I get when I use GET using Postman.](https://i.stack.imgur.com/gWlVn.png)\r\n\r\nMy controller and other files are as follows. \r\n\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.ecommerce.ecommerceappapi.model.Product;\r\nimport com.ecommerce.ecommerceappapi.services.ProductService;\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n@RestController\r\n@RequestMapping(&quot;api/v1/&quot;)\r\npublic class ProductController {\r\n\r\n\t@Autowired\r\n\tprivate final ProductService productService;\r\n\t\r\n\tpublic ProductController(ProductService productService) {\r\n\t\tthis.productService = productService;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/products&quot;)\r\n\tpublic Product createProduct(@RequestBody Product product) {\r\n\t\treturn productService.createProduct(product);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/products&quot;)\r\n\tpublic List&lt;Product&gt; getAllProducts() {\r\n\t\treturn productService.getAllProducts();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nEntity -&gt;\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.entity;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Data\r\n@Table(name=&quot;products&quot;)\r\npublic class ProductEntity {\r\n\t@Id\r\n\t@GeneratedValue(strategy= GenerationType.IDENTITY)\r\n\tprivate long prodId;\r\n\t\t\r\n\tprivate String productName;\r\n\tprivate int productPrice;\r\n\tprivate String productDesc;\r\n\tprivate String productData;\r\n\t\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\tpublic int getProductPrice() {\r\n\t\treturn productPrice;\r\n\t}\r\n\tpublic void setProductPrice(int productPrice) {\r\n\t\tthis.productPrice = productPrice;\r\n\t}\r\n\tpublic String getProductDesc() {\r\n\t\treturn productDesc;\r\n\t}\r\n\tpublic void setProductDesc(String productDesc) {\r\n\t\tthis.productDesc = productDesc;\r\n\t}\r\n\tpublic String getProductData() {\r\n\t\treturn productData;\r\n\t}\r\n\tpublic void setProductData(String productData) {\r\n\t\tthis.productData = productData;\r\n\t}\r\n\tpublic Long getProdId() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn prodId;\r\n\t}\r\n}\r\n\r\n```\r\nService Interface -&gt;\r\n\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.services;\r\n\r\nimport java.util.List;\r\n\r\nimport com.ecommerce.ecommerceappapi.model.Product;\r\n\r\npublic interface ProductService {\r\n\tProduct createProduct(Product product);\r\n\tList&lt;Product&gt; getAllProducts();\r\n}\r\n\r\n```\r\n\r\nService Implementation -&gt;\r\n\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.services;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.ecommerce.ecommerceappapi.entity.ProductEntity;\r\nimport com.ecommerce.ecommerceappapi.model.Product;\r\nimport com.ecommerce.ecommerceappapi.repository.ProductRepository;\r\n\r\n\r\n@Service\r\npublic class ProductServiceImpl implements ProductService {\r\n\r\n\tprivate ProductRepository productRepository;\r\n\t\r\n\tpublic ProductServiceImpl(ProductRepository productRepository) {\r\n\t\tsuper();\r\n\t\tthis.productRepository = productRepository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Product createProduct(Product product) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tProductEntity productEntity = new ProductEntity();\r\n\t\tBeanUtils.copyProperties(product, productEntity);\r\n\t\tproductRepository.save(productEntity);\r\n\t\treturn product;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic List&lt;Product&gt; getAllProducts(){\r\n\t\t\r\n\t\tList&lt;ProductEntity&gt; productEntities =  productRepository.findAll();\r\n\t\t\r\n\t\tList&lt;Product&gt; products = productEntities.stream().map(product -&gt; new Product(\r\n\t\t\t\tproduct.getProdId(), \r\n\t\t\t\tproduct.getProductName(), \r\n\t\t\t\tproduct.getProductPrice(),\r\n\t\t\t\tproduct.getProductDesc()))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\treturn products;\r\n\t\t}\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nRepository -&gt;\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.ecommerce.ecommerceappapi.entity.ProductEntity;\r\n\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;ProductEntity, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\nProduct -&gt;\r\n\r\n\r\n```\r\npackage com.ecommerce.ecommerceappapi.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\n\r\n//import java.util.List;\r\nimport lombok.Data;\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Product {\r\n\tprivate long prodId;\r\n\tprivate String productName;\r\n\tprivate int productPrice;\r\n\tprivate String productDesc;\r\n\tprivate String productData;\r\n\t\r\n\r\n\t\r\n\tpublic Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\r\n\t\t// TODO Auto-generated constructor stub;\r\n\t\treturn; \r\n\t}\r\n\tpublic long getProdId() {\r\n\t\treturn prodId;\r\n\t}\r\n\tpublic void setProdId(long prodId) {\r\n\t\tthis.prodId = prodId;\r\n\t}\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\tpublic int getProductPrice() {\r\n\t\treturn productPrice;\r\n\t}\r\n\tpublic void setProductPrice(int productPrice) {\r\n\t\tthis.productPrice = productPrice;\r\n\t}\r\n\tpublic String getProductDesc() {\r\n\t\treturn productDesc;\r\n\t}\r\n\tpublic void setProductDesc(String productDesc) {\r\n\t\tthis.productDesc = productDesc;\r\n\t}\r\n\tpublic String getProductData() {\r\n\t\treturn productData;\r\n\t}\r\n\tpublic void setProductData(String productData) {\r\n\t\tthis.productData = productData;\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nI figure the Product class is causing the issue as the method\r\n\r\n```\r\npublic Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\r\n\t\t// TODO Auto-generated constructor stub;\r\n\t\treturn; \r\n\t}\r\n```\r\n\r\ndoes not return anything, otherwise I&#39;m totally lost as to what might be the issue here.\r\n","title":"Get Request serving NULL values in Springboot REST API","body":"<p>I'm fairly new to spring boot and Java, I've been working on a REST API using springboot for an ecommerce project but for some reason I can't get the products from the database, my products are getting saved to the database but whenever I fetch them the fields show up as null values.<a href=\"https://i.stack.imgur.com/gWlVn.png\" rel=\"nofollow noreferrer\">this is what I get when I use GET using Postman.</a></p>\n<p>My controller and other files are as follows.</p>\n<pre><code>package com.ecommerce.ecommerceappapi.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.ecommerce.ecommerceappapi.model.Product;\nimport com.ecommerce.ecommerceappapi.services.ProductService;\n\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n@RestController\n@RequestMapping(&quot;api/v1/&quot;)\npublic class ProductController {\n\n    @Autowired\n    private final ProductService productService;\n    \n    public ProductController(ProductService productService) {\n        this.productService = productService;\n    }\n    \n    @PostMapping(&quot;/products&quot;)\n    public Product createProduct(@RequestBody Product product) {\n        return productService.createProduct(product);\n    }\n    \n    @GetMapping(&quot;/products&quot;)\n    public List&lt;Product&gt; getAllProducts() {\n        return productService.getAllProducts();\n    }\n    \n}\n\n</code></pre>\n<p>Entity -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.entity;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Data\n@Table(name=&quot;products&quot;)\npublic class ProductEntity {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private long prodId;\n        \n    private String productName;\n    private int productPrice;\n    private String productDesc;\n    private String productData;\n    \n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public int getProductPrice() {\n        return productPrice;\n    }\n    public void setProductPrice(int productPrice) {\n        this.productPrice = productPrice;\n    }\n    public String getProductDesc() {\n        return productDesc;\n    }\n    public void setProductDesc(String productDesc) {\n        this.productDesc = productDesc;\n    }\n    public String getProductData() {\n        return productData;\n    }\n    public void setProductData(String productData) {\n        this.productData = productData;\n    }\n    public Long getProdId() {\n        // TODO Auto-generated method stub\n        return prodId;\n    }\n}\n\n</code></pre>\n<p>Service Interface -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.services;\n\nimport java.util.List;\n\nimport com.ecommerce.ecommerceappapi.model.Product;\n\npublic interface ProductService {\n    Product createProduct(Product product);\n    List&lt;Product&gt; getAllProducts();\n}\n\n</code></pre>\n<p>Service Implementation -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.services;\n\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Service;\n\nimport com.ecommerce.ecommerceappapi.entity.ProductEntity;\nimport com.ecommerce.ecommerceappapi.model.Product;\nimport com.ecommerce.ecommerceappapi.repository.ProductRepository;\n\n\n@Service\npublic class ProductServiceImpl implements ProductService {\n\n    private ProductRepository productRepository;\n    \n    public ProductServiceImpl(ProductRepository productRepository) {\n        super();\n        this.productRepository = productRepository;\n    }\n\n    @Override\n    public Product createProduct(Product product) {\n        // TODO Auto-generated method stub\n        ProductEntity productEntity = new ProductEntity();\n        BeanUtils.copyProperties(product, productEntity);\n        productRepository.save(productEntity);\n        return product;\n    }\n    \n    @Override\n    public List&lt;Product&gt; getAllProducts(){\n        \n        List&lt;ProductEntity&gt; productEntities =  productRepository.findAll();\n        \n        List&lt;Product&gt; products = productEntities.stream().map(product -&gt; new Product(\n                product.getProdId(), \n                product.getProductName(), \n                product.getProductPrice(),\n                product.getProductDesc()))\n                .collect(Collectors.toList());\n        \n        return products;\n        }\n\n\n}\n\n</code></pre>\n<p>Repository -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.ecommerce.ecommerceappapi.entity.ProductEntity;\n\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;ProductEntity, Long&gt; {\n\n}\n\n</code></pre>\n<p>Product -&gt;</p>\n<pre><code>package com.ecommerce.ecommerceappapi.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\n\n//import java.util.List;\nimport lombok.Data;\n\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Product {\n    private long prodId;\n    private String productName;\n    private int productPrice;\n    private String productDesc;\n    private String productData;\n    \n\n    \n    public Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\n        // TODO Auto-generated constructor stub;\n        return; \n    }\n    public long getProdId() {\n        return prodId;\n    }\n    public void setProdId(long prodId) {\n        this.prodId = prodId;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public int getProductPrice() {\n        return productPrice;\n    }\n    public void setProductPrice(int productPrice) {\n        this.productPrice = productPrice;\n    }\n    public String getProductDesc() {\n        return productDesc;\n    }\n    public void setProductDesc(String productDesc) {\n        this.productDesc = productDesc;\n    }\n    public String getProductData() {\n        return productData;\n    }\n    public void setProductData(String productData) {\n        this.productData = productData;\n    }\n    \n\n}\n\n</code></pre>\n<p>I figure the Product class is causing the issue as the method</p>\n<pre><code>public Product(Long prodId2, String productName2, int productPrice2, String productDesc2) {\n        // TODO Auto-generated constructor stub;\n        return; \n    }\n</code></pre>\n<p>does not return anything, otherwise I'm totally lost as to what might be the issue here.</p>\n"},{"tags":["java","multithreading","locking","wait","monitor"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1668678062,"post_id":74472772,"comment_id":131465890,"body_markdown":"Not the same lock - in your example you&#39;d want to invoke `wait()` (on the `this` object) since that is what the `synchronized` is locking.  And where is the notify - presumably somewhere in same class where `anzahlClients` is decremented?","body":"Not the same lock - in your example you&#39;d want to invoke <code>wait()</code> (on the <code>this</code> object) since that is what the <code>synchronized</code> is locking.  And where is the notify - presumably somewhere in same class where <code>anzahlClients</code> is decremented?"},{"owner":{"account_id":20012195,"reputation":21,"user_id":14669010,"display_name":"PaterGauting"},"score":0,"creation_date":1668768002,"post_id":74472772,"comment_id":131491805,"body_markdown":"@Gardener yes, the notify comes later. Your solution worked, thanks a lot. I didnt consider that invoking &#39;wait()&#39; on the client would apply to the lock of the client, not the lock of Server (the class where the above code is in). Thank you for clearing that up!","body":"@Gardener yes, the notify comes later. Your solution worked, thanks a lot. I didnt consider that invoking &#39;wait()&#39; on the client would apply to the lock of the client, not the lock of Server (the class where the above code is in). Thank you for clearing that up!"}],"answers":[{"tags":[],"owner":{"account_id":20012195,"reputation":21,"user_id":14669010,"display_name":"PaterGauting"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668768332,"creation_date":1668768332,"answer_id":74488472,"question_id":74472772,"body_markdown":"As @Gardener pointed out in the comments, calling `wait()` on the client doesn&#39;t work in this case, since the lock the thread would hold in that moment belongs to the Server object (the class the above code is in), not the client. That explains why the `IllegalMonitorStateException` is thrown.","title":"How can a thread attempt to call the wait() method in a monitor it doesnt own the lock of (thus throwing IllegalMonitorStateException)","body":"<p>As @Gardener pointed out in the comments, calling <code>wait()</code> on the client doesn't work in this case, since the lock the thread would hold in that moment belongs to the Server object (the class the above code is in), not the client. That explains why the <code>IllegalMonitorStateException</code> is thrown.</p>\n"}],"owner":{"account_id":20012195,"reputation":21,"user_id":14669010,"display_name":"PaterGauting"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668768332,"creation_date":1668676208,"question_id":74472772,"body_markdown":"To my understanding, the thread needs to own the lock to even enter the synchronized block with the wait() call. How is it possible that it does so without owning the lock?\r\n\r\n```\r\npublic synchronized void daten_ablegen(Client c) throws InterruptedException {\r\n        System.out.println(&quot;Client &quot; + c.ID + &quot; will Daten ablegen&quot;);\r\n\r\n        while (sicherungswunsch || (anzahlClients &gt;= maxClients)) {\r\n            System.out.println(c.ID + &quot; sleeps.&quot;);\r\n            c.wait();\r\n        }\r\n\r\n        anzahlClients++;\r\n\r\n        System.out.println(anzahlClients + &quot; Clients legen Daten ab.&quot;);\r\n    }\r\n```\r\n\r\nThe above code throws IllegalMonitorStateException when more than one thread tries to call daten_ablegen(). However I would expect a thread to either not enter the method or enter it WITH the lock acquired and then successfully go to sleep.\r\n\r\n(I can post the entire project that is my homework, I just dont want to add unecessary stuff)","title":"How can a thread attempt to call the wait() method in a monitor it doesnt own the lock of (thus throwing IllegalMonitorStateException)","body":"<p>To my understanding, the thread needs to own the lock to even enter the synchronized block with the wait() call. How is it possible that it does so without owning the lock?</p>\n<pre><code>public synchronized void daten_ablegen(Client c) throws InterruptedException {\n        System.out.println(&quot;Client &quot; + c.ID + &quot; will Daten ablegen&quot;);\n\n        while (sicherungswunsch || (anzahlClients &gt;= maxClients)) {\n            System.out.println(c.ID + &quot; sleeps.&quot;);\n            c.wait();\n        }\n\n        anzahlClients++;\n\n        System.out.println(anzahlClients + &quot; Clients legen Daten ab.&quot;);\n    }\n</code></pre>\n<p>The above code throws IllegalMonitorStateException when more than one thread tries to call daten_ablegen(). However I would expect a thread to either not enter the method or enter it WITH the lock acquired and then successfully go to sleep.</p>\n<p>(I can post the entire project that is my homework, I just dont want to add unecessary stuff)</p>\n"},{"tags":["java","validation"],"answers":[{"tags":[],"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668768097,"creation_date":1648825059,"answer_id":71708942,"question_id":71708758,"body_markdown":"For classes annotations, I use this:\r\n\r\n    @Documented\r\n    @Constraint(validatedBy = RestrictionsAreValidImpl.class)\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface RestrictionsAreValid {\r\n    \r\n        /**\r\n         * message for exceptional case.\r\n         *\r\n         * @return message\r\n         */\r\n        String message() default &quot;&quot;;\r\n    \r\n        /**\r\n         * Groups allow you to restrict the set of constraints applied during validation.\r\n         *\r\n         * @return arrays of group classes.\r\n         */\r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        /**\r\n         * Payloads can be used by clients of the Bean Validation API to assign custom payload objects to a constraint.\r\n         * This attribute is not used by the API itself.\r\n         *\r\n         * @return arrays of payload classes.\r\n         */\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n    public class RestrictionsAreValidImpl implements ConstraintValidator&lt;RestrictionsAreValid, MyDto&gt; {\r\n        @Override\r\n        public boolean isValid(MyDto myDto, ConstraintValidatorContext context) { \r\n         some code\r\n        } \r\n    }\r\n\r\nThan in DTO :\r\n\r\n    @RestrictionsAreValid\r\n    public class DTO{\r\n    }\r\n","title":"javax validation constraints annotations are ignoring during validation","body":"<p>For classes annotations, I use this:</p>\n<pre><code>@Documented\n@Constraint(validatedBy = RestrictionsAreValidImpl.class)\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface RestrictionsAreValid {\n\n    /**\n     * message for exceptional case.\n     *\n     * @return message\n     */\n    String message() default &quot;&quot;;\n\n    /**\n     * Groups allow you to restrict the set of constraints applied during validation.\n     *\n     * @return arrays of group classes.\n     */\n    Class&lt;?&gt;[] groups() default {};\n\n    /**\n     * Payloads can be used by clients of the Bean Validation API to assign custom payload objects to a constraint.\n     * This attribute is not used by the API itself.\n     *\n     * @return arrays of payload classes.\n     */\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class RestrictionsAreValidImpl implements ConstraintValidator&lt;RestrictionsAreValid, MyDto&gt; {\n    @Override\n    public boolean isValid(MyDto myDto, ConstraintValidatorContext context) { \n     some code\n    } \n}\n</code></pre>\n<p>Than in DTO :</p>\n<pre><code>@RestrictionsAreValid\npublic class DTO{\n}\n</code></pre>\n"}],"owner":{"account_id":13971674,"reputation":59,"user_id":10103160,"display_name":"KROGOT88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668768097,"creation_date":1648824319,"question_id":71708758,"body_markdown":"(It is used only in tests)\r\nI have dependencies (there are no spring or DI container)\r\n```\r\n    testCompile(&quot;javax.validation:validation-api:2.0.1.Final&quot;)\r\n    testCompile(&quot;org.hibernate.validator:hibernate-validator:6.0.13.Final&quot;)\r\n    testCompile(&quot;org.glassfish:javax.el:3.0.0&quot;)\r\n```\r\nand I can validate my data class via\r\n```\r\nValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\nValidator validator = factory.getValidator();\r\nviolations = validator.validate(myDto);\r\n```\r\nWhere myDto is\r\n```\r\n@RestrictionsAreValid\r\npublic class MyDto {    \r\n       @NotNull\r\n       @Positive\r\n       private Integer value;\r\n}\r\n```\r\nWhere\r\n```\r\n @Target(TYPE_USE)\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = RestrictionsAreValidImpl.class)\r\n    public @interface RestrictionsAreValid {    \r\n        String message() default &quot;&quot;;    \r\n        Class&lt;?&gt;[] groups() default {};    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n```\r\nWhere\r\n```\r\npublic class RestrictionsAreValidImpl implements ConstraintValidator&lt;RestrictionsAreValid, MyDto&gt; {\r\n    @Override\r\n    public boolean isValid(MyDto myDto, ConstraintValidatorContext context) { \r\n     some code\r\n    } \r\n}\r\n```\r\nin this validator all works perfect, but not any annotations `avax.validation.constraints.NotNull` or `javax.validation.constraints.Positive` on the field are working, they are simply ignored\r\n\r\nPlease any help. Resolved\r\n\r\nI am so sorry, my real case were nested dtos in each other, so only high level class validated, but not nested.\r\n```\r\n@RestrictionsAreValid\r\npublic class MyDto {    \r\n\r\n    @Valid //  this annotation solve problem, and so on deeper in stricture\r\n    private Map&lt;String, AnotherDto&gt; map;\r\n}\r\n```\r\nand it is `AnotherDto`  has annotated fields, that were not validated. When I added `@Valid` on `map` field it start work correct ","title":"javax validation constraints annotations are ignoring during validation","body":"<p>(It is used only in tests)\nI have dependencies (there are no spring or DI container)</p>\n<pre><code>    testCompile(&quot;javax.validation:validation-api:2.0.1.Final&quot;)\n    testCompile(&quot;org.hibernate.validator:hibernate-validator:6.0.13.Final&quot;)\n    testCompile(&quot;org.glassfish:javax.el:3.0.0&quot;)\n</code></pre>\n<p>and I can validate my data class via</p>\n<pre><code>ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\nValidator validator = factory.getValidator();\nviolations = validator.validate(myDto);\n</code></pre>\n<p>Where myDto is</p>\n<pre><code>@RestrictionsAreValid\npublic class MyDto {    \n       @NotNull\n       @Positive\n       private Integer value;\n}\n</code></pre>\n<p>Where</p>\n<pre><code> @Target(TYPE_USE)\n    @Retention(RUNTIME)\n    @Constraint(validatedBy = RestrictionsAreValidImpl.class)\n    public @interface RestrictionsAreValid {    \n        String message() default &quot;&quot;;    \n        Class&lt;?&gt;[] groups() default {};    \n        Class&lt;? extends Payload&gt;[] payload() default {};\n    }\n</code></pre>\n<p>Where</p>\n<pre><code>public class RestrictionsAreValidImpl implements ConstraintValidator&lt;RestrictionsAreValid, MyDto&gt; {\n    @Override\n    public boolean isValid(MyDto myDto, ConstraintValidatorContext context) { \n     some code\n    } \n}\n</code></pre>\n<p>in this validator all works perfect, but not any annotations <code>avax.validation.constraints.NotNull</code> or <code>javax.validation.constraints.Positive</code> on the field are working, they are simply ignored</p>\n<p>Please any help. Resolved</p>\n<p>I am so sorry, my real case were nested dtos in each other, so only high level class validated, but not nested.</p>\n<pre><code>@RestrictionsAreValid\npublic class MyDto {    \n\n    @Valid //  this annotation solve problem, and so on deeper in stricture\n    private Map&lt;String, AnotherDto&gt; map;\n}\n</code></pre>\n<p>and it is <code>AnotherDto</code>  has annotated fields, that were not validated. When I added <code>@Valid</code> on <code>map</code> field it start work correct</p>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":2058265,"reputation":14130,"user_id":1835470,"accept_rate":71,"display_name":"jave.web"},"score":0,"creation_date":1680776857,"post_id":74485654,"comment_id":133956834,"body_markdown":"You&#39;ve pretty much answered yourself here: `at jsonObject = (JSONObject) obj; when I pass a json array`, but I see a confusion from your side - let me clear something up - **`[]` \n IS a valid JSON** :-) it&#39;s not an object, but a valid JSON syntax :)","body":"You&#39;ve pretty much answered yourself here: <code>at jsonObject = (JSONObject) obj; when I pass a json array</code>, but I see a confusion from your side - let me clear something up - <b><code>[]</code>   IS a valid JSON</b> :-) it&#39;s not an object, but a valid JSON syntax :)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668754865,"creation_date":1668754865,"answer_id":74485965,"question_id":74485654,"body_markdown":"Your parser parses the part of JSON and probably returns a JSONArray, but you are casting it to JSONObject. Maybe you want to use something like\r\n\r\n    obj = parser.parse(new FileReader(&quot;path of json&quot;));\r\n    if (obj instanceof JSONObject) {\r\n        jsonObject = (JSONObject) obj;\r\n        String jsonString = jsonObject.toJSONString();\r\n        Map&lt;String, String&gt; body = new ObjectMapper().readValue(jsonString, HashMap.class);\r\n        response = RestAssuredExtension.PostOpsWithBody(url, body);\r\n    } else {\r\n        throw new Exception(&quot;We do not know how to handle non-objects like &quot; + obj.getClass().getName());\r\n        // replace this with list-handling code\r\n    }\r\n\r\nIf you want only one code fragment to handle both objects and lists, cast to [JsonStructure][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/json/JsonStructure.html","title":"Passing Array as a BODY in a POST request","body":"<p>Your parser parses the part of JSON and probably returns a JSONArray, but you are casting it to JSONObject. Maybe you want to use something like</p>\n<pre><code>obj = parser.parse(new FileReader(&quot;path of json&quot;));\nif (obj instanceof JSONObject) {\n    jsonObject = (JSONObject) obj;\n    String jsonString = jsonObject.toJSONString();\n    Map&lt;String, String&gt; body = new ObjectMapper().readValue(jsonString, HashMap.class);\n    response = RestAssuredExtension.PostOpsWithBody(url, body);\n} else {\n    throw new Exception(&quot;We do not know how to handle non-objects like &quot; + obj.getClass().getName());\n    // replace this with list-handling code\n}\n</code></pre>\n<p>If you want only one code fragment to handle both objects and lists, cast to <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonStructure.html\" rel=\"nofollow noreferrer\">JsonStructure</a>.</p>\n"},{"tags":[],"owner":{"account_id":25905376,"reputation":23,"user_id":19630533,"display_name":"Manan Girdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668767547,"creation_date":1668767547,"answer_id":74488297,"question_id":74485654,"body_markdown":"answering my own question as I found a solution\r\n\r\n    JSONArray array1 = new JSONArray();\r\n            data1.put(&quot;findingId&quot;, findingIdFinal);\r\n             data1.put(&quot;unsupressAfterDuration&quot;, &quot;1669968369043&quot;);\r\n             data1.put(&quot;developer&quot;,&quot;manan.girdhar@armorcode.io&quot;);\r\n             data1.put(&quot;kbIds&quot;,array1);\r\n             data1.put(&quot;ticketConfigurationId&quot;, jiraId);\r\n             data1.put(&quot;customFields&quot;,array1);\r\n            array.put(data1);\r\n            String jsonString = array.toString();\r\n            List&lt;Map&lt;String, String&gt;&gt; body = new ObjectMapper().readValue(jsonString, List.class);\r\n            response = RestAssuredExtension.PostOpsWithBodyWithArray(url, body);","title":"Passing Array as a BODY in a POST request","body":"<p>answering my own question as I found a solution</p>\n<pre><code>JSONArray array1 = new JSONArray();\n        data1.put(&quot;findingId&quot;, findingIdFinal);\n         data1.put(&quot;unsupressAfterDuration&quot;, &quot;1669968369043&quot;);\n         data1.put(&quot;developer&quot;,&quot;manan.girdhar@armorcode.io&quot;);\n         data1.put(&quot;kbIds&quot;,array1);\n         data1.put(&quot;ticketConfigurationId&quot;, jiraId);\n         data1.put(&quot;customFields&quot;,array1);\n        array.put(data1);\n        String jsonString = array.toString();\n        List&lt;Map&lt;String, String&gt;&gt; body = new ObjectMapper().readValue(jsonString, List.class);\n        response = RestAssuredExtension.PostOpsWithBodyWithArray(url, body);\n</code></pre>\n"}],"owner":{"account_id":25905376,"reputation":23,"user_id":19630533,"display_name":"Manan Girdhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1484,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668767547,"creation_date":1668752787,"question_id":74485654,"body_markdown":"I am kinda new to Rest assured testing, I have been dealing with diff. json and Api&#39;s.\r\nI know how to pass a json object as body for POST request but my code gives error when I try to pass a JSON Array as body for POST request can someone suggest me how to do it.\r\n\r\nThe code I have been using for json object is \r\n\r\n     obj = parser.parse(new FileReader(&quot;path of json&quot;));\r\n            jsonObject = (JSONObject) obj;\r\n            String jsonString = jsonObject.toJSONString();\r\n            Map&lt;String, String&gt; body = new ObjectMapper().readValue(jsonString, HashMap.class);\r\n            response = RestAssuredExtension.PostOpsWithBody(url, body);\r\n\r\nThis code gives class cast exception at \r\njsonObject = (JSONObject) obj; when I pass a json array.\r\n\r\nKindly help me with the same\r\nThis is the JSON Array\r\n\r\n    [\r\n        {\r\n        &quot;findingId&quot;: &quot;20177044&quot;,\r\n        &quot;unsupressAfterDuration&quot;: 1669968369043,\r\n        &quot;developer&quot;: &quot;manan.girdhar@armorcode.io&quot;,\r\n        &quot;kbIds&quot;: [],\r\n        &quot;ticketConfigurationId&quot;: &quot;3350&quot;,\r\n        &quot;customFields&quot;: []\r\n      }\r\n    ]\r\n\r\n","title":"Passing Array as a BODY in a POST request","body":"<p>I am kinda new to Rest assured testing, I have been dealing with diff. json and Api's.\nI know how to pass a json object as body for POST request but my code gives error when I try to pass a JSON Array as body for POST request can someone suggest me how to do it.</p>\n<p>The code I have been using for json object is</p>\n<pre><code> obj = parser.parse(new FileReader(&quot;path of json&quot;));\n        jsonObject = (JSONObject) obj;\n        String jsonString = jsonObject.toJSONString();\n        Map&lt;String, String&gt; body = new ObjectMapper().readValue(jsonString, HashMap.class);\n        response = RestAssuredExtension.PostOpsWithBody(url, body);\n</code></pre>\n<p>This code gives class cast exception at\njsonObject = (JSONObject) obj; when I pass a json array.</p>\n<p>Kindly help me with the same\nThis is the JSON Array</p>\n<pre><code>[\n    {\n    &quot;findingId&quot;: &quot;20177044&quot;,\n    &quot;unsupressAfterDuration&quot;: 1669968369043,\n    &quot;developer&quot;: &quot;manan.girdhar@armorcode.io&quot;,\n    &quot;kbIds&quot;: [],\n    &quot;ticketConfigurationId&quot;: &quot;3350&quot;,\n    &quot;customFields&quot;: []\n  }\n]\n</code></pre>\n"},{"tags":["java","java-8","jwt"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668766608,"creation_date":1668766608,"answer_id":74488113,"question_id":74486730,"body_markdown":"Java `PKCS8EncodedKeySpec` requires a key in PKCS8 format (and specifically PKCS8-clear); that&#39;s why the name says PKCS8. **That&#39;s not a PKCS8-format key** so it fails.\r\n\r\nTo read the key:\r\n\r\nIf you&#39;re generating the key with OpenSSL, as per the website you link (though on the previous page), the easiest way is to convert with OpenSSL:\r\n```\r\n$ cat ecprivate-sec1\r\n-----BEGIN EC PRIVATE KEY-----\r\nMHQCAQEEIBuSmY4MFZ938j0sno1nOICb0ScfIebC1O7DXkvf6UDMoAcGBSuBBAAK\r\noUQDQgAELAWORZuUv+lpO34bVoYHv6T3Gey+GtuHFB+TH1+l0tRKfKELHcmHlDOK\r\nebiIegDVhHd6jYx2yT1nOBddjDHCVw==\r\n-----END EC PRIVATE KEY-----\r\n$ openssl pkey &lt;ecprivate-sec1 &gt;ecprivate-pkcs8\r\n$ cat ecprivate-pkcs8\r\n-----BEGIN PRIVATE KEY-----\r\nMIGEAgEAMBAGByqGSM49AgEGBSuBBAAKBG0wawIBAQQgG5KZjgwVn3fyPSyejWc4\r\ngJvRJx8h5sLU7sNeS9/pQMyhRANCAAQsBY5Fm5S/6Wk7fhtWhge/pPcZ7L4a24cU\r\nH5MfX6XS1Ep8oQsdyYeUM4p5uIh6ANWEd3qNjHbJPWc4F12MMcJX\r\n-----END PRIVATE KEY-----\r\n```\r\n\r\nIf you have an ancient (0.9.x) version of OpenSSL, instead do `openssl pkcs8 -topk8 -nocrypt`. \r\n\r\nThat value, with the BEGIN/END lines removed and de-base64&#39;ed, will be accepted by Java.\r\n\r\nOr OpenSSL can generate this format directly; instead of `ecparam -name secp256k1 -genkey -noout ...` use:\r\n```sh\r\nopenssl genpkey -algorithm ec -pkeyopt ec_paramgen_curve:secp256k1 &gt;ecprivate-pkcs8\r\n# but see below\r\n```\r\n(Also you can use _either_ `ec -pubout` or `pkey -pubout` to get the public key, and the format OpenSSL uses for public key _is_, after de-PEM-ing, the &#39;X.509&#39; format Java wants.)\r\n\r\nAlternatively, if BouncyCastle is available _including_ bcpkix, _that_ can handle the &#39;traditional&#39; SEC1/rfc5915 format _in PEM_ directly. With your above EC_PRIVATE_KEY_STR value just do:\r\n```Java\r\nPrivateKey privkey = new JcaPEMKeyConverter().getKeyPair (\r\n    (PEMKeyPair) new PEMParser(new StringReader(EC_PRIVATE_KEY_STR)).readObject() \r\n    ).getPrivate();\r\n```\r\n(you can declare, and cast to, `ECPrivateKey` if you want but don&#39;t need to). \r\n\r\n**But that&#39;s still wrong.** \r\n\r\nI don&#39;t if anyone did quality control on that website, but [JWS ES256 uses ECDSA with P-256](https://datatracker.ietf.org/doc/html/rfc7518#section-3.1), the curve also known as secp256r1 and prime256v1, **NOT secp256k1** which is an entirely different and wrong curve. Instead when generating with OpenSSL you should specify either `P-256` or `prime256v1`. \r\n\r\nThe example they give using command-line `openssl` to sign doesn&#39;t catch this, because OpenSSL is a general purpose tool used for many things not just JOSE/JWS, and for some (other) things secp256k1 is correct. More surprising to me, jjwt -- at least the slightly old version I have -- also doesn&#39;t catch this. Nevertheless the result does not comply to the standard and will not be reliably accepted by other systems.\r\n","title":"Generate JWT token with ECDSA private key","body":"<p>Java <code>PKCS8EncodedKeySpec</code> requires a key in PKCS8 format (and specifically PKCS8-clear); that's why the name says PKCS8. <strong>That's not a PKCS8-format key</strong> so it fails.</p>\n<p>To read the key:</p>\n<p>If you're generating the key with OpenSSL, as per the website you link (though on the previous page), the easiest way is to convert with OpenSSL:</p>\n<pre><code>$ cat ecprivate-sec1\n-----BEGIN EC PRIVATE KEY-----\nMHQCAQEEIBuSmY4MFZ938j0sno1nOICb0ScfIebC1O7DXkvf6UDMoAcGBSuBBAAK\noUQDQgAELAWORZuUv+lpO34bVoYHv6T3Gey+GtuHFB+TH1+l0tRKfKELHcmHlDOK\nebiIegDVhHd6jYx2yT1nOBddjDHCVw==\n-----END EC PRIVATE KEY-----\n$ openssl pkey &lt;ecprivate-sec1 &gt;ecprivate-pkcs8\n$ cat ecprivate-pkcs8\n-----BEGIN PRIVATE KEY-----\nMIGEAgEAMBAGByqGSM49AgEGBSuBBAAKBG0wawIBAQQgG5KZjgwVn3fyPSyejWc4\ngJvRJx8h5sLU7sNeS9/pQMyhRANCAAQsBY5Fm5S/6Wk7fhtWhge/pPcZ7L4a24cU\nH5MfX6XS1Ep8oQsdyYeUM4p5uIh6ANWEd3qNjHbJPWc4F12MMcJX\n-----END PRIVATE KEY-----\n</code></pre>\n<p>If you have an ancient (0.9.x) version of OpenSSL, instead do <code>openssl pkcs8 -topk8 -nocrypt</code>.</p>\n<p>That value, with the BEGIN/END lines removed and de-base64'ed, will be accepted by Java.</p>\n<p>Or OpenSSL can generate this format directly; instead of <code>ecparam -name secp256k1 -genkey -noout ...</code> use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>openssl genpkey -algorithm ec -pkeyopt ec_paramgen_curve:secp256k1 &gt;ecprivate-pkcs8\n# but see below\n</code></pre>\n<p>(Also you can use <em>either</em> <code>ec -pubout</code> or <code>pkey -pubout</code> to get the public key, and the format OpenSSL uses for public key <em>is</em>, after de-PEM-ing, the 'X.509' format Java wants.)</p>\n<p>Alternatively, if BouncyCastle is available <em>including</em> bcpkix, <em>that</em> can handle the 'traditional' SEC1/rfc5915 format <em>in PEM</em> directly. With your above EC_PRIVATE_KEY_STR value just do:</p>\n<pre><code>PrivateKey privkey = new JcaPEMKeyConverter().getKeyPair (\n    (PEMKeyPair) new PEMParser(new StringReader(EC_PRIVATE_KEY_STR)).readObject() \n    ).getPrivate();\n</code></pre>\n<p>(you can declare, and cast to, <code>ECPrivateKey</code> if you want but don't need to).</p>\n<p><strong>But that's still wrong.</strong></p>\n<p>I don't if anyone did quality control on that website, but <a href=\"https://datatracker.ietf.org/doc/html/rfc7518#section-3.1\" rel=\"nofollow noreferrer\">JWS ES256 uses ECDSA with P-256</a>, the curve also known as secp256r1 and prime256v1, <strong>NOT secp256k1</strong> which is an entirely different and wrong curve. Instead when generating with OpenSSL you should specify either <code>P-256</code> or <code>prime256v1</code>.</p>\n<p>The example they give using command-line <code>openssl</code> to sign doesn't catch this, because OpenSSL is a general purpose tool used for many things not just JOSE/JWS, and for some (other) things secp256k1 is correct. More surprising to me, jjwt -- at least the slightly old version I have -- also doesn't catch this. Nevertheless the result does not comply to the standard and will not be reliably accepted by other systems.</p>\n"}],"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74488113,"answer_count":1,"score":1,"last_activity_date":1668767125,"creation_date":1668759560,"question_id":74486730,"body_markdown":"Trying to generate  signed JWT token  with EDCSA private jkey but getting errored out \r\n\r\nGenerate public and private key using link \r\n\r\nhttps://techdocs.akamai.com/iot-token-access-control/docs/generate-jwt-ecdsa-keys\r\n\r\n     private String doGenerateToken(Map&lt;String, Object&gt; claims, String subject)\r\n          throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        String EC_PRIVATE_KEY_STR = &quot;-----BEGIN EC PRIVATE KEY-----\\n&quot;\r\n            + &quot;MHQCAQEEIBuSmY4MFZ938j0sno1nOICb0ScfIebC1O7DXkvf6UDMoAcGBSuBBAAK\\n&quot;\r\n            + &quot;oUQDQgAELAWORZuUv+lpO34bVoYHv6T3Gey+GtuHFB+TH1+l0tRKfKELHcmHlDOK\\n&quot;\r\n            + &quot;ebiIegDVhHd6jYx2yT1nOBddjDHCVw==\\n&quot;\r\n            + &quot;-----END EC PRIVATE KEY-----\\n&quot;;\r\n        final KeyFactory keyPairGenerator = KeyFactory.getInstance(&quot;EC&quot;); // EC is ECDSA in Java\r\n        ECPrivateKey EC_PRIVATE_KEY = (ECPrivateKey) keyPairGenerator.generatePrivate(\r\n            new PKCS8EncodedKeySpec(\r\n                Base64.decodeBase64(removeEncapsulationBoundaries(EC_PRIVATE_KEY_STR))));\r\n    \r\n        var currentDateTime = new Date(System.currentTimeMillis());\r\n        final String jwt = Jwts.builder()\r\n            .setHeaderParam(&quot;kid&quot;, &quot;any&quot;)\r\n            .signWith(SignatureAlgorithm.ES256, EC_PRIVATE_KEY)\r\n            .compact();\r\n        return jwt;\r\n      }\r\n\r\nException :\r\n\r\n    Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     01\r\n\r\n","title":"Generate JWT token with ECDSA private key","body":"<p>Trying to generate  signed JWT token  with EDCSA private jkey but getting errored out</p>\n<p>Generate public and private key using link</p>\n<p><a href=\"https://techdocs.akamai.com/iot-token-access-control/docs/generate-jwt-ecdsa-keys\" rel=\"nofollow noreferrer\">https://techdocs.akamai.com/iot-token-access-control/docs/generate-jwt-ecdsa-keys</a></p>\n<pre><code> private String doGenerateToken(Map&lt;String, Object&gt; claims, String subject)\n      throws NoSuchAlgorithmException, InvalidKeySpecException {\n    Security.addProvider(new BouncyCastleProvider());\n    String EC_PRIVATE_KEY_STR = &quot;-----BEGIN EC PRIVATE KEY-----\\n&quot;\n        + &quot;MHQCAQEEIBuSmY4MFZ938j0sno1nOICb0ScfIebC1O7DXkvf6UDMoAcGBSuBBAAK\\n&quot;\n        + &quot;oUQDQgAELAWORZuUv+lpO34bVoYHv6T3Gey+GtuHFB+TH1+l0tRKfKELHcmHlDOK\\n&quot;\n        + &quot;ebiIegDVhHd6jYx2yT1nOBddjDHCVw==\\n&quot;\n        + &quot;-----END EC PRIVATE KEY-----\\n&quot;;\n    final KeyFactory keyPairGenerator = KeyFactory.getInstance(&quot;EC&quot;); // EC is ECDSA in Java\n    ECPrivateKey EC_PRIVATE_KEY = (ECPrivateKey) keyPairGenerator.generatePrivate(\n        new PKCS8EncodedKeySpec(\n            Base64.decodeBase64(removeEncapsulationBoundaries(EC_PRIVATE_KEY_STR))));\n\n    var currentDateTime = new Date(System.currentTimeMillis());\n    final String jwt = Jwts.builder()\n        .setHeaderParam(&quot;kid&quot;, &quot;any&quot;)\n        .signWith(SignatureAlgorithm.ES256, EC_PRIVATE_KEY)\n        .compact();\n    return jwt;\n  }\n</code></pre>\n<p>Exception :</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     01\n</code></pre>\n"},{"tags":["java","algorithm","sorting","quicksort"],"comments":[{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":1,"creation_date":1668764729,"post_id":74487603,"comment_id":131490674,"body_markdown":"Partition is O(n), but you&#39;ve missed an important trick in your code -- you only have to call `findMissingElement` once recursively because once you&#39;ve partitioned you can tell which &quot;half&quot; has a missing element by looking at the size of each of the partitions. For example, if 7 is missing from 1..10 and you&#39;ve partitioned with element &quot;5&quot; then you discover 4 smaller elements in the left partition (as expected; 1, 2, 3, 4), but only 4 elements larger than 5 (you&#39;d expect 5 if none were missing; 6, 7, 8, 9, 10). Thus you only need to search the right-hand partition.","body":"Partition is O(n), but you&#39;ve missed an important trick in your code -- you only have to call <code>findMissingElement</code> once recursively because once you&#39;ve partitioned you can tell which &quot;half&quot; has a missing element by looking at the size of each of the partitions. For example, if 7 is missing from 1..10 and you&#39;ve partitioned with element &quot;5&quot; then you discover 4 smaller elements in the left partition (as expected; 1, 2, 3, 4), but only 4 elements larger than 5 (you&#39;d expect 5 if none were missing; 6, 7, 8, 9, 10). Thus you only need to search the right-hand partition."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":3,"creation_date":1668764963,"post_id":74487603,"comment_id":131490745,"body_markdown":"A second thing you&#39;ve missed is that unlike regular quicksort (or quickselect), you can pick the pivot value directly without looking at any array elements. For example, if you start with 1..10, then pick the pivot 5 -- you know this will partition the array into near-halves. This insight is necessary to get &quot;O(n) at most&quot; -- or else you need a much more sophisticated pivot-picking approach to avoid O(n^2) worst-case with unlucky pivot choices.","body":"A second thing you&#39;ve missed is that unlike regular quicksort (or quickselect), you can pick the pivot value directly without looking at any array elements. For example, if you start with 1..10, then pick the pivot 5 -- you know this will partition the array into near-halves. This insight is necessary to get &quot;O(n) at most&quot; -- or else you need a much more sophisticated pivot-picking approach to avoid O(n^2) worst-case with unlucky pivot choices."},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1668766041,"post_id":74487603,"comment_id":131491103,"body_markdown":"What you implemented is not Hoare&#39;s partition, though it contains one ! At first sight, it does not have an O(N) behavior.","body":"What you implemented is not Hoare&#39;s partition, though it contains one ! At first sight, it does not have an O(N) behavior."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1668804425,"post_id":74487603,"comment_id":131503442,"body_markdown":"An aside: Java doesn&#39;t have pointers; a better name for your variables is `leftIndex` etc","body":"An aside: Java doesn&#39;t have pointers; a better name for your variables is <code>leftIndex</code> etc"}],"answers":[{"tags":[],"owner":{"display_name":"user1196549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668766842,"creation_date":1668766842,"answer_id":74488158,"question_id":74487603,"body_markdown":"The purpose of Hoare&#39;s partition is to move the small elements to the left and the large ones to the right, and this is done with respect to a pivot value*.\r\n\r\nWe can explain it like this, given an array to be processed:\r\n\r\n- look for a large element, coming from the left**;\r\n\r\n- look for a small element, coming from the right but not passing the large element that you found;\r\n\r\n- swap them.\r\n\r\nNow you have a shorter subarray where the partitioning condition is not guaranteed yet (it is guaranteed outside), and you can recurse on it. Recursion stops when the subarray is less than two elements long.\r\n\r\n\r\n----------\r\n*Contrary to a common belief, there is no need to process the pivot element in a special way; Hoare&#39;s partition will move it naturally.\r\n\r\n**A key ingredient of the algorithm is that you must always be able to find at least one small and at least one large element. This is why non-strict comparisons to the pivot value are mandated.\r\n\r\n","title":"What is the time complexity of Hoare&#39;s partitioning of the Quick Sort?","body":"<p>The purpose of Hoare's partition is to move the small elements to the left and the large ones to the right, and this is done with respect to a pivot value*.</p>\n<p>We can explain it like this, given an array to be processed:</p>\n<ul>\n<li><p>look for a large element, coming from the left**;</p>\n</li>\n<li><p>look for a small element, coming from the right but not passing the large element that you found;</p>\n</li>\n<li><p>swap them.</p>\n</li>\n</ul>\n<p>Now you have a shorter subarray where the partitioning condition is not guaranteed yet (it is guaranteed outside), and you can recurse on it. Recursion stops when the subarray is less than two elements long.</p>\n<hr />\n<p>*Contrary to a common belief, there is no need to process the pivot element in a special way; Hoare's partition will move it naturally.</p>\n<p>**A key ingredient of the algorithm is that you must always be able to find at least one small and at least one large element. This is why non-strict comparisons to the pivot value are mandated.</p>\n"}],"owner":{"account_id":18241171,"reputation":352,"user_id":20468293,"display_name":"Baran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668766842,"creation_date":1668764260,"question_id":74487603,"body_markdown":"For the algorithms course, I am asked to find the missing first element in an array consisting of sequential elements but shuffled in O(n). For example at first, the array is ``[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]``. Now randomly choose 7 and remove it. ``[1, 2, 3, 4, 5, 6, 8, 9, 10]``. Now shuffle the array ``[5, 3, 10, 9, 1, 6, 2, 4, 8]``. Now the algorithm should return 7.\r\n\r\nBut,\r\nthere are some restrictions to solve the problem:  \r\n* Algorithm must use and modify partitioning part of the quicksort and must use recursion\r\n* Must be O(n) at most\r\n\r\nI have managed to write the code and do these operations but I am not sure if I satisfied the conditions. I&#39;ve implemented the partitioning part as [Coding with John&#39;s video](https://www.youtube.com/watch?v=h8eyY7dIiN4&amp;t=634) does. But I failed to determine the time complexity of my code. \r\n\r\n````java\r\nstatic int findMissingElement(int[] array, int lowIndex, int highIndex) {\r\n\r\n        if (lowIndex &gt;= highIndex) {\r\n            return -1;\r\n        }\r\n\r\n        int pivot = array[highIndex];\r\n\r\n        int leftPointer = lowIndex;\r\n        int rightPointer = highIndex;\r\n\r\n        while (leftPointer &lt; rightPointer) {\r\n\r\n            while (array[leftPointer] &lt;= pivot &amp;&amp; leftPointer &lt; rightPointer) {\r\n                leftPointer++;\r\n            }\r\n\r\n            while (array[rightPointer] &gt;= pivot &amp;&amp; leftPointer &lt; rightPointer) {\r\n                rightPointer--;\r\n            }\r\n\r\n            swap(array, leftPointer, rightPointer);\r\n        }\r\n\r\n        // left pointer and right pointers are met. So swap the pivot with pointing\r\n        // element.\r\n        swap(array, leftPointer, highIndex);\r\n\r\n        if (leftPointer + 1 != array[leftPointer]) {\r\n            return leftPointer + 1;\r\n        }\r\n\r\n        int leftResult = findMissingElement(array, lowIndex, leftPointer - 1);\r\n\r\n        if (leftResult != -1) {\r\n            return leftResult;\r\n        }\r\n\r\n        int rightResult = findMissingElement(array, leftPointer + 1, highIndex);\r\n\r\n        if (rightResult != -1) {\r\n            return rightResult;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    private static void swap(int[] array, int index1, int index2) {\r\n        int temp = array[index1];\r\n        array[index1] = array[index2];\r\n        array[index2] = temp;\r\n    }\r\n````\r\n\r\nThe output is:\r\n````\r\nBefore: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\nAfter shuffling and removing one element : [5, 3, 10, 9, 1, 6, 2, 4, 8]\r\nResult: 7\r\n````\r\nas expected.","title":"What is the time complexity of Hoare&#39;s partitioning of the Quick Sort?","body":"<p>For the algorithms course, I am asked to find the missing first element in an array consisting of sequential elements but shuffled in O(n). For example at first, the array is <code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code>. Now randomly choose 7 and remove it. <code>[1, 2, 3, 4, 5, 6, 8, 9, 10]</code>. Now shuffle the array <code>[5, 3, 10, 9, 1, 6, 2, 4, 8]</code>. Now the algorithm should return 7.</p>\n<p>But,\nthere are some restrictions to solve the problem:</p>\n<ul>\n<li>Algorithm must use and modify partitioning part of the quicksort and must use recursion</li>\n<li>Must be O(n) at most</li>\n</ul>\n<p>I have managed to write the code and do these operations but I am not sure if I satisfied the conditions. I've implemented the partitioning part as <a href=\"https://www.youtube.com/watch?v=h8eyY7dIiN4&amp;t=634\" rel=\"nofollow noreferrer\">Coding with John's video</a> does. But I failed to determine the time complexity of my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int findMissingElement(int[] array, int lowIndex, int highIndex) {\n\n        if (lowIndex &gt;= highIndex) {\n            return -1;\n        }\n\n        int pivot = array[highIndex];\n\n        int leftPointer = lowIndex;\n        int rightPointer = highIndex;\n\n        while (leftPointer &lt; rightPointer) {\n\n            while (array[leftPointer] &lt;= pivot &amp;&amp; leftPointer &lt; rightPointer) {\n                leftPointer++;\n            }\n\n            while (array[rightPointer] &gt;= pivot &amp;&amp; leftPointer &lt; rightPointer) {\n                rightPointer--;\n            }\n\n            swap(array, leftPointer, rightPointer);\n        }\n\n        // left pointer and right pointers are met. So swap the pivot with pointing\n        // element.\n        swap(array, leftPointer, highIndex);\n\n        if (leftPointer + 1 != array[leftPointer]) {\n            return leftPointer + 1;\n        }\n\n        int leftResult = findMissingElement(array, lowIndex, leftPointer - 1);\n\n        if (leftResult != -1) {\n            return leftResult;\n        }\n\n        int rightResult = findMissingElement(array, leftPointer + 1, highIndex);\n\n        if (rightResult != -1) {\n            return rightResult;\n        }\n\n        return -1;\n    }\n\n    private static void swap(int[] array, int index1, int index2) {\n        int temp = array[index1];\n        array[index1] = array[index2];\n        array[index2] = temp;\n    }\n</code></pre>\n<p>The output is:</p>\n<pre><code>Before: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\nAfter shuffling and removing one element : [5, 3, 10, 9, 1, 6, 2, 4, 8]\nResult: 7\n</code></pre>\n<p>as expected.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1567515926,"post_id":57772342,"comment_id":101979767,"body_markdown":"Your test class isn&#39;t a configuration class so placing `@Bean` methods in there won&#39;t do a thing.","body":"Your test class isn&#39;t a configuration class so placing <code>@Bean</code> methods in there won&#39;t do a thing."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1567516229,"post_id":57772342,"comment_id":101979949,"body_markdown":"I tried to add `@Configuration` before the test class, but It doesn&#39;t work...","body":"I tried to add <code>@Configuration</code> before the test class, but It doesn&#39;t work..."},{"owner":{"account_id":7776824,"reputation":627,"user_id":5884670,"display_name":"ThreeDots"},"score":0,"creation_date":1567516438,"post_id":57772342,"comment_id":101980066,"body_markdown":"just create new configuration class (not in src, but in test folder) similar to `SomeSpringConfig` where you define your bean and then include it in `@SpringBootTest(classes = { SomeSpringConfig.class, AnotherConfig.class })`.","body":"just create new configuration class (not in src, but in test folder) similar to <code>SomeSpringConfig</code> where you define your bean and then include it in <code>@SpringBootTest(classes = { SomeSpringConfig.class, AnotherConfig.class })</code>."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1567516727,"post_id":57772342,"comment_id":101980218,"body_markdown":"Well it works, indeed (you can make an answer). But it seems quite too much to make a new config class especially when it is so simple to add a mocked bean. I am wrong?","body":"Well it works, indeed (you can make an answer). But it seems quite too much to make a new config class especially when it is so simple to add a mocked bean. I am wrong?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1567517427,"post_id":57772342,"comment_id":101980615,"body_markdown":"`@MockBean` is especiall for that, why would you want/need an `@Configuration` class for that?","body":"<code>@MockBean</code> is especiall for that, why would you want/need an <code>@Configuration</code> class for that?"},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1567517798,"post_id":57772342,"comment_id":101980823,"body_markdown":"No I want to add a real bean, not a mocked one. But I find it strange that it is easier to add a mocked bean than a real one. Spring being very mature, I would expect that either there is a good and simple way to add a real bean, or otherwise that there is a good reason not to do so which explains why it is not as easy.","body":"No I want to add a real bean, not a mocked one. But I find it strange that it is easier to add a mocked bean than a real one. Spring being very mature, I would expect that either there is a good and simple way to add a real bean, or otherwise that there is a good reason not to do so which explains why it is not as easy."}],"answers":[{"tags":[],"owner":{"account_id":14770777,"reputation":219,"user_id":10667317,"display_name":"Danylo Rosiichuk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567519251,"creation_date":1567519251,"answer_id":57773314,"question_id":57772342,"body_markdown":"Simply add the config as \r\n\r\n    @ContextHierarchy({\r\n        @ContextConfiguration(classes = SomeSpringConfig.class)\r\n    })","title":"How to add a bean in SpringBootTest","body":"<p>Simply add the config as </p>\n\n<pre><code>@ContextHierarchy({\n    @ContextConfiguration(classes = SomeSpringConfig.class)\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7776824,"reputation":627,"user_id":5884670,"display_name":"ThreeDots"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1567519958,"creation_date":1567519958,"answer_id":57773519,"question_id":57772342,"body_markdown":"Spring Test needs to know what configuration you are using (and hence where to scan for beans that it loads). To achieve what you want you have more options, the most basic ones are these two:\r\n\r\n 1. Create configuration class outside the test class that includes your bean\r\n\r\n        @Configuration\r\n        public class TestConfig {\r\n    \r\n            @Bean\r\n            public MyService monitoringService() {\r\n                return new MyService();\r\n            }\r\n        }\r\n\r\nand then add it to to test as configuration class `@SpringBootTest(classes = { SomeSpringConfig.class, TestConfig.class })`\r\n\r\nor\r\n\r\n 2. If you only need to use this configuration in this particular test, you can define it in static inner class\r\n\r\n        public class SomeSpringConfigTest {\r\n        \r\n            @Configuration\r\n            static class ContextConfiguration {\r\n        \r\n                @Bean\r\n                public MyService monitoringService() {\r\n                    return new MyService();\r\n                }\r\n            }\r\n        }\r\n\r\nthis will be automatically recognized and loaded by spring boot test","title":"How to add a bean in SpringBootTest","body":"<p>Spring Test needs to know what configuration you are using (and hence where to scan for beans that it loads). To achieve what you want you have more options, the most basic ones are these two:</p>\n\n<ol>\n<li><p>Create configuration class outside the test class that includes your bean</p>\n\n<pre><code>@Configuration\npublic class TestConfig {\n\n    @Bean\n    public MyService monitoringService() {\n        return new MyService();\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>and then add it to to test as configuration class <code>@SpringBootTest(classes = { SomeSpringConfig.class, TestConfig.class })</code></p>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li><p>If you only need to use this configuration in this particular test, you can define it in static inner class</p>\n\n<pre><code>public class SomeSpringConfigTest {\n\n    @Configuration\n    static class ContextConfiguration {\n\n        @Bean\n        public MyService monitoringService() {\n            return new MyService();\n        }\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>this will be automatically recognized and loaded by spring boot test</p>\n"},{"tags":[],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668766260,"creation_date":1668765888,"answer_id":74487959,"question_id":57772342,"body_markdown":"What i am using in this cases is ```@Import```:\r\n\r\n    @DataJpaTest(showSql = false)\r\n    //tests against the real data source defined in properties\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @Import(value = {PersistenceConfig.class, CustomDateTimeProvider.class})\r\n    class MessageRepositoryTest extends PostgresBaseTest {\r\n    ....\r\n\r\nHere i am using a pre configured &quot;test slice&quot;.\r\nIn this case a need to add my JpaAuditingConfig.\r\n\r\nBut why not just adding the other beans as you did with your ```SomeSpringConfig.class``` ?:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = { SomeSpringConfig.class, OtherBean.class })\r\n    public class SomeSpringConfigTest {\r\n    ...\r\n\r\nEverything listed in test will be injectable directly, all not declared must be added as mocks.","title":"How to add a bean in SpringBootTest","body":"<p>What i am using in this cases is <code>@Import</code>:</p>\n<pre><code>@DataJpaTest(showSql = false)\n//tests against the real data source defined in properties\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@Import(value = {PersistenceConfig.class, CustomDateTimeProvider.class})\nclass MessageRepositoryTest extends PostgresBaseTest {\n....\n</code></pre>\n<p>Here i am using a pre configured &quot;test slice&quot;.\nIn this case a need to add my JpaAuditingConfig.</p>\n<p>But why not just adding the other beans as you did with your <code>SomeSpringConfig.class</code> ?:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { SomeSpringConfig.class, OtherBean.class })\npublic class SomeSpringConfigTest {\n...\n</code></pre>\n<p>Everything listed in test will be injectable directly, all not declared must be added as mocks.</p>\n"}],"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20466,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":57773519,"answer_count":3,"score":17,"last_activity_date":1668766260,"creation_date":1567515760,"question_id":57772342,"body_markdown":"The question seems extremely simple, but strangely enough I didn&#39;t find a solution.\r\n\r\nMy question is about adding/declaring a bean in a `SpringBootTest`, not overriding one, nor mocking one using mockito.\r\n\r\nHere is what I got when trying the simplest implementation of my real need (but it doesn&#39;t work):\r\n\r\nSome service, bean, and config:\r\n\r\n    @Value // lombok\r\n    public class MyService {\r\n        private String name;\r\n    }\r\n\r\n-----\r\n\r\n    @Value // lombok\r\n    public class MyClass {\r\n        private MyService monitoring;\r\n    }\r\n\r\n-----------\r\n    @Configuration\r\n    public class SomeSpringConfig {\r\n    \r\n        @Bean\r\n        public MyClass makeMyClass(MyService monitoring){\r\n            return new MyClass(monitoring);\r\n        }\r\n    }\r\n\r\n---------\r\n\r\nThe test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = { SomeSpringConfig.class })\r\n    public class SomeSpringConfigTest {\r\n\r\n        private String testValue = &quot;testServiceName&quot;;\r\n    \r\n        // this bean is not used\r\n        @Bean\r\n        public MyService monitoringService(){ return new MyService(testValue); }\r\n    \r\n        // thus this bean cannot be constructed using SomeSpringConfig \r\n        @Autowired\r\n        public MyClass myClass;\r\n    \r\n        @Test\r\n        public void theTest(){\r\n            assert(myClass.getMonitoring().getName() == testValue);\r\n        }\r\n    }\r\n\r\nNow, if I replace the `@Bean public MyService monitoring(){ ... }` by `@MockBean public MyService monitoring;`, it works. I find it strange that I can easily mock a bean, but not simply provide it.\r\n\r\n =&gt; So how should I add a bean of my own for one test?\r\n\r\nEdit:\r\n\r\n - I think [ThreeDots&#39;s answer](https://stackoverflow.com/a/57773519/1206998) (create a config test class) is the general recommendation.\r\n - However, [Danylo&#39;s answer](https://stackoverflow.com/a/57773314/1206998) (use @ContextConfiguration) fit better to what I asked, i.e. add @Bean directly in the test class.","title":"How to add a bean in SpringBootTest","body":"<p>The question seems extremely simple, but strangely enough I didn't find a solution.</p>\n\n<p>My question is about adding/declaring a bean in a <code>SpringBootTest</code>, not overriding one, nor mocking one using mockito.</p>\n\n<p>Here is what I got when trying the simplest implementation of my real need (but it doesn't work):</p>\n\n<p>Some service, bean, and config:</p>\n\n<pre><code>@Value // lombok\npublic class MyService {\n    private String name;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Value // lombok\npublic class MyClass {\n    private MyService monitoring;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Configuration\npublic class SomeSpringConfig {\n\n    @Bean\n    public MyClass makeMyClass(MyService monitoring){\n        return new MyClass(monitoring);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The test:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { SomeSpringConfig.class })\npublic class SomeSpringConfigTest {\n\n    private String testValue = \"testServiceName\";\n\n    // this bean is not used\n    @Bean\n    public MyService monitoringService(){ return new MyService(testValue); }\n\n    // thus this bean cannot be constructed using SomeSpringConfig \n    @Autowired\n    public MyClass myClass;\n\n    @Test\n    public void theTest(){\n        assert(myClass.getMonitoring().getName() == testValue);\n    }\n}\n</code></pre>\n\n<p>Now, if I replace the <code>@Bean public MyService monitoring(){ ... }</code> by <code>@MockBean public MyService monitoring;</code>, it works. I find it strange that I can easily mock a bean, but not simply provide it.</p>\n\n<p>=> So how should I add a bean of my own for one test?</p>\n\n<p>Edit:</p>\n\n<ul>\n<li>I think <a href=\"https://stackoverflow.com/a/57773519/1206998\">ThreeDots's answer</a> (create a config test class) is the general recommendation.</li>\n<li>However, <a href=\"https://stackoverflow.com/a/57773314/1206998\">Danylo's answer</a> (use @ContextConfiguration) fit better to what I asked, i.e. add @Bean directly in the test class.</li>\n</ul>\n"},{"tags":["java","arrays","boolean"],"comments":[{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":2,"creation_date":1322156891,"post_id":8260881,"comment_id":10166814,"body_markdown":"if you **really** need a fast way to do that then you&#39;d be better storing your flags in an *int* or a *long* (or even a *long[]*) and do the &quot;math&quot; yourself.  Then you can check up to 32 or 64 values at once.  However I doubt that that particular spot of yours would prove to be a bottleneck.","body":"if you <b>really</b> need a fast way to do that then you&#39;d be better storing your flags in an <i>int</i> or a <i>long</i> (or even a <i>long[]</i>) and do the &quot;math&quot; yourself.  Then you can check up to 32 or 64 values at once.  However I doubt that that particular spot of yours would prove to be a bottleneck."},{"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"score":0,"creation_date":1322157003,"post_id":8260881,"comment_id":10166842,"body_markdown":"@donturner Do you mean fastest as in fast to compute, or fast as in fast to write (less code)?","body":"@donturner Do you mean fastest as in fast to compute, or fast as in fast to write (less code)?"},{"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"score":2,"creation_date":1322157133,"post_id":8260881,"comment_id":10166874,"body_markdown":"Many thanks for the quick responses. I meant fastest as in &#39;fastest to write&#39;, not to execute. Perhaps I should have said &#39;most elegant&#39;.","body":"Many thanks for the quick responses. I meant fastest as in &#39;fastest to write&#39;, not to execute. Perhaps I should have said &#39;most elegant&#39;."},{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":0,"creation_date":1542203265,"post_id":8260881,"comment_id":93483978,"body_markdown":"Loop and break when one doesnt. For speed, it would be better to use ints or hashmaps.","body":"Loop and break when one doesnt. For speed, it would be better to use ints or hashmaps."}],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1354513959,"creation_date":1322156592,"answer_id":8260897,"question_id":8260881,"body_markdown":"    public static boolean areAllTrue(boolean[] array)\r\n    {\r\n        for(boolean b : array) if(!b) return false;\r\n        return true;\r\n    }","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<pre><code>public static boolean areAllTrue(boolean[] array)\n{\n    for(boolean b : array) if(!b) return false;\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":892917,"reputation":41413,"user_id":930847,"accept_rate":100,"display_name":"Rich O&#39;Kelly"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1378963112,"creation_date":1322156777,"answer_id":8260926,"question_id":8260881,"body_markdown":"It depends how many times you&#39;re going to want to find this information, if more than once:\r\n\r\n    Set&lt;Boolean&gt; flags = new HashSet&lt;Boolean&gt;(myArray);\r\n    flags.contains(false);\r\n\r\nOtherwise a short circuited loop:\r\n    \r\n    for (i = 0; i &lt; myArray.length; i++) {\r\n      if (!myArray[i]) return false;\r\n    }\r\n    return true;\r\n","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>It depends how many times you're going to want to find this information, if more than once:</p>\n\n<pre><code>Set&lt;Boolean&gt; flags = new HashSet&lt;Boolean&gt;(myArray);\nflags.contains(false);\n</code></pre>\n\n<p>Otherwise a short circuited loop:</p>\n\n<pre><code>for (i = 0; i &lt; myArray.length; i++) {\n  if (!myArray[i]) return false;\n}\nreturn true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"down_vote_count":14,"up_vote_count":9,"is_accepted":false,"score":-5,"last_activity_date":1322157886,"creation_date":1322157886,"answer_id":8261070,"question_id":8260881,"body_markdown":"OK. This is the &quot;most elegant&quot; solution I could come up with on the fly:\r\n\r\n    boolean allTrue = !Arrays.toString(myArray).contains(&quot;f&quot;);\r\n\r\nHope that helps!","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>OK. This is the \"most elegant\" solution I could come up with on the fly:</p>\n\n<pre><code>boolean allTrue = !Arrays.toString(myArray).contains(\"f\");\n</code></pre>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322158900,"creation_date":1322158900,"answer_id":8261224,"question_id":8260881,"body_markdown":"This is probably not faster, and definitely not very readable. So, for the sake of colorful solutions...\r\n\r\n    int i = array.length()-1;\r\n    for(; i &gt; -1 &amp;&amp; array[i]; i--);\r\n    return i==-1","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>This is probably not faster, and definitely not very readable. So, for the sake of colorful solutions...</p>\n\n<pre><code>int i = array.length()-1;\nfor(; i &gt; -1 &amp;&amp; array[i]; i--);\nreturn i==-1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64220,"reputation":4513,"user_id":189699,"accept_rate":52,"display_name":"acorello"},"down_vote_count":6,"up_vote_count":100,"is_accepted":false,"score":94,"last_activity_date":1343139934,"creation_date":1343139934,"answer_id":11632995,"question_id":8260881,"body_markdown":"    Arrays.asList(myArray).contains(false)","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<pre><code>Arrays.asList(myArray).contains(false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1542203073,"creation_date":1370100524,"answer_id":16874283,"question_id":8260881,"body_markdown":"I can&#39;t believe there&#39;s no [`BitSet`](http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html) solution.\r\n\r\nA `BitSet` is an abstraction over a set of bits so we don&#39;t have to use `boolean[]` for more advanced interactions anymore, because it already contains most of the needed methods. It&#39;s also pretty fast in batch operations since it internally uses `long` values to store the bits and doesn&#39;t therefore check every bit separately like we do with `boolean[]`.\r\n\r\n    BitSet myBitSet = new BitSet(10);\r\n    // fills the bitset with ten true values\r\n    myBitSet.set(0, 10);\r\n\r\nFor your particular case, I&#39;d use [`cardinality()`](http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#cardinality%28%29):\r\n\r\n    if (myBitSet.cardinality() == myBitSet.size()) {\r\n        // do something, there are no false bits in the bitset\r\n    }\r\n\r\n---\r\n\r\nAnother alternative is using [Guava](https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/primitives/Booleans.html#contains-boolean:A-boolean-):\r\n\r\n    return Booleans.contains(myArray, true);","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>I can't believe there's no <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html\" rel=\"nofollow noreferrer\"><code>BitSet</code></a> solution.</p>\n\n<p>A <code>BitSet</code> is an abstraction over a set of bits so we don't have to use <code>boolean[]</code> for more advanced interactions anymore, because it already contains most of the needed methods. It's also pretty fast in batch operations since it internally uses <code>long</code> values to store the bits and doesn't therefore check every bit separately like we do with <code>boolean[]</code>.</p>\n\n<pre><code>BitSet myBitSet = new BitSet(10);\n// fills the bitset with ten true values\nmyBitSet.set(0, 10);\n</code></pre>\n\n<p>For your particular case, I'd use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#cardinality%28%29\" rel=\"nofollow noreferrer\"><code>cardinality()</code></a>:</p>\n\n<pre><code>if (myBitSet.cardinality() == myBitSet.size()) {\n    // do something, there are no false bits in the bitset\n}\n</code></pre>\n\n<hr>\n\n<p>Another alternative is using <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/primitives/Booleans.html#contains-boolean:A-boolean-\" rel=\"nofollow noreferrer\">Guava</a>:</p>\n\n<pre><code>return Booleans.contains(myArray, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2541237,"reputation":881,"user_id":2279924,"accept_rate":77,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387119049,"creation_date":1387118684,"answer_id":20595750,"question_id":8260881,"body_markdown":"    \r\n    boolean alltrue = true;\r\n    for(int i = 0; alltrue &amp;&amp; i&lt;booleanArray.length(); i++)\r\n       alltrue &amp;= booleanArray[i];\r\n\r\nI think this looks ok and behaves well...","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<pre><code>boolean alltrue = true;\nfor(int i = 0; alltrue &amp;&amp; i&lt;booleanArray.length(); i++)\n   alltrue &amp;= booleanArray[i];\n</code></pre>\n\n<p>I think this looks ok and behaves well...</p>\n"},{"tags":[],"owner":{"account_id":3313120,"reputation":1412,"user_id":2786064,"accept_rate":83,"display_name":"Kapil Sharma"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1480002462,"creation_date":1445616312,"answer_id":33306869,"question_id":8260881,"body_markdown":"In Java 8, you could do:\r\n\r\n    boolean isAllTrue = Arrays.asList(myArray).stream().allMatch(val -&gt; val == true);\r\n\r\nOr even shorter:\r\n\r\n    boolean isAllTrue = Arrays.stream(myArray).allMatch(Boolean::valueOf);\r\n\r\n**Note:**\r\nYou need `Boolean[]` for this solution to work. Because you can&#39;t have a primitives List.","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>In Java 8, you could do:</p>\n\n<pre><code>boolean isAllTrue = Arrays.asList(myArray).stream().allMatch(val -&gt; val == true);\n</code></pre>\n\n<p>Or even shorter:</p>\n\n<pre><code>boolean isAllTrue = Arrays.stream(myArray).allMatch(Boolean::valueOf);\n</code></pre>\n\n<p><strong>Note:</strong>\nYou need <code>Boolean[]</code> for this solution to work. Because you can't have a primitives List.</p>\n"},{"tags":[],"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488791827,"creation_date":1488791827,"answer_id":42621686,"question_id":8260881,"body_markdown":"You can check all value items are true or false by compare your array with the other boolean array via `Arrays.equal` method like below example : \r\n\r\n    private boolean isCheckedAnswer(List&lt;Answer&gt; array) {\r\n        boolean[] isSelectedChecks = new boolean[array.size()];\r\n        for (int i = 0; i &lt; array.size(); i++) {\r\n            isSelectedChecks[i] = array.get(i).isChecked();\r\n        }\r\n\r\n        boolean[] isAllFalse = new boolean[array.size()];\r\n        for (int i = 0; i &lt; array.size(); i++) {\r\n            isAllFalse[i] = false;\r\n        }\r\n\r\n        return !Arrays.equals(isSelectedChecks, isAllFalse);\r\n    }","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>You can check all value items are true or false by compare your array with the other boolean array via <code>Arrays.equal</code> method like below example : </p>\n\n<pre><code>private boolean isCheckedAnswer(List&lt;Answer&gt; array) {\n    boolean[] isSelectedChecks = new boolean[array.size()];\n    for (int i = 0; i &lt; array.size(); i++) {\n        isSelectedChecks[i] = array.get(i).isChecked();\n    }\n\n    boolean[] isAllFalse = new boolean[array.size()];\n    for (int i = 0; i &lt; array.size(); i++) {\n        isAllFalse[i] = false;\n    }\n\n    return !Arrays.equals(isSelectedChecks, isAllFalse);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1512169724,"creation_date":1512169724,"answer_id":47602762,"question_id":8260881,"body_markdown":"In Java 8+, you can create an `IntStream` in the range of `0` to `myArray.length` and check that all values are `true` in the corresponding (primitive) array with something like,\r\n\r\n    return IntStream.range(0, myArray.length).allMatch(i -&gt; myArray[i]);\r\n","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>In Java 8+, you can create an <code>IntStream</code> in the range of <code>0</code> to <code>myArray.length</code> and check that all values are <code>true</code> in the corresponding (primitive) array with something like,</p>\n\n<pre><code>return IntStream.range(0, myArray.length).allMatch(i -&gt; myArray[i]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1541775711,"creation_date":1541770950,"answer_id":53226864,"question_id":8260881,"body_markdown":"That line should be sufficient:\r\n\r\n[`BooleanUtils.and(boolean... array)`][1]\r\n\r\nbut to calm the link-only purists:\r\n\r\n&gt; Performs an and on a set of booleans.\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/BooleanUtils.html#and(boolean...)","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>That line should be sufficient:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/BooleanUtils.html#and(boolean...)\" rel=\"noreferrer\"><code>BooleanUtils.and(boolean... array)</code></a></p>\n\n<p>but to calm the link-only purists:</p>\n\n<blockquote>\n  <p>Performs an and on a set of booleans.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1139691,"reputation":1510,"user_id":1123946,"accept_rate":61,"display_name":"Javier"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651224117,"creation_date":1651224117,"answer_id":72055679,"question_id":8260881,"body_markdown":"Kotlin:\r\nif one elemnt is false then not all are selected\r\n```kotlin\r\nreturn list.filter { isGranted -&gt; isGranted.not() }.isNotEmpty()\r\n```","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>Kotlin:\nif one elemnt is false then not all are selected</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>return list.filter { isGranted -&gt; isGranted.not() }.isNotEmpty()\n</code></pre>\n"}],"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177691,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":8260897,"answer_count":12,"score":88,"last_activity_date":1668766203,"creation_date":1322156479,"question_id":8260881,"body_markdown":"I have a boolean array in java: \r\n\r\n    boolean[] myArray = new boolean[10];\r\n\r\nWhat&#39;s the most elegant way to check if all the values are true?","title":"What is the most elegant way to check if all values in a boolean array are true?","body":"<p>I have a boolean array in java: </p>\n\n<pre><code>boolean[] myArray = new boolean[10];\n</code></pre>\n\n<p>What's the most elegant way to check if all the values are true?</p>\n"},{"tags":["java","spring","spring-webclient","apache-httpasyncclient"],"comments":[{"owner":{"account_id":18599666,"reputation":97,"user_id":13554790,"display_name":"Ares"},"score":0,"creation_date":1689932317,"post_id":74488002,"comment_id":135286132,"body_markdown":"is it correct to use apache http client and not netty reactor http client or java 17 net.httpClient ?","body":"is it correct to use apache http client and not netty reactor http client or java 17 net.httpClient ?"},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1691487193,"post_id":74488002,"comment_id":135494983,"body_markdown":"@Ares Spring leaves it open which implementation to use underneath, therefore netty would be just another alternative. However I decided to use Apache.","body":"@Ares Spring leaves it open which implementation to use underneath, therefore netty would be just another alternative. However I decided to use Apache."}],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668766058,"creation_date":1668766058,"question_id":74488002,"body_markdown":"I am trying to figure out how to cache responses based on the Cache-Control (and related) headers with Spring WebClient. I am aware that caching and a reactive approach do not go naturally hand in hand and that one should use in memory caching.\r\n\r\nI see three option that are applicable:\r\n\r\n**Option 1**:\r\nProject Reactor provides various [`cache`][1] methods that can be applied on a Mono:\r\n\r\n    return webClient.get()\r\n            .uri(&quot;/hello&quot;)\r\n            .retrieve()\r\n            .bodyToMono(HelloWorld.class)\r\n            .cache(Duration.of(3600, ChronoUnit.SECONDS))\r\n            .block();\r\nAs the caching happens after the ResponseSpec is turned into the Mono of the entity I loose all information from the headers. There is the option to use `toEntity` instead:\r\n\r\n    return webClient.get()\r\n            .uri(&quot;/hello&quot;)\r\n            .retrieve()\r\n            .toEntity(HelloWorld.class)\r\n            .cache(Duration.of(3600, ChronoUnit.SECONDS))\r\n            .block().getBody();\r\nBut I cannot figure out how to access the ResponseEntity from within the cache method. Would something like this work?\r\n\r\n    return webClient.get()\r\n            .uri(&quot;/hello&quot;)\r\n            .retrieve()\r\n            .toEntity(HelloWorld.class)\r\n            .flatMap(response -&gt;\r\n                 Mono.just(response).cache(getTtlFromHeader(response.getHeaders()))\r\n            )\r\n            .block().getBody();\r\nBased on the JavaDoc of [`cache`][1] I gather:\r\n* ttlForValue - the TTL-generating Function invoked when source is valued: Should be cached as the response\r\n* ttlForError - the TTL-generating Function invoked when source is erroring: Should not be cached\r\n* ttlForEmpty - the TTL-generating Supplier invoked when source is empty: Nothing can be cached anyway\r\n\r\nWith any of the alternatives based on the Mono I do not have a handle to reevaluate if the cached response is still valid.\r\n\r\n**Option 2**:\r\nImplement the caching functionality through a filter. This means that the cached object is the Mono of the response instead of the response itself. While I have not tried this it seems to me that is not optimal, as the Mono is resolved after the first call, and would need to be resolved even when retrieved from the cache. It is also not that clear how to handle the need to reevaluate cached data. This leaves me with the impression, that while it is possible to achieve it through a filter it would be quite a complex one.\r\n\r\n**Option 3**:\r\nHandle the caching outside of the WebClient call. As in my case all calls invoke a blocking subscriber so that the surrounding logic is non-reactive, the caching could be handled with Spring caching given that the ResponseEntity is returned instead of just the response object.\r\n\r\nI dislike this idea as the ResponseEntity escapes the WebClient call and I want to encapsulate everything that is specific to the call in there.\r\n\r\n**Option 4**:\r\nAs I am using an Apache Async client as the underlying client connector I could switch from:\r\n\r\n    private CloseableHttpAsyncClient httpClient(int maxTotalConnections, int maxConnectionsPerRoute) {\r\n        return HttpAsyncClients.custom()\r\n                .setConnectionManager(connectionManager(maxTotalConnections, maxConnectionsPerRoute))\r\n                .disableCookieManagement()\r\n                .evictExpiredConnections()\r\n                .disableRedirectHandling()\r\n                .build();\r\n    }\r\nto\r\n\r\n    private CloseableHttpAsyncClient cachableHttpClient(int maxTotalConnections, int maxConnectionsPerRoute) {\r\n        CacheConfig cacheConfig = CacheConfig.DEFAULT;\r\n        return CachingHttpAsyncClients.custom()\r\n                .setCacheConfig(cacheConfig)\r\n                .setConnectionManager(connectionManager(maxTotalConnections, maxConnectionsPerRoute))\r\n                .disableCookieManagement()\r\n                .evictExpiredConnections()\r\n                .disableRedirectHandling()    \r\n                .build();\r\n    }\r\nProbably with a bit more looking into the CacheConfig.\r\nThis seems the best solution, however verifying that it works through automated tests will be very hard.\r\n\r\n&lt;hr&gt;\r\n\r\n* Are there other options that I overlooked?\r\n* What is the preferred way to do it?\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-reactor.core.scheduler.Scheduler-","title":"HTTP response caching with Spring WebClient","body":"<p>I am trying to figure out how to cache responses based on the Cache-Control (and related) headers with Spring WebClient. I am aware that caching and a reactive approach do not go naturally hand in hand and that one should use in memory caching.</p>\n<p>I see three option that are applicable:</p>\n<p><strong>Option 1</strong>:\nProject Reactor provides various <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-reactor.core.scheduler.Scheduler-\" rel=\"nofollow noreferrer\"><code>cache</code></a> methods that can be applied on a Mono:</p>\n<pre><code>return webClient.get()\n        .uri(&quot;/hello&quot;)\n        .retrieve()\n        .bodyToMono(HelloWorld.class)\n        .cache(Duration.of(3600, ChronoUnit.SECONDS))\n        .block();\n</code></pre>\n<p>As the caching happens after the ResponseSpec is turned into the Mono of the entity I loose all information from the headers. There is the option to use <code>toEntity</code> instead:</p>\n<pre><code>return webClient.get()\n        .uri(&quot;/hello&quot;)\n        .retrieve()\n        .toEntity(HelloWorld.class)\n        .cache(Duration.of(3600, ChronoUnit.SECONDS))\n        .block().getBody();\n</code></pre>\n<p>But I cannot figure out how to access the ResponseEntity from within the cache method. Would something like this work?</p>\n<pre><code>return webClient.get()\n        .uri(&quot;/hello&quot;)\n        .retrieve()\n        .toEntity(HelloWorld.class)\n        .flatMap(response -&gt;\n             Mono.just(response).cache(getTtlFromHeader(response.getHeaders()))\n        )\n        .block().getBody();\n</code></pre>\n<p>Based on the JavaDoc of <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-reactor.core.scheduler.Scheduler-\" rel=\"nofollow noreferrer\"><code>cache</code></a> I gather:</p>\n<ul>\n<li>ttlForValue - the TTL-generating Function invoked when source is valued: Should be cached as the response</li>\n<li>ttlForError - the TTL-generating Function invoked when source is erroring: Should not be cached</li>\n<li>ttlForEmpty - the TTL-generating Supplier invoked when source is empty: Nothing can be cached anyway</li>\n</ul>\n<p>With any of the alternatives based on the Mono I do not have a handle to reevaluate if the cached response is still valid.</p>\n<p><strong>Option 2</strong>:\nImplement the caching functionality through a filter. This means that the cached object is the Mono of the response instead of the response itself. While I have not tried this it seems to me that is not optimal, as the Mono is resolved after the first call, and would need to be resolved even when retrieved from the cache. It is also not that clear how to handle the need to reevaluate cached data. This leaves me with the impression, that while it is possible to achieve it through a filter it would be quite a complex one.</p>\n<p><strong>Option 3</strong>:\nHandle the caching outside of the WebClient call. As in my case all calls invoke a blocking subscriber so that the surrounding logic is non-reactive, the caching could be handled with Spring caching given that the ResponseEntity is returned instead of just the response object.</p>\n<p>I dislike this idea as the ResponseEntity escapes the WebClient call and I want to encapsulate everything that is specific to the call in there.</p>\n<p><strong>Option 4</strong>:\nAs I am using an Apache Async client as the underlying client connector I could switch from:</p>\n<pre><code>private CloseableHttpAsyncClient httpClient(int maxTotalConnections, int maxConnectionsPerRoute) {\n    return HttpAsyncClients.custom()\n            .setConnectionManager(connectionManager(maxTotalConnections, maxConnectionsPerRoute))\n            .disableCookieManagement()\n            .evictExpiredConnections()\n            .disableRedirectHandling()\n            .build();\n}\n</code></pre>\n<p>to</p>\n<pre><code>private CloseableHttpAsyncClient cachableHttpClient(int maxTotalConnections, int maxConnectionsPerRoute) {\n    CacheConfig cacheConfig = CacheConfig.DEFAULT;\n    return CachingHttpAsyncClients.custom()\n            .setCacheConfig(cacheConfig)\n            .setConnectionManager(connectionManager(maxTotalConnections, maxConnectionsPerRoute))\n            .disableCookieManagement()\n            .evictExpiredConnections()\n            .disableRedirectHandling()    \n            .build();\n}\n</code></pre>\n<p>Probably with a bit more looking into the CacheConfig.\nThis seems the best solution, however verifying that it works through automated tests will be very hard.</p>\n<hr>\n<ul>\n<li>Are there other options that I overlooked?</li>\n<li>What is the preferred way to do it?</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9119,"page":873,"page_size":100}
